name: Setup yarn config
description: Run yarn config commands so that @navikt/ packages are resolved from github package registry, with neccessary auth.
inputs:
  npmAuthToken:
    description: Token that has packages:read permission for the navikt organization.
    required: true

runs:
  using: composite
  steps:
    - name: Setup yarn config
      shell: bash
      run: |
        yarn config set npmScopes.navikt.npmRegistryServer "https://npm.pkg.github.com"
        yarn config set npmScopes.navikt.npmAlwaysAuth true
        yarn config set npmScopes.navikt.npmAuthToken ${{ inputs.npmAuthToken }}
