// TODO Fjern denne fila og heller legg aksjonspunkta på pakkene dei blir brukt i

export type OverstyringAksjonspunkter =
  | AksjonspunktKode.OVERSTYR_SOKNADSFRISTVILKAR
  | AksjonspunktKode.OVERSTYR_ADOPSJONSVILKAR
  | AksjonspunktKode.OVERSTYR_FODSELSVILKAR
  | AksjonspunktKode.OVERSTYR_MEDLEMSKAPSVILKAR
  | AksjonspunktKode.OVERSTYR_MEDLEMSKAPSVILKAR_FORUTGAENDE
  | AksjonspunktKode.OVERSTYR_LØPENDE_MEDLEMSKAPSVILKAR
  | AksjonspunktKode.OVERSTYRING_AV_ADOPSJONSVILKÅRET_FP
  | AksjonspunktKode.OVERSTYR_FODSELSVILKAR_FAR_MEDMOR
  | AksjonspunktKode.OVERSTYRING_AV_OPPTJENINGSVILKARET;

export enum AksjonspunktKode {
  TERMINBEKREFTELSE = '5001',
  AVKLAR_DEKNINGSGRAD = '5002',
  ADOPSJONSDOKUMENTAJON = '5004',
  OM_ADOPSJON_GJELDER_EKTEFELLES_BARN = '5005',
  OM_SOKER_ER_MANN_SOM_ADOPTERER_ALENE = '5006',
  SOKNADSFRISTVILKARET = '5007',
  OMSORGSOVERTAKELSE = '5008',
  MANUELL_VURDERING_AV_OMSORGSVILKARET = '5011',
  REGISTRER_PAPIRSOKNAD_ENGANGSSTONAD = '5012',
  MANUELL_VURDERING_AV_FORELDREANSVARSVILKARET_2_LEDD = '5013',
  MANUELL_VURDERING_AV_FORELDREANSVARSVILKARET_4_LEDD = '5014',
  FORESLA_VEDTAK = '5015',
  FATTER_VEDTAK = '5016',
  SOKERS_OPPLYSNINGSPLIKT_MANU = '5017',
  AVKLAR_LOVLIG_OPPHOLD = '5019',
  AVKLAR_OM_BRUKER_ER_BOSATT = '5020',
  AVKLAR_OM_BRUKER_HAR_GYLDIG_PERIODE = '5021',
  AVKLAR_OPPHOLDSRETT = '5023',
  VURDER_MEDLEMSKAPSVILKÅRET = '5101',
  VURDER_FORUTGÅENDE_MEDLEMSKAPSVILKÅR = '5102',
  VARSEL_REVURDERING_ETTERKONTROLL = '5025', // Utgått, brukes i historikk
  VARSEL_REVURDERING_MANUELL = '5026',
  SJEKK_MANGLENDE_FODSEL = '5027',
  FORESLA_VEDTAK_MANUELT = '5028',
  KONTROLLER_STOR_ETTERBETALING_SØKER = '5029',
  AVKLAR_VERGE = '5030',
  AVKLAR_OM_STONAD_GJELDER_SAMME_BARN = '5031',
  AVKLAR_OM_STONAD_TIL_ANNEN_FORELDER_GJELDER_SAMME_BARN = '5032',
  VURDERE_ANNEN_YTELSE = '5033',
  VURDERE_DOKUMENT = '5034',
  VURDERE_INNTEKTSMELDING_KLAGE = '5003',
  BEHANDLE_KLAGE_NFP = '5035',
  BEHANDLE_KLAGE_NK = '5036', // Utgått, fjerne bruk i panel?
  VURDER_INNSYN = '5037',
  REGISTRER_PAPIRSOKNAD_FORELDREPENGER = '5040',
  VURDER_ARBEIDSFORHOLD_PERMISJON = '5041',
  VURDER_SOKNADSFRIST_FORELDREPENGER = '5043',
  KONTROLLER_AUTOMATISK_BESTEBEREGNING = '5048', // Utgått, brukes i visning?
  VURDER_PERIODER_MED_OPPTJENING = '5051',
  AVKLAR_FORTSATT_MEDLEMSKAP = '5053',
  AVKLAR_VILKAR_FOR_FORELDREANSVAR = '5054',
  KONTROLLER_REVURDERINGSBEHANDLING_VARSEL_VED_UGUNST = '5055',
  KONTROLL_AV_MAUNELT_OPPRETTET_REVURDERINGSBEHANDLING = '5056',
  REGISTRER_PAPIR_ENDRINGSØKNAD_FORELDREPENGER = '5057',
  REGISTRER_PAPIRSOKNAD_SVANGERSKAPSPENGER = '5096',
  MANUELL_KONTROLL_AV_OM_BRUKER_HAR_ALENEOMSORG = '5060',
  MANUELL_KONTROLL_AV_OM_BRUKER_HAR_OMSORG = '5061',
  MANUELL_KONTROLL_AV_BESTEBEREGNING = '5062',
  FAKTA_UTTAK_GRADERING_UKJENT_AKTIVITET_KODE = '5063',
  FAKTA_UTTAK_INGEN_PERIODER_KODE = '5064',
  FAKTA_UTTAK_MANUELT_SATT_STARTDATO_ULIK_SØKNAD_STARTDATO_KODE = '5065',
  FAKTA_UTTAK_GRADERING_AKTIVITET_UTEN_BEREGNINGSGRUNNLAG_KODE = '5066',
  TETTE_SAKER = '5067',
  AUTOMATISK_MARKERING_AV_UTENLANDSSAK = '5068',
  ANNENPART_EØS = '5069',
  FASTSETT_UTTAKPERIODER = '5071',
  TILKNYTTET_STORTINGET = '5072',
  KONTROLLER_REALITETSBEHANDLING_ELLER_KLAGE = '5073',
  VURDER_UTTAK_DOKUMENTASJON = '5074',
  KONTROLLER_OPPLYSNINGER_OM_FORDELING_AV_STØNADSPERIODEN = '5075', // Utgått, brukes i historikk + totrinn
  KONTROLLER_OPPLYSNINGER_OM_DØD = '5076',
  KONTROLLER_OPPLYSNINGER_OM_SØKNADSFRIST = '5077',
  KONTROLLER_TILSTØTENDE_YTELSER_INNVILGET = '5078', // Utgått, brukes i historikk
  KONTROLLER_TILSTØTENDE_YTELSER_OPPHØRT = '5079', // Utgått, brukes i historikk
  VURDERING_AV_FORMKRAV_KLAGE_NFP = '5082',
  VURDER_FORMKRAV_NK = '5083', // Utgått, brukes i visning?
  VURDER_FEILUTBETALING = '5084',
  VURDER_ARBEIDSFORHOLD_INNTEKTSMELDING = '5085',
  AVKLAR_ANNEN_FORELDER_RETT = '5086',
  SOKERS_OPPLYSNINGSPLIKT_OVST = '6002',
  OVERSTYR_FODSELSVILKAR = '6003',
  OVERSTYR_ADOPSJONSVILKAR = '6004',
  OVERSTYR_MEDLEMSKAPSVILKAR = '6005',
  OVERSTYR_MEDLEMSKAPSVILKAR_FORUTGAENDE = '6017',
  OVERSTYR_SOKNADSFRISTVILKAR = '6006',
  OVERSTYRING_AV_UTTAKPERIODER = '6008',
  OVERSTYR_FODSELSVILKAR_FAR_MEDMOR = '6009',
  OVERSTYRING_AV_ADOPSJONSVILKÅRET_FP = '6010',
  OVERSTYRING_AV_OPPTJENINGSVILKARET = '6011',
  OVERSTYR_DEKNINGSGRAD = '6016',
  VURDER_OPPTJENINGSVILKARET = '5089',
  OVERSTYR_LØPENDE_MEDLEMSKAPSVILKAR = '6012',
  OVERSTYR_AVKLAR_STARTDATO = '6045',
  OVERSTYR_FAKTA_UTTAK = '6065',
  AUTO_MANUELT_SATT_PÅ_VENT = '7001',
  AUTO_VENT_PÅ_FODSELREGISTRERING = '7002',
  AUTO_VENTER_PÅ_KOMPLETT_SOKNAD = '7003',
  AUTO_VENT_GRADERING_UTEN_BEREGNINGSGRUNNLAG = '7019', // Utgått og ikke i bruk
  AUTO_VENT_ANKE_OVERSENDT_TIL_TRYGDERETTEN = '7033',
  FODSELTILRETTELEGGING = '5091',
  SVANGERSKAPSVILKARET = '5092',
  VURDER_FARESIGNALER = '5095',
  FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS = '5038',
  VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE = '5039',
  FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE = '5042', // Utgått brukes i historikk+totrinn
  FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD = '5047',
  FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET = '5049',
  VURDER_GRADERING_UTEN_BEREGNINGSGRUNNLAG = '5050', // Utgått brukes i totrinn
  VURDER_FAKTA_FOR_ATFL_SN = '5058',
  AVKLAR_AKTIVITETER = '5052',
  OVERSTYRING_AV_BEREGNINGSAKTIVITETER = '6014',
  OVERSTYRING_AV_BEREGNINGSGRUNNLAG = '6015',
  FORDEL_BEREGNINGSGRUNNLAG = '5046',
  VURDER_REFUSJON_BERGRUNN = '5059',
  AVKLAR_ARBEIDSFORHOLD = '5080', // Utgått, brukes kun til å vise tidligere løst aksjonspunkt
  VURDER_TILBAKETREKK = '5090', // Utgått, brukes kun til å vise tidligere løst aksjonspunkt
}

const uttakAksjonspunkter = [
  AksjonspunktKode.OVERSTYRING_AV_UTTAKPERIODER,
  AksjonspunktKode.FASTSETT_UTTAKPERIODER,
  AksjonspunktKode.TILKNYTTET_STORTINGET,
  AksjonspunktKode.TETTE_SAKER,
  AksjonspunktKode.ANNENPART_EØS,
  AksjonspunktKode.KONTROLLER_REALITETSBEHANDLING_ELLER_KLAGE,
  AksjonspunktKode.KONTROLLER_OPPLYSNINGER_OM_FORDELING_AV_STØNADSPERIODEN,
  AksjonspunktKode.KONTROLLER_OPPLYSNINGER_OM_DØD,
  AksjonspunktKode.KONTROLLER_OPPLYSNINGER_OM_SØKNADSFRIST,
  AksjonspunktKode.KONTROLLER_TILSTØTENDE_YTELSER_INNVILGET,
  AksjonspunktKode.KONTROLLER_TILSTØTENDE_YTELSER_OPPHØRT,
];

const faktaUttakAksjonspunkter = [
  AksjonspunktKode.OVERSTYR_FAKTA_UTTAK,
  AksjonspunktKode.FAKTA_UTTAK_GRADERING_UKJENT_AKTIVITET_KODE,
  AksjonspunktKode.FAKTA_UTTAK_INGEN_PERIODER_KODE,
  AksjonspunktKode.FAKTA_UTTAK_MANUELT_SATT_STARTDATO_ULIK_SØKNAD_STARTDATO_KODE,
  AksjonspunktKode.FAKTA_UTTAK_GRADERING_AKTIVITET_UTEN_BEREGNINGSGRUNNLAG_KODE,
];

const aksjonspunktIsOfType =
  (validAksjonspunktCodes: string[]) =>
  (aksjonspunktCode: string): boolean =>
    validAksjonspunktCodes.includes(aksjonspunktCode);

type Aksjonspunkt = Readonly<{
  definisjon: string;
  status: string;
  begrunnelse: string | null;
  vilkarType?: string | null;
  toTrinnsBehandling?: boolean;
  toTrinnsBehandlingGodkjent?: boolean | null;
  vurderPaNyttArsaker?: string[] | null;
  besluttersBegrunnelse?: string | null;
  aksjonspunktType?: string;
  kanLoses: boolean;
  endretAv?: string | null;
  endretTidspunkt?: string | null;
}>;

export const hasAksjonspunkt = (aksjonspunktKode: string, aksjonspunkter: Aksjonspunkt[]): boolean =>
  aksjonspunkter.some(ap => ap.definisjon === aksjonspunktKode);

export const isUttakAksjonspunkt = aksjonspunktIsOfType(uttakAksjonspunkter);

export const isFaktaUttakAksjonspunkt = aksjonspunktIsOfType(faktaUttakAksjonspunkter);
