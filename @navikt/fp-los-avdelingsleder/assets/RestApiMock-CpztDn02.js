import{j as y}from"./jsx-runtime-QvZ8i92b.js";import{a as Y,b as z,c as K}from"./useRestApiRunner-c-Q2a7zB.js";import{a as Q,g as X,r as h}from"./index-uubelm5h.js";import{c as j}from"./fplosRestApi-1yojVYCb.js";import{F as Z}from"./nb_NO-BE-Qr1m0.js";var A={exports:{}};const{Axios:ee,AxiosError:re,CanceledError:te,isCancel:ne,CancelToken:ae,VERSION:se,all:ie,Cancel:oe,isAxiosError:ue,spread:fe,toFormData:le,AxiosHeaders:ce,HttpStatusCode:de,formToJSON:pe,getAdapter:ye,mergeConfig:he}=j,me=Object.freeze(Object.defineProperty({__proto__:null,Axios:ee,AxiosError:re,AxiosHeaders:ce,Cancel:oe,CancelToken:ae,CanceledError:te,HttpStatusCode:de,VERSION:se,all:ie,default:j,formToJSON:pe,getAdapter:ye,isAxiosError:ue,isCancel:ne,mergeConfig:he,spread:fe,toFormData:le},Symbol.toStringTag,{value:"Module"})),ge=Q(me);var ve=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=n;a--!==0;){var o=i[a];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r};/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Ee=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};/*!
 * MIT License
 *
 * Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (https://sindresorhus.com)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated
 * documentation files (the "Software"), to deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit
 * persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the
 * Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
 * WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
 * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */function Re(e){return typeof Blob>"u"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"}var be=Re,S=ge,q=ve,Oe=Ee,ke=be,B=Object.prototype.toString;function L(e,t){for(var r=e.length,n=0;n<r;n++){var a=e[n];if(t(a))return a}}function P(e){return B.call(e)==="[object Function]"}function U(e){return e!==null&&typeof e=="object"}function Ae(e){return U(e)&&P(e.pipe)}function xe(e){return B.call(e)==="[object ArrayBuffer]"}function M(e,t){return e?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):t}function Ne(e,t,r,n,a,i,o){return L(e[t.toLowerCase()],function(s){var l=!1;return typeof s[0]=="string"?l=T(r,s[0])||T(M(o,r),s[0]):s[0]instanceof RegExp&&(l=s[0].test(r)||s[0].test(M(o,r))),l&&D(n,a,s[1])&&x(i,s[2])})}function T(e,t){var r=e[0]==="/"?e.substr(1):e,n=t[0]==="/"?t.substr(1):t;return r===n}function D(e,t,r){return x(t,r&&r.params)&&Se(e,r&&r.data)}function x(e,t){return t===void 0?!0:typeof t.asymmetricMatch=="function"?t.asymmetricMatch(e):q(e,t)}function Se(e,t){if(t===void 0)return!0;var r;try{r=JSON.parse(e)}catch{}return x(r||e,t)}function Me(e,t){Object.keys(e.handlers).forEach(function(r){var n=e.handlers[r].indexOf(t);n>-1&&e.handlers[r].splice(n,1)})}function I(e,t,r,n){if(n>0){setTimeout(I,n,e,t,r);return}!r.config.validateStatus||r.config.validateStatus(r.status)?e(r):t(F("Request failed with status code "+r.status,r.config,r))}function F(e,t,r,n){if(typeof S.AxiosError=="function")return S.AxiosError.from(new Error(e),n,t,null,r);var a=new Error(e);return a.isAxiosError=!0,a.config=t,r!==void 0&&(a.response=r),n!==void 0&&(a.code=n),a.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},a}function Te(e){var t=`Could not find mock for: 
`+JSON.stringify({method:e.method,url:e.url,params:e.params,headers:e.headers},null,2),r=new Error(t);return r.isCouldNotFindMockError=!0,r.url=e.url,r.method=e.method,r}var _={find:L,findHandler:Ne,purgeIfReplyOnce:Me,settle:I,isStream:Ae,isArrayBuffer:xe,isFunction:P,isObjectOrArray:U,isBuffer:Oe,isBlob:ke,isBodyOrParametersMatching:D,isEqual:q,createAxiosError:F,createCouldNotFindMockError:Te},c=_;function we(e){return c.isArrayBuffer(e)||c.isBuffer(e)||c.isStream(e)||c.isBlob(e)?e:c.isObjectOrArray(e)?JSON.parse(JSON.stringify(e)):e}function v(e,t){return{status:e[0],data:we(e[1]),headers:e[2],config:t,request:{responseURL:t.url}}}function w(e,t,r,n){var a=n.baseURL;if(n.baseURL&&!/^https?:/.test(n.baseURL)&&(a=void 0),typeof e.originalAdapter=="function")return e.originalAdapter(n).then(t,r);e.axiosInstanceWithoutInterceptors(Object.assign({},n,{baseURL:a,adapter:e.originalAdapter,transformRequest:[],transformResponse:[]})).then(t,r)}function Ce(e,t,r,n){var a=n.url||"";n.baseURL&&a.substr(0,n.baseURL.length)===n.baseURL&&(a=a.slice(n.baseURL.length)),delete n.adapter,e.history[n.method].push(n);var i=c.findHandler(e.handlers,n.method,a,n.data,n.params,n.headers&&n.headers.constructor.name==="AxiosHeaders"?Object.assign({},n.headers.toJSON()):n.headers,n.baseURL);if(i)if(i[6]===!0&&c.purgeIfReplyOnce(e,i),i.length===2)w(e,t,r,n);else if(typeof i[3]!="function")c.settle(t,r,v(i.slice(3),n),E(e,i));else{var o=i[3](n);typeof o.then!="function"?c.settle(t,r,v(o,n),E(e,i)):o.then(function(s){s.config&&s.status?c.settle(t,r,v([s.status,s.data,s.headers],s.config),0):c.settle(t,r,v(s,n),E(e,i))},function(s){e.delayResponse>0?setTimeout(function(){r(s)},E(e,i)):r(s)})}else switch(e.onNoMatch){case"passthrough":w(e,t,r,n);break;case"throwException":throw c.createCouldNotFindMockError(n);default:c.settle(t,r,{status:404,config:n},e.delayResponse)}}function E(e,t){var r=t[7];return typeof r=="number"?r:e.delayResponse}var je=Ce,qe=je,d=_,N=["get","post","head","delete","patch","put","options","list","link","unlink"];function Be(){return(function(e){var t=this;return new Promise(function(r,n){qe(t,r,n,e)})}).bind(this)}function H(){return N.reduce(function(e,t){return e[t]=[],e},{})}function $(){J.call(this),G.call(this)}function J(){this.handlers=H()}function G(){this.history=H()}function p(e,t){if($.call(this),e)this.axiosInstance=e,this.axiosInstanceWithoutInterceptors=e.create?e.create():void 0,this.originalAdapter=e.defaults.adapter,this.delayResponse=t&&t.delayResponse>0?t.delayResponse:null,this.onNoMatch=t&&t.onNoMatch||null,e.defaults.adapter=this.adapter.call(this);else throw new Error("Please provide an instance of axios to mock")}p.prototype.adapter=Be;p.prototype.restore=function(){this.axiosInstance&&(this.axiosInstance.defaults.adapter=this.originalAdapter,this.axiosInstance=void 0)};p.prototype.reset=$;p.prototype.resetHandlers=J;p.prototype.resetHistory=G;var Le=["any","get","delete","head","options"];function Pe(e,t,r){return Le.includes(e)?C(e,t||{}):C(e,Object.assign({},r,{data:t}))}var Ue=["headers","params","data"];function C(e,t){for(var r in t)if(!Ue.includes(r))throw new Error("Invalid config property "+JSON.stringify(r)+" provided to "+V(e)+". Config: "+JSON.stringify(t));return t}function V(e){return"on"+e.charAt(0).toUpperCase()+e.slice(1)}N.concat("any").forEach(function(e){p.prototype[V(e)]=function(i,r,n){var a=this,i=i===void 0?/.*/:i,o,s=Pe(e,r,n);function l(u,f,b){var O=[i,s,s.headers,u,f,b,!1,o];return k(e,a.handlers,O),a}function R(u){o=u;var f=g.reply.bind(g);return Object.assign(f,g),f}function m(u,f,b){var O=[i,s,s.headers,u,f,b,!0,o];return k(e,a.handlers,O),a}var g={reply:l,replyOnce:m,withDelayInMs:R,passThrough:function(){var f=[i,s];return k(e,a.handlers,f),a},abortRequest:function(){return l(function(u){var f=d.createAxiosError("Request aborted",u,void 0,"ECONNABORTED");return Promise.reject(f)})},abortRequestOnce:function(){return m(function(u){var f=d.createAxiosError("Request aborted",u,void 0,"ECONNABORTED");return Promise.reject(f)})},networkError:function(){return l(function(u){var f=d.createAxiosError("Network Error",u);return Promise.reject(f)})},networkErrorOnce:function(){return m(function(u){var f=d.createAxiosError("Network Error",u);return Promise.reject(f)})},timeout:function(){return l(function(u){var f=d.createAxiosError(u.timeoutErrorMessage||"timeout of "+u.timeout+"ms exceeded",u,void 0,u.transitional&&u.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED");return Promise.reject(f)})},timeoutOnce:function(){return m(function(u){var f=d.createAxiosError(u.timeoutErrorMessage||"timeout of "+u.timeout+"ms exceeded",u,void 0,u.transitional&&u.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED");return Promise.reject(f)})}};return g}});function De(e,t,r){for(var n=-1,a=0;a<t[e].length;a+=1){var i=t[e][a],o=i[6]===!0,s=i[0]instanceof RegExp&&r[0]instanceof RegExp?String(i[0])===String(r[0]):i[0]===r[0],l=s&&d.isEqual(i[1],r[1])&&d.isEqual(i[2],r[2]);l&&!o&&(n=a)}return n}function k(e,t,r){if(e==="any")N.forEach(function(a){t[a].push(r)});else{var n=De(e,t,r);n>-1&&r[6]!==!0?t[e].splice(n,1,r):t[e].push(r)}}A.exports=p;A.exports.default=p;var Ie=A.exports;const Fe=X(Ie),W=({children:e,data:t,requestApi:r,setApiMock:n=()=>{}})=>{const[a,i]=h.useState(!1);return h.useEffect(()=>{const o=new Fe(r.getAxios());return n(o),r.setLinks(t.filter(s=>!s.noRelLink).map(s=>{var l;return{href:s.key,rel:((l=r.endpointConfigList.find(R=>R.name===s.key))==null?void 0:l.rel)||"",type:"GET"}})),t.forEach(s=>{r.getRestType(s.key)==="GET"?o.onGet(r.getUrl(s.key)).reply(200,s.data):r.getRestType(s.key)==="GET_ASYNC"?o.onGet(r.getUrl(s.key)).replyOnce(200,s.data):r.getRestType(s.key)==="POST_ASYNC"?o.onPost(r.getUrl(s.key)).replyOnce(200,s.data):o.onPost(r.getUrl(s.key)).reply(200,s.data)}),i(!0),()=>{o.restore(),r.setLinks([]),r.resetCache()}},[]),a?e:y.jsx(Z,{})};W.__docgenInfo={description:"",methods:[],displayName:"AxiosMock",props:{requestApi:{required:!0,tsType:{name:"RequestApi"},description:""},children:{required:!0,tsType:{name:"any"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  key: string;
  data: any;
  noRelLink?: boolean;
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"data",value:{name:"any",required:!0}},{key:"noRelLink",value:{name:"boolean",required:!1}}]}}],raw:`{
  key: string;
  data: any;
  noRelLink?: boolean;
}[]`},description:""},setApiMock:{required:!1,tsType:{name:"signature",type:"function",raw:"(mockAdapter: MockAdapter) => void",signature:{arguments:[{type:{name:"MockAdapter"},name:"mockAdapter"}],return:{name:"void"}}},description:"",defaultValue:{value:"() => undefined",computed:!1}}}};const _e=({children:e,data:t})=>{const[r,n]=h.useState(!1),a=h.useContext(Y);return h.useEffect(()=>{if(a&&!r){const i=t.map(o=>()=>a({type:"success",key:o.key,data:o.data}));Promise.all(i.map(o=>o())).then(()=>n(!0))}},[r]),r?e:null},He=({children:e,data:t,requestApi:r,errors:n,setApiMock:a})=>y.jsx(z,{children:y.jsx(K,{initialState:n?{errors:n}:void 0,children:y.jsx(_e,{data:t.filter(i=>i.global),children:y.jsx(W,{data:t,requestApi:r,setApiMock:a,children:e})})})});He.__docgenInfo={description:"",methods:[],displayName:"RestApiMock",props:{children:{required:!0,tsType:{name:"any"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  key: string;
  global?: boolean;
  data: any;
  noRelLink?: boolean;
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"global",value:{name:"boolean",required:!1}},{key:"data",value:{name:"any",required:!0}},{key:"noRelLink",value:{name:"boolean",required:!1}}]}}],raw:`{
  key: string;
  global?: boolean;
  data: any;
  noRelLink?: boolean;
}[]`},description:""},requestApi:{required:!0,tsType:{name:"RequestApi"},description:""},errors:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  type: string;
  feilmelding: string;
}`,signature:{properties:[{key:"type",value:{name:"string",required:!0}},{key:"feilmelding",value:{name:"string",required:!0}}]}}],raw:`{
  type: string;
  feilmelding: string;
}[]`},description:""},setApiMock:{required:!1,tsType:{name:"signature",type:"function",raw:"(mockAdapter: MockAdapter) => void",signature:{arguments:[{type:{name:"MockAdapter"},name:"mockAdapter"}],return:{name:"void"}}},description:""}}};export{He as R};
