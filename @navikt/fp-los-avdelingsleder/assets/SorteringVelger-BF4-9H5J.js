import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{a as ie,A as H,P as ce,y as Ee,M as je}from"./index.es-BVHpyhNG.js";import{u as oe,D as T,M as N,e as Ne,b as Pe,B as Q}from"./nb_NO-CIXJMo3T.js";import{u as q}from"./useMutation-BLEd6qkH.js";import{u as Ke,K as Fe}from"./useLosKodeverk-DtRcZjmq.js";import{z as ye,L as f,c as Le,A as Ie,B as ke,V as me,C as Ge}from"./fplosAvdelingslederApi-BUTg1bnO.js";import{f as Z,p as ge}from"./index.es-CLSTaUCL.js";import{G as Se,X as fe}from"./index.es-CvfVxJ3M.js";import{u as z}from"./useDebounce-DygULU8A.js";import"./index-mMUbb89k.js";import{d as le}from"./dayjs.min-Cke173X9.js";import{g as Ye}from"./_commonjsHelpers-Cpj98o6Y.js";const qe="_dager_1u55p_1",we="_dagerMedBindestrek_1u55p_5",be="_dato_1u55p_19",Re="_arrowBoxWidth_1u55p_24",_={dager:qe,dagerMedBindestrek:we,beløp:"_beløp_1u55p_10",dato:be,arrowBoxWidth:Re},xe=({valgtSakslisteId:d,valgtAvdelingEnhet:m})=>{const g=oe(),{watch:l,trigger:o}=ie(),u=l("fra"),c=l("til"),{mutate:h}=q({mutationFn:p=>ye(d,p.fra,p.til,m),onSuccess:()=>{g.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),g.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),g.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),s=p=>h({fra:p,til:c}),S=p=>h({fra:u,til:p}),i=z("fra",s,o),k=z("til",S,o);return r.jsxs(Se,{children:[r.jsx(T,{children:r.jsx(N,{id:"SorteringVelger.FiltrerPaHeltall"})}),r.jsxs(Le,{gap:"4",children:[r.jsx(H,{name:"fra",className:_.dato,validate:[Z],onChange:i}),r.jsx(T,{className:_.beløp,children:r.jsx(N,{id:"SorteringVelger.Valuta"})}),r.jsx(H,{name:"til",className:_.dato,validate:[Z],onChange:k}),r.jsx(T,{className:_.beløp,children:r.jsx(N,{id:"SorteringVelger.Valuta"})})]})]})};xe.__docgenInfo={description:"",methods:[],displayName:"BelopSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""}}};var $={exports:{}},Oe=$.exports,he;function Be(){return he||(he=1,function(d,m){(function(g,l){d.exports=l()})(Oe,function(){var g={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},l=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d/,u=/\d\d/,c=/\d\d?/,h=/\d*[^-_:/,()\s\d]+/,s={},S=function(e){return(e=+e)+(e>68?1900:2e3)},i=function(e){return function(a){this[e]=+a}},k=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(a){if(!a||a==="Z")return 0;var n=a.match(/([+-]|\d\d)/g),t=60*n[1]+(+n[2]||0);return t===0?0:n[0]==="+"?-t:t}(e)}],p=function(e){var a=s[e];return a&&(a.indexOf?a:a.s.concat(a.f))},w=function(e,a){var n,t=s.meridiem;if(t){for(var x=1;x<=24;x+=1)if(e.indexOf(t(x,0,a))>-1){n=x>12;break}}else n=e===(a?"pm":"PM");return n},U={A:[h,function(e){this.afternoon=w(e,!1)}],a:[h,function(e){this.afternoon=w(e,!0)}],Q:[o,function(e){this.month=3*(e-1)+1}],S:[o,function(e){this.milliseconds=100*+e}],SS:[u,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[c,i("seconds")],ss:[c,i("seconds")],m:[c,i("minutes")],mm:[c,i("minutes")],H:[c,i("hours")],h:[c,i("hours")],HH:[c,i("hours")],hh:[c,i("hours")],D:[c,i("day")],DD:[u,i("day")],Do:[h,function(e){var a=s.ordinal,n=e.match(/\d+/);if(this.day=n[0],a)for(var t=1;t<=31;t+=1)a(t).replace(/\[|\]/g,"")===e&&(this.day=t)}],w:[c,i("week")],ww:[u,i("week")],M:[c,i("month")],MM:[u,i("month")],MMM:[h,function(e){var a=p("months"),n=(p("monthsShort")||a.map(function(t){return t.slice(0,3)})).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[h,function(e){var a=p("months").indexOf(e)+1;if(a<1)throw new Error;this.month=a%12||a}],Y:[/[+-]?\d+/,i("year")],YY:[u,function(e){this.year=S(e)}],YYYY:[/\d{4}/,i("year")],Z:k,ZZ:k};function W(e){var a,n;a=e,n=s&&s.formats;for(var t=(e=a.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(K,M,L){var y=L&&L.toUpperCase();return M||n[L]||g[L]||n[y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(E,j,F){return j||F.slice(1)})})).match(l),x=t.length,V=0;V<x;V+=1){var Y=t[V],P=U[Y],A=P&&P[0],v=P&&P[1];t[V]=v?{regex:A,parser:v}:Y.replace(/^\[|\]$/g,"")}return function(K){for(var M={},L=0,y=0;L<x;L+=1){var E=t[L];if(typeof E=="string")y+=E.length;else{var j=E.regex,F=E.parser,b=K.slice(y),G=j.exec(b)[0];F.call(M,G),K=K.replace(G,"")}}return function(I){var R=I.afternoon;if(R!==void 0){var D=I.hours;R?D<12&&(I.hours+=12):D===12&&(I.hours=0),delete I.afternoon}}(M),M}}return function(e,a,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(S=e.parseTwoDigitYear);var t=a.prototype,x=t.parse;t.parse=function(V){var Y=V.date,P=V.utc,A=V.args;this.$u=P;var v=A[1];if(typeof v=="string"){var K=A[2]===!0,M=A[3]===!0,L=K||M,y=A[2];M&&(y=A[2]),s=this.$locale(),!K&&y&&(s=n.Ls[y]),this.$d=function(b,G,I,R){try{if(["x","X"].indexOf(G)>-1)return new Date((G==="X"?1e3:1)*b);var D=W(G)(b),X=D.year,O=D.month,Ae=D.day,ve=D.hours,Te=D.minutes,_e=D.seconds,Me=D.milliseconds,de=D.zone,ue=D.week,J=new Date,ee=Ae||(X||O?1:J.getDate()),re=X||J.getFullYear(),B=0;X&&!O||(B=O>0?O-1:J.getMonth());var C,te=ve||0,ae=Te||0,se=_e||0,ne=Me||0;return de?new Date(Date.UTC(re,B,ee,te,ae,se,ne+60*de.offset*1e3)):I?new Date(Date.UTC(re,B,ee,te,ae,se,ne)):(C=new Date(re,B,ee,te,ae,se,ne),ue&&(C=R(C).week(ue).toDate()),C)}catch{return new Date("")}}(Y,v,P,n),this.init(),y&&y!==!0&&(this.$L=this.locale(y).$L),L&&Y!=this.format(v)&&(this.$d=new Date("")),s={}}else if(v instanceof Array)for(var E=v.length,j=1;j<=E;j+=1){A[1]=v[j-1];var F=n.apply(this,A);if(F.isValid()){this.$d=F.$d,this.$L=F.$L,this.init();break}j===E&&(this.$d=new Date(""))}else x.call(this,V)}}})}($)),$.exports}var Ce=Be();const Qe=Ye(Ce);le.extend(Qe);const Ve=({valgtSakslisteId:d,valgtAvdelingEnhet:m,erDynamiskPeriode:g})=>{const l=oe(),o=Ne(),{mutate:u}=q({mutationFn:t=>ye(d,t.fra,t.til,m),onSuccess:()=>{l.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),{mutate:c}=q({mutationFn:()=>Ie(d,m),onSuccess:()=>{l.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),{mutate:h}=q({mutationFn:t=>ke(d,m,t.fomDato,t.tomDato),onSuccess:()=>{l.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),{watch:s}=ie(),S=s("fra"),i=s("til"),k=s("fomDato"),p=s("tomDato"),w=t=>u({fra:t,til:i}),U=t=>u({fra:S,til:t}),W=De(h,!0,p),e=De(h,!1,k),a=z("fomDato",W),n=z("tomDato",e);return r.jsx("div",{className:_.arrowBoxWidth,children:r.jsx(Se,{children:r.jsxs(me,{gap:"2",children:[r.jsx(T,{children:r.jsx(N,{id:"SorteringVelger.FiltrerPaTidsintervall"})}),g&&r.jsxs(Le,{gap:"4",children:[r.jsxs("div",{children:[r.jsx(H,{name:"fra",className:_.dato,label:o.formatMessage({id:"SorteringVelger.Fom"}),validate:[Z],onBlur:w}),(S||S===0)&&r.jsx(T,{children:r.jsx(fe,{dateString:pe(S)})})]}),r.jsx(T,{className:_.dager,children:r.jsx(N,{id:"SorteringVelger.DagerMedBindestrek"})}),r.jsxs("div",{children:[r.jsx(H,{name:"til",className:_.dato,label:o.formatMessage({id:"SorteringVelger.Tom"}),validate:[Z],onBlur:U}),(i||i===0)&&r.jsx(T,{children:r.jsx(fe,{dateString:pe(i)})})]}),r.jsx(T,{className:_.dagerMedBindestrek,children:r.jsx(N,{id:"SorteringVelger.Dager"})})]}),!g&&r.jsxs(me,{gap:"4",children:[r.jsx(ce,{name:"fomDato",label:o.formatMessage({id:"SorteringVelger.Fom"}),validate:[ge],onChange:a}),r.jsx(T,{children:r.jsx(N,{id:"SorteringVelger.Bindestrek"})}),r.jsx(ce,{name:"tomDato",label:o.formatMessage({id:"SorteringVelger.Tom"}),validate:[ge],onChange:n})]}),r.jsx(Ee,{name:"erDynamiskPeriode",label:o.formatMessage({id:"SorteringVelger.DynamiskPeriode"}),onChange:()=>c()})]})})})},pe=d=>le().add(d,"d").format(),De=(d,m,g)=>l=>{let o;if(l&&(o=le(l)),!o||o.isValid()){const u=o&&o.format(Pe);return d(m?{fomDato:u,tomDato:g}:{fomDato:g,tomDato:u})}};Ve.__docgenInfo={description:"",methods:[],displayName:"DatoSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};const $e=d=>d&&d.some(m=>m===Q.TILBAKEKREVING||m===Q.TILBAKEKREVING_REVURDERING)&&!d.some(m=>m!==Q.TILBAKEKREVING&&m!==Q.TILBAKEKREVING_REVURDERING),He=({valgtSakslisteId:d,valgteBehandlingtyper:m,valgtAvdelingEnhet:g,erDynamiskPeriode:l})=>{const o=oe(),{resetField:u}=ie(),{mutate:c}=q({mutationFn:s=>Ge(d,s.sorteringType,g),onSuccess:()=>{o.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),o.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),o.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),h=Ke(Fe.KO_SORTERING);return r.jsx(je,{name:"sortering",label:r.jsx(N,{id:"SorteringVelger.Sortering"}),onChange:s=>(u("fra",{defaultValue:""}),u("til",{defaultValue:""}),u("fomDato",{defaultValue:""}),u("tomDato",{defaultValue:""}),u("erDynamiskPeriode",{defaultValue:""}),c({sorteringType:s})),radios:h.filter(s=>s.feltkategori!=="TILBAKEKREVING"||$e(m)).map(s=>({value:s.kode,label:s.navn,element:r.jsxs(r.Fragment,{children:[s.felttype==="DATO"&&r.jsx(Ve,{valgtSakslisteId:d,valgtAvdelingEnhet:g,erDynamiskPeriode:l}),s.felttype==="HELTALL"&&r.jsx(xe,{valgtSakslisteId:d,valgtAvdelingEnhet:g})]})}))})};He.__docgenInfo={description:"",methods:[],displayName:"SorteringVelger",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgteBehandlingtyper:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};export{He as S};
