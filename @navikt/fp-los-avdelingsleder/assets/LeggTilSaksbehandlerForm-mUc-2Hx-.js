import{j as e}from"./dayjs.min-ZUODdiE-.js";import{r as S}from"./index-uubelm5h.js";import{a as A,u as I,Y as R,L as E,M as l,y as m,H as c,O as q,B as b,e as w}from"./nb_NO-ffV-qhYU.js";import{r as C}from"./index.es-BZ8gbWlA.js";import{R as p}from"./useRestApiRunner-DIVzIFJm.js";import{b as x,a as y}from"./fplosRestApi-CXjbKy4z.js";const M="_button_1e008_1",N={button:M},_=(n,a=[])=>a instanceof Array&&a.some(o=>n&&o.brukerIdent.toLowerCase()===n.brukerIdent.toLowerCase()),v=({valgtAvdelingEnhet:n,avdelingensSaksbehandlere:a,hentAvdelingensSaksbehandlere:o})=>{const d=A(),[i,k]=S.useState(!1),{data:r,startRequest:T,state:g,resetRequestData:h}=x.useRestApiRunner(y.SAKSBEHANDLER_SOK),{startRequest:L}=x.useRestApiRunner(y.OPPRETT_NY_SAKSBEHANDLER),u=_(r,a),f=s=>{r&&(k(!0),L({brukerIdent:r.brukerIdent,avdelingEnhet:n}).then(()=>{h(),s(),k(!1),o({avdelingEnhet:n})}))},j=s=>{h(),s()},F=S.useMemo(()=>g===p.SUCCESS&&!r?d.formatMessage({id:"LeggTilSaksbehandlerForm.FinnesIkke"}):r?u?`${r.navn} (${d.formatMessage({id:"LeggTilSaksbehandlerForm.FinnesAllerede"})})`:r.navn:"",[g,r,u]),t=I();return e.jsxs(R,{formMethods:t,onSubmit:s=>T({brukerIdent:s.brukerIdent}),children:[e.jsx(E,{size:"small",children:e.jsx(l,{id:"LeggTilSaksbehandlerForm.LeggTil"})}),e.jsx(m,{eightPx:!0}),e.jsxs(c,{gap:"4",children:[e.jsx(q,{name:"brukerIdent",label:d.formatMessage({id:"LeggTilSaksbehandlerForm.Brukerident"}),validate:[C]}),e.jsx("div",{className:N.button,children:e.jsx(b,{size:"small",variant:"secondary",loading:t.formState.isSubmitting,disabled:t.formState.isSubmitting||i,tabIndex:0,children:e.jsx(l,{id:"LeggTilSaksbehandlerForm.Sok"})})})]}),g===p.SUCCESS&&e.jsxs(e.Fragment,{children:[e.jsx(m,{eightPx:!0}),e.jsx(w,{size:"small",children:F}),e.jsx(m,{sixteenPx:!0}),e.jsxs(c,{gap:"4",children:[e.jsx(b,{size:"small",variant:"primary",autoFocus:!0,onClick:()=>f(t.reset),loading:i,disabled:i||u||!r,type:"button",children:e.jsx(l,{id:"LeggTilSaksbehandlerForm.LeggTilIListen"})}),e.jsx(b,{size:"small",variant:"secondary",tabIndex:0,disabled:i,onClick:()=>j(t.reset),type:"button",children:e.jsx(l,{id:"LeggTilSaksbehandlerForm.Nullstill"})})]})]})]})},D=v;v.__docgenInfo={description:"LeggTilSaksbehandlerForm",methods:[],displayName:"LeggTilSaksbehandlerForm",props:{valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]"},description:""},hentAvdelingensSaksbehandlere:{required:!0,tsType:{name:"signature",type:"function",raw:"(params: { avdelingEnhet: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ avdelingEnhet: string }",signature:{properties:[{key:"avdelingEnhet",value:{name:"string",required:!0}}]}},name:"params"}],return:{name:"void"}}},description:""}}};export{D as L};
