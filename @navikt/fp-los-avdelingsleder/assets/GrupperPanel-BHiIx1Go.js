import{j as v}from"./dayjs.min-ZUODdiE-.js";import{R as le}from"./useRestApiRunner-DIVzIFJm.js";import{r as d,R as s}from"./index-uubelm5h.js";import{l as re,c as A,w as be,j as K,C as W,$ as fe,a0 as ie,e as H,L as X,a1 as he,I as de,a2 as ye,r as Oe,a3 as Ie,a as we,u as xe,Y as ke,V as U,O as Se,M as q,H as _e,B as Ce}from"./nb_NO-ffV-qhYU.js";import{r as Ee,G as je,k as Ne,I as Re}from"./index.es-BZ8gbWlA.js";import{u as Le}from"./useDebounce-BKWmQmCi.js";import{T as P}from"./Table-BNax95ki.js";var Pe=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const Te=d.forwardRef((e,a)=>{var{title:r,titleId:t}=e,n=Pe(e,["title","titleId"]);let l=re();return l=r?t||"title-"+l:void 0,d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":l},n),r?d.createElement("title",{id:l},r):null,d.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.998 6.94a.75.75 0 0 1 .063 1.058l-8 9a.75.75 0 0 1-1.091.032l-5-5a.75.75 0 1 1 1.06-1.06l4.438 4.437 7.471-8.405A.75.75 0 0 1 19 6.939",clipRule:"evenodd"}))});var Fe=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const Ae=d.forwardRef((e,a)=>{var{title:r,titleId:t}=e,n=Fe(e,["title","titleId"]);let l=re();return l=r?t||"title-"+l:void 0,d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":l},n),r?d.createElement("title",{id:l},r):null,d.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.47 7.97a.75.75 0 0 1 1.06 0l5.5 5.5a.75.75 0 1 1-1.06 1.06L12 9.56l-4.97 4.97a.75.75 0 0 1-1.06-1.06z",clipRule:"evenodd"}))});var Me=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const De=d.forwardRef((e,a)=>{var{title:r,titleId:t}=e,n=Me(e,["title","titleId"]);let l=re();return l=r?t||"title-"+l:void 0,d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":l},n),r?d.createElement("title",{id:l},r):null,d.createElement("path",{fill:"currentColor",d:"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75z"}))}),ue=e=>{const a=d.useRef(e);return d.useEffect(()=>{a.current=e},[e]),a.current};var qe=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const Ge=d.forwardRef((e,a)=>{var{className:r,children:t,variant:n="action",removeLabel:l="slett",onDelete:c,type:b="button",onClick:i}=e,p=qe(e,["className","children","variant","removeLabel","onDelete","type","onClick"]);return s.createElement("button",Object.assign({},p,{ref:a,type:b,className:A("navds-chips__chip navds-chips__removable navds-chips--icon-right",r,`navds-chips__removable--${n}`),"aria-label":`${t} ${l}`,onClick:be(i,c)}),s.createElement("span",{className:"navds-chips__chip-text"},t),s.createElement("span",{className:"navds-chips__removable-icon"},s.createElement(K,{"aria-hidden":!0})))});var $e=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const Be=d.forwardRef((e,a)=>{var{className:r,children:t,selected:n,variant:l="action",checkmark:c=!0,as:b="button"}=e,i=$e(e,["className","children","selected","variant","checkmark","as"]);return s.createElement(b,Object.assign({},i,{ref:a,className:A("navds-chips__chip navds-chips__toggle",r,`navds-chips__toggle--${l}`,{"navds-chips__toggle--with-checkmark":c}),"aria-pressed":n}),c&&s.createElement("svg",{"aria-hidden":!0,className:"navds-chips__toggle-icon",width:"1.25em",height:"1.25em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img"},n?s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 18.125C14.4873 18.125 18.125 14.4873 18.125 10C18.125 5.51269 14.4873 1.875 10 1.875C5.51269 1.875 1.875 5.51269 1.875 10C1.875 14.4873 5.51269 18.125 10 18.125ZM14.128 7.72904C14.3695 7.44357 14.3339 7.01635 14.0485 6.7748C13.763 6.53326 13.3358 6.56886 13.0942 6.85432L8.60428 12.1606L6.41627 9.97263C6.15185 9.70822 5.72315 9.70822 5.45873 9.97263C5.19431 10.2371 5.19431 10.6658 5.45873 10.9302L8.16706 13.6385C8.30095 13.7724 8.48479 13.8441 8.67397 13.8362C8.86316 13.8284 9.0404 13.7416 9.16271 13.5971L14.128 7.72904Z",fill:"currentColor"}):s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3.125C6.20304 3.125 3.125 6.20304 3.125 10C3.125 13.797 6.20304 16.875 10 16.875C13.797 16.875 16.875 13.797 16.875 10C16.875 6.20304 13.797 3.125 10 3.125ZM1.875 10C1.875 5.51269 5.51269 1.875 10 1.875C14.4873 1.875 18.125 5.51269 18.125 10C18.125 14.4873 14.4873 18.125 10 18.125C5.51269 18.125 1.875 14.4873 1.875 10Z",fill:"var(--ac-chip-toggle-circle-border, var(--a-border-default))"})),s.createElement("span",{className:"navds-chips__chip-text"},t))});var Ve=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const Z=d.forwardRef((e,a)=>{var{className:r,size:t="medium",children:n}=e,l=Ve(e,["className","size","children"]);return s.createElement("ul",Object.assign({},l,{ref:a,className:A("navds-chips",r,`navds-chips--${t}`,{"navds-body-short navds-body-short--small":t==="medium","navds-detail navds-detail--small":t==="small"})}),s.Children.map(n,(c,b)=>s.createElement("li",{key:(c==null?void 0:c.toString())||b},c)))});Z.Toggle=Be;Z.Removable=Ge;const[ze,T]=W({name:"InputContext",errorMessage:"useInputContext must be used within an InputContextProvider"}),He=({children:e,value:a})=>{const{defaultValue:r="",description:t,disabled:n,error:l,errorId:c,id:b,value:i,onChange:p,onClear:y,shouldAutocomplete:o,size:f}=a,h=fe({description:t,disabled:n,error:l,errorId:c,id:b,size:f},"comboboxfield"),u=d.useRef(null),I=d.useRef(null),[w,g]=d.useState(r),x=d.useMemo(()=>String(i??w),[i,w]),[E,_]=d.useState(x),C=d.useCallback(k=>{i??g(k),_(k),p==null||p(k)},[i,p]),N=d.useCallback(k=>{y==null||y(k),p==null||p(""),g(""),_("")},[p,y,g]),O=d.useCallback(()=>{var k,L;(L=(k=u.current)===null||k===void 0?void 0:k.focus)===null||L===void 0||L.call(k)},[]);ie(()=>{var k,L;o&&u&&x!==E&&((L=(k=u.current)===null||k===void 0?void 0:k.setSelectionRange)===null||L===void 0||L.call(k,E.length,x.length))},[x,E,o]);const j=Object.assign(Object.assign({},h),{clearInput:N,error:l,focusInput:O,inputRef:u,value:x,setValue:g,onChange:C,searchTerm:E,setSearchTerm:_,shouldAutocomplete:o,toggleOpenButtonRef:I});return s.createElement(ze,Object.assign({},j),e)},Ue=({children:e,className:a,hasError:r,inputProps:t,inputSize:n,toggleIsListOpen:l})=>{const{toggleOpenButtonRef:c}=T(),b=d.useRef(null),[i,p]=d.useState(!1);function y(f){var h;!(!((h=b.current)===null||h===void 0)&&h.contains(f.relatedTarget))&&(c==null?void 0:c.current)!==f.target&&(l(!0),p(!0))}function o(f){var h;!((h=b.current)===null||h===void 0)&&h.contains(f.relatedTarget)||(l(!1),p(!1))}return s.createElement("div",{ref:b,className:A(a,"navds-form-field",`navds-form-field--${n}`,{"navds-combobox--error":r,"navds-combobox--disabled":!!t.disabled,"navds-combobox--focused":i}),onFocus:y,onBlur:o},e)},D=(e,a)=>typeof e=="string"?a.some(r=>r.label===e||r.value===e):a.some(r=>r.label===e.label&&r.value===e.value),ae=e=>({label:e,value:e}),te=e=>e==null?void 0:e.map(a=>typeof a=="string"?ae(a):a),[Ke,ce]=W({name:"ComboboxCustomOptions",errorMessage:"useComboboxCustomOptions must be used within a ComboboxCustomOptionsProvider"}),We=({children:e,value:a})=>{const[r,t]=d.useState([]),{focusInput:n}=T(),{isMultiSelect:l}=a,c=d.useCallback(p=>{t(y=>y.filter(o=>o.label!==p.label)),n()},[n,t]),b=d.useCallback(p=>{t(l?y=>[...y,p]:[p]),n()},[n,l,t]),i={customOptions:r,removeCustomOption:c,addCustomOption:b,setCustomOptions:t};return s.createElement(Ke,Object.assign({},i),e)},[Xe,G]=W(),Ze=({children:e,value:a})=>{const{clearInput:r,focusInput:t}=T(),{customOptions:n,removeCustomOption:l,addCustomOption:c,setCustomOptions:b}=ce(),{allowNewValues:i,isMultiSelect:p,selectedOptions:y,onToggleSelected:o,options:f,maxSelected:h}=a,[u,I]=d.useState([]),w=d.useMemo(()=>y??[...n,...u],[n,y,u]),g=d.useCallback(O=>{const j=!D(O,f);j?(i&&c(O),!p&&I([])):p?I(k=>[...k,O]):(I([O]),b([])),o==null||o(O.value,!0,j)},[c,i,p,o,f,b]),x=d.useCallback(O=>{const j=D(O,n);j?l(O):I(k=>k.filter(L=>L!==O)),o==null||o(O.value,!1,j)},[n,o,l]),E=d.useCallback((O,j)=>{D(O.value,w)?x(O):g(O),r(j),t()},[g,r,t,x,w]),_=ue(w),C=!!(h!=null&&h.limit)&&w.length>=h.limit,N={addSelectedOption:g,isMultiSelect:p,removeSelectedOption:x,prevSelectedOptions:_,selectedOptions:w,setSelectedOptions:I,toggleOption:E,maxSelected:h&&Object.assign(Object.assign({},h),{isLimitReached:C})};return s.createElement(Xe,Object.assign({},N),e)},z=e=>typeof e=="string"?e.toLocaleLowerCase().trim():"",pe=(e,a)=>z(a).includes(z(e??"")),Ye=(e,a)=>a.filter(r=>pe(e,r.label)),Je=(e,a)=>{const r=z(e);return a.find(t=>z(t.label).startsWith(r))},Qe=e=>`${e}-filtered-options`,et=(e,a)=>`${e.toLocaleLowerCase()}-option-${a.replace(" ","-").toLocaleLowerCase()}`,tt=e=>`${e}-combobox-new-option`,nt=e=>`${e}-is-loading`,rt=e=>`${e}-no-hits`,at=e=>`${e}-max-selected-options`,S={normalizeText:z,isPartOfText:pe,getMatchingValuesFromList:Ye,getFilteredOptionsId:Qe,getAddNewOptionId:tt,getOptionId:et,getIsLoadingId:nt,getNoHitsId:rt,getMaxSelectedOptionsId:at,getFirstValueStartingWith:Je},st=e=>{const[a,r]=d.useState(void 0),t=()=>{var u;return Array.from((u=e==null?void 0:e.children)!==null&&u!==void 0?u:[])},n=()=>t().filter(u=>u.getAttribute("data-no-focus")!=="true"),l=u=>t().find(I=>I.id===u),c=()=>a?n().indexOf(a)===0:!1,b=()=>{const u=n();return a?u.indexOf(a)===u.length-1:!1},i=u=>{var I;r(u),(I=u==null?void 0:u.scrollIntoView)===null||I===void 0||I.call(u,{block:"nearest"})};return{activeElement:a,getElementById:l,isFocusOnTheTop:c,isFocusOnTheBottom:b,moveFocusUp:()=>{if(!a)return;const u=n(),I=u.indexOf(a),w=u[I-1];I===0?r(void 0):i(w)},moveFocusDown:()=>{const u=n();if(!a){i(u[0]);return}const I=u.indexOf(a);I!==u.length-1&&i(u[I+1])},moveFocusToElement:u=>{const I=n().find(w=>w.getAttribute("id")===u);I&&r(I)},moveFocusToTop:()=>i(void 0),moveFocusToBottom:()=>{const u=n();return i(u[u.length-1])}}},[lt,B]=W({name:"FilteredOptionsContext",errorMessage:"useFilteredOptionsContext must be used within a FilteredOptionsProvider"}),ot=({children:e,value:a})=>{const{allowNewValues:r,filteredOptions:t,isListOpen:n,isLoading:l,options:c}=a,[b,i]=d.useState(null),p=st(b),{inputProps:{"aria-describedby":y,id:o},value:f,searchTerm:h,setValue:u,setSearchTerm:I,shouldAutocomplete:w}=T(),{maxSelected:g}=G(),[x,E]=d.useState(!1),{customOptions:_}=ce(),C=d.useMemo(()=>{if(t)return t;const m=[..._,...c];return S.getMatchingValuesFromList(h,m)},[_,t,c,h]),N=ue(h),[O,j]=d.useState(!1),k=d.useMemo(()=>{const m=Object.assign({[S.getAddNewOptionId(o)]:r?ae(f):void 0},_.reduce((M,$)=>{const ee=S.getOptionId(o,$.label);return M[ee]=$,M},{}));return c.reduce((M,$)=>{const ee=S.getOptionId(o,$.label);return M[ee]=$,M},m)},[r,_,o,c,f]);ie(()=>{var m;const R=(m=S.getFirstValueStartingWith(h,C))===null||m===void 0?void 0:m.label;w&&R&&((N==null?void 0:N.length)||0)<h.length&&u(`${h}${R.substring(h.length)}`)},[C,N,h,I,u,w]);const L=d.useMemo(()=>n??x,[n,x]),V=d.useCallback(m=>{p.moveFocusToTop(),E(R=>m??!R)},[p]),F=d.useMemo(()=>!!f&&!k[S.getOptionId(o,f)],[k,o,f]),Y=d.useMemo(()=>{let m="";!l&&C.length===0&&!r?m=S.getNoHitsId(o):(f||l)&&(w&&C[0]?m=S.getOptionId(o,C[0].label):L&&l&&(m=S.getIsLoadingId(o)));const R=(g==null?void 0:g.isLimitReached)&&S.getMaxSelectedOptionsId(o);return A(m,R,y)||void 0},[L,l,g==null?void 0:g.isLimitReached,f,y,w,C,o,r]),J=d.useMemo(()=>{var m;return k[((m=p.activeElement)===null||m===void 0?void 0:m.getAttribute("id"))||-1]},[k,p]),Q={activeDecendantId:d.useMemo(()=>{var m;return((m=p.activeElement)===null||m===void 0?void 0:m.getAttribute("id"))||void 0},[p.activeElement]),allowNewValues:r,setFilteredOptionsRef:i,shouldAutocomplete:w,isListOpen:L,isLoading:l,filteredOptions:C,isMouseLastUsedInputDevice:O,setIsMouseLastUsedInputDevice:j,isValueNew:F,toggleIsListOpen:V,currentOption:J,virtualFocus:p,ariaDescribedBy:Y};return s.createElement(lt,Object.assign({},Q),e)},it=()=>{const{inputProps:{id:e},size:a,value:r}=T(),{setIsMouseLastUsedInputDevice:t,toggleIsListOpen:n,activeDecendantId:l,virtualFocus:c}=B(),{isMultiSelect:b,selectedOptions:i,toggleOption:p}=G();return s.createElement("li",{tabIndex:-1,onMouseMove:()=>{l!==S.getAddNewOptionId(e)&&(c.moveFocusToElement(S.getAddNewOptionId(e)),t(!0))},onPointerUp:y=>{p(ae(r),y),!b&&!D(r,i)&&n(!1)},id:S.getAddNewOptionId(e),className:A("navds-combobox__list-item navds-combobox__list-item--new-option",{"navds-combobox__list-item--new-option--focus":l===S.getAddNewOptionId(e)}),role:"option","aria-selected":!1},s.createElement(De,{"aria-hidden":!0}),s.createElement(H,{size:a},"Legg til"," ",s.createElement(X,{as:"span",size:a},"“",r,"”")))},dt=({option:e})=>{const{inputProps:{id:a},size:r}=T(),{setIsMouseLastUsedInputDevice:t,toggleIsListOpen:n,activeDecendantId:l,virtualFocus:c}=B(),{isMultiSelect:b,maxSelected:i,selectedOptions:p,toggleOption:y}=G(),o=f=>(i==null?void 0:i.isLimitReached)&&!D(f.value,p);return s.createElement("li",{className:A("navds-combobox__list-item",{"navds-combobox__list-item--focus":l===S.getOptionId(a,e.label),"navds-combobox__list-item--selected":D(e.value,p)}),"data-no-focus":o(e)||void 0,id:S.getOptionId(a,e.label),key:e.label,tabIndex:-1,onMouseMove:()=>{l!==S.getOptionId(a,e.label)&&(c.moveFocusToElement(S.getOptionId(a,e.label)),t(!0))},onPointerUp:f=>{o(e)||(y(e,f),!b&&!D(e.value,p)&&n(!1))},role:"option","aria-selected":D(e.value,p),"aria-disabled":o(e)||void 0},s.createElement(H,{size:r},e.label),D(e.value,p)&&s.createElement(Te,null))},ut=()=>{const{inputProps:{id:e}}=T();return s.createElement("div",{className:"navds-combobox__list-item--loading",id:S.getIsLoadingId(e)},s.createElement(he,{title:"Søker..."}))},ct=()=>{var e;const{inputProps:{id:a}}=T(),{maxSelected:r,selectedOptions:t}=G();return r?s.createElement("div",{className:"navds-combobox__list-item--max-selected",id:S.getMaxSelectedOptionsId(a)},(e=r.message)!==null&&e!==void 0?e:`${t.length} av ${r.limit} er valgt.`):null},pt=()=>{const{inputProps:{id:e}}=T();return s.createElement("div",{className:"navds-combobox__list-item--no-options",id:S.getNoHitsId(e)},"Ingen søketreff")},mt=()=>{const{inputProps:{id:e}}=T(),{allowNewValues:a,isLoading:r,isListOpen:t,filteredOptions:n,setFilteredOptionsRef:l,isMouseLastUsedInputDevice:c,isValueNew:b}=B(),{maxSelected:i}=G(),p=(i==null?void 0:i.isLimitReached)||r||!r&&n.length===0&&!a,y=a&&b&&!(i!=null&&i.isLimitReached)||n.length>0;return s.createElement("div",{className:A("navds-combobox__list",{"navds-combobox__list--closed":!t,"navds-combobox__list--with-hover":c}),id:S.getFilteredOptionsId(e),tabIndex:-1},p&&s.createElement("div",{className:"navds-combobox__list_non-selectables",role:"status"},(i==null?void 0:i.isLimitReached)&&s.createElement(ct,null),r&&s.createElement(ut,null),!r&&n.length===0&&!a&&s.createElement(pt,null)),y&&s.createElement("ul",{ref:l,role:"listbox",className:"navds-combobox__list-options"},b&&!(i!=null&&i.isLimitReached)&&a&&s.createElement(it,null),n.map(o=>s.createElement(dt,{key:o.value,option:o}))))},gt=({option:e})=>{const{isMultiSelect:a,removeSelectedOption:r}=G(),{focusInput:t}=T(),n=l=>{l.stopPropagation(),r(e),t()};return a?s.createElement(Z.Removable,{onClick:n},e.label):s.createElement("div",{className:"navds-combobox__selected-options--no-bg"},e.label)},vt=({selectedOptions:e=[],size:a,children:r})=>s.createElement(Z,{className:"navds-combobox__selected-options",size:a},e.length?e.map((t,n)=>s.createElement(gt,{key:t.label+n,option:t})):[],r);var bt=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const oe=d.forwardRef((e,a)=>{var{inputClassName:r,shouldShowSelectedOptions:t}=e,n=bt(e,["inputClassName","shouldShowSelectedOptions"]);const l=d.useRef(null),c=de(a,l),{clearInput:b,inputProps:i,onChange:p,size:y,value:o,searchTerm:f,setValue:h}=T(),{selectedOptions:u,removeSelectedOption:I,toggleOption:w,isMultiSelect:g}=G(),{activeDecendantId:x,allowNewValues:E,currentOption:_,filteredOptions:C,isValueNew:N,toggleIsListOpen:O,isListOpen:j,ariaDescribedBy:k,setIsMouseLastUsedInputDevice:L,shouldAutocomplete:V,virtualFocus:F}=B(),Y=d.useCallback(m=>{const R=M=>u.some($=>$.label.toLocaleLowerCase()===M.toLocaleLowerCase());if(_)m.preventDefault(),w(_,m),!g&&!R(_.label)&&O(!1);else if(R(o))m.preventDefault(),b(m);else if((E||V)&&o!==""){m.preventDefault();const M=E&&N?{label:o,value:o}:C[0];if(!M)return;w(M,m),!g&&!R(M.label)&&O(!1)}},[E,b,_,C,g,N,u,V,O,w,o]),J=m=>{switch(m.preventDefault(),m.key){case"Enter":case"Accept":Y(m);break;case"Home":O(!1),F.moveFocusToTop();break;case"End":O(!0),F.moveFocusToBottom();break}},se=d.useCallback(m=>{if(L(!1),m.key==="Backspace"){if(o===""&&t){const R=u[u.length-1];R&&I(R)}}else m.key==="Enter"||m.key==="Accept"?(x||o)&&m.preventDefault():m.key==="Escape"?(j||o)&&(m.preventDefault(),b(m),O(!1)):["ArrowLeft","ArrowRight"].includes(m.key)?o!==""&&o!==f&&p(o):m.key==="ArrowDown"?(o!==f&&h(f),(F.activeElement===null||!j)&&O(!0),F.moveFocusDown()):m.key==="ArrowUp"&&(o!==""&&o!==f&&p(o),j&&x&&(m.preventDefault(),F.isFocusOnTheTop()&&O(!1),F.moveFocusUp()))},[o,u,I,j,x,L,b,O,p,F,h,f,t]),Q=d.useCallback(m=>{const R=m.target.value;R&&R!==""?O(!0):C.length===0&&O(!1),F.moveFocusToTop(),p(R)},[C.length,F,p,O]);return s.createElement("input",Object.assign({},n,ye(i,["aria-invalid"]),{ref:c,value:o,onBlur:()=>F.moveFocusToTop(),onClick:()=>o!==f&&p(o),onInput:Q,type:"text",role:"combobox",onKeyUp:J,onKeyDown:se,"aria-controls":S.getFilteredOptionsId(i.id),"aria-expanded":!!j,autoComplete:"off","aria-autocomplete":V?"both":"list","aria-activedescendant":x,"aria-describedby":k,"aria-invalid":i["aria-invalid"],placeholder:u.length?void 0:n.placeholder,className:A(r,"navds-combobox__input","navds-body-short",`navds-body-short--${y}`)}))}),ft=d.forwardRef(({toggleListButtonLabel:e},a)=>{const{isListOpen:r,toggleIsListOpen:t}=B();return s.createElement("button",{type:"button",onPointerUp:()=>t(),onKeyDown:({key:n})=>n==="Enter"&&t(),className:"navds-combobox__button-toggle-list","aria-expanded":r,tabIndex:-1,ref:a},s.createElement("span",{className:"navds-sr-only"},e??"Alternativer"),r?s.createElement(Ae,{"aria-hidden":!0}):s.createElement(Oe,{"aria-hidden":!0}))});var ht=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const yt=d.forwardRef((e,a)=>{const{clearButton:r=!0,clearButtonLabel:t,toggleListButton:n=!0,toggleListButtonLabel:l,inputClassName:c,shouldShowSelectedOptions:b=!0}=e,i=ht(e,["clearButton","clearButtonLabel","toggleListButton","toggleListButtonLabel","inputClassName","shouldShowSelectedOptions"]),{clearInput:p,focusInput:y,inputProps:o,value:f,size:h="medium",inputRef:u,toggleOpenButtonRef:I}=T(),{activeDecendantId:w}=B(),{selectedOptions:g}=G(),x=de(u,a);return s.createElement("div",{className:A("navds-combobox__wrapper-inner navds-text-field__input",{"navds-combobox__wrapper-inner--virtually-unfocused":w!==void 0}),onClick:y},b?s.createElement(vt,{selectedOptions:g,size:h},s.createElement(oe,Object.assign({id:o.id,ref:x,inputClassName:c,shouldShowSelectedOptions:b},i))):s.createElement(oe,Object.assign({id:o.id,ref:x,inputClassName:c},i)),s.createElement("div",null,f&&r&&s.createElement("button",{type:"button",onClick:p,className:"navds-combobox__button-clear",tabIndex:-1},s.createElement("span",{className:"navds-sr-only"},t||"Tøm"),s.createElement(K,{"aria-hidden":!0})),n&&s.createElement(ft,{toggleListButtonLabel:l,ref:I})))});var Ot=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const It=d.forwardRef((e,a)=>{const{className:r,hideLabel:t=!1,description:n,label:l}=e,c=Ot(e,["className","hideLabel","description","label"]),{toggleIsListOpen:b}=B(),{error:i,errorId:p,hasError:y,inputDescriptionId:o,inputProps:f,showErrorMsg:h,size:u="medium"}=T();return s.createElement(Ue,{className:r,hasError:y,inputProps:f,inputSize:u,toggleIsListOpen:b},s.createElement(X,{htmlFor:f.id,size:u,className:A("navds-form-field__label",{"navds-sr-only":t})},l),!!n&&s.createElement(H,{as:"div",className:A("navds-form-field__description",{"navds-sr-only":t}),id:o,size:u},n),s.createElement("div",{className:"navds-combobox__wrapper"},s.createElement(yt,Object.assign({ref:a},c)),s.createElement(mt,null)),s.createElement("div",{className:"navds-form-field__error",id:p,"aria-relevant":"additions removals","aria-live":"polite"},h&&s.createElement(Ie,{size:u},i)))});var wt=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const xt=d.forwardRef((e,a)=>{const{allowNewValues:r=!1,children:t,defaultValue:n,disabled:l,error:c,errorId:b,filteredOptions:i,id:p,isListOpen:y,isLoading:o=!1,isMultiSelect:f,onToggleSelected:h,selectedOptions:u,maxSelected:I,options:w,value:g,onChange:x,onClear:E,shouldAutocomplete:_,size:C}=e,N=wt(e,["allowNewValues","children","defaultValue","disabled","error","errorId","filteredOptions","id","isListOpen","isLoading","isMultiSelect","onToggleSelected","selectedOptions","maxSelected","options","value","onChange","onClear","shouldAutocomplete","size"]),O=te(w)||[],j=te(i),k=te(u);return s.createElement(He,{value:{defaultValue:n,description:N.description,disabled:l,error:c,errorId:b,id:p,value:g,onChange:x,onClear:E,shouldAutocomplete:_,size:C}},s.createElement(We,{value:{isMultiSelect:f}},s.createElement(Ze,{value:{allowNewValues:r,isMultiSelect:f,selectedOptions:k,maxSelected:I,onToggleSelected:h,options:O}},s.createElement(ot,{value:{allowNewValues:r,filteredOptions:j,isListOpen:y,isLoading:o,options:O}},s.createElement(It,Object.assign({ref:a},N),t)))))}),kt="_navn_broku_1",St="_saksbehandlerCombo_broku_5",_t="_removeIcon_broku_9",ne={navn:kt,saksbehandlerCombo:St,removeIcon:_t},Ct=Ne(3),Et=Re(100),jt=e=>[...e].sort((a,r)=>a.navn.localeCompare(r.navn)),Nt=(e,a)=>e.filter(r=>!a.some(t=>t.brukerIdent===r.brukerIdent)).sort((r,t)=>r.navn.localeCompare(t.navn)),me=({saksbehandlerGruppe:e,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:r,endreGruppenavn:t})=>{const n=we(),l=xe({defaultValues:{navn:e.gruppeNavn}}),c=jt(e.saksbehandlere),i=Nt(a,c).map(g=>`${g.navn} (${g.brukerIdent})`),p=Le("navn",g=>t(e.gruppeId,g),l.trigger),[y,o]=d.useState([]),[f,h]=d.useState(""),u=g=>{g!=null&&g.trim()?o(i.filter(x=>x.toLowerCase().includes(g.toLowerCase()))):o(i)},I=(g,x)=>{const E=y.find(N=>N.toLowerCase().includes(g==null?void 0:g.toLowerCase())),_=E==null?void 0:E.replace(")","").split(" ("),C=c.some(N=>_&&N.brukerIdent===_[1]);E&&x&&!C&&_&&r(_[1],e.gruppeId,!0)},w=(g,x)=>{r(g,x,!1)};return d.useEffect(()=>u(f),[e,f]),v.jsx(ke,{formMethods:l,children:v.jsxs(U,{gap:"5",children:[v.jsx(Se,{name:"navn",label:n.formatMessage({id:"GruppeSaksbehandlere.Navn"}),validate:[Ee,Ct,Et,je],onBlur:p,className:ne.navn}),v.jsxs(U,{gap:"4",children:[v.jsx(xt,{label:n.formatMessage({id:"GruppeSaksbehandlere.VelgSaksbehandlere"}),size:"small",options:i,filteredOptions:y,selectedOptions:[],onChange:h,onToggleSelected:I,className:ne.saksbehandlerCombo}),v.jsxs(U,{gap:"2",children:[v.jsx(X,{size:"small",children:v.jsx(q,{id:"GruppeSaksbehandlere.ValgteSaksbehandlere"})}),c.length===0&&v.jsx(H,{size:"small",children:v.jsx(q,{id:"GruppeSaksbehandlere.Ingen"})}),c.map(g=>v.jsxs(_e,{gap:"2",align:"center",children:[v.jsx("div",{children:`${g.navn} (${g.brukerIdent})`}),v.jsx("div",{children:v.jsx(K,{className:ne.removeIcon,onMouseDown:()=>w(g.brukerIdent,e.gruppeId),onKeyDown:()=>w(g.brukerIdent,e.gruppeId)})})]},g.brukerIdent))]})]})]})})};me.__docgenInfo={description:"",methods:[],displayName:"GruppeSaksbehandlere",props:{saksbehandlerGruppe:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]"},description:""},lagreValgtSaksbehandlar:{required:!0,tsType:{name:"signature",type:"function",raw:"(brukerIdent: string, gruppeId: number, leggTil: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"brukerIdent"},{type:{name:"number"},name:"gruppeId"},{type:{name:"boolean"},name:"leggTil"}],return:{name:"void"}}},description:""},endreGruppenavn:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number, gruppeNavn: string) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"},{type:{name:"string"},name:"gruppeNavn"}],return:{name:"void"}}},description:""}}};const Rt="_removeIcon_1k4e9_1",Lt={removeIcon:Rt},ge=({grupper:e,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:r,endreGruppenavn:t,slettGruppe:n})=>{var l;return v.jsxs(v.Fragment,{children:[v.jsx(X,{size:"small",children:v.jsx(q,{id:"GrupperTabell.Grupper"})}),e.saksbehandlerGrupper.length>0&&v.jsxs(P,{children:[v.jsx(P.Header,{children:v.jsxs(P.Row,{children:[v.jsx(P.HeaderCell,{}),v.jsx(P.HeaderCell,{scope:"col",children:v.jsx(q,{id:"GrupperTabell.Id"})}),v.jsx(P.HeaderCell,{scope:"col",children:v.jsx(q,{id:"GrupperTabell.Navn"})}),v.jsx(P.HeaderCell,{scope:"col",children:v.jsx(q,{id:"GrupperTabell.AntallSaksbehandlere"})}),v.jsx(P.HeaderCell,{})]})}),v.jsx(P.Body,{children:(l=e.saksbehandlerGrupper)==null?void 0:l.map(c=>v.jsxs(P.ExpandableRow,{content:v.jsx(me,{saksbehandlerGruppe:c,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:r,endreGruppenavn:t}),children:[v.jsx(P.DataCell,{scope:"row",children:c.gruppeId}),v.jsx(P.DataCell,{children:c.gruppeNavn||"-"}),v.jsx(P.DataCell,{children:c.saksbehandlere.length}),v.jsx(P.DataCell,{children:v.jsx(K,{className:Lt.removeIcon,onMouseDown:()=>n(c.gruppeId),onKeyDown:()=>n(c.gruppeId)})})]},c.gruppeId))})]}),e.saksbehandlerGrupper.length===0&&v.jsx(H,{children:v.jsx(q,{id:"GrupperTabell.IngenGrupper"})})]})};ge.__docgenInfo={description:"",methods:[],displayName:"GrupperTabell",props:{grupper:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}`,signature:{properties:[{key:"saksbehandlerGrupper",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}>`}],raw:"SaksbehandlerGruppe[]",required:!0}}]}}],raw:`Readonly<{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]"},description:""},lagreValgtSaksbehandlar:{required:!0,tsType:{name:"signature",type:"function",raw:"(brukerIdent: string, gruppeId: number, leggTil: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"brukerIdent"},{type:{name:"number"},name:"gruppeId"},{type:{name:"boolean"},name:"leggTil"}],return:{name:"void"}}},description:""},endreGruppenavn:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number, gruppeNavn: string) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"},{type:{name:"string"},name:"gruppeNavn"}],return:{name:"void"}}},description:""},slettGruppe:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"}],return:{name:"void"}}},description:""}}};const ve=({grupper:e,avdelingensSaksbehandlere:a,opprettOgHentAlleGrupper:r,opprettNyGruppeState:t,lagreValgtSaksbehandlar:n,endreGruppenavn:l,slettGruppe:c})=>v.jsxs(U,{gap:"5",align:"start",children:[v.jsx(ge,{grupper:e,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:n,endreGruppenavn:l,slettGruppe:c}),v.jsx(Ce,{size:"small",variant:"secondary",loading:t===le.LOADING,disabled:t===le.LOADING,tabIndex:0,onClick:r,children:v.jsx(q,{id:"GrupperPanel.OpprettGruppe"})})]}),Gt=ve;ve.__docgenInfo={description:"",methods:[],displayName:"GrupperPanel",props:{grupper:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}`,signature:{properties:[{key:"saksbehandlerGrupper",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}>`}],raw:"SaksbehandlerGruppe[]",required:!0}}]}}],raw:`Readonly<{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]"},description:""},opprettOgHentAlleGrupper:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},opprettNyGruppeState:{required:!1,tsType:{name:"RestApiState"},description:""},lagreValgtSaksbehandlar:{required:!0,tsType:{name:"signature",type:"function",raw:"(brukerIdent: string, gruppeId: number, leggTil: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"brukerIdent"},{type:{name:"number"},name:"gruppeId"},{type:{name:"boolean"},name:"leggTil"}],return:{name:"void"}}},description:""},endreGruppenavn:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number, gruppeNavn: string) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"},{type:{name:"string"},name:"gruppeNavn"}],return:{name:"void"}}},description:""},slettGruppe:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"}],return:{name:"void"}}},description:""}}};export{Gt as G};
