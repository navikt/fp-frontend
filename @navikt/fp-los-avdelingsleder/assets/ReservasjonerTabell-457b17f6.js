import{j as t}from"./jsx-runtime-69eee039.js";import{r as l}from"./index-7c191284.js";import{L as b,a as A,J as m,b as G,e as Y,k as M,W as i,G as B,Z as N}from"./nb_NO-d9a4e020.js";import{f as F,d as H}from"./index.es-9700a5ac.js";import{r as U}from"./remove-2f21eb3e.js";import{b as u,R as S}from"./fplosRestApi-06437043.js";var k=(e=>(e.ARBEID_TYPE="ArbeidType",e.AVSLAGSARSAK="Avslagsårsak",e.VENT_AARSAK="Venteårsak",e.BEHANDLING_AARSAK="BehandlingÅrsakType",e.KLAGE_AVVIST_AARSAK="KlageAvvistÅrsak",e.KLAGE_MEDHOLD_ARSAK="KlageMedholdÅrsak",e.KLAGE_HJEMMEL="KlageHjemmel",e.OMSORGSOVERTAKELSE_VILKAR_TYPE="OmsorgsovertakelseVilkårType",e.MEDLEMSKAP_MANUELL_VURDERING_TYPE="MedlemskapManuellVurderingType",e.VERGE_TYPE="VergeType",e.LANDKODER="Landkoder",e.MORS_AKTIVITET="MorsAktivitet",e.VIRKSOMHET_TYPE="VirksomhetType",e.OVERFOERING_AARSAK_TYPE="OverføringÅrsak",e.PERSONSTATUS_TYPE="PersonstatusType",e.FAGSAK_STATUS="FagsakStatus",e.RELATERT_YTELSE_TILSTAND="RelatertYtelseTilstand",e.RELATERT_YTELSE_TYPE="RelatertYtelseType",e.FAGSAK_YTELSE="FagsakYtelseType",e.FORELDRE_TYPE="ForeldreType",e.FAMILIE_HENDELSE_TYPE="FamilieHendelseType",e.INNSYN_RESULTAT_TYPE="InnsynResultatType",e.BEHANDLING_TYPE="BehandlingType",e.OPPHOLD_ARSAK="OppholdÅrsak",e.UTSETTELSE_AARSAK_TYPE="UtsettelseÅrsak",e.OPPTJENING_AKTIVITET_TYPE="OpptjeningAktivitetType",e.UTTAK_PERIODE_TYPE="UttakPeriodeType",e.REVURDERING_VARSLING_ÅRSAK="RevurderingVarslingÅrsak",e.MANUELL_BEHANDLING_AARSAK="ManuellBehandlingÅrsak",e.PERIODE_RESULTAT_AARSAK="PeriodeResultatÅrsak",e.INNTEKTSKATEGORI="Inntektskategori",e.BEREGNINGSGRUNNLAG_ANDELTYPER="BeregningsgrunnlagAndeltype",e.AKTIVITET_STATUS="AktivitetStatus",e.ARBEIDSKATEGORI="Arbeidskategori",e.FAGSYSTEM="Fagsystem",e.REGION="Region",e.SIVILSTAND_TYPE="SivilstandType",e.DOKUMENT_TYPE_ID="DokumentTypeId",e.FAKTA_OM_BEREGNING_TILFELLE="FaktaOmBeregningTilfelle",e.GRADERING_AVSLAG_AARSAK="GraderingAvslagÅrsak",e.SKJERMLENKE_TYPE="SkjermlenkeType",e.BEHANDLING_RESULTAT_TYPE="BehandlingResultatType",e.ARBEIDSFORHOLD_HANDLING_TYPE="ArbeidsforholdHandlingType",e.HISTORIKK_OPPLYSNING_TYPE="HistorikkOpplysningType",e.HISTORIKK_ENDRET_FELT_TYPE="HistorikkEndretFeltType",e.HISTORIKKINNSLAG_TYPE="HistorikkinnslagType",e.HISTORIKK_AKTOER="HistorikkAktør",e.BEHANDLING_STATUS="BehandlingStatus",e.FAR_SOEKER_TYPE="FarSøkerType",e.MEDLEMSKAP_DEKNING="MedlemskapDekningType",e.MEDLEMSKAP_TYPE="MedlemskapType",e.STOENADSKONTOTYPE="StønadskontoType",e.KONSEKVENS_FOR_YTELSEN="KonsekvensForYtelsen",e.UTTAK_ARBEID_TYPE="UttakArbeidType",e.UTTAK_UTSETTELSE_TYPE="UttakUtsettelseType",e.VILKAR_TYPE="VilkårType",e.AKTSOMHET="Aktsomhet",e.VURDERING="AnnenVurdering",e.VEDTAK_RESULTAT_TYPE="VedtakResultatType",e.PERMISJONSBESKRIVELSE_TYPE="PermisjonsbeskrivelseType",e.VURDER_ARBEIDSFORHOLD_HISTORIKKINNSLAG="VurderArbeidsforholdHistorikkinnslag",e.TILBAKEKR_VIDERE_BEH="VidereBehandling",e.VURDER_AARSAK="VurderÅrsak",e.ANKE_OMGJOER_AARSAK="AnkeOmgjørÅrsak",e.AKTIVITETSKRAV_AVKLARING="KontrollerAktivitetskravAvklaring",e.OPPHOLDSTILLATELSE_TYPE="OppholdstillatelseType",e.FARESIGNAL_VURDERING="FaresignalVurdering",e.FORDELING_PERIODE_KILDE="FordelingPeriodeKilde",e.RELASJONSROLLE_TYPE="RelasjonsRolleType",e))(k||{});const x=(e,r,a,T)=>{let n=e[r];if(!n||n.length===0)return"";T&&(n=n[T]);const o=n.find(d=>d.kode===a);return o?o.navn:""},w=""+new URL("gruppe_hover-6179c58e.svg",import.meta.url).href,C=""+new URL("gruppe-30542f17.svg",import.meta.url).href,q=(e,r,a=0)=>({top:e,left:r-a});class _ extends l.Component{constructor(r){super(r),this.state={},this.handleButtonRef=this.handleButtonRef.bind(this)}handleButtonRef(r){if(r){this.setState({buttonWidth:r.offsetWidth});const{buttonRef:a}=this.props;a&&a(r)}}render(){const{className:r="",inputOffsetTop:a=0,inputOffsetWidth:T=0,disabled:n=!1,toggleShowCalendar:o}=this.props,{buttonWidth:d}=this.state;return t.jsx("button",{type:"button",ref:this.handleButtonRef,className:r,style:q(a,T,d),disabled:n,onClick:o})}}try{_.displayName="CalendarToggleButton",_.__docgenInfo={description:"",displayName:"CalendarToggleButton",props:{toggleShowCalendar:{defaultValue:null,description:"",name:"toggleShowCalendar",required:!0,type:{name:"() => void"}},inputOffsetTop:{defaultValue:null,description:"",name:"inputOffsetTop",required:!1,type:{name:"number"}},inputOffsetWidth:{defaultValue:null,description:"",name:"inputOffsetWidth",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},buttonRef:{defaultValue:null,description:"",name:"buttonRef",required:!1,type:{name:"((ref: HTMLButtonElement) => void)"}}}}}catch{}const J="_removeImage_ob46k_1",W="_calendarToggleButton_ob46k_5",h={removeImage:J,calendarToggleButton:W},z=["ReservasjonerTabell.Navn","ReservasjonerTabell.Saksnr","ReservasjonerTabell.BehandlingType","ReservasjonerTabell.ReservertTil","ReservasjonerTabell.Endre","ReservasjonerTabell.Flytt","ReservasjonerTabell.Slett"],g=({reservasjoner:e,opphevReservasjon:r,hentAvdelingensReservasjoner:a,alleKodeverk:T})=>{const[n,o]=l.useState(!1),[d,E]=l.useState(!1),[R,v]=l.useState(void 0),c=l.useCallback(()=>{o(!1)},[]),K=l.useCallback(s=>{o(!0),v(s)},[]),L=l.useCallback(s=>{E(!0),v(s)},[]),I=l.useCallback(()=>{E(!1)},[]),p=l.useMemo(()=>e.sort((s,V)=>s.reservertAvNavn.localeCompare(V.reservertAvNavn)),[e]),{startRequest:y}=u.useRestApiRunner(S.ENDRE_OPPGAVERESERVASJON),{startRequest:O}=u.useRestApiRunner(S.FLYTT_RESERVASJON),{startRequest:f,state:P,data:D,resetRequestData:j}=u.useRestApiRunner(S.FLYTT_RESERVASJON_SAKSBEHANDLER_SOK);return t.jsxs(t.Fragment,{children:[t.jsx(b,{size:"small",children:t.jsx(A,{id:"ReservasjonerTabell.Reservasjoner"})}),p.length===0&&t.jsxs(t.Fragment,{children:[t.jsx(m,{eightPx:!0}),t.jsx(G,{size:"small",children:t.jsx(A,{id:"ReservasjonerTabell.IngenReservasjoner"})}),t.jsx(m,{eightPx:!0})]}),p.length>0&&t.jsx(Y,{headerTextCodes:z,noHover:!0,children:p.map(s=>t.jsxs(M,{children:[t.jsx(i,{children:s.reservertAvNavn}),t.jsx(i,{children:s.oppgaveSaksNr}),t.jsx(i,{children:x(T,k.BEHANDLING_TYPE,s.behandlingType)}),t.jsx(i,{children:t.jsx(A,{id:"ReservasjonerTabell.ReservertTilFormat",values:B(s.reservertTilTidspunkt)})}),t.jsx(i,{children:t.jsx(_,{toggleShowCalendar:()=>K(s),className:h.calendarToggleButton})}),t.jsx(i,{children:t.jsx(N,{src:C,srcHover:w,onMouseDown:()=>L(s)})}),t.jsx(i,{children:t.jsx(N,{src:U,className:h.removeImage,onMouseDown:()=>r(s.oppgaveId)})})]},s.oppgaveId))}),R&&n&&t.jsx(F,{showModal:n,closeModal:c,reserverTilDefault:R.reservertTilTidspunkt,endreReserverasjonState:c,hentReserverteOppgaver:a,oppgaveId:R.oppgaveId,endreOppgavereservasjon:y}),R&&d&&t.jsx(H,{showModal:d,closeModal:I,oppgaveId:R.oppgaveId,toggleMenu:I,hentReserverteOppgaver:a,flyttOppgavereservasjon:O,hentSaksbehandler:f,hentSaksbehandlerState:P,saksbehandler:D,resetHentSaksbehandler:j})]})},se=g;try{g.displayName="ReservasjonerTabell",g.__docgenInfo={description:"",displayName:"ReservasjonerTabell",props:{reservasjoner:{defaultValue:null,description:"",name:"reservasjoner",required:!0,type:{name:"Readonly<{ reservertAvUid: string; reservertAvNavn: string; reservertTilTidspunkt: string; oppgaveId: number; oppgaveSaksNr: number; behandlingType: string; }>[]"}},opphevReservasjon:{defaultValue:null,description:"",name:"opphevReservasjon",required:!0,type:{name:"(oppgaveId: number) => Promise<string>"}},hentAvdelingensReservasjoner:{defaultValue:null,description:"",name:"hentAvdelingensReservasjoner",required:!0,type:{name:"() => void"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}}}}}catch{}export{se as R};
//# sourceMappingURL=ReservasjonerTabell-457b17f6.js.map
