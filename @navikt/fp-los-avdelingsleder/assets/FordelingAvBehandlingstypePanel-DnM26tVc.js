import{h as N,B as o,j as e,F as d}from"./iframe-Cj3mUDpb.js";import{b as R,D as B,F,R as m}from"./index.es-24vskbME.js";import{u as x}from"./useQuery-CjUkZWUz.js";import{V as S,H as G,B as L}from"./fplosAvdelingslederApi-B5RzSJsw.js";import{S as j}from"./StoreValuesInLocalStorage-DHsfVFEd.js";import{u as f}from"./useLosKodeverk-Qqnsn9h4.js";import{R as w}from"./FlyttReservasjonModal-KqnP-xf1.js";import{L as Y,M as T}from"./nb_NO-tLXWBS2D.js";const h=[o.TILBAKEKREVING_REVURDERING,o.TILBAKEKREVING,o.DOKUMENTINNSYN,o.KLAGE,o.REVURDERING,o.FORSTEGANGSSOKNAD],E=({height:i,oppgaverForAvdeling:s,behandlingTyper:a})=>{const n=N(),t=n.formatMessage({id:"FordelingAvBehandlingstypeGraf.TilBehandling"}),l=n.formatMessage({id:"FordelingAvBehandlingstypeGraf.TilBeslutter"}),p=h.map(r=>{const u=a.find(b=>b.kode===r);return u?u.navn:""}),y=k(s.filter(r=>r.tilBehandling)),g=k(s.filter(r=>!r.tilBehandling));return e.jsx(w,{height:i,option:{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{feature:{saveAsImage:{title:"Lagre ",name:"Antall_Ã¥pne_behandlinger"}}},legend:{data:[t,l],top:"top"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:p},series:[{name:t,type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},data:y},{name:l,type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},data:g}],color:["#337c9b","#38a161"]}})},k=i=>{const s=i.reduce((a,n)=>{const t=h.findIndex(l=>l===n.behandlingType)+1;return{...a,[t]:a[t]?a[t]+n.antall:n.antall}},{});return h.map((a,n)=>s[n+1])};E.__docgenInfo={description:"",methods:[],displayName:"FordelingAvBehandlingstypeGraf",props:{height:{required:!0,tsType:{name:"number"},description:""},behandlingTyper:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}`,signature:{properties:[{key:"kode",value:{name:"unknown",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"kodeverk",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}>`}],raw:"LosKodeverkMedNavn<'BehandlingType'>[]"},description:""},oppgaverForAvdeling:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  fagsakYtelseType: string;
  behandlingType: string;
  tilBehandling: boolean;
  antall: number;
}`,signature:{properties:[{key:"fagsakYtelseType",value:{name:"string",required:!0}},{key:"behandlingType",value:{name:"string",required:!0}},{key:"tilBehandling",value:{name:"boolean",required:!0}},{key:"antall",value:{name:"number",required:!0}}]}}],raw:`Readonly<{
  fagsakYtelseType: string;
  behandlingType: string;
  tilBehandling: boolean;
  antall: number;
}>`}],raw:"OppgaverForAvdeling[]"},description:""}}};const c=(i,s)=>{const a=i.find(n=>n.kode===s);return a?a.navn:""},v="ALLE",A="fordelingAvBehandlingstype",V={valgtYtelseType:v},q=({height:i,valgtAvdelingEnhet:s,getValueFromLocalStorage:a})=>{const{data:n}=x(L(s)),t=f("FagsakYtelseType"),l=f("BehandlingType"),p=a(A),y=p?JSON.parse(p):void 0,g=R({defaultValues:y??V}),r=g.watch();return e.jsxs(B,{formMethods:g,children:[e.jsx(j,{stateKey:A,values:r}),e.jsxs(S,{gap:"space-8",children:[e.jsx(Y,{size:"small",children:e.jsx(T,{id:"FordelingAvBehandlingstypePanel.Fordeling"})}),e.jsx(F,{name:"valgtYtelseType",control:g.control,children:e.jsxs(G,{gap:"space-16",children:[e.jsx(m,{value:d.FORELDREPENGER,size:"small",children:c(t,d.FORELDREPENGER)}),e.jsx(m,{value:d.ENGANGSSTONAD,size:"small",children:c(t,d.ENGANGSSTONAD)}),e.jsx(m,{value:d.SVANGERSKAPSPENGER,size:"small",children:c(t,d.SVANGERSKAPSPENGER)}),e.jsx(m,{value:v,size:"small",children:e.jsx(T,{id:"FordelingAvBehandlingstypePanel.Alle"})})]})}),e.jsx(E,{height:i,behandlingTyper:l,oppgaverForAvdeling:n?n.filter(u=>r.valgtYtelseType===v?!0:r.valgtYtelseType===u.fagsakYtelseType):[]})]})]})};q.__docgenInfo={description:"",methods:[],displayName:"FordelingAvBehandlingstypePanel",props:{height:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},getValueFromLocalStorage:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: string) => string | undefined",signature:{arguments:[{type:{name:"string"},name:"key"}],return:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}}},description:""}}};export{q as F};
