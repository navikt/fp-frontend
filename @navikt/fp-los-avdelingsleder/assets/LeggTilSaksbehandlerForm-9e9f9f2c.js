import{j as e}from"./jsx-runtime-9c4ae004.js";import{r as k}from"./index-1b03fe98.js";import{e as A,u as I,O as R,L as _,F as i,g as m,h as p,C as E,f as b,a as C}from"./nb_NO-844deeab.js";import{r as N}from"./index.es-acb77150.js";import{y as x}from"./index.es-42a31a03.js";import{b as f,R as L}from"./fplosRestApi-810d5a30.js";const q="_button_1e008_1",M={button:q},P=(t,n=[])=>n instanceof Array&&n.some(d=>t&&d.brukerIdent.toLowerCase()===t.brukerIdent.toLowerCase()),h=({valgtAvdelingEnhet:t,avdelingensSaksbehandlere:n,hentAvdelingensSaksbehandlere:d})=>{const o=A(),[l,S]=k.useState(!1),{data:s,startRequest:T,state:g,resetRequestData:c}=f.useRestApiRunner(L.SAKSBEHANDLER_SOK),{startRequest:j}=f.useRestApiRunner(L.OPPRETT_NY_SAKSBEHANDLER),u=P(s,n),F=r=>{s&&(S(!0),j({brukerIdent:s.brukerIdent,avdelingEnhet:t}).then(()=>{c(),r(),S(!1),d({avdelingEnhet:t})}))},v=r=>{c(),r()},y=k.useMemo(()=>{if(g===x.SUCCESS&&!s)return o.formatMessage({id:"LeggTilSaksbehandlerForm.FinnesIkke"});if(!s)return"";const r=`${s.navn}, ${s.avdelingsnavn.join(", ")}`;return u?`${r} (${o.formatMessage({id:"LeggTilSaksbehandlerForm.FinnesAllerede"})})`:r},[g,s,u]),a=I();return e.jsxs(R,{formMethods:a,onSubmit:r=>T({brukerIdent:r.brukerIdent}),children:[e.jsx(_,{size:"small",children:e.jsx(i,{id:"LeggTilSaksbehandlerForm.LeggTil"})}),e.jsx(m,{eightPx:!0}),e.jsxs(p,{gap:"4",children:[e.jsx(E,{name:"brukerIdent",label:o.formatMessage({id:"LeggTilSaksbehandlerForm.Brukerident"}),validate:[N]}),e.jsx("div",{className:M.button,children:e.jsx(b,{size:"small",variant:"secondary",loading:a.formState.isSubmitting,disabled:a.formState.isSubmitting||l,tabIndex:0,children:e.jsx(i,{id:"LeggTilSaksbehandlerForm.Sok"})})})]}),g===x.SUCCESS&&e.jsxs(e.Fragment,{children:[e.jsx(m,{eightPx:!0}),e.jsx(C,{size:"small",children:y}),e.jsx(m,{sixteenPx:!0}),e.jsxs(p,{gap:"4",children:[e.jsx(b,{size:"small",variant:"primary",autoFocus:!0,onClick:()=>F(a.reset),loading:l,disabled:l||u||!s,type:"button",children:e.jsx(i,{id:"LeggTilSaksbehandlerForm.LeggTilIListen"})}),e.jsx(b,{size:"small",variant:"secondary",tabIndex:0,disabled:l,onClick:()=>v(a.reset),type:"button",children:e.jsx(i,{id:"LeggTilSaksbehandlerForm.Nullstill"})})]})]})]})},D=h;try{h.displayName="LeggTilSaksbehandlerForm",h.__docgenInfo={description:"LeggTilSaksbehandlerForm",displayName:"LeggTilSaksbehandlerForm",props:{valgtAvdelingEnhet:{defaultValue:null,description:"",name:"valgtAvdelingEnhet",required:!0,type:{name:"string"}},avdelingensSaksbehandlere:{defaultValue:null,description:"",name:"avdelingensSaksbehandlere",required:!0,type:{name:"Readonly<{ brukerIdent: string; navn: string; avdelingsnavn: string[]; }>[]"}},hentAvdelingensSaksbehandlere:{defaultValue:null,description:"",name:"hentAvdelingensSaksbehandlere",required:!0,type:{name:"(params: { avdelingEnhet: string; }) => void"}}}}}catch{}export{D as L};
//# sourceMappingURL=LeggTilSaksbehandlerForm-9e9f9f2c.js.map
