import{j as e}from"./jsx-runtime-9c4ae004.js";import{r as k}from"./index-1b03fe98.js";import{f as R,u as _,F as E,L as N,a as i,G as x,o as p,s as f,D as d,T as C,g as b,b as q}from"./nb_NO-d1625de4.js";import{r as M}from"./index.es-eb6186af.js";import{y as j}from"./index.es-dcafba10.js";import{b as L,R as T}from"./fplosRestApi-beda4f04.js";const z="_button_1e008_1",B={button:z},P=(n,a=[])=>a instanceof Array&&a.some(o=>n&&o.brukerIdent.toLowerCase()===n.brukerIdent.toLowerCase()),h=({valgtAvdelingEnhet:n,avdelingensSaksbehandlere:a,hentAvdelingensSaksbehandlere:o})=>{const g=R(),[l,c]=k.useState(!1),{data:s,startRequest:F,state:u,resetRequestData:S}=L.useRestApiRunner(T.SAKSBEHANDLER_SOK),{startRequest:y}=L.useRestApiRunner(T.OPPRETT_NY_SAKSBEHANDLER),m=P(s,a),v=r=>{s&&(c(!0),y({brukerIdent:s.brukerIdent,avdelingEnhet:n}).then(()=>{S(),r(),c(!1),o({avdelingEnhet:n})}))},A=r=>{S(),r()},I=k.useMemo(()=>{if(u===j.SUCCESS&&!s)return g.formatMessage({id:"LeggTilSaksbehandlerForm.FinnesIkke"});if(!s)return"";const r=`${s.navn}, ${s.avdelingsnavn.join(", ")}`;return m?`${r} (${g.formatMessage({id:"LeggTilSaksbehandlerForm.FinnesAllerede"})})`:r},[u,s,m]),t=_();return e.jsxs(E,{formMethods:t,onSubmit:r=>F({brukerIdent:r.brukerIdent}),children:[e.jsx(N,{size:"small",children:e.jsx(i,{id:"LeggTilSaksbehandlerForm.LeggTil"})}),e.jsx(x,{eightPx:!0}),e.jsx(p,{children:e.jsxs(f,{children:[e.jsx(d,{children:e.jsx(C,{name:"brukerIdent",label:g.formatMessage({id:"LeggTilSaksbehandlerForm.Brukerident"}),validate:[M]})}),e.jsx(d,{className:B.button,children:e.jsx(b,{size:"small",variant:"secondary",loading:t.formState.isSubmitting,disabled:t.formState.isSubmitting||l,tabIndex:0,children:e.jsx(i,{id:"LeggTilSaksbehandlerForm.Sok"})})})]})}),u===j.SUCCESS&&e.jsxs(e.Fragment,{children:[e.jsx(q,{size:"small",children:I}),e.jsx(x,{sixteenPx:!0}),e.jsx(p,{children:e.jsxs(f,{children:[e.jsx(d,{children:e.jsx(b,{size:"small",variant:"primary",autoFocus:!0,onClick:()=>v(t.reset),loading:l,disabled:l||m||!s,type:"button",children:e.jsx(i,{id:"LeggTilSaksbehandlerForm.LeggTilIListen"})})}),e.jsx(d,{children:e.jsx(b,{size:"small",variant:"secondary",tabIndex:0,disabled:l,onClick:()=>A(t.reset),type:"button",children:e.jsx(i,{id:"LeggTilSaksbehandlerForm.Nullstill"})})})]})})]})]})},O=h;try{h.displayName="LeggTilSaksbehandlerForm",h.__docgenInfo={description:"LeggTilSaksbehandlerForm",displayName:"LeggTilSaksbehandlerForm",props:{valgtAvdelingEnhet:{defaultValue:null,description:"",name:"valgtAvdelingEnhet",required:!0,type:{name:"string"}},avdelingensSaksbehandlere:{defaultValue:null,description:"",name:"avdelingensSaksbehandlere",required:!0,type:{name:"Readonly<{ brukerIdent: string; navn: string; avdelingsnavn: string[]; }>[]"}},hentAvdelingensSaksbehandlere:{defaultValue:null,description:"",name:"hentAvdelingensSaksbehandlere",required:!0,type:{name:"(params: { avdelingEnhet: string; }) => void"}}}}}catch{}export{O as L};
//# sourceMappingURL=LeggTilSaksbehandlerForm-6b015192.js.map
