import{j as e}from"./jsx-runtime-QvZ8i92b.js";import{r as S}from"./index-uubelm5h.js";import{d as A,u as F,$ as I,L as R,M as l,y as m,H as c,D as E,B as b,g as q}from"./nb_NO-BMC9bd8I.js";import{r as w}from"./index.es-CX44_AJF.js";import{R as p}from"./useRestApiRunner-c-Q2a7zB.js";import{b as x,a as y}from"./fplosRestApi-1yojVYCb.js";const C="_button_1e008_1",M={button:C},N=(n,a=[])=>a instanceof Array&&a.some(d=>n&&d.brukerIdent.toLowerCase()===n.brukerIdent.toLowerCase()),_=({valgtAvdelingEnhet:n,avdelingensSaksbehandlere:a,hentAvdelingensSaksbehandlere:d})=>{const o=A(),[i,k]=S.useState(!1),{data:r,startRequest:v,state:g,resetRequestData:h}=x.useRestApiRunner(y.SAKSBEHANDLER_SOK),{startRequest:T}=x.useRestApiRunner(y.OPPRETT_NY_SAKSBEHANDLER),u=N(r,a),f=s=>{r&&(k(!0),T({brukerIdent:r.brukerIdent,avdelingEnhet:n}).then(()=>{h(),s(),k(!1),d({avdelingEnhet:n})}))},L=s=>{h(),s()},j=S.useMemo(()=>g===p.SUCCESS&&!r?o.formatMessage({id:"LeggTilSaksbehandlerForm.FinnesIkke"}):r?u?`${r.navn} (${o.formatMessage({id:"LeggTilSaksbehandlerForm.FinnesAllerede"})})`:r.navn:"",[g,r,u]),t=F();return e.jsxs(I,{formMethods:t,onSubmit:s=>v({brukerIdent:s.brukerIdent}),children:[e.jsx(R,{size:"small",children:e.jsx(l,{id:"LeggTilSaksbehandlerForm.LeggTil"})}),e.jsx(m,{eightPx:!0}),e.jsxs(c,{gap:"4",children:[e.jsx(E,{name:"brukerIdent",label:o.formatMessage({id:"LeggTilSaksbehandlerForm.Brukerident"}),validate:[w]}),e.jsx("div",{className:M.button,children:e.jsx(b,{size:"small",variant:"secondary",loading:t.formState.isSubmitting,disabled:t.formState.isSubmitting||i,tabIndex:0,children:e.jsx(l,{id:"LeggTilSaksbehandlerForm.Sok"})})})]}),g===p.SUCCESS&&e.jsxs(e.Fragment,{children:[e.jsx(m,{eightPx:!0}),e.jsx(q,{size:"small",children:j}),e.jsx(m,{sixteenPx:!0}),e.jsxs(c,{gap:"4",children:[e.jsx(b,{size:"small",variant:"primary",autoFocus:!0,onClick:()=>f(t.reset),loading:i,disabled:i||u||!r,type:"button",children:e.jsx(l,{id:"LeggTilSaksbehandlerForm.LeggTilIListen"})}),e.jsx(b,{size:"small",variant:"secondary",tabIndex:0,disabled:i,onClick:()=>L(t.reset),type:"button",children:e.jsx(l,{id:"LeggTilSaksbehandlerForm.Nullstill"})})]})]})]})};_.__docgenInfo={description:"LeggTilSaksbehandlerForm",methods:[],displayName:"LeggTilSaksbehandlerForm",props:{valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]"},description:""},hentAvdelingensSaksbehandlere:{required:!0,tsType:{name:"signature",type:"function",raw:"(params: { avdelingEnhet: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ avdelingEnhet: string }",signature:{properties:[{key:"avdelingEnhet",value:{name:"string",required:!0}}]}},name:"params"}],return:{name:"void"}}},description:""}}};export{_ as L};
