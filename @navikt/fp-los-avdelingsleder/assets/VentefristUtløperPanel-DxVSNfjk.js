import{j as t,p as n,z as v,A as S}from"./iframe-DFo3noB3.js";import{b as V,D as b,F as j,R as m}from"./index.es-CJbnjcpv.js";import{u as k}from"./useQuery-qRtRdlG3.js";import{V as F,H as c,D as T}from"./fplosAvdelingslederApi-CV9QS9KC.js";import{S as P}from"./StoreValuesInLocalStorage-ClljZpjT.js";import{u as Y}from"./useLosKodeverk-DuR-2md-.js";import{R as L}from"./FlyttReservasjonModal-DoxRInPZ.js";import{L as A,M as f}from"./nb_NO-BNPLFGe8.js";n.extend(S);const h=({height:r,behandlingerPaVent:a})=>{const i=_(a),l=E(i);return t.jsx(L,{height:r,option:{tooltip:{trigger:"axis",axisPointer:{snap:!0,label:{formatter:e=>e.axisDimension==="y"?parseInt(e.value,10).toString():n(e.value).format(v)}}},toolbox:{feature:{saveAsImage:{title:"Lagre ",name:"Antall_forstegangsbehandlinger_der_frist_utloper"}}},xAxis:{type:"time",axisLabel:{formatter:"{dd}.{MM}.{yyyy}"}},yAxis:{type:"value"},series:[{data:l,type:"line",areaStyle:{}}],color:["#337c9b"]}})},_=r=>r.map(a=>({x:n(a.behandlingFrist).startOf("day").toDate().getTime(),y:a.antall})),E=r=>{const a=[],i=r.map(e=>n(e.x)).reduce((e,s)=>e.isSameOrBefore(s)?e:s,n().startOf("day")).toDate(),l=r.map(e=>n(e.x)).reduce((e,s)=>e.isSameOrAfter(s)?e:s,n().startOf("day")).toDate();for(let e=n(i);e.isSameOrBefore(l);e=e.add(1,"days")){const s=r.filter(o=>n(o.x).isSame(e)).map(o=>o.y).reduce((o,d)=>o+d,0);a.push([e.toDate(),s])}return a};h.__docgenInfo={description:"",methods:[],displayName:"VentefristUtløperGraf",props:{height:{required:!0,tsType:{name:"number"},description:""},behandlingerPaVent:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  fagsakYtelseType: string;
  behandlingFrist: string;
  antall: number;
}`,signature:{properties:[{key:"fagsakYtelseType",value:{name:"string",required:!0}},{key:"behandlingFrist",value:{name:"string",required:!0}},{key:"antall",value:{name:"number",required:!0}}]}}],raw:`Readonly<{
  fagsakYtelseType: string;
  behandlingFrist: string;
  antall: number;
}>`}],raw:"BehandlingVentefrist[]"},description:""}}};const u=(r,a)=>{const i=r.find(l=>l.kode===a);return i?i.navn:""},g="ALLE",y="ventefristUtløperForm",O={valgtYtelsetype:g},q=({height:r,valgtAvdelingEnhet:a,getValueFromLocalStorage:i})=>{const{data:l}=k(T(a)),e=Y("FagsakYtelseType"),s=i(y),o=s?JSON.parse(s):void 0,d=V({defaultValues:o??O}),p=d.watch();return t.jsxs(b,{formMethods:d,children:[t.jsx(P,{stateKey:y,values:p}),t.jsxs(F,{gap:"space-16",children:[t.jsx(A,{size:"small",children:t.jsx(f,{id:"VentefristUtløperPanel.SattPaVent"})}),t.jsx(c,{gap:"space-16",children:t.jsx(j,{name:"valgtYtelsetype",control:d.control,children:t.jsxs(c,{gap:"space-16",children:[t.jsx(m,{value:"FP",size:"small",children:u(e,"FP")}),t.jsx(m,{value:"ES",size:"small",children:u(e,"ES")}),t.jsx(m,{value:"SVP",size:"small",children:u(e,"SVP")}),t.jsx(m,{value:g,size:"small",children:t.jsx(f,{id:"VentefristUtløperPanel.Alle"})})]})})}),t.jsx(h,{height:r,behandlingerPaVent:l.filter(x=>p.valgtYtelsetype===g?!0:p.valgtYtelsetype===x.fagsakYtelseType)})]})]})};q.__docgenInfo={description:"",methods:[],displayName:"VentefristUtløperPanel",props:{height:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},getValueFromLocalStorage:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: string) => string | undefined",signature:{arguments:[{type:{name:"string"},name:"key"}],return:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}}},description:""}}};export{q as V};
