{"version":3,"file":"SaksbehandlereTabell-8ae1b89c.js","sources":["../../src/saksbehandlere/components/SaksbehandlereTabell.tsx"],"sourcesContent":["import React, { FunctionComponent, useState, useCallback, useMemo } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { BodyShort, Label } from '@navikt/ds-react';\nimport { XMarkIcon } from '@navikt/aksel-icons';\nimport { Table, TableRow, TableColumn, VerticalSpacer } from '@navikt/ft-ui-komponenter';\n\nimport Saksbehandler from '../../typer/saksbehandlerAvdelingTsType';\nimport SletteSaksbehandlerModal from './SletteSaksbehandlerModal';\nimport { RestApiPathsKeys, restApiHooks } from '../../data/fplosRestApi';\n\nimport styles from './saksbehandlereTabell.module.css';\n\nconst headerTextCodes = [\n  'SaksbehandlereTabell.Navn',\n  'SaksbehandlereTabell.Brukerident',\n  'SaksbehandlereTabell.Avdeling',\n];\n\ninterface OwnProps {\n  saksbehandlere: Saksbehandler[];\n  valgtAvdelingEnhet: string;\n  hentAvdelingensSaksbehandlere: (params: { avdelingEnhet: string }) => void;\n}\n\n/**\n * SaksbehandlereTabell\n */\nconst SaksbehandlereTabell: FunctionComponent<OwnProps> = ({\n  saksbehandlere,\n  valgtAvdelingEnhet,\n  hentAvdelingensSaksbehandlere,\n}) => {\n  const [valgtSaksbehandler, setValgtSaksbehandler] = useState<Saksbehandler>();\n\n  const { startRequest: fjernSaksbehandler } = restApiHooks.useRestApiRunner(RestApiPathsKeys.SLETT_SAKSBEHANDLER);\n\n  const fjernSaksbehandlerFn = useCallback(\n    (saksbehandler: Saksbehandler) => {\n      fjernSaksbehandler({ brukerIdent: saksbehandler.brukerIdent, avdelingEnhet: valgtAvdelingEnhet }).then(() =>\n        hentAvdelingensSaksbehandlere({ avdelingEnhet: valgtAvdelingEnhet }),\n      );\n      setValgtSaksbehandler(undefined);\n    },\n    [valgtAvdelingEnhet],\n  );\n\n  const sorterteSaksbehandlere = useMemo(\n    () =>\n      saksbehandlere.sort((saksbehandler1, saksbehandler2) => saksbehandler1.navn.localeCompare(saksbehandler2.navn)),\n    [saksbehandlere],\n  );\n\n  return (\n    <>\n      <Label size=\"small\">\n        <FormattedMessage id=\"SaksbehandlereTabell.Saksbehandlere\" />\n      </Label>\n      {sorterteSaksbehandlere.length === 0 && (\n        <>\n          <VerticalSpacer eightPx />\n          <BodyShort size=\"small\">\n            <FormattedMessage id=\"SaksbehandlereTabell.IngenSaksbehandlere\" />\n          </BodyShort>\n          <VerticalSpacer eightPx />\n        </>\n      )}\n      {sorterteSaksbehandlere.length > 0 && (\n        <Table headerTextCodes={headerTextCodes} noHover>\n          {sorterteSaksbehandlere.map(saksbehandler => (\n            <TableRow key={saksbehandler.brukerIdent}>\n              <TableColumn>{saksbehandler.navn}</TableColumn>\n              <TableColumn>{saksbehandler.brukerIdent}</TableColumn>\n              <TableColumn>{saksbehandler.avdelingsnavn.join(', ')}</TableColumn>\n              <TableColumn>\n                <XMarkIcon\n                  className={styles.removeIcon}\n                  onMouseDown={() => setValgtSaksbehandler(saksbehandler)}\n                  onKeyDown={() => setValgtSaksbehandler(saksbehandler)}\n                />\n              </TableColumn>\n            </TableRow>\n          ))}\n        </Table>\n      )}\n      {valgtSaksbehandler && (\n        <SletteSaksbehandlerModal\n          valgtSaksbehandler={valgtSaksbehandler}\n          closeSletteModal={() => setValgtSaksbehandler(undefined)}\n          fjernSaksbehandler={fjernSaksbehandlerFn}\n        />\n      )}\n    </>\n  );\n};\n\nexport default SaksbehandlereTabell;\n"],"names":["headerTextCodes","SaksbehandlereTabell","saksbehandlere","valgtAvdelingEnhet","hentAvdelingensSaksbehandlere","valgtSaksbehandler","setValgtSaksbehandler","useState","fjernSaksbehandler","restApiHooks","RestApiPathsKeys","fjernSaksbehandlerFn","useCallback","saksbehandler","sorterteSaksbehandlere","useMemo","saksbehandler1","saksbehandler2","jsxs","Fragment","jsx","Label","FormattedMessage","VerticalSpacer","BodyShort","Table","TableRow","TableColumn","XMarkIcon","styles","SletteSaksbehandlerModal","SaksbehandlereTabell$1"],"mappings":"mXAYAA,EAAA,CAAwB,4BACtB,mCACA,+BAEF,EAWAC,EAAA,CAAA,CAA2D,eAAAC,EACzD,mBAAAC,EACA,8BAAAC,CAEF,IAAA,CACE,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAEA,CAAA,aAAAC,CAAA,EAAAC,EAAA,iBAAAC,EAAA,mBAAA,EAEAC,EAAAC,EAAA,YAA6BC,GAAA,CAEzBL,EAAA,CAAA,YAAAK,EAAA,YAAA,cAAAV,CAAA,CAAA,EAAA,KAAkG,IAAAC,EAAA,CAAA,cAAAD,EAAA,CAC7B,EAErEG,EAAA,MAAA,CAA+B,EACjC,CAAAH,CAAA,CACmB,EAGrBW,EAAAC,EAAA,QAA+B,IAAAb,EAAA,KAAA,CAAAc,EAAAC,IAAAD,EAAA,KAAA,cAAAC,EAAA,IAAA,CAAA,EAEmF,CAAAf,CAAA,CACjG,EAGjB,OAAAgB,EAAA,KAAAC,WAAA,CAAA,SAAA,CAEIC,EAAAA,IAAAC,EAAA,CAAA,KAAA,QAAA,SAAAD,MAAAE,EAAA,CAAA,GAAA,qCAAA,CAAA,CAAA,CAAA,EAEAR,EAAA,SAAA,GAAAI,EAAA,KAAAC,EAAA,SAAA,CAAA,SAAA,CAGIC,EAAAA,IAAAG,EAAA,CAAA,QAAA,EAAA,CAAA,EAAwBH,EAAAA,IAAAI,EAAA,CAAA,KAAA,QAAA,SAAAJ,MAAAE,EAAA,CAAA,GAAA,0CAAA,CAAA,CAAA,CAAA,EAGxBF,EAAAA,IAAAG,EAAA,CAAA,QAAA,EAAA,CAAA,CACwB,EAAA,EAC1BT,EAAA,OAAA,GAAAM,EAAAA,IAAAK,EAAA,CAAA,gBAAAzB,EAAA,QAAA,GAAA,SAAAc,EAAA,IAAAD,GAAAK,EAAAA,KAAAQ,EAAA,CAAA,SAAA,CAMMN,EAAAA,IAAAO,EAAA,CAAA,SAAAd,EAAA,IAAA,CAAA,EAAiCO,EAAAA,IAAAO,EAAA,CAAA,SAAAd,EAAA,WAAA,CAAA,EACOO,MAAAO,EAAA,CAAA,SAAAd,EAAA,cAAA,KAAA,IAAA,EAAA,EACaO,MAAAO,EAAA,CAAA,SAAAP,EAAA,IAEnDQ,EAAC,CAAA,UAAAC,EAAA,WACmB,YAAA,IAAAvB,EAAAO,CAAA,EACoC,UAAA,IAAAP,EAAAO,CAAA,CACF,CAAA,EAAA,CAExD,CAAA,EAAAA,EAAA,WAAA,CAAA,EAAA,EAGNR,GAAAe,EAAA,IAGAU,EAAC,CAAA,mBAAAzB,EACC,iBAAA,IAAAC,EAAA,MAAA,EACuD,mBAAAK,CACnC,CAAA,CACtB,CAAA,CAAA,CAIR,EAEAoB,EAAA9B"}