import{r as S,R as e}from"./index-DogsOklH.js";import{b as A,u as I,O as q,L as C,F as l,a as u,H as p,C as x,B as b,h as w}from"./nb_NO-Tp50aoLI.js";import{r as N}from"./index.es-avvzJ7c1.js";import{R as h}from"./useRestApiRunner-t59neJBf.js";import{b as E,a as v}from"./fplosRestApi-7cfjsQHL.js";const _="_button_1e008_1",B={button:_},M=(n,s=[])=>s instanceof Array&&s.some(o=>n&&o.brukerIdent.toLowerCase()===n.brukerIdent.toLowerCase()),y=({valgtAvdelingEnhet:n,avdelingensSaksbehandlere:s,hentAvdelingensSaksbehandlere:o})=>{const d=A(),[i,c]=S.useState(!1),{data:t,startRequest:T,state:m,resetRequestData:k}=E.useRestApiRunner(v.SAKSBEHANDLER_SOK),{startRequest:L}=E.useRestApiRunner(v.OPPRETT_NY_SAKSBEHANDLER),g=M(t,s),f=r=>{t&&(c(!0),L({brukerIdent:t.brukerIdent,avdelingEnhet:n}).then(()=>{k(),r(),c(!1),o({avdelingEnhet:n})}))},F=r=>{k(),r()},R=S.useMemo(()=>{if(m===h.SUCCESS&&!t)return d.formatMessage({id:"LeggTilSaksbehandlerForm.FinnesIkke"});if(!t)return"";const r=`${t.navn}, ${t.avdelingsnavn.join(", ")}`;return g?`${r} (${d.formatMessage({id:"LeggTilSaksbehandlerForm.FinnesAllerede"})})`:r},[m,t,g]),a=I();return e.createElement(q,{formMethods:a,onSubmit:r=>T({brukerIdent:r.brukerIdent})},e.createElement(C,{size:"small"},e.createElement(l,{id:"LeggTilSaksbehandlerForm.LeggTil"})),e.createElement(u,{eightPx:!0}),e.createElement(p,{gap:"4"},e.createElement(x,{name:"brukerIdent",label:d.formatMessage({id:"LeggTilSaksbehandlerForm.Brukerident"}),validate:[N]}),e.createElement("div",{className:B.button},e.createElement(b,{size:"small",variant:"secondary",loading:a.formState.isSubmitting,disabled:a.formState.isSubmitting||i,tabIndex:0},e.createElement(l,{id:"LeggTilSaksbehandlerForm.Sok"})))),m===h.SUCCESS&&e.createElement(e.Fragment,null,e.createElement(u,{eightPx:!0}),e.createElement(w,{size:"small"},R),e.createElement(u,{sixteenPx:!0}),e.createElement(p,{gap:"4"},e.createElement(b,{size:"small",variant:"primary",autoFocus:!0,onClick:()=>f(a.reset),loading:i,disabled:i||g||!t,type:"button"},e.createElement(l,{id:"LeggTilSaksbehandlerForm.LeggTilIListen"})),e.createElement(b,{size:"small",variant:"secondary",tabIndex:0,disabled:i,onClick:()=>F(a.reset),type:"button"},e.createElement(l,{id:"LeggTilSaksbehandlerForm.Nullstill"})))))},O=y;y.__docgenInfo={description:"LeggTilSaksbehandlerForm",methods:[],displayName:"LeggTilSaksbehandlerForm",props:{valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"avdelingsnavn",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}>`}],raw:"Saksbehandler[]"},description:""},hentAvdelingensSaksbehandlere:{required:!0,tsType:{name:"signature",type:"function",raw:"(params: { avdelingEnhet: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ avdelingEnhet: string }",signature:{properties:[{key:"avdelingEnhet",value:{name:"string",required:!0}}]}},name:"params"}],return:{name:"void"}}},description:""}}};export{O as L};
