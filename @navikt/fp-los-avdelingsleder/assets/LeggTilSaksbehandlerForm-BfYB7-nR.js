import{j as e}from"./jsx-runtime-QvZ8i92b.js";import{r as S}from"./index-uubelm5h.js";import{u as A,L as F,M as l,B as I}from"./nb_NO-xOTxt9dL.js";import{u as R,$ as E,D as q}from"./index.es-Det53JvI.js";import{H as w}from"./index.es-D4mUV_xz.js";import{R as p,y as m}from"./useRestApiRunner-J7gTlJGx.js";import{b as c,a as x}from"./fplosRestApi-CXMGmySj.js";import{H as y}from"./VStack-yjYS5DzK.js";import{B as b}from"./Modal-tRW4hqse.js";const C="_button_1e008_1",M={button:C},N=(t,a=[])=>a instanceof Array&&a.some(o=>t&&o.brukerIdent.toLowerCase()===t.brukerIdent.toLowerCase()),_=({valgtAvdelingEnhet:t,avdelingensSaksbehandlere:a,hentAvdelingensSaksbehandlere:o})=>{const d=A(),[i,k]=S.useState(!1),{data:r,startRequest:f,state:u,resetRequestData:h}=c.useRestApiRunner(x.SAKSBEHANDLER_SOK),{startRequest:v}=c.useRestApiRunner(x.OPPRETT_NY_SAKSBEHANDLER),g=N(r,a),T=s=>{r&&(k(!0),v({brukerIdent:r.brukerIdent,avdelingEnhet:t}).then(()=>{h(),s(),k(!1),o({avdelingEnhet:t})}))},L=s=>{h(),s()},j=S.useMemo(()=>u===p.SUCCESS&&!r?d.formatMessage({id:"LeggTilSaksbehandlerForm.FinnesIkke"}):r?g?`${r.navn} (${d.formatMessage({id:"LeggTilSaksbehandlerForm.FinnesAllerede"})})`:r.navn:"",[u,r,g]),n=R();return e.jsxs(E,{formMethods:n,onSubmit:s=>f({brukerIdent:s.brukerIdent}),children:[e.jsx(F,{size:"small",children:e.jsx(l,{id:"LeggTilSaksbehandlerForm.LeggTil"})}),e.jsx(m,{eightPx:!0}),e.jsxs(y,{gap:"4",children:[e.jsx(q,{name:"brukerIdent",label:d.formatMessage({id:"LeggTilSaksbehandlerForm.Brukerident"}),validate:[w]}),e.jsx("div",{className:M.button,children:e.jsx(b,{size:"small",variant:"secondary",loading:n.formState.isSubmitting,disabled:n.formState.isSubmitting||i,tabIndex:0,children:e.jsx(l,{id:"LeggTilSaksbehandlerForm.Sok"})})})]}),u===p.SUCCESS&&e.jsxs(e.Fragment,{children:[e.jsx(m,{eightPx:!0}),e.jsx(I,{size:"small",children:j}),e.jsx(m,{sixteenPx:!0}),e.jsxs(y,{gap:"4",children:[e.jsx(b,{size:"small",variant:"primary",autoFocus:!0,onClick:()=>T(n.reset),loading:i,disabled:i||g||!r,type:"button",children:e.jsx(l,{id:"LeggTilSaksbehandlerForm.LeggTilIListen"})}),e.jsx(b,{size:"small",variant:"secondary",tabIndex:0,disabled:i,onClick:()=>L(n.reset),type:"button",children:e.jsx(l,{id:"LeggTilSaksbehandlerForm.Nullstill"})})]})]})]})};_.__docgenInfo={description:"LeggTilSaksbehandlerForm",methods:[],displayName:"LeggTilSaksbehandlerForm",props:{valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]"},description:""},hentAvdelingensSaksbehandlere:{required:!0,tsType:{name:"signature",type:"function",raw:"(params: { avdelingEnhet: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ avdelingEnhet: string }",signature:{properties:[{key:"avdelingEnhet",value:{name:"string",required:!0}}]}},name:"params"}],return:{name:"void"}}},description:""}}};export{_ as L};
