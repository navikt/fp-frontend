import{k as oe,j as r,v as H,n as je,h as Ee,p as ie,O as ce,s as Ne,B as C}from"./iframe-Cdpiyr6G.js";import{u as le,A as Z,P as me,w as Pe,M as Fe}from"./index.es-BRxw_zgG.js";import{u as b}from"./useMutation-BDVknvAd.js";import{p as ye,L as D,H as xe,q as Ke,r as qe,V as fe,t as we}from"./fplosAvdelingslederApi-DXj5QM_w.js";import{u as Ye}from"./useLosKodeverk-C8Sh09Wj.js";import{W as Le,H as ge}from"./index.es-YV7i7sBZ.js";import{u as U}from"./useDebounce-CWcZOiF6.js";import{D as M,M as P}from"./nb_NO-Bv7K8J19.js";const Ge="_dager_1u55p_1",Ie="_dagerMedBindestrek_1u55p_5",be="_dato_1u55p_19",ke="_arrowBoxWidth_1u55p_24",v={dager:Ge,dagerMedBindestrek:Ie,beløp:"_beløp_1u55p_10",dato:be,arrowBoxWidth:ke},Ve=({valgtSakslisteId:a,valgtAvdelingEnhet:c})=>{const h=oe(),{watch:d,trigger:l,control:m}=le(),f=d("fra"),y=d("til"),{mutate:g}=b({mutationFn:p=>ye(a,p.fra,p.til,c),onSuccess:()=>{h.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,a,c]}),h.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),h.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),u=p=>g({fra:p,til:y}),n=p=>g({fra:f,til:p}),S=U("fra",u,l),F=U("til",n,l);return r.jsxs(Le,{children:[r.jsx(M,{children:r.jsx(P,{id:"SorteringVelger.FiltrerPaHeltall"})}),r.jsxs(xe,{gap:"4",children:[r.jsx(Z,{name:"fra",control:m,className:v.dato,validate:[H],onChange:p=>S(p)}),r.jsx(M,{className:v.beløp,children:r.jsx(P,{id:"SorteringVelger.Valuta"})}),r.jsx(Z,{name:"til",control:m,className:v.dato,validate:[H],onChange:p=>F(p)}),r.jsx(M,{className:v.beløp,children:r.jsx(P,{id:"SorteringVelger.Valuta"})})]})]})};Ve.__docgenInfo={description:"",methods:[],displayName:"BelopSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""}}};var $={exports:{}},Oe=$.exports,he;function Re(){return he||(he=1,function(a,c){(function(h,d){a.exports=d()})(Oe,function(){var h={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},d=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d/,m=/\d\d/,f=/\d\d?/,y=/\d*[^-_:/,()\s\d]+/,g={},u=function(e){return(e=+e)+(e>68?1900:2e3)},n=function(e){return function(t){this[e]=+t}},S=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(t){if(!t||t==="Z")return 0;var s=t.match(/([+-]|\d\d)/g),o=60*s[1]+(+s[2]||0);return o===0?0:s[0]==="+"?-o:o}(e)}],F=function(e){var t=g[e];return t&&(t.indexOf?t:t.s.concat(t.f))},p=function(e,t){var s,o=g.meridiem;if(o){for(var i=1;i<=24;i+=1)if(e.indexOf(o(i,0,t))>-1){s=i>12;break}}else s=e===(t?"pm":"PM");return s},W={A:[y,function(e){this.afternoon=p(e,!1)}],a:[y,function(e){this.afternoon=p(e,!0)}],Q:[l,function(e){this.month=3*(e-1)+1}],S:[l,function(e){this.milliseconds=100*+e}],SS:[m,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[f,n("seconds")],ss:[f,n("seconds")],m:[f,n("minutes")],mm:[f,n("minutes")],H:[f,n("hours")],h:[f,n("hours")],HH:[f,n("hours")],hh:[f,n("hours")],D:[f,n("day")],DD:[m,n("day")],Do:[y,function(e){var t=g.ordinal,s=e.match(/\d+/);if(this.day=s[0],t)for(var o=1;o<=31;o+=1)t(o).replace(/\[|\]/g,"")===e&&(this.day=o)}],w:[f,n("week")],ww:[m,n("week")],M:[f,n("month")],MM:[m,n("month")],MMM:[y,function(e){var t=F("months"),s=(F("monthsShort")||t.map(function(o){return o.slice(0,3)})).indexOf(e)+1;if(s<1)throw new Error;this.month=s%12||s}],MMMM:[y,function(e){var t=F("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,n("year")],YY:[m,function(e){this.year=u(e)}],YYYY:[/\d{4}/,n("year")],Z:S,ZZ:S};function z(e){var t,s;t=e,s=g&&g.formats;for(var o=(e=t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(q,j,V){var L=V&&V.toUpperCase();return j||s[V]||h[V]||s[L].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(E,N,w){return N||w.slice(1)})})).match(d),i=o.length,A=0;A<i;A+=1){var I=o[A],K=W[I],T=K&&K[0],_=K&&K[1];o[A]=_?{regex:T,parser:_}:I.replace(/^\[|\]$/g,"")}return function(q){for(var j={},V=0,L=0;V<i;V+=1){var E=o[V];if(typeof E=="string")L+=E.length;else{var N=E.regex,w=E.parser,k=q.slice(L),G=N.exec(k)[0];w.call(j,G),q=q.replace(G,"")}}return function(Y){var O=Y.afternoon;if(O!==void 0){var x=Y.hours;O?x<12&&(Y.hours+=12):x===12&&(Y.hours=0),delete Y.afternoon}}(j),j}}return function(e,t,s){s.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(u=e.parseTwoDigitYear);var o=t.prototype,i=o.parse;o.parse=function(A){var I=A.date,K=A.utc,T=A.args;this.$u=K;var _=T[1];if(typeof _=="string"){var q=T[2]===!0,j=T[3]===!0,V=q||j,L=T[2];j&&(L=T[2]),g=this.$locale(),!q&&L&&(g=s.Ls[L]),this.$d=function(k,G,Y,O){try{if(["x","X"].indexOf(G)>-1)return new Date((G==="X"?1e3:1)*k);var x=z(G)(k),X=x.year,R=x.month,Ae=x.day,Te=x.hours,_e=x.minutes,Me=x.seconds,ve=x.milliseconds,de=x.zone,ue=x.week,J=new Date,ee=Ae||(X||R?1:J.getDate()),re=X||J.getFullYear(),B=0;X&&!R||(B=R>0?R-1:J.getMonth());var Q,te=Te||0,ae=_e||0,se=Me||0,ne=ve||0;return de?new Date(Date.UTC(re,B,ee,te,ae,se,ne+60*de.offset*1e3)):Y?new Date(Date.UTC(re,B,ee,te,ae,se,ne)):(Q=new Date(re,B,ee,te,ae,se,ne),ue&&(Q=O(Q).week(ue).toDate()),Q)}catch{return new Date("")}}(I,_,K,s),this.init(),L&&L!==!0&&(this.$L=this.locale(L).$L),V&&I!=this.format(_)&&(this.$d=new Date("")),g={}}else if(_ instanceof Array)for(var E=_.length,N=1;N<=E;N+=1){T[1]=_[N-1];var w=s.apply(this,T);if(w.isValid()){this.$d=w.$d,this.$L=w.$L,this.init();break}N===E&&(this.$d=new Date(""))}else i.call(this,A)}}})}($)),$.exports}var Be=Re();const Qe=je(Be);ie.extend(Qe);const Se=({valgtSakslisteId:a,valgtAvdelingEnhet:c,erDynamiskPeriode:h})=>{const d=oe(),l=Ee(),{mutate:m}=b({mutationFn:i=>ye(a,i.fra,i.til,c),onSuccess:()=>{d.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,a,c]}),d.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),d.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{mutate:f}=b({mutationFn:()=>Ke(a,c),onSuccess:()=>{d.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,a,c]}),d.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),d.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{mutate:y}=b({mutationFn:i=>qe(a,c,i.fomDato,i.tomDato),onSuccess:()=>{d.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,a,c]}),d.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),d.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{watch:g,control:u}=le(),n=g("fra"),S=g("til"),F=g("fomDato"),p=g("tomDato"),W=i=>m({fra:i,til:S}),z=i=>m({fra:n,til:i}),e=De(y,!0,p),t=De(y,!1,F),s=U("fomDato",e),o=U("tomDato",t);return r.jsx("div",{className:v.arrowBoxWidth,children:r.jsx(Le,{children:r.jsxs(fe,{gap:"2",children:[r.jsx(M,{children:r.jsx(P,{id:"SorteringVelger.FiltrerPaTidsintervall"})}),h&&r.jsxs(xe,{gap:"4",children:[r.jsxs("div",{children:[r.jsx(Z,{name:"fra",control:u,className:v.dato,label:l.formatMessage({id:"SorteringVelger.Fom"}),validate:[H],onBlur:i=>W(i)}),(n||n===0)&&r.jsx(M,{children:r.jsx(ge,{dateString:pe(n)})})]}),r.jsx(M,{className:v.dager,children:r.jsx(P,{id:"SorteringVelger.DagerMedBindestrek"})}),r.jsxs("div",{children:[r.jsx(Z,{name:"til",control:u,className:v.dato,label:l.formatMessage({id:"SorteringVelger.Tom"}),validate:[H],onBlur:i=>z(i)}),(S||S===0)&&r.jsx(M,{children:r.jsx(ge,{dateString:pe(S)})})]}),r.jsx(M,{className:v.dagerMedBindestrek,children:r.jsx(P,{id:"SorteringVelger.Dager"})})]}),!h&&r.jsxs(fe,{gap:"4",children:[r.jsx(me,{name:"fomDato",control:u,label:l.formatMessage({id:"SorteringVelger.Fom"}),validate:[ce],onChange:s}),r.jsx(M,{children:r.jsx(P,{id:"SorteringVelger.Bindestrek"})}),r.jsx(me,{name:"tomDato",control:u,label:l.formatMessage({id:"SorteringVelger.Tom"}),validate:[ce],onChange:o})]}),r.jsx(Pe,{name:"erDynamiskPeriode",control:u,label:l.formatMessage({id:"SorteringVelger.DynamiskPeriode"}),onChange:()=>f()})]})})})},pe=a=>ie().add(a,"d").format(),De=(a,c,h)=>d=>{let l;if(d&&(l=ie(d)),!l||l.isValid()){const m=l&&l.format(Ne);return a(c?{fomDato:m,tomDato:h}:{fomDato:h,tomDato:m})}};Se.__docgenInfo={description:"",methods:[],displayName:"DatoSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};const Ce=a=>a&&a.some(c=>c===C.TILBAKEKREVING||c===C.TILBAKEKREVING_REVURDERING)&&!a.some(c=>c!==C.TILBAKEKREVING&&c!==C.TILBAKEKREVING_REVURDERING),$e=({valgtSakslisteId:a,valgteBehandlingtyper:c,valgtAvdelingEnhet:h,erDynamiskPeriode:d})=>{const l=oe(),{resetField:m,control:f}=le(),{mutate:y}=b({mutationFn:u=>we(a,u.sorteringType,h),onSuccess:()=>{l.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,a,h]}),l.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),g=Ye("KøSortering");return r.jsx(Fe,{name:"sortering",control:f,label:r.jsx(P,{id:"SorteringVelger.Sortering"}),onChange:u=>(m("fra",{defaultValue:""}),m("til",{defaultValue:""}),m("fomDato",{defaultValue:""}),m("tomDato",{defaultValue:""}),m("erDynamiskPeriode",{defaultValue:""}),y({sorteringType:u})),radios:g.filter(u=>u.feltkategori!=="TILBAKEKREVING"||Ce(c)).map(u=>({value:u.kode,label:u.navn,element:r.jsxs(r.Fragment,{children:[u.felttype==="DATO"&&r.jsx(Se,{valgtSakslisteId:a,valgtAvdelingEnhet:h,erDynamiskPeriode:d}),u.felttype==="HELTALL"&&r.jsx(Ve,{valgtSakslisteId:a,valgtAvdelingEnhet:h})]})}))})};$e.__docgenInfo={description:"",methods:[],displayName:"SorteringVelger",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgteBehandlingtyper:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};export{$e as S};
