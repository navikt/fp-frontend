import{j as e}from"./jsx-runtime-9c4ae004.js";import{r as i,R as A}from"./index-1b03fe98.js";import{n as V,c as L,U as N,Y as C,z as y,L as M,F as c,a as k,b as _,K,g as q,W as o,M as D}from"./nb_NO-91e99ecf.js";import{I}from"./index.es-657e045f.js";import{b as F,R as B}from"./fplosRestApi-beda4f04.js";import{u as T}from"./useLosKodeverk-3c749e2b.js";import{S as z}from"./SletteSakslisteModal-5aa6a1b1.js";import{X as Y}from"./Provider-c82db7e7.js";import{H}from"./Heading-39bd052b.js";import{D as Z}from"./Detail-a958125f.js";var $=globalThis&&globalThis.__rest||function(n,l){var s={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&l.indexOf(t)<0&&(s[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(n);a<t.length;a++)l.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(n,t[a])&&(s[t[a]]=n[t[a]]);return s};const U=i.forwardRef((n,l)=>{var{title:s,titleId:t}=n,a=$(n,["title","titleId"]);let d=V();return d=s?t||"title-"+d:void 0,i.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:l,"aria-labelledby":d},a),s?i.createElement("title",{id:d},s):null,i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.75 12a8.25 8.25 0 1 1 16.5 0 8.25 8.25 0 0 1-16.5 0ZM12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm0 4.5a.75.75 0 0 1 .75.75v3.75h3.75a.75.75 0 0 1 0 1.5h-3.75v3.75a.75.75 0 0 1-1.5 0v-3.75H7.5a.75.75 0 0 1 0-1.5h3.75V7.5a.75.75 0 0 1 .75-.75Z",fill:"currentColor"}))}),X=U;var W=globalThis&&globalThis.__rest||function(n,l){var s={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&l.indexOf(t)<0&&(s[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(n);a<t.length;a++)l.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(n,t[a])&&(s[t[a]]=n[t[a]]);return s};const J=i.forwardRef((n,l)=>{var{as:s="a",className:t,underline:a=!0,variant:d="action",inlineText:f=!1}=n,j=W(n,["as","className","underline","variant","inlineText"]);return A.createElement(s,Object.assign({},j,{ref:l,className:L("navds-link",t,`navds-link--${d}`,{"navds-link--remove-underline":!a,"navds-link--inline-text":f})}))}),Q=J,ee="_isSelected_1vwpj_1",ne="_addCircleIcon_1vwpj_5",te="_imageText_1vwpj_6",le="_grayBox_1vwpj_12",ae="_margin_1vwpj_17",re="_addPeriode_1vwpj_21",se="_removeImage_1vwpj_26",m={isSelected:ee,addCircleIcon:ne,imageText:te,grayBox:le,margin:ae,addPeriode:re,removeImage:se},ie=["GjeldendeSakslisterTabell.Listenavn","GjeldendeSakslisterTabell.Stonadstype","GjeldendeSakslisterTabell.Behandlingtype","GjeldendeSakslisterTabell.AntallSaksbehandlere","GjeldendeSakslisterTabell.AntallBehandlinger","GjeldendeSakslisterTabell.SistEndret","EMPTY_1"],de=(n,l)=>!l||l.length===0?e.jsx(c,{id:"GjeldendeSakslisterTabell.Alle"}):l.map(s=>{const t=n.find(a=>a.kode===s);return t?t.navn:""}).join(", "),oe=(n,l)=>!l||l.length===0||l.length===n.length?e.jsx(c,{id:"GjeldendeSakslisterTabell.Alle"}):l.map(s=>{const t=n.find(a=>a.kode===s);return t?t.navn:""}).join(", "),ce=n=>new Promise(l=>{setTimeout(l,n)}),w=({sakslister:n,valgtAvdelingEnhet:l,setValgtSakslisteId:s,valgtSakslisteId:t,oppgaverForAvdelingAntall:a,lagNySaksliste:d,resetValgtSakslisteId:f,hentAvdelingensSakslister:j})=>{const[h,x]=i.useState(),u=i.useRef([]),O=T(I.BEHANDLING_TYPE),E=T(I.FAGSAK_YTELSE),{startRequest:G}=F.useRestApiRunner(B.SLETT_SAKSLISTE);i.useEffect(()=>{u.current=u.current.slice(0,n.length)},[n]);const b=async(r,p)=>{u.current.some(g=>g&&g.contains(r.target))||(await ce(100),p&&s(p))},P=i.useCallback(r=>{r.keyCode===13&&d(l)},[l]),S=r=>{x(r)},v=i.useCallback(()=>{x(void 0)},[]),R=i.useCallback(r=>{v(),G({sakslisteId:r.sakslisteId,avdelingEnhet:l}).then(()=>{f(),j({avdelingEnhet:l})})},[l]);return e.jsxs(e.Fragment,{children:[e.jsx(N,{children:e.jsxs(C,{children:[e.jsx(y,{children:e.jsx(M,{size:"small",children:e.jsx(c,{id:"GjeldendeSakslisterTabell.GjeldendeLister"})})}),e.jsx(y,{className:m.margin,children:e.jsxs("div",{className:m.grayBox,children:[e.jsx(k,{size:"small",children:e.jsx(c,{id:"GjeldendeSakslisterTabell.OppgaverForAvdeling"})}),e.jsx(H,{size:"small",children:a||"0"})]})})]})}),n.length===0&&e.jsxs(e.Fragment,{children:[e.jsx(_,{eightPx:!0}),e.jsx(k,{size:"small",children:e.jsx(c,{id:"GjeldendeSakslisterTabell.IngenLister"})}),e.jsx(_,{eightPx:!0})]}),n.length>0&&e.jsx(K,{headerTextCodes:ie,children:n.map((r,p)=>e.jsxs(q,{className:r.sakslisteId===t?m.isSelected:void 0,id:r.sakslisteId,onMouseDown:b,onKeyDown:b,children:[e.jsx(o,{children:r.navn}),e.jsx(o,{children:de(E,r.fagsakYtelseTyper)}),e.jsx(o,{children:oe(O,r.behandlingTyper)}),e.jsx(o,{children:r.saksbehandlerIdenter.length>0?r.saksbehandlerIdenter.length:""}),e.jsx(o,{children:r.antallBehandlinger}),e.jsx(o,{children:e.jsx(D,{dateString:r.sistEndret})}),e.jsx(o,{children:e.jsx("div",{ref:g=>{u.current[p]=g},children:e.jsx(Y,{className:m.removeImage,onMouseDown:()=>S(r),onKeyDown:()=>S(r)})})})]},r.sakslisteId))}),e.jsxs(Q,{onClick:()=>d(l),onKeyDown:P,children:[e.jsx(Z,{className:m.imageText,children:e.jsx(c,{id:"GjeldendeSakslisterTabell.LeggTilListe"})}),e.jsx(X,{})]}),h&&e.jsx(z,{valgtSaksliste:h,cancel:v,submit:R})]})};try{w.displayName="GjeldendeSakslisterTabell",w.__docgenInfo={description:"GjeldendeSakslisterTabell",displayName:"GjeldendeSakslisterTabell",props:{sakslister:{defaultValue:null,description:"",name:"sakslister",required:!0,type:{name:"Readonly<{ sakslisteId: number; navn?: string | undefined; behandlingTyper?: string[] | undefined; fagsakYtelseTyper?: string[] | undefined; sistEndret: string; sortering?: { sorteringType: string; ... 4 more ...; erDynamiskPeriode: boolean; } | undefined; andreKriterier?: Readonly<...>[] | undefined; saksbehandlerI..."}},setValgtSakslisteId:{defaultValue:null,description:"",name:"setValgtSakslisteId",required:!0,type:{name:"(sakslisteId: number) => void"}},valgtSakslisteId:{defaultValue:null,description:"",name:"valgtSakslisteId",required:!1,type:{name:"number"}},valgtAvdelingEnhet:{defaultValue:null,description:"",name:"valgtAvdelingEnhet",required:!0,type:{name:"string"}},oppgaverForAvdelingAntall:{defaultValue:null,description:"",name:"oppgaverForAvdelingAntall",required:!1,type:{name:"number"}},lagNySaksliste:{defaultValue:null,description:"",name:"lagNySaksliste",required:!0,type:{name:"(avdelingEnhet: string) => void"}},resetValgtSakslisteId:{defaultValue:null,description:"",name:"resetValgtSakslisteId",required:!0,type:{name:"() => void"}},hentAvdelingensSakslister:{defaultValue:null,description:"",name:"hentAvdelingensSakslister",required:!0,type:{name:"(params: { avdelingEnhet: string; }) => void"}}}}}catch{}export{w as G};
//# sourceMappingURL=GjeldendeSakslisterTabell-0492ae5c.js.map
