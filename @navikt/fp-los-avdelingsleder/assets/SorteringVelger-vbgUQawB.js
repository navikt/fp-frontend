import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{a as ie,A as H,P as ce,y as Ee,M as je}from"./index.es-BfB-Wzx7.js";import{u as oe,D as T,M as N,e as Ne,P as Pe,B as Q}from"./nb_NO-CVVmh4cd.js";import{u as G}from"./useMutation-CB1X664z.js";import{z as ye,L as f,c as Se,A as Fe,B as Ke,V as me,C as Ie}from"./fplosAvdelingslederApi-CXqcu6FC.js";import{u as Ye}from"./useLosKodeverk-h2Jvz6_C.js";import{f as Z,p as ge}from"./index.es-Ce0ckQwI.js";import{G as xe,X as fe}from"./index.es-Bf43bRIN.js";import{u as z}from"./useDebounce-WV17_brs.js";import"./index-mMUbb89k.js";import{d as le}from"./dayjs.min-Cke173X9.js";import{g as ke}from"./_commonjsHelpers-Cpj98o6Y.js";const qe="_dager_1u55p_1",Ge="_dagerMedBindestrek_1u55p_5",we="_dato_1u55p_19",be="_arrowBoxWidth_1u55p_24",_={dager:qe,dagerMedBindestrek:Ge,beløp:"_beløp_1u55p_10",dato:we,arrowBoxWidth:be},Le=({valgtSakslisteId:d,valgtAvdelingEnhet:m})=>{const g=oe(),{watch:l,trigger:o}=ie(),u=l("fra"),c=l("til"),{mutate:h}=G({mutationFn:p=>ye(d,p.fra,p.til,m),onSuccess:()=>{g.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),g.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),g.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),s=p=>h({fra:p,til:c}),x=p=>h({fra:u,til:p}),i=z("fra",s,o),Y=z("til",x,o);return r.jsxs(xe,{children:[r.jsx(T,{children:r.jsx(N,{id:"SorteringVelger.FiltrerPaHeltall"})}),r.jsxs(Se,{gap:"4",children:[r.jsx(H,{name:"fra",className:_.dato,validate:[Z],onChange:i}),r.jsx(T,{className:_.beløp,children:r.jsx(N,{id:"SorteringVelger.Valuta"})}),r.jsx(H,{name:"til",className:_.dato,validate:[Z],onChange:Y}),r.jsx(T,{className:_.beløp,children:r.jsx(N,{id:"SorteringVelger.Valuta"})})]})]})};Le.__docgenInfo={description:"",methods:[],displayName:"BelopSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""}}};var $={exports:{}},Re=$.exports,he;function Be(){return he||(he=1,function(d,m){(function(g,l){d.exports=l()})(Re,function(){var g={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},l=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d/,u=/\d\d/,c=/\d\d?/,h=/\d*[^-_:/,()\s\d]+/,s={},x=function(e){return(e=+e)+(e>68?1900:2e3)},i=function(e){return function(a){this[e]=+a}},Y=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(a){if(!a||a==="Z")return 0;var n=a.match(/([+-]|\d\d)/g),t=60*n[1]+(+n[2]||0);return t===0?0:n[0]==="+"?-t:t}(e)}],p=function(e){var a=s[e];return a&&(a.indexOf?a:a.s.concat(a.f))},w=function(e,a){var n,t=s.meridiem;if(t){for(var L=1;L<=24;L+=1)if(e.indexOf(t(L,0,a))>-1){n=L>12;break}}else n=e===(a?"pm":"PM");return n},U={A:[h,function(e){this.afternoon=w(e,!1)}],a:[h,function(e){this.afternoon=w(e,!0)}],Q:[o,function(e){this.month=3*(e-1)+1}],S:[o,function(e){this.milliseconds=100*+e}],SS:[u,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[c,i("seconds")],ss:[c,i("seconds")],m:[c,i("minutes")],mm:[c,i("minutes")],H:[c,i("hours")],h:[c,i("hours")],HH:[c,i("hours")],hh:[c,i("hours")],D:[c,i("day")],DD:[u,i("day")],Do:[h,function(e){var a=s.ordinal,n=e.match(/\d+/);if(this.day=n[0],a)for(var t=1;t<=31;t+=1)a(t).replace(/\[|\]/g,"")===e&&(this.day=t)}],w:[c,i("week")],ww:[u,i("week")],M:[c,i("month")],MM:[u,i("month")],MMM:[h,function(e){var a=p("months"),n=(p("monthsShort")||a.map(function(t){return t.slice(0,3)})).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[h,function(e){var a=p("months").indexOf(e)+1;if(a<1)throw new Error;this.month=a%12||a}],Y:[/[+-]?\d+/,i("year")],YY:[u,function(e){this.year=x(e)}],YYYY:[/\d{4}/,i("year")],Z:Y,ZZ:Y};function W(e){var a,n;a=e,n=s&&s.formats;for(var t=(e=a.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(F,M,S){var y=S&&S.toUpperCase();return M||n[S]||g[S]||n[y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(E,j,K){return j||K.slice(1)})})).match(l),L=t.length,V=0;V<L;V+=1){var q=t[V],P=U[q],A=P&&P[0],v=P&&P[1];t[V]=v?{regex:A,parser:v}:q.replace(/^\[|\]$/g,"")}return function(F){for(var M={},S=0,y=0;S<L;S+=1){var E=t[S];if(typeof E=="string")y+=E.length;else{var j=E.regex,K=E.parser,b=F.slice(y),k=j.exec(b)[0];K.call(M,k),F=F.replace(k,"")}}return function(I){var R=I.afternoon;if(R!==void 0){var D=I.hours;R?D<12&&(I.hours+=12):D===12&&(I.hours=0),delete I.afternoon}}(M),M}}return function(e,a,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(x=e.parseTwoDigitYear);var t=a.prototype,L=t.parse;t.parse=function(V){var q=V.date,P=V.utc,A=V.args;this.$u=P;var v=A[1];if(typeof v=="string"){var F=A[2]===!0,M=A[3]===!0,S=F||M,y=A[2];M&&(y=A[2]),s=this.$locale(),!F&&y&&(s=n.Ls[y]),this.$d=function(b,k,I,R){try{if(["x","X"].indexOf(k)>-1)return new Date((k==="X"?1e3:1)*b);var D=W(k)(b),X=D.year,B=D.month,Ae=D.day,ve=D.hours,Te=D.minutes,_e=D.seconds,Me=D.milliseconds,de=D.zone,ue=D.week,J=new Date,ee=Ae||(X||B?1:J.getDate()),re=X||J.getFullYear(),O=0;X&&!B||(O=B>0?B-1:J.getMonth());var C,te=ve||0,ae=Te||0,se=_e||0,ne=Me||0;return de?new Date(Date.UTC(re,O,ee,te,ae,se,ne+60*de.offset*1e3)):I?new Date(Date.UTC(re,O,ee,te,ae,se,ne)):(C=new Date(re,O,ee,te,ae,se,ne),ue&&(C=R(C).week(ue).toDate()),C)}catch{return new Date("")}}(q,v,P,n),this.init(),y&&y!==!0&&(this.$L=this.locale(y).$L),S&&q!=this.format(v)&&(this.$d=new Date("")),s={}}else if(v instanceof Array)for(var E=v.length,j=1;j<=E;j+=1){A[1]=v[j-1];var K=n.apply(this,A);if(K.isValid()){this.$d=K.$d,this.$L=K.$L,this.init();break}j===E&&(this.$d=new Date(""))}else L.call(this,V)}}})}($)),$.exports}var Oe=Be();const Ce=ke(Oe);le.extend(Ce);const Ve=({valgtSakslisteId:d,valgtAvdelingEnhet:m,erDynamiskPeriode:g})=>{const l=oe(),o=Ne(),{mutate:u}=G({mutationFn:t=>ye(d,t.fra,t.til,m),onSuccess:()=>{l.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),{mutate:c}=G({mutationFn:()=>Fe(d,m),onSuccess:()=>{l.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),{mutate:h}=G({mutationFn:t=>Ke(d,m,t.fomDato,t.tomDato),onSuccess:()=>{l.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),{watch:s}=ie(),x=s("fra"),i=s("til"),Y=s("fomDato"),p=s("tomDato"),w=t=>u({fra:t,til:i}),U=t=>u({fra:x,til:t}),W=De(h,!0,p),e=De(h,!1,Y),a=z("fomDato",W),n=z("tomDato",e);return r.jsx("div",{className:_.arrowBoxWidth,children:r.jsx(xe,{children:r.jsxs(me,{gap:"2",children:[r.jsx(T,{children:r.jsx(N,{id:"SorteringVelger.FiltrerPaTidsintervall"})}),g&&r.jsxs(Se,{gap:"4",children:[r.jsxs("div",{children:[r.jsx(H,{name:"fra",className:_.dato,label:o.formatMessage({id:"SorteringVelger.Fom"}),validate:[Z],onBlur:w}),(x||x===0)&&r.jsx(T,{children:r.jsx(fe,{dateString:pe(x)})})]}),r.jsx(T,{className:_.dager,children:r.jsx(N,{id:"SorteringVelger.DagerMedBindestrek"})}),r.jsxs("div",{children:[r.jsx(H,{name:"til",className:_.dato,label:o.formatMessage({id:"SorteringVelger.Tom"}),validate:[Z],onBlur:U}),(i||i===0)&&r.jsx(T,{children:r.jsx(fe,{dateString:pe(i)})})]}),r.jsx(T,{className:_.dagerMedBindestrek,children:r.jsx(N,{id:"SorteringVelger.Dager"})})]}),!g&&r.jsxs(me,{gap:"4",children:[r.jsx(ce,{name:"fomDato",label:o.formatMessage({id:"SorteringVelger.Fom"}),validate:[ge],onChange:a}),r.jsx(T,{children:r.jsx(N,{id:"SorteringVelger.Bindestrek"})}),r.jsx(ce,{name:"tomDato",label:o.formatMessage({id:"SorteringVelger.Tom"}),validate:[ge],onChange:n})]}),r.jsx(Ee,{name:"erDynamiskPeriode",label:o.formatMessage({id:"SorteringVelger.DynamiskPeriode"}),onChange:()=>c()})]})})})},pe=d=>le().add(d,"d").format(),De=(d,m,g)=>l=>{let o;if(l&&(o=le(l)),!o||o.isValid()){const u=o&&o.format(Pe);return d(m?{fomDato:u,tomDato:g}:{fomDato:g,tomDato:u})}};Ve.__docgenInfo={description:"",methods:[],displayName:"DatoSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};const Qe=d=>d&&d.some(m=>m===Q.TILBAKEKREVING||m===Q.TILBAKEKREVING_REVURDERING)&&!d.some(m=>m!==Q.TILBAKEKREVING&&m!==Q.TILBAKEKREVING_REVURDERING),$e=({valgtSakslisteId:d,valgteBehandlingtyper:m,valgtAvdelingEnhet:g,erDynamiskPeriode:l})=>{const o=oe(),{resetField:u}=ie(),{mutate:c}=G({mutationFn:s=>Ie(d,s.sorteringType,g),onSuccess:()=>{o.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),o.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),o.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),h=Ye("KøSortering");return r.jsx(je,{name:"sortering",label:r.jsx(N,{id:"SorteringVelger.Sortering"}),onChange:s=>(u("fra",{defaultValue:""}),u("til",{defaultValue:""}),u("fomDato",{defaultValue:""}),u("tomDato",{defaultValue:""}),u("erDynamiskPeriode",{defaultValue:""}),c({sorteringType:s})),radios:h.filter(s=>s.feltkategori!=="TILBAKEKREVING"||Qe(m)).map(s=>({value:s.kode,label:s.navn,element:r.jsxs(r.Fragment,{children:[s.felttype==="DATO"&&r.jsx(Ve,{valgtSakslisteId:d,valgtAvdelingEnhet:g,erDynamiskPeriode:l}),s.felttype==="HELTALL"&&r.jsx(Le,{valgtSakslisteId:d,valgtAvdelingEnhet:g})]})}))})};$e.__docgenInfo={description:"",methods:[],displayName:"SorteringVelger",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgteBehandlingtyper:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};export{$e as S};
