import{j as r,a as o}from"./jsx-runtime-86dfebf6.js";import{r as u}from"./index-1b03fe98.js";import{l as y,u as K,O as N,H as I,a as b,i as _,C as P,B as R}from"./nb_NO-7d7a9a16.js";import{r as U,G as D,k as B,I as j}from"./index.es-6bc5cfcb.js";import{b as T,R as V}from"./fplosRestApi-e273a6f1.js";import{B as v}from"./BehandlingstypeVelger-75a8a07c.js";import{A as O}from"./AndreKriterierVelger-3608edc0.js";import{F as L}from"./FagsakYtelseTypeVelger-1dafc6bf.js";import{u as q,S as z}from"./SorteringVelger-6686e612.js";import{P as M}from"./Panel-ccb95562.js";import{V as C}from"./VStack-a54df971.js";const E="_grayBox_zjuun_1",Y="_panel_zjuun_6",G="_bredde_zjuun_11",f={grayBox:E,panel:Y,bredde:G},H=B(3),w=j(100),$=(n,e)=>{var d,a;const t=e.behandlingTyper?e.behandlingTyper.reduce((i,s)=>({...i,[s]:!0}),{}):{},p=e.fagsakYtelseTyper?e.fagsakYtelseTyper.reduce((i,s)=>({...i,[s]:!0}),{}):{},l=e.andreKriterier?e.andreKriterier.reduce((i,s)=>({...i,[s.andreKriterierType]:!0}),{}):{},m=e.andreKriterier?e.andreKriterier.reduce((i,s)=>({...i,[`${s.andreKriterierType}_inkluder`]:s.inkluder}),{}):{};return{sakslisteId:e.sakslisteId,navn:e.navn?e.navn:n.formatMessage({id:"UtvalgskriterierForSakslisteForm.NyListe"}),sortering:e.sortering?e.sortering.sorteringType:void 0,fomDato:e.sortering?e.sortering.fomDato:void 0,tomDato:e.sortering?e.sortering.tomDato:void 0,fra:e.sortering?(d=e.sortering.fra)==null?void 0:d.toString():void 0,til:e.sortering?(a=e.sortering.til)==null?void 0:a.toString():void 0,erDynamiskPeriode:e.sortering?e.sortering.erDynamiskPeriode:void 0,...l,...m,...t,...p}},h=({valgtSaksliste:n,valgtAvdelingEnhet:e,hentAvdelingensSakslister:t,hentOppgaverForAvdelingAntall:p})=>{const l=y.useIntl(),{data:m,startRequest:d}=T.useRestApiRunner(V.OPPGAVE_ANTALL);u.useEffect(()=>{d({sakslisteId:n.sakslisteId,avdelingEnhet:e})},[n.sakslisteId]);const a=u.useCallback((g,F)=>{d({sakslisteId:g,avdelingEnhet:F}),p({avdelingEnhet:F})},[]),{startRequest:i}=T.useRestApiRunner(V.LAGRE_SAKSLISTE_NAVN),s=u.useCallback(g=>{i({sakslisteId:n.sakslisteId,navn:g,avdelingEnhet:e}).then(()=>t({avdelingEnhet:e}))},[e,n]),x=u.useMemo(()=>$(l,n),[n]),c=K({defaultValues:x}),A=q("navn",s,c.trigger),k=c.watch();return r(N,{formMethods:c,children:o(M,{className:f.panel,children:[r(I,{size:"small",children:r(y.FormattedMessage,{id:"UtvalgskriterierForSakslisteForm.Utvalgskriterier"})}),r(b,{eightPx:!0}),o(C,{gap:"4",children:[o(_,{justify:"space-between",children:[r(P,{name:"navn",label:l.formatMessage({id:"UtvalgskriterierForSakslisteForm.Navn"}),validate:[U,H,w,D],onChange:A,className:f.bredde}),o("div",{className:f.grayBox,children:[r(R,{size:"small",children:r(y.FormattedMessage,{id:"UtvalgskriterierForSakslisteForm.AntallSaker"})}),r(I,{size:"small",children:m?`${m}`:"0"})]})]}),o(_,{justify:"space-between",children:[o("div",{children:[r(L,{valgtSakslisteId:n.sakslisteId,valgtAvdelingEnhet:e,hentAvdelingensSakslister:t,hentAntallOppgaver:a}),r(v,{valgtSakslisteId:n.sakslisteId,valgtAvdelingEnhet:e,hentAvdelingensSakslister:t,hentAntallOppgaver:a})]}),r("div",{children:r(O,{valgtSakslisteId:n.sakslisteId,valgtAvdelingEnhet:e,values:k,hentAvdelingensSakslister:t,hentAntallOppgaver:a})}),r("div",{children:r(z,{valgtSakslisteId:n.sakslisteId,valgteBehandlingtyper:n.behandlingTyper,valgtAvdelingEnhet:e,erDynamiskPeriode:!!k.erDynamiskPeriode,hentAvdelingensSakslister:t,hentAntallOppgaver:a})})]})]}),r(b,{sixteenPx:!0})]})})},te=h;try{h.displayName="UtvalgskriterierForSakslisteForm",h.__docgenInfo={description:"UtvalgskriterierForSakslisteForm",displayName:"UtvalgskriterierForSakslisteForm",props:{valgtSaksliste:{defaultValue:null,description:"",name:"valgtSaksliste",required:!0,type:{name:"Readonly<{ sakslisteId: number; navn?: string | undefined; behandlingTyper?: string[] | undefined; fagsakYtelseTyper?: string[] | undefined; sistEndret: string; sortering?: { sorteringType: string; ... 4 more ...; erDynamiskPeriode: boolean; } | undefined; andreKriterier?: Readonly<...>[] | undefined; saksbehandlerI..."}},valgtAvdelingEnhet:{defaultValue:null,description:"",name:"valgtAvdelingEnhet",required:!0,type:{name:"string"}},hentAvdelingensSakslister:{defaultValue:null,description:"",name:"hentAvdelingensSakslister",required:!0,type:{name:"(params: { avdelingEnhet: string; }) => void"}},hentOppgaverForAvdelingAntall:{defaultValue:null,description:"",name:"hentOppgaverForAvdelingAntall",required:!0,type:{name:"(params: { avdelingEnhet: string; }) => void"}}}}}catch{}export{te as U};
//# sourceMappingURL=UtvalgskriterierForSakslisteForm-6db0d810.js.map
