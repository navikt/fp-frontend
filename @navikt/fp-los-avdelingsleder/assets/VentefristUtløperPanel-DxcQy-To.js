import{j as t,p as n,z as E,A as v,F as d}from"./iframe-CAoepdM6.js";import{b as V,D as b,F as A,R as p}from"./index.es-6DpFSSzT.js";import{u as j}from"./useQuery-CIyAbh--.js";import{V as T,H as f,D as F}from"./fplosAvdelingslederApi-oBKxW7VS.js";import{S as R}from"./StoreValuesInLocalStorage-C2_QVHKC.js";import{u as k}from"./useLosKodeverk-A8B8iZfZ.js";import{R as N}from"./FlyttReservasjonModal-Bwglgis8.js";import{L as P,M as y}from"./nb_NO-2e8QuZR3.js";n.extend(v);const x=({height:r,behandlingerPaVent:a})=>{const i=L(a),l=Y(i);return t.jsx(N,{height:r,option:{tooltip:{trigger:"axis",axisPointer:{snap:!0,label:{formatter:e=>e.axisDimension==="y"?parseInt(e.value,10).toString():n(e.value).format(E)}}},toolbox:{feature:{saveAsImage:{title:"Lagre ",name:"Antall_forstegangsbehandlinger_der_frist_utloper"}}},xAxis:{type:"time",axisLabel:{formatter:"{dd}.{MM}.{yyyy}"}},yAxis:{type:"value"},series:[{data:l,type:"line",areaStyle:{}}],color:["#337c9b"]}})},L=r=>r.map(a=>({x:n(a.behandlingFrist).startOf("day").toDate().getTime(),y:a.antall})),Y=r=>{const a=[],i=r.map(e=>n(e.x)).reduce((e,s)=>e.isSameOrBefore(s)?e:s,n().startOf("day")).toDate(),l=r.map(e=>n(e.x)).reduce((e,s)=>e.isSameOrAfter(s)?e:s,n().startOf("day")).toDate();for(let e=n(i);e.isSameOrBefore(l);e=e.add(1,"days")){const s=r.filter(o=>n(o.x).isSame(e)).map(o=>o.y).reduce((o,m)=>o+m,0);a.push([e.toDate(),s])}return a};x.__docgenInfo={description:"",methods:[],displayName:"VentefristUtløperGraf",props:{height:{required:!0,tsType:{name:"number"},description:""},behandlingerPaVent:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  fagsakYtelseType: string;
  behandlingFrist: string;
  antall: number;
}`,signature:{properties:[{key:"fagsakYtelseType",value:{name:"string",required:!0}},{key:"behandlingFrist",value:{name:"string",required:!0}},{key:"antall",value:{name:"number",required:!0}}]}}],raw:`Readonly<{
  fagsakYtelseType: string;
  behandlingFrist: string;
  antall: number;
}>`}],raw:"BehandlingVentefrist[]"},description:""}}};const g=(r,a)=>{const i=r.find(l=>l.kode===a);return i?i.navn:""},c="ALLE",h="ventefristUtløperForm",G={valgtYtelsetype:c},O=({height:r,valgtAvdelingEnhet:a,getValueFromLocalStorage:i})=>{const{data:l}=j(F(a)),e=k("FagsakYtelseType"),s=i(h),o=s?JSON.parse(s):void 0,m=V({defaultValues:o??G}),u=m.watch();return t.jsxs(b,{formMethods:m,children:[t.jsx(R,{stateKey:h,values:u}),t.jsxs(T,{gap:"space-16",children:[t.jsx(P,{size:"small",children:t.jsx(y,{id:"VentefristUtløperPanel.SattPaVent"})}),t.jsx(f,{gap:"space-16",children:t.jsx(A,{name:"valgtYtelsetype",control:m.control,children:t.jsxs(f,{gap:"space-16",children:[t.jsx(p,{value:d.FORELDREPENGER,size:"small",children:g(e,d.FORELDREPENGER)}),t.jsx(p,{value:d.ENGANGSSTONAD,size:"small",children:g(e,d.ENGANGSSTONAD)}),t.jsx(p,{value:d.SVANGERSKAPSPENGER,size:"small",children:g(e,d.SVANGERSKAPSPENGER)}),t.jsx(p,{value:c,size:"small",children:t.jsx(y,{id:"VentefristUtløperPanel.Alle"})})]})})}),t.jsx(x,{height:r,behandlingerPaVent:l.filter(S=>u.valgtYtelsetype===c?!0:u.valgtYtelsetype===S.fagsakYtelseType)})]})]})};O.__docgenInfo={description:"",methods:[],displayName:"VentefristUtløperPanel",props:{height:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},getValueFromLocalStorage:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: string) => string | undefined",signature:{arguments:[{type:{name:"string"},name:"key"}],return:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}}},description:""}}};export{O as V};
