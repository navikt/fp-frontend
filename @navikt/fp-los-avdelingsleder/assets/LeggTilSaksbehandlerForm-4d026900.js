import{j as e}from"./jsx-runtime-9c4ae004.js";import{r as k}from"./index-1b03fe98.js";import{e as R,u as _,O as E,L as C,F as i,b as x,U as p,Y as f,z as d,C as N,f as b,a as z}from"./nb_NO-91e99ecf.js";import{r as q}from"./index.es-efd3830f.js";import{y as j}from"./index.es-dcafba10.js";import{b as L,R as T}from"./fplosRestApi-beda4f04.js";const M="_button_1e008_1",B={button:M},P=(a,t=[])=>t instanceof Array&&t.some(o=>a&&o.brukerIdent.toLowerCase()===a.brukerIdent.toLowerCase()),h=({valgtAvdelingEnhet:a,avdelingensSaksbehandlere:t,hentAvdelingensSaksbehandlere:o})=>{const g=R(),[l,c]=k.useState(!1),{data:s,startRequest:F,state:u,resetRequestData:S}=L.useRestApiRunner(T.SAKSBEHANDLER_SOK),{startRequest:y}=L.useRestApiRunner(T.OPPRETT_NY_SAKSBEHANDLER),m=P(s,t),v=r=>{s&&(c(!0),y({brukerIdent:s.brukerIdent,avdelingEnhet:a}).then(()=>{S(),r(),c(!1),o({avdelingEnhet:a})}))},A=r=>{S(),r()},I=k.useMemo(()=>{if(u===j.SUCCESS&&!s)return g.formatMessage({id:"LeggTilSaksbehandlerForm.FinnesIkke"});if(!s)return"";const r=`${s.navn}, ${s.avdelingsnavn.join(", ")}`;return m?`${r} (${g.formatMessage({id:"LeggTilSaksbehandlerForm.FinnesAllerede"})})`:r},[u,s,m]),n=_();return e.jsxs(E,{formMethods:n,onSubmit:r=>F({brukerIdent:r.brukerIdent}),children:[e.jsx(C,{size:"small",children:e.jsx(i,{id:"LeggTilSaksbehandlerForm.LeggTil"})}),e.jsx(x,{eightPx:!0}),e.jsx(p,{children:e.jsxs(f,{children:[e.jsx(d,{children:e.jsx(N,{name:"brukerIdent",label:g.formatMessage({id:"LeggTilSaksbehandlerForm.Brukerident"}),validate:[q]})}),e.jsx(d,{className:B.button,children:e.jsx(b,{size:"small",variant:"secondary",loading:n.formState.isSubmitting,disabled:n.formState.isSubmitting||l,tabIndex:0,children:e.jsx(i,{id:"LeggTilSaksbehandlerForm.Sok"})})})]})}),u===j.SUCCESS&&e.jsxs(e.Fragment,{children:[e.jsx(z,{size:"small",children:I}),e.jsx(x,{sixteenPx:!0}),e.jsx(p,{children:e.jsxs(f,{children:[e.jsx(d,{children:e.jsx(b,{size:"small",variant:"primary",autoFocus:!0,onClick:()=>v(n.reset),loading:l,disabled:l||m||!s,type:"button",children:e.jsx(i,{id:"LeggTilSaksbehandlerForm.LeggTilIListen"})})}),e.jsx(d,{children:e.jsx(b,{size:"small",variant:"secondary",tabIndex:0,disabled:l,onClick:()=>A(n.reset),type:"button",children:e.jsx(i,{id:"LeggTilSaksbehandlerForm.Nullstill"})})})]})})]})]})},V=h;try{h.displayName="LeggTilSaksbehandlerForm",h.__docgenInfo={description:"LeggTilSaksbehandlerForm",displayName:"LeggTilSaksbehandlerForm",props:{valgtAvdelingEnhet:{defaultValue:null,description:"",name:"valgtAvdelingEnhet",required:!0,type:{name:"string"}},avdelingensSaksbehandlere:{defaultValue:null,description:"",name:"avdelingensSaksbehandlere",required:!0,type:{name:"Readonly<{ brukerIdent: string; navn: string; avdelingsnavn: string[]; }>[]"}},hentAvdelingensSaksbehandlere:{defaultValue:null,description:"",name:"hentAvdelingensSaksbehandlere",required:!0,type:{name:"(params: { avdelingEnhet: string; }) => void"}}}}}catch{}export{V as L};
//# sourceMappingURL=LeggTilSaksbehandlerForm-4d026900.js.map
