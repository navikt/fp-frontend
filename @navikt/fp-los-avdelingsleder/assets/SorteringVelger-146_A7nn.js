import{k as ie,j as r,v as H,n as Ee,h as je,p as oe,O as ce,s as Ne,B as C}from"./iframe-C-rkwopj.js";import{u as le,A as Z,P as me,w as Pe,M as Fe}from"./index.es-CsJDYY5-.js";import{u as G}from"./useMutation-Abb60JfM.js";import{p as ye,L as D,H as Se,q as Ke,r as Ie,V as ge,t as ke}from"./fplosAvdelingslederApi-DO4gM1wF.js";import{u as qe}from"./useLosKodeverk-Bik7J8Vv.js";import{W as xe,H as fe}from"./index.es-DEdiYpCU.js";import{u as U}from"./useDebounce-BMgJJgLO.js";import{D as _,M as P}from"./nb_NO-D5QS-96T.js";const we="_dager_1u55p_1",Ye="_dagerMedBindestrek_1u55p_5",Ge="_dato_1u55p_19",be="_arrowBoxWidth_1u55p_24",M={dager:we,dagerMedBindestrek:Ye,beløp:"_beløp_1u55p_10",dato:Ge,arrowBoxWidth:be},Le=({valgtSakslisteId:c,valgtAvdelingEnhet:f})=>{const h=ie(),{watch:l,trigger:o,control:u}=le(),m=l("fra"),y=l("til"),{mutate:g}=G({mutationFn:p=>ye(c,p.fra,p.til,f),onSuccess:()=>{h.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL]}),h.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),h.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),d=p=>g({fra:p,til:y}),s=p=>g({fra:m,til:p}),V=U("fra",d,o),F=U("til",s,o);return r.jsxs(xe,{children:[r.jsx(_,{children:r.jsx(P,{id:"SorteringVelger.FiltrerPaHeltall"})}),r.jsxs(Se,{gap:"4",children:[r.jsx(Z,{name:"fra",control:u,className:M.dato,validate:[H],onChange:p=>V(p)}),r.jsx(_,{className:M.beløp,children:r.jsx(P,{id:"SorteringVelger.Valuta"})}),r.jsx(Z,{name:"til",control:u,className:M.dato,validate:[H],onChange:p=>F(p)}),r.jsx(_,{className:M.beløp,children:r.jsx(P,{id:"SorteringVelger.Valuta"})})]})]})};Le.__docgenInfo={description:"",methods:[],displayName:"BelopSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""}}};var $={exports:{}},Oe=$.exports,he;function Re(){return he||(he=1,function(c,f){(function(h,l){c.exports=l()})(Oe,function(){var h={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},l=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d/,u=/\d\d/,m=/\d\d?/,y=/\d*[^-_:/,()\s\d]+/,g={},d=function(e){return(e=+e)+(e>68?1900:2e3)},s=function(e){return function(t){this[e]=+t}},V=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(t){if(!t||t==="Z")return 0;var a=t.match(/([+-]|\d\d)/g),n=60*a[1]+(+a[2]||0);return n===0?0:a[0]==="+"?-n:n}(e)}],F=function(e){var t=g[e];return t&&(t.indexOf?t:t.s.concat(t.f))},p=function(e,t){var a,n=g.meridiem;if(n){for(var i=1;i<=24;i+=1)if(e.indexOf(n(i,0,t))>-1){a=i>12;break}}else a=e===(t?"pm":"PM");return a},W={A:[y,function(e){this.afternoon=p(e,!1)}],a:[y,function(e){this.afternoon=p(e,!0)}],Q:[o,function(e){this.month=3*(e-1)+1}],S:[o,function(e){this.milliseconds=100*+e}],SS:[u,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[m,s("seconds")],ss:[m,s("seconds")],m:[m,s("minutes")],mm:[m,s("minutes")],H:[m,s("hours")],h:[m,s("hours")],HH:[m,s("hours")],hh:[m,s("hours")],D:[m,s("day")],DD:[u,s("day")],Do:[y,function(e){var t=g.ordinal,a=e.match(/\d+/);if(this.day=a[0],t)for(var n=1;n<=31;n+=1)t(n).replace(/\[|\]/g,"")===e&&(this.day=n)}],w:[m,s("week")],ww:[u,s("week")],M:[m,s("month")],MM:[u,s("month")],MMM:[y,function(e){var t=F("months"),a=(F("monthsShort")||t.map(function(n){return n.slice(0,3)})).indexOf(e)+1;if(a<1)throw new Error;this.month=a%12||a}],MMMM:[y,function(e){var t=F("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,s("year")],YY:[u,function(e){this.year=d(e)}],YYYY:[/\d{4}/,s("year")],Z:V,ZZ:V};function z(e){var t,a;t=e,a=g&&g.formats;for(var n=(e=t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(I,E,L){var x=L&&L.toUpperCase();return E||a[L]||h[L]||a[x].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(j,N,k){return N||k.slice(1)})})).match(l),i=n.length,A=0;A<i;A+=1){var Y=n[A],K=W[Y],v=K&&K[0],T=K&&K[1];n[A]=T?{regex:v,parser:T}:Y.replace(/^\[|\]$/g,"")}return function(I){for(var E={},L=0,x=0;L<i;L+=1){var j=n[L];if(typeof j=="string")x+=j.length;else{var N=j.regex,k=j.parser,b=I.slice(x),w=N.exec(b)[0];k.call(E,w),I=I.replace(w,"")}}return function(q){var O=q.afternoon;if(O!==void 0){var S=q.hours;O?S<12&&(q.hours+=12):S===12&&(q.hours=0),delete q.afternoon}}(E),E}}return function(e,t,a){a.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(d=e.parseTwoDigitYear);var n=t.prototype,i=n.parse;n.parse=function(A){var Y=A.date,K=A.utc,v=A.args;this.$u=K;var T=v[1];if(typeof T=="string"){var I=v[2]===!0,E=v[3]===!0,L=I||E,x=v[2];E&&(x=v[2]),g=this.$locale(),!I&&x&&(g=a.Ls[x]),this.$d=function(b,w,q,O){try{if(["x","X"].indexOf(w)>-1)return new Date((w==="X"?1e3:1)*b);var S=z(w)(b),X=S.year,R=S.month,Ae=S.day,ve=S.hours,Te=S.minutes,_e=S.seconds,Me=S.milliseconds,de=S.zone,ue=S.week,J=new Date,ee=Ae||(X||R?1:J.getDate()),re=X||J.getFullYear(),B=0;X&&!R||(B=R>0?R-1:J.getMonth());var Q,te=ve||0,ae=Te||0,se=_e||0,ne=Me||0;return de?new Date(Date.UTC(re,B,ee,te,ae,se,ne+60*de.offset*1e3)):q?new Date(Date.UTC(re,B,ee,te,ae,se,ne)):(Q=new Date(re,B,ee,te,ae,se,ne),ue&&(Q=O(Q).week(ue).toDate()),Q)}catch{return new Date("")}}(Y,T,K,a),this.init(),x&&x!==!0&&(this.$L=this.locale(x).$L),L&&Y!=this.format(T)&&(this.$d=new Date("")),g={}}else if(T instanceof Array)for(var j=T.length,N=1;N<=j;N+=1){v[1]=T[N-1];var k=a.apply(this,v);if(k.isValid()){this.$d=k.$d,this.$L=k.$L,this.init();break}N===j&&(this.$d=new Date(""))}else i.call(this,A)}}})}($)),$.exports}var Be=Re();const Qe=Ee(Be);oe.extend(Qe);const Ve=({valgtSakslisteId:c,valgtAvdelingEnhet:f,erDynamiskPeriode:h})=>{const l=ie(),o=je(),{mutate:u}=G({mutationFn:i=>ye(c,i.fra,i.til,f),onSuccess:()=>{l.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{mutate:m}=G({mutationFn:()=>Ke(c,f),onSuccess:()=>{l.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{mutate:y}=G({mutationFn:i=>Ie(c,f,i.fomDato,i.tomDato),onSuccess:()=>{l.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{watch:g,control:d}=le(),s=g("fra"),V=g("til"),F=g("fomDato"),p=g("tomDato"),W=i=>u({fra:i,til:V}),z=i=>u({fra:s,til:i}),e=De(y,!0,p),t=De(y,!1,F),a=U("fomDato",e),n=U("tomDato",t);return r.jsx("div",{className:M.arrowBoxWidth,children:r.jsx(xe,{children:r.jsxs(ge,{gap:"2",children:[r.jsx(_,{children:r.jsx(P,{id:"SorteringVelger.FiltrerPaTidsintervall"})}),h&&r.jsxs(Se,{gap:"4",children:[r.jsxs("div",{children:[r.jsx(Z,{name:"fra",control:d,className:M.dato,label:o.formatMessage({id:"SorteringVelger.Fom"}),validate:[H],onBlur:i=>W(i)}),(s||s===0)&&r.jsx(_,{children:r.jsx(fe,{dateString:pe(s)})})]}),r.jsx(_,{className:M.dager,children:r.jsx(P,{id:"SorteringVelger.DagerMedBindestrek"})}),r.jsxs("div",{children:[r.jsx(Z,{name:"til",control:d,className:M.dato,label:o.formatMessage({id:"SorteringVelger.Tom"}),validate:[H],onBlur:i=>z(i)}),(V||V===0)&&r.jsx(_,{children:r.jsx(fe,{dateString:pe(V)})})]}),r.jsx(_,{className:M.dagerMedBindestrek,children:r.jsx(P,{id:"SorteringVelger.Dager"})})]}),!h&&r.jsxs(ge,{gap:"4",children:[r.jsx(me,{name:"fomDato",control:d,label:o.formatMessage({id:"SorteringVelger.Fom"}),validate:[ce],onChange:a}),r.jsx(_,{children:r.jsx(P,{id:"SorteringVelger.Bindestrek"})}),r.jsx(me,{name:"tomDato",control:d,label:o.formatMessage({id:"SorteringVelger.Tom"}),validate:[ce],onChange:n})]}),r.jsx(Pe,{name:"erDynamiskPeriode",control:d,label:o.formatMessage({id:"SorteringVelger.DynamiskPeriode"}),onChange:()=>m()})]})})})},pe=c=>oe().add(c,"d").format(),De=(c,f,h)=>l=>{let o;if(l&&(o=oe(l)),!o||o.isValid()){const u=o&&o.format(Ne);return c(f?{fomDato:u,tomDato:h}:{fomDato:h,tomDato:u})}};Ve.__docgenInfo={description:"",methods:[],displayName:"DatoSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};const Ce=c=>c&&c.some(f=>f===C.TILBAKEKREVING||f===C.TILBAKEKREVING_REVURDERING)&&!c.some(f=>f!==C.TILBAKEKREVING&&f!==C.TILBAKEKREVING_REVURDERING),$e=({valgtSakslisteId:c,valgteBehandlingtyper:f,valgtAvdelingEnhet:h,erDynamiskPeriode:l})=>{const o=ie(),{resetField:u,control:m}=le(),{mutate:y}=G({mutationFn:d=>ke(c,d.sorteringType,h),onSuccess:()=>{o.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL]}),o.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),o.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),g=qe("KøSortering");return r.jsx(Fe,{name:"sortering",control:m,label:r.jsx(P,{id:"SorteringVelger.Sortering"}),onChange:d=>(u("fra",{defaultValue:""}),u("til",{defaultValue:""}),u("fomDato",{defaultValue:""}),u("tomDato",{defaultValue:""}),u("erDynamiskPeriode",{defaultValue:""}),y({sorteringType:d})),radios:g.filter(d=>d.feltkategori!=="TILBAKEKREVING"||Ce(f)).map(d=>({value:d.kode,label:d.navn,element:r.jsxs(r.Fragment,{children:[d.felttype==="DATO"&&r.jsx(Ve,{valgtSakslisteId:c,valgtAvdelingEnhet:h,erDynamiskPeriode:l}),d.felttype==="HELTALL"&&r.jsx(Le,{valgtSakslisteId:c,valgtAvdelingEnhet:h})]})}))})};$e.__docgenInfo={description:"",methods:[],displayName:"SorteringVelger",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgteBehandlingtyper:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};export{$e as S};
