import{j as r}from"./jsx-runtime-9c4ae004.js";import{r as c}from"./index-1b03fe98.js";import{e as T,u as N,O as U,F as k,b as V,U as A,Y as _,z as d,C as K,a as P}from"./nb_NO-91e99ecf.js";import{r as D,G as v,k as B,I as O}from"./index.es-efd3830f.js";import{b as F,R as j}from"./fplosRestApi-beda4f04.js";import{B as L}from"./BehandlingstypeVelger-78a78376.js";import{A as Y}from"./AndreKriterierVelger-7d209f83.js";import{F as q}from"./FagsakYtelseTypeVelger-75726428.js";import{u as E,S as z}from"./SorteringVelger-d9dd4f1f.js";import{P as C}from"./Panel-b15c2a27.js";import{H as I}from"./Heading-39bd052b.js";const M="_grayBox_1aype_1",G="_panel_1aype_6",H="_utvalgskriterieRad_1aype_11",$="_bredde_1aype_15",w="_colRight_1aype_19",l={grayBox:M,panel:G,utvalgskriterieRad:H,bredde:$,colRight:w},J=B(3),Q=O(100),W=(s,e)=>{var o,t;const a=e.behandlingTyper?e.behandlingTyper.reduce((i,n)=>({...i,[n]:!0}),{}):{},u=e.fagsakYtelseTyper?e.fagsakYtelseTyper.reduce((i,n)=>({...i,[n]:!0}),{}):{},m=e.andreKriterier?e.andreKriterier.reduce((i,n)=>({...i,[n.andreKriterierType]:!0}),{}):{},p=e.andreKriterier?e.andreKriterier.reduce((i,n)=>({...i,[`${n.andreKriterierType}_inkluder`]:n.inkluder}),{}):{};return{sakslisteId:e.sakslisteId,navn:e.navn?e.navn:s.formatMessage({id:"UtvalgskriterierForSakslisteForm.NyListe"}),sortering:e.sortering?e.sortering.sorteringType:void 0,fomDato:e.sortering?e.sortering.fomDato:void 0,tomDato:e.sortering?e.sortering.tomDato:void 0,fra:e.sortering?(o=e.sortering.fra)==null?void 0:o.toString():void 0,til:e.sortering?(t=e.sortering.til)==null?void 0:t.toString():void 0,erDynamiskPeriode:e.sortering?e.sortering.erDynamiskPeriode:void 0,...m,...p,...a,...u}},h=({valgtSaksliste:s,valgtAvdelingEnhet:e,hentAvdelingensSakslister:a,hentOppgaverForAvdelingAntall:u})=>{const m=T(),{data:p,startRequest:o}=F.useRestApiRunner(j.OPPGAVE_ANTALL);c.useEffect(()=>{o({sakslisteId:s.sakslisteId,avdelingEnhet:e})},[s.sakslisteId]);const t=c.useCallback((y,x)=>{o({sakslisteId:y,avdelingEnhet:x}),u({avdelingEnhet:x})},[]),{startRequest:i}=F.useRestApiRunner(j.LAGRE_SAKSLISTE_NAVN),n=c.useCallback(y=>{i({sakslisteId:s.sakslisteId,navn:y,avdelingEnhet:e}).then(()=>a({avdelingEnhet:e}))},[e,s]),b=c.useMemo(()=>W(m,s),[s]),g=N({defaultValues:b}),R=E("navn",n,g.trigger),f=g.watch();return r.jsx(U,{formMethods:g,children:r.jsxs(C,{className:l.panel,children:[r.jsx(I,{size:"small",children:r.jsx(k,{id:"UtvalgskriterierForSakslisteForm.Utvalgskriterier"})}),r.jsx(V,{eightPx:!0}),r.jsxs(A,{children:[r.jsxs(_,{className:l.utvalgskriterieRad,children:[r.jsx(d,{children:r.jsx(K,{name:"navn",label:m.formatMessage({id:"UtvalgskriterierForSakslisteForm.Navn"}),validate:[D,J,Q,v],onChange:R,className:l.bredde})}),r.jsx(d,{className:l.colRight,children:r.jsxs("div",{className:l.grayBox,children:[r.jsx(P,{size:"small",children:r.jsx(k,{id:"UtvalgskriterierForSakslisteForm.AntallSaker"})}),r.jsx(I,{size:"small",children:p?`${p}`:"0"})]})})]}),r.jsxs(_,{spaceBetween:!0,children:[r.jsxs(d,{children:[r.jsx(q,{valgtSakslisteId:s.sakslisteId,valgtAvdelingEnhet:e,hentAvdelingensSakslister:a,hentAntallOppgaver:t}),r.jsx(L,{valgtSakslisteId:s.sakslisteId,valgtAvdelingEnhet:e,hentAvdelingensSakslister:a,hentAntallOppgaver:t})]}),r.jsx(d,{children:r.jsx(Y,{valgtSakslisteId:s.sakslisteId,valgtAvdelingEnhet:e,values:f,hentAvdelingensSakslister:a,hentAntallOppgaver:t})}),r.jsx(d,{children:r.jsx(z,{valgtSakslisteId:s.sakslisteId,valgteBehandlingtyper:s.behandlingTyper,valgtAvdelingEnhet:e,erDynamiskPeriode:!!f.erDynamiskPeriode,hentAvdelingensSakslister:a,hentAntallOppgaver:t})})]})]})]})})},de=h;try{h.displayName="UtvalgskriterierForSakslisteForm",h.__docgenInfo={description:"UtvalgskriterierForSakslisteForm",displayName:"UtvalgskriterierForSakslisteForm",props:{valgtSaksliste:{defaultValue:null,description:"",name:"valgtSaksliste",required:!0,type:{name:"Readonly<{ sakslisteId: number; navn?: string | undefined; behandlingTyper?: string[] | undefined; fagsakYtelseTyper?: string[] | undefined; sistEndret: string; sortering?: { sorteringType: string; ... 4 more ...; erDynamiskPeriode: boolean; } | undefined; andreKriterier?: Readonly<...>[] | undefined; saksbehandlerI..."}},valgtAvdelingEnhet:{defaultValue:null,description:"",name:"valgtAvdelingEnhet",required:!0,type:{name:"string"}},hentAvdelingensSakslister:{defaultValue:null,description:"",name:"hentAvdelingensSakslister",required:!0,type:{name:"(params: { avdelingEnhet: string; }) => void"}},hentOppgaverForAvdelingAntall:{defaultValue:null,description:"",name:"hentOppgaverForAvdelingAntall",required:!0,type:{name:"(params: { avdelingEnhet: string; }) => void"}}}}}catch{}export{de as U};
//# sourceMappingURL=UtvalgskriterierForSakslisteForm-23b45589.js.map
