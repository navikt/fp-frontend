import{j as n,n as s,s as x,F as u}from"./iframe-BIszBs4T.js";import{u as h,N as E,M as b}from"./index.es-npK9Cfgh.js";import{u as v}from"./useQuery-COxiQjHK.js";import{V,H as A,E as N}from"./fplosAvdelingslederApi-6iDe1Omb.js";import{S as T}from"./StoreValuesInLocalStorage-PIWbZRSP.js";import{u as k}from"./useLosKodeverk-DFZRRsE7.js";import{i as F}from"./isSameOrBefore-B_b5wC1i.js";import{R as P}from"./FlyttReservasjonModal-Nq7T-BD8.js";import{L as R,M as f}from"./nb_NO-l-EoPVZj.js";s.extend(F);const c=({height:t,behandlingerPaVent:r})=>{const i=L(r),o=Y(i);return n.jsx(P,{height:t,option:{tooltip:{trigger:"axis",axisPointer:{snap:!0,label:{formatter:e=>e.axisDimension==="y"?parseInt(e.value,10).toString():s(e.value).format(x)}}},toolbox:{feature:{saveAsImage:{title:"Lagre ",name:"Antall_forstegangsbehandlinger_der_frist_utloper"}}},xAxis:{type:"time",axisLabel:{formatter:"{dd}.{MM}.{yyyy}"}},yAxis:{type:"value"},series:[{data:o,type:"line",areaStyle:{}}],color:["#337c9b"]}})},L=t=>t.map(r=>({x:s(r.behandlingFrist).startOf("day").toDate().getTime(),y:r.antall})),Y=t=>{const r=[],i=t.map(e=>s(e.x)).reduce((e,a)=>e.isSameOrBefore(a)?e:a,s().startOf("day")).toDate(),o=t.map(e=>s(e.x)).reduce((e,a)=>e.isSameOrAfter(a)?e:a,s().startOf("day")).toDate();for(let e=s(i);e.isSameOrBefore(o);e=e.add(1,"days")){const a=t.filter(l=>s(l.x).isSame(e)).map(l=>l.y).reduce((l,m)=>l+m,0);r.push([e.toDate(),a])}return r};c.__docgenInfo={description:"",methods:[],displayName:"VentefristUtløperGraf",props:{height:{required:!0,tsType:{name:"number"},description:""},behandlingerPaVent:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  fagsakYtelseType: string;
  behandlingFrist: string;
  antall: number;
}`,signature:{properties:[{key:"fagsakYtelseType",value:{name:"string",required:!0}},{key:"behandlingFrist",value:{name:"string",required:!0}},{key:"antall",value:{name:"number",required:!0}}]}}],raw:`Readonly<{
  fagsakYtelseType: string;
  behandlingFrist: string;
  antall: number;
}>`}],raw:"BehandlingVentefrist[]"},description:""}}};const p=(t,r)=>{const i=t.find(o=>o.kode===r);return i?i.navn:""},g="ALLE",y="ventefristUtløperForm",j={valgtYtelsetype:g},G=({height:t,valgtAvdelingEnhet:r,getValueFromLocalStorage:i})=>{const{data:o}=v(N(r)),e=k("FagsakYtelseType"),a=i(y),l=a?JSON.parse(a):void 0,m=h({defaultValues:l??j}),d=m.watch();return n.jsxs(E,{formMethods:m,children:[n.jsx(T,{stateKey:y,values:d}),n.jsxs(V,{gap:"4",children:[n.jsx(R,{size:"small",children:n.jsx(f,{id:"VentefristUtløperPanel.SattPaVent"})}),n.jsx(A,{gap:"4",children:n.jsx(b,{name:"valgtYtelsetype",control:m.control,isHorizontal:!0,radios:[{value:u.FORELDREPENGER,label:p(e,u.FORELDREPENGER)},{value:u.ENGANGSSTONAD,label:p(e,u.ENGANGSSTONAD)},{value:u.SVANGERSKAPSPENGER,label:p(e,u.SVANGERSKAPSPENGER)},{value:g,label:n.jsx(f,{id:"VentefristUtløperPanel.Alle"})}]})}),n.jsx(c,{height:t,behandlingerPaVent:o.filter(S=>d.valgtYtelsetype===g?!0:d.valgtYtelsetype===S.fagsakYtelseType)})]})]})};G.__docgenInfo={description:"",methods:[],displayName:"VentefristUtløperPanel",props:{height:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},getValueFromLocalStorage:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: string) => string | undefined",signature:{arguments:[{type:{name:"string"},name:"key"}],return:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}}},description:""}}};export{G as V};
