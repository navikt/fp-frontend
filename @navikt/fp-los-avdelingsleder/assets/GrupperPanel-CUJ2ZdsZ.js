import{r as i,i as he,b as T,R as a,c as ae,p as Ee,d as Oe,k as ye,h as je,j as y}from"./iframe-B0b5WPMQ.js";import{X as Fe}from"./index.es-Dj3Rot76.js";import{u as Re}from"./useQuery-2WQs0XZ1.js";import{u as Y}from"./useMutation-DK2qTxyX.js";import{S as Ne,v as Le,L as re,w as Pe,x as Te,V as se,H as Ae,y as Me,z as De,g as Be}from"./fplosAvdelingslederApi-y0vf3dYz.js";import{b as xe,u as qe,N as Ge,A as Ve}from"./index.es-BLDEoOVr.js";import{t as $e,a as ze,o as He,D as Ue}from"./index.es-Dks71e1P.js";import{u as Ke}from"./useDebounce-DPMgE4fX.js";import{B as te,L as le,o as We,E as Qe,M as U}from"./nb_NO-Dp0pFudd.js";import{u as ve,a as ie,c as Ie,S as fe,b as Xe,L as Ze,R as Je,B as Ye}from"./Modal-B9FtE2L0.js";import{T as q}from"./Table-C9Fjy-DP.js";var et=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const tt=i.forwardRef((e,r)=>{var{title:s,titleId:t}=e,n=et(e,["title","titleId"]);let o=ve();return o=s?t||"title-"+o:void 0,i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:r,"aria-labelledby":o},n),s?i.createElement("title",{id:o},s):null,i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.998 6.94a.75.75 0 0 1 .063 1.058l-8 9a.75.75 0 0 1-1.091.032l-5-5a.75.75 0 1 1 1.06-1.06l4.438 4.437 7.471-8.405A.75.75 0 0 1 19 6.939",clipRule:"evenodd"}))});var nt=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const rt=i.forwardRef((e,r)=>{var{title:s,titleId:t}=e,n=nt(e,["title","titleId"]);let o=ve();return o=s?t||"title-"+o:void 0,i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:r,"aria-labelledby":o},n),s?i.createElement("title",{id:o},s):null,i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.47 7.97a.75.75 0 0 1 1.06 0l5.5 5.5a.75.75 0 1 1-1.06 1.06L12 9.56l-4.97 4.97a.75.75 0 0 1-1.06-1.06z",clipRule:"evenodd"}))});var st=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const ot=i.forwardRef((e,r)=>{var{title:s,titleId:t}=e,n=st(e,["title","titleId"]);let o=ve();return o=s?t||"title-"+o:void 0,i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:r,"aria-labelledby":o},n),s?i.createElement("title",{id:o},s):null,i.createElement("path",{fill:"currentColor",d:"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75z"}))}),we=e=>{const r=i.useRef(e);return i.useEffect(()=>{r.current=e},[e]),r.current};var at=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const lt=i.forwardRef((e,r)=>{var{children:s,variant:t,onDelete:n,className:o,onClick:c,type:g="button","data-color":b}=e,p=at(e,["children","variant","onDelete","className","onClick","type","data-color"]);const d=ie("Chips"),m=he(!1),{cn:v}=T();let I;return m?I=t:I=t??"action",a.createElement("button",Object.assign({"data-color":b??it(I)},p,{ref:r,type:g,className:v("navds-chips__chip navds-chips__removable navds-chips--icon-right",o,{[`navds-chips__removable--${I}`]:I}),"aria-label":`${s} ${d("Removable.labelSuffix")}`,onClick:Ie(c,n)}),a.createElement("span",{className:v("navds-chips__chip-text")},s),a.createElement("span",{className:v("navds-chips__removable-icon")},a.createElement(fe,{"aria-hidden":!0})))});function it(e){switch(e){case"action":return"accent";case"neutral":return"neutral";default:return}}var ct=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const dt=i.forwardRef((e,r)=>{var{className:s,children:t,selected:n,variant:o,checkmark:c=!0,as:g="button","data-color":b}=e,p=ct(e,["className","children","selected","variant","checkmark","as","data-color"]);const{cn:d}=T(),m=he(!1);let v;return m?v=o:v=o??"action",a.createElement(g,Object.assign({"data-color":b??ut(v)},p,{ref:r,className:d("navds-chips__chip navds-chips__toggle",s,{"navds-chips__toggle--with-checkmark":c,[`navds-chips__toggle--${v}`]:v}),"aria-pressed":n,"data-pressed":n}),c&&a.createElement("svg",{"aria-hidden":!0,className:d("navds-chips__toggle-icon"),width:"1.25em",height:"1.25em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img"},n?a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 18.125C14.4873 18.125 18.125 14.4873 18.125 10C18.125 5.51269 14.4873 1.875 10 1.875C5.51269 1.875 1.875 5.51269 1.875 10C1.875 14.4873 5.51269 18.125 10 18.125ZM14.128 7.72904C14.3695 7.44357 14.3339 7.01635 14.0485 6.7748C13.763 6.53326 13.3358 6.56886 13.0942 6.85432L8.60428 12.1606L6.41627 9.97263C6.15185 9.70822 5.72315 9.70822 5.45873 9.97263C5.19431 10.2371 5.19431 10.6658 5.45873 10.9302L8.16706 13.6385C8.30095 13.7724 8.48479 13.8441 8.67397 13.8362C8.86316 13.8284 9.0404 13.7416 9.16271 13.5971L14.128 7.72904Z",fill:"currentColor"}):a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3.125C6.20304 3.125 3.125 6.20304 3.125 10C3.125 13.797 6.20304 16.875 10 16.875C13.797 16.875 16.875 13.797 16.875 10C16.875 6.20304 13.797 3.125 10 3.125ZM1.875 10C1.875 5.51269 5.51269 1.875 10 1.875C14.4873 1.875 18.125 5.51269 18.125 10C18.125 14.4873 14.4873 18.125 10 18.125C5.51269 18.125 1.875 14.4873 1.875 10Z",fill:"var(--ax-text-default, var(--ac-chip-toggle-circle-border, var(--a-border-default)))"})),a.createElement("span",{className:d("navds-chips__chip-text")},t))});function ut(e){switch(e){case"action":return"accent";case"neutral":return"neutral";default:return}}var pt=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const ee=i.forwardRef((e,r)=>{var{className:s,size:t="medium",children:n}=e,o=pt(e,["className","size","children"]);const{cn:c}=T();return a.createElement("ul",Object.assign({},o,{ref:r,className:c("navds-chips",s,`navds-chips--${t}`,{"navds-body-short navds-body-short--small":t==="medium","navds-detail navds-detail--small":t==="small"})}),a.Children.map(n,(g,b)=>a.createElement("li",{key:(g==null?void 0:g.toString())||b},g)))});ee.Toggle=dt;ee.Removable=lt;const[mt,A]=ae({name:"InputContext",errorMessage:"useInputContext must be used within an InputContextProvider"}),vt=({children:e,value:r})=>{const{defaultValue:s="",description:t,disabled:n,readOnly:o,error:c,errorId:g,id:b,value:p,onChange:d,onClear:m,shouldAutocomplete:v,size:I}=r,f=Xe({description:t,disabled:n,readOnly:o,error:c,errorId:g,id:b,size:I},"comboboxfield"),h=i.useRef(null),w=i.useRef(null),[l,O]=i.useState(s),[u,S]=i.useState(!1),_=i.useMemo(()=>String(p??l),[p,l]),[F,N]=i.useState(_),R=i.useCallback(C=>{p??O(C),N(C),d==null||d(C)},[p,d]),M=i.useCallback(C=>{m==null||m(C),d==null||d(""),O(""),N("")},[d,m]),E=i.useCallback(()=>{var C,P;(P=(C=h.current)===null||C===void 0?void 0:C.focus)===null||P===void 0||P.call(C)},[]);xe(()=>{var C,P;v&&h&&_!==F&&((P=(C=h.current)===null||C===void 0?void 0:C.setSelectionRange)===null||P===void 0||P.call(C,F.length,_.length))},[_,F,v]);const L=Object.assign(Object.assign({},f),{clearInput:M,error:c,focusInput:E,inputRef:h,value:_,setValue:O,onChange:R,searchTerm:F,setSearchTerm:N,shouldAutocomplete:v,toggleOpenButtonRef:w,hideCaret:u,setHideCaret:S});return a.createElement(mt,Object.assign({},L),e)},ft=({children:e,className:r,hasError:s,inputProps:t,inputSize:n,toggleIsListOpen:o})=>{const{cn:c}=T(),{toggleOpenButtonRef:g,clearInput:b,readOnly:p}=A(),d=i.useRef(null),[m,v]=i.useState(!1);function I(h){var w;!(!((w=d.current)===null||w===void 0)&&w.contains(h.relatedTarget))&&(g==null?void 0:g.current)!==h.target&&v(!0)}function f(h){var w;!((w=d.current)===null||w===void 0)&&w.contains(h.relatedTarget)||(o(!1),v(!1),b(h))}return a.createElement("div",{ref:d,className:c(r,"navds-form-field",`navds-form-field--${n}`,{"navds-combobox--error":s,"navds-combobox--disabled":!!t.disabled,"navds-combobox--focused":m,"navds-combobox--readonly":p,"navds-form-field--readonly":p}),onFocus:I,onBlur:f},e)},z=(e,r)=>typeof e=="string"?r.some(s=>s.label===e||s.value===e):r.some(s=>s.label===e.label&&s.value===e.value),ge=e=>({label:e,value:e}),pe=e=>e==null?void 0:e.map(r=>typeof r=="string"?ge(r):r),[gt,Ce]=ae({name:"ComboboxCustomOptions",errorMessage:"useComboboxCustomOptions must be used within a ComboboxCustomOptionsProvider"}),bt=({children:e,value:r})=>{const[s,t]=i.useState([]),{focusInput:n}=A(),{isMultiSelect:o}=r,c=i.useCallback(p=>{t(d=>d.filter(m=>m.label!==p.label)),n()},[n]),g=i.useCallback(p=>{t(o?d=>[...d,p]:[p]),n()},[n,o]),b={customOptions:s,removeCustomOption:c,addCustomOption:g,setCustomOptions:t};return a.createElement(gt,Object.assign({},b),e)},[ht,H]=ae(),Ot=({children:e,value:r})=>{const{clearInput:s,focusInput:t,setHideCaret:n}=A(),{customOptions:o,removeCustomOption:c,addCustomOption:g,setCustomOptions:b}=Ce(),{allowNewValues:p,isMultiSelect:d,selectedOptions:m,onToggleSelected:v,options:I,maxSelected:f}=r,[h,w]=i.useState([]),l=i.useMemo(()=>m??[...o,...h],[o,m,h]),O=i.useCallback(E=>{const L=!z(E,I);L?(p&&g(E),!d&&w([])):d?w(C=>[...C,E]):(w([E]),b([])),v==null||v(E.value,!0,L)},[g,p,d,v,I,b]),u=i.useCallback(E=>{const L=z(E,o);L?c(E):w(C=>C.filter(P=>P!==E)),v==null||v(E.value,!1,L)},[o,v,c]),S=typeof f=="object"?f.limit:f,_=!!S&&l.length>=S,F=_||!d&&l.length>0;i.useEffect(()=>{n(F)},[F,l,n]);const N=i.useCallback((E,L)=>{if(z(E.value,l))u(E);else{if(d&&_)return;O(E)}s(L),t()},[O,s,t,u,l,_,d]),R=we(l),M={addSelectedOption:O,isMultiSelect:d,removeSelectedOption:u,prevSelectedOptions:R,selectedOptions:l,setSelectedOptions:w,toggleOption:N,maxSelected:{limit:S,isLimitReached:_}};return a.createElement(ht,Object.assign({},M),e)},oe=e=>typeof e=="string"?e.toLocaleLowerCase().trim():"",ke=(e,r)=>oe(r).includes(oe(e??"")),yt=(e,r)=>r.filter(s=>ke(e,s.label)),xt=(e,r)=>r.find(s=>oe(s.label).startsWith(e.toLocaleLowerCase())),It=e=>`${e}-filtered-options`,wt=(e,r)=>`${e}-option-${r}`.replace(/\s/g,"-").toLocaleLowerCase(),Ct=e=>`${e}-combobox-new-option`,kt=e=>`${e}-is-loading`,St=e=>`${e}-no-hits`,_t=e=>`${e}-max-selected-options`,j={normalizeText:oe,isPartOfText:ke,getMatchingValuesFromList:yt,getFilteredOptionsId:It,getAddNewOptionId:Ct,getOptionId:wt,getIsLoadingId:kt,getNoHitsId:St,getMaxSelectedOptionsId:_t,getFirstValueStartingWith:xt},Et=e=>{const[r,s]=i.useState(void 0),t=()=>{var l;return Array.from((l=e==null?void 0:e.children)!==null&&l!==void 0?l:[])},n=()=>t().filter(l=>l.getAttribute("data-no-focus")!=="true"),o=l=>t().find(O=>O.id===l),c=()=>r?n().indexOf(r)===0:!1,g=()=>{const l=n();return r?l.indexOf(r)===l.length-1:!1},b=l=>{var O;s(l),(O=l==null?void 0:l.scrollIntoView)===null||O===void 0||O.call(l,{block:"nearest"})};return{activeElement:r,getElementById:o,isFocusOnTheTop:c,isFocusOnTheBottom:g,moveFocusUp:()=>{if(!r)return;const l=n(),O=l.indexOf(r),u=l[O-1];O===0?s(void 0):b(u)},moveFocusDown:()=>{const l=n();if(!r){b(l[0]);return}const O=l.indexOf(r);O!==l.length-1&&b(l[O+1])},moveFocusToElement:l=>{const O=n().find(u=>u.getAttribute("id")===l);O&&s(O)},moveFocusToTop:()=>{const l=n();b(l[0])},moveFocusToBottom:()=>{const l=n();b(l[l.length-1])},moveFocusUpBy:l=>{if(!r)return;const O=n(),u=O.indexOf(r),S=Math.max(u-l,0);b(O[S])},moveFocusDownBy:l=>{const O=n(),u=r?O.indexOf(r):-1,S=Math.min(u+l,O.length-1);b(O[S])},resetFocus:()=>s(void 0)}},[jt,X]=ae({name:"FilteredOptionsContext",errorMessage:"useFilteredOptionsContext must be used within a FilteredOptionsProvider"}),Ft=({children:e,value:r})=>{const{allowNewValues:s,filteredOptions:t,isListOpen:n,isLoading:o,options:c}=r,[g,b]=i.useState(null),p=Et(g),{inputProps:{"aria-describedby":d,id:m,disabled:v},readOnly:I,value:f,searchTerm:h,setValue:w,setSearchTerm:l,shouldAutocomplete:O,setHideCaret:u}=A(),{maxSelected:S}=H(),[_,F]=i.useState(!1),{customOptions:N}=Ce(),R=i.useMemo(()=>{if(t)return t;const k=[...N,...c];return j.getMatchingValuesFromList(h,k)},[N,t,c,h]),M=we(h),[E,L]=i.useState(!1),C=i.useMemo(()=>{const k=Object.assign({[j.getAddNewOptionId(m)]:s?ge(f):void 0},N.reduce((K,W)=>{const x=j.getOptionId(m,W.value);return K[x]=W,K},{}));return c.reduce((K,W)=>{const x=j.getOptionId(m,W.value);return K[x]=W,K},k)},[s,N,m,c,f]);xe(()=>{var k;const $=(k=j.getFirstValueStartingWith(h,R))===null||k===void 0?void 0:k.label;O&&$&&((M==null?void 0:M.length)||0)<h.length&&w(`${h}${$.substring(h.length)}`)},[R,M,h,l,w,O]);const P=i.useMemo(()=>n??_,[n,_]),D=i.useCallback(k=>{v||I||(p.resetFocus(),(k??!_)&&u(S.isLimitReached),F($=>k??!$))},[p,S.isLimitReached,_,u,v,I]),V=i.useMemo(()=>!!h&&!C[j.getOptionId(m,h)],[C,m,h]),ce=i.useMemo(()=>{let k="";!o&&R.length===0&&!s?k=j.getNoHitsId(m):(f||o)&&(O&&R[0]?k=j.getOptionId(m,R[0].value):P&&o&&(k=j.getIsLoadingId(m)));const $=S.isLimitReached&&j.getMaxSelectedOptionsId(m);return Ee(k,$,d)||void 0},[P,o,S.isLimitReached,f,d,O,R,m,s]),ne=i.useMemo(()=>{var k;return C[((k=p.activeElement)===null||k===void 0?void 0:k.getAttribute("id"))||-1]},[C,p]),B={activeDecendantId:i.useMemo(()=>{var k;return((k=p.activeElement)===null||k===void 0?void 0:k.getAttribute("id"))||void 0},[p.activeElement]),allowNewValues:s,setFilteredOptionsRef:b,shouldAutocomplete:O,isListOpen:P,isLoading:o,filteredOptions:R,isMouseLastUsedInputDevice:E,setIsMouseLastUsedInputDevice:L,isValueNew:V,toggleIsListOpen:D,currentOption:ne,virtualFocus:p,ariaDescribedBy:ce};return a.createElement(jt,Object.assign({},B),e)},Rt=()=>{const{cn:e}=T(),{inputProps:{id:r},size:s,searchTerm:t}=A(),{setIsMouseLastUsedInputDevice:n,toggleIsListOpen:o,activeDecendantId:c,virtualFocus:g}=X(),{isMultiSelect:b,selectedOptions:p,toggleOption:d}=H(),m=ie("Combobox");return a.createElement("li",{tabIndex:-1,onMouseMove:()=>{c!==j.getAddNewOptionId(r)&&(g.moveFocusToElement(j.getAddNewOptionId(r)),n(!0))},onPointerUp:v=>{d(ge(t),v),!b&&!z(t,p)&&o(!1)},id:j.getAddNewOptionId(r),className:e("navds-combobox__list-item navds-combobox__list-item--new-option",{"navds-combobox__list-item--new-option--focus":c===j.getAddNewOptionId(r)}),role:"option","aria-selected":!1},a.createElement(ot,{"aria-hidden":!0}),a.createElement(te,{size:s},m("addOption")," ",a.createElement(le,{as:"span",size:s},"“",t,"”")))},Nt=(e,r)=>{const s=e.toLowerCase().indexOf(r.toLowerCase()),t=e.substring(0,s),n=e.substring(s,s+r.length),o=e.substring(s+r.length);return[t,n,o]},Lt=({option:e})=>{const{cn:r}=T(),{inputProps:{id:s},size:t,searchTerm:n}=A(),{setIsMouseLastUsedInputDevice:o,toggleIsListOpen:c,activeDecendantId:g,virtualFocus:b}=X(),{isMultiSelect:p,maxSelected:d,selectedOptions:m,toggleOption:v}=H(),[I,f,h]=Nt(e.label,n),w=u=>d.isLimitReached&&!z(u.value,m),l=j.getOptionId(s,e.value),O=g===l;return a.createElement("li",{className:r("navds-combobox__list-item",{"navds-combobox__list-item--focus":O,"navds-combobox__list-item--selected":z(e.value,m)}),"data-no-focus":w(e)||void 0,id:l,key:l,tabIndex:-1,onMouseMove:()=>{O||(b.moveFocusToElement(l),o(!0))},onPointerUp:u=>{w(e)||(v(e,u),!p&&!z(e.value,m)&&c(!1))},role:"option","aria-selected":z(e.value,m),"aria-disabled":w(e)||void 0},a.createElement(te,{size:t,"aria-label":e.label},I,f&&a.createElement("mark",null,f),h),z(e.value,m)&&a.createElement(tt,null))},Pt=()=>{const{inputProps:{id:e}}=A(),{cn:r}=T(),s=ie("Combobox");return a.createElement("div",{className:r("navds-combobox__list-item--loading"),id:j.getIsLoadingId(e)},a.createElement(Ze,{title:s("loading")}))},Tt=()=>{const{cn:e}=T(),{inputProps:{id:r}}=A(),{maxSelected:s,selectedOptions:t}=H(),n=ie("Combobox");return a.createElement("div",{className:e("navds-combobox__list-item--max-selected"),id:j.getMaxSelectedOptionsId(r)},n("maxSelected",{selected:t.length,limit:s.limit||0}))},At=()=>{const{cn:e}=T(),{inputProps:{id:r}}=A();return a.createElement("div",{className:e("navds-combobox__list-item--no-options"),id:j.getNoHitsId(r)},"Ingen søketreff")},Mt=()=>{const{cn:e}=T(),{inputProps:{id:r}}=A(),{allowNewValues:s,isLoading:t,isListOpen:n,filteredOptions:o,setFilteredOptionsRef:c,isMouseLastUsedInputDevice:g,isValueNew:b}=X(),{maxSelected:p,isMultiSelect:d}=H(),m=d&&p.limit||t||!t&&o.length===0&&!s,v=s&&b&&!p.isLimitReached||o.length>0;return a.createElement("div",{className:e("navds-combobox__list",{"navds-combobox__list--closed":!n,"navds-combobox__list--with-hover":g}),id:j.getFilteredOptionsId(r),tabIndex:-1},m&&a.createElement("div",{className:e("navds-combobox__list_non-selectables"),role:"status"},d&&p.limit&&a.createElement(Tt,null),t&&a.createElement(Pt,null),!t&&o.length===0&&!s&&a.createElement(At,null)),v&&a.createElement("ul",{ref:c,role:"listbox",className:e("navds-combobox__list-options")},b&&!p.isLimitReached&&s&&a.createElement(Rt,null),o.map(I=>a.createElement(Lt,{key:I.value,option:I}))))},Dt=({option:e})=>{const{cn:r}=T(),{isMultiSelect:s,removeSelectedOption:t}=H(),{focusInput:n,readOnly:o,inputProps:c}=A();return s?o||c.disabled?a.createElement(ee.Toggle,{"data-color":"neutral",variant:"neutral",checkmark:!1,as:"div"},e.label):a.createElement(ee.Removable,{onClick:g=>{g.stopPropagation(),t(e),n()}},e.label):a.createElement("div",{className:r("navds-combobox__selected-options--no-bg")},e.label)},Bt=({selectedOptions:e=[],size:r,children:s})=>{const{cn:t}=T(),{value:n}=A(),{isMultiSelect:o}=H();return a.createElement(ee,{className:t("navds-combobox__selected-options"),size:r,"data-type":o?"multiple":"single"},n.length===0||o&&e.length?e.map((c,g)=>a.createElement(Dt,{key:c.label+g,option:c})):[],s)};var qt=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const be=i.forwardRef((e,r)=>{var{inputClassName:s,shouldShowSelectedOptions:t,placeholder:n,onBlur:o}=e,c=qt(e,["inputClassName","shouldShowSelectedOptions","placeholder","onBlur"]);const{cn:g}=T(),b=i.useRef(null),p=Oe(r,b),{clearInput:d,inputProps:m,onChange:v,size:I,value:f,searchTerm:h,setValue:w,hideCaret:l,setHideCaret:O,readOnly:u}=A(),{selectedOptions:S,removeSelectedOption:_,toggleOption:F,isMultiSelect:N,maxSelected:R}=H(),{activeDecendantId:M,allowNewValues:E,currentOption:L,filteredOptions:C,isValueNew:P,toggleIsListOpen:D,isListOpen:V,ariaDescribedBy:ce,setIsMouseLastUsedInputDevice:ne,shouldAutocomplete:Z,virtualFocus:B}=X(),k=i.useCallback(x=>{var G;const de=Q=>S.some(ue=>ue.label.toLocaleLowerCase()===Q.toLocaleLowerCase());if(L)x.preventDefault(),F(L,x),!N&&!de(L.label)&&D(!1);else if(de(f))x.preventDefault(),d(x);else if((E||Z)&&f!==""){x.preventDefault();const Q=j.getFirstValueStartingWith(f,C),ue=j.normalizeText(f)===j.normalizeText((G=Q==null?void 0:Q.label)!==null&&G!==void 0?G:"");let J;if(Z&&Q&&ue?J=Q:E&&P&&(J={label:f,value:f}),!J)return;F(J,x),!N&&!de(J.label)&&D(!1)}},[E,d,L,C,N,P,S,Z,D,F,f]),$=x=>{switch(x.preventDefault(),x.key){case"Enter":case"Accept":k(x);break}},K=i.useCallback(x=>{if(ne(!1),!u)if(x.key==="Backspace"){if(f===""&&t){const G=S[S.length-1];G&&_(G)}}else x.key==="Enter"||x.key==="Accept"?(M||f)&&x.preventDefault():x.key==="Escape"?(V||f)&&(x.preventDefault(),d(x),D(!1)):["ArrowLeft","ArrowRight"].includes(x.key)?f!==""&&f!==h&&v(f):x.key==="ArrowDown"?(f!==h&&w(h),V?B.moveFocusDown():(D(!0),setTimeout(B.moveFocusDown,0))):x.key==="ArrowUp"?(f!==""&&f!==h&&v(f),V&&M&&(x.preventDefault(),B.isFocusOnTheTop()&&D(!1),B.moveFocusUp())):x.key==="Home"?(x.preventDefault(),B.moveFocusToTop()):x.key==="End"?(x.preventDefault(),V?B.moveFocusToBottom():(D(!0),setTimeout(B.moveFocusToBottom,0))):x.key==="PageUp"?(x.preventDefault(),B.moveFocusUpBy(6)):x.key==="PageDown"&&(x.preventDefault(),V?B.moveFocusDownBy(6):(D(!0),setTimeout(()=>B.moveFocusDownBy(6),0)))},[f,S,_,V,M,ne,d,D,v,B,w,h,t,u]),W=i.useCallback(x=>{const G=x.target.value;G&&G!==""?D(!0):C.length===0&&D(!1),v(G)},[C.length,v,D]);return a.createElement("input",Object.assign({},c,We(m,["aria-invalid"]),{ref:p,type:"text",role:"combobox",value:f,onBlur:Ie(o,B.resetFocus),onClick:()=>{O(R.isLimitReached),f!==h&&v(f)},onInput:W,onKeyUp:$,onKeyDown:K,autoComplete:"off",placeholder:S.length?void 0:n,className:g(s,"navds-combobox__input","navds-body-short",`navds-body-short--${I}`,{"navds-combobox__input--hide-caret":l}),"aria-controls":j.getFilteredOptionsId(m.id),"aria-expanded":!!V,"aria-autocomplete":Z?"both":"list","aria-activedescendant":M,"aria-describedby":ce,"aria-invalid":m["aria-invalid"],readOnly:u}))}),Gt=i.forwardRef((e,r)=>{const{cn:s}=T(),{isListOpen:t,toggleIsListOpen:n}=X(),{focusInput:o}=A();return a.createElement("div",{ref:r,onClick:()=>{n(),o()},className:s("navds-combobox__button-toggle-list"),"aria-hidden":!0},t?a.createElement(rt,null):a.createElement(Ne,null))});var Vt=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const $t=i.forwardRef((e,r)=>{const{clearButton:s,clearButtonLabel:t,toggleListButton:n=!0,inputClassName:o,shouldShowSelectedOptions:c=!0}=e,g=Vt(e,["clearButton","clearButtonLabel","toggleListButton","inputClassName","shouldShowSelectedOptions"]),{cn:b}=T(),{focusInput:p,inputProps:d,size:m="medium",inputRef:v,toggleOpenButtonRef:I,readOnly:f}=A(),{activeDecendantId:h,toggleIsListOpen:w}=X(),{selectedOptions:l}=H(),O=Oe(v,r);return a.createElement("div",{className:b("navds-combobox__wrapper-inner navds-text-field__input",{"navds-combobox__wrapper-inner--virtually-unfocused":h!==void 0}),onClick:()=>{d.disabled||f||(w(!0),p())}},c?a.createElement(Bt,{selectedOptions:l,size:m},a.createElement(be,Object.assign({id:d.id,ref:O,inputClassName:o,shouldShowSelectedOptions:c,readOnly:f},g))):a.createElement(be,Object.assign({id:d.id,ref:O,inputClassName:o,readOnly:f},g)),n&&a.createElement(Gt,{ref:I}))});var zt=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const Ht=i.forwardRef((e,r)=>{const{className:s,hideLabel:t=!1,description:n,label:o}=e,c=zt(e,["className","hideLabel","description","label"]),{cn:g}=T(),{toggleIsListOpen:b}=X(),{error:p,errorId:d,hasError:m,inputDescriptionId:v,inputProps:I,showErrorMsg:f,size:h="medium",readOnly:w}=A();return a.createElement(ft,{className:s,hasError:m,inputProps:I,inputSize:h,toggleIsListOpen:b},a.createElement(le,{htmlFor:I.id,size:h,className:g("navds-form-field__label",{"navds-sr-only":t})},w&&a.createElement(Je,null),o),!!n&&a.createElement(te,{as:"div",className:g("navds-form-field__description",{"navds-sr-only":t}),id:v,size:h},n),a.createElement("div",{className:g("navds-combobox__wrapper")},a.createElement($t,Object.assign({ref:r},c)),a.createElement(Mt,null)),a.createElement("div",{className:g("navds-form-field__error"),id:d,"aria-relevant":"additions removals","aria-live":"polite"},f&&a.createElement(Qe,{size:h,showIcon:!0},p)))});var Ut=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const Kt=i.forwardRef((e,r)=>{const{allowNewValues:s=!1,children:t,defaultValue:n,disabled:o,readOnly:c,error:g,errorId:b,filteredOptions:p,id:d,isListOpen:m,isLoading:v=!1,isMultiSelect:I,onToggleSelected:f,selectedOptions:h,maxSelected:w,options:l,value:O,onChange:u,onClear:S,shouldAutocomplete:_,size:F}=e,N=Ut(e,["allowNewValues","children","defaultValue","disabled","readOnly","error","errorId","filteredOptions","id","isListOpen","isLoading","isMultiSelect","onToggleSelected","selectedOptions","maxSelected","options","value","onChange","onClear","shouldAutocomplete","size"]),R=pe(l)||[],M=pe(p),E=pe(h),L=typeof navigator>"u"?"":navigator.userAgent,P=!(L.includes("Android")&&L.includes("Firefox/"))&&_;return a.createElement(vt,{value:{defaultValue:n,description:N.description,disabled:o,readOnly:c,error:g,errorId:b,id:d,value:O,onChange:u,onClear:S,shouldAutocomplete:P,size:F}},a.createElement(bt,{value:{isMultiSelect:I}},a.createElement(Ot,{value:{allowNewValues:s,isMultiSelect:I,selectedOptions:E,maxSelected:w,onToggleSelected:f,options:R}},a.createElement(Ft,{value:{allowNewValues:s,filteredOptions:M,isListOpen:m,isLoading:v,options:R}},a.createElement(Ht,Object.assign({ref:r},N),t)))))}),Wt="_navn_broku_1",Qt="_saksbehandlerCombo_broku_5",Xt="_removeIcon_broku_9",me={navn:Wt,saksbehandlerCombo:Qt,removeIcon:Xt},Zt=ze(3),Jt=He(100),Yt=e=>[...e].sort((r,s)=>r.navn.localeCompare(s.navn)),en=(e,r)=>e.filter(s=>!r.some(t=>t.brukerIdent===s.brukerIdent)).sort((s,t)=>s.navn.localeCompare(t.navn)),Se=({valgAvdeldingEnhet:e,saksbehandlerGruppe:r,avdelingensSaksbehandlere:s})=>{const t=ye(),n=je(),{mutate:o}=Y({mutationFn:u=>Le(u.brukerIdent,e,u.gruppeId),onSuccess:()=>{t.invalidateQueries({queryKey:[re.HENT_GRUPPER]})}}),{mutate:c}=Y({mutationFn:u=>Pe(u.brukerIdent,e,u.gruppeId),onSuccess:()=>{t.invalidateQueries({queryKey:[re.HENT_GRUPPER]})}}),{mutate:g}=Y({mutationFn:u=>Te(u.gruppeId,u.gruppeNavn,e),onSuccess:()=>{t.invalidateQueries({queryKey:[re.HENT_GRUPPER]})}}),b=qe({defaultValues:{navn:r.gruppeNavn}}),p=Yt(r.saksbehandlere),m=en(s,p).map(u=>`${u.navn} (${u.brukerIdent})`),v=Ke("navn",u=>g({gruppeId:r.gruppeId,gruppeNavn:u}),b.trigger),[I,f]=i.useState([]),[h,w]=i.useState(""),l=u=>{u!=null&&u.trim()?f(m.filter(S=>S.toLowerCase().includes(u.toLowerCase()))):f(m)},O=(u,S)=>{const _=I.find(R=>R.toLowerCase().includes(u==null?void 0:u.toLowerCase())),F=_==null?void 0:_.replace(")","").split(" ("),N=p.some(R=>F&&R.brukerIdent===F[1]);_&&S&&!N&&F&&o({brukerIdent:F[1],gruppeId:r.gruppeId})};return i.useEffect(()=>l(h),[r,h]),y.jsx(Ge,{formMethods:b,children:y.jsxs(se,{gap:"5",children:[y.jsx(Ve,{name:"navn",control:b.control,label:n.formatMessage({id:"GruppeSaksbehandlere.Navn"}),validate:[$e,Zt,Jt,Ue],onBlur:v,className:me.navn}),y.jsxs(se,{gap:"4",children:[y.jsx(Kt,{label:n.formatMessage({id:"GruppeSaksbehandlere.VelgSaksbehandlere"}),size:"small",options:m,filteredOptions:I,selectedOptions:[],onChange:w,onToggleSelected:O,className:me.saksbehandlerCombo}),y.jsxs(se,{gap:"2",children:[y.jsx(le,{size:"small",children:y.jsx(U,{id:"GruppeSaksbehandlere.ValgteSaksbehandlere"})}),p.length===0&&y.jsx(te,{size:"small",children:y.jsx(U,{id:"GruppeSaksbehandlere.Ingen"})}),p.map(u=>y.jsxs(Ae,{gap:"2",align:"center",children:[y.jsx("div",{children:`${u.navn} (${u.brukerIdent})`}),y.jsx("div",{children:y.jsx(fe,{className:me.removeIcon,onMouseDown:()=>c({brukerIdent:u.brukerIdent,gruppeId:r.gruppeId}),onKeyDown:()=>c({brukerIdent:u.brukerIdent,gruppeId:r.gruppeId})})})]},u.brukerIdent))]})]})]})})};Se.__docgenInfo={description:"",methods:[],displayName:"GruppeSaksbehandlere",props:{valgAvdeldingEnhet:{required:!0,tsType:{name:"string"},description:""},saksbehandlerGruppe:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]"},description:""}}};const tn="_removeIcon_1k4e9_1",nn={removeIcon:tn},_e=({valgAvdeldingEnhet:e,grupper:r,avdelingensSaksbehandlere:s})=>{var o;const t=ye(),{mutate:n}=Y({mutationFn:c=>Me(c.gruppeId,e),onSuccess:()=>{t.invalidateQueries({queryKey:[re.HENT_GRUPPER]})}});return y.jsxs(y.Fragment,{children:[y.jsx(le,{size:"small",children:y.jsx(U,{id:"GrupperTabell.Grupper"})}),r.saksbehandlerGrupper.length>0&&y.jsxs(q,{children:[y.jsx(q.Header,{children:y.jsxs(q.Row,{children:[y.jsx(q.HeaderCell,{}),y.jsx(q.HeaderCell,{scope:"col",children:y.jsx(U,{id:"GrupperTabell.Id"})}),y.jsx(q.HeaderCell,{scope:"col",children:y.jsx(U,{id:"GrupperTabell.Navn"})}),y.jsx(q.HeaderCell,{scope:"col",children:y.jsx(U,{id:"GrupperTabell.AntallSaksbehandlere"})}),y.jsx(q.HeaderCell,{})]})}),y.jsx(q.Body,{children:(o=r.saksbehandlerGrupper)==null?void 0:o.map(c=>y.jsxs(q.ExpandableRow,{expandOnRowClick:!0,content:y.jsx(Se,{valgAvdeldingEnhet:e,saksbehandlerGruppe:c,avdelingensSaksbehandlere:s}),children:[y.jsx(q.DataCell,{scope:"row",children:c.gruppeId}),y.jsx(q.DataCell,{children:c.gruppeNavn??"-"}),y.jsx(q.DataCell,{children:c.saksbehandlere.length}),y.jsx(q.DataCell,{children:y.jsx(fe,{className:nn.removeIcon,onMouseDown:()=>n({gruppeId:c.gruppeId}),onKeyDown:()=>n({gruppeId:c.gruppeId})})})]},c.gruppeId))})]}),r.saksbehandlerGrupper.length===0&&y.jsx(te,{children:y.jsx(U,{id:"GrupperTabell.IngenGrupper"})})]})};_e.__docgenInfo={description:"",methods:[],displayName:"GrupperTabell",props:{valgAvdeldingEnhet:{required:!0,tsType:{name:"string"},description:""},grupper:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}`,signature:{properties:[{key:"saksbehandlerGrupper",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}>`}],raw:"SaksbehandlerGruppe[]",required:!0}}]}}],raw:`Readonly<{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]"},description:""}}};const rn=({valgtAvdelingEnhet:e,avdelingensSaksbehandlere:r})=>{const{data:s,refetch:t}=Re(Be(e)),{mutate:n,status:o}=Y({mutationFn:()=>De(e),onSuccess:()=>{t()}});return s?y.jsxs(se,{gap:"5",align:"start",children:[y.jsx(_e,{valgAvdeldingEnhet:e,grupper:s,avdelingensSaksbehandlere:r}),y.jsx(Ye,{size:"small",variant:"secondary",loading:o==="pending",disabled:o==="pending",tabIndex:0,onClick:()=>n(),children:y.jsx(U,{id:"GrupperPanel.OpprettGruppe"})})]}):y.jsx(Fe,{})};rn.__docgenInfo={description:"",methods:[],displayName:"GrupperPanel",props:{valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]"},description:""}}};export{rn as G};
