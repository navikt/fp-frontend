import{j as r}from"./jsx-runtime-9c4ae004.js";import{r as m}from"./index-1b03fe98.js";import{e as V,u as A,O as K,F as h,b as j,H as k,C as N,a as P}from"./nb_NO-1fdf6328.js";import{r as R,G as U,k as D,I as v}from"./index.es-c5a2382a.js";import{b as F,R as I}from"./fplosRestApi-beda4f04.js";import{B}from"./BehandlingstypeVelger-8d99782f.js";import{A as O}from"./AndreKriterierVelger-855d8e32.js";import{F as L}from"./FagsakYtelseTypeVelger-60ae8138.js";import{u as q,S as z}from"./SorteringVelger-61b750c2.js";import{P as E}from"./Panel-4873e9b0.js";import{H as b}from"./Heading-1e32144f.js";import{V as C}from"./VStack-079ead8e.js";const H="_grayBox_zjuun_1",M="_panel_zjuun_6",Y="_bredde_zjuun_11",g={grayBox:H,panel:M,bredde:Y},G=D(3),w=v(100),$=(s,e)=>{var o,a;const t=e.behandlingTyper?e.behandlingTyper.reduce((i,n)=>({...i,[n]:!0}),{}):{},u=e.fagsakYtelseTyper?e.fagsakYtelseTyper.reduce((i,n)=>({...i,[n]:!0}),{}):{},d=e.andreKriterier?e.andreKriterier.reduce((i,n)=>({...i,[n.andreKriterierType]:!0}),{}):{},l=e.andreKriterier?e.andreKriterier.reduce((i,n)=>({...i,[`${n.andreKriterierType}_inkluder`]:n.inkluder}),{}):{};return{sakslisteId:e.sakslisteId,navn:e.navn?e.navn:s.formatMessage({id:"UtvalgskriterierForSakslisteForm.NyListe"}),sortering:e.sortering?e.sortering.sorteringType:void 0,fomDato:e.sortering?e.sortering.fomDato:void 0,tomDato:e.sortering?e.sortering.tomDato:void 0,fra:e.sortering?(o=e.sortering.fra)==null?void 0:o.toString():void 0,til:e.sortering?(a=e.sortering.til)==null?void 0:a.toString():void 0,erDynamiskPeriode:e.sortering?e.sortering.erDynamiskPeriode:void 0,...d,...l,...t,...u}},y=({valgtSaksliste:s,valgtAvdelingEnhet:e,hentAvdelingensSakslister:t,hentOppgaverForAvdelingAntall:u})=>{const d=V(),{data:l,startRequest:o}=F.useRestApiRunner(I.OPPGAVE_ANTALL);m.useEffect(()=>{o({sakslisteId:s.sakslisteId,avdelingEnhet:e})},[s.sakslisteId]);const a=m.useCallback((c,x)=>{o({sakslisteId:c,avdelingEnhet:x}),u({avdelingEnhet:x})},[]),{startRequest:i}=F.useRestApiRunner(I.LAGRE_SAKSLISTE_NAVN),n=m.useCallback(c=>{i({sakslisteId:s.sakslisteId,navn:c,avdelingEnhet:e}).then(()=>t({avdelingEnhet:e}))},[e,s]),_=m.useMemo(()=>$(d,s),[s]),p=A({defaultValues:_}),T=q("navn",n,p.trigger),f=p.watch();return r.jsx(K,{formMethods:p,children:r.jsxs(E,{className:g.panel,children:[r.jsx(b,{size:"small",children:r.jsx(h,{id:"UtvalgskriterierForSakslisteForm.Utvalgskriterier"})}),r.jsx(j,{eightPx:!0}),r.jsxs(C,{gap:"4",children:[r.jsxs(k,{justify:"space-between",children:[r.jsx(N,{name:"navn",label:d.formatMessage({id:"UtvalgskriterierForSakslisteForm.Navn"}),validate:[R,G,w,U],onChange:T,className:g.bredde}),r.jsxs("div",{className:g.grayBox,children:[r.jsx(P,{size:"small",children:r.jsx(h,{id:"UtvalgskriterierForSakslisteForm.AntallSaker"})}),r.jsx(b,{size:"small",children:l?`${l}`:"0"})]})]}),r.jsxs(k,{justify:"space-between",children:[r.jsxs("div",{children:[r.jsx(L,{valgtSakslisteId:s.sakslisteId,valgtAvdelingEnhet:e,hentAvdelingensSakslister:t,hentAntallOppgaver:a}),r.jsx(B,{valgtSakslisteId:s.sakslisteId,valgtAvdelingEnhet:e,hentAvdelingensSakslister:t,hentAntallOppgaver:a})]}),r.jsx("div",{children:r.jsx(O,{valgtSakslisteId:s.sakslisteId,valgtAvdelingEnhet:e,values:f,hentAvdelingensSakslister:t,hentAntallOppgaver:a})}),r.jsx("div",{children:r.jsx(z,{valgtSakslisteId:s.sakslisteId,valgteBehandlingtyper:s.behandlingTyper,valgtAvdelingEnhet:e,erDynamiskPeriode:!!f.erDynamiskPeriode,hentAvdelingensSakslister:t,hentAntallOppgaver:a})})]})]}),r.jsx(j,{sixteenPx:!0})]})})},ae=y;try{y.displayName="UtvalgskriterierForSakslisteForm",y.__docgenInfo={description:"UtvalgskriterierForSakslisteForm",displayName:"UtvalgskriterierForSakslisteForm",props:{valgtSaksliste:{defaultValue:null,description:"",name:"valgtSaksliste",required:!0,type:{name:"Readonly<{ sakslisteId: number; navn?: string | undefined; behandlingTyper?: string[] | undefined; fagsakYtelseTyper?: string[] | undefined; sistEndret: string; sortering?: { sorteringType: string; ... 4 more ...; erDynamiskPeriode: boolean; } | undefined; andreKriterier?: Readonly<...>[] | undefined; saksbehandlerI..."}},valgtAvdelingEnhet:{defaultValue:null,description:"",name:"valgtAvdelingEnhet",required:!0,type:{name:"string"}},hentAvdelingensSakslister:{defaultValue:null,description:"",name:"hentAvdelingensSakslister",required:!0,type:{name:"(params: { avdelingEnhet: string; }) => void"}},hentOppgaverForAvdelingAntall:{defaultValue:null,description:"",name:"hentOppgaverForAvdelingAntall",required:!0,type:{name:"(params: { avdelingEnhet: string; }) => void"}}}}}catch{}export{ae as U};
//# sourceMappingURL=UtvalgskriterierForSakslisteForm-986896d6.js.map
