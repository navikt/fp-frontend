import{k as ie,j as r,v as H,n as ve,h as Ee,p as le,O as me,s as Ne,B as Q}from"./iframe-Cj3mUDpb.js";import{u as de,C as Z,y as fe,a as Pe,F as Fe,R as Ke}from"./index.es-24vskbME.js";import{u as k}from"./useMutation-DJ_GgXqt.js";import{p as ye,L as D,H as xe,q as qe,r as Ye,V as oe,t as we}from"./fplosAvdelingslederApi-B5RzSJsw.js";import{u as Ge}from"./useLosKodeverk-Qqnsn9h4.js";import{W as Le,H as ge}from"./index.es-BnuV3lYQ.js";import{u as z}from"./useDebounce-Wl9sgvCQ.js";import{D as M,M as P}from"./nb_NO-tLXWBS2D.js";const Ie="_dager_1u55p_1",ke="_dagerMedBindestrek_1u55p_5",Re="_dato_1u55p_19",be="_arrowBoxWidth_1u55p_24",j={dager:Ie,dagerMedBindestrek:ke,beløp:"_beløp_1u55p_10",dato:Re,arrowBoxWidth:be},Ve=({valgtSakslisteId:s,valgtAvdelingEnhet:c})=>{const h=ie(),{watch:u,trigger:l,control:m}=de(),f=u("fra"),y=u("til"),{mutate:g}=k({mutationFn:p=>ye(s,p.fra,p.til,c),onSuccess:()=>{h.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,s,c]}),h.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),h.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),x=p=>g({fra:p,til:y}),a=p=>g({fra:f,til:p}),d=z("fra",x,l),F=z("til",a,l);return r.jsxs(Le,{children:[r.jsx(M,{children:r.jsx(P,{id:"SorteringVelger.FiltrerPaHeltall"})}),r.jsxs(xe,{gap:"space-16",children:[r.jsx(Z,{name:"fra",control:m,className:j.dato,validate:[H],onChange:p=>d(p)}),r.jsx(M,{className:j.beløp,children:r.jsx(P,{id:"SorteringVelger.Valuta"})}),r.jsx(Z,{name:"til",control:m,className:j.dato,validate:[H],onChange:p=>F(p)}),r.jsx(M,{className:j.beløp,children:r.jsx(P,{id:"SorteringVelger.Valuta"})})]})]})};Ve.__docgenInfo={description:"",methods:[],displayName:"BelopSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""}}};var $={exports:{}},Oe=$.exports,he;function Be(){return he||(he=1,function(s,c){(function(h,u){s.exports=u()})(Oe,function(){var h={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},u=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d/,m=/\d\d/,f=/\d\d?/,y=/\d*[^-_:/,()\s\d]+/,g={},x=function(e){return(e=+e)+(e>68?1900:2e3)},a=function(e){return function(t){this[e]=+t}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(t){if(!t||t==="Z")return 0;var n=t.match(/([+-]|\d\d)/g),o=60*n[1]+(+n[2]||0);return o===0?0:n[0]==="+"?-o:o}(e)}],F=function(e){var t=g[e];return t&&(t.indexOf?t:t.s.concat(t.f))},p=function(e,t){var n,o=g.meridiem;if(o){for(var i=1;i<=24;i+=1)if(e.indexOf(o(i,0,t))>-1){n=i>12;break}}else n=e===(t?"pm":"PM");return n},U={A:[y,function(e){this.afternoon=p(e,!1)}],a:[y,function(e){this.afternoon=p(e,!0)}],Q:[l,function(e){this.month=3*(e-1)+1}],S:[l,function(e){this.milliseconds=100*+e}],SS:[m,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[f,a("seconds")],ss:[f,a("seconds")],m:[f,a("minutes")],mm:[f,a("minutes")],H:[f,a("hours")],h:[f,a("hours")],HH:[f,a("hours")],hh:[f,a("hours")],D:[f,a("day")],DD:[m,a("day")],Do:[y,function(e){var t=g.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var o=1;o<=31;o+=1)t(o).replace(/\[|\]/g,"")===e&&(this.day=o)}],w:[f,a("week")],ww:[m,a("week")],M:[f,a("month")],MM:[m,a("month")],MMM:[y,function(e){var t=F("months"),n=(F("monthsShort")||t.map(function(o){return o.slice(0,3)})).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[y,function(e){var t=F("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,a("year")],YY:[m,function(e){this.year=x(e)}],YYYY:[/\d{4}/,a("year")],Z:d,ZZ:d};function W(e){var t,n;t=e,n=g&&g.formats;for(var o=(e=t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(q,v,S){var V=S&&S.toUpperCase();return v||n[S]||h[S]||n[V].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(E,N,Y){return N||Y.slice(1)})})).match(u),i=o.length,A=0;A<i;A+=1){var I=o[A],K=U[I],T=K&&K[0],_=K&&K[1];o[A]=_?{regex:T,parser:_}:I.replace(/^\[|\]$/g,"")}return function(q){for(var v={},S=0,V=0;S<i;S+=1){var E=o[S];if(typeof E=="string")V+=E.length;else{var N=E.regex,Y=E.parser,R=q.slice(V),G=N.exec(R)[0];Y.call(v,G),q=q.replace(G,"")}}return function(w){var b=w.afternoon;if(b!==void 0){var L=w.hours;b?L<12&&(w.hours+=12):L===12&&(w.hours=0),delete w.afternoon}}(v),v}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(x=e.parseTwoDigitYear);var o=t.prototype,i=o.parse;o.parse=function(A){var I=A.date,K=A.utc,T=A.args;this.$u=K;var _=T[1];if(typeof _=="string"){var q=T[2]===!0,v=T[3]===!0,S=q||v,V=T[2];v&&(V=T[2]),g=this.$locale(),!q&&V&&(g=n.Ls[V]),this.$d=function(R,G,w,b){try{if(["x","X"].indexOf(G)>-1)return new Date((G==="X"?1e3:1)*R);var L=W(G)(R),X=L.year,O=L.month,Ae=L.day,Te=L.hours,_e=L.minutes,Me=L.seconds,je=L.milliseconds,ue=L.zone,ce=L.week,J=new Date,ee=Ae||(X||O?1:J.getDate()),re=X||J.getFullYear(),B=0;X&&!O||(B=O>0?O-1:J.getMonth());var C,te=Te||0,ae=_e||0,se=Me||0,ne=je||0;return ue?new Date(Date.UTC(re,B,ee,te,ae,se,ne+60*ue.offset*1e3)):w?new Date(Date.UTC(re,B,ee,te,ae,se,ne)):(C=new Date(re,B,ee,te,ae,se,ne),ce&&(C=b(C).week(ce).toDate()),C)}catch{return new Date("")}}(I,_,K,n),this.init(),V&&V!==!0&&(this.$L=this.locale(V).$L),S&&I!=this.format(_)&&(this.$d=new Date("")),g={}}else if(_ instanceof Array)for(var E=_.length,N=1;N<=E;N+=1){T[1]=_[N-1];var Y=n.apply(this,T);if(Y.isValid()){this.$d=Y.$d,this.$L=Y.$L,this.init();break}N===E&&(this.$d=new Date(""))}else i.call(this,A)}}})}($)),$.exports}var Ce=Be();const Qe=ve(Ce);le.extend(Qe);const Se=({valgtSakslisteId:s,valgtAvdelingEnhet:c,erDynamiskPeriode:h})=>{const u=ie(),l=Ee(),{mutate:m}=k({mutationFn:i=>ye(s,i.fra,i.til,c),onSuccess:()=>{u.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,s,c]}),u.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),u.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{mutate:f}=k({mutationFn:()=>qe(s,c),onSuccess:()=>{u.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,s,c]}),u.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),u.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{mutate:y}=k({mutationFn:i=>Ye(s,c,i.fomDato,i.tomDato),onSuccess:()=>{u.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,s,c]}),u.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),u.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{watch:g,control:x}=de(),a=g("fra"),d=g("til"),F=g("fomDato"),p=g("tomDato"),U=i=>m({fra:i,til:d}),W=i=>m({fra:a,til:i}),e=De(y,!0,p),t=De(y,!1,F),n=z("fomDato",e),o=z("tomDato",t);return r.jsx("div",{className:j.arrowBoxWidth,children:r.jsx(Le,{children:r.jsxs(oe,{gap:"space-8",children:[r.jsx(M,{children:r.jsx(P,{id:"SorteringVelger.FiltrerPaTidsintervall"})}),h&&r.jsxs(xe,{gap:"space-16",children:[r.jsxs("div",{children:[r.jsx(Z,{name:"fra",control:x,className:j.dato,label:l.formatMessage({id:"SorteringVelger.Fom"}),validate:[H],onBlur:i=>U(i)}),(a||a===0)&&r.jsx(M,{children:r.jsx(ge,{dateString:pe(a)})})]}),r.jsx(M,{className:j.dager,children:r.jsx(P,{id:"SorteringVelger.DagerMedBindestrek"})}),r.jsxs("div",{children:[r.jsx(Z,{name:"til",control:x,className:j.dato,label:l.formatMessage({id:"SorteringVelger.Tom"}),validate:[H],onBlur:i=>W(i)}),(d||d===0)&&r.jsx(M,{children:r.jsx(ge,{dateString:pe(d)})})]}),r.jsx(M,{className:j.dagerMedBindestrek,children:r.jsx(P,{id:"SorteringVelger.Dager"})})]}),!h&&r.jsxs(oe,{gap:"space-16",children:[r.jsx(fe,{name:"fomDato",control:x,label:l.formatMessage({id:"SorteringVelger.Fom"}),validate:[me],onChange:n}),r.jsx(M,{children:r.jsx(P,{id:"SorteringVelger.Bindestrek"})}),r.jsx(fe,{name:"tomDato",control:x,label:l.formatMessage({id:"SorteringVelger.Tom"}),validate:[me],onChange:o})]}),r.jsx(Pe,{name:"erDynamiskPeriode",control:x,label:l.formatMessage({id:"SorteringVelger.DynamiskPeriode"}),onChange:()=>f()})]})})})},pe=s=>le().add(s,"d").format(),De=(s,c,h)=>u=>{let l;if(u&&(l=le(u)),!l||l.isValid()){const m=l&&l.format(Ne);return s(c?{fomDato:m,tomDato:h}:{fomDato:h,tomDato:m})}};Se.__docgenInfo={description:"",methods:[],displayName:"DatoSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};const $e=s=>s&&s.some(c=>c===Q.TILBAKEKREVING||c===Q.TILBAKEKREVING_REVURDERING)&&!s.some(c=>c!==Q.TILBAKEKREVING&&c!==Q.TILBAKEKREVING_REVURDERING),He=({valgtSakslisteId:s,valgteBehandlingtyper:c,valgtAvdelingEnhet:h,erDynamiskPeriode:u})=>{const l=ie(),{resetField:m,control:f,watch:y}=de(),{mutate:g}=k({mutationFn:d=>we(s,d.sorteringType,h),onSuccess:()=>{l.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,s,h]}),l.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),x=Ge("KøSortering"),a=y("sortering");return r.jsx(Fe,{name:"sortering",control:f,label:r.jsx(P,{id:"SorteringVelger.Sortering"}),onChange:d=>(m("fra",{defaultValue:""}),m("til",{defaultValue:""}),m("fomDato",{defaultValue:""}),m("tomDato",{defaultValue:""}),m("erDynamiskPeriode",{defaultValue:""}),g({sorteringType:String(d)})),children:x.filter(d=>d.feltkategori!=="TILBAKEKREVING"||$e(c)).map(d=>r.jsxs(oe,{gap:"space-2",children:[r.jsx(Ke,{value:d.kode,size:"small",children:d.navn}),a===d.kode&&r.jsxs(r.Fragment,{children:[d.felttype==="DATO"&&r.jsx(Se,{valgtSakslisteId:s,valgtAvdelingEnhet:h,erDynamiskPeriode:u}),d.felttype==="HELTALL"&&r.jsx(Ve,{valgtSakslisteId:s,valgtAvdelingEnhet:h})]})]},d.kode))})};He.__docgenInfo={description:"",methods:[],displayName:"SorteringVelger",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgteBehandlingtyper:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};export{He as S};
