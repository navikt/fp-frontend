import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{a as ne,X as H,G as ge,U as je,J as Ne}from"./index.es-Dx8qhm7z.js";import{u as oe,D as T,M as N,d as qe,B as Q}from"./nb_NO-k7XfLIF0.js";import{u as Y}from"./useMutation-CsIEtWN8.js";import{B as ve,L as f,c as Ve,C as Pe,D as Ie,V as fe,E as ke}from"./fplosAvdelingslederApi-BKCCOvwM.js";import{u as Fe}from"./useLosKodeverk-C5iLaZGo.js";import{v as U,O as pe}from"./index.es-B6dkbjZv.js";import{C as xe,R as he,A as Ke}from"./index.es-CHpjaGkX.js";import{u as Z}from"./useDebounce-BdnsuVaX.js";import"./index-Dxs5m6lS.js";import{d as le}from"./dayjs.min-Cke173X9.js";import{g as be}from"./_commonjsHelpers-Cpj98o6Y.js";const Ye="_dager_1u55p_1",we="_dagerMedBindestrek_1u55p_5",Ge="_dato_1u55p_19",Re="_arrowBoxWidth_1u55p_24",_={dager:Ye,dagerMedBindestrek:we,beløp:"_beløp_1u55p_10",dato:Ge,arrowBoxWidth:Re},de=({valgtSakslisteId:d,valgtAvdelingEnhet:c})=>{const g=oe(),{watch:l,trigger:o}=ne(),u=l("fra"),m=l("til"),{mutate:p}=Y({mutationFn:h=>ve(d,h.fra,h.til,c),onSuccess:()=>{g.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),g.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),g.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),s=h=>p({fra:h,til:m}),v=h=>p({fra:u,til:h}),n=Z("fra",s,o),F=Z("til",v,o);return r.jsxs(xe,{children:[r.jsx(T,{children:r.jsx(N,{id:"SorteringVelger.FiltrerPaHeltall"})}),r.jsxs(Ve,{gap:"4",children:[r.jsx(H,{name:"fra",className:_.dato,validate:[U],onChange:n}),r.jsx(T,{className:_.beløp,children:r.jsx(N,{id:"SorteringVelger.Valuta"})}),r.jsx(H,{name:"til",className:_.dato,validate:[U],onChange:F}),r.jsx(T,{className:_.beløp,children:r.jsx(N,{id:"SorteringVelger.Valuta"})})]})]})};de.__docgenInfo={description:"",methods:[],displayName:"BelopSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""}}};de.__docgenInfo={description:"",methods:[],displayName:"BelopSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""}}};var $={exports:{}},Be=$.exports,ye;function Oe(){return ye||(ye=1,function(d,c){(function(g,l){d.exports=l()})(Be,function(){var g={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},l=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d/,u=/\d\d/,m=/\d\d?/,p=/\d*[^-_:/,()\s\d]+/,s={},v=function(e){return(e=+e)+(e>68?1900:2e3)},n=function(e){return function(a){this[e]=+a}},F=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(a){if(!a||a==="Z")return 0;var i=a.match(/([+-]|\d\d)/g),t=60*i[1]+(+i[2]||0);return t===0?0:i[0]==="+"?-t:t}(e)}],h=function(e){var a=s[e];return a&&(a.indexOf?a:a.s.concat(a.f))},w=function(e,a){var i,t=s.meridiem;if(t){for(var V=1;V<=24;V+=1)if(e.indexOf(t(V,0,a))>-1){i=V>12;break}}else i=e===(a?"pm":"PM");return i},z={A:[p,function(e){this.afternoon=w(e,!1)}],a:[p,function(e){this.afternoon=w(e,!0)}],Q:[o,function(e){this.month=3*(e-1)+1}],S:[o,function(e){this.milliseconds=100*+e}],SS:[u,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[m,n("seconds")],ss:[m,n("seconds")],m:[m,n("minutes")],mm:[m,n("minutes")],H:[m,n("hours")],h:[m,n("hours")],HH:[m,n("hours")],hh:[m,n("hours")],D:[m,n("day")],DD:[u,n("day")],Do:[p,function(e){var a=s.ordinal,i=e.match(/\d+/);if(this.day=i[0],a)for(var t=1;t<=31;t+=1)a(t).replace(/\[|\]/g,"")===e&&(this.day=t)}],w:[m,n("week")],ww:[u,n("week")],M:[m,n("month")],MM:[u,n("month")],MMM:[p,function(e){var a=h("months"),i=(h("monthsShort")||a.map(function(t){return t.slice(0,3)})).indexOf(e)+1;if(i<1)throw new Error;this.month=i%12||i}],MMMM:[p,function(e){var a=h("months").indexOf(e)+1;if(a<1)throw new Error;this.month=a%12||a}],Y:[/[+-]?\d+/,n("year")],YY:[u,function(e){this.year=v(e)}],YYYY:[/\d{4}/,n("year")],Z:F,ZZ:F};function W(e){var a,i;a=e,i=s&&s.formats;for(var t=(e=a.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(P,E,S){var D=S&&S.toUpperCase();return E||i[S]||g[S]||i[D].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(M,j,I){return j||I.slice(1)})})).match(l),V=t.length,x=0;x<V;x+=1){var b=t[x],q=z[b],A=q&&q[0],L=q&&q[1];t[x]=L?{regex:A,parser:L}:b.replace(/^\[|\]$/g,"")}return function(P){for(var E={},S=0,D=0;S<V;S+=1){var M=t[S];if(typeof M=="string")D+=M.length;else{var j=M.regex,I=M.parser,G=P.slice(D),K=j.exec(G)[0];I.call(E,K),P=P.replace(K,"")}}return function(k){var R=k.afternoon;if(R!==void 0){var y=k.hours;R?y<12&&(k.hours+=12):y===12&&(k.hours=0),delete k.afternoon}}(E),E}}return function(e,a,i){i.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(v=e.parseTwoDigitYear);var t=a.prototype,V=t.parse;t.parse=function(x){var b=x.date,q=x.utc,A=x.args;this.$u=q;var L=A[1];if(typeof L=="string"){var P=A[2]===!0,E=A[3]===!0,S=P||E,D=A[2];E&&(D=A[2]),s=this.$locale(),!P&&D&&(s=i.Ls[D]),this.$d=function(G,K,k,R){try{if(["x","X"].indexOf(K)>-1)return new Date((K==="X"?1e3:1)*G);var y=W(K)(G),X=y.year,B=y.month,Le=y.day,Te=y.hours,_e=y.minutes,Ee=y.seconds,Me=y.milliseconds,me=y.zone,ce=y.week,J=new Date,ee=Le||(X||B?1:J.getDate()),re=X||J.getFullYear(),O=0;X&&!B||(O=B>0?B-1:J.getMonth());var C,te=Te||0,ae=_e||0,se=Ee||0,ie=Me||0;return me?new Date(Date.UTC(re,O,ee,te,ae,se,ie+60*me.offset*1e3)):k?new Date(Date.UTC(re,O,ee,te,ae,se,ie)):(C=new Date(re,O,ee,te,ae,se,ie),ce&&(C=R(C).week(ce).toDate()),C)}catch{return new Date("")}}(b,L,q,i),this.init(),D&&D!==!0&&(this.$L=this.locale(D).$L),S&&b!=this.format(L)&&(this.$d=new Date("")),s={}}else if(L instanceof Array)for(var M=L.length,j=1;j<=M;j+=1){A[1]=L[j-1];var I=i.apply(this,A);if(I.isValid()){this.$d=I.$d,this.$L=I.$L,this.init();break}j===M&&(this.$d=new Date(""))}else V.call(this,x)}}})}($)),$.exports}var Ce=Oe();const Qe=be(Ce);le.extend(Qe);const ue=({valgtSakslisteId:d,valgtAvdelingEnhet:c,erDynamiskPeriode:g})=>{const l=oe(),o=qe(),{mutate:u}=Y({mutationFn:t=>ve(d,t.fra,t.til,c),onSuccess:()=>{l.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),{mutate:m}=Y({mutationFn:()=>Pe(d,c),onSuccess:()=>{l.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),{mutate:p}=Y({mutationFn:t=>Ie(d,c,t.fomDato,t.tomDato),onSuccess:()=>{l.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),{watch:s}=ne(),v=s("fra"),n=s("til"),F=s("fomDato"),h=s("tomDato"),w=t=>u({fra:t,til:n}),z=t=>u({fra:v,til:t}),W=Se(p,!0,h),e=Se(p,!1,F),a=Z("fomDato",W),i=Z("tomDato",e);return r.jsx("div",{className:_.arrowBoxWidth,children:r.jsx(xe,{children:r.jsxs(fe,{gap:"2",children:[r.jsx(T,{children:r.jsx(N,{id:"SorteringVelger.FiltrerPaTidsintervall"})}),g&&r.jsxs(Ve,{gap:"4",children:[r.jsxs("div",{children:[r.jsx(H,{name:"fra",className:_.dato,label:o.formatMessage({id:"SorteringVelger.Fom"}),validate:[U],onBlur:w}),(v||v===0)&&r.jsx(T,{children:r.jsx(he,{dateString:De(v)})})]}),r.jsx(T,{className:_.dager,children:r.jsx(N,{id:"SorteringVelger.DagerMedBindestrek"})}),r.jsxs("div",{children:[r.jsx(H,{name:"til",className:_.dato,label:o.formatMessage({id:"SorteringVelger.Tom"}),validate:[U],onBlur:z}),(n||n===0)&&r.jsx(T,{children:r.jsx(he,{dateString:De(n)})})]}),r.jsx(T,{className:_.dagerMedBindestrek,children:r.jsx(N,{id:"SorteringVelger.Dager"})})]}),!g&&r.jsxs(fe,{gap:"4",children:[r.jsx(ge,{name:"fomDato",label:o.formatMessage({id:"SorteringVelger.Fom"}),validate:[pe],onChange:a}),r.jsx(T,{children:r.jsx(N,{id:"SorteringVelger.Bindestrek"})}),r.jsx(ge,{name:"tomDato",label:o.formatMessage({id:"SorteringVelger.Tom"}),validate:[pe],onChange:i})]}),r.jsx(je,{name:"erDynamiskPeriode",label:o.formatMessage({id:"SorteringVelger.DynamiskPeriode"}),onChange:()=>m()})]})})})},De=d=>le().add(d,"d").format(),Se=(d,c,g)=>l=>{let o;if(l&&(o=le(l)),!o||o.isValid()){const u=o&&o.format(Ke);return d(c?{fomDato:u,tomDato:g}:{fomDato:g,tomDato:u})}};ue.__docgenInfo={description:"",methods:[],displayName:"DatoSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};ue.__docgenInfo={description:"",methods:[],displayName:"DatoSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};const $e=d=>d&&d.some(c=>c===Q.TILBAKEKREVING||c===Q.TILBAKEKREVING_REVURDERING)&&!d.some(c=>c!==Q.TILBAKEKREVING&&c!==Q.TILBAKEKREVING_REVURDERING),Ae=({valgtSakslisteId:d,valgteBehandlingtyper:c,valgtAvdelingEnhet:g,erDynamiskPeriode:l})=>{const o=oe(),{resetField:u}=ne(),{mutate:m}=Y({mutationFn:s=>ke(d,s.sorteringType,g),onSuccess:()=>{o.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),o.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),o.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),p=Fe("KøSortering");return r.jsx(Ne,{name:"sortering",label:r.jsx(N,{id:"SorteringVelger.Sortering"}),onChange:s=>(u("fra",{defaultValue:""}),u("til",{defaultValue:""}),u("fomDato",{defaultValue:""}),u("tomDato",{defaultValue:""}),u("erDynamiskPeriode",{defaultValue:""}),m({sorteringType:s})),radios:p.filter(s=>s.feltkategori!=="TILBAKEKREVING"||$e(c)).map(s=>({value:s.kode,label:s.navn,element:r.jsxs(r.Fragment,{children:[s.felttype==="DATO"&&r.jsx(ue,{valgtSakslisteId:d,valgtAvdelingEnhet:g,erDynamiskPeriode:l}),s.felttype==="HELTALL"&&r.jsx(de,{valgtSakslisteId:d,valgtAvdelingEnhet:g})]})}))})};Ae.__docgenInfo={description:"",methods:[],displayName:"SorteringVelger",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgteBehandlingtyper:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};Ae.__docgenInfo={description:"",methods:[],displayName:"SorteringVelger",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgteBehandlingtyper:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};export{Ae as S};
