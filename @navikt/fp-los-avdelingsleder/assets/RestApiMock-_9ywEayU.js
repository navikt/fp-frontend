import{j as m}from"./dayjs.min-ZUODdiE-.js";import{a as W,b as Y,c as z}from"./useRestApiRunner-DIVzIFJm.js";import{a as K,g as Q,r as g}from"./index-uubelm5h.js";import{c as j}from"./fplosRestApi-CXjbKy4z.js";import{F as X}from"./nb_NO-DgrJ5I7_.js";var A={exports:{}};const{Axios:Z,AxiosError:ee,CanceledError:re,isCancel:te,CancelToken:ne,VERSION:ie,all:ae,Cancel:se,isAxiosError:oe,spread:ue,toFormData:fe,AxiosHeaders:le,HttpStatusCode:ce,formToJSON:pe,getAdapter:de,mergeConfig:ye}=j,he=Object.freeze(Object.defineProperty({__proto__:null,Axios:Z,AxiosError:ee,AxiosHeaders:le,Cancel:se,CancelToken:ne,CanceledError:re,HttpStatusCode:ce,VERSION:ie,all:ae,default:j,formToJSON:pe,getAdapter:de,isAxiosError:oe,isCancel:te,mergeConfig:ye,spread:ue,toFormData:fe},Symbol.toStringTag,{value:"Module"})),me=K(he);var ge=function e(r,t){if(r===t)return!0;if(r&&t&&typeof r=="object"&&typeof t=="object"){if(r.constructor!==t.constructor)return!1;var n,i,s;if(Array.isArray(r)){if(n=r.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!e(r[i],t[i]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if(s=Object.keys(r),n=s.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!e(r[o],t[o]))return!1}return!0}return r!==r&&t!==t};/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var ve=function(r){return r!=null&&r.constructor!=null&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)};/*!
 * MIT License
 *
 * Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (https://sindresorhus.com)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated
 * documentation files (the "Software"), to deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit
 * persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the
 * Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
 * WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
 * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */function Ee(e){return typeof Blob>"u"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"}var Re=Ee,M=me,B=ge,Oe=ve,ke=Re,q=Object.prototype.toString;function L(e,r){for(var t=e.length,n=0;n<t;n++){var i=e[n];if(r(i))return i}}function P(e){return q.call(e)==="[object Function]"}function U(e){return e!==null&&typeof e=="object"}function be(e){return U(e)&&P(e.pipe)}function xe(e){return q.call(e)==="[object ArrayBuffer]"}function S(e,r){return e?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):r}function Ae(e,r,t,n,i,s,o){return L(e[r.toLowerCase()],function(a){if(typeof a[0]=="string")return(T(t,a[0])||T(S(o,t),a[0]))&&x(r,n,i,a[1])&&k(s,a[2]);if(a[0]instanceof RegExp)return(a[0].test(t)||a[0].test(S(o,t)))&&x(r,n,i,a[1])&&k(s,a[2])})}function T(e,r){var t=e[0]==="/"?e.substr(1):e,n=r[0]==="/"?r.substr(1):r;return t===n}function x(e,r,t,n){var i=["delete","get","head","options"];if(i.indexOf(e.toLowerCase())>=0){var s=n?n.data:void 0,o=n?n.params:void 0;return k(t,o)&&w(r,s)}else return w(r,n)}function k(e,r){return r===void 0?!0:typeof r.asymmetricMatch=="function"?r.asymmetricMatch(e):B(e,r)}function w(e,r){if(r===void 0)return!0;var t;try{t=JSON.parse(e)}catch{}return k(t||e,r)}function Ne(e,r){Object.keys(e.handlers).forEach(function(t){var n=e.handlers[t].indexOf(r);n>-1&&e.handlers[t].splice(n,1)})}function D(e,r,t,n){if(n>0){setTimeout(D,n,e,r,t);return}!t.config.validateStatus||t.config.validateStatus(t.status)?e(t):r(I("Request failed with status code "+t.status,t.config,t))}function I(e,r,t,n){if(typeof M.AxiosError=="function")return M.AxiosError.from(new Error(e),n,r,null,t);var i=new Error(e);return i.isAxiosError=!0,i.config=r,t!==void 0&&(i.response=t),n!==void 0&&(i.code=n),i.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},i}function Me(e){var r=`Could not find mock for: 
`+JSON.stringify(e,["method","url"],2),t=new Error(r);return t.isCouldNotFindMockError=!0,t.url=e.url,t.method=e.method,t}var F={find:L,findHandler:Ae,purgeIfReplyOnce:Ne,settle:D,isStream:be,isArrayBuffer:xe,isFunction:P,isObjectOrArray:U,isBuffer:Oe,isBlob:ke,isBodyOrParametersMatching:x,isEqual:B,createAxiosError:I,createCouldNotFindMockError:Me},l=F;function Se(e){return l.isArrayBuffer(e)||l.isBuffer(e)||l.isStream(e)||l.isBlob(e)?e:l.isObjectOrArray(e)?JSON.parse(JSON.stringify(e)):e}function E(e,r){return{status:e[0],data:Se(e[1]),headers:e[2],config:r,request:{responseURL:r.url}}}function C(e,r,t,n){var i=n.baseURL;if(n.baseURL&&!/^https?:/.test(n.baseURL)&&(i=void 0),typeof e.originalAdapter=="function")return e.originalAdapter(n).then(r,t);e.axiosInstanceWithoutInterceptors(Object.assign({},n,{baseURL:i,adapter:e.originalAdapter,transformRequest:[],transformResponse:[]})).then(r,t)}function Te(e,r,t,n){var i=n.url||"";n.baseURL&&i.substr(0,n.baseURL.length)===n.baseURL&&(i=i.slice(n.baseURL.length)),delete n.adapter,e.history[n.method].push(n);var s=l.findHandler(e.handlers,n.method,i,n.data,n.params,n.headers&&n.headers.constructor.name==="AxiosHeaders"?Object.assign({},n.headers):n.headers,n.baseURL);if(s)if(s.length===7&&l.purgeIfReplyOnce(e,s),s.length===2)C(e,r,t,n);else if(typeof s[3]!="function")l.settle(r,t,E(s.slice(3),n),R(e,s));else{var o=s[3](n);typeof o.then!="function"?l.settle(r,t,E(o,n),R(e,s)):o.then(function(a){a.config&&a.status?l.settle(r,t,E([a.status,a.data,a.headers],a.config),0):l.settle(r,t,E(a,n),R(e,s))},function(a){e.delayResponse>0?setTimeout(function(){t(a)},R(e,s)):t(a)})}else switch(e.onNoMatch){case"passthrough":C(e,r,t,n);break;case"throwException":throw l.createCouldNotFindMockError(n);default:l.settle(r,t,{status:404,config:n},e.delayResponse)}}function R(e,r){var t;return r.length===8&&(t=r[7]),t||e.delayResponse}var we=Te,Ce=we,c=F,N=["get","post","head","delete","patch","put","options","list","link","unlink"];function je(){return(function(e){var r=this;return new Promise(function(t,n){Ce(r,t,n,e)})}).bind(this)}function _(){return N.reduce(function(e,r){return e[r]=[],e},{})}function $(){H.call(this),J.call(this)}function H(){this.handlers=_()}function J(){this.history=_()}function p(e,r){if($.call(this),e)this.axiosInstance=e,this.axiosInstanceWithoutInterceptors=e.create?e.create():void 0,this.originalAdapter=e.defaults.adapter,this.delayResponse=r&&r.delayResponse>0?r.delayResponse:null,this.onNoMatch=r&&r.onNoMatch||null,e.defaults.adapter=this.adapter.call(this);else throw new Error("Please provide an instance of axios to mock")}p.prototype.adapter=je;p.prototype.restore=function(){this.axiosInstance&&(this.axiosInstance.defaults.adapter=this.originalAdapter,this.axiosInstance=void 0)};p.prototype.reset=$;p.prototype.resetHandlers=H;p.prototype.resetHistory=J;N.concat("any").forEach(function(e){var r="on"+e.charAt(0).toUpperCase()+e.slice(1);p.prototype[r]=function(o,n,i){var s=this,o=o===void 0?/.*/:o;function a(u,f,d){var y=[o,n,i,u,f,d];return O(e,s.handlers,y),s}function h(u,f,d,y){var V=[o,n,i,f,d,y,!1,u];return O(e,s.handlers,V),s}function b(u){return function(f,d,y){h(u,f,d,y)}}function v(u,f,d){var y=[o,n,i,u,f,d,!0];return O(e,s.handlers,y),s}return{reply:a,replyOnce:v,withDelayInMs:b,passThrough:function(){var f=[o,n];return O(e,s.handlers,f),s},abortRequest:function(){return a(function(u){var f=c.createAxiosError("Request aborted",u,void 0,"ECONNABORTED");return Promise.reject(f)})},abortRequestOnce:function(){return v(function(u){var f=c.createAxiosError("Request aborted",u,void 0,"ECONNABORTED");return Promise.reject(f)})},networkError:function(){return a(function(u){var f=c.createAxiosError("Network Error",u);return Promise.reject(f)})},networkErrorOnce:function(){return v(function(u){var f=c.createAxiosError("Network Error",u);return Promise.reject(f)})},timeout:function(){return a(function(u){var f=c.createAxiosError(u.timeoutErrorMessage||"timeout of "+u.timeout+"ms exceeded",u,void 0,u.transitional&&u.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED");return Promise.reject(f)})},timeoutOnce:function(){return v(function(u){var f=c.createAxiosError(u.timeoutErrorMessage||"timeout of "+u.timeout+"ms exceeded",u,void 0,u.transitional&&u.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED");return Promise.reject(f)})}}}});function Be(e,r,t){for(var n=-1,i=0;i<r[e].length;i+=1){var s=r[e][i],o=s.length===7,a=s[0]instanceof RegExp&&t[0]instanceof RegExp?String(s[0])===String(t[0]):s[0]===t[0],h=a&&c.isEqual(s[1],t[1])&&c.isEqual(s[2],t[2]);h&&!o&&(n=i)}return n}function O(e,r,t){if(e==="any")N.forEach(function(i){r[i].push(t)});else{var n=Be(e,r,t);n>-1&&t.length<7?r[e].splice(n,1,t):r[e].push(t)}}A.exports=p;A.exports.default=p;var qe=A.exports;const Le=Q(qe),G=({children:e,data:r,requestApi:t,setApiMock:n=()=>{}})=>{const[i,s]=g.useState(!1);return g.useEffect(()=>{const o=new Le(t.getAxios());return n(o),t.setLinks(r.filter(a=>!a.noRelLink).map(a=>{var h;return{href:a.key,rel:((h=t.endpointConfigList.find(b=>b.name===a.key))==null?void 0:h.rel)||"",type:"GET"}})),r.forEach(a=>{t.getRestType(a.key)==="GET"?o.onGet(t.getUrl(a.key)).reply(200,a.data):t.getRestType(a.key)==="GET_ASYNC"?o.onGet(t.getUrl(a.key)).replyOnce(200,a.data):t.getRestType(a.key)==="POST_ASYNC"?o.onPost(t.getUrl(a.key)).replyOnce(200,a.data):o.onPost(t.getUrl(a.key)).reply(200,a.data)}),s(!0),()=>{o.restore(),t.setLinks([]),t.resetCache()}},[]),i?e:m.jsx(X,{})};G.__docgenInfo={description:"",methods:[],displayName:"AxiosMock",props:{requestApi:{required:!0,tsType:{name:"RequestApi"},description:""},children:{required:!0,tsType:{name:"any"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  key: string;
  data: any;
  noRelLink?: boolean;
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"data",value:{name:"any",required:!0}},{key:"noRelLink",value:{name:"boolean",required:!1}}]}}],raw:`{
  key: string;
  data: any;
  noRelLink?: boolean;
}[]`},description:""},setApiMock:{required:!1,tsType:{name:"signature",type:"function",raw:"(mockAdapter: MockAdapter) => void",signature:{arguments:[{type:{name:"MockAdapter"},name:"mockAdapter"}],return:{name:"void"}}},description:"",defaultValue:{value:"() => undefined",computed:!1}}}};const Pe=({children:e,data:r})=>{const[t,n]=g.useState(!1),i=g.useContext(W);return g.useEffect(()=>{if(i&&!t){const s=r.map(o=>()=>i({type:"success",key:o.key,data:o.data}));Promise.all(s.map(o=>o())).then(()=>n(!0))}},[t]),t?e:null},Ue=({children:e,data:r,requestApi:t,errors:n,setApiMock:i})=>m.jsx(Y,{children:m.jsx(z,{initialState:n?{errors:n}:void 0,children:m.jsx(Pe,{data:r.filter(s=>s.global),children:m.jsx(G,{data:r,requestApi:t,setApiMock:i,children:e})})})});Ue.__docgenInfo={description:"",methods:[],displayName:"RestApiMock",props:{children:{required:!0,tsType:{name:"any"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  key: string;
  global?: boolean;
  data: any;
  noRelLink?: boolean;
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"global",value:{name:"boolean",required:!1}},{key:"data",value:{name:"any",required:!0}},{key:"noRelLink",value:{name:"boolean",required:!1}}]}}],raw:`{
  key: string;
  global?: boolean;
  data: any;
  noRelLink?: boolean;
}[]`},description:""},requestApi:{required:!0,tsType:{name:"RequestApi"},description:""},errors:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  type: string;
  feilmelding: string;
}`,signature:{properties:[{key:"type",value:{name:"string",required:!0}},{key:"feilmelding",value:{name:"string",required:!0}}]}}],raw:`{
  type: string;
  feilmelding: string;
}[]`},description:""},setApiMock:{required:!1,tsType:{name:"signature",type:"function",raw:"(mockAdapter: MockAdapter) => void",signature:{arguments:[{type:{name:"MockAdapter"},name:"mockAdapter"}],return:{name:"void"}}},description:""}}};export{Ue as R};
