import{r as p,R as a,i as he,b as T,c as ae,x as Ee,d as Oe,k as ye,h as je,j as y,t as Re,l as Fe,o as Ne,D as Le}from"./iframe-f-7EvuRD.js";import{Q as Pe}from"./index.es-N3Vy7UuC.js";import{u as Te}from"./useQuery-DOlQ8ZbJ.js";import{u as Y}from"./useMutation-BapcIXxt.js";import{u as Ae,L as re,v as Me,w as De,V as se,H as Be,x as qe,y as Ve,i as Ge}from"./fplosAvdelingslederApi-Dy653Ku3.js";import{e as xe,a as $e,M as ze,y as He}from"./index.es-CS62hXhn.js";import{u as Ue}from"./useDebounce-j_MgPLp2.js";import{B as te,L as le,o as Ke,E as We,M as U}from"./nb_NO-C4DeeY-a.js";import{u as ve,b as ie,c as Ie,S as fe,e as Qe,L as Ze,d as Xe,R as Je,B as Ye}from"./Modal-BiKe3c-S.js";import{T as q}from"./Table-gwuG9u68.js";var et=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const tt=p.forwardRef((e,r)=>{var{title:s,titleId:t}=e,n=et(e,["title","titleId"]);let o=ve();return o=s?t||"title-"+o:void 0,a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:r,"aria-labelledby":o},n),s?a.createElement("title",{id:o},s):null,a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.998 6.94a.75.75 0 0 1 .063 1.058l-8 9a.75.75 0 0 1-1.091.032l-5-5a.75.75 0 1 1 1.06-1.06l4.438 4.437 7.471-8.405A.75.75 0 0 1 19 6.939",clipRule:"evenodd"}))});var nt=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const rt=p.forwardRef((e,r)=>{var{title:s,titleId:t}=e,n=nt(e,["title","titleId"]);let o=ve();return o=s?t||"title-"+o:void 0,a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:r,"aria-labelledby":o},n),s?a.createElement("title",{id:o},s):null,a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.47 7.97a.75.75 0 0 1 1.06 0l5.5 5.5a.75.75 0 1 1-1.06 1.06L12 9.56l-4.97 4.97a.75.75 0 0 1-1.06-1.06z",clipRule:"evenodd"}))});var st=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const ot=p.forwardRef((e,r)=>{var{title:s,titleId:t}=e,n=st(e,["title","titleId"]);let o=ve();return o=s?t||"title-"+o:void 0,a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:r,"aria-labelledby":o},n),s?a.createElement("title",{id:o},s):null,a.createElement("path",{fill:"currentColor",d:"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75z"}))}),we=e=>{const r=p.useRef(e);return p.useEffect(()=>{r.current=e},[e]),r.current};var at=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const lt=p.forwardRef((e,r)=>{var{children:s,variant:t,onDelete:n,className:o,onClick:f,type:g="button","data-color":b}=e,c=at(e,["children","variant","onDelete","className","onClick","type","data-color"]);const i=ie("Chips"),d=he(!1),{cn:m}=T();let I;return d?I=t:I=t??"action",a.createElement("button",Object.assign({"data-color":b??it(I)},c,{ref:r,type:g,className:m("navds-chips__chip navds-chips__removable navds-chips--icon-right",o,{[`navds-chips__removable--${I}`]:I}),"aria-label":`${s} ${i("Removable.labelSuffix")}`,onClick:Ie(f,n)}),a.createElement("span",{className:m("navds-chips__chip-text")},s),a.createElement("span",{className:m("navds-chips__removable-icon")},a.createElement(fe,{"aria-hidden":!0})))});function it(e){switch(e){case"action":return"accent";case"neutral":return"neutral";default:return}}var ct=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const dt=p.forwardRef((e,r)=>{var{className:s,children:t,selected:n,variant:o,checkmark:f=!0,as:g="button","data-color":b}=e,c=ct(e,["className","children","selected","variant","checkmark","as","data-color"]);const{cn:i}=T(),d=he(!1);let m;return d?m=o:m=o??"action",a.createElement(g,Object.assign({"data-color":b??ut(m)},c,{ref:r,className:i("navds-chips__chip navds-chips__toggle",s,{"navds-chips__toggle--with-checkmark":f,[`navds-chips__toggle--${m}`]:m}),"aria-pressed":n,"data-pressed":n}),f&&a.createElement("svg",{"aria-hidden":!0,className:i("navds-chips__toggle-icon"),width:"1.25em",height:"1.25em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img"},n?a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 18.125C14.4873 18.125 18.125 14.4873 18.125 10C18.125 5.51269 14.4873 1.875 10 1.875C5.51269 1.875 1.875 5.51269 1.875 10C1.875 14.4873 5.51269 18.125 10 18.125ZM14.128 7.72904C14.3695 7.44357 14.3339 7.01635 14.0485 6.7748C13.763 6.53326 13.3358 6.56886 13.0942 6.85432L8.60428 12.1606L6.41627 9.97263C6.15185 9.70822 5.72315 9.70822 5.45873 9.97263C5.19431 10.2371 5.19431 10.6658 5.45873 10.9302L8.16706 13.6385C8.30095 13.7724 8.48479 13.8441 8.67397 13.8362C8.86316 13.8284 9.0404 13.7416 9.16271 13.5971L14.128 7.72904Z",fill:"currentColor"}):a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3.125C6.20304 3.125 3.125 6.20304 3.125 10C3.125 13.797 6.20304 16.875 10 16.875C13.797 16.875 16.875 13.797 16.875 10C16.875 6.20304 13.797 3.125 10 3.125ZM1.875 10C1.875 5.51269 5.51269 1.875 10 1.875C14.4873 1.875 18.125 5.51269 18.125 10C18.125 14.4873 14.4873 18.125 10 18.125C5.51269 18.125 1.875 14.4873 1.875 10Z",fill:"var(--ax-text-default, var(--ac-chip-toggle-circle-border, var(--a-border-default)))"})),a.createElement("span",{className:i("navds-chips__chip-text")},t))});function ut(e){switch(e){case"action":return"accent";case"neutral":return"neutral";default:return}}var pt=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const ee=p.forwardRef((e,r)=>{var{className:s,size:t="medium",children:n}=e,o=pt(e,["className","size","children"]);const{cn:f}=T();return a.createElement("ul",Object.assign({},o,{ref:r,className:f("navds-chips",s,`navds-chips--${t}`,{"navds-body-short navds-body-short--small":t==="medium","navds-detail navds-detail--small":t==="small"})}),a.Children.map(n,(g,b)=>a.createElement("li",{key:g?.toString()||b},g)))});ee.Toggle=dt;ee.Removable=lt;const[mt,A]=ae({name:"InputContext",errorMessage:"useInputContext must be used within an InputContextProvider"}),vt=({children:e,value:r})=>{const{defaultValue:s="",description:t,disabled:n,readOnly:o,error:f,errorId:g,id:b,value:c,onChange:i,onClear:d,shouldAutocomplete:m,size:I}=r,v=Qe({description:t,disabled:n,readOnly:o,error:f,errorId:g,id:b,size:I},"comboboxfield"),h=p.useRef(null),w=p.useRef(null),[l,O]=p.useState(s),[u,S]=p.useState(!1),E=p.useMemo(()=>String(c??l),[c,l]),[R,N]=p.useState(E),F=p.useCallback(C=>{c??O(C),N(C),i?.(C)},[c,i]),M=p.useCallback(C=>{d?.(C),i?.(""),O(""),N("")},[i,d]),k=p.useCallback(()=>{var C,P;(P=(C=h.current)===null||C===void 0?void 0:C.focus)===null||P===void 0||P.call(C)},[]);xe(()=>{var C,P;m&&h&&E!==R&&((P=(C=h.current)===null||C===void 0?void 0:C.setSelectionRange)===null||P===void 0||P.call(C,R.length,E.length))},[E,R,m]);const L=Object.assign(Object.assign({},v),{clearInput:M,error:f,focusInput:k,inputRef:h,value:E,setValue:O,onChange:F,searchTerm:R,setSearchTerm:N,shouldAutocomplete:m,toggleOpenButtonRef:w,hideCaret:u,setHideCaret:S});return a.createElement(mt,Object.assign({},L),e)},ft=({children:e,className:r,hasError:s,inputProps:t,inputSize:n,toggleIsListOpen:o})=>{const{cn:f}=T(),{toggleOpenButtonRef:g,clearInput:b,readOnly:c}=A(),i=p.useRef(null),[d,m]=p.useState(!1);function I(h){var w;!(!((w=i.current)===null||w===void 0)&&w.contains(h.relatedTarget))&&g?.current!==h.target&&m(!0)}function v(h){var w;!((w=i.current)===null||w===void 0)&&w.contains(h.relatedTarget)||(o(!1),m(!1),b(h))}return a.createElement("div",{ref:i,className:f(r,"navds-form-field",`navds-form-field--${n}`,{"navds-combobox--error":s,"navds-combobox--disabled":!!t.disabled,"navds-combobox--focused":d,"navds-combobox--readonly":c,"navds-form-field--readonly":c}),onFocus:I,onBlur:v},e)},z=(e,r)=>typeof e=="string"?r.some(s=>s.label===e||s.value===e):r.some(s=>s.label===e.label&&s.value===e.value),ge=e=>({label:e,value:e}),pe=e=>e?.map(r=>typeof r=="string"?ge(r):r),[gt,Ce]=ae({name:"ComboboxCustomOptions",errorMessage:"useComboboxCustomOptions must be used within a ComboboxCustomOptionsProvider"}),bt=({children:e,value:r})=>{const[s,t]=p.useState([]),{focusInput:n}=A(),{isMultiSelect:o}=r,f=p.useCallback(c=>{t(i=>i.filter(d=>d.label!==c.label)),n()},[n]),g=p.useCallback(c=>{t(o?i=>[...i,c]:[c]),n()},[n,o]),b={customOptions:s,removeCustomOption:f,addCustomOption:g,setCustomOptions:t};return a.createElement(gt,Object.assign({},b),e)},[ht,H]=ae(),Ot=({children:e,value:r})=>{const{clearInput:s,focusInput:t,setHideCaret:n}=A(),{customOptions:o,removeCustomOption:f,addCustomOption:g,setCustomOptions:b}=Ce(),{allowNewValues:c,isMultiSelect:i,selectedOptions:d,onToggleSelected:m,options:I,maxSelected:v}=r,[h,w]=p.useState([]),l=p.useMemo(()=>d??[...o,...h],[o,d,h]),O=p.useCallback(k=>{const L=!z(k,I);L?(c&&g(k),!i&&w([])):i?w(C=>[...C,k]):(w([k]),b([])),m?.(k.value,!0,L)},[g,c,i,m,I,b]),u=p.useCallback(k=>{const L=z(k,o);L?f(k):w(C=>C.filter(P=>P!==k)),m?.(k.value,!1,L)},[o,m,f]),S=typeof v=="object"?v.limit:v,E=!!S&&l.length>=S,R=E||!i&&l.length>0;p.useEffect(()=>{n(R)},[R,l,n]);const N=p.useCallback((k,L)=>{if(z(k.value,l))u(k);else{if(i&&E)return;O(k)}s(L),t()},[O,s,t,u,l,E,i]),F=we(l),M={addSelectedOption:O,isMultiSelect:i,removeSelectedOption:u,prevSelectedOptions:F,selectedOptions:l,setSelectedOptions:w,toggleOption:N,maxSelected:{limit:S,isLimitReached:E}};return a.createElement(ht,Object.assign({},M),e)},oe=e=>typeof e=="string"?e.toLocaleLowerCase().trim():"",_e=(e,r)=>oe(r).includes(oe(e??"")),yt=(e,r)=>r.filter(s=>_e(e,s.label)),xt=(e,r)=>r.find(s=>oe(s.label).startsWith(e.toLocaleLowerCase())),It=e=>`${e}-filtered-options`,wt=(e,r)=>`${e}-option-${r}`.replace(/\s/g,"-").toLocaleLowerCase(),Ct=e=>`${e}-combobox-new-option`,_t=e=>`${e}-is-loading`,St=e=>`${e}-no-hits`,kt=e=>`${e}-max-selected-options`,j={normalizeText:oe,isPartOfText:_e,getMatchingValuesFromList:yt,getFilteredOptionsId:It,getAddNewOptionId:Ct,getOptionId:wt,getIsLoadingId:_t,getNoHitsId:St,getMaxSelectedOptionsId:kt,getFirstValueStartingWith:xt},Et=e=>{const[r,s]=p.useState(void 0),t=()=>{var l;return Array.from((l=e?.children)!==null&&l!==void 0?l:[])},n=()=>t().filter(l=>l.getAttribute("data-no-focus")!=="true"),o=l=>t().find(O=>O.id===l),f=()=>r?n().indexOf(r)===0:!1,g=()=>{const l=n();return r?l.indexOf(r)===l.length-1:!1},b=l=>{var O;s(l),(O=l?.scrollIntoView)===null||O===void 0||O.call(l,{block:"nearest"})};return{activeElement:r,getElementById:o,isFocusOnTheTop:f,isFocusOnTheBottom:g,moveFocusUp:()=>{if(!r)return;const l=n(),O=l.indexOf(r),u=l[O-1];O===0?s(void 0):b(u)},moveFocusDown:()=>{const l=n();if(!r){b(l[0]);return}const O=l.indexOf(r);O!==l.length-1&&b(l[O+1])},moveFocusToElement:l=>{const O=n().find(u=>u.getAttribute("id")===l);O&&s(O)},moveFocusToTop:()=>{const l=n();b(l[0])},moveFocusToBottom:()=>{const l=n();b(l[l.length-1])},moveFocusUpBy:l=>{if(!r)return;const O=n(),u=O.indexOf(r),S=Math.max(u-l,0);b(O[S])},moveFocusDownBy:l=>{const O=n(),u=r?O.indexOf(r):-1,S=Math.min(u+l,O.length-1);b(O[S])},resetFocus:()=>s(void 0)}},[jt,Z]=ae({name:"FilteredOptionsContext",errorMessage:"useFilteredOptionsContext must be used within a FilteredOptionsProvider"}),Rt=({children:e,value:r})=>{const{allowNewValues:s,filteredOptions:t,isListOpen:n,isLoading:o,options:f}=r,[g,b]=p.useState(null),c=Et(g),{inputProps:{"aria-describedby":i,id:d,disabled:m},readOnly:I,value:v,searchTerm:h,setValue:w,setSearchTerm:l,shouldAutocomplete:O,setHideCaret:u}=A(),{maxSelected:S}=H(),[E,R]=p.useState(!1),{customOptions:N}=Ce(),F=p.useMemo(()=>{if(t)return t;const _=[...N,...f];return j.getMatchingValuesFromList(h,_)},[N,t,f,h]),M=we(h),[k,L]=p.useState(!1),C=p.useMemo(()=>{const _=Object.assign({[j.getAddNewOptionId(d)]:s?ge(v):void 0},N.reduce((K,W)=>{const x=j.getOptionId(d,W.value);return K[x]=W,K},{}));return f.reduce((K,W)=>{const x=j.getOptionId(d,W.value);return K[x]=W,K},_)},[s,N,d,f,v]);xe(()=>{var _;const $=(_=j.getFirstValueStartingWith(h,F))===null||_===void 0?void 0:_.label;O&&$&&(M?.length||0)<h.length&&w(`${h}${$.substring(h.length)}`)},[F,M,h,l,w,O]);const P=p.useMemo(()=>n??E,[n,E]),D=p.useCallback(_=>{m||I||(c.resetFocus(),(_??!E)&&u(S.isLimitReached),R($=>_??!$))},[c,S.isLimitReached,E,u,m,I]),G=p.useMemo(()=>!!h&&!C[j.getOptionId(d,h)],[C,d,h]),ce=p.useMemo(()=>{let _="";!o&&F.length===0&&!s?_=j.getNoHitsId(d):(v||o)&&(O&&F[0]?_=j.getOptionId(d,F[0].value):P&&o&&(_=j.getIsLoadingId(d)));const $=S.isLimitReached&&j.getMaxSelectedOptionsId(d);return Ee(_,$,i)||void 0},[P,o,S.isLimitReached,v,i,O,F,d,s]),ne=p.useMemo(()=>{var _;return C[((_=c.activeElement)===null||_===void 0?void 0:_.getAttribute("id"))||-1]},[C,c]),B={activeDecendantId:p.useMemo(()=>{var _;return((_=c.activeElement)===null||_===void 0?void 0:_.getAttribute("id"))||void 0},[c.activeElement]),allowNewValues:s,setFilteredOptionsRef:b,shouldAutocomplete:O,isListOpen:P,isLoading:o,filteredOptions:F,isMouseLastUsedInputDevice:k,setIsMouseLastUsedInputDevice:L,isValueNew:G,toggleIsListOpen:D,currentOption:ne,virtualFocus:c,ariaDescribedBy:ce};return a.createElement(jt,Object.assign({},B),e)},Ft=()=>{const{cn:e}=T(),{inputProps:{id:r},size:s,searchTerm:t}=A(),{setIsMouseLastUsedInputDevice:n,toggleIsListOpen:o,activeDecendantId:f,virtualFocus:g}=Z(),{isMultiSelect:b,selectedOptions:c,toggleOption:i}=H(),d=ie("Combobox");return a.createElement("li",{tabIndex:-1,onMouseMove:()=>{f!==j.getAddNewOptionId(r)&&(g.moveFocusToElement(j.getAddNewOptionId(r)),n(!0))},onPointerUp:m=>{i(ge(t),m),!b&&!z(t,c)&&o(!1)},id:j.getAddNewOptionId(r),className:e("navds-combobox__list-item navds-combobox__list-item--new-option",{"navds-combobox__list-item--new-option--focus":f===j.getAddNewOptionId(r)}),role:"option","aria-selected":!1},a.createElement(ot,{"aria-hidden":!0}),a.createElement(te,{size:s},d("addOption")," ",a.createElement(le,{as:"span",size:s},"“",t,"”")))},Nt=(e,r)=>{const s=e.toLowerCase().indexOf(r.toLowerCase()),t=e.substring(0,s),n=e.substring(s,s+r.length),o=e.substring(s+r.length);return[t,n,o]},Lt=({option:e})=>{const{cn:r}=T(),{inputProps:{id:s},size:t,searchTerm:n}=A(),{setIsMouseLastUsedInputDevice:o,toggleIsListOpen:f,activeDecendantId:g,virtualFocus:b}=Z(),{isMultiSelect:c,maxSelected:i,selectedOptions:d,toggleOption:m}=H(),[I,v,h]=Nt(e.label,n),w=u=>i.isLimitReached&&!z(u.value,d),l=j.getOptionId(s,e.value),O=g===l;return a.createElement("li",{className:r("navds-combobox__list-item",{"navds-combobox__list-item--focus":O,"navds-combobox__list-item--selected":z(e.value,d)}),"data-no-focus":w(e)||void 0,id:l,key:l,tabIndex:-1,onMouseMove:()=>{O||(b.moveFocusToElement(l),o(!0))},onPointerUp:u=>{w(e)||(m(e,u),!c&&!z(e.value,d)&&f(!1))},role:"option","aria-selected":z(e.value,d),"aria-disabled":w(e)||void 0},a.createElement(te,{size:t,"aria-label":e.label},I,v&&a.createElement("mark",null,v),h),z(e.value,d)&&a.createElement(tt,null))},Pt=()=>{const{inputProps:{id:e}}=A(),{cn:r}=T(),s=ie("Combobox");return a.createElement("div",{className:r("navds-combobox__list-item--loading"),id:j.getIsLoadingId(e)},a.createElement(Ze,{title:s("loading")}))},Tt=()=>{const{cn:e}=T(),{inputProps:{id:r}}=A(),{maxSelected:s,selectedOptions:t}=H(),n=ie("Combobox");return a.createElement("div",{className:e("navds-combobox__list-item--max-selected"),id:j.getMaxSelectedOptionsId(r)},n("maxSelected",{selected:t.length,limit:s.limit||0}))},At=()=>{const{cn:e}=T(),{inputProps:{id:r}}=A();return a.createElement("div",{className:e("navds-combobox__list-item--no-options"),id:j.getNoHitsId(r)},"Ingen søketreff")},Mt=()=>{const{cn:e}=T(),{inputProps:{id:r}}=A(),{allowNewValues:s,isLoading:t,isListOpen:n,filteredOptions:o,setFilteredOptionsRef:f,isMouseLastUsedInputDevice:g,isValueNew:b}=Z(),{maxSelected:c,isMultiSelect:i}=H(),d=i&&c.limit||t||!t&&o.length===0&&!s,m=s&&b&&!c.isLimitReached||o.length>0;return a.createElement("div",{className:e("navds-combobox__list",{"navds-combobox__list--closed":!n,"navds-combobox__list--with-hover":g}),id:j.getFilteredOptionsId(r),tabIndex:-1},d&&a.createElement("div",{className:e("navds-combobox__list_non-selectables"),role:"status"},i&&c.limit&&a.createElement(Tt,null),t&&a.createElement(Pt,null),!t&&o.length===0&&!s&&a.createElement(At,null)),m&&a.createElement("ul",{ref:f,role:"listbox",className:e("navds-combobox__list-options")},b&&!c.isLimitReached&&s&&a.createElement(Ft,null),o.map(I=>a.createElement(Lt,{key:I.value,option:I}))))},Dt=({option:e})=>{const{cn:r}=T(),{isMultiSelect:s,removeSelectedOption:t}=H(),{focusInput:n,readOnly:o,inputProps:f}=A();return s?o||f.disabled?a.createElement(ee.Toggle,{"data-color":"neutral",variant:"neutral",checkmark:!1,as:"div"},e.label):a.createElement(ee.Removable,{onClick:g=>{g.stopPropagation(),t(e),n()}},e.label):a.createElement("div",{className:r("navds-combobox__selected-options--no-bg")},e.label)},Bt=({selectedOptions:e=[],size:r,children:s})=>{const{cn:t}=T(),{value:n}=A(),{isMultiSelect:o}=H();return a.createElement(ee,{className:t("navds-combobox__selected-options"),size:r,"data-type":o?"multiple":"single"},n.length===0||o&&e.length?e.map((f,g)=>a.createElement(Dt,{key:f.label+g,option:f})):[],s)};var qt=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const be=p.forwardRef((e,r)=>{var{inputClassName:s,shouldShowSelectedOptions:t,placeholder:n,onBlur:o}=e,f=qt(e,["inputClassName","shouldShowSelectedOptions","placeholder","onBlur"]);const{cn:g}=T(),b=p.useRef(null),c=Oe(r,b),{clearInput:i,inputProps:d,onChange:m,size:I,value:v,searchTerm:h,setValue:w,hideCaret:l,setHideCaret:O,readOnly:u}=A(),{selectedOptions:S,removeSelectedOption:E,toggleOption:R,isMultiSelect:N,maxSelected:F}=H(),{activeDecendantId:M,allowNewValues:k,currentOption:L,filteredOptions:C,isValueNew:P,toggleIsListOpen:D,isListOpen:G,ariaDescribedBy:ce,setIsMouseLastUsedInputDevice:ne,shouldAutocomplete:X,virtualFocus:B}=Z(),_=p.useCallback(x=>{var V;const de=Q=>S.some(ue=>ue.label.toLocaleLowerCase()===Q.toLocaleLowerCase());if(L)x.preventDefault(),R(L,x),!N&&!de(L.label)&&D(!1);else if(de(v))x.preventDefault(),i(x);else if((k||X)&&v!==""){x.preventDefault();const Q=j.getFirstValueStartingWith(v,C),ue=j.normalizeText(v)===j.normalizeText((V=Q?.label)!==null&&V!==void 0?V:"");let J;if(X&&Q&&ue?J=Q:k&&P&&(J={label:v,value:v}),!J)return;R(J,x),!N&&!de(J.label)&&D(!1)}},[k,i,L,C,N,P,S,X,D,R,v]),$=x=>{switch(x.preventDefault(),x.key){case"Enter":case"Accept":_(x);break}},K=p.useCallback(x=>{if(ne(!1),!u)if(x.key==="Backspace"){if(v===""&&t){const V=S[S.length-1];V&&E(V)}}else x.key==="Enter"||x.key==="Accept"?(M||v)&&x.preventDefault():x.key==="Escape"?(G||v)&&(x.preventDefault(),i(x),D(!1)):["ArrowLeft","ArrowRight"].includes(x.key)?v!==""&&v!==h&&m(v):x.key==="ArrowDown"?(v!==h&&w(h),G?B.moveFocusDown():(D(!0),setTimeout(B.moveFocusDown,0))):x.key==="ArrowUp"?(v!==""&&v!==h&&m(v),G&&M&&(x.preventDefault(),B.isFocusOnTheTop()&&D(!1),B.moveFocusUp())):x.key==="Home"?(x.preventDefault(),B.moveFocusToTop()):x.key==="End"?(x.preventDefault(),G?B.moveFocusToBottom():(D(!0),setTimeout(B.moveFocusToBottom,0))):x.key==="PageUp"?(x.preventDefault(),B.moveFocusUpBy(6)):x.key==="PageDown"&&(x.preventDefault(),G?B.moveFocusDownBy(6):(D(!0),setTimeout(()=>B.moveFocusDownBy(6),0)))},[v,S,E,G,M,ne,i,D,m,B,w,h,t,u]),W=p.useCallback(x=>{const V=x.target.value;V&&V!==""?D(!0):C.length===0&&D(!1),m(V)},[C.length,m,D]);return a.createElement("input",Object.assign({},f,Ke(d,["aria-invalid"]),{ref:c,type:"text",role:"combobox",value:v,onBlur:Ie(o,B.resetFocus),onClick:()=>{O(F.isLimitReached),v!==h&&m(v)},onInput:W,onKeyUp:$,onKeyDown:K,autoComplete:"off",placeholder:S.length?void 0:n,className:g(s,"navds-combobox__input","navds-body-short",`navds-body-short--${I}`,{"navds-combobox__input--hide-caret":l}),"aria-controls":j.getFilteredOptionsId(d.id),"aria-expanded":!!G,"aria-autocomplete":X?"both":"list","aria-activedescendant":M,"aria-describedby":ce,"aria-invalid":d["aria-invalid"],readOnly:u}))}),Vt=p.forwardRef((e,r)=>{const{cn:s}=T(),{isListOpen:t,toggleIsListOpen:n}=Z(),{focusInput:o}=A();return a.createElement("div",{ref:r,onClick:()=>{n(),o()},className:s("navds-combobox__button-toggle-list"),"aria-hidden":!0},t?a.createElement(rt,null):a.createElement(Xe,null))});var Gt=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const $t=p.forwardRef((e,r)=>{const{clearButton:s,clearButtonLabel:t,toggleListButton:n=!0,inputClassName:o,shouldShowSelectedOptions:f=!0}=e,g=Gt(e,["clearButton","clearButtonLabel","toggleListButton","inputClassName","shouldShowSelectedOptions"]),{cn:b}=T(),{focusInput:c,inputProps:i,size:d="medium",inputRef:m,toggleOpenButtonRef:I,readOnly:v}=A(),{activeDecendantId:h,toggleIsListOpen:w}=Z(),{selectedOptions:l}=H(),O=Oe(m,r);return a.createElement("div",{className:b("navds-combobox__wrapper-inner navds-text-field__input",{"navds-combobox__wrapper-inner--virtually-unfocused":h!==void 0}),onClick:()=>{i.disabled||v||(w(!0),c())}},f?a.createElement(Bt,{selectedOptions:l,size:d},a.createElement(be,Object.assign({id:i.id,ref:O,inputClassName:o,shouldShowSelectedOptions:f,readOnly:v},g))):a.createElement(be,Object.assign({id:i.id,ref:O,inputClassName:o,readOnly:v},g)),n&&a.createElement(Vt,{ref:I}))});var zt=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const Ht=p.forwardRef((e,r)=>{const{className:s,hideLabel:t=!1,description:n,label:o}=e,f=zt(e,["className","hideLabel","description","label"]),{cn:g}=T(),{toggleIsListOpen:b}=Z(),{error:c,errorId:i,hasError:d,inputDescriptionId:m,inputProps:I,showErrorMsg:v,size:h="medium",readOnly:w}=A();return a.createElement(ft,{className:s,hasError:d,inputProps:I,inputSize:h,toggleIsListOpen:b},a.createElement(le,{htmlFor:I.id,size:h,className:g("navds-form-field__label",{"navds-sr-only":t})},w&&a.createElement(Je,null),o),!!n&&a.createElement(te,{as:"div",className:g("navds-form-field__description",{"navds-sr-only":t}),id:m,size:h},n),a.createElement("div",{className:g("navds-combobox__wrapper")},a.createElement($t,Object.assign({ref:r},f)),a.createElement(Mt,null)),a.createElement("div",{className:g("navds-form-field__error"),id:i,"aria-relevant":"additions removals","aria-live":"polite"},v&&a.createElement(We,{size:h,showIcon:!0},c)))});var Ut=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const Kt=p.forwardRef((e,r)=>{const{allowNewValues:s=!1,children:t,defaultValue:n,disabled:o,readOnly:f,error:g,errorId:b,filteredOptions:c,id:i,isListOpen:d,isLoading:m=!1,isMultiSelect:I,onToggleSelected:v,selectedOptions:h,maxSelected:w,options:l,value:O,onChange:u,onClear:S,shouldAutocomplete:E,size:R}=e,N=Ut(e,["allowNewValues","children","defaultValue","disabled","readOnly","error","errorId","filteredOptions","id","isListOpen","isLoading","isMultiSelect","onToggleSelected","selectedOptions","maxSelected","options","value","onChange","onClear","shouldAutocomplete","size"]),F=pe(l)||[],M=pe(c),k=pe(h),L=typeof navigator>"u"?"":navigator.userAgent,P=!(L.includes("Android")&&L.includes("Firefox/"))&&E;return a.createElement(vt,{value:{defaultValue:n,description:N.description,disabled:o,readOnly:f,error:g,errorId:b,id:i,value:O,onChange:u,onClear:S,shouldAutocomplete:P,size:R}},a.createElement(bt,{value:{isMultiSelect:I}},a.createElement(Ot,{value:{allowNewValues:s,isMultiSelect:I,selectedOptions:k,maxSelected:w,onToggleSelected:v,options:F}},a.createElement(Rt,{value:{allowNewValues:s,filteredOptions:M,isListOpen:d,isLoading:m,options:F}},a.createElement(Ht,Object.assign({ref:r},N),t)))))}),Wt="_navn_36mwp_1",Qt="_saksbehandlerCombo_36mwp_5",Zt="_removeIcon_36mwp_9",me={navn:Wt,saksbehandlerCombo:Qt,removeIcon:Zt},Xt=Fe(3),Jt=Ne(100),Yt=e=>[...e].sort((r,s)=>r.navn.localeCompare(s.navn)),en=(e,r)=>e.filter(s=>!r.some(t=>t.brukerIdent===s.brukerIdent)).sort((s,t)=>s.navn.localeCompare(t.navn)),Se=({valgAvdeldingEnhet:e,saksbehandlerGruppe:r,avdelingensSaksbehandlere:s})=>{const t=ye(),n=je(),{mutate:o}=Y({mutationFn:u=>Ae(u.brukerIdent,e,u.gruppeId),onSuccess:()=>{t.invalidateQueries({queryKey:[re.HENT_GRUPPER]})}}),{mutate:f}=Y({mutationFn:u=>Me(u.brukerIdent,e,u.gruppeId),onSuccess:()=>{t.invalidateQueries({queryKey:[re.HENT_GRUPPER]})}}),{mutate:g}=Y({mutationFn:u=>De(u.gruppeId,u.gruppeNavn,e),onSuccess:()=>{t.invalidateQueries({queryKey:[re.HENT_GRUPPER]})}}),b=$e({defaultValues:{navn:r.gruppeNavn}}),c=Yt(r.saksbehandlere),d=en(s,c).map(u=>`${u.navn} (${u.brukerIdent})`),m=Ue("navn",u=>g({gruppeId:r.gruppeId,gruppeNavn:u}),b.trigger),[I,v]=p.useState([]),[h,w]=p.useState(""),l=u=>{u?.trim()?v(d.filter(S=>S.toLowerCase().includes(u.toLowerCase()))):v(d)},O=(u,S)=>{const E=I.find(F=>F.toLowerCase().includes(u?.toLowerCase())),R=E?.replace(")","").split(" ("),N=c.some(F=>R&&F.brukerIdent===R[1]);E&&S&&!N&&R&&o({brukerIdent:R[1],gruppeId:r.gruppeId})};return p.useEffect(()=>l(h),[r,h]),y.jsx(ze,{formMethods:b,children:y.jsxs(se,{gap:"space-20",children:[y.jsx(He,{name:"navn",control:b.control,label:n.formatMessage({id:"GruppeSaksbehandlere.Navn"}),validate:[Re,Xt,Jt,Le],onBlur:u=>m(u),className:me.navn}),y.jsxs(se,{gap:"space-16",children:[y.jsx(Kt,{label:n.formatMessage({id:"GruppeSaksbehandlere.VelgSaksbehandlere"}),size:"small",options:d,filteredOptions:I,selectedOptions:[],onChange:w,onToggleSelected:O,className:me.saksbehandlerCombo}),y.jsxs(se,{gap:"space-8",children:[y.jsx(le,{size:"small",children:y.jsx(U,{id:"GruppeSaksbehandlere.ValgteSaksbehandlere"})}),c.length===0&&y.jsx(te,{size:"small",children:y.jsx(U,{id:"GruppeSaksbehandlere.Ingen"})}),c.map(u=>y.jsxs(Be,{gap:"space-8",align:"center",children:[y.jsx("div",{children:`${u.navn} (${u.brukerIdent})`}),y.jsx("div",{children:y.jsx(fe,{className:me.removeIcon,onMouseDown:()=>f({brukerIdent:u.brukerIdent,gruppeId:r.gruppeId}),onKeyDown:()=>f({brukerIdent:u.brukerIdent,gruppeId:r.gruppeId})})})]},u.brukerIdent))]})]})]})})};Se.__docgenInfo={description:"",methods:[],displayName:"GruppeSaksbehandlere",props:{valgAvdeldingEnhet:{required:!0,tsType:{name:"string"},description:""},saksbehandlerGruppe:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]"},description:""}}};const tn="_removeIcon_16jh0_1",nn={removeIcon:tn},ke=({valgAvdeldingEnhet:e,grupper:r,avdelingensSaksbehandlere:s})=>{const t=ye(),{mutate:n}=Y({mutationFn:o=>qe(o.gruppeId,e),onSuccess:()=>{t.invalidateQueries({queryKey:[re.HENT_GRUPPER]})}});return y.jsxs(y.Fragment,{children:[y.jsx(le,{size:"small",children:y.jsx(U,{id:"GrupperTabell.Grupper"})}),r.saksbehandlerGrupper.length>0&&y.jsxs(q,{children:[y.jsx(q.Header,{children:y.jsxs(q.Row,{children:[y.jsx(q.HeaderCell,{}),y.jsx(q.HeaderCell,{scope:"col",children:y.jsx(U,{id:"GrupperTabell.Id"})}),y.jsx(q.HeaderCell,{scope:"col",children:y.jsx(U,{id:"GrupperTabell.Navn"})}),y.jsx(q.HeaderCell,{scope:"col",children:y.jsx(U,{id:"GrupperTabell.AntallSaksbehandlere"})}),y.jsx(q.HeaderCell,{})]})}),y.jsx(q.Body,{children:r.saksbehandlerGrupper?.map(o=>y.jsxs(q.ExpandableRow,{expandOnRowClick:!0,content:y.jsx(Se,{valgAvdeldingEnhet:e,saksbehandlerGruppe:o,avdelingensSaksbehandlere:s}),children:[y.jsx(q.DataCell,{scope:"row",children:o.gruppeId}),y.jsx(q.DataCell,{children:o.gruppeNavn??"-"}),y.jsx(q.DataCell,{children:o.saksbehandlere.length}),y.jsx(q.DataCell,{children:y.jsx(fe,{className:nn.removeIcon,onMouseDown:()=>n({gruppeId:o.gruppeId}),onKeyDown:()=>n({gruppeId:o.gruppeId})})})]},o.gruppeId))})]}),r.saksbehandlerGrupper.length===0&&y.jsx(te,{children:y.jsx(U,{id:"GrupperTabell.IngenGrupper"})})]})};ke.__docgenInfo={description:"",methods:[],displayName:"GrupperTabell",props:{valgAvdeldingEnhet:{required:!0,tsType:{name:"string"},description:""},grupper:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}`,signature:{properties:[{key:"saksbehandlerGrupper",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}>`}],raw:"SaksbehandlerGruppe[]",required:!0}}]}}],raw:`Readonly<{
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]"},description:""}}};const rn=({valgtAvdelingEnhet:e,avdelingensSaksbehandlere:r})=>{const{data:s,refetch:t}=Te(Ge(e)),{mutate:n,status:o}=Y({mutationFn:()=>Ve(e),onSuccess:()=>{t()}});return s?y.jsxs(se,{gap:"space-20",align:"start",children:[y.jsx(ke,{valgAvdeldingEnhet:e,grupper:s,avdelingensSaksbehandlere:r}),y.jsx(Ye,{size:"small",variant:"secondary",loading:o==="pending",disabled:o==="pending",tabIndex:0,onClick:()=>n(),children:y.jsx(U,{id:"GrupperPanel.OpprettGruppe"})})]}):y.jsx(Pe,{})};rn.__docgenInfo={description:"",methods:[],displayName:"GrupperPanel",props:{valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]"},description:""}}};export{rn as G};
