import{j as r}from"./jsx-runtime-CLpGMVip.js";import{a as ie,H,X as ge,B as je,Z as Ne}from"./index.es-C2I1dMRy.js";import{u as oe,D as T,M as N,d as qe,B as Q}from"./nb_NO-BADq5HhL.js";import{u as Y}from"./useMutation-B9gzjmzk.js";import{B as ve,L as f,c as Ve,C as Pe,D as Ie,V as fe,E as ke}from"./fplosAvdelingslederApi-nAlNaSOl.js";import{u as Fe}from"./useLosKodeverk-4Pozv84m.js";import{v as Z,O as pe}from"./index.es-Cr1J-d3S.js";import{a as xe,S as he,A as Ke}from"./index.es-CcdR6muW.js";import{u as U}from"./useDebounce-Dsu4qUa3.js";import"./index-B5OHeJSP.js";import{d as le}from"./dayjs.min-CJilavqB.js";import{g as be}from"./_commonjsHelpers-Cpj98o6Y.js";const Ye="_dager_1u55p_1",we="_dagerMedBindestrek_1u55p_5",Ge="_tomDato_1u55p_15",Be="_dato_1u55p_19",Oe="_arrowBoxWidth_1u55p_24",_={dager:Ye,dagerMedBindestrek:we,beløp:"_beløp_1u55p_10",tomDato:Ge,dato:Be,arrowBoxWidth:Oe},de=({valgtSakslisteId:d,valgtAvdelingEnhet:c})=>{const g=oe(),{watch:l,trigger:o}=ie(),u=l("fra"),m=l("til"),{mutate:p}=Y({mutationFn:h=>ve(d,h.fra,h.til,c),onSuccess:()=>{g.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),g.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),g.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),n=h=>p({fra:h,til:m}),v=h=>p({fra:u,til:h}),i=U("fra",n,o),F=U("til",v,o);return r.jsxs(xe,{children:[r.jsx(T,{children:r.jsx(N,{id:"SorteringVelger.FiltrerPaHeltall"})}),r.jsxs(Ve,{gap:"4",children:[r.jsx(H,{name:"fra",className:_.dato,validate:[Z],onChange:i}),r.jsx(T,{className:_.beløp,children:r.jsx(N,{id:"SorteringVelger.Valuta"})}),r.jsx(H,{name:"til",className:_.dato,validate:[Z],onChange:F}),r.jsx(T,{className:_.beløp,children:r.jsx(N,{id:"SorteringVelger.Valuta"})})]})]})};de.__docgenInfo={description:"",methods:[],displayName:"BelopSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""}}};de.__docgenInfo={description:"",methods:[],displayName:"BelopSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""}}};var $={exports:{}},Re=$.exports,De;function Ce(){return De||(De=1,function(d,c){(function(g,l){d.exports=l()})(Re,function(){var g={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},l=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d/,u=/\d\d/,m=/\d\d?/,p=/\d*[^-_:/,()\s\d]+/,n={},v=function(e){return(e=+e)+(e>68?1900:2e3)},i=function(e){return function(a){this[e]=+a}},F=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(a){if(!a||a==="Z")return 0;var s=a.match(/([+-]|\d\d)/g),t=60*s[1]+(+s[2]||0);return t===0?0:s[0]==="+"?-t:t}(e)}],h=function(e){var a=n[e];return a&&(a.indexOf?a:a.s.concat(a.f))},w=function(e,a){var s,t=n.meridiem;if(t){for(var V=1;V<=24;V+=1)if(e.indexOf(t(V,0,a))>-1){s=V>12;break}}else s=e===(a?"pm":"PM");return s},z={A:[p,function(e){this.afternoon=w(e,!1)}],a:[p,function(e){this.afternoon=w(e,!0)}],Q:[o,function(e){this.month=3*(e-1)+1}],S:[o,function(e){this.milliseconds=100*+e}],SS:[u,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[m,i("seconds")],ss:[m,i("seconds")],m:[m,i("minutes")],mm:[m,i("minutes")],H:[m,i("hours")],h:[m,i("hours")],HH:[m,i("hours")],hh:[m,i("hours")],D:[m,i("day")],DD:[u,i("day")],Do:[p,function(e){var a=n.ordinal,s=e.match(/\d+/);if(this.day=s[0],a)for(var t=1;t<=31;t+=1)a(t).replace(/\[|\]/g,"")===e&&(this.day=t)}],w:[m,i("week")],ww:[u,i("week")],M:[m,i("month")],MM:[u,i("month")],MMM:[p,function(e){var a=h("months"),s=(h("monthsShort")||a.map(function(t){return t.slice(0,3)})).indexOf(e)+1;if(s<1)throw new Error;this.month=s%12||s}],MMMM:[p,function(e){var a=h("months").indexOf(e)+1;if(a<1)throw new Error;this.month=a%12||a}],Y:[/[+-]?\d+/,i("year")],YY:[u,function(e){this.year=v(e)}],YYYY:[/\d{4}/,i("year")],Z:F,ZZ:F};function W(e){var a,s;a=e,s=n&&n.formats;for(var t=(e=a.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(P,E,S){var y=S&&S.toUpperCase();return E||s[S]||g[S]||s[y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(M,j,I){return j||I.slice(1)})})).match(l),V=t.length,x=0;x<V;x+=1){var b=t[x],q=z[b],A=q&&q[0],L=q&&q[1];t[x]=L?{regex:A,parser:L}:b.replace(/^\[|\]$/g,"")}return function(P){for(var E={},S=0,y=0;S<V;S+=1){var M=t[S];if(typeof M=="string")y+=M.length;else{var j=M.regex,I=M.parser,G=P.slice(y),K=j.exec(G)[0];I.call(E,K),P=P.replace(K,"")}}return function(k){var B=k.afternoon;if(B!==void 0){var D=k.hours;B?D<12&&(k.hours+=12):D===12&&(k.hours=0),delete k.afternoon}}(E),E}}return function(e,a,s){s.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(v=e.parseTwoDigitYear);var t=a.prototype,V=t.parse;t.parse=function(x){var b=x.date,q=x.utc,A=x.args;this.$u=q;var L=A[1];if(typeof L=="string"){var P=A[2]===!0,E=A[3]===!0,S=P||E,y=A[2];E&&(y=A[2]),n=this.$locale(),!P&&y&&(n=s.Ls[y]),this.$d=function(G,K,k,B){try{if(["x","X"].indexOf(K)>-1)return new Date((K==="X"?1e3:1)*G);var D=W(K)(G),X=D.year,O=D.month,Le=D.day,Te=D.hours,_e=D.minutes,Ee=D.seconds,Me=D.milliseconds,me=D.zone,ce=D.week,J=new Date,ee=Le||(X||O?1:J.getDate()),re=X||J.getFullYear(),R=0;X&&!O||(R=O>0?O-1:J.getMonth());var C,te=Te||0,ae=_e||0,ne=Ee||0,se=Me||0;return me?new Date(Date.UTC(re,R,ee,te,ae,ne,se+60*me.offset*1e3)):k?new Date(Date.UTC(re,R,ee,te,ae,ne,se)):(C=new Date(re,R,ee,te,ae,ne,se),ce&&(C=B(C).week(ce).toDate()),C)}catch{return new Date("")}}(b,L,q,s),this.init(),y&&y!==!0&&(this.$L=this.locale(y).$L),S&&b!=this.format(L)&&(this.$d=new Date("")),n={}}else if(L instanceof Array)for(var M=L.length,j=1;j<=M;j+=1){A[1]=L[j-1];var I=s.apply(this,A);if(I.isValid()){this.$d=I.$d,this.$L=I.$L,this.init();break}j===M&&(this.$d=new Date(""))}else V.call(this,x)}}})}($)),$.exports}var Qe=Ce();const $e=be(Qe);le.extend($e);const ue=({valgtSakslisteId:d,valgtAvdelingEnhet:c,erDynamiskPeriode:g})=>{const l=oe(),o=qe(),{mutate:u}=Y({mutationFn:t=>ve(d,t.fra,t.til,c),onSuccess:()=>{l.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),{mutate:m}=Y({mutationFn:()=>Pe(d,c),onSuccess:()=>{l.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),{mutate:p}=Y({mutationFn:t=>Ie(d,c,t.fomDato,t.tomDato),onSuccess:()=>{l.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),{watch:n}=ie(),v=n("fra"),i=n("til"),F=n("fomDato"),h=n("tomDato"),w=t=>u({fra:t,til:i}),z=t=>u({fra:v,til:t}),W=Se(p,!0,h),e=Se(p,!1,F),a=U("fomDato",W),s=U("tomDato",e);return r.jsx("div",{className:_.arrowBoxWidth,children:r.jsx(xe,{children:r.jsxs(fe,{gap:"2",children:[r.jsx(T,{children:r.jsx(N,{id:"SorteringVelger.FiltrerPaTidsintervall"})}),g&&r.jsxs(Ve,{gap:"4",children:[r.jsxs("div",{children:[r.jsx(H,{name:"fra",className:_.dato,label:o.formatMessage({id:"SorteringVelger.Fom"}),validate:[Z],onBlur:w}),(v||v===0)&&r.jsx(T,{children:r.jsx(he,{dateString:ye(v)})})]}),r.jsx(T,{className:_.dager,children:r.jsx(N,{id:"SorteringVelger.DagerMedBindestrek"})}),r.jsxs("div",{children:[r.jsx(H,{name:"til",className:_.dato,label:o.formatMessage({id:"SorteringVelger.Tom"}),validate:[Z],onBlur:z}),(i||i===0)&&r.jsx(T,{children:r.jsx(he,{dateString:ye(i)})})]}),r.jsx(T,{className:_.dagerMedBindestrek,children:r.jsx(N,{id:"SorteringVelger.Dager"})})]}),!g&&r.jsxs(fe,{gap:"4",children:[r.jsx(ge,{name:"fomDato",label:o.formatMessage({id:"SorteringVelger.Fom"}),validate:[pe],onChange:a}),r.jsx(T,{children:r.jsx(N,{id:"SorteringVelger.Bindestrek"})}),r.jsx(ge,{name:"tomDato",label:o.formatMessage({id:"SorteringVelger.Tom"}),validate:[pe],onChange:s})]}),r.jsx(je,{name:"erDynamiskPeriode",label:o.formatMessage({id:"SorteringVelger.DynamiskPeriode"}),onChange:()=>m()})]})})})},ye=d=>le().add(d,"d").format(),Se=(d,c,g)=>l=>{let o;if(l&&(o=le(l)),!o||o.isValid()){const u=o&&o.format(Ke);return d(c?{fomDato:u,tomDato:g}:{fomDato:g,tomDato:u})}};ue.__docgenInfo={description:"",methods:[],displayName:"DatoSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};ue.__docgenInfo={description:"",methods:[],displayName:"DatoSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};const He=d=>d&&d.some(c=>c===Q.TILBAKEKREVING||c===Q.TILBAKEKREVING_REVURDERING)&&!d.some(c=>c!==Q.TILBAKEKREVING&&c!==Q.TILBAKEKREVING_REVURDERING),Ae=({valgtSakslisteId:d,valgteBehandlingtyper:c,valgtAvdelingEnhet:g,erDynamiskPeriode:l})=>{const o=oe(),{resetField:u}=ie(),{mutate:m}=Y({mutationFn:n=>ke(d,n.sorteringType,g),onSuccess:()=>{o.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),o.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),o.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),p=Fe("KøSortering");return r.jsx(Ne,{name:"sortering",label:r.jsx(N,{id:"SorteringVelger.Sortering"}),onChange:n=>(u("fra",{defaultValue:""}),u("til",{defaultValue:""}),u("fomDato",{defaultValue:""}),u("tomDato",{defaultValue:""}),u("erDynamiskPeriode",{defaultValue:""}),m({sorteringType:n})),radios:p.filter(n=>n.feltkategori!=="TILBAKEKREVING"||He(c)).map(n=>({value:n.kode,label:n.navn,element:r.jsxs(r.Fragment,{children:[n.felttype==="DATO"&&r.jsx(ue,{valgtSakslisteId:d,valgtAvdelingEnhet:g,erDynamiskPeriode:l}),n.felttype==="HELTALL"&&r.jsx(de,{valgtSakslisteId:d,valgtAvdelingEnhet:g})]})}))})};Ae.__docgenInfo={description:"",methods:[],displayName:"SorteringVelger",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgteBehandlingtyper:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};Ae.__docgenInfo={description:"",methods:[],displayName:"SorteringVelger",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgteBehandlingtyper:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};export{Ae as S};
