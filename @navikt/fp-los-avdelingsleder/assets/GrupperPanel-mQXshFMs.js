import{j as b}from"./dayjs.min-ZUODdiE-.js";import{R as se}from"./useRestApiRunner-DIVzIFJm.js";import{r as o,R as l}from"./index-uubelm5h.js";import{n as te,c as F,x as ve,l as W,z as X,C as be,E as oe,G as fe,f as $,L as Z,I as ye,s as he,J as Oe,K as Ie,a as we,u as xe,Y as ke,V as K,O as _e,M as D,H as Se,B as Ce}from"./nb_NO-DgrJ5I7_.js";import{r as je,G as Ee,k as Ne,I as Re}from"./index.es-wEnEhcq-.js";import{u as Le}from"./useDebounce-X00HPGnH.js";import{T}from"./Table-BDdiuVaa.js";var Te=function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)a.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]]);return r};const Pe=o.forwardRef((e,a)=>{var{title:r,titleId:n}=e,t=Te(e,["title","titleId"]);let s=te();return s=r?n||"title-"+s:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":s},t),r?o.createElement("title",{id:s},r):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.998 6.94a.75.75 0 0 1 .063 1.058l-8 9a.75.75 0 0 1-1.091.032l-5-5a.75.75 0 1 1 1.06-1.06l4.438 4.437 7.471-8.405A.75.75 0 0 1 19 6.939",clipRule:"evenodd"}))});var Fe=function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)a.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]]);return r};const Ae=o.forwardRef((e,a)=>{var{title:r,titleId:n}=e,t=Fe(e,["title","titleId"]);let s=te();return s=r?n||"title-"+s:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":s},t),r?o.createElement("title",{id:s},r):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.47 7.97a.75.75 0 0 1 1.06 0l5.5 5.5a.75.75 0 1 1-1.06 1.06L12 9.56l-4.97 4.97a.75.75 0 0 1-1.06-1.06z",clipRule:"evenodd"}))});var Me=function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)a.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]]);return r};const qe=o.forwardRef((e,a)=>{var{title:r,titleId:n}=e,t=Me(e,["title","titleId"]);let s=te();return s=r?n||"title-"+s:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":s},t),r?o.createElement("title",{id:s},r):null,o.createElement("path",{fill:"currentColor",d:"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75z"}))}),ie=e=>{const a=o.useRef(e);return o.useEffect(()=>{a.current=e},[e]),a.current};var De=function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)a.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]]);return r};const Ge=o.forwardRef((e,a)=>{var{className:r,children:n,variant:t="action",removeLabel:s="slett",onDelete:d,type:I="button",onClick:c}=e,m=De(e,["className","children","variant","removeLabel","onDelete","type","onClick"]);return l.createElement("button",Object.assign({},m,{ref:a,type:I,className:F("navds-chips__chip navds-chips__removable navds-chips--icon-right",r,`navds-chips__removable--${t}`),"aria-label":`${n} ${s}`,onClick:ve(c,d)}),l.createElement("span",{className:"navds-chips__chip-text"},n),l.createElement("span",{className:"navds-chips__removable-icon"},l.createElement(W,{"aria-hidden":!0})))});var Be=function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)a.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]]);return r};const Ve=o.forwardRef((e,a)=>{var{className:r,children:n,selected:t,variant:s="action",checkmark:d=!0,as:I="button"}=e,c=Be(e,["className","children","selected","variant","checkmark","as"]);return l.createElement(I,Object.assign({},c,{ref:a,className:F("navds-chips__chip navds-chips__toggle",r,`navds-chips__toggle--${s}`,{"navds-chips__toggle--with-checkmark":d}),"aria-pressed":t}),d&&l.createElement("svg",{"aria-hidden":!0,className:"navds-chips__toggle-icon",width:"1.25em",height:"1.25em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img"},t?l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 18.125C14.4873 18.125 18.125 14.4873 18.125 10C18.125 5.51269 14.4873 1.875 10 1.875C5.51269 1.875 1.875 5.51269 1.875 10C1.875 14.4873 5.51269 18.125 10 18.125ZM14.128 7.72904C14.3695 7.44357 14.3339 7.01635 14.0485 6.7748C13.763 6.53326 13.3358 6.56886 13.0942 6.85432L8.60428 12.1606L6.41627 9.97263C6.15185 9.70822 5.72315 9.70822 5.45873 9.97263C5.19431 10.2371 5.19431 10.6658 5.45873 10.9302L8.16706 13.6385C8.30095 13.7724 8.48479 13.8441 8.67397 13.8362C8.86316 13.8284 9.0404 13.7416 9.16271 13.5971L14.128 7.72904Z",fill:"currentColor"}):l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3.125C6.20304 3.125 3.125 6.20304 3.125 10C3.125 13.797 6.20304 16.875 10 16.875C13.797 16.875 16.875 13.797 16.875 10C16.875 6.20304 13.797 3.125 10 3.125ZM1.875 10C1.875 5.51269 5.51269 1.875 10 1.875C14.4873 1.875 18.125 5.51269 18.125 10C18.125 14.4873 14.4873 18.125 10 18.125C5.51269 18.125 1.875 14.4873 1.875 10Z",fill:"var(--ac-chip-toggle-circle-border, var(--a-border-default))"})),l.createElement("span",{className:"navds-chips__chip-text"},n))});var $e=function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)a.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]]);return r};const Y=o.forwardRef((e,a)=>{var{className:r,size:n="medium",children:t}=e,s=$e(e,["className","size","children"]);return l.createElement("ul",Object.assign({},s,{ref:a,className:F("navds-chips",r,`navds-chips--${n}`,{"navds-body-short navds-body-short--small":n==="medium","navds-detail navds-detail--small":n==="small"})}),l.Children.map(t,(d,I)=>l.createElement("li",{key:(d==null?void 0:d.toString())||I},d)))});Y.Toggle=Ve;Y.Removable=Ge;const[ze,q]=X({name:"InputContext",errorMessage:"useInputContext must be used within an InputContextProvider"}),He=({children:e,value:a})=>{const{defaultValue:r="",description:n,disabled:t,error:s,errorId:d,id:I,value:c,onChange:m,onClear:w,shouldAutocomplete:g,size:O}=a,v=be({description:n,disabled:t,error:s,errorId:d,id:I,size:O},"comboboxfield"),i=o.useRef(null),y=o.useRef(null),[h,p]=o.useState(r),u=o.useMemo(()=>String(c??h),[c,h]),[_,j]=o.useState(u),E=o.useCallback(S=>{const L=S.currentTarget.value;c??p(L),m==null||m(S),j(L)},[c,m]),f=o.useCallback(S=>{p(S)},[p]),x=o.useCallback(S=>{w==null||w(S),m==null||m(null,""),f(""),j("")},[m,w,f]),R=o.useCallback(()=>{var S,L;(L=(S=i.current)===null||S===void 0?void 0:S.focus)===null||L===void 0||L.call(S)},[]);oe(()=>{var S,L;g&&i&&u!==_&&((L=(S=i.current)===null||S===void 0?void 0:S.setSelectionRange)===null||L===void 0||L.call(S,_.length,u.length))},[u,_,g]);const P=Object.assign(Object.assign({},v),{clearInput:x,error:s,focusInput:R,inputRef:i,value:u,setValue:f,onChange:E,searchTerm:_,setSearchTerm:j,shouldAutocomplete:g,toggleOpenButtonRef:y});return l.createElement(ze,Object.assign({},P),e)},Ue=({children:e,className:a,hasError:r,inputProps:n,inputSize:t,toggleIsListOpen:s})=>{const{toggleOpenButtonRef:d}=q(),I=o.useRef(null),[c,m]=o.useState(!1);function w(O){var v;!(!((v=I.current)===null||v===void 0)&&v.contains(O.relatedTarget))&&(d==null?void 0:d.current)!==O.target&&(s(!0),m(!0))}function g(O){var v;!((v=I.current)===null||v===void 0)&&v.contains(O.relatedTarget)||(s(!1),m(!1))}return l.createElement("div",{ref:I,className:F(a,"navds-form-field",`navds-form-field--${t}`,{"navds-combobox--error":r,"navds-combobox--disabled":!!n.disabled,"navds-combobox--focused":c}),onFocus:w,onBlur:g},e)},M=(e,a)=>typeof e=="string"?a.some(r=>r.label===e||r.value===e):a.some(r=>r.label===e.label&&r.value===e.value),re=e=>({label:e,value:e}),Q=e=>e==null?void 0:e.map(a=>typeof a=="string"?re(a):a),[Ke,de]=X({name:"ComboboxCustomOptions",errorMessage:"useComboboxCustomOptions must be used within a ComboboxCustomOptionsProvider"}),We=({children:e,value:a})=>{const[r,n]=o.useState([]),{focusInput:t}=q(),{isMultiSelect:s}=a,d=o.useCallback(m=>{n(w=>w.filter(g=>g.label!==m.label)),t()},[t,n]),I=o.useCallback(m=>{n(s?w=>[...w,m]:[m]),t()},[t,s,n]),c={customOptions:r,removeCustomOption:d,addCustomOption:I,setCustomOptions:n};return l.createElement(Ke,Object.assign({},c),e)},[Xe,z]=X(),Ze=({children:e,value:a})=>{const{clearInput:r,focusInput:n}=q(),{customOptions:t,removeCustomOption:s,addCustomOption:d,setCustomOptions:I}=de(),{allowNewValues:c,isMultiSelect:m,selectedOptions:w,onToggleSelected:g,options:O,maxSelected:v}=a,[i,y]=o.useState([]),h=o.useMemo(()=>w??[...t,...i],[t,w,i]),p=o.useCallback(x=>{const R=!M(x,O);R?(c&&d(x),!m&&y([])):m?y(P=>[...P,x]):(y([x]),I([])),g==null||g(x.value,!0,R)},[d,c,m,g,O,I]),u=o.useCallback(x=>{const R=M(x,t);R?s(x):y(P=>P.filter(S=>S!==x)),g==null||g(x.value,!1,R)},[t,g,s]),_=o.useCallback((x,R)=>{M(x.value,h)?u(x):p(x),r(R),n()},[p,r,n,u,h]),j=ie(h),E=!!(v!=null&&v.limit)&&h.length>=v.limit,f={addSelectedOption:p,isMultiSelect:m,removeSelectedOption:u,prevSelectedOptions:j,selectedOptions:h,setSelectedOptions:y,toggleOption:_,maxSelected:v&&Object.assign(Object.assign({},v),{isLimitReached:E})};return l.createElement(Xe,Object.assign({},f),e)},ne=e=>typeof e=="string"?e.toLocaleLowerCase().trim():"",ue=(e,a)=>ne(a).startsWith(ne(e??"")),Ye=(e,a)=>a.filter(r=>ue(e,r.label)),Je=e=>`${e}-filtered-options`,Qe=(e,a)=>`${e.toLocaleLowerCase()}-option-${a.replace(" ","-").toLocaleLowerCase()}`,en=e=>`${e}-combobox-new-option`,nn=e=>`${e}-is-loading`,tn=e=>`${e}-no-hits`,rn=e=>`${e}-max-selected-options`,C={normalizeText:ne,isPartOfText:ue,getMatchingValuesFromList:Ye,getFilteredOptionsId:Je,getAddNewOptionId:en,getOptionId:Qe,getIsLoadingId:nn,getNoHitsId:tn,getMaxSelectedOptionsId:rn},an=e=>{const[a,r]=o.useState(void 0),n=()=>{var i;return Array.from((i=e==null?void 0:e.children)!==null&&i!==void 0?i:[])},t=()=>n().filter(i=>i.getAttribute("data-no-focus")!=="true"),s=i=>n().find(y=>y.id===i),d=()=>a?t().indexOf(a)===0:!1,I=()=>{const i=t();return a?i.indexOf(a)===i.length-1:!1},c=i=>{var y;r(i),(y=i==null?void 0:i.scrollIntoView)===null||y===void 0||y.call(i,{block:"nearest"})};return{activeElement:a,getElementById:s,isFocusOnTheTop:d,isFocusOnTheBottom:I,moveFocusUp:()=>{if(!a)return;const i=t(),y=i.indexOf(a),h=i[y-1];y===0?r(void 0):c(h)},moveFocusDown:()=>{const i=t();if(!a){c(i[0]);return}const y=i.indexOf(a);y!==i.length-1&&c(i[y+1])},moveFocusToElement:i=>{const y=t().find(h=>h.getAttribute("id")===i);y&&r(y)},moveFocusToTop:()=>c(void 0),moveFocusToBottom:()=>{const i=t();return c(i[i.length-1])}}},[sn,H]=X({name:"FilteredOptionsContext",errorMessage:"useFilteredOptionsContext must be used within a FilteredOptionsProvider"}),ln=({children:e,value:a})=>{const{allowNewValues:r,filteredOptions:n,isListOpen:t,isLoading:s,options:d}=a,[I,c]=o.useState(null),m=an(I),{inputProps:{"aria-describedby":w,id:g},value:O,searchTerm:v,setValue:i,setSearchTerm:y,shouldAutocomplete:h}=q(),{maxSelected:p}=z(),[u,_]=o.useState(!1),{customOptions:j}=de(),E=o.useMemo(()=>{if(n)return n;const N=[...j,...d];return C.getMatchingValuesFromList(v,N)},[j,n,d,v]),f=ie(v),[x,R]=o.useState(!1),P=o.useMemo(()=>{const N=Object.assign({[C.getAddNewOptionId(g)]:r?re(O):void 0},j.reduce((B,V)=>{const J=C.getOptionId(g,V.label);return B[J]=V,B},{}));return d.reduce((B,V)=>{const J=C.getOptionId(g,V.label);return B[J]=V,B},N)},[r,j,g,d,O]);oe(()=>{h&&C.normalizeText(v)!==""&&((f==null?void 0:f.length)||0)<v.length&&E.length>0&&(i(`${v}${E[0].label.substring(v.length)}`),y(v))},[E,f,v,y,i,h]);const S=o.useMemo(()=>t??u,[t,u]),L=o.useCallback(N=>{m.moveFocusToTop(),_(U=>N??!U)},[m]),k=o.useMemo(()=>!!O&&!P[C.getOptionId(g,O)],[P,g,O]),A=o.useMemo(()=>{let N="";!s&&E.length===0&&!r?N=C.getNoHitsId(g):(O||s)&&(h&&E[0]?N=C.getOptionId(g,E[0].label):S&&s&&(N=C.getIsLoadingId(g)));const U=(p==null?void 0:p.isLimitReached)&&C.getMaxSelectedOptionsId(g);return F(N,U,w)||void 0},[S,s,p==null?void 0:p.isLimitReached,O,w,h,E,g,r]),G=o.useMemo(()=>{var N;return P[((N=m.activeElement)===null||N===void 0?void 0:N.getAttribute("id"))||-1]},[P,m]),ge={activeDecendantId:o.useMemo(()=>{var N;return((N=m.activeElement)===null||N===void 0?void 0:N.getAttribute("id"))||void 0},[m.activeElement]),allowNewValues:r,setFilteredOptionsRef:c,shouldAutocomplete:h,isListOpen:S,isLoading:s,filteredOptions:E,isMouseLastUsedInputDevice:x,setIsMouseLastUsedInputDevice:R,isValueNew:k,toggleIsListOpen:L,currentOption:G,virtualFocus:m,ariaDescribedBy:A};return l.createElement(sn,Object.assign({},ge),e)},on=()=>{var e;const{inputProps:{id:a},size:r,value:n}=q(),{allowNewValues:t,isLoading:s,isListOpen:d,filteredOptions:I,setFilteredOptionsRef:c,isMouseLastUsedInputDevice:m,setIsMouseLastUsedInputDevice:w,isValueNew:g,toggleIsListOpen:O,activeDecendantId:v,virtualFocus:i}=H(),{isMultiSelect:y,selectedOptions:h,toggleOption:p,maxSelected:u}=z(),_=f=>(u==null?void 0:u.isLimitReached)&&!M(f.value,h),j=(u==null?void 0:u.isLimitReached)||s||!s&&I.length===0&&!t,E=t&&g&&!(u!=null&&u.isLimitReached)||I.length>0;return l.createElement("div",{className:F("navds-combobox__list",{"navds-combobox__list--closed":!d,"navds-combobox__list--with-hover":m}),id:C.getFilteredOptionsId(a),tabIndex:-1},j&&l.createElement("div",{className:"navds-combobox__list_non-selectables",role:"status"},(u==null?void 0:u.isLimitReached)&&l.createElement("div",{className:"navds-combobox__list-item--max-selected",id:C.getMaxSelectedOptionsId(a)},(e=u.message)!==null&&e!==void 0?e:`${h.length} av ${u.limit} er valgt.`),s&&l.createElement("div",{className:"navds-combobox__list-item--loading",id:C.getIsLoadingId(a)},l.createElement(fe,{title:"Søker..."})),!s&&I.length===0&&!t&&l.createElement("div",{className:"navds-combobox__list-item--no-options",id:C.getNoHitsId(a)},"Ingen søketreff")),E&&l.createElement("ul",{ref:c,role:"listbox",className:"navds-combobox__list-options"},g&&!(u!=null&&u.isLimitReached)&&t&&l.createElement("li",{tabIndex:-1,onMouseMove:()=>{v!==C.getAddNewOptionId(a)&&(i.moveFocusToElement(C.getAddNewOptionId(a)),w(!0))},onPointerUp:f=>{p(re(n),f),!y&&!M(n,h)&&O(!1)},id:C.getAddNewOptionId(a),className:F("navds-combobox__list-item navds-combobox__list-item--new-option",{"navds-combobox__list-item--new-option--focus":v===C.getAddNewOptionId(a)}),role:"option","aria-selected":!1},l.createElement(qe,{"aria-hidden":!0}),l.createElement($,{size:r},"Legg til"," ",l.createElement(Z,{as:"span",size:r},"“",n,"”"))),I.map(f=>l.createElement("li",{className:F("navds-combobox__list-item",{"navds-combobox__list-item--focus":v===C.getOptionId(a,f.label),"navds-combobox__list-item--selected":M(f.value,h)}),"data-no-focus":_(f)||void 0,id:C.getOptionId(a,f.label),key:f.label,tabIndex:-1,onMouseMove:()=>{v!==C.getOptionId(a,f.label)&&(i.moveFocusToElement(C.getOptionId(a,f.label)),w(!0))},onPointerUp:x=>{_(f)||(p(f,x),!y&&!M(f.value,h)&&O(!1))},role:"option","aria-selected":M(f.value,h),"aria-disabled":_(f)||void 0},l.createElement($,{size:r},f.label),M(f.value,h)&&l.createElement(Pe,null)))))},dn=({option:e})=>{const{isMultiSelect:a,removeSelectedOption:r}=z(),{focusInput:n}=q(),t=s=>{s.stopPropagation(),r(e),n()};return a?l.createElement(Y.Removable,{onClick:t},e.label):l.createElement("div",{className:"navds-combobox__selected-options--no-bg"},e.label)},un=({selectedOptions:e=[],size:a,children:r})=>l.createElement(Y,{className:"navds-combobox__selected-options",size:a},e.length?e.map((n,t)=>l.createElement(dn,{key:n.label+t,option:n})):[],r);var cn=function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)a.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]]);return r};const le=o.forwardRef((e,a)=>{var{inputClassName:r}=e,n=cn(e,["inputClassName"]);const{clearInput:t,inputProps:s,onChange:d,size:I,value:c}=q(),{selectedOptions:m,removeSelectedOption:w,toggleOption:g,isMultiSelect:O}=z(),{activeDecendantId:v,allowNewValues:i,currentOption:y,filteredOptions:h,isValueNew:p,toggleIsListOpen:u,isListOpen:_,ariaDescribedBy:j,setIsMouseLastUsedInputDevice:E,shouldAutocomplete:f,virtualFocus:x}=H(),R=o.useCallback(k=>{const A=G=>m.some(ae=>ae.label.toLocaleLowerCase()===G.toLocaleLowerCase());if(y)k.preventDefault(),g(y,k),!O&&!A(y.label)&&u(!1);else if(f&&A(c))k.preventDefault(),t(k);else if((i||f)&&c!==""){k.preventDefault();const G=i&&p?{label:c,value:c}:h[0];g(G,k),!O&&!A(h[0].label||G.label)&&u(!1)}},[i,t,y,h,O,p,m,f,u,g,c]),P=k=>{switch(k.preventDefault(),k.key){case"Escape":t(k),u(!1);break;case"Enter":case"Accept":R(k);break;case"Home":u(!1),x.moveFocusToTop();break;case"End":u(!0),x.moveFocusToBottom();break}},S=o.useCallback(k=>{if(E(!1),k.key==="Backspace"){if(c===""){const A=m[m.length-1];A&&w(A)}}else k.key==="Enter"||k.key==="Accept"?(v||c)&&k.preventDefault():k.key==="ArrowDown"?k.target.selectionStart===(c==null?void 0:c.length)&&(k.preventDefault(),(x.activeElement===null||!_)&&u(!0),x.moveFocusDown()):k.key==="ArrowUp"&&_&&v&&(k.preventDefault(),x.isFocusOnTheTop()&&u(!1),x.moveFocusUp())},[c,m,w,_,v,E,u,x]),L=o.useCallback(k=>{const A=k.target.value;A&&A!==""?u(!0):h.length===0&&u(!1),x.moveFocusToTop(),d(k)},[h.length,x,d,u]);return l.createElement("input",Object.assign({},n,ye(s,["aria-invalid"]),{ref:a,value:c,onBlur:()=>x.moveFocusToTop(),onChange:L,type:"text",role:"combobox",onKeyUp:P,onKeyDown:S,"aria-controls":C.getFilteredOptionsId(s.id),"aria-expanded":!!_,autoComplete:"off","aria-autocomplete":f?"both":"list","aria-activedescendant":v,"aria-describedby":j,"aria-invalid":s["aria-invalid"],className:F(r,"navds-combobox__input","navds-body-short",`navds-body-short--${I}`)}))}),pn=o.forwardRef(({toggleListButtonLabel:e},a)=>{const{isListOpen:r,toggleIsListOpen:n}=H();return l.createElement("button",{type:"button",onPointerUp:()=>n(),onKeyDown:({key:t})=>t==="Enter"&&n(),className:"navds-combobox__button-toggle-list","aria-expanded":r,tabIndex:-1,ref:a},l.createElement("span",{className:"navds-sr-only"},e??"Alternativer"),r?l.createElement(Ae,{"aria-hidden":!0}):l.createElement(he,{"aria-hidden":!0}))});var mn=function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)a.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]]);return r};const gn=o.forwardRef((e,a)=>{const{clearButton:r=!0,clearButtonLabel:n,toggleListButton:t=!0,toggleListButtonLabel:s,inputClassName:d,shouldShowSelectedOptions:I=!0}=e,c=mn(e,["clearButton","clearButtonLabel","toggleListButton","toggleListButtonLabel","inputClassName","shouldShowSelectedOptions"]),{clearInput:m,focusInput:w,inputProps:g,value:O,size:v="medium",inputRef:i,toggleOpenButtonRef:y}=q(),{activeDecendantId:h}=H(),{selectedOptions:p}=z(),u=Oe(i,a);return l.createElement("div",{className:F("navds-combobox__wrapper-inner navds-text-field__input",{"navds-combobox__wrapper-inner--virtually-unfocused":h!==void 0}),onClick:w},I?l.createElement(un,{selectedOptions:p,size:v},l.createElement(le,Object.assign({id:g.id,ref:u,inputClassName:d},c))):l.createElement(le,Object.assign({id:g.id,ref:u,inputClassName:d},c)),l.createElement("div",null,O&&r&&l.createElement("button",{type:"button",onClick:m,className:"navds-combobox__button-clear",tabIndex:-1},l.createElement("span",{className:"navds-sr-only"},n||"Tøm"),l.createElement(W,{"aria-hidden":!0})),t&&l.createElement(pn,{toggleListButtonLabel:s,ref:y})))});var vn=function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)a.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]]);return r};const bn=o.forwardRef((e,a)=>{const{className:r,hideLabel:n=!1,description:t,label:s}=e,d=vn(e,["className","hideLabel","description","label"]),{toggleIsListOpen:I}=H(),{error:c,errorId:m,hasError:w,inputDescriptionId:g,inputProps:O,showErrorMsg:v,size:i="medium"}=q();return l.createElement(Ue,{className:r,hasError:w,inputProps:O,inputSize:i,toggleIsListOpen:I},l.createElement(Z,{htmlFor:O.id,size:i,className:F("navds-form-field__label",{"navds-sr-only":n})},s),!!t&&l.createElement($,{as:"div",className:F("navds-form-field__description",{"navds-sr-only":n}),id:g,size:i},t),l.createElement("div",{className:"navds-combobox__wrapper"},l.createElement(gn,Object.assign({ref:a},d)),l.createElement(on,null)),l.createElement("div",{className:"navds-form-field__error",id:m,"aria-relevant":"additions removals","aria-live":"polite"},v&&l.createElement(Ie,{size:i},c)))});var fn=function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)a.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]]);return r};const yn=o.forwardRef((e,a)=>{const{allowNewValues:r=!1,children:n,defaultValue:t,error:s,errorId:d,filteredOptions:I,id:c,isListOpen:m,isLoading:w=!1,isMultiSelect:g,onToggleSelected:O,selectedOptions:v,maxSelected:i,options:y,value:h,onChange:p,onClear:u,shouldAutocomplete:_,size:j}=e,E=fn(e,["allowNewValues","children","defaultValue","error","errorId","filteredOptions","id","isListOpen","isLoading","isMultiSelect","onToggleSelected","selectedOptions","maxSelected","options","value","onChange","onClear","shouldAutocomplete","size"]),f=Q(y)||[],x=Q(I),R=Q(v);return l.createElement(He,{value:{defaultValue:t,error:s,errorId:d,id:c,value:h,onChange:p,onClear:u,shouldAutocomplete:_,size:j}},l.createElement(We,{value:{isMultiSelect:g}},l.createElement(Ze,{value:{allowNewValues:r,isMultiSelect:g,selectedOptions:R,maxSelected:i,onToggleSelected:O,options:f}},l.createElement(ln,{value:{allowNewValues:r,filteredOptions:x,isListOpen:m,isLoading:w,options:f}},l.createElement(bn,Object.assign({ref:a},E),n)))))}),hn="_navn_broku_1",On="_saksbehandlerCombo_broku_5",In="_removeIcon_broku_9",ee={navn:hn,saksbehandlerCombo:On,removeIcon:In},wn=Ne(3),xn=Re(100),kn=e=>[...e].sort((a,r)=>a.navn.localeCompare(r.navn)),_n=(e,a)=>e.filter(r=>!a.some(n=>n.brukerIdent===r.brukerIdent)).sort((r,n)=>r.navn.localeCompare(n.navn)),ce=({saksbehandlerGruppe:e,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:r,endreGruppenavn:n})=>{const t=we(),s=xe({defaultValues:{navn:e.gruppeNavn}}),d=kn(e.saksbehandlere),c=_n(a,d).map(p=>`${p.navn} (${p.brukerIdent})`),m=Le("navn",p=>n(e.gruppeId,p),s.trigger),[w,g]=o.useState([]),[O,v]=o.useState(""),i=p=>{p!=null&&p.trim()?g(c.filter(u=>u.toLowerCase().includes(p.toLowerCase()))):g(c)},y=(p,u)=>{const _=w.find(f=>f.toLowerCase().includes(p==null?void 0:p.toLowerCase())),j=_==null?void 0:_.replace(")","").split(" ("),E=d.some(f=>j&&f.brukerIdent===j[1]);_&&u&&!E&&j&&r(j[1],e.gruppeId,!0)},h=(p,u)=>{r(p,u,!1)};return o.useEffect(()=>i(O),[e,O]),b.jsx(ke,{formMethods:s,children:b.jsxs(K,{gap:"5",children:[b.jsx(_e,{name:"navn",label:t.formatMessage({id:"GruppeSaksbehandlere.Navn"}),validate:[je,wn,xn,Ee],onBlur:m,className:ee.navn}),b.jsxs(K,{gap:"4",children:[b.jsx(yn,{label:t.formatMessage({id:"GruppeSaksbehandlere.VelgSaksbehandlere"}),size:"small",options:c,filteredOptions:w,selectedOptions:[],onChange:p=>v(p==null?void 0:p.target.value),onToggleSelected:y,className:ee.saksbehandlerCombo}),b.jsxs(K,{gap:"2",children:[b.jsx(Z,{size:"small",children:b.jsx(D,{id:"GruppeSaksbehandlere.ValgteSaksbehandlere"})}),d.length===0&&b.jsx($,{size:"small",children:b.jsx(D,{id:"GruppeSaksbehandlere.Ingen"})}),d.map(p=>b.jsxs(Se,{gap:"2",align:"center",children:[b.jsx("div",{children:`${p.navn} (${p.brukerIdent})`}),b.jsx("div",{children:b.jsx(W,{className:ee.removeIcon,onMouseDown:()=>h(p.brukerIdent,e.gruppeId),onKeyDown:()=>h(p.brukerIdent,e.gruppeId)})})]},p.brukerIdent))]})]})]})})};ce.__docgenInfo={description:"",methods:[],displayName:"GruppeSaksbehandlere",props:{saksbehandlerGruppe:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]"},description:""},lagreValgtSaksbehandlar:{required:!0,tsType:{name:"signature",type:"function",raw:"(brukerIdent: string, gruppeId: number, leggTil: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"brukerIdent"},{type:{name:"number"},name:"gruppeId"},{type:{name:"boolean"},name:"leggTil"}],return:{name:"void"}}},description:""},endreGruppenavn:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number, gruppeNavn: string) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"},{type:{name:"string"},name:"gruppeNavn"}],return:{name:"void"}}},description:""}}};const Sn="_removeIcon_1k4e9_1",Cn={removeIcon:Sn},pe=({grupper:e,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:r,endreGruppenavn:n,slettGruppe:t})=>{var s;return b.jsxs(b.Fragment,{children:[b.jsx(Z,{size:"small",children:b.jsx(D,{id:"GrupperTabell.Grupper"})}),e.saksbehandlerGrupper.length>0&&b.jsxs(T,{children:[b.jsx(T.Header,{children:b.jsxs(T.Row,{children:[b.jsx(T.HeaderCell,{}),b.jsx(T.HeaderCell,{scope:"col",children:b.jsx(D,{id:"GrupperTabell.Id"})}),b.jsx(T.HeaderCell,{scope:"col",children:b.jsx(D,{id:"GrupperTabell.Navn"})}),b.jsx(T.HeaderCell,{scope:"col",children:b.jsx(D,{id:"GrupperTabell.AntallSaksbehandlere"})}),b.jsx(T.HeaderCell,{})]})}),b.jsx(T.Body,{children:(s=e.saksbehandlerGrupper)==null?void 0:s.map(d=>b.jsxs(T.ExpandableRow,{content:b.jsx(ce,{saksbehandlerGruppe:d,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:r,endreGruppenavn:n}),children:[b.jsx(T.DataCell,{scope:"row",children:d.gruppeId}),b.jsx(T.DataCell,{children:d.gruppeNavn||"-"}),b.jsx(T.DataCell,{children:d.saksbehandlere.length}),b.jsx(T.DataCell,{children:b.jsx(W,{className:Cn.removeIcon,onMouseDown:()=>t(d.gruppeId),onKeyDown:()=>t(d.gruppeId)})})]},d.gruppeId))})]}),e.saksbehandlerGrupper.length===0&&b.jsx($,{children:b.jsx(D,{id:"GrupperTabell.IngenGrupper"})})]})};pe.__docgenInfo={description:"",methods:[],displayName:"GrupperTabell",props:{grupper:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}`,signature:{properties:[{key:"saksbehandlerGrupper",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}>`}],raw:"SaksbehandlerGruppe[]",required:!0}}]}}],raw:`Readonly<{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]"},description:""},lagreValgtSaksbehandlar:{required:!0,tsType:{name:"signature",type:"function",raw:"(brukerIdent: string, gruppeId: number, leggTil: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"brukerIdent"},{type:{name:"number"},name:"gruppeId"},{type:{name:"boolean"},name:"leggTil"}],return:{name:"void"}}},description:""},endreGruppenavn:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number, gruppeNavn: string) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"},{type:{name:"string"},name:"gruppeNavn"}],return:{name:"void"}}},description:""},slettGruppe:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"}],return:{name:"void"}}},description:""}}};const me=({grupper:e,avdelingensSaksbehandlere:a,opprettOgHentAlleGrupper:r,opprettNyGruppeState:n,lagreValgtSaksbehandlar:t,endreGruppenavn:s,slettGruppe:d})=>b.jsxs(K,{gap:"5",align:"start",children:[b.jsx(pe,{grupper:e,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:t,endreGruppenavn:s,slettGruppe:d}),b.jsx(Ce,{size:"small",variant:"secondary",loading:n===se.LOADING,disabled:n===se.LOADING,tabIndex:0,onClick:r,children:b.jsx(D,{id:"GrupperPanel.OpprettGruppe"})})]}),Fn=me;me.__docgenInfo={description:"",methods:[],displayName:"GrupperPanel",props:{grupper:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}`,signature:{properties:[{key:"saksbehandlerGrupper",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}>`}],raw:"SaksbehandlerGruppe[]",required:!0}}]}}],raw:`Readonly<{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]"},description:""},opprettOgHentAlleGrupper:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},opprettNyGruppeState:{required:!1,tsType:{name:"RestApiState"},description:""},lagreValgtSaksbehandlar:{required:!0,tsType:{name:"signature",type:"function",raw:"(brukerIdent: string, gruppeId: number, leggTil: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"brukerIdent"},{type:{name:"number"},name:"gruppeId"},{type:{name:"boolean"},name:"leggTil"}],return:{name:"void"}}},description:""},endreGruppenavn:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number, gruppeNavn: string) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"},{type:{name:"string"},name:"gruppeNavn"}],return:{name:"void"}}},description:""},slettGruppe:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"}],return:{name:"void"}}},description:""}}};export{Fn as G};
