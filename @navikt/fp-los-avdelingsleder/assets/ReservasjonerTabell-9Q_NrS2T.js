import{a as _,F as P,j as a}from"./jsx-runtime-CUEGZZF9.js";import{r}from"./index-DogsOklH.js";import{p as F,L as j,F as T,a as h,h as H,n as U,x as B,o,Z as k,q as w,X as K}from"./nb_NO-k-ioYHLQ.js";import{O as x,F as C}from"./FlyttReservasjonModal-9Aq3uo1z.js";import{b as I,a as c}from"./fplosRestApi-74D8GJap.js";var q=function(e,i){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)i.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(l[t[s]]=e[t[s]]);return l};const J=r.forwardRef((e,i)=>{var{title:l,titleId:t}=e,s=q(e,["title","titleId"]);let E=F();return E=l?t||"title-"+E:void 0,r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:i,"aria-labelledby":E},s),l?r.createElement("title",{id:E},l):null,r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 3.75a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5ZM3.75 7.5a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0ZM9 15.75A5.25 5.25 0 0 0 3.75 21a.75.75 0 0 1-1.5 0 6.75 6.75 0 0 1 13.5 0 .75.75 0 0 1-1.5 0A5.25 5.25 0 0 0 9 15.75Zm7.214-10.824a.75.75 0 1 0-.428 1.438A2.752 2.752 0 0 1 15 11.75a.75.75 0 0 0-.75.75v1a.75.75 0 0 0 .75.75 4.25 4.25 0 0 1 4.25 4.25.75.75 0 0 0 1.5 0 5.75 5.75 0 0 0-4.206-5.539 4.251 4.251 0 0 0-.33-8.035Z",fill:"currentColor"}))}),y=J;var m=(e=>(e.ARBEID_TYPE="ArbeidType",e.AVSLAGSARSAK="Avslagsårsak",e.VENT_AARSAK="Venteårsak",e.BEHANDLING_AARSAK="BehandlingÅrsakType",e.KLAGE_AVVIST_AARSAK="KlageAvvistÅrsak",e.KLAGE_MEDHOLD_ARSAK="KlageMedholdÅrsak",e.KLAGE_HJEMMEL="KlageHjemmel",e.OMSORGSOVERTAKELSE_VILKAR_TYPE="OmsorgsovertakelseVilkårType",e.MEDLEMSKAP_MANUELL_VURDERING_TYPE="MedlemskapManuellVurderingType",e.VERGE_TYPE="VergeType",e.LANDKODER="Landkoder",e.MORS_AKTIVITET="MorsAktivitet",e.VIRKSOMHET_TYPE="VirksomhetType",e.OVERFOERING_AARSAK_TYPE="OverføringÅrsak",e.PERSONSTATUS_TYPE="PersonstatusType",e.FAGSAK_STATUS="FagsakStatus",e.FAGSAK_YTELSE="FagsakYtelseType",e.FORELDRE_TYPE="ForeldreType",e.FAMILIE_HENDELSE_TYPE="FamilieHendelseType",e.INNSYN_RESULTAT_TYPE="InnsynResultatType",e.BEHANDLING_TYPE="BehandlingType",e.OPPHOLD_ARSAK="OppholdÅrsak",e.UTSETTELSE_AARSAK_TYPE="UtsettelseÅrsak",e.OPPTJENING_AKTIVITET_TYPE="OpptjeningAktivitetType",e.UTTAK_PERIODE_TYPE="UttakPeriodeType",e.REVURDERING_VARSLING_ÅRSAK="RevurderingVarslingÅrsak",e.MANUELL_BEHANDLING_AARSAK="ManuellBehandlingÅrsak",e.PERIODE_RESULTAT_AARSAK="PeriodeResultatÅrsak",e.INNTEKTSKATEGORI="Inntektskategori",e.BEREGNINGSGRUNNLAG_ANDELTYPER="BeregningsgrunnlagAndeltype",e.AKTIVITET_STATUS="AktivitetStatus",e.ARBEIDSKATEGORI="Arbeidskategori",e.FAGSYSTEM="Fagsystem",e.REGION="Region",e.SIVILSTAND_TYPE="SivilstandType",e.DOKUMENT_TYPE_ID="DokumentTypeId",e.FAKTA_OM_BEREGNING_TILFELLE="FaktaOmBeregningTilfelle",e.GRADERING_AVSLAG_AARSAK="GraderingAvslagÅrsak",e.SKJERMLENKE_TYPE="SkjermlenkeType",e.BEHANDLING_RESULTAT_TYPE="BehandlingResultatType",e.ARBEIDSFORHOLD_HANDLING_TYPE="ArbeidsforholdHandlingType",e.HISTORIKK_OPPLYSNING_TYPE="HistorikkOpplysningType",e.HISTORIKK_ENDRET_FELT_TYPE="HistorikkEndretFeltType",e.HISTORIKKINNSLAG_TYPE="HistorikkinnslagType",e.HISTORIKK_AKTOER="HistorikkAktør",e.BEHANDLING_STATUS="BehandlingStatus",e.FAR_SOEKER_TYPE="FarSøkerType",e.MEDLEMSKAP_DEKNING="MedlemskapDekningType",e.MEDLEMSKAP_TYPE="MedlemskapType",e.STOENADSKONTOTYPE="StønadskontoType",e.KONSEKVENS_FOR_YTELSEN="KonsekvensForYtelsen",e.UTTAK_ARBEID_TYPE="UttakArbeidType",e.UTTAK_UTSETTELSE_TYPE="UttakUtsettelseType",e.VILKAR_TYPE="VilkårType",e.AKTSOMHET="Aktsomhet",e.VURDERING="AnnenVurdering",e.VEDTAK_RESULTAT_TYPE="VedtakResultatType",e.PERMISJONSBESKRIVELSE_TYPE="PermisjonsbeskrivelseType",e.VURDER_ARBEIDSFORHOLD_HISTORIKKINNSLAG="VurderArbeidsforholdHistorikkinnslag",e.TILBAKEKR_VIDERE_BEH="VidereBehandling",e.VURDER_AARSAK="VurderÅrsak",e.ANKE_OMGJOER_AARSAK="AnkeOmgjørÅrsak",e.AKTIVITETSKRAV_AVKLARING="KontrollerAktivitetskravAvklaring",e.OPPHOLDSTILLATELSE_TYPE="OppholdstillatelseType",e.FARESIGNAL_VURDERING="FaresignalVurdering",e.FORDELING_PERIODE_KILDE="FordelingPeriodeKilde",e.RELASJONSROLLE_TYPE="RelasjonsRolleType",e))(m||{});const Z=(e,i,l,t)=>{let s=e[i];if(!s||s.length===0)return"";t&&(s=s[t]);const E=s.find(A=>A.kode===l);return E?E.navn:""},z="_removeIcon_1c1ll_1",X="_calendarIcon_1c1ll_7",$="_flyttIcon_1c1ll_14",g={removeIcon:z,calendarIcon:X,flyttIcon:$},Q=["ReservasjonerTabell.Navn","ReservasjonerTabell.Saksnr","ReservasjonerTabell.BehandlingType","ReservasjonerTabell.ReservertTil","ReservasjonerTabell.Endre","ReservasjonerTabell.Flytt","ReservasjonerTabell.Slett"],d=({reservasjoner:e,opphevReservasjon:i,hentAvdelingensReservasjoner:l,alleKodeverk:t})=>{const[s,E]=r.useState(!1),[A,u]=r.useState(!1),[R,N]=r.useState(void 0),O=r.useCallback(()=>{E(!1)},[]),p=r.useCallback(n=>{E(!0),N(n)},[]),D=r.useCallback(n=>{u(!0),N(n)},[]),L=r.useCallback(()=>{u(!1)},[]),S=r.useMemo(()=>e.sort((n,Y)=>n.reservertAvNavn.localeCompare(Y.reservertAvNavn)),[e]),{startRequest:V}=I.useRestApiRunner(c.ENDRE_OPPGAVERESERVASJON),{startRequest:M}=I.useRestApiRunner(c.FLYTT_RESERVASJON),{startRequest:f,state:v,data:G,resetRequestData:b}=I.useRestApiRunner(c.FLYTT_RESERVASJON_SAKSBEHANDLER_SOK);return _(P,{children:[a(j,{size:"small",children:a(T,{id:"ReservasjonerTabell.Reservasjoner"})}),S.length===0&&_(P,{children:[a(h,{eightPx:!0}),a(H,{size:"small",children:a(T,{id:"ReservasjonerTabell.IngenReservasjoner"})}),a(h,{eightPx:!0})]}),S.length>0&&a(U,{headerTextCodes:Q,noHover:!0,children:S.map(n=>_(B,{children:[a(o,{children:n.reservertAvNavn}),a(o,{children:n.oppgaveSaksNr}),a(o,{children:Z(t,m.BEHANDLING_TYPE,n.behandlingType)}),a(o,{children:a(T,{id:"ReservasjonerTabell.ReservertTilFormat",values:k(n.reservertTilTidspunkt)})}),a(o,{children:a(w,{className:g.calendarIcon,onClick:()=>p(n)})}),a(o,{children:a(y,{className:g.flyttIcon,onClick:()=>D(n)})}),a(o,{children:a(K,{className:g.removeIcon,onClick:()=>i(n.oppgaveId)})})]},n.oppgaveId))}),R&&s&&a(x,{showModal:s,closeModal:O,reserverTilDefault:R.reservertTilTidspunkt,endreReserverasjonState:O,hentReserverteOppgaver:l,oppgaveId:R.oppgaveId,endreOppgavereservasjon:V}),R&&A&&a(C,{showModal:A,closeModal:L,oppgaveId:R.oppgaveId,toggleMenu:L,hentReserverteOppgaver:l,flyttOppgavereservasjon:M,hentSaksbehandler:f,hentSaksbehandlerState:v,saksbehandler:G,resetHentSaksbehandler:b})]})},ne=d;try{d.displayName="ReservasjonerTabell",d.__docgenInfo={description:"",displayName:"ReservasjonerTabell",props:{reservasjoner:{defaultValue:null,description:"",name:"reservasjoner",required:!0,type:{name:"Readonly<{ reservertAvUid: string; reservertAvNavn: string; reservertTilTidspunkt: string; oppgaveId: number; oppgaveSaksNr: number; behandlingType: string; }>[]"}},opphevReservasjon:{defaultValue:null,description:"",name:"opphevReservasjon",required:!0,type:{name:"(oppgaveId: number) => Promise<string>"}},hentAvdelingensReservasjoner:{defaultValue:null,description:"",name:"hentAvdelingensReservasjoner",required:!0,type:{name:"() => void"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}}}}}catch{}export{ne as R};
