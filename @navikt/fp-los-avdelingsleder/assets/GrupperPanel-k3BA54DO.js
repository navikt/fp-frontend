import{r as o,R as s}from"./index-DogsOklH.js";import{R as J}from"./useRestApiRunner-t59neJBf.js";import{p as X,c as j,z as ce,X as z,A as pe,E as Y,G as me,i as D,L as H,I as ve,w as ge,J as be,K as fe,e as ye,u as he,O as Oe,V,C as Ie,F as A,H as we,B as ke}from"./nb_NO-8vkv4Fjx.js";import{r as Ee,G as _e,k as Ce,I as xe}from"./index.es-lhDBPqjE.js";import{u as Se}from"./useDebounce-7npZRRYW.js";import{T}from"./Table-jpuw6DY0.js";var Ne=function(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const Le=o.forwardRef((e,r)=>{var{title:a,titleId:t}=e,n=Ne(e,["title","titleId"]);let l=X();return l=a?t||"title-"+l:void 0,o.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:r,"aria-labelledby":l},n),a?o.createElement("title",{id:l},a):null,o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.998 6.94a.75.75 0 0 1 .063 1.058l-8 9a.75.75 0 0 1-1.091.032l-5-5a.75.75 0 1 1 1.06-1.06l4.438 4.437 7.471-8.405A.75.75 0 0 1 19 6.939Z",fill:"currentColor"}))}),Te=Le;var Re=function(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const je=o.forwardRef((e,r)=>{var{title:a,titleId:t}=e,n=Re(e,["title","titleId"]);let l=X();return l=a?t||"title-"+l:void 0,o.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:r,"aria-labelledby":l},n),a?o.createElement("title",{id:l},a):null,o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.47 7.97a.75.75 0 0 1 1.06 0l5.5 5.5a.75.75 0 1 1-1.06 1.06L12 9.56l-4.97 4.97a.75.75 0 0 1-1.06-1.06l5.5-5.5Z",fill:"currentColor"}))}),Fe=je;var Pe=function(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const Ae=o.forwardRef((e,r)=>{var{title:a,titleId:t}=e,n=Pe(e,["title","titleId"]);let l=X();return l=a?t||"title-"+l:void 0,o.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:r,"aria-labelledby":l},n),a?o.createElement("title",{id:l},a):null,o.createElement("path",{d:"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75V5.5Z",fill:"currentColor"}))}),Me=Ae,ee=e=>{const r=o.useRef(e);return o.useEffect(()=>{r.current=e},[e]),r.current};var Ge=function(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const qe=o.forwardRef((e,r)=>{var{className:a,children:t,variant:n="action",removeLabel:l="slett",onDelete:d,type:h="button",onClick:p}=e,i=Ge(e,["className","children","variant","removeLabel","onDelete","type","onClick"]);return s.createElement("button",Object.assign({},i,{ref:r,type:h,className:j("navds-chips__chip navds-chips__removable navds-chips--icon-right",a,`navds-chips__removable--${n}`),"aria-label":`${t} ${l}`,onClick:ce(p,d)}),s.createElement("span",{className:"navds-chips__chip-text"},t),s.createElement("span",{className:"navds-chips__removable-icon"},s.createElement(z,{"aria-hidden":!0})))});var De=function(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const Be=o.forwardRef((e,r)=>{var{className:a,children:t,selected:n,variant:l="action",checkmark:d=!0,as:h="button"}=e,p=De(e,["className","children","selected","variant","checkmark","as"]);return s.createElement(h,Object.assign({},p,{ref:r,className:j("navds-chips__chip navds-chips__toggle",a,`navds-chips__toggle--${l}`,{"navds-chips__toggle--with-checkmark":d}),"aria-pressed":n}),d&&s.createElement("svg",{"aria-hidden":!0,className:"navds-chips__toggle-icon",width:"1.25em",height:"1.25em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img"},n?s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 18.125C14.4873 18.125 18.125 14.4873 18.125 10C18.125 5.51269 14.4873 1.875 10 1.875C5.51269 1.875 1.875 5.51269 1.875 10C1.875 14.4873 5.51269 18.125 10 18.125ZM14.128 7.72904C14.3695 7.44357 14.3339 7.01635 14.0485 6.7748C13.763 6.53326 13.3358 6.56886 13.0942 6.85432L8.60428 12.1606L6.41627 9.97263C6.15185 9.70822 5.72315 9.70822 5.45873 9.97263C5.19431 10.2371 5.19431 10.6658 5.45873 10.9302L8.16706 13.6385C8.30095 13.7724 8.48479 13.8441 8.67397 13.8362C8.86316 13.8284 9.0404 13.7416 9.16271 13.5971L14.128 7.72904Z",fill:"currentColor"}):s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3.125C6.20304 3.125 3.125 6.20304 3.125 10C3.125 13.797 6.20304 16.875 10 16.875C13.797 16.875 16.875 13.797 16.875 10C16.875 6.20304 13.797 3.125 10 3.125ZM1.875 10C1.875 5.51269 5.51269 1.875 10 1.875C14.4873 1.875 18.125 5.51269 18.125 10C18.125 14.4873 14.4873 18.125 10 18.125C5.51269 18.125 1.875 14.4873 1.875 10Z",fill:"var(--ac-chip-toggle-circle-border, var(--a-border-default))"})),s.createElement("span",{className:"navds-chips__chip-text"},t))});var $e=function(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const U=o.forwardRef((e,r)=>{var{className:a,size:t="medium",children:n}=e,l=$e(e,["className","size","children"]);return s.createElement("ul",Object.assign({},l,{ref:r,className:j("navds-chips",a,`navds-chips--${t}`,{"navds-body-short navds-body-short--small":t==="medium","navds-detail navds-detail--small":t==="small"})}),s.Children.map(n,(d,h)=>s.createElement("li",{key:(d==null?void 0:d.toString())||h},d)))});U.Toggle=Be;U.Removable=qe;var Ve=function(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const ze=e=>{var{handleClear:r,clearButtonLabel:a}=e,t=Ve(e,["handleClear","clearButtonLabel"]);return s.createElement("button",Object.assign({type:"button",onClick:r,className:"navds-combobox__button-clear"},t),s.createElement("span",{className:"navds-sr-only"},a||"TÃ¸m"),s.createElement(z,{"aria-hidden":!0}))},He=({children:e,className:r,hasError:a,inputProps:t,inputSize:n,toggleIsListOpen:l,toggleListButtonRef:d})=>{const h=o.useRef(null),[p,i]=o.useState(!1);function O(I){var v;!(!((v=h.current)===null||v===void 0)&&v.contains(I.relatedTarget))&&(d==null?void 0:d.current)!==I.target&&(l(!0),i(!0))}function m(I){var v;!((v=h.current)===null||v===void 0)&&v.contains(I.relatedTarget)||(l(!1),i(!1))}return s.createElement("div",{ref:h,className:j(r,"navds-form-field",`navds-form-field--${n}`,{"navds-combobox--error":a,"navds-combobox--disabled":!!t.disabled,"navds-combobox--focused":p}),onFocus:O,onBlur:m},e)},te=o.createContext({}),Ue=({children:e,value:r})=>{const{defaultValue:a="",description:t,disabled:n,error:l,errorId:d,id:h,value:p,onChange:i,onClear:O,shouldAutocomplete:m,size:I}=r,v=pe({description:t,disabled:n,error:l,errorId:d,id:h,size:I},"comboboxfield"),u=o.useRef(null),[b,y]=o.useState(a),E=o.useMemo(()=>String(p??b),[p,b]),[c,C]=o.useState(E),R=o.useCallback(w=>{const x=w.currentTarget.value;p??y(x),i==null||i(w),C(x)},[p,i]),N=o.useCallback(w=>{y(w)},[y]),f=o.useCallback(w=>{O==null||O(w),i==null||i(null,""),N(""),C("")},[i,O,N]),g=o.useCallback(()=>{var w,x;(x=(w=u.current)===null||w===void 0?void 0:w.focus)===null||x===void 0||x.call(w)},[]);return Y(()=>{var w,x;m&&u&&E!==c&&((x=(w=u.current)===null||w===void 0?void 0:w.setSelectionRange)===null||x===void 0||x.call(w,c.length,E.length))},[E,c,m]),s.createElement(te.Provider,{value:Object.assign(Object.assign({},v),{clearInput:f,error:l,focusInput:g,inputRef:u,value:E,setValue:N,onChange:R,searchTerm:c,setSearchTerm:C,shouldAutocomplete:m})},e)},M=()=>{const e=o.useContext(te);if(!e)throw new Error("useInputContext must be used within an InputContextProvider");return e},ne=o.createContext({}),Ke=({children:e,value:r})=>{const[a,t]=o.useState([]),{focusInput:n}=M(),{isMultiSelect:l}=r,d=o.useCallback(i=>{t(O=>O.filter(m=>m!==i)),n()},[n,t]),h=o.useCallback(i=>{t(l?O=>[...O,i]:[i]),n()},[n,l,t]),p={customOptions:a,removeCustomOption:d,addCustomOption:h,setCustomOptions:t};return s.createElement(ne.Provider,{value:p},e)},re=()=>{const e=o.useContext(ne);if(!e)throw new Error("useCustomOptionsContext must be used within a CustomOptionsProvider");return e},ae=o.createContext({}),Ze=({children:e,value:r})=>{const{clearInput:a,focusInput:t}=M(),{customOptions:n,removeCustomOption:l,addCustomOption:d,setCustomOptions:h}=re(),{allowNewValues:p,isMultiSelect:i,selectedOptions:O,onToggleSelected:m,options:I,maxSelected:v}=r,[u,b]=o.useState([]),y=o.useMemo(()=>O??[...n,...u],[n,O,u]),E=o.useCallback(g=>{var w;const x=!I.map(L=>L.toLowerCase()).includes((w=g==null?void 0:g.toLowerCase)===null||w===void 0?void 0:w.call(g));x?(p&&d(g),!i&&b([])):i?b(L=>[...L,g]):(b([g]),h([])),m==null||m(g,!0,x)},[d,p,i,m,I,h]),c=o.useCallback(g=>{const w=n.includes(g);w?l(g):b(x=>x.filter(L=>L!==g)),m==null||m(g,!1,w)},[n,m,l]),C=o.useCallback((g,w)=>{y.includes(g)?c(g):E(g),a(w),t()},[E,a,t,c,y]),R=ee(y),N=!!(v!=null&&v.limit)&&y.length>=v.limit,f={addSelectedOption:E,isMultiSelect:i,removeSelectedOption:c,prevSelectedOptions:R,selectedOptions:y,setSelectedOptions:b,toggleOption:C,maxSelected:v&&Object.assign(Object.assign({},v),{isLimitReached:N})};return s.createElement(ae.Provider,{value:f},e)},$=()=>{const e=o.useContext(ae);if(!e)throw new Error("useSelectedOptionsContext must be used within a SelectedOptionsProvider");return e},B=e=>typeof e=="string"?e.toLocaleLowerCase().trim():"",se=(e,r)=>B(r).startsWith(B(e??"")),We=(e,r)=>r==null?void 0:r.find(a=>B(e)===B(a)),Xe=(e,r,a)=>r==null?void 0:r.filter(t=>se(e,t)||a.includes(t)),Je=e=>`${e}-filtered-options`,Qe=(e,r)=>`${e.toLocaleLowerCase()}-option-${r.replace(" ","-").toLocaleLowerCase()}`,Ye=e=>`${e}-combobox-new-option`,et=e=>`${e}-is-loading`,tt=e=>`${e}-no-hits`,nt=e=>`${e}-max-selected-options`,_={normalizeText:B,isPartOfText:se,isValueInList:We,getMatchingValuesFromList:Xe,getFilteredOptionsId:Je,getAddNewOptionId:Ye,getOptionId:Qe,getIsLoadingId:et,getNoHitsId:tt,getMaxSelectedOptionsId:nt},rt=e=>{const[r,a]=o.useState(void 0),t=()=>{var u;return Array.from((u=e==null?void 0:e.children)!==null&&u!==void 0?u:[])},n=()=>t().filter(u=>u.getAttribute("data-no-focus")!=="true"),l=u=>t().find(b=>b.id===u),d=()=>r?n().indexOf(r)===0:!1,h=()=>{const u=n();return r?u.indexOf(r)===u.length-1:!1},p=u=>{var b;a(u),(b=u==null?void 0:u.scrollIntoView)===null||b===void 0||b.call(u,{block:"nearest"})};return{activeElement:r,getElementById:l,isFocusOnTheTop:d,isFocusOnTheBottom:h,moveFocusUp:()=>{if(!r)return;const u=n(),b=u.indexOf(r),y=u[b-1];b===0?a(void 0):p(y)},moveFocusDown:()=>{const u=n();if(!r){p(u[0]);return}const b=u.indexOf(r);b!==u.length-1&&p(u[b+1])},moveFocusToElement:u=>{const b=n().find(y=>y.getAttribute("id")===u);b&&a(b)},moveFocusToTop:()=>p(void 0),moveFocusToBottom:()=>{const u=n();return p(u[u.length-1])}}},le=o.createContext({}),at=({children:e,value:r})=>{const{allowNewValues:a,filteredOptions:t,isListOpen:n,isLoading:l,options:d}=r,[h,p]=o.useState(null),i=rt(h),{inputProps:{"aria-describedby":O,id:m},value:I,searchTerm:v,setValue:u,setSearchTerm:b,shouldAutocomplete:y}=M(),{selectedOptions:E,maxSelected:c}=$(),[C,R]=o.useState(!1),{customOptions:N}=re(),f=o.useMemo(()=>{if(t)return t;const S=[...N,...d];return _.getMatchingValuesFromList(v,S,E)},[N,t,d,v,E]),g=ee(v),[w,x]=o.useState(!1),L=o.useMemo(()=>d.reduce((S,q)=>Object.assign(Object.assign({},S),{[_.getOptionId(m,q)]:q}),{[_.getAddNewOptionId(m)]:a?I:void 0}),[a,m,d,I]);Y(()=>{y&&_.normalizeText(v)!==""&&((g==null?void 0:g.length)||0)<v.length&&f.length>0&&(u(`${v}${f[0].substring(v.length)}`),b(v))},[f,g,v,b,u,y]);const F=o.useMemo(()=>n??C,[n,C]),k=o.useCallback(S=>{i.moveFocusToTop(),R(q=>S??!q)},[i]),P=o.useMemo(()=>!!I&&!L[_.getOptionId(m,I)],[L,m,I]),G=o.useMemo(()=>{let S;!l&&f.length===0?S=_.getNoHitsId(m):(I&&I!==""||l)&&(y&&f[0]?S=_.getOptionId(m,f[0]):F&&l&&(S=_.getIsLoadingId(m)));const q=(c==null?void 0:c.isLimitReached)&&_.getMaxSelectedOptionsId(m);return j(S,q,O)||void 0},[F,l,c==null?void 0:c.isLimitReached,I,O,y,f,m]),Z=o.useMemo(()=>{var S;return L[((S=i.activeElement)===null||S===void 0?void 0:S.getAttribute("id"))||-1]},[L,i]),ue={activeDecendantId:o.useMemo(()=>{var S;return((S=i.activeElement)===null||S===void 0?void 0:S.getAttribute("id"))||void 0},[i.activeElement]),allowNewValues:a,setFilteredOptionsRef:p,shouldAutocomplete:y,isListOpen:F,isLoading:l,filteredOptions:f,isMouseLastUsedInputDevice:w,setIsMouseLastUsedInputDevice:x,isValueNew:P,toggleIsListOpen:k,currentOption:Z,virtualFocus:i,ariaDescribedBy:G};return s.createElement(le.Provider,{value:ue},e)},K=()=>{const e=o.useContext(le);if(!e)throw new Error("useFilteredOptionsContext must be used within a FilteredOptionsProvider");return e},st=()=>{var e;const{inputProps:{id:r},size:a,value:t}=M(),{allowNewValues:n,isLoading:l,isListOpen:d,filteredOptions:h,setFilteredOptionsRef:p,isMouseLastUsedInputDevice:i,setIsMouseLastUsedInputDevice:O,isValueNew:m,toggleIsListOpen:I,activeDecendantId:v,virtualFocus:u}=K(),{isMultiSelect:b,selectedOptions:y,toggleOption:E,maxSelected:c}=$(),C=f=>(c==null?void 0:c.isLimitReached)&&!y.includes(f),R=(c==null?void 0:c.isLimitReached)||l||!l&&h.length===0,N=n&&m&&!(c!=null&&c.isLimitReached)||h.length>0;return s.createElement("div",{className:j("navds-combobox__list",{"navds-combobox__list--closed":!d,"navds-combobox__list--with-hover":i}),id:_.getFilteredOptionsId(r),tabIndex:-1},R&&s.createElement("div",{className:"navds-combobox__list_non-selectables",role:"status"},(c==null?void 0:c.isLimitReached)&&s.createElement("div",{className:"navds-combobox__list-item--max-selected",id:_.getMaxSelectedOptionsId(r)},(e=c.message)!==null&&e!==void 0?e:`${y.length} av ${c.limit} er valgt.`),l&&s.createElement("div",{className:"navds-combobox__list-item--loading",id:_.getIsLoadingId(r)},s.createElement(me,{title:"SÃ¸ker..."})),!l&&h.length===0&&s.createElement("div",{className:"navds-combobox__list-item--no-options",id:_.getNoHitsId(r)},"Ingen sÃ¸ketreff")),N&&s.createElement("ul",{ref:p,role:"listbox",className:"navds-combobox__list-options"},m&&!(c!=null&&c.isLimitReached)&&n&&s.createElement("li",{tabIndex:-1,onMouseMove:()=>{v!==_.getAddNewOptionId(r)&&(u.moveFocusToElement(_.getAddNewOptionId(r)),O(!0))},onPointerUp:f=>{E(t,f),!b&&!y.includes(t)&&I(!1)},id:_.getAddNewOptionId(r),className:j("navds-combobox__list-item navds-combobox__list-item--new-option",{"navds-combobox__list-item--new-option--focus":v===_.getAddNewOptionId(r)}),role:"option","aria-selected":!1},s.createElement(Me,{"aria-hidden":!0}),s.createElement(D,{size:a},"Legg til"," ",s.createElement(H,{as:"span",size:a},"â",t,"â"))),h.map(f=>s.createElement("li",{className:j("navds-combobox__list-item",{"navds-combobox__list-item--focus":v===_.getOptionId(r,f),"navds-combobox__list-item--selected":y.includes(f)}),"data-no-focus":C(f)||void 0,id:_.getOptionId(r,f),key:f,tabIndex:-1,onMouseMove:()=>{v!==_.getOptionId(r,f)&&(u.moveFocusToElement(_.getOptionId(r,f)),O(!0))},onPointerUp:g=>{C(f)||(E(f,g),!b&&!y.includes(f)&&I(!1))},role:"option","aria-selected":y.includes(f),"aria-disabled":C(f)||void 0},s.createElement(D,{size:a},f),y.includes(f)&&s.createElement(Te,null)))))};var lt=function(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const Q=o.forwardRef((e,r)=>{var{inputClassName:a}=e,t=lt(e,["inputClassName"]);const{clearInput:n,inputProps:l,onChange:d,size:h,value:p}=M(),{selectedOptions:i,removeSelectedOption:O,toggleOption:m,isMultiSelect:I}=$(),{activeDecendantId:v,allowNewValues:u,currentOption:b,filteredOptions:y,isValueNew:E,toggleIsListOpen:c,isListOpen:C,ariaDescribedBy:R,setIsMouseLastUsedInputDevice:N,shouldAutocomplete:f,virtualFocus:g}=K(),w=o.useCallback(k=>{const P=G=>i.find(Z=>Z.toLocaleLowerCase()===G.toLocaleLowerCase());if(b)k.preventDefault(),m(b,k),!I&&!P(b)&&c(!1);else if(f&&P(p))k.preventDefault(),n(k);else if((u||f)&&p!==""){k.preventDefault();const G=u&&E?p:y[0];m(G,k),!I&&!P(y[0]||G)&&c(!1)}},[u,n,b,y,I,E,i,f,c,m,p]),x=k=>{switch(k.preventDefault(),k.key){case"Escape":n(k),c(!1);break;case"Enter":case"Accept":w(k);break;case"Home":c(!1),g.moveFocusToTop();break;case"End":c(!0),g.moveFocusToBottom();break}},L=o.useCallback(k=>{if(N(!1),k.key==="Backspace"){if(p===""){const P=i[i.length-1];O(P)}}else k.key==="ArrowDown"?k.target.selectionStart===(p==null?void 0:p.length)&&(k.preventDefault(),(g.activeElement===null||!C)&&c(!0),g.moveFocusDown()):k.key==="ArrowUp"&&C&&v&&(k.preventDefault(),g.isFocusOnTheTop()&&c(!1),g.moveFocusUp())},[p,i,O,C,v,N,c,g]),F=o.useCallback(k=>{const P=k.target.value;P&&P!==""?c(!0):y.length===0&&c(!1),g.moveFocusToTop(),d(k)},[y.length,g,d,c]);return s.createElement("input",Object.assign({},t,ve(l,["aria-invalid"]),{ref:r,value:p,onChange:F,type:"text",role:"combobox",onKeyUp:x,onKeyDown:L,"aria-controls":_.getFilteredOptionsId(l.id),"aria-expanded":!!C,autoComplete:"off","aria-autocomplete":f?"both":"list","aria-activedescendant":v,"aria-describedby":R,"aria-invalid":l["aria-invalid"],className:j(a,"navds-combobox__input","navds-body-short",`navds-body-short--${h}`)}))}),ot=({option:e})=>{const{isMultiSelect:r,removeSelectedOption:a}=$(),{focusInput:t}=M(),n=l=>{l.stopPropagation(),a(e),t()};return r?s.createElement(U.Removable,{onClick:n},e):s.createElement("div",{className:"navds-combobox__selected-options--no-bg"},e)},it=({selectedOptions:e=[],size:r,children:a})=>s.createElement(U,{className:"navds-combobox__selected-options",size:r},e.length?e.map((t,n)=>s.createElement(ot,{key:t+n,option:t})):[],a),dt=o.forwardRef(({toggleListButtonLabel:e},r)=>{const{isListOpen:a,toggleIsListOpen:t}=K();return s.createElement("button",{type:"button",onPointerUp:()=>t(),onKeyDown:({key:n})=>n==="Enter"&&t(),className:"navds-combobox__button-toggle-list","aria-expanded":a,tabIndex:-1,ref:r},s.createElement("span",{className:"navds-sr-only"},e??"Alternativer"),a?s.createElement(Fe,{"aria-hidden":!0}):s.createElement(ge,{"aria-hidden":!0}))});var ut=function(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const ct=o.forwardRef((e,r)=>{const{className:a,hideLabel:t=!1,description:n,label:l,clearButton:d=!0,clearButtonLabel:h,toggleListButton:p=!0,toggleListButtonLabel:i,inputClassName:O,shouldShowSelectedOptions:m=!0}=e,I=ut(e,["className","hideLabel","description","label","clearButton","clearButtonLabel","toggleListButton","toggleListButtonLabel","inputClassName","shouldShowSelectedOptions"]),v=o.useRef(null),{activeDecendantId:u,toggleIsListOpen:b}=K(),{selectedOptions:y}=$(),{clearInput:E,error:c,errorId:C,focusInput:R,hasError:N,inputDescriptionId:f,inputProps:g,inputRef:w,value:x,showErrorMsg:L,size:F="medium"}=M(),k=be(w,r);return s.createElement(He,{className:a,hasError:N,inputProps:g,inputSize:F,toggleIsListOpen:b,toggleListButtonRef:v},s.createElement(H,{htmlFor:g.id,size:F,className:j("navds-form-field__label",{"navds-sr-only":t})},l),!!n&&s.createElement(D,{as:"div",className:j("navds-form-field__description",{"navds-sr-only":t}),id:f,size:F},n),s.createElement("div",{className:"navds-combobox__wrapper"},s.createElement("div",{className:j("navds-combobox__wrapper-inner navds-text-field__input",{"navds-combobox__wrapper-inner--virtually-unfocused":u!==void 0}),onClick:R},m?s.createElement(it,{selectedOptions:y,size:F},s.createElement(Q,Object.assign({id:g.id,ref:k,inputClassName:O},I))):s.createElement(Q,Object.assign({id:g.id,ref:k,inputClassName:O},I)),s.createElement("div",null,x&&d&&s.createElement(ze,{handleClear:E,clearButtonLabel:h,tabIndex:-1}),p&&s.createElement(dt,{toggleListButtonLabel:i,ref:v}))),s.createElement(st,null)),s.createElement("div",{className:"navds-form-field__error",id:C,"aria-relevant":"additions removals","aria-live":"polite"},L&&s.createElement(fe,{size:F},c)))});var pt=function(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const mt=o.forwardRef((e,r)=>{const{allowNewValues:a=!1,children:t,defaultValue:n,error:l,errorId:d,filteredOptions:h,id:p,isListOpen:i,isLoading:O=!1,isMultiSelect:m,onToggleSelected:I,selectedOptions:v,maxSelected:u,options:b,value:y,onChange:E,onClear:c,shouldAutocomplete:C,size:R}=e,N=pt(e,["allowNewValues","children","defaultValue","error","errorId","filteredOptions","id","isListOpen","isLoading","isMultiSelect","onToggleSelected","selectedOptions","maxSelected","options","value","onChange","onClear","shouldAutocomplete","size"]);return s.createElement(Ue,{value:{defaultValue:n,error:l,errorId:d,id:p,value:y,onChange:E,onClear:c,shouldAutocomplete:C,size:R}},s.createElement(Ke,{value:{isMultiSelect:m}},s.createElement(Ze,{value:{allowNewValues:a,isMultiSelect:m,selectedOptions:v,maxSelected:u,onToggleSelected:I,options:b}},s.createElement(at,{value:{allowNewValues:a,filteredOptions:h,isListOpen:i,isLoading:O,options:b}},s.createElement(ct,Object.assign({ref:r},N),t)))))}),vt=mt,gt="_navn_broku_1",bt="_saksbehandlerCombo_broku_5",ft="_removeIcon_broku_9",W={navn:gt,saksbehandlerCombo:bt,removeIcon:ft},yt=Ce(3),ht=xe(100),Ot=e=>[...e].sort((r,a)=>r.navn.localeCompare(a.navn)),It=(e,r)=>e.filter(a=>!r.some(t=>t.brukerIdent===a.brukerIdent)).sort((a,t)=>a.navn.localeCompare(t.navn)),oe=({saksbehandlerGruppe:e,avdelingensSaksbehandlere:r,lagreValgtSaksbehandlar:a,endreGruppenavn:t})=>{const n=ye(),l=he({defaultValues:{navn:e.gruppeNavn}}),d=Ot(e.saksbehandlere),h=It(r,d),p=Se("navn",i=>t(e.gruppeId,i),l.trigger);return s.createElement(Oe,{formMethods:l},s.createElement(V,{gap:"5"},s.createElement(Ie,{name:"navn",label:n.formatMessage({id:"GruppeSaksbehandlere.Navn"}),validate:[Ee,yt,ht,_e],onBlur:p,className:W.navn}),s.createElement(V,{gap:"4"},s.createElement(vt,{label:n.formatMessage({id:"GruppeSaksbehandlere.VelgSaksbehandlere"}),size:"small",options:h.map(i=>`${i.navn} (${i.brukerIdent})`),onToggleSelected:i=>{const O=i.replace(")","").split(" (");d.some(m=>m.brukerIdent===O[1])||a(O[1],e.gruppeId,!0)},shouldAutocomplete:!0,className:W.saksbehandlerCombo}),s.createElement(V,{gap:"2"},s.createElement(H,{size:"small"},s.createElement(A,{id:"GruppeSaksbehandlere.ValgteSaksbehandlere"})),d.length===0&&s.createElement(D,{size:"small"},s.createElement(A,{id:"GruppeSaksbehandlere.Ingen"})),d.map(i=>s.createElement(we,{gap:"2",align:"center",key:i.brukerIdent},s.createElement("div",null,`${i.navn} (${i.brukerIdent})`),s.createElement("div",null,s.createElement(z,{className:W.removeIcon,onMouseDown:()=>a(i.brukerIdent,e.gruppeId,!1),onKeyDown:()=>a(i.brukerIdent,e.gruppeId,!1)}))))))))};oe.__docgenInfo={description:"",methods:[],displayName:"GruppeSaksbehandlere",props:{saksbehandlerGruppe:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: GruppeSaksbehandler[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"avdelingsnavn",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}>`}],raw:"GruppeSaksbehandler[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: GruppeSaksbehandler[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"avdelingsnavn",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}>`}],raw:"SaksbehandlerAvdeling[]"},description:""},lagreValgtSaksbehandlar:{required:!0,tsType:{name:"signature",type:"function",raw:"(brukerIdent: string, gruppeId: number, leggTil: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"brukerIdent"},{type:{name:"number"},name:"gruppeId"},{type:{name:"boolean"},name:"leggTil"}],return:{name:"void"}}},description:""},endreGruppenavn:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number, gruppeNavn: string) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"},{type:{name:"string"},name:"gruppeNavn"}],return:{name:"void"}}},description:""}}};const wt="_removeIcon_1k4e9_1",kt={removeIcon:wt},ie=({grupper:e,avdelingensSaksbehandlere:r,lagreValgtSaksbehandlar:a,endreGruppenavn:t,slettGruppe:n})=>{var l;return s.createElement(s.Fragment,null,s.createElement(H,{size:"small"},s.createElement(A,{id:"GrupperTabell.Grupper"})),e.saksbehandlerGrupper.length>0&&s.createElement(T,null,s.createElement(T.Header,null,s.createElement(T.Row,null,s.createElement(T.HeaderCell,null),s.createElement(T.HeaderCell,{scope:"col"},s.createElement(A,{id:"GrupperTabell.Id"})),s.createElement(T.HeaderCell,{scope:"col"},s.createElement(A,{id:"GrupperTabell.Navn"})),s.createElement(T.HeaderCell,{scope:"col"},s.createElement(A,{id:"GrupperTabell.AntallSaksbehandlere"})),s.createElement(T.HeaderCell,null))),s.createElement(T.Body,null,(l=e.saksbehandlerGrupper)==null?void 0:l.map(d=>s.createElement(T.ExpandableRow,{key:d.gruppeId,content:s.createElement(oe,{saksbehandlerGruppe:d,avdelingensSaksbehandlere:r,lagreValgtSaksbehandlar:a,endreGruppenavn:t})},s.createElement(T.DataCell,{scope:"row"},d.gruppeId),s.createElement(T.DataCell,null,d.gruppeNavn||"-"),s.createElement(T.DataCell,null,d.saksbehandlere.length),s.createElement(T.DataCell,null,s.createElement(z,{className:kt.removeIcon,onMouseDown:()=>n(d.gruppeId),onKeyDown:()=>n(d.gruppeId)})))))),e.saksbehandlerGrupper.length===0&&s.createElement(D,null,s.createElement(A,{id:"GrupperTabell.IngenGrupper"})))};ie.__docgenInfo={description:"",methods:[],displayName:"GrupperTabell",props:{grupper:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}`,signature:{properties:[{key:"saksbehandlerGrupper",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: GruppeSaksbehandler[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"avdelingsnavn",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}>`}],raw:"GruppeSaksbehandler[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: GruppeSaksbehandler[];
}>`}],raw:"SaksbehandlerGruppe[]",required:!0}}]}}],raw:`Readonly<{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"avdelingsnavn",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}>`}],raw:"SaksbehandlerAvdeling[]"},description:""},lagreValgtSaksbehandlar:{required:!0,tsType:{name:"signature",type:"function",raw:"(brukerIdent: string, gruppeId: number, leggTil: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"brukerIdent"},{type:{name:"number"},name:"gruppeId"},{type:{name:"boolean"},name:"leggTil"}],return:{name:"void"}}},description:""},endreGruppenavn:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number, gruppeNavn: string) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"},{type:{name:"string"},name:"gruppeNavn"}],return:{name:"void"}}},description:""},slettGruppe:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"}],return:{name:"void"}}},description:""}}};const de=({grupper:e,avdelingensSaksbehandlere:r,opprettOgHentAlleGrupper:a,opprettNyGruppeState:t,lagreValgtSaksbehandlar:n,endreGruppenavn:l,slettGruppe:d})=>s.createElement(V,{gap:"5",align:"start"},s.createElement(ie,{grupper:e,avdelingensSaksbehandlere:r,lagreValgtSaksbehandlar:n,endreGruppenavn:l,slettGruppe:d}),s.createElement(ke,{size:"small",variant:"secondary",loading:t===J.LOADING,disabled:t===J.LOADING,tabIndex:0,onClick:a},s.createElement(A,{id:"GrupperPanel.OpprettGruppe"}))),Tt=de;de.__docgenInfo={description:"",methods:[],displayName:"GrupperPanel",props:{grupper:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}`,signature:{properties:[{key:"saksbehandlerGrupper",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: GruppeSaksbehandler[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"avdelingsnavn",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}>`}],raw:"GruppeSaksbehandler[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: GruppeSaksbehandler[];
}>`}],raw:"SaksbehandlerGruppe[]",required:!0}}]}}],raw:`Readonly<{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"avdelingsnavn",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}>`}],raw:"SaksbehandlerAvdeling[]"},description:""},opprettOgHentAlleGrupper:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},opprettNyGruppeState:{required:!1,tsType:{name:"RestApiState"},description:""},lagreValgtSaksbehandlar:{required:!0,tsType:{name:"signature",type:"function",raw:"(brukerIdent: string, gruppeId: number, leggTil: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"brukerIdent"},{type:{name:"number"},name:"gruppeId"},{type:{name:"boolean"},name:"leggTil"}],return:{name:"void"}}},description:""},endreGruppenavn:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number, gruppeNavn: string) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"},{type:{name:"string"},name:"gruppeNavn"}],return:{name:"void"}}},description:""},slettGruppe:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"}],return:{name:"void"}}},description:""}}};export{Tt as G};
