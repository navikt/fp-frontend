import{j as e}from"./jsx-runtime-69eee039.js";import{r as d}from"./index-7c191284.js";import{E as C,o as P,A as k,L as R,a as i,b as y,J as b,e as w,k as D,W as t,V as F,Z as _}from"./nb_NO-7b970f8e.js";import{I}from"./index.es-657e045f.js";import{r as K}from"./remove-2f21eb3e.js";import{b as B,R as M}from"./fplosRestApi-06437043.js";import{u as T}from"./useLosKodeverk-c784a1f9.js";import{S as z}from"./SletteSakslisteModal-c9ad5ad7.js";import{H}from"./Heading-7322b494.js";import{D as Y}from"./Detail-3efdbce7.js";const Z=""+new URL("add-circle-81876a80.svg",import.meta.url).href,J="_isSelected_dlq2y_1",O="_addCircleIcon_dlq2y_5",U="_imageText_dlq2y_6",W="_grayBox_dlq2y_12",$="_margin_dlq2y_17",Q="_addPeriode_dlq2y_21",X="_removeImage_dlq2y_26",r={isSelected:J,addCircleIcon:O,imageText:U,grayBox:W,margin:$,addPeriode:Q,removeImage:X},ee=["GjeldendeSakslisterTabell.Listenavn","GjeldendeSakslisterTabell.Stonadstype","GjeldendeSakslisterTabell.Behandlingtype","GjeldendeSakslisterTabell.AntallSaksbehandlere","GjeldendeSakslisterTabell.AntallBehandlinger","GjeldendeSakslisterTabell.SistEndret","EMPTY_1"],se=(l,n)=>!n||n.length===0?e.jsx(i,{id:"GjeldendeSakslisterTabell.Alle"}):n.map(o=>{const a=l.find(c=>c.kode===o);return a?a.navn:""}).join(", "),ne=(l,n)=>!n||n.length===0||n.length===l.length?e.jsx(i,{id:"GjeldendeSakslisterTabell.Alle"}):n.map(o=>{const a=l.find(c=>c.kode===o);return a?a.navn:""}).join(", "),le=l=>new Promise(n=>{setTimeout(n,l)}),v=({sakslister:l,valgtAvdelingEnhet:n,setValgtSakslisteId:o,valgtSakslisteId:a,oppgaverForAvdelingAntall:c,lagNySaksliste:j,resetValgtSakslisteId:G,hentAvdelingensSakslister:q})=>{const[p,S]=d.useState(),m=d.useRef([]),A=T(I.BEHANDLING_TYPE),E=T(I.FAGSAK_YTELSE),{startRequest:V}=B.useRestApiRunner(M.SLETT_SAKSLISTE);d.useEffect(()=>{m.current=m.current.slice(0,l.length)},[l]);const x=async(s,u)=>{m.current.some(g=>g&&g.contains(s.target))||(await le(100),u&&o(u))},L=d.useCallback(s=>{s.keyCode===13&&j(n)},[n]),h=s=>{S(s)},f=d.useCallback(()=>{S(void 0)},[]),N=d.useCallback(s=>{f(),V({sakslisteId:s.sakslisteId,avdelingEnhet:n}).then(()=>{G(),q({avdelingEnhet:n})})},[n]);return e.jsxs(e.Fragment,{children:[e.jsx(C,{children:e.jsxs(P,{children:[e.jsx(k,{children:e.jsx(R,{size:"small",children:e.jsx(i,{id:"GjeldendeSakslisterTabell.GjeldendeLister"})})}),e.jsx(k,{className:r.margin,children:e.jsxs("div",{className:r.grayBox,children:[e.jsx(y,{size:"small",children:e.jsx(i,{id:"GjeldendeSakslisterTabell.OppgaverForAvdeling"})}),e.jsx(H,{size:"small",children:c||"0"})]})})]})}),l.length===0&&e.jsxs(e.Fragment,{children:[e.jsx(b,{eightPx:!0}),e.jsx(y,{size:"small",children:e.jsx(i,{id:"GjeldendeSakslisterTabell.IngenLister"})}),e.jsx(b,{eightPx:!0})]}),l.length>0&&e.jsx(w,{headerTextCodes:ee,children:l.map((s,u)=>e.jsxs(D,{className:s.sakslisteId===a?r.isSelected:void 0,id:s.sakslisteId,onMouseDown:x,onKeyDown:x,children:[e.jsx(t,{children:s.navn}),e.jsx(t,{children:se(E,s.fagsakYtelseTyper)}),e.jsx(t,{children:ne(A,s.behandlingTyper)}),e.jsx(t,{children:s.saksbehandlerIdenter.length>0?s.saksbehandlerIdenter.length:""}),e.jsx(t,{children:s.antallBehandlinger}),e.jsx(t,{children:e.jsx(F,{dateString:s.sistEndret})}),e.jsx(t,{children:e.jsx("div",{ref:g=>{m.current[u]=g},children:e.jsx(_,{src:K,className:r.removeImage,onMouseDown:()=>h(s),onKeyDown:()=>h(s)})})})]},s.sakslisteId))}),e.jsxs("div",{id:"leggTilListe",role:"button",tabIndex:0,className:r.addPeriode,onClick:()=>j(n),onKeyDown:L,children:[e.jsx(_,{className:r.addCircleIcon,src:Z}),e.jsx(Y,{size:"small",className:r.imageText,children:e.jsx(i,{id:"GjeldendeSakslisterTabell.LeggTilListe"})})]}),p&&e.jsx(z,{valgtSaksliste:p,cancel:f,submit:N})]})};try{v.displayName="GjeldendeSakslisterTabell",v.__docgenInfo={description:"GjeldendeSakslisterTabell",displayName:"GjeldendeSakslisterTabell",props:{sakslister:{defaultValue:null,description:"",name:"sakslister",required:!0,type:{name:"Readonly<{ sakslisteId: number; navn?: string | undefined; behandlingTyper?: string[] | undefined; fagsakYtelseTyper?: string[] | undefined; sistEndret: string; sortering?: { sorteringType: string; ... 4 more ...; erDynamiskPeriode: boolean; } | undefined; andreKriterier?: Readonly<...>[] | undefined; saksbehandlerI..."}},setValgtSakslisteId:{defaultValue:null,description:"",name:"setValgtSakslisteId",required:!0,type:{name:"(sakslisteId: number) => void"}},valgtSakslisteId:{defaultValue:null,description:"",name:"valgtSakslisteId",required:!1,type:{name:"number"}},valgtAvdelingEnhet:{defaultValue:null,description:"",name:"valgtAvdelingEnhet",required:!0,type:{name:"string"}},oppgaverForAvdelingAntall:{defaultValue:null,description:"",name:"oppgaverForAvdelingAntall",required:!1,type:{name:"number"}},lagNySaksliste:{defaultValue:null,description:"",name:"lagNySaksliste",required:!0,type:{name:"(avdelingEnhet: string) => void"}},resetValgtSakslisteId:{defaultValue:null,description:"",name:"resetValgtSakslisteId",required:!0,type:{name:"() => void"}},hentAvdelingensSakslister:{defaultValue:null,description:"",name:"hentAvdelingensSakslister",required:!0,type:{name:"(params: { avdelingEnhet: string; }) => void"}}}}}catch{}export{v as G};
//# sourceMappingURL=GjeldendeSakslisterTabell-736ffccb.js.map
