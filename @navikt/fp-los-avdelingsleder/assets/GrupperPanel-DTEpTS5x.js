import{r as d,R as s}from"./index-BBkUAzwr.js";import{R as ae}from"./useRestApiRunner-Bj3tzHZ6.js";import{q as te,c as F,E as ve,p as K,F as W,G as ge,I as le,J as be,i as $,L as X,K as fe,y as ye,P as Oe,Q as he,e as Ie,u as ke,O as we,V as U,C as Ee,M as G,H as _e,B as Ce}from"./nb_NO-Dpo8zdWW.js";import{r as Se,G as xe,k as Ne,I as Te}from"./index.es-4UZ3d1zR.js";import{u as Re}from"./useDebounce-Cgfg4MPI.js";import{T as L}from"./Table-Bw9lLzTB.js";var Le=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const je=d.forwardRef((e,a)=>{var{title:r,titleId:t}=e,n=Le(e,["title","titleId"]);let l=te();return l=r?t||"title-"+l:void 0,d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":l},n),r?d.createElement("title",{id:l},r):null,d.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.998 6.94a.75.75 0 0 1 .063 1.058l-8 9a.75.75 0 0 1-1.091.032l-5-5a.75.75 0 1 1 1.06-1.06l4.438 4.437 7.471-8.405A.75.75 0 0 1 19 6.939",clipRule:"evenodd"}))});var Fe=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const Me=d.forwardRef((e,a)=>{var{title:r,titleId:t}=e,n=Fe(e,["title","titleId"]);let l=te();return l=r?t||"title-"+l:void 0,d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":l},n),r?d.createElement("title",{id:l},r):null,d.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.47 7.97a.75.75 0 0 1 1.06 0l5.5 5.5a.75.75 0 1 1-1.06 1.06L12 9.56l-4.97 4.97a.75.75 0 0 1-1.06-1.06z",clipRule:"evenodd"}))});var Pe=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const Ae=d.forwardRef((e,a)=>{var{title:r,titleId:t}=e,n=Pe(e,["title","titleId"]);let l=te();return l=r?t||"title-"+l:void 0,d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":l},n),r?d.createElement("title",{id:l},r):null,d.createElement("path",{fill:"currentColor",d:"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75z"}))}),oe=e=>{const a=d.useRef(e);return d.useEffect(()=>{a.current=e},[e]),a.current};var Ge=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const qe=d.forwardRef((e,a)=>{var{className:r,children:t,variant:n="action",removeLabel:l="slett",onDelete:u,type:y="button",onClick:c}=e,o=Ge(e,["className","children","variant","removeLabel","onDelete","type","onClick"]);return s.createElement("button",Object.assign({},o,{ref:a,type:y,className:F("navds-chips__chip navds-chips__removable navds-chips--icon-right",r,`navds-chips__removable--${n}`),"aria-label":`${t} ${l}`,onClick:ve(c,u)}),s.createElement("span",{className:"navds-chips__chip-text"},t),s.createElement("span",{className:"navds-chips__removable-icon"},s.createElement(K,{"aria-hidden":!0})))});var De=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const Be=d.forwardRef((e,a)=>{var{className:r,children:t,selected:n,variant:l="action",checkmark:u=!0,as:y="button"}=e,c=De(e,["className","children","selected","variant","checkmark","as"]);return s.createElement(y,Object.assign({},c,{ref:a,className:F("navds-chips__chip navds-chips__toggle",r,`navds-chips__toggle--${l}`,{"navds-chips__toggle--with-checkmark":u}),"aria-pressed":n}),u&&s.createElement("svg",{"aria-hidden":!0,className:"navds-chips__toggle-icon",width:"1.25em",height:"1.25em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img"},n?s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 18.125C14.4873 18.125 18.125 14.4873 18.125 10C18.125 5.51269 14.4873 1.875 10 1.875C5.51269 1.875 1.875 5.51269 1.875 10C1.875 14.4873 5.51269 18.125 10 18.125ZM14.128 7.72904C14.3695 7.44357 14.3339 7.01635 14.0485 6.7748C13.763 6.53326 13.3358 6.56886 13.0942 6.85432L8.60428 12.1606L6.41627 9.97263C6.15185 9.70822 5.72315 9.70822 5.45873 9.97263C5.19431 10.2371 5.19431 10.6658 5.45873 10.9302L8.16706 13.6385C8.30095 13.7724 8.48479 13.8441 8.67397 13.8362C8.86316 13.8284 9.0404 13.7416 9.16271 13.5971L14.128 7.72904Z",fill:"currentColor"}):s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3.125C6.20304 3.125 3.125 6.20304 3.125 10C3.125 13.797 6.20304 16.875 10 16.875C13.797 16.875 16.875 13.797 16.875 10C16.875 6.20304 13.797 3.125 10 3.125ZM1.875 10C1.875 5.51269 5.51269 1.875 10 1.875C14.4873 1.875 18.125 5.51269 18.125 10C18.125 14.4873 14.4873 18.125 10 18.125C5.51269 18.125 1.875 14.4873 1.875 10Z",fill:"var(--ac-chip-toggle-circle-border, var(--a-border-default))"})),s.createElement("span",{className:"navds-chips__chip-text"},t))});var $e=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const Z=d.forwardRef((e,a)=>{var{className:r,size:t="medium",children:n}=e,l=$e(e,["className","size","children"]);return s.createElement("ul",Object.assign({},l,{ref:a,className:F("navds-chips",r,`navds-chips--${t}`,{"navds-body-short navds-body-short--small":t==="medium","navds-detail navds-detail--small":t==="small"})}),s.Children.map(n,(u,y)=>s.createElement("li",{key:(u==null?void 0:u.toString())||y},u)))});Z.Toggle=Be;Z.Removable=qe;const[Ve,A]=W({name:"InputContext",errorMessage:"useInputContext must be used within an InputContextProvider"}),ze=({children:e,value:a})=>{const{defaultValue:r="",description:t,disabled:n,error:l,errorId:u,id:y,value:c,onChange:o,onClear:O,shouldAutocomplete:m,size:I}=a,v=ge({description:t,disabled:n,error:l,errorId:u,id:y,size:I},"comboboxfield"),i=d.useRef(null),g=d.useRef(null),[f,w]=d.useState(r),p=d.useMemo(()=>String(c??f),[c,f]),[S,N]=d.useState(p),x=d.useCallback(E=>{const R=E.currentTarget.value;c??w(R),o==null||o(E),N(R)},[c,o]),b=d.useCallback(E=>{w(E)},[w]),h=d.useCallback(E=>{O==null||O(E),o==null||o(null,""),b(""),N("")},[o,O,b]),T=d.useCallback(()=>{var E,R;(R=(E=i.current)===null||E===void 0?void 0:E.focus)===null||R===void 0||R.call(E)},[]);le(()=>{var E,R;m&&i&&p!==S&&((R=(E=i.current)===null||E===void 0?void 0:E.setSelectionRange)===null||R===void 0||R.call(E,S.length,p.length))},[p,S,m]);const j=Object.assign(Object.assign({},v),{clearInput:h,error:l,focusInput:T,inputRef:i,value:p,setValue:b,onChange:x,searchTerm:S,setSearchTerm:N,shouldAutocomplete:m,toggleOpenButtonRef:g});return s.createElement(Ve,Object.assign({},j),e)},He=({children:e,className:a,hasError:r,inputProps:t,inputSize:n,toggleIsListOpen:l})=>{const{toggleOpenButtonRef:u}=A(),y=d.useRef(null),[c,o]=d.useState(!1);function O(I){var v;!(!((v=y.current)===null||v===void 0)&&v.contains(I.relatedTarget))&&(u==null?void 0:u.current)!==I.target&&(l(!0),o(!0))}function m(I){var v;!((v=y.current)===null||v===void 0)&&v.contains(I.relatedTarget)||(l(!1),o(!1))}return s.createElement("div",{ref:y,className:F(a,"navds-form-field",`navds-form-field--${n}`,{"navds-combobox--error":r,"navds-combobox--disabled":!!t.disabled,"navds-combobox--focused":c}),onFocus:O,onBlur:m},e)},P=(e,a)=>typeof e=="string"?a.some(r=>r.label===e||r.value===e):a.some(r=>r.label===e.label&&r.value===e.value),ne=e=>({label:e,value:e}),Q=e=>e==null?void 0:e.map(a=>typeof a=="string"?ne(a):a),[Ue,ie]=W({name:"ComboboxCustomOptions",errorMessage:"useComboboxCustomOptions must be used within a ComboboxCustomOptionsProvider"}),Ke=({children:e,value:a})=>{const[r,t]=d.useState([]),{focusInput:n}=A(),{isMultiSelect:l}=a,u=d.useCallback(o=>{t(O=>O.filter(m=>m.label!==o.label)),n()},[n,t]),y=d.useCallback(o=>{t(l?O=>[...O,o]:[o]),n()},[n,l,t]),c={customOptions:r,removeCustomOption:u,addCustomOption:y,setCustomOptions:t};return s.createElement(Ue,Object.assign({},c),e)},[We,V]=W(),Xe=({children:e,value:a})=>{const{clearInput:r,focusInput:t}=A(),{customOptions:n,removeCustomOption:l,addCustomOption:u,setCustomOptions:y}=ie(),{allowNewValues:c,isMultiSelect:o,selectedOptions:O,onToggleSelected:m,options:I,maxSelected:v}=a,[i,g]=d.useState([]),f=d.useMemo(()=>O??[...n,...i],[n,O,i]),w=d.useCallback(h=>{const T=!P(h,I);T?(c&&u(h),!o&&g([])):o?g(j=>[...j,h]):(g([h]),y([])),m==null||m(h.value,!0,T)},[u,c,o,m,I,y]),p=d.useCallback(h=>{const T=P(h,n);T?l(h):g(j=>j.filter(E=>E!==h)),m==null||m(h.value,!1,T)},[n,m,l]),S=d.useCallback((h,T)=>{P(h.value,f)?p(h):w(h),r(T),t()},[w,r,t,p,f]),N=oe(f),x=!!(v!=null&&v.limit)&&f.length>=v.limit,b={addSelectedOption:w,isMultiSelect:o,removeSelectedOption:p,prevSelectedOptions:N,selectedOptions:f,setSelectedOptions:g,toggleOption:S,maxSelected:v&&Object.assign(Object.assign({},v),{isLimitReached:x})};return s.createElement(We,Object.assign({},b),e)},ee=e=>typeof e=="string"?e.toLocaleLowerCase().trim():"",de=(e,a)=>ee(a).startsWith(ee(e??"")),Ze=(e,a)=>a.filter(r=>de(e,r.label)),Je=e=>`${e}-filtered-options`,Qe=(e,a)=>`${e.toLocaleLowerCase()}-option-${a.replace(" ","-").toLocaleLowerCase()}`,Ye=e=>`${e}-combobox-new-option`,et=e=>`${e}-is-loading`,tt=e=>`${e}-no-hits`,nt=e=>`${e}-max-selected-options`,_={normalizeText:ee,isPartOfText:de,getMatchingValuesFromList:Ze,getFilteredOptionsId:Je,getAddNewOptionId:Ye,getOptionId:Qe,getIsLoadingId:et,getNoHitsId:tt,getMaxSelectedOptionsId:nt},rt=e=>{const[a,r]=d.useState(void 0),t=()=>{var i;return Array.from((i=e==null?void 0:e.children)!==null&&i!==void 0?i:[])},n=()=>t().filter(i=>i.getAttribute("data-no-focus")!=="true"),l=i=>t().find(g=>g.id===i),u=()=>a?n().indexOf(a)===0:!1,y=()=>{const i=n();return a?i.indexOf(a)===i.length-1:!1},c=i=>{var g;r(i),(g=i==null?void 0:i.scrollIntoView)===null||g===void 0||g.call(i,{block:"nearest"})};return{activeElement:a,getElementById:l,isFocusOnTheTop:u,isFocusOnTheBottom:y,moveFocusUp:()=>{if(!a)return;const i=n(),g=i.indexOf(a),f=i[g-1];g===0?r(void 0):c(f)},moveFocusDown:()=>{const i=n();if(!a){c(i[0]);return}const g=i.indexOf(a);g!==i.length-1&&c(i[g+1])},moveFocusToElement:i=>{const g=n().find(f=>f.getAttribute("id")===i);g&&r(g)},moveFocusToTop:()=>c(void 0),moveFocusToBottom:()=>{const i=n();return c(i[i.length-1])}}},[at,z]=W({name:"FilteredOptionsContext",errorMessage:"useFilteredOptionsContext must be used within a FilteredOptionsProvider"}),st=({children:e,value:a})=>{const{allowNewValues:r,filteredOptions:t,isListOpen:n,isLoading:l,options:u}=a,[y,c]=d.useState(null),o=rt(y),{inputProps:{"aria-describedby":O,id:m},value:I,searchTerm:v,setValue:i,setSearchTerm:g,shouldAutocomplete:f}=A(),{maxSelected:w}=V(),[p,S]=d.useState(!1),{customOptions:N}=ie(),x=d.useMemo(()=>{if(t)return t;const C=[...N,...u];return _.getMatchingValuesFromList(v,C)},[N,t,u,v]),b=oe(v),[h,T]=d.useState(!1),j=d.useMemo(()=>{const C=Object.assign({[_.getAddNewOptionId(m)]:r?ne(I):void 0},N.reduce((D,B)=>{const J=_.getOptionId(m,B.label);return D[J]=B,D},{}));return u.reduce((D,B)=>{const J=_.getOptionId(m,B.label);return D[J]=B,D},C)},[r,N,m,u,I]);le(()=>{f&&_.normalizeText(v)!==""&&((b==null?void 0:b.length)||0)<v.length&&x.length>0&&(i(`${v}${x[0].label.substring(v.length)}`),g(v))},[x,b,v,g,i,f]);const E=d.useMemo(()=>n??p,[n,p]),R=d.useCallback(C=>{o.moveFocusToTop(),S(H=>C??!H)},[o]),k=d.useMemo(()=>!!I&&!j[_.getOptionId(m,I)],[j,m,I]),M=d.useMemo(()=>{let C="";!l&&x.length===0&&!r?C=_.getNoHitsId(m):(I||l)&&(f&&x[0]?C=_.getOptionId(m,x[0].label):E&&l&&(C=_.getIsLoadingId(m)));const H=(w==null?void 0:w.isLimitReached)&&_.getMaxSelectedOptionsId(m);return F(C,H,O)||void 0},[E,l,w==null?void 0:w.isLimitReached,I,O,f,x,m,r]),q=d.useMemo(()=>{var C;return j[((C=o.activeElement)===null||C===void 0?void 0:C.getAttribute("id"))||-1]},[j,o]),me={activeDecendantId:d.useMemo(()=>{var C;return((C=o.activeElement)===null||C===void 0?void 0:C.getAttribute("id"))||void 0},[o.activeElement]),allowNewValues:r,setFilteredOptionsRef:c,shouldAutocomplete:f,isListOpen:E,isLoading:l,filteredOptions:x,isMouseLastUsedInputDevice:h,setIsMouseLastUsedInputDevice:T,isValueNew:k,toggleIsListOpen:R,currentOption:q,virtualFocus:o,ariaDescribedBy:M};return s.createElement(at,Object.assign({},me),e)},lt=()=>{var e;const{inputProps:{id:a},size:r,value:t}=A(),{allowNewValues:n,isLoading:l,isListOpen:u,filteredOptions:y,setFilteredOptionsRef:c,isMouseLastUsedInputDevice:o,setIsMouseLastUsedInputDevice:O,isValueNew:m,toggleIsListOpen:I,activeDecendantId:v,virtualFocus:i}=z(),{isMultiSelect:g,selectedOptions:f,toggleOption:w,maxSelected:p}=V(),S=b=>(p==null?void 0:p.isLimitReached)&&!P(b.value,f),N=(p==null?void 0:p.isLimitReached)||l||!l&&y.length===0&&!n,x=n&&m&&!(p!=null&&p.isLimitReached)||y.length>0;return s.createElement("div",{className:F("navds-combobox__list",{"navds-combobox__list--closed":!u,"navds-combobox__list--with-hover":o}),id:_.getFilteredOptionsId(a),tabIndex:-1},N&&s.createElement("div",{className:"navds-combobox__list_non-selectables",role:"status"},(p==null?void 0:p.isLimitReached)&&s.createElement("div",{className:"navds-combobox__list-item--max-selected",id:_.getMaxSelectedOptionsId(a)},(e=p.message)!==null&&e!==void 0?e:`${f.length} av ${p.limit} er valgt.`),l&&s.createElement("div",{className:"navds-combobox__list-item--loading",id:_.getIsLoadingId(a)},s.createElement(be,{title:"Søker..."})),!l&&y.length===0&&!n&&s.createElement("div",{className:"navds-combobox__list-item--no-options",id:_.getNoHitsId(a)},"Ingen søketreff")),x&&s.createElement("ul",{ref:c,role:"listbox",className:"navds-combobox__list-options"},m&&!(p!=null&&p.isLimitReached)&&n&&s.createElement("li",{tabIndex:-1,onMouseMove:()=>{v!==_.getAddNewOptionId(a)&&(i.moveFocusToElement(_.getAddNewOptionId(a)),O(!0))},onPointerUp:b=>{w(ne(t),b),!g&&!P(t,f)&&I(!1)},id:_.getAddNewOptionId(a),className:F("navds-combobox__list-item navds-combobox__list-item--new-option",{"navds-combobox__list-item--new-option--focus":v===_.getAddNewOptionId(a)}),role:"option","aria-selected":!1},s.createElement(Ae,{"aria-hidden":!0}),s.createElement($,{size:r},"Legg til"," ",s.createElement(X,{as:"span",size:r},"“",t,"”"))),y.map(b=>s.createElement("li",{className:F("navds-combobox__list-item",{"navds-combobox__list-item--focus":v===_.getOptionId(a,b.label),"navds-combobox__list-item--selected":P(b.value,f)}),"data-no-focus":S(b)||void 0,id:_.getOptionId(a,b.label),key:b.label,tabIndex:-1,onMouseMove:()=>{v!==_.getOptionId(a,b.label)&&(i.moveFocusToElement(_.getOptionId(a,b.label)),O(!0))},onPointerUp:h=>{S(b)||(w(b,h),!g&&!P(b.value,f)&&I(!1))},role:"option","aria-selected":P(b.value,f),"aria-disabled":S(b)||void 0},s.createElement($,{size:r},b.label),P(b.value,f)&&s.createElement(je,null)))))},ot=({option:e})=>{const{isMultiSelect:a,removeSelectedOption:r}=V(),{focusInput:t}=A(),n=l=>{l.stopPropagation(),r(e),t()};return a?s.createElement(Z.Removable,{onClick:n},e.label):s.createElement("div",{className:"navds-combobox__selected-options--no-bg"},e.label)},it=({selectedOptions:e=[],size:a,children:r})=>s.createElement(Z,{className:"navds-combobox__selected-options",size:a},e.length?e.map((t,n)=>s.createElement(ot,{key:t.label+n,option:t})):[],r);var dt=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const se=d.forwardRef((e,a)=>{var{inputClassName:r}=e,t=dt(e,["inputClassName"]);const{clearInput:n,inputProps:l,onChange:u,size:y,value:c}=A(),{selectedOptions:o,removeSelectedOption:O,toggleOption:m,isMultiSelect:I}=V(),{activeDecendantId:v,allowNewValues:i,currentOption:g,filteredOptions:f,isValueNew:w,toggleIsListOpen:p,isListOpen:S,ariaDescribedBy:N,setIsMouseLastUsedInputDevice:x,shouldAutocomplete:b,virtualFocus:h}=z(),T=d.useCallback(k=>{const M=q=>o.some(re=>re.label.toLocaleLowerCase()===q.toLocaleLowerCase());if(g)k.preventDefault(),m(g,k),!I&&!M(g.label)&&p(!1);else if(b&&M(c))k.preventDefault(),n(k);else if((i||b)&&c!==""){k.preventDefault();const q=i&&w?{label:c,value:c}:f[0];m(q,k),!I&&!M(f[0].label||q.label)&&p(!1)}},[i,n,g,f,I,w,o,b,p,m,c]),j=k=>{switch(k.preventDefault(),k.key){case"Escape":n(k),p(!1);break;case"Enter":case"Accept":T(k);break;case"Home":p(!1),h.moveFocusToTop();break;case"End":p(!0),h.moveFocusToBottom();break}},E=d.useCallback(k=>{if(x(!1),k.key==="Backspace"){if(c===""){const M=o[o.length-1];M&&O(M)}}else k.key==="Enter"||k.key==="Accept"?(v||c)&&k.preventDefault():k.key==="ArrowDown"?k.target.selectionStart===(c==null?void 0:c.length)&&(k.preventDefault(),(h.activeElement===null||!S)&&p(!0),h.moveFocusDown()):k.key==="ArrowUp"&&S&&v&&(k.preventDefault(),h.isFocusOnTheTop()&&p(!1),h.moveFocusUp())},[c,o,O,S,v,x,p,h]),R=d.useCallback(k=>{const M=k.target.value;M&&M!==""?p(!0):f.length===0&&p(!1),h.moveFocusToTop(),u(k)},[f.length,h,u,p]);return s.createElement("input",Object.assign({},t,fe(l,["aria-invalid"]),{ref:a,value:c,onBlur:()=>h.moveFocusToTop(),onChange:R,type:"text",role:"combobox",onKeyUp:j,onKeyDown:E,"aria-controls":_.getFilteredOptionsId(l.id),"aria-expanded":!!S,autoComplete:"off","aria-autocomplete":b?"both":"list","aria-activedescendant":v,"aria-describedby":N,"aria-invalid":l["aria-invalid"],className:F(r,"navds-combobox__input","navds-body-short",`navds-body-short--${y}`)}))}),ut=d.forwardRef(({toggleListButtonLabel:e},a)=>{const{isListOpen:r,toggleIsListOpen:t}=z();return s.createElement("button",{type:"button",onPointerUp:()=>t(),onKeyDown:({key:n})=>n==="Enter"&&t(),className:"navds-combobox__button-toggle-list","aria-expanded":r,tabIndex:-1,ref:a},s.createElement("span",{className:"navds-sr-only"},e??"Alternativer"),r?s.createElement(Me,{"aria-hidden":!0}):s.createElement(ye,{"aria-hidden":!0}))});var ct=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const pt=d.forwardRef((e,a)=>{const{clearButton:r=!0,clearButtonLabel:t,toggleListButton:n=!0,toggleListButtonLabel:l,inputClassName:u,shouldShowSelectedOptions:y=!0}=e,c=ct(e,["clearButton","clearButtonLabel","toggleListButton","toggleListButtonLabel","inputClassName","shouldShowSelectedOptions"]),{clearInput:o,focusInput:O,inputProps:m,value:I,size:v="medium",inputRef:i,toggleOpenButtonRef:g}=A(),{activeDecendantId:f}=z(),{selectedOptions:w}=V(),p=Oe(i,a);return s.createElement("div",{className:F("navds-combobox__wrapper-inner navds-text-field__input",{"navds-combobox__wrapper-inner--virtually-unfocused":f!==void 0}),onClick:O},y?s.createElement(it,{selectedOptions:w,size:v},s.createElement(se,Object.assign({id:m.id,ref:p,inputClassName:u},c))):s.createElement(se,Object.assign({id:m.id,ref:p,inputClassName:u},c)),s.createElement("div",null,I&&r&&s.createElement("button",{type:"button",onClick:o,className:"navds-combobox__button-clear",tabIndex:-1},s.createElement("span",{className:"navds-sr-only"},t||"Tøm"),s.createElement(K,{"aria-hidden":!0})),n&&s.createElement(ut,{toggleListButtonLabel:l,ref:g})))});var mt=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const vt=d.forwardRef((e,a)=>{const{className:r,hideLabel:t=!1,description:n,label:l}=e,u=mt(e,["className","hideLabel","description","label"]),{toggleIsListOpen:y}=z(),{error:c,errorId:o,hasError:O,inputDescriptionId:m,inputProps:I,showErrorMsg:v,size:i="medium"}=A();return s.createElement(He,{className:r,hasError:O,inputProps:I,inputSize:i,toggleIsListOpen:y},s.createElement(X,{htmlFor:I.id,size:i,className:F("navds-form-field__label",{"navds-sr-only":t})},l),!!n&&s.createElement($,{as:"div",className:F("navds-form-field__description",{"navds-sr-only":t}),id:m,size:i},n),s.createElement("div",{className:"navds-combobox__wrapper"},s.createElement(pt,Object.assign({ref:a},u)),s.createElement(lt,null)),s.createElement("div",{className:"navds-form-field__error",id:o,"aria-relevant":"additions removals","aria-live":"polite"},v&&s.createElement(he,{size:i},c)))});var gt=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const bt=d.forwardRef((e,a)=>{const{allowNewValues:r=!1,children:t,defaultValue:n,error:l,errorId:u,filteredOptions:y,id:c,isListOpen:o,isLoading:O=!1,isMultiSelect:m,onToggleSelected:I,selectedOptions:v,maxSelected:i,options:g,value:f,onChange:w,onClear:p,shouldAutocomplete:S,size:N}=e,x=gt(e,["allowNewValues","children","defaultValue","error","errorId","filteredOptions","id","isListOpen","isLoading","isMultiSelect","onToggleSelected","selectedOptions","maxSelected","options","value","onChange","onClear","shouldAutocomplete","size"]),b=Q(g)||[],h=Q(y),T=Q(v);return s.createElement(ze,{value:{defaultValue:n,error:l,errorId:u,id:c,value:f,onChange:w,onClear:p,shouldAutocomplete:S,size:N}},s.createElement(Ke,{value:{isMultiSelect:m}},s.createElement(Xe,{value:{allowNewValues:r,isMultiSelect:m,selectedOptions:T,maxSelected:i,onToggleSelected:I,options:b}},s.createElement(st,{value:{allowNewValues:r,filteredOptions:h,isListOpen:o,isLoading:O,options:b}},s.createElement(vt,Object.assign({ref:a},x),t)))))}),ft="_navn_broku_1",yt="_saksbehandlerCombo_broku_5",Ot="_removeIcon_broku_9",Y={navn:ft,saksbehandlerCombo:yt,removeIcon:Ot},ht=Ne(3),It=Te(100),kt=e=>[...e].sort((a,r)=>a.navn.localeCompare(r.navn)),wt=(e,a)=>e.filter(r=>!a.some(t=>t.brukerIdent===r.brukerIdent)).sort((r,t)=>r.navn.localeCompare(t.navn)),ue=({saksbehandlerGruppe:e,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:r,endreGruppenavn:t})=>{const n=Ie(),l=ke({defaultValues:{navn:e.gruppeNavn}}),u=kt(e.saksbehandlere),y=wt(a,u),c=Re("navn",o=>t(e.gruppeId,o),l.trigger);return s.createElement(we,{formMethods:l},s.createElement(U,{gap:"5"},s.createElement(Ee,{name:"navn",label:n.formatMessage({id:"GruppeSaksbehandlere.Navn"}),validate:[Se,ht,It,xe],onBlur:c,className:Y.navn}),s.createElement(U,{gap:"4"},s.createElement(bt,{label:n.formatMessage({id:"GruppeSaksbehandlere.VelgSaksbehandlere"}),size:"small",options:y.map(o=>`${o.navn} (${o.brukerIdent})`),onToggleSelected:o=>{const O=o.replace(")","").split(" (");u.some(m=>m.brukerIdent===O[1])||r(O[1],e.gruppeId,!0)},shouldAutocomplete:!0,className:Y.saksbehandlerCombo}),s.createElement(U,{gap:"2"},s.createElement(X,{size:"small"},s.createElement(G,{id:"GruppeSaksbehandlere.ValgteSaksbehandlere"})),u.length===0&&s.createElement($,{size:"small"},s.createElement(G,{id:"GruppeSaksbehandlere.Ingen"})),u.map(o=>s.createElement(_e,{gap:"2",align:"center",key:o.brukerIdent},s.createElement("div",null,`${o.navn} (${o.brukerIdent})`),s.createElement("div",null,s.createElement(K,{className:Y.removeIcon,onMouseDown:()=>r(o.brukerIdent,e.gruppeId,!1),onKeyDown:()=>r(o.brukerIdent,e.gruppeId,!1)}))))))))};ue.__docgenInfo={description:"",methods:[],displayName:"GruppeSaksbehandlere",props:{saksbehandlerGruppe:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: GruppeSaksbehandler[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"avdelingsnavn",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}>`}],raw:"GruppeSaksbehandler[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: GruppeSaksbehandler[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"avdelingsnavn",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}>`}],raw:"SaksbehandlerAvdeling[]"},description:""},lagreValgtSaksbehandlar:{required:!0,tsType:{name:"signature",type:"function",raw:"(brukerIdent: string, gruppeId: number, leggTil: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"brukerIdent"},{type:{name:"number"},name:"gruppeId"},{type:{name:"boolean"},name:"leggTil"}],return:{name:"void"}}},description:""},endreGruppenavn:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number, gruppeNavn: string) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"},{type:{name:"string"},name:"gruppeNavn"}],return:{name:"void"}}},description:""}}};const Et="_removeIcon_1k4e9_1",_t={removeIcon:Et},ce=({grupper:e,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:r,endreGruppenavn:t,slettGruppe:n})=>{var l;return s.createElement(s.Fragment,null,s.createElement(X,{size:"small"},s.createElement(G,{id:"GrupperTabell.Grupper"})),e.saksbehandlerGrupper.length>0&&s.createElement(L,null,s.createElement(L.Header,null,s.createElement(L.Row,null,s.createElement(L.HeaderCell,null),s.createElement(L.HeaderCell,{scope:"col"},s.createElement(G,{id:"GrupperTabell.Id"})),s.createElement(L.HeaderCell,{scope:"col"},s.createElement(G,{id:"GrupperTabell.Navn"})),s.createElement(L.HeaderCell,{scope:"col"},s.createElement(G,{id:"GrupperTabell.AntallSaksbehandlere"})),s.createElement(L.HeaderCell,null))),s.createElement(L.Body,null,(l=e.saksbehandlerGrupper)==null?void 0:l.map(u=>s.createElement(L.ExpandableRow,{key:u.gruppeId,content:s.createElement(ue,{saksbehandlerGruppe:u,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:r,endreGruppenavn:t})},s.createElement(L.DataCell,{scope:"row"},u.gruppeId),s.createElement(L.DataCell,null,u.gruppeNavn||"-"),s.createElement(L.DataCell,null,u.saksbehandlere.length),s.createElement(L.DataCell,null,s.createElement(K,{className:_t.removeIcon,onMouseDown:()=>n(u.gruppeId),onKeyDown:()=>n(u.gruppeId)})))))),e.saksbehandlerGrupper.length===0&&s.createElement($,null,s.createElement(G,{id:"GrupperTabell.IngenGrupper"})))};ce.__docgenInfo={description:"",methods:[],displayName:"GrupperTabell",props:{grupper:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}`,signature:{properties:[{key:"saksbehandlerGrupper",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: GruppeSaksbehandler[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"avdelingsnavn",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}>`}],raw:"GruppeSaksbehandler[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: GruppeSaksbehandler[];
}>`}],raw:"SaksbehandlerGruppe[]",required:!0}}]}}],raw:`Readonly<{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"avdelingsnavn",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}>`}],raw:"SaksbehandlerAvdeling[]"},description:""},lagreValgtSaksbehandlar:{required:!0,tsType:{name:"signature",type:"function",raw:"(brukerIdent: string, gruppeId: number, leggTil: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"brukerIdent"},{type:{name:"number"},name:"gruppeId"},{type:{name:"boolean"},name:"leggTil"}],return:{name:"void"}}},description:""},endreGruppenavn:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number, gruppeNavn: string) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"},{type:{name:"string"},name:"gruppeNavn"}],return:{name:"void"}}},description:""},slettGruppe:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"}],return:{name:"void"}}},description:""}}};const pe=({grupper:e,avdelingensSaksbehandlere:a,opprettOgHentAlleGrupper:r,opprettNyGruppeState:t,lagreValgtSaksbehandlar:n,endreGruppenavn:l,slettGruppe:u})=>s.createElement(U,{gap:"5",align:"start"},s.createElement(ce,{grupper:e,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:n,endreGruppenavn:l,slettGruppe:u}),s.createElement(Ce,{size:"small",variant:"secondary",loading:t===ae.LOADING,disabled:t===ae.LOADING,tabIndex:0,onClick:r},s.createElement(G,{id:"GrupperPanel.OpprettGruppe"}))),Lt=pe;pe.__docgenInfo={description:"",methods:[],displayName:"GrupperPanel",props:{grupper:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}`,signature:{properties:[{key:"saksbehandlerGrupper",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: GruppeSaksbehandler[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"avdelingsnavn",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}>`}],raw:"GruppeSaksbehandler[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: GruppeSaksbehandler[];
}>`}],raw:"SaksbehandlerGruppe[]",required:!0}}]}}],raw:`Readonly<{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"avdelingsnavn",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}>`}],raw:"SaksbehandlerAvdeling[]"},description:""},opprettOgHentAlleGrupper:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},opprettNyGruppeState:{required:!1,tsType:{name:"RestApiState"},description:""},lagreValgtSaksbehandlar:{required:!0,tsType:{name:"signature",type:"function",raw:"(brukerIdent: string, gruppeId: number, leggTil: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"brukerIdent"},{type:{name:"number"},name:"gruppeId"},{type:{name:"boolean"},name:"leggTil"}],return:{name:"void"}}},description:""},endreGruppenavn:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number, gruppeNavn: string) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"},{type:{name:"string"},name:"gruppeNavn"}],return:{name:"void"}}},description:""},slettGruppe:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"}],return:{name:"void"}}},description:""}}};export{Lt as G};
