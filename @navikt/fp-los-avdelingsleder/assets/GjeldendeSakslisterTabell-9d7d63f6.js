import{j as e}from"./jsx-runtime-9c4ae004.js";import{r as i,R as A}from"./index-1b03fe98.js";import{l as V,c as L,o as N,s as C,D as y,L as D,a as c,b as k,G as _,e as M,w as q,W as o,H as B}from"./nb_NO-d1625de4.js";import{I}from"./index.es-657e045f.js";import{b as F,R as K}from"./fplosRestApi-beda4f04.js";import{u as T}from"./useLosKodeverk-3c749e2b.js";import{S as H}from"./SletteSakslisteModal-e1a0513d.js";import{X as z}from"./Provider-dbd6cb80.js";import{H as Y}from"./Heading-603274ab.js";import{D as Z}from"./Detail-ac630136.js";var $=globalThis&&globalThis.__rest||function(n,l){var a={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&l.indexOf(t)<0&&(a[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(n);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(n,t[r])&&(a[t[r]]=n[t[r]]);return a};const X=i.forwardRef((n,l)=>{var{title:a,titleId:t}=n,r=$(n,["title","titleId"]);let d=V();return d=a?t||"title-"+d:void 0,i.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:l,"aria-labelledby":d},r),a?i.createElement("title",{id:d},a):null,i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.75 12a8.25 8.25 0 1 1 16.5 0 8.25 8.25 0 0 1-16.5 0ZM12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm0 4.5a.75.75 0 0 1 .75.75v3.75h3.75a.75.75 0 0 1 0 1.5h-3.75v3.75a.75.75 0 0 1-1.5 0v-3.75H7.5a.75.75 0 0 1 0-1.5h3.75V7.5a.75.75 0 0 1 .75-.75Z",fill:"currentColor"}))}),W=X;var J=globalThis&&globalThis.__rest||function(n,l){var a={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&l.indexOf(t)<0&&(a[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(n);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(n,t[r])&&(a[t[r]]=n[t[r]]);return a};const Q=i.forwardRef((n,l)=>{var{as:a="a",className:t,underline:r=!0,variant:d="action",inlineText:f=!1}=n,j=J(n,["as","className","underline","variant","inlineText"]);return A.createElement(a,Object.assign({},j,{ref:l,className:L("navds-link",t,`navds-link--${d}`,{"navds-link--remove-underline":!r,"navds-link--inline-text":f})}))}),U=Q,ee="_isSelected_1vwpj_1",ne="_addCircleIcon_1vwpj_5",te="_imageText_1vwpj_6",le="_grayBox_1vwpj_12",re="_margin_1vwpj_17",se="_addPeriode_1vwpj_21",ae="_removeImage_1vwpj_26",m={isSelected:ee,addCircleIcon:ne,imageText:te,grayBox:le,margin:re,addPeriode:se,removeImage:ae},ie=["GjeldendeSakslisterTabell.Listenavn","GjeldendeSakslisterTabell.Stonadstype","GjeldendeSakslisterTabell.Behandlingtype","GjeldendeSakslisterTabell.AntallSaksbehandlere","GjeldendeSakslisterTabell.AntallBehandlinger","GjeldendeSakslisterTabell.SistEndret","EMPTY_1"],de=(n,l)=>!l||l.length===0?e.jsx(c,{id:"GjeldendeSakslisterTabell.Alle"}):l.map(a=>{const t=n.find(r=>r.kode===a);return t?t.navn:""}).join(", "),oe=(n,l)=>!l||l.length===0||l.length===n.length?e.jsx(c,{id:"GjeldendeSakslisterTabell.Alle"}):l.map(a=>{const t=n.find(r=>r.kode===a);return t?t.navn:""}).join(", "),ce=n=>new Promise(l=>{setTimeout(l,n)}),w=({sakslister:n,valgtAvdelingEnhet:l,setValgtSakslisteId:a,valgtSakslisteId:t,oppgaverForAvdelingAntall:r,lagNySaksliste:d,resetValgtSakslisteId:f,hentAvdelingensSakslister:j})=>{const[h,x]=i.useState(),u=i.useRef([]),G=T(I.BEHANDLING_TYPE),O=T(I.FAGSAK_YTELSE),{startRequest:E}=F.useRestApiRunner(K.SLETT_SAKSLISTE);i.useEffect(()=>{u.current=u.current.slice(0,n.length)},[n]);const S=async(s,p)=>{u.current.some(g=>g&&g.contains(s.target))||(await ce(100),p&&a(p))},P=i.useCallback(s=>{s.keyCode===13&&d(l)},[l]),b=s=>{x(s)},v=i.useCallback(()=>{x(void 0)},[]),R=i.useCallback(s=>{v(),E({sakslisteId:s.sakslisteId,avdelingEnhet:l}).then(()=>{f(),j({avdelingEnhet:l})})},[l]);return e.jsxs(e.Fragment,{children:[e.jsx(N,{children:e.jsxs(C,{children:[e.jsx(y,{children:e.jsx(D,{size:"small",children:e.jsx(c,{id:"GjeldendeSakslisterTabell.GjeldendeLister"})})}),e.jsx(y,{className:m.margin,children:e.jsxs("div",{className:m.grayBox,children:[e.jsx(k,{size:"small",children:e.jsx(c,{id:"GjeldendeSakslisterTabell.OppgaverForAvdeling"})}),e.jsx(Y,{size:"small",children:r||"0"})]})})]})}),n.length===0&&e.jsxs(e.Fragment,{children:[e.jsx(_,{eightPx:!0}),e.jsx(k,{size:"small",children:e.jsx(c,{id:"GjeldendeSakslisterTabell.IngenLister"})}),e.jsx(_,{eightPx:!0})]}),n.length>0&&e.jsx(M,{headerTextCodes:ie,children:n.map((s,p)=>e.jsxs(q,{className:s.sakslisteId===t?m.isSelected:void 0,id:s.sakslisteId,onMouseDown:S,onKeyDown:S,children:[e.jsx(o,{children:s.navn}),e.jsx(o,{children:de(O,s.fagsakYtelseTyper)}),e.jsx(o,{children:oe(G,s.behandlingTyper)}),e.jsx(o,{children:s.saksbehandlerIdenter.length>0?s.saksbehandlerIdenter.length:""}),e.jsx(o,{children:s.antallBehandlinger}),e.jsx(o,{children:e.jsx(B,{dateString:s.sistEndret})}),e.jsx(o,{children:e.jsx("div",{ref:g=>{u.current[p]=g},children:e.jsx(z,{className:m.removeImage,onMouseDown:()=>b(s),onKeyDown:()=>b(s)})})})]},s.sakslisteId))}),e.jsxs(U,{onClick:()=>d(l),onKeyDown:P,children:[e.jsx(Z,{className:m.imageText,children:e.jsx(c,{id:"GjeldendeSakslisterTabell.LeggTilListe"})}),e.jsx(W,{})]}),h&&e.jsx(H,{valgtSaksliste:h,cancel:v,submit:R})]})};try{w.displayName="GjeldendeSakslisterTabell",w.__docgenInfo={description:"GjeldendeSakslisterTabell",displayName:"GjeldendeSakslisterTabell",props:{sakslister:{defaultValue:null,description:"",name:"sakslister",required:!0,type:{name:"Readonly<{ sakslisteId: number; navn?: string | undefined; behandlingTyper?: string[] | undefined; fagsakYtelseTyper?: string[] | undefined; sistEndret: string; sortering?: { sorteringType: string; ... 4 more ...; erDynamiskPeriode: boolean; } | undefined; andreKriterier?: Readonly<...>[] | undefined; saksbehandlerI..."}},setValgtSakslisteId:{defaultValue:null,description:"",name:"setValgtSakslisteId",required:!0,type:{name:"(sakslisteId: number) => void"}},valgtSakslisteId:{defaultValue:null,description:"",name:"valgtSakslisteId",required:!1,type:{name:"number"}},valgtAvdelingEnhet:{defaultValue:null,description:"",name:"valgtAvdelingEnhet",required:!0,type:{name:"string"}},oppgaverForAvdelingAntall:{defaultValue:null,description:"",name:"oppgaverForAvdelingAntall",required:!1,type:{name:"number"}},lagNySaksliste:{defaultValue:null,description:"",name:"lagNySaksliste",required:!0,type:{name:"(avdelingEnhet: string) => void"}},resetValgtSakslisteId:{defaultValue:null,description:"",name:"resetValgtSakslisteId",required:!0,type:{name:"() => void"}},hentAvdelingensSakslister:{defaultValue:null,description:"",name:"hentAvdelingensSakslister",required:!0,type:{name:"(params: { avdelingEnhet: string; }) => void"}}}}}catch{}export{w as G};
//# sourceMappingURL=GjeldendeSakslisterTabell-9d7d63f6.js.map
