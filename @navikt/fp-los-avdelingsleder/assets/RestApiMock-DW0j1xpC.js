import{j as y}from"./jsx-runtime-QvZ8i92b.js";import{F as H,c as F,d as J,e as G}from"./useRestApiRunner-Co55yBK5.js";import{a as V,g as W,r as h}from"./index-uubelm5h.js";import{c as M}from"./fplosRestApi--K68MEhy.js";var k={exports:{}};const{Axios:Y,AxiosError:z,CanceledError:K,isCancel:Q,CancelToken:X,VERSION:Z,all:ee,Cancel:te,isAxiosError:re,spread:ne,toFormData:se,AxiosHeaders:oe,HttpStatusCode:ae,formToJSON:ie,getAdapter:ue,mergeConfig:le}=M,ce=Object.freeze(Object.defineProperty({__proto__:null,Axios:Y,AxiosError:z,AxiosHeaders:oe,Cancel:te,CancelToken:X,CanceledError:K,HttpStatusCode:ae,VERSION:Z,all:ee,default:M,formToJSON:ie,getAdapter:ue,isAxiosError:re,isCancel:Q,mergeConfig:le,spread:ne,toFormData:se},Symbol.toStringTag,{value:"Module"})),fe=V(ce);var de=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,u;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(u=Object.keys(e),n=u.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,u[s]))return!1;for(s=n;s--!==0;){var i=u[s];if(!t(e[i],r[i]))return!1}return!0}return e!==e&&r!==r};/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var pe=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};/*!
 * MIT License
 *
 * Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (https://sindresorhus.com)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated
 * documentation files (the "Software"), to deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit
 * persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the
 * Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
 * WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
 * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */function ye(t){return typeof Blob>"u"?!1:t instanceof Blob||Object.prototype.toString.call(t)==="[object Blob]"}var he=ye;const A=fe,C=de,j=pe,q=he,$=Object.prototype.toString;function B(t,e){const r=t.length;for(let n=0;n<r;n++){const s=t[n];if(e(s))return s}}function me(t){return $.call(t)==="[object Function]"}function R(t){return t!==null&&typeof t=="object"}function ge(t){return R(t)&&me(t.pipe)}function Ee(t){return $.call(t)==="[object ArrayBuffer]"}function w(t,e){return t?`${t.replace(/\/+$/,"")}/${e.replace(/^\/+/,"")}`:e}function Oe(t,e,r,n,s,u,i){return B(t[e.toLowerCase()],function(a){let c=!1;return typeof a.url=="string"?c=S(r,a.url)||S(w(i,r),a.url):a.url instanceof RegExp&&(c=a.url.test(r)||a.url.test(w(i,r))),c&&L(n,s,a)&&x(u,a.headers)})}function S(t,e){const r=t[0]==="/"?t.substr(1):t,n=e[0]==="/"?e.substr(1):e;return r===n}function L(t,e,r){return x(e,r.params)&&ke(t,r.data)}function x(t,e){return e===void 0?!0:typeof e.asymmetricMatch=="function"?e.asymmetricMatch(t):C(t,e)}function ke(t,e){if(e===void 0)return!0;let r;try{r=JSON.parse(t)}catch{}return x(r||t,e)}function Re(t,e){const r=t.handlers.indexOf(e);r>-1&&t.handlers.splice(r,1)}function xe(t){return Ee(t)||j(t)||ge(t)||q(t)?t:R(t)?JSON.parse(JSON.stringify(t)):t}async function be(t,e){typeof t=="function"&&(t=await t(e));const r=t.status||t[0],n=xe(t.data||t[1]),s=t.headers||t[2];return t.config&&(e=t.config),{status:r,data:n,headers:s,config:e,request:{responseURL:e.url}}}async function Ae(t,e,r){r>0&&await new Promise(s=>setTimeout(s,r));const n=await be(e,t);if(!n.config.validateStatus||n.config.validateStatus(n.status))return n;throw U(`Request failed with status code ${n.status}`,n.config,n)}function U(t,e,r,n){if(typeof A.AxiosError=="function")return A.AxiosError.from(new Error(t),n,e,null,r);const s=new Error(t);return s.isAxiosError=!0,s.config=e,r!==void 0&&(s.response=r),n!==void 0&&(s.code=n),s.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},s}function we(t){const e=`Could not find mock for: 
${JSON.stringify({method:t.method,url:t.url,params:t.params,headers:t.headers},null,2)}`,r=new Error(e);return r.isCouldNotFindMockError=!0,r.url=t.url,r.method=t.method,r}var D={find:B,findHandler:Oe,purgeIfReplyOnce:Re,settle:Ae,isObjectOrArray:R,isBuffer:j,isBlob:q,isBodyOrParametersMatching:L,isEqual:C,createAxiosError:U,createCouldNotFindMockError:we};const p=D;function N(t,e){let r=e.baseURL;return r&&!/^https?:/.test(r)&&(r=void 0),typeof t.originalAdapter=="function"?t.originalAdapter(e):t.axiosInstanceWithoutInterceptors(Object.assign({},e,{baseURL:r,adapter:t.originalAdapter,transformRequest:[],transformResponse:[]}))}async function Se(t,e){let r=e.url||"";e.baseURL&&r.substr(0,e.baseURL.length)===e.baseURL&&(r=r.slice(e.baseURL.length)),delete e.adapter,t.history.push(e);const n=p.findHandler(t.handlers,e.method,r,e.data,e.params,e.headers&&e.headers.constructor.name==="AxiosHeaders"?Object.assign({},e.headers.toJSON()):e.headers,e.baseURL);if(n)return n.replyOnce&&p.purgeIfReplyOnce(t,n),n.passThrough?N(t,e):p.settle(e,n.response,Ne(t,n));switch(t.onNoMatch){case"passthrough":return N(t,e);case"throwException":throw p.createCouldNotFindMockError(e);default:return p.settle(e,{status:404},t.delayResponse)}}function Ne(t,e){return typeof e.delay=="number"?e.delay:t.delayResponse}var ve=Se;const Te=ve,l=D,P=["get","post","head","delete","patch","put","options","list","link","unlink"];function v(){const t=[];return P.forEach(function(e){Object.defineProperty(t,e,{get(){return t.filter(function(r){return!r.method||r.method===e})}})}),t}class b{constructor(e,r={}){if(this.reset(),e)this.axiosInstance=e,this.axiosInstanceWithoutInterceptors=e.create?e.create():void 0,this.originalAdapter=e.defaults.adapter,this.delayResponse=r.delayResponse>0?r.delayResponse:null,this.onNoMatch=r.onNoMatch||null,e.defaults.adapter=this.adapter();else throw new Error("Please provide an instance of axios to mock")}adapter(){return e=>Te(this,e)}restore(){this.axiosInstance&&(this.axiosInstance.defaults.adapter=this.originalAdapter,this.axiosInstance=void 0)}reset(){this.resetHandlers(),this.resetHistory()}resetHandlers(){this.handlers?this.handlers.length=0:this.handlers=v()}resetHistory(){this.history?this.history.length=0:this.history=v()}}const Me=["any","get","delete","head","options"];function Ce(t,e,r){return Me.includes(t)?T(t,e||{}):T(t,Object.assign({},r,{data:e}))}const je=["headers","params","data"];function T(t,e){for(const r in e)if(!je.includes(r))throw new Error(`Invalid config property ${JSON.stringify(r)} provided to ${I(t)}. Config: ${JSON.stringify(e)}`);return e}function I(t){return`on${t.charAt(0).toUpperCase()}${t.slice(1)}`}P.concat("any").forEach(function(t){b.prototype[I(t)]=function(e,r,n){const s=this;let u;e=e===void 0?/.*/:e;const i=Ce(t,r,n);function a(o,d,g){const E={url:e,method:t==="any"?void 0:t,params:i.params,data:i.data,headers:i.headers,replyOnce:!1,delay:u,response:typeof o=="function"?o:[o,d,g]};return O(t,s.handlers,E),s}function c(o){u=o;const d=m.reply.bind(m);return Object.assign(d,m),d}function f(o,d,g){const E={url:e,method:t==="any"?void 0:t,params:i.params,data:i.data,headers:i.headers,replyOnce:!0,delay:u,response:typeof o=="function"?o:[o,d,g]};return O(t,s.handlers,E),s}const m={reply:a,replyOnce:f,withDelayInMs:c,passThrough(){const o={passThrough:!0,method:t==="any"?void 0:t,url:e,params:i.params,data:i.data,headers:i.headers};return O(t,s.handlers,o),s},abortRequest(){return a(async function(o){throw l.createAxiosError("Request aborted",o,void 0,"ECONNABORTED")})},abortRequestOnce(){return f(async function(o){throw l.createAxiosError("Request aborted",o,void 0,"ECONNABORTED")})},networkError(){return a(async function(o){throw l.createAxiosError("Network Error",o)})},networkErrorOnce(){return f(async function(o){throw l.createAxiosError("Network Error",o)})},timeout(){return a(async function(o){throw l.createAxiosError(o.timeoutErrorMessage||`timeout of ${o.timeout}ms exceeded`,o,void 0,o.transitional&&o.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED")})},timeoutOnce(){return f(async function(o){throw l.createAxiosError(o.timeoutErrorMessage||`timeout of ${o.timeout}ms exceeded`,o,void 0,o.transitional&&o.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED")})}};return m}});function qe(t,e){let r=-1;for(let n=0;n<t.length;n+=1){const s=t[n],u=s.url instanceof RegExp&&e.url instanceof RegExp?String(s.url)===String(e.url):s.url===e.url;(!s.method||s.method===e.method)&&u&&l.isEqual(s.params,e.params)&&l.isEqual(s.data,e.data)&&l.isEqual(s.headers,e.headers)&&!s.replyOnce&&(r=n)}return r}function O(t,e,r){if(t==="any")e.push(r);else{const n=qe(e,r);n>-1&&!r.replyOnce?e.splice(n,1,r):e.push(r)}}k.exports=b;k.exports.default=b;var $e=k.exports;const Be=W($e),_=({children:t,data:e,requestApi:r,setApiMock:n=()=>{}})=>{const[s,u]=h.useState(!1);return h.useEffect(()=>{const i=new Be(r.getAxios());return n(i),r.setLinks(e.filter(a=>!a.noRelLink).map(a=>{var c;return{href:a.key,rel:((c=r.endpointConfigList.find(f=>f.name===a.key))==null?void 0:c.rel)||"",type:"GET"}})),e.forEach(a=>{r.getRestType(a.key)==="GET"?i.onGet(r.getUrl(a.key)).reply(200,a.data):r.getRestType(a.key)==="GET_ASYNC"?i.onGet(r.getUrl(a.key)).replyOnce(200,a.data):r.getRestType(a.key)==="POST_ASYNC"?i.onPost(r.getUrl(a.key)).replyOnce(200,a.data):i.onPost(r.getUrl(a.key)).reply(200,a.data)}),u(!0),()=>{i.restore(),r.setLinks([]),r.resetCache()}},[]),s?t:y.jsx(H,{})};_.__docgenInfo={description:"",methods:[],displayName:"AxiosMock",props:{requestApi:{required:!0,tsType:{name:"RequestApi"},description:""},children:{required:!0,tsType:{name:"any"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  key: string;
  data: any;
  noRelLink?: boolean;
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"data",value:{name:"any",required:!0}},{key:"noRelLink",value:{name:"boolean",required:!1}}]}}],raw:`{
  key: string;
  data: any;
  noRelLink?: boolean;
}[]`},description:""},setApiMock:{required:!1,tsType:{name:"signature",type:"function",raw:"(mockAdapter: MockAdapter) => void",signature:{arguments:[{type:{name:"MockAdapter"},name:"mockAdapter"}],return:{name:"void"}}},description:"",defaultValue:{value:"() => undefined",computed:!1}}}};const Le=({children:t,data:e})=>{const[r,n]=h.useState(!1),s=h.useContext(F);return h.useEffect(()=>{if(s&&!r){const u=e.map(i=>()=>s({type:"success",key:i.key,data:i.data}));Promise.all(u.map(i=>i())).then(()=>n(!0))}},[r]),r?t:null},Ue=({children:t,data:e,requestApi:r,errors:n,setApiMock:s})=>y.jsx(J,{children:y.jsx(G,{initialState:n?{errors:n}:void 0,children:y.jsx(Le,{data:e.filter(u=>u.global),children:y.jsx(_,{data:e,requestApi:r,setApiMock:s,children:t})})})});Ue.__docgenInfo={description:"",methods:[],displayName:"RestApiMock",props:{children:{required:!0,tsType:{name:"any"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  key: string;
  global?: boolean;
  data: any;
  noRelLink?: boolean;
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"global",value:{name:"boolean",required:!1}},{key:"data",value:{name:"any",required:!0}},{key:"noRelLink",value:{name:"boolean",required:!1}}]}}],raw:`{
  key: string;
  global?: boolean;
  data: any;
  noRelLink?: boolean;
}[]`},description:""},requestApi:{required:!0,tsType:{name:"RequestApi"},description:""},errors:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  type: string;
  feilmelding: string;
}`,signature:{properties:[{key:"type",value:{name:"string",required:!0}},{key:"feilmelding",value:{name:"string",required:!0}}]}}],raw:`{
  type: string;
  feilmelding: string;
}[]`},description:""},setApiMock:{required:!1,tsType:{name:"signature",type:"function",raw:"(mockAdapter: MockAdapter) => void",signature:{arguments:[{type:{name:"MockAdapter"},name:"mockAdapter"}],return:{name:"void"}}},description:""}}};export{Ue as R};
