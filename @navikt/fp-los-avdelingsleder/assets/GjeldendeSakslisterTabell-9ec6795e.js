import{j as e}from"./jsx-runtime-9c4ae004.js";import{r as d}from"./index-1b03fe98.js";import{o as w,s as C,D as y,L as P,a as i,b as k,G as b,e as R,w as D,W as t,H as K,K as _}from"./nb_NO-7fc4d3fe.js";import{I}from"./index.es-657e045f.js";import{r as F}from"./remove-2f21eb3e.js";import{b as B,R as M}from"./fplosRestApi-beda4f04.js";import{u as T}from"./useLosKodeverk-3c749e2b.js";import{S as H}from"./SletteSakslisteModal-34930dcd.js";import{H as z}from"./Heading-87cc8cdf.js";import{D as Y}from"./Detail-95eaaf87.js";const O=""+new URL("add-circle-81876a80.svg",import.meta.url).href,U="_isSelected_dlq2y_1",W="_addCircleIcon_dlq2y_5",$="_imageText_dlq2y_6",J="_grayBox_dlq2y_12",Q="_margin_dlq2y_17",X="_addPeriode_dlq2y_21",Z="_removeImage_dlq2y_26",r={isSelected:U,addCircleIcon:W,imageText:$,grayBox:J,margin:Q,addPeriode:X,removeImage:Z},ee=["GjeldendeSakslisterTabell.Listenavn","GjeldendeSakslisterTabell.Stonadstype","GjeldendeSakslisterTabell.Behandlingtype","GjeldendeSakslisterTabell.AntallSaksbehandlere","GjeldendeSakslisterTabell.AntallBehandlinger","GjeldendeSakslisterTabell.SistEndret","EMPTY_1"],se=(l,n)=>!n||n.length===0?e.jsx(i,{id:"GjeldendeSakslisterTabell.Alle"}):n.map(o=>{const a=l.find(c=>c.kode===o);return a?a.navn:""}).join(", "),ne=(l,n)=>!n||n.length===0||n.length===l.length?e.jsx(i,{id:"GjeldendeSakslisterTabell.Alle"}):n.map(o=>{const a=l.find(c=>c.kode===o);return a?a.navn:""}).join(", "),le=l=>new Promise(n=>{setTimeout(n,l)}),v=({sakslister:l,valgtAvdelingEnhet:n,setValgtSakslisteId:o,valgtSakslisteId:a,oppgaverForAvdelingAntall:c,lagNySaksliste:j,resetValgtSakslisteId:G,hentAvdelingensSakslister:q})=>{const[p,S]=d.useState(),m=d.useRef([]),A=T(I.BEHANDLING_TYPE),E=T(I.FAGSAK_YTELSE),{startRequest:L}=B.useRestApiRunner(M.SLETT_SAKSLISTE);d.useEffect(()=>{m.current=m.current.slice(0,l.length)},[l]);const x=async(s,u)=>{m.current.some(g=>g&&g.contains(s.target))||(await le(100),u&&o(u))},V=d.useCallback(s=>{s.keyCode===13&&j(n)},[n]),h=s=>{S(s)},f=d.useCallback(()=>{S(void 0)},[]),N=d.useCallback(s=>{f(),L({sakslisteId:s.sakslisteId,avdelingEnhet:n}).then(()=>{G(),q({avdelingEnhet:n})})},[n]);return e.jsxs(e.Fragment,{children:[e.jsx(w,{children:e.jsxs(C,{children:[e.jsx(y,{children:e.jsx(P,{size:"small",children:e.jsx(i,{id:"GjeldendeSakslisterTabell.GjeldendeLister"})})}),e.jsx(y,{className:r.margin,children:e.jsxs("div",{className:r.grayBox,children:[e.jsx(k,{size:"small",children:e.jsx(i,{id:"GjeldendeSakslisterTabell.OppgaverForAvdeling"})}),e.jsx(z,{size:"small",children:c||"0"})]})})]})}),l.length===0&&e.jsxs(e.Fragment,{children:[e.jsx(b,{eightPx:!0}),e.jsx(k,{size:"small",children:e.jsx(i,{id:"GjeldendeSakslisterTabell.IngenLister"})}),e.jsx(b,{eightPx:!0})]}),l.length>0&&e.jsx(R,{headerTextCodes:ee,children:l.map((s,u)=>e.jsxs(D,{className:s.sakslisteId===a?r.isSelected:void 0,id:s.sakslisteId,onMouseDown:x,onKeyDown:x,children:[e.jsx(t,{children:s.navn}),e.jsx(t,{children:se(E,s.fagsakYtelseTyper)}),e.jsx(t,{children:ne(A,s.behandlingTyper)}),e.jsx(t,{children:s.saksbehandlerIdenter.length>0?s.saksbehandlerIdenter.length:""}),e.jsx(t,{children:s.antallBehandlinger}),e.jsx(t,{children:e.jsx(K,{dateString:s.sistEndret})}),e.jsx(t,{children:e.jsx("div",{ref:g=>{m.current[u]=g},children:e.jsx(_,{src:F,className:r.removeImage,onMouseDown:()=>h(s),onKeyDown:()=>h(s)})})})]},s.sakslisteId))}),e.jsxs("div",{id:"leggTilListe",role:"button",tabIndex:0,className:r.addPeriode,onClick:()=>j(n),onKeyDown:V,children:[e.jsx(_,{className:r.addCircleIcon,src:O}),e.jsx(Y,{size:"small",className:r.imageText,children:e.jsx(i,{id:"GjeldendeSakslisterTabell.LeggTilListe"})})]}),p&&e.jsx(H,{valgtSaksliste:p,cancel:f,submit:N})]})};try{v.displayName="GjeldendeSakslisterTabell",v.__docgenInfo={description:"GjeldendeSakslisterTabell",displayName:"GjeldendeSakslisterTabell",props:{sakslister:{defaultValue:null,description:"",name:"sakslister",required:!0,type:{name:"Readonly<{ sakslisteId: number; navn?: string | undefined; behandlingTyper?: string[] | undefined; fagsakYtelseTyper?: string[] | undefined; sistEndret: string; sortering?: { sorteringType: string; ... 4 more ...; erDynamiskPeriode: boolean; } | undefined; andreKriterier?: Readonly<...>[] | undefined; saksbehandlerI..."}},setValgtSakslisteId:{defaultValue:null,description:"",name:"setValgtSakslisteId",required:!0,type:{name:"(sakslisteId: number) => void"}},valgtSakslisteId:{defaultValue:null,description:"",name:"valgtSakslisteId",required:!1,type:{name:"number"}},valgtAvdelingEnhet:{defaultValue:null,description:"",name:"valgtAvdelingEnhet",required:!0,type:{name:"string"}},oppgaverForAvdelingAntall:{defaultValue:null,description:"",name:"oppgaverForAvdelingAntall",required:!1,type:{name:"number"}},lagNySaksliste:{defaultValue:null,description:"",name:"lagNySaksliste",required:!0,type:{name:"(avdelingEnhet: string) => void"}},resetValgtSakslisteId:{defaultValue:null,description:"",name:"resetValgtSakslisteId",required:!0,type:{name:"() => void"}},hentAvdelingensSakslister:{defaultValue:null,description:"",name:"hentAvdelingensSakslister",required:!0,type:{name:"(params: { avdelingEnhet: string; }) => void"}}}}}catch{}export{v as G};
//# sourceMappingURL=GjeldendeSakslisterTabell-9ec6795e.js.map
