import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{u as N,O as F,F as R}from"./index.es-CEeGQiSU.js";import{d as B,B as o,L as S,M as h,F as d}from"./nb_NO-WGnJneqN.js";import{u as G}from"./useQuery-OFa5q3cg.js";import{K as f}from"./kodeverkTyper-BiqIm7FA.js";import{V as x,g as L}from"./fplosAvdelingslederApi-BcMQOOWq.js";import{S as Y}from"./StoreValuesInLocalStorage-m0c2upod.js";import{u as T}from"./useLosKodeverk-BsqzzNcY.js";import{R as K}from"./FlyttReservasjonModal-yWZMIKah.js";import"./index-mMUbb89k.js";const v=[o.TILBAKEKREVING_REVURDERING,o.TILBAKEKREVING,o.DOKUMENTINNSYN,o.KLAGE,o.REVURDERING,o.FORSTEGANGSSOKNAD],k=({height:i,oppgaverForAvdeling:s,behandlingTyper:n})=>{const e=B(),t=e.formatMessage({id:"FordelingAvBehandlingstypeGraf.TilBehandling"}),l=e.formatMessage({id:"FordelingAvBehandlingstypeGraf.TilBeslutter"}),g=v.map(a=>{const u=n.find(b=>b.kode===a);return u?u.navn:""}),m=A(s.filter(a=>a.tilBehandling)),p=A(s.filter(a=>!a.tilBehandling));return r.jsx(K,{height:i,option:{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{feature:{saveAsImage:{title:"Lagre ",name:"Antall_Ã¥pne_behandlinger"}}},legend:{data:[t,l]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:g},series:[{name:t,type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},data:m},{name:l,type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},data:p}],color:["#337c9b","#38a161"]}})},A=i=>{const s=i.reduce((n,e)=>{const t=v.findIndex(l=>l===e.behandlingType)+1;return{...n,[t]:n[t]?n[t]+e.antall:e.antall}},{});return v.map((n,e)=>s[e+1])};k.__docgenInfo={description:"",methods:[],displayName:"FordelingAvBehandlingstypeGraf",props:{height:{required:!0,tsType:{name:"number"},description:""},behandlingTyper:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  kode: string;
  navn: string;
  kodeverk: string;
}`,signature:{properties:[{key:"kode",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"kodeverk",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  kode: string;
  navn: string;
  kodeverk: string;
}>`}],raw:"KodeverkMedNavn[]"},description:""},oppgaverForAvdeling:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  fagsakYtelseType: string;
  behandlingType: string;
  tilBehandling: boolean;
  antall: number;
}`,signature:{properties:[{key:"fagsakYtelseType",value:{name:"string",required:!0}},{key:"behandlingType",value:{name:"string",required:!0}},{key:"tilBehandling",value:{name:"boolean",required:!0}},{key:"antall",value:{name:"number",required:!0}}]}}],raw:`Readonly<{
  fagsakYtelseType: string;
  behandlingType: string;
  tilBehandling: boolean;
  antall: number;
}>`}],raw:"OppgaverForAvdeling[]"},description:""}}};const y=(i,s)=>{const n=i.find(e=>e.kode===s);return n?n.navn:""},c="ALLE",E="fordelingAvBehandlingstype",I={valgtYtelseType:c},V=({height:i,valgtAvdelingEnhet:s,getValueFromLocalStorage:n})=>{const{data:e}=G(L(s)),t=T(f.FAGSAK_YTELSE),l=T(f.BEHANDLING_TYPE),g=n(E),m=g?JSON.parse(g):void 0,p=N({defaultValues:m??I}),a=p.watch();return r.jsxs(F,{formMethods:p,children:[r.jsx(Y,{stateKey:E,values:a}),r.jsxs(x,{gap:"2",children:[r.jsx(S,{size:"small",children:r.jsx(h,{id:"FordelingAvBehandlingstypePanel.Fordeling"})}),r.jsx(R,{name:"valgtYtelseType",isHorizontal:!0,radios:[{value:d.FORELDREPENGER,label:y(t,d.FORELDREPENGER)},{value:d.ENGANGSSTONAD,label:y(t,d.ENGANGSSTONAD)},{value:d.SVANGERSKAPSPENGER,label:y(t,d.SVANGERSKAPSPENGER)},{value:c,label:r.jsx(h,{id:"FordelingAvBehandlingstypePanel.Alle"})}]}),r.jsx(k,{height:i,behandlingTyper:l,oppgaverForAvdeling:e?e.filter(u=>a.valgtYtelseType===c?!0:a.valgtYtelseType===u.fagsakYtelseType):[]})]})]})};V.__docgenInfo={description:"",methods:[],displayName:"FordelingAvBehandlingstypePanel",props:{height:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},getValueFromLocalStorage:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: string) => string | undefined",signature:{arguments:[{type:{name:"string"},name:"key"}],return:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}}},description:""}}};export{V as F};
