import{j as v}from"./jsx-runtime-QvZ8i92b.js";import{R as de}from"./useRestApiRunner-c-Q2a7zB.js";import{r as d,R as o}from"./index-uubelm5h.js";import{n as oe,c as D,C as ce,l as ee,G as te,a0 as Oe,a1 as pe,g as X,L as ne,a2 as Ie,K as me,a3 as we,v as xe,a4 as ke,d as Se,u as _e,Y as Ce,V as J,O as Ee,M as $,H as je,B as Ne}from"./nb_NO-BE-Qr1m0.js";import{r as Le,G as Re,k as Fe,I as Pe}from"./index.es-D15_9Uao.js";import{u as Te}from"./useDebounce-ylCvS7Kr.js";import{T as A}from"./Table-BDJ7LgOv.js";var Ae=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const Me=d.forwardRef((e,a)=>{var{title:r,titleId:t}=e,n=Ae(e,["title","titleId"]);let s=oe();return s=r?t||"title-"+s:void 0,d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":s},n),r?d.createElement("title",{id:s},r):null,d.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.998 6.94a.75.75 0 0 1 .063 1.058l-8 9a.75.75 0 0 1-1.091.032l-5-5a.75.75 0 1 1 1.06-1.06l4.438 4.437 7.471-8.405A.75.75 0 0 1 19 6.939",clipRule:"evenodd"}))});var De=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const qe=d.forwardRef((e,a)=>{var{title:r,titleId:t}=e,n=De(e,["title","titleId"]);let s=oe();return s=r?t||"title-"+s:void 0,d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":s},n),r?d.createElement("title",{id:s},r):null,d.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.47 7.97a.75.75 0 0 1 1.06 0l5.5 5.5a.75.75 0 1 1-1.06 1.06L12 9.56l-4.97 4.97a.75.75 0 0 1-1.06-1.06z",clipRule:"evenodd"}))});var Ge=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const Be=d.forwardRef((e,a)=>{var{title:r,titleId:t}=e,n=Ge(e,["title","titleId"]);let s=oe();return s=r?t||"title-"+s:void 0,d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":s},n),r?d.createElement("title",{id:s},r):null,d.createElement("path",{fill:"currentColor",d:"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75z"}))}),ge=e=>{const a=d.useRef(e);return d.useEffect(()=>{a.current=e},[e]),a.current};var Ve=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const $e=d.forwardRef((e,a)=>{var{className:r,children:t,variant:n="action",removeLabel:s="slett",onDelete:u,type:y="button",onClick:i}=e,c=Ve(e,["className","children","variant","removeLabel","onDelete","type","onClick"]);return o.createElement("button",Object.assign({},c,{ref:a,type:y,className:D("navds-chips__chip navds-chips__removable navds-chips--icon-right",r,`navds-chips__removable--${n}`),"aria-label":`${t} ${s}`,onClick:ce(i,u)}),o.createElement("span",{className:"navds-chips__chip-text"},t),o.createElement("span",{className:"navds-chips__removable-icon"},o.createElement(ee,{"aria-hidden":!0})))});var ze=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const He=d.forwardRef((e,a)=>{var{className:r,children:t,selected:n,variant:s="action",checkmark:u=!0,as:y="button"}=e,i=ze(e,["className","children","selected","variant","checkmark","as"]);return o.createElement(y,Object.assign({},i,{ref:a,className:D("navds-chips__chip navds-chips__toggle",r,`navds-chips__toggle--${s}`,{"navds-chips__toggle--with-checkmark":u}),"aria-pressed":n}),u&&o.createElement("svg",{"aria-hidden":!0,className:"navds-chips__toggle-icon",width:"1.25em",height:"1.25em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img"},n?o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 18.125C14.4873 18.125 18.125 14.4873 18.125 10C18.125 5.51269 14.4873 1.875 10 1.875C5.51269 1.875 1.875 5.51269 1.875 10C1.875 14.4873 5.51269 18.125 10 18.125ZM14.128 7.72904C14.3695 7.44357 14.3339 7.01635 14.0485 6.7748C13.763 6.53326 13.3358 6.56886 13.0942 6.85432L8.60428 12.1606L6.41627 9.97263C6.15185 9.70822 5.72315 9.70822 5.45873 9.97263C5.19431 10.2371 5.19431 10.6658 5.45873 10.9302L8.16706 13.6385C8.30095 13.7724 8.48479 13.8441 8.67397 13.8362C8.86316 13.8284 9.0404 13.7416 9.16271 13.5971L14.128 7.72904Z",fill:"currentColor"}):o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3.125C6.20304 3.125 3.125 6.20304 3.125 10C3.125 13.797 6.20304 16.875 10 16.875C13.797 16.875 16.875 13.797 16.875 10C16.875 6.20304 13.797 3.125 10 3.125ZM1.875 10C1.875 5.51269 5.51269 1.875 10 1.875C14.4873 1.875 18.125 5.51269 18.125 10C18.125 14.4873 14.4873 18.125 10 18.125C5.51269 18.125 1.875 14.4873 1.875 10Z",fill:"var(--ac-chip-toggle-circle-border, var(--a-border-default))"})),o.createElement("span",{className:"navds-chips__chip-text"},t))});var Ue=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const re=d.forwardRef((e,a)=>{var{className:r,size:t="medium",children:n}=e,s=Ue(e,["className","size","children"]);return o.createElement("ul",Object.assign({},s,{ref:a,className:D("navds-chips",r,`navds-chips--${t}`,{"navds-body-short navds-body-short--small":t==="medium","navds-detail navds-detail--small":t==="small"})}),o.Children.map(n,(u,y)=>o.createElement("li",{key:(u==null?void 0:u.toString())||y},u)))});re.Toggle=He;re.Removable=$e;const[Ke,T]=te({name:"InputContext",errorMessage:"useInputContext must be used within an InputContextProvider"}),We=({children:e,value:a})=>{const{defaultValue:r="",description:t,disabled:n,error:s,errorId:u,id:y,value:i,onChange:c,onClear:b,shouldAutocomplete:p,size:f}=a,m=Oe({description:t,disabled:n,error:s,errorId:u,id:y,size:f},"comboboxfield"),l=d.useRef(null),O=d.useRef(null),[x,g]=d.useState(r),[h,N]=d.useState(!1),E=d.useMemo(()=>String(i??x),[i,x]),[L,k]=d.useState(E),F=d.useCallback(_=>{i??g(_),k(_),c==null||c(_)},[i,c]),S=d.useCallback(_=>{b==null||b(_),c==null||c(""),g(""),k("")},[c,b,g]),R=d.useCallback(()=>{var _,j;(j=(_=l.current)===null||_===void 0?void 0:_.focus)===null||j===void 0||j.call(_)},[]);pe(()=>{var _,j;p&&l&&E!==L&&((j=(_=l.current)===null||_===void 0?void 0:_.setSelectionRange)===null||j===void 0||j.call(_,L.length,E.length))},[E,L,p]);const P=Object.assign(Object.assign({},m),{clearInput:S,error:s,focusInput:R,inputRef:l,value:E,setValue:g,onChange:F,searchTerm:L,setSearchTerm:k,shouldAutocomplete:p,toggleOpenButtonRef:O,hideCaret:h,setHideCaret:N});return o.createElement(Ke,Object.assign({},P),e)},Xe=({children:e,className:a,hasError:r,inputProps:t,inputSize:n,toggleIsListOpen:s})=>{const{toggleOpenButtonRef:u,clearInput:y}=T(),i=d.useRef(null),[c,b]=d.useState(!1);function p(m){var l;!(!((l=i.current)===null||l===void 0)&&l.contains(m.relatedTarget))&&(u==null?void 0:u.current)!==m.target&&(s(!0),b(!0))}function f(m){var l;!((l=i.current)===null||l===void 0)&&l.contains(m.relatedTarget)||(s(!1),b(!1),y(m))}return o.createElement("div",{ref:i,className:D(a,"navds-form-field",`navds-form-field--${n}`,{"navds-combobox--error":r,"navds-combobox--disabled":!!t.disabled,"navds-combobox--focused":c}),onFocus:p,onBlur:f},e)},B=(e,a)=>typeof e=="string"?a.some(r=>r.label===e||r.value===e):a.some(r=>r.label===e.label&&r.value===e.value),ie=e=>({label:e,value:e}),se=e=>e==null?void 0:e.map(a=>typeof a=="string"?ie(a):a),[Ze,ve]=te({name:"ComboboxCustomOptions",errorMessage:"useComboboxCustomOptions must be used within a ComboboxCustomOptionsProvider"}),Ye=({children:e,value:a})=>{const[r,t]=d.useState([]),{focusInput:n}=T(),{isMultiSelect:s}=a,u=d.useCallback(c=>{t(b=>b.filter(p=>p.label!==c.label)),n()},[n,t]),y=d.useCallback(c=>{t(s?b=>[...b,c]:[c]),n()},[n,s,t]),i={customOptions:r,removeCustomOption:u,addCustomOption:y,setCustomOptions:t};return o.createElement(Ze,Object.assign({},i),e)},[Je,V]=te(),Qe=({children:e,value:a})=>{const{clearInput:r,focusInput:t,setHideCaret:n}=T(),{customOptions:s,removeCustomOption:u,addCustomOption:y,setCustomOptions:i}=ve(),{allowNewValues:c,isMultiSelect:b,selectedOptions:p,onToggleSelected:f,options:m,maxSelected:l}=a,[O,x]=d.useState([]),g=d.useMemo(()=>p??[...s,...O],[s,p,O]),h=d.useCallback(S=>{const R=!B(S,m);R?(c&&y(S),!b&&x([])):b?x(P=>[...P,S]):(x([S]),i([])),f==null||f(S.value,!0,R)},[y,c,b,f,m,i]),N=d.useCallback(S=>{const R=B(S,s);R?u(S):x(P=>P.filter(_=>_!==S)),f==null||f(S.value,!1,R)},[s,f,u]),E=!!(l!=null&&l.limit)&&g.length>=l.limit||!b&&g.length>0;d.useEffect(()=>{n(E)},[g,n,E]);const L=d.useCallback((S,R)=>{B(S.value,g)?N(S):h(S),r(R),t()},[h,r,t,N,g]),k=ge(g),F={addSelectedOption:h,isMultiSelect:b,removeSelectedOption:N,prevSelectedOptions:k,selectedOptions:g,setSelectedOptions:x,toggleOption:L,maxSelected:l&&Object.assign(Object.assign({},l),{isLimitReached:E})};return o.createElement(Je,Object.assign({},F),e)},Q=e=>typeof e=="string"?e.toLocaleLowerCase().trim():"",be=(e,a)=>Q(a).includes(Q(e??"")),et=(e,a)=>a.filter(r=>be(e,r.label)),tt=(e,a)=>a.find(r=>Q(r.label).startsWith(e.toLocaleLowerCase())),nt=e=>`${e}-filtered-options`,rt=(e,a)=>`${e.toLocaleLowerCase()}-option-${a.replace(" ","-").toLocaleLowerCase()}`,at=e=>`${e}-combobox-new-option`,st=e=>`${e}-is-loading`,lt=e=>`${e}-no-hits`,ot=e=>`${e}-max-selected-options`,C={normalizeText:Q,isPartOfText:be,getMatchingValuesFromList:et,getFilteredOptionsId:nt,getAddNewOptionId:at,getOptionId:rt,getIsLoadingId:st,getNoHitsId:lt,getMaxSelectedOptionsId:ot,getFirstValueStartingWith:tt},it=e=>{const[a,r]=d.useState(void 0),t=()=>{var l;return Array.from((l=e==null?void 0:e.children)!==null&&l!==void 0?l:[])},n=()=>t().filter(l=>l.getAttribute("data-no-focus")!=="true"),s=l=>t().find(O=>O.id===l),u=()=>a?n().indexOf(a)===0:!1,y=()=>{const l=n();return a?l.indexOf(a)===l.length-1:!1},i=l=>{var O;r(l),(O=l==null?void 0:l.scrollIntoView)===null||O===void 0||O.call(l,{block:"nearest"})};return{activeElement:a,getElementById:s,isFocusOnTheTop:u,isFocusOnTheBottom:y,moveFocusUp:()=>{if(!a)return;const l=n(),O=l.indexOf(a),x=l[O-1];O===0?r(void 0):i(x)},moveFocusDown:()=>{const l=n();if(!a){i(l[0]);return}const O=l.indexOf(a);O!==l.length-1&&i(l[O+1])},moveFocusToElement:l=>{const O=n().find(x=>x.getAttribute("id")===l);O&&r(O)},moveFocusToTop:()=>i(void 0),moveFocusToBottom:()=>{const l=n();return i(l[l.length-1])}}},[dt,K]=te({name:"FilteredOptionsContext",errorMessage:"useFilteredOptionsContext must be used within a FilteredOptionsProvider"}),ut=({children:e,value:a})=>{const{allowNewValues:r,filteredOptions:t,isListOpen:n,isLoading:s,options:u}=a,[y,i]=d.useState(null),c=it(y),{inputProps:{"aria-describedby":b,id:p},value:f,searchTerm:m,setValue:l,setSearchTerm:O,shouldAutocomplete:x,setHideCaret:g}=T(),{maxSelected:h}=V(),[N,E]=d.useState(!1),{customOptions:L}=ve(),k=d.useMemo(()=>{if(t)return t;const I=[...L,...u];return C.getMatchingValuesFromList(m,I)},[L,t,u,m]),F=ge(m),[S,R]=d.useState(!1),P=d.useMemo(()=>{const I=Object.assign({[C.getAddNewOptionId(p)]:r?ie(f):void 0},L.reduce((H,U)=>{const w=C.getOptionId(p,U.label);return H[w]=U,H},{}));return u.reduce((H,U)=>{const w=C.getOptionId(p,U.label);return H[w]=U,H},I)},[r,L,p,u,f]);pe(()=>{var I;const G=(I=C.getFirstValueStartingWith(m,k))===null||I===void 0?void 0:I.label;x&&G&&((F==null?void 0:F.length)||0)<m.length&&l(`${m}${G.substring(m.length)}`)},[k,F,m,O,l,x]);const _=d.useMemo(()=>n??N,[n,N]),j=d.useCallback(I=>{c.moveFocusToTop(),(I??!N)&&g(!!(h!=null&&h.isLimitReached)),E(G=>I??!G)},[c,h==null?void 0:h.isLimitReached,N,g]),z=d.useMemo(()=>!!f&&!P[C.getOptionId(p,f)],[P,p,f]),ae=d.useMemo(()=>{let I="";!s&&k.length===0&&!r?I=C.getNoHitsId(p):(f||s)&&(x&&k[0]?I=C.getOptionId(p,k[0].label):_&&s&&(I=C.getIsLoadingId(p)));const G=(h==null?void 0:h.isLimitReached)&&C.getMaxSelectedOptionsId(p);return D(I,G,b)||void 0},[_,s,h==null?void 0:h.isLimitReached,f,b,x,k,p,r]),Z=d.useMemo(()=>{var I;return P[((I=c.activeElement)===null||I===void 0?void 0:I.getAttribute("id"))||-1]},[P,c]),M={activeDecendantId:d.useMemo(()=>{var I;return((I=c.activeElement)===null||I===void 0?void 0:I.getAttribute("id"))||void 0},[c.activeElement]),allowNewValues:r,setFilteredOptionsRef:i,shouldAutocomplete:x,isListOpen:_,isLoading:s,filteredOptions:k,isMouseLastUsedInputDevice:S,setIsMouseLastUsedInputDevice:R,isValueNew:z,toggleIsListOpen:j,currentOption:Z,virtualFocus:c,ariaDescribedBy:ae};return o.createElement(dt,Object.assign({},M),e)},ct=()=>{const{inputProps:{id:e},size:a,value:r}=T(),{setIsMouseLastUsedInputDevice:t,toggleIsListOpen:n,activeDecendantId:s,virtualFocus:u}=K(),{isMultiSelect:y,selectedOptions:i,toggleOption:c}=V();return o.createElement("li",{tabIndex:-1,onMouseMove:()=>{s!==C.getAddNewOptionId(e)&&(u.moveFocusToElement(C.getAddNewOptionId(e)),t(!0))},onPointerUp:b=>{c(ie(r),b),!y&&!B(r,i)&&n(!1)},id:C.getAddNewOptionId(e),className:D("navds-combobox__list-item navds-combobox__list-item--new-option",{"navds-combobox__list-item--new-option--focus":s===C.getAddNewOptionId(e)}),role:"option","aria-selected":!1},o.createElement(Be,{"aria-hidden":!0}),o.createElement(X,{size:a},"Legg til"," ",o.createElement(ne,{as:"span",size:a},"“",r,"”")))},pt=({option:e})=>{const{inputProps:{id:a},size:r}=T(),{setIsMouseLastUsedInputDevice:t,toggleIsListOpen:n,activeDecendantId:s,virtualFocus:u}=K(),{isMultiSelect:y,maxSelected:i,selectedOptions:c,toggleOption:b}=V(),p=f=>(i==null?void 0:i.isLimitReached)&&!B(f.value,c);return o.createElement("li",{className:D("navds-combobox__list-item",{"navds-combobox__list-item--focus":s===C.getOptionId(a,e.label),"navds-combobox__list-item--selected":B(e.value,c)}),"data-no-focus":p(e)||void 0,id:C.getOptionId(a,e.label),key:e.label,tabIndex:-1,onMouseMove:()=>{s!==C.getOptionId(a,e.label)&&(u.moveFocusToElement(C.getOptionId(a,e.label)),t(!0))},onPointerUp:f=>{p(e)||(b(e,f),!y&&!B(e.value,c)&&n(!1))},role:"option","aria-selected":B(e.value,c),"aria-disabled":p(e)||void 0},o.createElement(X,{size:r},e.label),B(e.value,c)&&o.createElement(Me,null))},mt=()=>{const{inputProps:{id:e}}=T();return o.createElement("div",{className:"navds-combobox__list-item--loading",id:C.getIsLoadingId(e)},o.createElement(Ie,{title:"Søker..."}))},gt=()=>{var e;const{inputProps:{id:a}}=T(),{maxSelected:r,selectedOptions:t}=V();return r?o.createElement("div",{className:"navds-combobox__list-item--max-selected",id:C.getMaxSelectedOptionsId(a)},(e=r.message)!==null&&e!==void 0?e:`${t.length} av ${r.limit} er valgt.`):null},vt=()=>{const{inputProps:{id:e}}=T();return o.createElement("div",{className:"navds-combobox__list-item--no-options",id:C.getNoHitsId(e)},"Ingen søketreff")},bt=()=>{const{inputProps:{id:e}}=T(),{allowNewValues:a,isLoading:r,isListOpen:t,filteredOptions:n,setFilteredOptionsRef:s,isMouseLastUsedInputDevice:u,isValueNew:y}=K(),{maxSelected:i}=V(),c=(i==null?void 0:i.isLimitReached)||r||!r&&n.length===0&&!a,b=a&&y&&!(i!=null&&i.isLimitReached)||n.length>0;return o.createElement("div",{className:D("navds-combobox__list",{"navds-combobox__list--closed":!t,"navds-combobox__list--with-hover":u}),id:C.getFilteredOptionsId(e),tabIndex:-1},c&&o.createElement("div",{className:"navds-combobox__list_non-selectables",role:"status"},(i==null?void 0:i.isLimitReached)&&o.createElement(gt,null),r&&o.createElement(mt,null),!r&&n.length===0&&!a&&o.createElement(vt,null)),b&&o.createElement("ul",{ref:s,role:"listbox",className:"navds-combobox__list-options"},y&&!(i!=null&&i.isLimitReached)&&a&&o.createElement(ct,null),n.map(p=>o.createElement(pt,{key:p.value,option:p}))))},ft=({option:e})=>{const{isMultiSelect:a,removeSelectedOption:r}=V(),{focusInput:t}=T(),n=s=>{s.stopPropagation(),r(e),t()};return a?o.createElement(re.Removable,{onClick:n},e.label):o.createElement("div",{className:"navds-combobox__selected-options--no-bg"},e.label)},ht=({selectedOptions:e=[],size:a,children:r})=>{const{value:t}=T(),{isMultiSelect:n}=V();return o.createElement(re,{className:"navds-combobox__selected-options",size:a},t.length===0||n&&e.length?e.map((s,u)=>o.createElement(ft,{key:s.label+u,option:s})):[],r)};var yt=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const ue=d.forwardRef((e,a)=>{var{inputClassName:r,shouldShowSelectedOptions:t,placeholder:n,onBlur:s}=e,u=yt(e,["inputClassName","shouldShowSelectedOptions","placeholder","onBlur"]);const y=d.useRef(null),i=me(a,y),{clearInput:c,inputProps:b,onChange:p,size:f,value:m,searchTerm:l,setValue:O,hideCaret:x,setHideCaret:g}=T(),{selectedOptions:h,removeSelectedOption:N,toggleOption:E,isMultiSelect:L,maxSelected:k}=V(),{activeDecendantId:F,allowNewValues:S,currentOption:R,filteredOptions:P,isValueNew:_,toggleIsListOpen:j,isListOpen:z,ariaDescribedBy:ae,setIsMouseLastUsedInputDevice:Z,shouldAutocomplete:Y,virtualFocus:M}=K(),I=d.useCallback(w=>{const q=W=>h.some(ye=>ye.label.toLocaleLowerCase()===W.toLocaleLowerCase());if(R)w.preventDefault(),E(R,w),!L&&!q(R.label)&&j(!1);else if(q(m))w.preventDefault(),c(w);else if((S||Y)&&m!==""){w.preventDefault();const W=S&&_?{label:m,value:m}:C.getFirstValueStartingWith(m,P)||P[0];if(!W)return;E(W,w),!L&&!q(W.label)&&j(!1)}},[S,c,R,P,L,_,h,Y,j,E,m]),G=w=>{switch(w.preventDefault(),w.key){case"Enter":case"Accept":I(w);break;case"Home":j(!1),M.moveFocusToTop();break;case"End":j(!0),M.moveFocusToBottom();break}},H=d.useCallback(w=>{if(Z(!1),w.key==="Backspace"){if(m===""&&t){const q=h[h.length-1];q&&N(q)}}else w.key==="Enter"||w.key==="Accept"?(F||m)&&w.preventDefault():w.key==="Escape"?(z||m)&&(w.preventDefault(),c(w),j(!1)):["ArrowLeft","ArrowRight"].includes(w.key)?m!==""&&m!==l&&p(m):w.key==="ArrowDown"?(m!==l&&O(l),(M.activeElement===null||!z)&&j(!0),M.moveFocusDown()):w.key==="ArrowUp"&&(m!==""&&m!==l&&p(m),z&&F&&(w.preventDefault(),M.isFocusOnTheTop()&&j(!1),M.moveFocusUp()))},[m,h,N,z,F,Z,c,j,p,M,O,l,t]),U=d.useCallback(w=>{const q=w.target.value;q&&q!==""?j(!0):P.length===0&&j(!1),M.moveFocusToTop(),p(q)},[P.length,M,p,j]);return o.createElement("input",Object.assign({},u,we(b,["aria-invalid"]),{ref:i,type:"text",role:"combobox",value:m,onBlur:ce(s,M.moveFocusToTop),onClick:()=>{g(!!(k!=null&&k.isLimitReached)),m!==l&&p(m)},onInput:U,onKeyUp:G,onKeyDown:H,autoComplete:"off",placeholder:h.length?void 0:n,className:D(r,"navds-combobox__input","navds-body-short",`navds-body-short--${f}`,{"navds-combobox__input--hide-caret":x}),"aria-controls":C.getFilteredOptionsId(b.id),"aria-expanded":!!z,"aria-autocomplete":Y?"both":"list","aria-activedescendant":F,"aria-describedby":ae,"aria-invalid":b["aria-invalid"]}))}),Ot=d.forwardRef(({toggleListButtonLabel:e},a)=>{const{isListOpen:r,toggleIsListOpen:t}=K(),{focusInput:n}=T();return o.createElement("button",{type:"button",onPointerUp:()=>{t(),n()},onKeyDown:({key:s})=>s==="Enter"&&t(),className:"navds-combobox__button-toggle-list","aria-expanded":r,tabIndex:-1,ref:a},o.createElement("span",{className:"navds-sr-only"},e??"Alternativer"),r?o.createElement(qe,{"aria-hidden":!0}):o.createElement(xe,{"aria-hidden":!0}))});var It=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const wt=d.forwardRef((e,a)=>{const{clearButton:r=!0,clearButtonLabel:t,toggleListButton:n=!0,toggleListButtonLabel:s,inputClassName:u,shouldShowSelectedOptions:y=!0}=e,i=It(e,["clearButton","clearButtonLabel","toggleListButton","toggleListButtonLabel","inputClassName","shouldShowSelectedOptions"]),{clearInput:c,focusInput:b,inputProps:p,value:f,size:m="medium",inputRef:l,toggleOpenButtonRef:O}=T(),{activeDecendantId:x}=K(),{selectedOptions:g}=V(),h=me(l,a);return o.createElement("div",{className:D("navds-combobox__wrapper-inner navds-text-field__input",{"navds-combobox__wrapper-inner--virtually-unfocused":x!==void 0}),onClick:b},y?o.createElement(ht,{selectedOptions:g,size:m},o.createElement(ue,Object.assign({id:p.id,ref:h,inputClassName:u,shouldShowSelectedOptions:y},i))):o.createElement(ue,Object.assign({id:p.id,ref:h,inputClassName:u},i)),o.createElement("div",null,f&&r&&o.createElement("button",{type:"button",onClick:c,className:"navds-combobox__button-clear",tabIndex:-1},o.createElement("span",{className:"navds-sr-only"},t||"Tøm"),o.createElement(ee,{"aria-hidden":!0})),n&&o.createElement(Ot,{toggleListButtonLabel:s,ref:O})))});var xt=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const kt=d.forwardRef((e,a)=>{const{className:r,hideLabel:t=!1,description:n,label:s}=e,u=xt(e,["className","hideLabel","description","label"]),{toggleIsListOpen:y}=K(),{error:i,errorId:c,hasError:b,inputDescriptionId:p,inputProps:f,showErrorMsg:m,size:l="medium"}=T();return o.createElement(Xe,{className:r,hasError:b,inputProps:f,inputSize:l,toggleIsListOpen:y},o.createElement(ne,{htmlFor:f.id,size:l,className:D("navds-form-field__label",{"navds-sr-only":t})},s),!!n&&o.createElement(X,{as:"div",className:D("navds-form-field__description",{"navds-sr-only":t}),id:p,size:l},n),o.createElement("div",{className:"navds-combobox__wrapper"},o.createElement(wt,Object.assign({ref:a},u)),o.createElement(bt,null)),o.createElement("div",{className:"navds-form-field__error",id:c,"aria-relevant":"additions removals","aria-live":"polite"},m&&o.createElement(ke,{size:l},i)))});var St=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const _t=d.forwardRef((e,a)=>{const{allowNewValues:r=!1,children:t,defaultValue:n,disabled:s,error:u,errorId:y,filteredOptions:i,id:c,isListOpen:b,isLoading:p=!1,isMultiSelect:f,onToggleSelected:m,selectedOptions:l,maxSelected:O,options:x,value:g,onChange:h,onClear:N,shouldAutocomplete:E,size:L}=e,k=St(e,["allowNewValues","children","defaultValue","disabled","error","errorId","filteredOptions","id","isListOpen","isLoading","isMultiSelect","onToggleSelected","selectedOptions","maxSelected","options","value","onChange","onClear","shouldAutocomplete","size"]),F=se(x)||[],S=se(i),R=se(l);return o.createElement(We,{value:{defaultValue:n,description:k.description,disabled:s,error:u,errorId:y,id:c,value:g,onChange:h,onClear:N,shouldAutocomplete:E,size:L}},o.createElement(Ye,{value:{isMultiSelect:f}},o.createElement(Qe,{value:{allowNewValues:r,isMultiSelect:f,selectedOptions:R,maxSelected:O,onToggleSelected:m,options:F}},o.createElement(ut,{value:{allowNewValues:r,filteredOptions:S,isListOpen:b,isLoading:p,options:F}},o.createElement(kt,Object.assign({ref:a},k),t)))))}),Ct="_navn_broku_1",Et="_saksbehandlerCombo_broku_5",jt="_removeIcon_broku_9",le={navn:Ct,saksbehandlerCombo:Et,removeIcon:jt},Nt=Fe(3),Lt=Pe(100),Rt=e=>[...e].sort((a,r)=>a.navn.localeCompare(r.navn)),Ft=(e,a)=>e.filter(r=>!a.some(t=>t.brukerIdent===r.brukerIdent)).sort((r,t)=>r.navn.localeCompare(t.navn)),fe=({saksbehandlerGruppe:e,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:r,endreGruppenavn:t})=>{const n=Se(),s=_e({defaultValues:{navn:e.gruppeNavn}}),u=Rt(e.saksbehandlere),i=Ft(a,u).map(g=>`${g.navn} (${g.brukerIdent})`),c=Te("navn",g=>t(e.gruppeId,g),s.trigger),[b,p]=d.useState([]),[f,m]=d.useState(""),l=g=>{g!=null&&g.trim()?p(i.filter(h=>h.toLowerCase().includes(g.toLowerCase()))):p(i)},O=(g,h)=>{const N=b.find(k=>k.toLowerCase().includes(g==null?void 0:g.toLowerCase())),E=N==null?void 0:N.replace(")","").split(" ("),L=u.some(k=>E&&k.brukerIdent===E[1]);N&&h&&!L&&E&&r(E[1],e.gruppeId,!0)},x=(g,h)=>{r(g,h,!1)};return d.useEffect(()=>l(f),[e,f]),v.jsx(Ce,{formMethods:s,children:v.jsxs(J,{gap:"5",children:[v.jsx(Ee,{name:"navn",label:n.formatMessage({id:"GruppeSaksbehandlere.Navn"}),validate:[Le,Nt,Lt,Re],onBlur:c,className:le.navn}),v.jsxs(J,{gap:"4",children:[v.jsx(_t,{label:n.formatMessage({id:"GruppeSaksbehandlere.VelgSaksbehandlere"}),size:"small",options:i,filteredOptions:b,selectedOptions:[],onChange:m,onToggleSelected:O,className:le.saksbehandlerCombo}),v.jsxs(J,{gap:"2",children:[v.jsx(ne,{size:"small",children:v.jsx($,{id:"GruppeSaksbehandlere.ValgteSaksbehandlere"})}),u.length===0&&v.jsx(X,{size:"small",children:v.jsx($,{id:"GruppeSaksbehandlere.Ingen"})}),u.map(g=>v.jsxs(je,{gap:"2",align:"center",children:[v.jsx("div",{children:`${g.navn} (${g.brukerIdent})`}),v.jsx("div",{children:v.jsx(ee,{className:le.removeIcon,onMouseDown:()=>x(g.brukerIdent,e.gruppeId),onKeyDown:()=>x(g.brukerIdent,e.gruppeId)})})]},g.brukerIdent))]})]})]})})};fe.__docgenInfo={description:"",methods:[],displayName:"GruppeSaksbehandlere",props:{saksbehandlerGruppe:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]"},description:""},lagreValgtSaksbehandlar:{required:!0,tsType:{name:"signature",type:"function",raw:"(brukerIdent: string, gruppeId: number, leggTil: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"brukerIdent"},{type:{name:"number"},name:"gruppeId"},{type:{name:"boolean"},name:"leggTil"}],return:{name:"void"}}},description:""},endreGruppenavn:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number, gruppeNavn: string) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"},{type:{name:"string"},name:"gruppeNavn"}],return:{name:"void"}}},description:""}}};const Pt="_removeIcon_1k4e9_1",Tt={removeIcon:Pt},he=({grupper:e,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:r,endreGruppenavn:t,slettGruppe:n})=>{var s;return v.jsxs(v.Fragment,{children:[v.jsx(ne,{size:"small",children:v.jsx($,{id:"GrupperTabell.Grupper"})}),e.saksbehandlerGrupper.length>0&&v.jsxs(A,{children:[v.jsx(A.Header,{children:v.jsxs(A.Row,{children:[v.jsx(A.HeaderCell,{}),v.jsx(A.HeaderCell,{scope:"col",children:v.jsx($,{id:"GrupperTabell.Id"})}),v.jsx(A.HeaderCell,{scope:"col",children:v.jsx($,{id:"GrupperTabell.Navn"})}),v.jsx(A.HeaderCell,{scope:"col",children:v.jsx($,{id:"GrupperTabell.AntallSaksbehandlere"})}),v.jsx(A.HeaderCell,{})]})}),v.jsx(A.Body,{children:(s=e.saksbehandlerGrupper)==null?void 0:s.map(u=>v.jsxs(A.ExpandableRow,{content:v.jsx(fe,{saksbehandlerGruppe:u,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:r,endreGruppenavn:t}),children:[v.jsx(A.DataCell,{scope:"row",children:u.gruppeId}),v.jsx(A.DataCell,{children:u.gruppeNavn||"-"}),v.jsx(A.DataCell,{children:u.saksbehandlere.length}),v.jsx(A.DataCell,{children:v.jsx(ee,{className:Tt.removeIcon,onMouseDown:()=>n(u.gruppeId),onKeyDown:()=>n(u.gruppeId)})})]},u.gruppeId))})]}),e.saksbehandlerGrupper.length===0&&v.jsx(X,{children:v.jsx($,{id:"GrupperTabell.IngenGrupper"})})]})};he.__docgenInfo={description:"",methods:[],displayName:"GrupperTabell",props:{grupper:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}`,signature:{properties:[{key:"saksbehandlerGrupper",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}>`}],raw:"SaksbehandlerGruppe[]",required:!0}}]}}],raw:`Readonly<{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]"},description:""},lagreValgtSaksbehandlar:{required:!0,tsType:{name:"signature",type:"function",raw:"(brukerIdent: string, gruppeId: number, leggTil: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"brukerIdent"},{type:{name:"number"},name:"gruppeId"},{type:{name:"boolean"},name:"leggTil"}],return:{name:"void"}}},description:""},endreGruppenavn:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number, gruppeNavn: string) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"},{type:{name:"string"},name:"gruppeNavn"}],return:{name:"void"}}},description:""},slettGruppe:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"}],return:{name:"void"}}},description:""}}};const At=({grupper:e,avdelingensSaksbehandlere:a,opprettOgHentAlleGrupper:r,opprettNyGruppeState:t,lagreValgtSaksbehandlar:n,endreGruppenavn:s,slettGruppe:u})=>v.jsxs(J,{gap:"5",align:"start",children:[v.jsx(he,{grupper:e,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:n,endreGruppenavn:s,slettGruppe:u}),v.jsx(Ne,{size:"small",variant:"secondary",loading:t===de.LOADING,disabled:t===de.LOADING,tabIndex:0,onClick:r,children:v.jsx($,{id:"GrupperPanel.OpprettGruppe"})})]});At.__docgenInfo={description:"",methods:[],displayName:"GrupperPanel",props:{grupper:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}`,signature:{properties:[{key:"saksbehandlerGrupper",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: SaksbehandlerProfil[];
}>`}],raw:"SaksbehandlerGruppe[]",required:!0}}]}}],raw:`Readonly<{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`}],raw:"SaksbehandlerProfil[]"},description:""},opprettOgHentAlleGrupper:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},opprettNyGruppeState:{required:!1,tsType:{name:"RestApiState"},description:""},lagreValgtSaksbehandlar:{required:!0,tsType:{name:"signature",type:"function",raw:"(brukerIdent: string, gruppeId: number, leggTil: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"brukerIdent"},{type:{name:"number"},name:"gruppeId"},{type:{name:"boolean"},name:"leggTil"}],return:{name:"void"}}},description:""},endreGruppenavn:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number, gruppeNavn: string) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"},{type:{name:"string"},name:"gruppeNavn"}],return:{name:"void"}}},description:""},slettGruppe:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"}],return:{name:"void"}}},description:""}}};export{At as G};
