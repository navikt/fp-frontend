import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{a as ie,P as H,y as ce,w as Me,F as je}from"./index.es-BsJjJbyn.js";import{u as oe,D as T,M as N,e as Ne,b as Pe,B as Q}from"./nb_NO-tkSV1vCo.js";import{u as Y}from"./useMutation-nupdxx3S.js";import{u as Fe,K as Ke}from"./useLosKodeverk-Dy79y__V.js";import{z as ye,L as f,c as Le,A as Ie,B as ke,V as me,C as we}from"./fplosAvdelingslederApi-DKy6EIY1.js";import{f as Z,p as ge}from"./index.es-DGqVU0h3.js";import{G as Se,X as fe}from"./index.es-CuanKM8i.js";import{u as z}from"./useDebounce-BEGo8-kX.js";import"./index-mMUbb89k.js";import{d as le}from"./dayjs.min-Cke173X9.js";import{g as Ge}from"./_commonjsHelpers-Cpj98o6Y.js";const Ye="_dager_1u55p_1",qe="_dagerMedBindestrek_1u55p_5",be="_dato_1u55p_19",Re="_arrowBoxWidth_1u55p_24",_={dager:Ye,dagerMedBindestrek:qe,beløp:"_beløp_1u55p_10",dato:be,arrowBoxWidth:Re},xe=({valgtSakslisteId:d,valgtAvdelingEnhet:m})=>{const g=oe(),{watch:l,trigger:o}=ie(),u=l("fra"),c=l("til"),{mutate:h}=Y({mutationFn:p=>ye(d,p.fra,p.til,m),onSuccess:()=>{g.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),g.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),g.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),s=p=>h({fra:p,til:c}),S=p=>h({fra:u,til:p}),i=z("fra",s,o),k=z("til",S,o);return r.jsxs(Se,{children:[r.jsx(T,{children:r.jsx(N,{id:"SorteringVelger.FiltrerPaHeltall"})}),r.jsxs(Le,{gap:"4",children:[r.jsx(H,{name:"fra",className:_.dato,validate:[Z],onChange:i}),r.jsx(T,{className:_.beløp,children:r.jsx(N,{id:"SorteringVelger.Valuta"})}),r.jsx(H,{name:"til",className:_.dato,validate:[Z],onChange:k}),r.jsx(T,{className:_.beløp,children:r.jsx(N,{id:"SorteringVelger.Valuta"})})]})]})};xe.__docgenInfo={description:"",methods:[],displayName:"BelopSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""}}};var $={exports:{}},Oe=$.exports,he;function Be(){return he||(he=1,function(d,m){(function(g,l){d.exports=l()})(Oe,function(){var g={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},l=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d/,u=/\d\d/,c=/\d\d?/,h=/\d*[^-_:/,()\s\d]+/,s={},S=function(e){return(e=+e)+(e>68?1900:2e3)},i=function(e){return function(a){this[e]=+a}},k=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(a){if(!a||a==="Z")return 0;var n=a.match(/([+-]|\d\d)/g),t=60*n[1]+(+n[2]||0);return t===0?0:n[0]==="+"?-t:t}(e)}],p=function(e){var a=s[e];return a&&(a.indexOf?a:a.s.concat(a.f))},q=function(e,a){var n,t=s.meridiem;if(t){for(var x=1;x<=24;x+=1)if(e.indexOf(t(x,0,a))>-1){n=x>12;break}}else n=e===(a?"pm":"PM");return n},U={A:[h,function(e){this.afternoon=q(e,!1)}],a:[h,function(e){this.afternoon=q(e,!0)}],Q:[o,function(e){this.month=3*(e-1)+1}],S:[o,function(e){this.milliseconds=100*+e}],SS:[u,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[c,i("seconds")],ss:[c,i("seconds")],m:[c,i("minutes")],mm:[c,i("minutes")],H:[c,i("hours")],h:[c,i("hours")],HH:[c,i("hours")],hh:[c,i("hours")],D:[c,i("day")],DD:[u,i("day")],Do:[h,function(e){var a=s.ordinal,n=e.match(/\d+/);if(this.day=n[0],a)for(var t=1;t<=31;t+=1)a(t).replace(/\[|\]/g,"")===e&&(this.day=t)}],w:[c,i("week")],ww:[u,i("week")],M:[c,i("month")],MM:[u,i("month")],MMM:[h,function(e){var a=p("months"),n=(p("monthsShort")||a.map(function(t){return t.slice(0,3)})).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[h,function(e){var a=p("months").indexOf(e)+1;if(a<1)throw new Error;this.month=a%12||a}],Y:[/[+-]?\d+/,i("year")],YY:[u,function(e){this.year=S(e)}],YYYY:[/\d{4}/,i("year")],Z:k,ZZ:k};function W(e){var a,n;a=e,n=s&&s.formats;for(var t=(e=a.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(F,E,L){var y=L&&L.toUpperCase();return E||n[L]||g[L]||n[y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(M,j,K){return j||K.slice(1)})})).match(l),x=t.length,V=0;V<x;V+=1){var G=t[V],P=U[G],A=P&&P[0],v=P&&P[1];t[V]=v?{regex:A,parser:v}:G.replace(/^\[|\]$/g,"")}return function(F){for(var E={},L=0,y=0;L<x;L+=1){var M=t[L];if(typeof M=="string")y+=M.length;else{var j=M.regex,K=M.parser,b=F.slice(y),w=j.exec(b)[0];K.call(E,w),F=F.replace(w,"")}}return function(I){var R=I.afternoon;if(R!==void 0){var D=I.hours;R?D<12&&(I.hours+=12):D===12&&(I.hours=0),delete I.afternoon}}(E),E}}return function(e,a,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(S=e.parseTwoDigitYear);var t=a.prototype,x=t.parse;t.parse=function(V){var G=V.date,P=V.utc,A=V.args;this.$u=P;var v=A[1];if(typeof v=="string"){var F=A[2]===!0,E=A[3]===!0,L=F||E,y=A[2];E&&(y=A[2]),s=this.$locale(),!F&&y&&(s=n.Ls[y]),this.$d=function(b,w,I,R){try{if(["x","X"].indexOf(w)>-1)return new Date((w==="X"?1e3:1)*b);var D=W(w)(b),X=D.year,O=D.month,Ae=D.day,ve=D.hours,Te=D.minutes,_e=D.seconds,Ee=D.milliseconds,de=D.zone,ue=D.week,J=new Date,ee=Ae||(X||O?1:J.getDate()),re=X||J.getFullYear(),B=0;X&&!O||(B=O>0?O-1:J.getMonth());var C,te=ve||0,ae=Te||0,se=_e||0,ne=Ee||0;return de?new Date(Date.UTC(re,B,ee,te,ae,se,ne+60*de.offset*1e3)):I?new Date(Date.UTC(re,B,ee,te,ae,se,ne)):(C=new Date(re,B,ee,te,ae,se,ne),ue&&(C=R(C).week(ue).toDate()),C)}catch{return new Date("")}}(G,v,P,n),this.init(),y&&y!==!0&&(this.$L=this.locale(y).$L),L&&G!=this.format(v)&&(this.$d=new Date("")),s={}}else if(v instanceof Array)for(var M=v.length,j=1;j<=M;j+=1){A[1]=v[j-1];var K=n.apply(this,A);if(K.isValid()){this.$d=K.$d,this.$L=K.$L,this.init();break}j===M&&(this.$d=new Date(""))}else x.call(this,V)}}})}($)),$.exports}var Ce=Be();const Qe=Ge(Ce);le.extend(Qe);const Ve=({valgtSakslisteId:d,valgtAvdelingEnhet:m,erDynamiskPeriode:g})=>{const l=oe(),o=Ne(),{mutate:u}=Y({mutationFn:t=>ye(d,t.fra,t.til,m),onSuccess:()=>{l.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),{mutate:c}=Y({mutationFn:()=>Ie(d,m),onSuccess:()=>{l.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),{mutate:h}=Y({mutationFn:t=>ke(d,m,t.fomDato,t.tomDato),onSuccess:()=>{l.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),{watch:s}=ie(),S=s("fra"),i=s("til"),k=s("fomDato"),p=s("tomDato"),q=t=>u({fra:t,til:i}),U=t=>u({fra:S,til:t}),W=De(h,!0,p),e=De(h,!1,k),a=z("fomDato",W),n=z("tomDato",e);return r.jsx("div",{className:_.arrowBoxWidth,children:r.jsx(Se,{children:r.jsxs(me,{gap:"2",children:[r.jsx(T,{children:r.jsx(N,{id:"SorteringVelger.FiltrerPaTidsintervall"})}),g&&r.jsxs(Le,{gap:"4",children:[r.jsxs("div",{children:[r.jsx(H,{name:"fra",className:_.dato,label:o.formatMessage({id:"SorteringVelger.Fom"}),validate:[Z],onBlur:q}),(S||S===0)&&r.jsx(T,{children:r.jsx(fe,{dateString:pe(S)})})]}),r.jsx(T,{className:_.dager,children:r.jsx(N,{id:"SorteringVelger.DagerMedBindestrek"})}),r.jsxs("div",{children:[r.jsx(H,{name:"til",className:_.dato,label:o.formatMessage({id:"SorteringVelger.Tom"}),validate:[Z],onBlur:U}),(i||i===0)&&r.jsx(T,{children:r.jsx(fe,{dateString:pe(i)})})]}),r.jsx(T,{className:_.dagerMedBindestrek,children:r.jsx(N,{id:"SorteringVelger.Dager"})})]}),!g&&r.jsxs(me,{gap:"4",children:[r.jsx(ce,{name:"fomDato",label:o.formatMessage({id:"SorteringVelger.Fom"}),validate:[ge],onChange:a}),r.jsx(T,{children:r.jsx(N,{id:"SorteringVelger.Bindestrek"})}),r.jsx(ce,{name:"tomDato",label:o.formatMessage({id:"SorteringVelger.Tom"}),validate:[ge],onChange:n})]}),r.jsx(Me,{name:"erDynamiskPeriode",label:o.formatMessage({id:"SorteringVelger.DynamiskPeriode"}),onChange:()=>c()})]})})})},pe=d=>le().add(d,"d").format(),De=(d,m,g)=>l=>{let o;if(l&&(o=le(l)),!o||o.isValid()){const u=o&&o.format(Pe);return d(m?{fomDato:u,tomDato:g}:{fomDato:g,tomDato:u})}};Ve.__docgenInfo={description:"",methods:[],displayName:"DatoSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};const $e=d=>d&&d.some(m=>m===Q.TILBAKEKREVING||m===Q.TILBAKEKREVING_REVURDERING)&&!d.some(m=>m!==Q.TILBAKEKREVING&&m!==Q.TILBAKEKREVING_REVURDERING),He=({valgtSakslisteId:d,valgteBehandlingtyper:m,valgtAvdelingEnhet:g,erDynamiskPeriode:l})=>{const o=oe(),{resetField:u}=ie(),{mutate:c}=Y({mutationFn:s=>we(d,s.sorteringType,g),onSuccess:()=>{o.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),o.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),o.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),h=Fe(Ke.KO_SORTERING);return r.jsx(je,{name:"sortering",label:r.jsx(N,{id:"SorteringVelger.Sortering"}),onChange:s=>(u("fra",{defaultValue:""}),u("til",{defaultValue:""}),u("fomDato",{defaultValue:""}),u("tomDato",{defaultValue:""}),u("erDynamiskPeriode",{defaultValue:""}),c({sorteringType:s})),radios:h.filter(s=>s.feltkategori!=="TILBAKEKREVING"||$e(m)).map(s=>({value:s.kode,label:s.navn,element:r.jsxs(r.Fragment,{children:[s.felttype==="DATO"&&r.jsx(Ve,{valgtSakslisteId:d,valgtAvdelingEnhet:g,erDynamiskPeriode:l}),s.felttype==="HELTALL"&&r.jsx(xe,{valgtSakslisteId:d,valgtAvdelingEnhet:g})]})}))})};He.__docgenInfo={description:"",methods:[],displayName:"SorteringVelger",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgteBehandlingtyper:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};export{He as S};
