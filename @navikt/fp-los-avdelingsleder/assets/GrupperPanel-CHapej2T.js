import{r as o,R as s}from"./index-DVXBtNgz.js";import{R as ae}from"./useRestApiRunner-r8nm61Jn.js";import{p as te,c as F,E as ve,o as K,F as W,G as ge,I as le,J as be,h as V,L as X,K as fe,w as ye,N as Oe,P as he,d as Ie,u as we,O as ke,V as U,C as Ee,M as G,H as _e,B as Ce}from"./nb_NO-D3Fg8-s9.js";import{r as Se,G as xe,k as Ne,I as Re}from"./index.es-BoB8IYOI.js";import{u as Le}from"./useDebounce-CkIGjARt.js";import{T}from"./Table-rjTaG-_E.js";var Te=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const je=o.forwardRef((e,a)=>{var{title:r,titleId:t}=e,n=Te(e,["title","titleId"]);let l=te();return l=r?t||"title-"+l:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":l},n),r?o.createElement("title",{id:l},r):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.998 6.94a.75.75 0 0 1 .063 1.058l-8 9a.75.75 0 0 1-1.091.032l-5-5a.75.75 0 1 1 1.06-1.06l4.438 4.437 7.471-8.405A.75.75 0 0 1 19 6.939",clipRule:"evenodd"}))});var Fe=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const Me=o.forwardRef((e,a)=>{var{title:r,titleId:t}=e,n=Fe(e,["title","titleId"]);let l=te();return l=r?t||"title-"+l:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":l},n),r?o.createElement("title",{id:l},r):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.47 7.97a.75.75 0 0 1 1.06 0l5.5 5.5a.75.75 0 1 1-1.06 1.06L12 9.56l-4.97 4.97a.75.75 0 0 1-1.06-1.06z",clipRule:"evenodd"}))});var Pe=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const Ae=o.forwardRef((e,a)=>{var{title:r,titleId:t}=e,n=Pe(e,["title","titleId"]);let l=te();return l=r?t||"title-"+l:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":l},n),r?o.createElement("title",{id:l},r):null,o.createElement("path",{fill:"currentColor",d:"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75z"}))}),oe=e=>{const a=o.useRef(e);return o.useEffect(()=>{a.current=e},[e]),a.current};var Ge=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const qe=o.forwardRef((e,a)=>{var{className:r,children:t,variant:n="action",removeLabel:l="slett",onDelete:d,type:h="button",onClick:c}=e,m=Ge(e,["className","children","variant","removeLabel","onDelete","type","onClick"]);return s.createElement("button",Object.assign({},m,{ref:a,type:h,className:F("navds-chips__chip navds-chips__removable navds-chips--icon-right",r,`navds-chips__removable--${n}`),"aria-label":`${t} ${l}`,onClick:ve(c,d)}),s.createElement("span",{className:"navds-chips__chip-text"},t),s.createElement("span",{className:"navds-chips__removable-icon"},s.createElement(K,{"aria-hidden":!0})))});var De=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const Be=o.forwardRef((e,a)=>{var{className:r,children:t,selected:n,variant:l="action",checkmark:d=!0,as:h="button"}=e,c=De(e,["className","children","selected","variant","checkmark","as"]);return s.createElement(h,Object.assign({},c,{ref:a,className:F("navds-chips__chip navds-chips__toggle",r,`navds-chips__toggle--${l}`,{"navds-chips__toggle--with-checkmark":d}),"aria-pressed":n}),d&&s.createElement("svg",{"aria-hidden":!0,className:"navds-chips__toggle-icon",width:"1.25em",height:"1.25em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img"},n?s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 18.125C14.4873 18.125 18.125 14.4873 18.125 10C18.125 5.51269 14.4873 1.875 10 1.875C5.51269 1.875 1.875 5.51269 1.875 10C1.875 14.4873 5.51269 18.125 10 18.125ZM14.128 7.72904C14.3695 7.44357 14.3339 7.01635 14.0485 6.7748C13.763 6.53326 13.3358 6.56886 13.0942 6.85432L8.60428 12.1606L6.41627 9.97263C6.15185 9.70822 5.72315 9.70822 5.45873 9.97263C5.19431 10.2371 5.19431 10.6658 5.45873 10.9302L8.16706 13.6385C8.30095 13.7724 8.48479 13.8441 8.67397 13.8362C8.86316 13.8284 9.0404 13.7416 9.16271 13.5971L14.128 7.72904Z",fill:"currentColor"}):s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3.125C6.20304 3.125 3.125 6.20304 3.125 10C3.125 13.797 6.20304 16.875 10 16.875C13.797 16.875 16.875 13.797 16.875 10C16.875 6.20304 13.797 3.125 10 3.125ZM1.875 10C1.875 5.51269 5.51269 1.875 10 1.875C14.4873 1.875 18.125 5.51269 18.125 10C18.125 14.4873 14.4873 18.125 10 18.125C5.51269 18.125 1.875 14.4873 1.875 10Z",fill:"var(--ac-chip-toggle-circle-border, var(--a-border-default))"})),s.createElement("span",{className:"navds-chips__chip-text"},t))});var Ve=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const Z=o.forwardRef((e,a)=>{var{className:r,size:t="medium",children:n}=e,l=Ve(e,["className","size","children"]);return s.createElement("ul",Object.assign({},l,{ref:a,className:F("navds-chips",r,`navds-chips--${t}`,{"navds-body-short navds-body-short--small":t==="medium","navds-detail navds-detail--small":t==="small"})}),s.Children.map(n,(d,h)=>s.createElement("li",{key:(d==null?void 0:d.toString())||h},d)))});Z.Toggle=Be;Z.Removable=qe;const[$e,A]=W({name:"InputContext",errorMessage:"useInputContext must be used within an InputContextProvider"}),ze=({children:e,value:a})=>{const{defaultValue:r="",description:t,disabled:n,error:l,errorId:d,id:h,value:c,onChange:m,onClear:I,shouldAutocomplete:v,size:O}=a,g=ge({description:t,disabled:n,error:l,errorId:d,id:h,size:O},"comboboxfield"),i=o.useRef(null),f=o.useRef(null),[y,p]=o.useState(r),u=o.useMemo(()=>String(c??y),[c,y]),[E,S]=o.useState(u),x=o.useCallback(_=>{const L=_.currentTarget.value;c??p(L),m==null||m(_),S(L)},[c,m]),b=o.useCallback(_=>{p(_)},[p]),w=o.useCallback(_=>{I==null||I(_),m==null||m(null,""),b(""),S("")},[m,I,b]),R=o.useCallback(()=>{var _,L;(L=(_=i.current)===null||_===void 0?void 0:_.focus)===null||L===void 0||L.call(_)},[]);le(()=>{var _,L;v&&i&&u!==E&&((L=(_=i.current)===null||_===void 0?void 0:_.setSelectionRange)===null||L===void 0||L.call(_,E.length,u.length))},[u,E,v]);const j=Object.assign(Object.assign({},g),{clearInput:w,error:l,focusInput:R,inputRef:i,value:u,setValue:b,onChange:x,searchTerm:E,setSearchTerm:S,shouldAutocomplete:v,toggleOpenButtonRef:f});return s.createElement($e,Object.assign({},j),e)},He=({children:e,className:a,hasError:r,inputProps:t,inputSize:n,toggleIsListOpen:l})=>{const{toggleOpenButtonRef:d}=A(),h=o.useRef(null),[c,m]=o.useState(!1);function I(O){var g;!(!((g=h.current)===null||g===void 0)&&g.contains(O.relatedTarget))&&(d==null?void 0:d.current)!==O.target&&(l(!0),m(!0))}function v(O){var g;!((g=h.current)===null||g===void 0)&&g.contains(O.relatedTarget)||(l(!1),m(!1))}return s.createElement("div",{ref:h,className:F(a,"navds-form-field",`navds-form-field--${n}`,{"navds-combobox--error":r,"navds-combobox--disabled":!!t.disabled,"navds-combobox--focused":c}),onFocus:I,onBlur:v},e)},P=(e,a)=>typeof e=="string"?a.some(r=>r.label===e||r.value===e):a.some(r=>r.label===e.label&&r.value===e.value),ne=e=>({label:e,value:e}),Q=e=>e==null?void 0:e.map(a=>typeof a=="string"?ne(a):a),[Ue,ie]=W({name:"ComboboxCustomOptions",errorMessage:"useComboboxCustomOptions must be used within a ComboboxCustomOptionsProvider"}),Ke=({children:e,value:a})=>{const[r,t]=o.useState([]),{focusInput:n}=A(),{isMultiSelect:l}=a,d=o.useCallback(m=>{t(I=>I.filter(v=>v.label!==m.label)),n()},[n,t]),h=o.useCallback(m=>{t(l?I=>[...I,m]:[m]),n()},[n,l,t]),c={customOptions:r,removeCustomOption:d,addCustomOption:h,setCustomOptions:t};return s.createElement(Ue,Object.assign({},c),e)},[We,$]=W(),Xe=({children:e,value:a})=>{const{clearInput:r,focusInput:t}=A(),{customOptions:n,removeCustomOption:l,addCustomOption:d,setCustomOptions:h}=ie(),{allowNewValues:c,isMultiSelect:m,selectedOptions:I,onToggleSelected:v,options:O,maxSelected:g}=a,[i,f]=o.useState([]),y=o.useMemo(()=>I??[...n,...i],[n,I,i]),p=o.useCallback(w=>{const R=!P(w,O);R?(c&&d(w),!m&&f([])):m?f(j=>[...j,w]):(f([w]),h([])),v==null||v(w.value,!0,R)},[d,c,m,v,O,h]),u=o.useCallback(w=>{const R=P(w,n);R?l(w):f(j=>j.filter(_=>_!==w)),v==null||v(w.value,!1,R)},[n,v,l]),E=o.useCallback((w,R)=>{P(w.value,y)?u(w):p(w),r(R),t()},[p,r,t,u,y]),S=oe(y),x=!!(g!=null&&g.limit)&&y.length>=g.limit,b={addSelectedOption:p,isMultiSelect:m,removeSelectedOption:u,prevSelectedOptions:S,selectedOptions:y,setSelectedOptions:f,toggleOption:E,maxSelected:g&&Object.assign(Object.assign({},g),{isLimitReached:x})};return s.createElement(We,Object.assign({},b),e)},ee=e=>typeof e=="string"?e.toLocaleLowerCase().trim():"",de=(e,a)=>ee(a).startsWith(ee(e??"")),Ze=(e,a)=>a.filter(r=>de(e,r.label)),Je=e=>`${e}-filtered-options`,Qe=(e,a)=>`${e.toLocaleLowerCase()}-option-${a.replace(" ","-").toLocaleLowerCase()}`,Ye=e=>`${e}-combobox-new-option`,et=e=>`${e}-is-loading`,tt=e=>`${e}-no-hits`,nt=e=>`${e}-max-selected-options`,C={normalizeText:ee,isPartOfText:de,getMatchingValuesFromList:Ze,getFilteredOptionsId:Je,getAddNewOptionId:Ye,getOptionId:Qe,getIsLoadingId:et,getNoHitsId:tt,getMaxSelectedOptionsId:nt},rt=e=>{const[a,r]=o.useState(void 0),t=()=>{var i;return Array.from((i=e==null?void 0:e.children)!==null&&i!==void 0?i:[])},n=()=>t().filter(i=>i.getAttribute("data-no-focus")!=="true"),l=i=>t().find(f=>f.id===i),d=()=>a?n().indexOf(a)===0:!1,h=()=>{const i=n();return a?i.indexOf(a)===i.length-1:!1},c=i=>{var f;r(i),(f=i==null?void 0:i.scrollIntoView)===null||f===void 0||f.call(i,{block:"nearest"})};return{activeElement:a,getElementById:l,isFocusOnTheTop:d,isFocusOnTheBottom:h,moveFocusUp:()=>{if(!a)return;const i=n(),f=i.indexOf(a),y=i[f-1];f===0?r(void 0):c(y)},moveFocusDown:()=>{const i=n();if(!a){c(i[0]);return}const f=i.indexOf(a);f!==i.length-1&&c(i[f+1])},moveFocusToElement:i=>{const f=n().find(y=>y.getAttribute("id")===i);f&&r(f)},moveFocusToTop:()=>c(void 0),moveFocusToBottom:()=>{const i=n();return c(i[i.length-1])}}},[at,z]=W({name:"FilteredOptionsContext",errorMessage:"useFilteredOptionsContext must be used within a FilteredOptionsProvider"}),st=({children:e,value:a})=>{const{allowNewValues:r,filteredOptions:t,isListOpen:n,isLoading:l,options:d}=a,[h,c]=o.useState(null),m=rt(h),{inputProps:{"aria-describedby":I,id:v},value:O,searchTerm:g,setValue:i,setSearchTerm:f,shouldAutocomplete:y}=A(),{maxSelected:p}=$(),[u,E]=o.useState(!1),{customOptions:S}=ie(),x=o.useMemo(()=>{if(t)return t;const N=[...S,...d];return C.getMatchingValuesFromList(g,N)},[S,t,d,g]),b=oe(g),[w,R]=o.useState(!1),j=o.useMemo(()=>{const N=Object.assign({[C.getAddNewOptionId(v)]:r?ne(O):void 0},S.reduce((D,B)=>{const J=C.getOptionId(v,B.label);return D[J]=B,D},{}));return d.reduce((D,B)=>{const J=C.getOptionId(v,B.label);return D[J]=B,D},N)},[r,S,v,d,O]);le(()=>{y&&C.normalizeText(g)!==""&&((b==null?void 0:b.length)||0)<g.length&&x.length>0&&(i(`${g}${x[0].label.substring(g.length)}`),f(g))},[x,b,g,f,i,y]);const _=o.useMemo(()=>n??u,[n,u]),L=o.useCallback(N=>{m.moveFocusToTop(),E(H=>N??!H)},[m]),k=o.useMemo(()=>!!O&&!j[C.getOptionId(v,O)],[j,v,O]),M=o.useMemo(()=>{let N="";!l&&x.length===0&&!r?N=C.getNoHitsId(v):(O||l)&&(y&&x[0]?N=C.getOptionId(v,x[0].label):_&&l&&(N=C.getIsLoadingId(v)));const H=(p==null?void 0:p.isLimitReached)&&C.getMaxSelectedOptionsId(v);return F(N,H,I)||void 0},[_,l,p==null?void 0:p.isLimitReached,O,I,y,x,v,r]),q=o.useMemo(()=>{var N;return j[((N=m.activeElement)===null||N===void 0?void 0:N.getAttribute("id"))||-1]},[j,m]),me={activeDecendantId:o.useMemo(()=>{var N;return((N=m.activeElement)===null||N===void 0?void 0:N.getAttribute("id"))||void 0},[m.activeElement]),allowNewValues:r,setFilteredOptionsRef:c,shouldAutocomplete:y,isListOpen:_,isLoading:l,filteredOptions:x,isMouseLastUsedInputDevice:w,setIsMouseLastUsedInputDevice:R,isValueNew:k,toggleIsListOpen:L,currentOption:q,virtualFocus:m,ariaDescribedBy:M};return s.createElement(at,Object.assign({},me),e)},lt=()=>{var e;const{inputProps:{id:a},size:r,value:t}=A(),{allowNewValues:n,isLoading:l,isListOpen:d,filteredOptions:h,setFilteredOptionsRef:c,isMouseLastUsedInputDevice:m,setIsMouseLastUsedInputDevice:I,isValueNew:v,toggleIsListOpen:O,activeDecendantId:g,virtualFocus:i}=z(),{isMultiSelect:f,selectedOptions:y,toggleOption:p,maxSelected:u}=$(),E=b=>(u==null?void 0:u.isLimitReached)&&!P(b.value,y),S=(u==null?void 0:u.isLimitReached)||l||!l&&h.length===0&&!n,x=n&&v&&!(u!=null&&u.isLimitReached)||h.length>0;return s.createElement("div",{className:F("navds-combobox__list",{"navds-combobox__list--closed":!d,"navds-combobox__list--with-hover":m}),id:C.getFilteredOptionsId(a),tabIndex:-1},S&&s.createElement("div",{className:"navds-combobox__list_non-selectables",role:"status"},(u==null?void 0:u.isLimitReached)&&s.createElement("div",{className:"navds-combobox__list-item--max-selected",id:C.getMaxSelectedOptionsId(a)},(e=u.message)!==null&&e!==void 0?e:`${y.length} av ${u.limit} er valgt.`),l&&s.createElement("div",{className:"navds-combobox__list-item--loading",id:C.getIsLoadingId(a)},s.createElement(be,{title:"Søker..."})),!l&&h.length===0&&!n&&s.createElement("div",{className:"navds-combobox__list-item--no-options",id:C.getNoHitsId(a)},"Ingen søketreff")),x&&s.createElement("ul",{ref:c,role:"listbox",className:"navds-combobox__list-options"},v&&!(u!=null&&u.isLimitReached)&&n&&s.createElement("li",{tabIndex:-1,onMouseMove:()=>{g!==C.getAddNewOptionId(a)&&(i.moveFocusToElement(C.getAddNewOptionId(a)),I(!0))},onPointerUp:b=>{p(ne(t),b),!f&&!P(t,y)&&O(!1)},id:C.getAddNewOptionId(a),className:F("navds-combobox__list-item navds-combobox__list-item--new-option",{"navds-combobox__list-item--new-option--focus":g===C.getAddNewOptionId(a)}),role:"option","aria-selected":!1},s.createElement(Ae,{"aria-hidden":!0}),s.createElement(V,{size:r},"Legg til"," ",s.createElement(X,{as:"span",size:r},"“",t,"”"))),h.map(b=>s.createElement("li",{className:F("navds-combobox__list-item",{"navds-combobox__list-item--focus":g===C.getOptionId(a,b.label),"navds-combobox__list-item--selected":P(b.value,y)}),"data-no-focus":E(b)||void 0,id:C.getOptionId(a,b.label),key:b.label,tabIndex:-1,onMouseMove:()=>{g!==C.getOptionId(a,b.label)&&(i.moveFocusToElement(C.getOptionId(a,b.label)),I(!0))},onPointerUp:w=>{E(b)||(p(b,w),!f&&!P(b.value,y)&&O(!1))},role:"option","aria-selected":P(b.value,y),"aria-disabled":E(b)||void 0},s.createElement(V,{size:r},b.label),P(b.value,y)&&s.createElement(je,null)))))},ot=({option:e})=>{const{isMultiSelect:a,removeSelectedOption:r}=$(),{focusInput:t}=A(),n=l=>{l.stopPropagation(),r(e),t()};return a?s.createElement(Z.Removable,{onClick:n},e.label):s.createElement("div",{className:"navds-combobox__selected-options--no-bg"},e.label)},it=({selectedOptions:e=[],size:a,children:r})=>s.createElement(Z,{className:"navds-combobox__selected-options",size:a},e.length?e.map((t,n)=>s.createElement(ot,{key:t.label+n,option:t})):[],r);var dt=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const se=o.forwardRef((e,a)=>{var{inputClassName:r}=e,t=dt(e,["inputClassName"]);const{clearInput:n,inputProps:l,onChange:d,size:h,value:c}=A(),{selectedOptions:m,removeSelectedOption:I,toggleOption:v,isMultiSelect:O}=$(),{activeDecendantId:g,allowNewValues:i,currentOption:f,filteredOptions:y,isValueNew:p,toggleIsListOpen:u,isListOpen:E,ariaDescribedBy:S,setIsMouseLastUsedInputDevice:x,shouldAutocomplete:b,virtualFocus:w}=z(),R=o.useCallback(k=>{const M=q=>m.some(re=>re.label.toLocaleLowerCase()===q.toLocaleLowerCase());if(f)k.preventDefault(),v(f,k),!O&&!M(f.label)&&u(!1);else if(b&&M(c))k.preventDefault(),n(k);else if((i||b)&&c!==""){k.preventDefault();const q=i&&p?{label:c,value:c}:y[0];v(q,k),!O&&!M(y[0].label||q.label)&&u(!1)}},[i,n,f,y,O,p,m,b,u,v,c]),j=k=>{switch(k.preventDefault(),k.key){case"Escape":n(k),u(!1);break;case"Enter":case"Accept":R(k);break;case"Home":u(!1),w.moveFocusToTop();break;case"End":u(!0),w.moveFocusToBottom();break}},_=o.useCallback(k=>{if(x(!1),k.key==="Backspace"){if(c===""){const M=m[m.length-1];M&&I(M)}}else k.key==="Enter"||k.key==="Accept"?(g||c)&&k.preventDefault():k.key==="ArrowDown"?k.target.selectionStart===(c==null?void 0:c.length)&&(k.preventDefault(),(w.activeElement===null||!E)&&u(!0),w.moveFocusDown()):k.key==="ArrowUp"&&E&&g&&(k.preventDefault(),w.isFocusOnTheTop()&&u(!1),w.moveFocusUp())},[c,m,I,E,g,x,u,w]),L=o.useCallback(k=>{const M=k.target.value;M&&M!==""?u(!0):y.length===0&&u(!1),w.moveFocusToTop(),d(k)},[y.length,w,d,u]);return s.createElement("input",Object.assign({},t,fe(l,["aria-invalid"]),{ref:a,value:c,onBlur:()=>w.moveFocusToTop(),onChange:L,type:"text",role:"combobox",onKeyUp:j,onKeyDown:_,"aria-controls":C.getFilteredOptionsId(l.id),"aria-expanded":!!E,autoComplete:"off","aria-autocomplete":b?"both":"list","aria-activedescendant":g,"aria-describedby":S,"aria-invalid":l["aria-invalid"],className:F(r,"navds-combobox__input","navds-body-short",`navds-body-short--${h}`)}))}),ut=o.forwardRef(({toggleListButtonLabel:e},a)=>{const{isListOpen:r,toggleIsListOpen:t}=z();return s.createElement("button",{type:"button",onPointerUp:()=>t(),onKeyDown:({key:n})=>n==="Enter"&&t(),className:"navds-combobox__button-toggle-list","aria-expanded":r,tabIndex:-1,ref:a},s.createElement("span",{className:"navds-sr-only"},e??"Alternativer"),r?s.createElement(Me,{"aria-hidden":!0}):s.createElement(ye,{"aria-hidden":!0}))});var ct=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const pt=o.forwardRef((e,a)=>{const{clearButton:r=!0,clearButtonLabel:t,toggleListButton:n=!0,toggleListButtonLabel:l,inputClassName:d,shouldShowSelectedOptions:h=!0}=e,c=ct(e,["clearButton","clearButtonLabel","toggleListButton","toggleListButtonLabel","inputClassName","shouldShowSelectedOptions"]),{clearInput:m,focusInput:I,inputProps:v,value:O,size:g="medium",inputRef:i,toggleOpenButtonRef:f}=A(),{activeDecendantId:y}=z(),{selectedOptions:p}=$(),u=Oe(i,a);return s.createElement("div",{className:F("navds-combobox__wrapper-inner navds-text-field__input",{"navds-combobox__wrapper-inner--virtually-unfocused":y!==void 0}),onClick:I},h?s.createElement(it,{selectedOptions:p,size:g},s.createElement(se,Object.assign({id:v.id,ref:u,inputClassName:d},c))):s.createElement(se,Object.assign({id:v.id,ref:u,inputClassName:d},c)),s.createElement("div",null,O&&r&&s.createElement("button",{type:"button",onClick:m,className:"navds-combobox__button-clear",tabIndex:-1},s.createElement("span",{className:"navds-sr-only"},t||"Tøm"),s.createElement(K,{"aria-hidden":!0})),n&&s.createElement(ut,{toggleListButtonLabel:l,ref:f})))});var mt=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const vt=o.forwardRef((e,a)=>{const{className:r,hideLabel:t=!1,description:n,label:l}=e,d=mt(e,["className","hideLabel","description","label"]),{toggleIsListOpen:h}=z(),{error:c,errorId:m,hasError:I,inputDescriptionId:v,inputProps:O,showErrorMsg:g,size:i="medium"}=A();return s.createElement(He,{className:r,hasError:I,inputProps:O,inputSize:i,toggleIsListOpen:h},s.createElement(X,{htmlFor:O.id,size:i,className:F("navds-form-field__label",{"navds-sr-only":t})},l),!!n&&s.createElement(V,{as:"div",className:F("navds-form-field__description",{"navds-sr-only":t}),id:v,size:i},n),s.createElement("div",{className:"navds-combobox__wrapper"},s.createElement(pt,Object.assign({ref:a},d)),s.createElement(lt,null)),s.createElement("div",{className:"navds-form-field__error",id:m,"aria-relevant":"additions removals","aria-live":"polite"},g&&s.createElement(he,{size:i},c)))});var gt=function(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const bt=o.forwardRef((e,a)=>{const{allowNewValues:r=!1,children:t,defaultValue:n,error:l,errorId:d,filteredOptions:h,id:c,isListOpen:m,isLoading:I=!1,isMultiSelect:v,onToggleSelected:O,selectedOptions:g,maxSelected:i,options:f,value:y,onChange:p,onClear:u,shouldAutocomplete:E,size:S}=e,x=gt(e,["allowNewValues","children","defaultValue","error","errorId","filteredOptions","id","isListOpen","isLoading","isMultiSelect","onToggleSelected","selectedOptions","maxSelected","options","value","onChange","onClear","shouldAutocomplete","size"]),b=Q(f)||[],w=Q(h),R=Q(g);return s.createElement(ze,{value:{defaultValue:n,error:l,errorId:d,id:c,value:y,onChange:p,onClear:u,shouldAutocomplete:E,size:S}},s.createElement(Ke,{value:{isMultiSelect:v}},s.createElement(Xe,{value:{allowNewValues:r,isMultiSelect:v,selectedOptions:R,maxSelected:i,onToggleSelected:O,options:b}},s.createElement(st,{value:{allowNewValues:r,filteredOptions:w,isListOpen:m,isLoading:I,options:b}},s.createElement(vt,Object.assign({ref:a},x),t)))))}),ft="_navn_broku_1",yt="_saksbehandlerCombo_broku_5",Ot="_removeIcon_broku_9",Y={navn:ft,saksbehandlerCombo:yt,removeIcon:Ot},ht=Ne(3),It=Re(100),wt=e=>[...e].sort((a,r)=>a.navn.localeCompare(r.navn)),kt=(e,a)=>e.filter(r=>!a.some(t=>t.brukerIdent===r.brukerIdent)).sort((r,t)=>r.navn.localeCompare(t.navn)),ue=({saksbehandlerGruppe:e,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:r,endreGruppenavn:t})=>{const n=Ie(),l=we({defaultValues:{navn:e.gruppeNavn}}),d=wt(e.saksbehandlere),c=kt(a,d).map(p=>`${p.navn} (${p.brukerIdent})`),m=Le("navn",p=>t(e.gruppeId,p),l.trigger),[I,v]=o.useState([]),[O,g]=o.useState(""),i=p=>{p!=null&&p.trim()?v(c.filter(u=>u.toLowerCase().includes(p.toLowerCase()))):v(c)},f=(p,u)=>{const E=I.find(b=>b.toLowerCase().includes(p==null?void 0:p.toLowerCase())),S=E==null?void 0:E.replace(")","").split(" ("),x=d.some(b=>S&&b.brukerIdent===S[1]);E&&u&&!x&&S&&r(S[1],e.gruppeId,!0)},y=(p,u)=>{r(p,u,!1)};return o.useEffect(()=>i(O),[e,O]),s.createElement(ke,{formMethods:l},s.createElement(U,{gap:"5"},s.createElement(Ee,{name:"navn",label:n.formatMessage({id:"GruppeSaksbehandlere.Navn"}),validate:[Se,ht,It,xe],onBlur:m,className:Y.navn}),s.createElement(U,{gap:"4"},s.createElement(bt,{label:n.formatMessage({id:"GruppeSaksbehandlere.VelgSaksbehandlere"}),size:"small",options:c,filteredOptions:I,selectedOptions:[],onChange:p=>g(p==null?void 0:p.target.value),onToggleSelected:f,className:Y.saksbehandlerCombo}),s.createElement(U,{gap:"2"},s.createElement(X,{size:"small"},s.createElement(G,{id:"GruppeSaksbehandlere.ValgteSaksbehandlere"})),d.length===0&&s.createElement(V,{size:"small"},s.createElement(G,{id:"GruppeSaksbehandlere.Ingen"})),d.map(p=>s.createElement(_e,{gap:"2",align:"center",key:p.brukerIdent},s.createElement("div",null,`${p.navn} (${p.brukerIdent})`),s.createElement("div",null,s.createElement(K,{className:Y.removeIcon,onMouseDown:()=>y(p.brukerIdent,e.gruppeId),onKeyDown:()=>y(p.brukerIdent,e.gruppeId)}))))))))};ue.__docgenInfo={description:"",methods:[],displayName:"GruppeSaksbehandlere",props:{saksbehandlerGruppe:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: GruppeSaksbehandler[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"avdelingsnavn",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}>`}],raw:"GruppeSaksbehandler[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: GruppeSaksbehandler[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"avdelingsnavn",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}>`}],raw:"SaksbehandlerAvdeling[]"},description:""},lagreValgtSaksbehandlar:{required:!0,tsType:{name:"signature",type:"function",raw:"(brukerIdent: string, gruppeId: number, leggTil: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"brukerIdent"},{type:{name:"number"},name:"gruppeId"},{type:{name:"boolean"},name:"leggTil"}],return:{name:"void"}}},description:""},endreGruppenavn:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number, gruppeNavn: string) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"},{type:{name:"string"},name:"gruppeNavn"}],return:{name:"void"}}},description:""}}};const Et="_removeIcon_1k4e9_1",_t={removeIcon:Et},ce=({grupper:e,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:r,endreGruppenavn:t,slettGruppe:n})=>{var l;return s.createElement(s.Fragment,null,s.createElement(X,{size:"small"},s.createElement(G,{id:"GrupperTabell.Grupper"})),e.saksbehandlerGrupper.length>0&&s.createElement(T,null,s.createElement(T.Header,null,s.createElement(T.Row,null,s.createElement(T.HeaderCell,null),s.createElement(T.HeaderCell,{scope:"col"},s.createElement(G,{id:"GrupperTabell.Id"})),s.createElement(T.HeaderCell,{scope:"col"},s.createElement(G,{id:"GrupperTabell.Navn"})),s.createElement(T.HeaderCell,{scope:"col"},s.createElement(G,{id:"GrupperTabell.AntallSaksbehandlere"})),s.createElement(T.HeaderCell,null))),s.createElement(T.Body,null,(l=e.saksbehandlerGrupper)==null?void 0:l.map(d=>s.createElement(T.ExpandableRow,{key:d.gruppeId,content:s.createElement(ue,{saksbehandlerGruppe:d,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:r,endreGruppenavn:t})},s.createElement(T.DataCell,{scope:"row"},d.gruppeId),s.createElement(T.DataCell,null,d.gruppeNavn||"-"),s.createElement(T.DataCell,null,d.saksbehandlere.length),s.createElement(T.DataCell,null,s.createElement(K,{className:_t.removeIcon,onMouseDown:()=>n(d.gruppeId),onKeyDown:()=>n(d.gruppeId)})))))),e.saksbehandlerGrupper.length===0&&s.createElement(V,null,s.createElement(G,{id:"GrupperTabell.IngenGrupper"})))};ce.__docgenInfo={description:"",methods:[],displayName:"GrupperTabell",props:{grupper:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}`,signature:{properties:[{key:"saksbehandlerGrupper",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: GruppeSaksbehandler[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"avdelingsnavn",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}>`}],raw:"GruppeSaksbehandler[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: GruppeSaksbehandler[];
}>`}],raw:"SaksbehandlerGruppe[]",required:!0}}]}}],raw:`Readonly<{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"avdelingsnavn",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}>`}],raw:"SaksbehandlerAvdeling[]"},description:""},lagreValgtSaksbehandlar:{required:!0,tsType:{name:"signature",type:"function",raw:"(brukerIdent: string, gruppeId: number, leggTil: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"brukerIdent"},{type:{name:"number"},name:"gruppeId"},{type:{name:"boolean"},name:"leggTil"}],return:{name:"void"}}},description:""},endreGruppenavn:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number, gruppeNavn: string) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"},{type:{name:"string"},name:"gruppeNavn"}],return:{name:"void"}}},description:""},slettGruppe:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"}],return:{name:"void"}}},description:""}}};const pe=({grupper:e,avdelingensSaksbehandlere:a,opprettOgHentAlleGrupper:r,opprettNyGruppeState:t,lagreValgtSaksbehandlar:n,endreGruppenavn:l,slettGruppe:d})=>s.createElement(U,{gap:"5",align:"start"},s.createElement(ce,{grupper:e,avdelingensSaksbehandlere:a,lagreValgtSaksbehandlar:n,endreGruppenavn:l,slettGruppe:d}),s.createElement(Ce,{size:"small",variant:"secondary",loading:t===ae.LOADING,disabled:t===ae.LOADING,tabIndex:0,onClick:r},s.createElement(G,{id:"GrupperPanel.OpprettGruppe"}))),Tt=pe;pe.__docgenInfo={description:"",methods:[],displayName:"GrupperPanel",props:{grupper:{required:!0,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}`,signature:{properties:[{key:"saksbehandlerGrupper",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: GruppeSaksbehandler[];
}`,signature:{properties:[{key:"gruppeId",value:{name:"number",required:!0}},{key:"gruppeNavn",value:{name:"string",required:!1}},{key:"saksbehandlere",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"avdelingsnavn",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}>`}],raw:"GruppeSaksbehandler[]",required:!0}}]}}],raw:`Readonly<{
  gruppeId: number;
  gruppeNavn?: string;
  saksbehandlere: GruppeSaksbehandler[];
}>`}],raw:"SaksbehandlerGruppe[]",required:!0}}]}}],raw:`Readonly<{
  // saksbehandlere: GruppeSaksbehandler[]; // FIXME Kva treng ein denne til?
  saksbehandlerGrupper: SaksbehandlerGruppe[];
}>`},description:""},avdelingensSaksbehandlere:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"avdelingsnavn",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  avdelingsnavn: string[];
}>`}],raw:"SaksbehandlerAvdeling[]"},description:""},opprettOgHentAlleGrupper:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},opprettNyGruppeState:{required:!1,tsType:{name:"RestApiState"},description:""},lagreValgtSaksbehandlar:{required:!0,tsType:{name:"signature",type:"function",raw:"(brukerIdent: string, gruppeId: number, leggTil: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"brukerIdent"},{type:{name:"number"},name:"gruppeId"},{type:{name:"boolean"},name:"leggTil"}],return:{name:"void"}}},description:""},endreGruppenavn:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number, gruppeNavn: string) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"},{type:{name:"string"},name:"gruppeNavn"}],return:{name:"void"}}},description:""},slettGruppe:{required:!0,tsType:{name:"signature",type:"function",raw:"(gruppeId: number) => void",signature:{arguments:[{type:{name:"number"},name:"gruppeId"}],return:{name:"void"}}},description:""}}};export{Tt as G};
