import{k as ie,j as r,l as Ee,h as je,n as oe,o as Ne,B as C}from"./iframe-BuREq5wK.js";import{a as le,A as H,P as ce,y as Pe,M as Fe}from"./index.es-DcdaQS9p.js";import{u as G}from"./useMutation-XlK_qM8Q.js";import{p as ye,L as p,H as Se,q as Ke,r as Ie,V as me,t as ke}from"./fplosAvdelingslederApi-CdjnI7pm.js";import{u as qe}from"./useLosKodeverk-BU4fHzul.js";import{v as Z,O as ge}from"./index.es-DHNqg2Tn.js";import{W as xe,H as fe}from"./index.es-D1poN8qV.js";import{u as U}from"./useDebounce-OY7QzTeh.js";import{D as _,M as P}from"./nb_NO-Ct4fFKbB.js";const Ye="_dager_1u55p_1",we="_dagerMedBindestrek_1u55p_5",Ge="_dato_1u55p_19",be="_arrowBoxWidth_1u55p_24",M={dager:Ye,dagerMedBindestrek:we,beløp:"_beløp_1u55p_10",dato:Ge,arrowBoxWidth:be},Le=({valgtSakslisteId:u,valgtAvdelingEnhet:f})=>{const h=ie(),{watch:o,trigger:i,control:d}=le(),m=o("fra"),D=o("til"),{mutate:g}=G({mutationFn:S=>ye(u,S.fra,S.til,f),onSuccess:()=>{h.invalidateQueries({queryKey:[p.OPPGAVE_ANTALL]}),h.invalidateQueries({queryKey:[p.OPPGAVE_AVDELING_ANTALL]}),h.invalidateQueries({queryKey:[p.SAKSLISTER_FOR_AVDELING]})}}),l=S=>g({fra:S,til:D}),s=S=>g({fra:m,til:S}),V=U("fra",l,i),F=U("til",s,i);return r.jsxs(xe,{children:[r.jsx(_,{children:r.jsx(P,{id:"SorteringVelger.FiltrerPaHeltall"})}),r.jsxs(Se,{gap:"4",children:[r.jsx(H,{name:"fra",control:d,className:M.dato,validate:[Z],onChange:V}),r.jsx(_,{className:M.beløp,children:r.jsx(P,{id:"SorteringVelger.Valuta"})}),r.jsx(H,{name:"til",control:d,className:M.dato,validate:[Z],onChange:F}),r.jsx(_,{className:M.beløp,children:r.jsx(P,{id:"SorteringVelger.Valuta"})})]})]})};Le.__docgenInfo={description:"",methods:[],displayName:"BelopSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""}}};var $={exports:{}},Oe=$.exports,he;function Re(){return he||(he=1,function(u,f){(function(h,o){u.exports=o()})(Oe,function(){var h={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,d=/\d\d/,m=/\d\d?/,D=/\d*[^-_:/,()\s\d]+/,g={},l=function(e){return(e=+e)+(e>68?1900:2e3)},s=function(e){return function(t){this[e]=+t}},V=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(t){if(!t||t==="Z")return 0;var a=t.match(/([+-]|\d\d)/g),n=60*a[1]+(+a[2]||0);return n===0?0:a[0]==="+"?-n:n}(e)}],F=function(e){var t=g[e];return t&&(t.indexOf?t:t.s.concat(t.f))},S=function(e,t){var a,n=g.meridiem;if(n){for(var c=1;c<=24;c+=1)if(e.indexOf(n(c,0,t))>-1){a=c>12;break}}else a=e===(t?"pm":"PM");return a},W={A:[D,function(e){this.afternoon=S(e,!1)}],a:[D,function(e){this.afternoon=S(e,!0)}],Q:[i,function(e){this.month=3*(e-1)+1}],S:[i,function(e){this.milliseconds=100*+e}],SS:[d,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[m,s("seconds")],ss:[m,s("seconds")],m:[m,s("minutes")],mm:[m,s("minutes")],H:[m,s("hours")],h:[m,s("hours")],HH:[m,s("hours")],hh:[m,s("hours")],D:[m,s("day")],DD:[d,s("day")],Do:[D,function(e){var t=g.ordinal,a=e.match(/\d+/);if(this.day=a[0],t)for(var n=1;n<=31;n+=1)t(n).replace(/\[|\]/g,"")===e&&(this.day=n)}],w:[m,s("week")],ww:[d,s("week")],M:[m,s("month")],MM:[d,s("month")],MMM:[D,function(e){var t=F("months"),a=(F("monthsShort")||t.map(function(n){return n.slice(0,3)})).indexOf(e)+1;if(a<1)throw new Error;this.month=a%12||a}],MMMM:[D,function(e){var t=F("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,s("year")],YY:[d,function(e){this.year=l(e)}],YYYY:[/\d{4}/,s("year")],Z:V,ZZ:V};function z(e){var t,a;t=e,a=g&&g.formats;for(var n=(e=t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(I,E,L){var x=L&&L.toUpperCase();return E||a[L]||h[L]||a[x].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(j,N,k){return N||k.slice(1)})})).match(o),c=n.length,A=0;A<c;A+=1){var w=n[A],K=W[w],v=K&&K[0],T=K&&K[1];n[A]=T?{regex:v,parser:T}:w.replace(/^\[|\]$/g,"")}return function(I){for(var E={},L=0,x=0;L<c;L+=1){var j=n[L];if(typeof j=="string")x+=j.length;else{var N=j.regex,k=j.parser,b=I.slice(x),Y=N.exec(b)[0];k.call(E,Y),I=I.replace(Y,"")}}return function(q){var O=q.afternoon;if(O!==void 0){var y=q.hours;O?y<12&&(q.hours+=12):y===12&&(q.hours=0),delete q.afternoon}}(E),E}}return function(e,t,a){a.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(l=e.parseTwoDigitYear);var n=t.prototype,c=n.parse;n.parse=function(A){var w=A.date,K=A.utc,v=A.args;this.$u=K;var T=v[1];if(typeof T=="string"){var I=v[2]===!0,E=v[3]===!0,L=I||E,x=v[2];E&&(x=v[2]),g=this.$locale(),!I&&x&&(g=a.Ls[x]),this.$d=function(b,Y,q,O){try{if(["x","X"].indexOf(Y)>-1)return new Date((Y==="X"?1e3:1)*b);var y=z(Y)(b),X=y.year,R=y.month,Ae=y.day,ve=y.hours,Te=y.minutes,_e=y.seconds,Me=y.milliseconds,de=y.zone,ue=y.week,J=new Date,ee=Ae||(X||R?1:J.getDate()),re=X||J.getFullYear(),B=0;X&&!R||(B=R>0?R-1:J.getMonth());var Q,te=ve||0,ae=Te||0,se=_e||0,ne=Me||0;return de?new Date(Date.UTC(re,B,ee,te,ae,se,ne+60*de.offset*1e3)):q?new Date(Date.UTC(re,B,ee,te,ae,se,ne)):(Q=new Date(re,B,ee,te,ae,se,ne),ue&&(Q=O(Q).week(ue).toDate()),Q)}catch{return new Date("")}}(w,T,K,a),this.init(),x&&x!==!0&&(this.$L=this.locale(x).$L),L&&w!=this.format(T)&&(this.$d=new Date("")),g={}}else if(T instanceof Array)for(var j=T.length,N=1;N<=j;N+=1){v[1]=T[N-1];var k=a.apply(this,v);if(k.isValid()){this.$d=k.$d,this.$L=k.$L,this.init();break}N===j&&(this.$d=new Date(""))}else c.call(this,A)}}})}($)),$.exports}var Be=Re();const Qe=Ee(Be);oe.extend(Qe);const Ve=({valgtSakslisteId:u,valgtAvdelingEnhet:f,erDynamiskPeriode:h})=>{const o=ie(),i=je(),{mutate:d}=G({mutationFn:c=>ye(u,c.fra,c.til,f),onSuccess:()=>{o.invalidateQueries({queryKey:[p.OPPGAVE_ANTALL]}),o.invalidateQueries({queryKey:[p.OPPGAVE_AVDELING_ANTALL]}),o.invalidateQueries({queryKey:[p.SAKSLISTER_FOR_AVDELING]})}}),{mutate:m}=G({mutationFn:()=>Ke(u,f),onSuccess:()=>{o.invalidateQueries({queryKey:[p.OPPGAVE_ANTALL]}),o.invalidateQueries({queryKey:[p.OPPGAVE_AVDELING_ANTALL]}),o.invalidateQueries({queryKey:[p.SAKSLISTER_FOR_AVDELING]})}}),{mutate:D}=G({mutationFn:c=>Ie(u,f,c.fomDato,c.tomDato),onSuccess:()=>{o.invalidateQueries({queryKey:[p.OPPGAVE_ANTALL]}),o.invalidateQueries({queryKey:[p.OPPGAVE_AVDELING_ANTALL]}),o.invalidateQueries({queryKey:[p.SAKSLISTER_FOR_AVDELING]})}}),{watch:g,control:l}=le(),s=g("fra"),V=g("til"),F=g("fomDato"),S=g("tomDato"),W=c=>d({fra:c,til:V}),z=c=>d({fra:s,til:c}),e=De(D,!0,S),t=De(D,!1,F),a=U("fomDato",e),n=U("tomDato",t);return r.jsx("div",{className:M.arrowBoxWidth,children:r.jsx(xe,{children:r.jsxs(me,{gap:"2",children:[r.jsx(_,{children:r.jsx(P,{id:"SorteringVelger.FiltrerPaTidsintervall"})}),h&&r.jsxs(Se,{gap:"4",children:[r.jsxs("div",{children:[r.jsx(H,{name:"fra",control:l,className:M.dato,label:i.formatMessage({id:"SorteringVelger.Fom"}),validate:[Z],onBlur:W}),(s||s===0)&&r.jsx(_,{children:r.jsx(fe,{dateString:pe(s)})})]}),r.jsx(_,{className:M.dager,children:r.jsx(P,{id:"SorteringVelger.DagerMedBindestrek"})}),r.jsxs("div",{children:[r.jsx(H,{name:"til",control:l,className:M.dato,label:i.formatMessage({id:"SorteringVelger.Tom"}),validate:[Z],onBlur:z}),(V||V===0)&&r.jsx(_,{children:r.jsx(fe,{dateString:pe(V)})})]}),r.jsx(_,{className:M.dagerMedBindestrek,children:r.jsx(P,{id:"SorteringVelger.Dager"})})]}),!h&&r.jsxs(me,{gap:"4",children:[r.jsx(ce,{name:"fomDato",control:l,label:i.formatMessage({id:"SorteringVelger.Fom"}),validate:[ge],onChange:a}),r.jsx(_,{children:r.jsx(P,{id:"SorteringVelger.Bindestrek"})}),r.jsx(ce,{name:"tomDato",control:l,label:i.formatMessage({id:"SorteringVelger.Tom"}),validate:[ge],onChange:n})]}),r.jsx(Pe,{name:"erDynamiskPeriode",control:l,label:i.formatMessage({id:"SorteringVelger.DynamiskPeriode"}),onChange:()=>m()})]})})})},pe=u=>oe().add(u,"d").format(),De=(u,f,h)=>o=>{let i;if(o&&(i=oe(o)),!i||i.isValid()){const d=i&&i.format(Ne);return u(f?{fomDato:d,tomDato:h}:{fomDato:h,tomDato:d})}};Ve.__docgenInfo={description:"",methods:[],displayName:"DatoSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};const Ce=u=>u&&u.some(f=>f===C.TILBAKEKREVING||f===C.TILBAKEKREVING_REVURDERING)&&!u.some(f=>f!==C.TILBAKEKREVING&&f!==C.TILBAKEKREVING_REVURDERING),$e=({valgtSakslisteId:u,valgteBehandlingtyper:f,valgtAvdelingEnhet:h,erDynamiskPeriode:o})=>{const i=ie(),{resetField:d,control:m}=le(),{mutate:D}=G({mutationFn:l=>ke(u,l.sorteringType,h),onSuccess:()=>{i.invalidateQueries({queryKey:[p.OPPGAVE_ANTALL]}),i.invalidateQueries({queryKey:[p.OPPGAVE_AVDELING_ANTALL]}),i.invalidateQueries({queryKey:[p.SAKSLISTER_FOR_AVDELING]})}}),g=qe("KøSortering");return r.jsx(Fe,{name:"sortering",control:m,label:r.jsx(P,{id:"SorteringVelger.Sortering"}),onChange:l=>(d("fra",{defaultValue:""}),d("til",{defaultValue:""}),d("fomDato",{defaultValue:""}),d("tomDato",{defaultValue:""}),d("erDynamiskPeriode",{defaultValue:""}),D({sorteringType:l})),radios:g.filter(l=>l.feltkategori!=="TILBAKEKREVING"||Ce(f)).map(l=>({value:l.kode,label:l.navn,element:r.jsxs(r.Fragment,{children:[l.felttype==="DATO"&&r.jsx(Ve,{valgtSakslisteId:u,valgtAvdelingEnhet:h,erDynamiskPeriode:o}),l.felttype==="HELTALL"&&r.jsx(Le,{valgtSakslisteId:u,valgtAvdelingEnhet:h})]})}))})};$e.__docgenInfo={description:"",methods:[],displayName:"SorteringVelger",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgteBehandlingtyper:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};export{$e as S};
