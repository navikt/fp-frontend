import{j as r,a as o}from"./jsx-runtime-CUEGZZF9.js";import{r as u}from"./index-DogsOklH.js";import{b as K,u as N,O as P,f as F,F as I,a as b,H as _,C as U,h as D}from"./nb_NO-Lpx64cL7.js";import{r as R,G as j,k as v,I as B}from"./index.es-54D7gkuX.js";import{b as T,a as V}from"./fplosRestApi-rASv3eze.js";import{B as O}from"./BehandlingstypeVelger-bYuVR18o.js";import{A as L}from"./AndreKriterierVelger-982-dyIj.js";import{F as q}from"./FagsakYtelseTypeVelger-cTbZiuAJ.js";import{u as z,S as C}from"./SorteringVelger-mwJEP-2o.js";import{P as E}from"./Panel-ImEOJhaY.js";import{V as M}from"./VStack-_7_o3hbz.js";const Y="_grayBox_zjuun_1",G="_panel_zjuun_6",H="_bredde_zjuun_11",y={grayBox:Y,panel:G,bredde:H},w=v(3),$=B(100),J=(n,e)=>{var d,t;const a=e.behandlingTyper?e.behandlingTyper.reduce((i,s)=>({...i,[s]:!0}),{}):{},p=e.fagsakYtelseTyper?e.fagsakYtelseTyper.reduce((i,s)=>({...i,[s]:!0}),{}):{},l=e.andreKriterier?e.andreKriterier.reduce((i,s)=>({...i,[s.andreKriterierType]:!0}),{}):{},m=e.andreKriterier?e.andreKriterier.reduce((i,s)=>({...i,[`${s.andreKriterierType}_inkluder`]:s.inkluder}),{}):{};return{sakslisteId:e.sakslisteId,navn:e.navn?e.navn:n.formatMessage({id:"UtvalgskriterierForSakslisteForm.NyListe"}),sortering:e.sortering?e.sortering.sorteringType:void 0,fomDato:e.sortering?e.sortering.fomDato:void 0,tomDato:e.sortering?e.sortering.tomDato:void 0,fra:e.sortering?(d=e.sortering.fra)==null?void 0:d.toString():void 0,til:e.sortering?(t=e.sortering.til)==null?void 0:t.toString():void 0,erDynamiskPeriode:e.sortering?e.sortering.erDynamiskPeriode:void 0,...l,...m,...a,...p}},f=({valgtSaksliste:n,valgtAvdelingEnhet:e,hentAvdelingensSakslister:a,hentOppgaverForAvdelingAntall:p})=>{const l=K(),{data:m,startRequest:d}=T.useRestApiRunner(V.OPPGAVE_ANTALL);u.useEffect(()=>{d({sakslisteId:n.sakslisteId,avdelingEnhet:e})},[n.sakslisteId]);const t=u.useCallback((g,k)=>{d({sakslisteId:g,avdelingEnhet:k}),p({avdelingEnhet:k})},[]),{startRequest:i}=T.useRestApiRunner(V.LAGRE_SAKSLISTE_NAVN),s=u.useCallback(g=>{i({sakslisteId:n.sakslisteId,navn:g,avdelingEnhet:e}).then(()=>a({avdelingEnhet:e}))},[e,n]),x=u.useMemo(()=>J(l,n),[n]),c=N({defaultValues:x}),A=z("navn",s,c.trigger),h=c.watch();return r(P,{formMethods:c,children:o(E,{className:y.panel,children:[r(F,{size:"small",children:r(I,{id:"UtvalgskriterierForSakslisteForm.Utvalgskriterier"})}),r(b,{eightPx:!0}),o(M,{gap:"4",children:[o(_,{justify:"space-between",children:[r(U,{name:"navn",label:l.formatMessage({id:"UtvalgskriterierForSakslisteForm.Navn"}),validate:[R,w,$,j],onChange:A,className:y.bredde}),o("div",{className:y.grayBox,children:[r(D,{size:"small",children:r(I,{id:"UtvalgskriterierForSakslisteForm.AntallSaker"})}),r(F,{size:"small",children:m?`${m}`:"0"})]})]}),o(_,{justify:"space-between",children:[o("div",{children:[r(q,{valgtSakslisteId:n.sakslisteId,valgtAvdelingEnhet:e,hentAvdelingensSakslister:a,hentAntallOppgaver:t}),r(O,{valgtSakslisteId:n.sakslisteId,valgtAvdelingEnhet:e,hentAvdelingensSakslister:a,hentAntallOppgaver:t})]}),r("div",{children:r(L,{valgtSakslisteId:n.sakslisteId,valgtAvdelingEnhet:e,values:h,hentAvdelingensSakslister:a,hentAntallOppgaver:t})}),r("div",{children:r(C,{valgtSakslisteId:n.sakslisteId,valgteBehandlingtyper:n.behandlingTyper,valgtAvdelingEnhet:e,erDynamiskPeriode:!!h.erDynamiskPeriode,hentAvdelingensSakslister:a,hentAntallOppgaver:t})})]})]}),r(b,{sixteenPx:!0})]})})},te=f;try{f.displayName="UtvalgskriterierForSakslisteForm",f.__docgenInfo={description:"UtvalgskriterierForSakslisteForm",displayName:"UtvalgskriterierForSakslisteForm",props:{valgtSaksliste:{defaultValue:null,description:"",name:"valgtSaksliste",required:!0,type:{name:"Readonly<{ sakslisteId: number; navn?: string | undefined; behandlingTyper?: string[] | undefined; fagsakYtelseTyper?: string[] | undefined; sistEndret: string; sortering?: { sorteringType: string; ... 4 more ...; erDynamiskPeriode: boolean; } | undefined; andreKriterier?: Readonly<...>[] | undefined; saksbehandlerI..."}},valgtAvdelingEnhet:{defaultValue:null,description:"",name:"valgtAvdelingEnhet",required:!0,type:{name:"string"}},hentAvdelingensSakslister:{defaultValue:null,description:"",name:"hentAvdelingensSakslister",required:!0,type:{name:"(params: { avdelingEnhet: string; }) => void"}},hentOppgaverForAvdelingAntall:{defaultValue:null,description:"",name:"hentOppgaverForAvdelingAntall",required:!0,type:{name:"(params: { avdelingEnhet: string; }) => void"}}}}}catch{}export{te as U};
