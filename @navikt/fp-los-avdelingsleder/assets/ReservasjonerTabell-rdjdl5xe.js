import{j as n}from"./jsx-runtime-QvZ8i92b.js";import{r as i}from"./index-uubelm5h.js";import{j as b,V as M,L as y,M as E,g as V,Z as f,o as G,S as Y}from"./nb_NO-GxxtpCHT.js";import{O as x,F as H}from"./FlyttReservasjonModal-n5X4WsWU.js";import{b as u,a as m}from"./fplosRestApi-CVJaTUaS.js";import{T as r}from"./Table-CvbydrLB.js";var F=function(e,d){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&d.indexOf(a)<0&&(l[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)d.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(l[a[s]]=e[a[s]]);return l};const w=i.forwardRef((e,d)=>{var{title:l,titleId:a}=e,s=F(e,["title","titleId"]);let o=b();return o=l?a||"title-"+o:void 0,i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:d,"aria-labelledby":o},s),l?i.createElement("title",{id:o},l):null,i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9 3.75a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5M3.75 7.5a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0M9 15.75A5.25 5.25 0 0 0 3.75 21a.75.75 0 0 1-1.5 0 6.75 6.75 0 0 1 13.5 0 .75.75 0 0 1-1.5 0A5.25 5.25 0 0 0 9 15.75m7.214-10.824a.75.75 0 1 0-.428 1.438A2.752 2.752 0 0 1 15 11.75a.75.75 0 0 0-.75.75v1a.75.75 0 0 0 .75.75 4.25 4.25 0 0 1 4.25 4.25.75.75 0 0 0 1.5 0 5.75 5.75 0 0 0-4.206-5.539 4.251 4.251 0 0 0-.33-8.035",clipRule:"evenodd"}))});var _=(e=>(e.ARBEID_TYPE="ArbeidType",e.AVSLAGSARSAK="Avslagsårsak",e.VENT_AARSAK="Venteårsak",e.BEHANDLING_AARSAK="BehandlingÅrsakType",e.KLAGE_AVVIST_AARSAK="KlageAvvistÅrsak",e.KLAGE_MEDHOLD_ARSAK="KlageMedholdÅrsak",e.KLAGE_HJEMMEL="KlageHjemmel",e.OMSORGSOVERTAKELSE_VILKAR_TYPE="OmsorgsovertakelseVilkårType",e.MEDLEMSKAP_MANUELL_VURDERING_TYPE="MedlemskapManuellVurderingType",e.VERGE_TYPE="VergeType",e.LANDKODER="Landkoder",e.MORS_AKTIVITET="MorsAktivitet",e.VIRKSOMHET_TYPE="VirksomhetType",e.OVERFOERING_AARSAK_TYPE="OverføringÅrsak",e.PERSONSTATUS_TYPE="PersonstatusType",e.FAGSAK_STATUS="FagsakStatus",e.FAGSAK_YTELSE="FagsakYtelseType",e.FORELDRE_TYPE="ForeldreType",e.FAMILIE_HENDELSE_TYPE="FamilieHendelseType",e.INNSYN_RESULTAT_TYPE="InnsynResultatType",e.BEHANDLING_TYPE="BehandlingType",e.OPPHOLD_ARSAK="OppholdÅrsak",e.UTSETTELSE_AARSAK_TYPE="UtsettelseÅrsak",e.OPPTJENING_AKTIVITET_TYPE="OpptjeningAktivitetType",e.UTTAK_PERIODE_TYPE="UttakPeriodeType",e.REVURDERING_VARSLING_ÅRSAK="RevurderingVarslingÅrsak",e.MANUELL_BEHANDLING_AARSAK="ManuellBehandlingÅrsak",e.PERIODE_RESULTAT_AARSAK="PeriodeResultatÅrsak",e.INNTEKTSKATEGORI="Inntektskategori",e.BEREGNINGSGRUNNLAG_ANDELTYPER="BeregningsgrunnlagAndeltype",e.AKTIVITET_STATUS="AktivitetStatus",e.ARBEIDSKATEGORI="Arbeidskategori",e.FAGSYSTEM="Fagsystem",e.REGION="Region",e.SIVILSTAND_TYPE="SivilstandType",e.FAKTA_OM_BEREGNING_TILFELLE="FaktaOmBeregningTilfelle",e.GRADERING_AVSLAG_AARSAK="GraderingAvslagÅrsak",e.SKJERMLENKE_TYPE="SkjermlenkeType",e.BEHANDLING_RESULTAT_TYPE="BehandlingResultatType",e.ARBEIDSFORHOLD_HANDLING_TYPE="ArbeidsforholdHandlingType",e.HISTORIKK_OPPLYSNING_TYPE="HistorikkOpplysningType",e.HISTORIKK_ENDRET_FELT_TYPE="HistorikkEndretFeltType",e.HISTORIKKINNSLAG_TYPE="HistorikkinnslagType",e.HISTORIKK_AKTOER="HistorikkAktør",e.BEHANDLING_STATUS="BehandlingStatus",e.FAR_SOEKER_TYPE="FarSøkerType",e.MEDLEMSKAP_DEKNING="MedlemskapDekningType",e.MEDLEMSKAP_TYPE="MedlemskapType",e.STOENADSKONTOTYPE="StønadskontoType",e.KONSEKVENS_FOR_YTELSEN="KonsekvensForYtelsen",e.UTTAK_ARBEID_TYPE="UttakArbeidType",e.UTTAK_UTSETTELSE_TYPE="UttakUtsettelseType",e.VILKAR_TYPE="VilkårType",e.AKTSOMHET="Aktsomhet",e.VURDERING="AnnenVurdering",e.VEDTAK_RESULTAT_TYPE="VedtakResultatType",e.PERMISJONSBESKRIVELSE_TYPE="PermisjonsbeskrivelseType",e.VURDER_ARBEIDSFORHOLD_HISTORIKKINNSLAG="VurderArbeidsforholdHistorikkinnslag",e.TILBAKEKR_VIDERE_BEH="VidereBehandling",e.VURDER_AARSAK="VurderÅrsak",e.ANKE_OMGJOER_AARSAK="AnkeOmgjørÅrsak",e.AKTIVITETSKRAV_AVKLARING="KontrollerAktivitetskravAvklaring",e.OPPHOLDSTILLATELSE_TYPE="OppholdstillatelseType",e.FARESIGNAL_VURDERING="FaresignalVurdering",e.FORDELING_PERIODE_KILDE="FordelingPeriodeKilde",e.RELASJONSROLLE_TYPE="RelasjonsRolleType",e.FAGSAK_MARKERING="FagsakMarkering",e.ADRESSE_TYPE="AdresseType",e.NATURAL_YTELSE_TYPE="NaturalYtelseType",e))(_||{});const U=(e,d,l,a)=>{let s=e[d];if(!s||s.length===0)return"";const o=s.find(A=>A.kode===l);return o?o.navn:""},B="_removeIcon_1c1ll_1",q="_calendarIcon_1c1ll_7",C="_flyttIcon_1c1ll_14",S={removeIcon:B,calendarIcon:q,flyttIcon:C},K=({reservasjoner:e,opphevReservasjon:d,hentAvdelingensReservasjoner:l,alleKodeverk:a})=>{const[s,o]=i.useState(!1),[A,T]=i.useState(!1),[R,c]=i.useState(void 0),v=i.useCallback(()=>{o(!1)},[]),I=i.useCallback(t=>{o(!0),c(t)},[]),p=i.useCallback(t=>{T(!0),c(t)},[]),N=i.useCallback(()=>{T(!1)},[]),g=i.useMemo(()=>e.sort((t,D)=>t.reservertAvNavn.localeCompare(D.reservertAvNavn)),[e]),{startRequest:k}=u.useRestApiRunner(m.ENDRE_OPPGAVERESERVASJON),{startRequest:j}=u.useRestApiRunner(m.FLYTT_RESERVASJON),{startRequest:O,state:L,data:h,resetRequestData:P}=u.useRestApiRunner(m.FLYTT_RESERVASJON_SAKSBEHANDLER_SOK);return n.jsxs(M,{gap:"2",children:[n.jsx(y,{size:"small",children:n.jsx(E,{id:"ReservasjonerTabell.Reservasjoner"})}),g.length===0&&n.jsx(V,{size:"small",children:n.jsx(E,{id:"ReservasjonerTabell.IngenReservasjoner"})}),g.length>0&&n.jsxs(r,{children:[n.jsx(r.Header,{children:n.jsxs(r.Row,{children:[n.jsx(r.ColumnHeader,{children:n.jsx(E,{id:"ReservasjonerTabell.Navn"})}),n.jsx(r.ColumnHeader,{children:n.jsx(E,{id:"ReservasjonerTabell.Saksnr"})}),n.jsx(r.ColumnHeader,{children:n.jsx(E,{id:"ReservasjonerTabell.BehandlingType"})}),n.jsx(r.ColumnHeader,{children:n.jsx(E,{id:"ReservasjonerTabell.ReservertTil"})}),n.jsx(r.ColumnHeader,{children:n.jsx(E,{id:"ReservasjonerTabell.Endre"})}),n.jsx(r.ColumnHeader,{children:n.jsx(E,{id:"ReservasjonerTabell.Flytt"})}),n.jsx(r.ColumnHeader,{children:n.jsx(E,{id:"ReservasjonerTabell.Slett"})})]})}),n.jsx(r.Body,{children:g.map(t=>n.jsxs(r.Row,{shadeOnHover:!1,children:[n.jsx(r.DataCell,{children:t.reservertAvNavn}),n.jsx(r.DataCell,{children:t.oppgaveSaksNr}),n.jsx(r.DataCell,{children:U(a,_.BEHANDLING_TYPE,t.behandlingType)}),n.jsx(r.DataCell,{children:n.jsx(E,{id:"ReservasjonerTabell.ReservertTilFormat",values:f(t.reservertTilTidspunkt)})}),n.jsx(r.DataCell,{children:n.jsx(G,{className:S.calendarIcon,onClick:()=>I(t)})}),n.jsx(r.DataCell,{children:n.jsx(w,{className:S.flyttIcon,onClick:()=>p(t)})}),n.jsx(r.DataCell,{children:n.jsx(Y,{className:S.removeIcon,onClick:()=>d(t.oppgaveId)})})]},t.oppgaveId))})]}),R&&s&&n.jsx(x,{closeModal:v,reserverTilDefault:R.reservertTilTidspunkt,endreReserverasjonState:v,hentReserverteOppgaver:l,oppgaveId:R.oppgaveId,endreOppgavereservasjon:k}),R&&A&&n.jsx(H,{closeModal:N,oppgaveId:R.oppgaveId,hentReserverteOppgaver:l,flyttOppgavereservasjon:j,hentSaksbehandler:O,hentSaksbehandlerState:L,saksbehandler:h,resetHentSaksbehandler:P})]})};K.__docgenInfo={description:"",methods:[],displayName:"ReservasjonerTabell",props:{reservasjoner:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  reservertAvUid: string;
  reservertAvNavn: string;
  reservertTilTidspunkt: string;
  oppgaveId: number;
  oppgaveSaksNr: number;
  behandlingType: string;
}`,signature:{properties:[{key:"reservertAvUid",value:{name:"string",required:!0}},{key:"reservertAvNavn",value:{name:"string",required:!0}},{key:"reservertTilTidspunkt",value:{name:"string",required:!0}},{key:"oppgaveId",value:{name:"number",required:!0}},{key:"oppgaveSaksNr",value:{name:"number",required:!0}},{key:"behandlingType",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  reservertAvUid: string;
  reservertAvNavn: string;
  reservertTilTidspunkt: string;
  oppgaveId: number;
  oppgaveSaksNr: number;
  behandlingType: string;
}>`}],raw:"Reservasjon[]"},description:""},opphevReservasjon:{required:!0,tsType:{name:"signature",type:"function",raw:"(oppgaveId: number) => Promise<string>",signature:{arguments:[{type:{name:"number"},name:"oppgaveId"}],return:{name:"Promise",elements:[{name:"string"}],raw:"Promise<string>"}}},description:""},hentAvdelingensReservasjoner:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},alleKodeverk:{required:!0,tsType:{name:"intersection",raw:"Omit<T, keyof R> & R",elements:[{name:"Omit",elements:[{name:"Record",elements:[{name:"KodeverkType"},{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  kode: string;
  navn: string;
  kodeverk: string;
}`,signature:{properties:[{key:"kode",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"kodeverk",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  kode: string;
  navn: string;
  kodeverk: string;
}>`}],raw:"KodeverkMedNavn[]"}],raw:"Record<KodeverkType, KodeverkMedNavn[]>"},{name:"signature",type:"object",raw:`{
  Avslagsårsak: Avslagsårsak;
}`,signature:{properties:[{key:"Avslagsårsak",value:{name:"Record",elements:[{name:"VilkarType"},{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  kode: string;
  navn: string;
  kodeverk: string;
}`,signature:{properties:[{key:"kode",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"kodeverk",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  kode: string;
  navn: string;
  kodeverk: string;
}>`}],raw:"KodeverkMedNavn[]"}],raw:"Record<VilkarType, KodeverkMedNavn[]>",required:!0}}]}}],raw:"Omit<T, keyof R>"},{name:"signature",type:"object",raw:`{
  Avslagsårsak: Avslagsårsak;
}`,signature:{properties:[{key:"Avslagsårsak",value:{name:"Record",elements:[{name:"VilkarType"},{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  kode: string;
  navn: string;
  kodeverk: string;
}`,signature:{properties:[{key:"kode",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"kodeverk",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  kode: string;
  navn: string;
  kodeverk: string;
}>`}],raw:"KodeverkMedNavn[]"}],raw:"Record<VilkarType, KodeverkMedNavn[]>",required:!0}}]}}]},description:""}}};export{K as R};
