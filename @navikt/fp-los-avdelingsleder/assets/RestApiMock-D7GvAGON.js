import{a as W,g as Y,r as g,R as h}from"./index-DVXBtNgz.js";import{a as z,b as K,c as Q}from"./useRestApiRunner-r8nm61Jn.js";import{c as B}from"./fplosRestApi-DXPSIiTb.js";import{b as X}from"./nb_NO-Cx50JONv.js";var x={exports:{}};const{Axios:Z,AxiosError:ee,CanceledError:re,isCancel:te,CancelToken:ne,VERSION:ae,all:ie,Cancel:se,isAxiosError:oe,spread:ue,toFormData:le,AxiosHeaders:fe,HttpStatusCode:ce,formToJSON:pe,getAdapter:de,mergeConfig:ye}=B,me=Object.freeze(Object.defineProperty({__proto__:null,Axios:Z,AxiosError:ee,AxiosHeaders:fe,Cancel:se,CancelToken:ne,CanceledError:re,HttpStatusCode:ce,VERSION:ae,all:ie,default:B,formToJSON:pe,getAdapter:de,isAxiosError:oe,isCancel:te,mergeConfig:ye,spread:ue,toFormData:le},Symbol.toStringTag,{value:"Module"})),he=W(me);var ge=function e(r,t){if(r===t)return!0;if(r&&t&&typeof r=="object"&&typeof t=="object"){if(r.constructor!==t.constructor)return!1;var n,a,s;if(Array.isArray(r)){if(n=r.length,n!=t.length)return!1;for(a=n;a--!==0;)if(!e(r[a],t[a]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if(s=Object.keys(r),n=s.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[a]))return!1;for(a=n;a--!==0;){var o=s[a];if(!e(r[o],t[o]))return!1}return!0}return r!==r&&t!==t};/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var ve=function(r){return r!=null&&r.constructor!=null&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)};/*!
 * MIT License
 *
 * Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (https://sindresorhus.com)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated
 * documentation files (the "Software"), to deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit
 * persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the
 * Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
 * WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
 * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */function Ee(e){return typeof Blob>"u"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"}var Re=Ee,M=he,q=ge,Oe=ve,be=Re,L=Object.prototype.toString;function P(e,r){for(var t=e.length,n=0;n<t;n++){var a=e[n];if(r(a))return a}}function j(e){return L.call(e)==="[object Function]"}function U(e){return e!==null&&typeof e=="object"}function ke(e){return U(e)&&j(e.pipe)}function Ae(e){return L.call(e)==="[object ArrayBuffer]"}function S(e,r){return e?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):r}function xe(e,r,t,n,a,s,o){return P(e[r.toLowerCase()],function(i){if(typeof i[0]=="string")return(T(t,i[0])||T(S(o,t),i[0]))&&A(r,n,a,i[1])&&b(s,i[2]);if(i[0]instanceof RegExp)return(i[0].test(t)||i[0].test(S(o,t)))&&A(r,n,a,i[1])&&b(s,i[2])})}function T(e,r){var t=e[0]==="/"?e.substr(1):e,n=r[0]==="/"?r.substr(1):r;return t===n}function A(e,r,t,n){var a=["delete","get","head","options"];if(a.indexOf(e.toLowerCase())>=0){var s=n?n.data:void 0,o=n?n.params:void 0;return b(t,o)&&w(r,s)}else return w(r,n)}function b(e,r){return r===void 0?!0:typeof r.asymmetricMatch=="function"?r.asymmetricMatch(e):q(e,r)}function w(e,r){if(r===void 0)return!0;var t;try{t=JSON.parse(e)}catch{}return b(t||e,r)}function Ne(e,r){Object.keys(e.handlers).forEach(function(t){var n=e.handlers[t].indexOf(r);n>-1&&e.handlers[t].splice(n,1)})}function D(e,r,t,n){if(n>0){setTimeout(D,n,e,r,t);return}!t.config.validateStatus||t.config.validateStatus(t.status)?e(t):r(I("Request failed with status code "+t.status,t.config,t))}function I(e,r,t,n){if(typeof M.AxiosError=="function")return M.AxiosError.from(new Error(e),n,r,null,t);var a=new Error(e);return a.isAxiosError=!0,a.config=r,t!==void 0&&(a.response=t),n!==void 0&&(a.code=n),a.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},a}function Me(e){var r=`Could not find mock for: 
`+JSON.stringify(e,["method","url"],2),t=new Error(r);return t.isCouldNotFindMockError=!0,t.url=e.url,t.method=e.method,t}var _={find:P,findHandler:xe,purgeIfReplyOnce:Ne,settle:D,isStream:ke,isArrayBuffer:Ae,isFunction:j,isObjectOrArray:U,isBuffer:Oe,isBlob:be,isBodyOrParametersMatching:A,isEqual:q,createAxiosError:I,createCouldNotFindMockError:Me},f=_;function Se(e){return f.isArrayBuffer(e)||f.isBuffer(e)||f.isStream(e)||f.isBlob(e)?e:f.isObjectOrArray(e)?JSON.parse(JSON.stringify(e)):e}function E(e,r){return{status:e[0],data:Se(e[1]),headers:e[2],config:r,request:{responseURL:r.url}}}function C(e,r,t,n){var a=n.baseURL;if(n.baseURL&&!/^https?:/.test(n.baseURL)&&(a=void 0),typeof e.originalAdapter=="function")return e.originalAdapter(n).then(r,t);e.axiosInstanceWithoutInterceptors(Object.assign({},n,{baseURL:a,adapter:e.originalAdapter,transformRequest:[],transformResponse:[]})).then(r,t)}function Te(e,r,t,n){var a=n.url||"";n.baseURL&&a.substr(0,n.baseURL.length)===n.baseURL&&(a=a.slice(n.baseURL.length)),delete n.adapter,e.history[n.method].push(n);var s=f.findHandler(e.handlers,n.method,a,n.data,n.params,n.headers&&n.headers.constructor.name==="AxiosHeaders"?Object.assign({},n.headers):n.headers,n.baseURL);if(s)if(s.length===7&&f.purgeIfReplyOnce(e,s),s.length===2)C(e,r,t,n);else if(typeof s[3]!="function")f.settle(r,t,E(s.slice(3),n),R(e,s));else{var o=s[3](n);typeof o.then!="function"?f.settle(r,t,E(o,n),R(e,s)):o.then(function(i){i.config&&i.status?f.settle(r,t,E([i.status,i.data,i.headers],i.config),0):f.settle(r,t,E(i,n),R(e,s))},function(i){e.delayResponse>0?setTimeout(function(){t(i)},R(e,s)):t(i)})}else switch(e.onNoMatch){case"passthrough":C(e,r,t,n);break;case"throwException":throw f.createCouldNotFindMockError(n);default:f.settle(r,t,{status:404,config:n},e.delayResponse)}}function R(e,r){var t;return r.length===8&&(t=r[7]),t||e.delayResponse}var we=Te,Ce=we,c=_,N=["get","post","head","delete","patch","put","options","list","link","unlink"];function Be(){return(function(e){var r=this;return new Promise(function(t,n){Ce(r,t,n,e)})}).bind(this)}function F(){return N.reduce(function(e,r){return e[r]=[],e},{})}function $(){H.call(this),J.call(this)}function H(){this.handlers=F()}function J(){this.history=F()}function p(e,r){if($.call(this),e)this.axiosInstance=e,this.axiosInstanceWithoutInterceptors=e.create?e.create():void 0,this.originalAdapter=e.defaults.adapter,this.delayResponse=r&&r.delayResponse>0?r.delayResponse:null,this.onNoMatch=r&&r.onNoMatch||null,e.defaults.adapter=this.adapter.call(this);else throw new Error("Please provide an instance of axios to mock")}p.prototype.adapter=Be;p.prototype.restore=function(){this.axiosInstance&&(this.axiosInstance.defaults.adapter=this.originalAdapter,this.axiosInstance=void 0)};p.prototype.reset=$;p.prototype.resetHandlers=H;p.prototype.resetHistory=J;N.concat("any").forEach(function(e){var r="on"+e.charAt(0).toUpperCase()+e.slice(1);p.prototype[r]=function(o,n,a){var s=this,o=o===void 0?/.*/:o;function i(u,l,d){var y=[o,n,a,u,l,d];return O(e,s.handlers,y),s}function m(u,l,d,y){var V=[o,n,a,l,d,y,!1,u];return O(e,s.handlers,V),s}function k(u){return function(l,d,y){m(u,l,d,y)}}function v(u,l,d){var y=[o,n,a,u,l,d,!0];return O(e,s.handlers,y),s}return{reply:i,replyOnce:v,withDelayInMs:k,passThrough:function(){var l=[o,n];return O(e,s.handlers,l),s},abortRequest:function(){return i(function(u){var l=c.createAxiosError("Request aborted",u,void 0,"ECONNABORTED");return Promise.reject(l)})},abortRequestOnce:function(){return v(function(u){var l=c.createAxiosError("Request aborted",u,void 0,"ECONNABORTED");return Promise.reject(l)})},networkError:function(){return i(function(u){var l=c.createAxiosError("Network Error",u);return Promise.reject(l)})},networkErrorOnce:function(){return v(function(u){var l=c.createAxiosError("Network Error",u);return Promise.reject(l)})},timeout:function(){return i(function(u){var l=c.createAxiosError(u.timeoutErrorMessage||"timeout of "+u.timeout+"ms exceeded",u,void 0,u.transitional&&u.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED");return Promise.reject(l)})},timeoutOnce:function(){return v(function(u){var l=c.createAxiosError(u.timeoutErrorMessage||"timeout of "+u.timeout+"ms exceeded",u,void 0,u.transitional&&u.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED");return Promise.reject(l)})}}}});function qe(e,r,t){for(var n=-1,a=0;a<r[e].length;a+=1){var s=r[e][a],o=s.length===7,i=s[0]instanceof RegExp&&t[0]instanceof RegExp?String(s[0])===String(t[0]):s[0]===t[0],m=i&&c.isEqual(s[1],t[1])&&c.isEqual(s[2],t[2]);m&&!o&&(n=a)}return n}function O(e,r,t){if(e==="any")N.forEach(function(a){r[a].push(t)});else{var n=qe(e,r,t);n>-1&&t.length<7?r[e].splice(n,1,t):r[e].push(t)}}x.exports=p;x.exports.default=p;var Le=x.exports;const Pe=Y(Le),G=({children:e,data:r,requestApi:t,setApiMock:n=()=>{}})=>{const[a,s]=g.useState(!1);return g.useEffect(()=>{const o=new Pe(t.getAxios());return n(o),t.setLinks(r.filter(i=>!i.noRelLink).map(i=>{var m;return{href:i.key,rel:((m=t.endpointConfigList.find(k=>k.name===i.key))==null?void 0:m.rel)||"",type:"GET"}})),r.forEach(i=>{t.getRestType(i.key)==="GET"?o.onGet(t.getUrl(i.key)).reply(200,i.data):t.getRestType(i.key)==="GET_ASYNC"?o.onGet(t.getUrl(i.key)).replyOnce(200,i.data):t.getRestType(i.key)==="POST_ASYNC"?o.onPost(t.getUrl(i.key)).replyOnce(200,i.data):o.onPost(t.getUrl(i.key)).reply(200,i.data)}),s(!0),()=>{o.restore(),t.setLinks([]),t.resetCache()}},[]),a?e:h.createElement(X,null)};G.__docgenInfo={description:"",methods:[],displayName:"AxiosMock",props:{requestApi:{required:!0,tsType:{name:"RequestApi"},description:""},children:{required:!0,tsType:{name:"any"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  key: string;
  data: any;
  noRelLink?: boolean;
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"data",value:{name:"any",required:!0}},{key:"noRelLink",value:{name:"boolean",required:!1}}]}}],raw:`{
  key: string;
  data: any;
  noRelLink?: boolean;
}[]`},description:""},setApiMock:{required:!1,tsType:{name:"signature",type:"function",raw:"(mockAdapter: MockAdapter) => void",signature:{arguments:[{type:{name:"MockAdapter"},name:"mockAdapter"}],return:{name:"void"}}},description:"",defaultValue:{value:"() => undefined",computed:!1}}}};const je=({children:e,data:r})=>{const[t,n]=g.useState(!1),a=g.useContext(z);return g.useEffect(()=>{if(a&&!t){const s=r.map(o=>()=>a({type:"success",key:o.key,data:o.data}));Promise.all(s.map(o=>o())).then(()=>n(!0))}},[t]),t?e:null},Ue=({children:e,data:r,requestApi:t,errors:n,setApiMock:a})=>h.createElement(K,null,h.createElement(Q,{initialState:n?{errors:n}:void 0},h.createElement(je,{data:r.filter(s=>s.global)},h.createElement(G,{data:r,requestApi:t,setApiMock:a},e))));Ue.__docgenInfo={description:"",methods:[],displayName:"RestApiMock",props:{children:{required:!0,tsType:{name:"any"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  key: string;
  global?: boolean;
  data: any;
  noRelLink?: boolean;
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"global",value:{name:"boolean",required:!1}},{key:"data",value:{name:"any",required:!0}},{key:"noRelLink",value:{name:"boolean",required:!1}}]}}],raw:`{
  key: string;
  global?: boolean;
  data: any;
  noRelLink?: boolean;
}[]`},description:""},requestApi:{required:!0,tsType:{name:"RequestApi"},description:""},errors:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  type: string;
  feilmelding: string;
}`,signature:{properties:[{key:"type",value:{name:"string",required:!0}},{key:"feilmelding",value:{name:"string",required:!0}}]}}],raw:`{
  type: string;
  feilmelding: string;
}[]`},description:""},setApiMock:{required:!1,tsType:{name:"signature",type:"function",raw:"(mockAdapter: MockAdapter) => void",signature:{arguments:[{type:{name:"MockAdapter"},name:"mockAdapter"}],return:{name:"void"}}},description:""}}};export{Ue as R};
