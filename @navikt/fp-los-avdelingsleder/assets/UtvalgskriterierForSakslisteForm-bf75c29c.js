import{j as r}from"./jsx-runtime-9c4ae004.js";import{r as c}from"./index-1b03fe98.js";import{f as T,u as N,F as V,a as k,G as A,o as K,s as F,D as d,T as D,b as P}from"./nb_NO-349fe7a4.js";import{r as U,G as v,k as B,I as L}from"./index.es-1fef6f08.js";import{b as _,R as j}from"./fplosRestApi-beda4f04.js";import{B as q}from"./BehandlingstypeVelger-817f3570.js";import{A as E}from"./AndreKriterierVelger-e426e141.js";import{F as O}from"./FagsakYtelseTypeVelger-e7890ee2.js";import{u as G,S as M}from"./SorteringVelger-570b4bdf.js";import{P as Y}from"./Panel-89f2070f.js";import{H as I}from"./Heading-5c498eab.js";const z="_grayBox_1aype_1",C="_panel_1aype_6",H="_utvalgskriterieRad_1aype_11",$="_bredde_1aype_15",w="_colRight_1aype_19",l={grayBox:z,panel:C,utvalgskriterieRad:H,bredde:$,colRight:w},J=B(3),Q=L(100),W=(s,e)=>{var o,a;const t=e.behandlingTyper?e.behandlingTyper.reduce((i,n)=>({...i,[n]:!0}),{}):{},u=e.fagsakYtelseTyper?e.fagsakYtelseTyper.reduce((i,n)=>({...i,[n]:!0}),{}):{},m=e.andreKriterier?e.andreKriterier.reduce((i,n)=>({...i,[n.andreKriterierType]:!0}),{}):{},p=e.andreKriterier?e.andreKriterier.reduce((i,n)=>({...i,[`${n.andreKriterierType}_inkluder`]:n.inkluder}),{}):{};return{sakslisteId:e.sakslisteId,navn:e.navn?e.navn:s.formatMessage({id:"UtvalgskriterierForSakslisteForm.NyListe"}),sortering:e.sortering?e.sortering.sorteringType:void 0,fomDato:e.sortering?e.sortering.fomDato:void 0,tomDato:e.sortering?e.sortering.tomDato:void 0,fra:e.sortering?(o=e.sortering.fra)==null?void 0:o.toString():void 0,til:e.sortering?(a=e.sortering.til)==null?void 0:a.toString():void 0,erDynamiskPeriode:e.sortering?e.sortering.erDynamiskPeriode:void 0,...m,...p,...t,...u}},f=({valgtSaksliste:s,valgtAvdelingEnhet:e,hentAvdelingensSakslister:t,hentOppgaverForAvdelingAntall:u})=>{const m=T(),{data:p,startRequest:o}=_.useRestApiRunner(j.OPPGAVE_ANTALL);c.useEffect(()=>{o({sakslisteId:s.sakslisteId,avdelingEnhet:e})},[s.sakslisteId]);const a=c.useCallback((y,x)=>{o({sakslisteId:y,avdelingEnhet:x}),u({avdelingEnhet:x})},[]),{startRequest:i}=_.useRestApiRunner(j.LAGRE_SAKSLISTE_NAVN),n=c.useCallback(y=>{i({sakslisteId:s.sakslisteId,navn:y,avdelingEnhet:e}).then(()=>t({avdelingEnhet:e}))},[e,s]),R=c.useMemo(()=>W(m,s),[s]),g=N({defaultValues:R}),b=G("navn",n,g.trigger),h=g.watch();return r.jsx(V,{formMethods:g,children:r.jsxs(Y,{className:l.panel,children:[r.jsx(I,{size:"small",children:r.jsx(k,{id:"UtvalgskriterierForSakslisteForm.Utvalgskriterier"})}),r.jsx(A,{eightPx:!0}),r.jsxs(K,{children:[r.jsxs(F,{className:l.utvalgskriterieRad,children:[r.jsx(d,{children:r.jsx(D,{name:"navn",label:m.formatMessage({id:"UtvalgskriterierForSakslisteForm.Navn"}),validate:[U,J,Q,v],onChange:b,className:l.bredde})}),r.jsx(d,{className:l.colRight,children:r.jsxs("div",{className:l.grayBox,children:[r.jsx(P,{size:"small",children:r.jsx(k,{id:"UtvalgskriterierForSakslisteForm.AntallSaker"})}),r.jsx(I,{size:"small",children:p?`${p}`:"0"})]})})]}),r.jsxs(F,{spaceBetween:!0,children:[r.jsxs(d,{children:[r.jsx(O,{valgtSakslisteId:s.sakslisteId,valgtAvdelingEnhet:e,hentAvdelingensSakslister:t,hentAntallOppgaver:a}),r.jsx(q,{valgtSakslisteId:s.sakslisteId,valgtAvdelingEnhet:e,hentAvdelingensSakslister:t,hentAntallOppgaver:a})]}),r.jsx(d,{children:r.jsx(E,{valgtSakslisteId:s.sakslisteId,valgtAvdelingEnhet:e,values:h,hentAvdelingensSakslister:t,hentAntallOppgaver:a})}),r.jsx(d,{children:r.jsx(M,{valgtSakslisteId:s.sakslisteId,valgteBehandlingtyper:s.behandlingTyper,valgtAvdelingEnhet:e,erDynamiskPeriode:!!h.erDynamiskPeriode,hentAvdelingensSakslister:t,hentAntallOppgaver:a})})]})]})]})})},de=f;try{f.displayName="UtvalgskriterierForSakslisteForm",f.__docgenInfo={description:"UtvalgskriterierForSakslisteForm",displayName:"UtvalgskriterierForSakslisteForm",props:{valgtSaksliste:{defaultValue:null,description:"",name:"valgtSaksliste",required:!0,type:{name:"Readonly<{ sakslisteId: number; navn?: string | undefined; behandlingTyper?: string[] | undefined; fagsakYtelseTyper?: string[] | undefined; sistEndret: string; sortering?: { sorteringType: string; ... 4 more ...; erDynamiskPeriode: boolean; } | undefined; andreKriterier?: Readonly<...>[] | undefined; saksbehandlerI..."}},valgtAvdelingEnhet:{defaultValue:null,description:"",name:"valgtAvdelingEnhet",required:!0,type:{name:"string"}},hentAvdelingensSakslister:{defaultValue:null,description:"",name:"hentAvdelingensSakslister",required:!0,type:{name:"(params: { avdelingEnhet: string; }) => void"}},hentOppgaverForAvdelingAntall:{defaultValue:null,description:"",name:"hentOppgaverForAvdelingAntall",required:!0,type:{name:"(params: { avdelingEnhet: string; }) => void"}}}}}catch{}export{de as U};
//# sourceMappingURL=UtvalgskriterierForSakslisteForm-bf75c29c.js.map
