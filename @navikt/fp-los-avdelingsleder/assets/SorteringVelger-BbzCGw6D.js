import{j as r}from"./jsx-runtime-DR9Q75dM.js";import{a as ie,F as $,P as ce,w as Me,k as je}from"./index.es-jc6sdnh5.js";import{u as se,D as T,M as N,b as Ne}from"./nb_NO-CujjC0QR.js";import{u as w}from"./useMutation-6dhYCaXX.js";import"./aktivitetStatus-B1m96ipJ.js";import{B as C}from"./behandlingType-BdbjGMJD.js";import{B as ye,L as f,c as Se,C as Ie,D as Pe,V as ge,E as ke}from"./fplosAvdelingslederApi-CNRcnPVE.js";import{u as qe}from"./useLosKodeverk-e-bKqnw3.js";import{u as H,g as fe}from"./index.es-jAoycGC2.js";import{a as Ve,D as pe,A as be}from"./index.es-DeTGBOe2.js";import{u as Z}from"./useDebounce-DooGmdvL.js";import{c as Fe,g as Ke}from"./index-DRjF_FHU.js";import{d as oe}from"./dayjs.min-CnNqAF5I.js";const we="_dager_1u55p_1",Ye="_dagerMedBindestrek_1u55p_5",Ge="_tomDato_1u55p_15",Be="_dato_1u55p_19",Re="_arrowBoxWidth_1u55p_24",_={dager:we,dagerMedBindestrek:Ye,beløp:"_beløp_1u55p_10",tomDato:Ge,dato:Be,arrowBoxWidth:Re},le=({valgtSakslisteId:d,valgtAvdelingEnhet:c})=>{const g=se(),{watch:l,trigger:o}=ie(),u=l("fra"),m=l("til"),{mutate:p}=w({mutationFn:h=>ye(d,h.fra,h.til,c),onSuccess:()=>{g.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),g.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),g.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),n=h=>p({fra:h,til:m}),V=h=>p({fra:u,til:h}),s=Z("fra",n,o),b=Z("til",V,o);return r.jsxs(Ve,{children:[r.jsx(T,{children:r.jsx(N,{id:"SorteringVelger.FiltrerPaHeltall"})}),r.jsxs(Se,{gap:"4",children:[r.jsx($,{name:"fra",className:_.dato,validate:[H],onChange:s}),r.jsx(T,{className:_.beløp,children:r.jsx(N,{id:"SorteringVelger.Valuta"})}),r.jsx($,{name:"til",className:_.dato,validate:[H],onChange:b}),r.jsx(T,{className:_.beløp,children:r.jsx(N,{id:"SorteringVelger.Valuta"})})]})]})};le.__docgenInfo={description:"",methods:[],displayName:"BelopSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""}}};le.__docgenInfo={description:"",methods:[],displayName:"BelopSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""}}};var ve={exports:{}};(function(d,c){(function(g,l){d.exports=l()})(Fe,function(){var g={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},l=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d/,u=/\d\d/,m=/\d\d?/,p=/\d*[^-_:/,()\s\d]+/,n={},V=function(e){return(e=+e)+(e>68?1900:2e3)},s=function(e){return function(a){this[e]=+a}},b=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(a){if(!a||a==="Z")return 0;var i=a.match(/([+-]|\d\d)/g),t=60*i[1]+(+i[2]||0);return t===0?0:i[0]==="+"?-t:t}(e)}],h=function(e){var a=n[e];return a&&(a.indexOf?a:a.s.concat(a.f))},Y=function(e,a){var i,t=n.meridiem;if(t){for(var v=1;v<=24;v+=1)if(e.indexOf(t(v,0,a))>-1){i=v>12;break}}else i=e===(a?"pm":"PM");return i},U={A:[p,function(e){this.afternoon=Y(e,!1)}],a:[p,function(e){this.afternoon=Y(e,!0)}],Q:[o,function(e){this.month=3*(e-1)+1}],S:[o,function(e){this.milliseconds=100*+e}],SS:[u,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[m,s("seconds")],ss:[m,s("seconds")],m:[m,s("minutes")],mm:[m,s("minutes")],H:[m,s("hours")],h:[m,s("hours")],HH:[m,s("hours")],hh:[m,s("hours")],D:[m,s("day")],DD:[u,s("day")],Do:[p,function(e){var a=n.ordinal,i=e.match(/\d+/);if(this.day=i[0],a)for(var t=1;t<=31;t+=1)a(t).replace(/\[|\]/g,"")===e&&(this.day=t)}],w:[m,s("week")],ww:[u,s("week")],M:[m,s("month")],MM:[u,s("month")],MMM:[p,function(e){var a=h("months"),i=(h("monthsShort")||a.map(function(t){return t.slice(0,3)})).indexOf(e)+1;if(i<1)throw new Error;this.month=i%12||i}],MMMM:[p,function(e){var a=h("months").indexOf(e)+1;if(a<1)throw new Error;this.month=a%12||a}],Y:[/[+-]?\d+/,s("year")],YY:[u,function(e){this.year=V(e)}],YYYY:[/\d{4}/,s("year")],Z:b,ZZ:b};function z(e){var a,i;a=e,i=n&&n.formats;for(var t=(e=a.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(P,E,S){var y=S&&S.toUpperCase();return E||i[S]||g[S]||i[y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(M,j,k){return j||k.slice(1)})})).match(l),v=t.length,A=0;A<v;A+=1){var K=t[A],I=U[K],L=I&&I[0],x=I&&I[1];t[A]=x?{regex:L,parser:x}:K.replace(/^\[|\]$/g,"")}return function(P){for(var E={},S=0,y=0;S<v;S+=1){var M=t[S];if(typeof M=="string")y+=M.length;else{var j=M.regex,k=M.parser,G=P.slice(y),F=j.exec(G)[0];k.call(E,F),P=P.replace(F,"")}}return function(q){var B=q.afternoon;if(B!==void 0){var D=q.hours;B?D<12&&(q.hours+=12):D===12&&(q.hours=0),delete q.afternoon}}(E),E}}return function(e,a,i){i.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(V=e.parseTwoDigitYear);var t=a.prototype,v=t.parse;t.parse=function(A){var K=A.date,I=A.utc,L=A.args;this.$u=I;var x=L[1];if(typeof x=="string"){var P=L[2]===!0,E=L[3]===!0,S=P||E,y=L[2];E&&(y=L[2]),n=this.$locale(),!P&&y&&(n=i.Ls[y]),this.$d=function(G,F,q,B){try{if(["x","X"].indexOf(F)>-1)return new Date((F==="X"?1e3:1)*G);var D=z(F)(G),W=D.year,R=D.month,Le=D.day,xe=D.hours,Te=D.minutes,_e=D.seconds,Ee=D.milliseconds,ue=D.zone,me=D.week,X=new Date,J=Le||(W||R?1:X.getDate()),ee=W||X.getFullYear(),O=0;W&&!R||(O=R>0?R-1:X.getMonth());var Q,re=xe||0,te=Te||0,ae=_e||0,ne=Ee||0;return ue?new Date(Date.UTC(ee,O,J,re,te,ae,ne+60*ue.offset*1e3)):q?new Date(Date.UTC(ee,O,J,re,te,ae,ne)):(Q=new Date(ee,O,J,re,te,ae,ne),me&&(Q=B(Q).week(me).toDate()),Q)}catch{return new Date("")}}(K,x,I,i),this.init(),y&&y!==!0&&(this.$L=this.locale(y).$L),S&&K!=this.format(x)&&(this.$d=new Date("")),n={}}else if(x instanceof Array)for(var M=x.length,j=1;j<=M;j+=1){L[1]=x[j-1];var k=i.apply(this,L);if(k.isValid()){this.$d=k.$d,this.$L=k.$L,this.init();break}j===M&&(this.$d=new Date(""))}else v.call(this,A)}}})})(ve);var Oe=ve.exports;const Qe=Ke(Oe);oe.extend(Qe);const de=({valgtSakslisteId:d,valgtAvdelingEnhet:c,erDynamiskPeriode:g})=>{const l=se(),o=Ne(),{mutate:u}=w({mutationFn:t=>ye(d,t.fra,t.til,c),onSuccess:()=>{l.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),{mutate:m}=w({mutationFn:()=>Ie(d,c),onSuccess:()=>{l.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),{mutate:p}=w({mutationFn:t=>Pe(d,c,t.fomDato,t.tomDato),onSuccess:()=>{l.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),l.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),{watch:n}=ie(),V=n("fra"),s=n("til"),b=n("fomDato"),h=n("tomDato"),Y=t=>u({fra:t,til:s}),U=t=>u({fra:V,til:t}),z=De(p,!0,h),e=De(p,!1,b),a=Z("fomDato",z),i=Z("tomDato",e);return r.jsx("div",{className:_.arrowBoxWidth,children:r.jsx(Ve,{children:r.jsxs(ge,{gap:"2",children:[r.jsx(T,{children:r.jsx(N,{id:"SorteringVelger.FiltrerPaTidsintervall"})}),g&&r.jsxs(Se,{gap:"4",children:[r.jsxs("div",{children:[r.jsx($,{name:"fra",className:_.dato,label:o.formatMessage({id:"SorteringVelger.Fom"}),validate:[H],onBlur:Y}),(V||V===0)&&r.jsx(T,{children:r.jsx(pe,{dateString:he(V)})})]}),r.jsx(T,{className:_.dager,children:r.jsx(N,{id:"SorteringVelger.DagerMedBindestrek"})}),r.jsxs("div",{children:[r.jsx($,{name:"til",className:_.dato,label:o.formatMessage({id:"SorteringVelger.Tom"}),validate:[H],onBlur:U}),(s||s===0)&&r.jsx(T,{children:r.jsx(pe,{dateString:he(s)})})]}),r.jsx(T,{className:_.dagerMedBindestrek,children:r.jsx(N,{id:"SorteringVelger.Dager"})})]}),!g&&r.jsxs(ge,{gap:"4",children:[r.jsx(ce,{name:"fomDato",label:o.formatMessage({id:"SorteringVelger.Fom"}),validate:[fe],onChange:a}),r.jsx(T,{children:r.jsx(N,{id:"SorteringVelger.Bindestrek"})}),r.jsx(ce,{name:"tomDato",label:o.formatMessage({id:"SorteringVelger.Tom"}),validate:[fe],onChange:i})]}),r.jsx(Me,{name:"erDynamiskPeriode",label:o.formatMessage({id:"SorteringVelger.DynamiskPeriode"}),onChange:()=>m()})]})})})},he=d=>oe().add(d,"d").format(),De=(d,c,g)=>l=>{let o;if(l&&(o=oe(l)),!o||o.isValid()){const u=o&&o.format(be);return d(c?{fomDato:u,tomDato:g}:{fomDato:g,tomDato:u})}};de.__docgenInfo={description:"",methods:[],displayName:"DatoSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};de.__docgenInfo={description:"",methods:[],displayName:"DatoSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};const Ce=d=>d&&d.some(c=>c===C.TILBAKEKREVING||c===C.TILBAKEKREVING_REVURDERING)&&!d.some(c=>c!==C.TILBAKEKREVING&&c!==C.TILBAKEKREVING_REVURDERING),Ae=({valgtSakslisteId:d,valgteBehandlingtyper:c,valgtAvdelingEnhet:g,erDynamiskPeriode:l})=>{const o=se(),{resetField:u}=ie(),{mutate:m}=w({mutationFn:n=>ke(d,n.sorteringType,g),onSuccess:()=>{o.invalidateQueries({queryKey:[f.OPPGAVE_ANTALL]}),o.invalidateQueries({queryKey:[f.OPPGAVE_AVDELING_ANTALL]}),o.invalidateQueries({queryKey:[f.SAKSLISTER_FOR_AVDELING]})}}),p=qe("KøSortering");return r.jsx(je,{name:"sortering",label:r.jsx(N,{id:"SorteringVelger.Sortering"}),onChange:n=>(u("fra",{defaultValue:""}),u("til",{defaultValue:""}),u("fomDato",{defaultValue:""}),u("tomDato",{defaultValue:""}),u("erDynamiskPeriode",{defaultValue:""}),m({sorteringType:n})),radios:p.filter(n=>n.feltkategori!=="TILBAKEKREVING"||Ce(c)).map(n=>({value:n.kode,label:n.navn,element:r.jsxs(r.Fragment,{children:[n.felttype==="DATO"&&r.jsx(de,{valgtSakslisteId:d,valgtAvdelingEnhet:g,erDynamiskPeriode:l}),n.felttype==="HELTALL"&&r.jsx(le,{valgtSakslisteId:d,valgtAvdelingEnhet:g})]})}))})};Ae.__docgenInfo={description:"",methods:[],displayName:"SorteringVelger",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgteBehandlingtyper:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};Ae.__docgenInfo={description:"",methods:[],displayName:"SorteringVelger",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgteBehandlingtyper:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};export{Ae as S};
