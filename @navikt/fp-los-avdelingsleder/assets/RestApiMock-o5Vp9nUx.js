import{j as m}from"./jsx-runtime-CUEGZZF9.js";import{a as z,b as K,c as Q}from"./useGlobalStateRestApiData-A2OyOdo-.js";import{a as X,g as Z,r as E}from"./index-DogsOklH.js";import{c as U}from"./fplosRestApi-9Y9Hxjgv.js";import{$ as ee}from"./nb_NO-OML_0A-C.js";var k={exports:{}};const{Axios:te,AxiosError:re,CanceledError:ne,isCancel:ie,CancelToken:ae,VERSION:oe,all:se,Cancel:ue,isAxiosError:fe,spread:ce,toFormData:le,AxiosHeaders:pe,HttpStatusCode:de,formToJSON:ye,getAdapter:he,mergeConfig:me}=U,Ee=Object.freeze(Object.defineProperty({__proto__:null,Axios:te,AxiosError:re,AxiosHeaders:pe,Cancel:ue,CancelToken:ae,CanceledError:ne,HttpStatusCode:de,VERSION:oe,all:se,default:U,formToJSON:ye,getAdapter:he,isAxiosError:fe,isCancel:ie,mergeConfig:me,spread:ce,toFormData:le},Symbol.toStringTag,{value:"Module"})),ve=X(Ee);var Re=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r};/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var ge=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};/*!
 * MIT License
 *
 * Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (https://sindresorhus.com)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated
 * documentation files (the "Software"), to deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit
 * persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the
 * Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
 * WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
 * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */function Oe(e){return typeof Blob>"u"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"}var Ae=Oe,_=ve,j=Re,be=ge,xe=Ae,L=Object.prototype.toString;function q(e,t){for(var r=e.length,n=0;n<r;n++){var i=e[n];if(t(i))return i}}function D(e){return L.call(e)==="[object Function]"}function I(e){return e!==null&&typeof e=="object"}function Ne(e){return I(e)&&D(e.pipe)}function Me(e){return L.call(e)==="[object ArrayBuffer]"}function C(e,t){return e?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):t}function ke(e,t,r,n,i,o,s){return q(e[t.toLowerCase()],function(a){if(typeof a[0]=="string")return(B(r,a[0])||B(C(s,r),a[0]))&&x(t,n,i,a[1])&&A(o,a[2]);if(a[0]instanceof RegExp)return(a[0].test(r)||a[0].test(C(s,r)))&&x(t,n,i,a[1])&&A(o,a[2])})}function B(e,t){var r=e[0]==="/"?e.substr(1):e,n=t[0]==="/"?t.substr(1):t;return r===n}function x(e,t,r,n){var i=["delete","get","head","options"];if(i.indexOf(e.toLowerCase())>=0){var o=n?n.data:void 0,s=n?n.params:void 0;return A(r,s)&&T(t,o)}else return T(t,n)}function A(e,t){return t===void 0?!0:typeof t.asymmetricMatch=="function"?t.asymmetricMatch(e):j(e,t)}function T(e,t){if(t===void 0)return!0;var r;try{r=JSON.parse(e)}catch{}return A(r||e,t)}function Se(e,t){Object.keys(e.handlers).forEach(function(r){var n=e.handlers[r].indexOf(t);n>-1&&e.handlers[r].splice(n,1)})}function $(e,t,r,n){if(n>0){setTimeout($,n,e,t,r);return}!r.config.validateStatus||r.config.validateStatus(r.status)?e(r):t(F("Request failed with status code "+r.status,r.config,r))}function F(e,t,r,n){if(typeof _.AxiosError=="function")return _.AxiosError.from(new Error(e),n,t,null,r);var i=new Error(e);return i.isAxiosError=!0,i.config=t,r!==void 0&&(i.response=r),n!==void 0&&(i.code=n),i.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},i}function _e(e){var t=`Could not find mock for: 
`+JSON.stringify(e,["method","url"],2),r=new Error(t);return r.isCouldNotFindMockError=!0,r.url=e.url,r.method=e.method,r}var V={find:q,findHandler:ke,purgeIfReplyOnce:Se,settle:$,isStream:Ne,isArrayBuffer:Me,isFunction:D,isObjectOrArray:I,isBuffer:be,isBlob:xe,isBodyOrParametersMatching:x,isEqual:j,createAxiosError:F,createCouldNotFindMockError:_e},c=V;function Ce(e){return c.isArrayBuffer(e)||c.isBuffer(e)||c.isStream(e)||c.isBlob(e)?e:c.isObjectOrArray(e)?JSON.parse(JSON.stringify(e)):e}function R(e,t){return{status:e[0],data:Ce(e[1]),headers:e[2],config:t,request:{responseURL:t.url}}}function w(e,t,r,n){var i=n.baseURL;if(n.baseURL&&!/^https?:/.test(n.baseURL)&&(i=void 0),typeof e.originalAdapter=="function")return e.originalAdapter(n).then(t,r);e.axiosInstanceWithoutInterceptors(Object.assign({},n,{baseURL:i,adapter:e.originalAdapter,transformRequest:[],transformResponse:[]})).then(t,r)}function Be(e,t,r,n){var i=n.url||"";n.baseURL&&i.substr(0,n.baseURL.length)===n.baseURL&&(i=i.slice(n.baseURL.length)),delete n.adapter,e.history[n.method].push(n);var o=c.findHandler(e.handlers,n.method,i,n.data,n.params,n.headers&&n.headers.constructor.name==="AxiosHeaders"?Object.assign({},n.headers):n.headers,n.baseURL);if(o)if(o.length===7&&c.purgeIfReplyOnce(e,o),o.length===2)w(e,t,r,n);else if(typeof o[3]!="function")c.settle(t,r,R(o.slice(3),n),g(e,o));else{var s=o[3](n);typeof s.then!="function"?c.settle(t,r,R(s,n),g(e,o)):s.then(function(a){a.config&&a.status?c.settle(t,r,R([a.status,a.data,a.headers],a.config),0):c.settle(t,r,R(a,n),g(e,o))},function(a){e.delayResponse>0?setTimeout(function(){r(a)},g(e,o)):r(a)})}else switch(e.onNoMatch){case"passthrough":w(e,t,r,n);break;case"throwException":throw c.createCouldNotFindMockError(n);default:c.settle(t,r,{status:404,config:n},e.delayResponse)}}function g(e,t){var r;return t.length===8&&(r=t[7]),r||e.delayResponse}var Te=Be,we=Te,l=V,S=["get","post","head","delete","patch","put","options","list","link","unlink"];function Pe(){return(function(e){var t=this;return new Promise(function(r,n){we(t,r,n,e)})}).bind(this)}function H(){return S.reduce(function(e,t){return e[t]=[],e},{})}function G(){J.call(this),W.call(this)}function J(){this.handlers=H()}function W(){this.history=H()}function p(e,t){if(G.call(this),e)this.axiosInstance=e,this.axiosInstanceWithoutInterceptors=e.create?e.create():void 0,this.originalAdapter=e.defaults.adapter,this.delayResponse=t&&t.delayResponse>0?t.delayResponse:null,this.onNoMatch=t&&t.onNoMatch||null,e.defaults.adapter=this.adapter.call(this);else throw new Error("Please provide an instance of axios to mock")}p.prototype.adapter=Pe;p.prototype.restore=function(){this.axiosInstance&&(this.axiosInstance.defaults.adapter=this.originalAdapter,this.axiosInstance=void 0)};p.prototype.reset=G;p.prototype.resetHandlers=J;p.prototype.resetHistory=W;S.concat("any").forEach(function(e){var t="on"+e.charAt(0).toUpperCase()+e.slice(1);p.prototype[t]=function(s,n,i){var o=this,s=s===void 0?/.*/:s;function a(u,f,d){var y=[s,n,i,u,f,d];return O(e,o.handlers,y),o}function h(u,f,d,y){var Y=[s,n,i,f,d,y,!1,u];return O(e,o.handlers,Y),o}function b(u){return function(f,d,y){h(u,f,d,y)}}function v(u,f,d){var y=[s,n,i,u,f,d,!0];return O(e,o.handlers,y),o}return{reply:a,replyOnce:v,withDelayInMs:b,passThrough:function(){var f=[s,n];return O(e,o.handlers,f),o},abortRequest:function(){return a(function(u){var f=l.createAxiosError("Request aborted",u,void 0,"ECONNABORTED");return Promise.reject(f)})},abortRequestOnce:function(){return v(function(u){var f=l.createAxiosError("Request aborted",u,void 0,"ECONNABORTED");return Promise.reject(f)})},networkError:function(){return a(function(u){var f=l.createAxiosError("Network Error",u);return Promise.reject(f)})},networkErrorOnce:function(){return v(function(u){var f=l.createAxiosError("Network Error",u);return Promise.reject(f)})},timeout:function(){return a(function(u){var f=l.createAxiosError(u.timeoutErrorMessage||"timeout of "+u.timeout+"ms exceeded",u,void 0,u.transitional&&u.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED");return Promise.reject(f)})},timeoutOnce:function(){return v(function(u){var f=l.createAxiosError(u.timeoutErrorMessage||"timeout of "+u.timeout+"ms exceeded",u,void 0,u.transitional&&u.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED");return Promise.reject(f)})}}}});function Ue(e,t,r){for(var n=-1,i=0;i<t[e].length;i+=1){var o=t[e][i],s=o.length===7,a=o[0]instanceof RegExp&&r[0]instanceof RegExp?String(o[0])===String(r[0]):o[0]===r[0],h=a&&l.isEqual(o[1],r[1])&&l.isEqual(o[2],r[2]);h&&!s&&(n=i)}return n}function O(e,t,r){if(e==="any")S.forEach(function(i){t[i].push(r)});else{var n=Ue(e,t,r);n>-1&&r.length<7?t[e].splice(n,1,r):t[e].push(r)}}k.exports=p;k.exports.default=p;var je=k.exports;const Le=Z(je),N=({children:e,data:t,requestApi:r,setApiMock:n=()=>{}})=>{const[i,o]=E.useState(!1);return E.useEffect(()=>{const s=new Le(r.getAxios());return n(s),r.setLinks(t.filter(a=>!a.noRelLink).map(a=>{var h;return{href:a.key,rel:((h=r.endpointConfigList.find(b=>b.name===a.key))==null?void 0:h.rel)||"",type:"GET"}})),t.forEach(a=>{r.getRestType(a.key)==="GET"?s.onGet(r.getUrl(a.key)).reply(200,a.data):r.getRestType(a.key)==="GET_ASYNC"?s.onGet(r.getUrl(a.key)).replyOnce(200,a.data):r.getRestType(a.key)==="POST_ASYNC"?s.onPost(r.getUrl(a.key)).replyOnce(200,a.data):s.onPost(r.getUrl(a.key)).reply(200,a.data)}),o(!0),()=>{s.restore(),r.setLinks([]),r.resetCache()}},[]),i?e:m(ee,{})};try{N.displayName="AxiosMock",N.__docgenInfo={description:"",displayName:"AxiosMock",props:{requestApi:{defaultValue:null,description:"",name:"requestApi",required:!0,type:{name:"RequestApi"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ key: string; data: any; noRelLink?: boolean | undefined; }[]"}},setApiMock:{defaultValue:{value:"() => undefined"},description:"",name:"setApiMock",required:!1,type:{name:"((mockAdapter: MockAdapter) => void)"}}}}}catch{}const M=({children:e,data:t})=>{const[r,n]=E.useState(!1),i=E.useContext(z);return E.useEffect(()=>{if(i&&!r){const o=t.map(s=>()=>i({type:"success",key:s.key,data:s.data}));Promise.all(o.map(s=>s())).then(()=>n(!0))}},[r]),r?e:null};try{M.displayName="RestApiGlobalStateMock",M.__docgenInfo={description:"",displayName:"RestApiGlobalStateMock",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ key: string; data: any; }[]"}}}}}catch{}const P=({children:e,data:t,requestApi:r,errors:n,setApiMock:i})=>m(K,{children:m(Q,{initialState:n?{errors:n}:void 0,children:m(M,{data:t.filter(o=>o.global),children:m(N,{data:t,requestApi:r,setApiMock:i,children:e})})})});try{P.displayName="RestApiMock",P.__docgenInfo={description:"",displayName:"RestApiMock",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ key: string; global?: boolean | undefined; data: any; noRelLink?: boolean | undefined; }[]"}},requestApi:{defaultValue:null,description:"",name:"requestApi",required:!0,type:{name:"RequestApi"}},errors:{defaultValue:null,description:"",name:"errors",required:!1,type:{name:"{ type: string; feilmelding: string; }[]"}},setApiMock:{defaultValue:null,description:"",name:"setApiMock",required:!1,type:{name:"((mockAdapter: MockAdapter) => void)"}}}}}catch{}export{P as R};
