import{j as e}from"./jsx-runtime-DR9Q75dM.js";import{r}from"./index-DRjF_FHU.js";import{u as $,a as x,M as c,L as G,b as p,$ as M,W as V,d as W,e as T,D as Y,r as I,B as k,f as J,h as y,i as K,Y as Q,k as D,j as E,g as X,c as v,m as Z}from"./nb_NO-B_HpmK2h.js";import"./v4-CQkTLCs1.js";import"./dayjs.min-CnNqAF5I.js";import"./index-rX-Bn4lm.js";var t=(n=>(n.NOT_STARTED="NOT_STARTED",n.LOADING="LOADING",n.SUCCESS="SUCCESS",n.ERROR="ERROR",n))(t||{});const ee={};r.createContext(ee);r.createContext(void 0);const ne={errors:[]};r.createContext(ne);r.createContext(void 0);t.NOT_STARTED;t.NOT_STARTED;t.NOT_STARTED;const te="_modal_1pn1d_1",re="_submitButton_1pn1d_5",ae="_cancelButton_1pn1d_10",se="_buttonDiv_1pn1d_14",g={modal:te,submitButton:re,cancelButton:ae,buttonDiv:se},oe=D(3),ie=E(500),le=D(7),de=E(7),ue=(n,o,a)=>n===t.SUCCESS&&!a?o.formatMessage({id:"LeggTilSaksbehandlerForm.FinnesIkke"}):a?`${a.navn}`:"",S=({showModal:n,closeModal:o,oppgaveId:a,toggleMenu:b,hentReserverteOppgaver:h,flyttOppgavereservasjon:P,hentSaksbehandler:N,hentSaksbehandlerState:d,saksbehandler:u,resetHentSaksbehandler:H})=>{const m=$(),B=r.useCallback(s=>N({brukerIdent:s}),[]),L=r.useCallback((s,z)=>P({oppgaveId:a,brukerIdent:s,begrunnelse:z}).then(()=>h({},!0)),[]);r.useEffect(()=>()=>{H()},[]);const j=x(),U=j.watch("brukerIdent"),f=x(),R=f.watch("begrunnelse");return e.jsxs(c,{className:g.modal,open:n,"aria-label":m.formatMessage({id:"FlyttReservasjonModal.FlyttReservasjon"}),onClose:o,children:[e.jsx(c.Header,{children:e.jsx(G,{size:"small",children:e.jsx(p,{id:"FlyttReservasjonModal.FlyttReservasjon"})})}),e.jsxs(c.Body,{children:[e.jsxs(M,{formMethods:j,onSubmit:s=>B(s.brukerIdent),children:[e.jsx(V,{children:e.jsxs(W,{children:[e.jsx(T,{children:e.jsx(Y,{name:"brukerIdent",label:m.formatMessage({id:"FlyttReservasjonModal.Brukerident"}),validate:[I,le,de],autoFocus:!0,autoComplete:!0})}),e.jsx(T,{className:g.buttonDiv,children:e.jsx(k,{size:"small",variant:"primary",loading:d===t.LOADING,disabled:!U||d===t.LOADING,children:e.jsx(p,{id:"FlyttReservasjonModal.Sok"})})})]})}),d===t.SUCCESS&&e.jsxs(e.Fragment,{children:[e.jsx(J,{size:"small",children:ue(d,m,u)}),e.jsx(y,{sixteenPx:!0})]})]}),e.jsx(y,{sixteenPx:!0}),e.jsxs(M,{formMethods:f,onSubmit:s=>{b(),L(u?u.brukerIdent:"",s.begrunnelse)},children:[e.jsx(K,{name:"begrunnelse",label:m.formatMessage({id:"FlyttReservasjonModal.Begrunn"}),validate:[I,ie,oe,Q],maxLength:500}),e.jsx(y,{sixteenPx:!0}),e.jsxs(c.Footer,{children:[e.jsx(k,{className:g.submitButton,size:"small",variant:"primary",disabled:!u||!R||R.length<3,children:e.jsx(p,{id:"FlyttReservasjonModal.Ok"})}),e.jsx(k,{className:g.cancelButton,size:"small",variant:"secondary",onClick:o,type:"button",children:e.jsx(p,{id:"FlyttReservasjonModal.Avbryt"})})]})]})]})]})};S.__docgenInfo={description:`FlyttReservasjonModal

Modal som lar en søke opp en saksbehandler som saken skal flyttes til. En kan også begrunne hvorfor saken skal flyttes.`,methods:[],displayName:"FlyttReservasjonModal",props:{showModal:{required:!0,tsType:{name:"boolean"},description:""},oppgaveId:{required:!0,tsType:{name:"number"},description:""},closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},toggleMenu:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},hentReserverteOppgaver:{required:!0,tsType:{name:"signature",type:"function",raw:"(params: any, keepData: boolean) => void",signature:{arguments:[{type:{name:"any"},name:"params"},{type:{name:"boolean"},name:"keepData"}],return:{name:"void"}}},description:""},flyttOppgavereservasjon:{required:!0,tsType:{name:"signature",type:"function",raw:"(params: { oppgaveId: number; brukerIdent: string; begrunnelse: string }) => Promise<void>",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ oppgaveId: number; brukerIdent: string; begrunnelse: string }",signature:{properties:[{key:"oppgaveId",value:{name:"number",required:!0}},{key:"brukerIdent",value:{name:"string",required:!0}},{key:"begrunnelse",value:{name:"string",required:!0}}]}},name:"params"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},hentSaksbehandler:{required:!0,tsType:{name:"signature",type:"function",raw:"(params: { brukerIdent: string }) => Promise<SaksbehandlerProfil | undefined>",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ brukerIdent: string }",signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}}]}},name:"params"}],return:{name:"Promise",elements:[{name:"union",raw:"SaksbehandlerProfil | undefined",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`},{name:"undefined"}]}],raw:"Promise<SaksbehandlerProfil | undefined>"}}},description:""},hentSaksbehandlerState:{required:!0,tsType:{name:"RestApiState"},description:""},saksbehandler:{required:!1,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`},description:""},resetHentSaksbehandler:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const me=X(Z),ke={title:"los/avdelingsleder/behandlingskoer/FlyttReservasjonModal",component:S,decorators:[me]},q=({saksbehandler:n,hentReserverteOppgaver:o})=>{const[a,b]=r.useState(!1),h=()=>(b(!0),Promise.resolve(n));return e.jsx(S,{showModal:!0,oppgaveId:1,closeModal:v("button-click"),toggleMenu:v("button-click"),hentReserverteOppgaver:o,flyttOppgavereservasjon:()=>Promise.resolve(),hentSaksbehandler:h,hentSaksbehandlerState:a?t.SUCCESS:t.NOT_STARTED,saksbehandler:n,resetHentSaksbehandler:()=>{}})},i=q.bind({});i.args={hentReserverteOppgaver:v("button-click"),saksbehandler:void 0};const l=q.bind({});l.args={hentReserverteOppgaver:v("button-click"),saksbehandler:{brukerIdent:"R232323",navn:"Espen Utvikler",ansattAvdeling:"Avdeling A"}};var O,A,F;i.parameters={...i.parameters,docs:{...(O=i.parameters)==null?void 0:O.docs,source:{originalSource:`({
  saksbehandler,
  hentReserverteOppgaver
}) => {
  const [harHentet, setHentet] = useState(false);
  const hentSaksbehandler = () => {
    setHentet(true);
    return Promise.resolve(saksbehandler);
  };
  return <FlyttReservasjonModal showModal oppgaveId={1} closeModal={action('button-click')} toggleMenu={action('button-click')} hentReserverteOppgaver={hentReserverteOppgaver} flyttOppgavereservasjon={() => Promise.resolve()} hentSaksbehandler={hentSaksbehandler} hentSaksbehandlerState={harHentet ? RestApiState.SUCCESS : RestApiState.NOT_STARTED} saksbehandler={saksbehandler} resetHentSaksbehandler={() => undefined} />;
}`,...(F=(A=i.parameters)==null?void 0:A.docs)==null?void 0:F.source}}};var _,w,C;l.parameters={...l.parameters,docs:{...(_=l.parameters)==null?void 0:_.docs,source:{originalSource:`({
  saksbehandler,
  hentReserverteOppgaver
}) => {
  const [harHentet, setHentet] = useState(false);
  const hentSaksbehandler = () => {
    setHentet(true);
    return Promise.resolve(saksbehandler);
  };
  return <FlyttReservasjonModal showModal oppgaveId={1} closeModal={action('button-click')} toggleMenu={action('button-click')} hentReserverteOppgaver={hentReserverteOppgaver} flyttOppgavereservasjon={() => Promise.resolve()} hentSaksbehandler={hentSaksbehandler} hentSaksbehandlerState={harHentet ? RestApiState.SUCCESS : RestApiState.NOT_STARTED} saksbehandler={saksbehandler} resetHentSaksbehandler={() => undefined} />;
}`,...(C=(w=l.parameters)==null?void 0:w.docs)==null?void 0:C.source}}};const ye=["Default","MedTreffPåSøk"];export{i as Default,l as MedTreffPåSøk,ye as __namedExportsOrder,ke as default};
