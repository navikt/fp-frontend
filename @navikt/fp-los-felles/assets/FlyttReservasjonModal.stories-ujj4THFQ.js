import{j as e}from"./dayjs.min-ZUODdiE-.js";import{r}from"./index-uubelm5h.js";import{u as $,a as R,M as c,L as V,b as g,Y as x,W,e as Y,f as M,O as Z,r as T,B as k,h as J,i as y,j as K,Z as Q,k as C,l as E,g as X,d as v,m as ee}from"./nb_NO-BoomD4k4.js";import"./v4-CQkTLCs1.js";import"./index-BdzLX9oW.js";var t=(n=>(n.NOT_STARTED="NOT_STARTED",n.LOADING="LOADING",n.SUCCESS="SUCCESS",n.ERROR="ERROR",n))(t||{});const ne={};r.createContext(ne);r.createContext(void 0);const te={errors:[]};r.createContext(te);r.createContext(void 0);t.NOT_STARTED;t.NOT_STARTED;t.NOT_STARTED;const re="_modal_1pn1d_1",ae="_submitButton_1pn1d_5",se="_cancelButton_1pn1d_10",oe="_buttonDiv_1pn1d_14",p={modal:re,submitButton:ae,cancelButton:se,buttonDiv:oe},ie=C(3),le=E(500),de=C(7),ue=E(7),me=(n,o,a)=>n===t.SUCCESS&&!a?o.formatMessage({id:"LeggTilSaksbehandlerForm.FinnesIkke"}):a?`${a.navn}`:"",D=({showModal:n,closeModal:o,oppgaveId:a,toggleMenu:b,hentReserverteOppgaver:h,flyttOppgavereservasjon:N,hentSaksbehandler:H,hentSaksbehandlerState:d,saksbehandler:u,resetHentSaksbehandler:B})=>{const m=$(),L=r.useCallback(s=>H({brukerIdent:s}),[]),U=r.useCallback((s,G)=>N({oppgaveId:a,brukerIdent:s,begrunnelse:G}).then(()=>h({},!0)),[]);r.useEffect(()=>()=>{B()},[]);const S=R(),z=S.watch("brukerIdent"),j=R(),f=j.watch("begrunnelse");return e.jsxs(c,{className:p.modal,open:n,"aria-label":m.formatMessage({id:"FlyttReservasjonModal.FlyttReservasjon"}),onClose:o,children:[e.jsx(c.Header,{children:e.jsx(V,{size:"small",children:e.jsx(g,{id:"FlyttReservasjonModal.FlyttReservasjon"})})}),e.jsxs(c.Body,{children:[e.jsxs(x,{formMethods:S,onSubmit:s=>L(s.brukerIdent),children:[e.jsx(W,{children:e.jsxs(Y,{children:[e.jsx(M,{children:e.jsx(Z,{name:"brukerIdent",label:m.formatMessage({id:"FlyttReservasjonModal.Brukerident"}),validate:[T,de,ue],autoFocus:!0,autoComplete:!0})}),e.jsx(M,{className:p.buttonDiv,children:e.jsx(k,{size:"small",variant:"primary",loading:d===t.LOADING,disabled:!z||d===t.LOADING,children:e.jsx(g,{id:"FlyttReservasjonModal.Sok"})})})]})}),d===t.SUCCESS&&e.jsxs(e.Fragment,{children:[e.jsx(J,{size:"small",children:me(d,m,u)}),e.jsx(y,{sixteenPx:!0})]})]}),e.jsx(y,{sixteenPx:!0}),e.jsxs(x,{formMethods:j,onSubmit:s=>{b(),U(u?u.brukerIdent:"",s.begrunnelse)},children:[e.jsx(K,{name:"begrunnelse",label:m.formatMessage({id:"FlyttReservasjonModal.Begrunn"}),validate:[T,le,ie,Q],maxLength:500}),e.jsx(y,{sixteenPx:!0}),e.jsxs(c.Footer,{children:[e.jsx(k,{className:p.submitButton,size:"small",variant:"primary",disabled:!u||!f||f.length<3,children:e.jsx(g,{id:"FlyttReservasjonModal.Ok"})}),e.jsx(k,{className:p.cancelButton,size:"small",variant:"secondary",onClick:o,type:"button",children:e.jsx(g,{id:"FlyttReservasjonModal.Avbryt"})})]})]})]})]})},q=D;D.__docgenInfo={description:`FlyttReservasjonModal

Modal som lar en søke opp en saksbehandler som saken skal flyttes til. En kan også begrunne hvorfor saken skal flyttes.`,methods:[],displayName:"FlyttReservasjonModal",props:{showModal:{required:!0,tsType:{name:"boolean"},description:""},oppgaveId:{required:!0,tsType:{name:"number"},description:""},closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},toggleMenu:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},hentReserverteOppgaver:{required:!0,tsType:{name:"signature",type:"function",raw:"(params: any, keepData: boolean) => void",signature:{arguments:[{type:{name:"any"},name:"params"},{type:{name:"boolean"},name:"keepData"}],return:{name:"void"}}},description:""},flyttOppgavereservasjon:{required:!0,tsType:{name:"signature",type:"function",raw:"(params: { oppgaveId: number; brukerIdent: string; begrunnelse: string }) => Promise<void>",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ oppgaveId: number; brukerIdent: string; begrunnelse: string }",signature:{properties:[{key:"oppgaveId",value:{name:"number",required:!0}},{key:"brukerIdent",value:{name:"string",required:!0}},{key:"begrunnelse",value:{name:"string",required:!0}}]}},name:"params"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},hentSaksbehandler:{required:!0,tsType:{name:"signature",type:"function",raw:"(params: { brukerIdent: string }) => Promise<SaksbehandlerProfil | undefined>",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ brukerIdent: string }",signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}}]}},name:"params"}],return:{name:"Promise",elements:[{name:"union",raw:"SaksbehandlerProfil | undefined",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`},{name:"undefined"}]}],raw:"Promise<SaksbehandlerProfil | undefined>"}}},description:""},hentSaksbehandlerState:{required:!0,tsType:{name:"RestApiState"},description:""},saksbehandler:{required:!1,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`},description:""},resetHentSaksbehandler:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const ce=X(ee),ke={title:"los/avdelingsleder/behandlingskoer/FlyttReservasjonModal",component:q,decorators:[ce]},P=({saksbehandler:n,hentReserverteOppgaver:o})=>{const[a,b]=r.useState(!1),h=()=>(b(!0),Promise.resolve(n));return e.jsx(q,{showModal:!0,oppgaveId:1,closeModal:v("button-click"),toggleMenu:v("button-click"),hentReserverteOppgaver:o,flyttOppgavereservasjon:()=>Promise.resolve(),hentSaksbehandler:h,hentSaksbehandlerState:a?t.SUCCESS:t.NOT_STARTED,saksbehandler:n,resetHentSaksbehandler:()=>{}})},i=P.bind({});i.args={hentReserverteOppgaver:v("button-click"),saksbehandler:void 0};const l=P.bind({});l.args={hentReserverteOppgaver:v("button-click"),saksbehandler:{brukerIdent:"R232323",navn:"Espen Utvikler",ansattAvdeling:"Avdeling A"}};var I,O,F;i.parameters={...i.parameters,docs:{...(I=i.parameters)==null?void 0:I.docs,source:{originalSource:`({
  saksbehandler,
  hentReserverteOppgaver
}) => {
  const [harHentet, setHentet] = useState(false);
  const hentSaksbehandler = () => {
    setHentet(true);
    return Promise.resolve(saksbehandler);
  };
  return <FlyttReservasjonModal showModal oppgaveId={1} closeModal={action('button-click')} toggleMenu={action('button-click')} hentReserverteOppgaver={hentReserverteOppgaver} flyttOppgavereservasjon={() => Promise.resolve()} hentSaksbehandler={hentSaksbehandler} hentSaksbehandlerState={harHentet ? RestApiState.SUCCESS : RestApiState.NOT_STARTED} saksbehandler={saksbehandler} resetHentSaksbehandler={() => undefined} />;
}`,...(F=(O=i.parameters)==null?void 0:O.docs)==null?void 0:F.source}}};var _,w,A;l.parameters={...l.parameters,docs:{...(_=l.parameters)==null?void 0:_.docs,source:{originalSource:`({
  saksbehandler,
  hentReserverteOppgaver
}) => {
  const [harHentet, setHentet] = useState(false);
  const hentSaksbehandler = () => {
    setHentet(true);
    return Promise.resolve(saksbehandler);
  };
  return <FlyttReservasjonModal showModal oppgaveId={1} closeModal={action('button-click')} toggleMenu={action('button-click')} hentReserverteOppgaver={hentReserverteOppgaver} flyttOppgavereservasjon={() => Promise.resolve()} hentSaksbehandler={hentSaksbehandler} hentSaksbehandlerState={harHentet ? RestApiState.SUCCESS : RestApiState.NOT_STARTED} saksbehandler={saksbehandler} resetHentSaksbehandler={() => undefined} />;
}`,...(A=(w=l.parameters)==null?void 0:w.docs)==null?void 0:A.source}}};const ye=["Default","MedTreffPåSøk"];export{i as Default,l as MedTreffPåSøk,ye as __namedExportsOrder,ke as default};
