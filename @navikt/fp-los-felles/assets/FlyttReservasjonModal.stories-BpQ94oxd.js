import{j as s}from"./jsx-runtime-DR9Q75dM.js";import{R as w,r as p}from"./index-DRjF_FHU.js";import{S as Y,e as Z,o as se,u as ie,a as B,M as _,L as oe,b as x,$ as L,f as le,h as U,B as I,i as de,j as ue,k as ce,l as ee,n as te,c as ge,d as E,m as me}from"./nb_NO-o4lflg9r.js";import"./v4-CQkTLCs1.js";import"./dayjs.min-CnNqAF5I.js";import"./index-rX-Bn4lm.js";function o(e,a,n){return n?typeof n=="string"?{[`--__ac-${e}-${a}-xs`]:n}:Object.fromEntries(Object.entries(n).map(([t,r])=>[`--__ac-${e}-${a}-${t}`,r])):{}}const ve=e=>{switch(e){case"px":return"1px"}return e},z=(e,a,n,t,r)=>a.split(" ").map((i,l,d)=>{if(e==="margin-inline"&&i==="full")return`calc((100vw - ${100/d.length}%)/-2)`;if(e==="padding-inline"&&i==="full")return`calc((100vw - ${100/d.length}%)/2)`;if(["mi","mb"].includes(e)&&i==="auto")return"auto";let u=`var(--a-${n}-${i})`;return t.includes(i)&&(u=ve(i)),r?i==="0"?"0":`calc(-1 * ${u})`:u}).join(" ");function c(e,a,n,t,r=!1,i=[]){if(!t)return{};if(typeof t=="string")return{[`--__ac-${e}-${a}-xs`]:z(a,t,n,i,r)};const l={};return Object.entries(t).forEach(([d,u])=>{l[`--__ac-${e}-${a}-${d}`]=z(a,u,n,i,r)}),l}const pe=["className","padding","paddingInline","paddingBlock","margin","marginInline","marginBlock","width","minWidth","maxWidth","height","minHeight","maxHeight","position","inset","top","right","bottom","left","overflow","overflowX","overflowY","flexBasis","flexGrow","flexShrink","gridColumn"],be=({children:e,className:a,padding:n,paddingInline:t,paddingBlock:r,margin:i,marginInline:l,marginBlock:d,width:u,minWidth:g,maxWidth:v,height:h,minHeight:b,maxHeight:j,position:y,inset:k,top:f,right:R,left:C,bottom:A,overflow:F,overflowX:D,overflowY:$,flexBasis:P,flexGrow:q,flexShrink:N,gridColumn:H})=>{const ae=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},c("r","p","spacing",n)),c("r","pi","spacing",t)),c("r","pb","spacing",r)),c("r","m","spacing",i)),c("r","mi","spacing",l)),c("r","mb","spacing",d)),o("r","w",u)),o("r","minw",g)),o("r","maxw",v)),o("r","h",h)),o("r","minh",b)),o("r","maxh",j)),o("r","position",y)),c("r","inset","spacing",k)),c("r","top","spacing",f)),c("r","right","spacing",R)),c("r","bottom","spacing",A)),c("r","left","spacing",C)),o("r","overflow",F)),o("r","overflowx",D)),o("r","overflowy",$)),o("r","flex-basis",P)),o("r","flex-grow",q)),o("r","flex-shrink",N)),o("r","grid-column",H));return w.createElement(Y,{className:Z({className:a,"navds-r-p":n,"navds-r-pi":t,"navds-r-pb":r,"navds-r-m":i,"navds-r-mi":l,"navds-r-mb":d,"navds-r-w":u,"navds-r-minw":g,"navds-r-maxw":v,"navds-r-h":h,"navds-r-minh":b,"navds-r-maxh":j,"navds-r-position":y,"navds-r-inset":k,"navds-r-top":f,"navds-r-right":R,"navds-r-bottom":A,"navds-r-left":C,"navds-r-overflow":F,"navds-r-overflowx":D,"navds-r-overflowy":$,"navds-r-flex-basis":P,"navds-r-flex-grow":q,"navds-r-flex-shrink":N,"navds-r-grid-column":H}),style:ae},e)};var fe=function(e,a){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const ne=p.forwardRef((e,a)=>{var{children:n,className:t,as:r="div",align:i,justify:l,wrap:d=!0,gap:u,style:g,direction:v="row",asChild:h}=e,b=fe(e,["children","className","as","align","justify","wrap","gap","style","direction","asChild"]);const j=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},g),c("stack","gap","spacing",u)),o("stack","direction",v)),o("stack","align",i)),o("stack","justify",l)),y=h?Y:r;return w.createElement(be,Object.assign({},b),w.createElement(y,Object.assign({},se(b,pe),{ref:a,style:j,className:Z("navds-stack",t,{"navds-vstack":v==="column","navds-hstack":v==="row","navds-stack-gap":u,"navds-stack-align":i,"navds-stack-justify":l,"navds-stack-direction":v,"navds-stack-wrap":d})}),n))});var ye=function(e,a){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const V=p.forwardRef((e,a)=>{var{as:n="div"}=e,t=ye(e,["as"]);return w.createElement(ne,Object.assign({as:n},t,{ref:a,direction:"row"}))});var he=function(e,a){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const je=p.forwardRef((e,a)=>{var{as:n="div"}=e,t=he(e,["as"]);return w.createElement(ne,Object.assign({as:n},t,{ref:a,direction:"column",wrap:!1}))});var m=(e=>(e.NOT_STARTED="NOT_STARTED",e.LOADING="LOADING",e.SUCCESS="SUCCESS",e.ERROR="ERROR",e))(m||{});const ke={};p.createContext(ke);p.createContext(void 0);const Oe={errors:[]};p.createContext(Oe);p.createContext(void 0);m.NOT_STARTED;m.NOT_STARTED;m.NOT_STARTED;const Se="_modal_1pn1d_1",we="_submitButton_1pn1d_5",Re="_cancelButton_1pn1d_10",xe="_buttonDiv_1pn1d_14",T={modal:Se,submitButton:we,cancelButton:Re,buttonDiv:xe},_e=ee(3),Ie=te(500),Te=ee(7),Ee=te(7),Me=(e,a,n)=>e===m.SUCCESS&&!n?a.formatMessage({id:"LeggTilSaksbehandlerForm.FinnesIkke"}):n?`${n.navn}`:"",M=({oppgaveId:e,flyttetBegrunnelse:a,closeModal:n,hentReserverteOppgaver:t,flyttOppgavereservasjon:r,hentSaksbehandler:i,hentSaksbehandlerState:l,saksbehandler:d,resetHentSaksbehandler:u})=>{const g=ie(),v=f=>i({brukerIdent:f.brukerIdent}),h=(f,R)=>r({oppgaveId:e,brukerIdent:f,begrunnelse:R}).then(()=>t({},!0));p.useEffect(()=>()=>{u()},[]);const b=B(),j=b.watch("brukerIdent"),y=B({defaultValues:{begrunnelse:a}}),k=y.watch("begrunnelse");return s.jsxs(_,{className:T.modal,open:!0,"aria-label":g.formatMessage({id:"FlyttReservasjonModal.FlyttReservasjon"}),onClose:n,children:[s.jsx(_.Header,{children:s.jsx(oe,{size:"small",children:s.jsx(x,{id:"FlyttReservasjonModal.FlyttReservasjon"})})}),s.jsx(_.Body,{children:s.jsxs(je,{gap:"4",children:[s.jsxs(L,{formMethods:b,onSubmit:v,children:[s.jsxs(V,{gap:"4",align:"end",children:[s.jsx(le,{name:"brukerIdent",label:g.formatMessage({id:"FlyttReservasjonModal.Brukerident"}),validate:[U,Te,Ee],autoFocus:!0,autoComplete:!0}),s.jsx(I,{size:"small",variant:"primary",loading:l===m.LOADING,disabled:!j||l===m.LOADING,children:s.jsx(x,{id:"FlyttReservasjonModal.Sok"})})]}),l===m.SUCCESS&&s.jsx(de,{size:"small",children:Me(l,g,d)})]}),s.jsxs(L,{formMethods:y,onSubmit:f=>{n(),h(d?d.brukerIdent:"",f.begrunnelse)},children:[s.jsx(ue,{name:"begrunnelse",label:g.formatMessage({id:"FlyttReservasjonModal.Begrunn"}),validate:[U,Ie,_e,ce],maxLength:500}),s.jsxs(V,{gap:"2",justify:"end",children:[s.jsx(I,{className:T.cancelButton,size:"small",variant:"secondary",onClick:n,type:"button",children:s.jsx(x,{id:"FlyttReservasjonModal.Avbryt"})}),s.jsx(I,{className:T.submitButton,size:"small",variant:"primary",disabled:!d||!k||k.length<3,children:s.jsx(x,{id:"FlyttReservasjonModal.Ok"})})]})]})]})})]})};M.__docgenInfo={description:`FlyttReservasjonModal

Modal som lar en søke opp en saksbehandler som saken skal flyttes til. En kan også begrunne hvorfor saken skal flyttes.`,methods:[],displayName:"FlyttReservasjonModal",props:{oppgaveId:{required:!0,tsType:{name:"number"},description:""},flyttetBegrunnelse:{required:!1,tsType:{name:"string"},description:""},closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},hentReserverteOppgaver:{required:!0,tsType:{name:"signature",type:"function",raw:"(params: any, keepData: boolean) => void",signature:{arguments:[{type:{name:"any"},name:"params"},{type:{name:"boolean"},name:"keepData"}],return:{name:"void"}}},description:""},flyttOppgavereservasjon:{required:!0,tsType:{name:"signature",type:"function",raw:"(params: { oppgaveId: number; brukerIdent: string; begrunnelse: string }) => Promise<void>",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ oppgaveId: number; brukerIdent: string; begrunnelse: string }",signature:{properties:[{key:"oppgaveId",value:{name:"number",required:!0}},{key:"brukerIdent",value:{name:"string",required:!0}},{key:"begrunnelse",value:{name:"string",required:!0}}]}},name:"params"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},hentSaksbehandler:{required:!0,tsType:{name:"signature",type:"function",raw:"(params: { brukerIdent: string }) => Promise<SaksbehandlerProfil | undefined>",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ brukerIdent: string }",signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}}]}},name:"params"}],return:{name:"Promise",elements:[{name:"union",raw:"SaksbehandlerProfil | undefined",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`},{name:"undefined"}]}],raw:"Promise<SaksbehandlerProfil | undefined>"}}},description:""},hentSaksbehandlerState:{required:!0,tsType:{name:"RestApiState"},description:""},saksbehandler:{required:!1,tsType:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}`,signature:{properties:[{key:"brukerIdent",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"ansattAvdeling",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  brukerIdent: string;
  navn: string;
  ansattAvdeling: string | null;
}>`},description:""},resetHentSaksbehandler:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Ce=ge(me),Ne={title:"los/FlyttReservasjonModal",component:M,decorators:[Ce]},re=({saksbehandler:e,hentReserverteOppgaver:a})=>{const[n,t]=p.useState(!1),r=()=>(t(!0),Promise.resolve(e));return s.jsx(M,{oppgaveId:1,closeModal:E("button-click"),hentReserverteOppgaver:a,flyttOppgavereservasjon:()=>Promise.resolve(),hentSaksbehandler:r,hentSaksbehandlerState:n?m.SUCCESS:m.NOT_STARTED,saksbehandler:e,resetHentSaksbehandler:()=>{}})},O=re.bind({});O.args={hentReserverteOppgaver:E("button-click"),saksbehandler:void 0};const S=re.bind({});S.args={hentReserverteOppgaver:E("button-click"),saksbehandler:{brukerIdent:"R232323",navn:"Espen Utvikler",ansattAvdeling:"Avdeling A"}};var G,J,K;O.parameters={...O.parameters,docs:{...(G=O.parameters)==null?void 0:G.docs,source:{originalSource:`({
  saksbehandler,
  hentReserverteOppgaver
}) => {
  const [harHentet, setHentet] = useState(false);
  const hentSaksbehandler = () => {
    setHentet(true);
    return Promise.resolve(saksbehandler);
  };
  return <FlyttReservasjonModal oppgaveId={1} closeModal={action('button-click')} hentReserverteOppgaver={hentReserverteOppgaver} flyttOppgavereservasjon={() => Promise.resolve()} hentSaksbehandler={hentSaksbehandler} hentSaksbehandlerState={harHentet ? RestApiState.SUCCESS : RestApiState.NOT_STARTED} saksbehandler={saksbehandler} resetHentSaksbehandler={() => undefined} />;
}`,...(K=(J=O.parameters)==null?void 0:J.docs)==null?void 0:K.source}}};var Q,W,X;S.parameters={...S.parameters,docs:{...(Q=S.parameters)==null?void 0:Q.docs,source:{originalSource:`({
  saksbehandler,
  hentReserverteOppgaver
}) => {
  const [harHentet, setHentet] = useState(false);
  const hentSaksbehandler = () => {
    setHentet(true);
    return Promise.resolve(saksbehandler);
  };
  return <FlyttReservasjonModal oppgaveId={1} closeModal={action('button-click')} hentReserverteOppgaver={hentReserverteOppgaver} flyttOppgavereservasjon={() => Promise.resolve()} hentSaksbehandler={hentSaksbehandler} hentSaksbehandlerState={harHentet ? RestApiState.SUCCESS : RestApiState.NOT_STARTED} saksbehandler={saksbehandler} resetHentSaksbehandler={() => undefined} />;
}`,...(X=(W=S.parameters)==null?void 0:W.docs)==null?void 0:X.source}}};const He=["Default","MedTreffPåSøk"];export{O as Default,S as MedTreffPåSøk,He as __namedExportsOrder,Ne as default};
