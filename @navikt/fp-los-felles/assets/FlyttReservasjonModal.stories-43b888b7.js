import{j as e}from"./jsx-runtime-5926aa06.js";import{r as d,R as J}from"./index-ebeaab24.js";import{a as x}from"./chunk-OPEUWD42-a3b45fd8.js";import{u as W,a as I,M as O,F as C,L as K,b as f,J as y,E as N,o as A,A as j,T as Q,r as D,B as M,g as X,P as ee,Z as te,k as q,h as $,f as ne,m as re}from"./nb_NO-77f3f3e4.js";import"./index-9c09ad76.js";import"./index-f50b85d6.js";var s=(t=>(t.NOT_STARTED="NOT_STARTED",t.LOADING="LOADING",t.SUCCESS="SUCCESS",t.ERROR="ERROR",t))(s||{}),h={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P;function ae(){if(P)return h;P=1;var t=J,l=Symbol.for("react.element"),a=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,p=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_={key:!0,ref:!0,__self:!0,__source:!0};function S(o,n,k){var r,u={},v=null,m=null;k!==void 0&&(v=""+k),n.key!==void 0&&(v=""+n.key),n.ref!==void 0&&(m=n.ref);for(r in n)c.call(n,r)&&!_.hasOwnProperty(r)&&(u[r]=n[r]);if(o&&o.defaultProps)for(r in n=o.defaultProps,n)u[r]===void 0&&(u[r]=n[r]);return{$$typeof:l,type:o,key:v,ref:m,props:u,_owner:p.current}}return h.Fragment=a,h.jsx=S,h.jsxs=S,h}ae();const se={};d.createContext(se);d.createContext(void 0);const oe={errors:[]};d.createContext(oe);d.createContext(void 0);s.NOT_STARTED;s.NOT_STARTED;s.NOT_STARTED;const le="_modal_1pn1d_1",de="_submitButton_1pn1d_5",ie="_cancelButton_1pn1d_10",ue="_buttonDiv_1pn1d_14",R={modal:le,submitButton:de,cancelButton:ie,buttonDiv:ue},ce=q(3),pe=$(500),ve=q(7),me=$(7),he=(t,l,a)=>t===s.SUCCESS&&!a?l.formatMessage({id:"LeggTilSaksbehandlerForm.FinnesIkke"}):a?`${a.navn}, ${a.avdelingsnavn.join(", ")}`:"",E=({showModal:t,closeModal:l,oppgaveId:a,toggleMenu:c,hentReserverteOppgaver:p,flyttOppgavereservasjon:_,hentSaksbehandler:S,hentSaksbehandlerState:o,saksbehandler:n,resetHentSaksbehandler:k})=>{const r=W(),u=d.useCallback(i=>S({brukerIdent:i}),[]),v=d.useCallback((i,Z)=>_({oppgaveId:a,brukerIdent:i,begrunnelse:Z}).then(()=>p({},!0)),[]);d.useEffect(()=>()=>{k()},[]);const m=I(),Y=m.watch("brukerIdent"),T=I(),F=T.watch("begrunnelse");return e.jsx(O,{className:R.modal,open:t,closeButton:!1,"aria-label":r.formatMessage({id:"FlyttReservasjonModal.FlyttReservasjon"}),onClose:l,children:e.jsxs(O.Content,{children:[e.jsxs(C,{formMethods:m,onSubmit:i=>u(i.brukerIdent),children:[e.jsx(K,{size:"small",children:e.jsx(f,{id:"FlyttReservasjonModal.FlyttReservasjon"})}),e.jsx(y,{eightPx:!0}),e.jsx(N,{children:e.jsxs(A,{children:[e.jsx(j,{children:e.jsx(Q,{name:"brukerIdent",label:r.formatMessage({id:"FlyttReservasjonModal.Brukerident"}),validate:[D,ve,me],autoFocus:!0,autoComplete:!0})}),e.jsx(j,{className:R.buttonDiv,children:e.jsx(M,{size:"small",variant:"primary",loading:o===s.LOADING,disabled:!Y||o===s.LOADING,children:e.jsx(f,{id:"FlyttReservasjonModal.Sok"})})})]})}),o===s.SUCCESS&&e.jsxs(e.Fragment,{children:[e.jsx(X,{size:"small",children:he(o,r,n)}),e.jsx(y,{sixteenPx:!0})]})]}),e.jsx(y,{sixteenPx:!0}),e.jsxs(C,{formMethods:T,onSubmit:i=>{c(),v(n?n.brukerIdent:"",i.begrunnelse)},children:[e.jsx(ee,{name:"begrunnelse",label:r.formatMessage({id:"FlyttReservasjonModal.Begrunn"}),validate:[D,pe,ce,te],maxLength:500}),e.jsx(y,{sixteenPx:!0}),e.jsx(N,{children:e.jsxs(A,{children:[e.jsx(j,{children:e.jsx(M,{className:R.submitButton,size:"small",variant:"primary",disabled:!n||!F||F.length<3,children:e.jsx(f,{id:"FlyttReservasjonModal.Ok"})})}),e.jsx(j,{children:e.jsx(M,{className:R.cancelButton,size:"small",variant:"primary",onClick:l,type:"button",children:e.jsx(f,{id:"FlyttReservasjonModal.Avbryt"})})})]})})]})]})})},z=E;try{E.displayName="FlyttReservasjonModal",E.__docgenInfo={description:`FlyttReservasjonModal

Modal som lar en søke opp en saksbehandler som saken skal flyttes til. En kan også begrunne hvorfor saken skal flyttes.`,displayName:"FlyttReservasjonModal",props:{showModal:{defaultValue:null,description:"",name:"showModal",required:!0,type:{name:"boolean"}},oppgaveId:{defaultValue:null,description:"",name:"oppgaveId",required:!0,type:{name:"number"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"() => void"}},toggleMenu:{defaultValue:null,description:"",name:"toggleMenu",required:!0,type:{name:"() => void"}},hentReserverteOppgaver:{defaultValue:null,description:"",name:"hentReserverteOppgaver",required:!0,type:{name:"(params: any, keepData: boolean) => void"}},flyttOppgavereservasjon:{defaultValue:null,description:"",name:"flyttOppgavereservasjon",required:!0,type:{name:"(params: { oppgaveId: number; brukerIdent: string; begrunnelse: string; }) => Promise<void>"}},hentSaksbehandler:{defaultValue:null,description:"",name:"hentSaksbehandler",required:!0,type:{name:"(params: { brukerIdent: string; }) => Promise<Readonly<{ brukerIdent: string; navn: string; avdelingsnavn: string[]; }> | undefined>"}},hentSaksbehandlerState:{defaultValue:null,description:"",name:"hentSaksbehandlerState",required:!0,type:{name:"enum",value:[{value:'"NOT_STARTED"'},{value:'"LOADING"'},{value:'"SUCCESS"'},{value:'"ERROR"'}]}},saksbehandler:{defaultValue:null,description:"",name:"saksbehandler",required:!1,type:{name:"Readonly<{ brukerIdent: string; navn: string; avdelingsnavn: string[]; }>"}},resetHentSaksbehandler:{defaultValue:null,description:"",name:"resetHentSaksbehandler",required:!0,type:{name:"() => void"}}}}}catch{}O.setAppElement("body");const ge=ne(re),Re={title:"los/avdelingsleder/behandlingskoer/FlyttReservasjonModal",component:z,decorators:[ge]},G=({saksbehandler:t,hentReserverteOppgaver:l})=>{const[a,c]=d.useState(!1),p=()=>(c(!0),Promise.resolve(t));return e.jsx(z,{showModal:!0,oppgaveId:1,closeModal:x("button-click"),toggleMenu:x("button-click"),hentReserverteOppgaver:l,flyttOppgavereservasjon:()=>Promise.resolve(),hentSaksbehandler:p,hentSaksbehandlerState:a?s.SUCCESS:s.NOT_STARTED,saksbehandler:t,resetHentSaksbehandler:()=>{}})},g=G.bind({});g.args={hentReserverteOppgaver:x("button-click"),saksbehandler:void 0};const b=G.bind({});b.args={hentReserverteOppgaver:x("button-click"),saksbehandler:{brukerIdent:"R232323",navn:"Espen Utvikler",avdelingsnavn:["NAV Viken"]}};var L,B,H;g.parameters={...g.parameters,docs:{...(L=g.parameters)==null?void 0:L.docs,source:{originalSource:`({
  saksbehandler,
  hentReserverteOppgaver
}) => {
  const [harHentet, setHentet] = useState(false);
  const hentSaksbehandler = () => {
    setHentet(true);
    return Promise.resolve(saksbehandler);
  };
  return <FlyttReservasjonModal showModal oppgaveId={1} closeModal={action('button-click')} toggleMenu={action('button-click')} hentReserverteOppgaver={hentReserverteOppgaver} flyttOppgavereservasjon={() => Promise.resolve()} hentSaksbehandler={hentSaksbehandler} hentSaksbehandlerState={harHentet ? RestApiState.SUCCESS : RestApiState.NOT_STARTED} saksbehandler={saksbehandler} resetHentSaksbehandler={() => undefined} />;
}`,...(H=(B=g.parameters)==null?void 0:B.docs)==null?void 0:H.source}}};var V,w,U;b.parameters={...b.parameters,docs:{...(V=b.parameters)==null?void 0:V.docs,source:{originalSource:`({
  saksbehandler,
  hentReserverteOppgaver
}) => {
  const [harHentet, setHentet] = useState(false);
  const hentSaksbehandler = () => {
    setHentet(true);
    return Promise.resolve(saksbehandler);
  };
  return <FlyttReservasjonModal showModal oppgaveId={1} closeModal={action('button-click')} toggleMenu={action('button-click')} hentReserverteOppgaver={hentReserverteOppgaver} flyttOppgavereservasjon={() => Promise.resolve()} hentSaksbehandler={hentSaksbehandler} hentSaksbehandlerState={harHentet ? RestApiState.SUCCESS : RestApiState.NOT_STARTED} saksbehandler={saksbehandler} resetHentSaksbehandler={() => undefined} />;
}`,...(U=(w=b.parameters)==null?void 0:w.docs)==null?void 0:U.source}}};const xe=["Default","MedTreffPåSøk"];export{g as Default,b as MedTreffPåSøk,xe as __namedExportsOrder,Re as default};
//# sourceMappingURL=FlyttReservasjonModal.stories-43b888b7.js.map
