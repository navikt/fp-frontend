import{j as e}from"./jsx-runtime-9c4ae004.js";import{r as d,R as Y}from"./index-1b03fe98.js";import{a as j}from"./chunk-AY7I2SME-5eb1ab46.js";import{u as Z,a as F,b as f,L as W,F as y,O as C,U as J,Y as K,z as I,C as Q,r as N,B as _,g as X,h as O,w as ee,Z as te,k as V,i as U,f as ne,m as ae}from"./nb_NO-41bb941f.js";import"./index-6fd5a17b.js";var s=(t=>(t.NOT_STARTED="NOT_STARTED",t.LOADING="LOADING",t.SUCCESS="SUCCESS",t.ERROR="ERROR",t))(s||{}),h={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D;function re(){if(D)return h;D=1;var t=Y,l=Symbol.for("react.element"),r=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,p=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x={key:!0,ref:!0,__self:!0,__source:!0};function S(o,n,k){var a,u={},v=null,m=null;k!==void 0&&(v=""+k),n.key!==void 0&&(v=""+n.key),n.ref!==void 0&&(m=n.ref);for(a in n)c.call(n,a)&&!x.hasOwnProperty(a)&&(u[a]=n[a]);if(o&&o.defaultProps)for(a in n=o.defaultProps,n)u[a]===void 0&&(u[a]=n[a]);return{$$typeof:l,type:o,key:v,ref:m,props:u,_owner:p.current}}return h.Fragment=r,h.jsx=S,h.jsxs=S,h}re();const se={};d.createContext(se);d.createContext(void 0);const oe={errors:[]};d.createContext(oe);d.createContext(void 0);s.NOT_STARTED;s.NOT_STARTED;s.NOT_STARTED;const le="_modal_1pn1d_1",de="_submitButton_1pn1d_5",ie="_cancelButton_1pn1d_10",ue="_buttonDiv_1pn1d_14",R={modal:le,submitButton:de,cancelButton:ie,buttonDiv:ue},ce=V(3),pe=U(500),ve=V(7),me=U(7),he=(t,l,r)=>t===s.SUCCESS&&!r?l.formatMessage({id:"LeggTilSaksbehandlerForm.FinnesIkke"}):r?`${r.navn}, ${r.avdelingsnavn.join(", ")}`:"",M=({showModal:t,closeModal:l,oppgaveId:r,toggleMenu:c,hentReserverteOppgaver:p,flyttOppgavereservasjon:x,hentSaksbehandler:S,hentSaksbehandlerState:o,saksbehandler:n,resetHentSaksbehandler:k})=>{const a=Z(),u=d.useCallback(i=>S({brukerIdent:i}),[]),v=d.useCallback((i,G)=>x({oppgaveId:r,brukerIdent:i,begrunnelse:G}).then(()=>p({},!0)),[]);d.useEffect(()=>()=>{k()},[]);const m=F(),$=m.watch("brukerIdent"),T=F(),E=T.watch("begrunnelse");return e.jsxs(f,{className:R.modal,open:t,"aria-label":a.formatMessage({id:"FlyttReservasjonModal.FlyttReservasjon"}),onClose:l,children:[e.jsx(f.Header,{children:e.jsx(W,{size:"small",children:e.jsx(y,{id:"FlyttReservasjonModal.FlyttReservasjon"})})}),e.jsxs(f.Body,{children:[e.jsxs(C,{formMethods:m,onSubmit:i=>u(i.brukerIdent),children:[e.jsx(J,{children:e.jsxs(K,{children:[e.jsx(I,{children:e.jsx(Q,{name:"brukerIdent",label:a.formatMessage({id:"FlyttReservasjonModal.Brukerident"}),validate:[N,ve,me],autoFocus:!0,autoComplete:!0})}),e.jsx(I,{className:R.buttonDiv,children:e.jsx(_,{size:"small",variant:"primary",loading:o===s.LOADING,disabled:!$||o===s.LOADING,children:e.jsx(y,{id:"FlyttReservasjonModal.Sok"})})})]})}),o===s.SUCCESS&&e.jsxs(e.Fragment,{children:[e.jsx(X,{size:"small",children:he(o,a,n)}),e.jsx(O,{sixteenPx:!0})]})]}),e.jsx(O,{sixteenPx:!0}),e.jsxs(C,{formMethods:T,onSubmit:i=>{c(),v(n?n.brukerIdent:"",i.begrunnelse)},children:[e.jsx(ee,{name:"begrunnelse",label:a.formatMessage({id:"FlyttReservasjonModal.Begrunn"}),validate:[N,pe,ce,te],maxLength:500}),e.jsx(O,{sixteenPx:!0}),e.jsxs(f.Footer,{children:[e.jsx(_,{className:R.submitButton,size:"small",variant:"primary",disabled:!n||!E||E.length<3,children:e.jsx(y,{id:"FlyttReservasjonModal.Ok"})}),e.jsx(_,{className:R.cancelButton,size:"small",variant:"secondary",onClick:l,type:"button",children:e.jsx(y,{id:"FlyttReservasjonModal.Avbryt"})})]})]})]})]})},q=M;try{M.displayName="FlyttReservasjonModal",M.__docgenInfo={description:`FlyttReservasjonModal

Modal som lar en søke opp en saksbehandler som saken skal flyttes til. En kan også begrunne hvorfor saken skal flyttes.`,displayName:"FlyttReservasjonModal",props:{showModal:{defaultValue:null,description:"",name:"showModal",required:!0,type:{name:"boolean"}},oppgaveId:{defaultValue:null,description:"",name:"oppgaveId",required:!0,type:{name:"number"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"() => void"}},toggleMenu:{defaultValue:null,description:"",name:"toggleMenu",required:!0,type:{name:"() => void"}},hentReserverteOppgaver:{defaultValue:null,description:"",name:"hentReserverteOppgaver",required:!0,type:{name:"(params: any, keepData: boolean) => void"}},flyttOppgavereservasjon:{defaultValue:null,description:"",name:"flyttOppgavereservasjon",required:!0,type:{name:"(params: { oppgaveId: number; brukerIdent: string; begrunnelse: string; }) => Promise<void>"}},hentSaksbehandler:{defaultValue:null,description:"",name:"hentSaksbehandler",required:!0,type:{name:"(params: { brukerIdent: string; }) => Promise<Readonly<{ brukerIdent: string; navn: string; avdelingsnavn: string[]; }> | undefined>"}},hentSaksbehandlerState:{defaultValue:null,description:"",name:"hentSaksbehandlerState",required:!0,type:{name:"enum",value:[{value:'"NOT_STARTED"'},{value:'"LOADING"'},{value:'"SUCCESS"'},{value:'"ERROR"'}]}},saksbehandler:{defaultValue:null,description:"",name:"saksbehandler",required:!1,type:{name:"Readonly<{ brukerIdent: string; navn: string; avdelingsnavn: string[]; }>"}},resetHentSaksbehandler:{defaultValue:null,description:"",name:"resetHentSaksbehandler",required:!0,type:{name:"() => void"}}}}}catch{}const be=ne(ae),Re={title:"los/avdelingsleder/behandlingskoer/FlyttReservasjonModal",component:q,decorators:[be]},z=({saksbehandler:t,hentReserverteOppgaver:l})=>{const[r,c]=d.useState(!1),p=()=>(c(!0),Promise.resolve(t));return e.jsx(q,{showModal:!0,oppgaveId:1,closeModal:j("button-click"),toggleMenu:j("button-click"),hentReserverteOppgaver:l,flyttOppgavereservasjon:()=>Promise.resolve(),hentSaksbehandler:p,hentSaksbehandlerState:r?s.SUCCESS:s.NOT_STARTED,saksbehandler:t,resetHentSaksbehandler:()=>{}})},b=z.bind({});b.args={hentReserverteOppgaver:j("button-click"),saksbehandler:void 0};const g=z.bind({});g.args={hentReserverteOppgaver:j("button-click"),saksbehandler:{brukerIdent:"R232323",navn:"Espen Utvikler",avdelingsnavn:["NAV Viken"]}};var A,L,P;b.parameters={...b.parameters,docs:{...(A=b.parameters)==null?void 0:A.docs,source:{originalSource:`({
  saksbehandler,
  hentReserverteOppgaver
}) => {
  const [harHentet, setHentet] = useState(false);
  const hentSaksbehandler = () => {
    setHentet(true);
    return Promise.resolve(saksbehandler);
  };
  return <FlyttReservasjonModal showModal oppgaveId={1} closeModal={action('button-click')} toggleMenu={action('button-click')} hentReserverteOppgaver={hentReserverteOppgaver} flyttOppgavereservasjon={() => Promise.resolve()} hentSaksbehandler={hentSaksbehandler} hentSaksbehandlerState={harHentet ? RestApiState.SUCCESS : RestApiState.NOT_STARTED} saksbehandler={saksbehandler} resetHentSaksbehandler={() => undefined} />;
}`,...(P=(L=b.parameters)==null?void 0:L.docs)==null?void 0:P.source}}};var B,H,w;g.parameters={...g.parameters,docs:{...(B=g.parameters)==null?void 0:B.docs,source:{originalSource:`({
  saksbehandler,
  hentReserverteOppgaver
}) => {
  const [harHentet, setHentet] = useState(false);
  const hentSaksbehandler = () => {
    setHentet(true);
    return Promise.resolve(saksbehandler);
  };
  return <FlyttReservasjonModal showModal oppgaveId={1} closeModal={action('button-click')} toggleMenu={action('button-click')} hentReserverteOppgaver={hentReserverteOppgaver} flyttOppgavereservasjon={() => Promise.resolve()} hentSaksbehandler={hentSaksbehandler} hentSaksbehandlerState={harHentet ? RestApiState.SUCCESS : RestApiState.NOT_STARTED} saksbehandler={saksbehandler} resetHentSaksbehandler={() => undefined} />;
}`,...(w=(H=g.parameters)==null?void 0:H.docs)==null?void 0:w.source}}};const je=["Default","MedTreffPåSøk"];export{b as Default,g as MedTreffPåSøk,je as __namedExportsOrder,Re as default};
//# sourceMappingURL=FlyttReservasjonModal.stories-f6960094.js.map
