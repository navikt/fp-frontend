import{j as t}from"./jsx-runtime-9c4ae004.js";import{a as B}from"./chunk-AY7I2SME-5eb1ab46.js";import{u as K,t as $,P as Ae,w as Ve,r as ge,Z as ve,X as Le,k as Fe,a as Ke,b as Oe,c as Ne,d as Ue,R as D,O as De,e as g,v as he,f as I,F as _,U as X,L as C,Y as W,z as S,g as Q,M as ee,T as Pe,D as xe,h as G,i as te,I as T,K as Ge,W as x,j as ae,q as Be,l as Me,N,H as we,n as Ce,m as Ye,o as He}from"./nb_NO-0b15f0e7.js";import{r as u,R as fe}from"./index-1b03fe98.js";import"./index-6fd5a17b.js";var U=(e=>(e.TERMINBEKREFTELSE="5001",e.ADOPSJONSDOKUMENTAJON="5004",e.OM_ADOPSJON_GJELDER_EKTEFELLES_BARN="5005",e.OM_SOKER_ER_MANN_SOM_ADOPTERER_ALENE="5006",e.SOKNADSFRISTVILKARET="5007",e.OMSORGSOVERTAKELSE="5008",e.MANUELL_VURDERING_AV_OMSORGSVILKARET="5011",e.REGISTRER_PAPIRSOKNAD_ENGANGSSTONAD="5012",e.MANUELL_VURDERING_AV_FORELDREANSVARSVILKARET_2_LEDD="5013",e.MANUELL_VURDERING_AV_FORELDREANSVARSVILKARET_4_LEDD="5014",e.FORESLA_VEDTAK="5015",e.FATTER_VEDTAK="5016",e.SOKERS_OPPLYSNINGSPLIKT_MANU="5017",e.VEDTAK_UTEN_TOTRINNSKONTROLL="5018",e.AVKLAR_LOVLIG_OPPHOLD="5019",e.AVKLAR_OM_BRUKER_ER_BOSATT="5020",e.AVKLAR_OM_BRUKER_HAR_GYLDIG_PERIODE="5021",e.AVKLAR_OPPHOLDSRETT="5023",e.VARSEL_REVURDERING_ETTERKONTROLL="5025",e.VARSEL_REVURDERING_MANUELL="5026",e.SJEKK_MANGLENDE_FODSEL="5027",e.FORESLA_VEDTAK_MANUELT="5028",e.AVKLAR_VERGE="5030",e.AVKLAR_OM_STONAD_GJELDER_SAMME_BARN="5031",e.AVKLAR_OM_STONAD_TIL_ANNEN_FORELDER_GJELDER_SAMME_BARN="5032",e.VURDERE_ANNEN_YTELSE="5033",e.VURDERE_DOKUMENT="5034",e.BEHANDLE_KLAGE_NFP="5035",e.BEHANDLE_KLAGE_NK="5036",e.VURDER_INNSYN="5037",e.REGISTRER_PAPIRSOKNAD_FORELDREPENGER="5040",e.VURDER_ARBEIDSFORHOLD_PERMISJON="5041",e.VURDER_SOKNADSFRIST_FORELDREPENGER="5043",e.KONTROLLER_AUTOMATISK_BESTEBEREGNING="5048",e.VURDER_PERIODER_MED_OPPTJENING="5051",e.AVKLAR_FORTSATT_MEDLEMSKAP="5053",e.AVKLAR_VILKAR_FOR_FORELDREANSVAR="5054",e.KONTROLLER_REVURDERINGSBEHANDLING_VARSEL_VED_UGUNST="5055",e.KONTROLL_AV_MAUNELT_OPPRETTET_REVURDERINGSBEHANDLING="5056",e.REGISTRER_PAPIR_ENDRINGSØKNAD_FORELDREPENGER="5057",e.REGISTRER_PAPIRSOKNAD_SVANGERSKAPSPENGER="5096",e.MANUELL_KONTROLL_AV_OM_BRUKER_HAR_ALENEOMSORG="5060",e.MANUELL_KONTROLL_AV_OM_BRUKER_HAR_OMSORG="5061",e.MANUELL_KONTROLL_AV_BESTEBEREGNING="5062",e.FAKTA_UTTAK_GRADERING_UKJENT_AKTIVITET_KODE="5063",e.FAKTA_UTTAK_INGEN_PERIODER_KODE="5064",e.FAKTA_UTTAK_MANUELT_SATT_STARTDATO_ULIK_SØKNAD_STARTDATO_KODE="5065",e.FAKTA_UTTAK_GRADERING_AKTIVITET_UTEN_BEREGNINGSGRUNNLAG_KODE="5066",e.TETTE_SAKER="5067",e.AUTOMATISK_MARKERING_AV_UTENLANDSSAK="5068",e.ANNENPART_EØS="5069",e.FASTSETT_UTTAKPERIODER="5071",e.TILKNYTTET_STORTINGET="5072",e.KONTROLLER_REALITETSBEHANDLING_ELLER_KLAGE="5073",e.VURDER_UTTAK_DOKUMENTASJON="5074",e.KONTROLLER_OPPLYSNINGER_OM_FORDELING_AV_STØNADSPERIODEN="5075",e.KONTROLLER_OPPLYSNINGER_OM_DØD="5076",e.KONTROLLER_OPPLYSNINGER_OM_SØKNADSFRIST="5077",e.KONTROLLER_TILSTØTENDE_YTELSER_INNVILGET="5078",e.KONTROLLER_TILSTØTENDE_YTELSER_OPPHØRT="5079",e.AVKLAR_ARBEIDSFORHOLD="5080",e.VURDERING_AV_FORMKRAV_KLAGE_NFP="5082",e.VURDER_FORMKRAV_NK="5083",e.VURDER_FEILUTBETALING="5084",e.VURDER_ARBEIDSFORHOLD_INNTEKTSMELDING="5085",e.AVKLAR_ANNEN_FORELDER_RETT="5086",e.VURDER_TILBAKETREKK="5090",e.SOKERS_OPPLYSNINGSPLIKT_OVST="6002",e.OVERSTYR_FODSELSVILKAR="6003",e.OVERSTYR_ADOPSJONSVILKAR="6004",e.OVERSTYR_MEDLEMSKAPSVILKAR="6005",e.OVERSTYR_SOKNADSFRISTVILKAR="6006",e.OVERSTYR_BEREGNING="6007",e.OVERSTYRING_AV_UTTAKPERIODER="6008",e.OVERSTYR_FODSELSVILKAR_FAR_MEDMOR="6009",e.OVERSTYRING_AV_ADOPSJONSVILKÅRET_FP="6010",e.OVERSTYRING_AV_OPPTJENINGSVILKARET="6011",e.VURDER_OPPTJENINGSVILKARET="5089",e.OVERSTYR_LØPENDE_MEDLEMSKAPSVILKAR="6012",e.OVERSTYR_AVKLAR_STARTDATO="6045",e.OVERSTYR_FAKTA_UTTAK="6065",e.AUTO_MANUELT_SATT_PÅ_VENT="7001",e.AUTO_VENT_PÅ_FODSELREGISTRERING="7002",e.AUTO_VENTER_PÅ_KOMPLETT_SOKNAD="7003",e.AUTO_VENT_GRADERING_UTEN_BEREGNINGSGRUNNLAG="7019",e.AUTO_VENT_ANKE_OVERSENDT_TIL_TRYGDERETTEN="7033",e.FODSELTILRETTELEGGING="5091",e.SVANGERSKAPSVILKARET="5092",e.VURDER_FARESIGNALER="5095",e.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS="5038",e.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE="5039",e.FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE="5042",e.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD="5047",e.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET="5049",e.VURDER_GRADERING_UTEN_BEREGNINGSGRUNNLAG="5050",e.VURDER_FAKTA_FOR_ATFL_SN="5058",e.AVKLAR_AKTIVITETER="5052",e.OVERSTYRING_AV_BEREGNINGSAKTIVITETER="6014",e.OVERSTYRING_AV_BEREGNINGSGRUNNLAG="6015",e.FORDEL_BEREGNINGSGRUNNLAG="5046",e.VURDER_REFUSJON_BERGRUNN="5059",e))(U||{});const h={OPPRETTET:"OPPR",UTFORT:"UTFO",AVBRUTT:"AVBR"};var qe=globalThis&&globalThis.__rest||function(e,l){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&l.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)l.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r};const Je=u.forwardRef((e,l)=>{var{title:r,titleId:a}=e,n=qe(e,["title","titleId"]);let s=K();return s=r?a||"title-"+s:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:l,"aria-labelledby":s},n),r?u.createElement("title",{id:s},r):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.998 6.94a.75.75 0 0 1 .063 1.058l-8 9a.75.75 0 0 1-1.091.032l-5-5a.75.75 0 1 1 1.06-1.06l4.438 4.437 7.471-8.405A.75.75 0 0 1 19 6.939Z",fill:"currentColor"}))}),Ze=Je;var ze=globalThis&&globalThis.__rest||function(e,l){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&l.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)l.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r};const $e=u.forwardRef((e,l)=>{var{title:r,titleId:a}=e,n=ze(e,["title","titleId"]);let s=K();return s=r?a||"title-"+s:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:l,"aria-labelledby":s},n),r?u.createElement("title",{id:s},r):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.75 19.25V4.75h6.5V7.5c0 .69.56 1.25 1.25 1.25h2.75v10.5H6.75Zm9.44-12-1.44-1.44v1.44h1.44Zm-9.69-4c-.69 0-1.25.56-1.25 1.25v15c0 .69.56 1.25 1.25 1.25h11c.69 0 1.25-.56 1.25-1.25V8a.75.75 0 0 0-.22-.53l-4-4a.75.75 0 0 0-.53-.22H6.5Zm7.53 8.72a.75.75 0 0 1 0 1.06l-.97.97.97.97a.75.75 0 1 1-1.06 1.06l-.97-.97-.97.97a.75.75 0 1 1-1.06-1.06l.97-.97-.97-.97a.75.75 0 1 1 1.06-1.06l.97.97.97-.97a.75.75 0 0 1 1.06 0Z",fill:"currentColor"}))}),Xe=$e;var We=globalThis&&globalThis.__rest||function(e,l){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&l.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)l.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r};const Qe=u.forwardRef((e,l)=>{var{title:r,titleId:a}=e,n=We(e,["title","titleId"]);let s=K();return s=r?a||"title-"+s:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:l,"aria-labelledby":s},n),r?u.createElement("title",{id:s},r):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.638 4.417a3.252 3.252 0 0 0-4.608-.008l-9.378 9.379a.75.75 0 0 0-.191.324l-1.414 4.95a.75.75 0 0 0 .925.927l4.94-1.398a.75.75 0 0 0 .327-.191l9.39-9.391a3.252 3.252 0 0 0 .01-4.592ZM16.091 5.47a1.752 1.752 0 0 1 2.478 2.478l-.23.23-2.477-2.479.229-.23ZM14.8 6.76 6.85 14.71l-.991 3.47 3.457-.979 7.963-7.963-2.478-2.478Z",fill:"currentColor"}))}),et=Qe;var tt=globalThis&&globalThis.__rest||function(e,l){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&l.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)l.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r};const at=u.forwardRef((e,l)=>{var{title:r,titleId:a}=e,n=tt(e,["title","titleId"]);let s=K();return s=r?a||"title-"+s:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:l,"aria-labelledby":s},n),r?u.createElement("title",{id:s},r):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.25 7.5a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Zm3.72 2.585A3.25 3.25 0 1 1 9.1 8.478l1.456.822 6.506-1.952a1.75 1.75 0 0 1 .79-.05l2.771.462a.75.75 0 0 1 .234 1.4l-5.336 2.89 5.326 2.785a.75.75 0 0 1-.224 1.405l-2.77.462a1.75 1.75 0 0 1-.791-.05l-6.46-1.938-1.5.813a3.25 3.25 0 1 1-1.132-1.612 3.252 3.252 0 0 0 0-3.83Zm4.494 3.621 1.467-.795 4.24 2.217-.565.094a.25.25 0 0 1-.113-.007l-5.03-1.509ZM7.39 15.438A1.742 1.742 0 0 1 7.75 16.5a1.75 1.75 0 1 1-.359-1.062Zm2.493-2.04a4.773 4.773 0 0 0 .11-2.363l7.499-2.25a.25.25 0 0 1 .113-.007l.616.103-8.338 4.516Z",fill:"currentColor"}))}),ne=at;var nt=globalThis&&globalThis.__rest||function(e,l){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&l.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)l.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r};const rt=u.forwardRef((e,l)=>{var{title:r,titleId:a}=e,n=nt(e,["title","titleId"]);let s=K();return s=r?a||"title-"+s:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:l,"aria-labelledby":s},n),r?u.createElement("title",{id:s},r):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.742 2.47a.75.75 0 0 1 .53-.22h7.456a.75.75 0 0 1 .53.22l5.272 5.272c.141.14.22.331.22.53v7.456a.75.75 0 0 1-.22.53l-5.272 5.272a.75.75 0 0 1-.53.22H8.272a.75.75 0 0 1-.53-.22L2.47 16.258a.75.75 0 0 1-.22-.53V8.272a.75.75 0 0 1 .22-.53L7.742 2.47Zm.84 1.28L3.75 8.583v6.834l4.833 4.833h6.834l4.833-4.833V8.583L15.417 3.75H8.583Zm.448 4.22a.75.75 0 0 0-1.06 1.06L10.94 12l-2.97 2.97a.75.75 0 1 0 1.06 1.06L12 13.06l2.97 2.97a.75.75 0 1 0 1.06-1.06L13.06 12l2.97-2.97a.75.75 0 0 0-1.06-1.06L12 10.94 9.03 7.97Z",fill:"currentColor"}))}),st=rt;var je={exports:{}},y={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var re;function lt(){if(re)return y;re=1;var e=fe,l=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function E(k,m,o){var i,p={},c=null,O=null;o!==void 0&&(c=""+o),m.key!==void 0&&(c=""+m.key),m.ref!==void 0&&(O=m.ref);for(i in m)a.call(m,i)&&!s.hasOwnProperty(i)&&(p[i]=m[i]);if(k&&k.defaultProps)for(i in m=k.defaultProps,m)p[i]===void 0&&(p[i]=m[i]);return{$$typeof:l,type:k,key:c,ref:O,props:p,_owner:n.current}}return y.Fragment=r,y.jsx=E,y.jsxs=E,y}je.exports=lt();var Y=je.exports;const ot="_begrunnelseTextField_erupw_1",it="_explanationTextarea_erupw_5",dt="_explanationTextareaReadOnly_erupw_9",ut={begrunnelseTextField:ot,explanationTextarea:it,explanationTextareaReadOnly:dt},Se={"MerkePanel.Dod":"DØD","MerkePanel.DodTittel":"Personen er død","MerkePanel.DodFodt":"DØDFØDT","MerkePanel.Diskresjon6":"Kode 6","MerkePanel.Diskresjon7":"Kode 7","MerkePanel.EgenAnsatt":"NAV","MerkePanel.Verge":"Verge","MerkePanel.Diskresjon6Tittel":"Personen har diskresjonsmerking kode 6","MerkePanel.Diskresjon7Tittel":"Personen har diskresjonsmerking kode 7","MerkePanel.EgenAnsattTittel":"Personen er ansatt i NAV","MerkePanel.VergeTittel":"Personen har verge","SubmitButton.ConfirmInformation":"Bekreft og fortsett","FaktaBegrunnelseTextField.BegrunnEndringene":"Begrunn endringene","FaktaBegrunnelseTextField.Vurdering":"Vurdering"},se=$(Se),kt=Fe(3),mt=Ke(1500),M=({isReadOnly:e,isSubmittable:l,hasBegrunnelse:r,label:a,hasVurderingText:n=!1,name:s="begrunnelse"})=>{const E=n?"FaktaBegrunnelseTextField.Vurdering":"FaktaBegrunnelseTextField.BegrunnEndringene",k=a||se.formatMessage({id:E});return Y.jsx(Ae,{value:se,children:(l||r)&&Y.jsx("div",{className:ut.begrunnelseTextField,children:Y.jsx(Ve,{name:s,label:e?"":k,validate:[ge,kt,mt,ve],maxLength:1500,readOnly:e})})})},Tt=e=>e&&Array.isArray(e)?e.length>0?e[0].begrunnelse:"":e&&!Array.isArray(e)?e.begrunnelse:"";M.buildInitialValues=(e,l="begrunnelse")=>({[l]:Le(Tt(e))});M.transformValues=(e,l="begrunnelse")=>({begrunnelse:e[l]});$(Se);M.__docgenInfo={description:"",methods:[{name:"buildInitialValues",docblock:null,modifiers:["static"],params:[{name:"n",optional:!1,type:null},{name:"a",type:null}],returns:null},{name:"transformValues",docblock:null,modifiers:["static"],params:[{name:"n",optional:!1,type:null},{name:"a",type:null}],returns:null}],displayName:"Fe",props:{hasVurderingText:{defaultValue:{value:"!1",computed:!1},required:!1},name:{defaultValue:{value:'"begrunnelse"',computed:!1},required:!1}}};const Rt="_fomDato_1jy5w_1",Et="_skiller_1jy5w_6",_t="_tomDato_1jy5w_11",ct="_marginBtn_1jy5w_15",pt="_redigerKnapp_1jy5w_19",b={fomDato:Rt,skiller:Et,tomDato:_t,marginBtn:ct,redigerKnapp:pt},q=({valgtDokBehov:e,readOnly:l,avbrytEditeringAvAktivitetskrav:r,oppdaterDokBehov:a})=>{const n=Oe(),[s,E]=u.useState(),[k,m]=u.useState(),o=Ne({defaultValues:{perioder:[e]}}),{fields:i,append:p,update:c,remove:O}=Ue({control:o.control,name:"perioder"}),R=o.watch("perioder"),f=A=>{if(k!==void 0){const d=R[k],ye={...d,tom:A};c(k,ye),p({...d,fom:G(A).add(1,"day").format(te),tom:d.tom,vurdering:void 0}),m(void 0),E(k)}},j=A=>{if(k!==void 0){m(void 0);for(let d=i.length-1;d>k+1;d-=1)O(d);c(k,{...R[k],tom:A}),c(k+1,{...R[k+1],fom:G(A).add(1,"day").format(te),tom:e.tom}),E(k)}},P=[{value:D.GODKJENT,label:n.formatMessage({id:"UttakDokumentasjonFaktaDetailForm.Godkjent"})},{value:D.IKKE_GODKJENT,label:n.formatMessage({id:"UttakDokumentasjonFaktaDetailForm.IkkeGodkjent"})}];return e.årsak.includes("AKTIVITETSKRAV")&&P.push({value:D.IKKE_DOKUMENTERT,label:n.formatMessage({id:"UttakDokumentasjonFaktaDetailForm.IkkeDokumentert"})}),t.jsxs(t.Fragment,{children:[t.jsxs(De,{formMethods:o,onSubmit:a,children:[t.jsx(g,{eightPx:!0}),i.map((A,d)=>t.jsxs(fe.Fragment,{children:[d>0&&t.jsxs(t.Fragment,{children:[t.jsx(g,{fourtyPx:!0}),t.jsx(he,{dividerParagraf:!0,className:b.skiller}),t.jsx(g,{twentyPx:!0})]}),!l&&R[d].fom!==R[d].tom&&i.length===1&&t.jsx("div",{className:b.marginBtn,children:t.jsx(I,{size:"small",variant:"tertiary",type:"button",onClick:()=>m(d),icon:t.jsx(ne,{}),children:t.jsx(_,{id:"UttakDokumentasjonFaktaDetailForm.DelOppPeriode"})})}),i.length>1&&t.jsxs(X,{children:[t.jsx(C,{size:"medium",children:t.jsx(_,{id:"UttakDokumentasjonFaktaDetailForm.PeriodeMedIndex",values:{index:d+1}})}),t.jsxs(W,{children:[t.jsx(S,{children:t.jsx(C,{size:"small",children:t.jsx(_,{id:"UttakDokumentasjonFaktaDetailForm.Fom"})})}),t.jsx(S,{className:b.fomDato,children:R[d].fom&&t.jsx(Q,{size:"small",children:t.jsx(ee,{dateString:R[d].fom})})}),t.jsx(S,{children:t.jsx(C,{size:"small",children:t.jsx(_,{id:"UttakDokumentasjonFaktaDetailForm.Tom"})})}),t.jsx(S,{className:b.tomDato,children:R[d].tom&&t.jsx(Q,{size:"small",children:t.jsx(ee,{dateString:R[d].tom})})}),s&&s>=d&&t.jsx(S,{className:b.redigerKnapp,children:t.jsx(I,{size:"small",variant:"tertiary",icon:t.jsx(et,{"aria-hidden":!0}),onClick:()=>m(d),type:"button",disabled:!R[d].tom,children:t.jsx(_,{id:"UttakDokumentasjonFaktaDetailForm.RedigerPeriode"})})})]}),R[d].fom!==R[d].tom&&i.length>1&&d===i.length-1&&t.jsxs(t.Fragment,{children:[t.jsx(g,{sixteenPx:!0}),t.jsx("div",{className:b.marginBtn,children:t.jsx(I,{size:"small",variant:"tertiary",type:"button",onClick:()=>m(d),icon:t.jsx(ne,{}),children:t.jsx(_,{id:"UttakDokumentasjonFaktaDetailForm.DelOppPeriode"})})}),t.jsx(g,{eightPx:!0})]})]}),t.jsx(g,{twentyPx:!0}),t.jsx(Pe,{name:`perioder.${d}.vurdering`,label:t.jsx(_,{id:"UttakDokumentasjonFaktaDetailForm.Vurdering"}),validate:[ge],isReadOnly:l,isHorizontal:!0,radios:P})]},A.id)),t.jsx(g,{fourtyPx:!0}),!l&&t.jsxs(X,{children:[t.jsxs(W,{children:[t.jsx(S,{children:t.jsx(I,{size:"small",variant:"secondary",loading:!1,disabled:!o.formState.isDirty||l,children:t.jsx(_,{id:"UttakDokumentasjonFaktaDetailForm.Oppdater"})})}),t.jsx(S,{children:t.jsx(I,{size:"small",variant:"tertiary",onClick:r,disabled:l,type:"button",children:t.jsx(_,{id:"UttakDokumentasjonFaktaDetailForm.Avbryt"})})})]}),t.jsx(g,{sixteenPx:!0})]})]}),k!==void 0&&t.jsx(xe,{periode:R[k],originalTom:e.tom,submit:A=>k+1<i.length?j(A):f(A),cancel:()=>m(void 0),visSlettEtterfølgendePerioder:k<i.length-1})]})};try{q.displayName="UttakDokumentasjonFaktaDetailForm",q.__docgenInfo={description:"",displayName:"UttakDokumentasjonFaktaDetailForm",props:{valgtDokBehov:{defaultValue:null,description:"",name:"valgtDokBehov",required:!0,type:{name:"Readonly<{ fom: string; tom: string; type: UttakType; årsak: UttakÅrsak; vurdering?: UttakVurdering | undefined; }>"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},oppdaterDokBehov:{defaultValue:null,description:"",name:"oppdaterDokBehov",required:!0,type:{name:"(dokBehov: { perioder: Readonly<{ fom: string; tom: string; type: UttakType; årsak: UttakÅrsak; vurdering?: UttakVurdering | undefined; }>[]; }) => void"}},avbrytEditeringAvAktivitetskrav:{defaultValue:null,description:"",name:"avbrytEditeringAvAktivitetskrav",required:!0,type:{name:"() => void"}}}}}catch{}const At="_image_1ucmf_1",gt="_ikon_1ucmf_7",H={image:At,ikon:gt},le={[T.INNLEGGELSE_SØKER]:"UttakDokumentasjonFaktaTable.InnleggelseSoker",[T.INNLEGGELSE_BARN]:"UttakDokumentasjonFaktaTable.InnleggelseBarn",[T.HV_ØVELSE]:"UttakDokumentasjonFaktaTable.HvOvelse",[T.NAV_TILTAK]:"UttakDokumentasjonFaktaTable.NavTiltak",[T.SYKDOM_SØKER]:"UttakDokumentasjonFaktaTable.SykdomSoker",[T.SYKDOM_ANNEN_FORELDER]:"UttakDokumentasjonFaktaTable.SykdomAnnenForelder",[T.INNLEGGELSE_ANNEN_FORELDER]:"UttakDokumentasjonFaktaTable.InnleggelseAnnenForelder",[T.BARE_SØKER_RETT]:"UttakDokumentasjonFaktaTable.BareSokerRett",[T.ALENEOMSORG]:"UttakDokumentasjonFaktaTable.Aleneomsorg",[T.AKTIVITETSKRAV_ARBEID]:"UttakDokumentasjonFaktaTable.AktivitetskravArbeid",[T.AKTIVITETSKRAV_UTDANNING]:"UttakDokumentasjonFaktaTable.AktivitetskravUtdanning",[T.AKTIVITETSKRAV_KVALPROG]:"UttakDokumentasjonFaktaTable.AktivitetskravKvalprog",[T.AKTIVITETSKRAV_INTROPROG]:"UttakDokumentasjonFaktaTable.AktivitetskravIntroprog",[T.AKTIVITETSKRAV_TRENGER_HJELP]:"UttakDokumentasjonFaktaTable.AktivitetskravTrengerHjelp",[T.AKTIVITETSKRAV_INNLAGT]:"UttakDokumentasjonFaktaTable.AktivitetskravInnlagt",[T.AKTIVITETSKRAV_ARBEID_OG_UTDANNING]:"UttakDokumentasjonFaktaTable.AktivitetskravArbeidUtdanning",[T.AKTIVITETSKRAV_IKKE_OPPGITT]:"UttakDokumentasjonFaktaTable.AktivitetskravIkkeOppgitt",[T.TIDLIG_OPPSTART_FAR]:"UttakDokumentasjonFaktaTable.TidligOppstartFar"},Ot=e=>e===N.UTSETTELSE?t.jsx(_,{id:"UttakDokumentasjonFaktaTable.Utsettelse"}):e===N.OVERFØRING?t.jsx(_,{id:"UttakDokumentasjonFaktaTable.Overforing"}):t.jsx(_,{id:"UttakDokumentasjonFaktaTable.Uttak"}),Nt=["UttakDokumentasjonFaktaTable.Periode","UttakDokumentasjonFaktaTable.AvklaringBehov","UttakDokumentasjonFaktaTable.Arsak","UttakDokumentasjonFaktaTable.Vurdering","EMPTY1"],J=({dokumentasjonVurderingBehov:e,oppdaterDokBehov:l,readOnly:r,setDirty:a,harAksjonspunkt:n})=>{const[s,E]=u.useState([]),k=u.useCallback(o=>{o&&(s.includes(o)?E(i=>i.filter(p=>p!==o)):E(i=>i.concat(o)))},[s,E]);u.useEffect(()=>{var o;return k((o=e==null?void 0:e.find(i=>!i.vurdering))==null?void 0:o.fom)},[]);const m=u.useCallback(o=>{const{perioder:i}=o,p=e.filter(c=>c.fom!==i[0].fom).concat(i).sort((c,O)=>c.fom.localeCompare(O.fom));l(p),E(c=>{var f;const O=c.filter(j=>j!==i[0].fom),R=(f=p.find(j=>!j.vurdering))==null?void 0:f.fom;return R?O.concat(R):O}),a(!0)},[e]);return t.jsx(Ge,{headerTextCodes:Nt,noHover:!0,hasGrayHeader:!0,children:e.map(o=>{const i=t.jsxs(t.Fragment,{children:[t.jsx(x,{children:`${ae(o.fom)} - ${ae(o.tom)}`}),t.jsx(x,{children:Ot(o.type)}),t.jsx(x,{children:le[o.årsak]?t.jsx(_,{id:le[o.årsak]}):""}),t.jsxs(x,{children:[o.vurdering===D.GODKJENT&&t.jsxs(t.Fragment,{children:[t.jsx(Ze,{}),t.jsx("div",{className:H.ikon,children:t.jsx(_,{id:"UttakDokumentasjonFaktaTable.Godkjent"})})]}),o.vurdering===D.IKKE_GODKJENT&&t.jsxs(t.Fragment,{children:[t.jsx(st,{}),t.jsx("div",{className:H.ikon,children:t.jsx(_,{id:"UttakDokumentasjonFaktaTable.IkkeGodkjent"})})]}),o.vurdering===D.IKKE_DOKUMENTERT&&t.jsxs(t.Fragment,{children:[t.jsx(Xe,{}),t.jsx("div",{className:H.ikon,children:t.jsx(_,{id:"UttakDokumentasjonFaktaTable.ManglerDok"})})]})]})]});return n?t.jsx(Be,{isApLeftBorder:!o.vurdering,showContent:s.includes(o.fom),toggleContent:()=>k(o.fom),content:s.includes(o.fom)&&t.jsx(q,{valgtDokBehov:o,readOnly:r,oppdaterDokBehov:m,avbrytEditeringAvAktivitetskrav:()=>k(o.fom)},o.fom),children:i},o.fom+o.tom):t.jsx(Me,{children:i},o.fom+o.tom)})})};try{J.displayName="UttakDokumentasjonFaktaTable",J.__docgenInfo={description:"",displayName:"UttakDokumentasjonFaktaTable",props:{dokumentasjonVurderingBehov:{defaultValue:null,description:"",name:"dokumentasjonVurderingBehov",required:!0,type:{name:"Readonly<{ fom: string; tom: string; type: UttakType; årsak: UttakÅrsak; vurdering?: UttakVurdering | undefined; }>[]"}},oppdaterDokBehov:{defaultValue:null,description:"",name:"oppdaterDokBehov",required:!0,type:{name:"(dokBehov: Readonly<{ fom: string; tom: string; type: UttakType; årsak: UttakÅrsak; vurdering?: UttakVurdering | undefined; }>[]) => void"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},setDirty:{defaultValue:null,description:"",name:"setDirty",required:!0,type:{name:"(isDirty: boolean) => void"}},harAksjonspunkt:{defaultValue:null,description:"",name:"harAksjonspunkt",required:!0,type:{name:"boolean"}}}}}catch{}const Z=({aksjonspunkter:e,dokumentasjonVurderingBehov:l,readOnly:r,submittable:a,submitCallback:n,formData:s,setFormData:E})=>{const k=Oe(),[m,o]=u.useState(!1),[i,p]=u.useState((s==null?void 0:s.dokBehov)||l),c=u.useCallback(d=>{o(!0),n({kode:U.VURDER_UTTAK_DOKUMENTASJON,vurderingBehov:i,begrunnelse:d})},[i]),O=e.length>0?e[0].begrunnelse:void 0,R=Ne({defaultValues:{begrunnelse:(s==null?void 0:s.begrunnelse)||O}});u.useEffect(()=>()=>{E({dokBehov:i,begrunnelse:R.getValues("begrunnelse")})},[]);const f=R.watch("begrunnelse"),j=u.useMemo(()=>a&&(i==null?void 0:i.every(d=>d.vurdering))&&!!f,[i,f]),[P,A]=u.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsx(we,{size:"small",children:t.jsx(_,{id:"UttakDokumentasjonFaktaForm.Overskrift"})}),t.jsx(g,{thirtyTwoPx:!0}),e.some(d=>d.status===h.OPPRETTET)&&t.jsxs(t.Fragment,{children:[t.jsx(Ce,{children:[k.formatMessage({id:"UttakDokumentasjonFaktaForm.AksjonspunktHjelpetekst"})]}),t.jsx(g,{twentyPx:!0})]}),t.jsx(J,{harAksjonspunkt:e.length>0,dokumentasjonVurderingBehov:i,oppdaterDokBehov:p,setDirty:A,readOnly:r}),t.jsx(g,{twentyPx:!0}),t.jsxs(De,{formMethods:R,onSubmit:d=>c(d.begrunnelse),children:[t.jsx(M,{name:"begrunnelse",label:k.formatMessage({id:"UttakDokumentasjonFaktaForm.Begrunnelse"}),isSubmittable:!0,isReadOnly:r,hasBegrunnelse:!0}),t.jsx(g,{sixteenPx:!0}),!r&&t.jsx(I,{size:"small",variant:"primary",disabled:!j||!P&&!R.formState.isDirty||m,loading:m,children:t.jsx(_,{id:"UttakDokumentasjonFaktaForm.Bekreft"})})]})]})};try{Z.displayName="UttakDokumentasjonFaktaForm",Z.__docgenInfo={description:"",displayName:"UttakDokumentasjonFaktaForm",props:{aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},dokumentasjonVurderingBehov:{defaultValue:null,description:"",name:"dokumentasjonVurderingBehov",required:!0,type:{name:"Readonly<{ fom: string; tom: string; type: UttakType; årsak: UttakÅrsak; vurdering?: UttakVurdering | undefined; }>[]"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunkter: VurderDokumentasjonAp) => Promise<void>"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},submittable:{defaultValue:null,description:"",name:"submittable",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"{ dokBehov: Readonly<{ fom: string; tom: string; type: UttakType; årsak: UttakÅrsak; vurdering?: UttakVurdering | undefined; }>[]; begrunnelse: string; }"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: { dokBehov: Readonly<{ fom: string; tom: string; type: UttakType; årsak: UttakÅrsak; vurdering?: UttakVurdering | undefined; }>[]; begrunnelse: string; }) => void"}}}}}catch{}const Dt=$(Ye),z=({dokumentasjonVurderingBehov:e,submitCallback:l,readOnly:r,submittable:a,aksjonspunkter:n,formData:s,setFormData:E})=>{const k=u.useMemo(()=>[...e].sort((m,o)=>G(m.fom).diff(G(o.fom))),[e]);return t.jsx(Ae,{value:Dt,children:t.jsx(Z,{aksjonspunkter:n,dokumentasjonVurderingBehov:k,submitCallback:l,readOnly:r||n.length===0,submittable:a,formData:s,setFormData:E})})},be=z;try{z.displayName="UttakDokumentasjonFaktaIndex",z.__docgenInfo={description:"",displayName:"UttakDokumentasjonFaktaIndex",props:{harApneAksjonspunkter:{defaultValue:null,description:"",name:"harApneAksjonspunkter",required:!0,type:{name:"boolean"}},dokumentasjonVurderingBehov:{defaultValue:null,description:"",name:"dokumentasjonVurderingBehov",required:!0,type:{name:"Readonly<{ fom: string; tom: string; type: UttakType; årsak: UttakÅrsak; vurdering?: UttakVurdering | undefined; }>[]"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},submittable:{defaultValue:null,description:"",name:"submittable",required:!0,type:{name:"boolean"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const ft={uuid:"1",versjon:1},Ie=[{fom:"2022-11-01",tom:"2022-11-07",type:N.UTSETTELSE,årsak:T.INNLEGGELSE_SØKER},{fom:"2022-11-08",tom:"2022-11-13",type:N.OVERFØRING,årsak:T.SYKDOM_ANNEN_FORELDER},{fom:"2022-12-08",tom:"2022-12-13",type:N.UTTAK,årsak:T.AKTIVITETSKRAV_ARBEID},{fom:"2022-11-15",tom:"2022-11-20",type:N.UTTAK,årsak:T.TIDLIG_OPPSTART_FAR}],Vt={title:"fakta/fakta-uttaksdokumentasjon",component:be},w=({aksjonspunkter:e,dokumentasjonVurderingBehov:l,submitCallback:r,readOnly:a,submittable:n,alleMerknaderFraBeslutter:s={}})=>t.jsx(be,{behandling:ft,dokumentasjonVurderingBehov:l,alleKodeverk:He,aksjonspunkter:e,submitCallback:r,readOnly:a,harApneAksjonspunkter:e.some(E=>E.status===h.OPPRETTET),submittable:n,alleMerknaderFraBeslutter:s,setFormData:()=>{}}),V=w.bind({});V.args={aksjonspunkter:[{definisjon:U.VURDER_UTTAK_DOKUMENTASJON,status:h.OPPRETTET,begrunnelse:void 0,kanLoses:!0}],dokumentasjonVurderingBehov:Ie,submitCallback:B("button-click"),readOnly:!1,submittable:!0};const v=w.bind({});v.args={aksjonspunkter:[{definisjon:U.VURDER_UTTAK_DOKUMENTASJON,status:h.UTFORT,begrunnelse:"Dette er en begrunnelse",kanLoses:!1}],dokumentasjonVurderingBehov:[{fom:"2022-12-08",tom:"2022-12-13",type:N.UTSETTELSE,årsak:T.HV_ØVELSE,vurdering:D.GODKJENT}],submitCallback:B("button-click"),readOnly:!0,submittable:!1};const L=w.bind({});L.args={aksjonspunkter:[{definisjon:U.VURDER_UTTAK_DOKUMENTASJON,status:h.UTFORT,begrunnelse:"Dette er en begrunnelse",kanLoses:!0}],dokumentasjonVurderingBehov:[{fom:"2022-12-08",tom:"2022-12-13",type:N.UTTAK,årsak:T.HV_ØVELSE,vurdering:D.GODKJENT}],submitCallback:B("button-click"),readOnly:!1,submittable:!0,alleMerknaderFraBeslutter:{}};const F=w.bind({});F.args={aksjonspunkter:[],dokumentasjonVurderingBehov:Ie,submitCallback:B("button-click"),readOnly:!1,submittable:!0};var oe,ie,de;V.parameters={...V.parameters,docs:{...(oe=V.parameters)==null?void 0:oe.docs,source:{originalSource:`({
  aksjonspunkter,
  dokumentasjonVurderingBehov,
  submitCallback,
  readOnly,
  submittable,
  alleMerknaderFraBeslutter = {}
}) => <UttakDokumentasjonFaktaIndex behandling={behandling} dokumentasjonVurderingBehov={dokumentasjonVurderingBehov} alleKodeverk={(alleKodeverk as any)} aksjonspunkter={aksjonspunkter} submitCallback={submitCallback} readOnly={readOnly} harApneAksjonspunkter={aksjonspunkter.some(ap => ap.status === aksjonspunktStatus.OPPRETTET)} submittable={submittable} alleMerknaderFraBeslutter={alleMerknaderFraBeslutter} setFormData={() => undefined} />`,...(de=(ie=V.parameters)==null?void 0:ie.docs)==null?void 0:de.source}}};var ue,ke,me;v.parameters={...v.parameters,docs:{...(ue=v.parameters)==null?void 0:ue.docs,source:{originalSource:`({
  aksjonspunkter,
  dokumentasjonVurderingBehov,
  submitCallback,
  readOnly,
  submittable,
  alleMerknaderFraBeslutter = {}
}) => <UttakDokumentasjonFaktaIndex behandling={behandling} dokumentasjonVurderingBehov={dokumentasjonVurderingBehov} alleKodeverk={(alleKodeverk as any)} aksjonspunkter={aksjonspunkter} submitCallback={submitCallback} readOnly={readOnly} harApneAksjonspunkter={aksjonspunkter.some(ap => ap.status === aksjonspunktStatus.OPPRETTET)} submittable={submittable} alleMerknaderFraBeslutter={alleMerknaderFraBeslutter} setFormData={() => undefined} />`,...(me=(ke=v.parameters)==null?void 0:ke.docs)==null?void 0:me.source}}};var Te,Re,Ee;L.parameters={...L.parameters,docs:{...(Te=L.parameters)==null?void 0:Te.docs,source:{originalSource:`({
  aksjonspunkter,
  dokumentasjonVurderingBehov,
  submitCallback,
  readOnly,
  submittable,
  alleMerknaderFraBeslutter = {}
}) => <UttakDokumentasjonFaktaIndex behandling={behandling} dokumentasjonVurderingBehov={dokumentasjonVurderingBehov} alleKodeverk={(alleKodeverk as any)} aksjonspunkter={aksjonspunkter} submitCallback={submitCallback} readOnly={readOnly} harApneAksjonspunkter={aksjonspunkter.some(ap => ap.status === aksjonspunktStatus.OPPRETTET)} submittable={submittable} alleMerknaderFraBeslutter={alleMerknaderFraBeslutter} setFormData={() => undefined} />`,...(Ee=(Re=L.parameters)==null?void 0:Re.docs)==null?void 0:Ee.source}}};var _e,ce,pe;F.parameters={...F.parameters,docs:{...(_e=F.parameters)==null?void 0:_e.docs,source:{originalSource:`({
  aksjonspunkter,
  dokumentasjonVurderingBehov,
  submitCallback,
  readOnly,
  submittable,
  alleMerknaderFraBeslutter = {}
}) => <UttakDokumentasjonFaktaIndex behandling={behandling} dokumentasjonVurderingBehov={dokumentasjonVurderingBehov} alleKodeverk={(alleKodeverk as any)} aksjonspunkter={aksjonspunkter} submitCallback={submitCallback} readOnly={readOnly} harApneAksjonspunkter={aksjonspunkter.some(ap => ap.status === aksjonspunktStatus.OPPRETTET)} submittable={submittable} alleMerknaderFraBeslutter={alleMerknaderFraBeslutter} setFormData={() => undefined} />`,...(pe=(ce=F.parameters)==null?void 0:ce.docs)==null?void 0:pe.source}}};const vt=["AksjonspunktMedUavklartePerioder","AksjonspunktSomErBekreftetOgBehandlingAvsluttet","AksjonspunktErBekreftetMenBehandlingErÅpen","UavklartePerioderMenIkkeAksjonspunktEnnå"];export{L as AksjonspunktErBekreftetMenBehandlingErÅpen,V as AksjonspunktMedUavklartePerioder,v as AksjonspunktSomErBekreftetOgBehandlingAvsluttet,F as UavklartePerioderMenIkkeAksjonspunktEnnå,vt as __namedExportsOrder,Vt as default};
//# sourceMappingURL=UttakDokumentasjonFaktaIndex.stories-196e895c.js.map
