import{r as z,R as e}from"./index-Dl6G-zuu.js";import{h as $,i as w,l as G,S as W,H as X,M as y,b as g,W as q,e as k,L as p,P as Q,f as E,w as U,t as Y,k as Z,m as ee,a as J,c as ae,d as se,B as re}from"./nb_NO-FpxXeSMP.js";import{f as t}from"./familieHendelseType-D5XfoL_I.js";import{r as A,b as u,R as N,_ as S,y as te,N as ne,K as oe}from"./index.es-BOP7ekyo.js";import"./v4-CQkTLCs1.js";import"./dayjs.min-D5dJDnOJ.js";import"./index-Dmr9vlPS.js";const le="_barnInput_1jjt5_1",me="_col_1jjt5_5",F={barnInput:le,col:me},ie=10,x=te(1),R=ne(10),m="omsorg",I=(r,a)=>n=>{if(r===0&&a&&n)return oe(n,Array.isArray(a)?a[0]:a)},b=({readOnly:r=!0,familieHendelseType:a,isForeldrepengerFagsak:n,fodselsdatoer:i})=>{const{formatMessage:o}=$(),{control:H,watch:L}=w(),{fields:d,remove:C,append:K}=G({control:H,name:`${m}.foedselsDato`}),v=L(`${m}.antallBarn`),c=v?parseInt(v,10):0;return z.useEffect(()=>{if(d.length>Math.max(c,0))for(let s=d.length;s>c;s-=1)C(s-1);else if(d.length<Math.min(c,ie))for(let s=d.length;s<c;s+=1)K({id:s,dato:void 0})},[c]),e.createElement(W,null,e.createElement(X,{size:"small"},e.createElement(y,{id:a===t.ADOPSJON?"Registrering.Adopsjon.Title":"Registrering.Adopsjon.OmsorgTitle"})),e.createElement(g,{sixteenPx:!0}),e.createElement(q,null,n&&a===t.ADOPSJON&&e.createElement(e.Fragment,null,e.createElement(k,null,e.createElement(p,{className:F.col},e.createElement(Q,{name:`${m}.erEktefellesBarn`,label:e.createElement(y,{id:"Registrering.Adopsjon.GjelderEktefellesBarn"}),validate:[A],isReadOnly:r,isTrueOrFalseSelection:!0,isHorizontal:!0,radios:[{label:o({id:"Registrering.Adopsjon.Ja"}),value:"true"},{label:o({id:"Registrering.Adopsjon.Nei"}),value:"false"}]}))),e.createElement(g,{sixteenPx:!0})),e.createElement(k,null,e.createElement(p,null,e.createElement(E,{name:`${m}.omsorgsovertakelsesdato`,label:o({id:a===t.ADOPSJON?"Registrering.Adopsjon.DatoForOvertakelsenStebarn":"Registrering.Adopsjon.DatoForOvertakelsen"}),isReadOnly:r,validate:a===t.ADOPSJON?[A,u]:[u]}))),e.createElement(g,{sixteenPx:!0}),e.createElement(k,null,a===t.ADOPSJON&&e.createElement(p,null,e.createElement(E,{name:`${m}.ankomstdato`,label:o({id:"Registrering.Adopsjon.Ankomstdato"}),isReadOnly:r,validate:[u]})),e.createElement(p,{className:F.col},e.createElement(U,{name:`${m}.antallBarn`,label:o({id:"Registrering.Adopsjon.AntallBarn"}),readOnly:r,parse:s=>{const l=parseInt(s.toString(),10);return Number.isNaN(l)?s:l},className:F.barnInput,validate:a===t.ADOPSJON?[A,N,x,R]:[N,s=>s?x(parseInt(s,10)):void 0,s=>s?R(parseInt(s,10)):void 0]}))),e.createElement(k,null,e.createElement(p,{className:F.col},d.map((s,l)=>e.createElement(e.Fragment,{key:s.id},e.createElement(g,{sixteenPx:!0}),e.createElement(E,{name:`${m}.foedselsDato.${l}.dato`,isReadOnly:r,validate:a===t.ADOPSJON?[A,u,S,I(l,i)]:[u,S,I(l,i)],label:o({id:"Registrering.Adopsjon.FodselsdatoBarnN"},{n:l+1})})))))))};b.transformValues=r=>({...r,foedselsDato:r.foedselsDato&&r.foedselsDato.length>0?r.foedselsDato.map(a=>a.dato):void 0});b.__docgenInfo={description:`OmsorgOgAdopsjonPanel

Komponenten vises som del av skjermbildet for registrering av papirsøknad ved adopsjon og omsorgsovertakelse.
Komponenten har inputfelter og må derfor rendres som etterkommer av form-komponent.`,methods:[{name:"transformValues",docblock:null,modifiers:["static"],params:[{name:"values",optional:!1,type:null}],returns:null}],displayName:"OmsorgOgAdopsjonPanel",props:{readOnly:{defaultValue:{value:"true",computed:!1},required:!1}}};const de=Y(ee),P=({readOnly:r,familieHendelseType:a,isForeldrepengerFagsak:n,fodselsdato:i})=>e.createElement(Z,{value:de},e.createElement(b,{readOnly:r,familieHendelseType:a,isForeldrepengerFagsak:n,fodselsdatoer:i}));P.transformValues=b.transformValues;const j=P;P.__docgenInfo={description:"",methods:[{name:"transformValues",docblock:null,modifiers:["static"],params:[{name:"values",optional:!1,type:null}],returns:null}],displayName:"OmsorgOgAdopsjonPapirsoknadIndex"};const Ae={title:"papirsoknad/ui-komponenter/omsorg-og-adopsjon",component:j},T=({isForeldrepengerFagsak:r,familieHendelseType:a,submitCallback:n})=>{const i=ae();return e.createElement(se,{formMethods:i,onSubmit:o=>n(j.transformValues(o.omsorg))},e.createElement(j,{readOnly:!1,familieHendelseType:a,isForeldrepengerFagsak:r,fodselsdato:"2022-05-27"}),e.createElement(g,{fourtyPx:!0}),e.createElement(re,{size:"small",variant:"primary"},"Lagreknapp (Kun for test)"))},f=T.bind({});f.args={isForeldrepengerFagsak:!1,familieHendelseType:t.FODSEL,submitCallback:J("button-click")};const O=T.bind({});O.args={isForeldrepengerFagsak:!1,familieHendelseType:t.ADOPSJON,submitCallback:J("button-click")};var h,_,D;f.parameters={...f.parameters,docs:{...(h=f.parameters)==null?void 0:h.docs,source:{originalSource:`({
  isForeldrepengerFagsak,
  familieHendelseType,
  submitCallback
}) => {
  const formMethods = useForm();
  return <Form formMethods={formMethods} onSubmit={values => submitCallback(OmsorgOgAdopsjonPapirsoknadIndex.transformValues(values.omsorg))}>
      <OmsorgOgAdopsjonPapirsoknadIndex readOnly={false} familieHendelseType={familieHendelseType} isForeldrepengerFagsak={isForeldrepengerFagsak} fodselsdato="2022-05-27" />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(D=(_=f.parameters)==null?void 0:_.docs)==null?void 0:D.source}}};var M,B,V;O.parameters={...O.parameters,docs:{...(M=O.parameters)==null?void 0:M.docs,source:{originalSource:`({
  isForeldrepengerFagsak,
  familieHendelseType,
  submitCallback
}) => {
  const formMethods = useForm();
  return <Form formMethods={formMethods} onSubmit={values => submitCallback(OmsorgOgAdopsjonPapirsoknadIndex.transformValues(values.omsorg))}>
      <OmsorgOgAdopsjonPapirsoknadIndex readOnly={false} familieHendelseType={familieHendelseType} isForeldrepengerFagsak={isForeldrepengerFagsak} fodselsdato="2022-05-27" />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(V=(B=O.parameters)==null?void 0:B.docs)==null?void 0:V.source}}};const Fe=["ForFodsel","ForAdopsjon"];export{O as ForAdopsjon,f as ForFodsel,Fe as __namedExportsOrder,Ae as default};
