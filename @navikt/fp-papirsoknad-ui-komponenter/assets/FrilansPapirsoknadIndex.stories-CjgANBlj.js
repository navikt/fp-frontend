import{j as e}from"./dayjs.min-D0F5fy79.js";import{d as C,e as E,i as B,A as X,W as Y,c as q,L as c,P as $,y as t,f as Z,E as T,F as O,M as s,O as K,g as ee,S as re,H as ae,D as se,t as ie,h as ne,m as te,a as oe,b as le,Y as de,B as me}from"./nb_NO-Ck3UbI0K.js";import{r as x,b as _,I as W,c as G,h as k,a as pe}from"./index.es-9SLT0vzE.js";import{r as ue}from"./index-CTjT7uj6.js";import"./v4-CQkTLCs1.js";import"./index-CYM-y3Gt.js";const ce="_notLastRow_7c46s_1",Fe={notLastRow:ce},H="frilans",I=(r,a)=>r(a),J=({readOnly:r})=>{const a=C(),{control:i,getValues:n,formState:{isSubmitted:p},trigger:g}=E(),{fields:j,remove:y,append:M}=B({control:i,name:`${H}.perioder`});return e.jsx(X,{fields:j,bodyText:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.NyPeriode"}),readOnly:r,remove:y,append:M,children:(S,u,V)=>{const o=`${H}.perioder.${u}`;return e.jsxs("div",{className:u!==j.length-1?Fe.notLastRow:"",children:[e.jsx(Y,{children:e.jsxs(q,{children:[e.jsx(c,{children:e.jsx($,{name:`${o}.periodeFom`,label:u===0?a.formatMessage({id:"Registrering.Frilans.periodeFom"}):"",validate:[x,_,()=>{const l=I(n,`${o}.periodeFom`),d=I(n,`${o}.periodeTom`);return d&&l?W(d)(l):null}],onChange:()=>p?g():void 0})}),e.jsx(c,{children:e.jsx($,{name:`${o}.periodeTom`,label:u===0?a.formatMessage({id:"Registrering.Frilans.periodeTom"}):"",validate:[x,_,()=>{const l=I(n,`${o}.periodeFom`),d=I(n,`${o}.periodeTom`);return d&&l?G(l)(d):null}],onChange:()=>p?g():void 0})}),V&&e.jsx(c,{children:V()})]})}),e.jsx(t,{sixteenPx:!0})]},S.id)}})};J.__docgenInfo={description:`FrilansPerioderFieldArray

Viser inputfelter for fra og til dato for frilansperioder`,methods:[],displayName:"FrilansPerioderFieldArray",props:{readOnly:{required:!0,tsType:{name:"boolean"},description:""}}};const ge="_notLastRow_7c46s_1",xe={notLastRow:ge},F="frilans",P=(r,a)=>r(a),fe=(r=[])=>r.map(a=>a.periodeFom).filter(a=>a&&a!=="").sort((a,i)=>k(a,T).diff(k(i,T))),Q={fomDato:"",tomDato:"",oppdragsgiver:""},je=pe(50),he=(r,a,i,n)=>()=>{const p=P(r,`${a}.fomDato`);return i.length>0&&i[0]&&p&&!k(i[0]).isSameOrBefore(k(p))?n.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.BeforeFomValidation"}):null},U=({readOnly:r})=>{const a=C(),{control:i,getValues:n,watch:p,trigger:g,formState:{isSubmitted:j}}=E(),{fields:y,remove:M,append:S}=B({control:i,name:`${F}.oppdragPerioder`}),u=p(`${F}.perioder`),V=ue.useMemo(()=>fe(u),[u]);return e.jsx(X,{bodyText:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.NyPeriode"}),fields:y,emptyPeriodTemplate:Q,readOnly:r,append:S,remove:M,children:(o,l,d)=>{const m=`${F}.oppdragPerioder.${l}`;return e.jsxs("div",{className:l!==y.length-1?xe.notLastRow:"",children:[e.jsx(Y,{children:e.jsxs(q,{children:[e.jsx(c,{children:e.jsx($,{name:`${m}.fomDato`,label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.periodeFom"}),validate:[_,he(n,m,V,a),()=>{const h=P(n,`${m}.fomDato`),b=P(n,`${m}.tomDato`);return b&&h?W(b)(h):null}],onChange:()=>j?g():void 0})}),e.jsx(c,{children:e.jsx($,{name:`${m}.tomDato`,label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.periodeTom"}),validate:[_,()=>{const h=P(n,`${m}.fomDato`),b=P(n,`${m}.tomDato`);return b&&h?G(h)(b):null}],onChange:()=>j?g():void 0})}),e.jsx(c,{children:e.jsx(Z,{name:`${m}.oppdragsgiver`,validate:[je],label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.Oppdragsgiver"})})}),d&&e.jsx(c,{children:d()})]})}),e.jsx(t,{sixteenPx:!0})]},o.id)}})};U.__docgenInfo={description:`FrilansOppdragForFamilieFieldArray

Viser inputfelter for fra og til dato for frilansperioder.`,methods:[],displayName:"FrilansOppdragForFamilieFieldArray",props:{readOnly:{required:!0,tsType:{name:"boolean"},description:""}}};const A=({readOnly:r})=>{const{watch:a}=E(),i=a(`${F}.harHattOppdragForFamilie`);return e.jsxs(e.Fragment,{children:[e.jsx(O,{name:`${F}.harHattOppdragForFamilie`,label:e.jsx(s,{id:"Registrering.FrilansOppdrag.HarHattOppdragForFamilie"}),validate:[x],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.FrilansOppdrag.Yes"}),value:"true"},{label:e.jsx(s,{id:"Registrering.FrilansOppdrag.No"}),value:"false"}]}),i&&e.jsxs(e.Fragment,{children:[e.jsx(t,{eightPx:!0}),e.jsxs(K,{children:[e.jsx(ee,{size:"small",children:e.jsx(s,{id:"Registrering.FrilansOppdrag.OppgiPeriode"})}),e.jsx(t,{fourPx:!0}),e.jsx(U,{readOnly:r})]})]})]})};A.buildInitialValues=()=>({oppdragPerioder:[Q],perioder:void 0});A.__docgenInfo={description:"",methods:[{name:"buildInitialValues",docblock:null,modifiers:["static"],params:[],returns:{type:{name:"intersection",raw:`{
  harHattOppdragForFamilie?: boolean;
} & FieldArrayFormValues`,elements:[{name:"signature",type:"object",raw:`{
  harHattOppdragForFamilie?: boolean;
}`,signature:{properties:[{key:"harHattOppdragForFamilie",value:{name:"boolean",required:!1}}]}},{name:"FormValues"}]}}}],displayName:"FrilansOppdragForFamiliePanel"};const L="frilans",f=({readOnly:r})=>e.jsxs(re,{children:[e.jsx(ae,{size:"small",children:e.jsx(s,{id:"Registrering.Frilans.Title"})}),e.jsx(t,{sixteenPx:!0}),e.jsx(O,{name:`${L}.harSokerPeriodeMedFrilans`,label:e.jsx(s,{id:"Registrering.Frilans.HarFrilansvirksomhet"}),validate:[x],isReadOnly:r,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.Frilans.No"}),value:"false"},{label:e.jsx(s,{id:"Registrering.Frilans.Yes"}),value:"true",element:e.jsxs(e.Fragment,{children:[e.jsx(t,{eightPx:!0}),e.jsxs(K,{children:[e.jsx(se,{children:e.jsx(s,{id:"Registrering.Frilans.OppgiPeriode"})}),e.jsx(t,{eightPx:!0}),e.jsx(J,{readOnly:r}),e.jsx(t,{fourPx:!0}),e.jsx(O,{name:`${L}.erNyoppstartetFrilanser`,label:e.jsx(s,{id:"Registrering.Frilans.ErNyoppstartedFrilanser"}),validate:[x],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.Frilans.Yes"}),value:"true"},{label:e.jsx(s,{id:"Registrering.Frilans.No"}),value:"false"}]}),e.jsx(t,{sixteenPx:!0}),e.jsx(O,{name:`${L}.harInntektFraFosterhjem`,label:e.jsx(s,{id:"Registrering.Frilans.HarInntektFraForsterhjem"}),validate:[x],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.Frilans.Yes"}),value:"true"},{label:e.jsx(s,{id:"Registrering.Frilans.No"}),value:"false"}]}),e.jsx(t,{sixteenPx:!0}),e.jsx(A,{readOnly:r})]})]})}]})]});f.buildInitialValues=()=>({...A.buildInitialValues(),perioder:[{periodeFom:"",periodeTom:""}]});f.transformValues=r=>r.harSokerPeriodeMedFrilans?r:{harSokerPeriodeMedFrilans:r.harSokerPeriodeMedFrilans};f.__docgenInfo={description:"",methods:[{name:"buildInitialValues",docblock:null,modifiers:["static"],params:[],returns:null},{name:"transformValues",docblock:null,modifiers:["static"],params:[{name:"formValues",optional:!1,type:null}],returns:null}],displayName:"FrilansPanel"};const be=ie(te),N=({readOnly:r})=>e.jsx(ne,{value:be,children:e.jsx(f,{readOnly:r})});N.buildInitialValues=()=>f.buildInitialValues();N.transformValues=r=>f.transformValues(r);const v=N;N.__docgenInfo={description:"",methods:[{name:"buildInitialValues",docblock:null,modifiers:["static"],params:[],returns:null},{name:"transformValues",docblock:null,modifiers:["static"],params:[{name:"formValues",optional:!1,type:null}],returns:null}],displayName:"FrilansPapirsoknadIndex"};const $e={title:"papirsoknad/ui-komponenter/frilans",component:v},Pe=({submitCallback:r})=>{const a=le({defaultValues:{[F]:v.buildInitialValues()}});return e.jsxs(de,{formMethods:a,onSubmit:i=>r({[F]:v.transformValues(i.frilans)}),children:[e.jsx(v,{readOnly:!1}),e.jsx(t,{fourtyPx:!0}),e.jsx(me,{size:"small",variant:"primary",children:"Lagreknapp (Kun for test)"})]})},R=Pe.bind({});R.args={submitCallback:oe("button-click")};var D,w,z;R.parameters={...R.parameters,docs:{...(D=R.parameters)==null?void 0:D.docs,source:{originalSource:`({
  submitCallback
}) => {
  const formMethods = useForm({
    defaultValues: {
      [FRILANS_NAME_PREFIX]: FrilansPapirsoknadIndex.buildInitialValues()
    }
  });
  return <Form formMethods={formMethods} onSubmit={(values: {
    [FRILANS_NAME_PREFIX]: FormValues;
  }) => submitCallback({
    [FRILANS_NAME_PREFIX]: FrilansPapirsoknadIndex.transformValues(values.frilans)
  })}>
      <FrilansPapirsoknadIndex readOnly={false} />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(z=(w=R.parameters)==null?void 0:w.docs)==null?void 0:z.source}}};const _e=["Default"];export{R as Default,_e as __namedExportsOrder,$e as default};
