import{j as e}from"./jsx-runtime-DR9Q75dM.js";import{e as z,f as L,g as C,I as B,W as X,c as q,L as c,P as $,y as t,h as Q,A as H,k as v,M as s,O as Y,q as Z,S as ee,H as re,D as ae,t as se,d as ie,m as ne,a as te,b as oe,$ as le,B as de}from"./nb_NO-5CofAXXD.js";import{H as x,g as _,D as K,U,n as me}from"./index.es-CP-sLi8l.js";import{r as pe}from"./index-DRjF_FHU.js";import{h as k}from"./moment-C5S46NFB.js";import"./v4-CQkTLCs1.js";import"./dayjs.min-CnNqAF5I.js";import"./index-rX-Bn4lm.js";const ue="_notLastRow_7c46s_1",ce={notLastRow:ue},E="frilans",O=(r,a)=>r(a),W=({readOnly:r})=>{const a=z(),{control:i,getValues:n,formState:{isSubmitted:p},trigger:f}=L(),{fields:h,remove:V,append:N}=C({control:i,name:`${E}.perioder`});return e.jsx(B,{fields:h,bodyText:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.NyPeriode"}),readOnly:r,remove:V,append:N,children:(M,u,I)=>{const o=`${E}.perioder.${u}`;return e.jsxs("div",{className:u!==h.length-1?ce.notLastRow:"",children:[e.jsx(X,{children:e.jsxs(q,{children:[e.jsx(c,{children:e.jsx($,{name:`${o}.periodeFom`,label:u===0?a.formatMessage({id:"Registrering.Frilans.periodeFom"}):"",validate:[x,_,()=>{const l=O(n,`${o}.periodeFom`),d=O(n,`${o}.periodeTom`);return d&&l?K(d)(l):null}],onChange:()=>p?f():void 0})}),e.jsx(c,{children:e.jsx($,{name:`${o}.periodeTom`,label:u===0?a.formatMessage({id:"Registrering.Frilans.periodeTom"}):"",validate:[x,_,()=>{const l=O(n,`${o}.periodeFom`),d=O(n,`${o}.periodeTom`);return d&&l?U(l)(d):null}],onChange:()=>p?f():void 0})}),I&&e.jsx(c,{children:I()})]})}),e.jsx(t,{sixteenPx:!0})]},M.id)}})};W.__docgenInfo={description:`FrilansPerioderFieldArray

Viser inputfelter for fra og til dato for frilansperioder`,methods:[],displayName:"FrilansPerioderFieldArray",props:{readOnly:{required:!0,tsType:{name:"boolean"},description:""}}};const Fe="_notLastRow_7c46s_1",ge={notLastRow:Fe},F="frilans",R=(r,a)=>r(a),fe=(r=[])=>r.map(a=>a.periodeFom).filter(a=>a&&a!=="").sort((a,i)=>k(a,H).diff(k(i,H))),G={fomDato:"",tomDato:"",oppdragsgiver:""},xe=me(50),je=(r,a,i,n)=>()=>{const p=R(r,`${a}.fomDato`);return i.length>0&&i[0]&&p&&!k(i[0]).isSameOrBefore(k(p))?n.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.BeforeFomValidation"}):null},J=({readOnly:r})=>{const a=z(),{control:i,getValues:n,watch:p,trigger:f,formState:{isSubmitted:h}}=L(),{fields:V,remove:N,append:M}=C({control:i,name:`${F}.oppdragPerioder`}),u=p(`${F}.perioder`),I=pe.useMemo(()=>fe(u),[u]);return e.jsx(B,{bodyText:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.NyPeriode"}),fields:V,emptyPeriodTemplate:G,readOnly:r,append:M,remove:N,children:(o,l,d)=>{const m=`${F}.oppdragPerioder.${l}`;return e.jsxs("div",{className:l!==V.length-1?ge.notLastRow:"",children:[e.jsx(X,{children:e.jsxs(q,{children:[e.jsx(c,{children:e.jsx($,{name:`${m}.fomDato`,label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.periodeFom"}),validate:[_,je(n,m,I,a),()=>{const b=R(n,`${m}.fomDato`),P=R(n,`${m}.tomDato`);return P&&b?K(P)(b):null}],onChange:()=>h?f():void 0})}),e.jsx(c,{children:e.jsx($,{name:`${m}.tomDato`,label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.periodeTom"}),validate:[_,()=>{const b=R(n,`${m}.fomDato`),P=R(n,`${m}.tomDato`);return P&&b?U(b)(P):null}],onChange:()=>h?f():void 0})}),e.jsx(c,{children:e.jsx(Q,{name:`${m}.oppdragsgiver`,validate:[xe],label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.Oppdragsgiver"})})}),d&&e.jsx(c,{children:d()})]})}),e.jsx(t,{sixteenPx:!0})]},o.id)}})};J.__docgenInfo={description:`FrilansOppdragForFamilieFieldArray

Viser inputfelter for fra og til dato for frilansperioder.`,methods:[],displayName:"FrilansOppdragForFamilieFieldArray",props:{readOnly:{required:!0,tsType:{name:"boolean"},description:""}}};const A=({readOnly:r})=>{const{watch:a}=L(),i=a(`${F}.harHattOppdragForFamilie`);return e.jsxs(e.Fragment,{children:[e.jsx(v,{name:`${F}.harHattOppdragForFamilie`,label:e.jsx(s,{id:"Registrering.FrilansOppdrag.HarHattOppdragForFamilie"}),validate:[x],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.FrilansOppdrag.Yes"}),value:"true"},{label:e.jsx(s,{id:"Registrering.FrilansOppdrag.No"}),value:"false"}]}),i&&e.jsxs(e.Fragment,{children:[e.jsx(t,{eightPx:!0}),e.jsxs(Y,{children:[e.jsx(Z,{size:"small",children:e.jsx(s,{id:"Registrering.FrilansOppdrag.OppgiPeriode"})}),e.jsx(t,{fourPx:!0}),e.jsx(J,{readOnly:r})]})]})]})};A.buildInitialValues=()=>({oppdragPerioder:[G],perioder:void 0});A.__docgenInfo={description:"",methods:[{name:"buildInitialValues",docblock:null,modifiers:["static"],params:[],returns:{type:{name:"intersection",raw:`{
  harHattOppdragForFamilie?: boolean;
} & FieldArrayFormValues`,elements:[{name:"signature",type:"object",raw:`{
  harHattOppdragForFamilie?: boolean;
}`,signature:{properties:[{key:"harHattOppdragForFamilie",value:{name:"boolean",required:!1}}]}},{name:"FormValues"}]}}}],displayName:"FrilansOppdragForFamiliePanel"};const S="frilans",j=({readOnly:r})=>e.jsxs(ee,{children:[e.jsx(re,{size:"small",children:e.jsx(s,{id:"Registrering.Frilans.Title"})}),e.jsx(t,{sixteenPx:!0}),e.jsx(v,{name:`${S}.harSokerPeriodeMedFrilans`,label:e.jsx(s,{id:"Registrering.Frilans.HarFrilansvirksomhet"}),validate:[x],isReadOnly:r,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.Frilans.No"}),value:"false"},{label:e.jsx(s,{id:"Registrering.Frilans.Yes"}),value:"true",element:e.jsxs(e.Fragment,{children:[e.jsx(t,{eightPx:!0}),e.jsxs(Y,{children:[e.jsx(ae,{children:e.jsx(s,{id:"Registrering.Frilans.OppgiPeriode"})}),e.jsx(t,{eightPx:!0}),e.jsx(W,{readOnly:r}),e.jsx(t,{fourPx:!0}),e.jsx(v,{name:`${S}.erNyoppstartetFrilanser`,label:e.jsx(s,{id:"Registrering.Frilans.ErNyoppstartedFrilanser"}),validate:[x],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.Frilans.Yes"}),value:"true"},{label:e.jsx(s,{id:"Registrering.Frilans.No"}),value:"false"}]}),e.jsx(t,{sixteenPx:!0}),e.jsx(v,{name:`${S}.harInntektFraFosterhjem`,label:e.jsx(s,{id:"Registrering.Frilans.HarInntektFraForsterhjem"}),validate:[x],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.Frilans.Yes"}),value:"true"},{label:e.jsx(s,{id:"Registrering.Frilans.No"}),value:"false"}]}),e.jsx(t,{sixteenPx:!0}),e.jsx(A,{readOnly:r})]})]})}]})]});j.buildInitialValues=()=>({...A.buildInitialValues(),perioder:[{periodeFom:"",periodeTom:""}]});j.transformValues=r=>r.harSokerPeriodeMedFrilans?r:{harSokerPeriodeMedFrilans:r.harSokerPeriodeMedFrilans};j.__docgenInfo={description:"",methods:[{name:"buildInitialValues",docblock:null,modifiers:["static"],params:[],returns:null},{name:"transformValues",docblock:null,modifiers:["static"],params:[{name:"formValues",optional:!1,type:null}],returns:null}],displayName:"FrilansPanel"};const he=se(ne),g=({readOnly:r})=>e.jsx(ie,{value:he,children:e.jsx(j,{readOnly:r})});g.buildInitialValues=()=>j.buildInitialValues();g.transformValues=r=>j.transformValues(r);g.__docgenInfo={description:"",methods:[{name:"buildInitialValues",docblock:null,modifiers:["static"],params:[],returns:null},{name:"transformValues",docblock:null,modifiers:["static"],params:[{name:"formValues",optional:!1,type:null}],returns:null}],displayName:"FrilansPapirsoknadIndex"};const _e={title:"papirsoknad/ui-komponenter/frilans",component:g},be=({submitCallback:r})=>{const a=oe({defaultValues:{[F]:g.buildInitialValues()}});return e.jsxs(le,{formMethods:a,onSubmit:i=>r({[F]:g.transformValues(i.frilans)}),children:[e.jsx(g,{readOnly:!1}),e.jsx(t,{fourtyPx:!0}),e.jsx(de,{size:"small",variant:"primary",children:"Lagreknapp (Kun for test)"})]})},y=be.bind({});y.args={submitCallback:te("button-click")};var T,D,w;y.parameters={...y.parameters,docs:{...(T=y.parameters)==null?void 0:T.docs,source:{originalSource:`({
  submitCallback
}) => {
  const formMethods = useForm({
    defaultValues: {
      [FRILANS_NAME_PREFIX]: FrilansPapirsoknadIndex.buildInitialValues()
    }
  });
  return <Form formMethods={formMethods} onSubmit={(values: {
    [FRILANS_NAME_PREFIX]: FormValues;
  }) => submitCallback({
    [FRILANS_NAME_PREFIX]: FrilansPapirsoknadIndex.transformValues(values.frilans)
  })}>
      <FrilansPapirsoknadIndex readOnly={false} />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(w=(D=y.parameters)==null?void 0:D.docs)==null?void 0:w.source}}};const ke=["Default"];export{y as Default,ke as __namedExportsOrder,_e as default};
