import{j as e}from"./jsx-runtime-DR9Q75dM.js";import{H as f,g as u,d as h,p as F,t as J,s as H,y as L,a as z}from"./index.es-CIUn6rVA.js";import{d as $,e as K,f as C,S as G,H as W,M as D,y as j,W as X,b as y,L as p,k as Q,P as O,F as U,t as Y,c as Z,m as ee,a as se,$ as re,V as ae,B as ne}from"./nb_NO-C2sskw2s.js";import{f as n}from"./familieHendelseType-D5XfoL_I.js";import{r as te,R as oe}from"./index-DRjF_FHU.js";import"./v4-CQkTLCs1.js";import"./dayjs.min-CnNqAF5I.js";import"./index-rX-Bn4lm.js";const ie="_barnInput_1jjt5_1",le="_col_1jjt5_5",k={barnInput:ie,col:le},de=10,q=J(1),N=H(10),l="omsorg",S=(a,s)=>t=>{if(a===0&&s&&t)return L(t,Array.isArray(s)?s[0]:s)},A=({readOnly:a=!0,familieHendelseType:s,isForeldrepengerFagsak:t,fodselsdatoer:d})=>{const{formatMessage:o}=$(),{control:T,watch:V}=K(),{fields:m,remove:M,append:E}=C({control:T,name:`${l}.foedselsDato`}),b=V(`${l}.antallBarn`),g=b?parseInt(b,10):0;return te.useEffect(()=>{if(m.length>Math.max(g,0))for(let r=m.length;r>g;r-=1)M(r-1);else if(m.length<Math.min(g,de))for(let r=m.length;r<g;r+=1)E({id:r,dato:void 0})},[g]),e.jsxs(G,{children:[e.jsx(W,{size:"small",children:e.jsx(D,{id:s===n.ADOPSJON?"Registrering.Adopsjon.Title":"Registrering.Adopsjon.OmsorgTitle"})}),e.jsx(j,{sixteenPx:!0}),e.jsxs(X,{children:[t&&s===n.ADOPSJON&&e.jsxs(e.Fragment,{children:[e.jsx(y,{children:e.jsx(p,{className:k.col,children:e.jsx(Q,{name:`${l}.erEktefellesBarn`,label:e.jsx(D,{id:"Registrering.Adopsjon.GjelderEktefellesBarn"}),validate:[f],isReadOnly:a,isTrueOrFalseSelection:!0,isHorizontal:!0,radios:[{label:o({id:"Registrering.Adopsjon.Ja"}),value:"true"},{label:o({id:"Registrering.Adopsjon.Nei"}),value:"false"}]})})}),e.jsx(j,{sixteenPx:!0})]}),e.jsx(y,{children:e.jsx(p,{children:e.jsx(O,{name:`${l}.omsorgsovertakelsesdato`,label:o({id:s===n.ADOPSJON?"Registrering.Adopsjon.DatoForOvertakelsenStebarn":"Registrering.Adopsjon.DatoForOvertakelsen"}),isReadOnly:a,validate:s===n.ADOPSJON?[f,u]:[u]})})}),e.jsx(j,{sixteenPx:!0}),e.jsxs(y,{children:[s===n.ADOPSJON&&e.jsx(p,{children:e.jsx(O,{name:`${l}.ankomstdato`,label:o({id:"Registrering.Adopsjon.Ankomstdato"}),isReadOnly:a,validate:[u]})}),e.jsx(p,{className:k.col,children:e.jsx(U,{name:`${l}.antallBarn`,label:o({id:"Registrering.Adopsjon.AntallBarn"}),readOnly:a,parse:r=>{const i=parseInt(r.toString(),10);return Number.isNaN(i)?r:i},className:k.barnInput,validate:s===n.ADOPSJON?[f,h,q,N]:[h,r=>r?q(parseInt(r,10)):void 0,r=>r?N(parseInt(r,10)):void 0]})})]}),e.jsx(y,{children:e.jsx(p,{className:k.col,children:m.map((r,i)=>e.jsxs(oe.Fragment,{children:[e.jsx(j,{sixteenPx:!0}),e.jsx(O,{name:`${l}.foedselsDato.${i}.dato`,isReadOnly:a,validate:s===n.ADOPSJON?[f,u,F,S(i,d)]:[u,F,S(i,d)],label:o({id:"Registrering.Adopsjon.FodselsdatoBarnN"},{n:i+1})})]},r.id))})})]})]})};A.transformValues=a=>({...a,foedselsDato:a.foedselsDato&&a.foedselsDato.length>0?a.foedselsDato.map(s=>s.dato):void 0});A.__docgenInfo={description:`OmsorgOgAdopsjonPanel

Komponenten vises som del av skjermbildet for registrering av papirsøknad ved adopsjon og omsorgsovertakelse.
Komponenten har inputfelter og må derfor rendres som etterkommer av form-komponent.`,methods:[{name:"transformValues",docblock:null,modifiers:["static"],params:[{name:"values",optional:!1,type:{name:"signature",type:"object",raw:`{
  omsorgsovertakelsesdato?: string;
  antallBarn?: string;
  foedselsDato?: { id: number; dato?: string }[];
}`,signature:{properties:[{key:"omsorgsovertakelsesdato",value:{name:"string",required:!1}},{key:"antallBarn",value:{name:"string",required:!1}},{key:"foedselsDato",value:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ id: number; dato?: string }",signature:{properties:[{key:"id",value:{name:"number",required:!0}},{key:"dato",value:{name:"string",required:!1}}]}}],raw:"{ id: number; dato?: string }[]",required:!1}}]},alias:"FormValues"}}],returns:{type:{name:"signature",type:"object",raw:`{
  omsorgsovertakelsesdato?: string;
  antallBarn?: string;
  foedselsDato?: (string | undefined)[];
}`,signature:{properties:[{key:"omsorgsovertakelsesdato",value:{name:"string",required:!1}},{key:"antallBarn",value:{name:"string",required:!1}},{key:"foedselsDato",value:{name:"Array",elements:[{name:"unknown"}],raw:"(string | undefined)[]",required:!1}}]}}}}],displayName:"OmsorgOgAdopsjonPanel",props:{familieHendelseType:{required:!0,tsType:{name:"string"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},isForeldrepengerFagsak:{required:!0,tsType:{name:"boolean"},description:""},fodselsdatoer:{required:!1,tsType:{name:"union",raw:"string | string[]",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:""}}};const me=Y(ee),c=({readOnly:a,familieHendelseType:s,isForeldrepengerFagsak:t,fodselsdato:d})=>e.jsx(Z,{value:me,children:e.jsx(A,{readOnly:a,familieHendelseType:s,isForeldrepengerFagsak:t,fodselsdatoer:d})});c.transformValues=A.transformValues;c.__docgenInfo={description:"",methods:[{name:"transformValues",docblock:null,modifiers:["static"],params:[{name:"values",optional:!1,type:{name:"signature",type:"object",raw:`{
  omsorgsovertakelsesdato?: string;
  antallBarn?: string;
  foedselsDato?: { id: number; dato?: string }[];
}`,signature:{properties:[{key:"omsorgsovertakelsesdato",value:{name:"string",required:!1}},{key:"antallBarn",value:{name:"string",required:!1}},{key:"foedselsDato",value:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ id: number; dato?: string }",signature:{properties:[{key:"id",value:{name:"number",required:!0}},{key:"dato",value:{name:"string",required:!1}}]}}],raw:"{ id: number; dato?: string }[]",required:!1}}]},alias:"FormValues"}}],returns:{type:{name:"signature",type:"object",raw:`{
  omsorgsovertakelsesdato?: string;
  antallBarn?: string;
  foedselsDato?: (string | undefined)[];
}`,signature:{properties:[{key:"omsorgsovertakelsesdato",value:{name:"string",required:!1}},{key:"antallBarn",value:{name:"string",required:!1}},{key:"foedselsDato",value:{name:"Array",elements:[{name:"unknown"}],raw:"(string | undefined)[]",required:!1}}]}}}}],displayName:"OmsorgOgAdopsjonPapirsoknadIndex",props:{readOnly:{required:!0,tsType:{name:"boolean"},description:""},familieHendelseType:{required:!0,tsType:{name:"string"},description:""},isForeldrepengerFagsak:{required:!0,tsType:{name:"boolean"},description:""},fodselsdato:{required:!1,tsType:{name:"union",raw:"string | string[]",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:""}}};const ve={title:"papirsoknad/ui-komponenter/omsorg-og-adopsjon",component:c,args:{isForeldrepengerFagsak:!1,fodselsdato:"2022-05-27",readOnly:!1},parameters:{submitCallback:z("onSubmit")},render:function(s,{parameters:{submitCallback:t}}){const d=se();return e.jsx(re,{formMethods:d,onSubmit:o=>t(c.transformValues(o.omsorg)),children:e.jsxs(ae,{gap:"10",children:[e.jsx(c,{...s}),e.jsx(ne,{size:"small",variant:"primary",children:"Lagreknapp (Kun for test)"})]})})}},v={args:{familieHendelseType:n.FODSEL}},x={args:{familieHendelseType:n.ADOPSJON}};var P,R,B;v.parameters={...v.parameters,docs:{...(P=v.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    familieHendelseType: fht.FODSEL
  }
}`,...(B=(R=v.parameters)==null?void 0:R.docs)==null?void 0:B.source}}};var w,_,I;x.parameters={...x.parameters,docs:{...(w=x.parameters)==null?void 0:w.docs,source:{originalSource:`{
  args: {
    familieHendelseType: fht.ADOPSJON
  }
}`,...(I=(_=x.parameters)==null?void 0:_.docs)==null?void 0:I.source}}};const xe=["ForFodsel","ForAdopsjon"];export{x as ForAdopsjon,v as ForFodsel,xe as __namedExportsOrder,ve as default};
