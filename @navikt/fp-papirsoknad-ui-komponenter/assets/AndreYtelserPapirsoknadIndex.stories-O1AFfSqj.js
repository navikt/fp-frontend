import{a as n,j as m,F as w}from"./jsx-runtime-ESnF-waY.js";import{e as H,f as $,l as z,r as G,F as J,M as X,c as b,d as V,g,R as Q,H as W,h as Z,q as ee,i as re,t as te,P as ne,m as ae,a as j,b as le,O as se,B as oe}from"./nb_NO-61DFl8RV.js";import{K as F,a as P}from"./alleKodeverk-Zf5TjabO.js";import"./withIntl-VrVAB8gN.js";import{r as ie,R as de}from"./index-OjgoNOWw.js";import{r as h,b as L,I as ue,c as me}from"./index.es-tGi7gE_T.js";import"./preview-errors-7FWlPnjy.js";import"./index-PPLHz8o0.js";import"./index-mQqIOHEI.js";const I={LONN_UNDER_UTDANNING:"LØNN_UNDER_UTDANNING",UTENLANDSK_ARBEIDSFORHOLD:"UTENLANDSK_ARBEIDSFORHOLD",FRILANSER:"FRILANSER",MILITÆR_ELLER_SIVILTJENESTE:"MILITÆR_ELLER_SIVILTJENESTE"},ce="_notLastRow_7c46s_1",pe={notLastRow:ce},c="andreYtelser",S="PERIODER",A=(e,t)=>e(t),_=({readOnly:e,name:t})=>{const r=H(),{getValues:a,control:s,trigger:d,formState:{isSubmitted:o}}=$(),{fields:l,remove:N,append:q}=z({control:s,name:`${c}.${t}`});return n(G,{fields:l,bodyText:r.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.NyPeriode"}),readOnly:e,append:q,remove:N,children:(C,y,T)=>{const u=`${c}.${t}.${y}`;return m("div",{children:[n("div",{className:y!==l.length-1?pe.notLastRow:"",children:n(J,{children:m(X,{children:[n(b,{children:n(V,{name:`${u}.periodeFom`,label:y===0?r.formatMessage({id:"Registrering.AndreYtelser.periodeFom"}):"",validate:[h,L,()=>{const p=A(a,`${u}.periodeFom`),f=A(a,`${u}.periodeTom`);return f&&p?ue(f)(p):null}],onChange:()=>o?d():void 0})}),n(b,{children:n(V,{name:`${u}.periodeTom`,label:y===0?r.formatMessage({id:"Registrering.AndreYtelser.periodeTom"}):"",validate:[h,L,()=>{const p=A(a,`${u}.periodeFom`),f=A(a,`${u}.periodeTom`);return f&&p?me(p)(f):null}],onChange:()=>o?d():void 0})}),T&&n(b,{children:T()})]})})}),n(g,{sixteenPx:!0})]},C.id)}})};_.transformValues=(e,t)=>e.map(r=>({ytelseType:t,periodeFom:r.periodeFom,periodeTom:r.periodeTom}));try{_.displayName="RenderAndreYtelserPerioderFieldArray",_.__docgenInfo={description:`RenderAndreYtelserPerioderFieldArray

Viser inputfelter for fra og til dato for perioder for andre ytelser`,displayName:"RenderAndreYtelserPerioderFieldArray",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}}}}}catch{}const B=(e,t)=>t?e.filter(r=>r.kode===I.MILITÆR_ELLER_SIVILTJENESTE):e.filter(r=>r.kode!==I.UTENLANDSK_ARBEIDSFORHOLD&&r.kode!==I.FRILANSER&&r.kode!==I.LONN_UNDER_UTDANNING),i=({readOnly:e,kunMiliterEllerSiviltjeneste:t=!1,alleKodeverk:r})=>{const{watch:a}=$(),s=a(c),d=r[F.ARBEID_TYPE],o=ie.useMemo(()=>B(d,t),[t]);return m(Q,{children:[n(W,{size:"small",children:n(Z,{id:"Registrering.AndreYtelser.Title"})}),n(g,{sixteenPx:!0}),o.map(l=>{const N=`${l.kode}_${S}`;return m(de.Fragment,{children:[n(ee,{name:`${c}.${l.kode}`,label:l.navn,readOnly:e},l.kode),s&&s[l.kode]&&m(w,{children:[n(g,{eightPx:!0}),n(re,{children:n(_,{name:N,readOnly:e})})]})]},l.kode)})]})};i.buildInitialValues=e=>{const t={};return B(e).forEach(r=>{const a=`${r.kode}_${S}`;t[a]=[{}]}),{[c]:t}};i.transformValues=(e,t)=>{const r=e[c],a=[];return t.filter(s=>r&&r[s.kode]).forEach(s=>{const d=`${s.kode}_${S}`,o=r?r[d]:void 0;o&&_.transformValues(o,s.kode).forEach(l=>a.push(l))}),a};try{i.displayName="AndreYtelserPanel",i.__docgenInfo={description:`AndreYtelserPanel

Komponenten vises som del av skjermbildet for registrering av papirsøknad dersom søknad gjelder foreldrepenger.`,displayName:"AndreYtelserPanel",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},kunMiliterEllerSiviltjeneste:{defaultValue:{value:"false"},description:"",name:"kunMiliterEllerSiviltjeneste",required:!1,type:{name:"boolean"}}}}}catch{}const fe=te(ae),v=({readOnly:e,alleKodeverk:t,kunMiliterEllerSiviltjeneste:r})=>n(ne,{value:fe,children:n(i,{readOnly:e,alleKodeverk:t,kunMiliterEllerSiviltjeneste:r})});v.buildInitialValues=e=>i.buildInitialValues(e);v.transformValues=(e,t)=>i.transformValues(e,t);const R=v;try{v.displayName="AndreYtelserPapirsoknadIndex",v.__docgenInfo={description:"",displayName:"AndreYtelserPapirsoknadIndex",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},kunMiliterEllerSiviltjeneste:{defaultValue:null,description:"",name:"kunMiliterEllerSiviltjeneste",required:!1,type:{name:"boolean"}}}}}catch{}const Ne={title:"papirsoknad/ui-komponenter/andre-ytelser",component:R},U=({kunMiliterEllerSiviltjeneste:e,submitCallback:t})=>{const r=le({defaultValues:R.buildInitialValues(P[F.ARBEID_TYPE])});return m(se,{formMethods:r,onSubmit:a=>t(R.transformValues(a,P[F.ARBEID_TYPE])),children:[n(R,{readOnly:!1,kunMiliterEllerSiviltjeneste:e,alleKodeverk:P}),n(g,{fourtyPx:!0}),n(oe,{size:"small",variant:"primary",children:"Lagreknapp (Kun for test)"})]})},k=U.bind({});k.args={kunMiliterEllerSiviltjeneste:!1,submitCallback:j("button-click")};const E=U.bind({});E.args={kunMiliterEllerSiviltjeneste:!0,submitCallback:j("button-click")};var Y,M,K;k.parameters={...k.parameters,docs:{...(Y=k.parameters)==null?void 0:Y.docs,source:{originalSource:`({
  kunMiliterEllerSiviltjeneste,
  submitCallback
}) => {
  const formMethods = useForm({
    defaultValues: AndreYtelserPapirsoknadIndex.buildInitialValues(alleKodeverk[KodeverkType.ARBEID_TYPE])
  });
  return <Form formMethods={formMethods} onSubmit={(values: any) => submitCallback(AndreYtelserPapirsoknadIndex.transformValues(values, alleKodeverk[KodeverkType.ARBEID_TYPE]))}>
      <AndreYtelserPapirsoknadIndex readOnly={false} kunMiliterEllerSiviltjeneste={kunMiliterEllerSiviltjeneste} alleKodeverk={(alleKodeverk as any)} />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(K=(M=k.parameters)==null?void 0:M.docs)==null?void 0:K.source}}};var D,x,O;E.parameters={...E.parameters,docs:{...(D=E.parameters)==null?void 0:D.docs,source:{originalSource:`({
  kunMiliterEllerSiviltjeneste,
  submitCallback
}) => {
  const formMethods = useForm({
    defaultValues: AndreYtelserPapirsoknadIndex.buildInitialValues(alleKodeverk[KodeverkType.ARBEID_TYPE])
  });
  return <Form formMethods={formMethods} onSubmit={(values: any) => submitCallback(AndreYtelserPapirsoknadIndex.transformValues(values, alleKodeverk[KodeverkType.ARBEID_TYPE]))}>
      <AndreYtelserPapirsoknadIndex readOnly={false} kunMiliterEllerSiviltjeneste={kunMiliterEllerSiviltjeneste} alleKodeverk={(alleKodeverk as any)} />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(O=(x=E.parameters)==null?void 0:x.docs)==null?void 0:O.source}}};const be=["Default","KunMiliterEllerSiviltjeneste"];export{k as Default,E as KunMiliterEllerSiviltjeneste,be as __namedExportsOrder,Ne as default};
