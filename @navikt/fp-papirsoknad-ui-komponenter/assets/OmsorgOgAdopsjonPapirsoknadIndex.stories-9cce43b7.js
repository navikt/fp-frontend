import{j as e}from"./jsx-runtime-6b79a019.js";import{a as T}from"./chunk-OPEUWD42-a3b45fd8.js";import{d as K,e as L,h as z,Q as w,f as P,J as u,E as G,o as x,A as g,w as Q,j as y,T as X,t as U,P as W,m as Y,a as Z,F as ee,B as se}from"./nb_NO-b0b70c9a.js";import{E as o}from"./index.es-9f713104.js";import{r as re,R as ae}from"./index-ccf6a75d.js";import{r as F,b as c,R as _,_ as v,y as oe,N as ne,K as te}from"./index.es-e11054f4.js";import{H as le}from"./Heading-51f79073.js";import"./index-8d7a8128.js";const ie="_barnInput_1jjt5_1",de="_col_1jjt5_5",A={barnInput:ie,col:de},me=10,N=oe(1),R=ne(10),i="omsorg",S=(s,r)=>n=>{if(s===0&&r&&n)return te(n,Array.isArray(r)?r[0]:r)},O=({readOnly:s=!0,familieHendelseType:r,isForeldrepengerFagsak:n,fodselsdatoer:d})=>{const{formatMessage:t}=K(),{control:H,watch:$}=L(),{fields:m,remove:q,append:C}=z({control:H,name:`${i}.foedselsDato`}),h=$(`${i}.antallBarn`),p=h?parseInt(h,10):0;return re.useEffect(()=>{if(m.length>Math.max(p,0))for(let a=m.length;a>p;a-=1)q(a-1);else if(m.length<Math.min(p,me))for(let a=m.length;a<p;a+=1)C({id:a,dato:void 0})},[p]),e.jsxs(w,{children:[e.jsx(le,{size:"small",children:e.jsx(P,{id:r===o.ADOPSJON?"Registrering.Adopsjon.Title":"Registrering.Adopsjon.OmsorgTitle"})}),e.jsx(u,{sixteenPx:!0}),e.jsxs(G,{children:[n&&r===o.ADOPSJON&&e.jsxs(e.Fragment,{children:[e.jsx(x,{children:e.jsx(g,{className:A.col,children:e.jsx(Q,{name:`${i}.erEktefellesBarn`,label:e.jsx(P,{id:"Registrering.Adopsjon.GjelderEktefellesBarn"}),validate:[F],isReadOnly:s,isTrueOrFalseSelection:!0,isHorizontal:!0,radios:[{label:t({id:"Registrering.Adopsjon.Ja"}),value:"true"},{label:t({id:"Registrering.Adopsjon.Nei"}),value:"false"}]})})}),e.jsx(u,{sixteenPx:!0})]}),e.jsx(x,{children:e.jsx(g,{children:e.jsx(y,{name:`${i}.omsorgsovertakelsesdato`,label:t({id:r===o.ADOPSJON?"Registrering.Adopsjon.DatoForOvertakelsenStebarn":"Registrering.Adopsjon.DatoForOvertakelsen"}),isReadOnly:s,validate:r===o.ADOPSJON?[F,c]:[c]})})}),e.jsx(u,{sixteenPx:!0}),e.jsxs(x,{children:[r===o.ADOPSJON&&e.jsx(g,{children:e.jsx(y,{name:`${i}.ankomstdato`,label:t({id:"Registrering.Adopsjon.Ankomstdato"}),isReadOnly:s,validate:[c]})}),e.jsx(g,{className:A.col,children:e.jsx(X,{name:`${i}.antallBarn`,label:t({id:"Registrering.Adopsjon.AntallBarn"}),readOnly:s,parse:a=>{const l=parseInt(a.toString(),10);return Number.isNaN(l)?a:l},className:A.barnInput,validate:r===o.ADOPSJON?[F,_,N,R]:[_,a=>a?N(a):void 0,a=>a?R(a):void 0]})})]}),e.jsx(x,{children:e.jsx(g,{className:A.col,children:m.map((a,l)=>e.jsxs(ae.Fragment,{children:[e.jsx(u,{sixteenPx:!0}),e.jsx(y,{name:`${i}.foedselsDato.${l}.dato`,isReadOnly:s,validate:r===o.ADOPSJON?[F,c,v,S(l,d)]:[c,v,S(l,d)],label:t({id:"Registrering.Adopsjon.FodselsdatoBarnN"},{n:l+1})})]},a.id))})})]})]})};O.transformValues=s=>({...s,foedselsDato:s.foedselsDato&&s.foedselsDato.length>0?s.foedselsDato.map(r=>r.dato):void 0});try{O.displayName="OmsorgOgAdopsjonPanel",O.__docgenInfo={description:`OmsorgOgAdopsjonPanel

Komponenten vises som del av skjermbildet for registrering av papirsøknad ved adopsjon og omsorgsovertakelse.
Komponenten har inputfelter og må derfor rendres som etterkommer av form-komponent.`,displayName:"OmsorgOgAdopsjonPanel",props:{familieHendelseType:{defaultValue:null,description:"",name:"familieHendelseType",required:!0,type:{name:"string"}},readOnly:{defaultValue:{value:"true"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},isForeldrepengerFagsak:{defaultValue:null,description:"",name:"isForeldrepengerFagsak",required:!0,type:{name:"boolean"}},fodselsdatoer:{defaultValue:null,description:"",name:"fodselsdatoer",required:!1,type:{name:"string | string[]"}}}}}catch{}const pe=U(Y),k=({readOnly:s,familieHendelseType:r,isForeldrepengerFagsak:n,fodselsdato:d})=>e.jsx(W,{value:pe,children:e.jsx(O,{readOnly:s,familieHendelseType:r,isForeldrepengerFagsak:n,fodselsdatoer:d})});k.transformValues=O.transformValues;const b=k;try{k.displayName="OmsorgOgAdopsjonPapirsoknadIndex",k.__docgenInfo={description:"",displayName:"OmsorgOgAdopsjonPapirsoknadIndex",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},familieHendelseType:{defaultValue:null,description:"",name:"familieHendelseType",required:!0,type:{name:"string"}},isForeldrepengerFagsak:{defaultValue:null,description:"",name:"isForeldrepengerFagsak",required:!0,type:{name:"boolean"}},fodselsdato:{defaultValue:null,description:"",name:"fodselsdato",required:!1,type:{name:"string | string[]"}}}}}catch{}const Ae={title:"papirsoknad/ui-komponenter/omsorg-og-adopsjon",component:b},J=({isForeldrepengerFagsak:s,familieHendelseType:r,submitCallback:n})=>{const d=Z();return e.jsxs(ee,{formMethods:d,onSubmit:t=>n(b.transformValues(t.omsorg)),children:[e.jsx(b,{readOnly:!1,familieHendelseType:r,isForeldrepengerFagsak:s,fodselsdato:"2022-05-27"}),e.jsx(u,{fourtyPx:!0}),e.jsx(se,{size:"small",variant:"primary",children:"Lagreknapp (Kun for test)"})]})},f=J.bind({});f.args={isForeldrepengerFagsak:!1,familieHendelseType:o.FODSEL,submitCallback:T("button-click")};const j=J.bind({});j.args={isForeldrepengerFagsak:!1,familieHendelseType:o.ADOPSJON,submitCallback:T("button-click")};var I,V,D;f.parameters={...f.parameters,docs:{...(I=f.parameters)==null?void 0:I.docs,source:{originalSource:`({
  isForeldrepengerFagsak,
  familieHendelseType,
  submitCallback
}) => {
  const formMethods = useForm();
  return <Form formMethods={formMethods} onSubmit={values => submitCallback(OmsorgOgAdopsjonPapirsoknadIndex.transformValues(values.omsorg))}>
      <OmsorgOgAdopsjonPapirsoknadIndex readOnly={false} familieHendelseType={familieHendelseType} isForeldrepengerFagsak={isForeldrepengerFagsak} fodselsdato="2022-05-27" />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(D=(V=f.parameters)==null?void 0:V.docs)==null?void 0:D.source}}};var B,E,M;j.parameters={...j.parameters,docs:{...(B=j.parameters)==null?void 0:B.docs,source:{originalSource:`({
  isForeldrepengerFagsak,
  familieHendelseType,
  submitCallback
}) => {
  const formMethods = useForm();
  return <Form formMethods={formMethods} onSubmit={values => submitCallback(OmsorgOgAdopsjonPapirsoknadIndex.transformValues(values.omsorg))}>
      <OmsorgOgAdopsjonPapirsoknadIndex readOnly={false} familieHendelseType={familieHendelseType} isForeldrepengerFagsak={isForeldrepengerFagsak} fodselsdato="2022-05-27" />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(M=(E=j.parameters)==null?void 0:E.docs)==null?void 0:M.source}}};const ke=["ForFodsel","ForAdopsjon"];export{j as ForAdopsjon,f as ForFodsel,ke as __namedExportsOrder,Ae as default};
//# sourceMappingURL=OmsorgOgAdopsjonPapirsoknadIndex.stories-9cce43b7.js.map
