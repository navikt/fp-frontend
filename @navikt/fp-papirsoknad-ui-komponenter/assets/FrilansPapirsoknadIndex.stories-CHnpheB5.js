import{j as e}from"./jsx-runtime-Cw0GR0a5.js";import{d as z,e as L,i as C,q as B,W as X,c as Y,L as c,P as _,y as n,f as U,A as E,F as v,M as s,O as q,g as Z,S as ee,H as re,D as ae,t as se,h as ie,m as te,a as ne,b as oe,Y as le,B as de}from"./nb_NO-C2qrGEVE.js";import{r as f,b as $,I as K,c as W,h as A,a as me}from"./index.es-Dt6c1HAA.js";import{r as pe}from"./index-CTjT7uj6.js";import"./v4-CQkTLCs1.js";import"./dayjs.min-DQZRloWl.js";import"./index-vZN_Bsf0.js";const ue="_notLastRow_7c46s_1",ce={notLastRow:ue},T="frilans",O=(r,a)=>r(a),G=({readOnly:r})=>{const a=z(),{control:i,getValues:t,formState:{isSubmitted:p},trigger:x}=L(),{fields:h,remove:V,append:N}=C({control:i,name:`${T}.perioder`});return e.jsx(B,{fields:h,bodyText:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.NyPeriode"}),readOnly:r,remove:V,append:N,children:(M,u,I)=>{const o=`${T}.perioder.${u}`;return e.jsxs("div",{className:u!==h.length-1?ce.notLastRow:"",children:[e.jsx(X,{children:e.jsxs(Y,{children:[e.jsx(c,{children:e.jsx(_,{name:`${o}.periodeFom`,label:u===0?a.formatMessage({id:"Registrering.Frilans.periodeFom"}):"",validate:[f,$,()=>{const l=O(t,`${o}.periodeFom`),d=O(t,`${o}.periodeTom`);return d&&l?K(d)(l):null}],onChange:()=>p?x():void 0})}),e.jsx(c,{children:e.jsx(_,{name:`${o}.periodeTom`,label:u===0?a.formatMessage({id:"Registrering.Frilans.periodeTom"}):"",validate:[f,$,()=>{const l=O(t,`${o}.periodeFom`),d=O(t,`${o}.periodeTom`);return d&&l?W(l)(d):null}],onChange:()=>p?x():void 0})}),I&&e.jsx(c,{children:I()})]})}),e.jsx(n,{sixteenPx:!0})]},M.id)}})};G.__docgenInfo={description:`FrilansPerioderFieldArray

Viser inputfelter for fra og til dato for frilansperioder`,methods:[],displayName:"FrilansPerioderFieldArray",props:{readOnly:{required:!0,tsType:{name:"boolean"},description:""}}};const Fe="_notLastRow_7c46s_1",ge={notLastRow:Fe},F="frilans",R=(r,a)=>r(a),xe=(r=[])=>r.map(a=>a.periodeFom).filter(a=>a&&a!=="").sort((a,i)=>A(a,E).diff(A(i,E))),J={fomDato:"",tomDato:"",oppdragsgiver:""},fe=me(50),je=(r,a,i,t)=>()=>{const p=R(r,`${a}.fomDato`);return i.length>0&&i[0]&&p&&!A(i[0]).isSameOrBefore(A(p))?t.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.BeforeFomValidation"}):null},Q=({readOnly:r})=>{const a=z(),{control:i,getValues:t,watch:p,trigger:x,formState:{isSubmitted:h}}=L(),{fields:V,remove:N,append:M}=C({control:i,name:`${F}.oppdragPerioder`}),u=p(`${F}.perioder`),I=pe.useMemo(()=>xe(u),[u]);return e.jsx(B,{bodyText:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.NyPeriode"}),fields:V,emptyPeriodTemplate:J,readOnly:r,append:M,remove:N,children:(o,l,d)=>{const m=`${F}.oppdragPerioder.${l}`;return e.jsxs("div",{className:l!==V.length-1?ge.notLastRow:"",children:[e.jsx(X,{children:e.jsxs(Y,{children:[e.jsx(c,{children:e.jsx(_,{name:`${m}.fomDato`,label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.periodeFom"}),validate:[$,je(t,m,I,a),()=>{const b=R(t,`${m}.fomDato`),P=R(t,`${m}.tomDato`);return P&&b?K(P)(b):null}],onChange:()=>h?x():void 0})}),e.jsx(c,{children:e.jsx(_,{name:`${m}.tomDato`,label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.periodeTom"}),validate:[$,()=>{const b=R(t,`${m}.fomDato`),P=R(t,`${m}.tomDato`);return P&&b?W(b)(P):null}],onChange:()=>h?x():void 0})}),e.jsx(c,{children:e.jsx(U,{name:`${m}.oppdragsgiver`,validate:[fe],label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.Oppdragsgiver"})})}),d&&e.jsx(c,{children:d()})]})}),e.jsx(n,{sixteenPx:!0})]},o.id)}})};Q.__docgenInfo={description:`FrilansOppdragForFamilieFieldArray

Viser inputfelter for fra og til dato for frilansperioder.`,methods:[],displayName:"FrilansOppdragForFamilieFieldArray",props:{readOnly:{required:!0,tsType:{name:"boolean"},description:""}}};const k=({readOnly:r})=>{const{watch:a}=L(),i=a(`${F}.harHattOppdragForFamilie`);return e.jsxs(e.Fragment,{children:[e.jsx(v,{name:`${F}.harHattOppdragForFamilie`,label:e.jsx(s,{id:"Registrering.FrilansOppdrag.HarHattOppdragForFamilie"}),validate:[f],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.FrilansOppdrag.Yes"}),value:"true"},{label:e.jsx(s,{id:"Registrering.FrilansOppdrag.No"}),value:"false"}]}),i&&e.jsxs(e.Fragment,{children:[e.jsx(n,{eightPx:!0}),e.jsxs(q,{children:[e.jsx(Z,{size:"small",children:e.jsx(s,{id:"Registrering.FrilansOppdrag.OppgiPeriode"})}),e.jsx(n,{fourPx:!0}),e.jsx(Q,{readOnly:r})]})]})]})};k.buildInitialValues=()=>({oppdragPerioder:[J],perioder:void 0});k.__docgenInfo={description:"",methods:[{name:"buildInitialValues",docblock:null,modifiers:["static"],params:[],returns:{type:{name:"intersection",raw:`{
  harHattOppdragForFamilie?: boolean;
} & FieldArrayFormValues`,elements:[{name:"signature",type:"object",raw:`{
  harHattOppdragForFamilie?: boolean;
}`,signature:{properties:[{key:"harHattOppdragForFamilie",value:{name:"boolean",required:!1}}]}},{name:"FormValues"}]}}}],displayName:"FrilansOppdragForFamiliePanel"};const S="frilans",j=({readOnly:r})=>e.jsxs(ee,{children:[e.jsx(re,{size:"small",children:e.jsx(s,{id:"Registrering.Frilans.Title"})}),e.jsx(n,{sixteenPx:!0}),e.jsx(v,{name:`${S}.harSokerPeriodeMedFrilans`,label:e.jsx(s,{id:"Registrering.Frilans.HarFrilansvirksomhet"}),validate:[f],isReadOnly:r,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.Frilans.No"}),value:"false"},{label:e.jsx(s,{id:"Registrering.Frilans.Yes"}),value:"true",element:e.jsxs(e.Fragment,{children:[e.jsx(n,{eightPx:!0}),e.jsxs(q,{children:[e.jsx(ae,{children:e.jsx(s,{id:"Registrering.Frilans.OppgiPeriode"})}),e.jsx(n,{eightPx:!0}),e.jsx(G,{readOnly:r}),e.jsx(n,{fourPx:!0}),e.jsx(v,{name:`${S}.erNyoppstartetFrilanser`,label:e.jsx(s,{id:"Registrering.Frilans.ErNyoppstartedFrilanser"}),validate:[f],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.Frilans.Yes"}),value:"true"},{label:e.jsx(s,{id:"Registrering.Frilans.No"}),value:"false"}]}),e.jsx(n,{sixteenPx:!0}),e.jsx(v,{name:`${S}.harInntektFraFosterhjem`,label:e.jsx(s,{id:"Registrering.Frilans.HarInntektFraForsterhjem"}),validate:[f],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.Frilans.Yes"}),value:"true"},{label:e.jsx(s,{id:"Registrering.Frilans.No"}),value:"false"}]}),e.jsx(n,{sixteenPx:!0}),e.jsx(k,{readOnly:r})]})]})}]})]});j.buildInitialValues=()=>({...k.buildInitialValues(),perioder:[{periodeFom:"",periodeTom:""}]});j.transformValues=r=>r.harSokerPeriodeMedFrilans?r:{harSokerPeriodeMedFrilans:r.harSokerPeriodeMedFrilans};j.__docgenInfo={description:"",methods:[{name:"buildInitialValues",docblock:null,modifiers:["static"],params:[],returns:null},{name:"transformValues",docblock:null,modifiers:["static"],params:[{name:"formValues",optional:!1,type:null}],returns:null}],displayName:"FrilansPanel"};const he=se(te),g=({readOnly:r})=>e.jsx(ie,{value:he,children:e.jsx(j,{readOnly:r})});g.buildInitialValues=()=>j.buildInitialValues();g.transformValues=r=>j.transformValues(r);g.__docgenInfo={description:"",methods:[{name:"buildInitialValues",docblock:null,modifiers:["static"],params:[],returns:null},{name:"transformValues",docblock:null,modifiers:["static"],params:[{name:"formValues",optional:!1,type:null}],returns:null}],displayName:"FrilansPapirsoknadIndex"};const _e={title:"papirsoknad/ui-komponenter/frilans",component:g},be=({submitCallback:r})=>{const a=oe({defaultValues:{[F]:g.buildInitialValues()}});return e.jsxs(le,{formMethods:a,onSubmit:i=>r({[F]:g.transformValues(i.frilans)}),children:[e.jsx(g,{readOnly:!1}),e.jsx(n,{fourtyPx:!0}),e.jsx(de,{size:"small",variant:"primary",children:"Lagreknapp (Kun for test)"})]})},y=be.bind({});y.args={submitCallback:ne("button-click")};var H,D,w;y.parameters={...y.parameters,docs:{...(H=y.parameters)==null?void 0:H.docs,source:{originalSource:`({
  submitCallback
}) => {
  const formMethods = useForm({
    defaultValues: {
      [FRILANS_NAME_PREFIX]: FrilansPapirsoknadIndex.buildInitialValues()
    }
  });
  return <Form formMethods={formMethods} onSubmit={(values: {
    [FRILANS_NAME_PREFIX]: FormValues;
  }) => submitCallback({
    [FRILANS_NAME_PREFIX]: FrilansPapirsoknadIndex.transformValues(values.frilans)
  })}>
      <FrilansPapirsoknadIndex readOnly={false} />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(w=(D=y.parameters)==null?void 0:D.docs)==null?void 0:w.source}}};const $e=["Default"];export{y as Default,$e as __namedExportsOrder,_e as default};
