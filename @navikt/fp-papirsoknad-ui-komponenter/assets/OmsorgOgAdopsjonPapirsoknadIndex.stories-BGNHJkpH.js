import{j as e}from"./jsx-runtime-Cw0GR0a5.js";import{d as K,e as z,i as $,S as G,H as W,M as v,y as u,W as X,c as O,L as c,k as q,O as b,g as w,t as Q,P as U,m as Y,a as E,b as Z,$ as ee,B as se}from"./nb_NO-5hZsV4-L.js";import{f as o}from"./familieHendelseType-D5XfoL_I.js";import{r as ae,R as re}from"./index-CTjT7uj6.js";import{r as k,b as g,R as P,_ as y,y as oe,N as ne,K as te}from"./index.es-CbGsWAf8.js";import"./v4-CQkTLCs1.js";import"./dayjs.min-DQZRloWl.js";import"./index-vZN_Bsf0.js";const le="_barnInput_1jjt5_1",ie="_col_1jjt5_5",A={barnInput:le,col:ie},de=10,N=oe(1),S=ne(10),i="omsorg",R=(r,s)=>n=>{if(r===0&&s&&n)return te(n,Array.isArray(s)?s[0]:s)},F=({readOnly:r=!0,familieHendelseType:s,isForeldrepengerFagsak:n,fodselsdatoer:d})=>{const{formatMessage:t}=K(),{control:T,watch:H}=z(),{fields:m,remove:L,append:C}=$({control:T,name:`${i}.foedselsDato`}),h=H(`${i}.antallBarn`),p=h?parseInt(h,10):0;return ae.useEffect(()=>{if(m.length>Math.max(p,0))for(let a=m.length;a>p;a-=1)L(a-1);else if(m.length<Math.min(p,de))for(let a=m.length;a<p;a+=1)C({id:a,dato:void 0})},[p]),e.jsxs(G,{children:[e.jsx(W,{size:"small",children:e.jsx(v,{id:s===o.ADOPSJON?"Registrering.Adopsjon.Title":"Registrering.Adopsjon.OmsorgTitle"})}),e.jsx(u,{sixteenPx:!0}),e.jsxs(X,{children:[n&&s===o.ADOPSJON&&e.jsxs(e.Fragment,{children:[e.jsx(O,{children:e.jsx(c,{className:A.col,children:e.jsx(q,{name:`${i}.erEktefellesBarn`,label:e.jsx(v,{id:"Registrering.Adopsjon.GjelderEktefellesBarn"}),validate:[k],isReadOnly:r,isTrueOrFalseSelection:!0,isHorizontal:!0,radios:[{label:t({id:"Registrering.Adopsjon.Ja"}),value:"true"},{label:t({id:"Registrering.Adopsjon.Nei"}),value:"false"}]})})}),e.jsx(u,{sixteenPx:!0})]}),e.jsx(O,{children:e.jsx(c,{children:e.jsx(b,{name:`${i}.omsorgsovertakelsesdato`,label:t({id:s===o.ADOPSJON?"Registrering.Adopsjon.DatoForOvertakelsenStebarn":"Registrering.Adopsjon.DatoForOvertakelsen"}),isReadOnly:r,validate:s===o.ADOPSJON?[k,g]:[g]})})}),e.jsx(u,{sixteenPx:!0}),e.jsxs(O,{children:[s===o.ADOPSJON&&e.jsx(c,{children:e.jsx(b,{name:`${i}.ankomstdato`,label:t({id:"Registrering.Adopsjon.Ankomstdato"}),isReadOnly:r,validate:[g]})}),e.jsx(c,{className:A.col,children:e.jsx(w,{name:`${i}.antallBarn`,label:t({id:"Registrering.Adopsjon.AntallBarn"}),readOnly:r,parse:a=>{const l=parseInt(a.toString(),10);return Number.isNaN(l)?a:l},className:A.barnInput,validate:s===o.ADOPSJON?[k,P,N,S]:[P,a=>a?N(parseInt(a,10)):void 0,a=>a?S(parseInt(a,10)):void 0]})})]}),e.jsx(O,{children:e.jsx(c,{className:A.col,children:m.map((a,l)=>e.jsxs(re.Fragment,{children:[e.jsx(u,{sixteenPx:!0}),e.jsx(b,{name:`${i}.foedselsDato.${l}.dato`,isReadOnly:r,validate:s===o.ADOPSJON?[k,g,y,R(l,d)]:[g,y,R(l,d)],label:t({id:"Registrering.Adopsjon.FodselsdatoBarnN"},{n:l+1})})]},a.id))})})]})]})};F.transformValues=r=>({...r,foedselsDato:r.foedselsDato&&r.foedselsDato.length>0?r.foedselsDato.map(s=>s.dato):void 0});F.__docgenInfo={description:`OmsorgOgAdopsjonPanel

Komponenten vises som del av skjermbildet for registrering av papirsøknad ved adopsjon og omsorgsovertakelse.
Komponenten har inputfelter og må derfor rendres som etterkommer av form-komponent.`,methods:[{name:"transformValues",docblock:null,modifiers:["static"],params:[{name:"values",optional:!1,type:null}],returns:null}],displayName:"OmsorgOgAdopsjonPanel",props:{readOnly:{defaultValue:{value:"true",computed:!1},required:!1}}};const me=Q(Y),x=({readOnly:r,familieHendelseType:s,isForeldrepengerFagsak:n,fodselsdato:d})=>e.jsx(U,{value:me,children:e.jsx(F,{readOnly:r,familieHendelseType:s,isForeldrepengerFagsak:n,fodselsdatoer:d})});x.transformValues=F.transformValues;x.__docgenInfo={description:"",methods:[{name:"transformValues",docblock:null,modifiers:["static"],params:[{name:"values",optional:!1,type:null}],returns:null}],displayName:"OmsorgOgAdopsjonPapirsoknadIndex"};const ke={title:"papirsoknad/ui-komponenter/omsorg-og-adopsjon",component:x},J=({isForeldrepengerFagsak:r,familieHendelseType:s,submitCallback:n})=>{const d=Z();return e.jsxs(ee,{formMethods:d,onSubmit:t=>n(x.transformValues(t.omsorg)),children:[e.jsx(x,{readOnly:!1,familieHendelseType:s,isForeldrepengerFagsak:r,fodselsdato:"2022-05-27"}),e.jsx(u,{fourtyPx:!0}),e.jsx(se,{size:"small",variant:"primary",children:"Lagreknapp (Kun for test)"})]})},f=J.bind({});f.args={isForeldrepengerFagsak:!1,familieHendelseType:o.FODSEL,submitCallback:E("button-click")};const j=J.bind({});j.args={isForeldrepengerFagsak:!1,familieHendelseType:o.ADOPSJON,submitCallback:E("button-click")};var I,_,D;f.parameters={...f.parameters,docs:{...(I=f.parameters)==null?void 0:I.docs,source:{originalSource:`({
  isForeldrepengerFagsak,
  familieHendelseType,
  submitCallback
}) => {
  const formMethods = useForm();
  return <Form formMethods={formMethods} onSubmit={values => submitCallback(OmsorgOgAdopsjonPapirsoknadIndex.transformValues(values.omsorg))}>
      <OmsorgOgAdopsjonPapirsoknadIndex readOnly={false} familieHendelseType={familieHendelseType} isForeldrepengerFagsak={isForeldrepengerFagsak} fodselsdato="2022-05-27" />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(D=(_=f.parameters)==null?void 0:_.docs)==null?void 0:D.source}}};var M,B,V;j.parameters={...j.parameters,docs:{...(M=j.parameters)==null?void 0:M.docs,source:{originalSource:`({
  isForeldrepengerFagsak,
  familieHendelseType,
  submitCallback
}) => {
  const formMethods = useForm();
  return <Form formMethods={formMethods} onSubmit={values => submitCallback(OmsorgOgAdopsjonPapirsoknadIndex.transformValues(values.omsorg))}>
      <OmsorgOgAdopsjonPapirsoknadIndex readOnly={false} familieHendelseType={familieHendelseType} isForeldrepengerFagsak={isForeldrepengerFagsak} fodselsdato="2022-05-27" />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(V=(B=j.parameters)==null?void 0:B.docs)==null?void 0:V.source}}};const Ae=["ForFodsel","ForAdopsjon"];export{j as ForAdopsjon,f as ForFodsel,Ae as __namedExportsOrder,ke as default};
