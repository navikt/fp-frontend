import{j as e}from"./jsx-runtime-d079401a.js";import{a as D}from"./chunk-AY7I2SME-c7b6cf8a.js";import{b as R,e as A,g as k,h as C,J as d,E as S,o as V,A as v,O as J,j as f,T as O,B as w,d as T,t as q,P as K,Q,i as X,w as b,Y as y,m as Y,u as U,F as W}from"./nb_NO-bba0f3ef.js";import{r as z}from"./index-f1f2c4b1.js";import{r as o,N as Z,E as ee,A as re}from"./index.es-c52020bc.js";import{f as u}from"./index.es-fe5c891b.js";import{H as te}from"./Heading-35f9e313.js";import"./index-c74c9f7f.js";const ie="_notLastRow_uwn16_1",se={notLastRow:ie},le=Z(100),ae="tilretteleggingArbeidsgiver",oe="tilretteleggingSelvstendigNaringsdrivende",ne="tilretteleggingFrilans",B={tilretteleggingType:"",dato:"",stillingsprosent:""},x=({readOnly:r,name:s})=>{const l=R(),{control:c}=A(),{fields:n,remove:m,append:g}=k({control:c,name:s});return z.useEffect(()=>{n.length===0&&g(B)},[]),e.jsx(C,{fields:n,emptyPeriodTemplate:B,bodyText:l.formatMessage({id:"BehovForTilrettteleggingFieldArray.LeggTilTilretteleggingsbehov"}),readOnly:r,append:g,remove:m,children:(F,t,h)=>e.jsxs("div",{className:t!==n.length-1?se.notLastRow:"",children:[e.jsx(d,{sixteenPx:!0}),e.jsx(S,{children:e.jsxs(V,{children:[e.jsx(v,{children:e.jsx(J,{readOnly:r,name:`${s}.${t}.tilretteleggingType`,label:t===0?l.formatMessage({id:"BehovForTilrettteleggingFieldArray.BehovForTilrettelegging"}):"",validate:[o],selectValues:[e.jsx("option",{value:u.HEL_TILRETTELEGGING,children:l.formatMessage({id:"BehovForTilrettteleggingFieldArray.KanGjennomfores"})},u.HEL_TILRETTELEGGING),e.jsx("option",{value:u.DELVIS_TILRETTELEGGING,children:l.formatMessage({id:"BehovForTilrettteleggingFieldArray.RedusertArbeid"})},u.DELVIS_TILRETTELEGGING),e.jsx("option",{value:u.INGEN_TILRETTELEGGING,children:l.formatMessage({id:"BehovForTilrettteleggingFieldArray.KanIkkeGjennomfores"})},u.INGEN_TILRETTELEGGING)]})}),e.jsx(v,{children:e.jsx(f,{isReadOnly:r,name:`${s}.${t}.dato`,label:t===0?l.formatMessage({id:"BehovForTilrettteleggingFieldArray.FraDato"}):"",validate:[o]})}),e.jsx(v,{children:e.jsx(O,{readOnly:r,name:`${s}.${t}.stillingsprosent`,label:t===0?l.formatMessage({id:"BehovForTilrettteleggingFieldArray.Stillingsprosent"}):"",validate:[o,le],maxLength:99})}),h&&e.jsx(v,{children:h()})]})})]},F.id)})};try{x.displayName="BehovForTilretteleggingFieldArray",x.__docgenInfo={description:`BehovForTilrettteleggingFieldArray

Viser inputfelter for tilrettelegging av arbeidsforhold for selvstendig nÃ¦ringsdrivende eller frilans.`,displayName:"BehovForTilretteleggingFieldArray",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}}}}}catch{}const P="tilretteleggingArbeidsforhold",I="tilretteleggingForArbeidsgiver",ge={organisasjonsnummer:"",behovsdato:""},E=({readOnly:r})=>{const s=R(),{control:l}=A(),{fields:c,append:n}=k({control:l,name:`${P}.${I}`}),m=()=>{n(ge)},g=`${P}.${I}`;return e.jsx(e.Fragment,{children:c.map((F,t)=>e.jsxs("div",{children:[e.jsx(S,{children:e.jsxs(V,{children:[e.jsx(v,{children:e.jsx(O,{readOnly:r,name:`${g}.${t}.organisasjonsnummer`,label:s.formatMessage({id:"TilretteleggingForArbeidsgiverFieldArray.OrgNr"}),validate:[o,ee,re],maxLength:99})}),e.jsx(v,{children:e.jsx(f,{name:`${g}.${t}.behovsdato`,label:s.formatMessage({id:"TilretteleggingForArbeidsgiverFieldArray.TilretteleggingFra"}),validate:[o],isReadOnly:r})})]})}),e.jsx(d,{sixteenPx:!0}),e.jsx(x,{name:`${g}.${t}.${ae}`,readOnly:r}),c.length>t+1&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{}),e.jsx(d,{sixteenPx:!0})]}),c.length===t+1&&e.jsx(w,{size:"small",variant:"secondary",onClick:m,type:"button",children:e.jsx(T,{id:"TilretteleggingForArbeidsgiverFieldArray.LeggTilArbeidsgiver"})})]},F.id))})};try{E.displayName="TilretteleggingForArbeidsgiverFieldArray",E.__docgenInfo={description:"",displayName:"TilretteleggingForArbeidsgiverFieldArray",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const a=q(Y),de="tilretteleggingForArbeidsgiver",i="tilretteleggingArbeidsforhold",j=({readOnly:r})=>{var h,_,N,$;const{watch:s,setError:l,clearErrors:c,formState:n}=A(),m=s(`${i}.sokForSelvstendigNaringsdrivende`),g=s(`${i}.sokForFrilans`),F=s(`${i}.sokForArbeidsgiver`),t=!m&&!g&&!F;return z.useEffect(()=>{t&&l(`${i}.notRegisteredInput`,{type:"custom",message:a.formatMessage({id:"BehovForTilretteleggingPanel.MinstEnMaaVereJa"})}),t||c(`${i}.notRegisteredInput`)},[t]),e.jsx(K,{value:a,children:e.jsxs(Q,{children:[e.jsx(te,{size:"small",children:e.jsx(T,{id:"BehovForTilretteleggingPanel.BehovForTilrettelegging"})}),e.jsx(d,{sixteenPx:!0}),n.isSubmitted&&((_=(h=n.errors[i])==null?void 0:h.notRegisteredInput)==null?void 0:_.message)&&e.jsx(X,{children:($=(N=n.errors[i])==null?void 0:N.notRegisteredInput)==null?void 0:$.message}),e.jsx(b,{name:`${i}.sokForSelvstendigNaringsdrivende`,label:e.jsx(T,{id:"BehovForTilretteleggingPanel.SokForSelvstendigNaringsdrivende"}),validate:[o],isReadOnly:r,isTrueOrFalseSelection:!0,isHorizontal:!0,radios:[{label:a.formatMessage({id:"BehovForTilretteleggingPanel.Ja"}),value:"true"},{label:a.formatMessage({id:"BehovForTilretteleggingPanel.Nei"}),value:"false"}]}),e.jsx(d,{sixteenPx:!0}),m&&e.jsxs(y,{children:[e.jsx(f,{name:`${i}.behovsdatoSN`,label:a.formatMessage({id:"BehovForTilretteleggingPanel.TilretteleggingFra"}),validate:[o],isReadOnly:r}),e.jsx(x,{name:`${i}.${oe}`,readOnly:r})]}),e.jsx(b,{name:`${i}.sokForFrilans`,label:e.jsx(T,{id:"BehovForTilretteleggingPanel.SokForFrilans"}),validate:[o],isReadOnly:r,isTrueOrFalseSelection:!0,isHorizontal:!0,radios:[{label:a.formatMessage({id:"BehovForTilretteleggingPanel.Ja"}),value:"true"},{label:a.formatMessage({id:"BehovForTilretteleggingPanel.Nei"}),value:"false"}]}),e.jsx(d,{sixteenPx:!0}),g&&e.jsxs(y,{children:[e.jsx(f,{name:`${i}.behovsdatoFrilans`,label:a.formatMessage({id:"BehovForTilretteleggingPanel.TilretteleggingFra"}),validate:[o],isReadOnly:r}),e.jsx(x,{name:`${i}.${ne}`,readOnly:r})]}),e.jsx(b,{name:`${i}.sokForArbeidsgiver`,label:e.jsx(T,{id:"BehovForTilretteleggingPanel.SokForArbeidsgiver"}),validate:[o],isReadOnly:r,isTrueOrFalseSelection:!0,isHorizontal:!0,radios:[{label:a.formatMessage({id:"BehovForTilretteleggingPanel.Ja"}),value:"true"},{label:a.formatMessage({id:"BehovForTilretteleggingPanel.Nei"}),value:"false"}]}),e.jsx(d,{sixteenPx:!0}),F&&e.jsx(y,{children:e.jsx(E,{readOnly:r})})]})})};j.buildInitialValues=()=>({[i]:{[de]:[{}]}});const H=j;try{j.displayName="BehovForTilretteleggingPanel",j.__docgenInfo={description:"",displayName:"BehovForTilretteleggingPanel",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const fe={title:"papirsoknad/ui-komponenter/tilrettelegging-svp",component:H},ce=({submitCallback:r})=>{const s=U();return e.jsxs(W,{formMethods:s,onSubmit:r,children:[e.jsx(H,{readOnly:!1}),e.jsx(d,{fourtyPx:!0}),e.jsx(w,{size:"small",variant:"primary",children:"Lagreknapp (Kun for test)"})]})},p=ce.bind({});p.args={submitCallback:D("button-click")};var L,G,M;p.parameters={...p.parameters,docs:{...(L=p.parameters)==null?void 0:L.docs,source:{originalSource:`({
  submitCallback
}) => {
  const formMethods = useForm();
  return <Form formMethods={formMethods} onSubmit={submitCallback}>
      <BehovForTilretteleggingPanel readOnly={false} />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(M=(G=p.parameters)==null?void 0:G.docs)==null?void 0:M.source}}};const je=["Default"];export{p as Default,je as __namedExportsOrder,fe as default};
//# sourceMappingURL=BehovForTilretteleggingPanel.stories-e6d2bc02.js.map
