import{j as e}from"./jsx-runtime-d079401a.js";import{a as Z}from"./chunk-AY7I2SME-c7b6cf8a.js";import{b as X,e as D,g as Y,h as q,E as K,o as Q,A as u,j as $,J as t,T as ee,N as w,w as v,d as s,Y as J,f as re,Q as ae,D as se,t as ie,P as ne,m as te,u as oe,F as le,B as de}from"./nb_NO-bba0f3ef.js";import{r as f,b as A,I as G,c as U,h as k,a as pe}from"./index.es-c52020bc.js";import{r as me}from"./index-f1f2c4b1.js";import{H as ce}from"./Heading-35f9e313.js";import"./index-c74c9f7f.js";const ue="_notLastRow_7c46s_1",Fe={notLastRow:ue},H="frilans",V=(r,a)=>r(a),L=({readOnly:r})=>{const a=X(),{control:i,getValues:n,formState:{isSubmitted:m},trigger:x}=D(),{fields:j,remove:O,append:M}=Y({control:i,name:`${H}.perioder`});return e.jsx(q,{fields:j,bodyText:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.NyPeriode"}),readOnly:r,remove:O,append:M,children:(S,c,I)=>{const o=`${H}.perioder.${c}`;return e.jsxs("div",{className:c!==j.length-1?Fe.notLastRow:"",children:[e.jsx(K,{children:e.jsxs(Q,{children:[e.jsx(u,{children:e.jsx($,{name:`${o}.periodeFom`,label:c===0?a.formatMessage({id:"Registrering.Frilans.periodeFom"}):"",validate:[f,A,()=>{const l=V(n,`${o}.periodeFom`),d=V(n,`${o}.periodeTom`);return d&&l?G(d)(l):null}],onChange:()=>m?x():void 0})}),e.jsx(u,{children:e.jsx($,{name:`${o}.periodeTom`,label:c===0?a.formatMessage({id:"Registrering.Frilans.periodeTom"}):"",validate:[f,A,()=>{const l=V(n,`${o}.periodeFom`),d=V(n,`${o}.periodeTom`);return d&&l?U(l)(d):null}],onChange:()=>m?x():void 0})}),I&&e.jsx(u,{children:I()})]})}),e.jsx(t,{sixteenPx:!0})]},S.id)}})};try{L.displayName="FrilansPerioderFieldArray",L.__docgenInfo={description:`FrilansPerioderFieldArray

Viser inputfelter for fra og til dato for frilansperioder`,displayName:"FrilansPerioderFieldArray",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const ge="_notLastRow_7c46s_1",xe={notLastRow:ge},F="frilans",_=(r,a)=>r(a),fe=r=>r.map(a=>a.periodeFom).filter(a=>a&&a!=="").sort((a,i)=>k(a,w).diff(k(i,w))),W={fomDato:"",tomDato:"",oppdragsgiver:""},je=pe(50),ye=(r,a,i,n)=>()=>{const m=_(r,`${a}.fomDato`);return i.length>0&&i[0]&&m&&!k(i[0]).isSameOrBefore(k(m))?n.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.BeforeFomValidation"}):null},T=({readOnly:r})=>{const a=X(),{control:i,getValues:n,watch:m,trigger:x,formState:{isSubmitted:j}}=D(),{fields:O,remove:M,append:S}=Y({control:i,name:`${F}.oppdragPerioder`}),c=m(`${F}.perioder`),I=me.useMemo(()=>fe(c),[c]);return e.jsx(q,{bodyText:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.NyPeriode"}),fields:O,emptyPeriodTemplate:W,readOnly:r,append:S,remove:M,children:(o,l,d)=>{const p=`${F}.oppdragPerioder.${l}`;return e.jsxs("div",{className:l!==O.length-1?xe.notLastRow:"",children:[e.jsx(K,{children:e.jsxs(Q,{children:[e.jsx(u,{children:e.jsx($,{name:`${p}.fomDato`,label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.periodeFom"}),validate:[A,ye(n,p,I,a),()=>{const y=_(n,`${p}.fomDato`),h=_(n,`${p}.tomDato`);return h&&y?G(h)(y):null}],onChange:()=>j?x():void 0})}),e.jsx(u,{children:e.jsx($,{name:`${p}.tomDato`,label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.periodeTom"}),validate:[A,()=>{const y=_(n,`${p}.fomDato`),h=_(n,`${p}.tomDato`);return h&&y?U(y)(h):null}],onChange:()=>j?x():void 0})}),e.jsx(u,{children:e.jsx(ee,{name:`${p}.oppdragsgiver`,validate:[je],label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.Oppdragsgiver"})})}),d&&e.jsx(u,{children:d()})]})}),e.jsx(t,{sixteenPx:!0})]},o.id)}})};try{T.displayName="FrilansOppdragForFamilieFieldArray",T.__docgenInfo={description:`FrilansOppdragForFamilieFieldArray

Viser inputfelter for fra og til dato for frilansperioder.`,displayName:"FrilansOppdragForFamilieFieldArray",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const b=({readOnly:r})=>{const{watch:a}=D(),i=a(`${F}.harHattOppdragForFamilie`);return e.jsxs(e.Fragment,{children:[e.jsx(v,{name:`${F}.harHattOppdragForFamilie`,label:e.jsx(s,{id:"Registrering.FrilansOppdrag.HarHattOppdragForFamilie"}),validate:[f],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.FrilansOppdrag.Yes"}),value:"true"},{label:e.jsx(s,{id:"Registrering.FrilansOppdrag.No"}),value:"false"}]}),i&&e.jsxs(e.Fragment,{children:[e.jsx(t,{eightPx:!0}),e.jsxs(J,{children:[e.jsx(re,{size:"small",children:e.jsx(s,{id:"Registrering.FrilansOppdrag.OppgiPeriode"})}),e.jsx(t,{fourPx:!0}),e.jsx(T,{readOnly:r})]})]})]})};b.buildInitialValues=()=>({oppdragPerioder:[W],perioder:void 0});try{b.displayName="FrilansOppdragForFamiliePanel",b.__docgenInfo={description:"",displayName:"FrilansOppdragForFamiliePanel",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const E="frilans",g=({readOnly:r})=>e.jsxs(ae,{children:[e.jsx(ce,{size:"small",children:e.jsx(s,{id:"Registrering.Frilans.Title"})}),e.jsx(t,{sixteenPx:!0}),e.jsx(v,{name:`${E}.harSokerPeriodeMedFrilans`,label:e.jsx(s,{id:"Registrering.Frilans.HarFrilansvirksomhet"}),validate:[f],isReadOnly:r,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.Frilans.No"}),value:"false"},{label:e.jsx(s,{id:"Registrering.Frilans.Yes"}),value:"true",element:e.jsxs(e.Fragment,{children:[e.jsx(t,{eightPx:!0}),e.jsxs(J,{children:[e.jsx(se,{size:"small",children:e.jsx(s,{id:"Registrering.Frilans.OppgiPeriode"})}),e.jsx(t,{eightPx:!0}),e.jsx(L,{readOnly:r}),e.jsx(t,{fourPx:!0}),e.jsx(v,{name:`${E}.erNyoppstartetFrilanser`,label:e.jsx(s,{id:"Registrering.Frilans.ErNyoppstartedFrilanser"}),validate:[f],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.Frilans.Yes"}),value:"true"},{label:e.jsx(s,{id:"Registrering.Frilans.No"}),value:"false"}]}),e.jsx(t,{sixteenPx:!0}),e.jsx(v,{name:`${E}.harInntektFraFosterhjem`,label:e.jsx(s,{id:"Registrering.Frilans.HarInntektFraForsterhjem"}),validate:[f],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.Frilans.Yes"}),value:"true"},{label:e.jsx(s,{id:"Registrering.Frilans.No"}),value:"false"}]}),e.jsx(t,{sixteenPx:!0}),e.jsx(b,{readOnly:r})]})]})}]})]});g.buildInitialValues=()=>({...b.buildInitialValues(),perioder:[{periodeFom:"",periodeTom:""}]});g.transformValues=r=>r.harSokerPeriodeMedFrilans?r:{harSokerPeriodeMedFrilans:r.harSokerPeriodeMedFrilans};try{g.displayName="FrilansPanel",g.__docgenInfo={description:"",displayName:"FrilansPanel",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const he=ie(te),R=({readOnly:r})=>e.jsx(ne,{value:he,children:e.jsx(g,{readOnly:r})});R.buildInitialValues=()=>g.buildInitialValues();R.transformValues=r=>g.transformValues(r);const N=R;try{R.displayName="FrilansPapirsoknadIndex",R.__docgenInfo={description:"",displayName:"FrilansPapirsoknadIndex",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const Ne={title:"papirsoknad/ui-komponenter/frilans",component:N},_e=({submitCallback:r})=>{const a=oe({defaultValues:{[F]:N.buildInitialValues()}});return e.jsxs(le,{formMethods:a,onSubmit:i=>r({[F]:N.transformValues(i.frilans)}),children:[e.jsx(N,{readOnly:!1}),e.jsx(t,{fourtyPx:!0}),e.jsx(de,{size:"small",variant:"primary",children:"Lagreknapp (Kun for test)"})]})},P=_e.bind({});P.args={submitCallback:Z("button-click")};var z,C,B;P.parameters={...P.parameters,docs:{...(z=P.parameters)==null?void 0:z.docs,source:{originalSource:`({
  submitCallback
}) => {
  const formMethods = useForm({
    defaultValues: {
      [FRILANS_NAME_PREFIX]: FrilansPapirsoknadIndex.buildInitialValues()
    }
  });
  return <Form formMethods={formMethods} onSubmit={(values: {
    [FRILANS_NAME_PREFIX]: FormValues;
  }) => submitCallback({
    [FRILANS_NAME_PREFIX]: FrilansPapirsoknadIndex.transformValues(values.frilans)
  })}>
      <FrilansPapirsoknadIndex readOnly={false} />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(B=(C=P.parameters)==null?void 0:C.docs)==null?void 0:B.source}}};const $e=["Default"];export{P as Default,$e as __namedExportsOrder,Ne as default};
//# sourceMappingURL=FrilansPapirsoknadIndex.stories-f489e976.js.map
