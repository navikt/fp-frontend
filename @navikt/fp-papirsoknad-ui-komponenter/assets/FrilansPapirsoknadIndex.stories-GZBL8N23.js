import{a as e,j as o,F as D}from"./jsx-runtime-ESnF-waY.js";import{e as Y,f as C,l as K,r as G,F as J,M as Q,c as F,d as M,g as s,C as re,N as z,T as x,h as i,i as U,j as ae,R as ie,H as ne,D as te,t as se,P as oe,m as le,a as de,b as pe,O as me,B as ce}from"./nb_NO-Jp11i7qh.js";import{r as h,b as k,I as W,c as Z,h as S,a as ue}from"./index.es-c41PWReF.js";import{r as Fe}from"./index-OjgoNOWw.js";import"./preview-errors-7FWlPnjy.js";import"./index-PPLHz8o0.js";import"./index-mQqIOHEI.js";const ge="_notLastRow_7c46s_1",fe={notLastRow:ge},B="frilans",$=(r,a)=>r(a),H=({readOnly:r})=>{const a=Y(),{control:n,getValues:t,formState:{isSubmitted:c},trigger:y}=C(),{fields:_,remove:v,append:L}=K({control:n,name:`${B}.perioder`});return e(G,{fields:_,bodyText:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.NyPeriode"}),readOnly:r,remove:v,append:L,children:(T,u,N)=>{const l=`${B}.perioder.${u}`;return o("div",{className:u!==_.length-1?fe.notLastRow:"",children:[e(J,{children:o(Q,{children:[e(F,{children:e(M,{name:`${l}.periodeFom`,label:u===0?a.formatMessage({id:"Registrering.Frilans.periodeFom"}):"",validate:[h,k,()=>{const d=$(t,`${l}.periodeFom`),p=$(t,`${l}.periodeTom`);return p&&d?W(p)(d):null}],onChange:()=>c?y():void 0})}),e(F,{children:e(M,{name:`${l}.periodeTom`,label:u===0?a.formatMessage({id:"Registrering.Frilans.periodeTom"}):"",validate:[h,k,()=>{const d=$(t,`${l}.periodeFom`),p=$(t,`${l}.periodeTom`);return p&&d?Z(d)(p):null}],onChange:()=>c?y():void 0})}),N&&e(F,{children:N()})]})}),e(s,{sixteenPx:!0})]},T.id)}})};try{H.displayName="FrilansPerioderFieldArray",H.__docgenInfo={description:`FrilansPerioderFieldArray

Viser inputfelter for fra og til dato for frilansperioder`,displayName:"FrilansPerioderFieldArray",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const ye="_notLastRow_7c46s_1",he={notLastRow:ye},g="frilans",R=(r,a)=>r(a),_e=(r=[])=>r.map(a=>a.periodeFom).filter(a=>a&&a!=="").sort((a,n)=>S(a,z).diff(S(n,z))),ee={fomDato:"",tomDato:"",oppdragsgiver:""},Pe=ue(50),be=(r,a,n,t)=>()=>{const c=R(r,`${a}.fomDato`);return n.length>0&&n[0]&&c&&!S(n[0]).isSameOrBefore(S(c))?t.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.BeforeFomValidation"}):null},w=({readOnly:r})=>{const a=Y(),{control:n,getValues:t,watch:c,trigger:y,formState:{isSubmitted:_}}=C(),{fields:v,remove:L,append:T}=K({control:n,name:`${g}.oppdragPerioder`}),u=c(`${g}.perioder`),N=Fe.useMemo(()=>_e(u),[u]);return e(G,{bodyText:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.NyPeriode"}),fields:v,emptyPeriodTemplate:ee,readOnly:r,append:T,remove:L,children:(l,d,p)=>{const m=`${g}.oppdragPerioder.${d}`;return o("div",{className:d!==v.length-1?he.notLastRow:"",children:[e(J,{children:o(Q,{children:[e(F,{children:e(M,{name:`${m}.fomDato`,label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.periodeFom"}),validate:[k,be(t,m,N,a),()=>{const P=R(t,`${m}.fomDato`),b=R(t,`${m}.tomDato`);return b&&P?W(b)(P):null}],onChange:()=>_?y():void 0})}),e(F,{children:e(M,{name:`${m}.tomDato`,label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.periodeTom"}),validate:[k,()=>{const P=R(t,`${m}.fomDato`),b=R(t,`${m}.tomDato`);return b&&P?Z(P)(b):null}],onChange:()=>_?y():void 0})}),e(F,{children:e(re,{name:`${m}.oppdragsgiver`,validate:[Pe],label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.Oppdragsgiver"})})}),p&&e(F,{children:p()})]})}),e(s,{sixteenPx:!0})]},l.id)}})};try{w.displayName="FrilansOppdragForFamilieFieldArray",w.__docgenInfo={description:`FrilansOppdragForFamilieFieldArray

Viser inputfelter for fra og til dato for frilansperioder.`,displayName:"FrilansOppdragForFamilieFieldArray",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const I=({readOnly:r})=>{const{watch:a}=C(),n=a(`${g}.harHattOppdragForFamilie`);return o(D,{children:[e(x,{name:`${g}.harHattOppdragForFamilie`,label:e(i,{id:"Registrering.FrilansOppdrag.HarHattOppdragForFamilie"}),validate:[h],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e(i,{id:"Registrering.FrilansOppdrag.Yes"}),value:"true"},{label:e(i,{id:"Registrering.FrilansOppdrag.No"}),value:"false"}]}),n&&o(D,{children:[e(s,{eightPx:!0}),o(U,{children:[e(ae,{size:"small",children:e(i,{id:"Registrering.FrilansOppdrag.OppgiPeriode"})}),e(s,{fourPx:!0}),e(w,{readOnly:r})]})]})]})};I.buildInitialValues=()=>({oppdragPerioder:[ee],perioder:void 0});try{I.displayName="FrilansOppdragForFamiliePanel",I.__docgenInfo={description:"",displayName:"FrilansOppdragForFamiliePanel",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const E="frilans",f=({readOnly:r})=>o(ie,{children:[e(ne,{size:"small",children:e(i,{id:"Registrering.Frilans.Title"})}),e(s,{sixteenPx:!0}),e(x,{name:`${E}.harSokerPeriodeMedFrilans`,label:e(i,{id:"Registrering.Frilans.HarFrilansvirksomhet"}),validate:[h],isReadOnly:r,isTrueOrFalseSelection:!0,radios:[{label:e(i,{id:"Registrering.Frilans.No"}),value:"false"},{label:e(i,{id:"Registrering.Frilans.Yes"}),value:"true",element:o(D,{children:[e(s,{eightPx:!0}),o(U,{children:[e(te,{children:e(i,{id:"Registrering.Frilans.OppgiPeriode"})}),e(s,{eightPx:!0}),e(H,{readOnly:r}),e(s,{fourPx:!0}),e(x,{name:`${E}.erNyoppstartetFrilanser`,label:e(i,{id:"Registrering.Frilans.ErNyoppstartedFrilanser"}),validate:[h],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e(i,{id:"Registrering.Frilans.Yes"}),value:"true"},{label:e(i,{id:"Registrering.Frilans.No"}),value:"false"}]}),e(s,{sixteenPx:!0}),e(x,{name:`${E}.harInntektFraFosterhjem`,label:e(i,{id:"Registrering.Frilans.HarInntektFraForsterhjem"}),validate:[h],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e(i,{id:"Registrering.Frilans.Yes"}),value:"true"},{label:e(i,{id:"Registrering.Frilans.No"}),value:"false"}]}),e(s,{sixteenPx:!0}),e(I,{readOnly:r})]})]})}]})]});f.buildInitialValues=()=>({...I.buildInitialValues(),perioder:[{periodeFom:"",periodeTom:""}]});f.transformValues=r=>r.harSokerPeriodeMedFrilans?r:{harSokerPeriodeMedFrilans:r.harSokerPeriodeMedFrilans};try{f.displayName="FrilansPanel",f.__docgenInfo={description:"",displayName:"FrilansPanel",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const Re=se(le),V=({readOnly:r})=>e(oe,{value:Re,children:e(f,{readOnly:r})});V.buildInitialValues=()=>f.buildInitialValues();V.transformValues=r=>f.transformValues(r);const A=V;try{V.displayName="FrilansPapirsoknadIndex",V.__docgenInfo={description:"",displayName:"FrilansPapirsoknadIndex",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const Me={title:"papirsoknad/ui-komponenter/frilans",component:A},Oe=({submitCallback:r})=>{const a=pe({defaultValues:{[g]:A.buildInitialValues()}});return o(me,{formMethods:a,onSubmit:n=>r({[g]:A.transformValues(n.frilans)}),children:[e(A,{readOnly:!1}),e(s,{fourtyPx:!0}),e(ce,{size:"small",variant:"primary",children:"Lagreknapp (Kun for test)"})]})},O=Oe.bind({});O.args={submitCallback:de("button-click")};var j,X,q;O.parameters={...O.parameters,docs:{...(j=O.parameters)==null?void 0:j.docs,source:{originalSource:`({
  submitCallback
}) => {
  const formMethods = useForm({
    defaultValues: {
      [FRILANS_NAME_PREFIX]: FrilansPapirsoknadIndex.buildInitialValues()
    }
  });
  return <Form formMethods={formMethods} onSubmit={(values: {
    [FRILANS_NAME_PREFIX]: FormValues;
  }) => submitCallback({
    [FRILANS_NAME_PREFIX]: FrilansPapirsoknadIndex.transformValues(values.frilans)
  })}>
      <FrilansPapirsoknadIndex readOnly={false} />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(q=(X=O.parameters)==null?void 0:X.docs)==null?void 0:q.source}}};const ke=["Default"];export{O as Default,ke as __namedExportsOrder,Me as default};
