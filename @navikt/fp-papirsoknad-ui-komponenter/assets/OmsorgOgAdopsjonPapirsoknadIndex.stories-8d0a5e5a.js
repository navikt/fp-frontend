import{j as m,a as e,F as z}from"./jsx-runtime-f8e698f3.js";import{a as C}from"./chunk-AY7I2SME-5eb1ab46.js";import{l as h,d as $,h as w,R as G,H as X,g as f,F as Q,M as A,B as c,T as U,b as _,C as W,t as Y,m as Z,a as ee,O as ae,c as re}from"./nb_NO-bd1cc92f.js";import{f as n}from"./familieHendelseType-9981d52a.js";import{r as se,R as ne}from"./index-f1f2c4b1.js";import{r as y,b as u,R as N,_ as x,y as oe,N as te,K as le}from"./index.es-bd381c2f.js";import"./index-c74c9f7f.js";const ie="_barnInput_1jjt5_1",de="_col_1jjt5_5",b={barnInput:ie,col:de},me=10,R=oe(1),I=te(10),i="omsorg",S=(a,r)=>o=>{if(a===0&&r&&o)return le(o,Array.isArray(r)?r[0]:r)},k=({readOnly:a=!0,familieHendelseType:r,isForeldrepengerFagsak:o,fodselsdatoer:d})=>{const{formatMessage:t}=h.useIntl(),{control:J,watch:q}=$(),{fields:p,remove:K,append:L}=w({control:J,name:`${i}.foedselsDato`}),v=q(`${i}.antallBarn`),g=v?parseInt(v,10):0;return se.useEffect(()=>{if(p.length>Math.max(g,0))for(let s=p.length;s>g;s-=1)K(s-1);else if(p.length<Math.min(g,me))for(let s=p.length;s<g;s+=1)L({id:s,dato:void 0})},[g]),m(G,{children:[e(X,{size:"small",children:e(h.FormattedMessage,{id:r===n.ADOPSJON?"Registrering.Adopsjon.Title":"Registrering.Adopsjon.OmsorgTitle"})}),e(f,{sixteenPx:!0}),m(Q,{children:[o&&r===n.ADOPSJON&&m(z,{children:[e(A,{children:e(c,{className:b.col,children:e(U,{name:`${i}.erEktefellesBarn`,label:e(h.FormattedMessage,{id:"Registrering.Adopsjon.GjelderEktefellesBarn"}),validate:[y],isReadOnly:a,isTrueOrFalseSelection:!0,isHorizontal:!0,radios:[{label:t({id:"Registrering.Adopsjon.Ja"}),value:"true"},{label:t({id:"Registrering.Adopsjon.Nei"}),value:"false"}]})})}),e(f,{sixteenPx:!0})]}),e(A,{children:e(c,{children:e(_,{name:`${i}.omsorgsovertakelsesdato`,label:t({id:r===n.ADOPSJON?"Registrering.Adopsjon.DatoForOvertakelsenStebarn":"Registrering.Adopsjon.DatoForOvertakelsen"}),isReadOnly:a,validate:r===n.ADOPSJON?[y,u]:[u]})})}),e(f,{sixteenPx:!0}),m(A,{children:[r===n.ADOPSJON&&e(c,{children:e(_,{name:`${i}.ankomstdato`,label:t({id:"Registrering.Adopsjon.Ankomstdato"}),isReadOnly:a,validate:[u]})}),e(c,{className:b.col,children:e(W,{name:`${i}.antallBarn`,label:t({id:"Registrering.Adopsjon.AntallBarn"}),readOnly:a,parse:s=>{const l=parseInt(s.toString(),10);return Number.isNaN(l)?s:l},className:b.barnInput,validate:r===n.ADOPSJON?[y,N,R,I]:[N,s=>s?R(parseInt(s,10)):void 0,s=>s?I(parseInt(s,10)):void 0]})})]}),e(A,{children:e(c,{className:b.col,children:p.map((s,l)=>m(ne.Fragment,{children:[e(f,{sixteenPx:!0}),e(_,{name:`${i}.foedselsDato.${l}.dato`,isReadOnly:a,validate:r===n.ADOPSJON?[y,u,x,S(l,d)]:[u,x,S(l,d)],label:t({id:"Registrering.Adopsjon.FodselsdatoBarnN"},{n:l+1})})]},s.id))})})]})]})};k.transformValues=a=>({...a,foedselsDato:a.foedselsDato&&a.foedselsDato.length>0?a.foedselsDato.map(r=>r.dato):void 0});try{k.displayName="OmsorgOgAdopsjonPanel",k.__docgenInfo={description:`OmsorgOgAdopsjonPanel

Komponenten vises som del av skjermbildet for registrering av papirsøknad ved adopsjon og omsorgsovertakelse.
Komponenten har inputfelter og må derfor rendres som etterkommer av form-komponent.`,displayName:"OmsorgOgAdopsjonPanel",props:{familieHendelseType:{defaultValue:null,description:"",name:"familieHendelseType",required:!0,type:{name:"string"}},readOnly:{defaultValue:{value:"true"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},isForeldrepengerFagsak:{defaultValue:null,description:"",name:"isForeldrepengerFagsak",required:!0,type:{name:"boolean"}},fodselsdatoer:{defaultValue:null,description:"",name:"fodselsdatoer",required:!1,type:{name:"string | string[]"}}}}}catch{}const pe=Y(Z),j=({readOnly:a,familieHendelseType:r,isForeldrepengerFagsak:o,fodselsdato:d})=>e(h.RawIntlProvider,{value:pe,children:e(k,{readOnly:a,familieHendelseType:r,isForeldrepengerFagsak:o,fodselsdatoer:d})});j.transformValues=k.transformValues;const P=j;try{j.displayName="OmsorgOgAdopsjonPapirsoknadIndex",j.__docgenInfo={description:"",displayName:"OmsorgOgAdopsjonPapirsoknadIndex",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},familieHendelseType:{defaultValue:null,description:"",name:"familieHendelseType",required:!0,type:{name:"string"}},isForeldrepengerFagsak:{defaultValue:null,description:"",name:"isForeldrepengerFagsak",required:!0,type:{name:"boolean"}},fodselsdato:{defaultValue:null,description:"",name:"fodselsdato",required:!1,type:{name:"string | string[]"}}}}}catch{}const Ae={title:"papirsoknad/ui-komponenter/omsorg-og-adopsjon",component:P},E=({isForeldrepengerFagsak:a,familieHendelseType:r,submitCallback:o})=>{const d=ee();return m(ae,{formMethods:d,onSubmit:t=>o(P.transformValues(t.omsorg)),children:[e(P,{readOnly:!1,familieHendelseType:r,isForeldrepengerFagsak:a,fodselsdato:"2022-05-27"}),e(f,{fourtyPx:!0}),e(re,{size:"small",variant:"primary",children:"Lagreknapp (Kun for test)"})]})},O=E.bind({});O.args={isForeldrepengerFagsak:!1,familieHendelseType:n.FODSEL,submitCallback:C("button-click")};const F=E.bind({});F.args={isForeldrepengerFagsak:!1,familieHendelseType:n.ADOPSJON,submitCallback:C("button-click")};var M,V,B;O.parameters={...O.parameters,docs:{...(M=O.parameters)==null?void 0:M.docs,source:{originalSource:`({
  isForeldrepengerFagsak,
  familieHendelseType,
  submitCallback
}) => {
  const formMethods = useForm();
  return <Form formMethods={formMethods} onSubmit={values => submitCallback(OmsorgOgAdopsjonPapirsoknadIndex.transformValues(values.omsorg))}>
      <OmsorgOgAdopsjonPapirsoknadIndex readOnly={false} familieHendelseType={familieHendelseType} isForeldrepengerFagsak={isForeldrepengerFagsak} fodselsdato="2022-05-27" />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(B=(V=O.parameters)==null?void 0:V.docs)==null?void 0:B.source}}};var D,T,H;F.parameters={...F.parameters,docs:{...(D=F.parameters)==null?void 0:D.docs,source:{originalSource:`({
  isForeldrepengerFagsak,
  familieHendelseType,
  submitCallback
}) => {
  const formMethods = useForm();
  return <Form formMethods={formMethods} onSubmit={values => submitCallback(OmsorgOgAdopsjonPapirsoknadIndex.transformValues(values.omsorg))}>
      <OmsorgOgAdopsjonPapirsoknadIndex readOnly={false} familieHendelseType={familieHendelseType} isForeldrepengerFagsak={isForeldrepengerFagsak} fodselsdato="2022-05-27" />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(H=(T=F.parameters)==null?void 0:T.docs)==null?void 0:H.source}}};const ye=["ForFodsel","ForAdopsjon"];export{F as ForAdopsjon,O as ForFodsel,ye as __namedExportsOrder,Ae as default};
//# sourceMappingURL=OmsorgOgAdopsjonPapirsoknadIndex.stories-8d0a5e5a.js.map
