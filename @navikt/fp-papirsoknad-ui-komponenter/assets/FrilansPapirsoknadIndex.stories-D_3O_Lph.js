import{j as e}from"./jsx-runtime-DR9Q75dM.js";import{H as f,g as I,D as E,U as z,n as Q,a as Z}from"./index.es-DAgkteDm.js";import{d as C,e as w,f as B,I as Y,W as X,b as U,L as u,P as S,y as i,g as ee,A as T,k as R,M as s,O as W,p as re,S as ae,H as se,D as ne,t as oe,c as ie,m as te,a as le,$ as de,V as me,B as pe}from"./nb_NO-ChUmxPha.js";import{r as Fe}from"./index-DRjF_FHU.js";import{h as N}from"./moment-C5S46NFB.js";import"./v4-CQkTLCs1.js";import"./dayjs.min-CnNqAF5I.js";import"./index-rX-Bn4lm.js";const ue="_notLastRow_7c46s_1",ge={notLastRow:ue},q="frilans",v=(r,a)=>r(a),K=({readOnly:r})=>{const a=C(),{control:o,getValues:n,formState:{isSubmitted:t},trigger:h}=w(),{fields:x,remove:P,append:M}=B({control:o,name:`${q}.perioder`});return e.jsx(Y,{fields:x,bodyText:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.NyPeriode"}),readOnly:r,remove:P,append:M,children:(_,F,V)=>{const l=`${q}.perioder.${F}`;return e.jsxs("div",{className:F!==x.length-1?ge.notLastRow:"",children:[e.jsx(X,{children:e.jsxs(U,{children:[e.jsx(u,{children:e.jsx(S,{name:`${l}.periodeFom`,label:F===0?a.formatMessage({id:"Registrering.Frilans.periodeFom"}):"",validate:[f,I,()=>{const d=v(n,`${l}.periodeFom`),m=v(n,`${l}.periodeTom`);return m&&d?E(m)(d):null}],onChange:()=>t?h():void 0})}),e.jsx(u,{children:e.jsx(S,{name:`${l}.periodeTom`,label:F===0?a.formatMessage({id:"Registrering.Frilans.periodeTom"}):"",validate:[f,I,()=>{const d=v(n,`${l}.periodeFom`),m=v(n,`${l}.periodeTom`);return m&&d?z(d)(m):null}],onChange:()=>t?h():void 0})}),V&&e.jsx(u,{children:V()})]})}),e.jsx(i,{sixteenPx:!0})]},_.id)}})};K.__docgenInfo={description:`FrilansPerioderFieldArray

Viser inputfelter for fra og til dato for frilansperioder`,methods:[],displayName:"FrilansPerioderFieldArray",props:{readOnly:{required:!0,tsType:{name:"boolean"},description:""}}};const ce="_notLastRow_7c46s_1",he={notLastRow:ce},c="frilans",k=(r,a)=>r(a),fe=(r=[])=>r.map(a=>a.periodeFom).filter(a=>a&&a!=="").sort((a,o)=>N(a,T).diff(N(o,T))),G={fomDato:"",tomDato:"",oppdragsgiver:""},be=Q(50),xe=(r,a,o,n)=>()=>{const t=k(r,`${a}.fomDato`);return o.length>0&&o[0]&&t&&!N(o[0]).isSameOrBefore(N(t))?n.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.BeforeFomValidation"}):null},J=({readOnly:r})=>{const a=C(),{control:o,getValues:n,watch:t,trigger:h,formState:{isSubmitted:x}}=w(),{fields:P,remove:M,append:_}=B({control:o,name:`${c}.oppdragPerioder`}),F=t(`${c}.perioder`),V=Fe.useMemo(()=>fe(F),[F]);return e.jsx(Y,{bodyText:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.NyPeriode"}),fields:P,emptyPeriodTemplate:G,readOnly:r,append:_,remove:M,children:(l,d,m)=>{const p=`${c}.oppdragPerioder.${d}`;return e.jsxs("div",{className:d!==P.length-1?he.notLastRow:"",children:[e.jsx(X,{children:e.jsxs(U,{children:[e.jsx(u,{children:e.jsx(S,{name:`${p}.fomDato`,label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.periodeFom"}),validate:[I,xe(n,p,V,a),()=>{const j=k(n,`${p}.fomDato`),y=k(n,`${p}.tomDato`);return y&&j?E(y)(j):null}],onChange:()=>x?h():void 0})}),e.jsx(u,{children:e.jsx(S,{name:`${p}.tomDato`,label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.periodeTom"}),validate:[I,()=>{const j=k(n,`${p}.fomDato`),y=k(n,`${p}.tomDato`);return y&&j?z(j)(y):null}],onChange:()=>x?h():void 0})}),e.jsx(u,{children:e.jsx(ee,{name:`${p}.oppdragsgiver`,validate:[be],label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.Oppdragsgiver"})})}),m&&e.jsx(u,{children:m()})]})}),e.jsx(i,{sixteenPx:!0})]},l.id)}})};J.__docgenInfo={description:`FrilansOppdragForFamilieFieldArray

Viser inputfelter for fra og til dato for frilansperioder.`,methods:[],displayName:"FrilansOppdragForFamilieFieldArray",props:{readOnly:{required:!0,tsType:{name:"boolean"},description:""}}};const $=({readOnly:r})=>{const{watch:a}=w(),o=a(`${c}.harHattOppdragForFamilie`);return e.jsxs(e.Fragment,{children:[e.jsx(R,{name:`${c}.harHattOppdragForFamilie`,label:e.jsx(s,{id:"Registrering.FrilansOppdrag.HarHattOppdragForFamilie"}),validate:[f],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.FrilansOppdrag.Yes"}),value:"true"},{label:e.jsx(s,{id:"Registrering.FrilansOppdrag.No"}),value:"false"}]}),o&&e.jsxs(e.Fragment,{children:[e.jsx(i,{eightPx:!0}),e.jsxs(W,{children:[e.jsx(re,{size:"small",children:e.jsx(s,{id:"Registrering.FrilansOppdrag.OppgiPeriode"})}),e.jsx(i,{fourPx:!0}),e.jsx(J,{readOnly:r})]})]})]})};$.buildInitialValues=()=>({oppdragPerioder:[G],perioder:void 0});$.__docgenInfo={description:"",methods:[{name:"buildInitialValues",docblock:null,modifiers:["static"],params:[],returns:{type:{name:"intersection",raw:`{
  harHattOppdragForFamilie?: boolean;
} & FieldArrayFormValues`,elements:[{name:"signature",type:"object",raw:`{
  harHattOppdragForFamilie?: boolean;
}`,signature:{properties:[{key:"harHattOppdragForFamilie",value:{name:"boolean",required:!1}}]}},{name:"FormValues"}]}}}],displayName:"FrilansOppdragForFamiliePanel",props:{readOnly:{required:!0,tsType:{name:"boolean"},description:""}}};const A="frilans",b=({readOnly:r})=>e.jsxs(ae,{children:[e.jsx(se,{size:"small",children:e.jsx(s,{id:"Registrering.Frilans.Title"})}),e.jsx(i,{sixteenPx:!0}),e.jsx(R,{name:`${A}.harSokerPeriodeMedFrilans`,label:e.jsx(s,{id:"Registrering.Frilans.HarFrilansvirksomhet"}),validate:[f],isReadOnly:r,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.Frilans.No"}),value:"false"},{label:e.jsx(s,{id:"Registrering.Frilans.Yes"}),value:"true",element:e.jsxs(e.Fragment,{children:[e.jsx(i,{eightPx:!0}),e.jsxs(W,{children:[e.jsx(ne,{children:e.jsx(s,{id:"Registrering.Frilans.OppgiPeriode"})}),e.jsx(i,{eightPx:!0}),e.jsx(K,{readOnly:r}),e.jsx(i,{fourPx:!0}),e.jsx(R,{name:`${A}.erNyoppstartetFrilanser`,label:e.jsx(s,{id:"Registrering.Frilans.ErNyoppstartedFrilanser"}),validate:[f],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.Frilans.Yes"}),value:"true"},{label:e.jsx(s,{id:"Registrering.Frilans.No"}),value:"false"}]}),e.jsx(i,{sixteenPx:!0}),e.jsx(R,{name:`${A}.harInntektFraFosterhjem`,label:e.jsx(s,{id:"Registrering.Frilans.HarInntektFraForsterhjem"}),validate:[f],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e.jsx(s,{id:"Registrering.Frilans.Yes"}),value:"true"},{label:e.jsx(s,{id:"Registrering.Frilans.No"}),value:"false"}]}),e.jsx(i,{sixteenPx:!0}),e.jsx($,{readOnly:r})]})]})}]})]});b.buildInitialValues=()=>({...$.buildInitialValues(),perioder:[{periodeFom:"",periodeTom:""}]});b.transformValues=r=>r.harSokerPeriodeMedFrilans?r:{harSokerPeriodeMedFrilans:r.harSokerPeriodeMedFrilans};b.__docgenInfo={description:"",methods:[{name:"buildInitialValues",docblock:null,modifiers:["static"],params:[],returns:{type:{name:"intersection",raw:`{
  harSokerPeriodeMedFrilans?: boolean;
  erNyoppstartetFrilanser?: boolean;
  harInntektFraFosterhjem?: boolean;
} & FormValuesOppdragForFamilie &
  PerioderFormValues`,elements:[{name:"signature",type:"object",raw:`{
  harSokerPeriodeMedFrilans?: boolean;
  erNyoppstartetFrilanser?: boolean;
  harInntektFraFosterhjem?: boolean;
}`,signature:{properties:[{key:"harSokerPeriodeMedFrilans",value:{name:"boolean",required:!1}},{key:"erNyoppstartetFrilanser",value:{name:"boolean",required:!1}},{key:"harInntektFraFosterhjem",value:{name:"boolean",required:!1}}]}},{name:"FormValues"},{name:"FormValues"}]}}},{name:"transformValues",docblock:null,modifiers:["static"],params:[{name:"formValues",optional:!1,type:{name:"intersection",raw:`{
  harSokerPeriodeMedFrilans?: boolean;
  erNyoppstartetFrilanser?: boolean;
  harInntektFraFosterhjem?: boolean;
} & FormValuesOppdragForFamilie &
  PerioderFormValues`,elements:[{name:"signature",type:"object",raw:`{
  harSokerPeriodeMedFrilans?: boolean;
  erNyoppstartetFrilanser?: boolean;
  harInntektFraFosterhjem?: boolean;
}`,signature:{properties:[{key:"harSokerPeriodeMedFrilans",value:{name:"boolean",required:!1}},{key:"erNyoppstartetFrilanser",value:{name:"boolean",required:!1}},{key:"harInntektFraFosterhjem",value:{name:"boolean",required:!1}}]}},{name:"FormValues"},{name:"FormValues"}],alias:"FormValues"}}],returns:{type:{name:"intersection",raw:`{
  harSokerPeriodeMedFrilans?: boolean;
  erNyoppstartetFrilanser?: boolean;
  harInntektFraFosterhjem?: boolean;
} & FormValuesOppdragForFamilie &
  PerioderFormValues`,elements:[{name:"signature",type:"object",raw:`{
  harSokerPeriodeMedFrilans?: boolean;
  erNyoppstartetFrilanser?: boolean;
  harInntektFraFosterhjem?: boolean;
}`,signature:{properties:[{key:"harSokerPeriodeMedFrilans",value:{name:"boolean",required:!1}},{key:"erNyoppstartetFrilanser",value:{name:"boolean",required:!1}},{key:"harInntektFraFosterhjem",value:{name:"boolean",required:!1}}]}},{name:"FormValues"},{name:"FormValues"}]}}}],displayName:"FrilansPanel",props:{readOnly:{required:!0,tsType:{name:"boolean"},description:""}}};const je=oe(te),g=({readOnly:r})=>e.jsx(ie,{value:je,children:e.jsx(b,{readOnly:r})});g.buildInitialValues=()=>b.buildInitialValues();g.transformValues=r=>b.transformValues(r);g.__docgenInfo={description:"",methods:[{name:"buildInitialValues",docblock:null,modifiers:["static"],params:[],returns:null},{name:"transformValues",docblock:null,modifiers:["static"],params:[{name:"formValues",optional:!1,type:{name:"intersection",raw:`{
  harSokerPeriodeMedFrilans?: boolean;
  erNyoppstartetFrilanser?: boolean;
  harInntektFraFosterhjem?: boolean;
} & FormValuesOppdragForFamilie &
  PerioderFormValues`,elements:[{name:"signature",type:"object",raw:`{
  harSokerPeriodeMedFrilans?: boolean;
  erNyoppstartetFrilanser?: boolean;
  harInntektFraFosterhjem?: boolean;
}`,signature:{properties:[{key:"harSokerPeriodeMedFrilans",value:{name:"boolean",required:!1}},{key:"erNyoppstartetFrilanser",value:{name:"boolean",required:!1}},{key:"harInntektFraFosterhjem",value:{name:"boolean",required:!1}}]}},{name:"FormValues"},{name:"FormValues"}],alias:"FormValues"}}],returns:null}],displayName:"FrilansPapirsoknadIndex",props:{readOnly:{required:!0,tsType:{name:"boolean"},description:""}}};const Se={title:"papirsoknad/ui-komponenter/frilans",component:g,parameters:{submitCallback:Z("onSubmit")},args:{readOnly:!1},render:function(a,{parameters:{submitCallback:o}}){const n=le({defaultValues:{[c]:g.buildInitialValues()}});return e.jsx(de,{formMethods:n,onSubmit:t=>o({[c]:g.transformValues(t.frilans)}),children:e.jsxs(me,{gap:"10",children:[e.jsx(g,{...a}),e.jsx(pe,{size:"small",variant:"primary",children:"Lagreknapp (Kun for test)"})]})})}},O={};var H,D,L;O.parameters={...O.parameters,docs:{...(H=O.parameters)==null?void 0:H.docs,source:{originalSource:"{}",...(L=(D=O.parameters)==null?void 0:D.docs)==null?void 0:L.source}}};const Ne=["Default"];export{O as Default,Ne as __namedExportsOrder,Se as default};
