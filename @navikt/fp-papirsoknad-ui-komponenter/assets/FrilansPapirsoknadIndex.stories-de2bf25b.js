import{a as e,j as o,F as D}from"./jsx-runtime-f8e698f3.js";import{a as ee}from"./chunk-AY7I2SME-5eb1ab46.js";import{l as i,d as C,h as Y,P as K,F as G,M as J,B as g,b as A,g as n,C as re,N as z,T as $,e as Q,f as ae,R as ie,H as te,D as se,t as ne,m as oe,a as le,O as de,c as pe}from"./nb_NO-bd1cc92f.js";import{r as h,b as k,I as U,c as W,h as S,a as me}from"./index.es-bd381c2f.js";import{r as Fe}from"./index-f1f2c4b1.js";import"./index-c74c9f7f.js";const ce="_notLastRow_7c46s_1",ge={notLastRow:ce},B="frilans",N=(r,a)=>r(a),H=({readOnly:r})=>{const a=i.useIntl(),{control:t,getValues:s,formState:{isSubmitted:F},trigger:y}=C(),{fields:_,remove:V,append:L}=Y({control:t,name:`${B}.perioder`});return e(K,{fields:_,bodyText:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.NyPeriode"}),readOnly:r,remove:V,append:L,children:(T,c,v)=>{const l=`${B}.perioder.${c}`;return o("div",{className:c!==_.length-1?ge.notLastRow:"",children:[e(G,{children:o(J,{children:[e(g,{children:e(A,{name:`${l}.periodeFom`,label:c===0?a.formatMessage({id:"Registrering.Frilans.periodeFom"}):"",validate:[h,k,()=>{const d=N(s,`${l}.periodeFom`),p=N(s,`${l}.periodeTom`);return p&&d?U(p)(d):null}],onChange:()=>F?y():void 0})}),e(g,{children:e(A,{name:`${l}.periodeTom`,label:c===0?a.formatMessage({id:"Registrering.Frilans.periodeTom"}):"",validate:[h,k,()=>{const d=N(s,`${l}.periodeFom`),p=N(s,`${l}.periodeTom`);return p&&d?W(d)(p):null}],onChange:()=>F?y():void 0})}),v&&e(g,{children:v()})]})}),e(n,{sixteenPx:!0})]},T.id)}})};try{H.displayName="FrilansPerioderFieldArray",H.__docgenInfo={description:`FrilansPerioderFieldArray

Viser inputfelter for fra og til dato for frilansperioder`,displayName:"FrilansPerioderFieldArray",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const ue="_notLastRow_7c46s_1",fe={notLastRow:ue},u="frilans",R=(r,a)=>r(a),ye=(r=[])=>r.map(a=>a.periodeFom).filter(a=>a&&a!=="").sort((a,t)=>S(a,z).diff(S(t,z))),Z={fomDato:"",tomDato:"",oppdragsgiver:""},he=me(50),_e=(r,a,t,s)=>()=>{const F=R(r,`${a}.fomDato`);return t.length>0&&t[0]&&F&&!S(t[0]).isSameOrBefore(S(F))?s.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.BeforeFomValidation"}):null},w=({readOnly:r})=>{const a=i.useIntl(),{control:t,getValues:s,watch:F,trigger:y,formState:{isSubmitted:_}}=C(),{fields:V,remove:L,append:T}=Y({control:t,name:`${u}.oppdragPerioder`}),c=F(`${u}.perioder`),v=Fe.useMemo(()=>ye(c),[c]);return e(K,{bodyText:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.NyPeriode"}),fields:V,emptyPeriodTemplate:Z,readOnly:r,append:T,remove:L,children:(l,d,p)=>{const m=`${u}.oppdragPerioder.${d}`;return o("div",{className:d!==V.length-1?fe.notLastRow:"",children:[e(G,{children:o(J,{children:[e(g,{children:e(A,{name:`${m}.fomDato`,label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.periodeFom"}),validate:[k,_e(s,m,v,a),()=>{const P=R(s,`${m}.fomDato`),b=R(s,`${m}.tomDato`);return b&&P?U(b)(P):null}],onChange:()=>_?y():void 0})}),e(g,{children:e(A,{name:`${m}.tomDato`,label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.periodeTom"}),validate:[k,()=>{const P=R(s,`${m}.fomDato`),b=R(s,`${m}.tomDato`);return b&&P?W(P)(b):null}],onChange:()=>_?y():void 0})}),e(g,{children:e(re,{name:`${m}.oppdragsgiver`,validate:[he],label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.Oppdragsgiver"})})}),p&&e(g,{children:p()})]})}),e(n,{sixteenPx:!0})]},l.id)}})};try{w.displayName="FrilansOppdragForFamilieFieldArray",w.__docgenInfo={description:`FrilansOppdragForFamilieFieldArray

Viser inputfelter for fra og til dato for frilansperioder.`,displayName:"FrilansOppdragForFamilieFieldArray",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const M=({readOnly:r})=>{const{watch:a}=C(),t=a(`${u}.harHattOppdragForFamilie`);return o(D,{children:[e($,{name:`${u}.harHattOppdragForFamilie`,label:e(i.FormattedMessage,{id:"Registrering.FrilansOppdrag.HarHattOppdragForFamilie"}),validate:[h],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e(i.FormattedMessage,{id:"Registrering.FrilansOppdrag.Yes"}),value:"true"},{label:e(i.FormattedMessage,{id:"Registrering.FrilansOppdrag.No"}),value:"false"}]}),t&&o(D,{children:[e(n,{eightPx:!0}),o(Q,{children:[e(ae,{size:"small",children:e(i.FormattedMessage,{id:"Registrering.FrilansOppdrag.OppgiPeriode"})}),e(n,{fourPx:!0}),e(w,{readOnly:r})]})]})]})};M.buildInitialValues=()=>({oppdragPerioder:[Z],perioder:void 0});try{M.displayName="FrilansOppdragForFamiliePanel",M.__docgenInfo={description:"",displayName:"FrilansOppdragForFamiliePanel",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const E="frilans",f=({readOnly:r})=>o(ie,{children:[e(te,{size:"small",children:e(i.FormattedMessage,{id:"Registrering.Frilans.Title"})}),e(n,{sixteenPx:!0}),e($,{name:`${E}.harSokerPeriodeMedFrilans`,label:e(i.FormattedMessage,{id:"Registrering.Frilans.HarFrilansvirksomhet"}),validate:[h],isReadOnly:r,isTrueOrFalseSelection:!0,radios:[{label:e(i.FormattedMessage,{id:"Registrering.Frilans.No"}),value:"false"},{label:e(i.FormattedMessage,{id:"Registrering.Frilans.Yes"}),value:"true",element:o(D,{children:[e(n,{eightPx:!0}),o(Q,{children:[e(se,{children:e(i.FormattedMessage,{id:"Registrering.Frilans.OppgiPeriode"})}),e(n,{eightPx:!0}),e(H,{readOnly:r}),e(n,{fourPx:!0}),e($,{name:`${E}.erNyoppstartetFrilanser`,label:e(i.FormattedMessage,{id:"Registrering.Frilans.ErNyoppstartedFrilanser"}),validate:[h],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e(i.FormattedMessage,{id:"Registrering.Frilans.Yes"}),value:"true"},{label:e(i.FormattedMessage,{id:"Registrering.Frilans.No"}),value:"false"}]}),e(n,{sixteenPx:!0}),e($,{name:`${E}.harInntektFraFosterhjem`,label:e(i.FormattedMessage,{id:"Registrering.Frilans.HarInntektFraForsterhjem"}),validate:[h],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e(i.FormattedMessage,{id:"Registrering.Frilans.Yes"}),value:"true"},{label:e(i.FormattedMessage,{id:"Registrering.Frilans.No"}),value:"false"}]}),e(n,{sixteenPx:!0}),e(M,{readOnly:r})]})]})}]})]});f.buildInitialValues=()=>({...M.buildInitialValues(),perioder:[{periodeFom:"",periodeTom:""}]});f.transformValues=r=>r.harSokerPeriodeMedFrilans?r:{harSokerPeriodeMedFrilans:r.harSokerPeriodeMedFrilans};try{f.displayName="FrilansPanel",f.__docgenInfo={description:"",displayName:"FrilansPanel",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const Pe=ne(oe),I=({readOnly:r})=>e(i.RawIntlProvider,{value:Pe,children:e(f,{readOnly:r})});I.buildInitialValues=()=>f.buildInitialValues();I.transformValues=r=>f.transformValues(r);const x=I;try{I.displayName="FrilansPapirsoknadIndex",I.__docgenInfo={description:"",displayName:"FrilansPapirsoknadIndex",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const Ne={title:"papirsoknad/ui-komponenter/frilans",component:x},be=({submitCallback:r})=>{const a=le({defaultValues:{[u]:x.buildInitialValues()}});return o(de,{formMethods:a,onSubmit:t=>r({[u]:x.transformValues(t.frilans)}),children:[e(x,{readOnly:!1}),e(n,{fourtyPx:!0}),e(pe,{size:"small",variant:"primary",children:"Lagreknapp (Kun for test)"})]})},O=be.bind({});O.args={submitCallback:ee("button-click")};var X,j,q;O.parameters={...O.parameters,docs:{...(X=O.parameters)==null?void 0:X.docs,source:{originalSource:`({
  submitCallback
}) => {
  const formMethods = useForm({
    defaultValues: {
      [FRILANS_NAME_PREFIX]: FrilansPapirsoknadIndex.buildInitialValues()
    }
  });
  return <Form formMethods={formMethods} onSubmit={(values: {
    [FRILANS_NAME_PREFIX]: FormValues;
  }) => submitCallback({
    [FRILANS_NAME_PREFIX]: FrilansPapirsoknadIndex.transformValues(values.frilans)
  })}>
      <FrilansPapirsoknadIndex readOnly={false} />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(q=(j=O.parameters)==null?void 0:j.docs)==null?void 0:q.source}}};const $e=["Default"];export{O as Default,$e as __namedExportsOrder,Ne as default};
//# sourceMappingURL=FrilansPapirsoknadIndex.stories-de2bf25b.js.map
