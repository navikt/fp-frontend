import{j as e}from"./jsx-runtime-d079401a.js";import{a as q}from"./chunk-AY7I2SME-c7b6cf8a.js";import{b as w,e as D,g as Z,h as ee,y as re,J as d,O as oe,E as te,o as ne,A as F,j as N,N as _,Q as se,d as x,w as I,Y as P,t as ae,P as le,m as ie,u as de,F as pe,B as ue}from"./nb_NO-bba0f3ef.js";import{b as me}from"./index.es-cd42e529.js";import{g as ce,r as z,R as ge}from"./index-f1f2c4b1.js";import{G as he,t as fe}from"./index.es-fe5c891b.js";import{r as m,b as A,I as R,h as U,c as V,q as Oe}from"./index.es-c52020bc.js";import{H as ve}from"./Heading-35f9e313.js";import"./index-c74c9f7f.js";var H={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(o){(function(){var t={}.hasOwnProperty;function s(){for(var a=[],n=0;n<arguments.length;n++){var r=arguments[n];if(r){var p=typeof r;if(p==="string"||p==="number")a.push(this&&this[r]||r);else if(Array.isArray(r))a.push(s.apply(this,r));else if(p==="object"){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){a.push(r.toString());continue}for(var l in r)t.call(r,l)&&r[l]&&a.push(this&&this[l]||l)}}}return a.join(" ")}o.exports?(s.default=s,o.exports=s):window.classNames=s})()})(H);var xe=H.exports;const je=ce(xe),be="_datesRowWithRemoveButton_od5lu_1",ye="_selectBredde_od5lu_7",L={datesRowWithRemoveButton:be,selectBredde:ye},ke=je.bind(L),Fe={land:"",periodeFom:"",periodeTom:""},b=(o,t)=>o(t),K=(o,t)=>()=>{const a=o(t).filter(({periodeFom:n,periodeTom:r})=>n&&n!==""&&r&&r!=="").map(({periodeFom:n,periodeTom:r})=>[n,r]);return a.length>0?Oe(a):void 0},Ie=o=>o.filter(({kode:t})=>t!==he.NORGE).map(({kode:t,navn:s})=>e.jsx("option",{value:t,children:s},t)),S=(o,t,s,a)=>()=>{const n=b(o,`${t}.${s}.periodeFom`),r=b(o,`${t}.${s}.periodeTom`);return!r||!n?null:a?R(r)(n):V(n)(r)},y=({erTidligereOpphold:o,mottattDato:t,readOnly:s,countryCodes:a})=>{const n=w(),r=o?"tidligereOppholdUtenlands":"fremtidigeOppholdUtenlands",{control:p,getValues:l,trigger:O,formState:{isSubmitted:v}}=D(),{fields:k,remove:W,append:G}=Z({control:p,name:r}),Q=z.useMemo(()=>Ie(a),[a]);return e.jsx(ee,{fields:k,titleText:n.formatMessage({id:"Registrering.RegistreringOpphold.AngiOpphold"}),bodyText:n.formatMessage({id:"Registrering.RegistreringOpphold.Add"}),emptyPeriodTemplate:Fe,createAddButtonInsteadOfImageLink:!0,readOnly:s,remove:W,append:G,children:(J,i,X)=>e.jsxs(ge.Fragment,{children:[i>0&&e.jsxs(e.Fragment,{children:[e.jsx(re,{}),e.jsx(d,{sixteenPx:!0})]}),e.jsx(oe,{name:`${r}.${i}.land`,label:n.formatMessage({id:"Registrering.RegistreringOpphold.Country"}),selectValues:Q,className:L.selectBredde,readOnly:s,validate:[m]}),e.jsx(d,{sixteenPx:!0}),e.jsx(te,{children:e.jsxs(ne,{className:ke({datesRowWithRemoveButton:i>0}),children:[e.jsx(F,{children:e.jsx(N,{name:`${r}.${i}.periodeFom`,label:n.formatMessage({id:"Registrering.RegistreringOpphold.periodeFom"}),isReadOnly:s,validate:[m,A,S(l,r,i,!0),()=>{const c=b(l,`${r}.${i}.periodeFom`);return o?R(U().format(_))(c):t?V(t)(c):void 0},K(l,r)],onChange:()=>v?O():void 0})}),e.jsx(F,{children:e.jsx(N,{name:`${r}.${i}.periodeTom`,label:n.formatMessage({id:"Registrering.RegistreringOpphold.periodeTom"}),isReadOnly:s,validate:[m,A,S(l,r,i,!1),()=>{const c=b(l,`${r}.${i}.periodeTom`);return o?R(U().format(_))(c):t?V(t)(c):void 0},K(l,r)],onChange:()=>v?O():void 0})}),e.jsx(F,{children:X()})]})}),e.jsx(d,{sixteenPx:!0})]},J.id)})};try{y.displayName="UtenlandsOppholdField",y.__docgenInfo={description:`UtenlandsOppholdField

Komponenten vises som del av skjermbildet for registrering av papirsøknad dersom søknad gjelder engangsstønad.
Komponenten lar saksbehandler legge inn informasjon om ett eller flere utenlandsopphold fra søknaden. Komponenten eksponerer valideringsregler
som lar seg tilpasse om opphold skal være fram eller tilbake i tid.
Komponenten har inputfelter og må derfor rendres som etterkommer av form-komponent.`,displayName:"UtenlandsOppholdField",props:{erTidligereOpphold:{defaultValue:null,description:"",name:"erTidligereOpphold",required:!0,type:{name:"boolean"}},mottattDato:{defaultValue:null,description:"",name:"mottattDato",required:!1,type:{name:"string"}},countryCodes:{defaultValue:null,description:"",name:"countryCodes",required:!0,type:{name:"Readonly<{ kode: string; navn: string; kodeverk: string; }>[]"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const u=({readOnly:o=!0,alleKodeverk:t,mottattDato:s,erAdopsjon:a})=>{const{formatMessage:n}=w(),r=z.useMemo(()=>t[fe.LANDKODER].slice().sort((v,k)=>v.navn.localeCompare(k.navn)),[t]),{watch:p}=D(),l=p("harTidligereOppholdUtenlands")||!1,O=p("harFremtidigeOppholdUtenlands")||!1;return e.jsxs(se,{children:[e.jsx(ve,{size:"small",children:e.jsx(x,{id:"Registrering.Opphold"})}),e.jsx(d,{sixteenPx:!0}),e.jsx(I,{name:"oppholdINorge",label:e.jsx(x,{id:a?"Registrering.OppholdVedAdopsjon":"Registrering.OppholdVedFodsel"}),validate:[m],isReadOnly:o,isTrueOrFalseSelection:!0,isHorizontal:!0,radios:[{label:n({id:"Registrering.Opphold.Yes"}),value:"true"},{label:n({id:"Registrering.Opphold.No"}),value:"false"}]}),e.jsx(d,{sixteenPx:!0}),e.jsx(I,{name:"harTidligereOppholdUtenlands",label:e.jsx(x,{id:"Registrering.OppholdSisteTolv"}),validate:[m],isReadOnly:o,isTrueOrFalseSelection:!0,isHorizontal:!0,radios:[{label:n({id:"Registrering.Opphold.Yes"}),value:"false"},{label:n({id:"Registrering.Opphold.No"}),value:"true"}]}),l?e.jsxs(e.Fragment,{children:[e.jsx(d,{eightPx:!0}),e.jsx(P,{alignOffset:64,children:e.jsx(y,{erTidligereOpphold:!0,mottattDato:s,countryCodes:r,readOnly:o})})]}):null,e.jsx(d,{sixteenPx:!0}),e.jsx(I,{name:"harFremtidigeOppholdUtenlands",label:e.jsx(x,{id:"Registrering.OppholdNesteTolv"}),validate:[m],isReadOnly:o,isTrueOrFalseSelection:!0,isHorizontal:!0,radios:[{label:n({id:"Registrering.Opphold.Yes"}),value:"false"},{label:n({id:"Registrering.Opphold.No"}),value:"true"}]}),O?e.jsxs(e.Fragment,{children:[e.jsx(d,{eightPx:!0}),e.jsx(P,{alignOffset:64,children:e.jsx(y,{erTidligereOpphold:!1,mottattDato:s,countryCodes:r,readOnly:o})})]}):null]})};u.buildInitialValues=()=>({tidligereOppholdUtenlands:[{periodeFom:void 0,periodeTom:void 0}],fremtidigeOppholdUtenlands:[{periodeFom:void 0,periodeTom:void 0}]});u.transformValues=o=>({...o,fremtidigeOppholdUtenlands:o.harFremtidigeOppholdUtenlands?o.fremtidigeOppholdUtenlands:void 0,tidligereOppholdUtenlands:o.harTidligereOppholdUtenlands?o.tidligereOppholdUtenlands:void 0});try{u.displayName="OppholdINorgePanel",u.__docgenInfo={description:`OppholdINorgePanel

Komponenten vises som del av skjermbildet for registrering av papirsøknad dersom søknad gjelder engangsstønad.
Inneholder delen av skjemaet som omhandler informasjon om utenlandsopphold.
Komponenten har inputfelter og må derfor rendres som etterkommer av form-komponent.`,displayName:"OppholdINorgePanel",props:{erAdopsjon:{defaultValue:null,description:"",name:"erAdopsjon",required:!0,type:{name:"boolean"}},readOnly:{defaultValue:{value:"true"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},mottattDato:{defaultValue:null,description:"",name:"mottattDato",required:!1,type:{name:"string"}}}}}catch{}const Re=ae(ie),f=({readOnly:o,erAdopsjon:t,alleKodeverk:s,mottattDato:a})=>e.jsx(le,{value:Re,children:e.jsx(u,{readOnly:o,erAdopsjon:t,alleKodeverk:s,mottattDato:a})});f.buildInitialValues=u.buildInitialValues;f.transformValues=u.transformValues;const j=f;try{f.displayName="OppholdINorgePapirsoknadIndex",f.__docgenInfo={description:"",displayName:"OppholdINorgePapirsoknadIndex",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},erAdopsjon:{defaultValue:null,description:"",name:"erAdopsjon",required:!0,type:{name:"boolean"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},mottattDato:{defaultValue:null,description:"",name:"mottattDato",required:!1,type:{name:"string"}}}}}catch{}const Me={title:"papirsoknad/ui-komponenter/opphold-i-norge",component:j},Y=({erAdopsjon:o,submitCallback:t})=>{const s=de({defaultValues:j.buildInitialValues()});return e.jsxs(pe,{formMethods:s,onSubmit:a=>t(j.transformValues(a)),children:[e.jsx(j,{readOnly:!1,erAdopsjon:o,alleKodeverk:me,mottattDato:"2022-05-30"}),e.jsx(d,{fourtyPx:!0}),e.jsx(ue,{size:"small",variant:"primary",children:"Lagreknapp (Kun for test)"})]})},g=Y.bind({});g.args={erAdopsjon:!1,submitCallback:q("button-click")};const h=Y.bind({});h.args={erAdopsjon:!0,submitCallback:q("button-click")};var T,M,B;g.parameters={...g.parameters,docs:{...(T=g.parameters)==null?void 0:T.docs,source:{originalSource:`({
  erAdopsjon,
  submitCallback
}) => {
  const formMethods = useForm({
    defaultValues: OppholdINorgePapirsoknadIndex.buildInitialValues()
  });
  return <Form formMethods={formMethods} onSubmit={(values: FormValues) => submitCallback(OppholdINorgePapirsoknadIndex.transformValues(values))}>
      <OppholdINorgePapirsoknadIndex readOnly={false} erAdopsjon={erAdopsjon} alleKodeverk={(alleKodeverk as any)} mottattDato="2022-05-30" />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(B=(M=g.parameters)==null?void 0:M.docs)==null?void 0:B.source}}};var C,E,$;h.parameters={...h.parameters,docs:{...(C=h.parameters)==null?void 0:C.docs,source:{originalSource:`({
  erAdopsjon,
  submitCallback
}) => {
  const formMethods = useForm({
    defaultValues: OppholdINorgePapirsoknadIndex.buildInitialValues()
  });
  return <Form formMethods={formMethods} onSubmit={(values: FormValues) => submitCallback(OppholdINorgePapirsoknadIndex.transformValues(values))}>
      <OppholdINorgePapirsoknadIndex readOnly={false} erAdopsjon={erAdopsjon} alleKodeverk={(alleKodeverk as any)} mottattDato="2022-05-30" />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...($=(E=h.parameters)==null?void 0:E.docs)==null?void 0:$.source}}};const Be=["ForFodsel","ForAdopsjon"];export{h as ForAdopsjon,g as ForFodsel,Be as __namedExportsOrder,Me as default};
//# sourceMappingURL=OppholdINorgePapirsoknadIndex.stories-e65dd3f2.js.map
