import{a as e,j as d,F as P}from"./jsx-runtime-f8e698f3.js";import{a as D}from"./chunk-AY7I2SME-5eb1ab46.js";import{l as c,d as A,h as V,P as q,g as m,F as O,M as H,B as p,S as J,b,C as j,c as w,t as K,R as X,H as Q,E as U,T as I,e as N,m as W,a as Y,O as Z}from"./nb_NO-bd1cc92f.js";import{r as z}from"./index-f1f2c4b1.js";import{r as o,N as ee,E as re,A as te}from"./index.es-bd381c2f.js";import"./index-c74c9f7f.js";const h={HEL_TILRETTELEGGING:"HEL_TILRETTELEGGING",DELVIS_TILRETTELEGGING:"DELVIS_TILRETTELEGGING",INGEN_TILRETTELEGGING:"INGEN_TILRETTELEGGING"},ie="_notLastRow_uwn16_1",le={notLastRow:ie},ae=ee(100),ne="tilretteleggingArbeidsgiver",oe="tilretteleggingSelvstendigNaringsdrivende",se="tilretteleggingFrilans",$={tilretteleggingType:"",dato:"",stillingsprosent:""},f=({readOnly:r,name:l})=>{const a=c.useIntl(),{control:F}=A(),{fields:s,remove:u,append:g}=V({control:F,name:l});return z.useEffect(()=>{s.length===0&&g($)},[]),e(q,{fields:s,emptyPeriodTemplate:$,bodyText:a.formatMessage({id:"BehovForTilrettteleggingFieldArray.LeggTilTilretteleggingsbehov"}),readOnly:r,append:g,remove:u,children:(v,t,T)=>d("div",{className:t!==s.length-1?le.notLastRow:"",children:[e(m,{sixteenPx:!0}),e(O,{children:d(H,{children:[e(p,{children:e(J,{readOnly:r,name:`${l}.${t}.tilretteleggingType`,label:t===0?a.formatMessage({id:"BehovForTilrettteleggingFieldArray.BehovForTilrettelegging"}):"",validate:[o],selectValues:[e("option",{value:h.HEL_TILRETTELEGGING,children:a.formatMessage({id:"BehovForTilrettteleggingFieldArray.KanGjennomfores"})},h.HEL_TILRETTELEGGING),e("option",{value:h.DELVIS_TILRETTELEGGING,children:a.formatMessage({id:"BehovForTilrettteleggingFieldArray.RedusertArbeid"})},h.DELVIS_TILRETTELEGGING),e("option",{value:h.INGEN_TILRETTELEGGING,children:a.formatMessage({id:"BehovForTilrettteleggingFieldArray.KanIkkeGjennomfores"})},h.INGEN_TILRETTELEGGING)]})}),e(p,{children:e(b,{isReadOnly:r,name:`${l}.${t}.dato`,label:t===0?a.formatMessage({id:"BehovForTilrettteleggingFieldArray.FraDato"}):"",validate:[o]})}),e(p,{children:e(j,{readOnly:r,name:`${l}.${t}.stillingsprosent`,label:t===0?a.formatMessage({id:"BehovForTilrettteleggingFieldArray.Stillingsprosent"}):"",validate:[o,ae],maxLength:99})}),T&&e(p,{children:T()})]})})]},v.id)})};try{f.displayName="BehovForTilretteleggingFieldArray",f.__docgenInfo={description:`BehovForTilrettteleggingFieldArray

Viser inputfelter for tilrettelegging av arbeidsforhold for selvstendig nÃ¦ringsdrivende eller frilans.`,displayName:"BehovForTilretteleggingFieldArray",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}}}}}catch{}const M="tilretteleggingArbeidsforhold",R="tilretteleggingForArbeidsgiver",ge={organisasjonsnummer:"",behovsdato:""},G=({readOnly:r})=>{const l=c.useIntl(),{control:a}=A(),{fields:F,append:s}=V({control:a,name:`${M}.${R}`}),u=()=>{s(ge)},g=`${M}.${R}`;return e(P,{children:F.map((v,t)=>d("div",{children:[e(O,{children:d(H,{children:[e(p,{children:e(j,{readOnly:r,name:`${g}.${t}.organisasjonsnummer`,label:l.formatMessage({id:"TilretteleggingForArbeidsgiverFieldArray.OrgNr"}),validate:[o,T=>re(T.toString()),te],maxLength:99})}),e(p,{children:e(b,{name:`${g}.${t}.behovsdato`,label:l.formatMessage({id:"TilretteleggingForArbeidsgiverFieldArray.TilretteleggingFra"}),validate:[o],isReadOnly:r})})]})}),e(m,{sixteenPx:!0}),e(f,{name:`${g}.${t}.${ne}`,readOnly:r}),F.length>t+1&&d(P,{children:[e("hr",{}),e(m,{sixteenPx:!0})]}),F.length===t+1&&e(w,{size:"small",variant:"secondary",onClick:u,type:"button",children:e(c.FormattedMessage,{id:"TilretteleggingForArbeidsgiverFieldArray.LeggTilArbeidsgiver"})})]},v.id))})};try{G.displayName="TilretteleggingForArbeidsgiverFieldArray",G.__docgenInfo={description:"",displayName:"TilretteleggingForArbeidsgiverFieldArray",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const n=K(W),de="tilretteleggingForArbeidsgiver",i="tilretteleggingArbeidsforhold",y=({readOnly:r})=>{var T,L,_,B;const{watch:l,setError:a,clearErrors:F,formState:s}=A(),u=l(`${i}.sokForSelvstendigNaringsdrivende`),g=l(`${i}.sokForFrilans`),v=l(`${i}.sokForArbeidsgiver`),t=!u&&!g&&!v;return z.useEffect(()=>{t&&a(`${i}.notRegisteredInput`,{type:"custom",message:n.formatMessage({id:"BehovForTilretteleggingPanel.MinstEnMaaVereJa"})}),t||F(`${i}.notRegisteredInput`)},[t]),e(c.RawIntlProvider,{value:n,children:d(X,{children:[e(Q,{size:"small",children:e(c.FormattedMessage,{id:"BehovForTilretteleggingPanel.BehovForTilrettelegging"})}),e(m,{sixteenPx:!0}),s.isSubmitted&&((L=(T=s.errors[i])==null?void 0:T.notRegisteredInput)==null?void 0:L.message)&&e(U,{children:(B=(_=s.errors[i])==null?void 0:_.notRegisteredInput)==null?void 0:B.message}),e(I,{name:`${i}.sokForSelvstendigNaringsdrivende`,label:e(c.FormattedMessage,{id:"BehovForTilretteleggingPanel.SokForSelvstendigNaringsdrivende"}),validate:[o],isReadOnly:r,isTrueOrFalseSelection:!0,isHorizontal:!0,radios:[{label:n.formatMessage({id:"BehovForTilretteleggingPanel.Ja"}),value:"true"},{label:n.formatMessage({id:"BehovForTilretteleggingPanel.Nei"}),value:"false"}]}),e(m,{sixteenPx:!0}),u&&d(N,{children:[e(b,{name:`${i}.behovsdatoSN`,label:n.formatMessage({id:"BehovForTilretteleggingPanel.TilretteleggingFra"}),validate:[o],isReadOnly:r}),e(f,{name:`${i}.${oe}`,readOnly:r})]}),e(I,{name:`${i}.sokForFrilans`,label:e(c.FormattedMessage,{id:"BehovForTilretteleggingPanel.SokForFrilans"}),validate:[o],isReadOnly:r,isTrueOrFalseSelection:!0,isHorizontal:!0,radios:[{label:n.formatMessage({id:"BehovForTilretteleggingPanel.Ja"}),value:"true"},{label:n.formatMessage({id:"BehovForTilretteleggingPanel.Nei"}),value:"false"}]}),e(m,{sixteenPx:!0}),g&&d(N,{children:[e(b,{name:`${i}.behovsdatoFrilans`,label:n.formatMessage({id:"BehovForTilretteleggingPanel.TilretteleggingFra"}),validate:[o],isReadOnly:r}),e(f,{name:`${i}.${se}`,readOnly:r})]}),e(I,{name:`${i}.sokForArbeidsgiver`,label:e(c.FormattedMessage,{id:"BehovForTilretteleggingPanel.SokForArbeidsgiver"}),validate:[o],isReadOnly:r,isTrueOrFalseSelection:!0,isHorizontal:!0,radios:[{label:n.formatMessage({id:"BehovForTilretteleggingPanel.Ja"}),value:"true"},{label:n.formatMessage({id:"BehovForTilretteleggingPanel.Nei"}),value:"false"}]}),e(m,{sixteenPx:!0}),v&&e(N,{children:e(G,{readOnly:r})})]})})};y.buildInitialValues=()=>({[i]:{[de]:[{}]}});const C=y;try{y.displayName="BehovForTilretteleggingPanel",y.__docgenInfo={description:"",displayName:"BehovForTilretteleggingPanel",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}}}}}catch{}const pe={title:"papirsoknad/ui-komponenter/tilrettelegging-svp",component:C},ce=({submitCallback:r})=>{const l=Y();return d(Z,{formMethods:l,onSubmit:r,children:[e(C,{readOnly:!1}),e(m,{fourtyPx:!0}),e(w,{size:"small",variant:"primary",children:"Lagreknapp (Kun for test)"})]})},E=ce.bind({});E.args={submitCallback:D("button-click")};var S,k,x;E.parameters={...E.parameters,docs:{...(S=E.parameters)==null?void 0:S.docs,source:{originalSource:`({
  submitCallback
}) => {
  const formMethods = useForm();
  return <Form formMethods={formMethods} onSubmit={submitCallback}>
      <BehovForTilretteleggingPanel readOnly={false} />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(x=(k=E.parameters)==null?void 0:k.docs)==null?void 0:x.source}}};const Ee=["Default"];export{E as Default,Ee as __namedExportsOrder,pe as default};
//# sourceMappingURL=BehovForTilretteleggingPanel.stories-fd8d70ff.js.map
