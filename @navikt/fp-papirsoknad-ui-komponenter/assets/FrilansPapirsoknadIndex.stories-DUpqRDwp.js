import{R as e,r as Z}from"./index-DVXBtNgz.js";import{e as B,f as L,l as X,r as j,F as Y,M as q,c as p,d as k,g as i,C as ee,N as H,T as v,h as t,i as K,j as re,R as ae,H as te,D as ne,t as le,P as ie,m as se,a as oe,b as me,O as de,B as ce}from"./nb_NO-C9BsZesQ.js";import{r as f,b as _,I as G,c as J,h as N,a as ue}from"./index.es-DaiGF91N.js";import"./v4-CQkTLCs1.js";import"./tslib.es6-CMwweBXX.js";import"./index-Cbx7Fas8.js";const pe="_notLastRow_7c46s_1",Fe={notLastRow:pe},D="frilans",O=(r,a)=>r(a),Q=({readOnly:r})=>{const a=B(),{control:n,getValues:l,formState:{isSubmitted:c},trigger:g}=L(),{fields:b,remove:h,append:M}=X({control:n,name:`${D}.perioder`});return e.createElement(j,{fields:b,bodyText:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.NyPeriode"}),readOnly:r,remove:h,append:M},(S,u,I)=>{const s=`${D}.perioder.${u}`;return e.createElement("div",{key:S.id,className:u!==b.length-1?Fe.notLastRow:""},e.createElement(Y,null,e.createElement(q,null,e.createElement(p,null,e.createElement(k,{name:`${s}.periodeFom`,label:u===0?a.formatMessage({id:"Registrering.Frilans.periodeFom"}):"",validate:[f,_,()=>{const o=O(l,`${s}.periodeFom`),m=O(l,`${s}.periodeTom`);return m&&o?G(m)(o):null}],onChange:()=>c?g():void 0})),e.createElement(p,null,e.createElement(k,{name:`${s}.periodeTom`,label:u===0?a.formatMessage({id:"Registrering.Frilans.periodeTom"}):"",validate:[f,_,()=>{const o=O(l,`${s}.periodeFom`),m=O(l,`${s}.periodeTom`);return m&&o?J(o)(m):null}],onChange:()=>c?g():void 0})),I&&e.createElement(p,null,I()))),e.createElement(i,{sixteenPx:!0}))})};Q.__docgenInfo={description:`FrilansPerioderFieldArray

Viser inputfelter for fra og til dato for frilansperioder`,methods:[],displayName:"FrilansPerioderFieldArray",props:{readOnly:{required:!0,tsType:{name:"boolean"},description:""}}};const ge="_notLastRow_7c46s_1",fe={notLastRow:ge},F="frilans",y=(r,a)=>r(a),Ee=(r=[])=>r.map(a=>a.periodeFom).filter(a=>a&&a!=="").sort((a,n)=>N(a,H).diff(N(n,H))),U={fomDato:"",tomDato:"",oppdragsgiver:""},be=ue(50),Pe=(r,a,n,l)=>()=>{const c=y(r,`${a}.fomDato`);return n.length>0&&n[0]&&c&&!N(n[0]).isSameOrBefore(N(c))?l.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.BeforeFomValidation"}):null},W=({readOnly:r})=>{const a=B(),{control:n,getValues:l,watch:c,trigger:g,formState:{isSubmitted:b}}=L(),{fields:h,remove:M,append:S}=X({control:n,name:`${F}.oppdragPerioder`}),u=c(`${F}.perioder`),I=Z.useMemo(()=>Ee(u),[u]);return e.createElement(j,{bodyText:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.NyPeriode"}),fields:h,emptyPeriodTemplate:U,readOnly:r,append:S,remove:M},(s,o,m)=>{const d=`${F}.oppdragPerioder.${o}`;return e.createElement("div",{key:s.id,className:o!==h.length-1?fe.notLastRow:""},e.createElement(Y,null,e.createElement(q,null,e.createElement(p,null,e.createElement(k,{name:`${d}.fomDato`,label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.periodeFom"}),validate:[_,Pe(l,d,I,a),()=>{const P=y(l,`${d}.fomDato`),R=y(l,`${d}.tomDato`);return R&&P?G(R)(P):null}],onChange:()=>b?g():void 0})),e.createElement(p,null,e.createElement(k,{name:`${d}.tomDato`,label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.periodeTom"}),validate:[_,()=>{const P=y(l,`${d}.fomDato`),R=y(l,`${d}.tomDato`);return R&&P?J(P)(R):null}],onChange:()=>b?g():void 0})),e.createElement(p,null,e.createElement(ee,{name:`${d}.oppdragsgiver`,validate:[be],label:a.formatMessage({id:"Registrering.FrilansOppdrag.FieldArray.Oppdragsgiver"})})),m&&e.createElement(p,null,m()))),e.createElement(i,{sixteenPx:!0}))})};W.__docgenInfo={description:`FrilansOppdragForFamilieFieldArray

Viser inputfelter for fra og til dato for frilansperioder.`,methods:[],displayName:"FrilansOppdragForFamilieFieldArray",props:{readOnly:{required:!0,tsType:{name:"boolean"},description:""}}};const x=({readOnly:r})=>{const{watch:a}=L(),n=a(`${F}.harHattOppdragForFamilie`);return e.createElement(e.Fragment,null,e.createElement(v,{name:`${F}.harHattOppdragForFamilie`,label:e.createElement(t,{id:"Registrering.FrilansOppdrag.HarHattOppdragForFamilie"}),validate:[f],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e.createElement(t,{id:"Registrering.FrilansOppdrag.Yes"}),value:"true"},{label:e.createElement(t,{id:"Registrering.FrilansOppdrag.No"}),value:"false"}]}),n&&e.createElement(e.Fragment,null,e.createElement(i,{eightPx:!0}),e.createElement(K,null,e.createElement(re,{size:"small"},e.createElement(t,{id:"Registrering.FrilansOppdrag.OppgiPeriode"})),e.createElement(i,{fourPx:!0}),e.createElement(W,{readOnly:r}))))};x.buildInitialValues=()=>({oppdragPerioder:[U],perioder:void 0});x.__docgenInfo={description:"",methods:[{name:"buildInitialValues",docblock:null,modifiers:["static"],params:[],returns:{type:{name:"intersection",raw:`{
  harHattOppdragForFamilie?: boolean;
} & FieldArrayFormValues`,elements:[{name:"signature",type:"object",raw:`{
  harHattOppdragForFamilie?: boolean;
}`,signature:{properties:[{key:"harHattOppdragForFamilie",value:{name:"boolean",required:!1}}]}},{name:"FormValues"}]}}}],displayName:"FrilansOppdragForFamiliePanel"};const T="frilans",E=({readOnly:r})=>e.createElement(ae,null,e.createElement(te,{size:"small"},e.createElement(t,{id:"Registrering.Frilans.Title"})),e.createElement(i,{sixteenPx:!0}),e.createElement(v,{name:`${T}.harSokerPeriodeMedFrilans`,label:e.createElement(t,{id:"Registrering.Frilans.HarFrilansvirksomhet"}),validate:[f],isReadOnly:r,isTrueOrFalseSelection:!0,radios:[{label:e.createElement(t,{id:"Registrering.Frilans.No"}),value:"false"},{label:e.createElement(t,{id:"Registrering.Frilans.Yes"}),value:"true",element:e.createElement(e.Fragment,null,e.createElement(i,{eightPx:!0}),e.createElement(K,null,e.createElement(ne,null,e.createElement(t,{id:"Registrering.Frilans.OppgiPeriode"})),e.createElement(i,{eightPx:!0}),e.createElement(Q,{readOnly:r}),e.createElement(i,{fourPx:!0}),e.createElement(v,{name:`${T}.erNyoppstartetFrilanser`,label:e.createElement(t,{id:"Registrering.Frilans.ErNyoppstartedFrilanser"}),validate:[f],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e.createElement(t,{id:"Registrering.Frilans.Yes"}),value:"true"},{label:e.createElement(t,{id:"Registrering.Frilans.No"}),value:"false"}]}),e.createElement(i,{sixteenPx:!0}),e.createElement(v,{name:`${T}.harInntektFraFosterhjem`,label:e.createElement(t,{id:"Registrering.Frilans.HarInntektFraForsterhjem"}),validate:[f],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:e.createElement(t,{id:"Registrering.Frilans.Yes"}),value:"true"},{label:e.createElement(t,{id:"Registrering.Frilans.No"}),value:"false"}]}),e.createElement(i,{sixteenPx:!0}),e.createElement(x,{readOnly:r})))}]}));E.buildInitialValues=()=>({...x.buildInitialValues(),perioder:[{periodeFom:"",periodeTom:""}]});E.transformValues=r=>r.harSokerPeriodeMedFrilans?r:{harSokerPeriodeMedFrilans:r.harSokerPeriodeMedFrilans};E.__docgenInfo={description:"",methods:[{name:"buildInitialValues",docblock:null,modifiers:["static"],params:[],returns:null},{name:"transformValues",docblock:null,modifiers:["static"],params:[{name:"formValues",optional:!1,type:null}],returns:null}],displayName:"FrilansPanel"};const Re=le(se),A=({readOnly:r})=>e.createElement(ie,{value:Re},e.createElement(E,{readOnly:r}));A.buildInitialValues=()=>E.buildInitialValues();A.transformValues=r=>E.transformValues(r);const $=A;A.__docgenInfo={description:"",methods:[{name:"buildInitialValues",docblock:null,modifiers:["static"],params:[],returns:null},{name:"transformValues",docblock:null,modifiers:["static"],params:[{name:"formValues",optional:!1,type:null}],returns:null}],displayName:"FrilansPapirsoknadIndex"};const ke={title:"papirsoknad/ui-komponenter/frilans",component:$},ye=({submitCallback:r})=>{const a=me({defaultValues:{[F]:$.buildInitialValues()}});return e.createElement(de,{formMethods:a,onSubmit:n=>r({[F]:$.transformValues(n.frilans)})},e.createElement($,{readOnly:!1}),e.createElement(i,{fourtyPx:!0}),e.createElement(ce,{size:"small",variant:"primary"},"Lagreknapp (Kun for test)"))},V=ye.bind({});V.args={submitCallback:oe("button-click")};var w,C,z;V.parameters={...V.parameters,docs:{...(w=V.parameters)==null?void 0:w.docs,source:{originalSource:`({
  submitCallback
}) => {
  const formMethods = useForm({
    defaultValues: {
      [FRILANS_NAME_PREFIX]: FrilansPapirsoknadIndex.buildInitialValues()
    }
  });
  return <Form formMethods={formMethods} onSubmit={(values: {
    [FRILANS_NAME_PREFIX]: FormValues;
  }) => submitCallback({
    [FRILANS_NAME_PREFIX]: FrilansPapirsoknadIndex.transformValues(values.frilans)
  })}>
      <FrilansPapirsoknadIndex readOnly={false} />
      <VerticalSpacer fourtyPx />
      <Button size="small" variant="primary">
        Lagreknapp (Kun for test)
      </Button>
    </Form>;
}`,...(z=(C=V.parameters)==null?void 0:C.docs)==null?void 0:z.source}}};const _e=["Default"];export{V as Default,_e as __namedExportsOrder,ke as default};
