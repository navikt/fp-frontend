{"version":3,"file":"EngangsstonadPapirsoknadIndex.stories-fee127ac.js","sources":["../../src/engangsstonad/components/RegistreringAdopsjonOgOmsorgGrid.tsx","../../src/engangsstonad/components/RegistreringFodselGrid.tsx","../../src/engangsstonad/components/EngangsstonadForm.tsx","../../src/engangsstonad/EngangsstonadPapirsoknadIndex.tsx"],"sourcesContent":["import React, { FunctionComponent } from 'react';\nimport { AlleKodeverk } from '@navikt/fp-types';\nimport {\n  SprakPapirsoknadIndex,\n  RettigheterPapirsoknadIndex,\n  OppholdINorgePapirsoknadIndex,\n  OppholdINorgeFormValues,\n  OmsorgOgAdopsjonPapirsoknadIndex,\n  OmsorgOgAdopsjonFormValues,\n  SoknadData,\n  OmsorgOgAdopsjonTransformedFormValues,\n} from '@navikt/fp-papirsoknad-ui-komponenter';\nimport { familieHendelseType } from '@navikt/fp-kodeverk';\n\nimport { HStack } from '@navikt/ds-react';\nimport styles from './registreringAdopsjonOgOmsorgGrid.module.css';\n\nconst OMSORG_FORM_NAME_PREFIX = 'omsorg';\n\nexport type FormValues = {\n  rettigheter?: string;\n  foedselsDato?: string;\n  [OMSORG_FORM_NAME_PREFIX]?: OmsorgOgAdopsjonFormValues;\n} & OppholdINorgeFormValues;\n\nexport type TransformedFormValues = Omit<FormValues, 'omsorg'> & {\n  [OMSORG_FORM_NAME_PREFIX]?: OmsorgOgAdopsjonTransformedFormValues;\n};\n\ninterface OwnProps {\n  readOnly: boolean;\n  soknadData: SoknadData;\n  alleKodeverk: AlleKodeverk;\n  fodselsdato?: string | string[];\n  mottattDato?: string;\n}\n\ninterface StaticFunctions {\n  buildInitialValues: () => FormValues;\n  transformValues: (values: FormValues) => TransformedFormValues;\n}\n\n/*\n * RegistreringAdopsjonOgOmsorgGrid\n *\n * Form som brukes ved adopsjon for tilleggsopplysninger.\n */\nconst RegistreringAdopsjonOgOmsorgGrid: FunctionComponent<OwnProps> & StaticFunctions = ({\n  readOnly,\n  soknadData,\n  alleKodeverk,\n  fodselsdato,\n  mottattDato,\n}) => (\n  <HStack justify=\"space-between\">\n    <div className={styles.col}>\n      <RettigheterPapirsoknadIndex readOnly={readOnly} soknadData={soknadData} />\n      <OppholdINorgePapirsoknadIndex\n        readOnly={readOnly}\n        alleKodeverk={alleKodeverk}\n        erAdopsjon={soknadData.getFamilieHendelseType() !== familieHendelseType.ADOPSJON}\n        mottattDato={mottattDato}\n      />\n      <SprakPapirsoknadIndex readOnly={readOnly} />\n    </div>\n    <div className={styles.col}>\n      <OmsorgOgAdopsjonPapirsoknadIndex\n        readOnly={readOnly}\n        familieHendelseType={soknadData.getFamilieHendelseType()}\n        isForeldrepengerFagsak={false}\n        fodselsdato={fodselsdato}\n      />\n    </div>\n  </HStack>\n);\n\nRegistreringAdopsjonOgOmsorgGrid.transformValues = (values: FormValues): TransformedFormValues => ({\n  ...OppholdINorgePapirsoknadIndex.transformValues(values),\n  [OMSORG_FORM_NAME_PREFIX]: OmsorgOgAdopsjonPapirsoknadIndex.transformValues(values[OMSORG_FORM_NAME_PREFIX]!),\n});\n\nRegistreringAdopsjonOgOmsorgGrid.buildInitialValues = () => ({\n  [OMSORG_FORM_NAME_PREFIX]: {},\n  ...OppholdINorgePapirsoknadIndex.buildInitialValues(),\n});\n\nexport default RegistreringAdopsjonOgOmsorgGrid;\n","import React, { FunctionComponent } from 'react';\n\nimport { AlleKodeverk } from '@navikt/fp-types';\nimport { familieHendelseType, foreldreType } from '@navikt/fp-kodeverk';\nimport {\n  SprakPapirsoknadIndex,\n  RettigheterPapirsoknadIndex,\n  OppholdINorgePapirsoknadIndex,\n  OppholdINorgeFormValues,\n  FodselPapirsoknadIndex,\n  FodselFormValues,\n  OmsorgOgAdopsjonPapirsoknadIndex,\n  OmsorgOgAdopsjonFormValues,\n  SoknadData,\n  OmsorgOgAdopsjonTransformedFormValues,\n} from '@navikt/fp-papirsoknad-ui-komponenter';\nimport { HStack } from '@navikt/ds-react';\n\nimport styles from './registreringFodselGrid.module.css';\n\nconst OMSORG_FORM_NAME_PREFIX = 'omsorg';\n\nexport type FormValues = {\n  rettigheter?: string;\n  foedselsData?: string;\n  [OMSORG_FORM_NAME_PREFIX]?: OmsorgOgAdopsjonFormValues;\n} & OppholdINorgeFormValues &\n  FodselFormValues;\n\nexport type TransformedFormValues = Omit<FormValues, 'omsorg'> & {\n  [OMSORG_FORM_NAME_PREFIX]?: OmsorgOgAdopsjonTransformedFormValues;\n};\n\ninterface StaticFunctions {\n  buildInitialValues: () => FormValues;\n  transformValues: (values: FormValues) => TransformedFormValues;\n}\n\ninterface OwnProps {\n  readOnly: boolean;\n  soknadData: SoknadData;\n  alleKodeverk: AlleKodeverk;\n  fodselsdato?: string;\n  mottattDato?: string;\n}\n\nconst RegistreringFodselGrid: FunctionComponent<OwnProps> & StaticFunctions = ({\n  readOnly,\n  soknadData,\n  alleKodeverk,\n  fodselsdato,\n  mottattDato,\n}) => (\n  <HStack justify=\"space-between\">\n    <div className={styles.col}>\n      {soknadData.getForeldreType() !== foreldreType.MOR && (\n        <RettigheterPapirsoknadIndex readOnly={readOnly} soknadData={soknadData} />\n      )}\n      <OppholdINorgePapirsoknadIndex\n        readOnly={readOnly}\n        erAdopsjon={soknadData.getFamilieHendelseType() !== familieHendelseType.ADOPSJON}\n        alleKodeverk={alleKodeverk}\n        mottattDato={mottattDato}\n      />\n      <SprakPapirsoknadIndex readOnly={readOnly} />\n    </div>\n    <div className={styles.col}>\n      {soknadData.getForeldreType() !== foreldreType.MOR && (\n        <OmsorgOgAdopsjonPapirsoknadIndex\n          readOnly={readOnly}\n          familieHendelseType={soknadData.getFamilieHendelseType()}\n          isForeldrepengerFagsak={false}\n          fodselsdato={fodselsdato}\n        />\n      )}\n      <FodselPapirsoknadIndex readOnly={readOnly} />\n    </div>\n  </HStack>\n);\n\nRegistreringFodselGrid.transformValues = values => ({\n  ...OppholdINorgePapirsoknadIndex.transformValues(values),\n  [OMSORG_FORM_NAME_PREFIX]: OmsorgOgAdopsjonPapirsoknadIndex.transformValues(values[OMSORG_FORM_NAME_PREFIX]!),\n});\n\nRegistreringFodselGrid.buildInitialValues = () => ({\n  ...OppholdINorgePapirsoknadIndex.buildInitialValues(),\n  [OMSORG_FORM_NAME_PREFIX]: {},\n});\n\nexport default RegistreringFodselGrid;\n","import React, { FunctionComponent } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Form } from '@navikt/ft-form-hooks';\nimport { omitOne } from '@navikt/ft-utils';\n\nimport { AlleKodeverk } from '@navikt/fp-types';\nimport { familieHendelseType } from '@navikt/fp-kodeverk';\nimport {\n  SoknadData,\n  MottattDatoPapirsoknadIndex,\n  LagreSoknadPapirsoknadIndex,\n  rettighet,\n  MottattDatoFormValues,\n} from '@navikt/fp-papirsoknad-ui-komponenter';\n\nimport RegistreringAdopsjonOgOmsorgGrid, { FormValues as FormValuesAdopsjon } from './RegistreringAdopsjonOgOmsorgGrid';\nimport RegistreringFodselGrid, { FormValues as FormValuesFodsel } from './RegistreringFodselGrid';\n\nexport const ENGANGSSTONAD_FORM_NAME = 'EngangsstonadForm';\n\ntype FormValues = MottattDatoFormValues & (FormValuesFodsel | FormValuesAdopsjon);\n\nconst buildInitialValues = (erFødsel: boolean, erAdopsjon: boolean): FormValues => {\n  if (erFødsel) {\n    return RegistreringFodselGrid.buildInitialValues();\n  }\n  if (erAdopsjon) {\n    return RegistreringAdopsjonOgOmsorgGrid.buildInitialValues();\n  }\n  return {};\n};\n\nconst transformValues = (values: FormValues, erFødsel: boolean, erAdopsjon: boolean) => {\n  let formValues = values;\n  if (values.rettigheter === rettighet.IKKE_RELEVANT) {\n    formValues = omitOne(values, 'rettigheter');\n  }\n  return {\n    ...formValues,\n    ...(erFødsel ? RegistreringFodselGrid.transformValues(formValues) : {}),\n    ...(erAdopsjon ? RegistreringAdopsjonOgOmsorgGrid.transformValues(formValues) : {}),\n  };\n};\n\ninterface OwnProps {\n  readOnly: boolean;\n  soknadData: SoknadData;\n  alleKodeverk: AlleKodeverk;\n  onSubmitUfullstendigsoknad: () => Promise<any>;\n  onSubmit: (values: any) => Promise<any>;\n}\n\nconst EngangsstonadForm: FunctionComponent<OwnProps> = ({\n  readOnly,\n  soknadData,\n  alleKodeverk,\n  onSubmitUfullstendigsoknad,\n  onSubmit,\n}) => {\n  const erFødsel = soknadData.getFamilieHendelseType() === familieHendelseType.FODSEL;\n  const erAdopsjon = soknadData.getFamilieHendelseType() === familieHendelseType.ADOPSJON;\n\n  const formMethods = useForm<FormValues>({\n    defaultValues: buildInitialValues(erFødsel, erAdopsjon),\n  });\n\n  const fodselsdato = formMethods.watch('foedselsDato');\n  const mottattDato = formMethods.watch('mottattDato');\n\n  return (\n    <Form\n      formMethods={formMethods}\n      onSubmit={(values: FormValues) => onSubmit(transformValues(values, erFødsel, erAdopsjon))}\n    >\n      <MottattDatoPapirsoknadIndex readOnly={readOnly} />\n      {erFødsel && (\n        <RegistreringFodselGrid\n          soknadData={soknadData}\n          readOnly={readOnly}\n          alleKodeverk={alleKodeverk}\n          fodselsdato={fodselsdato}\n          mottattDato={mottattDato}\n        />\n      )}\n      {erAdopsjon && (\n        <RegistreringAdopsjonOgOmsorgGrid\n          soknadData={soknadData}\n          readOnly={readOnly}\n          alleKodeverk={alleKodeverk}\n          fodselsdato={fodselsdato}\n          mottattDato={mottattDato}\n        />\n      )}\n      <LagreSoknadPapirsoknadIndex\n        readOnly={readOnly}\n        submitting={formMethods.formState.isSubmitting}\n        onSubmitUfullstendigsoknad={onSubmitUfullstendigsoknad}\n      />\n    </Form>\n  );\n};\n\nexport default EngangsstonadForm;\n","import React, { FunctionComponent } from 'react';\nimport { AlleKodeverk } from '@navikt/fp-types';\nimport { SoknadData } from '@navikt/fp-papirsoknad-ui-komponenter';\n\nimport EngangsstonadForm from './components/EngangsstonadForm';\n\ninterface OwnProps {\n  onSubmitUfullstendigsoknad: () => Promise<any>;\n  onSubmit: (values: any) => Promise<any>;\n  readOnly: boolean;\n  soknadData: SoknadData;\n  alleKodeverk: AlleKodeverk;\n}\n\nconst EngangsstonadPapirsoknadIndex: FunctionComponent<OwnProps> = ({\n  onSubmitUfullstendigsoknad,\n  onSubmit,\n  readOnly,\n  soknadData,\n  alleKodeverk,\n}) => (\n  <EngangsstonadForm\n    onSubmitUfullstendigsoknad={onSubmitUfullstendigsoknad}\n    onSubmit={onSubmit}\n    readOnly={readOnly}\n    soknadData={soknadData}\n    alleKodeverk={alleKodeverk}\n  />\n);\n\nexport default EngangsstonadPapirsoknadIndex;\n"],"names":["OMSORG_FORM_NAME_PREFIX","RegistreringAdopsjonOgOmsorgGrid","readOnly","soknadData","alleKodeverk","fodselsdato","mottattDato","jsxs","HStack","styles","jsx","RettigheterPapirsoknadIndex","OppholdINorgePapirsoknadIndex","familieHendelseType","SprakPapirsoknadIndex","OmsorgOgAdopsjonPapirsoknadIndex","values","RegistreringFodselGrid","foreldreType","FodselPapirsoknadIndex","buildInitialValues","erFødsel","erAdopsjon","transformValues","formValues","rettighet","omitOne","EngangsstonadForm","onSubmitUfullstendigsoknad","onSubmit","formMethods","useForm","Form","MottattDatoPapirsoknadIndex","LagreSoknadPapirsoknadIndex","EngangsstonadPapirsoknadIndex","EngangsstonadPapirsoknadIndex$1"],"mappings":"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"}