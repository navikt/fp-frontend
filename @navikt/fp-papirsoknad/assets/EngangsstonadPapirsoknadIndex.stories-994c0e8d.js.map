{"version":3,"file":"EngangsstonadPapirsoknadIndex.stories-994c0e8d.js","sources":["../../src/engangsstonad/components/RegistreringAdopsjonOgOmsorgGrid.tsx","../../src/engangsstonad/components/RegistreringFodselGrid.tsx","../../src/engangsstonad/components/EngangsstonadForm.tsx","../../src/engangsstonad/EngangsstonadPapirsoknadIndex.tsx"],"sourcesContent":["import React, { FunctionComponent } from 'react';\nimport { AlleKodeverk } from '@navikt/fp-types';\nimport {\n  SprakPapirsoknadIndex,\n  RettigheterPapirsoknadIndex,\n  OppholdINorgePapirsoknadIndex,\n  OppholdINorgeFormValues,\n  AnnenForelderPapirsoknadIndex,\n  AnnenForelderFormValues,\n  OmsorgOgAdopsjonPapirsoknadIndex,\n  OmsorgOgAdopsjonFormValues,\n  SoknadData,\n  OmsorgOgAdopsjonTransformedFormValues,\n} from '@navikt/fp-papirsoknad-ui-komponenter';\nimport { familieHendelseType } from '@navikt/fp-kodeverk';\nimport { FlexColumn, FlexContainer, FlexRow } from '@navikt/ft-ui-komponenter';\n\nimport styles from './registreringAdopsjonOgOmsorgGrid.module.css';\n\nconst ANNEN_FORELDER_FORM_NAME_PREFIX = 'annenForelder';\nconst OMSORG_FORM_NAME_PREFIX = 'omsorg';\n\nexport type FormValues = {\n  rettigheter?: string;\n  foedselsDato?: string;\n  [OMSORG_FORM_NAME_PREFIX]?: OmsorgOgAdopsjonFormValues;\n  [ANNEN_FORELDER_FORM_NAME_PREFIX]?: AnnenForelderFormValues;\n} & OppholdINorgeFormValues;\n\nexport type TransformedFormValues = Omit<FormValues, 'omsorg'> & {\n  [OMSORG_FORM_NAME_PREFIX]?: OmsorgOgAdopsjonTransformedFormValues;\n};\n\ninterface OwnProps {\n  readOnly: boolean;\n  soknadData: SoknadData;\n  alleKodeverk: AlleKodeverk;\n  fagsakPersonnummer: string;\n  fodselsdato?: string | string[];\n  mottattDato?: string;\n}\n\ninterface StaticFunctions {\n  buildInitialValues: () => FormValues;\n  transformValues: (values: FormValues) => TransformedFormValues;\n}\n\n/*\n * RegistreringAdopsjonOgOmsorgGrid\n *\n * Form som brukes ved adopsjon for tilleggsopplysninger.\n */\nconst RegistreringAdopsjonOgOmsorgGrid: FunctionComponent<OwnProps> & StaticFunctions = ({\n  readOnly,\n  soknadData,\n  alleKodeverk,\n  fagsakPersonnummer,\n  fodselsdato,\n  mottattDato,\n}) => (\n  <FlexContainer>\n    <FlexRow>\n      <FlexColumn className={styles.col}>\n        <RettigheterPapirsoknadIndex readOnly={readOnly} soknadData={soknadData} />\n        <OppholdINorgePapirsoknadIndex\n          readOnly={readOnly}\n          alleKodeverk={alleKodeverk}\n          erAdopsjon={soknadData.getFamilieHendelseType() !== familieHendelseType.ADOPSJON}\n          mottattDato={mottattDato}\n        />\n        <SprakPapirsoknadIndex readOnly={readOnly} />\n      </FlexColumn>\n      <FlexColumn className={styles.col}>\n        <OmsorgOgAdopsjonPapirsoknadIndex\n          readOnly={readOnly}\n          familieHendelseType={soknadData.getFamilieHendelseType()}\n          isForeldrepengerFagsak={false}\n          fodselsdato={fodselsdato}\n        />\n        <AnnenForelderPapirsoknadIndex\n          readOnly={readOnly}\n          alleKodeverk={alleKodeverk}\n          fagsakPersonnummer={fagsakPersonnummer}\n        />\n      </FlexColumn>\n    </FlexRow>\n  </FlexContainer>\n);\n\nRegistreringAdopsjonOgOmsorgGrid.transformValues = (values: FormValues): TransformedFormValues => ({\n  ...OppholdINorgePapirsoknadIndex.transformValues(values),\n  [OMSORG_FORM_NAME_PREFIX]: OmsorgOgAdopsjonPapirsoknadIndex.transformValues(values[OMSORG_FORM_NAME_PREFIX]),\n});\n\nRegistreringAdopsjonOgOmsorgGrid.buildInitialValues = () => ({\n  [OMSORG_FORM_NAME_PREFIX]: {},\n  ...OppholdINorgePapirsoknadIndex.buildInitialValues(),\n});\n\nexport default RegistreringAdopsjonOgOmsorgGrid;\n","import React, { FunctionComponent } from 'react';\n\nimport { AlleKodeverk } from '@navikt/fp-types';\nimport { familieHendelseType, foreldreType } from '@navikt/fp-kodeverk';\nimport {\n  SprakPapirsoknadIndex,\n  RettigheterPapirsoknadIndex,\n  OppholdINorgePapirsoknadIndex,\n  OppholdINorgeFormValues,\n  AnnenForelderPapirsoknadIndex,\n  AnnenForelderFormValues,\n  FodselPapirsoknadIndex,\n  FodselFormValues,\n  OmsorgOgAdopsjonPapirsoknadIndex,\n  OmsorgOgAdopsjonFormValues,\n  SoknadData,\n  OmsorgOgAdopsjonTransformedFormValues,\n} from '@navikt/fp-papirsoknad-ui-komponenter';\n\nimport { FlexColumn, FlexContainer, FlexRow } from '@navikt/ft-ui-komponenter';\nimport styles from './registreringFodselGrid.module.css';\n\n/*\n * RegistreringFodselForm\n *\n * Form som brukes for registrering av fodsel.\n */\nconst ANNEN_FORELDER_FORM_NAME_PREFIX = 'annenForelder';\nconst OMSORG_FORM_NAME_PREFIX = 'omsorg';\n\ninterface OwnProps {\n  readOnly: boolean;\n  soknadData: SoknadData;\n  alleKodeverk: AlleKodeverk;\n  fagsakPersonnummer: string;\n  fodselsdato?: string;\n  mottattDato?: string;\n}\n\nexport type FormValues = {\n  rettigheter?: string;\n  foedselsData?: string;\n  [OMSORG_FORM_NAME_PREFIX]?: OmsorgOgAdopsjonFormValues;\n  [ANNEN_FORELDER_FORM_NAME_PREFIX]?: AnnenForelderFormValues;\n} & OppholdINorgeFormValues &\n  FodselFormValues;\n\nexport type TransformedFormValues = Omit<FormValues, 'omsorg'> & {\n  [OMSORG_FORM_NAME_PREFIX]?: OmsorgOgAdopsjonTransformedFormValues;\n};\n\ninterface StaticFunctions {\n  buildInitialValues: () => FormValues;\n  transformValues: (values: FormValues) => TransformedFormValues;\n}\n\nconst RegistreringFodselGrid: FunctionComponent<OwnProps> & StaticFunctions = ({\n  readOnly,\n  soknadData,\n  alleKodeverk,\n  fagsakPersonnummer,\n  fodselsdato,\n  mottattDato,\n}) => (\n  <FlexContainer>\n    <FlexRow>\n      <FlexColumn className={styles.col}>\n        {soknadData.getForeldreType() !== foreldreType.MOR && (\n          <RettigheterPapirsoknadIndex readOnly={readOnly} soknadData={soknadData} />\n        )}\n        <OppholdINorgePapirsoknadIndex\n          readOnly={readOnly}\n          erAdopsjon={soknadData.getFamilieHendelseType() !== familieHendelseType.ADOPSJON}\n          alleKodeverk={alleKodeverk}\n          mottattDato={mottattDato}\n        />\n        <SprakPapirsoknadIndex readOnly={readOnly} />\n      </FlexColumn>\n      <FlexColumn className={styles.col}>\n        {soknadData.getForeldreType() !== foreldreType.MOR && (\n          <OmsorgOgAdopsjonPapirsoknadIndex\n            readOnly={readOnly}\n            familieHendelseType={soknadData.getFamilieHendelseType()}\n            isForeldrepengerFagsak={false}\n            fodselsdato={fodselsdato}\n          />\n        )}\n        <FodselPapirsoknadIndex readOnly={readOnly} />\n        <AnnenForelderPapirsoknadIndex\n          readOnly={readOnly}\n          alleKodeverk={alleKodeverk}\n          fagsakPersonnummer={fagsakPersonnummer}\n        />\n      </FlexColumn>\n    </FlexRow>\n  </FlexContainer>\n);\n\nRegistreringFodselGrid.transformValues = values => ({\n  ...OppholdINorgePapirsoknadIndex.transformValues(values),\n  [OMSORG_FORM_NAME_PREFIX]: OmsorgOgAdopsjonPapirsoknadIndex.transformValues(values[OMSORG_FORM_NAME_PREFIX]),\n});\n\nRegistreringFodselGrid.buildInitialValues = () => ({\n  ...OppholdINorgePapirsoknadIndex.buildInitialValues(),\n  [OMSORG_FORM_NAME_PREFIX]: {},\n});\n\nexport default RegistreringFodselGrid;\n","import React, { FunctionComponent } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Form } from '@navikt/ft-form-hooks';\nimport { omitOne } from '@navikt/ft-utils';\n\nimport { AlleKodeverk } from '@navikt/fp-types';\nimport { familieHendelseType } from '@navikt/fp-kodeverk';\nimport {\n  SoknadData,\n  MottattDatoPapirsoknadIndex,\n  LagreSoknadPapirsoknadIndex,\n  rettighet,\n  MottattDatoFormValues,\n} from '@navikt/fp-papirsoknad-ui-komponenter';\n\nimport RegistreringAdopsjonOgOmsorgGrid, { FormValues as FormValuesAdopsjon } from './RegistreringAdopsjonOgOmsorgGrid';\nimport RegistreringFodselGrid, { FormValues as FormValuesFodsel } from './RegistreringFodselGrid';\n\nexport const ENGANGSSTONAD_FORM_NAME = 'EngangsstonadForm';\n\ntype FormValues = MottattDatoFormValues & (FormValuesFodsel | FormValuesAdopsjon);\n\nconst buildInitialValues = (erFødsel: boolean, erAdopsjon: boolean): FormValues => {\n  if (erFødsel) {\n    return RegistreringFodselGrid.buildInitialValues();\n  }\n  if (erAdopsjon) {\n    return RegistreringAdopsjonOgOmsorgGrid.buildInitialValues();\n  }\n  return {};\n};\n\nconst transformValues = (values: FormValues, erFødsel: boolean, erAdopsjon: boolean) => {\n  let formValues = values;\n  if (values.rettigheter === rettighet.IKKE_RELEVANT) {\n    formValues = omitOne(values, 'rettigheter');\n  }\n  return {\n    ...formValues,\n    ...(erFødsel ? RegistreringFodselGrid.transformValues(formValues) : {}),\n    ...(erAdopsjon ? RegistreringAdopsjonOgOmsorgGrid.transformValues(formValues) : {}),\n  };\n};\n\ninterface OwnProps {\n  readOnly: boolean;\n  soknadData: SoknadData;\n  fagsakPersonnummer: string;\n  alleKodeverk: AlleKodeverk;\n  onSubmitUfullstendigsoknad: () => Promise<any>;\n  onSubmit: (values: any) => Promise<any>;\n}\n\nconst EngangsstonadForm: FunctionComponent<OwnProps> = ({\n  readOnly,\n  soknadData,\n  alleKodeverk,\n  onSubmitUfullstendigsoknad,\n  onSubmit,\n  fagsakPersonnummer,\n}) => {\n  const erFødsel = soknadData.getFamilieHendelseType() === familieHendelseType.FODSEL;\n  const erAdopsjon = soknadData.getFamilieHendelseType() === familieHendelseType.ADOPSJON;\n\n  const formMethods = useForm<FormValues>({\n    defaultValues: buildInitialValues(erFødsel, erAdopsjon),\n  });\n\n  const fodselsdato = formMethods.watch('foedselsDato');\n  const mottattDato = formMethods.watch('mottattDato');\n\n  return (\n    <Form\n      formMethods={formMethods}\n      onSubmit={(values: FormValues) => onSubmit(transformValues(values, erFødsel, erAdopsjon))}\n    >\n      <MottattDatoPapirsoknadIndex readOnly={readOnly} />\n      {erFødsel && (\n        <RegistreringFodselGrid\n          soknadData={soknadData}\n          readOnly={readOnly}\n          alleKodeverk={alleKodeverk}\n          fagsakPersonnummer={fagsakPersonnummer}\n          fodselsdato={fodselsdato}\n          mottattDato={mottattDato}\n        />\n      )}\n      {erAdopsjon && (\n        <RegistreringAdopsjonOgOmsorgGrid\n          soknadData={soknadData}\n          readOnly={readOnly}\n          alleKodeverk={alleKodeverk}\n          fagsakPersonnummer={fagsakPersonnummer}\n          fodselsdato={fodselsdato}\n          mottattDato={mottattDato}\n        />\n      )}\n      <LagreSoknadPapirsoknadIndex\n        readOnly={readOnly}\n        submitting={formMethods.formState.isSubmitting}\n        onSubmitUfullstendigsoknad={onSubmitUfullstendigsoknad}\n      />\n    </Form>\n  );\n};\n\nexport default EngangsstonadForm;\n","import React, { FunctionComponent } from 'react';\nimport { AlleKodeverk } from '@navikt/fp-types';\nimport { SoknadData } from '@navikt/fp-papirsoknad-ui-komponenter';\n\nimport EngangsstonadForm from './components/EngangsstonadForm';\n\ninterface OwnProps {\n  onSubmitUfullstendigsoknad: () => Promise<any>;\n  onSubmit: (values: any) => Promise<any>;\n  readOnly: boolean;\n  soknadData: SoknadData;\n  alleKodeverk: AlleKodeverk;\n  fagsakPersonnummer: string;\n}\n\nconst EngangsstonadPapirsoknadIndex: FunctionComponent<OwnProps> = ({\n  onSubmitUfullstendigsoknad,\n  onSubmit,\n  readOnly,\n  soknadData,\n  alleKodeverk,\n  fagsakPersonnummer,\n}) => (\n  <EngangsstonadForm\n    onSubmitUfullstendigsoknad={onSubmitUfullstendigsoknad}\n    onSubmit={onSubmit}\n    readOnly={readOnly}\n    soknadData={soknadData}\n    alleKodeverk={alleKodeverk}\n    fagsakPersonnummer={fagsakPersonnummer}\n  />\n);\n\nexport default EngangsstonadPapirsoknadIndex;\n"],"names":["OMSORG_FORM_NAME_PREFIX","RegistreringAdopsjonOgOmsorgGrid","readOnly","soknadData","alleKodeverk","fagsakPersonnummer","fodselsdato","mottattDato","jsx","FlexContainer","jsxs","FlexRow","FlexColumn","styles","RettigheterPapirsoknadIndex","OppholdINorgePapirsoknadIndex","familieHendelseType","SprakPapirsoknadIndex","OmsorgOgAdopsjonPapirsoknadIndex","AnnenForelderPapirsoknadIndex","values","RegistreringFodselGrid","foreldreType","FodselPapirsoknadIndex","buildInitialValues","erFødsel","erAdopsjon","transformValues","formValues","rettighet","omitOne","EngangsstonadForm","onSubmitUfullstendigsoknad","onSubmit","formMethods","useForm","Form","MottattDatoPapirsoknadIndex","LagreSoknadPapirsoknadIndex","EngangsstonadPapirsoknadIndex","EngangsstonadPapirsoknadIndex$1"],"mappings":"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"}