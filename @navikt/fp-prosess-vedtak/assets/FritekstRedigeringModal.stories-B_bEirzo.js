import{j as I}from"./jsx-runtime-D_zvdyIk.js";import{r as ke,R as rt}from"./index-Dxs5m6lS.js";import{c as mh,P as bh,a as vh,x as yh,y as Vl,d as wn,o as kh,l as xh,A as Mo,h as Ht,i as et,z as wh,M as yt,H as ca,w as Sh,v as Ch,s as Eh}from"./nb_NO-gtCw12KH.js";import{g as Kl,c as _n}from"./_commonjsHelpers-Cpj98o6Y.js";import"./v4-CtRu48qb.js";import"./entry-preview-5nkdvlK0.js";import"./iframe-eGazMbGS.js";import"./chunk-XP5HYGXS-D5tuasO7.js";import"./index-DMeSseuw.js";import"./index-DrFkskS4.js";const Th=t=>{const e=mh({locale:"nb-NO",messages:t},vh());return r=>I.jsx(bh,{value:e,children:r()})};function Oh(t,e){const n=Object.assign({},e);for(const r in e){const o=t[r],i=e[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...l)=>{i(...l),o(...l)}:o&&(n[r]=o):r==="style"?n[r]=Object.assign(Object.assign({},o),i):r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return Object.assign(Object.assign({},t),n)}var _h=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const xr=ke.forwardRef((t,e)=>{var n;const{children:r}=t,o=_h(t,["children"]);if(ke.isValidElement(r)){const i=Object.prototype.propertyIsEnumerable.call(r.props,"ref")?r.props.ref:r.ref;return ke.cloneElement(r,Object.assign(Object.assign({},Oh(o,r.props)),{ref:e?yh([e,i]):i}))}if(ke.Children.count(r)>1){const i=new Error("Aksel: Components using 'asChild' expects to recieve a single React element child.");throw i.name="SlotError",(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,i,xr),i}return null}),[Bh,QC]=Vl({hookName:"useRenameCSS",name:"RenameCSS",providerName:"RenameCSSProvider",defaultValue:{cn:wn}}),Ih=({children:t})=>rt.createElement(Bh,{cn:wn},t),[Lh,ii]=Vl({hookName:"useTheme",name:"ThemeProvider",providerName:"ThemeProvider"});ke.forwardRef((t,e)=>{var n;const r=ii(!1),{children:o,className:i,asChild:s=!1,theme:l=(n=r==null?void 0:r.theme)!==null&&n!==void 0?n:"light",hasBackground:c=!0}=t,u=c??(r===void 0&&t.theme!==void 0),d=s?xr:"div";return rt.createElement(Lh,{theme:l},rt.createElement(Ih,null,rt.createElement(d,{ref:e,className:wn("navds-theme",i,l),"data-background":u},o)))});function ae(t,e,n,r){return r?typeof r=="string"?{[`--__${t}c-${e}-${n}-xs`]:r}:Object.fromEntries(Object.entries(r).map(([o,i])=>[`--__${t}c-${e}-${n}-${o}`,i])):{}}const Mh={"--ax-spacing-32":"--ax-space-128","--ax-spacing-24":"--ax-space-96","--ax-spacing-20":"--ax-space-80","--ax-spacing-18":"--ax-space-72","--ax-spacing-16":"--ax-space-64","--ax-spacing-14":"--ax-space-56","--ax-spacing-12":"--ax-space-48","--ax-spacing-11":"--ax-space-44","--ax-spacing-10":"--ax-space-40","--ax-spacing-9":"--ax-space-36","--ax-spacing-8":"--ax-space-32","--ax-spacing-7":"--ax-space-28","--ax-spacing-6":"--ax-space-24","--ax-spacing-5":"--ax-space-20","--ax-spacing-4":"--ax-space-16","--ax-spacing-3":"--ax-space-12","--ax-spacing-2":"--ax-space-8","--ax-spacing-1-alt":"--ax-space-6","--ax-spacing-1":"--ax-space-4","--ax-spacing-05":"--ax-space-2","--ax-spacing-0":"--ax-space-0"},ua=(t,e,n,r,o,i)=>e.split(" ").map((s,l,c)=>{var a;if(t==="margin-inline"&&s==="full")return`calc((100vw - ${100/c.length}%)/-2)`;if(t==="padding-inline"&&s==="full")return`calc((100vw - ${100/c.length}%)/2)`;if(["mi","mb"].includes(t)&&s==="auto")return"auto";let u=`var(--${i}-${n}-${s})`;if(r.includes(s))u=s==="px"?"1px":s;else if(s.startsWith("space"))u=`var(--${i}-${s})`;else{const d=`--${i}-spacing-${s}`;u=`var(${(a=Mh[d])!==null&&a!==void 0?a:d})`}return o?s==="0"?"0":`calc(-1 * ${u})`:u}).join(" ");function Be(t,e,n,r,o,i=!1,s=[]){if(!o)return{};if(typeof o=="string")return{[`--__${t}c-${e}-${n}-xs`]:ua(n,o,r,s,i,t)};const l={};return Object.entries(o).forEach(([c,a])=>{l[`--__${t}c-${e}-${n}-${c}`]=ua(n,a,r,s,i,t)}),l}const Ah=["className","padding","paddingInline","paddingBlock","margin","marginInline","marginBlock","width","minWidth","maxWidth","height","minHeight","maxHeight","position","inset","top","right","bottom","left","overflow","overflowX","overflowY","flexBasis","flexGrow","flexShrink","gridColumn"],Ph=({children:t,className:e,padding:n,paddingInline:r,paddingBlock:o,margin:i,marginInline:s,marginBlock:l,width:c,minWidth:a,maxWidth:u,height:d,minHeight:h,maxHeight:g,position:f,inset:k,top:O,right:w,left:E,bottom:U,overflow:T,overflowX:C,overflowY:N,flexBasis:j,flexGrow:p,flexShrink:m,gridColumn:y})=>{const S=ii(!1)?"ax":"a",_=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Be(S,"r","p","spacing",n)),Be(S,"r","pi","spacing",r)),Be(S,"r","pb","spacing",o)),Be(S,"r","m","spacing",i)),Be(S,"r","mi","spacing",s)),Be(S,"r","mb","spacing",l)),ae(S,"r","w",c)),ae(S,"r","minw",a)),ae(S,"r","maxw",u)),ae(S,"r","h",d)),ae(S,"r","minh",h)),ae(S,"r","maxh",g)),ae(S,"r","position",f)),Be(S,"r","inset","spacing",k)),Be(S,"r","top","spacing",O)),Be(S,"r","right","spacing",w)),Be(S,"r","bottom","spacing",U)),Be(S,"r","left","spacing",E)),ae(S,"r","overflow",T)),ae(S,"r","overflowx",C)),ae(S,"r","overflowy",N)),ae(S,"r","flex-basis",j)),ae(S,"r","flex-grow",p)),ae(S,"r","flex-shrink",m)),ae(S,"r","grid-column",y));return rt.createElement(xr,{className:wn({className:e,"navds-r-p":n,"navds-r-pi":r,"navds-r-pb":o,"navds-r-m":i,"navds-r-mi":s,"navds-r-mb":l,"navds-r-w":c,"navds-r-minw":a,"navds-r-maxw":u,"navds-r-h":d,"navds-r-minh":h,"navds-r-maxh":g,"navds-r-position":f,"navds-r-inset":k,"navds-r-top":O,"navds-r-right":w,"navds-r-bottom":U,"navds-r-left":E,"navds-r-overflow":T,"navds-r-overflowx":C,"navds-r-overflowy":N,"navds-r-flex-basis":j,"navds-r-flex-grow":p,"navds-r-flex-shrink":m,"navds-r-grid-column":y}),style:_},t)};var Nh=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const Gl=ke.forwardRef((t,e)=>{var{children:n,className:r,as:o="div",align:i,justify:s,wrap:l=!0,gap:c,style:a,direction:u="row",asChild:d}=t,h=Nh(t,["children","className","as","align","justify","wrap","gap","style","direction","asChild"]);const f=ii(!1)?"ax":"a",k=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a),Be(f,"stack","gap","spacing",c)),ae(f,"stack","direction",u)),ae(f,"stack","align",i)),ae(f,"stack","justify",s)),O=d?xr:o;return rt.createElement(Ph,Object.assign({},h),rt.createElement(O,Object.assign({},kh(h,Ah),{ref:e,style:k,className:wn("navds-stack",r,{"navds-vstack":u==="column","navds-hstack":u==="row","navds-stack-gap":c,"navds-stack-align":i,"navds-stack-justify":s,"navds-stack-direction":u,"navds-stack-wrap":l})}),n))});var jh=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const $h=ke.forwardRef((t,e)=>{var{as:n="div"}=t,r=jh(t,["as"]);return rt.createElement(Gl,Object.assign({as:n},r,{ref:e,direction:"row"}))});var Rh=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const Yl=ke.forwardRef((t,e)=>{var{as:n="div"}=t,r=Rh(t,["as"]);return rt.createElement(Gl,Object.assign({as:n},r,{ref:e,direction:"column",wrap:!1}))}),Dh=`<!DOCTYPE html PUBLIC "-//OPENHTMLTOPDF//DOC XHTML Character Entities Only 1.0//EN" "">

<html lang="no">

<head>
    <meta charset="UTF-8"/>
    <meta name="subject" content="Vedtak- eller informasjonsbrev fra Nav for pleiepenger"/>
    <meta name="description" content="Vedtak- eller informasjonsbrev fra Nav for pleiepenger"/>
    <meta name="keywords" content="Vedtaksbrev informasjonsbrev nav pleiepenger" />
    <meta name="author" content="NAV IT"/>
    <title>Brev for pleiepenger</title>
    <style>
        /* WARNING: Uses CSS 2.1 */
        @page {
            size: A4 portrait;
            @bottom-left {
                content: element(footer);
            }
        }

        * {
            font-family: "Source Sans Pro", sans-serif !important;
            color: #3E3832;
            border-spacing: 0;
        }

        body {
            padding: 10mm 10mm 0 10mm;
            margin: 0;
            position: relative;
            font-size: 14px;
        }

        header {
            padding-bottom: 5mm;
        }

        #nav_logo_container {
            margin-bottom: 10mm;
        }

        #footer {
            margin-top: 8mm;
            width: 100%;
        }

        .uten-mellomrom p {
            margin: 0;
        }

        #nav_logo {
            width: 15mm;
            height: 9.1mm;
            margin: auto;
            padding: 0 0 10mm 0;
            position: absolute;
            right: 10mm;
        }

        h1 {
            font-size: 25px;
            font-weight: 500;
        }

        h2 {
            font-size: 20px;
            margin: 10mm 0 1.5mm 0;
            font-weight: 500;
        }

        h3 {
            font-size: 18px;
            margin: 10mm 0 1.5mm 0;
            font-weight: 500;
        }

        p {
            margin: 3mm 0 2mm 0;
        }

        table {
            width: 100%;
            page-break-after: auto;
        }

        #kalender {
            margin-top: 0.7cm;
            margin-left: -1.06cm;
        }

        #kalender td {
            vertical-align: top;
            height: 2.6cm;
            text-align: left;
            border: 0.06cm solid #FFFFFF;
        }

        .dag {
            page-break-inside: avoid;
            padding: 0.05cm;
            height: 100%;
            min-width: 3.175cm;
        }

        .vurdert {
            margin-top: 0.07cm;
            margin-bottom: 0.07cm;
            background-color: #E6E6E6;
        }

        .ikkevurdert {
            text-align: right;
            border: 0.07cm dotted #E6E6E6;
            color: grey;
            text-decoration: line-through;
        }

        .ikkerelevant {
            text-align: right;
            color: #6A6A6A;
            background-color: #F8F8F8;
            border: 0.07cm solid #F8F8F8;
        }

        #aarsaker {
            margin-top: 0.2cm;
            vertical-align: bottom;
            white-space: nowrap;
        }

        #aarsaker > div {
            border-radius: 5px;
            white-space: nowrap;
            font-size: 11px;
        }

        #aarsaker img {
            width: 10px;
            margin-left: 0.1cm;
            margin-right: 0.05cm;
            vertical-align: middle;
        }

        #aarsaker span {
            vertical-align: middle;
            margin: 0;
        }

        .kalenderforklaring {
            margin: 0 0.1cm 0 0.4cm;
            display: inline-block;
            vertical-align: middle;
        }

        .bold {
            font-weight: 700;
        }

        .new_page {
            page-break-before: always;
        }

        .same_page {
            page-break-inside: avoid;
        }

        .sidetall {
            float: right;
        }

        #pagenumber:before {
            content: counter(page);
        }

        #pagecount:before {
            content: counter(pages);
        }

        .tilbakemelding {
            margin-top: 8mm;
            font-size: 0.8rem;
            font-style: italic;
        }

        .diskre {
            margin-top: 8mm;
            font-size: 0.8rem;
            font-style: italic;
        }

    </style>
</head>
<body>
    <header>
        <div id="nav_logo_container">
            <img id="nav_logo" src="data:image/png;base64,..." alt="nav logo"/>
        </div>

        <p style="text-align: right">
            19. februar 2025
        </p>

        <div style="margin-top: -20mm; min-height: 20mm;">
            <div class="uten-mellomrom">
                <p>Til: Leah Lama</p>
                <p>Fødselsnummer: 27458118677</p>
            </div>

            <div class="uten-mellomrom" style="font-style: italic; margin-top: 2mm; font-size: small;">
                <p>Gjelder: Duck Dole</p>
                <p>Fødselsnummer: 01502375268</p>
            </div>
        </div>
    </header>

    <section style="height: 20cm" data-hidden="data-hidden">
        <!--
        innhold i denne div'en definerer hva som kan redigeres via frontend.
        NB: Tagg attributter vil ikke bli med tilbake fra frontend.
        -->
        <div data-editable="data-editable">
            <h1>NAV har innvilget søknaden din om pleiepenger</h1>
            <p>
                Du har rett til:
                <ul>
                    <li>
                        <p>
                            100 prosent pleiepenger 
                            fra 16. desember 2024 til 19. desember 2024.
                            Du får utbetalt 462 kroner dagen, før skatt.
                        </p>
                    </li>
                </ul>
            </p>
            NAV utbetaler pleiepenger innen den 25. i hver måned.
            Informasjon om utbetaling finner du under utbetalingsoversikten på "Min side".
            <h2>Hvorfor får du pleiepenger?</h2>
            <p>
                NAV kan gi pleiepenger når du har omsorg for et barn som er sykt eller under utredning for sykdom,
                og som derfor trenger omsorg og pleie.
            </p>
            <p>Vi har vurdert opplysningene i saken din, og har kommet frem til at du har rett til pleiepenger.</p>
            <p>
                Dersom barnet har et fast og regelmessig omsorgstilbud, du skal jobbe eller det er andre personer som har tilsyn med barnet, skal pleiepengene graderes tilsvarende.
                Du finner mer informasjon om når pleiepenger skal reduseres på nav.no.
            </p>
            <p>
                Fra 16. desember 2024 til 19. desember 2024 har du rett til 100 prosent pleiepenger.
                Du får fulle pleiepenger fordi du ikke jobber hos Bedrift AS mens du pleier barnet.
                <p>Dette følger av folketrygdloven § 9-10 første og andre ledd.</p>
            </p>
            <h2>Hvordan har vi beregnet pleiepengene dine?</h2>
            <p>
                Når vi beregner arbeidsinntekten din, bruker vi et gjennomsnitt av de tre siste månedslønnene, som vi omregner til en årsinntekt.
                Hvis du nettopp har begynt å arbeide, byttet arbeidsforhold eller lønnen din har endret seg, bruker vi månedsinntektene etter at endringen skjedde.
            </p>
            <p>
                Arbeidsgiver Bedrift AS har opplyst at månedsinntekten din er 10 000 kroner.
            </p>
            <p>
                Vi har fastsatt pleiepengene dine ut fra en årsinntekt på 120 000 kroner.
            </p>
            <p>Beregningen er gjort etter folketrygdloven §§ 9-15 jf. 8-30.</p>
        </div>
        <div class="same_page">
            <h2>Du må si fra om endringer</h2>
            <p>
                Hvis det skjer endringer som kan ha betydning for pleiepengene dine, må du straks ta kontakt med oss.
                Her finner du en oversikt over endringer du må melde fra om, og hvordan du gjør dette
                <a title="rett og plikt" href="https://www.nav.no/pleiepenger-barn#melde">nav.no/pleiepenger-barn#melde</a>.
                Har du behov for mer veiledning, kan du ringe 55 55 33 33.
            </p>
        </div>
        <div class="same_page">
            <h2>Du har rett til å klage</h2>
            <p>Du kan klage innen 6 uker fra den datoen du mottok vedtaket.</p>
            <p>Du finner skjema og informasjon på <a title="klage" href="https://nav.no/klage">nav.no/klage</a>.</p>
        </div>
        <div class="same_page">
            <h2>Du har rett til innsyn</h2>
            <p>Du har rett til å se dokumentene i saken din.</p>
        </div>
        <div class="same_page">
            <h2>Trenger du mer informasjon? </h2>
            <p>
                Du finner mer informasjon på <a title="pleiepenger" href="https://nav.no/pleiepenger-barn">nav.no/pleiepenger-barn</a>. 
                Hvis du ikke finner svar på spørsmålet ditt, kan du kontakte oss på telefon 55 55 33 33 eller på
                <a href="https://nav.no/skriv-til-oss">nav.no/skriv-til-oss</a>.
            </p>
        </div>
        <div id="footer">
            <div style="margin-top: 10mm;" class="uten-mellomrom">
                <p>Med vennlig hilsen</p>
                <p>Nav Arbeid og ytelser</p>
            </div>
        </div>
    </section>
    <footer style="position: running(footer)">
        <span class="vedtakid"></span>
        <span class="sidetall">side <span id="pagenumber"></span> av <span id="pagecount"></span></span>
    </footer>
</body>
</html>`,ht=0,x=1,$=2,re=3,G=4,ze=5,wr=6,pe=7,we=8,D=9,A=10,Q=11,R=12,ee=13,Sn=14,Se=15,ge=16,me=17,Ee=18,Pe=19,De=20,H=21,M=22,de=23,Me=24,ce=25,zh=0;function le(t){return t>=48&&t<=57}function pt(t){return le(t)||t>=65&&t<=70||t>=97&&t<=102}function si(t){return t>=65&&t<=90}function Fh(t){return t>=97&&t<=122}function Hh(t){return si(t)||Fh(t)}function Uh(t){return t>=128}function or(t){return Hh(t)||Uh(t)||t===95}function Xl(t){return or(t)||le(t)||t===45}function Wh(t){return t>=0&&t<=8||t===11||t>=14&&t<=31||t===127}function ir(t){return t===10||t===13||t===12}function Et(t){return ir(t)||t===32||t===9}function Ge(t,e){return!(t!==92||ir(e)||e===zh)}function qn(t,e,n){return t===45?or(e)||e===45||Ge(e,n):or(t)?!0:t===92?Ge(t,e):!1}function Vr(t,e,n){return t===43||t===45?le(e)?2:e===46&&le(n)?3:0:t===46?le(e)?2:0:le(t)?1:0}function Zl(t){return t===65279||t===65534?1:0}const Ao=new Array(128),qh=128,Vn=130,Ql=131,ai=132,Jl=133;for(let t=0;t<Ao.length;t++)Ao[t]=Et(t)&&Vn||le(t)&&Ql||or(t)&&ai||Wh(t)&&Jl||t||qh;function Kr(t){return t<128?Ao[t]:ai}function Ut(t,e){return e<t.length?t.charCodeAt(e):0}function Po(t,e,n){return n===13&&Ut(t,e+1)===10?2:1}function Wt(t,e,n){let r=t.charCodeAt(e);return si(r)&&(r=r|32),r===n}function gn(t,e,n,r){if(n-e!==r.length||e<0||n>t.length)return!1;for(let o=e;o<n;o++){const i=r.charCodeAt(o-e);let s=t.charCodeAt(o);if(si(s)&&(s=s|32),s!==i)return!1}return!0}function Vh(t,e){for(;e>=0&&Et(t.charCodeAt(e));e--);return e+1}function Bn(t,e){for(;e<t.length&&Et(t.charCodeAt(e));e++);return e}function Gr(t,e){for(;e<t.length&&le(t.charCodeAt(e));e++);return e}function Vt(t,e){if(e+=2,pt(Ut(t,e-1))){for(const r=Math.min(t.length,e+5);e<r&&pt(Ut(t,e));e++);const n=Ut(t,e);Et(n)&&(e+=Po(t,e,n))}return e}function In(t,e){for(;e<t.length;e++){const n=t.charCodeAt(e);if(!Xl(n)){if(Ge(n,Ut(t,e+1))){e=Vt(t,e)-1;continue}break}}return e}function Sr(t,e){let n=t.charCodeAt(e);if((n===43||n===45)&&(n=t.charCodeAt(e+=1)),le(n)&&(e=Gr(t,e+1),n=t.charCodeAt(e)),n===46&&le(t.charCodeAt(e+1))&&(e+=2,e=Gr(t,e)),Wt(t,e,101)){let r=0;n=t.charCodeAt(e+1),(n===45||n===43)&&(r=1,n=t.charCodeAt(e+2)),le(n)&&(e=Gr(t,e+1+r+1))}return e}function Yr(t,e){for(;e<t.length;e++){const n=t.charCodeAt(e);if(n===41){e++;break}Ge(n,Ut(t,e+1))&&(e=Vt(t,e))}return e}function ec(t){if(t.length===1&&!pt(t.charCodeAt(0)))return t[0];let e=parseInt(t,16);return(e===0||e>=55296&&e<=57343||e>1114111)&&(e=65533),String.fromCodePoint(e)}const tc=["EOF-token","ident-token","function-token","at-keyword-token","hash-token","string-token","bad-string-token","url-token","bad-url-token","delim-token","number-token","percentage-token","dimension-token","whitespace-token","CDO-token","CDC-token","colon-token","semicolon-token","comma-token","[-token","]-token","(-token",")-token","{-token","}-token","comment-token"],Kh=16*1024;function sr(t=null,e){return t===null||t.length<e?new Uint32Array(Math.max(e+1024,Kh)):t}const da=10,Gh=12,ha=13;function pa(t){const e=t.source,n=e.length,r=e.length>0?Zl(e.charCodeAt(0)):0,o=sr(t.lines,n),i=sr(t.columns,n);let s=t.startLine,l=t.startColumn;for(let c=r;c<n;c++){const a=e.charCodeAt(c);o[c]=s,i[c]=l++,(a===da||a===ha||a===Gh)&&(a===ha&&c+1<n&&e.charCodeAt(c+1)===da&&(c++,o[c]=s,i[c]=l),s++,l=1)}o[n]=s,i[n]=l,t.lines=o,t.columns=i,t.computed=!0}class Yh{constructor(e,n,r,o){this.setSource(e,n,r,o),this.lines=null,this.columns=null}setSource(e="",n=0,r=1,o=1){this.source=e,this.startOffset=n,this.startLine=r,this.startColumn=o,this.computed=!1}getLocation(e,n){return this.computed||pa(this),{source:n,offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]}}getLocationRange(e,n,r){return this.computed||pa(this),{source:r,start:{offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]},end:{offset:this.startOffset+n,line:this.lines[n],column:this.columns[n]}}}}const Fe=16777215,He=24,Tt=new Uint8Array(32);Tt[$]=M;Tt[H]=M;Tt[Pe]=De;Tt[de]=Me;function fa(t){return Tt[t]!==0}class Xh{constructor(e,n){this.setSource(e,n)}reset(){this.eof=!1,this.tokenIndex=-1,this.tokenType=0,this.tokenStart=this.firstCharOffset,this.tokenEnd=this.firstCharOffset}setSource(e="",n=()=>{}){e=String(e||"");const r=e.length,o=sr(this.offsetAndType,e.length+1),i=sr(this.balance,e.length+1);let s=0,l=-1,c=0,a=e.length;this.offsetAndType=null,this.balance=null,i.fill(0),n(e,(u,d,h)=>{const g=s++;if(o[g]=u<<He|h,l===-1&&(l=d),i[g]=a,u===c){const f=i[a];i[a]=g,a=f,c=Tt[o[f]>>He]}else fa(u)&&(a=g,c=Tt[u])}),o[s]=ht<<He|r,i[s]=s;for(let u=0;u<s;u++){const d=i[u];if(d<=u){const h=i[d];h!==u&&(i[u]=h)}else d>s&&(i[u]=s)}this.source=e,this.firstCharOffset=l===-1?0:l,this.tokenCount=s,this.offsetAndType=o,this.balance=i,this.reset(),this.next()}lookupType(e){return e+=this.tokenIndex,e<this.tokenCount?this.offsetAndType[e]>>He:ht}lookupTypeNonSC(e){for(let n=this.tokenIndex;n<this.tokenCount;n++){const r=this.offsetAndType[n]>>He;if(r!==ee&&r!==ce&&e--===0)return r}return ht}lookupOffset(e){return e+=this.tokenIndex,e<this.tokenCount?this.offsetAndType[e-1]&Fe:this.source.length}lookupOffsetNonSC(e){for(let n=this.tokenIndex;n<this.tokenCount;n++){const r=this.offsetAndType[n]>>He;if(r!==ee&&r!==ce&&e--===0)return n-this.tokenIndex}return ht}lookupValue(e,n){return e+=this.tokenIndex,e<this.tokenCount?gn(this.source,this.offsetAndType[e-1]&Fe,this.offsetAndType[e]&Fe,n):!1}getTokenStart(e){return e===this.tokenIndex?this.tokenStart:e>0?e<this.tokenCount?this.offsetAndType[e-1]&Fe:this.offsetAndType[this.tokenCount]&Fe:this.firstCharOffset}substrToCursor(e){return this.source.substring(e,this.tokenStart)}isBalanceEdge(e){return this.balance[this.tokenIndex]<e}isDelim(e,n){return n?this.lookupType(n)===D&&this.source.charCodeAt(this.lookupOffset(n))===e:this.tokenType===D&&this.source.charCodeAt(this.tokenStart)===e}skip(e){let n=this.tokenIndex+e;n<this.tokenCount?(this.tokenIndex=n,this.tokenStart=this.offsetAndType[n-1]&Fe,n=this.offsetAndType[n],this.tokenType=n>>He,this.tokenEnd=n&Fe):(this.tokenIndex=this.tokenCount,this.next())}next(){let e=this.tokenIndex+1;e<this.tokenCount?(this.tokenIndex=e,this.tokenStart=this.tokenEnd,e=this.offsetAndType[e],this.tokenType=e>>He,this.tokenEnd=e&Fe):(this.eof=!0,this.tokenIndex=this.tokenCount,this.tokenType=ht,this.tokenStart=this.tokenEnd=this.source.length)}skipSC(){for(;this.tokenType===ee||this.tokenType===ce;)this.next()}skipUntilBalanced(e,n){let r=e,o=0,i=0;e:for(;r<this.tokenCount;r++){if(o=this.balance[r],o<e)break e;switch(i=r>0?this.offsetAndType[r-1]&Fe:this.firstCharOffset,n(this.source.charCodeAt(i))){case 1:break e;case 2:r++;break e;default:fa(this.offsetAndType[r]>>He)&&(r=o)}}this.skip(r-this.tokenIndex)}forEachToken(e){for(let n=0,r=this.firstCharOffset;n<this.tokenCount;n++){const o=r,i=this.offsetAndType[n],s=i&Fe,l=i>>He;r=s,e(l,o,s,n)}}dump(){const e=new Array(this.tokenCount);return this.forEachToken((n,r,o,i)=>{e[i]={idx:i,type:tc[n],chunk:this.source.substring(r,o),balance:this.balance[i]}}),e}}function Cr(t,e){function n(d){return d<l?t.charCodeAt(d):0}function r(){if(a=Sr(t,a),qn(n(a),n(a+1),n(a+2))){u=R,a=In(t,a);return}if(n(a)===37){u=Q,a++;return}u=A}function o(){const d=a;if(a=In(t,a),gn(t,d,a,"url")&&n(a)===40){if(a=Bn(t,a+1),n(a)===34||n(a)===39){u=$,a=d+4;return}s();return}if(n(a)===40){u=$,a++;return}u=x}function i(d){for(d||(d=n(a++)),u=ze;a<t.length;a++){const h=t.charCodeAt(a);switch(Kr(h)){case d:a++;return;case Vn:if(ir(h)){a+=Po(t,a,h),u=wr;return}break;case 92:if(a===t.length-1)break;const g=n(a+1);ir(g)?a+=Po(t,a+1,g):Ge(h,g)&&(a=Vt(t,a)-1);break}}}function s(){for(u=pe,a=Bn(t,a);a<t.length;a++){const d=t.charCodeAt(a);switch(Kr(d)){case 41:a++;return;case Vn:if(a=Bn(t,a),n(a)===41||a>=t.length){a<t.length&&a++;return}a=Yr(t,a),u=we;return;case 34:case 39:case 40:case Jl:a=Yr(t,a),u=we;return;case 92:if(Ge(d,n(a+1))){a=Vt(t,a)-1;break}a=Yr(t,a),u=we;return}}}t=String(t||"");const l=t.length;let c=Zl(n(0)),a=c,u;for(;a<l;){const d=t.charCodeAt(a);switch(Kr(d)){case Vn:u=ee,a=Bn(t,a+1);break;case 34:i();break;case 35:Xl(n(a+1))||Ge(n(a+1),n(a+2))?(u=G,a=In(t,a+1)):(u=D,a++);break;case 39:i();break;case 40:u=H,a++;break;case 41:u=M,a++;break;case 43:Vr(d,n(a+1),n(a+2))?r():(u=D,a++);break;case 44:u=Ee,a++;break;case 45:Vr(d,n(a+1),n(a+2))?r():n(a+1)===45&&n(a+2)===62?(u=Se,a=a+3):qn(d,n(a+1),n(a+2))?o():(u=D,a++);break;case 46:Vr(d,n(a+1),n(a+2))?r():(u=D,a++);break;case 47:n(a+1)===42?(u=ce,a=t.indexOf("*/",a+2),a=a===-1?t.length:a+2):(u=D,a++);break;case 58:u=ge,a++;break;case 59:u=me,a++;break;case 60:n(a+1)===33&&n(a+2)===45&&n(a+3)===45?(u=Sn,a=a+4):(u=D,a++);break;case 64:qn(n(a+1),n(a+2),n(a+3))?(u=re,a=In(t,a+1)):(u=D,a++);break;case 91:u=Pe,a++;break;case 92:Ge(d,n(a+1))?o():(u=D,a++);break;case 93:u=De,a++;break;case 123:u=de,a++;break;case 125:u=Me,a++;break;case Ql:r();break;case ai:o();break;default:u=D,a++}e(u,c,c=a)}}let Lt=null;class se{static createItem(e){return{prev:null,next:null,data:e}}constructor(){this.head=null,this.tail=null,this.cursor=null}createItem(e){return se.createItem(e)}allocateCursor(e,n){let r;return Lt!==null?(r=Lt,Lt=Lt.cursor,r.prev=e,r.next=n,r.cursor=this.cursor):r={prev:e,next:n,cursor:this.cursor},this.cursor=r,r}releaseCursor(){const{cursor:e}=this;this.cursor=e.cursor,e.prev=null,e.next=null,e.cursor=Lt,Lt=e}updateCursors(e,n,r,o){let{cursor:i}=this;for(;i!==null;)i.prev===e&&(i.prev=n),i.next===r&&(i.next=o),i=i.cursor}*[Symbol.iterator](){for(let e=this.head;e!==null;e=e.next)yield e.data}get size(){let e=0;for(let n=this.head;n!==null;n=n.next)e++;return e}get isEmpty(){return this.head===null}get first(){return this.head&&this.head.data}get last(){return this.tail&&this.tail.data}fromArray(e){let n=null;this.head=null;for(let r of e){const o=se.createItem(r);n!==null?n.next=o:this.head=o,o.prev=n,n=o}return this.tail=n,this}toArray(){return[...this]}toJSON(){return[...this]}forEach(e,n=this){const r=this.allocateCursor(null,this.head);for(;r.next!==null;){const o=r.next;r.next=o.next,e.call(n,o.data,o,this)}this.releaseCursor()}forEachRight(e,n=this){const r=this.allocateCursor(this.tail,null);for(;r.prev!==null;){const o=r.prev;r.prev=o.prev,e.call(n,o.data,o,this)}this.releaseCursor()}reduce(e,n,r=this){let o=this.allocateCursor(null,this.head),i=n,s;for(;o.next!==null;)s=o.next,o.next=s.next,i=e.call(r,i,s.data,s,this);return this.releaseCursor(),i}reduceRight(e,n,r=this){let o=this.allocateCursor(this.tail,null),i=n,s;for(;o.prev!==null;)s=o.prev,o.prev=s.prev,i=e.call(r,i,s.data,s,this);return this.releaseCursor(),i}some(e,n=this){for(let r=this.head;r!==null;r=r.next)if(e.call(n,r.data,r,this))return!0;return!1}map(e,n=this){const r=new se;for(let o=this.head;o!==null;o=o.next)r.appendData(e.call(n,o.data,o,this));return r}filter(e,n=this){const r=new se;for(let o=this.head;o!==null;o=o.next)e.call(n,o.data,o,this)&&r.appendData(o.data);return r}nextUntil(e,n,r=this){if(e===null)return;const o=this.allocateCursor(null,e);for(;o.next!==null;){const i=o.next;if(o.next=i.next,n.call(r,i.data,i,this))break}this.releaseCursor()}prevUntil(e,n,r=this){if(e===null)return;const o=this.allocateCursor(e,null);for(;o.prev!==null;){const i=o.prev;if(o.prev=i.prev,n.call(r,i.data,i,this))break}this.releaseCursor()}clear(){this.head=null,this.tail=null}copy(){const e=new se;for(let n of this)e.appendData(n);return e}prepend(e){return this.updateCursors(null,e,this.head,e),this.head!==null?(this.head.prev=e,e.next=this.head):this.tail=e,this.head=e,this}prependData(e){return this.prepend(se.createItem(e))}append(e){return this.insert(e)}appendData(e){return this.insert(se.createItem(e))}insert(e,n=null){if(n!==null)if(this.updateCursors(n.prev,e,n,e),n.prev===null){if(this.head!==n)throw new Error("before doesn't belong to list");this.head=e,n.prev=e,e.next=n,this.updateCursors(null,e)}else n.prev.next=e,e.prev=n.prev,n.prev=e,e.next=n;else this.updateCursors(this.tail,e,null,e),this.tail!==null?(this.tail.next=e,e.prev=this.tail):this.head=e,this.tail=e;return this}insertData(e,n){return this.insert(se.createItem(e),n)}remove(e){if(this.updateCursors(e,e.prev,e,e.next),e.prev!==null)e.prev.next=e.next;else{if(this.head!==e)throw new Error("item doesn't belong to list");this.head=e.next}if(e.next!==null)e.next.prev=e.prev;else{if(this.tail!==e)throw new Error("item doesn't belong to list");this.tail=e.prev}return e.prev=null,e.next=null,e}push(e){this.insert(se.createItem(e))}pop(){return this.tail!==null?this.remove(this.tail):null}unshift(e){this.prepend(se.createItem(e))}shift(){return this.head!==null?this.remove(this.head):null}prependList(e){return this.insertList(e,this.head)}appendList(e){return this.insertList(e)}insertList(e,n){return e.head===null?this:(n!=null?(this.updateCursors(n.prev,e.tail,n,e.head),n.prev!==null?(n.prev.next=e.head,e.head.prev=n.prev):this.head=e.head,n.prev=e.tail,e.tail.next=n):(this.updateCursors(this.tail,e.tail,null,e.head),this.tail!==null?(this.tail.next=e.head,e.head.prev=this.tail):this.head=e.head,this.tail=e.tail),e.head=null,e.tail=null,this)}replace(e,n){"head"in n?this.insertList(n,e):this.insert(n,e),this.remove(e)}}function Er(t,e){const n=Object.create(SyntaxError.prototype),r=new Error;return Object.assign(n,{name:t,message:e,get stack(){return(r.stack||"").replace(/^(.+\n){1,3}/,`${t}: ${e}
`)}})}const Xr=100,ga=60,ma="    ";function ba({source:t,line:e,column:n,baseLine:r,baseColumn:o},i){function s(f,k){return a.slice(f,k).map((O,w)=>String(f+w+1).padStart(h)+" |"+O).join(`
`)}const l=`
`.repeat(Math.max(r-1,0)),c=" ".repeat(Math.max(o-1,0)),a=(l+c+t).split(/\r\n?|\n|\f/),u=Math.max(1,e-i)-1,d=Math.min(e+i,a.length+1),h=Math.max(4,String(d).length)+1;let g=0;n+=(ma.length-1)*(a[e-1].substr(0,n-1).match(/\t/g)||[]).length,n>Xr&&(g=n-ga+3,n=ga-2);for(let f=u;f<=d;f++)f>=0&&f<a.length&&(a[f]=a[f].replace(/\t/g,ma),a[f]=(g>0&&a[f].length>g?"…":"")+a[f].substr(g,Xr-2)+(a[f].length>g+Xr-1?"…":""));return[s(u,e),new Array(n+h+2).join("-")+"^",s(e,d)].filter(Boolean).join(`
`).replace(/^(\s+\d+\s+\|\n)+/,"").replace(/\n(\s+\d+\s+\|)+$/,"")}function va(t,e,n,r,o,i=1,s=1){return Object.assign(Er("SyntaxError",t),{source:e,offset:n,line:r,column:o,sourceFragment(c){return ba({source:e,line:r,column:o,baseLine:i,baseColumn:s},isNaN(c)?0:c)},get formattedMessage(){return`Parse error: ${t}
`+ba({source:e,line:r,column:o,baseLine:i,baseColumn:s},2)}})}function Zh(t){const e=this.createList();let n=!1;const r={recognizer:t};for(;!this.eof;){switch(this.tokenType){case ce:this.next();continue;case ee:n=!0,this.next();continue}let o=t.getNode.call(this,r);if(o===void 0)break;n&&(t.onWhiteSpace&&t.onWhiteSpace.call(this,o,e,r),n=!1),e.push(o)}return n&&t.onWhiteSpace&&t.onWhiteSpace.call(this,null,e,r),e}const ya=()=>{},Qh=33,Jh=35,Zr=59,ka=123,xa=0;function ep(t){return function(){return this[t]()}}function Qr(t){const e=Object.create(null);for(const n of Object.keys(t)){const r=t[n],o=r.parse||r;o&&(e[n]=o)}return e}function tp(t){const e={context:Object.create(null),features:Object.assign(Object.create(null),t.features),scope:Object.assign(Object.create(null),t.scope),atrule:Qr(t.atrule),pseudo:Qr(t.pseudo),node:Qr(t.node)};for(const[n,r]of Object.entries(t.parseContext))switch(typeof r){case"function":e.context[n]=r;break;case"string":e.context[n]=ep(r);break}return{config:e,...e,...e.node}}function np(t){let e="",n="<unknown>",r=!1,o=ya,i=!1;const s=new Yh,l=Object.assign(new Xh,tp(t||{}),{parseAtrulePrelude:!0,parseRulePrelude:!0,parseValue:!0,parseCustomProperty:!1,readSequence:Zh,consumeUntilBalanceEnd:()=>0,consumeUntilLeftCurlyBracket(a){return a===ka?1:0},consumeUntilLeftCurlyBracketOrSemicolon(a){return a===ka||a===Zr?1:0},consumeUntilExclamationMarkOrSemicolon(a){return a===Qh||a===Zr?1:0},consumeUntilSemicolonIncluded(a){return a===Zr?2:0},createList(){return new se},createSingleNodeList(a){return new se().appendData(a)},getFirstListNode(a){return a&&a.first},getLastListNode(a){return a&&a.last},parseWithFallback(a,u){const d=this.tokenIndex;try{return a.call(this)}catch(h){if(i)throw h;this.skip(d-this.tokenIndex);const g=u.call(this);return i=!0,o(h,g),i=!1,g}},lookupNonWSType(a){let u;do if(u=this.lookupType(a++),u!==ee&&u!==ce)return u;while(u!==xa);return xa},charCodeAt(a){return a>=0&&a<e.length?e.charCodeAt(a):0},substring(a,u){return e.substring(a,u)},substrToCursor(a){return this.source.substring(a,this.tokenStart)},cmpChar(a,u){return Wt(e,a,u)},cmpStr(a,u,d){return gn(e,a,u,d)},consume(a){const u=this.tokenStart;return this.eat(a),this.substrToCursor(u)},consumeFunctionName(){const a=e.substring(this.tokenStart,this.tokenEnd-1);return this.eat($),a},consumeNumber(a){const u=e.substring(this.tokenStart,Sr(e,this.tokenStart));return this.eat(a),u},eat(a){if(this.tokenType!==a){const u=tc[a].slice(0,-6).replace(/-/g," ").replace(/^./,g=>g.toUpperCase());let d=`${/[[\](){}]/.test(u)?`"${u}"`:u} is expected`,h=this.tokenStart;switch(a){case x:this.tokenType===$||this.tokenType===pe?(h=this.tokenEnd-1,d="Identifier is expected but function found"):d="Identifier is expected";break;case G:this.isDelim(Jh)&&(this.next(),h++,d="Name is expected");break;case Q:this.tokenType===A&&(h=this.tokenEnd,d="Percent sign is expected");break}this.error(d,h)}this.next()},eatIdent(a){(this.tokenType!==x||this.lookupValue(0,a)===!1)&&this.error(`Identifier "${a}" is expected`),this.next()},eatDelim(a){this.isDelim(a)||this.error(`Delim "${String.fromCharCode(a)}" is expected`),this.next()},getLocation(a,u){return r?s.getLocationRange(a,u,n):null},getLocationFromList(a){if(r){const u=this.getFirstListNode(a),d=this.getLastListNode(a);return s.getLocationRange(u!==null?u.loc.start.offset-s.startOffset:this.tokenStart,d!==null?d.loc.end.offset-s.startOffset:this.tokenStart,n)}return null},error(a,u){const d=typeof u<"u"&&u<e.length?s.getLocation(u):this.eof?s.getLocation(Vh(e,e.length-1)):s.getLocation(this.tokenStart);throw new va(a||"Unexpected input",e,d.offset,d.line,d.column,s.startLine,s.startColumn)}});return Object.assign(function(a,u){e=a,u=u||{},l.setSource(e,Cr),s.setSource(e,u.offset,u.line,u.column),n=u.filename||"<unknown>",r=!!u.positions,o=typeof u.onParseError=="function"?u.onParseError:ya,i=!1,l.parseAtrulePrelude="parseAtrulePrelude"in u?!!u.parseAtrulePrelude:!0,l.parseRulePrelude="parseRulePrelude"in u?!!u.parseRulePrelude:!0,l.parseValue="parseValue"in u?!!u.parseValue:!0,l.parseCustomProperty="parseCustomProperty"in u?!!u.parseCustomProperty:!1;const{context:d="default",onComment:h}=u;if(!(d in l.context))throw new Error("Unknown context `"+d+"`");typeof h=="function"&&l.forEachToken((f,k,O)=>{if(f===ce){const w=l.getLocation(k,O),E=gn(e,O-2,O,"*/")?e.slice(k+2,O-2):e.slice(k+2,O);h(E,w)}});const g=l.context[d].call(l,u);return l.eof||l.error(),g},{SyntaxError:va,config:l.config})}var Jr={},Ln={},Mn={},wa;function rp(){if(wa)return Mn;wa=1;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return Mn.encode=function(e){if(0<=e&&e<t.length)return t[e];throw new TypeError("Must be between 0 and 63: "+e)},Mn.decode=function(e){var n=65,r=90,o=97,i=122,s=48,l=57,c=43,a=47,u=26,d=52;return n<=e&&e<=r?e-n:o<=e&&e<=i?e-o+u:s<=e&&e<=l?e-s+d:e==c?62:e==a?63:-1},Mn}var Sa;function op(){if(Sa)return Ln;Sa=1;var t=rp(),e=5,n=1<<e,r=n-1,o=n;function i(l){return l<0?(-l<<1)+1:(l<<1)+0}function s(l){var c=(l&1)===1,a=l>>1;return c?-a:a}return Ln.encode=function(c){var a="",u,d=i(c);do u=d&r,d>>>=e,d>0&&(u|=o),a+=t.encode(u);while(d>0);return a},Ln.decode=function(c,a,u){var d=c.length,h=0,g=0,f,k;do{if(a>=d)throw new Error("Expected more digits in base 64 VLQ value.");if(k=t.decode(c.charCodeAt(a++)),k===-1)throw new Error("Invalid base64 digit: "+c.charAt(a-1));f=!!(k&o),k&=r,h=h+(k<<g),g+=e}while(f);u.value=s(h),u.rest=a},Ln}var eo={},Ca;function li(){return Ca||(Ca=1,function(t){function e(p,m,y){if(m in p)return p[m];if(arguments.length===3)return y;throw new Error('"'+m+'" is a required argument.')}t.getArg=e;var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function o(p){var m=p.match(n);return m?{scheme:m[1],auth:m[2],host:m[3],port:m[4],path:m[5]}:null}t.urlParse=o;function i(p){var m="";return p.scheme&&(m+=p.scheme+":"),m+="//",p.auth&&(m+=p.auth+"@"),p.host&&(m+=p.host),p.port&&(m+=":"+p.port),p.path&&(m+=p.path),m}t.urlGenerate=i;var s=32;function l(p){var m=[];return function(y){for(var b=0;b<m.length;b++)if(m[b].input===y){var S=m[0];return m[0]=m[b],m[b]=S,m[0].result}var _=p(y);return m.unshift({input:y,result:_}),m.length>s&&m.pop(),_}}var c=l(function(m){var y=m,b=o(m);if(b){if(!b.path)return m;y=b.path}for(var S=t.isAbsolute(y),_=[],q=0,B=0;;)if(q=B,B=y.indexOf("/",q),B===-1){_.push(y.slice(q));break}else for(_.push(y.slice(q,B));B<y.length&&y[B]==="/";)B++;for(var X,be=0,B=_.length-1;B>=0;B--)X=_[B],X==="."?_.splice(B,1):X===".."?be++:be>0&&(X===""?(_.splice(B+1,be),be=0):(_.splice(B,2),be--));return y=_.join("/"),y===""&&(y=S?"/":"."),b?(b.path=y,i(b)):y});t.normalize=c;function a(p,m){p===""&&(p="."),m===""&&(m=".");var y=o(m),b=o(p);if(b&&(p=b.path||"/"),y&&!y.scheme)return b&&(y.scheme=b.scheme),i(y);if(y||m.match(r))return m;if(b&&!b.host&&!b.path)return b.host=m,i(b);var S=m.charAt(0)==="/"?m:c(p.replace(/\/+$/,"")+"/"+m);return b?(b.path=S,i(b)):S}t.join=a,t.isAbsolute=function(p){return p.charAt(0)==="/"||n.test(p)};function u(p,m){p===""&&(p="."),p=p.replace(/\/$/,"");for(var y=0;m.indexOf(p+"/")!==0;){var b=p.lastIndexOf("/");if(b<0||(p=p.slice(0,b),p.match(/^([^\/]+:\/)?\/*$/)))return m;++y}return Array(y+1).join("../")+m.substr(p.length+1)}t.relative=u;var d=function(){var p=Object.create(null);return!("__proto__"in p)}();function h(p){return p}function g(p){return k(p)?"$"+p:p}t.toSetString=d?h:g;function f(p){return k(p)?p.slice(1):p}t.fromSetString=d?h:f;function k(p){if(!p)return!1;var m=p.length;if(m<9||p.charCodeAt(m-1)!==95||p.charCodeAt(m-2)!==95||p.charCodeAt(m-3)!==111||p.charCodeAt(m-4)!==116||p.charCodeAt(m-5)!==111||p.charCodeAt(m-6)!==114||p.charCodeAt(m-7)!==112||p.charCodeAt(m-8)!==95||p.charCodeAt(m-9)!==95)return!1;for(var y=m-10;y>=0;y--)if(p.charCodeAt(y)!==36)return!1;return!0}function O(p,m,y){var b=T(p.source,m.source);return b!==0||(b=p.originalLine-m.originalLine,b!==0)||(b=p.originalColumn-m.originalColumn,b!==0||y)||(b=p.generatedColumn-m.generatedColumn,b!==0)||(b=p.generatedLine-m.generatedLine,b!==0)?b:T(p.name,m.name)}t.compareByOriginalPositions=O;function w(p,m,y){var b;return b=p.originalLine-m.originalLine,b!==0||(b=p.originalColumn-m.originalColumn,b!==0||y)||(b=p.generatedColumn-m.generatedColumn,b!==0)||(b=p.generatedLine-m.generatedLine,b!==0)?b:T(p.name,m.name)}t.compareByOriginalPositionsNoSource=w;function E(p,m,y){var b=p.generatedLine-m.generatedLine;return b!==0||(b=p.generatedColumn-m.generatedColumn,b!==0||y)||(b=T(p.source,m.source),b!==0)||(b=p.originalLine-m.originalLine,b!==0)||(b=p.originalColumn-m.originalColumn,b!==0)?b:T(p.name,m.name)}t.compareByGeneratedPositionsDeflated=E;function U(p,m,y){var b=p.generatedColumn-m.generatedColumn;return b!==0||y||(b=T(p.source,m.source),b!==0)||(b=p.originalLine-m.originalLine,b!==0)||(b=p.originalColumn-m.originalColumn,b!==0)?b:T(p.name,m.name)}t.compareByGeneratedPositionsDeflatedNoLine=U;function T(p,m){return p===m?0:p===null?1:m===null?-1:p>m?1:-1}function C(p,m){var y=p.generatedLine-m.generatedLine;return y!==0||(y=p.generatedColumn-m.generatedColumn,y!==0)||(y=T(p.source,m.source),y!==0)||(y=p.originalLine-m.originalLine,y!==0)||(y=p.originalColumn-m.originalColumn,y!==0)?y:T(p.name,m.name)}t.compareByGeneratedPositionsInflated=C;function N(p){return JSON.parse(p.replace(/^\)]}'[^\n]*\n/,""))}t.parseSourceMapInput=N;function j(p,m,y){if(m=m||"",p&&(p[p.length-1]!=="/"&&m[0]!=="/"&&(p+="/"),m=p+m),y){var b=o(y);if(!b)throw new Error("sourceMapURL could not be parsed");if(b.path){var S=b.path.lastIndexOf("/");S>=0&&(b.path=b.path.substring(0,S+1))}m=a(i(b),m)}return c(m)}t.computeSourceURL=j}(eo)),eo}var to={},Ea;function ip(){if(Ea)return to;Ea=1;var t=li(),e=Object.prototype.hasOwnProperty,n=typeof Map<"u";function r(){this._array=[],this._set=n?new Map:Object.create(null)}return r.fromArray=function(i,s){for(var l=new r,c=0,a=i.length;c<a;c++)l.add(i[c],s);return l},r.prototype.size=function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},r.prototype.add=function(i,s){var l=n?i:t.toSetString(i),c=n?this.has(i):e.call(this._set,l),a=this._array.length;(!c||s)&&this._array.push(i),c||(n?this._set.set(i,a):this._set[l]=a)},r.prototype.has=function(i){if(n)return this._set.has(i);var s=t.toSetString(i);return e.call(this._set,s)},r.prototype.indexOf=function(i){if(n){var s=this._set.get(i);if(s>=0)return s}else{var l=t.toSetString(i);if(e.call(this._set,l))return this._set[l]}throw new Error('"'+i+'" is not in the set.')},r.prototype.at=function(i){if(i>=0&&i<this._array.length)return this._array[i];throw new Error("No element indexed by "+i)},r.prototype.toArray=function(){return this._array.slice()},to.ArraySet=r,to}var no={},Ta;function sp(){if(Ta)return no;Ta=1;var t=li();function e(r,o){var i=r.generatedLine,s=o.generatedLine,l=r.generatedColumn,c=o.generatedColumn;return s>i||s==i&&c>=l||t.compareByGeneratedPositionsInflated(r,o)<=0}function n(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return n.prototype.unsortedForEach=function(o,i){this._array.forEach(o,i)},n.prototype.add=function(o){e(this._last,o)?(this._last=o,this._array.push(o)):(this._sorted=!1,this._array.push(o))},n.prototype.toArray=function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},no.MappingList=n,no}var Oa;function ap(){if(Oa)return Jr;Oa=1;var t=op(),e=li(),n=ip().ArraySet,r=sp().MappingList;function o(i){i||(i={}),this._file=e.getArg(i,"file",null),this._sourceRoot=e.getArg(i,"sourceRoot",null),this._skipValidation=e.getArg(i,"skipValidation",!1),this._ignoreInvalidMapping=e.getArg(i,"ignoreInvalidMapping",!1),this._sources=new n,this._names=new n,this._mappings=new r,this._sourcesContents=null}return o.prototype._version=3,o.fromSourceMap=function(s,l){var c=s.sourceRoot,a=new o(Object.assign(l||{},{file:s.file,sourceRoot:c}));return s.eachMapping(function(u){var d={generated:{line:u.generatedLine,column:u.generatedColumn}};u.source!=null&&(d.source=u.source,c!=null&&(d.source=e.relative(c,d.source)),d.original={line:u.originalLine,column:u.originalColumn},u.name!=null&&(d.name=u.name)),a.addMapping(d)}),s.sources.forEach(function(u){var d=u;c!==null&&(d=e.relative(c,u)),a._sources.has(d)||a._sources.add(d);var h=s.sourceContentFor(u);h!=null&&a.setSourceContent(u,h)}),a},o.prototype.addMapping=function(s){var l=e.getArg(s,"generated"),c=e.getArg(s,"original",null),a=e.getArg(s,"source",null),u=e.getArg(s,"name",null);!this._skipValidation&&this._validateMapping(l,c,a,u)===!1||(a!=null&&(a=String(a),this._sources.has(a)||this._sources.add(a)),u!=null&&(u=String(u),this._names.has(u)||this._names.add(u)),this._mappings.add({generatedLine:l.line,generatedColumn:l.column,originalLine:c!=null&&c.line,originalColumn:c!=null&&c.column,source:a,name:u}))},o.prototype.setSourceContent=function(s,l){var c=s;this._sourceRoot!=null&&(c=e.relative(this._sourceRoot,c)),l!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[e.toSetString(c)]=l):this._sourcesContents&&(delete this._sourcesContents[e.toSetString(c)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},o.prototype.applySourceMap=function(s,l,c){var a=l;if(l==null){if(s.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);a=s.file}var u=this._sourceRoot;u!=null&&(a=e.relative(u,a));var d=new n,h=new n;this._mappings.unsortedForEach(function(g){if(g.source===a&&g.originalLine!=null){var f=s.originalPositionFor({line:g.originalLine,column:g.originalColumn});f.source!=null&&(g.source=f.source,c!=null&&(g.source=e.join(c,g.source)),u!=null&&(g.source=e.relative(u,g.source)),g.originalLine=f.line,g.originalColumn=f.column,f.name!=null&&(g.name=f.name))}var k=g.source;k!=null&&!d.has(k)&&d.add(k);var O=g.name;O!=null&&!h.has(O)&&h.add(O)},this),this._sources=d,this._names=h,s.sources.forEach(function(g){var f=s.sourceContentFor(g);f!=null&&(c!=null&&(g=e.join(c,g)),u!=null&&(g=e.relative(u,g)),this.setSourceContent(g,f))},this)},o.prototype._validateMapping=function(s,l,c,a){if(l&&typeof l.line!="number"&&typeof l.column!="number"){var u="original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.";if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(u),!1;throw new Error(u)}if(!(s&&"line"in s&&"column"in s&&s.line>0&&s.column>=0&&!l&&!c&&!a)){if(s&&"line"in s&&"column"in s&&l&&"line"in l&&"column"in l&&s.line>0&&s.column>=0&&l.line>0&&l.column>=0&&c)return;var u="Invalid mapping: "+JSON.stringify({generated:s,source:c,original:l,name:a});if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(u),!1;throw new Error(u)}},o.prototype._serializeMappings=function(){for(var s=0,l=1,c=0,a=0,u=0,d=0,h="",g,f,k,O,w=this._mappings.toArray(),E=0,U=w.length;E<U;E++){if(f=w[E],g="",f.generatedLine!==l)for(s=0;f.generatedLine!==l;)g+=";",l++;else if(E>0){if(!e.compareByGeneratedPositionsInflated(f,w[E-1]))continue;g+=","}g+=t.encode(f.generatedColumn-s),s=f.generatedColumn,f.source!=null&&(O=this._sources.indexOf(f.source),g+=t.encode(O-d),d=O,g+=t.encode(f.originalLine-1-a),a=f.originalLine-1,g+=t.encode(f.originalColumn-c),c=f.originalColumn,f.name!=null&&(k=this._names.indexOf(f.name),g+=t.encode(k-u),u=k)),h+=g}return h},o.prototype._generateSourcesContent=function(s,l){return s.map(function(c){if(!this._sourcesContents)return null;l!=null&&(c=e.relative(l,c));var a=e.toSetString(c);return Object.prototype.hasOwnProperty.call(this._sourcesContents,a)?this._sourcesContents[a]:null},this)},o.prototype.toJSON=function(){var s={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(s.file=this._file),this._sourceRoot!=null&&(s.sourceRoot=this._sourceRoot),this._sourcesContents&&(s.sourcesContent=this._generateSourcesContent(s.sources,s.sourceRoot)),s},o.prototype.toString=function(){return JSON.stringify(this.toJSON())},Jr.SourceMapGenerator=o,Jr}var lp=ap();const _a=new Set(["Atrule","Selector","Declaration"]);function cp(t){const e=new lp.SourceMapGenerator,n={line:1,column:0},r={line:0,column:0},o={line:1,column:0},i={generated:o};let s=1,l=0,c=!1;const a=t.node;t.node=function(h){if(h.loc&&h.loc.start&&_a.has(h.type)){const g=h.loc.start.line,f=h.loc.start.column-1;(r.line!==g||r.column!==f)&&(r.line=g,r.column=f,n.line=s,n.column=l,c&&(c=!1,(n.line!==o.line||n.column!==o.column)&&e.addMapping(i)),c=!0,e.addMapping({source:h.loc.source,original:r,generated:n}))}a.call(this,h),c&&_a.has(h.type)&&(o.line=s,o.column=l)};const u=t.emit;t.emit=function(h,g,f){for(let k=0;k<h.length;k++)h.charCodeAt(k)===10?(s++,l=0):l++;u(h,g,f)};const d=t.result;return t.result=function(){return c&&e.addMapping(i),{css:d(),map:e}},t}const up=43,dp=45,ro=(t,e)=>{if(t===D&&(t=e),typeof t=="string"){const n=t.charCodeAt(0);return n>127?32768:n<<8}return t},nc=[[x,x],[x,$],[x,pe],[x,we],[x,"-"],[x,A],[x,Q],[x,R],[x,Se],[x,H],[re,x],[re,$],[re,pe],[re,we],[re,"-"],[re,A],[re,Q],[re,R],[re,Se],[G,x],[G,$],[G,pe],[G,we],[G,"-"],[G,A],[G,Q],[G,R],[G,Se],[R,x],[R,$],[R,pe],[R,we],[R,"-"],[R,A],[R,Q],[R,R],[R,Se],["#",x],["#",$],["#",pe],["#",we],["#","-"],["#",A],["#",Q],["#",R],["#",Se],["-",x],["-",$],["-",pe],["-",we],["-","-"],["-",A],["-",Q],["-",R],["-",Se],[A,x],[A,$],[A,pe],[A,we],[A,A],[A,Q],[A,R],[A,"%"],[A,Se],["@",x],["@",$],["@",pe],["@",we],["@","-"],["@",Se],[".",A],[".",Q],[".",R],["+",A],["+",Q],["+",R],["/","*"]],hp=nc.concat([[x,G],[R,G],[G,G],[re,H],[re,ze],[re,ge],[Q,Q],[Q,R],[Q,$],[Q,"-"],[M,x],[M,$],[M,Q],[M,R],[M,G],[M,"-"]]);function rc(t){const e=new Set(t.map(([n,r])=>ro(n)<<16|ro(r)));return function(n,r,o){const i=ro(r,o),s=o.charCodeAt(0);return(s===dp&&r!==x&&r!==$&&r!==Se||s===up?e.has(n<<16|s<<8):e.has(n<<16|i))&&this.emit(" ",ee,!0),i}}const pp=rc(nc),oc=rc(hp),Ba=Object.freeze(Object.defineProperty({__proto__:null,safe:oc,spec:pp},Symbol.toStringTag,{value:"Module"})),fp=92;function gp(t,e){if(typeof e=="function"){let n=null;t.children.forEach(r=>{n!==null&&e.call(this,n),this.node(r),n=r});return}t.children.forEach(this.node,this)}function mp(t){Cr(t,(e,n,r)=>{this.token(e,t.slice(n,r))})}function bp(t){const e=new Map;for(let[n,r]of Object.entries(t.node))typeof(r.generate||r)=="function"&&e.set(n,r.generate||r);return function(n,r){let o="",i=0,s={node(c){if(e.has(c.type))e.get(c.type).call(l,c);else throw new Error("Unknown node type: "+c.type)},tokenBefore:oc,token(c,a){i=this.tokenBefore(i,c,a),this.emit(a,c,!1),c===D&&a.charCodeAt(0)===fp&&this.emit(`
`,ee,!0)},emit(c){o+=c},result(){return o}};r&&(typeof r.decorator=="function"&&(s=r.decorator(s)),r.sourceMap&&(s=cp(s)),r.mode in Ba&&(s.tokenBefore=Ba[r.mode]));const l={node:c=>s.node(c),children:gp,token:(c,a)=>s.token(c,a),tokenize:mp};return s.node(n),s.result()}}function vp(t){return{fromPlainObject(e){return t(e,{enter(n){n.children&&!(n.children instanceof se)&&(n.children=new se().fromArray(n.children))}}),e},toPlainObject(e){return t(e,{leave(n){n.children&&n.children instanceof se&&(n.children=n.children.toArray())}}),e}}}const{hasOwnProperty:ci}=Object.prototype,rn=function(){};function Ia(t){return typeof t=="function"?t:rn}function La(t,e){return function(n,r,o){n.type===e&&t.call(this,n,r,o)}}function yp(t,e){const n=e.structure,r=[];for(const o in n){if(ci.call(n,o)===!1)continue;let i=n[o];const s={name:o,type:!1,nullable:!1};Array.isArray(i)||(i=[i]);for(const l of i)l===null?s.nullable=!0:typeof l=="string"?s.type="node":Array.isArray(l)&&(s.type="list");s.type&&r.push(s)}return r.length?{context:e.walkContext,fields:r}:null}function kp(t){const e={};for(const n in t.node)if(ci.call(t.node,n)){const r=t.node[n];if(!r.structure)throw new Error("Missed `structure` field in `"+n+"` node type definition");e[n]=yp(n,r)}return e}function Ma(t,e){const n=t.fields.slice(),r=t.context,o=typeof r=="string";return e&&n.reverse(),function(i,s,l,c){let a;o&&(a=s[r],s[r]=i);for(const u of n){const d=i[u.name];if(!u.nullable||d){if(u.type==="list"){if(e?d.reduceRight(c,!1):d.reduce(c,!1))return!0}else if(l(d))return!0}}o&&(s[r]=a)}}function Aa({StyleSheet:t,Atrule:e,Rule:n,Block:r,DeclarationList:o}){return{Atrule:{StyleSheet:t,Atrule:e,Rule:n,Block:r},Rule:{StyleSheet:t,Atrule:e,Rule:n,Block:r},Declaration:{StyleSheet:t,Atrule:e,Rule:n,Block:r,DeclarationList:o}}}function xp(t){const e=kp(t),n={},r={},o=Symbol("break-walk"),i=Symbol("skip-node");for(const a in e)ci.call(e,a)&&e[a]!==null&&(n[a]=Ma(e[a],!1),r[a]=Ma(e[a],!0));const s=Aa(n),l=Aa(r),c=function(a,u){function d(w,E,U){const T=h.call(O,w,E,U);return T===o?!0:T===i?!1:!!(f.hasOwnProperty(w.type)&&f[w.type](w,O,d,k)||g.call(O,w,E,U)===o)}let h=rn,g=rn,f=n,k=(w,E,U,T)=>w||d(E,U,T);const O={break:o,skip:i,root:a,stylesheet:null,atrule:null,atrulePrelude:null,rule:null,selector:null,block:null,declaration:null,function:null};if(typeof u=="function")h=u;else if(u&&(h=Ia(u.enter),g=Ia(u.leave),u.reverse&&(f=r),u.visit)){if(s.hasOwnProperty(u.visit))f=u.reverse?l[u.visit]:s[u.visit];else if(!e.hasOwnProperty(u.visit))throw new Error("Bad value `"+u.visit+"` for `visit` option (should be: "+Object.keys(e).sort().join(", ")+")");h=La(h,u.visit),g=La(g,u.visit)}if(h===rn&&g===rn)throw new Error("Neither `enter` nor `leave` walker handler is set or both aren't a function");d(a)};return c.break=o,c.skip=i,c.find=function(a,u){let d=null;return c(a,function(h,g,f){if(u.call(this,h,g,f))return d=h,o}),d},c.findLast=function(a,u){let d=null;return c(a,{reverse:!0,enter(h,g,f){if(u.call(this,h,g,f))return d=h,o}}),d},c.findAll=function(a,u){const d=[];return c(a,function(h,g,f){u.call(this,h,g,f)&&d.push(h)}),d},c}function wp(t){return t}function Sp(t){const{min:e,max:n,comma:r}=t;return e===0&&n===0?r?"#?":"*":e===0&&n===1?"?":e===1&&n===0?r?"#":"+":e===1&&n===1?"":(r?"#":"")+(e===n?"{"+e+"}":"{"+e+","+(n!==0?n:"")+"}")}function Cp(t){switch(t.type){case"Range":return" ["+(t.min===null?"-∞":t.min)+","+(t.max===null?"∞":t.max)+"]";default:throw new Error("Unknown node type `"+t.type+"`")}}function Ep(t,e,n,r){const o=t.combinator===" "||r?t.combinator:" "+t.combinator+" ",i=t.terms.map(s=>ar(s,e,n,r)).join(o);return t.explicit||n?(r||i[0]===","?"[":"[ ")+i+(r?"]":" ]"):i}function ar(t,e,n,r){let o;switch(t.type){case"Group":o=Ep(t,e,n,r)+(t.disallowEmpty?"!":"");break;case"Multiplier":return ar(t.term,e,n,r)+e(Sp(t),t);case"Boolean":o="<boolean-expr["+ar(t.term,e,n,r)+"]>";break;case"Type":o="<"+t.name+(t.opts?e(Cp(t.opts),t.opts):"")+">";break;case"Property":o="<'"+t.name+"'>";break;case"Keyword":o=t.name;break;case"AtKeyword":o="@"+t.name;break;case"Function":o=t.name+"(";break;case"String":case"Token":o=t.value;break;case"Comma":o=",";break;default:throw new Error("Unknown node type `"+t.type+"`")}return e(o,t)}function ui(t,e){let n=wp,r=!1,o=!1;return typeof e=="function"?n=e:e&&(r=!!e.forceBraces,o=!!e.compact,typeof e.decorate=="function"&&(n=e.decorate)),ar(t,n,r,o)}const Pa={offset:0,line:1,column:1};function Tp(t,e){const n=t.tokens,r=t.longestMatch,o=r<n.length&&n[r].node||null,i=o!==e?o:null;let s=0,l=0,c=0,a="",u,d;for(let h=0;h<n.length;h++){const g=n[h].value;h===r&&(l=g.length,s=a.length),i!==null&&n[h].node===i&&(h<=r?c++:c=0),a+=g}return r===n.length||c>1?(u=An(i||e,"end")||on(Pa,a),d=on(u)):(u=An(i,"start")||on(An(e,"start")||Pa,a.slice(0,s)),d=An(i,"end")||on(u,a.substr(s,l))),{css:a,mismatchOffset:s,mismatchLength:l,start:u,end:d}}function An(t,e){const n=t&&t.loc&&t.loc[e];return n?"line"in n?on(n):n:null}function on({offset:t,line:e,column:n},r){const o={offset:t,line:e,column:n};if(r){const i=r.split(/\n|\r\n?|\f/);o.offset+=r.length,o.line+=i.length-1,o.column=i.length===1?o.column+r.length:i.pop().length+1}return o}const Qt=function(t,e){const n=Er("SyntaxReferenceError",t+(e?" `"+e+"`":""));return n.reference=e,n},Op=function(t,e,n,r){const o=Er("SyntaxMatchError",t),{css:i,mismatchOffset:s,mismatchLength:l,start:c,end:a}=Tp(r,n);return o.rawMessage=t,o.syntax=e?ui(e):"<generic>",o.css=i,o.mismatchOffset=s,o.mismatchLength=l,o.message=t+`
  syntax: `+o.syntax+`
   value: `+(i||"<empty string>")+`
  --------`+new Array(o.mismatchOffset+1).join("-")+"^",Object.assign(o,c),o.loc={source:n&&n.loc&&n.loc.source||"<unknown>",start:c,end:a},o},Pn=new Map,Mt=new Map,lr=45,oo=_p,Na=Bp;function di(t,e){return e=e||0,t.length-e>=2&&t.charCodeAt(e)===lr&&t.charCodeAt(e+1)===lr}function ic(t,e){if(e=e||0,t.length-e>=3&&t.charCodeAt(e)===lr&&t.charCodeAt(e+1)!==lr){const n=t.indexOf("-",e+2);if(n!==-1)return t.substring(e,n+1)}return""}function _p(t){if(Pn.has(t))return Pn.get(t);const e=t.toLowerCase();let n=Pn.get(e);if(n===void 0){const r=di(e,0),o=r?"":ic(e,0);n=Object.freeze({basename:e.substr(o.length),name:e,prefix:o,vendor:o,custom:r})}return Pn.set(t,n),n}function Bp(t){if(Mt.has(t))return Mt.get(t);let e=t,n=t[0];n==="/"?n=t[1]==="/"?"//":"/":n!=="_"&&n!=="*"&&n!=="$"&&n!=="#"&&n!=="+"&&n!=="&"&&(n="");const r=di(e,n.length);if(!r&&(e=e.toLowerCase(),Mt.has(e))){const l=Mt.get(e);return Mt.set(t,l),l}const o=r?"":ic(e,n.length),i=e.substr(0,n.length+o.length),s=Object.freeze({basename:e.substr(i.length),name:e.substr(n.length),hack:n,vendor:o,prefix:i,custom:r});return Mt.set(t,s),s}const hi=["initial","inherit","unset","revert","revert-layer"],mn=43,We=45,io=110,At=!0,Ip=!1;function No(t,e){return t!==null&&t.type===D&&t.value.charCodeAt(0)===e}function dn(t,e,n){for(;t!==null&&(t.type===ee||t.type===ce);)t=n(++e);return e}function lt(t,e,n,r){if(!t)return 0;const o=t.value.charCodeAt(e);if(o===mn||o===We){if(n)return 0;e++}for(;e<t.value.length;e++)if(!le(t.value.charCodeAt(e)))return 0;return r+1}function so(t,e,n){let r=!1,o=dn(t,e,n);if(t=n(o),t===null)return e;if(t.type!==A)if(No(t,mn)||No(t,We)){if(r=!0,o=dn(n(++o),o,n),t=n(o),t===null||t.type!==A)return 0}else return e;if(!r){const i=t.value.charCodeAt(0);if(i!==mn&&i!==We)return 0}return lt(t,r?0:1,r,o)}function Lp(t,e){let n=0;if(!t)return 0;if(t.type===A)return lt(t,0,Ip,n);if(t.type===x&&t.value.charCodeAt(0)===We){if(!Wt(t.value,1,io))return 0;switch(t.value.length){case 2:return so(e(++n),n,e);case 3:return t.value.charCodeAt(2)!==We?0:(n=dn(e(++n),n,e),t=e(n),lt(t,0,At,n));default:return t.value.charCodeAt(2)!==We?0:lt(t,3,At,n)}}else if(t.type===x||No(t,mn)&&e(n+1).type===x){if(t.type!==x&&(t=e(++n)),t===null||!Wt(t.value,0,io))return 0;switch(t.value.length){case 1:return so(e(++n),n,e);case 2:return t.value.charCodeAt(1)!==We?0:(n=dn(e(++n),n,e),t=e(n),lt(t,0,At,n));default:return t.value.charCodeAt(1)!==We?0:lt(t,2,At,n)}}else if(t.type===R){let r=t.value.charCodeAt(0),o=r===mn||r===We?1:0,i=o;for(;i<t.value.length&&le(t.value.charCodeAt(i));i++);return i===o||!Wt(t.value,i,io)?0:i+1===t.value.length?so(e(++n),n,e):t.value.charCodeAt(i+1)!==We?0:i+2===t.value.length?(n=dn(e(++n),n,e),t=e(n),lt(t,0,At,n)):lt(t,i+2,At,n)}return 0}const Mp=43,sc=45,ac=63,Ap=117;function jo(t,e){return t!==null&&t.type===D&&t.value.charCodeAt(0)===e}function Pp(t,e){return t.value.charCodeAt(0)===e}function sn(t,e,n){let r=0;for(let o=e;o<t.value.length;o++){const i=t.value.charCodeAt(o);if(i===sc&&n&&r!==0)return sn(t,e+r+1,!1),6;if(!pt(i)||++r>6)return 0}return r}function Nn(t,e,n){if(!t)return 0;for(;jo(n(e),ac);){if(++t>6)return 0;e++}return e}function Np(t,e){let n=0;if(t===null||t.type!==x||!Wt(t.value,0,Ap)||(t=e(++n),t===null))return 0;if(jo(t,Mp))return t=e(++n),t===null?0:t.type===x?Nn(sn(t,0,!0),++n,e):jo(t,ac)?Nn(1,++n,e):0;if(t.type===A){const r=sn(t,1,!0);return r===0?0:(t=e(++n),t===null?n:t.type===R||t.type===A?!Pp(t,sc)||!sn(t,1,!1)?0:n+1:Nn(r,n,e))}return t.type===R?Nn(sn(t,1,!0),++n,e):0}const jp=["calc(","-moz-calc(","-webkit-calc("],pi=new Map([[$,M],[H,M],[Pe,De],[de,Me]]);function $e(t,e){return e<t.length?t.charCodeAt(e):0}function lc(t,e){return gn(t,0,t.length,e)}function cc(t,e){for(let n=0;n<e.length;n++)if(lc(t,e[n]))return!0;return!1}function uc(t,e){return e!==t.length-2?!1:$e(t,e)===92&&le($e(t,e+1))}function Tr(t,e,n){if(t&&t.type==="Range"){const r=Number(n!==void 0&&n!==e.length?e.substr(0,n):e);if(isNaN(r)||t.min!==null&&r<t.min&&typeof t.min!="string"||t.max!==null&&r>t.max&&typeof t.max!="string")return!0}return!1}function $p(t,e){let n=0,r=[],o=0;e:do{switch(t.type){case Me:case M:case De:if(t.type!==n)break e;if(n=r.pop(),r.length===0){o++;break e}break;case $:case H:case Pe:case de:r.push(n),n=pi.get(t.type);break}o++}while(t=e(o));return o}function Ie(t){return function(e,n,r){return e===null?0:e.type===$&&cc(e.value,jp)?$p(e,n):t(e,n,r)}}function K(t){return function(e){return e===null||e.type!==t?0:1}}function Rp(t){if(t===null||t.type!==x)return 0;const e=t.value.toLowerCase();return cc(e,hi)||lc(e,"default")?0:1}function dc(t){return t===null||t.type!==x||$e(t.value,0)!==45||$e(t.value,1)!==45?0:1}function Dp(t){return!dc(t)||t.value==="--"?0:1}function zp(t){if(t===null||t.type!==G)return 0;const e=t.value.length;if(e!==4&&e!==5&&e!==7&&e!==9)return 0;for(let n=1;n<e;n++)if(!pt($e(t.value,n)))return 0;return 1}function Fp(t){return t===null||t.type!==G||!qn($e(t.value,1),$e(t.value,2),$e(t.value,3))?0:1}function Hp(t,e){if(!t)return 0;let n=0,r=[],o=0;e:do{switch(t.type){case wr:case we:break e;case Me:case M:case De:if(t.type!==n)break e;n=r.pop();break;case me:if(n===0)break e;break;case D:if(n===0&&t.value==="!")break e;break;case $:case H:case Pe:case de:r.push(n),n=pi.get(t.type);break}o++}while(t=e(o));return o}function Up(t,e){if(!t)return 0;let n=0,r=[],o=0;e:do{switch(t.type){case wr:case we:break e;case Me:case M:case De:if(t.type!==n)break e;n=r.pop();break;case $:case H:case Pe:case de:r.push(n),n=pi.get(t.type);break}o++}while(t=e(o));return o}function Ze(t){return t&&(t=new Set(t)),function(e,n,r){if(e===null||e.type!==R)return 0;const o=Sr(e.value,0);if(t!==null){const i=e.value.indexOf("\\",o),s=i===-1||!uc(e.value,i)?e.value.substr(o):e.value.substring(o,i);if(t.has(s.toLowerCase())===!1)return 0}return Tr(r,e.value,o)?0:1}}function Wp(t,e,n){return t===null||t.type!==Q||Tr(n,t.value,t.value.length-1)?0:1}function hc(t){return typeof t!="function"&&(t=function(){return 0}),function(e,n,r){return e!==null&&e.type===A&&Number(e.value)===0?1:t(e,n,r)}}function qp(t,e,n){if(t===null)return 0;const r=Sr(t.value,0);return!(r===t.value.length)&&!uc(t.value,r)||Tr(n,t.value,r)?0:1}function Vp(t,e,n){if(t===null||t.type!==A)return 0;let r=$e(t.value,0)===43||$e(t.value,0)===45?1:0;for(;r<t.value.length;r++)if(!le($e(t.value,r)))return 0;return Tr(n,t.value,r)?0:1}const Kp={"ident-token":K(x),"function-token":K($),"at-keyword-token":K(re),"hash-token":K(G),"string-token":K(ze),"bad-string-token":K(wr),"url-token":K(pe),"bad-url-token":K(we),"delim-token":K(D),"number-token":K(A),"percentage-token":K(Q),"dimension-token":K(R),"whitespace-token":K(ee),"CDO-token":K(Sn),"CDC-token":K(Se),"colon-token":K(ge),"semicolon-token":K(me),"comma-token":K(Ee),"[-token":K(Pe),"]-token":K(De),"(-token":K(H),")-token":K(M),"{-token":K(de),"}-token":K(Me)},Gp={string:K(ze),ident:K(x),percentage:Ie(Wp),zero:hc(),number:Ie(qp),integer:Ie(Vp),"custom-ident":Rp,"dashed-ident":dc,"custom-property-name":Dp,"hex-color":zp,"id-selector":Fp,"an-plus-b":Lp,urange:Np,"declaration-value":Hp,"any-value":Up};function Yp(t){const{angle:e,decibel:n,frequency:r,flex:o,length:i,resolution:s,semitones:l,time:c}=t||{};return{dimension:Ie(Ze(null)),angle:Ie(Ze(e)),decibel:Ie(Ze(n)),frequency:Ie(Ze(r)),flex:Ie(Ze(o)),length:Ie(hc(Ze(i))),resolution:Ie(Ze(s)),semitones:Ie(Ze(l)),time:Ie(Ze(c))}}function Xp(t){return{...Kp,...Gp,...Yp(t)}}const Zp=["cm","mm","q","in","pt","pc","px","em","rem","ex","rex","cap","rcap","ch","rch","ic","ric","lh","rlh","vw","svw","lvw","dvw","vh","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax","cqw","cqh","cqi","cqb","cqmin","cqmax"],Qp=["deg","grad","rad","turn"],Jp=["s","ms"],ef=["hz","khz"],tf=["dpi","dpcm","dppx","x"],nf=["fr"],rf=["db"],of=["st"],ja=Object.freeze(Object.defineProperty({__proto__:null,angle:Qp,decibel:rf,flex:nf,frequency:ef,length:Zp,resolution:tf,semitones:of,time:Jp},Symbol.toStringTag,{value:"Module"}));function sf(t,e,n){return Object.assign(Er("SyntaxError",t),{input:e,offset:n,rawMessage:t,message:t+`
  `+e+`
--`+new Array((n||e.length)+1).join("-")+"^"})}const af=9,lf=10,cf=12,uf=13,df=32,$a=new Uint8Array(128).map((t,e)=>/[a-zA-Z0-9\-]/.test(String.fromCharCode(e))?1:0);class hf{constructor(e){this.str=e,this.pos=0}charCodeAt(e){return e<this.str.length?this.str.charCodeAt(e):0}charCode(){return this.charCodeAt(this.pos)}isNameCharCode(e=this.charCode()){return e<128&&$a[e]===1}nextCharCode(){return this.charCodeAt(this.pos+1)}nextNonWsCode(e){return this.charCodeAt(this.findWsEnd(e))}skipWs(){this.pos=this.findWsEnd(this.pos)}findWsEnd(e){for(;e<this.str.length;e++){const n=this.str.charCodeAt(e);if(n!==uf&&n!==lf&&n!==cf&&n!==df&&n!==af)break}return e}substringToPos(e){return this.str.substring(this.pos,this.pos=e)}eat(e){this.charCode()!==e&&this.error("Expect `"+String.fromCharCode(e)+"`"),this.pos++}peek(){return this.pos<this.str.length?this.str.charAt(this.pos++):""}error(e){throw new sf(e,this.str,this.pos)}scanSpaces(){return this.substringToPos(this.findWsEnd(this.pos))}scanWord(){let e=this.pos;for(;e<this.str.length;e++){const n=this.str.charCodeAt(e);if(n>=128||$a[n]===0)break}return this.pos===e&&this.error("Expect a keyword"),this.substringToPos(e)}scanNumber(){let e=this.pos;for(;e<this.str.length;e++){const n=this.str.charCodeAt(e);if(n<48||n>57)break}return this.pos===e&&this.error("Expect a number"),this.substringToPos(e)}scanString(){const e=this.str.indexOf("'",this.pos+1);return e===-1&&(this.pos=this.str.length,this.error("Expect an apostrophe")),this.substringToPos(e+1)}}const pf=9,ff=10,gf=12,mf=13,bf=32,pc=33,fi=35,Ra=38,cr=39,fc=40,vf=41,gc=42,gi=43,mi=44,Da=45,bi=60,$o=62,Ro=63,yf=64,bn=91,vn=93,ur=123,za=124,Fa=125,Ha=8734,Ua={" ":1,"&&":2,"||":3,"|":4};function Wa(t){let e=null,n=null;return t.eat(ur),t.skipWs(),e=t.scanNumber(t),t.skipWs(),t.charCode()===mi?(t.pos++,t.skipWs(),t.charCode()!==Fa&&(n=t.scanNumber(t),t.skipWs())):n=e,t.eat(Fa),{min:Number(e),max:n?Number(n):0}}function kf(t){let e=null,n=!1;switch(t.charCode()){case gc:t.pos++,e={min:0,max:0};break;case gi:t.pos++,e={min:1,max:0};break;case Ro:t.pos++,e={min:0,max:1};break;case fi:t.pos++,n=!0,t.charCode()===ur?e=Wa(t):t.charCode()===Ro?(t.pos++,e={min:0,max:0}):e={min:1,max:0};break;case ur:e=Wa(t);break;default:return null}return{type:"Multiplier",comma:n,min:e.min,max:e.max,term:null}}function ft(t,e){const n=kf(t);return n!==null?(n.term=e,t.charCode()===fi&&t.charCodeAt(t.pos-1)===gi?ft(t,n):n):e}function ao(t){const e=t.peek();return e===""?null:ft(t,{type:"Token",value:e})}function xf(t){let e;return t.eat(bi),t.eat(cr),e=t.scanWord(),t.eat(cr),t.eat($o),ft(t,{type:"Property",name:e})}function wf(t){let e=null,n=null,r=1;return t.eat(bn),t.charCode()===Da&&(t.peek(),r=-1),r==-1&&t.charCode()===Ha?t.peek():(e=r*Number(t.scanNumber(t)),t.isNameCharCode()&&(e+=t.scanWord())),t.skipWs(),t.eat(mi),t.skipWs(),t.charCode()===Ha?t.peek():(r=1,t.charCode()===Da&&(t.peek(),r=-1),n=r*Number(t.scanNumber(t)),t.isNameCharCode()&&(n+=t.scanWord())),t.eat(vn),{type:"Range",min:e,max:n}}function Sf(t){let e,n=null;if(t.eat(bi),e=t.scanWord(),e==="boolean-expr"){t.eat(bn);const r=vi(t,vn);return t.eat(vn),t.eat($o),ft(t,{type:"Boolean",term:r.terms.length===1?r.terms[0]:r})}return t.charCode()===fc&&t.nextCharCode()===vf&&(t.pos+=2,e+="()"),t.charCodeAt(t.findWsEnd(t.pos))===bn&&(t.skipWs(),n=wf(t)),t.eat($o),ft(t,{type:"Type",name:e,opts:n})}function Cf(t){const e=t.scanWord();return t.charCode()===fc?(t.pos++,{type:"Function",name:e}):ft(t,{type:"Keyword",name:e})}function Ef(t,e){function n(o,i){return{type:"Group",terms:o,combinator:i,disallowEmpty:!1,explicit:!1}}let r;for(e=Object.keys(e).sort((o,i)=>Ua[o]-Ua[i]);e.length>0;){r=e.shift();let o=0,i=0;for(;o<t.length;o++){const s=t[o];s.type==="Combinator"&&(s.value===r?(i===-1&&(i=o-1),t.splice(o,1),o--):(i!==-1&&o-i>1&&(t.splice(i,o-i,n(t.slice(i,o),r)),o=i+1),i=-1))}i!==-1&&e.length&&t.splice(i,o-i,n(t.slice(i,o),r))}return r}function vi(t,e){const n=Object.create(null),r=[];let o,i=null,s=t.pos;for(;t.charCode()!==e&&(o=Of(t,e));)o.type!=="Spaces"&&(o.type==="Combinator"?((i===null||i.type==="Combinator")&&(t.pos=s,t.error("Unexpected combinator")),n[o.value]=!0):i!==null&&i.type!=="Combinator"&&(n[" "]=!0,r.push({type:"Combinator",value:" "})),r.push(o),i=o,s=t.pos);return i!==null&&i.type==="Combinator"&&(t.pos-=s,t.error("Unexpected combinator")),{type:"Group",terms:r,combinator:Ef(r,n)||" ",disallowEmpty:!1,explicit:!1}}function Tf(t,e){let n;return t.eat(bn),n=vi(t,e),t.eat(vn),n.explicit=!0,t.charCode()===pc&&(t.pos++,n.disallowEmpty=!0),n}function Of(t,e){let n=t.charCode();switch(n){case vn:break;case bn:return ft(t,Tf(t,e));case bi:return t.nextCharCode()===cr?xf(t):Sf(t);case za:return{type:"Combinator",value:t.substringToPos(t.pos+(t.nextCharCode()===za?2:1))};case Ra:return t.pos++,t.eat(Ra),{type:"Combinator",value:"&&"};case mi:return t.pos++,{type:"Comma"};case cr:return ft(t,{type:"String",value:t.scanString()});case bf:case pf:case ff:case mf:case gf:return{type:"Spaces",value:t.scanSpaces()};case yf:return n=t.nextCharCode(),t.isNameCharCode(n)?(t.pos++,{type:"AtKeyword",name:t.scanWord()}):ao(t);case gc:case gi:case Ro:case fi:case pc:break;case ur:if(n=t.nextCharCode(),n<48||n>57)return ao(t);break;default:return t.isNameCharCode(n)?Cf(t):ao(t)}}function mc(t){const e=new hf(t),n=vi(e);return e.pos!==t.length&&e.error("Unexpected input"),n.terms.length===1&&n.terms[0].type==="Group"?n.terms[0]:n}const an=function(){};function qa(t){return typeof t=="function"?t:an}function _f(t,e,n){function r(s){switch(o.call(n,s),s.type){case"Group":s.terms.forEach(r);break;case"Multiplier":case"Boolean":r(s.term);break;case"Type":case"Property":case"Keyword":case"AtKeyword":case"Function":case"String":case"Token":case"Comma":break;default:throw new Error("Unknown type: "+s.type)}i.call(n,s)}let o=an,i=an;if(typeof e=="function"?o=e:e&&(o=qa(e.enter),i=qa(e.leave)),o===an&&i===an)throw new Error("Neither `enter` nor `leave` walker handler is set or both aren't a function");r(t)}const Bf={decorator(t){const e=[];let n=null;return{...t,node(r){const o=n;n=r,t.node.call(this,r),n=o},emit(r,o,i){e.push({type:o,value:r,node:i?null:n})},result(){return e}}}};function If(t){const e=[];return Cr(t,(n,r,o)=>e.push({type:n,value:t.slice(r,o),node:null})),e}function Lf(t,e){return typeof t=="string"?If(t):e.generate(t,Bf)}const F={type:"Match"},V={type:"Mismatch"},yi={type:"DisallowEmpty"},Mf=40,Af=41;function he(t,e,n){return e===F&&n===V||t===F&&e===F&&n===F?t:(t.type==="If"&&t.else===V&&e===F&&(e=t.then,t=t.match),{type:"If",match:t,then:e,else:n})}function bc(t){return t.length>2&&t.charCodeAt(t.length-2)===Mf&&t.charCodeAt(t.length-1)===Af}function Va(t){return t.type==="Keyword"||t.type==="AtKeyword"||t.type==="Function"||t.type==="Type"&&bc(t.name)}function st(t,e=" ",n=!1){return{type:"Group",terms:t,combinator:e,disallowEmpty:!1,explicit:n}}function hn(t,e,n=new Set){if(!n.has(t))switch(n.add(t),t.type){case"If":t.match=hn(t.match,e,n),t.then=hn(t.then,e,n),t.else=hn(t.else,e,n);break;case"Type":return e[t.name]||t}return t}function Do(t,e,n){switch(t){case" ":{let r=F;for(let o=e.length-1;o>=0;o--){const i=e[o];r=he(i,r,V)}return r}case"|":{let r=V,o=null;for(let i=e.length-1;i>=0;i--){let s=e[i];if(Va(s)&&(o===null&&i>0&&Va(e[i-1])&&(o=Object.create(null),r=he({type:"Enum",map:o},F,r)),o!==null)){const l=(bc(s.name)?s.name.slice(0,-1):s.name).toLowerCase();if(!(l in o)){o[l]=s;continue}}o=null,r=he(s,F,r)}return r}case"&&":{if(e.length>5)return{type:"MatchOnce",terms:e,all:!0};let r=V;for(let o=e.length-1;o>=0;o--){const i=e[o];let s;e.length>1?s=Do(t,e.filter(function(l){return l!==i}),!1):s=F,r=he(i,s,r)}return r}case"||":{if(e.length>5)return{type:"MatchOnce",terms:e,all:!1};let r=n?F:V;for(let o=e.length-1;o>=0;o--){const i=e[o];let s;e.length>1?s=Do(t,e.filter(function(l){return l!==i}),!0):s=F,r=he(i,s,r)}return r}}}function Pf(t){let e=F,n=zt(t.term);if(t.max===0)n=he(n,yi,V),e=he(n,null,V),e.then=he(F,F,e),t.comma&&(e.then.else=he({type:"Comma",syntax:t},e,V));else for(let r=t.min||1;r<=t.max;r++)t.comma&&e!==F&&(e=he({type:"Comma",syntax:t},e,V)),e=he(n,he(F,F,e),V);if(t.min===0)e=he(F,F,e);else for(let r=0;r<t.min-1;r++)t.comma&&e!==F&&(e=he({type:"Comma",syntax:t},e,V)),e=he(n,e,V);return e}function zt(t){if(typeof t=="function")return{type:"Generic",fn:t};switch(t.type){case"Group":{let e=Do(t.combinator,t.terms.map(zt),!1);return t.disallowEmpty&&(e=he(e,yi,V)),e}case"Multiplier":return Pf(t);case"Boolean":{const e=zt(t.term),n=zt(st([st([{type:"Keyword",name:"not"},{type:"Type",name:"!boolean-group"}]),st([{type:"Type",name:"!boolean-group"},st([{type:"Multiplier",comma:!1,min:0,max:0,term:st([{type:"Keyword",name:"and"},{type:"Type",name:"!boolean-group"}])},{type:"Multiplier",comma:!1,min:0,max:0,term:st([{type:"Keyword",name:"or"},{type:"Type",name:"!boolean-group"}])}],"|")])],"|")),r=zt(st([{type:"Type",name:"!term"},st([{type:"Token",value:"("},{type:"Type",name:"!self"},{type:"Token",value:")"}]),{type:"Type",name:"general-enclosed"}],"|"));return hn(r,{"!term":e,"!self":n}),hn(n,{"!boolean-group":r}),n}case"Type":case"Property":return{type:t.type,name:t.name,syntax:t};case"Keyword":return{type:t.type,name:t.name.toLowerCase(),syntax:t};case"AtKeyword":return{type:t.type,name:"@"+t.name.toLowerCase(),syntax:t};case"Function":return{type:t.type,name:t.name.toLowerCase()+"(",syntax:t};case"String":return t.value.length===3?{type:"Token",value:t.value.charAt(1),syntax:t}:{type:t.type,value:t.value.substr(1,t.value.length-2).replace(/\\'/g,"'"),syntax:t};case"Token":return{type:t.type,value:t.value,syntax:t};case"Comma":return{type:t.type,syntax:t};default:throw new Error("Unknown node type:",t.type)}}function jn(t,e){return typeof t=="string"&&(t=mc(t)),{type:"MatchGraph",match:zt(t),syntax:e||null,source:t}}const{hasOwnProperty:Ka}=Object.prototype,Nf=0,jf=1,zo=2,vc=3,Ga="Match",$f="Mismatch",Rf="Maximum iteration number exceeded (please fill an issue on https://github.com/csstree/csstree/issues)",Ya=15e3;function Df(t){let e=null,n=null,r=t;for(;r!==null;)n=r.prev,r.prev=e,e=r,r=n;return e}function lo(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){const r=e.charCodeAt(n);let o=t.charCodeAt(n);if(o>=65&&o<=90&&(o=o|32),o!==r)return!1}return!0}function zf(t){return t.type!==D?!1:t.value!=="?"}function Xa(t){return t===null?!0:t.type===Ee||t.type===$||t.type===H||t.type===Pe||t.type===de||zf(t)}function Za(t){return t===null?!0:t.type===M||t.type===De||t.type===Me||t.type===D&&t.value==="/"}function Ff(t,e,n){function r(){do E++,w=E<t.length?t[E]:null;while(w!==null&&(w.type===ee||w.type===ce))}function o(C){const N=E+C;return N<t.length?t[N]:null}function i(C,N){return{nextState:C,matchStack:T,syntaxStack:d,thenStack:h,tokenIndex:E,prev:N}}function s(C){h={nextState:C,matchStack:T,syntaxStack:d,prev:h}}function l(C){g=i(C,g)}function c(){T={type:jf,syntax:e.syntax,token:w,prev:T},r(),f=null,E>U&&(U=E)}function a(){d={syntax:e.syntax,opts:e.syntax.opts||d!==null&&d.opts||null,prev:d},T={type:zo,syntax:e.syntax,token:T.token,prev:T}}function u(){T.type===zo?T=T.prev:T={type:vc,syntax:d.syntax,token:T.token,prev:T},d=d.prev}let d=null,h=null,g=null,f=null,k=0,O=null,w=null,E=-1,U=0,T={type:Nf,syntax:null,token:null,prev:null};for(r();O===null&&++k<Ya;)switch(e.type){case"Match":if(h===null){if(w!==null&&(E!==t.length-1||w.value!=="\\0"&&w.value!=="\\9")){e=V;break}O=Ga;break}if(e=h.nextState,e===yi)if(h.matchStack===T){e=V;break}else e=F;for(;h.syntaxStack!==d;)u();h=h.prev;break;case"Mismatch":if(f!==null&&f!==!1)(g===null||E>g.tokenIndex)&&(g=f,f=!1);else if(g===null){O=$f;break}e=g.nextState,h=g.thenStack,d=g.syntaxStack,T=g.matchStack,E=g.tokenIndex,w=E<t.length?t[E]:null,g=g.prev;break;case"MatchGraph":e=e.match;break;case"If":e.else!==V&&l(e.else),e.then!==F&&s(e.then),e=e.match;break;case"MatchOnce":e={type:"MatchOnceBuffer",syntax:e,index:0,mask:0};break;case"MatchOnceBuffer":{const j=e.syntax.terms;if(e.index===j.length){if(e.mask===0||e.syntax.all){e=V;break}e=F;break}if(e.mask===(1<<j.length)-1){e=F;break}for(;e.index<j.length;e.index++){const p=1<<e.index;if(!(e.mask&p)){l(e),s({type:"AddMatchOnce",syntax:e.syntax,mask:e.mask|p}),e=j[e.index++];break}}break}case"AddMatchOnce":e={type:"MatchOnceBuffer",syntax:e.syntax,index:0,mask:e.mask};break;case"Enum":if(w!==null){let j=w.value.toLowerCase();if(j.indexOf("\\")!==-1&&(j=j.replace(/\\[09].*$/,"")),Ka.call(e.map,j)){e=e.map[j];break}}e=V;break;case"Generic":{const j=d!==null?d.opts:null,p=E+Math.floor(e.fn(w,o,j));if(!isNaN(p)&&p>E){for(;E<p;)c();e=F}else e=V;break}case"Type":case"Property":{const j=e.type==="Type"?"types":"properties",p=Ka.call(n,j)?n[j][e.name]:null;if(!p||!p.match)throw new Error("Bad syntax reference: "+(e.type==="Type"?"<"+e.name+">":"<'"+e.name+"'>"));if(f!==!1&&w!==null&&e.type==="Type"&&(e.name==="custom-ident"&&w.type===x||e.name==="length"&&w.value==="0")){f===null&&(f=i(e,g)),e=V;break}a(),e=p.matchRef||p.match;break}case"Keyword":{const j=e.name;if(w!==null){let p=w.value;if(p.indexOf("\\")!==-1&&(p=p.replace(/\\[09].*$/,"")),lo(p,j)){c(),e=F;break}}e=V;break}case"AtKeyword":case"Function":if(w!==null&&lo(w.value,e.name)){c(),e=F;break}e=V;break;case"Token":if(w!==null&&w.value===e.value){c(),e=F;break}e=V;break;case"Comma":w!==null&&w.type===Ee?Xa(T.token)?e=V:(c(),e=Za(w)?V:F):e=Xa(T.token)||Za(w)?F:V;break;case"String":let C="",N=E;for(;N<t.length&&C.length<e.value.length;N++)C+=t[N].value;if(lo(C,e.value)){for(;E<N;)c();e=F}else e=V;break;default:throw new Error("Unknown node type: "+e.type)}switch(O){case null:console.warn("[csstree-match] BREAK after "+Ya+" iterations"),O=Rf,T=null;break;case Ga:for(;d!==null;)u();break;default:T=null}return{tokens:t,reason:O,iterations:k,match:T,longestMatch:U}}function Qa(t,e,n){const r=Ff(t,e,n||{});if(r.match===null)return r;let o=r.match,i=r.match={syntax:e.syntax||null,match:[]};const s=[i];for(o=Df(o).prev;o!==null;){switch(o.type){case zo:i.match.push(i={syntax:o.syntax,match:[]}),s.push(i);break;case vc:s.pop(),i=s[s.length-1];break;default:i.match.push({syntax:o.syntax||null,token:o.token.value,node:o.token.node})}o=o.prev}return r}function yc(t){function e(o){return o===null?!1:o.type==="Type"||o.type==="Property"||o.type==="Keyword"}function n(o){if(Array.isArray(o.match)){for(let i=0;i<o.match.length;i++)if(n(o.match[i]))return e(o.syntax)&&r.unshift(o.syntax),!0}else if(o.node===t)return r=e(o.syntax)?[o.syntax]:[],!0;return!1}let r=null;return this.matched!==null&&n(this.matched),r}function Hf(t,e){return ki(this,t,n=>n.type==="Type"&&n.name===e)}function Uf(t,e){return ki(this,t,n=>n.type==="Property"&&n.name===e)}function Wf(t){return ki(this,t,e=>e.type==="Keyword")}function ki(t,e,n){const r=yc.call(t,e);return r===null?!1:r.some(n)}const qf=Object.freeze(Object.defineProperty({__proto__:null,getTrace:yc,isKeyword:Wf,isProperty:Uf,isType:Hf},Symbol.toStringTag,{value:"Module"}));function kc(t){return"node"in t?t.node:kc(t.match[0])}function xc(t){return"node"in t?t.node:xc(t.match[t.match.length-1])}function Ja(t,e,n,r,o){function i(l){if(l.syntax!==null&&l.syntax.type===r&&l.syntax.name===o){const c=kc(l),a=xc(l);t.syntax.walk(e,function(u,d,h){if(u===c){const g=new se;do{if(g.appendData(d.data),d.data===a)break;d=d.next}while(d!==null);s.push({parent:h,nodes:g})}})}Array.isArray(l.match)&&l.match.forEach(i)}const s=[];return n.matched!==null&&i(n.matched),s}const{hasOwnProperty:pn}=Object.prototype;function co(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t&&t>=0}function el(t){return!!t&&co(t.offset)&&co(t.line)&&co(t.column)}function Vf(t,e){return function(r,o){if(!r||r.constructor!==Object)return o(r,"Type of node should be an Object");for(let i in r){let s=!0;if(pn.call(r,i)!==!1){if(i==="type")r.type!==t&&o(r,"Wrong node type `"+r.type+"`, expected `"+t+"`");else if(i==="loc"){if(r.loc===null)continue;if(r.loc&&r.loc.constructor===Object)if(typeof r.loc.source!="string")i+=".source";else if(!el(r.loc.start))i+=".start";else if(!el(r.loc.end))i+=".end";else continue;s=!1}else if(e.hasOwnProperty(i)){s=!1;for(let l=0;!s&&l<e[i].length;l++){const c=e[i][l];switch(c){case String:s=typeof r[i]=="string";break;case Boolean:s=typeof r[i]=="boolean";break;case null:s=r[i]===null;break;default:typeof c=="string"?s=r[i]&&r[i].type===c:Array.isArray(c)&&(s=r[i]instanceof se)}}}else o(r,"Unknown field `"+i+"` for "+t+" node type");s||o(r,"Bad value for `"+t+"."+i+"`")}}for(const i in e)pn.call(e,i)&&pn.call(r,i)===!1&&o(r,"Field `"+t+"."+i+"` is missed")}}function wc(t,e){const n=[];for(let r=0;r<t.length;r++){const o=t[r];if(o===String||o===Boolean)n.push(o.name.toLowerCase());else if(o===null)n.push("null");else if(typeof o=="string")n.push(o);else if(Array.isArray(o))n.push("List<"+(wc(o,e)||"any")+">");else throw new Error("Wrong value `"+o+"` in `"+e+"` structure definition")}return n.join(" | ")}function Kf(t,e){const n=e.structure,r={type:String,loc:!0},o={type:'"'+t+'"'};for(const i in n){if(pn.call(n,i)===!1)continue;const s=r[i]=Array.isArray(n[i])?n[i].slice():[n[i]];o[i]=wc(s,t+"."+i)}return{docs:o,check:Vf(t,r)}}function Gf(t){const e={};if(t.node){for(const n in t.node)if(pn.call(t.node,n)){const r=t.node[n];if(r.structure)e[n]=Kf(n,r);else throw new Error("Missed `structure` field in `"+n+"` node type definition")}}return e}function Fo(t,e,n){const r={};for(const o in t)t[o].syntax&&(r[o]=n?t[o].syntax:ui(t[o].syntax,{compact:e}));return r}function Yf(t,e,n){const r={};for(const[o,i]of Object.entries(t))r[o]={prelude:i.prelude&&(n?i.prelude.syntax:ui(i.prelude.syntax,{compact:e})),descriptors:i.descriptors&&Fo(i.descriptors,e,n)};return r}function Xf(t){for(let e=0;e<t.length;e++)if(t[e].value.toLowerCase()==="var(")return!0;return!1}function Zf(t){const e=t.terms[0];return t.explicit===!1&&t.terms.length===1&&e.type==="Multiplier"&&e.comma===!0}function je(t,e,n){return{matched:t,iterations:n,error:e,...qf}}function Pt(t,e,n,r){const o=Lf(n,t.syntax);let i;return Xf(o)?je(null,new Error("Matching for a tree with var() is not supported")):(r&&(i=Qa(o,t.cssWideKeywordsSyntax,t)),(!r||!i.match)&&(i=Qa(o,e.match,t),!i.match)?je(null,new Op(i.reason,e.syntax,n,i),i.iterations):je(i.match,null,i.iterations))}class tl{constructor(e,n,r){if(this.cssWideKeywords=hi,this.syntax=n,this.generic=!1,this.units={...ja},this.atrules=Object.create(null),this.properties=Object.create(null),this.types=Object.create(null),this.structure=r||Gf(e),e){if(e.cssWideKeywords&&(this.cssWideKeywords=e.cssWideKeywords),e.units)for(const o of Object.keys(ja))Array.isArray(e.units[o])&&(this.units[o]=e.units[o]);if(e.types)for(const[o,i]of Object.entries(e.types))this.addType_(o,i);if(e.generic){this.generic=!0;for(const[o,i]of Object.entries(Xp(this.units)))this.addType_(o,i)}if(e.atrules)for(const[o,i]of Object.entries(e.atrules))this.addAtrule_(o,i);if(e.properties)for(const[o,i]of Object.entries(e.properties))this.addProperty_(o,i)}this.cssWideKeywordsSyntax=jn(this.cssWideKeywords.join(" |  "))}checkStructure(e){function n(i,s){o.push({node:i,message:s})}const r=this.structure,o=[];return this.syntax.walk(e,function(i){r.hasOwnProperty(i.type)?r[i.type].check(i,n):n(i,"Unknown node type `"+i.type+"`")}),o.length?o:!1}createDescriptor(e,n,r,o=null){const i={type:n,name:r},s={type:n,name:r,parent:o,serializable:typeof e=="string"||e&&typeof e.type=="string",syntax:null,match:null,matchRef:null};return typeof e=="function"?s.match=jn(e,i):(typeof e=="string"?Object.defineProperty(s,"syntax",{get(){return Object.defineProperty(s,"syntax",{value:mc(e)}),s.syntax}}):s.syntax=e,Object.defineProperty(s,"match",{get(){return Object.defineProperty(s,"match",{value:jn(s.syntax,i)}),s.match}}),n==="Property"&&Object.defineProperty(s,"matchRef",{get(){const l=s.syntax,c=Zf(l)?jn({...l,terms:[l.terms[0].term]},i):null;return Object.defineProperty(s,"matchRef",{value:c}),c}})),s}addAtrule_(e,n){n&&(this.atrules[e]={type:"Atrule",name:e,prelude:n.prelude?this.createDescriptor(n.prelude,"AtrulePrelude",e):null,descriptors:n.descriptors?Object.keys(n.descriptors).reduce((r,o)=>(r[o]=this.createDescriptor(n.descriptors[o],"AtruleDescriptor",o,e),r),Object.create(null)):null})}addProperty_(e,n){n&&(this.properties[e]=this.createDescriptor(n,"Property",e))}addType_(e,n){n&&(this.types[e]=this.createDescriptor(n,"Type",e))}checkAtruleName(e){if(!this.getAtrule(e))return new Qt("Unknown at-rule","@"+e)}checkAtrulePrelude(e,n){const r=this.checkAtruleName(e);if(r)return r;const o=this.getAtrule(e);if(!o.prelude&&n)return new SyntaxError("At-rule `@"+e+"` should not contain a prelude");if(o.prelude&&!n&&!Pt(this,o.prelude,"",!1).matched)return new SyntaxError("At-rule `@"+e+"` should contain a prelude")}checkAtruleDescriptorName(e,n){const r=this.checkAtruleName(e);if(r)return r;const o=this.getAtrule(e),i=oo(n);if(!o.descriptors)return new SyntaxError("At-rule `@"+e+"` has no known descriptors");if(!o.descriptors[i.name]&&!o.descriptors[i.basename])return new Qt("Unknown at-rule descriptor",n)}checkPropertyName(e){if(!this.getProperty(e))return new Qt("Unknown property",e)}matchAtrulePrelude(e,n){const r=this.checkAtrulePrelude(e,n);if(r)return je(null,r);const o=this.getAtrule(e);return o.prelude?Pt(this,o.prelude,n||"",!1):je(null,null)}matchAtruleDescriptor(e,n,r){const o=this.checkAtruleDescriptorName(e,n);if(o)return je(null,o);const i=this.getAtrule(e),s=oo(n);return Pt(this,i.descriptors[s.name]||i.descriptors[s.basename],r,!1)}matchDeclaration(e){return e.type!=="Declaration"?je(null,new Error("Not a Declaration node")):this.matchProperty(e.property,e.value)}matchProperty(e,n){if(Na(e).custom)return je(null,new Error("Lexer matching doesn't applicable for custom properties"));const r=this.checkPropertyName(e);return r?je(null,r):Pt(this,this.getProperty(e),n,!0)}matchType(e,n){const r=this.getType(e);return r?Pt(this,r,n,!1):je(null,new Qt("Unknown type",e))}match(e,n){return typeof e!="string"&&(!e||!e.type)?je(null,new Qt("Bad syntax")):((typeof e=="string"||!e.match)&&(e=this.createDescriptor(e,"Type","anonymous")),Pt(this,e,n,!1))}findValueFragments(e,n,r,o){return Ja(this,n,this.matchProperty(e,n),r,o)}findDeclarationValueFragments(e,n,r){return Ja(this,e.value,this.matchDeclaration(e),n,r)}findAllFragments(e,n,r){const o=[];return this.syntax.walk(e,{visit:"Declaration",enter:i=>{o.push.apply(o,this.findDeclarationValueFragments(i,n,r))}}),o}getAtrule(e,n=!0){const r=oo(e);return(r.vendor&&n?this.atrules[r.name]||this.atrules[r.basename]:this.atrules[r.name])||null}getAtrulePrelude(e,n=!0){const r=this.getAtrule(e,n);return r&&r.prelude||null}getAtruleDescriptor(e,n){return this.atrules.hasOwnProperty(e)&&this.atrules.declarators&&this.atrules[e].declarators[n]||null}getProperty(e,n=!0){const r=Na(e);return(r.vendor&&n?this.properties[r.name]||this.properties[r.basename]:this.properties[r.name])||null}getType(e){return hasOwnProperty.call(this.types,e)?this.types[e]:null}validate(){function e(c,a){return a?`<${c}>`:`<'${c}'>`}function n(c,a,u,d){if(u.has(a))return u.get(a);u.set(a,!1),d.syntax!==null&&_f(d.syntax,function(h){if(h.type!=="Type"&&h.type!=="Property")return;const g=h.type==="Type"?c.types:c.properties,f=h.type==="Type"?o:i;hasOwnProperty.call(g,h.name)?n(c,h.name,f,g[h.name])&&(r.push(`${e(a,u===o)} used broken syntax definition ${e(h.name,h.type==="Type")}`),u.set(a,!0)):(r.push(`${e(a,u===o)} used missed syntax definition ${e(h.name,h.type==="Type")}`),u.set(a,!0))},this)}const r=[];let o=new Map,i=new Map;for(const c in this.types)n(this,c,o,this.types[c]);for(const c in this.properties)n(this,c,i,this.properties[c]);const s=[...o.keys()].filter(c=>o.get(c)),l=[...i.keys()].filter(c=>i.get(c));return s.length||l.length?{errors:r,types:s,properties:l}:null}dump(e,n){return{generic:this.generic,cssWideKeywords:this.cssWideKeywords,units:this.units,types:Fo(this.types,!n,e),properties:Fo(this.properties,!n,e),atrules:Yf(this.atrules,!n,e)}}toString(){return JSON.stringify(this.dump())}}function uo(t,e){return typeof e=="string"&&/^\s*\|/.test(e)?typeof t=="string"?t+e:e.replace(/^\s*\|\s*/,""):e||null}function nl(t,e){const n=Object.create(null);for(const[r,o]of Object.entries(t))if(o){n[r]={};for(const i of Object.keys(o))e.includes(i)&&(n[r][i]=o[i])}return n}function Ho(t,e){const n={...t};for(const[r,o]of Object.entries(e))switch(r){case"generic":n[r]=!!o;break;case"cssWideKeywords":n[r]=t[r]?[...t[r],...o]:o||[];break;case"units":n[r]={...t[r]};for(const[i,s]of Object.entries(o))n[r][i]=Array.isArray(s)?s:[];break;case"atrules":n[r]={...t[r]};for(const[i,s]of Object.entries(o)){const l=n[r][i]||{},c=n[r][i]={prelude:l.prelude||null,descriptors:{...l.descriptors}};if(s){c.prelude=s.prelude?uo(c.prelude,s.prelude):c.prelude||null;for(const[a,u]of Object.entries(s.descriptors||{}))c.descriptors[a]=u?uo(c.descriptors[a],u):null;Object.keys(c.descriptors).length||(c.descriptors=null)}}break;case"types":case"properties":n[r]={...t[r]};for(const[i,s]of Object.entries(o))n[r][i]=uo(n[r][i],s);break;case"scope":case"features":n[r]={...t[r]};for(const[i,s]of Object.entries(o))n[r][i]={...n[r][i],...s};break;case"parseContext":n[r]={...t[r],...o};break;case"atrule":case"pseudo":n[r]={...t[r],...nl(o,["parse"])};break;case"node":n[r]={...t[r],...nl(o,["name","structure","parse","generate","walkContext"])};break}return n}function Sc(t){const e=np(t),n=xp(t),r=bp(t),{fromPlainObject:o,toPlainObject:i}=vp(n),s={lexer:null,createLexer:l=>new tl(l,s,s.lexer.structure),tokenize:Cr,parse:e,generate:r,walk:n,find:n.find,findLast:n.findLast,findAll:n.findAll,fromPlainObject:o,toPlainObject:i,fork(l){const c=Ho({},t);return Sc(typeof l=="function"?l(c):Ho(c,l))}};return s.lexer=new tl({generic:t.generic,cssWideKeywords:t.cssWideKeywords,units:t.units,types:t.types,atrules:t.atrules,properties:t.properties,node:t.node},s),s}const Qf=t=>Sc(Ho({},t)),Jf={generic:!0,cssWideKeywords:["initial","inherit","unset","revert","revert-layer"],units:{angle:["deg","grad","rad","turn"],decibel:["db"],flex:["fr"],frequency:["hz","khz"],length:["cm","mm","q","in","pt","pc","px","em","rem","ex","rex","cap","rcap","ch","rch","ic","ric","lh","rlh","vw","svw","lvw","dvw","vh","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax","cqw","cqh","cqi","cqb","cqmin","cqmax"],resolution:["dpi","dpcm","dppx","x"],semitones:["st"],time:["s","ms"]},types:{"abs()":"abs( <calc-sum> )","absolute-size":"xx-small|x-small|small|medium|large|x-large|xx-large|xxx-large","acos()":"acos( <calc-sum> )","alpha-value":"<number>|<percentage>","angle-percentage":"<angle>|<percentage>","angular-color-hint":"<angle-percentage>","angular-color-stop":"<color>&&<color-stop-angle>?","angular-color-stop-list":"[<angular-color-stop> [, <angular-color-hint>]?]# , <angular-color-stop>","animateable-feature":"scroll-position|contents|<custom-ident>","asin()":"asin( <calc-sum> )","atan()":"atan( <calc-sum> )","atan2()":"atan2( <calc-sum> , <calc-sum> )",attachment:"scroll|fixed|local","attr()":"attr( <attr-name> <type-or-unit>? [, <attr-fallback>]? )","attr-matcher":"['~'|'|'|'^'|'$'|'*']? '='","attr-modifier":"i|s","attribute-selector":"'[' <wq-name> ']'|'[' <wq-name> <attr-matcher> [<string-token>|<ident-token>] <attr-modifier>? ']'","auto-repeat":"repeat( [auto-fill|auto-fit] , [<line-names>? <fixed-size>]+ <line-names>? )","auto-track-list":"[<line-names>? [<fixed-size>|<fixed-repeat>]]* <line-names>? <auto-repeat> [<line-names>? [<fixed-size>|<fixed-repeat>]]* <line-names>?",axis:"block|inline|x|y","baseline-position":"[first|last]? baseline","basic-shape":"<inset()>|<xywh()>|<rect()>|<circle()>|<ellipse()>|<polygon()>|<path()>","bg-image":"none|<image>","bg-layer":"<bg-image>||<bg-position> [/ <bg-size>]?||<repeat-style>||<attachment>||<box>||<box>","bg-position":"[[left|center|right|top|bottom|<length-percentage>]|[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]|[center|[left|right] <length-percentage>?]&&[center|[top|bottom] <length-percentage>?]]","bg-size":"[<length-percentage>|auto]{1,2}|cover|contain","blur()":"blur( <length> )","blend-mode":"normal|multiply|screen|overlay|darken|lighten|color-dodge|color-burn|hard-light|soft-light|difference|exclusion|hue|saturation|color|luminosity",box:"border-box|padding-box|content-box","brightness()":"brightness( <number-percentage> )","calc()":"calc( <calc-sum> )","calc-sum":"<calc-product> [['+'|'-'] <calc-product>]*","calc-product":"<calc-value> ['*' <calc-value>|'/' <number>]*","calc-value":"<number>|<dimension>|<percentage>|<calc-constant>|( <calc-sum> )","calc-constant":"e|pi|infinity|-infinity|NaN","cf-final-image":"<image>|<color>","cf-mixing-image":"<percentage>?&&<image>","circle()":"circle( [<shape-radius>]? [at <position>]? )","clamp()":"clamp( <calc-sum>#{3} )","class-selector":"'.' <ident-token>","clip-source":"<url>",color:"<color-base>|currentColor|<system-color>|<device-cmyk()>|<light-dark()>|<-non-standard-color>","color-stop":"<color-stop-length>|<color-stop-angle>","color-stop-angle":"<angle-percentage>{1,2}","color-stop-length":"<length-percentage>{1,2}","color-stop-list":"[<linear-color-stop> [, <linear-color-hint>]?]# , <linear-color-stop>","color-interpolation-method":"in [<rectangular-color-space>|<polar-color-space> <hue-interpolation-method>?|<custom-color-space>]",combinator:"'>'|'+'|'~'|['|' '|']","common-lig-values":"[common-ligatures|no-common-ligatures]","compat-auto":"searchfield|textarea|push-button|slider-horizontal|checkbox|radio|square-button|menulist|listbox|meter|progress-bar|button","composite-style":"clear|copy|source-over|source-in|source-out|source-atop|destination-over|destination-in|destination-out|destination-atop|xor","compositing-operator":"add|subtract|intersect|exclude","compound-selector":"[<type-selector>? <subclass-selector>*]!","compound-selector-list":"<compound-selector>#","complex-selector":"<complex-selector-unit> [<combinator>? <complex-selector-unit>]*","complex-selector-list":"<complex-selector>#","conic-gradient()":"conic-gradient( [from <angle>]? [at <position>]? , <angular-color-stop-list> )","contextual-alt-values":"[contextual|no-contextual]","content-distribution":"space-between|space-around|space-evenly|stretch","content-list":"[<string>|contents|<image>|<counter>|<quote>|<target>|<leader()>|<attr()>]+","content-position":"center|start|end|flex-start|flex-end","content-replacement":"<image>","contrast()":"contrast( [<number-percentage>] )","cos()":"cos( <calc-sum> )",counter:"<counter()>|<counters()>","counter()":"counter( <counter-name> , <counter-style>? )","counter-name":"<custom-ident>","counter-style":"<counter-style-name>|symbols( )","counter-style-name":"<custom-ident>","counters()":"counters( <counter-name> , <string> , <counter-style>? )","cross-fade()":"cross-fade( <cf-mixing-image> , <cf-final-image>? )","cubic-bezier-timing-function":"ease|ease-in|ease-out|ease-in-out|cubic-bezier( <number [0,1]> , <number> , <number [0,1]> , <number> )","deprecated-system-color":"ActiveBorder|ActiveCaption|AppWorkspace|Background|ButtonFace|ButtonHighlight|ButtonShadow|ButtonText|CaptionText|GrayText|Highlight|HighlightText|InactiveBorder|InactiveCaption|InactiveCaptionText|InfoBackground|InfoText|Menu|MenuText|Scrollbar|ThreeDDarkShadow|ThreeDFace|ThreeDHighlight|ThreeDLightShadow|ThreeDShadow|Window|WindowFrame|WindowText","discretionary-lig-values":"[discretionary-ligatures|no-discretionary-ligatures]","display-box":"contents|none","display-inside":"flow|flow-root|table|flex|grid|ruby","display-internal":"table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption|ruby-base|ruby-text|ruby-base-container|ruby-text-container","display-legacy":"inline-block|inline-list-item|inline-table|inline-flex|inline-grid","display-listitem":"<display-outside>?&&[flow|flow-root]?&&list-item","display-outside":"block|inline|run-in","drop-shadow()":"drop-shadow( <length>{2,3} <color>? )","east-asian-variant-values":"[jis78|jis83|jis90|jis04|simplified|traditional]","east-asian-width-values":"[full-width|proportional-width]","element()":"element( <custom-ident> , [first|start|last|first-except]? )|element( <id-selector> )","ellipse()":"ellipse( [<shape-radius>{2}]? [at <position>]? )","ending-shape":"circle|ellipse","env()":"env( <custom-ident> , <declaration-value>? )","exp()":"exp( <calc-sum> )","explicit-track-list":"[<line-names>? <track-size>]+ <line-names>?","family-name":"<string>|<custom-ident>+","feature-tag-value":"<string> [<integer>|on|off]?","feature-type":"@stylistic|@historical-forms|@styleset|@character-variant|@swash|@ornaments|@annotation","feature-value-block":"<feature-type> '{' <feature-value-declaration-list> '}'","feature-value-block-list":"<feature-value-block>+","feature-value-declaration":"<custom-ident> : <integer>+ ;","feature-value-declaration-list":"<feature-value-declaration>","feature-value-name":"<custom-ident>","fill-rule":"nonzero|evenodd","filter-function":"<blur()>|<brightness()>|<contrast()>|<drop-shadow()>|<grayscale()>|<hue-rotate()>|<invert()>|<opacity()>|<saturate()>|<sepia()>","filter-function-list":"[<filter-function>|<url>]+","final-bg-layer":"<'background-color'>||<bg-image>||<bg-position> [/ <bg-size>]?||<repeat-style>||<attachment>||<box>||<box>","fixed-breadth":"<length-percentage>","fixed-repeat":"repeat( [<integer [1,∞]>] , [<line-names>? <fixed-size>]+ <line-names>? )","fixed-size":"<fixed-breadth>|minmax( <fixed-breadth> , <track-breadth> )|minmax( <inflexible-breadth> , <fixed-breadth> )","font-stretch-absolute":"normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded|<percentage>","font-variant-css21":"[normal|small-caps]","font-weight-absolute":"normal|bold|<number [1,1000]>","frequency-percentage":"<frequency>|<percentage>","general-enclosed":"[<function-token> <any-value>? )]|[( <any-value>? )]","generic-family":"<generic-script-specific>|<generic-complete>|<generic-incomplete>|<-non-standard-generic-family>","generic-name":"serif|sans-serif|cursive|fantasy|monospace","geometry-box":"<shape-box>|fill-box|stroke-box|view-box",gradient:"<linear-gradient()>|<repeating-linear-gradient()>|<radial-gradient()>|<repeating-radial-gradient()>|<conic-gradient()>|<repeating-conic-gradient()>|<-legacy-gradient>","grayscale()":"grayscale( <number-percentage> )","grid-line":"auto|<custom-ident>|[<integer>&&<custom-ident>?]|[span&&[<integer>||<custom-ident>]]","historical-lig-values":"[historical-ligatures|no-historical-ligatures]","hsl()":"hsl( <hue> <percentage> <percentage> [/ <alpha-value>]? )|hsl( <hue> , <percentage> , <percentage> , <alpha-value>? )","hsla()":"hsla( <hue> <percentage> <percentage> [/ <alpha-value>]? )|hsla( <hue> , <percentage> , <percentage> , <alpha-value>? )",hue:"<number>|<angle>","hue-rotate()":"hue-rotate( <angle> )","hue-interpolation-method":"[shorter|longer|increasing|decreasing] hue","hwb()":"hwb( [<hue>|none] [<percentage>|none] [<percentage>|none] [/ [<alpha-value>|none]]? )","hypot()":"hypot( <calc-sum># )",image:"<url>|<image()>|<image-set()>|<element()>|<paint()>|<cross-fade()>|<gradient>","image()":"image( <image-tags>? [<image-src>? , <color>?]! )","image-set()":"image-set( <image-set-option># )","image-set-option":"[<image>|<string>] [<resolution>||type( <string> )]","image-src":"<url>|<string>","image-tags":"ltr|rtl","inflexible-breadth":"<length-percentage>|min-content|max-content|auto","inset()":"inset( <length-percentage>{1,4} [round <'border-radius'>]? )","invert()":"invert( <number-percentage> )","keyframes-name":"<custom-ident>|<string>","keyframe-block":"<keyframe-selector># { <declaration-list> }","keyframe-block-list":"<keyframe-block>+","keyframe-selector":"from|to|<percentage>|<timeline-range-name> <percentage>","lab()":"lab( [<percentage>|<number>|none] [<percentage>|<number>|none] [<percentage>|<number>|none] [/ [<alpha-value>|none]]? )","layer()":"layer( <layer-name> )","layer-name":"<ident> ['.' <ident>]*","lch()":"lch( [<percentage>|<number>|none] [<percentage>|<number>|none] [<hue>|none] [/ [<alpha-value>|none]]? )","leader()":"leader( <leader-type> )","leader-type":"dotted|solid|space|<string>","length-percentage":"<length>|<percentage>","light-dark()":"light-dark( <color> , <color> )","line-names":"'[' <custom-ident>* ']'","line-name-list":"[<line-names>|<name-repeat>]+","line-style":"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset","line-width":"<length>|thin|medium|thick","linear-color-hint":"<length-percentage>","linear-color-stop":"<color> <color-stop-length>?","linear-gradient()":"linear-gradient( [[<angle>|to <side-or-corner>]||<color-interpolation-method>]? , <color-stop-list> )","log()":"log( <calc-sum> , <calc-sum>? )","mask-layer":"<mask-reference>||<position> [/ <bg-size>]?||<repeat-style>||<geometry-box>||[<geometry-box>|no-clip]||<compositing-operator>||<masking-mode>","mask-position":"[<length-percentage>|left|center|right] [<length-percentage>|top|center|bottom]?","mask-reference":"none|<image>|<mask-source>","mask-source":"<url>","masking-mode":"alpha|luminance|match-source","matrix()":"matrix( <number>#{6} )","matrix3d()":"matrix3d( <number>#{16} )","max()":"max( <calc-sum># )","media-and":"<media-in-parens> [and <media-in-parens>]+","media-condition":"<media-not>|<media-and>|<media-or>|<media-in-parens>","media-condition-without-or":"<media-not>|<media-and>|<media-in-parens>","media-feature":"( [<mf-plain>|<mf-boolean>|<mf-range>] )","media-in-parens":"( <media-condition> )|<media-feature>|<general-enclosed>","media-not":"not <media-in-parens>","media-or":"<media-in-parens> [or <media-in-parens>]+","media-query":"<media-condition>|[not|only]? <media-type> [and <media-condition-without-or>]?","media-query-list":"<media-query>#","media-type":"<ident>","mf-boolean":"<mf-name>","mf-name":"<ident>","mf-plain":"<mf-name> : <mf-value>","mf-range":"<mf-name> ['<'|'>']? '='? <mf-value>|<mf-value> ['<'|'>']? '='? <mf-name>|<mf-value> '<' '='? <mf-name> '<' '='? <mf-value>|<mf-value> '>' '='? <mf-name> '>' '='? <mf-value>","mf-value":"<number>|<dimension>|<ident>|<ratio>","min()":"min( <calc-sum># )","minmax()":"minmax( [<length-percentage>|min-content|max-content|auto] , [<length-percentage>|<flex>|min-content|max-content|auto] )","mod()":"mod( <calc-sum> , <calc-sum> )","name-repeat":"repeat( [<integer [1,∞]>|auto-fill] , <line-names>+ )","named-color":"transparent|aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen","namespace-prefix":"<ident>","ns-prefix":"[<ident-token>|'*']? '|'","number-percentage":"<number>|<percentage>","numeric-figure-values":"[lining-nums|oldstyle-nums]","numeric-fraction-values":"[diagonal-fractions|stacked-fractions]","numeric-spacing-values":"[proportional-nums|tabular-nums]",nth:"<an-plus-b>|even|odd","opacity()":"opacity( [<number-percentage>] )","overflow-position":"unsafe|safe","outline-radius":"<length>|<percentage>","page-body":"<declaration>? [; <page-body>]?|<page-margin-box> <page-body>","page-margin-box":"<page-margin-box-type> '{' <declaration-list> '}'","page-margin-box-type":"@top-left-corner|@top-left|@top-center|@top-right|@top-right-corner|@bottom-left-corner|@bottom-left|@bottom-center|@bottom-right|@bottom-right-corner|@left-top|@left-middle|@left-bottom|@right-top|@right-middle|@right-bottom","page-selector-list":"[<page-selector>#]?","page-selector":"<pseudo-page>+|<ident> <pseudo-page>*","page-size":"A5|A4|A3|B5|B4|JIS-B5|JIS-B4|letter|legal|ledger","path()":"path( [<fill-rule> ,]? <string> )","paint()":"paint( <ident> , <declaration-value>? )","perspective()":"perspective( [<length [0,∞]>|none] )","polygon()":"polygon( <fill-rule>? , [<length-percentage> <length-percentage>]# )","polar-color-space":"hsl|hwb|lch|oklch",position:"[[left|center|right]||[top|center|bottom]|[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]?|[[left|right] <length-percentage>]&&[[top|bottom] <length-percentage>]]","pow()":"pow( <calc-sum> , <calc-sum> )","pseudo-class-selector":"':' <ident-token>|':' <function-token> <any-value> ')'","pseudo-element-selector":"':' <pseudo-class-selector>|<legacy-pseudo-element-selector>","pseudo-page":": [left|right|first|blank]",quote:"open-quote|close-quote|no-open-quote|no-close-quote","radial-gradient()":"radial-gradient( [<ending-shape>||<size>]? [at <position>]? , <color-stop-list> )",ratio:"<number [0,∞]> [/ <number [0,∞]>]?","ray()":"ray( <angle>&&<ray-size>?&&contain?&&[at <position>]? )","ray-size":"closest-side|closest-corner|farthest-side|farthest-corner|sides","rectangular-color-space":"srgb|srgb-linear|display-p3|a98-rgb|prophoto-rgb|rec2020|lab|oklab|xyz|xyz-d50|xyz-d65","relative-selector":"<combinator>? <complex-selector>","relative-selector-list":"<relative-selector>#","relative-size":"larger|smaller","rem()":"rem( <calc-sum> , <calc-sum> )","repeat-style":"repeat-x|repeat-y|[repeat|space|round|no-repeat]{1,2}","repeating-conic-gradient()":"repeating-conic-gradient( [from <angle>]? [at <position>]? , <angular-color-stop-list> )","repeating-linear-gradient()":"repeating-linear-gradient( [<angle>|to <side-or-corner>]? , <color-stop-list> )","repeating-radial-gradient()":"repeating-radial-gradient( [<ending-shape>||<size>]? [at <position>]? , <color-stop-list> )","reversed-counter-name":"reversed( <counter-name> )","rgb()":"rgb( <percentage>{3} [/ <alpha-value>]? )|rgb( <number>{3} [/ <alpha-value>]? )|rgb( <percentage>#{3} , <alpha-value>? )|rgb( <number>#{3} , <alpha-value>? )","rgba()":"rgba( <percentage>{3} [/ <alpha-value>]? )|rgba( <number>{3} [/ <alpha-value>]? )|rgba( <percentage>#{3} , <alpha-value>? )|rgba( <number>#{3} , <alpha-value>? )","rotate()":"rotate( [<angle>|<zero>] )","rotate3d()":"rotate3d( <number> , <number> , <number> , [<angle>|<zero>] )","rotateX()":"rotateX( [<angle>|<zero>] )","rotateY()":"rotateY( [<angle>|<zero>] )","rotateZ()":"rotateZ( [<angle>|<zero>] )","round()":"round( <rounding-strategy>? , <calc-sum> , <calc-sum> )","rounding-strategy":"nearest|up|down|to-zero","saturate()":"saturate( <number-percentage> )","scale()":"scale( [<number>|<percentage>]#{1,2} )","scale3d()":"scale3d( [<number>|<percentage>]#{3} )","scaleX()":"scaleX( [<number>|<percentage>] )","scaleY()":"scaleY( [<number>|<percentage>] )","scaleZ()":"scaleZ( [<number>|<percentage>] )","scroll()":"scroll( [<axis>||<scroller>]? )",scroller:"root|nearest|self","self-position":"center|start|end|self-start|self-end|flex-start|flex-end","shape-radius":"<length-percentage>|closest-side|farthest-side","sign()":"sign( <calc-sum> )","skew()":"skew( [<angle>|<zero>] , [<angle>|<zero>]? )","skewX()":"skewX( [<angle>|<zero>] )","skewY()":"skewY( [<angle>|<zero>] )","sepia()":"sepia( <number-percentage> )",shadow:"inset?&&<length>{2,4}&&<color>?","shadow-t":"[<length>{2,3}&&<color>?]",shape:"rect( <top> , <right> , <bottom> , <left> )|rect( <top> <right> <bottom> <left> )","shape-box":"<box>|margin-box","side-or-corner":"[left|right]||[top|bottom]","sin()":"sin( <calc-sum> )","single-animation":"<'animation-duration'>||<easing-function>||<'animation-delay'>||<single-animation-iteration-count>||<single-animation-direction>||<single-animation-fill-mode>||<single-animation-play-state>||[none|<keyframes-name>]||<single-animation-timeline>","single-animation-direction":"normal|reverse|alternate|alternate-reverse","single-animation-fill-mode":"none|forwards|backwards|both","single-animation-iteration-count":"infinite|<number>","single-animation-play-state":"running|paused","single-animation-timeline":"auto|none|<dashed-ident>|<scroll()>|<view()>","single-transition":"[none|<single-transition-property>]||<time>||<easing-function>||<time>||<transition-behavior-value>","single-transition-property":"all|<custom-ident>",size:"closest-side|farthest-side|closest-corner|farthest-corner|<length>|<length-percentage>{2}","sqrt()":"sqrt( <calc-sum> )","step-position":"jump-start|jump-end|jump-none|jump-both|start|end","step-timing-function":"step-start|step-end|steps( <integer> [, <step-position>]? )","subclass-selector":"<id-selector>|<class-selector>|<attribute-selector>|<pseudo-class-selector>","supports-condition":"not <supports-in-parens>|<supports-in-parens> [and <supports-in-parens>]*|<supports-in-parens> [or <supports-in-parens>]*","supports-in-parens":"( <supports-condition> )|<supports-feature>|<general-enclosed>","supports-feature":"<supports-decl>|<supports-selector-fn>","supports-decl":"( <declaration> )","supports-selector-fn":"selector( <complex-selector> )",symbol:"<string>|<image>|<custom-ident>","system-color":"AccentColor|AccentColorText|ActiveText|ButtonBorder|ButtonFace|ButtonText|Canvas|CanvasText|Field|FieldText|GrayText|Highlight|HighlightText|LinkText|Mark|MarkText|SelectedItem|SelectedItemText|VisitedText","tan()":"tan( <calc-sum> )",target:"<target-counter()>|<target-counters()>|<target-text()>","target-counter()":"target-counter( [<string>|<url>] , <custom-ident> , <counter-style>? )","target-counters()":"target-counters( [<string>|<url>] , <custom-ident> , <string> , <counter-style>? )","target-text()":"target-text( [<string>|<url>] , [content|before|after|first-letter]? )","time-percentage":"<time>|<percentage>","timeline-range-name":"cover|contain|entry|exit|entry-crossing|exit-crossing","easing-function":"linear|<cubic-bezier-timing-function>|<step-timing-function>","track-breadth":"<length-percentage>|<flex>|min-content|max-content|auto","track-list":"[<line-names>? [<track-size>|<track-repeat>]]+ <line-names>?","track-repeat":"repeat( [<integer [1,∞]>] , [<line-names>? <track-size>]+ <line-names>? )","track-size":"<track-breadth>|minmax( <inflexible-breadth> , <track-breadth> )|fit-content( <length-percentage> )","transform-function":"<matrix()>|<translate()>|<translateX()>|<translateY()>|<scale()>|<scaleX()>|<scaleY()>|<rotate()>|<skew()>|<skewX()>|<skewY()>|<matrix3d()>|<translate3d()>|<translateZ()>|<scale3d()>|<scaleZ()>|<rotate3d()>|<rotateX()>|<rotateY()>|<rotateZ()>|<perspective()>","transform-list":"<transform-function>+","transition-behavior-value":"normal|allow-discrete","translate()":"translate( <length-percentage> , <length-percentage>? )","translate3d()":"translate3d( <length-percentage> , <length-percentage> , <length> )","translateX()":"translateX( <length-percentage> )","translateY()":"translateY( <length-percentage> )","translateZ()":"translateZ( <length> )","type-or-unit":"string|color|url|integer|number|length|angle|time|frequency|cap|ch|em|ex|ic|lh|rlh|rem|vb|vi|vw|vh|vmin|vmax|mm|Q|cm|in|pt|pc|px|deg|grad|rad|turn|ms|s|Hz|kHz|%","type-selector":"<wq-name>|<ns-prefix>? '*'","var()":"var( <custom-property-name> , <declaration-value>? )","view()":"view( [<axis>||<'view-timeline-inset'>]? )","viewport-length":"auto|<length-percentage>","visual-box":"content-box|padding-box|border-box","wq-name":"<ns-prefix>? <ident-token>","-legacy-gradient":"<-webkit-gradient()>|<-legacy-linear-gradient>|<-legacy-repeating-linear-gradient>|<-legacy-radial-gradient>|<-legacy-repeating-radial-gradient>","-legacy-linear-gradient":"-moz-linear-gradient( <-legacy-linear-gradient-arguments> )|-webkit-linear-gradient( <-legacy-linear-gradient-arguments> )|-o-linear-gradient( <-legacy-linear-gradient-arguments> )","-legacy-repeating-linear-gradient":"-moz-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )|-webkit-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )|-o-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )","-legacy-linear-gradient-arguments":"[<angle>|<side-or-corner>]? , <color-stop-list>","-legacy-radial-gradient":"-moz-radial-gradient( <-legacy-radial-gradient-arguments> )|-webkit-radial-gradient( <-legacy-radial-gradient-arguments> )|-o-radial-gradient( <-legacy-radial-gradient-arguments> )","-legacy-repeating-radial-gradient":"-moz-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )|-webkit-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )|-o-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )","-legacy-radial-gradient-arguments":"[<position> ,]? [[[<-legacy-radial-gradient-shape>||<-legacy-radial-gradient-size>]|[<length>|<percentage>]{2}] ,]? <color-stop-list>","-legacy-radial-gradient-size":"closest-side|closest-corner|farthest-side|farthest-corner|contain|cover","-legacy-radial-gradient-shape":"circle|ellipse","-non-standard-font":"-apple-system-body|-apple-system-headline|-apple-system-subheadline|-apple-system-caption1|-apple-system-caption2|-apple-system-footnote|-apple-system-short-body|-apple-system-short-headline|-apple-system-short-subheadline|-apple-system-short-caption1|-apple-system-short-footnote|-apple-system-tall-body","-non-standard-color":"-moz-ButtonDefault|-moz-ButtonHoverFace|-moz-ButtonHoverText|-moz-CellHighlight|-moz-CellHighlightText|-moz-Combobox|-moz-ComboboxText|-moz-Dialog|-moz-DialogText|-moz-dragtargetzone|-moz-EvenTreeRow|-moz-Field|-moz-FieldText|-moz-html-CellHighlight|-moz-html-CellHighlightText|-moz-mac-accentdarkestshadow|-moz-mac-accentdarkshadow|-moz-mac-accentface|-moz-mac-accentlightesthighlight|-moz-mac-accentlightshadow|-moz-mac-accentregularhighlight|-moz-mac-accentregularshadow|-moz-mac-chrome-active|-moz-mac-chrome-inactive|-moz-mac-focusring|-moz-mac-menuselect|-moz-mac-menushadow|-moz-mac-menutextselect|-moz-MenuHover|-moz-MenuHoverText|-moz-MenuBarText|-moz-MenuBarHoverText|-moz-nativehyperlinktext|-moz-OddTreeRow|-moz-win-communicationstext|-moz-win-mediatext|-moz-activehyperlinktext|-moz-default-background-color|-moz-default-color|-moz-hyperlinktext|-moz-visitedhyperlinktext|-webkit-activelink|-webkit-focus-ring-color|-webkit-link|-webkit-text","-non-standard-image-rendering":"optimize-contrast|-moz-crisp-edges|-o-crisp-edges|-webkit-optimize-contrast","-non-standard-overflow":"overlay|-moz-scrollbars-none|-moz-scrollbars-horizontal|-moz-scrollbars-vertical|-moz-hidden-unscrollable","-non-standard-size":"intrinsic|min-intrinsic|-webkit-fill-available|-webkit-fit-content|-webkit-min-content|-webkit-max-content|-moz-available|-moz-fit-content|-moz-min-content|-moz-max-content","-webkit-gradient()":"-webkit-gradient( <-webkit-gradient-type> , <-webkit-gradient-point> [, <-webkit-gradient-point>|, <-webkit-gradient-radius> , <-webkit-gradient-point>] [, <-webkit-gradient-radius>]? [, <-webkit-gradient-color-stop>]* )","-webkit-gradient-color-stop":"from( <color> )|color-stop( [<number-zero-one>|<percentage>] , <color> )|to( <color> )","-webkit-gradient-point":"[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]","-webkit-gradient-radius":"<length>|<percentage>","-webkit-gradient-type":"linear|radial","-webkit-mask-box-repeat":"repeat|stretch|round","-ms-filter-function-list":"<-ms-filter-function>+","-ms-filter-function":"<-ms-filter-function-progid>|<-ms-filter-function-legacy>","-ms-filter-function-progid":"'progid:' [<ident-token> '.']* [<ident-token>|<function-token> <any-value>? )]","-ms-filter-function-legacy":"<ident-token>|<function-token> <any-value>? )","absolute-color-base":"<hex-color>|<absolute-color-function>|<named-color>|transparent","absolute-color-function":"<rgb()>|<rgba()>|<hsl()>|<hsla()>|<hwb()>|<lab()>|<lch()>|<oklab()>|<oklch()>|<color()>",age:"child|young|old","anchor-name":"<dashed-ident>","attr-name":"<wq-name>","attr-fallback":"<any-value>","bg-clip":"<box>|border|text",bottom:"<length>|auto","container-name":"<custom-ident>","container-condition":"not <query-in-parens>|<query-in-parens> [[and <query-in-parens>]*|[or <query-in-parens>]*]","coord-box":"content-box|padding-box|border-box|fill-box|stroke-box|view-box","generic-voice":"[<age>? <gender> <integer>?]",gender:"male|female|neutral","generic-script-specific":"generic( kai )|generic( fangsong )|generic( nastaliq )","generic-complete":"serif|sans-serif|system-ui|cursive|fantasy|math|monospace","generic-incomplete":"ui-serif|ui-sans-serif|ui-monospace|ui-rounded","-non-standard-generic-family":"-apple-system|BlinkMacSystemFont",left:"<length>|auto","color-base":"<hex-color>|<color-function>|<named-color>|<color-mix()>|transparent","color-function":"<rgb()>|<rgba()>|<hsl()>|<hsla()>|<hwb()>|<lab()>|<lch()>|<oklab()>|<oklch()>|<color()>","device-cmyk()":"<legacy-device-cmyk-syntax>|<modern-device-cmyk-syntax>","legacy-device-cmyk-syntax":"device-cmyk( <number>#{4} )","modern-device-cmyk-syntax":"device-cmyk( <cmyk-component>{4} [/ [<alpha-value>|none]]? )","cmyk-component":"<number>|<percentage>|none","color-mix()":"color-mix( <color-interpolation-method> , [<color>&&<percentage [0,100]>?]#{2} )","color-space":"<rectangular-color-space>|<polar-color-space>|<custom-color-space>","custom-color-space":"<dashed-ident>",paint:"none|<color>|<url> [none|<color>]?|context-fill|context-stroke","palette-identifier":"<dashed-ident>",right:"<length>|auto","scope-start":"<forgiving-selector-list>","scope-end":"<forgiving-selector-list>","forgiving-selector-list":"<complex-real-selector-list>","forgiving-relative-selector-list":"<relative-real-selector-list>","selector-list":"<complex-selector-list>","complex-real-selector-list":"<complex-real-selector>#","simple-selector-list":"<simple-selector>#","relative-real-selector-list":"<relative-real-selector>#","complex-selector-unit":"[<compound-selector>? <pseudo-compound-selector>*]!","complex-real-selector":"<compound-selector> [<combinator>? <compound-selector>]*","relative-real-selector":"<combinator>? <complex-real-selector>","pseudo-compound-selector":"<pseudo-element-selector> <pseudo-class-selector>*","simple-selector":"<type-selector>|<subclass-selector>","legacy-pseudo-element-selector":"':' [before|after|first-line|first-letter]","single-animation-composition":"replace|add|accumulate","svg-length":"<percentage>|<length>|<number>","svg-writing-mode":"lr-tb|rl-tb|tb-rl|lr|rl|tb",top:"<length>|auto",x:"<number>",y:"<number>",declaration:"<ident-token> : <declaration-value>? ['!' important]?","declaration-list":"[<declaration>? ';']* <declaration>?",url:"url( <string> <url-modifier>* )|<url-token>","url-modifier":"<ident>|<function-token> <any-value> )","number-zero-one":"<number [0,1]>","number-one-or-greater":"<number [1,∞]>","color()":"color( <colorspace-params> [/ [<alpha-value>|none]]? )","colorspace-params":"[<predefined-rgb-params>|<xyz-params>]","predefined-rgb-params":"<predefined-rgb> [<number>|<percentage>|none]{3}","predefined-rgb":"srgb|srgb-linear|display-p3|a98-rgb|prophoto-rgb|rec2020","xyz-params":"<xyz-space> [<number>|<percentage>|none]{3}","xyz-space":"xyz|xyz-d50|xyz-d65","oklab()":"oklab( [<percentage>|<number>|none] [<percentage>|<number>|none] [<percentage>|<number>|none] [/ [<alpha-value>|none]]? )","oklch()":"oklch( [<percentage>|<number>|none] [<percentage>|<number>|none] [<hue>|none] [/ [<alpha-value>|none]]? )","offset-path":"<ray()>|<url>|<basic-shape>","rect()":"rect( [<length-percentage>|auto]{4} [round <'border-radius'>]? )","xywh()":"xywh( <length-percentage>{2} <length-percentage [0,∞]>{2} [round <'border-radius'>]? )","query-in-parens":"( <container-condition> )|( <size-feature> )|style( <style-query> )|<general-enclosed>","size-feature":"<mf-plain>|<mf-boolean>|<mf-range>","style-feature":"<declaration>","style-query":"<style-condition>|<style-feature>","style-condition":"not <style-in-parens>|<style-in-parens> [[and <style-in-parens>]*|[or <style-in-parens>]*]","style-in-parens":"( <style-condition> )|( <style-feature> )|<general-enclosed>","-non-standard-display":"-ms-inline-flexbox|-ms-grid|-ms-inline-grid|-webkit-flex|-webkit-inline-flex|-webkit-box|-webkit-inline-box|-moz-inline-stack|-moz-box|-moz-inline-box","inset-area":"[[left|center|right|span-left|span-right|x-start|x-end|span-x-start|span-x-end|x-self-start|x-self-end|span-x-self-start|span-x-self-end|span-all]||[top|center|bottom|span-top|span-bottom|y-start|y-end|span-y-start|span-y-end|y-self-start|y-self-end|span-y-self-start|span-y-self-end|span-all]|[block-start|center|block-end|span-block-start|span-block-end|span-all]||[inline-start|center|inline-end|span-inline-start|span-inline-end|span-all]|[self-block-start|self-block-end|span-self-block-start|span-self-block-end|span-all]||[self-inline-start|self-inline-end|span-self-inline-start|span-self-inline-end|span-all]|[start|center|end|span-start|span-end|span-all]{1,2}|[self-start|center|self-end|span-self-start|span-self-end|span-all]{1,2}]","position-area":"[[left|center|right|span-left|span-right|x-start|x-end|span-x-start|span-x-end|x-self-start|x-self-end|span-x-self-start|span-x-self-end|span-all]||[top|center|bottom|span-top|span-bottom|y-start|y-end|span-y-start|span-y-end|y-self-start|y-self-end|span-y-self-start|span-y-self-end|span-all]|[block-start|center|block-end|span-block-start|span-block-end|span-all]||[inline-start|center|inline-end|span-inline-start|span-inline-end|span-all]|[self-block-start|center|self-block-end|span-self-block-start|span-self-block-end|span-all]||[self-inline-start|center|self-inline-end|span-self-inline-start|span-self-inline-end|span-all]|[start|center|end|span-start|span-end|span-all]{1,2}|[self-start|center|self-end|span-self-start|span-self-end|span-all]{1,2}]","anchor()":"anchor( <anchor-element>?&&<anchor-side> , <length-percentage>? )","anchor-side":"inside|outside|top|left|right|bottom|start|end|self-start|self-end|<percentage>|center","anchor-size()":"anchor-size( [<anchor-element>||<anchor-size>]? , <length-percentage>? )","anchor-size":"width|height|block|inline|self-block|self-inline","anchor-element":"<dashed-ident>","try-size":"most-width|most-height|most-block-size|most-inline-size","try-tactic":"flip-block||flip-inline||flip-start","font-variant-css2":"normal|small-caps","font-width-css3":"normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded","system-family-name":"caption|icon|menu|message-box|small-caption|status-bar"},properties:{"--*":"<declaration-value>","-ms-accelerator":"false|true","-ms-block-progression":"tb|rl|bt|lr","-ms-content-zoom-chaining":"none|chained","-ms-content-zooming":"none|zoom","-ms-content-zoom-limit":"<'-ms-content-zoom-limit-min'> <'-ms-content-zoom-limit-max'>","-ms-content-zoom-limit-max":"<percentage>","-ms-content-zoom-limit-min":"<percentage>","-ms-content-zoom-snap":"<'-ms-content-zoom-snap-type'>||<'-ms-content-zoom-snap-points'>","-ms-content-zoom-snap-points":"snapInterval( <percentage> , <percentage> )|snapList( <percentage># )","-ms-content-zoom-snap-type":"none|proximity|mandatory","-ms-filter":"<string>","-ms-flow-from":"[none|<custom-ident>]#","-ms-flow-into":"[none|<custom-ident>]#","-ms-grid-columns":"none|<track-list>|<auto-track-list>","-ms-grid-rows":"none|<track-list>|<auto-track-list>","-ms-high-contrast-adjust":"auto|none","-ms-hyphenate-limit-chars":"auto|<integer>{1,3}","-ms-hyphenate-limit-lines":"no-limit|<integer>","-ms-hyphenate-limit-zone":"<percentage>|<length>","-ms-ime-align":"auto|after","-ms-overflow-style":"auto|none|scrollbar|-ms-autohiding-scrollbar","-ms-scrollbar-3dlight-color":"<color>","-ms-scrollbar-arrow-color":"<color>","-ms-scrollbar-base-color":"<color>","-ms-scrollbar-darkshadow-color":"<color>","-ms-scrollbar-face-color":"<color>","-ms-scrollbar-highlight-color":"<color>","-ms-scrollbar-shadow-color":"<color>","-ms-scrollbar-track-color":"<color>","-ms-scroll-chaining":"chained|none","-ms-scroll-limit":"<'-ms-scroll-limit-x-min'> <'-ms-scroll-limit-y-min'> <'-ms-scroll-limit-x-max'> <'-ms-scroll-limit-y-max'>","-ms-scroll-limit-x-max":"auto|<length>","-ms-scroll-limit-x-min":"<length>","-ms-scroll-limit-y-max":"auto|<length>","-ms-scroll-limit-y-min":"<length>","-ms-scroll-rails":"none|railed","-ms-scroll-snap-points-x":"snapInterval( <length-percentage> , <length-percentage> )|snapList( <length-percentage># )","-ms-scroll-snap-points-y":"snapInterval( <length-percentage> , <length-percentage> )|snapList( <length-percentage># )","-ms-scroll-snap-type":"none|proximity|mandatory","-ms-scroll-snap-x":"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-x'>","-ms-scroll-snap-y":"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-y'>","-ms-scroll-translation":"none|vertical-to-horizontal","-ms-text-autospace":"none|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space","-ms-touch-select":"grippers|none","-ms-user-select":"none|element|text","-ms-wrap-flow":"auto|both|start|end|maximum|clear","-ms-wrap-margin":"<length>","-ms-wrap-through":"wrap|none","-moz-appearance":"none|button|button-arrow-down|button-arrow-next|button-arrow-previous|button-arrow-up|button-bevel|button-focus|caret|checkbox|checkbox-container|checkbox-label|checkmenuitem|dualbutton|groupbox|listbox|listitem|menuarrow|menubar|menucheckbox|menuimage|menuitem|menuitemtext|menulist|menulist-button|menulist-text|menulist-textfield|menupopup|menuradio|menuseparator|meterbar|meterchunk|progressbar|progressbar-vertical|progresschunk|progresschunk-vertical|radio|radio-container|radio-label|radiomenuitem|range|range-thumb|resizer|resizerpanel|scale-horizontal|scalethumbend|scalethumb-horizontal|scalethumbstart|scalethumbtick|scalethumb-vertical|scale-vertical|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|separator|sheet|spinner|spinner-downbutton|spinner-textfield|spinner-upbutton|splitter|statusbar|statusbarpanel|tab|tabpanel|tabpanels|tab-scroll-arrow-back|tab-scroll-arrow-forward|textfield|textfield-multiline|toolbar|toolbarbutton|toolbarbutton-dropdown|toolbargripper|toolbox|tooltip|treeheader|treeheadercell|treeheadersortarrow|treeitem|treeline|treetwisty|treetwistyopen|treeview|-moz-mac-unified-toolbar|-moz-win-borderless-glass|-moz-win-browsertabbar-toolbox|-moz-win-communicationstext|-moz-win-communications-toolbox|-moz-win-exclude-glass|-moz-win-glass|-moz-win-mediatext|-moz-win-media-toolbox|-moz-window-button-box|-moz-window-button-box-maximized|-moz-window-button-close|-moz-window-button-maximize|-moz-window-button-minimize|-moz-window-button-restore|-moz-window-frame-bottom|-moz-window-frame-left|-moz-window-frame-right|-moz-window-titlebar|-moz-window-titlebar-maximized","-moz-binding":"<url>|none","-moz-border-bottom-colors":"<color>+|none","-moz-border-left-colors":"<color>+|none","-moz-border-right-colors":"<color>+|none","-moz-border-top-colors":"<color>+|none","-moz-context-properties":"none|[fill|fill-opacity|stroke|stroke-opacity]#","-moz-float-edge":"border-box|content-box|margin-box|padding-box","-moz-force-broken-image-icon":"0|1","-moz-image-region":"<shape>|auto","-moz-orient":"inline|block|horizontal|vertical","-moz-outline-radius":"<outline-radius>{1,4} [/ <outline-radius>{1,4}]?","-moz-outline-radius-bottomleft":"<outline-radius>","-moz-outline-radius-bottomright":"<outline-radius>","-moz-outline-radius-topleft":"<outline-radius>","-moz-outline-radius-topright":"<outline-radius>","-moz-stack-sizing":"ignore|stretch-to-fit","-moz-text-blink":"none|blink","-moz-user-focus":"ignore|normal|select-after|select-before|select-menu|select-same|select-all|none","-moz-user-input":"auto|none|enabled|disabled","-moz-user-modify":"read-only|read-write|write-only","-moz-window-dragging":"drag|no-drag","-moz-window-shadow":"default|menu|tooltip|sheet|none","-webkit-appearance":"none|button|button-bevel|caps-lock-indicator|caret|checkbox|default-button|inner-spin-button|listbox|listitem|media-controls-background|media-controls-fullscreen-background|media-current-time-display|media-enter-fullscreen-button|media-exit-fullscreen-button|media-fullscreen-button|media-mute-button|media-overlay-play-button|media-play-button|media-seek-back-button|media-seek-forward-button|media-slider|media-sliderthumb|media-time-remaining-display|media-toggle-closed-captions-button|media-volume-slider|media-volume-slider-container|media-volume-sliderthumb|menulist|menulist-button|menulist-text|menulist-textfield|meter|progress-bar|progress-bar-value|push-button|radio|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbargripper-horizontal|scrollbargripper-vertical|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|searchfield-cancel-button|searchfield-decoration|searchfield-results-button|searchfield-results-decoration|slider-horizontal|slider-vertical|sliderthumb-horizontal|sliderthumb-vertical|square-button|textarea|textfield|-apple-pay-button","-webkit-border-before":"<'border-width'>||<'border-style'>||<color>","-webkit-border-before-color":"<color>","-webkit-border-before-style":"<'border-style'>","-webkit-border-before-width":"<'border-width'>","-webkit-box-reflect":"[above|below|right|left]? <length>? <image>?","-webkit-line-clamp":"none|<integer>","-webkit-mask":"[<mask-reference>||<position> [/ <bg-size>]?||<repeat-style>||[<box>|border|padding|content|text]||[<box>|border|padding|content]]#","-webkit-mask-attachment":"<attachment>#","-webkit-mask-clip":"[<box>|border|padding|content|text]#","-webkit-mask-composite":"<composite-style>#","-webkit-mask-image":"<mask-reference>#","-webkit-mask-origin":"[<box>|border|padding|content]#","-webkit-mask-position":"<position>#","-webkit-mask-position-x":"[<length-percentage>|left|center|right]#","-webkit-mask-position-y":"[<length-percentage>|top|center|bottom]#","-webkit-mask-repeat":"<repeat-style>#","-webkit-mask-repeat-x":"repeat|no-repeat|space|round","-webkit-mask-repeat-y":"repeat|no-repeat|space|round","-webkit-mask-size":"<bg-size>#","-webkit-overflow-scrolling":"auto|touch","-webkit-tap-highlight-color":"<color>","-webkit-text-fill-color":"<color>","-webkit-text-stroke":"<length>||<color>","-webkit-text-stroke-color":"<color>","-webkit-text-stroke-width":"<length>","-webkit-touch-callout":"default|none","-webkit-user-modify":"read-only|read-write|read-write-plaintext-only","accent-color":"auto|<color>","align-content":"normal|<baseline-position>|<content-distribution>|<overflow-position>? <content-position>","align-items":"normal|stretch|<baseline-position>|[<overflow-position>? <self-position>]","align-self":"auto|normal|stretch|<baseline-position>|<overflow-position>? <self-position>","align-tracks":"[normal|<baseline-position>|<content-distribution>|<overflow-position>? <content-position>]#",all:"initial|inherit|unset|revert|revert-layer","anchor-name":"none|<dashed-ident>#","anchor-scope":"none|all|<dashed-ident>#",animation:"<single-animation>#","animation-composition":"<single-animation-composition>#","animation-delay":"<time>#","animation-direction":"<single-animation-direction>#","animation-duration":"<time>#","animation-fill-mode":"<single-animation-fill-mode>#","animation-iteration-count":"<single-animation-iteration-count>#","animation-name":"[none|<keyframes-name>]#","animation-play-state":"<single-animation-play-state>#","animation-range":"[<'animation-range-start'> <'animation-range-end'>?]#","animation-range-end":"[normal|<length-percentage>|<timeline-range-name> <length-percentage>?]#","animation-range-start":"[normal|<length-percentage>|<timeline-range-name> <length-percentage>?]#","animation-timing-function":"<easing-function>#","animation-timeline":"<single-animation-timeline>#",appearance:"none|auto|textfield|menulist-button|<compat-auto>","aspect-ratio":"auto||<ratio>",azimuth:"<angle>|[[left-side|far-left|left|center-left|center|center-right|right|far-right|right-side]||behind]|leftwards|rightwards","backdrop-filter":"none|<filter-function-list>","backface-visibility":"visible|hidden",background:"[<bg-layer> ,]* <final-bg-layer>","background-attachment":"<attachment>#","background-blend-mode":"<blend-mode>#","background-clip":"<bg-clip>#","background-color":"<color>","background-image":"<bg-image>#","background-origin":"<box>#","background-position":"<bg-position>#","background-position-x":"[center|[[left|right|x-start|x-end]? <length-percentage>?]!]#","background-position-y":"[center|[[top|bottom|y-start|y-end]? <length-percentage>?]!]#","background-repeat":"<repeat-style>#","background-size":"<bg-size>#","block-size":"<'width'>",border:"<line-width>||<line-style>||<color>","border-block":"<'border-top-width'>||<'border-top-style'>||<color>","border-block-color":"<'border-top-color'>{1,2}","border-block-style":"<'border-top-style'>","border-block-width":"<'border-top-width'>","border-block-end":"<'border-top-width'>||<'border-top-style'>||<color>","border-block-end-color":"<'border-top-color'>","border-block-end-style":"<'border-top-style'>","border-block-end-width":"<'border-top-width'>","border-block-start":"<'border-top-width'>||<'border-top-style'>||<color>","border-block-start-color":"<'border-top-color'>","border-block-start-style":"<'border-top-style'>","border-block-start-width":"<'border-top-width'>","border-bottom":"<line-width>||<line-style>||<color>","border-bottom-color":"<'border-top-color'>","border-bottom-left-radius":"<length-percentage>{1,2}","border-bottom-right-radius":"<length-percentage>{1,2}","border-bottom-style":"<line-style>","border-bottom-width":"<line-width>","border-collapse":"collapse|separate","border-color":"<color>{1,4}","border-end-end-radius":"<length-percentage>{1,2}","border-end-start-radius":"<length-percentage>{1,2}","border-image":"<'border-image-source'>||<'border-image-slice'> [/ <'border-image-width'>|/ <'border-image-width'>? / <'border-image-outset'>]?||<'border-image-repeat'>","border-image-outset":"[<length>|<number>]{1,4}","border-image-repeat":"[stretch|repeat|round|space]{1,2}","border-image-slice":"<number-percentage>{1,4}&&fill?","border-image-source":"none|<image>","border-image-width":"[<length-percentage>|<number>|auto]{1,4}","border-inline":"<'border-top-width'>||<'border-top-style'>||<color>","border-inline-end":"<'border-top-width'>||<'border-top-style'>||<color>","border-inline-color":"<'border-top-color'>{1,2}","border-inline-style":"<'border-top-style'>","border-inline-width":"<'border-top-width'>","border-inline-end-color":"<'border-top-color'>","border-inline-end-style":"<'border-top-style'>","border-inline-end-width":"<'border-top-width'>","border-inline-start":"<'border-top-width'>||<'border-top-style'>||<color>","border-inline-start-color":"<'border-top-color'>","border-inline-start-style":"<'border-top-style'>","border-inline-start-width":"<'border-top-width'>","border-left":"<line-width>||<line-style>||<color>","border-left-color":"<color>","border-left-style":"<line-style>","border-left-width":"<line-width>","border-radius":"<length-percentage>{1,4} [/ <length-percentage>{1,4}]?","border-right":"<line-width>||<line-style>||<color>","border-right-color":"<color>","border-right-style":"<line-style>","border-right-width":"<line-width>","border-spacing":"<length> <length>?","border-start-end-radius":"<length-percentage>{1,2}","border-start-start-radius":"<length-percentage>{1,2}","border-style":"<line-style>{1,4}","border-top":"<line-width>||<line-style>||<color>","border-top-color":"<color>","border-top-left-radius":"<length-percentage>{1,2}","border-top-right-radius":"<length-percentage>{1,2}","border-top-style":"<line-style>","border-top-width":"<line-width>","border-width":"<line-width>{1,4}",bottom:"<length>|<percentage>|auto","box-align":"start|center|end|baseline|stretch","box-decoration-break":"slice|clone","box-direction":"normal|reverse|inherit","box-flex":"<number>","box-flex-group":"<integer>","box-lines":"single|multiple","box-ordinal-group":"<integer>","box-orient":"horizontal|vertical|inline-axis|block-axis|inherit","box-pack":"start|center|end|justify","box-shadow":"none|<shadow>#","box-sizing":"content-box|border-box","break-after":"auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region","break-before":"auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region","break-inside":"auto|avoid|avoid-page|avoid-column|avoid-region","caption-side":"top|bottom|block-start|block-end|inline-start|inline-end",caret:"<'caret-color'>||<'caret-shape'>","caret-color":"auto|<color>","caret-shape":"auto|bar|block|underscore",clear:"none|left|right|both|inline-start|inline-end",clip:"<shape>|auto","clip-path":"<clip-source>|[<basic-shape>||<geometry-box>]|none","clip-rule":"nonzero|evenodd",color:"<color>","color-interpolation-filters":"auto|sRGB|linearRGB","color-scheme":"normal|[light|dark|<custom-ident>]+&&only?","column-count":"<integer>|auto","column-fill":"auto|balance","column-gap":"normal|<length-percentage>","column-rule":"<'column-rule-width'>||<'column-rule-style'>||<'column-rule-color'>","column-rule-color":"<color>","column-rule-style":"<'border-style'>","column-rule-width":"<'border-width'>","column-span":"none|all","column-width":"<length>|auto",columns:"<'column-width'>||<'column-count'>",contain:"none|strict|content|[[size||inline-size]||layout||style||paint]","contain-intrinsic-size":"[auto? [none|<length>]]{1,2}","contain-intrinsic-block-size":"auto? [none|<length>]","contain-intrinsic-height":"auto? [none|<length>]","contain-intrinsic-inline-size":"auto? [none|<length>]","contain-intrinsic-width":"auto? [none|<length>]",container:"<'container-name'> [/ <'container-type'>]?","container-name":"none|<custom-ident>+","container-type":"normal||[size|inline-size]",content:"normal|none|[<content-replacement>|<content-list>] [/ [<string>|<counter>]+]?","content-visibility":"visible|auto|hidden","counter-increment":"[<counter-name> <integer>?]+|none","counter-reset":"[<counter-name> <integer>?|<reversed-counter-name> <integer>?]+|none","counter-set":"[<counter-name> <integer>?]+|none",cursor:"[[<url> [<x> <y>]? ,]* [auto|default|none|context-menu|help|pointer|progress|wait|cell|crosshair|text|vertical-text|alias|copy|move|no-drop|not-allowed|e-resize|n-resize|ne-resize|nw-resize|s-resize|se-resize|sw-resize|w-resize|ew-resize|ns-resize|nesw-resize|nwse-resize|col-resize|row-resize|all-scroll|zoom-in|zoom-out|grab|grabbing|hand|-webkit-grab|-webkit-grabbing|-webkit-zoom-in|-webkit-zoom-out|-moz-grab|-moz-grabbing|-moz-zoom-in|-moz-zoom-out]]",d:"none|path( <string> )",cx:"<length>|<percentage>",cy:"<length>|<percentage>",direction:"ltr|rtl",display:"[<display-outside>||<display-inside>]|<display-listitem>|<display-internal>|<display-box>|<display-legacy>|<-non-standard-display>","dominant-baseline":"auto|use-script|no-change|reset-size|ideographic|alphabetic|hanging|mathematical|central|middle|text-after-edge|text-before-edge","empty-cells":"show|hide","field-sizing":"content|fixed",fill:"<paint>","fill-opacity":"<number-zero-one>","fill-rule":"nonzero|evenodd",filter:"none|<filter-function-list>|<-ms-filter-function-list>",flex:"none|[<'flex-grow'> <'flex-shrink'>?||<'flex-basis'>]","flex-basis":"content|<'width'>","flex-direction":"row|row-reverse|column|column-reverse","flex-flow":"<'flex-direction'>||<'flex-wrap'>","flex-grow":"<number>","flex-shrink":"<number>","flex-wrap":"nowrap|wrap|wrap-reverse",float:"left|right|none|inline-start|inline-end",font:"[[<'font-style'>||<font-variant-css2>||<'font-weight'>||<font-width-css3>]? <'font-size'> [/ <'line-height'>]? <'font-family'>#]|<system-family-name>|<-non-standard-font>","font-family":"[<family-name>|<generic-family>]#","font-feature-settings":"normal|<feature-tag-value>#","font-kerning":"auto|normal|none","font-language-override":"normal|<string>","font-optical-sizing":"auto|none","font-palette":"normal|light|dark|<palette-identifier>","font-variation-settings":"normal|[<string> <number>]#","font-size":"<absolute-size>|<relative-size>|<length-percentage>","font-size-adjust":"none|[ex-height|cap-height|ch-width|ic-width|ic-height]? [from-font|<number>]","font-smooth":"auto|never|always|<absolute-size>|<length>","font-stretch":"<font-stretch-absolute>","font-style":"normal|italic|oblique <angle>?","font-synthesis":"none|[weight||style||small-caps||position]","font-synthesis-position":"auto|none","font-synthesis-small-caps":"auto|none","font-synthesis-style":"auto|none","font-synthesis-weight":"auto|none","font-variant":"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>||stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )||[small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps]||<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero||<east-asian-variant-values>||<east-asian-width-values>||ruby]","font-variant-alternates":"normal|[stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )]","font-variant-caps":"normal|small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps","font-variant-east-asian":"normal|[<east-asian-variant-values>||<east-asian-width-values>||ruby]","font-variant-emoji":"normal|text|emoji|unicode","font-variant-ligatures":"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>]","font-variant-numeric":"normal|[<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero]","font-variant-position":"normal|sub|super","font-weight":"<font-weight-absolute>|bolder|lighter","forced-color-adjust":"auto|none|preserve-parent-color",gap:"<'row-gap'> <'column-gap'>?",grid:"<'grid-template'>|<'grid-template-rows'> / [auto-flow&&dense?] <'grid-auto-columns'>?|[auto-flow&&dense?] <'grid-auto-rows'>? / <'grid-template-columns'>","grid-area":"<grid-line> [/ <grid-line>]{0,3}","grid-auto-columns":"<track-size>+","grid-auto-flow":"[row|column]||dense","grid-auto-rows":"<track-size>+","grid-column":"<grid-line> [/ <grid-line>]?","grid-column-end":"<grid-line>","grid-column-gap":"<length-percentage>","grid-column-start":"<grid-line>","grid-gap":"<'grid-row-gap'> <'grid-column-gap'>?","grid-row":"<grid-line> [/ <grid-line>]?","grid-row-end":"<grid-line>","grid-row-gap":"<length-percentage>","grid-row-start":"<grid-line>","grid-template":"none|[<'grid-template-rows'> / <'grid-template-columns'>]|[<line-names>? <string> <track-size>? <line-names>?]+ [/ <explicit-track-list>]?","grid-template-areas":"none|<string>+","grid-template-columns":"none|<track-list>|<auto-track-list>|subgrid <line-name-list>?","grid-template-rows":"none|<track-list>|<auto-track-list>|subgrid <line-name-list>?","hanging-punctuation":"none|[first||[force-end|allow-end]||last]",height:"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>","hyphenate-character":"auto|<string>","hyphenate-limit-chars":"[auto|<integer>]{1,3}",hyphens:"none|manual|auto","image-orientation":"from-image|<angle>|[<angle>? flip]","image-rendering":"auto|crisp-edges|pixelated|optimizeSpeed|optimizeQuality|<-non-standard-image-rendering>","image-resolution":"[from-image||<resolution>]&&snap?","ime-mode":"auto|normal|active|inactive|disabled","initial-letter":"normal|[<number> <integer>?]","initial-letter-align":"[auto|alphabetic|hanging|ideographic]","inline-size":"<'width'>","input-security":"auto|none",inset:"<'top'>{1,4}","inset-block":"<'top'>{1,2}","inset-block-end":"<'top'>","inset-block-start":"<'top'>","inset-inline":"<'top'>{1,2}","inset-inline-end":"<'top'>","inset-inline-start":"<'top'>","interpolate-size":"numeric-only|allow-keywords",isolation:"auto|isolate","justify-content":"normal|<content-distribution>|<overflow-position>? [<content-position>|left|right]","justify-items":"normal|stretch|<baseline-position>|<overflow-position>? [<self-position>|left|right]|legacy|legacy&&[left|right|center]","justify-self":"auto|normal|stretch|<baseline-position>|<overflow-position>? [<self-position>|left|right]","justify-tracks":"[normal|<content-distribution>|<overflow-position>? [<content-position>|left|right]]#",left:"<length>|<percentage>|auto","letter-spacing":"normal|<length-percentage>","line-break":"auto|loose|normal|strict|anywhere","line-clamp":"none|<integer>","line-height":"normal|<number>|<length>|<percentage>","line-height-step":"<length>","list-style":"<'list-style-type'>||<'list-style-position'>||<'list-style-image'>","list-style-image":"<image>|none","list-style-position":"inside|outside","list-style-type":"<counter-style>|<string>|none",margin:"[<length>|<percentage>|auto]{1,4}","margin-block":"<'margin-left'>{1,2}","margin-block-end":"<'margin-left'>","margin-block-start":"<'margin-left'>","margin-bottom":"<length>|<percentage>|auto","margin-inline":"<'margin-left'>{1,2}","margin-inline-end":"<'margin-left'>","margin-inline-start":"<'margin-left'>","margin-left":"<length>|<percentage>|auto","margin-right":"<length>|<percentage>|auto","margin-top":"<length>|<percentage>|auto","margin-trim":"none|in-flow|all",marker:"none|<url>","marker-end":"none|<url>","marker-mid":"none|<url>","marker-start":"none|<url>",mask:"<mask-layer>#","mask-border":"<'mask-border-source'>||<'mask-border-slice'> [/ <'mask-border-width'>? [/ <'mask-border-outset'>]?]?||<'mask-border-repeat'>||<'mask-border-mode'>","mask-border-mode":"luminance|alpha","mask-border-outset":"[<length>|<number>]{1,4}","mask-border-repeat":"[stretch|repeat|round|space]{1,2}","mask-border-slice":"<number-percentage>{1,4} fill?","mask-border-source":"none|<image>","mask-border-width":"[<length-percentage>|<number>|auto]{1,4}","mask-clip":"[<geometry-box>|no-clip]#","mask-composite":"<compositing-operator>#","mask-image":"<mask-reference>#","mask-mode":"<masking-mode>#","mask-origin":"<geometry-box>#","mask-position":"<position>#","mask-repeat":"<repeat-style>#","mask-size":"<bg-size>#","mask-type":"luminance|alpha","masonry-auto-flow":"[pack|next]||[definite-first|ordered]","math-depth":"auto-add|add( <integer> )|<integer>","math-shift":"normal|compact","math-style":"normal|compact","max-block-size":"<'max-width'>","max-height":"none|<length-percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>","max-inline-size":"<'max-width'>","max-lines":"none|<integer>","max-width":"none|<length-percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>","min-block-size":"<'min-width'>","min-height":"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>","min-inline-size":"<'min-width'>","min-width":"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>","mix-blend-mode":"<blend-mode>|plus-lighter","object-fit":"fill|contain|cover|none|scale-down","object-position":"<position>",offset:"[<'offset-position'>? [<'offset-path'> [<'offset-distance'>||<'offset-rotate'>]?]?]! [/ <'offset-anchor'>]?","offset-anchor":"auto|<position>","offset-distance":"<length-percentage>","offset-path":"none|<offset-path>||<coord-box>","offset-position":"normal|auto|<position>","offset-rotate":"[auto|reverse]||<angle>",opacity:"<alpha-value>",order:"<integer>",orphans:"<integer>",outline:"[<'outline-width'>||<'outline-style'>||<'outline-color'>]","outline-color":"auto|<color>","outline-offset":"<length>","outline-style":"auto|<'border-style'>","outline-width":"<line-width>",overflow:"[visible|hidden|clip|scroll|auto]{1,2}|<-non-standard-overflow>","overflow-anchor":"auto|none","overflow-block":"visible|hidden|clip|scroll|auto","overflow-clip-box":"padding-box|content-box","overflow-clip-margin":"<visual-box>||<length [0,∞]>","overflow-inline":"visible|hidden|clip|scroll|auto","overflow-wrap":"normal|break-word|anywhere","overflow-x":"visible|hidden|clip|scroll|auto","overflow-y":"visible|hidden|clip|scroll|auto",overlay:"none|auto","overscroll-behavior":"[contain|none|auto]{1,2}","overscroll-behavior-block":"contain|none|auto","overscroll-behavior-inline":"contain|none|auto","overscroll-behavior-x":"contain|none|auto","overscroll-behavior-y":"contain|none|auto",padding:"[<length>|<percentage>]{1,4}","padding-block":"<'padding-left'>{1,2}","padding-block-end":"<'padding-left'>","padding-block-start":"<'padding-left'>","padding-bottom":"<length>|<percentage>","padding-inline":"<'padding-left'>{1,2}","padding-inline-end":"<'padding-left'>","padding-inline-start":"<'padding-left'>","padding-left":"<length>|<percentage>","padding-right":"<length>|<percentage>","padding-top":"<length>|<percentage>",page:"auto|<custom-ident>","page-break-after":"auto|always|avoid|left|right|recto|verso","page-break-before":"auto|always|avoid|left|right|recto|verso","page-break-inside":"auto|avoid","paint-order":"normal|[fill||stroke||markers]",perspective:"none|<length>","perspective-origin":"<position>","place-content":"<'align-content'> <'justify-content'>?","place-items":"<'align-items'> <'justify-items'>?","place-self":"<'align-self'> <'justify-self'>?","pointer-events":"auto|none|visiblePainted|visibleFill|visibleStroke|visible|painted|fill|stroke|all|inherit",position:"static|relative|absolute|sticky|fixed|-webkit-sticky","position-anchor":"auto|<anchor-name>","position-area":"none|<position-area>","position-try":"<'position-try-order'>? <'position-try-fallbacks'>","position-try-fallbacks":"none|[[<dashed-ident>||<try-tactic>]|<'position-area'>]#","position-try-order":"normal|<try-size>","position-visibility":"always|[anchors-valid||anchors-visible||no-overflow]","print-color-adjust":"economy|exact",quotes:"none|auto|[<string> <string>]+",r:"<length>|<percentage>",resize:"none|both|horizontal|vertical|block|inline",right:"<length>|<percentage>|auto",rotate:"none|<angle>|[x|y|z|<number>{3}]&&<angle>","row-gap":"normal|<length-percentage>","ruby-align":"start|center|space-between|space-around","ruby-merge":"separate|collapse|auto","ruby-position":"[alternate||[over|under]]|inter-character",rx:"<length>|<percentage>",ry:"<length>|<percentage>",scale:"none|[<number>|<percentage>]{1,3}","scrollbar-color":"auto|<color>{2}","scrollbar-gutter":"auto|stable&&both-edges?","scrollbar-width":"auto|thin|none","scroll-behavior":"auto|smooth","scroll-margin":"<length>{1,4}","scroll-margin-block":"<length>{1,2}","scroll-margin-block-start":"<length>","scroll-margin-block-end":"<length>","scroll-margin-bottom":"<length>","scroll-margin-inline":"<length>{1,2}","scroll-margin-inline-start":"<length>","scroll-margin-inline-end":"<length>","scroll-margin-left":"<length>","scroll-margin-right":"<length>","scroll-margin-top":"<length>","scroll-padding":"[auto|<length-percentage>]{1,4}","scroll-padding-block":"[auto|<length-percentage>]{1,2}","scroll-padding-block-start":"auto|<length-percentage>","scroll-padding-block-end":"auto|<length-percentage>","scroll-padding-bottom":"auto|<length-percentage>","scroll-padding-inline":"[auto|<length-percentage>]{1,2}","scroll-padding-inline-start":"auto|<length-percentage>","scroll-padding-inline-end":"auto|<length-percentage>","scroll-padding-left":"auto|<length-percentage>","scroll-padding-right":"auto|<length-percentage>","scroll-padding-top":"auto|<length-percentage>","scroll-snap-align":"[none|start|end|center]{1,2}","scroll-snap-coordinate":"none|<position>#","scroll-snap-destination":"<position>","scroll-snap-points-x":"none|repeat( <length-percentage> )","scroll-snap-points-y":"none|repeat( <length-percentage> )","scroll-snap-stop":"normal|always","scroll-snap-type":"none|[x|y|block|inline|both] [mandatory|proximity]?","scroll-snap-type-x":"none|mandatory|proximity","scroll-snap-type-y":"none|mandatory|proximity","scroll-timeline":"[<'scroll-timeline-name'>||<'scroll-timeline-axis'>]#","scroll-timeline-axis":"[block|inline|x|y]#","scroll-timeline-name":"[none|<dashed-ident>]#","shape-image-threshold":"<alpha-value>","shape-margin":"<length-percentage>","shape-outside":"none|[<shape-box>||<basic-shape>]|<image>","shape-rendering":"auto|optimizeSpeed|crispEdges|geometricPrecision",stroke:"<paint>","stroke-dasharray":"none|[<svg-length>+]#","stroke-dashoffset":"<svg-length>","stroke-linecap":"butt|round|square","stroke-linejoin":"miter|round|bevel","stroke-miterlimit":"<number-one-or-greater>","stroke-opacity":"<'opacity'>","stroke-width":"<svg-length>","tab-size":"<integer>|<length>","table-layout":"auto|fixed","text-align":"start|end|left|right|center|justify|match-parent","text-align-last":"auto|start|end|left|right|center|justify","text-anchor":"start|middle|end","text-combine-upright":"none|all|[digits <integer>?]","text-decoration":"<'text-decoration-line'>||<'text-decoration-style'>||<'text-decoration-color'>||<'text-decoration-thickness'>","text-decoration-color":"<color>","text-decoration-line":"none|[underline||overline||line-through||blink]|spelling-error|grammar-error","text-decoration-skip":"none|[objects||[spaces|[leading-spaces||trailing-spaces]]||edges||box-decoration]","text-decoration-skip-ink":"auto|all|none","text-decoration-style":"solid|double|dotted|dashed|wavy","text-decoration-thickness":"auto|from-font|<length>|<percentage>","text-emphasis":"<'text-emphasis-style'>||<'text-emphasis-color'>","text-emphasis-color":"<color>","text-emphasis-position":"auto|[over|under]&&[right|left]?","text-emphasis-style":"none|[[filled|open]||[dot|circle|double-circle|triangle|sesame]]|<string>","text-indent":"<length-percentage>&&hanging?&&each-line?","text-justify":"auto|inter-character|inter-word|none","text-orientation":"mixed|upright|sideways","text-overflow":"[clip|ellipsis|<string>]{1,2}","text-rendering":"auto|optimizeSpeed|optimizeLegibility|geometricPrecision","text-shadow":"none|<shadow-t>#","text-size-adjust":"none|auto|<percentage>","text-spacing-trim":"space-all|normal|space-first|trim-start|trim-both|trim-all|auto","text-transform":"none|capitalize|uppercase|lowercase|full-width|full-size-kana","text-underline-offset":"auto|<length>|<percentage>","text-underline-position":"auto|from-font|[under||[left|right]]","text-wrap":"<'text-wrap-mode'>||<'text-wrap-style'>","text-wrap-mode":"auto|wrap|nowrap","text-wrap-style":"auto|balance|stable|pretty","timeline-scope":"none|<dashed-ident>#",top:"<length>|<percentage>|auto","touch-action":"auto|none|[[pan-x|pan-left|pan-right]||[pan-y|pan-up|pan-down]||pinch-zoom]|manipulation",transform:"none|<transform-list>","transform-box":"content-box|border-box|fill-box|stroke-box|view-box","transform-origin":"[<length-percentage>|left|center|right|top|bottom]|[[<length-percentage>|left|center|right]&&[<length-percentage>|top|center|bottom]] <length>?","transform-style":"flat|preserve-3d",transition:"<single-transition>#","transition-behavior":"<transition-behavior-value>#","transition-delay":"<time>#","transition-duration":"<time>#","transition-property":"none|<single-transition-property>#","transition-timing-function":"<easing-function>#",translate:"none|<length-percentage> [<length-percentage> <length>?]?","unicode-bidi":"normal|embed|isolate|bidi-override|isolate-override|plaintext|-moz-isolate|-moz-isolate-override|-moz-plaintext|-webkit-isolate|-webkit-isolate-override|-webkit-plaintext","user-select":"auto|text|none|contain|all","vector-effect":"none|non-scaling-stroke|non-scaling-size|non-rotation|fixed-position","vertical-align":"baseline|sub|super|text-top|text-bottom|middle|top|bottom|<percentage>|<length>","view-timeline":"[<'view-timeline-name'> <'view-timeline-axis'>?]#","view-timeline-axis":"[block|inline|x|y]#","view-timeline-inset":"[[auto|<length-percentage>]{1,2}]#","view-timeline-name":"none|<dashed-ident>#","view-transition-name":"none|<custom-ident>",visibility:"visible|hidden|collapse","white-space":"normal|pre|nowrap|pre-wrap|pre-line|break-spaces|[<'white-space-collapse'>||<'text-wrap'>||<'white-space-trim'>]","white-space-collapse":"collapse|discard|preserve|preserve-breaks|preserve-spaces|break-spaces",widows:"<integer>",width:"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>","will-change":"auto|<animateable-feature>#","word-break":"normal|break-all|keep-all|break-word|auto-phrase","word-spacing":"normal|<length>","word-wrap":"normal|break-word","writing-mode":"horizontal-tb|vertical-rl|vertical-lr|sideways-rl|sideways-lr|<svg-writing-mode>",x:"<length>|<percentage>",y:"<length>|<percentage>","z-index":"auto|<integer>",zoom:"normal|reset|<number>|<percentage>","-moz-background-clip":"padding|border","-moz-border-radius-bottomleft":"<'border-bottom-left-radius'>","-moz-border-radius-bottomright":"<'border-bottom-right-radius'>","-moz-border-radius-topleft":"<'border-top-left-radius'>","-moz-border-radius-topright":"<'border-bottom-right-radius'>","-moz-control-character-visibility":"visible|hidden","-moz-osx-font-smoothing":"auto|grayscale","-moz-user-select":"none|text|all|-moz-none","-ms-flex-align":"start|end|center|baseline|stretch","-ms-flex-item-align":"auto|start|end|center|baseline|stretch","-ms-flex-line-pack":"start|end|center|justify|distribute|stretch","-ms-flex-negative":"<'flex-shrink'>","-ms-flex-pack":"start|end|center|justify|distribute","-ms-flex-order":"<integer>","-ms-flex-positive":"<'flex-grow'>","-ms-flex-preferred-size":"<'flex-basis'>","-ms-interpolation-mode":"nearest-neighbor|bicubic","-ms-grid-column-align":"start|end|center|stretch","-ms-grid-row-align":"start|end|center|stretch","-ms-hyphenate-limit-last":"none|always|column|page|spread","-webkit-background-clip":"[<box>|border|padding|content|text]#","-webkit-column-break-after":"always|auto|avoid","-webkit-column-break-before":"always|auto|avoid","-webkit-column-break-inside":"always|auto|avoid","-webkit-font-smoothing":"auto|none|antialiased|subpixel-antialiased","-webkit-mask-box-image":"[<url>|<gradient>|none] [<length-percentage>{4} <-webkit-mask-box-repeat>{2}]?","-webkit-print-color-adjust":"economy|exact","-webkit-text-security":"none|circle|disc|square","-webkit-user-drag":"none|element|auto","-webkit-user-select":"auto|none|text|all","alignment-baseline":"auto|baseline|before-edge|text-before-edge|middle|central|after-edge|text-after-edge|ideographic|alphabetic|hanging|mathematical","baseline-shift":"baseline|sub|super|<svg-length>",behavior:"<url>+",cue:"<'cue-before'> <'cue-after'>?","cue-after":"<url> <decibel>?|none","cue-before":"<url> <decibel>?|none","glyph-orientation-horizontal":"<angle>","glyph-orientation-vertical":"<angle>",kerning:"auto|<svg-length>",pause:"<'pause-before'> <'pause-after'>?","pause-after":"<time>|none|x-weak|weak|medium|strong|x-strong","pause-before":"<time>|none|x-weak|weak|medium|strong|x-strong",rest:"<'rest-before'> <'rest-after'>?","rest-after":"<time>|none|x-weak|weak|medium|strong|x-strong","rest-before":"<time>|none|x-weak|weak|medium|strong|x-strong",src:"[<url> [format( <string># )]?|local( <family-name> )]#",speak:"auto|never|always","speak-as":"normal|spell-out||digits||[literal-punctuation|no-punctuation]","unicode-range":"<urange>#","voice-balance":"<number>|left|center|right|leftwards|rightwards","voice-duration":"auto|<time>","voice-family":"[[<family-name>|<generic-voice>] ,]* [<family-name>|<generic-voice>]|preserve","voice-pitch":"<frequency>&&absolute|[[x-low|low|medium|high|x-high]||[<frequency>|<semitones>|<percentage>]]","voice-range":"<frequency>&&absolute|[[x-low|low|medium|high|x-high]||[<frequency>|<semitones>|<percentage>]]","voice-rate":"[normal|x-slow|slow|medium|fast|x-fast]||<percentage>","voice-stress":"normal|strong|moderate|none|reduced","voice-volume":"silent|[[x-soft|soft|medium|loud|x-loud]||<decibel>]","white-space-trim":"none|discard-before||discard-after||discard-inner"},atrules:{charset:{prelude:"<string>",descriptors:null},"counter-style":{prelude:"<counter-style-name>",descriptors:{"additive-symbols":"[<integer>&&<symbol>]#",fallback:"<counter-style-name>",negative:"<symbol> <symbol>?",pad:"<integer>&&<symbol>",prefix:"<symbol>",range:"[[<integer>|infinite]{2}]#|auto","speak-as":"auto|bullets|numbers|words|spell-out|<counter-style-name>",suffix:"<symbol>",symbols:"<symbol>+",system:"cyclic|numeric|alphabetic|symbolic|additive|[fixed <integer>?]|[extends <counter-style-name>]"}},document:{prelude:"[<url>|url-prefix( <string> )|domain( <string> )|media-document( <string> )|regexp( <string> )]#",descriptors:null},"font-palette-values":{prelude:"<dashed-ident>",descriptors:{"base-palette":"light|dark|<integer [0,∞]>","font-family":"<family-name>#","override-colors":"[<integer [0,∞]> <absolute-color-base>]#"}},"font-face":{prelude:null,descriptors:{"ascent-override":"normal|<percentage>","descent-override":"normal|<percentage>","font-display":"[auto|block|swap|fallback|optional]","font-family":"<family-name>","font-feature-settings":"normal|<feature-tag-value>#","font-variation-settings":"normal|[<string> <number>]#","font-stretch":"<font-stretch-absolute>{1,2}","font-style":"normal|italic|oblique <angle>{0,2}","font-weight":"<font-weight-absolute>{1,2}","line-gap-override":"normal|<percentage>","size-adjust":"<percentage>",src:"[<url> [format( <string># )]?|local( <family-name> )]#","unicode-range":"<urange>#"}},"font-feature-values":{prelude:"<family-name>#",descriptors:null},import:{prelude:"[<string>|<url>] [layer|layer( <layer-name> )]? [supports( [<supports-condition>|<declaration>] )]? <media-query-list>?",descriptors:null},keyframes:{prelude:"<keyframes-name>",descriptors:null},layer:{prelude:"[<layer-name>#|<layer-name>?]",descriptors:null},media:{prelude:"<media-query-list>",descriptors:null},namespace:{prelude:"<namespace-prefix>? [<string>|<url>]",descriptors:null},page:{prelude:"<page-selector-list>",descriptors:{bleed:"auto|<length>",marks:"none|[crop||cross]","page-orientation":"upright|rotate-left|rotate-right",size:"<length>{1,2}|auto|[<page-size>||[portrait|landscape]]"}},"position-try":{prelude:"<dashed-ident>",descriptors:{top:"<'top'>",left:"<'left'>",bottom:"<'bottom'>",right:"<'right'>","inset-block-start":"<'inset-block-start'>","inset-block-end":"<'inset-block-end'>","inset-inline-start":"<'inset-inline-start'>","inset-inline-end":"<'inset-inline-end'>","inset-block":"<'inset-block'>","inset-inline":"<'inset-inline'>",inset:"<'inset'>","margin-top":"<'margin-top'>","margin-left":"<'margin-left'>","margin-bottom":"<'margin-bottom'>","margin-right":"<'margin-right'>","margin-block-start":"<'margin-block-start'>","margin-block-end":"<'margin-block-end'>","margin-inline-start":"<'margin-inline-start'>","margin-inline-end":"<'margin-inline-end'>",margin:"<'margin'>","margin-block":"<'margin-block'>","margin-inline":"<'margin-inline'>",width:"<'width'>",height:"<'height'>","min-width":"<'min-width'>","min-height":"<'min-height'>","max-width":"<'max-width'>","max-height":"<'max-height'>","block-size":"<'block-size'>","inline-size":"<'inline-size'>","min-block-size":"<'min-block-size'>","min-inline-size":"<'min-inline-size'>","max-block-size":"<'max-block-size'>","max-inline-size":"<'max-inline-size'>","align-self":"<'align-self'>|anchor-center","justify-self":"<'justify-self'>|anchor-center"}},property:{prelude:"<custom-property-name>",descriptors:{syntax:"<string>",inherits:"true|false","initial-value":"<declaration-value>?"}},scope:{prelude:"[( <scope-start> )]? [to ( <scope-end> )]?",descriptors:null},"starting-style":{prelude:null,descriptors:null},supports:{prelude:"<supports-condition>",descriptors:null},container:{prelude:"[<container-name>]? <container-condition>",descriptors:null},nest:{prelude:"<complex-selector-list>",descriptors:null}}},Ke=43,Oe=45,Kn=110,wt=!0,eg=!1;function Gn(t,e){let n=this.tokenStart+t;const r=this.charCodeAt(n);for((r===Ke||r===Oe)&&(e&&this.error("Number sign is not allowed"),n++);n<this.tokenEnd;n++)le(this.charCodeAt(n))||this.error("Integer is expected",n)}function Ft(t){return Gn.call(this,0,t)}function at(t,e){if(!this.cmpChar(this.tokenStart+t,e)){let n="";switch(e){case Kn:n="N is expected";break;case Oe:n="HyphenMinus is expected";break}this.error(n,this.tokenStart+t)}}function ho(){let t=0,e=0,n=this.tokenType;for(;n===ee||n===ce;)n=this.lookupType(++t);if(n!==A)if(this.isDelim(Ke,t)||this.isDelim(Oe,t)){e=this.isDelim(Ke,t)?Ke:Oe;do n=this.lookupType(++t);while(n===ee||n===ce);n!==A&&(this.skip(t),Ft.call(this,wt))}else return null;return t>0&&this.skip(t),e===0&&(n=this.charCodeAt(this.tokenStart),n!==Ke&&n!==Oe&&this.error("Number sign is expected")),Ft.call(this,e!==0),e===Oe?"-"+this.consume(A):this.consume(A)}const tg="AnPlusB",ng={a:[String,null],b:[String,null]};function Cc(){const t=this.tokenStart;let e=null,n=null;if(this.tokenType===A)Ft.call(this,eg),n=this.consume(A);else if(this.tokenType===x&&this.cmpChar(this.tokenStart,Oe))switch(e="-1",at.call(this,1,Kn),this.tokenEnd-this.tokenStart){case 2:this.next(),n=ho.call(this);break;case 3:at.call(this,2,Oe),this.next(),this.skipSC(),Ft.call(this,wt),n="-"+this.consume(A);break;default:at.call(this,2,Oe),Gn.call(this,3,wt),this.next(),n=this.substrToCursor(t+2)}else if(this.tokenType===x||this.isDelim(Ke)&&this.lookupType(1)===x){let r=0;switch(e="1",this.isDelim(Ke)&&(r=1,this.next()),at.call(this,0,Kn),this.tokenEnd-this.tokenStart){case 1:this.next(),n=ho.call(this);break;case 2:at.call(this,1,Oe),this.next(),this.skipSC(),Ft.call(this,wt),n="-"+this.consume(A);break;default:at.call(this,1,Oe),Gn.call(this,2,wt),this.next(),n=this.substrToCursor(t+r+1)}}else if(this.tokenType===R){const r=this.charCodeAt(this.tokenStart),o=r===Ke||r===Oe;let i=this.tokenStart+o;for(;i<this.tokenEnd&&le(this.charCodeAt(i));i++);i===this.tokenStart+o&&this.error("Integer is expected",this.tokenStart+o),at.call(this,i-this.tokenStart,Kn),e=this.substring(t,i),i+1===this.tokenEnd?(this.next(),n=ho.call(this)):(at.call(this,i-this.tokenStart+1,Oe),i+2===this.tokenEnd?(this.next(),this.skipSC(),Ft.call(this,wt),n="-"+this.consume(A)):(Gn.call(this,i-this.tokenStart+2,wt),this.next(),n=this.substrToCursor(i+1)))}else this.error();return e!==null&&e.charCodeAt(0)===Ke&&(e=e.substr(1)),n!==null&&n.charCodeAt(0)===Ke&&(n=n.substr(1)),{type:"AnPlusB",loc:this.getLocation(t,this.tokenStart),a:e,b:n}}function rg(t){if(t.a){const e=t.a==="+1"&&"n"||t.a==="1"&&"n"||t.a==="-1"&&"-n"||t.a+"n";if(t.b){const n=t.b[0]==="-"||t.b[0]==="+"?t.b:"+"+t.b;this.tokenize(e+n)}else this.tokenize(e)}else this.tokenize(t.b)}const og=Object.freeze(Object.defineProperty({__proto__:null,generate:rg,name:tg,parse:Cc,structure:ng},Symbol.toStringTag,{value:"Module"}));function rl(){return this.Raw(this.consumeUntilLeftCurlyBracketOrSemicolon,!0)}function ig(){for(let t=1,e;e=this.lookupType(t);t++){if(e===Me)return!0;if(e===de||e===re)return!1}return!1}const sg="Atrule",ag="atrule",lg={name:String,prelude:["AtrulePrelude","Raw",null],block:["Block",null]};function Ec(t=!1){const e=this.tokenStart;let n,r,o=null,i=null;switch(this.eat(re),n=this.substrToCursor(e+1),r=n.toLowerCase(),this.skipSC(),this.eof===!1&&this.tokenType!==de&&this.tokenType!==me&&(this.parseAtrulePrelude?o=this.parseWithFallback(this.AtrulePrelude.bind(this,n,t),rl):o=rl.call(this,this.tokenIndex),this.skipSC()),this.tokenType){case me:this.next();break;case de:hasOwnProperty.call(this.atrule,r)&&typeof this.atrule[r].block=="function"?i=this.atrule[r].block.call(this,t):i=this.Block(ig.call(this));break}return{type:"Atrule",loc:this.getLocation(e,this.tokenStart),name:n,prelude:o,block:i}}function cg(t){this.token(re,"@"+t.name),t.prelude!==null&&this.node(t.prelude),t.block?this.node(t.block):this.token(me,";")}const ug=Object.freeze(Object.defineProperty({__proto__:null,generate:cg,name:sg,parse:Ec,structure:lg,walkContext:ag},Symbol.toStringTag,{value:"Module"})),dg="AtrulePrelude",hg="atrulePrelude",pg={children:[[]]};function Tc(t){let e=null;return t!==null&&(t=t.toLowerCase()),this.skipSC(),hasOwnProperty.call(this.atrule,t)&&typeof this.atrule[t].prelude=="function"?e=this.atrule[t].prelude.call(this):e=this.readSequence(this.scope.AtrulePrelude),this.skipSC(),this.eof!==!0&&this.tokenType!==de&&this.tokenType!==me&&this.error("Semicolon or block is expected"),{type:"AtrulePrelude",loc:this.getLocationFromList(e),children:e}}function fg(t){this.children(t)}const gg=Object.freeze(Object.defineProperty({__proto__:null,generate:fg,name:dg,parse:Tc,structure:pg,walkContext:hg},Symbol.toStringTag,{value:"Module"})),mg=36,Oc=42,Yn=61,bg=94,Uo=124,vg=126;function yg(){this.eof&&this.error("Unexpected end of input");const t=this.tokenStart;let e=!1;return this.isDelim(Oc)?(e=!0,this.next()):this.isDelim(Uo)||this.eat(x),this.isDelim(Uo)?this.charCodeAt(this.tokenStart+1)!==Yn?(this.next(),this.eat(x)):e&&this.error("Identifier is expected",this.tokenEnd):e&&this.error("Vertical line is expected"),{type:"Identifier",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t)}}function kg(){const t=this.tokenStart,e=this.charCodeAt(t);return e!==Yn&&e!==vg&&e!==bg&&e!==mg&&e!==Oc&&e!==Uo&&this.error("Attribute selector (=, ~=, ^=, $=, *=, |=) is expected"),this.next(),e!==Yn&&(this.isDelim(Yn)||this.error("Equal sign is expected"),this.next()),this.substrToCursor(t)}const xg="AttributeSelector",wg={name:"Identifier",matcher:[String,null],value:["String","Identifier",null],flags:[String,null]};function _c(){const t=this.tokenStart;let e,n=null,r=null,o=null;return this.eat(Pe),this.skipSC(),e=yg.call(this),this.skipSC(),this.tokenType!==De&&(this.tokenType!==x&&(n=kg.call(this),this.skipSC(),r=this.tokenType===ze?this.String():this.Identifier(),this.skipSC()),this.tokenType===x&&(o=this.consume(x),this.skipSC())),this.eat(De),{type:"AttributeSelector",loc:this.getLocation(t,this.tokenStart),name:e,matcher:n,value:r,flags:o}}function Sg(t){this.token(D,"["),this.node(t.name),t.matcher!==null&&(this.tokenize(t.matcher),this.node(t.value)),t.flags!==null&&this.token(x,t.flags),this.token(D,"]")}const Cg=Object.freeze(Object.defineProperty({__proto__:null,generate:Sg,name:xg,parse:_c,structure:wg},Symbol.toStringTag,{value:"Module"})),Eg=38;function Bc(){return this.Raw(null,!0)}function ol(){return this.parseWithFallback(this.Rule,Bc)}function il(){return this.Raw(this.consumeUntilSemicolonIncluded,!0)}function Tg(){if(this.tokenType===me)return il.call(this,this.tokenIndex);const t=this.parseWithFallback(this.Declaration,il);return this.tokenType===me&&this.next(),t}const Og="Block",_g="block",Bg={children:[["Atrule","Rule","Declaration"]]};function Ic(t){const e=t?Tg:ol,n=this.tokenStart;let r=this.createList();this.eat(de);e:for(;!this.eof;)switch(this.tokenType){case Me:break e;case ee:case ce:this.next();break;case re:r.push(this.parseWithFallback(this.Atrule.bind(this,t),Bc));break;default:t&&this.isDelim(Eg)?r.push(ol.call(this)):r.push(e.call(this))}return this.eof||this.eat(Me),{type:"Block",loc:this.getLocation(n,this.tokenStart),children:r}}function Ig(t){this.token(de,"{"),this.children(t,e=>{e.type==="Declaration"&&this.token(me,";")}),this.token(Me,"}")}const Lg=Object.freeze(Object.defineProperty({__proto__:null,generate:Ig,name:Og,parse:Ic,structure:Bg,walkContext:_g},Symbol.toStringTag,{value:"Module"})),Mg="Brackets",Ag={children:[[]]};function Lc(t,e){const n=this.tokenStart;let r=null;return this.eat(Pe),r=t.call(this,e),this.eof||this.eat(De),{type:"Brackets",loc:this.getLocation(n,this.tokenStart),children:r}}function Pg(t){this.token(D,"["),this.children(t),this.token(D,"]")}const Ng=Object.freeze(Object.defineProperty({__proto__:null,generate:Pg,name:Mg,parse:Lc,structure:Ag},Symbol.toStringTag,{value:"Module"})),jg="CDC",$g=[];function Mc(){const t=this.tokenStart;return this.eat(Se),{type:"CDC",loc:this.getLocation(t,this.tokenStart)}}function Rg(){this.token(Se,"-->")}const Dg=Object.freeze(Object.defineProperty({__proto__:null,generate:Rg,name:jg,parse:Mc,structure:$g},Symbol.toStringTag,{value:"Module"})),zg="CDO",Fg=[];function Ac(){const t=this.tokenStart;return this.eat(Sn),{type:"CDO",loc:this.getLocation(t,this.tokenStart)}}function Hg(){this.token(Sn,"<!--")}const Ug=Object.freeze(Object.defineProperty({__proto__:null,generate:Hg,name:zg,parse:Ac,structure:Fg},Symbol.toStringTag,{value:"Module"})),Wg=46,qg="ClassSelector",Vg={name:String};function Pc(){return this.eatDelim(Wg),{type:"ClassSelector",loc:this.getLocation(this.tokenStart-1,this.tokenEnd),name:this.consume(x)}}function Kg(t){this.token(D,"."),this.token(x,t.name)}const Gg=Object.freeze(Object.defineProperty({__proto__:null,generate:Kg,name:qg,parse:Pc,structure:Vg},Symbol.toStringTag,{value:"Module"})),Yg=43,sl=47,Xg=62,Zg=126,Qg="Combinator",Jg={name:String};function Nc(){const t=this.tokenStart;let e;switch(this.tokenType){case ee:e=" ";break;case D:switch(this.charCodeAt(this.tokenStart)){case Xg:case Yg:case Zg:this.next();break;case sl:this.next(),this.eatIdent("deep"),this.eatDelim(sl);break;default:this.error("Combinator is expected")}e=this.substrToCursor(t);break}return{type:"Combinator",loc:this.getLocation(t,this.tokenStart),name:e}}function em(t){this.tokenize(t.name)}const tm=Object.freeze(Object.defineProperty({__proto__:null,generate:em,name:Qg,parse:Nc,structure:Jg},Symbol.toStringTag,{value:"Module"})),nm=42,rm=47,om="Comment",im={value:String};function jc(){const t=this.tokenStart;let e=this.tokenEnd;return this.eat(ce),e-t+2>=2&&this.charCodeAt(e-2)===nm&&this.charCodeAt(e-1)===rm&&(e-=2),{type:"Comment",loc:this.getLocation(t,this.tokenStart),value:this.substring(t+2,e)}}function sm(t){this.token(ce,"/*"+t.value+"*/")}const am=Object.freeze(Object.defineProperty({__proto__:null,generate:sm,name:om,parse:jc,structure:im},Symbol.toStringTag,{value:"Module"})),lm=new Set([ge,M,ht]),cm="Condition",um={kind:String,children:[["Identifier","Feature","FeatureFunction","FeatureRange","SupportsDeclaration"]]};function al(t){return this.lookupTypeNonSC(1)===x&&lm.has(this.lookupTypeNonSC(2))?this.Feature(t):this.FeatureRange(t)}const dm={media:al,container:al,supports(){return this.SupportsDeclaration()}};function $c(t="media"){const e=this.createList();e:for(;!this.eof;)switch(this.tokenType){case ce:case ee:this.next();continue;case x:e.push(this.Identifier());break;case H:{let n=this.parseWithFallback(()=>dm[t].call(this,t),()=>null);n||(n=this.parseWithFallback(()=>{this.eat(H);const r=this.Condition(t);return this.eat(M),r},()=>this.GeneralEnclosed(t))),e.push(n);break}case $:{let n=this.parseWithFallback(()=>this.FeatureFunction(t),()=>null);n||(n=this.GeneralEnclosed(t)),e.push(n);break}default:break e}return e.isEmpty&&this.error("Condition is expected"),{type:"Condition",loc:this.getLocationFromList(e),kind:t,children:e}}function hm(t){t.children.forEach(e=>{e.type==="Condition"?(this.token(H,"("),this.node(e),this.token(M,")")):this.node(e)})}const pm=Object.freeze(Object.defineProperty({__proto__:null,generate:hm,name:cm,parse:$c,structure:um},Symbol.toStringTag,{value:"Module"})),Rc=33,fm=35,gm=36,mm=38,bm=42,vm=43,ll=47;function ym(){return this.Raw(this.consumeUntilExclamationMarkOrSemicolon,!0)}function km(){return this.Raw(this.consumeUntilExclamationMarkOrSemicolon,!1)}function xm(){const t=this.tokenIndex,e=this.Value();return e.type!=="Raw"&&this.eof===!1&&this.tokenType!==me&&this.isDelim(Rc)===!1&&this.isBalanceEdge(t)===!1&&this.error(),e}const wm="Declaration",Sm="declaration",Cm={important:[Boolean,String],property:String,value:["Value","Raw"]};function Dc(){const t=this.tokenStart,e=this.tokenIndex,n=Tm.call(this),r=di(n),o=r?this.parseCustomProperty:this.parseValue,i=r?km:ym;let s=!1,l;this.skipSC(),this.eat(ge);const c=this.tokenIndex;if(r||this.skipSC(),o?l=this.parseWithFallback(xm,i):l=i.call(this,this.tokenIndex),r&&l.type==="Value"&&l.children.isEmpty){for(let a=c-this.tokenIndex;a<=0;a++)if(this.lookupType(a)===ee){l.children.appendData({type:"WhiteSpace",loc:null,value:" "});break}}return this.isDelim(Rc)&&(s=Om.call(this),this.skipSC()),this.eof===!1&&this.tokenType!==me&&this.isBalanceEdge(e)===!1&&this.error(),{type:"Declaration",loc:this.getLocation(t,this.tokenStart),important:s,property:n,value:l}}function Em(t){this.token(x,t.property),this.token(ge,":"),this.node(t.value),t.important&&(this.token(D,"!"),this.token(x,t.important===!0?"important":t.important))}function Tm(){const t=this.tokenStart;if(this.tokenType===D)switch(this.charCodeAt(this.tokenStart)){case bm:case gm:case vm:case fm:case mm:this.next();break;case ll:this.next(),this.isDelim(ll)&&this.next();break}return this.tokenType===G?this.eat(G):this.eat(x),this.substrToCursor(t)}function Om(){this.eat(D),this.skipSC();const t=this.consume(x);return t==="important"?!0:t}const _m=Object.freeze(Object.defineProperty({__proto__:null,generate:Em,name:wm,parse:Dc,structure:Cm,walkContext:Sm},Symbol.toStringTag,{value:"Module"})),Bm=38;function po(){return this.Raw(this.consumeUntilSemicolonIncluded,!0)}const Im="DeclarationList",Lm={children:[["Declaration","Atrule","Rule"]]};function zc(){const t=this.createList();for(;!this.eof;)switch(this.tokenType){case ee:case ce:case me:this.next();break;case re:t.push(this.parseWithFallback(this.Atrule.bind(this,!0),po));break;default:this.isDelim(Bm)?t.push(this.parseWithFallback(this.Rule,po)):t.push(this.parseWithFallback(this.Declaration,po))}return{type:"DeclarationList",loc:this.getLocationFromList(t),children:t}}function Mm(t){this.children(t,e=>{e.type==="Declaration"&&this.token(me,";")})}const Am=Object.freeze(Object.defineProperty({__proto__:null,generate:Mm,name:Im,parse:zc,structure:Lm},Symbol.toStringTag,{value:"Module"})),Pm="Dimension",Nm={value:String,unit:String};function Fc(){const t=this.tokenStart,e=this.consumeNumber(R);return{type:"Dimension",loc:this.getLocation(t,this.tokenStart),value:e,unit:this.substring(t+e.length,this.tokenStart)}}function jm(t){this.token(R,t.value+t.unit)}const $m=Object.freeze(Object.defineProperty({__proto__:null,generate:jm,name:Pm,parse:Fc,structure:Nm},Symbol.toStringTag,{value:"Module"})),Rm=47,Dm="Feature",zm={kind:String,name:String,value:["Identifier","Number","Dimension","Ratio","Function",null]};function Hc(t){const e=this.tokenStart;let n,r=null;if(this.eat(H),this.skipSC(),n=this.consume(x),this.skipSC(),this.tokenType!==M){switch(this.eat(ge),this.skipSC(),this.tokenType){case A:this.lookupNonWSType(1)===D?r=this.Ratio():r=this.Number();break;case R:r=this.Dimension();break;case x:r=this.Identifier();break;case $:r=this.parseWithFallback(()=>{const o=this.Function(this.readSequence,this.scope.Value);return this.skipSC(),this.isDelim(Rm)&&this.error(),o},()=>this.Ratio());break;default:this.error("Number, dimension, ratio or identifier is expected")}this.skipSC()}return this.eof||this.eat(M),{type:"Feature",loc:this.getLocation(e,this.tokenStart),kind:t,name:n,value:r}}function Fm(t){this.token(H,"("),this.token(x,t.name),t.value!==null&&(this.token(ge,":"),this.node(t.value)),this.token(M,")")}const Hm=Object.freeze(Object.defineProperty({__proto__:null,generate:Fm,name:Dm,parse:Hc,structure:zm},Symbol.toStringTag,{value:"Module"})),Um="FeatureFunction",Wm={kind:String,feature:String,value:["Declaration","Selector"]};function qm(t,e){const r=(this.features[t]||{})[e];return typeof r!="function"&&this.error(`Unknown feature ${e}()`),r}function Uc(t="unknown"){const e=this.tokenStart,n=this.consumeFunctionName(),r=qm.call(this,t,n.toLowerCase());this.skipSC();const o=this.parseWithFallback(()=>{const i=this.tokenIndex,s=r.call(this);return this.eof===!1&&this.isBalanceEdge(i)===!1&&this.error(),s},()=>this.Raw(null,!1));return this.eof||this.eat(M),{type:"FeatureFunction",loc:this.getLocation(e,this.tokenStart),kind:t,feature:n,value:o}}function Vm(t){this.token($,t.feature+"("),this.node(t.value),this.token(M,")")}const Km=Object.freeze(Object.defineProperty({__proto__:null,generate:Vm,name:Um,parse:Uc,structure:Wm},Symbol.toStringTag,{value:"Module"})),cl=47,Gm=60,ul=61,Ym=62,Xm="FeatureRange",Zm={kind:String,left:["Identifier","Number","Dimension","Ratio","Function"],leftComparison:String,middle:["Identifier","Number","Dimension","Ratio","Function"],rightComparison:[String,null],right:["Identifier","Number","Dimension","Ratio","Function",null]};function fo(){switch(this.skipSC(),this.tokenType){case A:return this.isDelim(cl,this.lookupOffsetNonSC(1))?this.Ratio():this.Number();case R:return this.Dimension();case x:return this.Identifier();case $:return this.parseWithFallback(()=>{const t=this.Function(this.readSequence,this.scope.Value);return this.skipSC(),this.isDelim(cl)&&this.error(),t},()=>this.Ratio());default:this.error("Number, dimension, ratio or identifier is expected")}}function dl(t){if(this.skipSC(),this.isDelim(Gm)||this.isDelim(Ym)){const e=this.source[this.tokenStart];return this.next(),this.isDelim(ul)?(this.next(),e+"="):e}if(this.isDelim(ul))return"=";this.error(`Expected ${t?'":", ':""}"<", ">", "=" or ")"`)}function Wc(t="unknown"){const e=this.tokenStart;this.skipSC(),this.eat(H);const n=fo.call(this),r=dl.call(this,n.type==="Identifier"),o=fo.call(this);let i=null,s=null;return this.lookupNonWSType(0)!==M&&(i=dl.call(this),s=fo.call(this)),this.skipSC(),this.eat(M),{type:"FeatureRange",loc:this.getLocation(e,this.tokenStart),kind:t,left:n,leftComparison:r,middle:o,rightComparison:i,right:s}}function Qm(t){this.token(H,"("),this.node(t.left),this.tokenize(t.leftComparison),this.node(t.middle),t.right&&(this.tokenize(t.rightComparison),this.node(t.right)),this.token(M,")")}const Jm=Object.freeze(Object.defineProperty({__proto__:null,generate:Qm,name:Xm,parse:Wc,structure:Zm},Symbol.toStringTag,{value:"Module"})),eb="Function",tb="function",nb={name:String,children:[[]]};function qc(t,e){const n=this.tokenStart,r=this.consumeFunctionName(),o=r.toLowerCase();let i;return i=e.hasOwnProperty(o)?e[o].call(this,e):t.call(this,e),this.eof||this.eat(M),{type:"Function",loc:this.getLocation(n,this.tokenStart),name:r,children:i}}function rb(t){this.token($,t.name+"("),this.children(t),this.token(M,")")}const ob=Object.freeze(Object.defineProperty({__proto__:null,generate:rb,name:eb,parse:qc,structure:nb,walkContext:tb},Symbol.toStringTag,{value:"Module"})),ib="GeneralEnclosed",sb={kind:String,function:[String,null],children:[[]]};function Vc(t){const e=this.tokenStart;let n=null;this.tokenType===$?n=this.consumeFunctionName():this.eat(H);const r=this.parseWithFallback(()=>{const o=this.tokenIndex,i=this.readSequence(this.scope.Value);return this.eof===!1&&this.isBalanceEdge(o)===!1&&this.error(),i},()=>this.createSingleNodeList(this.Raw(null,!1)));return this.eof||this.eat(M),{type:"GeneralEnclosed",loc:this.getLocation(e,this.tokenStart),kind:t,function:n,children:r}}function ab(t){t.function?this.token($,t.function+"("):this.token(H,"("),this.children(t),this.token(M,")")}const lb=Object.freeze(Object.defineProperty({__proto__:null,generate:ab,name:ib,parse:Vc,structure:sb},Symbol.toStringTag,{value:"Module"})),cb="XXX",ub="Hash",db={value:String};function Kc(){const t=this.tokenStart;return this.eat(G),{type:"Hash",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t+1)}}function hb(t){this.token(G,"#"+t.value)}const pb=Object.freeze(Object.defineProperty({__proto__:null,generate:hb,name:ub,parse:Kc,structure:db,xxx:cb},Symbol.toStringTag,{value:"Module"})),fb="Identifier",gb={name:String};function Gc(){return{type:"Identifier",loc:this.getLocation(this.tokenStart,this.tokenEnd),name:this.consume(x)}}function mb(t){this.token(x,t.name)}const bb=Object.freeze(Object.defineProperty({__proto__:null,generate:mb,name:fb,parse:Gc,structure:gb},Symbol.toStringTag,{value:"Module"})),vb="IdSelector",yb={name:String};function Yc(){const t=this.tokenStart;return this.eat(G),{type:"IdSelector",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t+1)}}function kb(t){this.token(D,"#"+t.name)}const xb=Object.freeze(Object.defineProperty({__proto__:null,generate:kb,name:vb,parse:Yc,structure:yb},Symbol.toStringTag,{value:"Module"})),wb=46,Sb="Layer",Cb={name:String};function Xc(){let t=this.tokenStart,e=this.consume(x);for(;this.isDelim(wb);)this.eat(D),e+="."+this.consume(x);return{type:"Layer",loc:this.getLocation(t,this.tokenStart),name:e}}function Eb(t){this.tokenize(t.name)}const Tb=Object.freeze(Object.defineProperty({__proto__:null,generate:Eb,name:Sb,parse:Xc,structure:Cb},Symbol.toStringTag,{value:"Module"})),Ob="LayerList",_b={children:[["Layer"]]};function Zc(){const t=this.createList();for(this.skipSC();!this.eof&&(t.push(this.Layer()),this.lookupTypeNonSC(0)===Ee);)this.skipSC(),this.next(),this.skipSC();return{type:"LayerList",loc:this.getLocationFromList(t),children:t}}function Bb(t){this.children(t,()=>this.token(Ee,","))}const Ib=Object.freeze(Object.defineProperty({__proto__:null,generate:Bb,name:Ob,parse:Zc,structure:_b},Symbol.toStringTag,{value:"Module"})),Lb="MediaQuery",Mb={modifier:[String,null],mediaType:[String,null],condition:["Condition",null]};function Qc(){const t=this.tokenStart;let e=null,n=null,r=null;if(this.skipSC(),this.tokenType===x&&this.lookupTypeNonSC(1)!==H){const o=this.consume(x),i=o.toLowerCase();switch(i==="not"||i==="only"?(this.skipSC(),e=i,n=this.consume(x)):n=o,this.lookupTypeNonSC(0)){case x:{this.skipSC(),this.eatIdent("and"),r=this.Condition("media");break}case de:case me:case Ee:case ht:break;default:this.error("Identifier or parenthesis is expected")}}else switch(this.tokenType){case x:case H:case $:{r=this.Condition("media");break}case de:case me:case ht:break;default:this.error("Identifier or parenthesis is expected")}return{type:"MediaQuery",loc:this.getLocation(t,this.tokenStart),modifier:e,mediaType:n,condition:r}}function Ab(t){t.mediaType?(t.modifier&&this.token(x,t.modifier),this.token(x,t.mediaType),t.condition&&(this.token(x,"and"),this.node(t.condition))):t.condition&&this.node(t.condition)}const Pb=Object.freeze(Object.defineProperty({__proto__:null,generate:Ab,name:Lb,parse:Qc,structure:Mb},Symbol.toStringTag,{value:"Module"})),Nb="MediaQueryList",jb={children:[["MediaQuery"]]};function Jc(){const t=this.createList();for(this.skipSC();!this.eof&&(t.push(this.MediaQuery()),this.tokenType===Ee);)this.next();return{type:"MediaQueryList",loc:this.getLocationFromList(t),children:t}}function $b(t){this.children(t,()=>this.token(Ee,","))}const Rb=Object.freeze(Object.defineProperty({__proto__:null,generate:$b,name:Nb,parse:Jc,structure:jb},Symbol.toStringTag,{value:"Module"})),Db=38,zb="NestingSelector",Fb={};function eu(){const t=this.tokenStart;return this.eatDelim(Db),{type:"NestingSelector",loc:this.getLocation(t,this.tokenStart)}}function Hb(){this.token(D,"&")}const Ub=Object.freeze(Object.defineProperty({__proto__:null,generate:Hb,name:zb,parse:eu,structure:Fb},Symbol.toStringTag,{value:"Module"})),Wb="Nth",qb={nth:["AnPlusB","Identifier"],selector:["SelectorList",null]};function tu(){this.skipSC();const t=this.tokenStart;let e=t,n=null,r;return this.lookupValue(0,"odd")||this.lookupValue(0,"even")?r=this.Identifier():r=this.AnPlusB(),e=this.tokenStart,this.skipSC(),this.lookupValue(0,"of")&&(this.next(),n=this.SelectorList(),e=this.tokenStart),{type:"Nth",loc:this.getLocation(t,e),nth:r,selector:n}}function Vb(t){this.node(t.nth),t.selector!==null&&(this.token(x,"of"),this.node(t.selector))}const Kb=Object.freeze(Object.defineProperty({__proto__:null,generate:Vb,name:Wb,parse:tu,structure:qb},Symbol.toStringTag,{value:"Module"})),Gb="Number",Yb={value:String};function nu(){return{type:"Number",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consume(A)}}function Xb(t){this.token(A,t.value)}const Zb=Object.freeze(Object.defineProperty({__proto__:null,generate:Xb,name:Gb,parse:nu,structure:Yb},Symbol.toStringTag,{value:"Module"})),Qb="Operator",Jb={value:String};function ru(){const t=this.tokenStart;return this.next(),{type:"Operator",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t)}}function ev(t){this.tokenize(t.value)}const tv=Object.freeze(Object.defineProperty({__proto__:null,generate:ev,name:Qb,parse:ru,structure:Jb},Symbol.toStringTag,{value:"Module"})),nv="Parentheses",rv={children:[[]]};function ou(t,e){const n=this.tokenStart;let r=null;return this.eat(H),r=t.call(this,e),this.eof||this.eat(M),{type:"Parentheses",loc:this.getLocation(n,this.tokenStart),children:r}}function ov(t){this.token(H,"("),this.children(t),this.token(M,")")}const iv=Object.freeze(Object.defineProperty({__proto__:null,generate:ov,name:nv,parse:ou,structure:rv},Symbol.toStringTag,{value:"Module"})),sv="Percentage",av={value:String};function iu(){return{type:"Percentage",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consumeNumber(Q)}}function lv(t){this.token(Q,t.value+"%")}const cv=Object.freeze(Object.defineProperty({__proto__:null,generate:lv,name:sv,parse:iu,structure:av},Symbol.toStringTag,{value:"Module"})),uv="PseudoClassSelector",dv="function",hv={name:String,children:[["Raw"],null]};function su(){const t=this.tokenStart;let e=null,n,r;return this.eat(ge),this.tokenType===$?(n=this.consumeFunctionName(),r=n.toLowerCase(),this.lookupNonWSType(0)==M?e=this.createList():hasOwnProperty.call(this.pseudo,r)?(this.skipSC(),e=this.pseudo[r].call(this),this.skipSC()):(e=this.createList(),e.push(this.Raw(null,!1))),this.eat(M)):n=this.consume(x),{type:"PseudoClassSelector",loc:this.getLocation(t,this.tokenStart),name:n,children:e}}function pv(t){this.token(ge,":"),t.children===null?this.token(x,t.name):(this.token($,t.name+"("),this.children(t),this.token(M,")"))}const fv=Object.freeze(Object.defineProperty({__proto__:null,generate:pv,name:uv,parse:su,structure:hv,walkContext:dv},Symbol.toStringTag,{value:"Module"})),gv="PseudoElementSelector",mv="function",bv={name:String,children:[["Raw"],null]};function au(){const t=this.tokenStart;let e=null,n,r;return this.eat(ge),this.eat(ge),this.tokenType===$?(n=this.consumeFunctionName(),r=n.toLowerCase(),this.lookupNonWSType(0)==M?e=this.createList():hasOwnProperty.call(this.pseudo,r)?(this.skipSC(),e=this.pseudo[r].call(this),this.skipSC()):(e=this.createList(),e.push(this.Raw(null,!1))),this.eat(M)):n=this.consume(x),{type:"PseudoElementSelector",loc:this.getLocation(t,this.tokenStart),name:n,children:e}}function vv(t){this.token(ge,":"),this.token(ge,":"),t.children===null?this.token(x,t.name):(this.token($,t.name+"("),this.children(t),this.token(M,")"))}const yv=Object.freeze(Object.defineProperty({__proto__:null,generate:vv,name:gv,parse:au,structure:bv,walkContext:mv},Symbol.toStringTag,{value:"Module"})),hl=47;function pl(){switch(this.skipSC(),this.tokenType){case A:return this.Number();case $:return this.Function(this.readSequence,this.scope.Value);default:this.error("Number of function is expected")}}const kv="Ratio",xv={left:["Number","Function"],right:["Number","Function",null]};function lu(){const t=this.tokenStart,e=pl.call(this);let n=null;return this.skipSC(),this.isDelim(hl)&&(this.eatDelim(hl),n=pl.call(this)),{type:"Ratio",loc:this.getLocation(t,this.tokenStart),left:e,right:n}}function wv(t){this.node(t.left),this.token(D,"/"),t.right?this.node(t.right):this.node(A,1)}const Sv=Object.freeze(Object.defineProperty({__proto__:null,generate:wv,name:kv,parse:lu,structure:xv},Symbol.toStringTag,{value:"Module"}));function Cv(){return this.tokenIndex>0&&this.lookupType(-1)===ee?this.tokenIndex>1?this.getTokenStart(this.tokenIndex-1):this.firstCharOffset:this.tokenStart}const Ev="Raw",Tv={value:String};function cu(t,e){const n=this.getTokenStart(this.tokenIndex);let r;return this.skipUntilBalanced(this.tokenIndex,t||this.consumeUntilBalanceEnd),e&&this.tokenStart>n?r=Cv.call(this):r=this.tokenStart,{type:"Raw",loc:this.getLocation(n,r),value:this.substring(n,r)}}function Ov(t){this.tokenize(t.value)}const _v=Object.freeze(Object.defineProperty({__proto__:null,generate:Ov,name:Ev,parse:cu,structure:Tv},Symbol.toStringTag,{value:"Module"}));function fl(){return this.Raw(this.consumeUntilLeftCurlyBracket,!0)}function Bv(){const t=this.SelectorList();return t.type!=="Raw"&&this.eof===!1&&this.tokenType!==de&&this.error(),t}const Iv="Rule",Lv="rule",Mv={prelude:["SelectorList","Raw"],block:["Block"]};function uu(){const t=this.tokenIndex,e=this.tokenStart;let n,r;return this.parseRulePrelude?n=this.parseWithFallback(Bv,fl):n=fl.call(this,t),r=this.Block(!0),{type:"Rule",loc:this.getLocation(e,this.tokenStart),prelude:n,block:r}}function Av(t){this.node(t.prelude),this.node(t.block)}const Pv=Object.freeze(Object.defineProperty({__proto__:null,generate:Av,name:Iv,parse:uu,structure:Mv,walkContext:Lv},Symbol.toStringTag,{value:"Module"})),Nv="Scope",jv={root:["SelectorList","Raw",null],limit:["SelectorList","Raw",null]};function du(){let t=null,e=null;this.skipSC();const n=this.tokenStart;return this.tokenType===H&&(this.next(),this.skipSC(),t=this.parseWithFallback(this.SelectorList,()=>this.Raw(!1,!0)),this.skipSC(),this.eat(M)),this.lookupNonWSType(0)===x&&(this.skipSC(),this.eatIdent("to"),this.skipSC(),this.eat(H),this.skipSC(),e=this.parseWithFallback(this.SelectorList,()=>this.Raw(!1,!0)),this.skipSC(),this.eat(M)),{type:"Scope",loc:this.getLocation(n,this.tokenStart),root:t,limit:e}}function $v(t){t.root&&(this.token(H,"("),this.node(t.root),this.token(M,")")),t.limit&&(this.token(x,"to"),this.token(H,"("),this.node(t.limit),this.token(M,")"))}const Rv=Object.freeze(Object.defineProperty({__proto__:null,generate:$v,name:Nv,parse:du,structure:jv},Symbol.toStringTag,{value:"Module"})),Dv="Selector",zv={children:[["TypeSelector","IdSelector","ClassSelector","AttributeSelector","PseudoClassSelector","PseudoElementSelector","Combinator"]]};function hu(){const t=this.readSequence(this.scope.Selector);return this.getFirstListNode(t)===null&&this.error("Selector is expected"),{type:"Selector",loc:this.getLocationFromList(t),children:t}}function Fv(t){this.children(t)}const Hv=Object.freeze(Object.defineProperty({__proto__:null,generate:Fv,name:Dv,parse:hu,structure:zv},Symbol.toStringTag,{value:"Module"})),Uv="SelectorList",Wv="selector",qv={children:[["Selector","Raw"]]};function pu(){const t=this.createList();for(;!this.eof;){if(t.push(this.Selector()),this.tokenType===Ee){this.next();continue}break}return{type:"SelectorList",loc:this.getLocationFromList(t),children:t}}function Vv(t){this.children(t,()=>this.token(Ee,","))}const Kv=Object.freeze(Object.defineProperty({__proto__:null,generate:Vv,name:Uv,parse:pu,structure:qv,walkContext:Wv},Symbol.toStringTag,{value:"Module"})),Wo=92,fu=34,Gv=39;function gu(t){const e=t.length,n=t.charCodeAt(0),r=n===fu||n===Gv?1:0,o=r===1&&e>1&&t.charCodeAt(e-1)===n?e-2:e-1;let i="";for(let s=r;s<=o;s++){let l=t.charCodeAt(s);if(l===Wo){if(s===o){s!==e-1&&(i=t.substr(s+1));break}if(l=t.charCodeAt(++s),Ge(Wo,l)){const c=s-1,a=Vt(t,c);s=a-1,i+=ec(t.substring(c+1,a))}else l===13&&t.charCodeAt(s+1)===10&&s++}else i+=t[s]}return i}function Yv(t,e){const n='"',r=fu;let o="",i=!1;for(let s=0;s<t.length;s++){const l=t.charCodeAt(s);if(l===0){o+="�";continue}if(l<=31||l===127){o+="\\"+l.toString(16),i=!0;continue}l===r||l===Wo?(o+="\\"+t.charAt(s),i=!1):(i&&(pt(l)||Et(l))&&(o+=" "),o+=t.charAt(s),i=!1)}return n+o+n}const Xv="String",Zv={value:String};function mu(){return{type:"String",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:gu(this.consume(ze))}}function Qv(t){this.token(ze,Yv(t.value))}const Jv=Object.freeze(Object.defineProperty({__proto__:null,generate:Qv,name:Xv,parse:mu,structure:Zv},Symbol.toStringTag,{value:"Module"})),ey=33;function gl(){return this.Raw(null,!1)}const ty="StyleSheet",ny="stylesheet",ry={children:[["Comment","CDO","CDC","Atrule","Rule","Raw"]]};function bu(){const t=this.tokenStart,e=this.createList();let n;for(;!this.eof;){switch(this.tokenType){case ee:this.next();continue;case ce:if(this.charCodeAt(this.tokenStart+2)!==ey){this.next();continue}n=this.Comment();break;case Sn:n=this.CDO();break;case Se:n=this.CDC();break;case re:n=this.parseWithFallback(this.Atrule,gl);break;default:n=this.parseWithFallback(this.Rule,gl)}e.push(n)}return{type:"StyleSheet",loc:this.getLocation(t,this.tokenStart),children:e}}function oy(t){this.children(t)}const iy=Object.freeze(Object.defineProperty({__proto__:null,generate:oy,name:ty,parse:bu,structure:ry,walkContext:ny},Symbol.toStringTag,{value:"Module"})),sy="SupportsDeclaration",ay={declaration:"Declaration"};function vu(){const t=this.tokenStart;this.eat(H),this.skipSC();const e=this.Declaration();return this.eof||this.eat(M),{type:"SupportsDeclaration",loc:this.getLocation(t,this.tokenStart),declaration:e}}function ly(t){this.token(H,"("),this.node(t.declaration),this.token(M,")")}const cy=Object.freeze(Object.defineProperty({__proto__:null,generate:ly,name:sy,parse:vu,structure:ay},Symbol.toStringTag,{value:"Module"})),uy=42,ml=124;function go(){this.tokenType!==x&&this.isDelim(uy)===!1&&this.error("Identifier or asterisk is expected"),this.next()}const dy="TypeSelector",hy={name:String};function yu(){const t=this.tokenStart;return this.isDelim(ml)?(this.next(),go.call(this)):(go.call(this),this.isDelim(ml)&&(this.next(),go.call(this))),{type:"TypeSelector",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t)}}function py(t){this.tokenize(t.name)}const fy=Object.freeze(Object.defineProperty({__proto__:null,generate:py,name:dy,parse:yu,structure:hy},Symbol.toStringTag,{value:"Module"})),ku=43,xu=45,qo=63;function ln(t,e){let n=0;for(let r=this.tokenStart+t;r<this.tokenEnd;r++){const o=this.charCodeAt(r);if(o===xu&&e&&n!==0)return ln.call(this,t+n+1,!1),-1;pt(o)||this.error(e&&n!==0?"Hyphen minus"+(n<6?" or hex digit":"")+" is expected":n<6?"Hex digit is expected":"Unexpected input",r),++n>6&&this.error("Too many hex digits",r)}return this.next(),n}function $n(t){let e=0;for(;this.isDelim(qo);)++e>t&&this.error("Too many question marks"),this.next()}function gy(t){this.charCodeAt(this.tokenStart)!==t&&this.error((t===ku?"Plus sign":"Hyphen minus")+" is expected")}function my(){let t=0;switch(this.tokenType){case A:if(t=ln.call(this,1,!0),this.isDelim(qo)){$n.call(this,6-t);break}if(this.tokenType===R||this.tokenType===A){gy.call(this,xu),ln.call(this,1,!1);break}break;case R:t=ln.call(this,1,!0),t>0&&$n.call(this,6-t);break;default:if(this.eatDelim(ku),this.tokenType===x){t=ln.call(this,0,!0),t>0&&$n.call(this,6-t);break}if(this.isDelim(qo)){this.next(),$n.call(this,5);break}this.error("Hex digit or question mark is expected")}}const by="UnicodeRange",vy={value:String};function wu(){const t=this.tokenStart;return this.eatIdent("u"),my.call(this),{type:"UnicodeRange",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t)}}function yy(t){this.tokenize(t.value)}const ky=Object.freeze(Object.defineProperty({__proto__:null,generate:yy,name:by,parse:wu,structure:vy},Symbol.toStringTag,{value:"Module"})),xy=32,Vo=92,wy=34,Sy=39,Cy=40,Su=41;function Ey(t){const e=t.length;let n=4,r=t.charCodeAt(e-1)===Su?e-2:e-1,o="";for(;n<r&&Et(t.charCodeAt(n));)n++;for(;n<r&&Et(t.charCodeAt(r));)r--;for(let i=n;i<=r;i++){let s=t.charCodeAt(i);if(s===Vo){if(i===r){i!==e-1&&(o=t.substr(i+1));break}if(s=t.charCodeAt(++i),Ge(Vo,s)){const l=i-1,c=Vt(t,l);i=c-1,o+=ec(t.substring(l+1,c))}else s===13&&t.charCodeAt(i+1)===10&&i++}else o+=t[i]}return o}function Ty(t){let e="",n=!1;for(let r=0;r<t.length;r++){const o=t.charCodeAt(r);if(o===0){e+="�";continue}if(o<=31||o===127){e+="\\"+o.toString(16),n=!0;continue}o===xy||o===Vo||o===wy||o===Sy||o===Cy||o===Su?(e+="\\"+t.charAt(r),n=!1):(n&&pt(o)&&(e+=" "),e+=t.charAt(r),n=!1)}return"url("+e+")"}const Oy="Url",_y={value:String};function Cu(){const t=this.tokenStart;let e;switch(this.tokenType){case pe:e=Ey(this.consume(pe));break;case $:this.cmpStr(this.tokenStart,this.tokenEnd,"url(")||this.error("Function name must be `url`"),this.eat($),this.skipSC(),e=gu(this.consume(ze)),this.skipSC(),this.eof||this.eat(M);break;default:this.error("Url or Function is expected")}return{type:"Url",loc:this.getLocation(t,this.tokenStart),value:e}}function By(t){this.token(pe,Ty(t.value))}const Iy=Object.freeze(Object.defineProperty({__proto__:null,generate:By,name:Oy,parse:Cu,structure:_y},Symbol.toStringTag,{value:"Module"})),Ly="Value",My={children:[[]]};function Eu(){const t=this.tokenStart,e=this.readSequence(this.scope.Value);return{type:"Value",loc:this.getLocation(t,this.tokenStart),children:e}}function Ay(t){this.children(t)}const Py=Object.freeze(Object.defineProperty({__proto__:null,generate:Ay,name:Ly,parse:Eu,structure:My},Symbol.toStringTag,{value:"Module"})),Ny=Object.freeze({type:"WhiteSpace",loc:null,value:" "}),jy="WhiteSpace",$y={value:String};function Tu(){return this.eat(ee),Ny}function Ry(t){this.token(ee,t.value)}const Dy=Object.freeze(Object.defineProperty({__proto__:null,generate:Ry,name:jy,parse:Tu,structure:$y},Symbol.toStringTag,{value:"Module"})),Ou=Object.freeze(Object.defineProperty({__proto__:null,AnPlusB:og,Atrule:ug,AtrulePrelude:gg,AttributeSelector:Cg,Block:Lg,Brackets:Ng,CDC:Dg,CDO:Ug,ClassSelector:Gg,Combinator:tm,Comment:am,Condition:pm,Declaration:_m,DeclarationList:Am,Dimension:$m,Feature:Hm,FeatureFunction:Km,FeatureRange:Jm,Function:ob,GeneralEnclosed:lb,Hash:pb,IdSelector:xb,Identifier:bb,Layer:Tb,LayerList:Ib,MediaQuery:Pb,MediaQueryList:Rb,NestingSelector:Ub,Nth:Kb,Number:Zb,Operator:tv,Parentheses:iv,Percentage:cv,PseudoClassSelector:fv,PseudoElementSelector:yv,Ratio:Sv,Raw:_v,Rule:Pv,Scope:Rv,Selector:Hv,SelectorList:Kv,String:Jv,StyleSheet:iy,SupportsDeclaration:cy,TypeSelector:fy,UnicodeRange:ky,Url:Iy,Value:Py,WhiteSpace:Dy},Symbol.toStringTag,{value:"Module"})),zy={generic:!0,cssWideKeywords:hi,...Jf,node:Ou},Fy=35,Hy=42,bl=43,Uy=45,Wy=47,qy=117;function _u(t){switch(this.tokenType){case G:return this.Hash();case Ee:return this.Operator();case H:return this.Parentheses(this.readSequence,t.recognizer);case Pe:return this.Brackets(this.readSequence,t.recognizer);case ze:return this.String();case R:return this.Dimension();case Q:return this.Percentage();case A:return this.Number();case $:return this.cmpStr(this.tokenStart,this.tokenEnd,"url(")?this.Url():this.Function(this.readSequence,t.recognizer);case pe:return this.Url();case x:return this.cmpChar(this.tokenStart,qy)&&this.cmpChar(this.tokenStart+1,bl)?this.UnicodeRange():this.Identifier();case D:{const e=this.charCodeAt(this.tokenStart);if(e===Wy||e===Hy||e===bl||e===Uy)return this.Operator();e===Fy&&this.error("Hex or identifier is expected",this.tokenStart+1);break}}}const Vy={getNode:_u},Ky=35,Gy=38,Yy=42,Xy=43,Zy=47,vl=46,Qy=62,Jy=124,ek=126;function tk(t,e){e.last!==null&&e.last.type!=="Combinator"&&t!==null&&t.type!=="Combinator"&&e.push({type:"Combinator",loc:null,name:" "})}function nk(){switch(this.tokenType){case Pe:return this.AttributeSelector();case G:return this.IdSelector();case ge:return this.lookupType(1)===ge?this.PseudoElementSelector():this.PseudoClassSelector();case x:return this.TypeSelector();case A:case Q:return this.Percentage();case R:this.charCodeAt(this.tokenStart)===vl&&this.error("Identifier is expected",this.tokenStart+1);break;case D:{switch(this.charCodeAt(this.tokenStart)){case Xy:case Qy:case ek:case Zy:return this.Combinator();case vl:return this.ClassSelector();case Yy:case Jy:return this.TypeSelector();case Ky:return this.IdSelector();case Gy:return this.NestingSelector()}break}}}const rk={onWhiteSpace:tk,getNode:nk};function ok(){return this.createSingleNodeList(this.Raw(null,!1))}function ik(){const t=this.createList();if(this.skipSC(),t.push(this.Identifier()),this.skipSC(),this.tokenType===Ee){t.push(this.Operator());const e=this.tokenIndex,n=this.parseCustomProperty?this.Value(null):this.Raw(this.consumeUntilExclamationMarkOrSemicolon,!1);if(n.type==="Value"&&n.children.isEmpty){for(let r=e-this.tokenIndex;r<=0;r++)if(this.lookupType(r)===ee){n.children.appendData({type:"WhiteSpace",loc:null,value:" "});break}}t.push(n)}return t}function yl(t){return t!==null&&t.type==="Operator"&&(t.value[t.value.length-1]==="-"||t.value[t.value.length-1]==="+")}const sk={getNode:_u,onWhiteSpace(t,e){yl(t)&&(t.value=" "+t.value),yl(e.last)&&(e.last.value+=" ")},expression:ok,var:ik},ak=Object.freeze(Object.defineProperty({__proto__:null,AtrulePrelude:Vy,Selector:rk,Value:sk},Symbol.toStringTag,{value:"Module"})),lk=new Set(["none","and","not","or"]),ck={parse:{prelude(){const t=this.createList();if(this.tokenType===x){const e=this.substring(this.tokenStart,this.tokenEnd);lk.has(e.toLowerCase())||t.push(this.Identifier())}return t.push(this.Condition("container")),t},block(t=!1){return this.Block(t)}}},uk={parse:{prelude:null,block(){return this.Block(!0)}}};function mo(t,e){return this.parseWithFallback(()=>{try{return t.call(this)}finally{this.skipSC(),this.lookupNonWSType(0)!==M&&this.error()}},e||(()=>this.Raw(null,!0)))}const kl={layer(){this.skipSC();const t=this.createList(),e=mo.call(this,this.Layer);return(e.type!=="Raw"||e.value!=="")&&t.push(e),t},supports(){this.skipSC();const t=this.createList(),e=mo.call(this,this.Declaration,()=>mo.call(this,()=>this.Condition("supports")));return(e.type!=="Raw"||e.value!=="")&&t.push(e),t}},dk={parse:{prelude(){const t=this.createList();switch(this.tokenType){case ze:t.push(this.String());break;case pe:case $:t.push(this.Url());break;default:this.error("String or url() is expected")}return this.skipSC(),this.tokenType===x&&this.cmpStr(this.tokenStart,this.tokenEnd,"layer")?t.push(this.Identifier()):this.tokenType===$&&this.cmpStr(this.tokenStart,this.tokenEnd,"layer(")&&t.push(this.Function(null,kl)),this.skipSC(),this.tokenType===$&&this.cmpStr(this.tokenStart,this.tokenEnd,"supports(")&&t.push(this.Function(null,kl)),(this.lookupNonWSType(0)===x||this.lookupNonWSType(0)===H)&&t.push(this.MediaQueryList()),t},block:null}},hk={parse:{prelude(){return this.createSingleNodeList(this.LayerList())},block(){return this.Block(!1)}}},pk={parse:{prelude(){return this.createSingleNodeList(this.MediaQueryList())},block(t=!1){return this.Block(t)}}},fk={parse:{prelude(){return this.createSingleNodeList(this.SelectorList())},block(){return this.Block(!0)}}},gk={parse:{prelude(){return this.createSingleNodeList(this.SelectorList())},block(){return this.Block(!0)}}},mk={parse:{prelude(){return this.createSingleNodeList(this.Scope())},block(t=!1){return this.Block(t)}}},bk={parse:{prelude:null,block(t=!1){return this.Block(t)}}},vk={parse:{prelude(){return this.createSingleNodeList(this.Condition("supports"))},block(t=!1){return this.Block(t)}}},yk={container:ck,"font-face":uk,import:dk,layer:hk,media:pk,nest:fk,page:gk,scope:mk,"starting-style":bk,supports:vk};function kk(){const t=this.createList();this.skipSC();e:for(;!this.eof;){switch(this.tokenType){case x:t.push(this.Identifier());break;case ze:t.push(this.String());break;case Ee:t.push(this.Operator());break;case M:break e;default:this.error("Identifier, string or comma is expected")}this.skipSC()}return t}const kt={parse(){return this.createSingleNodeList(this.SelectorList())}},bo={parse(){return this.createSingleNodeList(this.Selector())}},xk={parse(){return this.createSingleNodeList(this.Identifier())}},wk={parse:kk},Rn={parse(){return this.createSingleNodeList(this.Nth())}},Sk={dir:xk,has:kt,lang:wk,matches:kt,is:kt,"-moz-any":kt,"-webkit-any":kt,where:kt,not:kt,"nth-child":Rn,"nth-last-child":Rn,"nth-last-of-type":Rn,"nth-of-type":Rn,slotted:bo,host:bo,"host-context":bo},Ck=Object.freeze(Object.defineProperty({__proto__:null,AnPlusB:Cc,Atrule:Ec,AtrulePrelude:Tc,AttributeSelector:_c,Block:Ic,Brackets:Lc,CDC:Mc,CDO:Ac,ClassSelector:Pc,Combinator:Nc,Comment:jc,Condition:$c,Declaration:Dc,DeclarationList:zc,Dimension:Fc,Feature:Hc,FeatureFunction:Uc,FeatureRange:Wc,Function:qc,GeneralEnclosed:Vc,Hash:Kc,IdSelector:Yc,Identifier:Gc,Layer:Xc,LayerList:Zc,MediaQuery:Qc,MediaQueryList:Jc,NestingSelector:eu,Nth:tu,Number:nu,Operator:ru,Parentheses:ou,Percentage:iu,PseudoClassSelector:su,PseudoElementSelector:au,Ratio:lu,Raw:cu,Rule:uu,Scope:du,Selector:hu,SelectorList:pu,String:mu,StyleSheet:bu,SupportsDeclaration:vu,TypeSelector:yu,UnicodeRange:wu,Url:Cu,Value:Eu,WhiteSpace:Tu},Symbol.toStringTag,{value:"Module"})),Ek={parseContext:{default:"StyleSheet",stylesheet:"StyleSheet",atrule:"Atrule",atrulePrelude(t){return this.AtrulePrelude(t.atrule?String(t.atrule):null)},mediaQueryList:"MediaQueryList",mediaQuery:"MediaQuery",condition(t){return this.Condition(t.kind)},rule:"Rule",selectorList:"SelectorList",selector:"Selector",block(){return this.Block(!0)},declarationList:"DeclarationList",declaration:"Declaration",value:"Value"},features:{supports:{selector(){return this.Selector()}},container:{style(){return this.Declaration()}}},scope:ak,atrule:yk,pseudo:Sk,node:Ck},Tk={node:Ou},Ok=Qf({...zy,...Ek,...Tk}),{tokenize:JC,parse:_k,generate:Bk,lexer:eE,createLexer:tE,walk:Ik,find:nE,findLast:rE,findAll:oE,toPlainObject:iE,fromPlainObject:sE,fork:aE}=Ok,Lk=t=>{var o;const n=(o=new DOMParser().parseFromString(t,"text/html").querySelector("style"))==null?void 0:o.innerHTML;if(!n)throw new Error("Fant ikke stiler i brevet");const r=_k(n);return Ik(r,(i,s,l)=>{const c=i;if(c.type==="Atrule"&&c.name==="page"&&l.remove(s),["ClassSelector","IdSelector","TypeSelector"].includes(c.type)){if("name"in c&&c.name==="body")c.name="brev-wrapper";else switch(c.type){case"ClassSelector":c.name=`brev-wrapper .${c.name}`;break;case"IdSelector":c.name=`brev-wrapper #${c.name}`;break;case"TypeSelector":c.name=`brev-wrapper ${c.name}`;break}c.type="ClassSelector"}}),Bk(r)},Mk=t=>{const e=new DOMParser().parseFromString(t,"application/xhtml+xml");return Array.from(e.querySelectorAll("body > *, section > *"))},Ak=t=>Bu(t).join(""),Pk=t=>Bu(t.toReversed()).toReversed().join(""),xl=t=>{var n;const e=new DOMParser().parseFromString(t,"application/xhtml+xml");return(n=e==null?void 0:e.querySelector("[data-editable]"))==null?void 0:n.innerHTML},Bu=t=>{let e=!1;const n=new Array;return t.forEach(r=>{r.hasAttribute("data-editable")?e=!0:!e&&!r.hasAttribute("data-hidden")&&n.push(r.outerHTML)}),n},Nk=t=>{const e=document.createElement("div");e.innerHTML=t;const n=e.textContent??e.innerText??"",r=["Fyll inn overskrift","Fyll inn brevtekst"];return!new RegExp(r.join("|"),"gi").test(n)},jk="_nullstillCss_s527x_1",$k="_papir_s527x_5",Rk="_ikkeRedigerbartInnhold_s527x_13",Dk="_redigerbartInnhold_s527x_18",Jt={nullstillCss:jk,papir:$k,ikkeRedigerbartInnhold:Rk,redigerbartInnhold:Dk},Iu="rediger-brev",Lu=({htmlMal:t,setVisTilbakestillAdvarsel:e,visForhåndsvisValideringsFeil:n,forhåndsvis:r,lagreOgLukk:o})=>{const{isReadOnly:i}=xh(),s=Lk(t),l=Mk(t),c=Ak(l),a=Pk(l);return I.jsxs(I.Fragment,{children:[I.jsx("div",{className:Jt.papir,children:I.jsx("div",{className:Jt.nullstillCss,children:I.jsxs("div",{className:"brev-wrapper",children:[I.jsx("style",{children:` ${s} `}),I.jsx("div",{className:Jt.ikkeRedigerbartInnhold,dangerouslySetInnerHTML:{__html:c}}),I.jsx("div",{id:"content",children:I.jsx("div",{id:Iu,className:Jt.redigerbartInnhold,style:{width:"100%"}})}),I.jsx("div",{className:Jt.ikkeRedigerbartInnhold,dangerouslySetInnerHTML:{__html:a}})]})})}),I.jsx("footer",{children:I.jsxs(Yl,{gap:"4",children:[n&&I.jsx(I.Fragment,{children:I.jsx(Mo,{variant:"error",children:"TODO"})}),I.jsx(Ht,{variant:"tertiary",size:"small",onClick:()=>r(),onKeyDown:u=>u.key==="Enter"?r():null,type:"button",children:I.jsx(et,{id:"VedtakForm.ForhandvisBrev"})}),I.jsxs($h,{justify:"space-between",children:[I.jsx(Ht,{type:"button",variant:"primary",onClick:o,disabled:i,size:"small",children:I.jsx(et,{id:"BrevInnhold.Lagre"})}),I.jsx(Ht,{variant:"tertiary",icon:I.jsx(wh,{"aria-hidden":!0}),type:"button",onClick:()=>e(!0),disabled:i,size:"small",children:I.jsx(et,{id:"BrevInnhold.Tilbakestill"})})]})]})})]})};Lu.__docgenInfo={description:"",methods:[],displayName:"BrevInnhold",props:{htmlMal:{required:!0,tsType:{name:"string"},description:""},setVisTilbakestillAdvarsel:{required:!0,tsType:{name:"signature",type:"function",raw:"(skalVise: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"skalVise"}],return:{name:"void"}}},description:""},lagreOgLukk:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},forhåndsvis:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},visForhåndsvisValideringsFeil:{required:!0,tsType:{name:"boolean"},description:""}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var yn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Or(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function zk(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}function vo(){}Object.assign(vo,{default:vo,register:vo,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const r=n instanceof Node;e.appendChild(r?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),r=parseInt(n.getPropertyValue("border-top-width")),o=parseInt(n.getPropertyValue("border-left-width")),i=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,l=this.offsetLeft-e.offsetLeft<e.scrollLeft,c=this.offsetLeft-e.offsetLeft+this.clientWidth-o>e.scrollLeft+e.clientWidth,a=i&&!s;(i||s)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(l||c)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-o+this.clientWidth/2),(i||s||l||c)&&!t&&this.scrollIntoView(a)});window.requestIdleCallback=window.requestIdleCallback||function(t){const e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(t){clearTimeout(t)};let Fk=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var Mu=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(Mu||{});const P={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46},Hk={LEFT:0};function Cn(t,e,n="log",r,o="color: inherit"){if(!("console"in window)||!window.console[n])return;const i=["info","log","warn","error"].includes(n),s=[];switch(Cn.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!i||t)return;break}r&&s.push(r);const l="Editor.js 2.31.0-rc.7";t&&(i?(s.unshift(`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`,o),e=`%c${l}%c ${e}`):e=`( ${l} )${e}`);try{i?r?console[n](`${e} %o`,...s):console[n](e,...s):console[n](e)}catch{}}Cn.logLevel="VERBOSE";function Uk(t){Cn.logLevel=t}const W=Cn.bind(window,!1),Le=Cn.bind(window,!0);function Ot(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function J(t){return Ot(t)==="function"||Ot(t)==="asyncfunction"}function ue(t){return Ot(t)==="object"}function ot(t){return Ot(t)==="string"}function Wk(t){return Ot(t)==="boolean"}function wl(t){return Ot(t)==="number"}function Sl(t){return Ot(t)==="undefined"}function Ae(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function Au(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function qk(t,e=()=>{},n=()=>{}){async function r(o,i,s){try{await o.function(o.data),await i(Sl(o.data)?{}:o.data)}catch{s(Sl(o.data)?{}:o.data)}}return t.reduce(async(o,i)=>(await o,r(i,e,n)),Promise.resolve())}function Pu(t){return Array.prototype.slice.call(t)}function dr(t,e){return function(){const n=this,r=arguments;window.setTimeout(()=>t.apply(n,r),e)}}function Vk(t){return t.name.split(".").pop()}function Kk(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function Cl(t,e,n){let r;return(...o)=>{const i=this,s=()=>{r=null,t.apply(i,o)};window.clearTimeout(r),r=window.setTimeout(s,e)}}function Ko(t,e,n=void 0){let r,o,i,s=null,l=0;n||(n={});const c=function(){l=n.leading===!1?0:Date.now(),s=null,i=t.apply(r,o),s||(r=o=null)};return function(){const a=Date.now();!l&&n.leading===!1&&(l=a);const u=e-(a-l);return r=this,o=arguments,u<=0||u>e?(s&&(clearTimeout(s),s=null),l=a,i=t.apply(r,o),s||(r=o=null)):!s&&n.trailing!==!1&&(s=setTimeout(c,u)),i}}function Gk(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function hr(t){return t[0].toUpperCase()+t.slice(1)}function Go(t,...e){if(!e.length)return t;const n=e.shift();if(ue(t)&&ue(n))for(const r in n)ue(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Go(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Go(t,...e)}function xi(t){const e=Gk();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function Yk(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function Xk(){return Fk(10)}function Zk(t){window.open(t,"_blank")}function Qk(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function Yo(t,e,n){const r=`«${e}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;t&&Le(r,"warn")}function Gt(t,e,n){const r=n.value?"value":"get",o=n[r],i=`#${e}Cache`;if(n[r]=function(...s){return this[i]===void 0&&(this[i]=o.apply(this,...s)),this[i]},r==="get"&&n.set){const s=n.set;n.set=function(l){delete t[i],s.apply(this,l)}}return n}const Nu=650;function Yt(){return window.matchMedia(`(max-width: ${Nu}px)`).matches}const Xo=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function Jk(t,e){const n=Array.isArray(t)||ue(t),r=Array.isArray(e)||ue(e);return n||r?JSON.stringify(t)===JSON.stringify(e):t===e}let v=class ye{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,r={}){const o=document.createElement(e);if(Array.isArray(n)){const i=n.filter(s=>s!==void 0);o.classList.add(...i)}else n&&o.classList.add(n);for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i]);return o}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(r=>e.appendChild(r)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(r=>e.prepend(r))):e.prepend(n)}static swap(e,n){const r=document.createElement("div"),o=e.parentNode;o.insertBefore(r,e),o.insertBefore(e,n),o.insertBefore(n,r),o.removeChild(r)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return Pu(e.querySelectorAll(ye.allInputsSelector)).reduce((n,r)=>ye.isNativeInput(r)||ye.containsOnlyInlineElements(r)?[...n,r]:[...n,...ye.getDeepestBlockElements(r)],[])}static getDeepestNode(e,n=!1){const r=n?"lastChild":"firstChild",o=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[r]){let i=e[r];if(ye.isSingleTag(i)&&!ye.isNativeInput(i)&&!ye.isLineBreakTag(i))if(i[o])i=i[o];else if(i.parentNode[o])i=i.parentNode[o];else return i.parentNode;return this.getDeepestNode(i,n)}return e}static isElement(e){return wl(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return wl(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if(ye.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=ye.isContentEditable(e);return n}static isNodeEmpty(e,n){let r;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?r=e.value:r=e.textContent.replace("​",""),n&&(r=r.replace(new RegExp(n,"g"),"")),r.length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e,n){const r=[e];for(;r.length>0;)if(e=r.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e,n))return!1;e.childNodes&&r.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=ye.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return ye.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;ot(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const r=o=>!ye.blockElements.includes(o.tagName.toLowerCase())&&Array.from(o.children).every(r);return Array.from(n.children).every(r)}static getDeepestBlockElements(e){return ye.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,r)=>[...n,...ye.getDeepestBlockElements(r)],[])}static getHolder(e){return ot(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,i=n.top+o,s=n.left+r;return{top:i,left:s,bottom:i+n.height,right:s+n.width}}};function ex(t){return!/[^\t\n\r ]/.test(t)}function tx(t){const e=window.getComputedStyle(t),n=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||n*1.2,o=parseFloat(e.paddingTop),i=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),l=n*.8,c=(r-n)/2;return s+i+o+c+l}function ju(t){t.dataset.empty=v.isEmpty(t)?"true":"false"}const nx={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":"","Convert to":""}},rx={Text:"",Link:"",Bold:"",Italic:""},ox={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},ix={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},$u={ui:nx,toolNames:rx,tools:ox,blockTunes:ix},Ru=class $t{static ui(e,n){return $t._t(e,n)}static t(e,n){return $t._t(e,n)}static setDictionary(e){$t.currentDictionary=e}static _t(e,n){const r=$t.getNamespace(e);return!r||!r[n]?n:r[n]}static getNamespace(e){return e.split(".").reduce((n,r)=>!n||!Object.keys(n).length?{}:n[r],$t.currentDictionary)}};Ru.currentDictionary=$u;let xe=Ru;class Du extends Error{}let En=class{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const r=o=>{const i=n(o),s=this.subscribers[e].indexOf(r);return s!==-1&&this.subscribers[e].splice(s,1),i};this.subscribers[e].push(r)}emit(e,n){Ae(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((r,o)=>{const i=o(r);return i!==void 0?i:r},n)}off(e,n){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let r=0;r<this.subscribers[e].length;r++)if(this.subscribers[e][r]===n){delete this.subscribers[e][r];break}}destroy(){this.subscribers={}}};function Je(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},get focusable(){return t.focusable},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()},getActiveToolboxEntry(){return t.getActiveToolboxEntry()}})}let Tn=class{constructor(){this.allListeners=[]}on(e,n,r,o=!1){const i=Qk("l"),s={id:i,element:e,eventType:n,handler:r,options:o};if(!this.findOne(e,n,r))return this.allListeners.push(s),e.addEventListener(n,r,o),i}off(e,n,r,o){const i=this.findAll(e,n,r);i.forEach((s,l)=>{const c=this.allListeners.indexOf(i[l]);c>-1&&(this.allListeners.splice(c,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,r){const o=this.findAll(e,n,r);return o.length>0?o[0]:null}findAll(e,n,r){let o;const i=e?this.findByEventTarget(e):[];return e&&n&&r?o=i.filter(s=>s.eventType===n&&s.handler===r):e&&n?o=i.filter(s=>s.eventType===n):o=i,o}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}},z=class zu{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new Tn,this.readOnlyMutableListeners={on:(r,o,i,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,o,i,s))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===zu)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}},L=class ct{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?v.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(ct.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${ct.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${ct.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!ct.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,r={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),r.x=n.boundingLeft,r.y=n.boundingTop,r.width=n.boundingWidth,r.height=n.boundingHeight,r;if(!window.getSelection)return W("Method window.getSelection is not supported","warn"),r;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return W("Method SelectionUtils.rangeCount is not supported","warn"),r;if(e.rangeCount===0)return r;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(r=n.getBoundingClientRect()),r.x===0&&r.y===0){const o=document.createElement("span");if(o.getBoundingClientRect){o.appendChild(document.createTextNode("​")),n.insertNode(o),r=o.getBoundingClientRect();const i=o.parentNode;i.removeChild(o),i.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const r=document.createRange(),o=window.getSelection();return v.isNativeInput(e)?v.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(r.setStart(e,n),r.setEnd(e,n),o.removeAllRanges(),o.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(e){const n=ct.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=ct.range;if(e===null)return;const n=v.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return v.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=v.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=ct.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,r=10){const o=window.getSelection();let i=null;return!o||!o.anchorNode||!o.focusNode?null:([o.anchorNode,o.focusNode].forEach(s=>{let l=r;for(;l>0&&s.parentNode&&!(s.tagName===e&&(i=s,n&&s.classList&&!s.classList.contains(n)&&(i=null),i));)s=s.parentNode,l--}),i)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const r=document.createRange();r.selectNodeContents(e),n.addRange(r)}};function sx(t,e){const{type:n,target:r,addedNodes:o,removedNodes:i}=t;return t.type==="attributes"&&t.attributeName==="data-empty"?!1:!!(e.contains(r)||n==="childList"&&(Array.from(o).some(s=>s===e)||Array.from(i).some(s=>s===e)))}const Zo="redactor dom changed",Fu="block changed",Hu="fake cursor is about to be toggled",Uu="fake cursor have been set",kn="editor mobile layout toggled";function Qo(t,e){if(!t.conversionConfig)return!1;const n=t.conversionConfig[e];return J(n)||ot(n)}function pr(t,e){return Qo(t.tool,e)}function Wu(t,e){return Object.entries(t).some(([n,r])=>e[n]&&Jk(e[n],r))}async function qu(t,e){const n=(await t.save()).data,r=e.find(o=>o.name===t.name);return r!==void 0&&!Qo(r,"export")?[]:e.reduce((o,i)=>{if(!Qo(i,"import")||i.toolbox===void 0)return o;const s=i.toolbox.filter(l=>{if(Ae(l)||l.icon===void 0)return!1;if(l.data!==void 0){if(Wu(l.data,n))return!1}else if(i.name===t.name)return!1;return!0});return o.push({...i,toolbox:s}),o},[])}function El(t,e){return t.mergeable?t.name===e.name?!0:pr(e,"export")&&pr(t,"import"):!1}function ax(t,e){const n=e==null?void 0:e.export;return J(n)?n(t):ot(n)?t[n]:(n!==void 0&&W("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function Tl(t,e,n){const r=e==null?void 0:e.import;return J(r)?r(t,n):ot(r)?{[r]:t}:(r!==void 0&&W("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var Z=(t=>(t.Default="default",t.Separator="separator",t.Html="html",t))(Z||{}),tt=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(tt||{});let nt=class ut extends En{constructor({id:e=Xk(),data:n,tool:r,readOnly:o,tunesData:i},s){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(l=void 0)=>{const c=l===void 0,a=l instanceof InputEvent;!c&&!a&&this.detectToolRootChange(l);let u;c||a?u=!0:u=!(l.length>0&&l.every(d=>{const{addedNodes:h,removedNodes:g,target:f}=d;return[...Array.from(h),...Array.from(g),f].some(k=>(v.isElement(k)||(k=k.parentElement),k&&k.closest('[data-mutation-free="true"]')!==null))})),u&&(this.dropInputsCache(),this.updateCurrentInput(),this.toggleInputsEmptyMark(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=e,this.settings=r.settings,this.config=r.settings.config||{},this.editorEventBus=s||null,this.blockAPI=new Je(this),this.tool=r,this.toolInstance=r.create(n,this.blockAPI,o),this.tunes=r.tunes,this.composeTunes(i),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents(),this.toggleInputsEmptyMark()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=v.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(r=>r===e||r.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!Ae(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return J(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){const e=v.isEmpty(this.pluginsContent,"/"),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set selected(e){var n,r;this.holder.classList.toggle(ut.CSS.selected,e);const o=e===!0&&L.isRangeInsideContainer(this.holder),i=e===!1&&L.isFakeCursorInsideContainer(this.holder);(o||i)&&((n=this.editorEventBus)==null||n.emit(Hu,{state:e}),o?L.addFakeCursor():L.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(Uu,{state:e}))}get selected(){return this.holder.classList.contains(ut.CSS.selected)}set stretched(e){this.holder.classList.toggle(ut.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(ut.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(ut.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if(J(this.toolInstance[e])){e==="appendCallback"&&W("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(r){W(`Error during '${e}' call: ${r.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([i,s])=>{if(J(s.save))try{n[i]=s.save()}catch(l){W(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",l)}});const r=window.performance.now();let o;return Promise.resolve(e).then(i=>(o=window.performance.now(),{id:this.id,tool:this.name,data:i,tunes:n,time:o-r})).catch(i=>{W(`Saving process for ${this.name} tool failed due to the ${i}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=[],n=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[];return v.isElement(r)?e.push({type:Z.Html,element:r}):Array.isArray(r)?e.push(...r):e.push(r),[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(o=>o.render()).forEach(o=>{v.isElement(o)?n.push({type:Z.Html,element:o}):Array.isArray(o)?n.push(...o):n.push(o)}),{toolTunes:e,commonTunes:n}}updateCurrentInput(){this.currentInput=v.isNativeInput(document.activeElement)||!L.anchorNode?document.activeElement:L.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),J(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data,r=e;return r==null?void 0:r.find(o=>Wu(o.data,n))}async exportDataAsString(){const e=await this.data;return ax(e,this.tool.conversionConfig)}compose(){const e=v.make("div",ut.CSS.wrapper),n=v.make("div",ut.CSS.content),r=this.toolInstance.render();e.setAttribute("data-cy","block-wrapper"),e.dataset.id=this.id,this.toolRenderedElement=r,n.appendChild(this.toolRenderedElement);let o=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(i=>{if(J(i.wrap))try{o=i.wrap(o)}catch(s){W(`Tune ${i.constructor.name} wrap method throws an Error %o`,"warn",s)}}),e.appendChild(o),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,r])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=r)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),v.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),v.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:r}=n;r.some(o=>sx(o,this.toolRenderedElement))&&this.didMutated(r)},(e=this.editorEventBus)==null||e.on(Zo,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(Zo,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const r=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}toggleInputsEmptyMark(){this.inputs.forEach(ju)}};class lx extends z{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},r={},o,i,s,l)=>{const c=this.Editor.BlockManager.insert({id:l,tool:e,data:n,index:o,needToFocus:i,replace:s});return new Je(c)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new nt({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,n,r)=>{const{BlockManager:o}=this.Editor,i=o.getBlockById(e);if(i===void 0)throw new Error(`Block with id "${e}" not found`);const s=await o.update(i,n,r);return new Je(s)},this.convert=async(e,n,r)=>{var o,i;const{BlockManager:s,Tools:l}=this.Editor,c=s.getBlockById(e);if(!c)throw new Error(`Block with id "${e}" not found`);const a=l.blockTools.get(c.name),u=l.blockTools.get(n);if(!u)throw new Error(`Block Tool with type "${n}" not found`);const d=((o=a==null?void 0:a.conversionConfig)==null?void 0:o.export)!==void 0,h=((i=u.conversionConfig)==null?void 0:i.import)!==void 0;if(d&&h){const g=await s.convert(c,n,r);return new Je(g)}else{const g=[d?!1:hr(c.name),h?!1:hr(n)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${c.name}" to "${n}" is not possible. ${g} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(e,n=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(n);const r=e.map(({id:o,type:i,data:s})=>this.Editor.BlockManager.composeBlock({id:o,tool:i||this.config.defaultBlock,data:s}));return this.Editor.BlockManager.insertMany(r,n),r.map(o=>new Je(o))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),getBlockByElement:e=>this.getBlockByElement(e),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){Le("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){Le("There is no block at index `"+e+"`","warn");return}return new Je(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(Le("There is no block with id `"+e+"`","warn"),null):new Je(n)}getBlockByElement(e){const n=this.Editor.BlockManager.getBlock(e);if(n===void 0){Le("There is no block corresponding to element `"+e+"`","warn");return}return new Je(n)}swap(e,n){W("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const n=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(n)}catch(n){Le(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){Yo(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(e);r&&(r.stretched=n)}insertNewBlock(){W("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}}function cx(t,e){return typeof t=="number"?e.BlockManager.getBlockByIndex(t):typeof t=="string"?e.BlockManager.getBlockById(t):e.BlockManager.getBlockById(t.id)}class ux extends z{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,r=0)=>{const o=cx(e,this.Editor);return o===void 0?!1:(this.Editor.Caret.setToBlock(o,n,r),!0)},this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class dx extends z{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}}let hx=class Vu extends z{static getNamespace(e,n){return n?`blockTunes.${e}`:`tools.${e}`}get methods(){return{t:()=>{Le("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e,n){return Object.assign(this.methods,{t:r=>xe.t(Vu.getNamespace(e,n),r)})}};class px extends z{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,tools:this.Editor.ToolsAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e,n){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e,n)})}}class fx extends z{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class gx extends z{get methods(){return{on:(e,n,r,o)=>this.on(e,n,r,o),off:(e,n,r,o)=>this.off(e,n,r,o),offById:e=>this.offById(e)}}on(e,n,r,o){return this.listeners.on(e,n,r,o)}off(e,n,r,o){this.listeners.off(e,n,r,o)}offById(e){this.listeners.offById(e)}}var Ku={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,l){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:l})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var c in i)o.d(l,c,(function(a){return i[a]}).bind(null,c));return l},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=0)}([function(n,r,o){o(1),n.exports=function(){var i=o(6),s="cdx-notify--bounce-in",l=null;return{show:function(c){if(c.message){(function(){if(l)return!0;l=i.getWrapper(),document.body.appendChild(l)})();var a=null,u=c.time||8e3;switch(c.type){case"confirm":a=i.confirm(c);break;case"prompt":a=i.prompt(c);break;default:a=i.alert(c),window.setTimeout(function(){a.remove()},u)}l.appendChild(a),a.classList.add(s)}}}}()},function(n,r,o){var i=o(2);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(4)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var l=function(c,a){var u=c[1]||"",d=c[3];if(!d)return u;if(a&&typeof btoa=="function"){var h=(f=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(f))))+" */"),g=d.sources.map(function(k){return"/*# sourceURL="+d.sourceRoot+k+" */"});return[u].concat(g).concat([h]).join(`
`)}var f;return[u].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+l+"}":l}).join("")},i.i=function(s,l){typeof s=="string"&&(s=[[null,s,""]]);for(var c={},a=0;a<this.length;a++){var u=this[a][0];typeof u=="number"&&(c[u]=!0)}for(a=0;a<s.length;a++){var d=s[a];typeof d[0]=="number"&&c[d[0]]||(l&&!d[2]?d[2]=l:l&&(d[2]="("+d[2]+") and ("+l+")"),i.push(d))}},i}},function(n,r,o){var i,s,l={},c=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),a=function(p){var m={};return function(y){if(typeof y=="function")return y();if(m[y]===void 0){var b=(function(S){return document.querySelector(S)}).call(this,y);if(window.HTMLIFrameElement&&b instanceof window.HTMLIFrameElement)try{b=b.contentDocument.head}catch{b=null}m[y]=b}return m[y]}}(),u=null,d=0,h=[],g=o(5);function f(p,m){for(var y=0;y<p.length;y++){var b=p[y],S=l[b.id];if(S){S.refs++;for(var _=0;_<S.parts.length;_++)S.parts[_](b.parts[_]);for(;_<b.parts.length;_++)S.parts.push(T(b.parts[_],m))}else{var q=[];for(_=0;_<b.parts.length;_++)q.push(T(b.parts[_],m));l[b.id]={id:b.id,refs:1,parts:q}}}}function k(p,m){for(var y=[],b={},S=0;S<p.length;S++){var _=p[S],q=m.base?_[0]+m.base:_[0],B={css:_[1],media:_[2],sourceMap:_[3]};b[q]?b[q].parts.push(B):y.push(b[q]={id:q,parts:[B]})}return y}function O(p,m){var y=a(p.insertInto);if(!y)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var b=h[h.length-1];if(p.insertAt==="top")b?b.nextSibling?y.insertBefore(m,b.nextSibling):y.appendChild(m):y.insertBefore(m,y.firstChild),h.push(m);else if(p.insertAt==="bottom")y.appendChild(m);else{if(typeof p.insertAt!="object"||!p.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var S=a(p.insertInto+" "+p.insertAt.before);y.insertBefore(m,S)}}function w(p){if(p.parentNode===null)return!1;p.parentNode.removeChild(p);var m=h.indexOf(p);m>=0&&h.splice(m,1)}function E(p){var m=document.createElement("style");return p.attrs.type===void 0&&(p.attrs.type="text/css"),U(m,p.attrs),O(p,m),m}function U(p,m){Object.keys(m).forEach(function(y){p.setAttribute(y,m[y])})}function T(p,m){var y,b,S,_;if(m.transform&&p.css){if(!(_=m.transform(p.css)))return function(){};p.css=_}if(m.singleton){var q=d++;y=u||(u=E(m)),b=j.bind(null,y,q,!1),S=j.bind(null,y,q,!0)}else p.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(y=function(B){var X=document.createElement("link");return B.attrs.type===void 0&&(B.attrs.type="text/css"),B.attrs.rel="stylesheet",U(X,B.attrs),O(B,X),X}(m),b=(function(B,X,be){var Ne=be.css,Xt=be.sourceMap,Wr=X.convertToAbsoluteUrls===void 0&&Xt;(X.convertToAbsoluteUrls||Wr)&&(Ne=g(Ne)),Xt&&(Ne+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(Xt))))+" */");var On=new Blob([Ne],{type:"text/css"}),vt=B.href;B.href=URL.createObjectURL(On),vt&&URL.revokeObjectURL(vt)}).bind(null,y,m),S=function(){w(y),y.href&&URL.revokeObjectURL(y.href)}):(y=E(m),b=(function(B,X){var be=X.css,Ne=X.media;if(Ne&&B.setAttribute("media",Ne),B.styleSheet)B.styleSheet.cssText=be;else{for(;B.firstChild;)B.removeChild(B.firstChild);B.appendChild(document.createTextNode(be))}}).bind(null,y),S=function(){w(y)});return b(p),function(B){if(B){if(B.css===p.css&&B.media===p.media&&B.sourceMap===p.sourceMap)return;b(p=B)}else S()}}n.exports=function(p,m){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(m=m||{}).attrs=typeof m.attrs=="object"?m.attrs:{},m.singleton||typeof m.singleton=="boolean"||(m.singleton=c()),m.insertInto||(m.insertInto="head"),m.insertAt||(m.insertAt="bottom");var y=k(p,m);return f(y,m),function(b){for(var S=[],_=0;_<y.length;_++){var q=y[_];(B=l[q.id]).refs--,S.push(B)}for(b&&f(k(b,m),m),_=0;_<S.length;_++){var B;if((B=S[_]).refs===0){for(var X=0;X<B.parts.length;X++)B.parts[X]();delete l[B.id]}}}};var C,N=(C=[],function(p,m){return C[p]=m,C.filter(Boolean).join(`
`)});function j(p,m,y,b){var S=y?"":b.css;if(p.styleSheet)p.styleSheet.cssText=N(m,S);else{var _=document.createTextNode(S),q=p.childNodes;q[m]&&p.removeChild(q[m]),q.length?p.insertBefore(_,q[m]):p.appendChild(_)}}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,l=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(c,a){var u,d=a.trim().replace(/^"(.*)"$/,function(h,g){return g}).replace(/^'(.*)'$/,function(h,g){return g});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?c:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:l+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){var i,s,l,c,a,u,d,h,g;n.exports=(i="cdx-notifies",s="cdx-notify",l="cdx-notify__cross",c="cdx-notify__button--confirm",a="cdx-notify__button--cancel",u="cdx-notify__input",d="cdx-notify__button",h="cdx-notify__btns-wrapper",{alert:g=function(f){var k=document.createElement("DIV"),O=document.createElement("DIV"),w=f.message,E=f.style;return k.classList.add(s),E&&k.classList.add(s+"--"+E),k.innerHTML=w,O.classList.add(l),O.addEventListener("click",k.remove.bind(k)),k.appendChild(O),k},confirm:function(f){var k=g(f),O=document.createElement("div"),w=document.createElement("button"),E=document.createElement("button"),U=k.querySelector("."+l),T=f.cancelHandler,C=f.okHandler;return O.classList.add(h),w.innerHTML=f.okText||"Confirm",E.innerHTML=f.cancelText||"Cancel",w.classList.add(d),E.classList.add(d),w.classList.add(c),E.classList.add(a),T&&typeof T=="function"&&(E.addEventListener("click",T),U.addEventListener("click",T)),C&&typeof C=="function"&&w.addEventListener("click",C),w.addEventListener("click",k.remove.bind(k)),E.addEventListener("click",k.remove.bind(k)),O.appendChild(w),O.appendChild(E),k.appendChild(O),k},prompt:function(f){var k=g(f),O=document.createElement("div"),w=document.createElement("button"),E=document.createElement("input"),U=k.querySelector("."+l),T=f.cancelHandler,C=f.okHandler;return O.classList.add(h),w.innerHTML=f.okText||"Ok",w.classList.add(d),w.classList.add(c),E.classList.add(u),f.placeholder&&E.setAttribute("placeholder",f.placeholder),f.default&&(E.value=f.default),f.inputType&&(E.type=f.inputType),T&&typeof T=="function"&&U.addEventListener("click",T),C&&typeof C=="function"&&w.addEventListener("click",function(){C(E.value)}),w.addEventListener("click",k.remove.bind(k)),O.appendChild(E),O.appendChild(w),k.appendChild(O),k},getWrapper:function(){var f=document.createElement("DIV");return f.classList.add(i),f}})}])})})(Ku);var mx=Ku.exports;const bx=Or(mx);class vx{show(e){bx.show(e)}}class yx extends z{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new vx}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class kx extends z{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var Gu={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(yn,function(){function n(d){var h=d.tags,g=Object.keys(h),f=g.map(function(k){return typeof h[k]}).every(function(k){return k==="object"||k==="boolean"||k==="function"});if(!f)throw new Error("The configuration was invalid");this.config=d}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function o(d){return r.indexOf(d.nodeName)!==-1}var i=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(d){return i.indexOf(d.nodeName)!==-1}n.prototype.clean=function(d){const h=document.implementation.createHTMLDocument(),g=h.createElement("div");return g.innerHTML=d,this._sanitize(h,g),g.innerHTML},n.prototype._sanitize=function(d,h){var g=l(d,h),f=g.firstChild();if(f)do{if(f.nodeType===Node.TEXT_NODE)if(f.data.trim()===""&&(f.previousElementSibling&&o(f.previousElementSibling)||f.nextElementSibling&&o(f.nextElementSibling))){h.removeChild(f),this._sanitize(d,h);break}else continue;if(f.nodeType===Node.COMMENT_NODE){h.removeChild(f),this._sanitize(d,h);break}var k=s(f),O;k&&(O=Array.prototype.some.call(f.childNodes,o));var w=!!h.parentNode,E=o(h)&&o(f)&&w,U=f.nodeName.toLowerCase(),T=c(this.config,U,f),C=k&&O;if(C||a(f,T)||!this.config.keepNestedBlockElements&&E){if(!(f.nodeName==="SCRIPT"||f.nodeName==="STYLE"))for(;f.childNodes.length>0;)h.insertBefore(f.childNodes[0],f);h.removeChild(f),this._sanitize(d,h);break}for(var N=0;N<f.attributes.length;N+=1){var j=f.attributes[N];u(j,T,f)&&(f.removeAttribute(j.name),N=N-1)}this._sanitize(d,f)}while(f=g.nextSibling())};function l(d,h){return d.createTreeWalker(h,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function c(d,h,g){return typeof d.tags[h]=="function"?d.tags[h](g):d.tags[h]}function a(d,h){return typeof h>"u"?!0:typeof h=="boolean"?!h:!1}function u(d,h,g){var f=d.name.toLowerCase();return h===!0?!1:typeof h[f]=="function"?!h[f](d.value,g):typeof h[f]>"u"||h[f]===!1?!0:typeof h[f]=="string"?h[f]!==d.value:!1}return n})})(Gu);var xx=Gu.exports;const wx=Or(xx);function wi(t,e){return t.map(n=>{const r=J(e)?e(n.tool):e;return Ae(r)||(n.data=Si(n.data,r)),n})}function Ye(t,e={}){const n={tags:e};return new wx(n).clean(t)}function Si(t,e){return Array.isArray(t)?Sx(t,e):ue(t)?Cx(t,e):ot(t)?Ex(t,e):t}function Sx(t,e){return t.map(n=>Si(n,e))}function Cx(t,e){const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const o=t[r],i=Tx(e[r])?e[r]:e;n[r]=Si(o,i)}return n}function Ex(t,e){return ue(e)?Ye(t,e):e===!1?Ye(t,{}):t}function Tx(t){return ue(t)||Wk(t)||J(t)}class Ox extends z{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return Ye(e,n)}}class _x extends z{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(Le(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class Bx extends z{constructor(){super(...arguments),this.selectionUtils=new L}get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e),save:()=>this.selectionUtils.save(),restore:()=>this.selectionUtils.restore(),setFakeBackground:()=>this.selectionUtils.setFakeBackground(),removeFakeBackground:()=>this.selectionUtils.removeFakeBackground()}}findParentTag(e,n){return this.selectionUtils.findParentTag(e,n)}expandToTag(e){this.selectionUtils.expandToTag(e)}}class Ix extends z{get methods(){return{getBlockTools:()=>Array.from(this.Editor.Tools.blockTools.values())}}}class Lx extends z{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class Mx extends z{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Le("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Le("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var Yu={exports:{}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,l){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:l})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var c in i)o.d(l,c,(function(a){return i[a]}).bind(null,c));return l},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(n,r,o){n.exports=o(1)},function(n,r,o){o.r(r),o.d(r,"default",function(){return i});class i{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(l,c,a){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const u=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},a);if(u.hidingDelay&&(this.hidingDelay=u.hidingDelay),this.nodes.content.innerHTML="",typeof c=="string")this.nodes.content.appendChild(document.createTextNode(c));else{if(!(c instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof c+" given.");this.nodes.content.appendChild(c)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),u.placement){case"top":this.placeTop(l,u);break;case"left":this.placeLeft(l,u);break;case"right":this.placeRight(l,u);break;case"bottom":default:this.placeBottom(l,u)}u&&u.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},u.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(l=!1){if(this.hidingDelay&&!l)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(l,c,a){l.addEventListener("mouseenter",()=>{this.show(l,c,a)}),l.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const l="codex-tooltips-style";if(document.getElementById(l))return;const c=o(2),a=this.make("style",null,{textContent:c.toString(),id:l});this.prepend(document.head,a)}placeBottom(l,c){const a=l.getBoundingClientRect(),u=a.left+l.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=a.bottom+window.pageYOffset+this.offsetTop+c.marginTop;this.applyPlacement("bottom",u,d)}placeTop(l,c){const a=l.getBoundingClientRect(),u=a.left+l.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=a.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",u,d)}placeLeft(l,c){const a=l.getBoundingClientRect(),u=a.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-c.marginLeft,d=a.top+window.pageYOffset+l.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",u,d)}placeRight(l,c){const a=l.getBoundingClientRect(),u=a.right+this.offsetRight+c.marginRight,d=a.top+window.pageYOffset+l.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",u,d)}applyPlacement(l,c,a){this.nodes.wrapper.classList.add(this.CSS.placement[l]),this.nodes.wrapper.style.left=c+"px",this.nodes.wrapper.style.top=a+"px"}make(l,c=null,a={}){const u=document.createElement(l);Array.isArray(c)?u.classList.add(...c):c&&u.classList.add(c);for(const d in a)a.hasOwnProperty(d)&&(u[d]=a[d]);return u}append(l,c){Array.isArray(c)?c.forEach(a=>l.appendChild(a)):l.appendChild(c)}prepend(l,c){Array.isArray(c)?(c=c.reverse()).forEach(a=>l.prepend(a)):l.prepend(c)}}},function(n,r){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(Yu);var Ax=Yu.exports;const Px=Or(Ax);let Re=null;function Ci(){Re||(Re=new Px)}function Nx(t,e,n){Ci(),Re==null||Re.show(t,e,n)}function fr(t=!1){Ci(),Re==null||Re.hide(t)}function gr(t,e,n){Ci(),Re==null||Re.onHover(t,e,n)}function jx(){Re==null||Re.destroy(),Re=null}class $x extends z{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n})}get methods(){return{show:(e,n,r)=>this.show(e,n,r),hide:()=>this.hide(),onHover:(e,n,r)=>this.onHover(e,n,r)}}show(e,n,r){Nx(e,n,r)}hide(){fr()}onHover(e,n,r){gr(e,n,r)}}class Rx extends z{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function Xu(t,e){const n={};return Object.entries(t).forEach(([r,o])=>{if(ue(o)){const i=e?`${e}.${r}`:r;Object.values(o).every(s=>ot(s))?n[r]=i:n[r]=Xu(o,i);return}n[r]=o}),n}const _e=Xu($u);function Dx(t,e){const n={};return Object.keys(t).forEach(r=>{const o=e[r];o!==void 0?n[o]=t[r]:n[r]=t[r]}),n}const Zu=class cn{constructor(e,n){this.cursor=-1,this.items=[],this.items=e||[],this.focusedCssClass=n}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(e){e<this.items.length&&e>=-1&&(this.dropCursor(),this.cursor=e,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(e){this.items=e}next(){this.cursor=this.leafNodesAndReturnIndex(cn.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(cn.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(e){if(this.items.length===0)return this.cursor;let n=this.cursor;return n===-1?n=e===cn.directions.RIGHT?-1:0:this.items[n].classList.remove(this.focusedCssClass),e===cn.directions.RIGHT?n=(n+1)%this.items.length:n=(this.items.length+n-1)%this.items.length,v.canSetCaret(this.items[n])&&dr(()=>L.setCursor(this.items[n]),50)(),this.items[n].classList.add(this.focusedCssClass),n}};Zu.directions={RIGHT:"right",LEFT:"left"};let en=Zu,mr=class Jo{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(Jo.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case P.TAB:this.handleTabPress(n);break;case P.LEFT:case P.UP:this.flipLeft();break;case P.RIGHT:case P.DOWN:this.flipRight();break;case P.ENTER:this.handleEnterPress(n);break}},this.iterator=new en(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||Jo.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[P.TAB,P.LEFT,P.RIGHT,P.ENTER,P.UP,P.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?en.directions.LEFT:en.directions.RIGHT){case en.directions.RIGHT:this.flipRight();break;case en.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),J(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}};const zx='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',Fx='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',Hx='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',Ux='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>',Wx='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',qx='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',Vx='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',Kx='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',Ol='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',Gx='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',Yx='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',Qu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>',Xx='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',Zx='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',Qx='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',Jx="__",e0="--";function bt(t){return(e,n)=>[[t,e].filter(r=>!!r).join(Jx),n].filter(r=>!!r).join(e0)}const tn=bt("ce-hint"),nn={root:tn(),alignedStart:tn(null,"align-left"),alignedCenter:tn(null,"align-center"),title:tn("title"),description:tn("description")};class t0{constructor(e){this.nodes={root:v.make("div",[nn.root,e.alignment==="center"?nn.alignedCenter:nn.alignedStart]),title:v.make("div",nn.title,{textContent:e.title})},this.nodes.root.appendChild(this.nodes.title),e.description!==void 0&&(this.nodes.description=v.make("div",nn.description,{textContent:e.description}),this.nodes.root.appendChild(this.nodes.description))}getElement(){return this.nodes.root}}let Ei=class{constructor(e){this.params=e}get name(){if(this.params!==void 0&&"name"in this.params)return this.params.name}destroy(){fr()}onChildrenOpen(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onOpen)=="function"&&this.params.children.onOpen()}onChildrenClose(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onClose)=="function"&&this.params.children.onClose()}handleClick(){var e,n;this.params!==void 0&&"onActivate"in this.params&&((n=(e=this.params).onActivate)==null||n.call(e,this.params))}addHint(e,n){const r=new t0(n);gr(e,r.getElement(),{placement:n.position,hidingDelay:100})}get children(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.items)!==void 0?this.params.children.items:[]}get hasChildren(){return this.children.length>0}get isChildrenOpen(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.isOpen)===!0}get isChildrenFlippable(){var e;return!(this.params===void 0||!("children"in this.params)||((e=this.params.children)==null?void 0:e.isFlippable)===!1)}get isChildrenSearchable(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.searchable)===!0}get closeOnActivate(){return this.params!==void 0&&"closeOnActivate"in this.params&&this.params.closeOnActivate}get isActive(){return this.params===void 0||!("isActive"in this.params)?!1:typeof this.params.isActive=="function"?this.params.isActive():this.params.isActive===!0}};const Te=bt("ce-popover-item"),te={container:Te(),active:Te(null,"active"),disabled:Te(null,"disabled"),focused:Te(null,"focused"),hidden:Te(null,"hidden"),confirmationState:Te(null,"confirmation"),noHover:Te(null,"no-hover"),noFocus:Te(null,"no-focus"),title:Te("title"),secondaryTitle:Te("secondary-title"),icon:Te("icon"),iconTool:Te("icon","tool"),iconChevronRight:Te("icon","chevron-right"),wobbleAnimation:bt("wobble")()};let St=class extends Ei{constructor(e,n){super(e),this.params=e,this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{var r;(r=this.nodes.root)==null||r.classList.remove(te.noFocus)},this.removeSpecialHoverBehavior=()=>{var r;(r=this.nodes.root)==null||r.classList.remove(te.noHover)},this.onErrorAnimationEnd=()=>{var r,o;(r=this.nodes.icon)==null||r.classList.remove(te.wobbleAnimation),(o=this.nodes.icon)==null||o.removeEventListener("animationend",this.onErrorAnimationEnd)},this.nodes.root=this.make(e,n)}get isDisabled(){return this.params.isDisabled===!0}get toggle(){return this.params.toggle}get title(){return this.params.title}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root===null?!1:this.nodes.root.classList.contains(te.focused)}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled&&this.confirmationState!==null){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){var n;(n=this.nodes.root)==null||n.classList.toggle(te.active,e)}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(te.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e,n){var r,o;const i=(n==null?void 0:n.wrapperTag)||"div",s=v.make(i,te.container,{type:i==="button"?"button":void 0});return e.name&&(s.dataset.itemName=e.name),this.nodes.icon=v.make("div",[te.icon,te.iconTool],{innerHTML:e.icon||Vx}),s.appendChild(this.nodes.icon),e.title!==void 0&&s.appendChild(v.make("div",te.title,{innerHTML:e.title||""})),e.secondaryLabel&&s.appendChild(v.make("div",te.secondaryTitle,{textContent:e.secondaryLabel})),this.hasChildren&&s.appendChild(v.make("div",[te.icon,te.iconChevronRight],{innerHTML:Ux})),this.isActive&&s.classList.add(te.active),e.isDisabled&&s.classList.add(te.disabled),e.hint!==void 0&&((r=n==null?void 0:n.hint)==null?void 0:r.enabled)!==!1&&this.addHint(s,{...e.hint,position:((o=n==null?void 0:n.hint)==null?void 0:o.position)||"right"}),s}enableConfirmationMode(e){if(this.nodes.root===null)return;const n={...this.params,...e,confirmation:"confirmation"in e?e.confirmation:void 0},r=this.make(n);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(te.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){if(this.nodes.root===null)return;const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(te.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){var e,n,r;(e=this.nodes.root)==null||e.classList.add(te.noHover),(n=this.nodes.root)==null||n.classList.add(te.noFocus),(r=this.nodes.root)==null||r.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){var e;this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),(e=this.nodes.root)==null||e.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){var n;if(!("confirmation"in e)||e.confirmation===void 0)try{(n=e.onActivate)==null||n.call(e,e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){var e,n,r;(e=this.nodes.icon)!=null&&e.classList.contains(te.wobbleAnimation)||((n=this.nodes.icon)==null||n.classList.add(te.wobbleAnimation),(r=this.nodes.icon)==null||r.addEventListener("animationend",this.onErrorAnimationEnd))}};const yo=bt("ce-popover-item-separator"),ko={container:yo(),line:yo("line"),hidden:yo(null,"hidden")};class Ju extends Ei{constructor(){super(),this.nodes={root:v.make("div",ko.container),line:v.make("div",ko.line)},this.nodes.root.appendChild(this.nodes.line)}getElement(){return this.nodes.root}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(ko.hidden,e)}}var Xe=(t=>(t.Closed="closed",t.ClosedOnActivate="closed-on-activate",t))(Xe||{});const ve=bt("ce-popover"),ne={popover:ve(),popoverContainer:ve("container"),popoverOpenTop:ve(null,"open-top"),popoverOpenLeft:ve(null,"open-left"),popoverOpened:ve(null,"opened"),search:ve("search"),nothingFoundMessage:ve("nothing-found-message"),nothingFoundMessageDisplayed:ve("nothing-found-message","displayed"),items:ve("items"),overlay:ve("overlay"),overlayHidden:ve("overlay","hidden"),popoverNested:ve(null,"nested"),getPopoverNestedClass:t=>ve(null,`nested-level-${t.toString()}`),popoverInline:ve(null,"inline"),popoverHeader:ve("header")};var qt=(t=>(t.NestingLevel="--nesting-level",t.PopoverHeight="--popover-height",t.InlinePopoverWidth="--inline-popover-width",t.TriggerItemLeft="--trigger-item-left",t.TriggerItemTop="--trigger-item-top",t))(qt||{});const _l=bt("ce-popover-item-html"),Bl={root:_l(),hidden:_l(null,"hidden")};let xn=class extends Ei{constructor(e,n){var r,o;super(e),this.nodes={root:v.make("div",Bl.root)},this.nodes.root.appendChild(e.element),e.name&&(this.nodes.root.dataset.itemName=e.name),e.hint!==void 0&&((r=n==null?void 0:n.hint)==null?void 0:r.enabled)!==!1&&this.addHint(this.nodes.root,{...e.hint,position:((o=n==null?void 0:n.hint)==null?void 0:o.position)||"right"})}getElement(){return this.nodes.root}toggleHidden(e){var n;(n=this.nodes.root)==null||n.classList.toggle(Bl.hidden,e)}getControls(){const e=this.nodes.root.querySelectorAll(`button, ${v.allInputsSelector}`);return Array.from(e)}};class ed extends En{constructor(e,n={}){super(),this.params=e,this.itemsRenderParams=n,this.listeners=new Tn,this.messages={nothingFound:"Nothing found",search:"Search"},this.items=this.buildItems(e.items),e.messages&&(this.messages={...this.messages,...e.messages}),this.nodes={},this.nodes.popoverContainer=v.make("div",[ne.popoverContainer]),this.nodes.nothingFoundMessage=v.make("div",[ne.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=v.make("div",[ne.items]),this.items.forEach(r=>{const o=r.getElement();o!==null&&this.nodes.items.appendChild(o)}),this.nodes.popoverContainer.appendChild(this.nodes.items),this.listeners.on(this.nodes.popoverContainer,"click",r=>this.handleClick(r)),this.nodes.popover=v.make("div",[ne.popover,this.params.class]),this.nodes.popover.appendChild(this.nodes.popoverContainer)}get itemsDefault(){return this.items.filter(e=>e instanceof St)}getElement(){return this.nodes.popover}show(){this.nodes.popover.classList.add(ne.popoverOpened),this.search!==void 0&&this.search.focus()}hide(){this.nodes.popover.classList.remove(ne.popoverOpened),this.nodes.popover.classList.remove(ne.popoverOpenTop),this.itemsDefault.forEach(e=>e.reset()),this.search!==void 0&&this.search.clear(),this.emit(Xe.Closed)}destroy(){var e;this.items.forEach(n=>n.destroy()),this.nodes.popover.remove(),this.listeners.removeAll(),(e=this.search)==null||e.destroy()}activateItemByName(e){const n=this.items.find(r=>r.name===e);this.handleItemClick(n)}buildItems(e){return e.map(n=>{switch(n.type){case Z.Separator:return new Ju;case Z.Html:return new xn(n,this.itemsRenderParams[Z.Html]);default:return new St(n,this.itemsRenderParams[Z.Default])}})}getTargetItem(e){return this.items.filter(n=>n instanceof St||n instanceof xn).find(n=>{const r=n.getElement();return r===null?!1:e.composedPath().includes(r)})}handleItemClick(e){if(!("isDisabled"in e&&e.isDisabled)){if(e.hasChildren){this.showNestedItems(e),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick();return}this.itemsDefault.filter(n=>n!==e).forEach(n=>n.reset()),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&(this.hide(),this.emit(Xe.ClosedOnActivate))}}handleClick(e){const n=this.getTargetItem(e);n!==void 0&&this.handleItemClick(n)}toggleItemActivenessIfNeeded(e){if(e instanceof St&&(e.toggle===!0&&e.toggleActive(),typeof e.toggle=="string")){const n=this.itemsDefault.filter(r=>r.toggle===e.toggle);if(n.length===1){e.toggleActive();return}n.forEach(r=>{r.toggleActive(r===e)})}}}var br=(t=>(t.Search="search",t))(br||{});const xo=bt("cdx-search-field"),wo={wrapper:xo(),icon:xo("icon"),input:xo("input")};class n0 extends En{constructor({items:e,placeholder:n}){super(),this.listeners=new Tn,this.items=e,this.wrapper=v.make("div",wo.wrapper);const r=v.make("div",wo.icon,{innerHTML:Xx});this.input=v.make("input",wo.input,{placeholder:n,tabIndex:-1}),this.wrapper.appendChild(r),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.emit(br.Search,{query:this.searchQuery,items:this.foundItems})})}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.emit(br.Search,{query:"",items:this.foundItems})}destroy(){this.listeners.removeAll()}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n,r;const o=((n=e.title)==null?void 0:n.toLowerCase())||"",i=(r=this.searchQuery)==null?void 0:r.toLowerCase();return i!==void 0?o.includes(i):!1}}var r0=Object.defineProperty,o0=Object.getOwnPropertyDescriptor,i0=(t,e,n,r)=>{for(var o=o0(e,n),i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=s(e,n,o)||o);return o&&r0(e,n,o),o};const td=class nd extends ed{constructor(e,n){super(e,n),this.nestingLevel=0,this.nestedPopoverTriggerItem=null,this.previouslyHoveredItem=null,this.scopeElement=document.body,this.hide=()=>{var r;super.hide(),this.destroyNestedPopoverIfExists(),(r=this.flipper)==null||r.deactivate(),this.previouslyHoveredItem=null},this.onFlip=()=>{const r=this.itemsDefault.find(o=>o.isFocused);r==null||r.onFocus()},this.onSearch=r=>{var o;const i=r.query==="",s=r.items.length===0;this.items.forEach(c=>{let a=!1;c instanceof St?a=!r.items.includes(c):(c instanceof Ju||c instanceof xn)&&(a=s||!i),c.toggleHidden(a)}),this.toggleNothingFoundMessage(s);const l=r.query===""?this.flippableElements:r.items.map(c=>c.getElement());(o=this.flipper)!=null&&o.isActivated&&(this.flipper.deactivate(),this.flipper.activate(l))},e.nestingLevel!==void 0&&(this.nestingLevel=e.nestingLevel),this.nestingLevel>0&&this.nodes.popover.classList.add(ne.popoverNested),e.scopeElement!==void 0&&(this.scopeElement=e.scopeElement),this.nodes.popoverContainer!==null&&this.listeners.on(this.nodes.popoverContainer,"mouseover",r=>this.handleHover(r)),e.searchable&&this.addSearch(),e.flippable!==!1&&(this.flipper=new mr({items:this.flippableElements,focusedItemClass:te.focused,allowedKeys:[P.TAB,P.UP,P.DOWN,P.ENTER]}),this.flipper.onFlip(this.onFlip))}hasFocus(){return this.flipper===void 0?!1:this.flipper.hasFocus()}get scrollTop(){return this.nodes.items===null?0:this.nodes.items.scrollTop}get offsetTop(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetTop}show(){var e;this.nodes.popover.style.setProperty(qt.PopoverHeight,this.size.height+"px"),this.shouldOpenBottom||this.nodes.popover.classList.add(ne.popoverOpenTop),this.shouldOpenRight||this.nodes.popover.classList.add(ne.popoverOpenLeft),super.show(),(e=this.flipper)==null||e.activate(this.flippableElements)}destroy(){this.hide(),super.destroy()}showNestedItems(e){this.nestedPopover!==null&&this.nestedPopover!==void 0||(this.nestedPopoverTriggerItem=e,this.showNestedPopoverForItem(e))}handleHover(e){const n=this.getTargetItem(e);n!==void 0&&this.previouslyHoveredItem!==n&&(this.destroyNestedPopoverIfExists(),this.previouslyHoveredItem=n,n.hasChildren&&this.showNestedPopoverForItem(n))}setTriggerItemPosition(e,n){const r=n.getElement(),o=(r?r.offsetTop:0)-this.scrollTop,i=this.offsetTop+o;e.style.setProperty(qt.TriggerItemTop,i+"px")}destroyNestedPopoverIfExists(){var e,n;this.nestedPopover===void 0||this.nestedPopover===null||(this.nestedPopover.off(Xe.ClosedOnActivate,this.hide),this.nestedPopover.hide(),this.nestedPopover.destroy(),this.nestedPopover.getElement().remove(),this.nestedPopover=null,(e=this.flipper)==null||e.activate(this.flippableElements),(n=this.nestedPopoverTriggerItem)==null||n.onChildrenClose())}showNestedPopoverForItem(e){var n;this.nestedPopover=new nd({searchable:e.isChildrenSearchable,items:e.children,nestingLevel:this.nestingLevel+1,flippable:e.isChildrenFlippable,messages:this.messages}),e.onChildrenOpen(),this.nestedPopover.on(Xe.ClosedOnActivate,this.hide);const r=this.nestedPopover.getElement();return this.nodes.popover.appendChild(r),this.setTriggerItemPosition(r,e),r.style.setProperty(qt.NestingLevel,this.nestedPopover.nestingLevel.toString()),this.nestedPopover.show(),(n=this.flipper)==null||n.deactivate(),this.nestedPopover}get shouldOpenBottom(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popoverContainer.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),r=this.size.height,o=e.top+r,i=e.top-r,s=Math.min(window.innerHeight,n.bottom);return i<n.top||o<=s}get shouldOpenRight(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popover.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),r=this.size.width,o=e.right+r,i=e.left-r,s=Math.min(window.innerWidth,n.right);return i<n.left||o<=s}get size(){var e;const n={height:0,width:0};if(this.nodes.popover===null)return n;const r=this.nodes.popover.cloneNode(!0);r.style.visibility="hidden",r.style.position="absolute",r.style.top="-1000px",r.classList.add(ne.popoverOpened),(e=r.querySelector("."+ne.popoverNested))==null||e.remove(),document.body.appendChild(r);const o=r.querySelector("."+ne.popoverContainer);return n.height=o.offsetHeight,n.width=o.offsetWidth,r.remove(),n}get flippableElements(){return this.items.map(e=>{if(e instanceof St)return e.getElement();if(e instanceof xn)return e.getControls()}).flat().filter(e=>e!=null)}addSearch(){this.search=new n0({items:this.itemsDefault,placeholder:this.messages.search}),this.search.on(br.Search,this.onSearch);const e=this.search.getElement();e.classList.add(ne.search),this.nodes.popoverContainer.insertBefore(e,this.nodes.popoverContainer.firstChild)}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(ne.nothingFoundMessageDisplayed,e)}};i0([Gt],td.prototype,"size");let Ti=td;class s0 extends Ti{constructor(e){const n=!Yt();super({...e,class:ne.popoverInline},{[Z.Default]:{wrapperTag:"button",hint:{position:"top",alignment:"center",enabled:n}},[Z.Html]:{hint:{position:"top",alignment:"center",enabled:n}}}),this.items.forEach(r=>{!(r instanceof St)&&!(r instanceof xn)||r.hasChildren&&r.isChildrenOpen&&this.showNestedItems(r)})}get offsetLeft(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetLeft}show(){this.nestingLevel===0&&this.nodes.popover.style.setProperty(qt.InlinePopoverWidth,this.size.width+"px"),super.show()}handleHover(){}setTriggerItemPosition(e,n){const r=n.getElement(),o=r?r.offsetLeft:0,i=this.offsetLeft+o;e.style.setProperty(qt.TriggerItemLeft,i+"px")}showNestedItems(e){if(this.nestedPopoverTriggerItem===e){this.destroyNestedPopoverIfExists(),this.nestedPopoverTriggerItem=null;return}super.showNestedItems(e)}showNestedPopoverForItem(e){const n=super.showNestedPopoverForItem(e);return n.getElement().classList.add(ne.getPopoverNestedClass(n.nestingLevel)),n}handleItemClick(e){var n;e!==this.nestedPopoverTriggerItem&&((n=this.nestedPopoverTriggerItem)==null||n.handleClick(),super.destroyNestedPopoverIfExists()),super.handleItemClick(e)}}const rd=class un{constructor(){this.scrollPosition=null}lock(){Xo?this.lockHard():document.body.classList.add(un.CSS.scrollLocked)}unlock(){Xo?this.unlockHard():document.body.classList.remove(un.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(un.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(un.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};rd.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};let a0=rd;const So=bt("ce-popover-header"),Co={root:So(),text:So("text"),backButton:So("back-button")};class l0{constructor({text:e,onBackButtonClick:n}){this.listeners=new Tn,this.text=e,this.onBackButtonClick=n,this.nodes={root:v.make("div",[Co.root]),backButton:v.make("button",[Co.backButton]),text:v.make("div",[Co.text])},this.nodes.backButton.innerHTML=Hx,this.nodes.root.appendChild(this.nodes.backButton),this.listeners.on(this.nodes.backButton,"click",this.onBackButtonClick),this.nodes.text.innerText=this.text,this.nodes.root.appendChild(this.nodes.text)}getElement(){return this.nodes.root}destroy(){this.nodes.root.remove(),this.listeners.destroy()}}class c0{constructor(){this.history=[]}push(e){this.history.push(e)}pop(){return this.history.pop()}get currentTitle(){return this.history.length===0?"":this.history[this.history.length-1].title}get currentItems(){return this.history.length===0?[]:this.history[this.history.length-1].items}reset(){for(;this.history.length>1;)this.pop()}}let od=class extends ed{constructor(e){super(e,{[Z.Default]:{hint:{enabled:!1}},[Z.Html]:{hint:{enabled:!1}}}),this.scrollLocker=new a0,this.history=new c0,this.isHidden=!0,this.nodes.overlay=v.make("div",[ne.overlay,ne.overlayHidden]),this.nodes.popover.insertBefore(this.nodes.overlay,this.nodes.popover.firstChild),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.history.push({items:e.items})}show(){this.nodes.overlay.classList.remove(ne.overlayHidden),super.show(),this.scrollLocker.lock(),this.isHidden=!1}hide(){this.isHidden||(super.hide(),this.nodes.overlay.classList.add(ne.overlayHidden),this.scrollLocker.unlock(),this.history.reset(),this.isHidden=!0)}destroy(){super.destroy(),this.scrollLocker.unlock()}showNestedItems(e){this.updateItemsAndHeader(e.children,e.title),this.history.push({title:e.title,items:e.children})}updateItemsAndHeader(e,n){if(this.header!==null&&this.header!==void 0&&(this.header.destroy(),this.header=null),n!==void 0){this.header=new l0({text:n,onBackButtonClick:()=>{this.history.pop(),this.updateItemsAndHeader(this.history.currentItems,this.history.currentTitle)}});const r=this.header.getElement();r!==null&&this.nodes.popoverContainer.insertBefore(r,this.nodes.popoverContainer.firstChild)}this.items.forEach(r=>{var o;return(o=r.getElement())==null?void 0:o.remove()}),this.items=this.buildItems(e),this.items.forEach(r=>{var o;const i=r.getElement();i!==null&&((o=this.nodes.items)==null||o.appendChild(i))})}};class u0 extends z{constructor(){super(...arguments),this.opened=!1,this.selection=new L,this.popover=null,this.close=()=>{this.opened&&(this.opened=!1,L.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(Xe.Closed,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))},this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;if(this.popover!==null)return"flipper"in this.popover?(e=this.popover)==null?void 0:e.flipper:void 0}make(){this.nodes.wrapper=v.make("div",[this.CSS.settings]),this.nodes.wrapper.setAttribute("data-cy","block-tunes"),this.eventsDispatcher.on(kn,this.close)}destroy(){this.removeAllNodes(),this.listeners.destroy(),this.eventsDispatcher.off(kn,this.close)}async open(e=this.Editor.BlockManager.currentBlock){var n;this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(e),this.Editor.BlockSelection.clearCache();const{toolTunes:r,commonTunes:o}=e.getTunes();this.eventsDispatcher.emit(this.events.opened);const i=Yt()?od:Ti;this.popover=new i({searchable:!0,items:await this.getTunesItems(e,o,r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:xe.ui(_e.ui.popover,"Nothing found"),search:xe.ui(_e.ui.popover,"Filter")}}),this.popover.on(Xe.Closed,this.onPopoverClose),(n=this.nodes.wrapper)==null||n.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}async getTunesItems(e,n,r){const o=[];r!==void 0&&r.length>0&&(o.push(...r),o.push({type:Z.Separator}));const i=Array.from(this.Editor.Tools.blockTools.values()),s=(await qu(e,i)).reduce((l,c)=>(c.toolbox.forEach(a=>{l.push({icon:a.icon,title:xe.t(_e.toolNames,a.title),name:c.name,closeOnActivate:!0,onActivate:async()=>{const{BlockManager:u,Caret:d,Toolbar:h}=this.Editor,g=await u.convert(e,c.name,a.data);h.close(),d.setToBlock(g,d.positions.END)}})}),l),[]);return s.length>0&&(o.push({icon:Qu,name:"convert-to",title:xe.ui(_e.ui.popover,"Convert to"),children:{searchable:!0,items:s}}),o.push({type:Z.Separator})),o.push(...n),o.map(l=>this.resolveTuneAliases(l))}resolveTuneAliases(e){if(e.type===Z.Separator||e.type===Z.Html)return e;const n=Dx(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}var id={exports:{}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,l){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:l})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var c in i)o.d(l,c,(function(a){return i[a]}).bind(null,c));return l},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(n,r,o){function i(c,a){for(var u=0;u<a.length;u++){var d=a[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function s(c,a,u){return a&&i(c.prototype,a),u&&i(c,u),c}o.r(r);var l=function(){function c(a){var u=this;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,c),this.commands={},this.keys={},this.name=a.name,this.parseShortcutName(a.name),this.element=a.on,this.callback=a.callback,this.executeShortcut=function(d){u.execute(d)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(c,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(c,[{key:"parseShortcutName",value:function(a){a=a.split("+");for(var u=0;u<a.length;u++){a[u]=a[u].toUpperCase();var d=!1;for(var h in c.supportedCommands)if(c.supportedCommands[h].includes(a[u])){d=this.commands[h]=!0;break}d||(this.keys[a[u]]=!0)}for(var g in c.supportedCommands)this.commands[g]||(this.commands[g]=!1)}},{key:"execute",value:function(a){var u,d={CMD:a.ctrlKey||a.metaKey,SHIFT:a.shiftKey,ALT:a.altKey},h=!0;for(u in this.commands)this.commands[u]!==d[u]&&(h=!1);var g,f=!0;for(g in this.keys)f=f&&a.keyCode===c.keyCodes[g];h&&f&&this.callback(a)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),c}();r.default=l}]).default})})(id);var d0=id.exports;const h0=Or(d0);class p0{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new h0({name:e.name,on:e.on,callback:e.handler}),r=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...r,n])}remove(e,n){const r=this.findShortcut(e,n);if(!r)return;r.remove();const o=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,o.filter(i=>i!==r))}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:r})=>r===n)}}const Kt=new p0;var f0=Object.defineProperty,g0=Object.getOwnPropertyDescriptor,sd=(t,e,n,r)=>{for(var o=g0(e,n),i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=s(e,n,o)||o);return o&&f0(e,n,o),o},Xn=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(Xn||{});const Oi=class ad extends En{constructor({api:e,tools:n,i18nLabels:r}){super(),this.opened=!1,this.listeners=new Tn,this.popover=null,this.handleMobileLayoutToggle=()=>{this.destroyPopover(),this.initPopover()},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=n,this.i18nLabels=r,this.enableShortcuts(),this.nodes={toolbox:v.make("div",ad.CSS.toolbox)},this.initPopover(),this.nodes.toolbox.setAttribute("data-cy","toolbox"),this.api.events.on(kn,this.handleMobileLayoutToggle)}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}getElement(){return this.nodes.toolbox}hasFocus(){if(this.popover!==null)return"hasFocus"in this.popover?this.popover.hasFocus():void 0}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&this.nodes.toolbox.remove(),this.removeAllShortcuts(),(e=this.popover)==null||e.off(Xe.Closed,this.onPopoverClose),this.listeners.destroy(),this.api.events.off(kn,this.handleMobileLayoutToggle)}toolButtonActivated(e,n){this.insertNewBlock(e,n)}open(){var e;this.isEmpty||((e=this.popover)==null||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;(e=this.popover)==null||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}initPopover(){var e;const n=Yt()?od:Ti;this.popover=new n({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(Xe.Closed,this.onPopoverClose),(e=this.nodes.toolbox)==null||e.append(this.popover.getElement())}destroyPopover(){this.popover!==null&&(this.popover.hide(),this.popover.off(Xe.Closed,this.onPopoverClose),this.popover.destroy(),this.popover=null),this.nodes.toolbox!==null&&(this.nodes.toolbox.innerHTML="")}get toolsToBeDisplayed(){const e=[];return this.tools.forEach(n=>{n.toolbox&&e.push(n)}),e}get toolboxItemsToBeDisplayed(){const e=(n,r,o=!0)=>({icon:n.icon,title:xe.t(_e.toolNames,n.title||hr(r.name)),name:r.name,onActivate:()=>{this.toolButtonActivated(r.name,n.data)},secondaryLabel:r.shortcut&&o?xi(r.shortcut):""});return this.toolsToBeDisplayed.reduce((n,r)=>(Array.isArray(r.toolbox)?r.toolbox.forEach((o,i)=>{n.push(e(o,r,i===0))}):r.toolbox!==void 0&&n.push(e(r.toolbox,r)),n),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&this.enableShortcutForTool(e.name,n)})}enableShortcutForTool(e,n){Kt.add({name:n,on:this.api.ui.nodes.redactor,handler:async r=>{r.preventDefault();const o=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(o);if(i)try{const s=await this.api.blocks.convert(i.id,e);this.api.caret.setToBlock(s,"end");return}catch{}this.insertNewBlock(e)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const n=e.shortcut;n&&Kt.remove(this.api.ui.nodes.redactor,n)})}async insertNewBlock(e,n){const r=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(r);if(!o)return;const i=o.isEmpty?r:r+1;let s;if(n){const c=await this.api.blocks.composeBlockData(e);s=Object.assign(c,n)}const l=this.api.blocks.insert(e,s,void 0,i,void 0,o.isEmpty);l.call(tt.APPEND_CALLBACK),this.api.caret.setToBlock(i),this.emit("toolbox-block-added",{block:l}),this.api.toolbar.close()}};sd([Gt],Oi.prototype,"toolsToBeDisplayed");sd([Gt],Oi.prototype,"toolboxItemsToBeDisplayed");let m0=Oi;const ld="block hovered";async function b0(t,e){const n=navigator.keyboard;if(!n)return e;try{return(await n.getLayoutMap()).get(t)||e}catch(r){return console.error(r),e}}class v0 extends z{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var n;(n=this.toolboxInstance)==null||n.close()},open:()=>{if(this.toolboxInstance===null){W("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){W("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var n;return(n=this.toolboxInstance)==null?void 0:n.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){W("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:r}=this.Editor.UI;let o;const i=20,s=e.firstInput,l=n.getBoundingClientRect(),c=s!==void 0?s.getBoundingClientRect():null,a=c!==null?c.top-l.top:null,u=a!==null?a>i:void 0;if(r)o=n.offsetTop+n.offsetHeight;else if(s===void 0||u){const d=parseInt(window.getComputedStyle(e.pluginsContent).paddingTop);o=n.offsetTop+d}else{const d=tx(s),h=parseInt(window.getComputedStyle(this.nodes.plusButton).height,10);o=n.offsetTop+d-h+8+a}this.nodes.wrapper.style.top=`${Math.floor(o)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e,n;this.Editor.ReadOnly.isEnabled||((e=this.nodes.wrapper)==null||e.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(n=this.toolboxInstance)==null||n.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(e=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}async make(){this.nodes.wrapper=v.make("div",this.CSS.toolbar),["content","actions"].forEach(i=>{this.nodes[i]=v.make("div",this.CSS[i])}),v.append(this.nodes.wrapper,this.nodes.content),v.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=v.make("div",this.CSS.plusButton,{innerHTML:Yx}),v.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{fr(!0),this.plusButtonClicked()},!1);const e=v.make("div");e.appendChild(document.createTextNode(xe.ui(_e.ui.toolbar.toolbox,"Add"))),e.appendChild(v.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),gr(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=v.make("span",this.CSS.settingsToggler,{innerHTML:Gx}),v.append(this.nodes.actions,this.nodes.settingsToggler);const n=v.make("div"),r=v.text(xe.ui(_e.ui.blockTunes.toggler,"Click to tune")),o=await b0("Slash","/");n.appendChild(r),n.appendChild(v.make("div",this.CSS.plusButtonShortcut,{textContent:xi(`CMD + ${o}`)})),gr(this.nodes.settingsToggler,n,{hidingDelay:400}),v.append(this.nodes.actions,this.makeToolbox()),v.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),v.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new m0({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:xe.ui(_e.ui.popover,"Filter"),nothingFound:xe.ui(_e.ui.popover,"Nothing found")}}),this.toolboxInstance.on(Xn.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Xn.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Xn.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:r}=this.Editor,o=n.getBlockById(e.id);o.inputs.length===0&&(o===n.lastBlock?(n.insertAtEnd(),r.setToBlock(n.lastBlock)):r.setToBlock(n.nextBlock))}),this.toolboxInstance.getElement()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var n;e.stopPropagation(),this.settingsTogglerClicked(),(n=this.toolboxInstance)!=null&&n.opened&&this.toolboxInstance.close(),fr(!0)},!0),Yt()||this.eventsDispatcher.on(ld,e=>{var n;this.Editor.BlockSettings.opened||(n=this.toolboxInstance)!=null&&n.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}}var Ct=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(Ct||{}),Zn=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(Zn||{}),cd=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(cd||{}),Rt=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(Rt||{}),vr=(t=>(t.IsInline="isInline",t.Title="title",t.IsReadOnlySupported="isReadOnlySupported",t))(vr||{}),ei=(t=>(t.IsTune="isTune",t))(ei||{});let _i=class{constructor({name:e,constructable:n,config:r,api:o,isDefault:i,isInternal:s=!1,defaultPlaceholder:l}){this.api=o,this.name=e,this.constructable=n,this.config=r,this.isDefault=i,this.isInternal=s,this.defaultPlaceholder=l}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(J(this.constructable.reset))return this.constructable.reset()}prepare(){if(J(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===Ct.Inline}isBlock(){return this.type===Ct.Block}isTune(){return this.type===Ct.Tune}};class y0 extends z{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar"},this.opened=!1,this.popover=null,this.toolbarVerticalMargin=Yt()?20:6,this.tools=new Map,window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}async tryToShow(e=!1){e&&this.close(),this.allowedToShow()&&(await this.open(),this.Editor.Toolbar.close())}close(){var e,n;if(this.opened){for(const[r,o]of this.tools){const i=this.getToolShortcut(r.name);i!==void 0&&Kt.remove(this.Editor.UI.nodes.redactor,i),J(o.clear)&&o.clear()}this.tools=new Map,this.reset(),this.opened=!1,(e=this.popover)==null||e.hide(),(n=this.popover)==null||n.destroy(),this.popover=null}}containsNode(e){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(e)}destroy(){var e;this.removeAllNodes(),(e=this.popover)==null||e.destroy(),this.popover=null}make(){this.nodes.wrapper=v.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.wrapper.setAttribute("data-cy","inline-toolbar"),v.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}async open(){var e;if(this.opened)return;this.opened=!0,this.popover!==null&&this.popover.destroy(),this.createToolsInstances();const n=await this.getPopoverItems();this.popover=new s0({items:n,scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:xe.ui(_e.ui.popover,"Nothing found"),search:xe.ui(_e.ui.popover,"Filter")}}),this.move(this.popover.size.width),(e=this.nodes.wrapper)==null||e.append(this.popover.getElement()),this.popover.show()}move(e){const n=L.rect,r=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),o={x:n.x-r.x,y:n.y+n.height-r.top+this.toolbarVerticalMargin};o.x+e+r.x>this.Editor.UI.contentRect.right&&(o.x=this.Editor.UI.contentRect.right-e-r.x),this.nodes.wrapper.style.left=Math.floor(o.x)+"px",this.nodes.wrapper.style.top=Math.floor(o.y)+"px"}reset(){this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const e=["IMG","INPUT"],n=L.get(),r=L.text;if(!n||!n.anchorNode||n.isCollapsed||r.length<1)return!1;const o=v.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(o===null||n!==null&&e.includes(o.tagName))return!1;const i=this.Editor.BlockManager.getBlock(n.anchorNode);return!i||this.getTools().some(s=>i.tool.inlineTools.has(s.name))===!1?!1:o.closest("[contenteditable]")!==null}getTools(){const e=this.Editor.BlockManager.currentBlock;return e?Array.from(e.tool.inlineTools.values()).filter(n=>!(this.Editor.ReadOnly.isEnabled&&n.isReadOnlySupported!==!0)):[]}createToolsInstances(){this.tools=new Map,this.getTools().forEach(e=>{const n=e.create();this.tools.set(e,n)})}async getPopoverItems(){const e=[];let n=0;for(const[r,o]of this.tools){const i=await o.render(),s=this.getToolShortcut(r.name);if(s!==void 0)try{this.enableShortcuts(r.name,s)}catch{}const l=s!==void 0?xi(s):void 0,c=xe.t(_e.toolNames,r.title||hr(r.name));[i].flat().forEach(a=>{var u,d;const h={name:r.name,onActivate:()=>{this.toolClicked(o)},hint:{title:c,description:l}};if(v.isElement(a)){const g={...h,element:a,type:Z.Html};if(J(o.renderActions)){const f=o.renderActions();g.children={isOpen:(u=o.checkState)==null?void 0:u.call(o,L.get()),isFlippable:!1,items:[{type:Z.Html,element:f}]}}else(d=o.checkState)==null||d.call(o,L.get());e.push(g)}else if(a.type===Z.Html)e.push({...h,...a,type:Z.Html});else if(a.type===Z.Separator)e.push({type:Z.Separator});else{const g={...h,...a,type:Z.Default};"children"in g&&n!==0&&e.push({type:Z.Separator}),e.push(g),"children"in g&&n<this.tools.size-1&&e.push({type:Z.Separator})}}),n++}return e}getToolShortcut(e){const{Tools:n}=this.Editor,r=n.inlineTools.get(e),o=n.internal.inlineTools;return Array.from(o.keys()).includes(e)?this.inlineTools[e][cd.Shortcut]:r==null?void 0:r.shortcut}enableShortcuts(e,n){Kt.add({name:n,handler:r=>{var o;const{currentBlock:i}=this.Editor.BlockManager;i&&i.tool.enabledInlineTools&&(r.preventDefault(),(o=this.popover)==null||o.activateItemByName(e))},on:document})}toolClicked(e){var n;const r=L.range;(n=e.surround)==null||n.call(e,r),this.checkToolsState()}checkToolsState(){var e;(e=this.tools)==null||e.forEach(n=>{var r;(r=n.checkState)==null||r.call(n,L.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,r])=>{e[n]=r.create()}),e}}function ud(){const t=window.getSelection();if(t===null)return[null,0];let e=t.focusNode,n=t.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[n]?(e=e.childNodes[n],n=0):(e=e.childNodes[n-1],n=e.textContent.length)),[e,n])}function dd(t,e,n,r){const o=document.createRange();r==="left"?(o.setStart(t,0),o.setEnd(e,n)):(o.setStart(e,n),o.setEnd(t,t.childNodes.length));const i=o.cloneContents(),s=document.createElement("div");s.appendChild(i);const l=s.textContent||"";return ex(l)}function Qn(t){const e=v.getDeepestNode(t);if(e===null||v.isEmpty(t))return!0;if(v.isNativeInput(e))return e.selectionEnd===0;if(v.isEmpty(t))return!0;const[n,r]=ud();return n===null?!1:dd(t,n,r,"left")}function Jn(t){const e=v.getDeepestNode(t,!0);if(e===null)return!0;if(v.isNativeInput(e))return e.selectionEnd===e.value.length;const[n,r]=ud();return n===null?!1:dd(t,n,r,"right")}var hd={},Bi={},_r={},_t={},Ii={},Li={};Object.defineProperty(Li,"__esModule",{value:!0});Li.allInputsSelector=k0;function k0(){var t=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+t.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.allInputsSelector=void 0;var e=Li;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(Ii);var Bt={},Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.isNativeInput=x0;function x0(t){var e=["INPUT","TEXTAREA"];return t&&t.tagName?e.includes(t.tagName):!1}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNativeInput=void 0;var e=Mi;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(Bt);var pd={},Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.append=w0;function w0(t,e){Array.isArray(e)?e.forEach(function(n){t.appendChild(n)}):t.appendChild(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.append=void 0;var e=Ai;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return e.append}})})(pd);var Pi={},Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.blockElements=S0;function S0(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.blockElements=void 0;var e=Ni;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(Pi);var fd={},ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.calculateBaseline=C0;function C0(t){var e=window.getComputedStyle(t),n=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||n*1.2,o=parseFloat(e.paddingTop),i=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),l=n*.8,c=(r-n)/2,a=s+i+o+c+l;return a}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBaseline=void 0;var e=ji;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})(fd);var gd={},$i={},Ri={},Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.isContentEditable=E0;function E0(t){return t.contentEditable==="true"}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isContentEditable=void 0;var e=Di;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(Ri);Object.defineProperty($i,"__esModule",{value:!0});$i.canSetCaret=_0;var T0=Bt,O0=Ri;function _0(t){var e=!0;if((0,T0.isNativeInput)(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,O0.isContentEditable)(t);return e}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.canSetCaret=void 0;var e=$i;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(gd);var Br={},zi={};function B0(t,e,n){const r=n.value!==void 0?"value":"get",o=n[r],i=`#${e}Cache`;if(n[r]=function(...s){return this[i]===void 0&&(this[i]=o.apply(this,s)),this[i]},r==="get"&&n.set){const s=n.set;n.set=function(l){delete t[i],s.apply(this,l)}}return n}function md(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e!==void 0&&(t[e]=!0),t}function Fi(t){return t!=null&&t!==""&&(typeof t!="object"||Object.keys(t).length>0)}function I0(t){return!Fi(t)}const L0=()=>typeof window<"u"&&window.navigator!==null&&Fi(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function M0(t){const e=md();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi,"+"),e.mac?t=t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function A0(t){return t[0].toUpperCase()+t.slice(1)}function P0(t){const e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=t,document.body.appendChild(e);const n=window.getSelection(),r=document.createRange();if(r.selectNode(e),n===null)throw new Error("Cannot copy text to clipboard");n.removeAllRanges(),n.addRange(r),document.execCommand("copy"),document.body.removeChild(e)}function N0(t,e,n){let r;return(...o)=>{const i=this,s=()=>{r=void 0,n!==!0&&t.apply(i,o)},l=n===!0&&r!==void 0;window.clearTimeout(r),r=window.setTimeout(s,e),l&&t.apply(i,o)}}function gt(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function j0(t){return gt(t)==="boolean"}function bd(t){return gt(t)==="function"||gt(t)==="asyncfunction"}function $0(t){return bd(t)&&/^\s*class\s+/.test(t.toString())}function R0(t){return gt(t)==="number"}function er(t){return gt(t)==="object"}function D0(t){return Promise.resolve(t)===t}function z0(t){return gt(t)==="string"}function F0(t){return gt(t)==="undefined"}function ti(t,...e){if(!e.length)return t;const n=e.shift();if(er(t)&&er(n))for(const r in n)er(n[r])?(t[r]===void 0&&Object.assign(t,{[r]:{}}),ti(t[r],n[r])):Object.assign(t,{[r]:n[r]});return ti(t,...e)}function H0(t,e,n){const r=`«${e}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;t&&console.warn(r)}function U0(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function W0(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}const q0={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},V0={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};let K0=class{constructor(){this.completed=Promise.resolve()}add(t){return new Promise((e,n)=>{this.completed=this.completed.then(t).then(e).catch(n)})}};function G0(t,e,n=void 0){let r,o,i,s=null,l=0;n||(n={});const c=function(){l=n.leading===!1?0:Date.now(),s=null,i=t.apply(r,o),s===null&&(r=o=null)};return function(){const a=Date.now();!l&&n.leading===!1&&(l=a);const u=e-(a-l);return r=this,o=arguments,u<=0||u>e?(s&&(clearTimeout(s),s=null),l=a,i=t.apply(r,o),s===null&&(r=o=null)):!s&&n.trailing!==!1&&(s=setTimeout(c,u)),i}}const Y0=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:K0,beautifyShortcut:M0,cacheable:B0,capitalize:A0,copyTextToClipboard:P0,debounce:N0,deepMerge:ti,deprecationAssert:H0,getUserOS:md,getValidUrl:U0,isBoolean:j0,isClass:$0,isEmpty:I0,isFunction:bd,isIosDevice:L0,isNumber:R0,isObject:er,isPrintableKey:W0,isPromise:D0,isString:z0,isUndefined:F0,keyCodes:q0,mouseButtons:V0,notEmpty:Fi,throttle:G0,typeOf:gt},Symbol.toStringTag,{value:"Module"})),Hi=zk(Y0);Object.defineProperty(zi,"__esModule",{value:!0});zi.containsOnlyInlineElements=Q0;var X0=Hi,Z0=Pi;function Q0(t){var e;(0,X0.isString)(t)?(e=document.createElement("div"),e.innerHTML=t):e=t;var n=function(r){return!(0,Z0.blockElements)().includes(r.tagName.toLowerCase())&&Array.from(r.children).every(n)};return Array.from(e.children).every(n)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.containsOnlyInlineElements=void 0;var e=zi;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(Br);var vd={},Ui={},Ir={},Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.make=J0;function J0(t,e,n){var r;e===void 0&&(e=null),n===void 0&&(n={});var o=document.createElement(t);if(Array.isArray(e)){var i=e.filter(function(l){return l!==void 0});(r=o.classList).add.apply(r,i)}else e!==null&&o.classList.add(e);for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(o[s]=n[s]);return o}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.make=void 0;var e=Wi;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return e.make}})})(Ir);Object.defineProperty(Ui,"__esModule",{value:!0});Ui.fragmentToString=tw;var ew=Ir;function tw(t){var e=(0,ew.make)("div");return e.appendChild(t),e.innerHTML}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fragmentToString=void 0;var e=Ui;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(vd);var yd={},qi={};Object.defineProperty(qi,"__esModule",{value:!0});qi.getContentLength=rw;var nw=Bt;function rw(t){var e,n;return(0,nw.isNativeInput)(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:(n=(e=t.textContent)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContentLength=void 0;var e=qi;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(yd);var Vi={},Ki={},Il=yn&&yn.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.getDeepestBlockElements=kd;var ow=Br;function kd(t){return(0,ow.containsOnlyInlineElements)(t)?[t]:Array.from(t.children).reduce(function(e,n){return Il(Il([],e,!0),kd(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestBlockElements=void 0;var e=Ki;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})(Vi);var xd={},Gi={},Lr={},Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.isLineBreakTag=iw;function iw(t){return["BR","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLineBreakTag=void 0;var e=Yi;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(Lr);var Mr={},Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.isSingleTag=sw;function sw(t){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSingleTag=void 0;var e=Xi;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(Mr);Object.defineProperty(Gi,"__esModule",{value:!0});Gi.getDeepestNode=wd;var aw=Bt,lw=Lr,cw=Mr;function wd(t,e){e===void 0&&(e=!1);var n=e?"lastChild":"firstChild",r=e?"previousSibling":"nextSibling";if(t.nodeType===Node.ELEMENT_NODE&&t[n]){var o=t[n];if((0,cw.isSingleTag)(o)&&!(0,aw.isNativeInput)(o)&&!(0,lw.isLineBreakTag)(o))if(o[r])o=o[r];else if(o.parentNode!==null&&o.parentNode[r])o=o.parentNode[r];else return o.parentNode;return wd(o,e)}return t}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestNode=void 0;var e=Gi;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(xd);var Sd={},Zi={},Dn=yn&&yn.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.findAllInputs=fw;var uw=Br,dw=Vi,hw=Ii,pw=Bt;function fw(t){return Array.from(t.querySelectorAll((0,hw.allInputsSelector)())).reduce(function(e,n){return(0,pw.isNativeInput)(n)||(0,uw.containsOnlyInlineElements)(n)?Dn(Dn([],e,!0),[n],!1):Dn(Dn([],e,!0),(0,dw.getDeepestBlockElements)(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAllInputs=void 0;var e=Zi;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(Sd);var Cd={},Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.isCollapsedWhitespaces=gw;function gw(t){return!/[^\t\n\r ]/.test(t)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCollapsedWhitespaces=void 0;var e=Qi;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(Cd);var Ji={},es={};Object.defineProperty(es,"__esModule",{value:!0});es.isElement=bw;var mw=Hi;function bw(t){return(0,mw.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.ELEMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isElement=void 0;var e=es;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(Ji);var Ed={},ts={},ns={},rs={};Object.defineProperty(rs,"__esModule",{value:!0});rs.isLeaf=vw;function vw(t){return t===null?!1:t.childNodes.length===0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLeaf=void 0;var e=rs;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(ns);var os={},is={};Object.defineProperty(is,"__esModule",{value:!0});is.isNodeEmpty=Sw;var yw=Lr,kw=Ji,xw=Bt,ww=Mr;function Sw(t,e){var n="";return(0,ww.isSingleTag)(t)&&!(0,yw.isLineBreakTag)(t)?!1:((0,kw.isElement)(t)&&(0,xw.isNativeInput)(t)?n=t.value:t.textContent!==null&&(n=t.textContent.replace("​","")),e!==void 0&&(n=n.replace(new RegExp(e,"g"),"")),n.trim().length===0)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeEmpty=void 0;var e=is;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(os);Object.defineProperty(ts,"__esModule",{value:!0});ts.isEmpty=Tw;var Cw=ns,Ew=os;function Tw(t,e){t.normalize();for(var n=[t];n.length>0;){var r=n.shift();if(r){if(t=r,(0,Cw.isLeaf)(t)&&!(0,Ew.isNodeEmpty)(t,e))return!1;n.push.apply(n,Array.from(t.childNodes))}}return!0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var e=ts;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(Ed);var Td={},ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.isFragment=_w;var Ow=Hi;function _w(t){return(0,Ow.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFragment=void 0;var e=ss;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(Td);var Od={},as={};Object.defineProperty(as,"__esModule",{value:!0});as.isHTMLString=Iw;var Bw=Ir;function Iw(t){var e=(0,Bw.make)("div");return e.innerHTML=t,e.childElementCount>0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isHTMLString=void 0;var e=as;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(Od);var _d={},ls={};Object.defineProperty(ls,"__esModule",{value:!0});ls.offset=Lw;function Lw(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,o=e.top+r,i=e.left+n;return{top:o,left:i,bottom:o+e.height,right:i+e.width}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.offset=void 0;var e=ls;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return e.offset}})})(_d);var Bd={},cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.prepend=Mw;function Mw(t,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(n){return t.prepend(n)})):t.prepend(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=void 0;var e=cs;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return e.prepend}})})(Bd);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.offset=t.make=t.isLineBreakTag=t.isSingleTag=t.isNodeEmpty=t.isLeaf=t.isHTMLString=t.isFragment=t.isEmpty=t.isElement=t.isContentEditable=t.isCollapsedWhitespaces=t.findAllInputs=t.isNativeInput=t.allInputsSelector=t.getDeepestNode=t.getDeepestBlockElements=t.getContentLength=t.fragmentToString=t.containsOnlyInlineElements=t.canSetCaret=t.calculateBaseline=t.blockElements=t.append=void 0;var e=Ii;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var n=Bt;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return n.isNativeInput}});var r=pd;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return r.append}});var o=Pi;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return o.blockElements}});var i=fd;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return i.calculateBaseline}});var s=gd;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return s.canSetCaret}});var l=Br;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return l.containsOnlyInlineElements}});var c=vd;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return c.fragmentToString}});var a=yd;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return a.getContentLength}});var u=Vi;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return u.getDeepestBlockElements}});var d=xd;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return d.getDeepestNode}});var h=Sd;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return h.findAllInputs}});var g=Cd;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return g.isCollapsedWhitespaces}});var f=Ri;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return f.isContentEditable}});var k=Ji;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return k.isElement}});var O=Ed;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return O.isEmpty}});var w=Td;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return w.isFragment}});var E=Od;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return E.isHTMLString}});var U=ns;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return U.isLeaf}});var T=os;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return T.isNodeEmpty}});var C=Lr;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return C.isLineBreakTag}});var N=Mr;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return N.isSingleTag}});var j=Ir;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return j.make}});var p=_d;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return p.offset}});var m=Bd;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return m.prepend}})})(_t);var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.getContenteditableSlice=Pw;var Aw=_t;function Pw(t,e,n,r,o){var i;o===void 0&&(o=!1);var s=document.createRange();if(r==="left"?(s.setStart(t,0),s.setEnd(e,n)):(s.setStart(e,n),s.setEnd(t,t.childNodes.length)),o===!0){var l=s.extractContents();return(0,Aw.fragmentToString)(l)}var c=s.cloneContents(),a=document.createElement("div");a.appendChild(c);var u=(i=a.textContent)!==null&&i!==void 0?i:"";return u}Object.defineProperty(_r,"__esModule",{value:!0});_r.checkContenteditableSliceForEmptiness=$w;var Nw=_t,jw=Ar;function $w(t,e,n,r){var o=(0,jw.getContenteditableSlice)(t,e,n,r);return(0,Nw.isCollapsedWhitespaces)(o)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkContenteditableSliceForEmptiness=void 0;var e=_r;Object.defineProperty(t,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}})})(Bi);var Id={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContenteditableSlice=void 0;var e=Ar;Object.defineProperty(t,"getContenteditableSlice",{enumerable:!0,get:function(){return e.getContenteditableSlice}})})(Id);var Ld={},us={};Object.defineProperty(us,"__esModule",{value:!0});us.focus=Dw;var Rw=_t;function Dw(t,e){var n,r;if(e===void 0&&(e=!0),(0,Rw.isNativeInput)(t)){t.focus();var o=e?0:t.value.length;t.setSelectionRange(o,o)}else{var i=document.createRange(),s=window.getSelection();if(!s)return;var l=function(h){var g=document.createTextNode("");h.appendChild(g),i.setStart(g,0),i.setEnd(g,0)},c=function(h){return h!=null},a=t.childNodes,u=e?a[0]:a[a.length-1];if(c(u)){for(;c(u)&&u.nodeType!==Node.TEXT_NODE;)u=e?u.firstChild:u.lastChild;if(c(u)&&u.nodeType===Node.TEXT_NODE){var d=(r=(n=u.textContent)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0,o=e?0:d;i.setStart(u,o),i.setEnd(u,o)}else l(t)}else l(t);s.removeAllRanges(),s.addRange(i)}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.focus=void 0;var e=us;Object.defineProperty(t,"focus",{enumerable:!0,get:function(){return e.focus}})})(Ld);var ds={},Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.getCaretNodeAndOffset=zw;function zw(){var t=window.getSelection();if(t===null)return[null,0];var e=t.focusNode,n=t.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[n]!==void 0?(e=e.childNodes[n],n=0):(e=e.childNodes[n-1],e.textContent!==null&&(n=e.textContent.length))),[e,n])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getCaretNodeAndOffset=void 0;var e=Pr;Object.defineProperty(t,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return e.getCaretNodeAndOffset}})})(ds);var Md={},Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.getRange=Fw;function Fw(){var t=window.getSelection();return t&&t.rangeCount?t.getRangeAt(0):null}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getRange=void 0;var e=Nr;Object.defineProperty(t,"getRange",{enumerable:!0,get:function(){return e.getRange}})})(Md);var Ad={},hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.isCaretAtEndOfInput=Ww;var Ll=_t,Hw=ds,Uw=Bi;function Ww(t){var e=(0,Ll.getDeepestNode)(t,!0);if(e===null)return!0;if((0,Ll.isNativeInput)(e))return e.selectionEnd===e.value.length;var n=(0,Hw.getCaretNodeAndOffset)(),r=n[0],o=n[1];return r===null?!1:(0,Uw.checkContenteditableSliceForEmptiness)(t,r,o,"right")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCaretAtEndOfInput=void 0;var e=hs;Object.defineProperty(t,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return e.isCaretAtEndOfInput}})})(Ad);var Pd={},ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.isCaretAtStartOfInput=Kw;var zn=_t,qw=Pr,Vw=_r;function Kw(t){var e=(0,zn.getDeepestNode)(t);if(e===null||(0,zn.isEmpty)(t))return!0;if((0,zn.isNativeInput)(e))return e.selectionEnd===0;if((0,zn.isEmpty)(t))return!0;var n=(0,qw.getCaretNodeAndOffset)(),r=n[0],o=n[1];return r===null?!1:(0,Vw.checkContenteditableSliceForEmptiness)(t,r,o,"left")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCaretAtStartOfInput=void 0;var e=ps;Object.defineProperty(t,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return e.isCaretAtStartOfInput}})})(Pd);var Nd={},fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.save=Xw;var Gw=_t,Yw=Nr;function Xw(){var t=(0,Yw.getRange)(),e=(0,Gw.make)("span");if(e.id="cursor",e.hidden=!0,!!t)return t.insertNode(e),function(){var n=window.getSelection();n&&(t.setStartAfter(e),t.setEndAfter(e),n.removeAllRanges(),n.addRange(t),setTimeout(function(){e.remove()},150))}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.save=void 0;var e=fs;Object.defineProperty(t,"save",{enumerable:!0,get:function(){return e.save}})})(Nd);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.save=t.isCaretAtStartOfInput=t.isCaretAtEndOfInput=t.getRange=t.getCaretNodeAndOffset=t.focus=t.getContenteditableSlice=t.checkContenteditableSliceForEmptiness=void 0;var e=Bi;Object.defineProperty(t,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}});var n=Id;Object.defineProperty(t,"getContenteditableSlice",{enumerable:!0,get:function(){return n.getContenteditableSlice}});var r=Ld;Object.defineProperty(t,"focus",{enumerable:!0,get:function(){return r.focus}});var o=ds;Object.defineProperty(t,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return o.getCaretNodeAndOffset}});var i=Md;Object.defineProperty(t,"getRange",{enumerable:!0,get:function(){return i.getRange}});var s=Ad;Object.defineProperty(t,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return s.isCaretAtEndOfInput}});var l=Pd;Object.defineProperty(t,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return l.isCaretAtStartOfInput}});var c=Nd;Object.defineProperty(t,"save",{enumerable:!0,get:function(){return c.save}})})(hd);class Zw extends z{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case P.BACKSPACE:this.backspace(e);break;case P.DELETE:this.delete(e);break;case P.ENTER:this.enter(e);break;case P.DOWN:case P.RIGHT:this.arrowRightAndDown(e);break;case P.UP:case P.LEFT:this.arrowLeftAndUp(e);break;case P.TAB:this.tabPressed(e);break}e.key==="/"&&!e.ctrlKey&&!e.metaKey&&this.slashPressed(e),e.code==="Slash"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&Au(e.keyCode)&&(this.Editor.Toolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||this.Editor.BlockSelection.clearSelection(e))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:r,Caret:o}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const i=r.removeSelectedBlocks(),s=r.insertDefaultBlockAtIndex(i,!0);o.setToBlock(s,o.positions.START),n.clearSelection(e)})}tabPressed(e){const{InlineToolbar:n,Caret:r}=this.Editor;n.opened||(e.shiftKey?r.navigatePrevious(!0):r.navigateNext(!0))&&e.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(e){this.Editor.BlockManager.currentBlock.isEmpty&&(e.preventDefault(),this.Editor.Caret.insertContentAtCaretPosition("/"),this.activateToolbox())}enter(e){const{BlockManager:n,UI:r}=this.Editor,o=n.currentBlock;if(o===void 0||o.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||e.shiftKey&&!Xo)return;let i=o;o.currentInput!==void 0&&Qn(o.currentInput)&&!o.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):o.currentInput&&Jn(o.currentInput)?i=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):i=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(i),this.Editor.Toolbar.moveAndOpen(i),e.preventDefault()}backspace(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:o,previousBlock:i}=n;if(!(o===void 0||!L.isCollapsed||!o.currentInput||!Qn(o.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),o.currentInput!==o.firstInput){r.navigatePrevious();return}if(i!==null){if(i.isEmpty){n.removeBlock(i);return}if(o.isEmpty){n.removeBlock(o);const s=n.currentBlock;r.setToBlock(s,r.positions.END);return}El(i,o)?this.mergeBlocks(i,o):r.setToBlock(i,r.positions.END)}}}delete(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:o,nextBlock:i}=n;if(!(!L.isCollapsed||!Jn(o.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),o.currentInput!==o.lastInput){r.navigateNext();return}if(i!==null){if(i.isEmpty){n.removeBlock(i);return}if(o.isEmpty){n.removeBlock(o),r.setToBlock(i,r.positions.START);return}El(o,i)?this.mergeBlocks(o,i):r.setToBlock(i,r.positions.START)}}}mergeBlocks(e,n){const{BlockManager:r,Toolbar:o}=this.Editor;e.lastInput!==void 0&&(hd.focus(e.lastInput,!1),r.mergeBlocks(e,n).then(()=>{o.close()}))}arrowRightAndDown(e){const n=mr.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===P.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.Toolbar.close();const{currentBlock:r}=this.Editor.BlockManager,o=((r==null?void 0:r.currentInput)!==void 0?Jn(r.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===P.DOWN&&o){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(e.keyCode===P.DOWN||e.keyCode===P.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){e.preventDefault();return}dr(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(mr.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===P.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const{currentBlock:n}=this.Editor.BlockManager,r=((n==null?void 0:n.currentInput)!==void 0?Qn(n.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===P.UP&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(e.keyCode===P.UP||e.keyCode===P.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){e.preventDefault();return}dr(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===P.ENTER&&this.Editor.Toolbar.toolbox.opened,r=e.keyCode===P.ENTER&&this.Editor.BlockSettings.opened,o=e.keyCode===P.ENTER&&this.Editor.InlineToolbar.opened,i=e.keyCode===P.TAB;return!(e.shiftKey||i||n||r||o)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class Eo{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return Pu(this.workingArea.children)}static set(e,n,r){return isNaN(Number(n))?(Reflect.set(e,n,r),!0):(e.insert(+n,r),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const r=this.blocks[n];v.swap(this.blocks[e].holder,r.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=r}move(e,n){const r=this.blocks.splice(n,1)[0],o=e-1,i=Math.max(0,o),s=this.blocks[i];e>0?this.insertToDOM(r,"afterend",s):this.insertToDOM(r,"beforebegin",s),this.blocks.splice(e,0,r);const l=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});r.call(tt.MOVED,l)}insert(e,n,r=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),r&&(this.blocks[e].holder.remove(),this.blocks[e].call(tt.REMOVED));const o=r?1:0;if(this.blocks.splice(e,o,n),e>0){const i=this.blocks[e-1];this.insertToDOM(n,"afterend",i)}else{const i=this.blocks[e+1];i?this.insertToDOM(n,"beforebegin",i):this.insertToDOM(n)}}replace(e,n){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(n.holder),this.blocks[e]=n}insertMany(e,n){const r=new DocumentFragment;for(const o of e)r.appendChild(o.holder);if(this.length>0){if(n>0){const o=Math.min(n-1,this.length-1);this.blocks[o].holder.after(r)}else n===0&&this.workingArea.prepend(r);this.blocks.splice(n,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(r);e.forEach(o=>o.call(tt.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(tt.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(tt.REMOVED)),this.blocks.length=0}insertAfter(e,n){const r=this.blocks.indexOf(e);this.insert(r+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,r){n?r.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(tt.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}}const Ml="block-removed",Al="block-added",Qw="block-moved",Pl="block-changed";class Jw{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,r)=>{this.completed=this.completed.then(e).then(n).catch(r)})}}class e1 extends z{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new Eo(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:Eo.set,get:Eo.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:r=void 0,tunes:o={}}){const i=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(e),l=new nt({id:r,data:n,tool:s,api:this.Editor.API,readOnly:i,tunesData:o},this.eventsDispatcher);return i||window.requestIdleCallback(()=>{this.bindBlockEvents(l)},{timeout:2e3}),l}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:r={},index:o,needToFocus:i=!0,replace:s=!1,tunes:l={}}={}){let c=o;c===void 0&&(c=this.currentBlockIndex+(s?0:1));const a=this.composeBlock({id:e,tool:n,data:r,tunes:l});return s&&this.blockDidMutated(Ml,this.getBlockByIndex(c),{index:c}),this._blocks.insert(c,a,s),this.blockDidMutated(Al,a,{index:c}),i?this.currentBlockIndex=c:c<=this.currentBlockIndex&&this.currentBlockIndex++,a}insertMany(e,n=0){this._blocks.insertMany(e,n)}async update(e,n,r){if(!n&&!r)return e;const o=await e.data,i=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},o,n??{}),tunes:r??e.tunes}),s=this.getBlockIndex(e);return this._blocks.replace(s,i),this.blockDidMutated(Pl,i,{index:s}),i}replace(e,n,r){const o=this.getBlockIndex(e);return this.insert({tool:n,data:r,index:o,replace:!0})}paste(e,n,r=!1){const o=this.insert({tool:e,replace:r});try{window.requestIdleCallback(()=>{o.call(tt.ON_PASTE,n)})}catch(i){W(`${e}: onPaste callback call is failed`,"error",i)}return o}insertDefaultBlockAtIndex(e,n=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=r,this.blockDidMutated(Al,r,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){let r;if(e.name===n.name&&e.mergeable){const o=await n.data;if(Ae(o)){console.error("Could not merge Block. Failed to extract original Block data.");return}const[i]=wi([o],e.tool.sanitizeConfig);r=i}else if(e.mergeable&&pr(n,"export")&&pr(e,"import")){const o=await n.exportDataAsString(),i=Ye(o,e.tool.sanitizeConfig);r=Tl(i,e.tool.conversionConfig)}r!==void 0&&(await e.mergeWith(r),this.removeBlock(n),this.currentBlockIndex=this._blocks.indexOf(e))}removeBlock(e,n=!0){return new Promise(r=>{const o=this._blocks.indexOf(e);if(!this.validateIndex(o))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(o),this.blockDidMutated(Ml,e,{index:o}),this.currentBlockIndex>=o&&this.currentBlockIndex--,this.blocks.length?o===0&&(this.currentBlockIndex=0):(this.unsetCurrentBlock(),n&&this.insert()),r()})}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(this.blocks[n]),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.unsetCurrentBlock(),this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=v.make("div");n.appendChild(e);const r={text:v.isEmpty(n)?"":n.innerHTML};return this.insert({data:r})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){v.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,r=e.closest(`.${nt.CSS.wrapper}`),o=n.indexOf(r);if(o>=0)return this._blocks[o]}setCurrentBlockByChildNode(e){v.isElement(e)||(e=e.parentNode);const n=e.closest(`.${nt.CSS.wrapper}`);if(!n)return;const r=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){if(!e||!(e instanceof Node))return;v.isElement(e)||(e=e.parentNode);const n=e.closest(`.${nt.CSS.wrapper}`);return this.blocks.find(r=>r.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){W("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){W("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(Qw,this.currentBlock,{fromIndex:n,toIndex:e})}async convert(e,n,r){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const o=this.Editor.Tools.blockTools.get(n);if(!o)throw new Error(`Could not convert Block. Tool «${n}» not found.`);const i=await e.exportDataAsString(),s=Ye(i,o.sanitizeConfig);let l=Tl(s,o.conversionConfig,o.settings);return r&&(l=Object.assign(l,r)),this.replace(e,o.name,l)}unsetCurrentBlock(){this.currentBlockIndex=-1}async clear(e=!1){const n=new Jw;this.blocks.forEach(r=>{n.add(async()=>{await this.removeBlock(r,!1)})}),await n.completed,this.unsetCurrentBlock(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",r=>{n.keydown(r)}),this.readOnlyMutableListeners.on(e.holder,"keyup",r=>{n.keyup(r)}),this.readOnlyMutableListeners.on(e.holder,"dragover",r=>{n.dragOver(r)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",r=>{n.dragLeave(r)}),e.on("didMutated",r=>this.blockDidMutated(Pl,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,r){const o=new CustomEvent(e,{detail:{target:new Je(n),...r}});return this.eventsDispatcher.emit(Fu,{event:o}),n}}class t1 extends z{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(r=>{r.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new L,Kt.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:r}=this.Editor;if(r.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){L.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),r.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:r,Caret:o,RectangleSelection:i}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const s=e&&e instanceof KeyboardEvent,l=s&&Au(e.keyCode);if(this.anyBlockSelected&&s&&l&&!L.isSelectionExists){const c=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(c,!0),o.setToBlock(r.currentBlock),dr(()=>{const a=e.key;o.insertContentAtCaretPosition(a.length>1?"":a)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||i.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=v.make("div");this.selectedBlocks.forEach(i=>{const s=Ye(i.holder.innerHTML,this.sanitizerConfig),l=v.make("p");l.innerHTML=s,n.appendChild(l)});const r=Array.from(n.childNodes).map(i=>i.textContent).join(`

`),o=n.innerHTML;return e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",o),Promise.all(this.selectedBlocks.map(i=>i.save())).then(i=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(i))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor,r=n.getBlockByIndex(e);r!==void 0&&this.selectBlock(r)}selectBlock(e){this.selection.save(),L.get().removeAllRanges(),e.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(e){e.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Kt.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),v.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target),r=n.inputs;if(r.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(r.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlock(n),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),L.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}let n1=class ni extends z{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}setToBlock(e,n=this.positions.DEFAULT,r=0){var o;const{BlockManager:i,BlockSelection:s}=this.Editor;if(s.clearSelection(),!e.focusable){(o=window.getSelection())==null||o.removeAllRanges(),s.selectBlock(e),i.currentBlock=e;return}let l;switch(n){case this.positions.START:l=e.firstInput;break;case this.positions.END:l=e.lastInput;break;default:l=e.currentInput}if(!l)return;const c=v.getDeepestNode(l,n===this.positions.END),a=v.getContentLength(c);switch(!0){case n===this.positions.START:r=0;break;case n===this.positions.END:case r>a:r=a;break}this.set(c,r),i.setCurrentBlockByChildNode(e.holder),i.currentBlock.currentInput=l}setToInput(e,n=this.positions.DEFAULT,r=0){const{currentBlock:o}=this.Editor.BlockManager,i=v.getDeepestNode(e);switch(n){case this.positions.START:this.set(i,0);break;case this.positions.END:this.set(i,v.getContentLength(i));break;default:r&&this.set(i,r)}o.currentInput=e}set(e,n=0){const{top:r,bottom:o}=L.setCursor(e,n),{innerHeight:i}=window;r<0?window.scrollBy(0,r-30):o>i&&window.scrollBy(0,o-i+30)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=L.get();if(e.rangeCount){const n=e.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),r)if(v.isNativeInput(r)){const o=r,i=document.createDocumentFragment(),s=o.value.substring(0,o.selectionStart),l=o.value.substring(o.selectionStart);return i.textContent=l,o.value=s,i}else{const o=n.cloneRange();return o.selectNodeContents(r),o.setStart(n.endContainer,n.endOffset),o.extractContents()}}}navigateNext(e=!1){const{BlockManager:n}=this.Editor,{currentBlock:r,nextBlock:o}=n;if(r===void 0)return!1;const{nextInput:i,currentInput:s}=r,l=s!==void 0?Jn(s):void 0;let c=o;const a=e||l||!r.focusable;if(i&&a)return this.setToInput(i,this.positions.START),!0;if(c===null){if(r.tool.isDefault||!a)return!1;c=n.insertAtEnd()}return a?(this.setToBlock(c,this.positions.START),!0):!1}navigatePrevious(e=!1){const{currentBlock:n,previousBlock:r}=this.Editor.BlockManager;if(!n)return!1;const{previousInput:o,currentInput:i}=n,s=i!==void 0?Qn(i):void 0,l=e||s||!n.focusable;return o&&l?(this.setToInput(o,this.positions.END),!0):r!==null&&l?(this.setToBlock(r,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(ni.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${ni.CSS.shadowCaret}`);if(!n)return;new L().expandToTag(n);const r=document.createRange();r.selectNode(n),r.extractContents()}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),r=document.createElement("div"),o=L.get(),i=L.range;r.innerHTML=e,Array.from(r.childNodes).forEach(a=>n.appendChild(a)),n.childNodes.length===0&&n.appendChild(new Text);const s=n.lastChild;i.deleteContents(),i.insertNode(n);const l=document.createRange(),c=s.nodeType===Node.TEXT_NODE?s:s.firstChild;c!==null&&c.textContent!==null&&l.setStart(c,c.textContent.length),o.removeAllRanges(),o.addRange(l)}};class r1 extends z{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:r}=this.Editor;if(e.relatedTarget===null&&e.target===null)return;const o=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,i=n.getBlockByChildNode(e.target);if(!(!o||!i)&&i!==o){if(o===this.firstSelectedBlock){L.get().removeAllRanges(),o.selected=!0,i.selected=!0,r.clearCache();return}if(i===this.firstSelectedBlock){o.selected=!1,i.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(o,i),this.lastSelectedBlock=i}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==Hk.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock&&this.firstSelectedBlock!==this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),L.get().removeAllRanges());const o=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),i=n.blocks[o];i&&(this.lastSelectedBlock.selected!==i.selected?(i.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=i,this.Editor.InlineToolbar.close(),i.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor,i=n.blocks.indexOf(this.firstSelectedBlock),s=n.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&i>-1&&s>-1&&e&&e instanceof KeyboardEvent)switch(e.keyCode){case P.DOWN:case P.RIGHT:o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END);break;case P.UP:case P.LEFT:o.setToBlock(n.blocks[Math.min(i,s)],o.positions.START);break;default:o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;L.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:r,BlockSelection:o}=this.Editor,i=r.blocks.indexOf(e),s=r.blocks.indexOf(n),l=e.selected!==n.selected;for(let c=Math.min(i,s);c<=Math.max(i,s);c++){const a=r.blocks[c];a!==this.firstSelectedBlock&&a!==(l?e:n)&&(r.blocks[c].selected=!r.blocks[c].selected,o.clearCache())}}}class o1 extends z{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Paste:r,Caret:o}=this.Editor;e.preventDefault(),n.blocks.forEach(s=>{s.dropTarget=!1}),L.isAtEditor&&!L.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const i=n.setCurrentBlockByChildNode(e.target);if(i)this.Editor.Caret.setToBlock(i,o.positions.END);else{const s=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(s,o.positions.END)}await r.processDataTransfer(e.dataTransfer,!0)}processDragStart(){L.isAtEditor&&!L.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}const i1=180,s1=400;class a1 extends z{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=s1,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(Fu,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(Hu,()=>{this.disable()}),this.eventsDispatcher.on(Uu,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!J(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(Zo,{mutations:e})}}const jd=class $d extends z{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=e=>{try{const n=e.create({},{},!1);if(e.pasteConfig===!1){this.exceptionList.push(e.name);return}if(!J(n.onPaste))return;this.getTagsConfig(e),this.getFilesConfig(e),this.getPatternsConfig(e)}catch(n){W(`Paste handling for «${e.name}» Tool hasn't been set up because of the error`,"warn",n)}},this.handlePasteEvent=async e=>{const{BlockManager:n,Toolbar:r}=this.Editor,o=n.setCurrentBlockByChildNode(e.target);!o||this.isNativeBehaviour(e.target)&&!e.clipboardData.types.includes("Files")||o&&this.exceptionList.includes(o.name)||(e.preventDefault(),this.processDataTransfer(e.clipboardData),r.close())}}async prepare(){this.processTools()}toggleReadOnly(e){e?this.unsetCallback():this.setCallback()}async processDataTransfer(e,n=!1){const{Tools:r}=this.Editor,o=e.types;if((o.includes?o.includes("Files"):o.contains("Files"))&&!Ae(this.toolsFiles)){await this.processFiles(e.files);return}const i=e.getData(this.MIME_TYPE),s=e.getData("text/plain");let l=e.getData("text/html");if(i)try{this.insertEditorJSData(JSON.parse(i));return}catch{}n&&s.trim()&&l.trim()&&(l="<p>"+(l.trim()?l:s)+"</p>");const c=Object.keys(this.toolsTags).reduce((d,h)=>(d[h.toLowerCase()]=this.toolsTags[h].sanitizationConfig??{},d),{}),a=Object.assign({},c,r.getAllInlineToolsSanitizeConfig(),{br:{}}),u=Ye(l,a);!u.trim()||u.trim()===s||!v.isHTMLString(u)?await this.processText(s):await this.processText(u,!0)}async processText(e,n=!1){const{Caret:r,BlockManager:o}=this.Editor,i=n?this.processHTML(e):this.processPlain(e);if(!i.length)return;if(i.length===1){i[0].isBlock?this.processSingleBlock(i.pop()):this.processInlinePaste(i.pop());return}const s=o.currentBlock&&o.currentBlock.tool.isDefault&&o.currentBlock.isEmpty;i.map(async(l,c)=>this.insertBlock(l,c===0&&s)),o.currentBlock&&r.setToBlock(o.currentBlock,r.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const e=this.Editor.Tools.blockTools;Array.from(e.values()).forEach(this.processTool)}collectTagNames(e){return ot(e)?[e]:ue(e)?Object.keys(e):[]}getTagsConfig(e){if(e.pasteConfig===!1)return;const n=e.pasteConfig.tags||[],r=[];n.forEach(o=>{const i=this.collectTagNames(o);r.push(...i),i.forEach(s=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,s)){W(`Paste handler for «${e.name}» Tool on «${s}» tag is skipped because it is already used by «${this.toolsTags[s].tool.name}» Tool.`,"warn");return}const l=ue(o)?o[s]:null;this.toolsTags[s.toUpperCase()]={tool:e,sanitizationConfig:l}})}),this.tagsByTool[e.name]=r.map(o=>o.toUpperCase())}getFilesConfig(e){if(e.pasteConfig===!1)return;const{files:n={}}=e.pasteConfig;let{extensions:r,mimeTypes:o}=n;!r&&!o||(r&&!Array.isArray(r)&&(W(`«extensions» property of the onDrop config for «${e.name}» Tool should be an array`),r=[]),o&&!Array.isArray(o)&&(W(`«mimeTypes» property of the onDrop config for «${e.name}» Tool should be an array`),o=[]),o&&(o=o.filter(i=>Kk(i)?!0:(W(`MIME type value «${i}» for the «${e.name}» Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[e.name]={extensions:r||[],mimeTypes:o||[]})}getPatternsConfig(e){e.pasteConfig===!1||!e.pasteConfig.patterns||Ae(e.pasteConfig.patterns)||Object.entries(e.pasteConfig.patterns).forEach(([n,r])=>{r instanceof RegExp||W(`Pattern ${r} for «${e.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:n,pattern:r,tool:e})})}isNativeBehaviour(e){return v.isNativeInput(e)}async processFiles(e){const{BlockManager:n}=this.Editor;let r;r=await Promise.all(Array.from(e).map(i=>this.processFile(i))),r=r.filter(i=>!!i);const o=n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty;r.forEach((i,s)=>{n.paste(i.type,i.event,s===0&&o)})}async processFile(e){const n=Vk(e),r=Object.entries(this.toolsFiles).find(([i,{mimeTypes:s,extensions:l}])=>{const[c,a]=e.type.split("/"),u=l.find(h=>h.toLowerCase()===n.toLowerCase()),d=s.find(h=>{const[g,f]=h.split("/");return g===c&&(f===a||f==="*")});return!!u||!!d});if(!r)return;const[o]=r;return{event:this.composePasteEvent("file",{file:e}),type:o}}processHTML(e){const{Tools:n}=this.Editor,r=v.make("DIV");return r.innerHTML=e,this.getNodes(r).map(o=>{let i,s=n.defaultTool,l=!1;switch(o.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:i=v.make("div"),i.appendChild(o);break;case Node.ELEMENT_NODE:i=o,l=!0,this.toolsTags[i.tagName]&&(s=this.toolsTags[i.tagName].tool);break}const{tags:c}=s.pasteConfig||{tags:[]},a=c.reduce((h,g)=>(this.collectTagNames(g).forEach(f=>{const k=ue(g)?g[f]:null;h[f.toLowerCase()]=k||{}}),h),{}),u=Object.assign({},a,s.baseSanitizeConfig);if(i.tagName.toLowerCase()==="table"){const h=Ye(i.outerHTML,u);i=v.make("div",void 0,{innerHTML:h}).firstChild}else i.innerHTML=Ye(i.innerHTML,u);const d=this.composePasteEvent("tag",{data:i});return{content:i,isBlock:l,tool:s.name,event:d}}).filter(o=>{const i=v.isEmpty(o.content),s=v.isSingleTag(o.content);return!i||s})}processPlain(e){const{defaultBlock:n}=this.config;if(!e)return[];const r=n;return e.split(/\r?\n/).filter(o=>o.trim()).map(o=>{const i=v.make("div");i.textContent=o;const s=this.composePasteEvent("tag",{data:i});return{content:i,tool:r,isBlock:!1,event:s}})}async processSingleBlock(e){const{Caret:n,BlockManager:r}=this.Editor,{currentBlock:o}=r;if(!o||e.tool!==o.name||!v.containsOnlyInlineElements(e.content.innerHTML)){this.insertBlock(e,(o==null?void 0:o.tool.isDefault)&&o.isEmpty);return}n.insertContentAtCaretPosition(e.content.innerHTML)}async processInlinePaste(e){const{BlockManager:n,Caret:r}=this.Editor,{content:o}=e;if(n.currentBlock&&n.currentBlock.tool.isDefault&&o.textContent.length<$d.PATTERN_PROCESSING_MAX_LENGTH){const i=await this.processPattern(o.textContent);if(i){const s=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty,l=n.paste(i.tool,i.event,s);r.setToBlock(l,r.positions.END);return}}if(n.currentBlock&&n.currentBlock.currentInput){const i=n.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,Ye(o.innerHTML,i))}else this.insertBlock(e)}async processPattern(e){const n=this.toolsPatterns.find(r=>{const o=r.pattern.exec(e);return o?e===o.shift():!1});return n?{event:this.composePasteEvent("pattern",{key:n.key,data:e}),tool:n.tool.name}:void 0}insertBlock(e,n=!1){const{BlockManager:r,Caret:o}=this.Editor,{currentBlock:i}=r;let s;if(n&&i&&i.isEmpty){s=r.paste(e.tool,e.event,!0),o.setToBlock(s,o.positions.END);return}s=r.paste(e.tool,e.event),o.setToBlock(s,o.positions.END)}insertEditorJSData(e){const{BlockManager:n,Caret:r,Tools:o}=this.Editor;wi(e,i=>o.blockTools.get(i).sanitizeConfig).forEach(({tool:i,data:s},l)=>{let c=!1;l===0&&(c=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty);const a=n.insert({tool:i,data:s,replace:c});r.setToBlock(a,r.positions.END)})}processElementNode(e,n,r){const o=Object.keys(this.toolsTags),i=e,{tool:s}=this.toolsTags[i.tagName]||{},l=this.tagsByTool[s==null?void 0:s.name]||[],c=o.includes(i.tagName),a=v.blockElements.includes(i.tagName.toLowerCase()),u=Array.from(i.children).some(({tagName:h})=>o.includes(h)&&!l.includes(h)),d=Array.from(i.children).some(({tagName:h})=>v.blockElements.includes(h.toLowerCase()));if(!a&&!c&&!u)return r.appendChild(i),[...n,r];if(c&&!u||a&&!d&&!u)return[...n,r,i]}getNodes(e){const n=Array.from(e.childNodes);let r;const o=(i,s)=>{if(v.isEmpty(s)&&!v.isSingleTag(s))return i;const l=i[i.length-1];let c=new DocumentFragment;switch(l&&v.isFragment(l)&&(c=i.pop()),s.nodeType){case Node.ELEMENT_NODE:if(r=this.processElementNode(s,i,c),r)return r;break;case Node.TEXT_NODE:return c.appendChild(s),[...i,c];default:return[...i,c]}return[...i,...Array.from(s.childNodes).reduce(o,[])]};return n.reduce(o,[])}composePasteEvent(e,n){return new CustomEvent(e,{detail:n})}};jd.PATTERN_PROCESSING_MAX_LENGTH=450;let l1=jd;class c1 extends z{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,r=[];Array.from(n.entries()).forEach(([o,i])=>{i.isReadOnlySupported||r.push(o)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly,!0)}async toggle(e=!this.readOnlyEnabled,n=!1){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const r=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const i in this.Editor)this.Editor[i].toggleReadOnly&&this.Editor[i].toggleReadOnly(e);if(r===e)return this.readOnlyEnabled;if(n)return this.readOnlyEnabled;this.Editor.ModificationsObserver.disable();const o=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(o.blocks),this.Editor.ModificationsObserver.enable(),this.readOnlyEnabled}throwCriticalError(){throw new Du(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}let u1=class tr extends z{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const r=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const o=[`.${nt.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],i=r.closest("."+this.Editor.UI.CSS.editorWrapper),s=o.some(l=>!!r.closest(l));!i||s||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",Ko(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",Ko(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(v.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=v.make("div",tr.CSS.overlay,{}),o=v.make("div",tr.CSS.overlayContainer,{}),i=v.make("div",tr.CSS.rect,{});return o.appendChild(i),r.appendChild(o),n.appendChild(r),this.overlayRectangle=i,{container:n,overlay:r}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:r,index:o}=this.genInfoForMouseSelection(),i=this.startX>n&&this.mouseX>n,s=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(i||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),o!==void 0&&(this.trySelectNextBlock(o),this.inverseSelection(),L.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,r=document.elementFromPoint(e,n),o=this.Editor.BlockManager.getBlockByChildNode(r);let i;o!==void 0&&(i=this.Editor.BlockManager.blocks.findIndex(u=>u.holder===o.holder));const s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+nt.CSS.content),l=Number.parseInt(window.getComputedStyle(s).width,10)/2,c=e-l,a=e+l;return{index:i,leftPos:c,rightPos:a}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length,o=1,i=-1,s=0;if(n)return;const l=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let c=s;r>1&&(c=l?o:i);const a=e>this.stackOfSelected[r-1]&&c===o,u=e<this.stackOfSelected[r-1]&&c===i,d=!(a||u||c===s);if(!d&&(e>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let f=this.stackOfSelected[r-1]+1||e;for(f;f<=e;f++)this.addBlockInSelection(f);return}if(!d&&e<this.stackOfSelected[r-1]){for(let f=this.stackOfSelected[r-1]-1;f>=e;f--)this.addBlockInSelection(f);return}if(!d)return;let h=r-1,g;for(e>this.stackOfSelected[r-1]?g=()=>e>this.stackOfSelected[h]:g=()=>e<this.stackOfSelected[h];g();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[h]),this.stackOfSelected.pop(),h--}};class d1 extends z{async render(e){return new Promise(n=>{const{Tools:r,BlockManager:o}=this.Editor;if(e.length===0)o.insert();else{const i=e.map(({type:s,data:l,tunes:c,id:a})=>{r.available.has(s)===!1&&(Le(`Tool «${s}» is not found. Check 'tools' property at the Editor.js config.`,"warn"),l=this.composeStubDataForTool(s,l,a),s=r.stubTool);let u;try{u=o.composeBlock({id:a,tool:s,data:l,tunes:c})}catch(d){W(`Block «${s}» skipped because of plugins error`,"error",{data:l,error:d}),l=this.composeStubDataForTool(s,l,a),s=r.stubTool,u=o.composeBlock({id:a,tool:s,data:l,tunes:c})}return u});o.insertMany(i)}window.requestIdleCallback(()=>{n()},{timeout:2e3})})}composeStubDataForTool(e,n,r){const{Tools:o}=this.Editor;let i=e;if(o.unavailable.has(e)){const s=o.unavailable.get(e).toolbox;s!==void 0&&s[0].title!==void 0&&(i=s[0].title)}return{savedData:{id:r,type:e,data:n},title:i}}}class h1 extends z{async save(){const{BlockManager:e,Tools:n}=this.Editor,r=e.blocks,o=[];try{r.forEach(l=>{o.push(this.getSavedData(l))});const i=await Promise.all(o),s=await wi(i,l=>n.blockTools.get(l).sanitizeConfig);return this.makeOutput(s)}catch(i){Le("Saving failed due to the Error %o","error",i)}}async getSavedData(e){const n=await e.save(),r=n&&await e.validate(n.data);return{...n,isValid:r}}makeOutput(e){const n=[];return e.forEach(({id:r,tool:o,data:i,tunes:s,isValid:l})=>{if(!l){W(`Block «${o}» skipped because saved data is invalid`);return}if(o===this.Editor.Tools.stubTool){n.push(i);return}const c={id:r,type:o,data:i,...!Ae(s)&&{tunes:s}};n.push(c)}),{time:+new Date,blocks:n,version:"2.31.0-rc.7"}}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const p1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function f1(t){const e=document.createElement("div");e.innerHTML=t.trim();const n=document.createDocumentFragment();return n.append(...Array.from(e.childNodes)),n}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */class gs{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:n,api:r,readOnly:o}){this.api=r,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=n.placeholder?n.placeholder:gs.DEFAULT_PLACEHOLDER,this._data=e??{},this._element=null,this._preserveBlank=n.preserveBlank??!1}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete"||!this._element)return;const{textContent:n}=this._element;n===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable="false",e.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable="true",e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){if(!this._element)return;this._data.text+=e.text;const n=f1(e.text);this._element.appendChild(n),this._element.normalize()}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const n={text:e.detail.data.innerHTML};this._data=n,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:p1,title:"Text"}}}class ms{constructor(){this.commandName="bold"}static get sanitize(){return{b:{}}}render(){return{icon:zx,name:"bold",onActivate:()=>{document.execCommand(this.commandName)},isActive:()=>document.queryCommandState(this.commandName)}}get shortcut(){return"CMD+B"}}ms.isInline=!0;ms.title="Bold";class bs{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Kx,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}bs.isInline=!0;bs.title="Italic";class vs{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new L}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Ol,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.enterKeyHint="done",this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=Zx,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=Ol,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new L;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),W("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),r=e.substring(0,1)==="#",o=/^\/\/[^/\s]/.test(e);return!n&&!r&&!o&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}vs.isInline=!0;vs.title="Link";let Rd=class{constructor({api:e}){this.i18nAPI=e.i18n,this.blocksAPI=e.blocks,this.selectionAPI=e.selection,this.toolsAPI=e.tools,this.caretAPI=e.caret}async render(){const e=L.get(),n=this.blocksAPI.getBlockByElement(e.anchorNode);if(n===void 0)return[];const r=this.toolsAPI.getBlockTools(),o=await qu(n,r);if(o.length===0)return[];const i=o.reduce((a,u)=>{var d;return(d=u.toolbox)==null||d.forEach(h=>{a.push({icon:h.icon,title:xe.t(_e.toolNames,h.title),name:u.name,closeOnActivate:!0,onActivate:async()=>{const g=await this.blocksAPI.convert(n.id,u.name,h.data);this.caretAPI.setToBlock(g,"end")}})}),a},[]),s=await n.getActiveToolboxEntry(),l=s!==void 0?s.icon:Qu,c=!Yt();return{icon:l,name:"convert-to",hint:{title:this.i18nAPI.t("Convert to")},children:{searchable:c,items:i,onOpen:()=>{c&&(this.selectionAPI.setFakeBackground(),this.selectionAPI.save())},onClose:()=>{c&&(this.selectionAPI.restore(),this.selectionAPI.removeFakeBackground())}}}}};Rd.isInline=!0;let Dd=class{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=v.make("div",this.CSS.wrapper),n=Qx,r=v.make("div",this.CSS.info),o=v.make("div",this.CSS.title,{textContent:this.title}),i=v.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,r.appendChild(o),r.appendChild(i),e.appendChild(r),e}};Dd.isReadOnlySupported=!0;class g1 extends _i{constructor(){super(...arguments),this.type=Ct.Inline}get title(){return this.constructable[vr.Title]}create(){return new this.constructable({api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[vr.IsReadOnlySupported]??!1}}class m1 extends _i{constructor(){super(...arguments),this.type=Ct.Tune}create(e,n){return new this.constructable({api:this.api,config:this.settings,block:n,data:e})}}let Ue=class Dt extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new Dt(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new Dt(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new Dt(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new Dt(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new Dt(e)}};var b1=Object.defineProperty,v1=Object.getOwnPropertyDescriptor,zd=(t,e,n,r)=>{for(var o=v1(e,n),i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=s(e,n,o)||o);return o&&b1(e,n,o),o};class ys extends _i{constructor(){super(...arguments),this.type=Ct.Block,this.inlineTools=new Ue,this.tunes=new Ue}create(e,n,r){return new this.constructable({data:e,block:n,readOnly:r,api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[Rt.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[Rt.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[Rt.Toolbox],n=this.config[Zn.Toolbox];if(!Ae(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((r,o)=>{const i=e[o];return i?{...i,...r}:r}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[Rt.ConversionConfig]}get enabledInlineTools(){return this.config[Zn.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Zn.EnabledBlockTunes]}get pasteConfig(){return this.constructable[Rt.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if(Ae(e))return n;const r={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const i=e[o];ue(i)?r[o]=Object.assign({},n,i):r[o]=i}return r}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}}zd([Gt],ys.prototype,"sanitizeConfig");zd([Gt],ys.prototype,"baseSanitizeConfig");class y1{constructor(e,n,r){this.api=r,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:r=!1,...o}=this.config[e],i=this.getConstructor(n),s=n[ei.IsTune];return new i({name:e,constructable:n,config:o,api:this.api.getMethodsForTool(e,s),isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[vr.IsInline]:return g1;case e[ei.IsTune]:return m1;default:return ys}}}let Fd=class{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:Fx,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const r=n.holder,o=r.getBoundingClientRect();let i=Math.abs(window.innerHeight-r.offsetHeight);o.top<window.innerHeight&&(i=window.scrollY+r.offsetHeight),window.scrollTo(0,i),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}};Fd.isTune=!0;let Hd=class{constructor({api:e}){this.api=e}render(){return{icon:qx,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}};Hd.isTune=!0;let Ud=class{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:Wx,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),r=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!r)throw new Error("Unable to move Block up since it is already the first");const o=n.holder,i=r.holder,s=o.getBoundingClientRect(),l=i.getBoundingClientRect();let c;l.top>0?c=Math.abs(s.top)-Math.abs(l.top):c=Math.abs(s.top)+l.height,window.scrollBy(0,-1*c),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}};Ud.isTune=!0;var k1=Object.defineProperty,x1=Object.getOwnPropertyDescriptor,w1=(t,e,n,r)=>{for(var o=x1(e,n),i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=s(e,n,o)||o);return o&&k1(e,n,o),o};let Wd=class extends z{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new Ue,this.toolsUnavailable=new Ue}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Go({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new y1(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await qk(n,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{J(e.reset)&&await e.reset()})}get internalTools(){return{convertTo:{class:Rd,isInternal:!0},link:{class:vs,isInternal:!0},bold:{class:ms,isInternal:!0},italic:{class:bs,isInternal:!0},paragraph:{class:gs,inlineToolbar:!0,isInternal:!0},stub:{class:Dd,isInternal:!0},moveUp:{class:Ud,isInternal:!0},delete:{class:Hd,isInternal:!0},moveDown:{class:Fd,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const r=["render"].filter(o=>!n.create()[o]);if(r.length){W(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([r,o])=>{n.push({function:J(o.class.prepare)?o.class.prepare:()=>{},data:{toolName:r,config:o.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new Ue(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new Ue(["convertTo",...e.enabledInlineTools].map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new Ue(e.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new Ue([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new Ue(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new Ue([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!J(n)&&!J(n.class))throw Error(`Tool «${e}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const e={};for(const n in this.config.tools)ue(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}};w1([Gt],Wd.prototype,"getAllInlineToolsSanitizeConfig");const S1=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}
`;class C1 extends z{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=null,this.resizeDebouncer=Cl(()=>{this.windowResize()},200),this.selectionChangeDebounced=Cl(()=>{this.selectionChanged()},i1),this.documentTouchedListener=e=>{this.documentTouched(e)}}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache!==null)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${nt.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.setIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.unbindReadOnlySensitiveListeners():window.requestIdleCallback(()=>{this.bindReadOnlySensitiveListeners()},{timeout:2e3})}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r}=this.Editor;return!!(n.opened||r.opened||e.toolbox.opened)}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof mr).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML="",this.unbindReadOnlyInsensitiveListeners()}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r}=this.Editor;n.close(),r.close(),e.toolbox.close()}setIsMobile(){const e=window.innerWidth<Nu;e!==this.isMobile&&this.eventsDispatcher.emit(kn,{isEnabled:this.isMobile}),this.isMobile=e}make(){this.nodes.holder=v.getHolder(this.config.holder),this.nodes.wrapper=v.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=v.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper),this.bindReadOnlyInsensitiveListeners()}loadStyles(){const e="editor-js-styles";if(v.get(e))return;const n=v.make("style",null,{id:e,textContent:S1.toString()});this.config.style&&!Ae(this.config.style)&&this.config.style.nonce&&n.setAttribute("nonce",this.config.style.nonce),v.prepend(document.head,n)}bindReadOnlyInsensitiveListeners(){this.listeners.on(document,"selectionchange",this.selectionChangeDebounced),this.listeners.on(window,"resize",this.resizeDebouncer,{passive:!0}),this.listeners.on(this.nodes.redactor,"mousedown",this.documentTouchedListener,{capture:!0,passive:!0}),this.listeners.on(this.nodes.redactor,"touchstart",this.documentTouchedListener,{capture:!0,passive:!0})}unbindReadOnlyInsensitiveListeners(){this.listeners.off(document,"selectionchange",this.selectionChangeDebounced),this.listeners.off(window,"resize",this.resizeDebouncer),this.listeners.off(this.nodes.redactor,"mousedown",this.documentTouchedListener),this.listeners.off(this.nodes.redactor,"touchstart",this.documentTouchedListener)}bindReadOnlySensitiveListeners(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.watchBlockHoveredEvents(),this.enableInputsEmptyMark()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",Ko(n=>{const r=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&e!==r&&(e=r,this.eventsDispatcher.emit(ld,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}unbindReadOnlySensitiveListeners(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.setIsMobile()}documentKeydown(e){switch(e.keyCode){case P.ENTER:this.enterPressed(e);break;case P.BACKSPACE:case P.DELETE:this.backspacePressed(e);break;case P.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,r=e.target.closest(`.${this.CSS.editorWrapper}`),o=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&r===null){this.Editor.BlockEvents.keydown(e);return}r||n&&o||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor;if(r.anyBlockSelected&&!L.isSelectionExists){const i=n.removeSelectedBlocks(),s=n.insertDefaultBlockAtIndex(i,!0);o.setToBlock(s,o.positions.START),r.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:r}=this.Editor;if(this.someToolbarOpened)return;const o=n.currentBlockIndex>=0;if(r.anyBlockSelected&&!L.isSelectionExists){r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&o&&e.target.tagName==="BODY"){const i=this.Editor.BlockManager.insert();e.preventDefault(),this.Editor.Caret.setToBlock(i),this.Editor.Toolbar.moveAndOpen(i)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){var n,r;if(!e.isTrusted)return;const o=e.target;this.nodes.holder.contains(o)||L.isAtEditor||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close());const i=(n=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:n.contains(o),s=(r=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:r.contains(o),l=i||s;if(this.Editor.BlockSettings.opened&&!l){this.Editor.BlockSettings.close();const c=this.Editor.BlockManager.getBlockByChildNode(o);this.Editor.Toolbar.moveAndOpen(c)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(r,o)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.ReadOnly.isEnabled||this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){if(!L.isCollapsed)return;const n=e.target,r=e.metaKey||e.ctrlKey;if(v.isAnchor(n)&&r){e.stopImmediatePropagation(),e.stopPropagation();const o=n.getAttribute("href"),i=Yk(o);Zk(i);return}this.processBottomZoneClick(e)}processBottomZoneClick(e){const n=this.Editor.BlockManager.getBlockByIndex(-1),r=v.offset(n.holder).bottom,o=e.pageY,{BlockSelection:i}=this.Editor;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!i.anyBlockSelected&&r<o){e.stopImmediatePropagation(),e.stopPropagation();const{BlockManager:s,Caret:l,Toolbar:c}=this.Editor;(!s.lastBlock.tool.isDefault||!s.lastBlock.isEmpty)&&s.insertAtEnd(),l.setToTheLastBlock(),c.moveAndOpen(s.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,r=L.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&L.get().removeAllRanges(),!r){L.range||this.Editor.InlineToolbar.close();return}const o=r.closest(`.${nt.CSS.content}`);(o===null||o.closest(`.${L.CSS.editorWrapper}`)!==this.nodes.wrapper)&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true")||(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r),this.Editor.InlineToolbar.tryToShow(!0))}enableInputsEmptyMark(){function e(n){const r=n.target;ju(r)}this.readOnlyMutableListeners.on(this.nodes.wrapper,"input",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusin",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusout",e)}}const E1={BlocksAPI:lx,CaretAPI:ux,EventsAPI:dx,I18nAPI:hx,API:px,InlineToolbarAPI:fx,ListenersAPI:gx,NotifierAPI:yx,ReadOnlyAPI:kx,SanitizerAPI:Ox,SaverAPI:_x,SelectionAPI:Bx,ToolsAPI:Ix,StylesAPI:Lx,ToolbarAPI:Mx,TooltipAPI:$x,UiAPI:Rx,BlockSettings:u0,Toolbar:v0,InlineToolbar:y0,BlockEvents:Zw,BlockManager:e1,BlockSelection:t1,Caret:n1,CrossBlockSelection:r1,DragNDrop:o1,ModificationsObserver:a1,Paste:l1,ReadOnly:c1,RectangleSelection:u1,Renderer:d1,Saver:h1,Tools:Wd,UI:C1};class T1{constructor(e){this.moduleInstances={},this.eventsDispatcher=new En;let n,r;this.isReady=new Promise((o,i)=>{n=o,r=i}),Promise.resolve().then(async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:o,Caret:i,UI:s,ModificationsObserver:l}=this.moduleInstances;s.checkEmptiness(),l.enable(),this.configuration.autofocus===!0&&this.configuration.readOnly!==!0&&i.setToBlock(o.blocks[0],i.positions.START),n()}).catch(o=>{W(`Editor.js is not ready because of ${o}`,"error"),r(o)})}set configuration(e){var n,r;ue(e)?this.config={...e}:this.config={holder:e},Yo(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=Mu.VERBOSE),Uk(this.config.logLevel),Yo(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const o={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(Ae(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[o]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&xe.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("«holderId» and «holder» param can't assign at the same time.");if(ot(n)&&!v.get(n))throw Error(`element with ID «${n}» is missing. Pass correct holder's ID.`);if(n&&ue(n)&&!v.isElement(n))throw Error("«holder» value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(r){if(r instanceof Du)throw new Error(r.message);W(`Module ${n} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(E1).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){W("[constructModules]",`Module ${e} skipped because`,"error",r)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const r in this.moduleInstances)r!==e&&(n[r]=this.moduleInstances[r]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class O1{static get version(){return"2.31.0-rc.7"}constructor(e){let n=()=>{};ue(e)&&J(e.onReady)&&(n=e.onReady);const r=new T1(e);this.isReady=r.isReady.then(()=>{this.exportAPI(r),n()})}exportAPI(e){const n=["configuration"],r=()=>{Object.values(e.moduleInstances).forEach(o=>{J(o.destroy)&&o.destroy(),o.listeners.removeAll()}),jx(),e=null;for(const o in this)Object.prototype.hasOwnProperty.call(this,o)&&delete this[o];Object.setPrototypeOf(this,null)};n.forEach(o=>{this[o]=e[o]}),this.destroy=r,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([o,i])=>{Object.entries(i).forEach(([s,l])=>{this[l]=e.moduleInstances.API.methods[o][s]})})}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const _1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',B1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',I1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',L1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',M1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',A1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',P1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */let N1=class{constructor({data:e,config:n,api:r,readOnly:o}){this.api=r,this.readOnly=o,this._settings=n,this._data=this.normalizeData(e),this._element=this.getTag()}get _CSS(){return{block:this.api.styles.block,wrapper:"ce-header"}}isHeaderData(e){return e.text!==void 0}normalizeData(e){const n={text:"",level:this.defaultLevel.number};return this.isHeaderData(e)&&(n.text=e.text||"",e.level!==void 0&&!isNaN(parseInt(e.level.toString()))&&(n.level=parseInt(e.level.toString()))),n}render(){return this._element}renderSettings(){return this.levels.map(e=>({icon:e.svg,label:this.api.i18n.t(`Heading ${e.number}`),onActivate:()=>this.setLevel(e.number),closeOnActivate:!0,isActive:this.currentLevel.number===e.number,render:()=>document.createElement("div")}))}setLevel(e){this.data={level:e,text:this.data.text}}merge(e){this._element.insertAdjacentHTML("beforeend",e.text)}validate(e){return e.text.trim()!==""}save(e){return{text:e.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(e){if(this._data=this.normalizeData(e),e.level!==void 0&&this._element.parentNode){const n=this.getTag();n.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(n,this._element),this._element=n}e.text!==void 0&&(this._element.innerHTML=this._data.text||"")}getTag(){const e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}get currentLevel(){let e=this.levels.find(n=>n.number===this._data.level);return e||(e=this.defaultLevel),e}get defaultLevel(){if(this._settings.defaultLevel){const e=this.levels.find(n=>n.number===this._settings.defaultLevel);if(e)return e;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){const e=[{number:1,tag:"H1",svg:_1},{number:2,tag:"H2",svg:B1},{number:3,tag:"H3",svg:I1},{number:4,tag:"H4",svg:L1},{number:5,tag:"H5",svg:M1},{number:6,tag:"H6",svg:A1}];return this._settings.levels?e.filter(n=>this._settings.levels.includes(n.number)):e}onPaste(e){const n=e.detail;if("data"in n){const r=n.data;let o=this.defaultLevel.number;switch(r.tagName){case"H1":o=1;break;case"H2":o=2;break;case"H3":o=3;break;case"H4":o=4;break;case"H5":o=5;break;case"H6":o=6;break}this._settings.levels&&(o=this._settings.levels.reduce((i,s)=>Math.abs(s-o)<Math.abs(i-o)?s:i)),this.data={level:o,text:r.innerHTML}}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:P1,title:"Heading"}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.cdx-list{margin:0;padding:0;outline:none;display:grid;counter-reset:item;gap:var(--spacing-s);padding:var(--spacing-xs);--spacing-s: 8px;--spacing-xs: 6px;--list-counter-type: numeric;--radius-border: 5px;--checkbox-background: #fff;--color-border: #C9C9C9;--color-bg-checked: #369FFF;--line-height: 1.45em;--color-bg-checked-hover: #0059AB;--color-tick: #fff;--size-checkbox: 1.2em}.cdx-list__item{line-height:var(--line-height);display:grid;grid-template-columns:auto 1fr;grid-template-rows:auto auto;grid-template-areas:"checkbox content" ". child"}.cdx-list__item-children{display:grid;grid-area:child;gap:var(--spacing-s);padding-top:var(--spacing-s)}.cdx-list__item [contenteditable]{outline:none}.cdx-list__item-content{word-break:break-word;white-space:pre-wrap;grid-area:content;padding-left:var(--spacing-s)}.cdx-list__item:before{counter-increment:item;white-space:nowrap}.cdx-list-ordered .cdx-list__item:before{content:counters(item,".",var(--list-counter-type)) "."}.cdx-list-ordered{counter-reset:item}.cdx-list-unordered .cdx-list__item:before{content:"•"}.cdx-list-checklist .cdx-list__item:before{content:""}.cdx-list__settings .cdx-settings-button{width:50%}.cdx-list__checkbox{padding-top:calc((var(--line-height) - var(--size-checkbox)) / 2);grid-area:checkbox;width:var(--size-checkbox);height:var(--size-checkbox);display:flex;cursor:pointer}.cdx-list__checkbox svg{opacity:0;height:var(--size-checkbox);width:var(--size-checkbox);left:-1px;top:-1px;position:absolute}@media (hover: hover){.cdx-list__checkbox:not(.cdx-list__checkbox--no-hover):hover .cdx-list__checkbox-check svg{opacity:1}}.cdx-list__checkbox--checked{line-height:var(--line-height)}@media (hover: hover){.cdx-list__checkbox--checked:not(.cdx-list__checkbox--checked--no-hover):hover .cdx-checklist__checkbox-check{background:var(--color-bg-checked-hover);border-color:var(--color-bg-checked-hover)}}.cdx-list__checkbox--checked .cdx-list__checkbox-check{background:var(--color-bg-checked);border-color:var(--color-bg-checked)}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg{opacity:1}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg path{stroke:var(--color-tick)}.cdx-list__checkbox--checked .cdx-list__checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}.cdx-list__checkbox-check{cursor:pointer;display:inline-block;position:relative;margin:0 auto;width:var(--size-checkbox);height:var(--size-checkbox);box-sizing:border-box;border-radius:var(--radius-border);border:1px solid var(--color-border);background:var(--checkbox-background)}.cdx-list__checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:var(--color-bg-checked);visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}.cdx-list-start-with-field{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-list-start-with-field--invalid{background:#FFECED;border:1px solid #E13F3F}.cdx-list-start-with-field--invalid .cdx-list-start-with-field__input{color:#e13f3f}.cdx-list-start-with-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - var(--toolbox-buttons-size) - var(--icon-margin-right))}.cdx-list-start-with-field__input::placeholder{color:var(--grayText);font-weight:500}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const j1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',Nl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',jl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',$l='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',$1='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 14.2L10 7.4135C10 7.32872 9.90111 7.28241 9.83598 7.33668L7 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',R1='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 9.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 7.01L10 7" stroke="black" stroke-width="1.8" stroke-linecap="round"/></svg>',D1='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 7.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',z1='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.0087 14.2H16" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M7 14.2L7.78865 12M13 14.2L12.1377 12M7.78865 12C7.78865 12 9.68362 7 10 7C10.3065 7 12.1377 12 12.1377 12M7.78865 12L12.1377 12" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',F1='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.2087 14.2H14.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M11.5 14.5C11.5 14.5 11 13.281 11 12.5M7 9.5C7 9.5 7.5 8.5 9 8.5C10.5 8.5 11 9.5 11 10.5L11 11.5M11 11.5L11 12.5M11 11.5C11 11.5 7 11 7 13C7 15.3031 11 15 11 12.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',H1='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 14.2L8 7.4135C8 7.32872 7.90111 7.28241 7.83598 7.33668L5 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M14 13L16.4167 10.7778M16.4167 10.7778L14 8.5M16.4167 10.7778H11.6562" stroke="black" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>';var yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function U1(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var Y={},ks={},xs={};Object.defineProperty(xs,"__esModule",{value:!0});xs.allInputsSelector=W1;function W1(){var t=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+t.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.allInputsSelector=void 0;var e=xs;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(ks);var It={},ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.isNativeInput=q1;function q1(t){var e=["INPUT","TEXTAREA"];return t&&t.tagName?e.includes(t.tagName):!1}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNativeInput=void 0;var e=ws;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(It);var qd={},Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});Ss.append=V1;function V1(t,e){Array.isArray(e)?e.forEach(function(n){t.appendChild(n)}):t.appendChild(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.append=void 0;var e=Ss;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return e.append}})})(qd);var Cs={},Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.blockElements=K1;function K1(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.blockElements=void 0;var e=Es;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(Cs);var Vd={},Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.calculateBaseline=G1;function G1(t){var e=window.getComputedStyle(t),n=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||n*1.2,o=parseFloat(e.paddingTop),i=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),l=n*.8,c=(r-n)/2,a=s+i+o+c+l;return a}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBaseline=void 0;var e=Ts;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})(Vd);var Kd={},Os={},_s={},Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.isContentEditable=Y1;function Y1(t){return t.contentEditable==="true"}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isContentEditable=void 0;var e=Bs;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(_s);Object.defineProperty(Os,"__esModule",{value:!0});Os.canSetCaret=Q1;var X1=It,Z1=_s;function Q1(t){var e=!0;if((0,X1.isNativeInput)(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,Z1.isContentEditable)(t);return e}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.canSetCaret=void 0;var e=Os;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(Kd);var jr={},Is={};function J1(t,e,n){const r=n.value!==void 0?"value":"get",o=n[r],i=`#${e}Cache`;if(n[r]=function(...s){return this[i]===void 0&&(this[i]=o.apply(this,s)),this[i]},r==="get"&&n.set){const s=n.set;n.set=function(l){delete t[i],s.apply(this,l)}}return n}function Gd(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e!==void 0&&(t[e]=!0),t}function Ls(t){return t!=null&&t!==""&&(typeof t!="object"||Object.keys(t).length>0)}function eS(t){return!Ls(t)}const tS=()=>typeof window<"u"&&window.navigator!==null&&Ls(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function nS(t){const e=Gd();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi,"+"),e.mac?t=t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function rS(t){return t[0].toUpperCase()+t.slice(1)}function oS(t){const e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=t,document.body.appendChild(e);const n=window.getSelection(),r=document.createRange();if(r.selectNode(e),n===null)throw new Error("Cannot copy text to clipboard");n.removeAllRanges(),n.addRange(r),document.execCommand("copy"),document.body.removeChild(e)}function iS(t,e,n){let r;return(...o)=>{const i=this,s=()=>{r=void 0,n!==!0&&t.apply(i,o)},l=n===!0&&r!==void 0;window.clearTimeout(r),r=window.setTimeout(s,e),l&&t.apply(i,o)}}function mt(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function sS(t){return mt(t)==="boolean"}function Yd(t){return mt(t)==="function"||mt(t)==="asyncfunction"}function aS(t){return Yd(t)&&/^\s*class\s+/.test(t.toString())}function lS(t){return mt(t)==="number"}function nr(t){return mt(t)==="object"}function cS(t){return Promise.resolve(t)===t}function uS(t){return mt(t)==="string"}function dS(t){return mt(t)==="undefined"}function ri(t,...e){if(!e.length)return t;const n=e.shift();if(nr(t)&&nr(n))for(const r in n)nr(n[r])?(t[r]===void 0&&Object.assign(t,{[r]:{}}),ri(t[r],n[r])):Object.assign(t,{[r]:n[r]});return ri(t,...e)}function hS(t,e,n){const r=`«${e}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;t&&console.warn(r)}function pS(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function fS(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}const gS={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},mS={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};class bS{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,r)=>{this.completed=this.completed.then(e).then(n).catch(r)})}}function vS(t,e,n=void 0){let r,o,i,s=null,l=0;n||(n={});const c=function(){l=n.leading===!1?0:Date.now(),s=null,i=t.apply(r,o),s===null&&(r=o=null)};return function(){const a=Date.now();!l&&n.leading===!1&&(l=a);const u=e-(a-l);return r=this,o=arguments,u<=0||u>e?(s&&(clearTimeout(s),s=null),l=a,i=t.apply(r,o),s===null&&(r=o=null)):!s&&n.trailing!==!1&&(s=setTimeout(c,u)),i}}const yS=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:bS,beautifyShortcut:nS,cacheable:J1,capitalize:rS,copyTextToClipboard:oS,debounce:iS,deepMerge:ri,deprecationAssert:hS,getUserOS:Gd,getValidUrl:pS,isBoolean:sS,isClass:aS,isEmpty:eS,isFunction:Yd,isIosDevice:tS,isNumber:lS,isObject:nr,isPrintableKey:fS,isPromise:cS,isString:uS,isUndefined:dS,keyCodes:gS,mouseButtons:mS,notEmpty:Ls,throttle:vS,typeOf:mt},Symbol.toStringTag,{value:"Module"})),Ms=U1(yS);Object.defineProperty(Is,"__esModule",{value:!0});Is.containsOnlyInlineElements=wS;var kS=Ms,xS=Cs;function wS(t){var e;(0,kS.isString)(t)?(e=document.createElement("div"),e.innerHTML=t):e=t;var n=function(r){return!(0,xS.blockElements)().includes(r.tagName.toLowerCase())&&Array.from(r.children).every(n)};return Array.from(e.children).every(n)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.containsOnlyInlineElements=void 0;var e=Is;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(jr);var Xd={},As={},$r={},Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.make=SS;function SS(t,e,n){var r;e===void 0&&(e=null),n===void 0&&(n={});var o=document.createElement(t);if(Array.isArray(e)){var i=e.filter(function(l){return l!==void 0});(r=o.classList).add.apply(r,i)}else e!==null&&o.classList.add(e);for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(o[s]=n[s]);return o}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.make=void 0;var e=Ps;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return e.make}})})($r);Object.defineProperty(As,"__esModule",{value:!0});As.fragmentToString=ES;var CS=$r;function ES(t){var e=(0,CS.make)("div");return e.appendChild(t),e.innerHTML}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fragmentToString=void 0;var e=As;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(Xd);var Zd={},Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.getContentLength=OS;var TS=It;function OS(t){var e,n;return(0,TS.isNativeInput)(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:(n=(e=t.textContent)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContentLength=void 0;var e=Ns;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(Zd);var js={},$s={},Rl=yr&&yr.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty($s,"__esModule",{value:!0});$s.getDeepestBlockElements=Qd;var _S=jr;function Qd(t){return(0,_S.containsOnlyInlineElements)(t)?[t]:Array.from(t.children).reduce(function(e,n){return Rl(Rl([],e,!0),Qd(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestBlockElements=void 0;var e=$s;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})(js);var Jd={},Rs={},Rr={},Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.isLineBreakTag=BS;function BS(t){return["BR","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLineBreakTag=void 0;var e=Ds;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(Rr);var Dr={},zs={};Object.defineProperty(zs,"__esModule",{value:!0});zs.isSingleTag=IS;function IS(t){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSingleTag=void 0;var e=zs;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(Dr);Object.defineProperty(Rs,"__esModule",{value:!0});Rs.getDeepestNode=eh;var LS=It,MS=Rr,AS=Dr;function eh(t,e){e===void 0&&(e=!1);var n=e?"lastChild":"firstChild",r=e?"previousSibling":"nextSibling";if(t.nodeType===Node.ELEMENT_NODE&&t[n]){var o=t[n];if((0,AS.isSingleTag)(o)&&!(0,LS.isNativeInput)(o)&&!(0,MS.isLineBreakTag)(o))if(o[r])o=o[r];else if(o.parentNode!==null&&o.parentNode[r])o=o.parentNode[r];else return o.parentNode;return eh(o,e)}return t}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestNode=void 0;var e=Rs;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(Jd);var th={},Fs={},Fn=yr&&yr.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.findAllInputs=RS;var PS=jr,NS=js,jS=ks,$S=It;function RS(t){return Array.from(t.querySelectorAll((0,jS.allInputsSelector)())).reduce(function(e,n){return(0,$S.isNativeInput)(n)||(0,PS.containsOnlyInlineElements)(n)?Fn(Fn([],e,!0),[n],!1):Fn(Fn([],e,!0),(0,NS.getDeepestBlockElements)(n),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAllInputs=void 0;var e=Fs;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(th);var nh={},Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.isCollapsedWhitespaces=DS;function DS(t){return!/[^\t\n\r ]/.test(t)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCollapsedWhitespaces=void 0;var e=Hs;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(nh);var Us={},Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.isElement=FS;var zS=Ms;function FS(t){return(0,zS.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.ELEMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isElement=void 0;var e=Ws;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(Us);var rh={},qs={},Vs={},Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.isLeaf=HS;function HS(t){return t===null?!1:t.childNodes.length===0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLeaf=void 0;var e=Ks;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(Vs);var Gs={},Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.isNodeEmpty=KS;var US=Rr,WS=Us,qS=It,VS=Dr;function KS(t,e){var n="";return(0,VS.isSingleTag)(t)&&!(0,US.isLineBreakTag)(t)?!1:((0,WS.isElement)(t)&&(0,qS.isNativeInput)(t)?n=t.value:t.textContent!==null&&(n=t.textContent.replace("​","")),e!==void 0&&(n=n.replace(new RegExp(e,"g"),"")),n.trim().length===0)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeEmpty=void 0;var e=Ys;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(Gs);Object.defineProperty(qs,"__esModule",{value:!0});qs.isEmpty=XS;var GS=Vs,YS=Gs;function XS(t,e){t.normalize();for(var n=[t];n.length>0;){var r=n.shift();if(r){if(t=r,(0,GS.isLeaf)(t)&&!(0,YS.isNodeEmpty)(t,e))return!1;n.push.apply(n,Array.from(t.childNodes))}}return!0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var e=qs;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(rh);var oh={},Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.isFragment=QS;var ZS=Ms;function QS(t){return(0,ZS.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFragment=void 0;var e=Xs;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(oh);var ih={},Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.isHTMLString=eC;var JS=$r;function eC(t){var e=(0,JS.make)("div");return e.innerHTML=t,e.childElementCount>0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isHTMLString=void 0;var e=Zs;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(ih);var sh={},Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.offset=tC;function tC(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,o=e.top+r,i=e.left+n;return{top:o,left:i,bottom:o+e.height,right:i+e.width}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.offset=void 0;var e=Qs;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return e.offset}})})(sh);var ah={},Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.prepend=nC;function nC(t,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(n){return t.prepend(n)})):t.prepend(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=void 0;var e=Js;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return e.prepend}})})(ah);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.offset=t.make=t.isLineBreakTag=t.isSingleTag=t.isNodeEmpty=t.isLeaf=t.isHTMLString=t.isFragment=t.isEmpty=t.isElement=t.isContentEditable=t.isCollapsedWhitespaces=t.findAllInputs=t.isNativeInput=t.allInputsSelector=t.getDeepestNode=t.getDeepestBlockElements=t.getContentLength=t.fragmentToString=t.containsOnlyInlineElements=t.canSetCaret=t.calculateBaseline=t.blockElements=t.append=void 0;var e=ks;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var n=It;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return n.isNativeInput}});var r=qd;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return r.append}});var o=Cs;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return o.blockElements}});var i=Vd;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return i.calculateBaseline}});var s=Kd;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return s.canSetCaret}});var l=jr;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return l.containsOnlyInlineElements}});var c=Xd;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return c.fragmentToString}});var a=Zd;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return a.getContentLength}});var u=js;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return u.getDeepestBlockElements}});var d=Jd;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return d.getDeepestNode}});var h=th;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return h.findAllInputs}});var g=nh;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return g.isCollapsedWhitespaces}});var f=_s;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return f.isContentEditable}});var k=Us;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return k.isElement}});var O=rh;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return O.isEmpty}});var w=oh;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return w.isFragment}});var E=ih;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return E.isHTMLString}});var U=Vs;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return U.isLeaf}});var T=Gs;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return T.isNodeEmpty}});var C=Rr;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return C.isLineBreakTag}});var N=Dr;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return N.isSingleTag}});var j=$r;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return j.make}});var p=sh;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return p.offset}});var m=ah;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return m.prepend}})})(Y);const Ce="cdx-list",fe={wrapper:Ce,item:`${Ce}__item`,itemContent:`${Ce}__item-content`,itemChildren:`${Ce}__item-children`};class qe{static get CSS(){return{...fe,orderedList:`${Ce}-ordered`}}constructor(e,n){this.config=n,this.readOnly=e}renderWrapper(e){let n;return e===!0?n=Y.make("ol",[qe.CSS.wrapper,qe.CSS.orderedList]):n=Y.make("ol",[qe.CSS.orderedList,qe.CSS.itemChildren]),n}renderItem(e,n){const r=Y.make("li",qe.CSS.item),o=Y.make("div",qe.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()});return r.appendChild(o),r}getItemContent(e){const n=e.querySelector(`.${qe.CSS.itemContent}`);return!n||Y.isEmpty(n)?"":n.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}}class Ve{static get CSS(){return{...fe,unorderedList:`${Ce}-unordered`}}constructor(e,n){this.config=n,this.readOnly=e}renderWrapper(e){let n;return e===!0?n=Y.make("ul",[Ve.CSS.wrapper,Ve.CSS.unorderedList]):n=Y.make("ul",[Ve.CSS.unorderedList,Ve.CSS.itemChildren]),n}renderItem(e,n){const r=Y.make("li",Ve.CSS.item),o=Y.make("div",Ve.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()});return r.appendChild(o),r}getItemContent(e){const n=e.querySelector(`.${Ve.CSS.itemContent}`);return!n||Y.isEmpty(n)?"":n.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}}function xt(t){return t.nodeType===Node.ELEMENT_NODE}var fn={},ea={},zr={},Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.getContenteditableSlice=oC;var rC=Y;function oC(t,e,n,r,o){var i;o===void 0&&(o=!1);var s=document.createRange();if(r==="left"?(s.setStart(t,0),s.setEnd(e,n)):(s.setStart(e,n),s.setEnd(t,t.childNodes.length)),o===!0){var l=s.extractContents();return(0,rC.fragmentToString)(l)}var c=s.cloneContents(),a=document.createElement("div");a.appendChild(c);var u=(i=a.textContent)!==null&&i!==void 0?i:"";return u}Object.defineProperty(zr,"__esModule",{value:!0});zr.checkContenteditableSliceForEmptiness=aC;var iC=Y,sC=Fr;function aC(t,e,n,r){var o=(0,sC.getContenteditableSlice)(t,e,n,r);return(0,iC.isCollapsedWhitespaces)(o)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkContenteditableSliceForEmptiness=void 0;var e=zr;Object.defineProperty(t,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}})})(ea);var lh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContenteditableSlice=void 0;var e=Fr;Object.defineProperty(t,"getContenteditableSlice",{enumerable:!0,get:function(){return e.getContenteditableSlice}})})(lh);var ch={},ta={};Object.defineProperty(ta,"__esModule",{value:!0});ta.focus=cC;var lC=Y;function cC(t,e){var n,r;if(e===void 0&&(e=!0),(0,lC.isNativeInput)(t)){t.focus();var o=e?0:t.value.length;t.setSelectionRange(o,o)}else{var i=document.createRange(),s=window.getSelection();if(!s)return;var l=function(h,g){g===void 0&&(g=!1);var f=document.createTextNode("");g?h.insertBefore(f,h.firstChild):h.appendChild(f),i.setStart(f,0),i.setEnd(f,0)},c=function(h){return h!=null},a=t.childNodes,u=e?a[0]:a[a.length-1];if(c(u)){for(;c(u)&&u.nodeType!==Node.TEXT_NODE;)u=e?u.firstChild:u.lastChild;if(c(u)&&u.nodeType===Node.TEXT_NODE){var d=(r=(n=u.textContent)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0,o=e?0:d;i.setStart(u,o),i.setEnd(u,o)}else l(t,e)}else l(t);s.removeAllRanges(),s.addRange(i)}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.focus=void 0;var e=ta;Object.defineProperty(t,"focus",{enumerable:!0,get:function(){return e.focus}})})(ch);var na={},Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.getCaretNodeAndOffset=uC;function uC(){var t=window.getSelection();if(t===null)return[null,0];var e=t.focusNode,n=t.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[n]!==void 0?(e=e.childNodes[n],n=0):(e=e.childNodes[n-1],e.textContent!==null&&(n=e.textContent.length))),[e,n])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getCaretNodeAndOffset=void 0;var e=Hr;Object.defineProperty(t,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return e.getCaretNodeAndOffset}})})(na);var uh={},Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.getRange=dC;function dC(){var t=window.getSelection();return t&&t.rangeCount?t.getRangeAt(0):null}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getRange=void 0;var e=Ur;Object.defineProperty(t,"getRange",{enumerable:!0,get:function(){return e.getRange}})})(uh);var dh={},ra={};Object.defineProperty(ra,"__esModule",{value:!0});ra.isCaretAtEndOfInput=fC;var Dl=Y,hC=na,pC=ea;function fC(t){var e=(0,Dl.getDeepestNode)(t,!0);if(e===null)return!0;if((0,Dl.isNativeInput)(e))return e.selectionEnd===e.value.length;var n=(0,hC.getCaretNodeAndOffset)(),r=n[0],o=n[1];return r===null?!1:(0,pC.checkContenteditableSliceForEmptiness)(t,r,o,"right")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCaretAtEndOfInput=void 0;var e=ra;Object.defineProperty(t,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return e.isCaretAtEndOfInput}})})(dh);var hh={},oa={};Object.defineProperty(oa,"__esModule",{value:!0});oa.isCaretAtStartOfInput=bC;var Hn=Y,gC=Hr,mC=zr;function bC(t){var e=(0,Hn.getDeepestNode)(t);if(e===null||(0,Hn.isEmpty)(t))return!0;if((0,Hn.isNativeInput)(e))return e.selectionEnd===0;if((0,Hn.isEmpty)(t))return!0;var n=(0,gC.getCaretNodeAndOffset)(),r=n[0],o=n[1];return r===null?!1:(0,mC.checkContenteditableSliceForEmptiness)(t,r,o,"left")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCaretAtStartOfInput=void 0;var e=oa;Object.defineProperty(t,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return e.isCaretAtStartOfInput}})})(hh);var ph={},ia={};Object.defineProperty(ia,"__esModule",{value:!0});ia.save=kC;var vC=Y,yC=Ur;function kC(){var t=(0,yC.getRange)(),e=(0,vC.make)("span");if(e.id="cursor",e.hidden=!0,!!t)return t.insertNode(e),function(){var n=window.getSelection();n&&(t.setStartAfter(e),t.setEndAfter(e),n.removeAllRanges(),n.addRange(t),setTimeout(function(){e.remove()},150))}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.save=void 0;var e=ia;Object.defineProperty(t,"save",{enumerable:!0,get:function(){return e.save}})})(ph);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.save=t.isCaretAtStartOfInput=t.isCaretAtEndOfInput=t.getRange=t.getCaretNodeAndOffset=t.focus=t.getContenteditableSlice=t.checkContenteditableSliceForEmptiness=void 0;var e=ea;Object.defineProperty(t,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}});var n=lh;Object.defineProperty(t,"getContenteditableSlice",{enumerable:!0,get:function(){return n.getContenteditableSlice}});var r=ch;Object.defineProperty(t,"focus",{enumerable:!0,get:function(){return r.focus}});var o=na;Object.defineProperty(t,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return o.getCaretNodeAndOffset}});var i=uh;Object.defineProperty(t,"getRange",{enumerable:!0,get:function(){return i.getRange}});var s=dh;Object.defineProperty(t,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return s.isCaretAtEndOfInput}});var l=hh;Object.defineProperty(t,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return l.isCaretAtStartOfInput}});var c=ph;Object.defineProperty(t,"save",{enumerable:!0,get:function(){return c.save}})})(fn);class ie{static get CSS(){return{...fe,checklist:`${Ce}-checklist`,itemChecked:`${Ce}__checkbox--checked`,noHover:`${Ce}__checkbox--no-hover`,checkbox:`${Ce}__checkbox-check`,checkboxContainer:`${Ce}__checkbox`}}constructor(e,n){this.config=n,this.readOnly=e}renderWrapper(e){let n;return e===!0?(n=Y.make("ul",[ie.CSS.wrapper,ie.CSS.checklist]),n.addEventListener("click",r=>{const o=r.target;if(o){const i=o.closest(`.${ie.CSS.checkboxContainer}`);i&&i.contains(o)&&this.toggleCheckbox(i)}})):n=Y.make("ul",[ie.CSS.checklist,ie.CSS.itemChildren]),n}renderItem(e,n){const r=Y.make("li",[ie.CSS.item,ie.CSS.item]),o=Y.make("div",ie.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()}),i=Y.make("span",ie.CSS.checkbox),s=Y.make("div",ie.CSS.checkboxContainer);return n.checked===!0&&s.classList.add(ie.CSS.itemChecked),i.innerHTML=j1,s.appendChild(i),r.appendChild(s),r.appendChild(o),r}getItemContent(e){const n=e.querySelector(`.${ie.CSS.itemContent}`);return!n||Y.isEmpty(n)?"":n.innerHTML}getItemMeta(e){const n=e.querySelector(`.${ie.CSS.checkboxContainer}`);return{checked:n?n.classList.contains(ie.CSS.itemChecked):!1}}composeDefaultMeta(){return{checked:!1}}toggleCheckbox(e){e.classList.toggle(ie.CSS.itemChecked),e.classList.add(ie.CSS.noHover),e.addEventListener("mouseleave",()=>this.removeSpecialHoverBehavior(e),{once:!0})}removeSpecialHoverBehavior(e){e.classList.remove(ie.CSS.noHover)}}function To(t,e="after"){const n=[];let r;function o(i){switch(e){case"after":return i.nextElementSibling;case"before":return i.previousElementSibling}}for(r=o(t);r!==null;)n.push(r),r=o(r);return n.length!==0?n:null}function Qe(t,e=!0){let n=t;return t.classList.contains(fe.item)&&(n=t.querySelector(`.${fe.itemChildren}`)),n===null?[]:e?Array.from(n.querySelectorAll(`:scope > .${fe.item}`)):Array.from(n.querySelectorAll(`.${fe.item}`))}function xC(t){return t.nextElementSibling===null}function wC(t){return t.querySelector(`.${fe.itemChildren}`)!==null}function dt(t){return t.querySelector(`.${fe.itemChildren}`)}function Oo(t){let e=t;t.classList.contains(fe.item)&&(e=dt(t)),e!==null&&Qe(e).length===0&&e.remove()}function rr(t){return t.querySelector(`.${fe.itemContent}`)}function Nt(t,e=!0){const n=rr(t);n&&fn.focus(n,e)}class _o{get currentItem(){const e=window.getSelection();if(!e)return null;let n=e.anchorNode;return!n||(xt(n)||(n=n.parentNode),!n)||!xt(n)?null:n.closest(`.${fe.item}`)}get currentItemLevel(){const e=this.currentItem;if(e===null)return null;let n=e.parentNode,r=0;for(;n!==null&&n!==this.listWrapper;)xt(n)&&n.classList.contains(fe.item)&&(r+=1),n=n.parentNode;return r+1}constructor({data:e,config:n,api:r,readOnly:o,block:i},s){this.config=n,this.data=e,this.readOnly=o,this.api=r,this.block=i,this.renderer=s}render(){return this.listWrapper=this.renderer.renderWrapper(!0),this.data.items.length?this.appendItems(this.data.items,this.listWrapper):this.appendItems([{content:"",meta:{},items:[]}],this.listWrapper),this.readOnly||this.listWrapper.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.enterPressed(e);break;case"Backspace":this.backspace(e);break;case"Tab":e.shiftKey?this.shiftTab(e):this.addTab(e);break}},!1),"start"in this.data.meta&&this.data.meta.start!==void 0&&this.changeStartWith(this.data.meta.start),"counterType"in this.data.meta&&this.data.meta.counterType!==void 0&&this.changeCounters(this.data.meta.counterType),this.listWrapper}save(e){const n=e??this.listWrapper,r=s=>Qe(s).map(l=>{const c=dt(l),a=this.renderer.getItemContent(l),u=this.renderer.getItemMeta(l),d=c?r(c):[];return{content:a,meta:u,items:d}}),o=n?r(n):[];let i={style:this.data.style,meta:{},items:o};return this.data.style==="ordered"&&(i.meta={start:this.data.meta.start,counterType:this.data.meta.counterType}),i}static get pasteConfig(){return{tags:["OL","UL","LI"]}}merge(e){const n=this.block.holder.querySelectorAll(`.${fe.item}`),r=n[n.length-1],o=rr(r);if(r===null||o===null||(o.insertAdjacentHTML("beforeend",e.items[0].content),this.listWrapper===void 0))return;const i=Qe(this.listWrapper);if(i.length===0)return;const s=i[i.length-1];let l=dt(s);const c=e.items.shift();c!==void 0&&(c.items.length!==0&&(l===null&&(l=this.renderer.renderWrapper(!1)),this.appendItems(c.items,l)),e.items.length>0&&this.appendItems(e.items,this.listWrapper))}onPaste(e){const n=e.detail.data;this.data=this.pasteHandler(n);const r=this.listWrapper;r&&r.parentNode&&r.parentNode.replaceChild(this.render(),r)}pasteHandler(e){const{tagName:n}=e;let r="unordered",o;switch(n){case"OL":r="ordered",o="ol";break;case"UL":case"LI":r="unordered",o="ul"}const i={style:r,meta:{},items:[]};r==="ordered"&&(this.data.meta.counterType="numeric",this.data.meta.start=1);const s=l=>Array.from(l.querySelectorAll(":scope > li")).map(c=>{const a=c.querySelector(`:scope > ${o}`),u=a?s(a):[];return{content:c.innerHTML??"",meta:{},items:u}});return i.items=s(e),i}changeStartWith(e){this.listWrapper.style.setProperty("counter-reset",`item ${e-1}`),this.data.meta.start=e}changeCounters(e){this.listWrapper.style.setProperty("--list-counter-type",e),this.data.meta.counterType=e}enterPressed(e){var n;const r=this.currentItem;if(e.stopPropagation(),e.preventDefault(),e.isComposing||r===null)return;const o=((n=this.renderer)==null?void 0:n.getItemContent(r).trim().length)===0,i=r.parentNode===this.listWrapper,s=r.previousElementSibling===null,l=this.api.blocks.getCurrentBlockIndex();if(i&&o)if(xC(r)&&!wC(r)){s?this.convertItemToDefaultBlock(l,!0):this.convertItemToDefaultBlock();return}else{this.splitList(r);return}else if(o){this.unshiftItem(r);return}else this.splitItem(r)}backspace(e){var n;const r=this.currentItem;if(r!==null&&fn.isCaretAtStartOfInput(r)&&((n=window.getSelection())==null?void 0:n.isCollapsed)!==!1){if(e.stopPropagation(),r.parentNode===this.listWrapper&&r.previousElementSibling===null){this.convertFirstItemToDefaultBlock();return}e.preventDefault(),this.mergeItemWithPrevious(r)}}shiftTab(e){e.stopPropagation(),e.preventDefault(),this.currentItem!==null&&this.unshiftItem(this.currentItem)}unshiftItem(e){if(!e.parentNode||!xt(e.parentNode))return;const n=e.parentNode.closest(`.${fe.item}`);if(!n)return;let r=dt(e);if(e.parentElement===null)return;const o=To(e);o!==null&&(r===null&&(r=this.renderer.renderWrapper(!1)),o.forEach(i=>{r.appendChild(i)}),e.appendChild(r)),n.after(e),Nt(e,!1),Oo(n)}splitList(e){const n=Qe(e),r=this.block,o=this.api.blocks.getCurrentBlockIndex();if(n.length!==0){const c=n[0];this.unshiftItem(c),Nt(e,!1)}if(e.previousElementSibling===null&&e.parentNode===this.listWrapper){this.convertItemToDefaultBlock(o);return}const i=To(e);if(i===null)return;const s=this.renderer.renderWrapper(!0);i.forEach(c=>{s.appendChild(c)});const l=this.save(s);l.meta.start=this.data.style=="ordered"?1:void 0,this.api.blocks.insert(r==null?void 0:r.name,l,this.config,o+1),this.convertItemToDefaultBlock(o+1),s.remove()}splitItem(e){const[n,r]=fn.getCaretNodeAndOffset();if(n===null)return;const o=rr(e);let i;o===null?i="":i=fn.getContenteditableSlice(o,n,r,"right",!0);const s=dt(e),l=this.renderItem(i);e==null||e.after(l),s&&l.appendChild(s),Nt(l)}mergeItemWithPrevious(e){const n=e.previousElementSibling,r=e.parentNode;if(r===null||!xt(r))return;const o=r.closest(`.${fe.item}`);if(!n&&!o||n&&!xt(n))return;let i;if(n){const d=Qe(n,!1);d.length!==0&&d.length!==0?i=d[d.length-1]:i=n}else i=o;const s=this.renderer.getItemContent(e);if(!i)return;Nt(i,!1);const l=rr(i);if(l===null)return;l.insertAdjacentHTML("beforeend",s);const c=Qe(e);if(c.length===0){e.remove(),Oo(i);return}const a=n||o,u=dt(a)??this.renderer.renderWrapper(!1);n?c.forEach(d=>{u.appendChild(d)}):c.forEach(d=>{u.prepend(d)}),dt(a)===null&&i.appendChild(u),e.remove()}addTab(e){var n;e.stopPropagation(),e.preventDefault();const r=this.currentItem;if(!r)return;if(((n=this.config)==null?void 0:n.maxLevel)!==void 0){const s=this.currentItemLevel;if(s!==null&&s===this.config.maxLevel)return}const o=r.previousSibling;if(o===null||!xt(o))return;const i=dt(o);if(i)i.appendChild(r),Qe(r).forEach(s=>{i.appendChild(s)});else{const s=this.renderer.renderWrapper(!1);s.appendChild(r),Qe(r).forEach(l=>{s.appendChild(l)}),o.appendChild(s)}Oo(r),Nt(r,!1)}convertItemToDefaultBlock(e,n){let r;const o=this.currentItem,i=o!==null?this.renderer.getItemContent(o):"";n===!0&&this.api.blocks.delete(),e!==void 0?r=this.api.blocks.insert(void 0,{text:i},void 0,e):r=this.api.blocks.insert(),o==null||o.remove(),this.api.caret.setToBlock(r,"start")}convertFirstItemToDefaultBlock(){const e=this.currentItem;if(e===null)return;const n=Qe(e);if(n.length!==0){const s=n[0];this.unshiftItem(s),Nt(e)}const r=To(e),o=this.api.blocks.getCurrentBlockIndex(),i=r===null;this.convertItemToDefaultBlock(o,i)}renderItem(e,n){const r=n??this.renderer.composeDefaultMeta();switch(!0){case this.renderer instanceof qe:return this.renderer.renderItem(e,r);case this.renderer instanceof Ve:return this.renderer.renderItem(e,r);default:return this.renderer.renderItem(e,r)}}appendItems(e,n){e.forEach(r=>{var o;const i=this.renderItem(r.content,r.meta);if(n.appendChild(i),r.items.length){const s=(o=this.renderer)==null?void 0:o.renderWrapper(!1);this.appendItems(r.items,s),i.appendChild(s)}})}}const jt={wrapper:`${Ce}-start-with-field`,input:`${Ce}-start-with-field__input`,startWithElementWrapperInvalid:`${Ce}-start-with-field--invalid`};function SC(t,{value:e,placeholder:n,attributes:r,sanitize:o}){const i=Y.make("div",jt.wrapper),s=Y.make("input",jt.input,{placeholder:n,tabIndex:-1,value:e});for(const l in r)s.setAttribute(l,r[l]);return i.appendChild(s),s.addEventListener("input",()=>{o!==void 0&&(s.value=o(s.value));const l=s.checkValidity();!l&&!i.classList.contains(jt.startWithElementWrapperInvalid)&&i.classList.add(jt.startWithElementWrapperInvalid),l&&i.classList.contains(jt.startWithElementWrapperInvalid)&&i.classList.remove(jt.startWithElementWrapperInvalid),l&&t(s.value)}),i}const Un=new Map([["Numeric","numeric"],["Lower Roman","lower-roman"],["Upper Roman","upper-roman"],["Lower Alpha","lower-alpha"],["Upper Alpha","upper-alpha"]]),zl=new Map([["numeric",$1],["lower-roman",R1],["upper-roman",D1],["lower-alpha",F1],["upper-alpha",z1]]);function CC(t){return t.replace(/\D+/g,"")}function EC(t){return typeof t.items[0]=="string"}function TC(t){return!("meta"in t)}function OC(t){return typeof t.items[0]!="string"&&"text"in t.items[0]&&"checked"in t.items[0]&&typeof t.items[0].text=="string"&&typeof t.items[0].checked=="boolean"}function _C(t){const e=[];return EC(t)?(t.items.forEach(n=>{e.push({content:n,meta:{},items:[]})}),{style:t.style,meta:{},items:e}):OC(t)?(t.items.forEach(n=>{e.push({content:n.text,meta:{checked:n.checked},items:[]})}),{style:"checklist",meta:{},items:e}):TC(t)?{style:t.style,meta:{},items:t.items}:t}class kr{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return[{icon:jl,title:"Unordered List",data:{style:"unordered"}},{icon:$l,title:"Ordered List",data:{style:"ordered"}},{icon:Nl,title:"Checklist",data:{style:"checklist"}}]}static get pasteConfig(){return{tags:["OL","UL","LI"]}}static get conversionConfig(){return{export:e=>kr.joinRecursive(e),import:(e,n)=>({meta:{},items:[{content:e,meta:{},items:[]}],style:(n==null?void 0:n.defaultStyle)!==void 0?n.defaultStyle:"unordered"})}}get listStyle(){return this.data.style||this.defaultListStyle}set listStyle(e){var n;this.data.style=e,this.changeTabulatorByStyle();const r=this.list.render();(n=this.listElement)==null||n.replaceWith(r),this.listElement=r}constructor({data:e,config:n,api:r,readOnly:o,block:i}){var s;this.api=r,this.readOnly=o,this.config=n,this.block=i,this.defaultListStyle=((s=this.config)==null?void 0:s.defaultStyle)||"unordered";const l={style:this.defaultListStyle,meta:{},items:[]};this.data=Object.keys(e).length?_C(e):l,this.listStyle==="ordered"&&this.data.meta.counterType===void 0&&(this.data.meta.counterType="numeric"),this.changeTabulatorByStyle()}static joinRecursive(e){return e.items.map(n=>`${n.content} ${kr.joinRecursive(n)}`).join("")}render(){return this.listElement=this.list.render(),this.listElement}save(){return this.data=this.list.save(),this.data}merge(e){this.list.merge(e)}renderSettings(){const e=[{label:this.api.i18n.t("Unordered"),icon:jl,closeOnActivate:!0,isActive:this.listStyle=="unordered",onActivate:()=>{this.listStyle="unordered"}},{label:this.api.i18n.t("Ordered"),icon:$l,closeOnActivate:!0,isActive:this.listStyle=="ordered",onActivate:()=>{this.listStyle="ordered"}},{label:this.api.i18n.t("Checklist"),icon:Nl,closeOnActivate:!0,isActive:this.listStyle=="checklist",onActivate:()=>{this.listStyle="checklist"}}];if(this.listStyle==="ordered"){const n=SC(i=>this.changeStartWith(Number(i)),{value:String(this.data.meta.start??1),placeholder:"",attributes:{required:"true"},sanitize:i=>CC(i)}),r=[{label:this.api.i18n.t("Start with"),icon:H1,children:{items:[{element:n,type:"html"}]}}],o={label:this.api.i18n.t("Counter type"),icon:zl.get(this.data.meta.counterType),children:{items:[]}};Un.forEach((i,s)=>{o.children.items.push({title:this.api.i18n.t(s),icon:zl.get(Un.get(s)),isActive:this.data.meta.counterType===Un.get(s),closeOnActivate:!0,onActivate:()=>{this.changeCounters(Un.get(s))}})}),e.push({type:"separator"},...r,o)}return e}onPaste(e){const{tagName:n}=e.detail.data;switch(n){case"OL":this.listStyle="ordered";break;case"UL":case"LI":this.listStyle="unordered"}this.list.onPaste(e)}pasteHandler(e){return this.list.pasteHandler(e)}changeCounters(e){var n;(n=this.list)==null||n.changeCounters(e),this.data.meta.counterType=e}changeStartWith(e){var n;(n=this.list)==null||n.changeStartWith(e),this.data.meta.start=e}changeTabulatorByStyle(){switch(this.listStyle){case"ordered":this.list=new _o({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new qe(this.readOnly,this.config));break;case"unordered":this.list=new _o({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new Ve(this.readOnly,this.config));break;case"checklist":this.list=new _o({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new ie(this.readOnly,this.config));break}}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const BC='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function IC(t){const e=document.createElement("div");e.innerHTML=t.trim();const n=document.createDocumentFragment();return n.append(...Array.from(e.childNodes)),n}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */class sa{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:n,api:r,readOnly:o}){this.api=r,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=n.placeholder?n.placeholder:sa.DEFAULT_PLACEHOLDER,this._data=e??{},this._element=null,this._preserveBlank=n.preserveBlank??!1}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete"||!this._element)return;const{textContent:n}=this._element;n===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable="false",e.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable="true",e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){if(!this._element)return;this._data.text+=e.text;const n=IC(e.text);this._element.appendChild(n),this._element.normalize()}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const n={text:e.detail.data.innerHTML};this._data=n,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:BC,title:"Text"}}}var Bo,Fl;function LC(){if(Fl)return Bo;Fl=1;var t={code:({data:e})=>`<pre><code>${e.code}</code></pre>`,embed:({data:e})=>{const n=e.service;return n==="vimeo"?`<iframe src="${e.embed}" height="${e.height}" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>`:n==="youtube"?`<iframe width="${e.width}" height="${e.height}" src="${e.embed}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`:(console.error("[editorjs-html]: Only Youtube & Vimeo embeds are available by default. Write your own embed parser for other options."),"")},header:({data:e})=>`<h${e.level}>${e.text}</h${e.level}>`,image:({data:e})=>{var r;const n=e.caption?e.caption:"Image";return`<img src="${((r=e==null?void 0:e.file)==null?void 0:r.url)||(e==null?void 0:e.url)}" alt="${n}" />`},list:({data:e})=>{const n=e.style==="unordered"?"ul":"ol",r=(o,i)=>{const s=o.map(l=>{var a;if(!l.content&&!l.items)return`<li>${l}</li>`;let c="";return(a=l.items)!=null&&a.length&&(c=r(l.items,i)),l.content?`<li>${l.content}${c}</li>`:void 0});return`<${i}>${s.join("")}</${i}>`};return r(e.items,n)},paragraph:({data:e})=>{const n=e.alignment||e.align;return n?`<p style="text-align:${n}"> ${e.text} </p>`:`<p>${e.text}</p>`},quote:({data:e})=>`<blockquote>${e.text}</blockquote> - ${e.caption}`,delimiter:({data:e})=>"<br/>"};return Bo=(e={},n={strict:!1})=>{const r={...t,...e};return{parse:o=>(({blocks:i},s,l)=>i.reduce((c,a)=>{if(a.type in s)return c+s[a.type](a);const u=`[editorjs-html]: Parser function for ${a.type} does not exist`;if(l.strict)throw new Error(u);return console.error(u),c},""))(o,r,n),parseBlock:o=>((i,s,l)=>{if(i.type in s)return s[i.type](i);const c=`[editorjs-html]: Parser function for ${i.type} does not exist`;if(l.strict)throw new Error(c);console.error(c)})(o,r,n)}},Bo}var MC=LC();const Io=Kl(MC);var Lo,Hl;function AC(){if(Hl)return Lo;Hl=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,c=typeof _n=="object"&&_n&&_n.Object===Object&&_n,a=typeof self=="object"&&self&&self.Object===Object&&self,u=c||a||Function("return this")(),d=Object.prototype,h=d.toString,g=Math.max,f=Math.min,k=function(){return u.Date.now()};function O(C,N,j){var p,m,y,b,S,_,q=0,B=!1,X=!1,be=!0;if(typeof C!="function")throw new TypeError(t);N=T(N)||0,w(j)&&(B=!!j.leading,X="maxWait"in j,y=X?g(T(j.maxWait)||0,N):y,be="trailing"in j?!!j.trailing:be);function Ne(oe){var it=p,Zt=m;return p=m=void 0,q=oe,b=C.apply(Zt,it),b}function Xt(oe){return q=oe,S=setTimeout(vt,N),B?Ne(oe):b}function Wr(oe){var it=oe-_,Zt=oe-q,la=N-it;return X?f(la,y-Zt):la}function On(oe){var it=oe-_,Zt=oe-q;return _===void 0||it>=N||it<0||X&&Zt>=y}function vt(){var oe=k();if(On(oe))return aa(oe);S=setTimeout(vt,Wr(oe))}function aa(oe){return S=void 0,be&&p?Ne(oe):(p=m=void 0,b)}function fh(){S!==void 0&&clearTimeout(S),q=0,p=_=m=S=void 0}function gh(){return S===void 0?b:aa(k())}function qr(){var oe=k(),it=On(oe);if(p=arguments,m=this,_=oe,it){if(S===void 0)return Xt(_);if(X)return S=setTimeout(vt,N),Ne(_)}return S===void 0&&(S=setTimeout(vt,N)),b}return qr.cancel=fh,qr.flush=gh,qr}function w(C){var N=typeof C;return!!C&&(N=="object"||N=="function")}function E(C){return!!C&&typeof C=="object"}function U(C){return typeof C=="symbol"||E(C)&&h.call(C)==n}function T(C){if(typeof C=="number")return C;if(U(C))return e;if(w(C)){var N=typeof C.valueOf=="function"?C.valueOf():C;C=w(N)?N+"":N}if(typeof C!="string")return C===0?C:+C;C=C.replace(r,"");var j=i.test(C);return j||s.test(C)?l(C.slice(2),j?2:8):o.test(C)?e:+C}return Lo=O,Lo}var PC=AC();const NC=Kl(PC),jC=(t,e)=>{const n=ke.useRef(null),r=ke.useRef(!0),o=RC();return ke.useEffect(()=>{if(!n.current){const c=new O1({holder:t,onReady:async()=>{n.current=c;const a=xl(e);a&&await c.blocks.renderFromHTML(a)},tools:DC,onChange:async()=>{const a=async()=>{const u=await c.saver.save(),d=Io().parse(u);console.log(d)};r.current?r.current=!1:o(a)}})}return()=>{var c;(c=n.current)!=null&&c.destroy&&n.current.destroy()}},[]),{tilbakestillEndringer:()=>{if(n.current){const c=xl(e);c&&n.current.blocks.renderFromHTML(c)}else throw new Error("Editor er ikke initialisert")},lagreEndringer:()=>{o(async()=>{if(n.current){const c=await n.current.save(),a=Io().parse(c);console.log(a)}else throw new Error("Editor er ikke initialisert")})},validerEndringer:async()=>{if(n.current){const c=await n.current.save(),a=Io().parse(c);return Nk(a)}else throw new Error("Editor er ikke initialisert")}}},$C=()=>5e3,RC=()=>{const t=NC(e=>{e()},$C());return ke.useEffect(()=>()=>t.cancel(),[]),t},DC={paragraph:{class:sa,inlineToolbar:!0,config:{preservedBlank:!0}},header:{class:N1,inlineToolbar:!0,config:{levels:[2,1],defaultLevel:1,preservedBlank:!0}},list:{class:kr,inlineToolbar:!0,config:{defaultStyle:"unordered",preservedBlank:!0}}},oi=({htmlMal:t})=>{const[e,n]=ke.useState(!1),[r,o]=ke.useState(!1),[i,s]=ke.useState(!1),{lagreEndringer:l,validerEndringer:c,tilbakestillEndringer:a}=jC(Iu,t),u=()=>{l(),n(!1)},d=async()=>{const g=await c();s(!g)},h=()=>{a(),o(!1)};return I.jsxs(I.Fragment,{children:[I.jsx(Ht,{variant:"secondary",type:"button",onClick:()=>n(!0),size:"small",children:"Rediger"}),I.jsxs(yt,{open:e,onClose:()=>n(!1),width:"53.75rem","aria-label":"Rediger brev",children:[I.jsx(yt.Header,{children:I.jsxs(Yl,{gap:"4",children:[I.jsx(ca,{level:"3",size:"small",children:I.jsx(et,{id:"FritekstRedigeringModal.Rediger"})}),I.jsx(Mo,{variant:"info",size:"small",children:I.jsx(et,{id:"FritekstRedigeringModal.Infotekst"})})]})}),I.jsx(yt.Body,{children:I.jsx(Lu,{htmlMal:t,setVisTilbakestillAdvarsel:o,lagreOgLukk:u,forhåndsvis:d,visForhåndsvisValideringsFeil:i})})]}),I.jsxs(yt,{open:r,onClose:()=>o(!1),"aria-label":"Tilbakestill brev",children:[I.jsx(yt.Header,{children:I.jsx(ca,{as:"h3",size:"medium",children:I.jsx(et,{id:"FritekstRedigeringModal.BekreftTilbakestillTittel"})})}),I.jsx(yt.Body,{children:I.jsx(Mo,{variant:"warning",inline:!0,children:I.jsx(et,{id:"FritekstRedigeringModal.BekreftTilbakestill"})})}),I.jsxs(yt.Footer,{children:[I.jsx(Ht,{size:"small",type:"button",variant:"tertiary",onClick:()=>o(!1),children:I.jsx(et,{id:"FritekstRedigeringModal.IkkeTilbakestill"})}),I.jsx(Ht,{size:"small",type:"button",variant:"primary",onClick:h,children:I.jsx(et,{id:"FritekstRedigeringModal.Tilbakestill"})})]})]})]})};oi.__docgenInfo={description:"",methods:[],displayName:"FritekstRedigeringModal",props:{htmlMal:{required:!0,tsType:{name:"string"},description:""},vedtaksbrev:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  REDIGERTBREV: {
    redigertHtml: string;
    originalHtml: string;
    redigertMal: string;
    inkluderKalender: boolean;
  };
  VEDTAKSBREV_MAL: string;
  VEDTAKSBREV_TYPE: string;
}`,signature:{properties:[{key:"REDIGERTBREV",value:{name:"signature",type:"object",raw:`{
  redigertHtml: string;
  originalHtml: string;
  redigertMal: string;
  inkluderKalender: boolean;
}`,signature:{properties:[{key:"redigertHtml",value:{name:"string",required:!0}},{key:"originalHtml",value:{name:"string",required:!0}},{key:"redigertMal",value:{name:"string",required:!0}},{key:"inkluderKalender",value:{name:"boolean",required:!0}}]},required:!0}},{key:"VEDTAKSBREV_MAL",value:{name:"string",required:!0}},{key:"VEDTAKSBREV_TYPE",value:{name:"string",required:!0}}]}},description:""}}};const zC=Th(Eh),FC={REDIGERTBREV:{redigertHtml:`<h1>NAV har innvilget søknaden din om pleiepenger</h1><p>
        Du har rett til:
        </p><ul><li>
                    100 prosent pleiepenger 
    fra 16. desember 2024 til 19. desember 2024.
                    Du får utbetalt 462 kroner dagen, før skatt.
                    
                    
                </li></ul><p>
    

    







    
    NAV utbetaler pleiepenger innen den 25. i hver måned.




    Informasjon om utbetaling finner du under utbetalingsoversikten på "Min side".



        

        
            </p><h2>Hvorfor får du pleiepenger?</h2><p>
        NAV kan gi pleiepenger når du har omsorg for et barn som er sykt eller under utredning for sykdom,
        og som derfor trenger omsorg og pleie.
    </p><p>Vi har vurdert opplysningene i saken din, og har kommet frem til at du har rett til pleiepenger.</p><p>
        Dersom barnet har et fast og regelmessig omsorgstilbud, du skal jobbe eller det er andre personer som har tilsyn med barnet, skal pleiepengene graderes tilsvarende.
        Du finner mer informasjon om når pleiepenger skal reduseres på nav.no.
    </p><p>
       Fra 16. desember 2024 til 19. desember 2024 har du rett til

    100

prosent pleiepenger.



    
        
            Du får fulle pleiepenger fordi du ikke jobber  hos Bedrift AS 
 mens du pleier barnet.
        
    





    </p><p>Dette følger av folketrygdloven § 9-10 første og andre ledd.</p><h2>Hvordan har vi beregnet pleiepengene dine?</h2><p>


    




    Når vi beregner arbeidsinntekten din, bruker vi et gjennomsnitt av
de tre siste månedslønnene, som vi omregner til en årsinntekt.

    Hvis du nettopp har begynt å arbeide, byttet arbeidsforhold eller lønnen din har endret seg,
    bruker vi månedsinntektene etter at endringen skjedde.
    </p><p>
        
            Arbeidsgiver Bedrift AS har opplyst at månedsinntekten din er
                10&nbsp;000 kroner.
            
        
    </p><p>
    
        Vi har
        fastsatt pleiepengene dine ut fra en årsinntekt på 120&nbsp;000 kroner.
        
    

    
        
        

        
    
</p><p>Beregningen er gjort etter folketrygdloven  §§ 9-15 jf. 8-30.</p>`,originalHtml:`
    
        <h1>NAV har innvilget søknaden din om pleiepenger</h1>
        

        
            
        

        
    
    <p>
        Du har rett til:
        <ul>
            
                <li>
                    <p>
                    100 prosent pleiepenger 
    fra 16. desember 2024 til 19. desember 2024.
                    Du får utbetalt 462 kroner dagen, før skatt.
                    
                    </p>
                </li>
            
        </ul>
    </p>

    







    
    NAV utbetaler pleiepenger innen den 25. i hver måned.




    Informasjon om utbetaling finner du under utbetalingsoversikten på "Min side".



        

        
            <h2>Hvorfor får du pleiepenger?</h2>

    <p>
        NAV kan gi pleiepenger når du har omsorg for et barn som er sykt eller under utredning for sykdom,
        og som derfor trenger omsorg og pleie.
    </p>

<p>Vi har vurdert opplysningene i saken din, og har kommet frem til at du har rett til pleiepenger.</p>

            
    <p>
        Dersom barnet har et fast og regelmessig omsorgstilbud, du skal jobbe eller det er andre personer som har tilsyn med barnet, skal pleiepengene graderes tilsvarende.
        Du finner mer informasjon om når pleiepenger skal reduseres på nav.no.
    </p>

            
    
    <p>
       Fra 16. desember 2024 til 19. desember 2024 har du rett til

    100

prosent pleiepenger.



    
        
            Du får fulle pleiepenger fordi du ikke jobber  hos Bedrift AS 
 mens du pleier barnet.
        
    





    <p>Dette følger av folketrygdloven § 9-10 første og andre ledd.</p>

    </p>


        

        
            
    <h2>Hvordan har vi beregnet pleiepengene dine?</h2>


    




    Når vi beregner arbeidsinntekten din, bruker vi et gjennomsnitt av
de tre siste månedslønnene, som vi omregner til en årsinntekt.

    Hvis du nettopp har begynt å arbeide, byttet arbeidsforhold eller lønnen din har endret seg,
    bruker vi månedsinntektene etter at endringen skjedde.
    <p>
        
            Arbeidsgiver Bedrift AS har opplyst at månedsinntekten din er
                10 000 kroner.
            <br/>
        
    </p>

    












    

        

        

        

        <p>
            
                <p>
    
        Vi har
        fastsatt pleiepengene dine ut fra en årsinntekt på 120 000 kroner.
        
    

    
        
        

        
    
</p>
            
        </p>
    



<p>Beregningen er gjort etter folketrygdloven  §§ 9-15 jf. 8-30.</p>

        
    
`,redigertMal:"INNVILGELSE",inkluderKalender:!0},VEDTAKSBREV_MAL:"MANUELL",VEDTAKSBREV_TYPE:"MANUELL"},wE={title:"prosess/prosess-vedtak-editor",component:oi,decorators:[zC,Sh,Ch],args:{vedtaksbrev:FC,htmlMal:Dh},render:t=>I.jsx(oi,{...t})},Wn={};var Ul,Wl,ql;Wn.parameters={...Wn.parameters,docs:{...(Ul=Wn.parameters)==null?void 0:Ul.docs,source:{originalSource:"{}",...(ql=(Wl=Wn.parameters)==null?void 0:Wl.docs)==null?void 0:ql.source}}};const SE=["Default"];export{Wn as Default,SE as __namedExportsOrder,wE as default};
