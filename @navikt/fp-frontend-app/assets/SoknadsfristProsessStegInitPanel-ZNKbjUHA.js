import{k as En,$ as Tp,u as hn,m as _p,H as re,ab as Pp,B as E,L as O,a1 as Ku,ac as Sp,w as Np,T as Rp,I as Fp,J as Bp,K as Op,Q as Vp,U as Zd,D as de,y as $p,z as Dp,A as Gp,E as Mp,x as Xd,j as a,a as X,G as Bl,ad as Me,N as Te,t as Pe,P as qe,b as te,c as ne,f as C,V as y,a7 as De,e as ee,ae as Se,W as ue,M as Ht,a9 as wu,h as _i,X as er,af as Cu,ag as Lp,ah as Qd,ai as Kp,aj as Zr,d as wp}from"./index.es-bPyAXCfS.js";import{a_ as Cp,a$ as Up,n as jr,H as ie,z as $r,B as Ke,f as He,O as Ye,C as ce,a as W,c as nr,d as Tn,M as Uu,w as Xe,Z as jn,i as yr,k as In,I as An,s as zu,N as qu,y as Ol,aL as Pi,K as _n,a0 as xt,V as Hu,T as Ae,b0 as Tr,v as Wi,aA as zp,b1 as qp,r as Yt,q as Yu,b2 as Er,x as Qe,u as ve,at as U,b3 as en,e as Vl,b4 as Hp,au as Zi,b5 as Yp,b6 as eo,F as Xi,b7 as Jp,b as Qi,b8 as Wp,aM as Zp,g as Ju,l as $l,h as es,m as ns,b9 as kt,ba as Xp,P as Dl,bb as Qp,bc as ec,G as Wu,aI as nc,j as rc,L as tc,_ as ic}from"./AppIndex.stories-lh11RR5r.js";import{r as h,R as L}from"./index-DogsOklH.js";import{u as Zu,o as sc,f as rs,L as Nn,x as Rn,H as Z,F as m,I as we,C as _e,g as j,z as Xu,l as ac,V as Dr,A as Ie,k as no,E as Gr,h as Gl,n as lc,b as Ml,R as Ll,i as ts,G as Kl,a as xe,M as V,B as x,c as wl,m as dc,j as Ee,Y as yt,e as _r,T as Qu,p as oc,q as gc,d as Cl,r as uc,X as mc}from"./index.es-D6l0uhgQ.js";import{F as Mr}from"./VergeFaktaInitPanel-gLx7I7Ei.js";import{a as Pr,c as kc,V as Ul,P as Lr,b as fc}from"./OverstyringPanel-2oJpAuJb.js";import{c as em}from"./bind-cEaHbfSo.js";import{Q as zl,V as rr,c as nm,O as pc,s as cc}from"./VedtakProsessIndex-obEVmEsK.js";import{R as vc}from"./index-MroJ3egt.js";import{E as gn,A as S,s as Cn,I as ye,R as ua,q as on,N as bc,B as D,H as ql,M as Kr,Q as rm,_ as ro,k as tm,a as im,n as sm,p as hc,y as am,i as jc,e as Ic,z as lm,C as me,J as yn,x as to,w as Ac,g as Vn,c as io,X as xc}from"./index.es-tCBKjOwM.js";import{T as yc,Q as $e,v as Ec,y as Tc,m as _c,k as Pc}from"./Timeline-1tG4VPTA.js";import{E as Sr,n as Sc}from"./index.es-B34652_2.js";import{v as dm,P as Hl}from"./ProsessDefaultInitPanel-atAEt5UJ.js";import{a as Nc}from"./uttakPeriodeType-_M3Ql49Z.js";const Yl=h.createContext({headingSize:"small",size:"medium",openItems:[],mounted:!1});var Rc=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Jl=h.createContext(null),Fc=h.forwardRef((e,n)=>{var{children:r,className:t,open:i,defaultOpen:s=!1,onOpenChange:l}=e,o=Rc(e,["children","className","open","defaultOpen","onOpenChange"]);const[u,f]=Zu({defaultValue:s,value:i,onChange:l}),k=h.useContext(Yl),c=h.useRef(!(i||s)),b=()=>{f(v=>!v),c.current=!0};return k!=null&&k.mounted||console.error("<Accordion.Item> has to be used within an <Accordion>"),L.createElement("div",Object.assign({className:En("navds-accordion__item",t,{"navds-accordion__item--open":u,"navds-accordion__item--neutral":(k==null?void 0:k.variant)==="neutral","navds-accordion__item--no-animation":!c.current}),ref:n},Tp(o,["onClick"])),L.createElement(Jl.Provider,{value:{open:u,toggleOpen:b}},r))}),Bc=Fc;var Oc=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Vc=h.forwardRef((e,n)=>{var{children:r,className:t}=e,i=Oc(e,["children","className"]);const s=h.useContext(Jl);return s===null?(console.error("<Accordion.Content> has to be used within an <Accordion.Item>"),null):L.createElement(sc,Object.assign({},i,{as:"div",ref:n,className:En("navds-accordion__content",{"navds-accordion__content--closed":!s.open},t),"aria-hidden":!s.open||void 0}),r)}),$c=Vc;var Dc=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Gc=h.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Dc(e,["title","titleId"]);let s=hn();return s=r?t||"title-"+s:void 0,h.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?h.createElement("title",{id:s},r):null,h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.545 2.404a.75.75 0 0 1 .505-.152.757.757 0 0 1 .05-.002H19a.75.75 0 0 1 .75.75v18a.75.75 0 0 1-1.5 0V3.75H10.6l5.597 1.526A.75.75 0 0 1 16.75 6v15a.75.75 0 0 1-1.5 0V6.573l-9.5-2.591V21a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .295-.596ZM12.75 11.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z",fill:"currentColor"}))}),Mc=Gc;var Lc=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Kc=h.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Lc(e,["title","titleId"]);let s=hn();return s=r?t||"title-"+s:void 0,h.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?h.createElement("title",{id:s},r):null,h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm6.061-7.381a8.253 8.253 0 0 0 2.051 15.469v-.326c0-1.26-.985-2.25-2.414-2.25-.808 0-1.546-.197-2.079-.718-.535-.524-.733-1.249-.733-2.024 0-1.203.638-2.164 1.492-2.799.845-.629 1.942-.974 3.008-.974.736 0 1.381.187 1.899.342l.04.012c.534.16.888.267 1.225.267.003 0 .008 0 .02-.005a.268.268 0 0 0 .065-.038.976.976 0 0 0 .23-.281c.17-.29.27-.669.27-.965 0-.013-.014-.124-.191-.332a3.45 3.45 0 0 0-.713-.599 5.375 5.375 0 0 0-.876-.467 3.098 3.098 0 0 0-.307-.11c-.02.044-.044.1-.07.169-.027.07-.053.142-.081.222l-.012.035c-.032.09-.068.193-.106.29-.061.159-.176.443-.383.65a.868.868 0 0 1-.828.241.964.964 0 0 1-.52-.351c-.12-.152-.224-.367-.288-.497l-.023-.046a3.323 3.323 0 0 0-.144-.269.428.428 0 0 0-.13.05.903.903 0 0 0-.222.208l-.054.066a4.055 4.055 0 0 1-.319.365 1.268 1.268 0 0 1-.888.376c-.34 0-.735-.074-1.076-.32-.36-.26-.577-.652-.644-1.116-.079-.548.155-1.12.403-1.559A6.566 6.566 0 0 1 6.97 5.97c.172-.172.355-.33.513-.467l.101-.087c.189-.165.349-.312.493-.48.08-.093.159-.197.234-.317Zm1.86-.665c-.21.882-.548 1.484-.956 1.96a6.14 6.14 0 0 1-.646.633l-.122.105a7.622 7.622 0 0 0-.417.378c-.331.332-.62.705-.811 1.043a2.175 2.175 0 0 0-.193.43.787.787 0 0 0-.03.134c-.003.03-.001.043-.001.043.01.065.024.095.029.104a.029.029 0 0 0 .007.009c.005.003.032.02.095.03.02-.022.039-.046.065-.079l.152-.187c.135-.16.33-.37.61-.535.29-.17.636-.272 1.047-.272.453 0 .758.264.927.461.064-.14.144-.29.245-.424.17-.225.48-.505.952-.505.331 0 .722.125 1.053.262.36.149.757.356 1.13.601.368.243.74.54 1.027.878.277.325.552.774.552 1.306 0 .57-.175 1.21-.477 1.724-.286.486-.817 1.065-1.61 1.065-.566 0-1.123-.169-1.581-.308l-.115-.034c-.517-.156-.973-.28-1.467-.28-.762 0-1.54.253-2.113.679-.565.42-.887.97-.887 1.595 0 .537.135.808.283.952.15.147.443.29 1.03.29 2.18 0 3.913 1.588 3.913 3.75v.487l.138.001a8.22 8.22 0 0 0 3.416-.738.426.426 0 0 0 .058-.149c.015-.084.02-.236-.009-.63v-.006l-.01-.113c-.01-.135-.027-.327-.027-.5 0-.754.396-1.3.892-1.856.108-.124.184-.216.237-.287a17.66 17.66 0 0 0-.261-.161l-.004-.003a16.024 16.024 0 0 1-.45-.28c-.308-.203-.667-.464-.954-.79-.29-.332-.55-.782-.55-1.345 0-.624.28-1.216.66-1.645.376-.424.946-.793 1.613-.793.845 0 1.397.465 1.691.713l.014.011c.032.027.06.051.086.071l.007.006.169.138c.207.168.365.297.49.394.209-.139.56-.337 1.024-.337h.158a8.25 8.25 0 0 0-10.08-7.996Zm9.952 9.496a8.249 8.249 0 0 1-3.164 5.144l-.015-.181c-.009-.108-.016-.192-.016-.299 0-.158.047-.338.513-.86l.003-.003c.44-.5.726-.897.726-1.469 0-.372-.23-.618-.322-.71a2.508 2.508 0 0 0-.377-.296c-.119-.079-.253-.16-.38-.238l-.018-.011a14.821 14.821 0 0 1-.408-.255c-.274-.18-.498-.353-.649-.525-.147-.168-.178-.28-.178-.355 0-.185.094-.437.283-.65.192-.217.384-.288.49-.288.274 0 .403.104.711.353l.144.115.157.128c.261.213.473.385.634.507.097.072.198.145.298.202.071.041.262.148.506.148a.95.95 0 0 0 .38-.082c.083-.036.154-.08.202-.11.049-.033.097-.067.132-.093l.006-.004.014-.01.084-.059c.131-.089.184-.099.213-.099h.03Z",fill:"currentColor"}))}),wc=Kc;var Cc=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Uc=h.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Cc(e,["title","titleId"]);let s=hn();return s=r?t||"title-"+s:void 0,h.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?h.createElement("title",{id:s},r):null,h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 3.25a.25.25 0 0 1 .25.25v4c0 .69.56 1.25 1.25 1.25h4a.25.25 0 0 1 .25.25v10.5c0 .69-.56 1.25-1.25 1.25h-11c-.69 0-1.25-.56-1.25-1.25v-15c0-.69.56-1.25 1.25-1.25H13Zm2.177.866a.25.25 0 0 0-.427.177V7c0 .138.112.25.25.25h2.707a.25.25 0 0 0 .177-.427l-2.707-2.707Z",fill:"currentColor"}))}),om=Uc;var zc=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const qc=h.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=zc(e,["title","titleId"]);let s=hn();return s=r?t||"title-"+s:void 0,h.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?h.createElement("title",{id:s},r):null,h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.525 2.167c-.754-.12-1.61.093-2.525.826-.914-.732-1.768-.947-2.522-.829-.835.132-1.354.65-1.503.8l-.005.006-.006.006c-.15.149-.668.667-.8 1.502-.141.898.19 1.937 1.306 3.052l3 3a.75.75 0 0 0 1.06 0l3-3c1.116-1.116 1.445-2.158 1.303-3.055-.133-.836-.651-1.354-.797-1.5l-.011-.01c-.146-.147-.664-.665-1.5-.798ZM9.03 4.03c.113-.112.341-.33.682-.384.289-.046.873 0 1.758.884a.75.75 0 0 0 1.06 0c.884-.884 1.47-.928 1.76-.881.343.054.572.273.68.381.107.108.327.337.381.68.047.29.003.876-.881 1.76L12 8.94 9.53 6.47C8.645 5.584 8.6 5 8.646 4.712c.053-.34.272-.57.384-.682ZM21.75 15.22c0-1.797-1.918-2.943-3.5-2.092l-2.633 1.416a2.477 2.477 0 0 0-.668-1.513c-.466-.49-1.138-.78-1.949-.78h-3c-.095 0-.259-.045-.535-.178-.105-.05-.208-.104-.321-.164l-.084-.044a6.345 6.345 0 0 0-.456-.22c-.563-.238-1.386-.394-2.604-.394-1.754 0-2.753.755-3.268 1.614a3.467 3.467 0 0 0-.482 1.614V14.5L3 14.5h-.75V19c0 .323.207.61.513.712l3 1A.75.75 0 0 0 6 20.75h9.298a2.75 2.75 0 0 0 1.718-.603l3.843-3.073c.563-.451.891-1.134.891-1.855ZM13 17.25c.518 0 .98-.118 1.366-.331l4.595-2.47a.875.875 0 0 1 .96 1.453l-3.842 3.074a1.25 1.25 0 0 1-.78.274H6.121l-2.372-.79v-3.958l.003-.045a1.968 1.968 0 0 1 .265-.82c.235-.392.736-.887 1.982-.887 1.11 0 1.711.145 2.02.276.097.04.207.096.346.168l.073.038c.114.06.245.129.375.192.303.146.729.326 1.186.326h3c.439 0 .705.148.863.314a.992.992 0 0 1 .262.686c0 .263-.094.51-.262.686-.158.166-.424.314-.863.314h-3a.75.75 0 0 0 0 1.5h3Z",fill:"currentColor"}))}),Xr=qc;var Hc=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Yc=h.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Hc(e,["title","titleId"]);let s=hn();return s=r?t||"title-"+s:void 0,h.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?h.createElement("title",{id:s},r):null,h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.998 6.75a1.248 1.248 0 1 0 0 2.495 1.248 1.248 0 0 0 0-2.495ZM5.25 7.998a2.748 2.748 0 1 1 5.495 0 2.748 2.748 0 0 1-5.495 0Zm.22 10.532a.75.75 0 0 1 0-1.06l12-12a.75.75 0 1 1 1.06 1.06l-12 12a.75.75 0 0 1-1.06 0Zm9.28-2.532a1.248 1.248 0 1 1 2.495 0 1.248 1.248 0 0 1-2.495 0Zm1.248-2.748a2.748 2.748 0 1 0 0 5.495 2.748 2.748 0 0 0 0-5.495Z",fill:"currentColor"}))}),Jc=Yc;var Wc=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Zc=h.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Wc(e,["title","titleId"]);let s=hn();return s=r?t||"title-"+s:void 0,h.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?h.createElement("title",{id:s},r):null,h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.75a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5ZM8.75 5.5a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0Zm-1 7.5c0-1.987 1.912-3.75 4.25-3.75s4.25 1.763 4.25 3.75v8a.75.75 0 0 1-1.5 0v-8c0-1.013-1.088-2.25-2.75-2.25S9.25 11.987 9.25 13v1.75H8.5c-.793 0-1.32.287-1.664.719-.364.454-.586 1.145-.586 2.031 0 .886.222 1.577.586 2.032.345.431.871.718 1.664.718a.75.75 0 0 1 0 1.5c-1.207 0-2.18-.463-2.836-1.282-.636-.795-.914-1.854-.914-2.968 0-1.114.278-2.173.914-2.969.513-.64 1.222-1.064 2.086-1.217V13Zm2.634 3.116a1.25 1.25 0 0 0-1.768 1.768l1.884 1.884 1.884-1.884a1.25 1.25 0 0 0-1.768-1.768l-.116.116-.116-.116Z",fill:"currentColor"}))}),Xc=Zc;var Qc=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const ev=h.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Qc(e,["title","titleId"]);let s=hn();return s=r?t||"title-"+s:void 0,h.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?h.createElement("title",{id:s},r):null,h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.116 2.823a1.25 1.25 0 0 1 1.768 0l3.793 3.793a1.25 1.25 0 0 1 0 1.768L10.06 10 14 13.94l1.616-1.617a1.25 1.25 0 0 1 1.768 0l3.793 3.793a1.25 1.25 0 0 1 0 1.768l-2.781 2.78a2.606 2.606 0 0 1-2.811.578A23.025 23.025 0 0 1 2.758 8.415a2.606 2.606 0 0 1 .577-2.81l2.781-2.782Z",fill:"currentColor"}))}),gm=ev;var nv=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const rv=h.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=nv(e,["title","titleId"]);let s=hn();return s=r?t||"title-"+s:void 0,h.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?h.createElement("title",{id:s},r):null,h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 3.75c-.14 0-.25.112-.25.249V9c0 1.15.23 1.956.546 2.526.315.567.738.94 1.193 1.193.94.522 2.01.531 2.511.531.5 0 1.572-.009 2.51-.53a3.008 3.008 0 0 0 1.194-1.194c.317-.57.546-1.376.546-2.526V3.999A.249.249 0 0 0 14 3.75h-2a.75.75 0 0 1 0-1.5h2c.965 0 1.75.781 1.75 1.749V9c0 1.35-.27 2.419-.735 3.255a4.506 4.506 0 0 1-1.776 1.776c-.883.49-1.819.646-2.489.696V19.5a.75.75 0 0 0 1.5 0V19c0-1.288.886-2.37 2.082-2.668a2.751 2.751 0 1 1 .07 1.57A1.25 1.25 0 0 0 13.75 19v.5a2.25 2.25 0 0 1-4.5 0v-4.773c-.67-.05-1.606-.206-2.49-.696a4.507 4.507 0 0 1-1.775-1.776C4.521 11.419 4.25 10.35 4.25 9V3.999c0-.968.785-1.749 1.75-1.749h2a.75.75 0 0 1 0 1.5H6ZM15.75 17a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0Z",fill:"currentColor"}))}),tv=rv;var iv=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const sv=h.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=iv(e,["title","titleId"]);let s=hn();return s=r?t||"title-"+s:void 0,h.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?h.createElement("title",{id:s},r):null,h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 4.75c-.69 0-1.25.56-1.25 1.25v.25h6.5V6c0-.69-.56-1.25-1.25-1.25h-4Zm6.75 1.5V6A2.75 2.75 0 0 0 14 3.25h-4A2.75 2.75 0 0 0 7.25 6v.25H4.5a.75.75 0 0 0 0 1.5h.805l.876 11.384a1.75 1.75 0 0 0 1.745 1.616h8.148a1.75 1.75 0 0 0 1.745-1.616l.875-11.384h.806a.75.75 0 0 0 0-1.5h-2.75Zm-6 4.25a.75.75 0 0 0-1.5 0v6a.75.75 0 0 0 1.5 0v-6ZM14 9.75a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 .75-.75Z",fill:"currentColor"}))}),av=sv;var lv=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const dv=h.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=lv(e,["title","titleId"]);let s=hn();return s=r?t||"title-"+s:void 0,h.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?h.createElement("title",{id:s},r):null,h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.803 2.276a.75.75 0 0 1 .868.389l1.293 2.585H19c.966 0 1.75.784 1.75 1.75v2.418c.591.281 1 .884 1 1.582v3c0 .698-.409 1.3-1 1.582V18A1.75 1.75 0 0 1 19 19.75H4A1.75 1.75 0 0 1 2.25 18V7c0-.966.784-1.75 1.75-1.75h.9l10.903-2.974Zm-.199 1.61.683 1.364H10.6l5.004-1.365ZM3.75 7A.25.25 0 0 1 4 6.75h15a.25.25 0 0 1 .25.25v2.25H15.333a1.944 1.944 0 0 0-.138.007 3.52 3.52 0 0 0-1.37.393 2.856 2.856 0 0 0-1.093 1.006c-.305.486-.482 1.097-.482 1.844 0 .747.177 1.358.482 1.844.304.483.706.8 1.093 1.006a3.518 3.518 0 0 0 1.508.4h3.917V18a.25.25 0 0 1-.25.25H4a.25.25 0 0 1-.25-.25V7Zm11.603 3.75H20a.25.25 0 0 1 .25.25v3a.25.25 0 0 1-.25.25h-4.647c-.007 0-.02 0-.037-.002h-.007a2.023 2.023 0 0 1-.78-.222 1.356 1.356 0 0 1-.526-.48c-.136-.216-.253-.543-.253-1.046s.117-.83.253-1.047c.138-.22.323-.371.525-.478a2.023 2.023 0 0 1 .825-.225Zm.147 1a.75.75 0 0 0 0 1.5h.01a.75.75 0 0 0 0-1.5h-.01Z",fill:"currentColor"}))}),Qr=dv;var ov=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const gv=h.forwardRef((e,n)=>{var r,{children:t,className:i,onClick:s}=e,l=ov(e,["children","className","onClick"]);const o=h.useContext(Jl),u=h.useContext(Yl);return o===null?(console.error("<Accordion.Header> has to be used within an <Accordion.Item>, which in turn must be within an <Accordion>"),null):L.createElement("button",Object.assign({ref:n},l,{className:En("navds-accordion__header",i),onClick:_p(s,o.toggleOpen),"aria-expanded":o.open,type:"button"}),L.createElement("span",{className:"navds-accordion__icon-wrapper"},L.createElement(rs,{className:"navds-accordion__header-chevron",title:"Vis mer","aria-hidden":!0})),L.createElement(re,{size:(r=u==null?void 0:u.headingSize)!==null&&r!==void 0?r:"small",as:"span",className:"navds-accordion__header-content"},t))}),uv=gv;var mv=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const is=h.forwardRef((e,n)=>{var{className:r,variant:t="default",headingSize:i="small",size:s="medium",indent:l=!0}=e,o=mv(e,["className","variant","headingSize","size","indent"]);return L.createElement(Yl.Provider,{value:{variant:t,headingSize:i,size:s,mounted:!0}},L.createElement("div",Object.assign({},o,{className:En("navds-accordion",r,`navds-accordion--${s}`,{"navds-accordion--indent":l}),ref:n})))});is.Header=uv;is.Content=$c;is.Item=Bc;const Ve=is;var kv=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const fv=h.forwardRef((e,n)=>{var r,t,i,{rootElement:s,asChild:l}=e,o=kv(e,["rootElement","asChild"]);const u=(r=Pp())===null||r===void 0?void 0:r.rootElement,f=(t=s??u)!==null&&t!==void 0?t:(i=globalThis==null?void 0:globalThis.document)===null||i===void 0?void 0:i.body,k=l?Cp:"div";return f?vc.createPortal(L.createElement(k,Object.assign({ref:n,"data-aksel-portal":""},o)),f):null}),pv=fv,ma=h.createContext({listType:"ul",isNested:null,size:"medium"});var cv=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const um=h.forwardRef((e,n)=>{var{className:r,children:t,title:i,icon:s}=e,l=cv(e,["className","children","title","icon"]);const{listType:o,size:u}=h.useContext(ma);return o==="ol"&&s&&console.warn("<List />: Icon prop is not supported for ordered lists. Please remove the icon prop."),L.createElement("li",Object.assign({},l,{ref:n,className:En("navds-list__item",r)}),o==="ul"&&L.createElement("div",{className:En({"navds-list__item-marker--icon":s,"navds-list__item-marker--bullet":!s})},s||L.createElement("svg",{width:"6",height:"6",viewBox:"0 0 6 6",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,focusable:!1,role:"img"},L.createElement("rect",{width:"6",height:"6",rx:"3",fill:"currentColor"}))),L.createElement(E,{as:"div",size:u,className:"navds-list__item-content"},i&&L.createElement(O,{as:"p",size:u},i),t))});um.displayName="List.Item";var vv=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const mm=h.forwardRef((e,n)=>{var r,{children:t,className:i,as:s="ul",title:l,description:o,headingTag:u="h3",size:f}=e,k=vv(e,["children","className","as","title","description","headingTag","size"]);const c=Ku(),{isNested:b,size:v}=h.useContext(ma),I=(r=f??v)!==null&&r!==void 0?r:"medium";return L.createElement(ma.Provider,{value:{listType:s,isNested:b!==null,size:I}},L.createElement("div",Object.assign({},k,{ref:n,className:En("navds-list",`navds-list--${I}`,i,{"navds-list--nested":b!==null})}),l&&L.createElement(re,{id:`tittel-${c}`,size:I==="medium"?"small":"xsmall",as:u},l),o&&L.createElement(E,{size:I,id:`description-${c}`},o),L.createElement(s,{"aria-labelledby":l&&`tittel-${c}`,"aria-describedby":o&&`description-${c}`},t)))});mm.Item=um;const Q=mm;var bv=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const hv=h.forwardRef((e,n)=>{var{children:r,className:t,arrow:i=!0,placement:s="top",open:l,defaultOpen:o=!1,onOpenChange:u,offset:f,content:k,delay:c=150,id:b,keys:v,maxChar:I=80}=e,T=bv(e,["children","className","arrow","placement","open","defaultOpen","onOpenChange","offset","content","delay","id","keys","maxChar"]);const[P,_]=Zu({defaultValue:o,value:l,onChange:u}),R=h.useRef(null),A=h.useContext(Sp),N=A?A.ref.current:void 0,{x:F,y:G,strategy:$,context:q,placement:Y,middlewareData:{arrow:{x:w,y:B}={},hide:{referenceHidden:K}={}},refs:J}=Np({placement:s,open:P,onOpenChange:Be=>_(Be),middleware:[$p(f||(i?10:2)),Dp(),Gp({padding:5,fallbackPlacements:["bottom","top"]}),Mp({element:R,padding:5})],whileElementsMounted:A?(Be,On,Le)=>Xd(Be,On,Le,{animationFrame:!0}):Xd,strategy:A?"fixed":void 0}),{getReferenceProps:H,getFloatingProps:z}=Rp([Fp(q,{handleClose:Bp(),restMs:c}),Op(q),Vp(q)]),oe=Ku(b),je=Zd(n,J.setFloating),Fe=Zd(r.ref,J.setReference);return!r||(r==null?void 0:r.type)===L.Fragment||r===L.Fragment?(console.error("<Tooltip> children needs to be a single ReactElement and not: <React.Fragment/> | <></>"),null):((k==null?void 0:k.length)>I&&P&&console.warn(`Because of strict accessibility concers we encourage all Tooltips to have less than 80 characters. Can be overwritten with the maxChar-prop

Length:${k.length}
Tooltip-content: ${k}`),L.createElement(L.Fragment,null,h.cloneElement(r,H(Object.assign(Object.assign({},r.props),{ref:Fe,"aria-describedby":P?En(oe,r==null?void 0:r.props["aria-describedby"]):r==null?void 0:r.props["aria-describedby"]}))),L.createElement(pv,{rootElement:N},P&&L.createElement("div",Object.assign({},z(Object.assign(Object.assign({},T),{ref:je,style:{position:$,top:G??0,left:F??0,visibility:K?"hidden":"visible"},role:"tooltip",id:oe,className:En("navds-tooltip","navds-detail navds-detail--small",t)})),{"data-side":Y}),k,v&&L.createElement("span",{className:"navds-tooltip__keys"},v.map(Be=>L.createElement(de,{as:"kbd",key:Be,className:"navds-tooltip__key"},Be))),i&&L.createElement("div",{ref:Be=>{R.current=Be},className:"navds-tooltip__arrow",style:{left:w!=null?`${w}px`:"",top:B!=null?`${B}px`:"",right:"",bottom:"",[{top:"bottom",right:"left",bottom:"top",left:"right"}[Y]]:"-3.5px"}})))))}),jv=hv;var vt=(e=>(e.MANGLENDE_INNTEKTSMELDING="MANGLENDE_INNTEKTSMELDING",e.INNTEKTSMELDING_UTEN_ARBEIDSFORHOLD="INNTEKTSMELDING_UTEN_ARBEIDSFORHOLD",e.PERMISJON_UTEN_SLUTTDATO="PERMISJON_UTEN_SLUTTDATO",e))(vt||{});const Dn={KUN_YTELSE:"KUN_YTELSE",ARBEIDSTAKER:"AT",FRILANSER:"FL",SELVSTENDIG_NAERINGSDRIVENDE:"SN",KOMBINERT_AT_FL:"AT_FL",KOMBINERT_AT_SN:"AT_SN",KOMBINERT_FL_SN:"FL_SN",KOMBINERT_AT_FL_SN:"AT_FL_SN",DAGPENGER:"DP",ARBEIDSAVKLARINGSPENGER:"AAP",MILITAER_ELLER_SIVIL:"MS",BRUKERS_ANDEL:"BA",UDEFINERT:"-"};var se=(e=>(e.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_INNTEKTSMELDING="KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_INNTEKTSMELDING",e.FORTSETT_UTEN_INNTEKTSMELDING="FORTSETT_UTEN_INNTEKTSMELDING",e.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_ARBEIDSFORHOLD="KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_ARBEIDSFORHOLD",e.IKKE_OPPRETT_BASERT_PÅ_INNTEKTSMELDING="IKKE_OPPRETT_BASERT_PÅ_INNTEKTSMELDING",e.OPPRETT_BASERT_PÅ_INNTEKTSMELDING="OPPRETT_BASERT_PÅ_INNTEKTSMELDING",e.MANUELT_OPPRETTET_AV_SAKSBEHANDLER="MANUELT_OPPRETTET_AV_SAKSBEHANDLER",e.FJERN_FRA_BEHANDLINGEN="FJERN_FRA_BEHANDLINGEN",e.SLÅTT_SAMMEN_MED_ANNET="SLÅTT_SAMMEN_MED_ANNET",e.BRUK_MED_OVERSTYRT_PERIODE="BRUK_MED_OVERSTYRT_PERIODE",e.INNTEKT_IKKE_MED_I_BG="INNTEKT_IKKE_MED_I_BG",e.BRUK="BRUK",e.NYTT_ARBEIDSFORHOLD="NYTT_ARBEIDSFORHOLD",e))(se||{});const ke={ARBEID:"ARBEID",AAP:"AAP",DAGPENGER:"DAGPENGER",FORELDREPENGER:"FORELDREPENGER",FRILANS:"FRILANS",MILITAR_ELLER_SIVILTJENESTE:"MILITÆR_ELLER_SIVILTJENESTE",NARING:"NÆRING",OMSORGSPENGER:"OMSORGSPENGER",OPPLARINGSPENGER:"OPPLÆRINGSPENGER",PLEIEPENGER:"PLEIEPENGER",SVANGERSKAPSPENGER:"SVANGERSKAPSPENGER",SYKEPENGER:"SYKEPENGER",VARTPENGER:"VARTPENGER",VIDERE_ETTERUTDANNING:"VIDERE_ETTERUTDANNING",UTENLANDSK_ARBEIDSFORHOLD:"UTENLANDSK_ARBEIDSFORHOLD",VENTELØNN_VARTPENGER:"VENTELØNN_VARTPENGER",ETTERLONN_SLUTTPAKKE:"ETTERLØNN_SLUTTPAKKE"},ka=({headerColumnContent:e})=>a.jsx(Nn,{headerColumnContent:e,noHover:!0,children:a.jsxs(Rn,{children:[a.jsx(Z,{children:a.jsx(E,{size:"small",children:a.jsx(m,{id:"PersonArbeidsforholdTable.IngenArbeidsforholdRegistrert"})})}),a.jsx(Z,{}),a.jsx(Z,{}),a.jsx(Z,{}),a.jsx(Z,{}),a.jsx(Z,{})]})});try{ka.displayName="IngenArbeidsforholdRegistrert",ka.__docgenInfo={description:"",displayName:"IngenArbeidsforholdRegistrert",props:{headerColumnContent:{defaultValue:null,description:"",name:"headerColumnContent",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>[]"}}}}}catch{}const Iv="_image_awjuc_1",Av={image:Iv},so=[a.jsx(m,{id:"PersonArbeidsforholdTable.Arbeidsforhold",values:{br:a.jsx("br",{})}},1),a.jsx(m,{id:"PersonArbeidsforholdTable.Periode",values:{br:a.jsx("br",{})}},2),a.jsx(m,{id:"PersonArbeidsforholdTable.Kilde",values:{br:a.jsx("br",{})}},3),a.jsx(m,{id:"PersonArbeidsforholdTable.Stillingsprosent",values:{br:a.jsx("br",{})}},4),a.jsx(m,{id:"PersonArbeidsforholdTable.MottattDato",values:{br:a.jsx("br",{})}},5),a.jsx("div",{},6)],xv=(e,n)=>e.saksbehandlersVurdering===se.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?n.formatMessage({id:"PersonArbeidsforholdTable.Inntektsmelding"}):e.saksbehandlersVurdering===se.MANUELT_OPPRETTET_AV_SAKSBEHANDLER?n.formatMessage({id:"PersonArbeidsforholdTable.Saksbehandler"}):n.formatMessage({id:"PersonArbeidsforholdTable.AaRegisteret"}),Si=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent&&(!n.internArbeidsforholdId||n.internArbeidsforholdId===e.internArbeidsforholdId),yv=e=>e?`...${e.substring(e.length-4,e.length)}`:"",Ev=(e,n,r)=>{const t=r[e.arbeidsgiverIdent],i=t==null?void 0:t.navn;return e.saksbehandlersVurdering===se.MANUELT_OPPRETTET_AV_SAKSBEHANDLER?i:n.filter(l=>l.arbeidsgiverIdent===e.arbeidsgiverIdent).length>1?`${i}(${t.identifikator})${yv(e.eksternArbeidsforholdId)}`:`${i}(${t.identifikator})`},Tv=(e,n)=>{const r=n[e.arbeidsgiverIdent];return`${e.eksternArbeidsforholdId}${e.arbeidsgiverIdent}${r.identifikator}`},fa=({alleArbeidsforhold:e,selectedId:n,selectArbeidsforholdCallback:r,arbeidsgiverOpplysningerPerId:t,inntektsmeldinger:i})=>{const s=X();return e.length===0?a.jsx(ka,{headerColumnContent:so}):a.jsx(Nn,{headerColumnContent:so,children:e&&e.map(l=>{var k;const o=l.stillingsprosent!==void 0&&l.stillingsprosent!==null?`${l.stillingsprosent.toFixed(2)} %`:"",u=Ev(l,e,t),f=(k=i.find(c=>Si(l,c)))==null?void 0:k.motattDato;return a.jsxs(Rn,{model:l,onMouseDown:r,onKeyDown:r,isSelected:l.arbeidsgiverIdent===n,children:[a.jsx(Z,{children:a.jsx(E,{size:"small",children:Bl(u)})}),a.jsx(Z,{children:a.jsx(E,{size:"small",children:a.jsx(we,{dateStringFom:l.fom,dateStringTom:l.tom!==Me?l.tom:void 0})})}),a.jsx(Z,{children:a.jsx(E,{size:"small",children:xv(l,s)})}),a.jsx(Z,{children:a.jsx(E,{size:"small",children:o})}),a.jsx(Z,{children:f&&a.jsx(E,{size:"small",children:a.jsx(_e,{dateString:f})})}),a.jsx(Z,{children:(l.saksbehandlersVurdering===se.BRUK||l.saksbehandlersVurdering===se.FORTSETT_UTEN_INNTEKTSMELDING)&&a.jsx(Up,{className:Av.image,title:s.formatMessage({id:"PersonArbeidsforholdTable.ErIBruk"})})})]},Tv(l,t))})})};try{fa.displayName="PersonArbeidsforholdTable",fa.__docgenInfo={description:"",displayName:"PersonArbeidsforholdTable",props:{alleArbeidsforhold:{defaultValue:null,description:"",name:"alleArbeidsforhold",required:!0,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string | undefined; eksternArbeidsforholdId?: string | undefined; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}},selectedId:{defaultValue:null,description:"",name:"selectedId",required:!1,type:{name:"string"}},selectArbeidsforholdCallback:{defaultValue:null,description:"",name:"selectArbeidsforholdCallback",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent> | KeyboardEvent<Element>, id?: void | undefined, model?: Readonly<{ arbeidsgiverIdent: string; ... 8 more ...; begrunnelse?: string | undefined; }> | undefined) => void"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},inntektsmeldinger:{defaultValue:null,description:"",name:"inntektsmeldinger",required:!0,type:{name:"Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]"}}}}}catch{}const pa=({arbeidsforhold:e})=>e.permisjonOgMangel?a.jsxs(a.Fragment,{children:[a.jsx(j,{sixteenPx:!0}),a.jsx(O,{size:"small",children:a.jsx(m,{id:"PermisjonPeriode.Permisjon"})}),a.jsx(E,{size:"small",children:a.jsx(we,{dateStringFom:e.permisjonOgMangel.permisjonFom,dateStringTom:e.permisjonOgMangel.permisjonTom?e.permisjonOgMangel.permisjonTom:""})}),a.jsx(j,{sixteenPx:!0})]}):null;try{pa.displayName="PermisjonPeriode",pa.__docgenInfo={description:"",displayName:"PermisjonPeriode",props:{arbeidsforhold:{defaultValue:null,description:"",name:"arbeidsforhold",required:!0,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string | undefined; eksternArbeidsforholdId?: string | undefined; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}}}}}catch{}var ca=(e=>(e.BRUK_PERMISJON="BRUK_PERMISJON",e.IKKE_BRUK_PERMISJON="IKKE_BRUK_PERMISJON",e))(ca||{});const _v=e=>e.saksbehandlersVurdering===se.BRUK_MED_OVERSTYRT_PERIODE||e.saksbehandlersVurdering===se.BRUK_MED_OVERSTYRT_PERIODE?e.tom:void 0,Pv=e=>e.permisjonOgMangel?"ArbeidsforholdDetail.ArbeidsforholdErAktivtOgHarPermisjonMenSoekerErIkkePermisjon":e.saksbehandlersVurdering===se.MANUELT_OPPRETTET_AV_SAKSBEHANDLER?"ArbeidsforholdDetail.OppdaterArbeidsforhold":"ArbeidsforholdDetail.ArbeidsforholdErAktivt",va=({valgtArbeidsforhold:e})=>{var k,c;const n=e.saksbehandlersVurdering===se.BRUK,r=e.saksbehandlersVurdering===se.FORTSETT_UTEN_INNTEKTSMELDING,t=e.saksbehandlersVurdering===se.BRUK_MED_OVERSTYRT_PERIODE,i=e.saksbehandlersVurdering===se.IKKE_OPPRETT_BASERT_PÅ_INNTEKTSMELDING,s=e.saksbehandlersVurdering===se.OPPRETT_BASERT_PÅ_INNTEKTSMELDING,l=e.saksbehandlersVurdering===se.MANUELT_OPPRETTET_AV_SAKSBEHANDLER,o=((k=e.permisjonOgMangel)==null?void 0:k.permisjonStatus)===ca.BRUK_PERMISJON,u=((c=e.permisjonOgMangel)==null?void 0:c.permisjonStatus)===ca.IKKE_BRUK_PERMISJON,f=_v(e);return a.jsxs(a.Fragment,{children:[a.jsx(j,{thirtyTwoPx:!0}),a.jsxs(Xu,{children:[a.jsx(re,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdDetail.Header"})}),a.jsx(pa,{arbeidsforhold:e}),t&&a.jsxs(a.Fragment,{children:[a.jsx(E,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdDetail.ArbeidsforholdetErIkkeAktivt"})}),a.jsx(E,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdDetail.ArbeidsforholdetAktivTomDato"})}),a.jsxs(E,{size:"small",children:[f&&a.jsx(_e,{dateString:f}),!f&&"-"]})]}),n&&o&&a.jsx(E,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdDetail.SokerErIPermisjon"})}),s&&a.jsx(E,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdDetail.OppdatertGittIm"})}),(l||(n||r)&&(!e.permisjonOgMangel||u))&&a.jsxs(a.Fragment,{children:[a.jsx(E,{size:"small",children:a.jsx(m,{id:Pv(e)})}),a.jsx(j,{sixteenPx:!0}),r&&a.jsx(E,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdDetail.BenyttAInntektIBeregningsgrunnlag"})}),!r&&!l&&a.jsx(E,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdDetail.AvslaYtelseManglendeOpplysninger"})})]}),i&&a.jsx(E,{size:"small",children:a.jsx(m,{id:i?"ArbeidsforholdDetail.FjernArbeidsforholdet":"ArbeidsforholdDetail.IMIkkeRelevant"})}),a.jsx(j,{sixteenPx:!0}),a.jsx(O,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdDetail.Begrunnelse"})}),a.jsx(E,{size:"small",children:e.begrunnelse})]})]})};try{va.displayName="ArbeidsforholdDetail",va.__docgenInfo={description:"",displayName:"ArbeidsforholdDetail",props:{valgtArbeidsforhold:{defaultValue:null,description:"",name:"valgtArbeidsforhold",required:!0,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string | undefined; eksternArbeidsforholdId?: string | undefined; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}}}}}catch{}const ao=(e,n)=>n.some(r=>Si(e,r)),Sv=(e,n)=>(r,t)=>{var u,f;const i=e[r.arbeidsgiverIdent],s=e[t.arbeidsgiverIdent];if(i&&s){const k=i.navn.localeCompare(s.navn);if(k!==0)return k}const l=ao(r,n),o=ao(t,n);if(l&&o){const k=(u=n.find(b=>Si(r,b)))==null?void 0:u.motattDato,c=(f=n.find(b=>Si(t,b)))==null?void 0:f.motattDato;return jr(c,Te).diff(jr(k,Te))}return l?-1:o?1:r.arbeidsgiverIdent.localeCompare(t.arbeidsgiverIdent)},ba=({arbeidOgInntekt:e,arbeidsgiverOpplysningerPerId:n})=>{const[r,t]=h.useState(),i=h.useCallback((u,f,k)=>{const c=!!(k!=null&&k.saksbehandlersVurdering);t(c?k:void 0)},[t]),{arbeidsforhold:s,inntektsmeldinger:l}=e,o=h.useMemo(()=>s.slice().sort(Sv(n,l)),[n]);return a.jsxs(a.Fragment,{children:[a.jsx(re,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdInfoPanel.ArbeidsforholdHeader"})}),a.jsx(fa,{selectedId:r==null?void 0:r.arbeidsgiverIdent,alleArbeidsforhold:o,selectArbeidsforholdCallback:i,arbeidsgiverOpplysningerPerId:n,inntektsmeldinger:l}),r&&a.jsx(va,{valgtArbeidsforhold:r})]})};try{ba.displayName="ArbeidsforholdInfoPanel",ba.__docgenInfo={description:"",displayName:"ArbeidsforholdInfoPanel",props:{arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}}}}}catch{}const Nv={"ArbeidsforholdInfoPanel.ArbeidsforholdHeader":"Arbeidsforhold som er aktive ved permisjonsstart","PersonArbeidsforholdTable.Arbeidsforhold":"{br}Arbeidsforhold","PersonArbeidsforholdTable.Periode":"{br}Periode","PersonArbeidsforholdTable.Kilde":"{br}Kilde","PersonArbeidsforholdTable.Stillingsprosent":"{br}Stillingsprosent","PersonArbeidsforholdTable.MottattDato":"Inntektsmeld.{br}mottatt dato","PersonArbeidsforholdTable.ErIBruk":"Arbeidsforhold skal brukes","PersonArbeidsforholdTable.IngenArbeidsforhold":"Det finnes ingen arbeidsforhold","PersonArbeidsforholdTable.IngenArbeidsforholdRegistrert":"Ingen arbeidsforhold registrert","PersonArbeidsforholdTable.LeggTilArbeidsforhold":"Legg til arbeidsforhold","ArbeidsforholdDetail.Header":"Detaljer","ArbeidsforholdDetail.ArbeidsforholdErAktivt":"Arbeidsforholdet er aktivt og skal benyttes i behandlingen. Nødvendig inntektsmelding er ikke mottatt.","ArbeidsforholdDetail.OppdaterArbeidsforhold":"Arbeidsforhold er manuelt opprettet av saksbehandler","ArbeidsforholdDetail.ArbeidsforholdErAktivtOgHarPermisjonMenSoekerErIkkePermisjon":"Søker er ikke i permisjon. Arbeidsforholdet er aktivt og skal benyttes i behandlingen.","ArbeidsforholdDetail.FjernArbeidsforholdet":"Fjern arbeidsforholdet for denne behandlingen","ArbeidsforholdDetail.IMIkkeRelevant":"Inntektsmeldingen er ikke relevant, gå videre uten disse opplysningene","ArbeidsforholdDetail.ArbeidsforholdetErIkkeAktivt":"Arbeidsforholdet er ikke aktivt. Inntektsmelding er ikke nødvendig.","ArbeidsforholdDetail.ArbeidsforholdetAktivTomDato":"Arbeidsforhold aktivt tom. dato","ArbeidsforholdDetail.AvslaYtelseManglendeOpplysninger":"Ytelsen kan avslås på grunn av manglende opplysninger.","ArbeidsforholdDetail.BenyttAInntektIBeregningsgrunnlag":"Fortsett behandling uten inntektsmelding, inntekt fra A-inntekt benyttes i beregningsgrunnlaget.","ArbeidsforholdDetail.Begrunnelse":"Begrunn endringene","ArbeidsforholdDetail.SokerErIPermisjon":"Søker er i permisjon. Inntektsmelding er ikke nødvendig.","ArbeidsforholdDetail.OppdatertGittIm":"Arbeidsforholdet er opprettet basert på motatt inntektsmelding","PersonArbeidsforholdTable.Inntektsmelding":"Inntektsmelding","PersonArbeidsforholdTable.Saksbehandler":"Saksbehandler","PersonArbeidsforholdTable.AaRegisteret":"AA-Registeret","PermisjonPeriode.Permisjon":"Permisjon","PermisjonPeriode.Permisjoner":"Permisjoner"},Rv=Pe(Nv),ha=({arbeidOgInntekt:e,arbeidsgiverOpplysningerPerId:n})=>a.jsx(qe,{value:Rv,children:a.jsx(ba,{arbeidOgInntekt:e,arbeidsgiverOpplysningerPerId:n})});try{ha.displayName="ArbeidsforholdFaktaIndex",ha.__docgenInfo={description:"",displayName:"ArbeidsforholdFaktaIndex",props:{arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},submittable:{defaultValue:null,description:"",name:"submittable",required:!0,type:{name:"boolean"}},harApneAksjonspunkter:{defaultValue:null,description:"",name:"harApneAksjonspunkter",required:!0,type:{name:"boolean"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const lo=[ie.AVKLAR_ARBEIDSFORHOLD],Fv=[Ke.ARBEID_OG_INNTEKT],oo=({arbeidsgiverOpplysningerPerId:e,...n})=>a.jsx(Mr,{...n,panelEndepunkter:Fv,aksjonspunktKoder:lo,faktaPanelKode:$r.ARBEIDSFORHOLD,faktaPanelMenyTekst:X().formatMessage({id:"ArbeidsforholdInfoPanel.Title"}),skalPanelVisesIMeny:()=>!!n.behandling&&n.behandling.aksjonspunkt&&n.behandling.aksjonspunkt.some(r=>lo.some(t=>t===r.definisjon)),renderPanel:r=>a.jsx(ha,{arbeidsgiverOpplysningerPerId:e,...r})});try{oo.displayName="ArbeidsforholdFaktaInitPanel",oo.__docgenInfo={description:`ArbeidsforholdFaktaInitPanel

Dette faktapanelet skal alltid vises`,displayName:"ArbeidsforholdFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}const Wl=h.createContext({isDirty:!1,setDirty:()=>{}}),ja=({children:e})=>{const[n,r]=h.useState(!1),t=h.useMemo(()=>({isDirty:n,setDirty:r}),[n,r]);return a.jsx(Wl.Provider,{value:t,children:e})},bt=e=>{const n=h.useContext(Wl);h.useEffect(()=>{n.setDirty(e)},[e])},Bv=()=>h.useContext(Wl).isDirty;try{ja.displayName="DirtyFormProvider",ja.__docgenInfo={description:`Håndterer state for data som skal hentes fra backend kun en gang og som en trenger aksess til
mange steder i applikasjonen.`,displayName:"DirtyFormProvider",props:{}}}catch{}try{bt.displayName="useSetDirtyForm",bt.__docgenInfo={description:"",displayName:"useSetDirtyForm",props:{}}}catch{}const br="342352362",Ov=In(3),Vv=An(1500),$v=zu(1),Dv=qu(100),Gv=e=>n=>{const r=e("fom");return n&&r?Ol(r)(n):null},Ni=({behandlingUuid:e,behandlingVersjon:n,isReadOnly:r,registrerArbeidsforhold:t,radData:i,lukkArbeidsforholdRad:s,erOverstyrt:l,oppdaterTabell:o,erNyttArbeidsforhold:u=!1})=>{const f=X(),[k,c]=h.useState(!1),b=h.useMemo(()=>{var _,R,A,N,F;return{fom:(_=i==null?void 0:i.avklaring)==null?void 0:_.fom,tom:(R=i==null?void 0:i.avklaring)==null?void 0:R.tom,stillingsprosent:(A=i==null?void 0:i.avklaring)==null?void 0:A.stillingsprosent,begrunnelse:(N=i==null?void 0:i.avklaring)==null?void 0:N.begrunnelse,arbeidsgiverNavn:(F=i==null?void 0:i.avklaring)==null?void 0:F.arbeidsgiverNavn}},[i]),v=He({defaultValues:b});bt(v.formState.isDirty);const I=h.useCallback(()=>{s(),v.reset(b)},[s]),T=h.useCallback(_=>{const R={behandlingUuid:e,behandlingVersjon:n,arbeidsgiverIdent:br,vurdering:se.MANUELT_OPPRETTET_AV_SAKSBEHANDLER,..._};return t(R).then(()=>{o(A=>{const N={arbeidsgiverIdent:br,arbeidsgiverNavn:_.arbeidsgiverNavn,avklaring:{fom:_.fom,tom:_.tom,stillingsprosent:_.stillingsprosent,arbeidsgiverNavn:_.arbeidsgiverNavn,begrunnelse:_.begrunnelse,saksbehandlersVurdering:se.MANUELT_OPPRETTET_AV_SAKSBEHANDLER}},F=A.findIndex(G=>G.arbeidsgiverIdent===br);return F===-1?A.concat(N):A.map((G,$)=>$===F?N:G)}),v.reset(_),u&&s()})},[e,o]),P=h.useCallback(()=>{const _=v.getValues(),R={behandlingUuid:e,behandlingVersjon:n,arbeidsgiverIdent:br,vurdering:se.FJERN_FRA_BEHANDLINGEN,..._};t(R).then(()=>{o(A=>A.filter(N=>N.arbeidsgiverIdent!==br)),u&&s()})},[v]);return a.jsxs(a.Fragment,{children:[!i&&a.jsxs(a.Fragment,{children:[a.jsx(re,{size:"small",children:a.jsx(m,{id:"LeggTilArbeidsforholdForm.LeggTilArbeidsforhold"})}),a.jsx(j,{sixteenPx:!0})]}),a.jsx(j,{eightPx:!0}),a.jsxs(Ye,{formMethods:v,onSubmit:T,children:[a.jsxs(te,{gap:"4",children:[l&&a.jsxs(a.Fragment,{children:[a.jsx(ce,{name:"arbeidsgiverNavn",label:a.jsx(m,{id:"LeggTilArbeidsforholdForm.Arbeidsgiver"}),validate:[W],readOnly:r||!l}),a.jsx(nr,{name:"fom",label:a.jsx(m,{id:"LeggTilArbeidsforholdForm.PeriodeFra"}),validate:[W,Tn],isReadOnly:r||!l}),a.jsx(nr,{name:"tom",label:a.jsx(m,{id:"LeggTilArbeidsforholdForm.PeriodeTil"}),validate:[Tn,Gv(v.getValues)],isReadOnly:r||!l})]}),a.jsx(ce,{name:"stillingsprosent",label:a.jsx(m,{id:"LeggTilArbeidsforholdForm.Stillingsprosent"}),parse:_=>{const R=parseInt(_.toString(),10);return Number.isNaN(R)?_:R},validate:[W,Uu,$v,Dv],readOnly:r||!l,maxLength:3})]}),a.jsx(j,{twentyPx:!0}),a.jsx(Xe,{label:a.jsx(m,{id:"LeggTilArbeidsforholdForm.Begrunn"}),name:"begrunnelse",validate:[W,Ov,Vv,jn],maxLength:1500,readOnly:r||!l}),a.jsx(j,{twentyPx:!0}),l&&a.jsxs(te,{gap:"4",children:[a.jsx(ne,{size:"small",variant:"secondary",loading:v.formState.isSubmitting,disabled:!v.formState.isDirty||v.formState.isSubmitting,children:a.jsx(m,{id:"LeggTilArbeidsforholdForm.Lagre"})}),a.jsx(ne,{size:"small",variant:"tertiary",loading:!1,disabled:v.formState.isSubmitting,onClick:I,type:"button",children:a.jsx(m,{id:"LeggTilArbeidsforholdForm.Avbryt"})}),i&&a.jsxs(a.Fragment,{children:[a.jsx(yr,{}),a.jsx(ne,{size:"small",variant:"tertiary",loading:!1,disabled:v.formState.isSubmitting,onClick:()=>c(!0),type:"button",icon:a.jsx(av,{"aria-hidden":!0}),children:a.jsx(m,{id:"LeggTilArbeidsforholdForm.Slett"})})]})]}),a.jsx(j,{fourtyPx:!0})]}),k&&a.jsx(ac,{text:f.formatMessage({id:"NyttArbeidsforholdForm.VilDuSlette"}),submit:P,cancel:()=>c(!1),showModal:!0})]})};try{Ni.displayName="ManueltLagtTilArbeidsforholdForm",Ni.__docgenInfo={description:"",displayName:"ManueltLagtTilArbeidsforholdForm",props:{behandlingUuid:{defaultValue:null,description:"",name:"behandlingUuid",required:!0,type:{name:"string"}},behandlingVersjon:{defaultValue:null,description:"",name:"behandlingVersjon",required:!0,type:{name:"number"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},registrerArbeidsforhold:{defaultValue:null,description:"",name:"registrerArbeidsforhold",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; behandlingVersjon: number; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; arbeidsgiverNavn: string; fom: string; tom?: string | undefined; stillingsprosent: number; vurdering: string; }>) => Promise<...>"}},radData:{defaultValue:null,description:"",name:"radData",required:!1,type:{name:"ArbeidsforholdOgInntektRadData"}},arbeidsforhold:{defaultValue:null,description:"",name:"arbeidsforhold",required:!1,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string; eksternArbeidsforholdId?: string; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}},lukkArbeidsforholdRad:{defaultValue:null,description:"",name:"lukkArbeidsforholdRad",required:!0,type:{name:"() => void"}},erOverstyrt:{defaultValue:null,description:"",name:"erOverstyrt",required:!0,type:{name:"boolean"}},oppdaterTabell:{defaultValue:null,description:"",name:"oppdaterTabell",required:!0,type:{name:"(data: (rader: ArbeidsforholdOgInntektRadData[]) => ArbeidsforholdOgInntektRadData[]) => void"}},erNyttArbeidsforhold:{defaultValue:{value:"false"},description:"",name:"erNyttArbeidsforhold",required:!1,type:{name:"boolean"}}}}}catch{}const Mv="_inline_glms2_1",Lv="_textMargin_glms2_5",Kv="_docIcon_glms2_9",wv="_phoneIcon_glms2_14",js={inline:Mv,textMargin:Lv,docIcon:Kv,phoneIcon:wv},Nr=({saksnummer:e,arbeidsforhold:n,inntektsmelding:r,skalViseArbeidsforholdId:t,alleKodeverk:i,arbeidsgiverFødselsdato:s,ikkeVisInfo:l})=>a.jsxs(a.Fragment,{children:[a.jsx(j,{eightPx:!0}),!l&&s&&a.jsxs(te,{gap:"4",children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Fodselsdato"})}),a.jsx(de,{children:a.jsx(_e,{dateString:s})})]}),!l&&!s&&a.jsxs(te,{gap:"4",children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Orgnr"})}),a.jsx(de,{children:r.arbeidsgiverIdent})]}),a.jsx(j,{eightPx:!0}),t&&a.jsxs(a.Fragment,{children:[a.jsxs(te,{gap:"4",children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"InntektsmeldingOpplysningerPanel.ArbeidsforholdId"})}),a.jsx(E,{size:"small",children:r.eksternArbeidsforholdId})]}),a.jsx(j,{eightPx:!0})]}),n&&a.jsxs(a.Fragment,{children:[a.jsxs(te,{gap:"4",children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Stillingsprosent"})}),a.jsx(E,{size:"small",children:n.stillingsprosent?`${n.stillingsprosent}%`:"-"})]}),n.permisjonOgMangel&&a.jsxs(a.Fragment,{children:[a.jsx(j,{eightPx:!0}),a.jsxs(te,{gap:"4",children:[a.jsx(O,{size:"small",children:Pi(i,_n.PERMISJONSBESKRIVELSE_TYPE,n.permisjonOgMangel.type)}),a.jsx(E,{size:"small",children:a.jsx(we,{dateStringFom:n.permisjonOgMangel.permisjonFom,dateStringTom:n.permisjonOgMangel.permisjonTom})})]})]}),a.jsx(j,{eightPx:!0})]}),a.jsxs(te,{gap:"4",children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Inntektsmelding"})}),a.jsx(E,{size:"small",children:C(r.inntektPrMnd)})]}),a.jsx(j,{eightPx:!0}),a.jsxs(te,{gap:"4",children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjon"})}),a.jsx(E,{size:"small",children:a.jsx(m,{id:r.refusjonPrMnd?"InntektsmeldingOpplysningerPanel.Ja":"InntektsmeldingOpplysningerPanel.Nei"})})]}),a.jsx(j,{eightPx:!0}),r.refusjonPrMnd!==void 0&&r.refusjonPrMnd!==null&&a.jsxs(a.Fragment,{children:[a.jsxs(te,{gap:"4",children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjonsbeløp"})}),a.jsx(E,{size:"small",children:C(r.refusjonPrMnd)})]}),a.jsx(j,{eightPx:!0})]}),a.jsxs(xt,{href:Hu(e,r.journalpostId,r.dokumentId),target:"_blank",children:[a.jsx("span",{children:a.jsx(E,{size:"small",className:js.inline,children:a.jsx(m,{id:"InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding"})})}),a.jsx(om,{className:js.docIcon})]}),a.jsx(j,{sixteenPx:!0}),a.jsxs(te,{gap:"4",children:[a.jsx(gm,{className:js.phoneIcon}),a.jsx("div",{children:a.jsxs(Dr,{children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Kontaktinfo"})}),a.jsx(de,{children:r.kontaktpersonNavn}),a.jsx(de,{children:a.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Tlf",values:{nr:r.kontaktpersonNummer}})})]})})]}),a.jsx(j,{thirtyTwoPx:!0})]});try{Nr.displayName="InntektsmeldingOpplysningerPanel",Nr.__docgenInfo={description:"",displayName:"InntektsmeldingOpplysningerPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},arbeidsforhold:{defaultValue:null,description:"",name:"arbeidsforhold",required:!1,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string; eksternArbeidsforholdId?: string; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}},inntektsmelding:{defaultValue:null,description:"",name:"inntektsmelding",required:!0,type:{name:"Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>"}},skalViseArbeidsforholdId:{defaultValue:null,description:"",name:"skalViseArbeidsforholdId",required:!0,type:{name:"boolean"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!1,type:{name:"AlleKodeverk"}},arbeidsgiverFødselsdato:{defaultValue:null,description:"",name:"arbeidsgiverFødselsdato",required:!1,type:{name:"string"}},ikkeVisInfo:{defaultValue:null,description:"",name:"ikkeVisInfo",required:!1,type:{name:"boolean"}}}}}catch{}const Cv="_hjelpetekst_1kk6h_1",Uv="_alertStripe_1kk6h_5",zv="_hjelpetekstInnhold_1kk6h_9",qv="_svg_1kk6h_14",Jt={hjelpetekst:Cv,alertStripe:Uv,hjelpetekstInnhold:zv,svg:qv},Hv=In(3),Yv=An(1500),Jv=zu(1),Wv=qu(100),Zv=e=>n=>{const r=e("fom");return r&&n?Ol(r)(n):null},Ia=({saksnummer:e,behandlingUuid:n,behandlingVersjon:r,arbeidsgiverNavn:t,inntektsmelding:i,radData:s,isReadOnly:l,registrerArbeidsforhold:o,lagreVurdering:u,lukkArbeidsforholdRad:f,oppdaterTabell:k,skalViseArbeidsforholdId:c,arbeidsgiverFødselsdato:b})=>{const v=X(),I=h.useMemo(()=>{var $,q,Y,w,B;return{saksbehandlersVurdering:($=s.avklaring)==null?void 0:$.saksbehandlersVurdering,begrunnelse:(q=s.avklaring)==null?void 0:q.begrunnelse,fom:(Y=s.avklaring)==null?void 0:Y.fom,tom:(w=s.avklaring)==null?void 0:w.tom,stillingsprosent:(B=s.avklaring)==null?void 0:B.stillingsprosent}},[s]),T=He({defaultValues:I});bt(T.formState.isDirty);const P=T.watch("saksbehandlersVurdering"),_=h.useCallback(()=>{f(),T.reset(I)},[I,f]),R=h.useCallback($=>{const q=()=>{k(Y=>Y.map(w=>{if(i.arbeidsgiverIdent===w.arbeidsgiverIdent){const K=$.saksbehandlersVurdering===se.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?{arbeidsgiverIdent:i.arbeidsgiverIdent,fom:$.fom,tom:$.tom,stillingsprosent:$.stillingsprosent,begrunnelse:$.begrunnelse,saksbehandlersVurdering:$.saksbehandlersVurdering}:void 0;return{...s,avklaring:K||{begrunnelse:$.begrunnelse,saksbehandlersVurdering:$.saksbehandlersVurdering}}}return w}))};return $.saksbehandlersVurdering===se.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?o({behandlingUuid:n,behandlingVersjon:r,internArbeidsforholdRef:i.internArbeidsforholdId,arbeidsgiverNavn:t,arbeidsgiverIdent:i.arbeidsgiverIdent,vurdering:se.OPPRETT_BASERT_PÅ_INNTEKTSMELDING,begrunnelse:$.begrunnelse,fom:$.fom,tom:$.tom,stillingsprosent:$.stillingsprosent}).then(q).finally(()=>T.reset($)):u({behandlingUuid:n,behandlingVersjon:r,vurdering:$.saksbehandlersVurdering,begrunnelse:$.begrunnelse,arbeidsgiverIdent:i.arbeidsgiverIdent,internArbeidsforholdRef:i.internArbeidsforholdId}).then(q).finally(()=>T.reset($))},[i,k]),A=h.useRef(null),[N,F]=h.useState(!1),G=h.useCallback(()=>F($=>!$),[]);return a.jsxs(a.Fragment,{children:[a.jsx(Nr,{saksnummer:e,inntektsmelding:i,skalViseArbeidsforholdId:c,arbeidsgiverFødselsdato:b}),a.jsx(j,{fourtyPx:!0}),a.jsx("div",{className:Jt.alertStripe,children:a.jsx(Ie,{variant:"info",children:a.jsx(m,{id:"ManglendeOpplysningerForm.ErMottattMenIkkeReg"})})}),a.jsx(j,{thirtyTwoPx:!0}),a.jsxs(Ye,{formMethods:T,onSubmit:R,children:[a.jsx(Ae,{name:"saksbehandlersVurdering",label:a.jsxs(te,{gap:"2",children:[a.jsx(m,{id:"ManglendeOpplysningerForm.SkalBrukeInntekstmelding"}),a.jsx(zl,{className:Jt.svg,ref:A,onClick:G,title:v.formatMessage({id:"ManglendeOpplysningerForm.AltHjelpetekst"})}),a.jsx(Tr,{open:N,onClose:G,anchorEl:A.current,className:Jt.hjelpetekst,children:a.jsx(Tr.Content,{className:Jt.hjelpetekstInnhold,children:a.jsx(E,{children:a.jsx(m,{id:"ManglendeOpplysningerForm.Hjelpetekst"})})})})]}),validate:[W],isReadOnly:l,radios:[{label:v.formatMessage({id:"ManglendeOpplysningerForm.TarKontakt"}),value:se.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_ARBEIDSFORHOLD},{label:v.formatMessage({id:"ManglendeOpplysningerForm.GåVidere"}),value:se.IKKE_OPPRETT_BASERT_PÅ_INNTEKTSMELDING},{label:v.formatMessage({id:"ManglendeOpplysningerForm.OpprettArbeidsforhold"}),value:se.OPPRETT_BASERT_PÅ_INNTEKTSMELDING}]}),P===se.OPPRETT_BASERT_PÅ_INNTEKTSMELDING&&a.jsxs(a.Fragment,{children:[a.jsx(j,{eightPx:!0}),a.jsxs(te,{gap:"4",children:[a.jsx(nr,{name:"fom",label:a.jsx(m,{id:"ManglendeOpplysningerForm.PeriodeFra"}),validate:[W,Tn],isReadOnly:l}),a.jsx(nr,{name:"tom",label:a.jsx(m,{id:"ManglendeOpplysningerForm.PeriodeTil"}),validate:[Tn,Zv(T.getValues)],isReadOnly:l}),a.jsx(ce,{name:"stillingsprosent",label:a.jsx(m,{id:"ManglendeOpplysningerForm.Stillingsprosent"}),parse:$=>{const q=parseInt($.toString(),10);return Number.isNaN(q)?$:q},validate:[W,Uu,Jv,Wv],readOnly:l,maxLength:3})]}),a.jsx(j,{fourPx:!0})]}),a.jsx(j,{sixteenPx:!0}),a.jsx(Xe,{label:a.jsx(m,{id:"ManglendeOpplysningerForm.Begrunn"}),name:"begrunnelse",validate:[W,Hv,Yv,jn],maxLength:1500,readOnly:l}),a.jsx(j,{twentyPx:!0}),!l&&a.jsxs(te,{gap:"4",children:[a.jsx(ne,{size:"small",variant:"secondary",loading:T.formState.isSubmitting,disabled:!T.formState.isDirty||T.formState.isSubmitting,children:a.jsx(m,{id:"ManglendeOpplysningerForm.Lagre"})}),a.jsx(ne,{size:"small",variant:"tertiary",loading:!1,disabled:T.formState.isSubmitting,onClick:_,type:"button",children:a.jsx(m,{id:"ManglendeOpplysningerForm.Avbryt"})})]}),a.jsx(j,{fourtyPx:!0})]})]})};try{Ia.displayName="ManglendeArbeidsforholdForm",Ia.__docgenInfo={description:"",displayName:"ManglendeArbeidsforholdForm",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},behandlingUuid:{defaultValue:null,description:"",name:"behandlingUuid",required:!0,type:{name:"string"}},behandlingVersjon:{defaultValue:null,description:"",name:"behandlingVersjon",required:!0,type:{name:"number"}},arbeidsgiverNavn:{defaultValue:null,description:"",name:"arbeidsgiverNavn",required:!0,type:{name:"string"}},inntektsmelding:{defaultValue:null,description:"",name:"inntektsmelding",required:!0,type:{name:"Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>"}},radData:{defaultValue:null,description:"",name:"radData",required:!0,type:{name:"ArbeidsforholdOgInntektRadData"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},registrerArbeidsforhold:{defaultValue:null,description:"",name:"registrerArbeidsforhold",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; behandlingVersjon: number; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; arbeidsgiverNavn: string; fom: string; tom?: string | undefined; stillingsprosent: number; vurdering: string; }>) => Promise<...>"}},lagreVurdering:{defaultValue:null,description:"",name:"lagreVurdering",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; behandlingVersjon: number; vurdering: string; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; }>) => Promise<...>"}},lukkArbeidsforholdRad:{defaultValue:null,description:"",name:"lukkArbeidsforholdRad",required:!0,type:{name:"() => void"}},oppdaterTabell:{defaultValue:null,description:"",name:"oppdaterTabell",required:!0,type:{name:"(data: (rader: ArbeidsforholdOgInntektRadData[]) => ArbeidsforholdOgInntektRadData[]) => void"}},skalViseArbeidsforholdId:{defaultValue:null,description:"",name:"skalViseArbeidsforholdId",required:!0,type:{name:"boolean"}},arbeidsgiverFødselsdato:{defaultValue:null,description:"",name:"arbeidsgiverFødselsdato",required:!1,type:{name:"string"}}}}}catch{}const Xv="_inline_10adz_1",Qv="_aksjonpunktImage_10adz_5",eb="_arrow_10adz_12",nb="_ikkeMottatt_10adz_18",rb="_forsteKolonne_10adz_22",tb="_sisteKolonne_10adz_26",ib="_skiller_10adz_30",sb="_textMargin_10adz_34",Hn={inline:Xv,aksjonpunktImage:Qv,arrow:eb,ikkeMottatt:nb,forsteKolonne:rb,sisteKolonne:tb,skiller:ib,textMargin:sb},ab=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent&&(!n.internArbeidsforholdId||n.internArbeidsforholdId===e.internArbeidsforholdId),lb=(e,n)=>{const r=e.some(i=>i.internArbeidsforholdId),t=e.some(i=>!i.internArbeidsforholdId);if(r&&t)throw Error("Har inntektsmelding både med og uten id");return e.find(i=>!i.internArbeidsforholdId||i.internArbeidsforholdId===n)},db=e=>{const n=Math.ceil(e.length/25);return Array.from({length:n},(t,i)=>e.slice(i*25,i*25+25)).join("-")},Ri=({saksnummer:e,arbeidsforholdForRad:n,inntektsmeldingerForRad:r,alleKodeverk:t,arbeidsgiverFødselsdato:i})=>{const s=X(),[l,o]=h.useState({}),u=n.length===1,f=u?lb(r,n[0].internArbeidsforholdId):void 0;return a.jsxs(a.Fragment,{children:[i&&a.jsxs(te,{gap:"4",children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Fodselsdato"})}),a.jsx(de,{children:a.jsx(_e,{dateString:i})})]}),!i&&n.length>0&&a.jsxs(te,{gap:"4",children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Orgnr"})}),a.jsx(de,{children:n[0].arbeidsgiverIdent})]}),!u&&a.jsxs(a.Fragment,{children:[a.jsx(j,{eightPx:!0}),a.jsx(no,{dividerParagraf:!0,className:Hn.skiller}),a.jsx(j,{sixteenPx:!0}),n.map(k=>{const c=r.find(b=>ab(k,b));return a.jsxs(L.Fragment,{children:[a.jsxs(Dr,{gap:"2",children:[a.jsxs(te,{gap:"4",children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdInformasjonPanel.ArbeidsforholdId"})}),a.jsxs("div",{children:[k.eksternArbeidsforholdId&&k.eksternArbeidsforholdId.length<50&&a.jsx("div",{children:a.jsx(E,{size:"small",children:k.eksternArbeidsforholdId})}),k.eksternArbeidsforholdId&&k.eksternArbeidsforholdId.length>=50&&a.jsx(jv,{content:db(k.eksternArbeidsforholdId),children:a.jsx(E,{size:"small",children:`${k.eksternArbeidsforholdId.substring(0,50)}...`})}),!k.eksternArbeidsforholdId&&a.jsx(E,{size:"small",children:"-"})]}),c&&a.jsxs(a.Fragment,{children:[a.jsx(yr,{}),a.jsx(O,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdInformasjonPanel.ImMottatt"})})]}),!c&&a.jsxs(a.Fragment,{children:[a.jsx(yr,{}),a.jsxs("div",{children:[a.jsx(Gr,{className:Hn.aksjonpunktImage,title:s.formatMessage({id:"ArbeidsforholdRad.Aksjonspunkt"})}),a.jsx("div",{className:Hn.ikkeMottatt,children:a.jsx(O,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdInformasjonPanel.ImIkkeMottatt"})})})]})]})]}),a.jsxs(te,{gap:"4",children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Periode"})}),a.jsx(E,{size:"small",children:a.jsx(we,{dateStringFom:k.fom,dateStringTom:k.tom!==Me?k.tom:void 0})}),c&&a.jsxs(a.Fragment,{children:[a.jsx(yr,{}),a.jsx(E,{size:"small",children:a.jsx(_e,{dateString:c.motattDato})})]})]}),a.jsxs(te,{gap:"4",children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Stillingsprosent"})}),a.jsx(E,{size:"small",children:`${k.stillingsprosent}%`})]}),k.permisjonOgMangel&&a.jsxs(te,{gap:"4",children:[a.jsx(O,{size:"small",children:Pi(t,_n.PERMISJONSBESKRIVELSE_TYPE,k.permisjonOgMangel.type)}),a.jsx(E,{size:"small",children:a.jsx(we,{dateStringFom:k.permisjonOgMangel.permisjonFom,dateStringTom:k.permisjonOgMangel.permisjonTom})})]}),c&&a.jsxs(a.Fragment,{children:[k.internArbeidsforholdId&&l[k.internArbeidsforholdId]&&a.jsx(Nr,{saksnummer:e,inntektsmelding:c,skalViseArbeidsforholdId:!1}),a.jsx(j,{fourPx:!0}),a.jsxs(xt,{onClick:b=>{b.preventDefault(),o(v=>{if(!k.internArbeidsforholdId)return v;const I=v[k.internArbeidsforholdId];return{...v,[k.internArbeidsforholdId]:I===void 0||I===!1}})},href:"",children:[a.jsx("span",{children:a.jsx(E,{size:"small",className:Hn.inline,children:a.jsx(m,{id:!k.internArbeidsforholdId||!l[k.internArbeidsforholdId]?"ArbeidsforholdInformasjonPanel.ApneImInfo":"ArbeidsforholdInformasjonPanel.LukkeImInfo"})})}),k.internArbeidsforholdId&&l[k.internArbeidsforholdId]?a.jsx(Gl,{className:Hn.arrow}):a.jsx(rs,{className:Hn.arrow})]})]})]}),a.jsx(j,{sixteenPx:!0}),a.jsx(no,{dividerParagraf:!0,className:Hn.skiller}),a.jsx(j,{sixteenPx:!0})]},`${k.arbeidsgiverIdent}${k.internArbeidsforholdId}`)})]}),a.jsx(j,{eightPx:!0}),u&&!!f&&a.jsx(Nr,{saksnummer:e,arbeidsforhold:n[0],inntektsmelding:f,skalViseArbeidsforholdId:r.length>1,alleKodeverk:t,ikkeVisInfo:!0}),u&&r.length===0&&a.jsxs(a.Fragment,{children:[a.jsxs(te,{gap:"4",children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Stillingsprosent"})}),a.jsx(E,{size:"small",children:`${n[0].stillingsprosent}%`})]}),n[0].permisjonOgMangel&&a.jsxs(a.Fragment,{children:[a.jsx(j,{eightPx:!0}),a.jsxs(te,{gap:"4",children:[a.jsx(O,{size:"small",children:Pi(t,_n.PERMISJONSBESKRIVELSE_TYPE,n[0].permisjonOgMangel.type)}),a.jsx(E,{size:"small",children:a.jsx(we,{dateStringFom:n[0].permisjonOgMangel.permisjonFom,dateStringTom:n[0].permisjonOgMangel.permisjonTom})})]})]})]})]})};try{Ri.displayName="InntektsmeldingerPanel",Ri.__docgenInfo={description:"",displayName:"InntektsmeldingerPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},arbeidsforholdForRad:{defaultValue:null,description:"",name:"arbeidsforholdForRad",required:!0,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string | undefined; eksternArbeidsforholdId?: string | undefined; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}},inntektsmeldingerForRad:{defaultValue:null,description:"",name:"inntektsmeldingerForRad",required:!0,type:{name:"Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},arbeidsgiverFødselsdato:{defaultValue:null,description:"",name:"arbeidsgiverFødselsdato",required:!1,type:{name:"string"}}}}}catch{}const ob="_bredde_gb3eb_1",gb="_belopBredde_gb3eb_5",ub="_inline_gb3eb_9",mb="_arrow_gb3eb_13",Wt={bredde:ob,belopBredde:gb,inline:ub,arrow:mb},kb=[],fb=(e,n)=>{const t=y(e).subtract(1,"month").startOf("month"),i=t.subtract(12,"month"),s=[];for(let l=t;l.isAfter(i);l=l.subtract(1,"month")){const o=l.format(Te),u=n.find(f=>y(f.fom).startOf("month").format(Te)===o);s.push({beløp:(u==null?void 0:u.beløp)||0,fom:o})}return s},Fi=({saksnummer:e,skjæringspunktDato:n,inntektsposter:r=[],arbeidsforholdForRad:t,inntektsmeldingerForRad:i=kb,alleKodeverk:s,arbeidsgiverFødselsdato:l})=>{const[o,u]=h.useState(!1),f=h.useMemo(()=>fb(n,r),[r]),k=t.length===1,c=r.length>0&&r.some(b=>b.beløp>0);return a.jsxs(a.Fragment,{children:[a.jsx(Ri,{saksnummer:e,arbeidsforholdForRad:t,inntektsmeldingerForRad:i,alleKodeverk:s,arbeidsgiverFødselsdato:l}),a.jsx(j,{thirtyTwoPx:!0}),c&&a.jsxs(a.Fragment,{children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:k?"ArbeidsforholdInformasjonPanel.Inntekter":"ArbeidsforholdInformasjonPanel.TotaltInntekter"})}),a.jsx(j,{fourPx:!0}),a.jsx(Dr,{children:f.filter((b,v)=>o?!0:v<3).map(b=>a.jsxs(te,{gap:"2",className:Wt.bredde,children:[a.jsx(E,{size:"small",children:a.jsx(m,{id:`ArbeidsforholdInformasjonPanel.${y(b.fom).month()+1}`})}),a.jsx(E,{size:"small",children:y(b.fom).year()}),a.jsx(yr,{}),a.jsx(E,{size:"small",children:C(b.beløp)})]},b.fom))}),a.jsx(j,{fourPx:!0}),a.jsxs(xt,{onClick:b=>{b.preventDefault(),u(!o)},href:"",children:[a.jsx("span",{children:a.jsx(E,{size:"small",className:Wt.inline,children:a.jsx(m,{id:o?"ArbeidsforholdInformasjonPanel.FaerreManeder":"ArbeidsforholdInformasjonPanel.TidligereManeder"})})}),o?a.jsx(Gl,{className:Wt.arrow}):a.jsx(rs,{className:Wt.arrow})]})]}),!c&&a.jsx(O,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdInformasjonPanel.IngenInntekt"})}),a.jsx(j,{thirtyTwoPx:!0})]})};try{Fi.displayName="ArbeidsforholdInformasjonPanel",Fi.__docgenInfo={description:"",displayName:"ArbeidsforholdInformasjonPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},skjæringspunktDato:{defaultValue:null,description:"",name:"skjæringspunktDato",required:!0,type:{name:"string"}},inntektsposter:{defaultValue:{value:"[]"},description:"",name:"inntektsposter",required:!1,type:{name:"Readonly<{ beløp: number; fom: string; tom: string; type: string; }>[]"}},arbeidsforholdForRad:{defaultValue:null,description:"",name:"arbeidsforholdForRad",required:!0,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string | undefined; eksternArbeidsforholdId?: string | undefined; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}},inntektsmeldingerForRad:{defaultValue:{value:"[] as Inntektsmelding[]"},description:"",name:"inntektsmeldingerForRad",required:!1,type:{name:"Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[] | undefined"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},arbeidsgiverFødselsdato:{defaultValue:null,description:"",name:"arbeidsgiverFødselsdato",required:!1,type:{name:"string"}}}}}catch{}const pb="_alertStripe_9hpes_1",cb="_hjelpetekst_9hpes_5",vb="_hjelpetekstInnhold_9hpes_9",bb="_svg_9hpes_14",Zt={alertStripe:pb,hjelpetekst:cb,hjelpetekstInnhold:vb,svg:bb},hb=In(3),jb=An(1500),Aa=({saksnummer:e,behandlingUuid:n,behandlingVersjon:r,skjæringspunktDato:t,inntektsposter:i=[],arbeidsforholdForRad:s,inntektsmeldingerForRad:l,radData:o,isReadOnly:u,lagreVurdering:f,lukkArbeidsforholdRad:k,oppdaterTabell:c,alleKodeverk:b,arbeidsgiverFødselsdato:v})=>{const I=X(),T=h.useMemo(()=>{var q,Y;return{saksbehandlersVurdering:(q=o.avklaring)==null?void 0:q.saksbehandlersVurdering,begrunnelse:(Y=o.avklaring)==null?void 0:Y.begrunnelse}},[o]),P=He({defaultValues:T});bt(P.formState.isDirty);const _=s.length===1,R=h.useCallback(()=>{k(),P.reset(T)},[k,T]),A=h.useCallback(q=>{const Y={behandlingUuid:n,behandlingVersjon:r,vurdering:q.saksbehandlersVurdering,arbeidsgiverIdent:o.arbeidsgiverIdent,internArbeidsforholdRef:_?s[0].internArbeidsforholdId:void 0,begrunnelse:q.begrunnelse};return f(Y).then(()=>{c(w=>w.map(B=>B.arbeidsgiverIdent===o.arbeidsgiverIdent?{...o,avklaring:{begrunnelse:q.begrunnelse,saksbehandlersVurdering:q.saksbehandlersVurdering}}:B))}).finally(()=>P.reset(q))},[s,o,c]),N=h.useRef(null),[F,G]=h.useState(!1),$=h.useCallback(()=>G(q=>!q),[]);return a.jsxs(a.Fragment,{children:[a.jsx(Fi,{saksnummer:e,skjæringspunktDato:t,inntektsposter:i,arbeidsforholdForRad:s,inntektsmeldingerForRad:l,alleKodeverk:b,arbeidsgiverFødselsdato:v}),a.jsxs(Ye,{formMethods:P,onSubmit:A,children:[!_&&l.length>0&&a.jsxs("div",{className:Zt.alertStripe,children:[a.jsx(Ie,{variant:"info",children:a.jsx(m,{id:"InntektsmeldingInnhentesForm.InnehentAlle"})}),a.jsx(j,{sixteenPx:!0})]}),a.jsx(Ae,{name:"saksbehandlersVurdering",label:a.jsxs(te,{gap:"2",children:[a.jsx(m,{id:"InntektsmeldingInnhentesForm.MåInnhentes"}),a.jsx(zl,{ref:N,onClick:$,className:Zt.svg,title:I.formatMessage({id:"InntektsmeldingInnhentesForm.AltHjelpetekst"})}),a.jsx(Tr,{open:F,onClose:$,anchorEl:N.current,className:Zt.hjelpetekst,children:a.jsxs(Tr.Content,{className:Zt.hjelpetekstInnhold,children:[a.jsx(E,{children:a.jsx(m,{id:"InntektsmeldingInnhentesForm.HjelpetekstDel1"})}),a.jsx(j,{eightPx:!0}),a.jsx(E,{children:a.jsx(m,{id:"InntektsmeldingInnhentesForm.HjelpetekstDel2"})}),a.jsx(j,{eightPx:!0}),a.jsx(E,{children:a.jsx(m,{id:"InntektsmeldingInnhentesForm.HjelpetekstDel3"})})]})})]}),validate:[W],isReadOnly:u,radios:[{label:I.formatMessage({id:"InntektsmeldingInnhentesForm.TarKontakt"}),value:se.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_INNTEKTSMELDING},{label:I.formatMessage({id:"InntektsmeldingInnhentesForm.GåVidere"}),value:se.FORTSETT_UTEN_INNTEKTSMELDING}]}),a.jsx(j,{sixteenPx:!0}),a.jsx(Xe,{label:a.jsx(m,{id:_?"InntektsmeldingInnhentesForm.Begrunn":"InntektsmeldingInnhentesForm.Kommentar"}),name:"begrunnelse",validate:[W,hb,jb,jn],maxLength:1500,readOnly:u}),a.jsx(j,{twentyPx:!0}),!u&&a.jsxs(te,{gap:"4",children:[a.jsx(ne,{size:"small",variant:"secondary",loading:P.formState.isSubmitting,disabled:!P.formState.isDirty||P.formState.isSubmitting,children:a.jsx(m,{id:"InntektsmeldingInnhentesForm.Lagre"})}),a.jsx(ne,{size:"small",variant:"tertiary",loading:!1,disabled:P.formState.isSubmitting,onClick:R,type:"button",children:a.jsx(m,{id:"InntektsmeldingInnhentesForm.Avbryt"})})]}),a.jsx(j,{fourtyPx:!0})]})]})};try{Aa.displayName="ManglendeInntektsmeldingForm",Aa.__docgenInfo={description:"",displayName:"ManglendeInntektsmeldingForm",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},behandlingUuid:{defaultValue:null,description:"",name:"behandlingUuid",required:!0,type:{name:"string"}},behandlingVersjon:{defaultValue:null,description:"",name:"behandlingVersjon",required:!0,type:{name:"number"}},skjæringspunktDato:{defaultValue:null,description:"",name:"skjæringspunktDato",required:!0,type:{name:"string"}},inntektsposter:{defaultValue:{value:"[]"},description:"",name:"inntektsposter",required:!1,type:{name:"Readonly<{ beløp: number; fom: string; tom: string; type: string; }>[]"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},arbeidsforholdForRad:{defaultValue:null,description:"",name:"arbeidsforholdForRad",required:!0,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string | undefined; eksternArbeidsforholdId?: string | undefined; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}},inntektsmeldingerForRad:{defaultValue:null,description:"",name:"inntektsmeldingerForRad",required:!0,type:{name:"Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]"}},radData:{defaultValue:null,description:"",name:"radData",required:!0,type:{name:"ArbeidsforholdOgInntektRadData"}},lagreVurdering:{defaultValue:null,description:"",name:"lagreVurdering",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; behandlingVersjon: number; vurdering: string; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; }>) => Promise<...>"}},lukkArbeidsforholdRad:{defaultValue:null,description:"",name:"lukkArbeidsforholdRad",required:!0,type:{name:"() => void"}},oppdaterTabell:{defaultValue:null,description:"",name:"oppdaterTabell",required:!0,type:{name:"(data: (rader: ArbeidsforholdOgInntektRadData[]) => ArbeidsforholdOgInntektRadData[]) => void"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},arbeidsgiverFødselsdato:{defaultValue:null,description:"",name:"arbeidsgiverFødselsdato",required:!1,type:{name:"string"}}}}}catch{}const Ib="_ikon_1mrt8_1",Ab="_colTopPadding_1mrt8_5",xb="_imageColTopPadding_1mrt8_9",yb="_exclamationmarkIcon_1mrt8_13",Eb="_checkmarkIcon_1mrt8_20",Wn={ikon:Ib,colTopPadding:Ab,imageColTopPadding:xb,exclamationmarkIcon:yb,checkmarkIcon:Eb},Tb=em.bind(Wn),_b=(e,n)=>e?"ArbeidsforholdRad.Saksbehandler":n?"ArbeidsforholdRad.AaRegisteret":"ArbeidsforholdRad.Inntektsmelding",Pb=(e,n)=>{if((n==null?void 0:n.saksbehandlersVurdering)===se.MANUELT_OPPRETTET_AV_SAKSBEHANDLER||(n==null?void 0:n.saksbehandlersVurdering)===se.OPPRETT_BASERT_PÅ_INNTEKTSMELDING)return{fom:n==null?void 0:n.fom,tom:n==null?void 0:n.tom};const r=e.reduce((t,i)=>({fom:t.fom&&y(t.fom).isBefore(i.fom)?t.fom:i.fom,tom:t.tom&&y(t.tom).isAfter(i.tom)?t.tom:i.tom}),{fom:void 0,tom:void 0});return r.fom?r:void 0},Sb=(e,n)=>{const r=e.some(s=>s.internArbeidsforholdId),t=e.some(s=>!s.internArbeidsforholdId);if(r&&t)throw Error("Har inntektsmelding både med og uten id");const i=e.find(s=>!s.internArbeidsforholdId||!n||s.internArbeidsforholdId===n);if(!i)throw Error(`Finner ingen inntektsmelding for arbeidsforhold id ${n}`);return i},xa=({saksnummer:e,behandlingUuid:n,behandlingVersjon:r,arbeidOgInntekt:t,radData:i,isReadOnly:s,erOverstyrt:l,oppdaterTabell:o,registrerArbeidsforhold:u,lagreVurdering:f,toggleÅpenRad:k,erRadÅpen:c,alleKodeverk:b})=>{var H;const v=X(),{arbeidsgiverNavn:I,arbeidsgiverIdent:T,årsak:P,avklaring:_,arbeidsgiverFødselsdato:R}=i,A=h.useMemo(()=>t.arbeidsforhold.filter(z=>z.arbeidsgiverIdent===T),[t,T]),N=h.useMemo(()=>t.inntektsmeldinger.filter(z=>z.arbeidsgiverIdent===T),[t,T]),F=(_==null?void 0:_.saksbehandlersVurdering)===se.MANUELT_OPPRETTET_AV_SAKSBEHANDLER,G=A.length>0&&N.length>0&&!P,$=P===vt.MANGLENDE_INNTEKTSMELDING,q=P===vt.INNTEKTSMELDING_UTEN_ARBEIDSFORHOLD,Y=!!P&&!(_!=null&&_.saksbehandlersVurdering),w=A.length>0&&N.length===0&&!P&&!F,B=A.length===0&&N.length>0&&!P,K=h.useMemo(()=>Pb(A,i.avklaring),[F,A,i.avklaring]),J=(H=t.inntekter.find(z=>z.arbeidsgiverIdent===T))==null?void 0:H.inntekter;return a.jsxs(lc,{alignWithColumn:1,content:a.jsxs(a.Fragment,{children:[F&&a.jsx(Ni,{behandlingUuid:n,behandlingVersjon:r,isReadOnly:!1,registrerArbeidsforhold:u,radData:i,arbeidsforhold:A[0],lukkArbeidsforholdRad:k,erOverstyrt:l,oppdaterTabell:o}),G&&a.jsx(Ri,{saksnummer:e,arbeidsforholdForRad:A,inntektsmeldingerForRad:N,alleKodeverk:b,arbeidsgiverFødselsdato:R}),B&&a.jsx(Nr,{saksnummer:e,arbeidsforhold:A.length>0?A[0]:void 0,inntektsmelding:Sb(N,A.length>0?A[0].internArbeidsforholdId:void 0),skalViseArbeidsforholdId:!1,alleKodeverk:b,arbeidsgiverFødselsdato:R}),$&&a.jsx(Aa,{saksnummer:e,behandlingUuid:n,behandlingVersjon:r,skjæringspunktDato:t.skjæringstidspunkt,inntektsposter:J,isReadOnly:s,arbeidsforholdForRad:A,inntektsmeldingerForRad:N,radData:i,lagreVurdering:f,lukkArbeidsforholdRad:k,oppdaterTabell:o,alleKodeverk:b,arbeidsgiverFødselsdato:R}),q&&a.jsx(Ia,{saksnummer:e,behandlingUuid:n,behandlingVersjon:r,arbeidsgiverNavn:I,inntektsmelding:N[0],radData:i,isReadOnly:s,registrerArbeidsforhold:u,lagreVurdering:f,lukkArbeidsforholdRad:k,oppdaterTabell:o,skalViseArbeidsforholdId:N.length>1}),w&&a.jsx(Fi,{saksnummer:e,skjæringspunktDato:t.skjæringstidspunkt,inntektsposter:J,arbeidsforholdForRad:A,alleKodeverk:b,arbeidsgiverFødselsdato:R})]}),showContent:c,toggleContent:k,isApLeftBorder:Y,children:[a.jsxs(Z,{className:Tb("ikon",c?"imageColTopPadding":void 0),children:[!Y&&a.jsx(Ml,{title:v.formatMessage({id:"ArbeidsforholdRad.Ok"}),className:Wn.checkmarkIcon}),Y&&a.jsx(Gr,{title:v.formatMessage({id:"ArbeidsforholdRad.Aksjonspunkt"}),className:Wn.exclamationmarkIcon})]}),a.jsxs(Z,{className:c?Wn.colTopPadding:void 0,children:[c&&a.jsx(O,{size:"small",children:I}),!c&&a.jsx(E,{size:"small",children:I})]}),a.jsx(Z,{className:c?Wn.colTopPadding:void 0,children:a.jsxs(E,{children:[K&&K.fom&&a.jsx(we,{dateStringFom:K.fom,dateStringTom:K.tom!==Me?K.tom:void 0}),!K&&"-"]})}),a.jsx(Z,{className:c?Wn.colTopPadding:void 0,children:a.jsx(E,{children:a.jsx(m,{id:_b(F,A.length>0)})})}),a.jsx(Z,{className:c?Wn.colTopPadding:void 0,children:a.jsxs(E,{children:[A.length<2&&N.length===1&&a.jsx(_e,{dateString:N[0].motattDato}),!$&&A.length>1&&N.length===A.length&&a.jsx(m,{id:"ArbeidsforholdRad.Mottatt"}),(F||$&&N.length<A.length)&&a.jsx(m,{id:"ArbeidsforholdRad.IkkeMottatt"})]})})]})};try{xa.displayName="ArbeidsforholdRad",xa.__docgenInfo={description:"",displayName:"ArbeidsforholdRad",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},behandlingUuid:{defaultValue:null,description:"",name:"behandlingUuid",required:!0,type:{name:"string"}},behandlingVersjon:{defaultValue:null,description:"",name:"behandlingVersjon",required:!0,type:{name:"number"}},arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},radData:{defaultValue:null,description:"",name:"radData",required:!0,type:{name:"ArbeidsforholdOgInntektRadData"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},erOverstyrt:{defaultValue:null,description:"",name:"erOverstyrt",required:!0,type:{name:"boolean"}},oppdaterTabell:{defaultValue:null,description:"",name:"oppdaterTabell",required:!0,type:{name:"(data: (rader: ArbeidsforholdOgInntektRadData[]) => ArbeidsforholdOgInntektRadData[]) => void"}},registrerArbeidsforhold:{defaultValue:null,description:"",name:"registrerArbeidsforhold",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; behandlingVersjon: number; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; arbeidsgiverNavn: string; fom: string; tom?: string | undefined; stillingsprosent: number; vurdering: string; }>) => Promise<...>"}},lagreVurdering:{defaultValue:null,description:"",name:"lagreVurdering",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; behandlingVersjon: number; vurdering: string; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; }>) => Promise<...>"}},toggleÅpenRad:{defaultValue:null,description:"",name:"toggleÅpenRad",required:!0,type:{name:"() => void"}},erRadÅpen:{defaultValue:null,description:"",name:"erRadÅpen",required:!0,type:{name:"boolean"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}}}}}catch{}const Nb="_leggTilImage_2poz8_1",Rb="_alertStripe_2poz8_5",Fb={leggTilImage:Nb,alertStripe:Rb},Bb=(e,n)=>{const r=e.some(l=>l.årsak===vt.MANGLENDE_INNTEKTSMELDING),t=e.some(l=>l.årsak===vt.INNTEKTSMELDING_UTEN_ARBEIDSFORHOLD),i=(n==null?void 0:n.status)===Pr.OPPRETTET,s=[];return i&&r&&s.push("ArbeidOgInntektFaktaPanel.InnhentManglendeInntektsmelding"),i&&t&&s.push("ArbeidOgInntektFaktaPanel.AvklarManglendeOpplysninger"),s},ya=({behandling:e,aksjonspunkt:n,readOnly:r,arbeidOgInntekt:t,registrerArbeidsforhold:i,erOverstyrer:s,tabellData:l,settÅpneRadIndexer:o,setErOverstyrt:u,oppdaterTabell:f})=>{const k=X(),{arbeidsforhold:c,inntektsmeldinger:b}=t,[v,I]=h.useState(!1),[T,P]=h.useState(!1),_=h.useCallback(()=>{u(!0),I(!0);const F=l.findIndex(G=>{var $;return(($=G.avklaring)==null?void 0:$.saksbehandlersVurdering)===se.MANUELT_OPPRETTET_AV_SAKSBEHANDLER});F!==-1&&o([F])},[l,o]),R=h.useMemo(()=>Bb(l,n),[e.versjon]),A=l.every(F=>F.arbeidsgiverIdent!==br),N=(n==null?void 0:n.status)===Pr.OPPRETTET;return a.jsxs(a.Fragment,{children:[a.jsxs(te,{gap:"4",children:[a.jsx(re,{size:"small",children:a.jsx(m,{id:"ArbeidOgInntektFaktaPanel.Overskrift"})}),s&&N&&!r&&a.jsx(Ll,{onClick:_}),a.jsx(yr,{}),a.jsx(E,{size:"small",children:a.jsx(m,{id:"ArbeidOgInntektFaktaPanel.Skjaringstidspunkt",values:{skjæringspunktDato:De(t.skjæringstidspunkt)}})})]}),a.jsx(j,{thirtyTwoPx:!0}),R.length>0&&a.jsx(ts,{children:R.map(F=>k.formatMessage({id:F})).join(" ")}),c.length===0&&b.length===0&&s&&a.jsx("div",{className:Fb.alertStripe,children:a.jsx(Ie,{variant:"info",children:a.jsx(m,{id:"ArbeidOgInntektFaktaPanel.IngenArbeidsforhold"})})}),a.jsx(j,{sixteenPx:!0}),v&&A&&!T&&a.jsxs(a.Fragment,{children:[a.jsx(j,{twentyPx:!0}),a.jsx(ne,{size:"small",variant:"tertiary",icon:a.jsx(Wi,{"aria-hidden":!0}),onClick:()=>P(!0),children:a.jsx(m,{id:"ArbeidOgInntektFaktaPanel.LeggTilArbeidsforhold"})}),a.jsx(j,{thirtyTwoPx:!0})]}),a.jsx(j,{thirtyTwoPx:!0}),T&&a.jsxs(a.Fragment,{children:[a.jsx(Ni,{behandlingUuid:e.uuid,behandlingVersjon:e.versjon,isReadOnly:!1,registrerArbeidsforhold:i,lukkArbeidsforholdRad:()=>P(!1),oppdaterTabell:f,erOverstyrt:!0,erNyttArbeidsforhold:!0}),a.jsx(j,{fourtyPx:!0})]})]})};try{ya.displayName="ArbeidsOgInntektOverstyrPanel",ya.__docgenInfo={description:"",displayName:"ArbeidsOgInntektOverstyrPanel",props:{behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},aksjonspunkt:{defaultValue:null,description:"",name:"aksjonspunkt",required:!1,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string; vilkarType?: string; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }> | undefined"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},registrerArbeidsforhold:{defaultValue:null,description:"",name:"registrerArbeidsforhold",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; behandlingVersjon: number; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; arbeidsgiverNavn: string; fom: string; tom?: string | undefined; stillingsprosent: number; vurdering: string; }>) => Promise<...>"}},erOverstyrer:{defaultValue:null,description:"",name:"erOverstyrer",required:!0,type:{name:"boolean"}},tabellData:{defaultValue:null,description:"",name:"tabellData",required:!0,type:{name:"ArbeidsforholdOgInntektRadData[]"}},settÅpneRadIndexer:{defaultValue:null,description:"",name:"settÅpneRadIndexer",required:!0,type:{name:"Dispatch<SetStateAction<number[]>>"}},setErOverstyrt:{defaultValue:null,description:"",name:"setErOverstyrt",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}},oppdaterTabell:{defaultValue:null,description:"",name:"oppdaterTabell",required:!0,type:{name:"(data: (rader: ArbeidsforholdOgInntektRadData[]) => ArbeidsforholdOgInntektRadData[]) => void"}}}}}catch{}const Ob="_alertStripe_z95u6_1",Vb={alertStripe:Ob},$b=["EMPTY1","ArbeidOgInntektFaktaPanel.Arbeidsforhold","ArbeidOgInntektFaktaPanel.Periode","ArbeidOgInntektFaktaPanel.Kilde","ArbeidOgInntektFaktaPanel.InntektsmeldingMottatt","EMPTY2"],Db=(e,n)=>{const r=e.årsak,t=n.årsak;return r&&!t?-1:t&&!r?1:e.arbeidsgiverNavn.localeCompare(n.arbeidsgiverNavn)},go=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent,Gb=(e,n)=>{const r={saksbehandlersVurdering:e.saksbehandlersVurdering,begrunnelse:e.begrunnelse};return e.saksbehandlersVurdering===se.MANUELT_OPPRETTET_AV_SAKSBEHANDLER||e.saksbehandlersVurdering===se.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?{...r,arbeidsgiverNavn:n,fom:e.fom,tom:e.tom,stillingsprosent:e.stillingsprosent}:r},Mb=e=>e.årsak?-1:1,Lb=(e,n)=>{const{arbeidsforhold:r,inntektsmeldinger:t}=e,i=[...r.sort(Mb)].reduce((l,o)=>{var b;if(l.find(v=>v.arbeidsgiverIdent===o.arbeidsgiverIdent))return l;const f=n[o.arbeidsgiverIdent],k=f.navn,c=o.årsak?o.årsak:(b=t.find(v=>go(o,v)))==null?void 0:b.årsak;return l.concat({arbeidsgiverIdent:o.arbeidsgiverIdent,arbeidsgiverNavn:k,arbeidsgiverFødselsdato:f.erPrivatPerson?f.fødselsdato:void 0,årsak:c,avklaring:o.saksbehandlersVurdering?Gb(o,k):void 0})},[]),s=t.filter(l=>!r.some(o=>go(o,l))).map(l=>({arbeidsgiverIdent:l.arbeidsgiverIdent,internArbeidsforholdId:l.internArbeidsforholdId,arbeidsgiverNavn:n[l.arbeidsgiverIdent].navn,arbeidsgiverFødselsdato:n[l.arbeidsgiverIdent].erPrivatPerson?n[l.arbeidsgiverIdent].fødselsdato:void 0,årsak:l.årsak,avklaring:l.saksbehandlersVurdering?{saksbehandlersVurdering:l.saksbehandlersVurdering,begrunnelse:l.begrunnelse}:void 0}));return i.concat(s).sort(Db)},uo=e=>{const n=e.findIndex(r=>r.årsak&&!r.avklaring);return n!==-1?[n]:[]},Ea=({saksnummer:e,behandling:n,aksjonspunkt:r,readOnly:t,arbeidOgInntekt:i,arbeidsgiverOpplysningerPerId:s,registrerArbeidsforhold:l,lagreVurdering:o,formData:u,setFormData:f,erOverstyrer:k,lagreCallback:c,settBehandlingPåVentCallback:b,alleKodeverk:v,åpneForNyVurdering:I})=>{const[T,P]=h.useState(!1),[_,R]=h.useState(!1),[A,N]=h.useState(!1),[F,G]=h.useState(u||Lb(i,s)),[$,q]=h.useState(uo(F)),Y=Bv();h.useEffect(()=>()=>{f(F)},[F]);const w=h.useCallback(ge=>{$.some(be=>be===ge)?q($.filter(be=>be!==ge)):q($.concat(ge))},[$,q]),B=h.useRef(null),K=h.useCallback(ge=>{var be;G(ge),q(uo(ge(F))),(be=B==null?void 0:B.current)==null||be.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[F]),J=h.useCallback(()=>{P(!0),c({kode:ie.VURDER_ARBEIDSFORHOLD_INNTEKTSMELDING})},[n.versjon]),H=h.useCallback(()=>{P(!0),I()},[n.versjon]),z=h.useCallback(ge=>{P(!0),R(!1);const{frist:be,ventearsak:Wr}=ge;Wr&&b({frist:be,ventearsak:Wr})},[n.versjon]),oe=F.some(ge=>{var be,Wr;return((be=ge.avklaring)==null?void 0:be.saksbehandlersVurdering)===se.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_INNTEKTSMELDING||((Wr=ge.avklaring)==null?void 0:Wr.saksbehandlersVurdering)===se.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_ARBEIDSFORHOLD}),je=F.every(ge=>!ge.årsak||ge.årsak&&ge.avklaring),Fe=(r==null?void 0:r.status)===Pr.UTFORT,Be=(r==null?void 0:r.status)===Pr.OPPRETTET,Le=!t&&(Fe||k&&r===void 0),fe=!t&&Be&&je&&!Y&&oe,Je=!t&&Be&&je&&!Y&&!oe;return a.jsxs(a.Fragment,{children:[a.jsx(ya,{behandling:n,aksjonspunkt:r,readOnly:t,arbeidOgInntekt:i,registrerArbeidsforhold:l,erOverstyrer:k,tabellData:F,settÅpneRadIndexer:q,setErOverstyrt:N,oppdaterTabell:K}),a.jsx(Nn,{ref:B,headerTextCodes:$b,noHover:!0,hasGrayHeader:!0,children:F.map((ge,be)=>a.jsx(xa,{arbeidOgInntekt:i,saksnummer:e,behandlingUuid:n.uuid,behandlingVersjon:n.versjon,radData:ge,isReadOnly:t||Fe,registrerArbeidsforhold:l,lagreVurdering:o,toggleÅpenRad:()=>w(be),erOverstyrt:A,oppdaterTabell:K,erRadÅpen:$.includes(be),alleKodeverk:v},`${ge.arbeidsgiverNavn}${ge.arbeidsgiverIdent}${be}`))}),a.jsx(j,{sixteenPx:!0}),fe&&a.jsxs(a.Fragment,{children:[a.jsx(ne,{size:"small",variant:"primary",disabled:T,onClick:()=>R(!0),type:"button",children:a.jsx(m,{id:"ArbeidOgInntektFaktaPanel.SettPaVent"})}),a.jsx(zp,{submitCallback:z,cancelEvent:()=>R(!1),defaultVenteårsak:qp.VENT_OPDT_INNTEKTSMELDING,hasManualPaVent:!0,ventearsaker:v[_n.VENT_AARSAK],erTilbakekreving:!1,showModal:_})]}),Je&&a.jsx(ne,{size:"small",variant:"primary",disabled:T,loading:T,onClick:J,type:"button",children:a.jsx(m,{id:"ArbeidOgInntektFaktaPanel.Bekreft"})}),Le&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:Vb.alertStripe,children:a.jsx(Ie,{variant:"info",children:a.jsx(m,{id:"ArbeidOgInntektFaktaPanel.ApneForNyRevurderingForklaring"})})}),a.jsx(j,{sixteenPx:!0}),a.jsx(ne,{size:"small",variant:"secondary",disabled:T,loading:T,onClick:H,type:"button",children:a.jsx(m,{id:"ArbeidOgInntektFaktaPanel.ApneForNyVurdering"})})]})]})};try{Ea.displayName="ArbeidOgInntektFaktaPanel",Ea.__docgenInfo={description:"",displayName:"ArbeidOgInntektFaktaPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},aksjonspunkt:{defaultValue:null,description:"",name:"aksjonspunkt",required:!1,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string; vilkarType?: string; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }> | undefined"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"ArbeidsforholdOgInntektRadData[]"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: ArbeidsforholdOgInntektRadData[]) => void"}},arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},registrerArbeidsforhold:{defaultValue:null,description:"",name:"registrerArbeidsforhold",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; behandlingVersjon: number; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; arbeidsgiverNavn: string; fom: string; tom?: string | undefined; stillingsprosent: number; vurdering: string; }>) => Promise<...>"}},lagreVurdering:{defaultValue:null,description:"",name:"lagreVurdering",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; behandlingVersjon: number; vurdering: string; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; }>) => Promise<...>"}},lagreCallback:{defaultValue:null,description:"",name:"lagreCallback",required:!0,type:{name:"(aksjonspunktData: FaktaAksjonspunkt) => Promise<void>"}},settBehandlingPåVentCallback:{defaultValue:null,description:"",name:"settBehandlingPåVentCallback",required:!0,type:{name:"(params: { frist?: string | undefined; ventearsak: string; }) => Promise<any>"}},erOverstyrer:{defaultValue:null,description:"",name:"erOverstyrer",required:!0,type:{name:"boolean"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},åpneForNyVurdering:{defaultValue:null,description:"",name:"åpneForNyVurdering",required:!0,type:{name:"() => void"}}}}}catch{}const Kb={"ArbeidOgInntektFaktaPanel.Overskrift":"Fakta om arbeid og inntekt","ArbeidOgInntektFaktaPanel.Arbeidsforhold":"Arbeidsforhold","ArbeidOgInntektFaktaPanel.Periode":"Periode","ArbeidOgInntektFaktaPanel.Kilde":"Kilde","ArbeidOgInntektFaktaPanel.InntektsmeldingMottatt":"Inntektsmelding","ArbeidOgInntektFaktaPanel.InnhentManglendeInntektsmelding":"Innhent manglende inntektsmeldinger.","ArbeidOgInntektFaktaPanel.AvklarManglendeOpplysninger":"Avklar manglende opplysninger.","ArbeidOgInntektFaktaPanel.IngenArbeidsforhold":"Ingen arbeidsforhold eller inntektsmeldinger registrert på bruker. Det er kun unntaksvis at det skal opprettes manuelle arbeidsforhold. Det kan være i saker søker er ambassadepersonell, utenlandske ansatte eller fisker. Hvis det er andre arbeidsforhold må du kontakte arbeidsgiver eller søker for riktig registrering i AA-reg.","ArbeidOgInntektFaktaPanel.Skjaringstidspunkt":"Skjæringstidspunkt for opptjening: {skjæringspunktDato}","ArbeidOgInntektFaktaPanel.SettPaVent":"Sett på vent","ArbeidOgInntektFaktaPanel.Bekreft":"Bekreft og fortsett","ArbeidOgInntektFaktaPanel.LeggTilArbeidsforhold":" Legg til arbeidsforhold","ArbeidOgInntektFaktaPanel.ApneForNyVurdering":"Åpne for ny vurdering","ArbeidOgInntektFaktaPanel.ApneForNyRevurderingForklaring":'Ved å bruke "Åpne for ny vurdering" kan du endre valg som er gjort i dette panelet. Det som er gjort senere i saken, må gjøres på ny.',"ArbeidsforholdRad.Saksbehandler":"Saksbehandler","ArbeidsforholdRad.AaRegisteret":"A-ordningen","ArbeidsforholdRad.Inntektsmelding":"Inntektsmelding","ArbeidsforholdRad.Aksjonspunkt":"Åpent aksjonspunkt","ArbeidsforholdRad.Ok":"Arbeidsforhold er OK","ArbeidsforholdRad.Mottatt":"Mottatt","ArbeidsforholdRad.IkkeMottatt":"Ikke mottatt","InntektsmeldingInnhentesForm.MåInnhentes":"Må inntektsmelding innhentes?","InntektsmeldingInnhentesForm.TarKontakt":"Jeg tar kontakt med søker eller arbeidsgiver for å innhente inntektsmelding","InntektsmeldingInnhentesForm.GåVidere":"Gå videre uten inntektsmelding","InntektsmeldingInnhentesForm.Begrunn":"Begrunn valget","InntektsmeldingInnhentesForm.Kommentar":"Kommentar","InntektsmeldingInnhentesForm.Lagre":"Lagre","InntektsmeldingInnhentesForm.Avbryt":"Avbryt","InntektsmeldingInnhentesForm.AltHjelpetekst":"Hjelpetekst","InntektsmeldingInnhentesForm.HjelpetekstDel1":"Vi trenger inntektsmelding for å behandle saken. Kontakt arbeidsgiveren per telefon. Hvis kontaktinformasjonen til arbeidsgiver er vanskelig å finne, kontakt bruker først.","InntektsmeldingInnhentesForm.HjelpetekstDel2":"Det er kun unntaksvis at en sak skal behandles uten inntektsmelding, f.eks. at man etter gjentatte ganger ikke oppnår kontakt. Refusjon til arbeidsgiver er ikke mulig uten en inntektsmelding.","InntektsmeldingInnhentesForm.HjelpetekstDel3":"Dersom det er flere arbeidsforhold i samme virksomhet må det sendes en inntektsmelding som gjelder samlet for alle, eller én per arbeidsforhold med arbeidsforholdsID.","InntektsmeldingInnhentesForm.InnehentAlle":"Ved flere arbeidsforhold i samme virksomhet, skal alle inntektsmeldinger innhentes. Mottas ikke alle, må du vurdere om du skal gå videre uten alle inntektsmeldingene. Gjør du det, fjernes arbeidsforholdet (ene) fra beregningen.","InntektsmeldingOpplysningerPanel.Stillingsprosent":"Stillingsprosent","InntektsmeldingOpplysningerPanel.Inntektsmelding":"Inntektsmelding","InntektsmeldingOpplysningerPanel.Refusjon":"Refusjon","InntektsmeldingOpplysningerPanel.Ja":"Ja","InntektsmeldingOpplysningerPanel.Nei":"Nei","InntektsmeldingOpplysningerPanel.Refusjonsbeløp":"Refusjonsbeløp","InntektsmeldingOpplysningerPanel.Kontaktinfo":"Kontaktinfo","InntektsmeldingOpplysningerPanel.Tlf":"Tlf. {nr}","InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding":"Åpne inntektsmelding (PDF)","InntektsmeldingOpplysningerPanel.ArbeidsforholdId":"ID","ManglendeOpplysningerForm.ErMottattMenIkkeReg":"Inntektsmelding er mottatt, men arbeidsforholdet er ikke registrert i A-ordningen","ManglendeOpplysningerForm.SkalBrukeInntekstmelding":"Skal vi bruke denne inntektsmeldingen?","ManglendeOpplysningerForm.TarKontakt":"Jeg kontakter arbeidsgiver","ManglendeOpplysningerForm.GåVidere":"Se bort fra inntektsmeldingen","ManglendeOpplysningerForm.OpprettArbeidsforhold":"Opprett arbeidsforhold basert på inntektsmeldingen","ManglendeOpplysningerForm.Begrunn":"Begrunn valget","ManglendeOpplysningerForm.PeriodeFra":"Periode fra","ManglendeOpplysningerForm.PeriodeTil":"Periode til","ManglendeOpplysningerForm.Stillingsprosent":"Stillingsprosent","ManglendeOpplysningerForm.Lagre":"Lagre","ManglendeOpplysningerForm.Avbryt":"Avbryt","ManglendeOpplysningerForm.AltHjelpetekst":"Hjelpetekst","ManglendeOpplysningerForm.Hjelpetekst":"Det er kun unntaksvis at det skal opprettes manuelle arbeidsforhold basert på en inntektsmelding. Det kan være i saker hvor søker er ambassadepersonell, utenlandske ansatte eller fisker. Hvis det er andre arbeidsforhold må du kontakte arbeidsgiver eller søker for riktig registrering i AA-reg.","ArbeidsforholdInformasjonPanel.ArbeidsforholdId":"ID","ArbeidsforholdInformasjonPanel.Stillingsprosent":"Stillingsprosent","ArbeidsforholdInformasjonPanel.Periode":"Periode","ArbeidsforholdInformasjonPanel.ImMottatt":"Inntektsmelding mottatt","ArbeidsforholdInformasjonPanel.ImIkkeMottatt":"Ikke mottatt inntektsmelding","ArbeidsforholdInformasjonPanel.Inntekter":"Inntekter (fra A-ordningen)","ArbeidsforholdInformasjonPanel.TotaltInntekter":"Inntekter totalt fra virksomheten (fra A-ordningen)","ArbeidsforholdInformasjonPanel.1":"Jan","ArbeidsforholdInformasjonPanel.2":"Feb","ArbeidsforholdInformasjonPanel.3":"Mars","ArbeidsforholdInformasjonPanel.4":"Apr","ArbeidsforholdInformasjonPanel.5":"Mai","ArbeidsforholdInformasjonPanel.6":"Jun","ArbeidsforholdInformasjonPanel.7":"Jul","ArbeidsforholdInformasjonPanel.8":"Aug","ArbeidsforholdInformasjonPanel.9":"Sep","ArbeidsforholdInformasjonPanel.10":"Okt","ArbeidsforholdInformasjonPanel.11":"Nov","ArbeidsforholdInformasjonPanel.12":"Des","ArbeidsforholdInformasjonPanel.TidligereManeder":"Tidligere måneder ","ArbeidsforholdInformasjonPanel.FaerreManeder":"Siste måneder ","ArbeidsforholdInformasjonPanel.IngenInntekt":"Ingen inntekt registrert på bruker i A-ordningen siste seks mnd.","ArbeidsforholdInformasjonPanel.ÅpneInntektsmelding":"Åpne inntektsmelding (PDF)","ArbeidsforholdInformasjonPanel.ApneImInfo":"Vis mer","ArbeidsforholdInformasjonPanel.LukkeImInfo":"Vis mindre","ArbeidsforholdInformasjonPanel.Orgnr":"Org.nr.","ArbeidsforholdInformasjonPanel.Fodselsdato":"Fødselsdato","LeggTilArbeidsforholdForm.LeggTilArbeidsforhold":"Legg til arbeidsforhold","LeggTilArbeidsforholdForm.Arbeidsgiver":"Navn på arbeidsgiver","LeggTilArbeidsforholdForm.PeriodeFra":"Periode fra","LeggTilArbeidsforholdForm.PeriodeTil":"Periode til","LeggTilArbeidsforholdForm.Stillingsprosent":"Stillingsprosent","LeggTilArbeidsforholdForm.Begrunn":"Begrunn endringene","LeggTilArbeidsforholdForm.Lagre":"Lagre","LeggTilArbeidsforholdForm.Avbryt":"Avbryt","LeggTilArbeidsforholdForm.Slett":"Slett","NyttArbeidsforholdForm.VilDuSlette":"Vil du slette arbeidsforholdet?","ExpandableTableRow.Apne":"Åpne rad","ExpandableTableRow.Lukke":"Lukk rad"},wb=Pe(Kb),Ta=({saksnummer:e,behandling:n,submitCallback:r,aksjonspunkter:t,readOnly:i,formData:s,setFormData:l,arbeidOgInntekt:o,arbeidsgiverOpplysningerPerId:u,registrerArbeidsforhold:f,lagreVurdering:k,erOverstyrer:c,settBehandlingPåVentCallback:b,alleKodeverk:v,åpneForNyVurdering:I})=>a.jsx(qe,{value:wb,children:a.jsx(ja,{children:a.jsx(Ea,{saksnummer:e,behandling:n,aksjonspunkt:t.length>0?t[0]:void 0,readOnly:i,formData:s,lagreCallback:r,setFormData:l,arbeidOgInntekt:o,arbeidsgiverOpplysningerPerId:u,registrerArbeidsforhold:f,lagreVurdering:k,erOverstyrer:c,settBehandlingPåVentCallback:b,alleKodeverk:v,åpneForNyVurdering:I})})});try{Ta.displayName="ArbeidOgInntektFaktaIndex",Ta.__docgenInfo={description:"",displayName:"ArbeidOgInntektFaktaIndex",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},registrerArbeidsforhold:{defaultValue:null,description:"",name:"registrerArbeidsforhold",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; behandlingVersjon: number; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; arbeidsgiverNavn: string; fom: string; tom?: string | undefined; stillingsprosent: number; vurdering: string; }>) => Promise<...>"}},lagreVurdering:{defaultValue:null,description:"",name:"lagreVurdering",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; behandlingVersjon: number; vurdering: string; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; }>) => Promise<...>"}},erOverstyrer:{defaultValue:null,description:"",name:"erOverstyrer",required:!0,type:{name:"boolean"}},settBehandlingPåVentCallback:{defaultValue:null,description:"",name:"settBehandlingPåVentCallback",required:!0,type:{name:"(params: { frist?: string | undefined; ventearsak: string; }) => Promise<any>"}},åpneForNyVurdering:{defaultValue:null,description:"",name:"åpneForNyVurdering",required:!0,type:{name:"() => void"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},submittable:{defaultValue:null,description:"",name:"submittable",required:!0,type:{name:"boolean"}},harApneAksjonspunkter:{defaultValue:null,description:"",name:"harApneAksjonspunkter",required:!0,type:{name:"boolean"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const Cb=[ie.VURDER_ARBEIDSFORHOLD_INNTEKTSMELDING],Ub=[Ke.ARBEID_OG_INNTEKT],mo=({saksnummer:e,behandlingUuid:n,arbeidsgiverOpplysningerPerId:r,rettigheter:t,hentOgSettBehandling:i,...s})=>{const l=X(),{startRequest:o}=Yt.useRestApiRunner(Ke.ARBEID_OG_INNTEKT_REGISTRER_ARBEIDSFORHOLD),{startRequest:u}=Yt.useRestApiRunner(Ke.ARBEID_OG_INNTEKT_LAGRE_VURDERING),{startRequest:f}=Yt.useRestApiRunner(Ke.BEHANDLING_ON_HOLD),{startRequest:k}=Yt.useRestApiRunner(Ke.ARBEID_OG_INNTEKT_ÅPNE_FOR_NY_VURDERING),c=h.useCallback(()=>{k({behandlingUuid:n,behandlingVersjon:s.behandling.versjon}).then(()=>i())},[s.behandling.versjon]),b=h.useCallback(v=>f({frist:v.frist||"",ventearsak:v.ventearsak,behandlingUuid:n,behandlingVersjon:s.behandling.versjon}).then(()=>i()),[s.behandling.versjon]);return a.jsx(Mr,{...s,panelEndepunkter:Ub,aksjonspunktKoder:Cb,faktaPanelKode:$r.ARBEID_OG_INNTEKT,faktaPanelMenyTekst:l.formatMessage({id:"ArbeidOgInntektInfoPanel.Title"}),skalPanelVisesIMeny:()=>Yu.hasPath(Ke.ARBEID_OG_INNTEKT.name)&&!s.behandling.aksjonspunkt.some(v=>ie.AVKLAR_ARBEIDSFORHOLD===v.definisjon),renderPanel:v=>a.jsx(Ta,{saksnummer:e,arbeidsgiverOpplysningerPerId:r,erOverstyrer:t.kanOverstyreAccess.isEnabled,registrerArbeidsforhold:o,lagreVurdering:u,settBehandlingPåVentCallback:b,åpneForNyVurdering:c,...v})})};try{mo.displayName="ArbeidOgInntektFaktaInitPanel",mo.__docgenInfo={description:"",displayName:"ArbeidOgInntektFaktaInitPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},behandlingUuid:{defaultValue:null,description:"",name:"behandlingUuid",required:!0,type:{name:"string"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},rettigheter:{defaultValue:null,description:"",name:"rettigheter",required:!0,type:{name:"AksessRettigheter"}},hentOgSettBehandling:{defaultValue:null,description:"",name:"hentOgSettBehandling",required:!0,type:{name:"() => void"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}var Ce=(e=>(e.FORDEL_BEREGNINGSGRUNNLAG="FORDEL_BG",e.VURDER_REFUSJON_BERGRUNN="VURDER_REFUSJONSKRAV",e.VURDER_NYTT_INNTKTSFRHLD="VURDER_NYTT_INNTKTSFRHLD",e))(Ce||{}),zb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function km(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fm={exports:{}},et={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ko;function qb(){if(ko)return et;ko=1;var e=L,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(o,u,f){var k,c={},b=null,v=null;f!==void 0&&(b=""+f),u.key!==void 0&&(b=""+u.key),u.ref!==void 0&&(v=u.ref);for(k in u)t.call(u,k)&&!s.hasOwnProperty(k)&&(c[k]=u[k]);if(o&&o.defaultProps)for(k in u=o.defaultProps,u)c[k]===void 0&&(c[k]=u[k]);return{$$typeof:n,type:o,key:b,ref:v,props:c,_owner:i.current}}return et.Fragment=r,et.jsx=l,et.jsxs=l,et}fm.exports=qb();var p=fm.exports;const ft=e=>e?`...${e.substring(e.length-4,e.length)}`:"",Et=(e,n)=>{const{navn:r,fødselsdato:t,erPrivatPerson:i,identifikator:s}=e;return i?t?`${r} (${y(t).format(ee)})${ft(n)}`:r:s?`${r} (${s})${ft(n)}`:r},_a=(e,n)=>{var r,t;const i=((r=e.arbeidsgiver)==null?void 0:r.arbeidsgiverOrgnr)||((t=e.arbeidsgiver)==null?void 0:t.arbeidsgiverAktørId);if(!i||!n[i])return"";const s=n[i];return s.erPrivatPerson?s.fødselsdato?`${s.navn} (${y(s.fødselsdato).format(ee)})${ft(e.eksternArbeidsforholdRef)}`:`${s.navn}${ft(e.eksternArbeidsforholdRef)}`:`${s.navn} (${i})${ft(e.eksternArbeidsforholdRef)}`},Hb=(e,n)=>e.map(r=>p.jsx("div",{children:r&&r.erTildeltRefusjon?p.jsx(E,{children:n}):p.jsx(E,{children:p.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Direkteutbetaling"})})},`${n}_(${r.fom}_(${r.erTildeltRefusjon})`)),Yb=e=>{if(!e)return;const n=e.tom===Me?void 0:e.tom;return p.jsx(E,{children:p.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Periode",values:{fom:De(e.fom),tom:n?De(n):""}})})},Jb=e=>e.map(n=>p.jsx("div",{children:Yb(n)},`${n.fom}_(${n.erTildeltRefusjon})`)),Wb=({refusjonAndel:e,arbeidsgiverOpplysningerPerId:n})=>p.jsxs(U.Row,{children:[p.jsx(U.DataCell,{children:p.jsx(E,{children:_a(e,n)})}),p.jsx(U.DataCell,{children:Hb(e.tidligereUtbetalinger||[],_a(e,n))}),p.jsx(U.DataCell,{children:Jb(e.tidligereUtbetalinger||[])})]}),Zb="_tabellContainer_9a5fi_1",Xb={tabellContainer:Zb},Qb=e=>e.arbeidsgiver?e.arbeidsgiver.arbeidsgiverAktørId?`${e.arbeidsgiver.arbeidsgiverAktørId}${e.internArbeidsforholdRef})`:`${e.arbeidsgiver.arbeidsgiverOrgnr}${e.internArbeidsforholdRef})`:`${e.aktivitetStatus}${e.internArbeidsforholdRef})`,eh=({beregningsgrunnlag:e,arbeidsgiverOpplysningerPerId:n})=>{var r;const t=((r=e.refusjonTilVurdering)==null?void 0:r.andeler)||[];return p.jsx("div",{className:Xb.tabellContainer,children:p.jsxs(U,{children:[p.jsx(U.Header,{children:p.jsxs(U.Row,{children:[p.jsx(U.HeaderCell,{scope:"col",children:p.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Aktivitet"})}),p.jsx(U.HeaderCell,{scope:"col",children:p.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.TidligereUtb"})}),p.jsx(U.HeaderCell,{scope:"col",children:p.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.GjeldendeFra"})})]})}),p.jsx(U.Body,{children:t.map(i=>p.jsx(Wb,{arbeidsgiverOpplysningerPerId:n,refusjonAndel:i},Qb(i)))})]})})},nh="_bredde_1lhuf_1",rh="_tekstMidtstilt_1lhuf_4",Is={bredde:nh,tekstMidtstilt:rh},th="REFUSJON_ENDRING_DATO",ih="DELVIS_REFUSJON_FØR_START_BELØP",pm=(e,n)=>n.arbeidsgiver?n.arbeidsgiver.arbeidsgiverOrgnr?`${e}${n.arbeidsgiver.arbeidsgiverOrgnr}${n.internArbeidsforholdRef}`:`${e}${n.arbeidsgiver.arbeidsgiverAktørId}${n.internArbeidsforholdRef}`:`${e}${n.aktivitetStatus}${n.internArbeidsforholdRef})`,Bi=e=>pm(th,e),Zl=e=>pm(ih,e),sh=(e,n)=>n?new Date(n).getTime()===new Date(e).getTime():!1,Tt=({refusjonAndel:e,readOnly:n,erAksjonspunktÅpent:r,arbeidsgiverOpplysningerPerId:t,skjæringstidspunkt:i,vilkårperiodeFieldIndex:s})=>{const l=_a(e,t),o=e.skalKunneFastsetteDelvisRefusjon?"BeregningInfoPanel.RefusjonBG.TidligereRefusjon":"BeregningInfoPanel.RefusjonBG.IngenTidligereRefusjon",u=ve().watch(`VURDER_REFUSJON_BERGRUNN_FORM.${s}.${Bi(e)}`),f=!r&&!e.fastsattDelvisRefusjonPrMnd&&e.fastsattDelvisRefusjonPrMnd!==0,k=sh(i,u),c=h.useCallback(v=>p.jsx("b",{children:v}),[]),b=e.skalKunneFastsetteDelvisRefusjon&&e.maksTillattDelvisRefusjonPrMnd;return p.jsxs(Dr,{children:[p.jsx(E,{children:p.jsx(m,{id:o,values:{ag:l,dato:De(e.nyttRefusjonskravFom),b:c}})}),p.jsxs(te,{gap:"6",children:[p.jsx("div",{className:Is.tekstMidtstilt,children:p.jsx(E,{children:p.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.RefusjonFra"})})}),p.jsx(nr,{name:`VURDER_REFUSJON_BERGRUNN_FORM.${s}.${Bi(e)}`,isReadOnly:n,validate:n?[]:[W,Tn,Ol(e.tidligsteMuligeRefusjonsdato)],isEdited:!!e.fastsattNyttRefusjonskravFom&&!r})]}),b&&!k&&!f&&p.jsxs(te,{gap:"6",children:[p.jsx("div",{className:Is.tekstMidtstilt,children:p.jsx(E,{children:p.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.DelvisPrMnd"})})}),p.jsx(ce,{name:`VURDER_REFUSJON_BERGRUNN_FORM.${s}.${Zl(e)}`,className:Is.bredde,validate:n?[]:[W,en(e.maksTillattDelvisRefusjonPrMnd)],parse:Se,readOnly:n,isEdited:!!e.fastsattDelvisRefusjonPrMnd&&!r})]})]})};Tt.buildInitialValues=e=>{const n={};return n[Bi(e)]=e.fastsattNyttRefusjonskravFom||"",n[Zl(e)]=C(e.fastsattDelvisRefusjonPrMnd)||"",n};Tt.transformValues=(e,n,r)=>{var t,i;const s=Bi(n),l=e[s];let o;if(n.skalKunneFastsetteDelvisRefusjon&&l!==r){const u=Zl(n);o=ue(e[u])}return{arbeidsgiverOrgnr:(t=n.arbeidsgiver)==null?void 0:t.arbeidsgiverOrgnr,arbeidsgiverAktoerId:(i=n.arbeidsgiver)==null?void 0:i.arbeidsgiverAktørId,internArbeidsforholdRef:n.internArbeidsforholdRef,fastsattRefusjonFom:l,delvisRefusjonPrMndFørStart:o}};const ah="_begrunnelseTextField_1wq9u_1",lh="_explanationTextarea_1wq9u_4",dh="_explanationTextareaReadOnly_1wq9u_7",As={begrunnelseTextField:ah,explanationTextarea:lh,explanationTextareaReadOnly:dh},Xl={"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.EndringYtelse":"Endring i søkt ytelse for {arbeidsforhold}. ","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.Refusjon":"Nytt refusjonskrav hos {arbeidsforhold}. ","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.Gradering":"Søkt gradering hos {arbeidsforhold}. ","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.Permisjon":"Permisjon avsluttet hos {arbeidsforhold}","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.FastsetÅrsbeløp":"Fastsett årsbeløp for ny fordeling av beregningsgrunnlaget.","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.TilkommetAktivitet":"<b>Tilkommet aktivitet</b> {br} Vurder om beregningsgrunnlaget skal flyttes til ny aktivitet eller fordeles mellom aktivitetene.","FordelBeregningsgrunnlag.Validation.KanIkkeHaNullIBeregningsgrunnlag":"Fastsatt beløp for gradert andel må være høyere enn 0.","BeregningInfoPanel.FordelingBG.LeggTilAndel":"Legg til aktivitet","BeregningInfoPanel.FordelingBG.Ytelse":"Ytelse","BeregningInfoPanel.FordelBG.PeriodeFom":"{fom} - ","BeregningInfoPanel.FordelBG.PeriodeFomOgTom":"{fom} - {tom}","BeregningInfoPanel.FordelBG.Andel":"Aktivitet","BeregningInfoPanel.FordelBG.AndelIArbeid":"Andel i arbeid","BeregningInfoPanel.FordelBG.Refusjonskrav":"Ref.krav","BeregningInfoPanel.FordelBG.Fordeling":"Ny fordeling","BeregningInfoPanel.FordelBG.Inntektskategori":"Inntektskategori","BeregningInfoPanel.FordelBG.Sum":"Sum","BeregningInfoPanel.FordelBG.Validation.LikFordeling":"Summen må være lik {fordeling}","BeregningInfoPanel.FordelBG.Validation.TotalRefusjonSkalIkkeOverstige":"Total refusjon må vere lavere enn {seksG}","BeregningInfoPanel.FordelBG.Validation.TotalFordelingLavereEnn":"Total fordeling for følgende andeler må være lavere enn {seksG}: {andelsliste}","BeregningInfoPanel.FordelBG.Validation.UlikeAndeler":"Andeler for samme aktivitet må ha ulik inntektskategori","BeregningInfoPanel.FordelBG.Validation.IkkjeHogereRefusjonEnnInntektsmelding":"Total refusjon for {arbeidsgiver} kan ikke være høyere enn beløpet fra inntektsmeldingen.","BeregningInfoPanel.FordelBG.Inntekt":"Inntekt","BeregningInfoPanel.FordelBG.Beregningsgrunnlag":"Grunnlag","BeregningInfoPanel.RefusjonBG.Tittel":"Endring i refusjon","BeregningInfoPanel.RefusjonBG.Aktivitet":"Aktivitet","BeregningInfoPanel.RefusjonBG.TidligereUtb":"Tidligere utbetalinger","BeregningInfoPanel.RefusjonBG.GjeldendeFra":"Gjelder fra","BeregningInfoPanel.RefusjonBG.Direkteutbetaling":"Direkte utbetaling","BeregningInfoPanel.RefusjonBG.Periode":"{fom} - {tom}","BeregningInfoPanel.RefusjonBG.IngenTidligereRefusjon":"<b>{ag}</b> krever refusjon fra og med {dato}","BeregningInfoPanel.RefusjonBG.TidligereRefusjon":"<b>{ag}</b> krever refusjon fra og med {dato}. Det er tidligere innvilget et lavere refusjonsbeløp","BeregningInfoPanel.RefusjonBG.RefusjonFra":"Refusjonsbeløpet skal gjelde fra og med","BeregningInfoPanel.RefusjonBG.Aksjonspunkt":"Nytt refusjonskrav overlapper tidligere utbetalinger. Sett endringsdato for ny refusjon.","BeregningInfoPanel.RefusjonBG.DelvisPrMnd":"Før denne datoen skal refusjonsbeløpet per måned være","BeregningInfoPanel.TilkommetAktivitet.Aktivitet":"Aktivitet","BeregningInfoPanel.TilkommetAktivitet.Periode":"Inntektsperiode","BeregningInfoPanel.TilkommetAktivitet.Årsinntekt":"Årsinntekt","BeregningInfoPanel.TilkommetAktivitet.RedusererUtbetaling":"Reduserer inntektstap","BeregningInfoPanel.TilkommetAktivitet.Ja":"Ja","BeregningInfoPanel.TilkommetAktivitet.Nei":"Nei","BeregningInfoPanel.TilkommetAktivitet.VurderTekstNæring":"Har søker inntekt fra den nye næringsaktiviteten som reduserer søkers inntektstap?","BeregningInfoPanel.TilkommetAktivitet.VurderTekstFrilans":"Har søker inntekt fra den nye frilanseraktiviteten som reduserer søkers inntektstap?","BeregningInfoPanel.TilkommetAktivitet.VurderTekstArbeid":"Har søker inntekt fra {arbeidsforhold} som reduserer søkers inntektstap?","BeregningInfoPanel.TilkommetAktivitet.Fastsett":"Fastsett årsinntekt","BeregningInfoPanel.TilkommetAktivitet.LesMer":"Hvordan fastsette årsinntekten?","BeregningInfoPanel.TilkommetAktivitet.LesMerArbeid":"Kontakt bruker for å dokumentere inntekten i det nye arbeidsforholdet. Enten ved å be arbeidsgiver sende inn inntektsmelding eller så kan bruker selv dokumenterer inntekten med arbeidskontrakt, lønnsslipper eller lignende. {br}{br}Dersom arbeidsforholdet har vart så lenge at utbetalt lønn er rapportert i a-ordningen, kan § 8-28 filtret benyttes for å fastsette årsinntekten. Hvis mulig,  benytt de 3 siste månedene og regn om til årsinntekt. Dersom arbeidsforholdet har vart kortere, kan du benytte en kortere periode.","BeregningInfoPanel.TilkommetAktivitet.LesMerFrilans":"Kontakt bruker for å dokumentere hva inntekten utgjør hvis det ikke er rapportert inntekt fra frilansoppdrag i a-ordningen. {br}{br}Hvis oppdraget har vart så lenge at inntekten er rapportert i a-ordningen, kan § 8-28 filtret benyttes for å fastsette årsinntekten. Benytt de 3 siste månedene hvis mulig og regn om til årsinntekt. Hvis oppdraget har vart kortere, kan du benytte en kortere periode.","BeregningInfoPanel.TilkommetAktivitet.LesMerNæring":"Benytt opplysninger oppgitt av bruker i søknaden, eller be bruker sannsynliggjøre forventet inntekt.","BeregningInfoPanel.TilkommetAktivitet.Alert":"Utgangspunktet er at all tilkommet aktivitet med inntekt skal føre til reduksjon i utbetaling. Det kan likevel være feil eller mangler i opplysningene fra AA-registeret. F. eks. internt bytte av org. nummer pga. endret lønns- og personalsystem eller manglende registrert sluttdato i gammel stilling ved overgang til ny stilling. Gjør derfor en konkret vurdering av hvorfor tilkommet aktivitet og inntekt ikke skal føre til reduksjon.","FaktaBegrunnelseTextField.BegrunnEndringene":"Begrunn endringene","SubmitButton.ConfirmInformation":"Bekreft og fortsett","HelpText.Aksjonspunkt.BehandletAksjonspunkt":"Behandlet aksjonspunkt: ","TilkommetAktivitet.AksjonspunktAlert":"Inntekter som kommer til underveis i en løpende pleiepengeperiode er ikke en del av søkers beregningsgrunnlag. Dersom inntekten reduserer søkers inntektstap, må det vurderes om pleiepengene skal graderes mot den nye inntekten.","TilkommetAktivitet.AksjonspunktHelpText":"Vurder om pleiepengene skal reduseres på grunn av den nye inntekten.","TilkommetAktivitet.Heading":"Perioder med ny aktivitet","TilkommetAktivitet.Modal.Knapp":"Del opp periode","TilkommetAktivitet.Modal.Tittel":"Del opp periode","TilkommetAktivitet.Modal.Select":"Hvilken periode ønsker du å dele opp?","TilkommetAktivitet.Modal.DatoValg":"Opprett ny vurdering fra","TilkommetAktivitet.Modal.Resultat":"Nye perioder til vurdering:","TilkommetAktivitet.Modal.Placeholder":"Velg periode","TilkommetAktivitet.Modal.Periode":"{fom} - {tom}","TilkommetAktivitet.Modal.DelOppKnapp":"Del opp periode","TilkommetAktivitet.Modal.AvbrytKnapp":"Avbryt","TilkommetAktivitet.AlertHeading.FlereStatuser":"Søker har nye aktiviteter","TilkommetAktivitet.AlertHeading.SelvstendigNæringsdrivende":"Søker har opplyst om ny inntekt som selvstendig næringsdrivende.","TilkommetAktivitet.AlertHeading.Frilans":"Søker har en ny frilansaktivitet i AA-registeret.","TilkommetAktivitet.AlertHeading.Arbeidsforhold":"Søker har et nytt arbeidsforhold i AA-registeret","Fordeling.VurdertTidligere":"Vurdert i en tidligere behandling","BeregningInfoPanel.TilkommetAktivitet.TomTekst":" "},fo=Pe(Xl),oh=In(3),gh=An(1500),wr=({isReadOnly:e,isSubmittable:n,hasBegrunnelse:r,label:t,hasVurderingText:i,name:s})=>{const l=i?"FaktaBegrunnelseTextField.Vurdering":"FaktaBegrunnelseTextField.BegrunnEndringene",o=t||fo.formatMessage({id:l});return p.jsx(qe,{value:fo,children:(n||r)&&p.jsx("div",{className:As.begrunnelseTextField,children:p.jsx(Xe,{name:s,label:e?"":o,validate:e?[]:[W,oh,gh,jn],className:e?As.explanationTextareaReadOnly:As.explanationTextarea,maxLength:1500,readOnly:e})})})};wr.defaultProps={name:"begrunnelse",hasVurderingText:!1};const uh=e=>e&&e.begrunnelse?e.begrunnelse:"";wr.buildInitialValues=(e,n="begrunnelse")=>({[n]:Bl(uh(e))});wr.transformValues=(e,n="begrunnelse")=>({begrunnelse:e[n]});const mh=Pe(Xl),kh=(e,n,r)=>!r||n?!0:!e,ss=({isReadOnly:e,isSubmittable:n,onClick:r,isSubmitting:t,isDirty:i})=>e?null:p.jsx(ne,{size:"small",loading:t,disabled:kh(i,t,n),onClick:r||Vl,type:r?"button":"submit",children:mh.formatMessage({id:"SubmitButton.ConfirmInformation"})}),po="VURDER_REFUSJON_BERGRUNN_FORM",{VURDER_REFUSJON_BERGRUNN:fh}=Ce,cm=e=>e?e.find(n=>n.definisjon===fh):void 0,ph=e=>e.arbeidsgiver?e.arbeidsgiver.arbeidsgiverAktørId?`${e.arbeidsgiver.arbeidsgiverAktørId}${e.internArbeidsforholdRef})`:`${e.arbeidsgiver.arbeidsgiverOrgnr}${e.internArbeidsforholdRef})`:`${e.aktivitetStatus}${e.internArbeidsforholdRef})`,ch=(e,n)=>{var r;const t=((r=e.refusjonTilVurdering)==null?void 0:r.andeler)||[],i=cm(e.avklaringsbehov);let s={beregningsgrunnlagStp:e.skjaeringstidspunktBeregning,periode:n.periode,begrunnelse:i&&i.begrunnelse?i.begrunnelse:void 0};return t.forEach(l=>{s={...s,...Tt.buildInitialValues(l)}}),s},vh=(e,n)=>{var r;const t=(((r=n.refusjonTilVurdering)==null?void 0:r.andeler)||[]).map(i=>Tt.transformValues(e,i,n.skjaeringstidspunktBeregning));return{periode:e.periode,begrunnelse:e.begrunnelse,fastsatteAndeler:t}},bh=({submittable:e,readOnly:n,beregningsgrunnlag:r,arbeidsgiverOpplysningerPerId:t,vilkårperiodeFieldIndex:i,formSubmittes:s})=>{var l;const o=!r.avklaringsbehov.some(v=>v.definisjon===Ce.VURDER_REFUSJON_BERGRUNN),u=((l=r.refusjonTilVurdering)==null?void 0:l.andeler)||[],f=cm(r.avklaringsbehov),k=f?gn(f.status):!1,c=ve(),b=c.watch(`VURDER_REFUSJON_BERGRUNN_FORM.${i}.begrunnelse`);return p.jsxs(p.Fragment,{children:[k&&p.jsx(ts,{children:[p.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Aksjonspunkt"},"aksjonspunktText")]}),p.jsx(j,{sixteenPx:!0}),p.jsx(re,{size:"small",children:p.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Tittel"})}),p.jsx(j,{sixteenPx:!0}),p.jsx(eh,{beregningsgrunnlag:r,arbeidsgiverOpplysningerPerId:t}),p.jsx(j,{sixteenPx:!0}),u.map(v=>p.jsx(Tt,{refusjonAndel:v,readOnly:o||n,erAksjonspunktÅpent:k,arbeidsgiverOpplysningerPerId:t,skjæringstidspunkt:r.skjaeringstidspunktBeregning,formName:po,vilkårperiodeFieldIndex:i},ph(v))),p.jsx(j,{twentyPx:!0}),p.jsx(wr,{name:`${po}.${i}.begrunnelse`,isSubmittable:e,isReadOnly:o||n,hasBegrunnelse:!!b}),p.jsx(j,{twentyPx:!0}),p.jsx(ss,{isSubmittable:e,isReadOnly:o||n,isSubmitting:s,isDirty:c.formState.isDirty}),p.jsx(j,{sixteenPx:!0})]})};function _t(e,n){const r=e.find(t=>t.periode.fom===n);if(!r)throw Error(`Mangler vilkårsperiode for vilkårsperiodeFom ${n}`);return r}function sr(e,n){return _t(e,n).vurderesIBehandlingen}const Oi="VURDER_REFUSJON_BERGRUNN_FORM",{VURDER_REFUSJON_BERGRUNN:hh}=Ce,jh=(e,n)=>({[Oi]:e.map(r=>ch(r,_t(n,r.vilkårsperiodeFom)))}),Ih=(e,n)=>{const r=n.find(t=>t.vilkårsperiodeFom===e);if(!r)throw Error(`Mangler beregningsgrunnlag for vilkårsperiodeFom ${e}`);return r},Ah=(e,n,r)=>{const t=e[Oi].filter(i=>sr(r,i.periode.fom)).map(i=>vh(i,Ih(i.periode.fom,n)));return{begrunnelse:t.map(i=>i.begrunnelse).reduce((i,s)=>i!==null?`${i} ${s}`:s),grunnlag:t,kode:hh}},xh=({aktivtBeregningsgrunnlagIndeks:e,submittable:n,readOnly:r,beregningsgrunnlagListe:t,vilkarperioder:i,arbeidsgiverOpplysningerPerId:s,setFormData:l,formData:o,submitCallback:u,setRefusjonFormIsDirty:f})=>{const k=He({defaultValues:o!=null&&o.VURDER_REFUSJON_BERGRUNN_FORM?o:jh(t,i)}),[c,b]=h.useState(!1),{formState:{dirtyFields:v,isSubmitted:I,errors:T,isDirty:P},control:_,trigger:R}=k;h.useEffect(()=>{f(P)},[P]),h.useEffect(()=>{var N;I&&(N=v[Oi])!=null&&N[e]&&R()},[e]);const{fields:A}=Qe({name:Oi,control:_});return p.jsx(Kl,{errorMessage:"Noe gikk galt ved visning av refusjon",children:p.jsx(Ye,{formMethods:k,onSubmit:N=>{Object.keys(T).length===0&&(b(!0),u(Ah(N,t,i)))},setDataOnUnmount:l,children:A.map(N=>{const F=t.findIndex(G=>G.skjaeringstidspunktBeregning===N.beregningsgrunnlagStp);return p.jsx("div",{style:{display:F===e?"block":"none"},children:p.jsx(bh,{submittable:n,readOnly:r||!sr(i,t[F].vilkårsperiodeFom),beregningsgrunnlag:t[F],arbeidsgiverOpplysningerPerId:s,vilkårperiodeFieldIndex:F,formSubmittes:c})},N.id)})})})},{FORDEL_BEREGNINGSGRUNNLAG:yh}=Ce,Eh=(e,n)=>n.some(r=>r.definisjon===e),Th=(e,n,r,t)=>{const i=[];return t.length===0&&n.length===0&&e.length===0&&r.length===0||i.push(p.jsx(m,{id:"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.TilkommetAktivitet",values:{b:(...s)=>p.jsx("b",{children:s}),br:p.jsx("br",{})}},"EndringBeregningsgrunnlagFastsetÅrsbeløp")),i},_h=e=>e.map(({erRefusjon:n})=>n).includes(!0)||e.map(({erGradering:n})=>n).includes(!0),Ph=e=>{const n=e.filter(({perioderMedGraderingEllerRefusjon:s})=>s==null?void 0:s.map(({erGradering:l})=>l).includes(!0)),r=e.filter(({perioderMedGraderingEllerRefusjon:s})=>s==null?void 0:s.map(({erRefusjon:l})=>l).includes(!0)),t=e.filter(({permisjon:s})=>s!=null).filter(({perioderMedGraderingEllerRefusjon:s})=>_h(s||[])),i=e.filter(({perioderMedGraderingEllerRefusjon:s})=>s==null?void 0:s.map(({erSøktYtelse:l})=>l).includes(!0));return Th(n,r,t,i)},Sh=e=>{var n,r;const t=((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.arbeidsforholdTilFordeling)||[];return Eh(yh,e.avklaringsbehov)?Ph(t):[]},Nh=({isAksjonspunktClosed:e,beregningsgrunnlag:n})=>{const r=Sh(n);return p.jsx(wl,{isAksjonspunktOpen:!e,children:r})};var vm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var s="",l=0;l<arguments.length;l++){var o=arguments[l];o&&(s=i(s,t.call(this,o)))}return s}function t(s){if(typeof s=="string"||typeof s=="number")return this&&this[s]||s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(this,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var l="";for(var o in s)n.call(s,o)&&s[o]&&(l=i(l,this&&this[o]||o));return l}function i(s,l){return l?s?s+" "+l:s+l:s}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(vm);var Rh=vm.exports;const bm=km(Rh),hm=" - ",jm=e=>e==null,Fh=e=>{if(e.length===0)return"";if(e.length===1)return`${parseFloat(e[0]).toFixed(2)}`;const n=Math.min(...e),r=Math.max(...e);return`${n}${hm}${r}`},Bh=e=>e.inntektskategori&&e.inntektskategori!==Cn.UDEFINERT?e.inntektskategori:"",Oh=(e,n,r,t)=>{var i,s;if(!e.aktivitetStatus||e.aktivitetStatus===S.UDEFINERT)return"";if(e.aktivitetStatus===S.ARBEIDSTAKER&&e.arbeidsforhold){const l=e.arbeidsforhold.arbeidsgiverIdent?t[e.arbeidsforhold.arbeidsgiverIdent]:void 0;return l?Et(l,e.arbeidsforhold.eksternArbeidsforholdId):e.arbeidsforhold.arbeidsforholdType&&((i=r[ye.OPPTJENING_AKTIVITET_TYPE].find(o=>{var u;return o.kode===((u=e.arbeidsforhold)==null?void 0:u.arbeidsforholdType)}))==null?void 0:i.kode)||""}return n&&e.aktivitetStatus===S.BRUKERS_ANDEL?"Ytelse":((s=r[ye.AKTIVITET_STATUS].find(l=>l.kode===e.aktivitetStatus))==null?void 0:s.navn)||""},Vh=e=>jm(e)?void 0:e,co=e=>C(e)||"",$h=(e,n,r)=>e!==void 0?co(e):r&&!jm(n)?co(n):"",Dh=e=>({arbeidsgiverId:e.arbeidsforhold&&e.arbeidsforhold.arbeidsgiverIdent?e.arbeidsforhold.arbeidsgiverIdent:"",eksternArbeidsforholdId:e.arbeidsforhold&&e.arbeidsforhold.eksternArbeidsforholdId?e.arbeidsforhold.eksternArbeidsforholdId:"",arbeidsforholdId:e.arbeidsforhold&&e.arbeidsforhold.arbeidsforholdId?e.arbeidsforhold.arbeidsforholdId:"",arbeidsperiodeFom:e.arbeidsforhold?e.arbeidsforhold.startdato:"",arbeidsperiodeTom:e.arbeidsforhold&&e.arbeidsforhold.opphoersdato!==null?e.arbeidsforhold.opphoersdato:"",arbeidsforholdType:e.arbeidsforholdType}),Gh=(e,n,r,t)=>({andel:Oh(e,n,r,t),aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,nyAndel:!1,kilde:e.kilde==null?void 0:e.kilde,lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler===!0,inntektskategori:Bh(e),forrigeInntektskategori:!e.inntektskategori||e.inntektskategori===Cn.UDEFINERT?void 0:e.inntektskategori}),Im=(e,n,r,t,i)=>{if(n.skalRedigereInntekt){const s=t(`FORDEL_BEREGNING_FORM.${e}.${r}.${i}.fastsattBelop`);return s?ue(s):0}return n.readOnlyBelop?ue(n.readOnlyBelop):0},Mh=e=>e?Number(ue(e)):0,Lh=e=>e.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.UlikeAndeler"}),Kh=(e,n)=>e.inntektskategori===n.inntektskategori&&e.arbeidsgiverIdent===n.arbeidsgiverIdent&&e.aktivitetstatus===n.aktivitetstatus&&e.arbeidsforholdId===n.arbeidsforholdId,wh=(e,n)=>e.some(r=>Kh(n,r)),Ch=(e,n)=>{const r=e.find(t=>t.andelsnr===n);if(!r)throw new Error(`Finner ikke field med andelsnr ${n}`);return r},Uh=(e,n,r,t)=>{const i=[];return t.forEach((s,l)=>{if(s.nyAndel&&(s.andelsnrRef||s.andelsnrRef===0)){const o=Ch(t,s.andelsnrRef);i.push({erNyAndel:s.nyAndel,aktivitetstatus:s.aktivitetStatus,inntektskategori:n(`FORDEL_BEREGNING_FORM.${e}.${r}.${l}.inntektskategori`),arbeidsgiverIdent:o.arbeidsgiverId,arbeidsforholdId:o.arbeidsforholdId})}else i.push({erNyAndel:s.nyAndel,aktivitetstatus:s.aktivitetStatus,inntektskategori:s.inntektskategori,arbeidsgiverIdent:s.arbeidsgiverId,arbeidsforholdId:s.arbeidsforholdId})}),i},zh=(e,n,r,t,i)=>{const s=Uh(e,n,r,t),l=[];let o=!1;return s.forEach(u=>{wh(l,u)&&(o=!0),l.push(u)}),o?Lh(i):void 0},qh=(e,n)=>(!!e.refusjonskravFraInntektsmelding||e.refusjonskravFraInntektsmelding===0)&&(!!n.refusjonskravFraInntektsmelding||n.refusjonskravFraInntektsmelding===0)&&n.refusjonskravFraInntektsmelding<e.refusjonskravFraInntektsmelding,Hh=(e,n,r,t,i,s)=>{const l=s.findIndex(({arbeidsforholdId:u,arbeidsgiverId:f})=>u===t.arbeidsforholdId&&f===t.arbeidsgiverId),o=n(`FORDEL_BEREGNING_FORM.${e}.${r}.${i}.refusjonskrav`);if(l>=0){const u=s[l];qh(t,u)&&(u.refusjonskravFraInntektsmelding=t.refusjonskravFraInntektsmelding),o!=null&&(u.totalRefusjon+=Number(ue(o)))}else{const{refusjonskravFraInntektsmelding:u,arbeidsforholdId:f,arbeidsgiverId:k,eksternArbeidsforholdId:c}=t;let b=0;o!=null&&(b=Number(ue(o))),s.push({arbeidsforholdId:f,eksternArbeidsforholdId:c,arbeidsgiverId:k,refusjonskravFraInntektsmelding:u,totalRefusjon:b})}},Yh=(e,n,r,t)=>{const i=[];return t.forEach((s,l)=>{s.arbeidsforholdId!==""&&Hh(e,n,r,s,l,i)}),i},Jh=(e,n)=>n.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.IkkjeHogereRefusjonEnnInntektsmelding"},{arbeidsgiver:e}),Wh=(e,n,r,t,i,s)=>{const l=Yh(e,t,r,n).filter(o=>(o.refusjonskravFraInntektsmelding||o.refusjonskravFraInntektsmelding===0)&&o.totalRefusjon>o.refusjonskravFraInntektsmelding);if(l.length>0){const o=l[0].arbeidsgiverId?i[l[0].arbeidsgiverId]:void 0;let u;return o?u=Et(o,l[0].eksternArbeidsforholdId):u=l[0].arbeidsgiverId||"",Jh(u,s)}},Zh=(e,n)=>e?n.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.LikFordeling"},{fordeling:e}):void 0,Xh=e=>e.formatMessage({id:"FordelBeregningsgrunnlag.Validation.KanIkkeHaNullIBeregningsgrunnlag"}),Qh=(e,n)=>e?n.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.TotalRefusjonSkalIkkeOverstige"},{seksG:e}):void 0,ej=(e,n,r)=>e>=Math.round(n)?Qh(C(n),r):void 0,Am=(e,n,r)=>r.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.TotalFordelingLavereEnn"},{seksG:e,andelsliste:n}),xm=(e,n,r,t,i)=>e>=Math.round(n)?t(C(n),r,i):void 0,nj=(e,n,r)=>e!==Math.round(n)?Zh(C(Math.round(n)),r):void 0,rj=(e,n,r,t,i,s,l)=>{const o=!r.arbeidsperiodeTom||Wp(r.arbeidsperiodeTom,t);if(!r.andelIArbeid||!o)return!1;const u=i(`FORDEL_BEREGNING_FORM.${e}.${s}.${l}.fastsattBelop`),f=u?ue(u):0;return!Number.isNaN(Number(r.andelIArbeid))&&Number(r.andelIArbeid)>0&&f<=0?!0:r.andelIArbeid.split(hm).filter(k=>Number(k)>0).length>0&&f===0},tj=(e,n,r,t,i,s)=>t.some((l,o)=>rj(e,s,l,i,n,r,o))?Xh(s):void 0,ij=(e,n,r,t,i,s)=>{const l=t.map((o,u)=>Im(e,o,r,n,u)).reduce((o,u)=>o+u,0);return i!=null?nj(l,i,s):void 0},vo=(e,n,r,t,i)=>{const s=i(`FORDEL_BEREGNING_FORM.${e}.${r}.${t}.refusjonskrav`);return Mh(s)},sj=(e,n,r,t,i,s)=>{const l=!!n.find((f,k)=>f.andelIArbeid!=="0.00"&&vo(e,f,r,k,t)===0),o=n.map((f,k)=>vo(e,f,r,k,t)).reduce((f,k)=>f+k,0),u=6*i;return l?ej(o,u,s):void 0},ym=(e,n)=>{const r=e.map(t=>{var i;return((i=n[ye.AKTIVITET_STATUS].find(s=>s.kode===t))==null?void 0:i.navn)||""});return r.sort((t,i)=>t.localeCompare(i)),[...new Set(r)].join(", ")},Em=(e,n,r,t,i)=>t.map((s,l)=>s.aktivitetStatus&&!i.includes(s.aktivitetStatus)?0:Im(e,s,r,n,l)).reduce((s,l)=>s+l,0),aj=(e,n,r,t,i,s,l)=>{const o=[S.ARBEIDSTAKER],u=Em(e,n,r,t,o),f=ym(o,s);return xm(u,i,f,Am,l)},lj=(e,n,r,t,i,s,l)=>{const o=[S.ARBEIDSTAKER,S.FRILANSER,S.DAGPENGER,S.ARBEIDSAVKLARINGSPENGER],u=t.map(c=>c.aktivitetStatus).filter(c=>!!c&&o.includes(c)),f=Em(e,n,r,t,u),k=ym(u,s);return xm(f,i,k,Am,l)},dj=(e,n,r,t,i,s,l)=>{const o=!!t.find(f=>f.andelIArbeid!=="0.00"&&f.aktivitetStatus===S.FRILANSER),u=6*s;if(o)return aj(e,n,r,t,u,l,i);if(t.find(f=>f.andelIArbeid!=="0.00"&&f.aktivitetStatus===S.SELVSTENDIG_NAERINGSDRIVENDE))return lj(e,n,r,t,u,l,i)},oj=(e,n)=>e.arbeidsforholdId===null?n.map(({arbeidsgiverIdent:r})=>r).includes(e.arbeidsgiverIdent):n.map(({arbeidsforholdId:r})=>r).includes(e.arbeidsforholdId),gj=(e,n)=>{var r;const t=e.find(i=>{var s,l;return!!i.arbeidsforhold&&i.arbeidsforhold.arbeidsgiverIdent===((s=n.arbeidsforhold)==null?void 0:s.arbeidsgiverIdent)&&i.arbeidsforhold.arbeidsforholdId===((l=n.arbeidsforhold)==null?void 0:l.arbeidsforholdId)});if(!t)throw new Error(`Finner ikke forventet andel med arbeidsgiverId ${(r=n.arbeidsforhold)==null?void 0:r.arbeidsgiverIdent}`);return t},uj=(e,n)=>{const r=[];return e===void 0||e.forEach(t=>{if(t.arbeidsforhold&&!oj(t.arbeidsforhold,r)){const i=gj(n,t),s={andelsnr:t.andelsnr,nyttArbeidsforhold:t.nyttArbeidsforhold,beregningsperiodeTom:i.beregningsperiodeTom,beregningsperiodeFom:i.beregningsperiodeFom,...t.arbeidsforhold};r.push(s)}}),r},mj=e=>e.length>0?e.flatMap(n=>n.fordelBeregningsgrunnlagAndeler||[]):[],kj=e=>e.length>0?e.flatMap(n=>n.beregningsgrunnlagPrStatusOgAndel||[]):[],fj=(e,n)=>uj(mj(e),kj(n)),pj=e=>{var n,r;const t=((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.fordelBeregningsgrunnlagPerioder)||[],i=e.beregningsgrunnlagPeriode;return fj(t,i)},cj="_container_1tnrv_1",vj="_buttonRemove_1tnrv_5",bj="_buttonRow_1tnrv_16",hj="_rightAlignInput_1tnrv_19",jj="_slettIkon_1tnrv_29",Ij="_deleteBtn_1tnrv_36",Aj="_notLastRow_1tnrv_39",xj="_divider_1tnrv_43",yj="_dividerTop_1tnrv_46",Ej="_sumRow_1tnrv_49",Tj="_fordelingForrige_1tnrv_52",_j="_refusjon_1tnrv_55",Pj="_nyFordeling_1tnrv_62",Sj="_periodeColumn_1tnrv_69",Nj="_addCircleIcon_1tnrv_72",Rj="_imageText_1tnrv_78",Fj="_addPeriode_1tnrv_83",Bj="_customLink_1tnrv_84",Oj="_removeButton_1tnrv_85",Vj="_inntektTable_1tnrv_88",$j="_shortLeftAligned_1tnrv_137",Dj="_wordwrap_1tnrv_142",Gj="_litenBredde_1tnrv_145",Mj="_storBredde_1tnrv_148",Lj="_flexColumn3_1tnrv_151",Kj="_benyttCheckbox_1tnrv_154",Ge={container:cj,buttonRemove:vj,buttonRow:bj,rightAlignInput:hj,slettIkon:jj,deleteBtn:Ij,notLastRow:Aj,divider:xj,dividerTop:yj,sumRow:Ej,fordelingForrige:Tj,refusjon:_j,nyFordeling:Pj,periodeColumn:Sj,addCircleIcon:Nj,imageText:Rj,addPeriode:Fj,customLink:Bj,removeButton:Oj,inntektTable:Vj,shortLeftAligned:$j,wordwrap:Dj,litenBredde:Gj,storBredde:Mj,flexColumn3:Lj,benyttCheckbox:Kj},wj=e=>({nyAndel:!0,kilde:"SAKSBEHANDLER_FORDELING",fastsattBelop:C(0),lagtTilAvSaksbehandler:!0,refusjonskravFraInntektsmelding:0,belopFraInntektsmelding:null,skalRedigereInntekt:!e}),Tm=(e,n,r)=>{var t;return!e.arbeidsgiverIdent||!r[e.arbeidsgiverIdent]?e.arbeidsforholdType&&((t=n[ye.OPPTJENING_AKTIVITET_TYPE].find(i=>i.kode===e.arbeidsforholdType))==null?void 0:t.navn)||"":Et(r[e.arbeidsgiverIdent],e.eksternArbeidsforholdId)},Cj=(e,n,r)=>e.map(t=>p.jsx("option",{value:t.andelsnr.toString(),children:Tm(t,n,r)},t.andelsnr)),Uj=(e,n,r,t)=>{const i=e.map(s=>p.jsx("option",{value:s.andelsnr.toString(),children:Tm(s,r,t)},s.andelsnr));return i.push(p.jsx("option",{value:ua.BRUKERS_ANDEL,children:n.formatMessage({id:"BeregningInfoPanel.FordelingBG.Ytelse"})},ua.BRUKERS_ANDEL)),i},zj=e=>e.map(n=>p.jsx("option",{value:n.kode,children:n.navn},n.kode)),_m=e=>e>0&&C(e)||"",qj=(e,n,r,t)=>{let i=0,s=0;for(s;s<r.length;s+=1){const l=r[s],o=ue(t(`FORDEL_BEREGNING_FORM.${e}.${n}.${s}.fastsattBelop`));l.skalRedigereInntekt?i+=o||0:i+=l.readOnlyBelop?o:0}return _m(i)},Hj=e=>{let n=0,r=0;for(r;r<e.length;r+=1){const t=e[r];t.beregningsgrunnlagPrAar&&(n+=t.beregningsgrunnlagPrAar?Number(ue(t.beregningsgrunnlagPrAar)):0)}return _m(n)},Yj=e=>e.inntektskategori?bc(e.inntektskategori)||Cn.FRILANSER===e.inntektskategori:!1,Jj=(e,n)=>{const r=Number(n);return e.find(t=>t.andelsnr===r)},Wj=(e,n)=>{var r;const t=Number(n);return(r=e.find(i=>i.andelsnr===t))==null?void 0:r.aktivitetStatus},Zj=(e,n,r,t,i)=>{const s=e[n],l=Jj(r,t);l&&(s.arbeidsforholdId=l.arbeidsforholdId,s.arbeidsgiverId=l.arbeidsgiverIdent,s.arbeidsperiodeFom=l.startdato,s.arbeidsperiodeTom=l.opphoersdato,s.andelsnrRef=l.andelsnr,s.aktivitetStatus=Wj(e,t),s.nyttArbeidsforhold=l.nyttArbeidsforhold,s.arbeidsforholdType=l.arbeidsforholdType,s.beregningsperiodeTom=l.beregningsperiodeTom,s.beregningsperiodeFom=l.beregningsperiodeFom,i(n,s))},Xj=(e,n,r,t,i,s,l)=>p.jsxs(p.Fragment,{children:[!e[n].nyAndel&&p.jsx(ce,{name:`${l(n)}.andel`,className:Ge.storBredde,readOnly:!0}),e[n].nyAndel&&p.jsx(Qi,{name:`${l(n)}.andel`,className:Ge.storBredde,label:"",selectValues:r,readOnly:t,validate:[W],onChange:o=>Zj(e,n,i,o.target.value,s)})]}),Qj=(e,n,r,t)=>n?p.jsx(Z,{children:p.jsx(_r,{children:p.jsx(ce,{name:`${t}.readOnlyBelop`,className:Ge.litenBredde,parse:Se,readOnly:!0,isEdited:!1})})}):p.jsx(Z,{className:Ge.rightAlignInput,children:p.jsx(_r,{children:p.jsx(ce,{name:`${t}.fastsattBelop`,parse:Se,readOnly:e,validate:[W,en(178956970)],isEdited:r&&!n,className:Ge.litenBredde})})}),eI=(e,n,r)=>(n[e].nyAndel||n[e].lagtTilAvSaksbehandler)&&!r,nI=(e,n,r,t,i,s,l)=>p.jsxs(Z,{children:[Xj(e,n,r,t,i,s,l),!Yj(e[n])&&p.jsx("div",{className:Ge.wordwrap,children:p.jsx(ce,{name:`${l(n)}.arbeidsperiodeFom - ${l(n)}.arbeidsperiodeTom`,readOnly:!0})})]}),rI=(e,n)=>e?p.jsx(Z,{children:p.jsx(ce,{name:`${n}.andelIArbeid`,readOnly:!0,className:Ge.litenBredde,normalizeOnBlur:r=>Number.isNaN(r)?r:parseFloat(r.toString()).toFixed(2)})}):null,tI=(e,n,r,t)=>p.jsx(Z,{className:e||!n[r].skalKunneEndreRefusjon?void 0:Ge.rightAlignInput,children:p.jsx(_r,{children:p.jsx(ce,{name:`${t(r)}.refusjonskrav`,readOnly:e||!n[r].skalKunneEndreRefusjon,parse:Se,className:Ge.litenBredde,validate:n[r].skalKunneEndreRefusjon?[W,en(178956970)]:[]})})}),iI=e=>p.jsx(Z,{children:p.jsx(ce,{name:`${e}.beregningsgrunnlagPrAar`,className:Ge.litenBredde,readOnly:!0,parse:Se})}),sI=(e,n,r)=>p.jsx(Z,{className:e?Ge.shortLeftAligned:void 0,children:p.jsx(_r,{children:p.jsx(Qi,{label:"",name:`${n}.inntektskategori`,className:Ge.storBredde,validate:e?[]:[W],selectValues:zj(r),readOnly:e})})}),aI=(e,n,r,t)=>p.jsx(Z,{children:eI(n,e,r)&&p.jsx(ne,{icon:p.jsx(er,{"aria-hidden":!0,className:Ge.slettIkon}),onClick:()=>t(n),type:"button",variant:"tertiary"})}),lI=(e,n,r)=>p.jsxs(Rn,{children:[p.jsx(Z,{children:p.jsx(m,{id:"BeregningInfoPanel.FordelBG.Sum"})}),r&&p.jsx(Z,{}),p.jsx(Z,{}),p.jsx(Z,{children:p.jsx(O,{size:"small",children:n})}),p.jsx(Z,{children:p.jsx(O,{size:"small",children:e})}),p.jsx(Z,{}),p.jsx(Z,{})]},"bruttoBGSummaryRow"),dI=e=>{const n=[];return n.push("BeregningInfoPanel.FordelBG.Andel"),e&&n.push("BeregningInfoPanel.FordelBG.AndelIArbeid"),n.push("BeregningInfoPanel.FordelBG.Refusjonskrav"),n.push("BeregningInfoPanel.FordelBG.Beregningsgrunnlag"),n.push("BeregningInfoPanel.FordelBG.Fordeling"),n.push("BeregningInfoPanel.FordelBG.Inntektskategori"),n},oI=e=>{var n,r;return(((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.arbeidsforholdTilFordeling)||[]).some(t=>{var i;return(i=t.perioderMedGraderingEllerRefusjon)==null?void 0:i.some(s=>s.erGradering)})},gI=({fieldName:e,readOnly:n,skalIkkeRedigereInntekt:r,isAksjonspunktClosed:t,arbeidsgiverOpplysningerPerId:i,kodeverkSamling:s,beregningsgrunnlag:l,skalKunneEndreRefusjon:o,sumIPeriode:u,periodeFom:f,vilkårperiodeFieldIndex:k,setFieldArrayToRepeat:c,fieldArrayToRepeat:b})=>{const{control:v,watch:I,getValues:T}=ve(),P=`FORDEL_BEREGNING_FORM.${k}.${e}`,{fields:_,append:R,remove:A,update:N}=Qe({control:v,name:`FORDEL_BEREGNING_FORM.${k}.${e}`});h.useEffect(()=>{b&&b!==P&&!n&&!r&&T(b).forEach(fe=>{var Je;const ge=_.findIndex(be=>be.andel===fe.andel&&(be.inntektskategori===fe.inntektskategori||!be.inntektskategori&&!fe.lagtTilAvSaksbehandler&&!be.lagtTilAvSaksbehandler));if(ge>-1){const be={..._[ge],fastsattBelop:fe.fastsattBelop,refusjonskrav:o?fe.refusjonskrav:(Je=_[ge])==null?void 0:Je.refusjonskrav,inntektskategori:fe.inntektskategori};N(ge,be)}})},[b]);const F=!!l.aktivitetStatus&&l.aktivitetStatus.some(fe=>fe===S.KUN_YTELSE),G=pj(l),$=qj(k,e,_,I),q=Hj(_),Y=oI(l),w=s[ye.INNTEKTSKATEGORI],B=X(),K=F?Uj(G,B,s,i):Cj(G,s,i),J=fe=>`FORDEL_BEREGNING_FORM.${k}.${e}.${fe}`,H=_.map((fe,Je)=>{const ge=n||r;return p.jsxs(Rn,{children:[nI(_,Je,K,ge,G,N,J),rI(Y,J(Je)),tI(ge,_,Je,J),iI(J(Je)),Qj(n,r,t,J(Je)),sI(ge,J(Je),w),aI(_,Je,ge,A)]},fe.id)});H.push(lI($,q,Y));const z=[],oe=fe=>{fe&&z.push(fe)};!n&&_.some(fe=>!!fe.skalRedigereInntekt||!!fe.skalKunneEndreRefusjon)&&(oe(zh(k,T,e,_,B)),oe(ij(k,T,e,_,u,B)),Y&&(oe(tj(k,T,e,_,f,B)),oe(dj(k,T,e,_,B,l.grunnbeløp,s))),o&&(oe(sj(k,_,e,T,l.grunnbeløp,B)),oe(Wh(k,_,e,T,i,B))));const je=`FORDEL_BEREGNING_FORM.${k}.${e}.skjemagruppe`,Fe=z.filter(fe=>!!fe),Be=Fe.length>0?Fe[0]:void 0,On=Xi(je,Be),Le=()=>{c(P===b?"":P)};return p.jsxs("div",{children:[p.jsx(Nn,{headerTextCodes:dI(Y),noHover:!0,classNameTable:Ge.inntektTable,children:H}),!n&&!r&&p.jsx(ne,{icon:p.jsx(Wi,{"aria-hidden":!0}),onClick:()=>R(wj(r)),type:"button",variant:"secondary",children:p.jsx(de,{children:p.jsx(m,{id:"BeregningInfoPanel.FordelingBG.LeggTilAndel"})})}),!n&&!r&&p.jsx(Jp,{className:Ge.benyttCheckbox,checked:P===b,onChange:Le,children:"Benytt for alle perioder"}),On&&p.jsx(Sr,{children:On})]})},uI="_statusOk_1qsx9_1",Pm={statusOk:uI},mI="_vurdertIForrigeIcon_1q86k_1",kI={vurdertIForrigeIcon:mI},fI=bm.bind(kI),Sm=({className:e=""})=>{const n=X();return p.jsx("span",{"data-testid":"vurdertIForrigeIcon",className:fI("vurdertIForrigeIcon",e),children:p.jsx(Zi,{size:"small",variant:"neutral",children:n.formatMessage({id:"Fordeling.VurdertTidligere"})})})},pI=bm.bind(Pm),xs=e=>e?y(e,Te).format(ee):"-",cI=(e,n)=>n?p.jsx(O,{size:"small",children:p.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFomOgTom",values:{fom:xs(e),tom:xs(n)}})}):p.jsx(O,{size:"small",children:p.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFom",values:{fom:xs(e)}})}),vI=e=>{var n,r;return(n=e.arbeidsforhold)!=null&&n.naturalytelseBortfaltPrÅr?(r=e.arbeidsforhold)==null?void 0:r.naturalytelseBortfaltPrÅr:0},bI=e=>{const n=vI(e);return e.besteberegningPrAar!==void 0&&e.besteberegningPrAar!==null?e.besteberegningPrAar+n:e.overstyrtPrAar!==void 0&&e.overstyrtPrAar!==null?e.overstyrtPrAar+n:e.beregnetPrAar!==void 0&&e.beregnetPrAar!==null?e.beregnetPrAar+n:0},hI=(e,n)=>{var r;return(((r=e.find(t=>t.beregningsgrunnlagPeriodeFom===n))==null?void 0:r.beregningsgrunnlagPrStatusOgAndel)||[]).map(t=>bI(t)).reduce((t,i)=>t+i,0)},Ql=({readOnly:e,erVurdertTidligere:n,isAksjonspunktClosed:r,open:t,showPanel:i,beregningsgrunnlag:s,kodeverkSamling:l,arbeidsgiverOpplysningerPerId:o,fordelBGFieldArrayName:u,fordelingsperiode:f,fieldIndex:k,setFieldArrayToRepeat:c,fieldArrayToRepeat:b})=>f.fom?p.jsx(Ve,{className:e?Pm.statusOk:pI(`fordelBeregningsgrunnlagPeriode--${f.fom}`),children:p.jsxs(Ve.Item,{open:t,children:[p.jsxs(Ve.Header,{onClick:()=>i(f.fom),children:[cI(f.fom,f.tom)," ",n?p.jsx(Sm,{}):""]}),p.jsx(Ve.Content,{children:p.jsx(gI,{fieldName:u,readOnly:e,sumIPeriode:hI(s.beregningsgrunnlagPeriode,f.fom),skalIkkeRedigereInntekt:!f.skalRedigereInntekt,skalKunneEndreRefusjon:!!f.skalKunneEndreRefusjon,periodeFom:f.fom,isAksjonspunktClosed:r,kodeverkSamling:l,beregningsgrunnlag:s,arbeidsgiverOpplysningerPerId:o,vilkårperiodeFieldIndex:k,setFieldArrayToRepeat:c,fieldArrayToRepeat:b})})]})}):null,jI=(e,n)=>{const r=(n.beregningsgrunnlagPrStatusOgAndel||[]).find(t=>t.andelsnr===e.andelsnr);if(!r)throw Error(`Finner ikke matchende andel med andelsnr ${e.andelsnr}`);return r},II=(e,n)=>{var r;const t=(r=e.arbeidsforhold)==null?void 0:r.startdato;return!!t&&!y(t).isBefore(y(n))},bo=e=>{var n,r,t,i;if(!e)return;const s=((n=e.arbeidsforhold)==null?void 0:n.naturalytelseBortfaltPrÅr)===null||((r=e.arbeidsforhold)==null?void 0:r.naturalytelseBortfaltPrÅr)===void 0?0:e.arbeidsforhold.naturalytelseBortfaltPrÅr,l=((t=e.arbeidsforhold)==null?void 0:t.naturalytelseTilkommetPrÅr)===null||((i=e.arbeidsforhold)==null?void 0:i.naturalytelseTilkommetPrÅr)===void 0?0:e.arbeidsforhold.naturalytelseTilkommetPrÅr;if(e.besteberegningPrAar||e.besteberegningPrAar===0)return C(e.besteberegningPrAar+s-l);if(e.overstyrtPrAar||e.overstyrtPrAar===0)return C(e.overstyrtPrAar+s-l);if(e.beregnetPrAar||e.beregnetPrAar===0)return C(e.beregnetPrAar+s-l)},AI=e=>(e.fordelingForrigeBehandlingPrAar||e.fordelingForrigeBehandlingPrAar===0?C(e.fordelingForrigeBehandlingPrAar):"")||"";Ql.buildInitialValues=(e,n,r,t,i,s)=>!e||!e.fordelBeregningsgrunnlagAndeler?[]:e.fordelBeregningsgrunnlagAndeler.map(l=>{const o=jI(l,n);return{...Gh(l,t,i,s),...Dh(l),andelIArbeid:Fh(l.andelIArbeid||[]),fordelingForrigeBehandling:AI(l),fastsattBelop:$h(l.fordeltPrAar,o.bruttoPrAar,!!e.skalPreutfyllesMedBeregningsgrunnlag),readOnlyBelop:bo(o),refusjonskrav:l.refusjonskravPrAar!==null&&l.refusjonskravPrAar!==void 0?C(l.refusjonskravPrAar):"",skalKunneEndreRefusjon:e.skalKunneEndreRefusjon&&!l.lagtTilAvSaksbehandler&&l.refusjonskravFraInntektsmeldingPrAar?e.skalKunneEndreRefusjon:!1,belopFraInntektsmelding:l.belopFraInntektsmeldingPrAar,skalRedigereInntekt:!!e.skalRedigereInntekt,refusjonskravFraInntektsmelding:l.refusjonskravFraInntektsmeldingPrAar,nyttArbeidsforhold:l.nyttArbeidsforhold||II(o,r),beregningsgrunnlagPrAar:bo(o),forrigeRefusjonPrAar:l.refusjonskravPrAar,forrigeArbeidsinntektPrAar:Vh(l.fordeltPrAar),beregningsperiodeFom:o.beregningsperiodeFom,beregningsperiodeTom:o.beregningsperiodeTom}});const xI="_lessPadding_xotc9_1",yI={lessPadding:xI};function ho(e,n){return n.tom!=null&&!y(n.tom).isBefore(y(e.fom))&&(e.tom==null||!y(n.tom).isAfter(y(e.tom)))}function EI(e,n){return ho(e,n)||ho(n,e)}function Pn(e,n){var r;return(r=e.fordelBeregningsgrunnlagAndeler)!=null&&r.some(t=>!t.inntektskategori||t.inntektskategori===Cn.UDEFINERT)?!0:!n||n.length===0||n.some(t=>EI(t,e))}const Nm="fordelBGPeriode",ed=e=>Nm+e,TI=e=>({refusjonPrÅr:e.skalKunneEndreRefusjon&&e.refusjonskrav?ue(e.refusjonskrav):void 0,fastsattÅrsbeløpInklNaturalytelse:ue(e.fastsattBelop),inntektskategori:e.inntektskategori||""}),Ir=(e,n)=>!!e.periodeAarsaker&&e.periodeAarsaker.includes(n),_I=e=>Ir(e,on.ENDRING_I_REFUSJONSKRAV)||Ir(e,on.REFUSJON_OPPHOERER)||Ir(e,on.GRADERING)||Ir(e,on.GRADERING_OPPHOERER),PI=(e,n)=>{const r=n.indexOf(e);return n[r-1].bruttoPrAar===e.bruttoPrAar},SI=(e,n)=>!e.arbeidsforhold&&!n.arbeidsforhold?!0:e.arbeidsforhold&&n.arbeidsforhold?e.arbeidsforhold.arbeidsgiverIdent===n.arbeidsforhold.arbeidsgiverIdent&&e.arbeidsforhold.arbeidsforholdId===n.arbeidsforhold.arbeidsforholdId:!1;function jo(e){const n=y(e.beregningsgrunnlagPeriodeFom).day()===6,r=y(e.beregningsgrunnlagPeriodeFom).day()===0,t=y(e.beregningsgrunnlagPeriodeTom).day()===6,i=y(e.beregningsgrunnlagPeriodeTom).day()===0;return(n||r)&&(t||i)}const NI=e=>{var n;return(n=e.andelIArbeid)==null?void 0:n.some(r=>r!==100)};function RI(e){var n;return(n=e.fordelBeregningsgrunnlagAndeler)==null?void 0:n.some(r=>NI(r))}function FI(e=[],n=[]){return e.sort((r,t)=>r-t),n.sort((r,t)=>r-t),e.join("_")!==n.join("-")}const BI=(e,n)=>e.some(r=>{const t=n.find(i=>i.aktivitetStatus===r.aktivitetStatus&&i.inntektskategori===r.inntektskategori&&SI(i,r));return!!(t===void 0||FI(t.andelIArbeid,r.andelIArbeid)||t.refusjonskravPrAar!==r.refusjonskravPrAar)}),OI=(e,n,r,t)=>{const i=e.fordelBeregningsgrunnlagAndeler||[],s=n.fordelBeregningsgrunnlagAndeler||[];if(i.length!==s.length)return!1;const l=t.indexOf(r),o=t[l-1];if(r.bruttoPrAar!==o.bruttoPrAar)return!1;const u=jo(r),f=jo(o),k=e.skalKunneEndreRefusjon||n.skalKunneEndreRefusjon;return(u||f)&&!k?!0:!BI(i,s)},VI=(e,n,r,t,i)=>{var s,l;const o=t[t.length-1];return((s=r.fordelBeregningsgrunnlagAndeler)==null?void 0:s.length)!==((l=o.fordelBeregningsgrunnlagAndeler)==null?void 0:l.length)||r.skalRedigereInntekt!==o.skalRedigereInntekt||_I(e)||Pn(r,i)&&!Pn(o,i)?!1:Ir(e,on.ARBEIDSFORHOLD_AVSLUTTET)?PI(e,n):Ir(e,on.ENDRING_I_AKTIVITETER_SØKT_FOR)?OI(r,o,e,n):!0},$I=(e,n)=>{const r={...e.pop(),tom:n.tom};e.push(r)},DI=(e,n)=>(r,t)=>{if(r.length===0)return r.push({...t}),r;const i=e.find(s=>s.beregningsgrunnlagPeriodeFom===t.fom);if(i){if(VI(i,e,t,r,n))return $I(r,t),r;r.push({...t})}return r},GI=e=>({fom:n,tom:r})=>(y(n).isSame(y(e.fom))||y(n).isAfter(e.fom))&&(e.tom===null||y(r).isSame(y(e.tom))||y(r).isBefore(y(e.tom))),MI=e=>{if(e.nyAndel&&e.andel)return e.andel;if(!e.andelsnr)throw Error(`Forventer å finne andelsnr for submit på aktivitet ${e}`);return e.andelsnr},LI=e=>({andelsnr:MI(e),aktivitetStatus:e.aktivitetStatus,arbeidsgiverId:e.arbeidsgiverId!==""?e.arbeidsgiverId:void 0,arbeidsforholdId:e.arbeidsforholdId!==""?e.arbeidsforholdId:void 0,nyAndel:e.nyAndel,kilde:e.kilde,lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler,arbeidsforholdType:e.arbeidsforholdType,beregningsperiodeTom:e.beregningsperiodeTom,beregningsperiodeFom:e.beregningsperiodeFom,forrigeArbeidsinntektPrÅr:e.forrigeArbeidsinntektPrAar,forrigeRefusjonPrÅr:e.forrigeRefusjonPrAar,forrigeInntektskategori:e.forrigeInntektskategori,fastsatteVerdier:TI(e)}),KI=e=>{if(!e)throw Error("Fant ikke påkrevd felt før submit");return e},wI=(e,n,r,t)=>t.filter(GI(r)).filter(i=>i.skalRedigereInntekt||i.skalKunneEndreRefusjon).map(i=>({andeler:e[ed(n)].map(LI),fom:KI(i.fom),tom:i.tom})),nd=(e,n,r)=>e.filter(t=>RI(t)).reduce(DI(n,r),[]),CI=(e,n)=>{const r=n.find(t=>t.beregningsgrunnlagPeriodeFom===e.fom);if(!r)throw Error(`Finner ikke matchende beregningsgrunnlagperiode for fordelingsperiode med fom ${e.fom}`);return r},UI=(e,n,r,t)=>{const i=[],s=nd(e,r,t);for(let l=0;l<s.length;l+=1){const{skalRedigereInntekt:o}=s[l];o&&Pn(s[l])&&wI(n,l,s[l],e).forEach(u=>i.push(u))}return i};function zI(e,n){return Pn(n,e.forlengelseperioder)}function qI(e,n){var r;return!Pn(e,n.forlengelseperioder)&&e.skalRedigereInntekt===!0&&!!e.fordelBeregningsgrunnlagAndeler&&((r=e.fordelBeregningsgrunnlagAndeler)==null?void 0:r.every(t=>t.fordeltPrAar!==null&&t.fordeltPrAar!==void 0))}const Pt=({readOnly:e,perioder:n,isAksjonspunktClosed:r,bgPerioder:t,beregningsgrunnlag:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:l,fieldIndex:o})=>{const[u,f]=h.useState([]),[k,c]=h.useState("");h.useEffect(()=>{const v=n.filter(I=>zI(i,I)).filter(I=>I.skalKunneEndreRefusjon||I.skalRedigereInntekt).filter(I=>!!I.fom).map(I=>I.fom||"");f(v)},[n]);const b=v=>{if(u.includes(v)){const I=u.filter(T=>T!==v);f(I)}else{const I=u.map(T=>T);I.push(v),f(I)}};return p.jsx(dc,{className:yI.lessPadding,children:nd(n,t,i.forlengelseperioder).map((v,I)=>p.jsxs(L.Fragment,{children:[p.jsx(j,{eightPx:!0}),p.jsx(Ql,{readOnly:e||!Pn(v,i.forlengelseperioder),erVurdertTidligere:qI(v,i),fordelingsperiode:v,fordelBGFieldArrayName:ed(I),open:u?u.filter(T=>T===v.fom).length>0:!1,isAksjonspunktClosed:r,showPanel:b,beregningsgrunnlag:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:l,fieldIndex:o,setFieldArrayToRepeat:c,fieldArrayToRepeat:k}),p.jsx(j,{eightPx:!0})]},Nm+v.fom))})};Pt.transformValues=(e,n,r,t)=>({endretBeregningsgrunnlagPerioder:UI(n,e,r,t)});Pt.buildInitialValues=(e,n,r,t)=>{const i={};if(!e)return i;const s=!!n.aktivitetStatus&&n.aktivitetStatus.some(o=>o===S.KUN_YTELSE),l=n.beregningsgrunnlagPeriode;return nd(e,l,n.forlengelseperioder).forEach((o,u)=>{const f=CI(o,l);i[ed(u)]=Ql.buildInitialValues(o,f,n.skjaeringstidspunktBeregning,s,r,t)}),i};const HI=e=>{var n,r;return((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.fordelBeregningsgrunnlagPerioder)||[]},St=({isAksjonspunktClosed:e,readOnly:n,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s})=>{const l=r.beregningsgrunnlagPeriode,o=HI(r);return p.jsx(Pt,{perioder:o,readOnly:n,isAksjonspunktClosed:e,bgPerioder:l,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s})};St.buildInitialValues=(e,n,r,t)=>Pt.buildInitialValues(e,n,r,t);St.transformValues=(e,n,r,t)=>Pt.transformValues(e,n,r,t);const{FORDEL_BEREGNINGSGRUNNLAG:Pa}=Ce,YI=(e,n)=>n.some(r=>r.definisjon===e),Rm=e=>{const n=e.find(r=>r.definisjon===Pa);if(!n)throw Error(`Fant ikke forventet avklaringsbehov ${Pa}`);return n},JI="begrunnelse",Fm=e=>{var n,r;return((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.fordelBeregningsgrunnlagPerioder)||[]},WI=(e,n)=>{if(!YI(Pa,n.avklaringsbehov))throw Error("har ikke aksjonspunkt for fordeling når transform values ble kalt");const r=n.beregningsgrunnlagPeriode;return{begrunnelse:e.begrunnelse,periode:e.periode,...St.transformValues(e,Fm(n),r,n.forlengelseperioder)}},ZI=(e,n,r,t)=>{const i=Fm(e);return{beregningsgrunnlagStp:e.skjaeringstidspunktBeregning,periode:n.periode,...wr.buildInitialValues(Rm(e.avklaringsbehov),JI),...St.buildInitialValues(i,e,t,r)}},XI=({readOnly:e,submittable:n,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s})=>{const l=Rm(r.avklaringsbehov),o=!gn(l.status),u=ve(),f=u.watch(`FORDEL_BEREGNING_FORM.${s}.begrunnelse`);return p.jsxs(p.Fragment,{children:[p.jsx(Nh,{isAksjonspunktClosed:o,beregningsgrunnlag:r}),p.jsx(j,{twentyPx:!0}),p.jsx(St,{readOnly:e,isAksjonspunktClosed:o,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s}),p.jsx(j,{twentyPx:!0}),p.jsx(wr,{name:`FORDEL_BEREGNING_FORM.${s}.begrunnelse`,isSubmittable:n,isReadOnly:e,hasBegrunnelse:!!f}),p.jsx(j,{twentyPx:!0}),p.jsx(ss,{isSubmittable:n,isReadOnly:e,isSubmitting:u.formState.isSubmitting,isDirty:u.formState.isDirty})]})},{FORDEL_BEREGNINGSGRUNNLAG:QI}=Ce,Vi="FORDEL_BEREGNING_FORM",eA=(e,n)=>{const r=n.find(t=>t.vilkårsperiodeFom===e);if(!r)throw Error(`Mangler beregningsgrunnlag for vilkårsperiodeFom ${e}`);return r},nA=(e,n,r)=>{const t=e[Vi].filter(i=>sr(r,i.periode.fom)).map(i=>WI(i,eA(i.periode.fom,n)));return{begrunnelse:t.map(i=>i.begrunnelse).reduce((i,s)=>i!==null?`${i} ${s}`:s),grunnlag:t,kode:QI}},rA=(e,n,r,t)=>({[Vi]:e.filter(i=>i.avklaringsbehov.some(s=>s.definisjon===Ce.FORDEL_BEREGNINGSGRUNNLAG)).map(i=>ZI(i,_t(n,i.vilkårsperiodeFom),r,t))}),tA=({aktivtBeregningsgrunnlagIndeks:e,readOnly:n,submittable:r,submitCallback:t,beregningsgrunnlagListe:i,vilkårsperioder:s,kodeverkSamling:l,arbeidsgiverOpplysningerPerId:o,formData:u,setFormData:f,setFordelingFormIsDirty:k})=>{const c=He({defaultValues:u!=null&&u.FORDEL_BEREGNING_FORM?u:rA(i,s,o,l)}),{formState:{dirtyFields:b,isSubmitted:v,errors:I,isDirty:T},control:P,trigger:_}=c;h.useEffect(()=>{k(T)},[T]),h.useEffect(()=>{var A;v&&(A=b[Vi])!=null&&A[e]&&_()},[e]);const{fields:R}=Qe({name:Vi,control:P});return p.jsx(Kl,{errorMessage:"Noe gikk galt ved visning av fordeling",children:p.jsx(Ye,{formMethods:c,onSubmit:A=>{Object.keys(I).length===0&&t(nA(A,i,s))},setDataOnUnmount:f,children:R.map(A=>{const N=i.findIndex(F=>F.skjaeringstidspunktBeregning===A.beregningsgrunnlagStp);return p.jsx("div",{style:{display:N===e?"block":"none"},children:p.jsx(XI,{submittable:r,readOnly:n||!sr(s,i[N].vilkårsperiodeFom),beregningsgrunnlag:i[N],arbeidsgiverOpplysningerPerId:o,kodeverkSamling:l,fieldIndex:N})},A.id)})})})};var Bm={exports:{}};(function(e,n){(function(r,t){e.exports=t()})(zb,function(){return function(r,t,i){t.prototype.isBetween=function(s,l,o,u){var f=i(s),k=i(l),c=(u=u||"()")[0]==="(",b=u[1]===")";return(c?this.isAfter(f,o):!this.isBefore(f,o))&&(b?this.isBefore(k,o):!this.isAfter(k,o))||(c?this.isBefore(f,o):!this.isAfter(f,o))&&(b?this.isAfter(k,o):!this.isBefore(k,o))}}})})(Bm);var iA=Bm.exports;const Om=km(iA);y.extend(Om);const sA="2023-05-01";function aA(){return(e,n,r)=>r.findIndex(t=>t.skalRedusereUtbetaling===e.skalRedusereUtbetaling&&t.arbeidsforholdId===e.arbeidsforholdId&&t.arbeidsgiverId===e.arbeidsgiverId&&t.aktivitetStatus===e.aktivitetStatus&&t.bruttoInntektPrÅr===e.bruttoInntektPrÅr)===n}const lA=(e,n)=>{const r=e.pop();if(!r)return;const t=r.inntektsforholdListe?[...r.inntektsforholdListe]:[];n.inntektsforholdListe.forEach(s=>t.push(s));const i={...r,inntektsforholdListe:t.filter(aA()),tom:n.tom};e.push(i)},dA=(e,n)=>{const r=e.inntektsforholdListe||[],t=n.inntektsforholdListe||[];for(let i=0;i<r.length;i+=1){const s=r[i],l=t.find(o=>o.aktivitetStatus===s.aktivitetStatus&&o.arbeidsgiverId===s.arbeidsgiverId&&o.arbeidsforholdId===s.arbeidsforholdId);if(l===void 0)return!0;if(l.bruttoInntektPrÅr!==s.bruttoInntektPrÅr||l.skalRedusereUtbetaling!==s.skalRedusereUtbetaling)return!1}return!0},Io=(e,n)=>wu(e,n,!0)>2,oA=(e,n)=>{const r=n.tom,t=e.fom;return y(r).isBefore(y(t))?Io(r,t):Io(t,r)},gA=(e,n,r)=>{if(y(e.fom).isSame(y(sA)))return!1;const t=n[n.length-1],i=Pn(e,r);return i&&!Pn(t,r)||i&&oA(e,t)?!1:dA(e,t)},uA=e=>(n,r)=>n.length===0?(n.push({...r}),n):gA(r,n,e)?(lA(n,r),n):(n.push({...r}),n),Vm=(e,n)=>e.reduce(uA(n),[]);function $m(e,n){var r;return!Pn(e,n.forlengelseperioder)&&!!e.inntektsforholdListe&&((r=e.inntektsforholdListe)==null?void 0:r.every(t=>t.skalRedusereUtbetaling!==null))}const Dm=(e,n)=>{let r=null;return e.arbeidsgiverId!==null&&e.arbeidsgiverId!==void 0&&(r=n[e.arbeidsgiverId]),e.aktivitetStatus===S.ARBEIDSTAKER?r?Et(r,e.arbeidsforholdId):"Arbeidsforhold":e.aktivitetStatus===S.FRILANSER?"Frilanser":e.aktivitetStatus===S.SELVSTENDIG_NAERINGSDRIVENDE?"Selvstendig næringsdrivende":""},mA=(e,n)=>{let r=null;return e.arbeidsgiverIdent&&(r=n[e.arbeidsgiverIdent]),e.aktivitetStatus===S.ARBEIDSTAKER?r?Et(r,e.arbeidsforholdId):"Arbeidsforhold":e.aktivitetStatus===S.FRILANSER?"Frilanser":e.aktivitetStatus===S.SELVSTENDIG_NAERINGSDRIVENDE?"Selvstendig næringsdrivende":""},kA="_statusOk_1qsx9_1",Ao={statusOk:kA},fA="_tilkommetAktivitet_1xjj3_1",pA="_aktivitetContainer_1xjj3_4",cA="_aktivitetTable_1xjj3_7",vA="_separator_1xjj3_12",bA="_aksjonspunktContainer_1xjj3_16",hA="_aksjonspunktContainerLukketAP_1xjj3_21",jA="_aksjonspunktContainerLukketAP_1xjj3_21",IA="_bruttoInntektContainer_1xjj3_26",AA="_bruttoInntektInput_1xjj3_29",xA="_bruttoInntektCurrency_1xjj3_32",yA="_edited_1xjj3_37",EA="_inntektsmeldingTag_1xjj3_40",TA="_inntektColumn_1xjj3_43",_A="_tittelRad_1xjj3_47",PA="_modalKnapp_1xjj3_50",Re={tilkommetAktivitet:fA,aktivitetContainer:pA,aktivitetTable:cA,separator:vA,aksjonspunktContainer:bA,aksjonspunktContainerLukketAP:hA,aksjonspunktContainerLukketAp:jA,bruttoInntektContainer:IA,bruttoInntektInput:AA,bruttoInntektCurrency:xA,edited:yA,inntektsmeldingTag:EA,inntektColumn:TA,tittelRad:_A,modalKnapp:PA},SA=e=>{if(!e)return"";let n=e.aktivitetStatus;return e.arbeidsgiverId&&(n+=e.arbeidsgiverId),e.arbeidsforholdId&&(n+=e.arbeidsforholdId),n},NA=({formName:e,bgIndex:n,periodeFieldIndex:r,readOnly:t,inntektsforholdFieldIndex:i,field:s,arbeidsgiverOpplysningerPerId:l})=>{const o=ve(),u=X(),f=o.watch(`${e}.${n}.perioder.${r}.inntektsforhold.${i}.skalRedusereUtbetaling`),k=()=>{switch(s.aktivitetStatus){case S.ARBEIDSTAKER:return p.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerArbeid",values:{br:p.jsx("br",{})}});case S.FRILANSER:return p.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerFrilans",values:{br:p.jsx("br",{})}});case S.SELVSTENDIG_NAERINGSDRIVENDE:return p.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerNæring"});default:return p.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerArbeid"})}},c=()=>s.aktivitetStatus===S.SELVSTENDIG_NAERINGSDRIVENDE?u.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.VurderTekstNæring"}):s.aktivitetStatus===S.FRILANSER?u.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.VurderTekstFrilans"}):u.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.VurderTekstArbeid"},{arbeidsforhold:mA(s,l)});return p.jsxs(p.Fragment,{children:[p.jsx(Ae,{label:c(),name:`${e}.${n}.perioder.${r}.inntektsforhold.${i}.skalRedusereUtbetaling`,radios:[{value:"true",label:u.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Ja"})},{value:"false",label:u.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Nei"})}],isReadOnly:t,validate:[W],isTrueOrFalseSelection:!0}),f===!1&&p.jsxs(p.Fragment,{children:[p.jsx(j,{sixteenPx:!0}),p.jsx(Ie,{size:"small",variant:"info",children:u.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Alert"})})]}),f&&p.jsxs(p.Fragment,{children:[p.jsx(j,{sixteenPx:!0}),p.jsx(O,{size:"small",children:p.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.Fastsett"})}),p.jsx(Ee,{header:p.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMer"}),children:k()}),p.jsx(j,{eightPx:!0}),p.jsxs("div",{className:Re.bruttoInntektContainer,children:[p.jsx(ce,{name:`${e}.${n}.perioder.${r}.inntektsforhold.${i}.bruttoInntektPrÅr`,label:"Fastsett årsinntekt",hideLabel:!0,readOnly:t,className:Re.bruttoInntektInput,parse:Se,validate:[W,en(178956970)]}),p.jsx("span",{className:Re.bruttoInntektCurrency,children:"kr"})]})]})]})},xo=e=>!!e&&+e>0,RA=({arbeidsgiverOpplysningerPerId:e,vurderInntektsforholdPeriode:n})=>{const r=X(),t=s=>{const l=[];return s.inntektsforholdListe.forEach(o=>{const u=xo(o.bruttoInntektPrÅr),f=xo(o.inntektFraInntektsmeldingPrÅr);l.push(p.jsxs(Rn,{children:[p.jsx(Z,{children:p.jsx(E,{size:"small",children:Dm(o,e)})}),p.jsx(Z,{children:p.jsx(E,{size:"small",children:o.skalRedusereUtbetaling?r.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Ja"}):r.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Nei"})})}),(u||f)&&p.jsx(Z,{children:p.jsxs(E,{size:"small",children:[u&&p.jsxs(p.Fragment,{children:[_i(o.bruttoInntektPrÅr||0),p.jsx(yt,{})]}),f&&!u&&p.jsxs(p.Fragment,{children:[_i(o.inntektFraInntektsmeldingPrÅr||0),p.jsx(Zi,{className:Re.inntektsmeldingTag,variant:"neutral",size:"xsmall",children:"IM"})]})]})})]},SA(o)))}),l},i=["BeregningInfoPanel.TilkommetAktivitet.Aktivitet","BeregningInfoPanel.TilkommetAktivitet.RedusererUtbetaling",n.inntektsforholdListe.some(s=>s.bruttoInntektPrÅr)?"BeregningInfoPanel.TilkommetAktivitet.Årsinntekt":"BeregningInfoPanel.TilkommetAktivitet.TomTekst"].map(s=>p.jsxs(O,{size:"small",children:[p.jsx(m,{id:s})," "]},s));return p.jsx("div",{className:Re.aktivitetContainer,children:p.jsx(Nn,{headerColumnContent:i,noHover:!0,classNameTable:Re.aktivitetTable,children:t(n)})})},Xt=e=>!!e&&+e>0,FA=({formName:e,vurderInntektsforholdPeriode:n,bgIndex:r,periodeFieldIndex:t,readOnly:i,erAksjonspunktÅpent:s,submittable:l,arbeidsgiverOpplysningerPerId:o,skalViseBegrunnelse:u})=>{const{control:f,formState:k}=ve(),{fields:c}=Qe({control:f,name:`VURDER_TILKOMMET_AKTIVITET_FORM.${r}.perioder.${t}.inntektsforhold`}),b=n.inntektsforholdListe.some(P=>Xt(P.bruttoInntektPrÅr)||Xt(P.inntektFraInntektsmeldingPrÅr)),v=n.inntektsforholdListe.some(P=>!!P.periode),I=["BeregningInfoPanel.TilkommetAktivitet.Aktivitet",b?"BeregningInfoPanel.TilkommetAktivitet.Årsinntekt":"BeregningInfoPanel.TilkommetAktivitet.TomTekst",v?"BeregningInfoPanel.TilkommetAktivitet.Periode":"BeregningInfoPanel.TilkommetAktivitet.TomTekst"].map(P=>p.jsxs(O,{size:"small",children:[p.jsx(m,{id:P})," "]},P)),T=P=>{const _=[],{inntektsforholdListe:R}=P;return R.forEach(A=>{const N=Xt(A.bruttoInntektPrÅr),F=Xt(A.inntektFraInntektsmeldingPrÅr);_.push(p.jsxs(Rn,{children:[p.jsx(Z,{children:p.jsx(E,{size:"small",children:Dm(A,o)})}),(N||F||v)&&p.jsx(Z,{className:Re.inntektColumn,children:p.jsxs(E,{size:"small",children:[N&&!F&&p.jsxs(p.Fragment,{children:[_i(A.bruttoInntektPrÅr||0),p.jsx(yt,{})]}),F&&p.jsxs(p.Fragment,{children:[_i(A.inntektFraInntektsmeldingPrÅr||0),p.jsx(Zi,{className:Re.inntektsmeldingTag,variant:"neutral",size:"xsmall",children:"IM"})]})]})}),A.periode&&p.jsx(Z,{className:Re.periodeColumn,children:p.jsx(E,{size:"small",children:p.jsx(we,{dateStringFom:A.periode.fom,dateStringTom:A.periode.tom})})})]},A.arbeidsgiverId||A.aktivitetStatus))}),_};return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:Re.aktivitetContainer,children:p.jsx(Nn,{noHover:!0,headerColumnContent:I,classNameTable:Re.aktivitetTable,children:T(n)})}),p.jsx(j,{sixteenPx:!0}),p.jsxs("div",{className:s?Re.aksjonspunktContainer:Re.aksjonspunktContainerLukketAP,children:[c.map((P,_)=>p.jsxs("div",{children:[p.jsx(NA,{formName:e,bgIndex:r,periodeFieldIndex:t,inntektsforholdFieldIndex:_,field:P,readOnly:i,arbeidsgiverOpplysningerPerId:o},P.id),_<n.inntektsforholdListe.length-1&&p.jsx(j,{fourtyPx:!0})]},P.id)),u&&p.jsxs(p.Fragment,{children:[p.jsx(j,{fourtyPx:!0}),p.jsx(Xe,{name:`${e}.${r}.begrunnelse`,label:"Begrunnelse",readOnly:i,validate:[W]}),p.jsx(j,{sixteenPx:!0}),p.jsx(ss,{isSubmittable:l,isReadOnly:i,isSubmitting:k.isSubmitting,isDirty:k.isDirty})]})]})]})},ys=e=>e?y(e,Te).format(ee):"-",yo=(e,n)=>!n||n===Me?p.jsx(O,{size:"medium",children:p.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFom",values:{fom:ys(e)}})}):p.jsx(O,{size:"medium",children:p.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFomOgTom",values:{fom:ys(e),tom:ys(n)}})}),BA=({beregningsgrunnlag:e,arbeidsgiverOpplysningerPerId:n,formName:r,bgIndex:t,readOnly:i,submittable:s,erAksjonspunktÅpent:l,fields:o})=>{const[u,f]=h.useState([]),[k,c]=h.useState([]),[b,v]=h.useState([]),I=ve();h.useEffect(()=>{var A,N;const F=(N=(A=e.faktaOmFordeling)==null?void 0:A.vurderNyttInntektsforholdDto)==null?void 0:N.vurderInntektsforholdPerioder;if(F){const G=Vm(F,e.forlengelseperioder);f(G);const $=k.map(Y=>Y),q=o.map(Y=>Y.fom);q.filter(Y=>!b.includes(Y)).forEach(Y=>$.push(Y)),c($),v(q)}},[e,o.length]);const T=u.filter(A=>$m(A,e)),P=A=>{if(k.includes(A)){const N=k.filter(F=>F!==A);c(N)}else{const N=k.map(F=>F);N.push(A),c(N)}},_=A=>{const N=y(A),F=u.find(G=>!y(G.fom).isAfter(N)&&!y(G.tom).isBefore(N));if(!F)throw new Error(`Finner ikke periode som overlapper med fom ${A}`);return F},R=A=>()=>P(A);return!u||u.length<1?null:p.jsxs(p.Fragment,{children:[p.jsxs(Ve,{className:Ao.statusOk,children:[T.map(A=>p.jsxs(Ve.Item,{open:k.filter(N=>N===A.fom).length>0,children:[p.jsxs(Ve.Header,{onClick:R(A.fom),children:[yo(A.fom,A.tom)," ",p.jsx(Sm,{})]}),p.jsx(Ve.Content,{children:p.jsx(RA,{arbeidsgiverOpplysningerPerId:n,vurderInntektsforholdPeriode:A})})]},A.fom)),o.map((A,N)=>p.jsxs(Ve.Item,{open:k.filter(F=>F===A.fom).length>0,children:[p.jsx(Ve.Header,{onClick:R(A.fom),children:yo(A.fom,A.tom)}),p.jsx(Ve.Content,{children:p.jsx(FA,{arbeidsgiverOpplysningerPerId:n,vurderInntektsforholdPeriode:_(A.fom),formName:r,bgIndex:t,periodeFieldIndex:N,readOnly:i,erAksjonspunktÅpent:l,submittable:s,skalViseBegrunnelse:o.length===1})})]},A.fom))]}),o.length>1&&p.jsxs("div",{className:Ao.aktivitetContainer,children:[p.jsx(j,{fourtyPx:!0}),p.jsx(Xe,{name:`${r}.${t}.begrunnelse`,label:"Begrunnelse for alle perioder",readOnly:i,validate:[W]}),p.jsx(j,{sixteenPx:!0}),p.jsx(ss,{isSubmittable:s,isReadOnly:i,isSubmitting:I.formState.isSubmitting,isDirty:I.formState.isDirty})]})]})},OA="_datoRad_17rpq_1",VA="_boks_17rpq_8",$A="_footerRad_17rpq_12",DA="_datoVelger_17rpq_16",GA="_periodeHeader_17rpq_20",$i={datoRad:OA,boks:VA,footerRad:$A,datoVelger:DA,periodeHeader:GA};function Gm(e){var n,r,t="";if(typeof e=="string"||typeof e=="number")t+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(r=Gm(e[n]))&&(t&&(t+=" "),t+=r);else for(n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function Mm(){for(var e,n,r=0,t="";r<arguments.length;)(e=arguments[r++])&&(n=Gm(e))&&(t&&(t+=" "),t+=n);return t}const MA=e=>Mm({"navds-typo--spacing":e.spacing,"navds-typo--truncate":e.truncate,"navds-typo--semibold":e.weight==="semibold",[`navds-typo--align-${e.align}`]:e.align,[`navds-typo--color-${e.textColor}`]:e.textColor,"navds-typo--visually-hidden":e.visuallyHidden,"navds-typo--uppercase":e.uppercase});var LA=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const KA=h.forwardRef((e,n)=>{var{className:r,size:t="medium",as:i="label",spacing:s,visuallyHidden:l,textColor:o}=e,u=LA(e,["className","size","as","spacing","visuallyHidden","textColor"]);return L.createElement(i,Object.assign({},u,{ref:n,className:Mm(r,"navds-label",MA({spacing:s,visuallyHidden:l,textColor:o}),{"navds-label--small":t==="small"})}))}),wA=KA,Eo=e=>e===Me?"":y(e).format(ee),CA=({periode:e,forhåndsvisPeriodesplitt:n,setValgtDato:r})=>{const t=X(),[i,s]=h.useState(),l=h.useCallback(k=>{const c=y(k).format(Te);if(r(c),c){const b=n(c);b.sort((v,I)=>y(v.fom).diff(y(I.fom))),s(b)}},[n]),o=[k=>!e||!y(k).isAfter(y(e.fom))||y(k).isAfter(y(e.tom))],{datepickerProps:u,inputProps:f}=Yp({today:new Date(e.fom),disableWeekends:!0,disabled:o,onDateChange:l});return p.jsxs(p.Fragment,{children:[p.jsx(x,{className:$i.datoVelger,children:p.jsx(eo,{...u,children:p.jsx(eo.Input,{...f,label:t.formatMessage({id:"TilkommetAktivitet.Modal.DatoValg"}),size:"small"})})}),i&&p.jsxs(x,{children:[p.jsx(wA,{size:"small",className:$i.periodeHeader,children:p.jsx(m,{id:"TilkommetAktivitet.Modal.Resultat"})}),p.jsxs("ul",{children:[p.jsx("li",{children:p.jsx(m,{id:"TilkommetAktivitet.Modal.Periode",values:{fom:y(i[0].fom).format(ee),tom:Eo(i[0].tom)}})}),p.jsx("li",{children:p.jsx(m,{id:"TilkommetAktivitet.Modal.Periode",values:{fom:y(i[1].fom).format(ee),tom:Eo(i[1].tom)}})})]})]}),p.jsx(j,{sixteenPx:!0})]})},UA=e=>e?e.tom===Me?!0:wu(e.fom,e.tom,!0)>1:!1,zA=e=>e.map(n=>({fom:n.fom,tom:n.tom})),qA=(e,n)=>{const r=y(e).format(ee);if(n&&n!==Me){const t=y(n).format(ee);return r.concat(" - ",t)}return r.concat(" - ")},HA=({fields:e,forhåndsvisPeriodesplitt:n,utførPeriodesplitt:r,skalViseModal:t,lukkModal:i})=>{const s=X(),[l,o]=h.useState(void 0),[u,f]=h.useState(void 0),k=h.useMemo(()=>zA(e),[e]),c=h.useCallback(()=>{l&&u&&(r(l),i())},[e,l]),b=h.useCallback(I=>{const T=I.target.value,P=k.find(_=>_.fom===T);f(P||void 0)},[]),v=u&&UA(u);return t?p.jsxs(Ht,{width:"500px",open:t,onClose:i,children:[p.jsx(Ht.Header,{children:p.jsx(m,{id:"TilkommetAktivitet.Modal.Tittel"})}),p.jsxs(Ht.Body,{children:[p.jsx("div",{children:p.jsxs(Hp,{label:s.formatMessage({id:"TilkommetAktivitet.Modal.Select"}),onChange:b,size:"small",children:[p.jsx("option",{value:void 0,children:"Velg periode"}),k.map(I=>p.jsx("option",{value:I.fom,children:qA(I.fom,I.tom)},I.fom))]})}),p.jsx(j,{sixteenPx:!0}),v&&p.jsx(xe,{children:p.jsx(V,{className:$i.datoRad,children:p.jsx(CA,{forhåndsvisPeriodesplitt:n,periode:u,setValgtDato:o})})})]}),p.jsx(Ht.Footer,{children:p.jsx(xe,{children:p.jsxs(V,{className:$i.footerRad,children:[p.jsx(x,{children:p.jsx(ne,{size:"small",variant:"primary",onClick:c,disabled:!l,autoFocus:!0,type:"button",children:p.jsx(m,{id:"TilkommetAktivitet.Modal.DelOppKnapp"})})}),p.jsx(x,{children:p.jsx(ne,{size:"small",variant:"secondary",onClick:i,disabled:!1,autoFocus:!0,type:"button",children:p.jsx(m,{id:"TilkommetAktivitet.Modal.AvbrytKnapp"})})})]})})})]}):null},To=(e,n)=>n==null?void 0:n.some(r=>r.inntektsforholdListe.some(t=>t.aktivitetStatus===e)),YA=({formName:e,beregningsgrunnlag:n,bgIndex:r,readOnly:t,submittable:i,erAksjonspunktÅpent:s,arbeidsgiverOpplysningerPerId:l})=>{var o,u;const f=X(),[k,c]=h.useState(!1),{control:b,watch:v}=ve(),{fields:I,remove:T,insert:P}=Qe({control:b,name:`VURDER_TILKOMMET_AKTIVITET_FORM.${r}.perioder`});I.sort((w,B)=>y(w.fom).diff(y(B.fom)));const _=(u=(o=n.faktaOmFordeling)==null?void 0:o.vurderNyttInntektsforholdDto)==null?void 0:u.vurderInntektsforholdPerioder,R=()=>{const w=To(S.SELVSTENDIG_NAERINGSDRIVENDE,_),B=To(S.FRILANSER,_),K=_==null?void 0:_.flatMap(J=>J.inntektsforholdListe.map(H=>H.aktivitetStatus)).reduce((J,H)=>(J.some(z=>z===H)||J.push(H),J),[]);return(K?K.length:0)>1?f.formatMessage({id:"TilkommetAktivitet.AlertHeading.FlereStatuser"}):w?f.formatMessage({id:"TilkommetAktivitet.AlertHeading.SelvstendigNæringsdrivende"}):B?f.formatMessage({id:"TilkommetAktivitet.AlertHeading.Frilans"}):f.formatMessage({id:"TilkommetAktivitet.AlertHeading.Arbeidsforhold"})},A=()=>s?p.jsxs(Ie,{size:"small",variant:"warning",children:[p.jsx(re,{size:"xsmall",level:"3",children:R()}),f.formatMessage({id:"TilkommetAktivitet.AksjonspunktHelpText"})]}):p.jsxs(p.Fragment,{children:[p.jsxs(O,{size:"small",children:[f.formatMessage({id:"HelpText.Aksjonspunkt.BehandletAksjonspunkt"}),R()]}),p.jsx(E,{size:"small",children:f.formatMessage({id:"TilkommetAktivitet.AksjonspunktHelpText"})})]}),N=(w,B,K,J)=>{const H=v(`${e}.${r}.perioder.${K}.inntektsforhold.${J}.skalRedusereUtbetaling`),z=v(`${e}.${r}.perioder.${K}.inntektsforhold.${J}.bruttoInntektPrÅr`);return{aktivitetStatus:w.aktivitetStatus,arbeidsgiverIdent:w.arbeidsgiverIdent,arbeidsforholdId:w.arbeidsforholdId,bruttoInntektPrÅr:B?z:void 0,skalRedusereUtbetaling:B?H:void 0}},F=(w,B,K)=>!y(w).isAfter(y(K))&&!y(B).isBefore(y(K)),G=h.useCallback(w=>{const B=I.find(z=>F(z.fom,z.tom,w));if(!B)throw new Error(`Finner ikke field somme inneholder dato ${w}`);const K=y(w).subtract(1,"day"),J={fom:y(B.fom).format(Te),tom:K.format(Te)},H={fom:y(w).format(Te),tom:B.tom};return[J,H]},[I]),$=h.useCallback(w=>{const B=I.find(je=>F(je.fom,je.tom,w));if(!B)throw new Error(`Finner ikke field somme inneholder dato ${w}`);const K=G(w),J=I.indexOf(B),H=B.inntektsforhold||[],z={inntektsforhold:H.map((je,Fe)=>N(je,!0,J,Fe)),fom:K[0].fom,tom:K[0].tom},oe={inntektsforhold:H.map((je,Fe)=>N(je,!1,J,Fe)),fom:K[1].fom,tom:K[1].tom};T(J),P(J,[z,oe])},[I]),q=h.useCallback(()=>{c(!0)},[k]),Y=h.useCallback(()=>{c(!1)},[k]);return p.jsxs(p.Fragment,{children:[A(),!!_&&s&&p.jsxs(p.Fragment,{children:[p.jsx(j,{eightPx:!0}),p.jsx(Ie,{size:"small",variant:"info",title:"",children:f.formatMessage({id:"TilkommetAktivitet.AksjonspunktAlert"})})]}),p.jsx(j,{fourtyPx:!0}),p.jsx(xe,{children:p.jsxs(V,{className:Re.tittelRad,children:[p.jsx(x,{children:p.jsx(re,{size:"small",level:"3",children:f.formatMessage({id:"TilkommetAktivitet.Heading"})})}),p.jsx(x,{className:Re.modalKnapp,children:p.jsx(ne,{variant:"tertiary",loading:!1,disabled:t,onClick:q,size:"small",type:"button",icon:p.jsx(yc,{height:32,width:32}),children:f.formatMessage({id:"TilkommetAktivitet.Modal.Knapp"})})})]})}),k&&p.jsx(HA,{fields:I,forhåndsvisPeriodesplitt:G,lukkModal:Y,skalViseModal:k,utførPeriodesplitt:$}),p.jsx(BA,{beregningsgrunnlag:n,arbeidsgiverOpplysningerPerId:l,formName:e,fields:I,bgIndex:r,readOnly:t,erAksjonspunktÅpent:s,submittable:i})]})};y.extend(Om);const{VURDER_NYTT_INNTKTSFRHLD:Sa}=Ce,pt="VURDER_TILKOMMET_AKTIVITET_FORM",Lm=e=>{const n=e.find(r=>r.definisjon===Sa);if(!n)throw Error(`Fant ikke forventet avklaringsbehov ${Sa}`);return n},JA=(e,n)=>{const r=n.find(t=>t.vilkårsperiodeFom===e);if(!r)throw Error(`Mangler beregningsgrunnlag for vilkårsperiodeFom ${e}`);return r};function WA(e){var n,r;const t=(r=(n=e.faktaOmFordeling)==null?void 0:n.vurderNyttInntektsforholdDto)==null?void 0:r.vurderInntektsforholdPerioder;if(!t)throw Error("vurderInntektsforholdPerioder skal være definert");return Vm(t,e.forlengelseperioder).filter(i=>!$m(i,e))}const ZA=e=>({aktivitetStatus:e.aktivitetStatus,arbeidsgiverIdent:e.arbeidsgiverId,arbeidsforholdId:e.arbeidsforholdId,bruttoInntektPrÅr:C(e.bruttoInntektPrÅr),skalRedusereUtbetaling:e.skalRedusereUtbetaling}),XA=e=>({fom:e.fom,tom:e.tom,inntektsforhold:e.inntektsforholdListe.map(n=>ZA(n))}),QA=(e,n)=>{const r=Lm(e.avklaringsbehov),t=WA(e);return{beregningsgrunnlagStp:e.skjaeringstidspunktBeregning,begrunnelse:r&&r.begrunnelse?r.begrunnelse:"",periode:_t(n,e.vilkårsperiodeFom).periode,perioder:t.map(i=>XA(i))}},ex=(e,n)=>({[`${pt}`]:e.filter(r=>r.avklaringsbehov.some(t=>t.definisjon===Ce.VURDER_NYTT_INNTKTSFRHLD)).map(r=>QA(r,n))}),nx=(e,n)=>{const r=y(e.fom).isBetween(n.fom,n.tom,"day","[]")||y(e.tom).isBetween(n.fom,n.tom,"day","[]"),t=y(n.fom).isBetween(e.fom,e.tom,"day","[]")||y(n.tom).isBetween(e.fom,e.tom,"day","[]");return r||t},rx=(e,n)=>n.inntektsforholdListe.some(r=>r.aktivitetStatus===e.aktivitetStatus&&r.arbeidsforholdId===e.arbeidsforholdId&&r.arbeidsgiverId===e.arbeidsgiverIdent),tx=(e,n)=>{var r,t;const i=e.perioder,s=(((t=(r=n.faktaOmFordeling)==null?void 0:r.vurderNyttInntektsforholdDto)==null?void 0:t.vurderInntektsforholdPerioder)||[]).flatMap(l=>i.filter(o=>nx(o,l)).map(o=>{const u=o.inntektsforhold.filter(f=>rx(f,l)).map(f=>{const k=!!f.skalRedusereUtbetaling,c=k?ue(f.bruttoInntektPrÅr):void 0;return{aktivitetStatus:f.aktivitetStatus,arbeidsgiverId:f.arbeidsgiverIdent,arbeidsforholdId:f.arbeidsforholdId,skalRedusereUtbetaling:k,bruttoInntektPrÅr:c}});return{fom:y(o.fom).isBefore(y(l.fom))?l.fom:o.fom,tom:y(o.tom).isAfter(y(l.tom))?l.tom:o.tom,tilkomneInntektsforhold:u}}));return{periode:e.periode,begrunnelse:e.begrunnelse,tilkomneInntektsforhold:s}},ix=(e,n,r)=>{const t=e[pt].filter(i=>sr(r,i.periode.fom)).map(i=>tx(i,JA(i.periode.fom,n)));return{begrunnelse:t.map(i=>i.begrunnelse).reduce((i,s)=>i!==null?`${i} ${s}`:s),grunnlag:t,kode:Sa}},sx=({aktivtBeregningsgrunnlagIndeks:e,formData:n,setFormData:r,beregningsgrunnlagListe:t,submitCallback:i,readOnly:s,submittable:l,vilkarperioder:o,arbeidsgiverOpplysningerPerId:u,setTilkommetAktivitetFormIsDirty:f})=>{const k=He({defaultValues:n!=null&&n.VURDER_TILKOMMET_AKTIVITET_FORM?n:ex(t,o)}),{formState:{dirtyFields:c,isSubmitted:b,errors:v,isDirty:I},trigger:T,control:P}=k;h.useEffect(()=>{f(I)},[I]),h.useEffect(()=>{var F;b&&(F=c[pt])!=null&&F[e]&&T()},[e]);const{fields:_}=Qe({name:pt,control:P}),R=t[e],A=Lm(R.avklaringsbehov),N=A?gn(A.status):!1;return p.jsx(Kl,{errorMessage:"Noe gikk galt ved visning av tilkommet aktivitet",children:p.jsx("div",{className:Re.tilkommetAktivitet,children:p.jsx(Ye,{formMethods:k,onSubmit:F=>{Object.keys(v).length===0&&i(ix(F,t,o))},setDataOnUnmount:r,children:_.map(F=>{const G=t.findIndex($=>$.skjaeringstidspunktBeregning===F.beregningsgrunnlagStp);return p.jsx("div",{style:{display:G===e?"block":"none"},children:p.jsx(YA,{formName:pt,beregningsgrunnlag:t[G],bgIndex:G,readOnly:s||!sr(o,t[G].vilkårsperiodeFom),submittable:l,erAksjonspunktÅpent:N,arbeidsgiverOpplysningerPerId:u})},F.id)})})})})},{FORDEL_BEREGNINGSGRUNNLAG:ax,VURDER_REFUSJON_BERGRUNN:lx,VURDER_NYTT_INNTKTSFRHLD:dx}=Ce,ox=e=>e&&e.faktaOmFordeling?!!e.faktaOmFordeling.fordelBeregningsgrunnlag:!1,gx=e=>!!(e&&e.refusjonTilVurdering),ux=e=>e&&e.faktaOmFordeling?!!e.faktaOmFordeling.vurderNyttInntektsforholdDto:!1,Es=(e,n)=>e&&n?e.find(r=>r.definisjon===n):void 0,mx=({aktivtBeregningsgrunnlagIndeks:e,readOnly:n,submitCallback:r,beregningsgrunnlagListe:t,vilkarperioder:i,kodeverkSamling:s,submittable:l,arbeidsgiverOpplysningerPerId:o,formData:u,setFormData:f})=>{const[k,c]=h.useState(!1),[b,v]=h.useState(!1),[I,T]=h.useState(!1),P=Es(t[e].avklaringsbehov,ax),_=Es(t[e].avklaringsbehov,lx),R=Es(t[e].avklaringsbehov,dx)&&ux(t[e]),A=P&&ox(t[e]),N=_&&gx(t[e]);return p.jsxs(p.Fragment,{children:[R&&p.jsxs(p.Fragment,{children:[p.jsx(sx,{aktivtBeregningsgrunnlagIndeks:e,formData:u,setFormData:f,submittable:l&&!b&&!I,readOnly:n,submitCallback:r,beregningsgrunnlagListe:t,arbeidsgiverOpplysningerPerId:o,vilkarperioder:i,setTilkommetAktivitetFormIsDirty:c}),p.jsx(j,{fourtyPx:!0})]}),N&&p.jsxs(p.Fragment,{children:[p.jsx(xh,{aktivtBeregningsgrunnlagIndeks:e,submittable:l&&!k&&!I,readOnly:n,submitCallback:r,beregningsgrunnlagListe:t,arbeidsgiverOpplysningerPerId:o,formData:u,setFormData:f,vilkarperioder:i,setRefusjonFormIsDirty:v}),p.jsx(j,{fourtyPx:!0})]}),A&&p.jsx(tA,{aktivtBeregningsgrunnlagIndeks:e,submittable:l&&!k&&!b,readOnly:n,submitCallback:r,kodeverkSamling:s,beregningsgrunnlagListe:t,arbeidsgiverOpplysningerPerId:o,formData:u,setFormData:f,vilkårsperioder:i,setFordelingFormIsDirty:T})]})},kx=Pe(Xl),{FORDEL_BEREGNINGSGRUNNLAG:fx,VURDER_REFUSJON_BERGRUNN:px,VURDER_NYTT_INNTKTSFRHLD:cx}=Ce,vx=(e,n)=>{const r=_t(n,e.vilkårsperiodeFom);if(r){const{fom:t,tom:i}=r.periode;return i!==null?`${y(t).format(ee)} - ${y(i).format(ee)}`:`${y(t).format(ee)} - `}return`${y(e.vilkårsperiodeFom).format(ee)}`},Km=e=>e.avklaringsbehov.some(n=>n.definisjon===px||n.definisjon===fx||n.definisjon===cx),bx=(e,n)=>Km(e)&&sr(n,e.vilkårsperiodeFom),hx=({beregningsgrunnlagVilkår:e,beregningsgrunnlagListe:n,kodeverkSamling:r,submitCallback:t,readOnly:i,submittable:s,arbeidsgiverOpplysningerPerId:l,formData:o,setFormData:u})=>{const f=n.filter(v=>Km(v)),[k,c]=h.useState(0);if(f.length===0)return null;const b=f.length>1;return p.jsxs(qe,{value:kx,children:[b&&p.jsx(Er,{value:k.toString(),onChange:v=>c(Number(v)),children:p.jsx(Er.List,{children:f.map((v,I)=>p.jsx(Er.Tab,{value:I.toString(),label:vx(v,e.perioder),className:bx(v,e.perioder)?"harAksjonspunkt":""},v.skjaeringstidspunktBeregning))})}),p.jsx(j,{eightPx:!0}),p.jsx(mx,{aktivtBeregningsgrunnlagIndeks:k,kodeverkSamling:r,submitCallback:t,readOnly:i,beregningsgrunnlagListe:f,vilkarperioder:e.perioder,submittable:s,arbeidsgiverOpplysningerPerId:l,formData:o,setFormData:u})]})},jx=e=>{switch(e){case Ce.FORDEL_BEREGNINGSGRUNNLAG:return ie.FORDEL_BEREGNINGSGRUNNLAG;case Ce.VURDER_REFUSJON_BERGRUNN:return ie.VURDER_REFUSJON_BERGRUNN;default:throw new Error(`Ukjent avklaringspunkt ${e}`)}},Ix=e=>n=>{const t=(Array.isArray(n)?n:[n]).map(i=>({kode:jx(i.kode),...i.grunnlag[0]}));return e(t)},Ax=(e,n)=>({avslagKode:n.avslagKode,vurderesIBehandlingen:!0,merknadParametere:{},periode:{fom:e?e.skjaeringstidspunktBeregning:"",tom:Me},vilkarStatus:n.vilkarStatus}),xx=(e,n)=>{if(!e)return null;const r=e.find(i=>i.vilkarType&&i.vilkarType===rr.BEREGNINGSGRUNNLAGVILKARET);return!r||!n?null:{...r,perioder:[Ax(n,r)]}},yx=e=>e?[{...e,beregningsgrunnlagId:"1",vilkårsperiodeFom:e.skjaeringstidspunktBeregning}]:[],_o=[ie.FORDEL_BEREGNINGSGRUNNLAG,ie.VURDER_REFUSJON_BERGRUNN],Ex=[Ke.BEREGNINGSGRUNNLAG],Po=({arbeidsgiverOpplysningerPerId:e,...n})=>a.jsx(Mr,{...n,panelEndepunkter:Ex,aksjonspunktKoder:_o,faktaPanelKode:$r.FORDELING,faktaPanelMenyTekst:X().formatMessage({id:"FordelBeregningsgrunnlag.Title"}),skalPanelVisesIMeny:()=>!!n.behandling&&!!n.behandling.aksjonspunkt&&!!n.behandling.aksjonspunkt.some(r=>_o.some(t=>t===r.definisjon)),renderPanel:r=>a.jsx(hx,{...r,kodeverkSamling:r.alleKodeverk,beregningsgrunnlagVilkår:xx(r.behandling.vilkår,r.beregningsgrunnlag),beregningsgrunnlagListe:yx(r.beregningsgrunnlag),submitCallback:Ix(r.submitCallback),arbeidsgiverOpplysningerPerId:e})});try{Po.displayName="FordelingFaktaInitPanel",Po.__docgenInfo={description:"FordelingFaktaInitPanel",displayName:"FordelingFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}const Tx=e=>Cu(e,1),wm=(e,n)=>y(Tx(e)).isSame(n)?n:e,Cm=(e,n,r)=>{if(!(!n||!r))return y(e).isBefore(n)?n:wm(e,r)},Um=(e,n,r)=>{if(!(!n||!r))return y(e).isAfter(r)?r:wm(e,n)},_x=e=>e===!1?"danger":e===!0?"success":"warning",Px={[ke.ARBEID]:a.jsx(Qr,{width:20,height:20}),[ke.AAP]:a.jsx(Xr,{width:20,height:20}),[ke.DAGPENGER]:a.jsx(Xr,{width:20,height:20}),[ke.FORELDREPENGER]:a.jsx(Zp,{width:20,height:20}),[ke.FRILANS]:a.jsx(Qr,{width:20,height:20}),[ke.MILITAR_ELLER_SIVILTJENESTE]:a.jsx(Qr,{width:20,height:20}),[ke.NARING]:a.jsx(Qr,{width:20,height:20}),[ke.OMSORGSPENGER]:a.jsx(Xr,{width:20,height:20}),[ke.OPPLARINGSPENGER]:a.jsx(Xr,{width:20,height:20}),[ke.PLEIEPENGER]:a.jsx(Xr,{width:20,height:20}),[ke.SVANGERSKAPSPENGER]:a.jsx(Xc,{width:20,height:20}),[ke.SYKEPENGER]:a.jsx(tv,{width:20,height:20}),[ke.UTENLANDSK_ARBEIDSFORHOLD]:a.jsx(wc,{width:20,height:20}),[ke.ETTERLONN_SLUTTPAKKE]:a.jsx(Qr,{width:20,height:20})},Sx={danger:a.jsx(Ju,{}),success:a.jsx($l,{}),warning:a.jsx(Ec,{})},Nx=(e,n,r,t,i)=>e.map((s,l)=>{var o;return{id:l,start:y(Cm(s.opptjeningFom,t,i)).toDate(),end:y(Um(s.opptjeningTom,t,i)).toDate(),radId:(o=r.find(u=>u.aktivitetTypeKode===s.aktivitetType&&u.arbeidsforholdRef===s.arbeidsforholdRef&&u.arbeidsgiverReferanse===s.arbeidsgiverReferanse))==null?void 0:o.id,status:_x(n[l].erGodkjent)}}),Rx=(e,n,r)=>e.reduce((i,s)=>(i.some(o=>o.aktivitetType===s.aktivitetType&&o.arbeidsforholdRef===s.arbeidsforholdRef&&o.arbeidsgiverReferanse===s.arbeidsgiverReferanse)||i.push(s),i),[]).map((i,s)=>{const l=n.find(u=>u.kode===i.aktivitetType),o=(l==null?void 0:l.kode)===ke.AAP?r.formatMessage({id:"OpptjeningTidslinje.Aap"}):l==null?void 0:l.navn;return{id:s+1,label:o||"",aktivitetTypeKode:i.aktivitetType,arbeidsforholdRef:i.arbeidsforholdRef,arbeidsgiverReferanse:i.arbeidsgiverReferanse}}),Fx=({opptjeningPerioder:e,formVerdierForAlleAktiviteter:n,fastsattOpptjening:r,valgtAktivitetIndex:t,opptjeningAktivitetTypes:i,setValgtAktivitetIndex:s})=>{const l=X(),o=r==null?void 0:r.opptjeningFom,u=r==null?void 0:r.opptjeningTom,f=h.useMemo(()=>Rx(e,i,l),[e]),k=h.useMemo(()=>Nx(e,n,f,o,u),[n]),c=h.useCallback(b=>{const v=k.find(I=>I.id===b);v&&s(v.id)},[k,s]);return!o||!u?null:a.jsxs($e,{startDate:y(o).subtract(1,"months").toDate(),endDate:y(u).add(10,"days").toDate(),children:[a.jsxs($e.Pin,{date:y(o).toDate(),children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"OpptjeningTidslinje.StartDato"})}),a.jsx(E,{size:"small",children:a.jsx(_e,{dateString:o})})]}),a.jsxs($e.Pin,{date:y(u).toDate(),children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"OpptjeningTidslinje.SluttDato"})}),a.jsx(E,{size:"small",children:a.jsx(_e,{dateString:u})})]}),f.map(b=>a.jsx($e.Row,{label:b.label,icon:Px[b.aktivitetTypeKode],children:k.filter(v=>v.radId===b.id).map(v=>a.jsx($e.Period,{start:v.start,end:v.end,status:v.status,icon:Sx[v.status],onSelectPeriod:()=>c(v.id),isActive:t===v.id,statusLabel:b.label},v.id))},b.id))]})};try{OpptjeningTidslinje.displayName="OpptjeningTidslinje",OpptjeningTidslinje.__docgenInfo={description:"",displayName:"OpptjeningTidslinje",props:{opptjeningPerioder:{defaultValue:null,description:"",name:"opptjeningPerioder",required:!0,type:{name:"OpptjeningAktivitet[]"}},formVerdierForAlleAktiviteter:{defaultValue:null,description:"",name:"formVerdierForAlleAktiviteter",required:!0,type:{name:"FormValues[]"}},valgtAktivitetIndex:{defaultValue:null,description:"",name:"valgtAktivitetIndex",required:!1,type:{name:"number"}},opptjeningAktivitetTypes:{defaultValue:null,description:"",name:"opptjeningAktivitetTypes",required:!0,type:{name:"Readonly<{ kode: string; navn: string; kodeverk: string; }>[]"}},setValgtAktivitetIndex:{defaultValue:null,description:"",name:"setValgtAktivitetIndex",required:!0,type:{name:"(periodeIndex: number) => void"}},fastsattOpptjening:{defaultValue:null,description:"",name:"fastsattOpptjening",required:!1,type:{name:"FastsattOpptjening"}}}}}catch{}const Bx=[ke.SYKEPENGER,ke.FORELDREPENGER,ke.PLEIEPENGER,ke.SVANGERSKAPSPENGER,ke.UTENLANDSK_ARBEIDSFORHOLD],ci=(e,...n)=>!!e&&n.includes(e),Ox=e=>e?y(e,Te).format(ee):"-",Vx=e=>ci(e,ke.FRILANS)?"ActivityPanel.Oppdragsgiver":"ActivityPanel.Arbeidsgiver",$x=(e,n)=>{const r=n[e];if(!e||!r)return"-";if(r.erPrivatPerson&&r.fødselsdato){const t=Ox(r.fødselsdato);return`${r.navn} (${t})`}return r.identifikator?`${r.navn} (${r.identifikator})`:r.navn},Dx=e=>e.length>0?"ActivityPanel.FerdiglignetNæring":"ActivityPanel.IngenFerdiglignetNæring",Na=({valgtAktivitetstype:e,arbeidsgiverReferanse:n,arbeidsgiverOpplysningerPerId:r,stillingsandel:t,naringRegistreringsdato:i,ferdiglignetNæring:s})=>a.jsxs(Dr,{gap:"4",children:[ci(e,ke.ARBEID,ke.NARING,...Bx)&&a.jsxs(te,{gap:"4",children:[a.jsxs("div",{children:[a.jsx(j,{eightPx:!0}),a.jsx(O,{size:"small",children:a.jsx(m,{id:Vx(e)})}),a.jsx(E,{size:"small",children:$x(n,r)})]}),ci(e,ke.ARBEID)&&a.jsxs("div",{children:[a.jsx(j,{eightPx:!0}),a.jsx(O,{size:"small",children:a.jsx(m,{id:"ActivityPanel.Stillingsandel"})}),a.jsx(E,{size:"small",children:t})]})]}),ci(e,ke.NARING)&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"ActivityPanel.Registreringsdato"})}),a.jsx(E,{size:"small",children:i?y(i).format(ee):"-"})]}),a.jsxs("div",{children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:Dx(s)})}),s.sort((l,o)=>l.år<o.år?1:l.år>o.år?-1:0).map(l=>a.jsxs(te,{gap:"5",children:[a.jsx(E,{size:"small",children:l.år}),a.jsx(E,{size:"small",children:C(l.beløp)})]},l.år))]})]})]});try{Na.displayName="ValgtAktivitetSubForm",Na.__docgenInfo={description:`ValgtAktivitetSubForm

Viser informasjon om valgt aktivitet`,displayName:"ValgtAktivitetSubForm",props:{valgtAktivitetstype:{defaultValue:null,description:"",name:"valgtAktivitetstype",required:!1,type:{name:"string"}},arbeidsgiverReferanse:{defaultValue:null,description:"",name:"arbeidsgiverReferanse",required:!0,type:{name:"string"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},stillingsandel:{defaultValue:null,description:"",name:"stillingsandel",required:!0,type:{name:"number"}},naringRegistreringsdato:{defaultValue:null,description:"",name:"naringRegistreringsdato",required:!0,type:{name:"string"}},ferdiglignetNæring:{defaultValue:null,description:"",name:"ferdiglignetNæring",required:!0,type:{name:"FerdiglignetNæring[]"}}}}}catch{}const Gx="_explanationTextarea_18tdb_1",Mx="_panel_18tdb_5",Lx="_colMargin_18tdb_9",Kx="_margin_18tdb_13",wx="_fix_18tdb_17",Qt={explanationTextarea:Gx,panel:Mx,colMargin:Lx,margin:Kx,fix:wx},Cx=In(3),Ux=An(1500),vi=(e,n,r)=>e?!!n&&!r:!0,zx=(e,n)=>{const r=Lp(e,n);return r?r.months>=1?a.jsx(m,{id:"ActivityPanel.MonthsAndDays",values:{months:r.months,days:r.days}}):a.jsx(m,{id:"ActivityPanel.Days",values:{days:r.days}}):a.jsx("span",{})},qx=(e,n,r,t)=>r||vi(t,e,n)?"ActivityPanel.Begrunnelse":"ActivityPanel.BegrunnEndringene",Ra=({readOnly:e,opptjeningAktivitetTyper:n,avbrytAktivitet:r,velgNesteAktivitet:t,velgForrigeAktivitet:i,harAksjonspunkt:s,alleMerknaderFraBeslutter:l,arbeidsgiverOpplysningerPerId:o,valgtOpptjeningAktivitet:u,ferdiglignetNæring:f,oppdaterAktivitet:k,valgteFormValues:c,fastsattOpptjening:b,lukkPeriode:v})=>{var Y;const I=X(),T=He({defaultValues:c}),{arbeidsgiverReferanse:P,erGodkjent:_,erEndret:R,aktivitetType:A,stillingsandel:N,naringRegistreringsdato:F}=u,G=Cm(u.opptjeningFom,b==null?void 0:b.opptjeningFom,b==null?void 0:b.opptjeningTom),$=Um(u.opptjeningTom,b==null?void 0:b.opptjeningFom,b==null?void 0:b.opptjeningTom),q=h.useCallback((...w)=>a.jsx("b",{children:w}),[]);return a.jsx(Ye,{formMethods:T,onSubmit:w=>k(w),children:a.jsxs(Xu,{className:Qt.panel,merknaderFraBeslutter:l[ie.VURDER_PERIODER_MED_OPPTJENING],children:[a.jsxs(Dr,{gap:"2",children:[a.jsxs(te,{justify:"space-between",children:[a.jsx(re,{size:"small",children:a.jsx(m,{id:"ActivityPanel.Details"})}),a.jsxs(te,{gap:"2",children:[a.jsx(ne,{className:Qt.margin,size:"xsmall",icon:a.jsx(es,{"aria-hidden":!0}),onClick:i,variant:"secondary-neutral",type:"button",title:I.formatMessage({id:"Timeline.prevPeriod"}),children:a.jsx(m,{id:"Timeline.prevPeriodShort"})}),a.jsx(ne,{className:Qt.margin,size:"xsmall",icon:a.jsx(ns,{"aria-hidden":!0}),onClick:t,variant:"secondary-neutral",type:"button",title:I.formatMessage({id:"Timeline.nextPeriod"}),iconPosition:"right",children:a.jsx(m,{id:"Timeline.nextPeriodShort"})}),a.jsx(ne,{size:"xsmall",icon:a.jsx(er,{"aria-hidden":!0}),onClick:v,variant:"tertiary-neutral",type:"button",title:I.formatMessage({id:"Timeline.lukkPeriode"})})]})]}),a.jsxs(te,{children:[a.jsxs("div",{className:Qt.colMargin,children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"ActivityPanel.Period"})}),G&&$&&a.jsxs(te,{gap:"2",children:[a.jsx(E,{size:"small",children:`${y(G).format(ee)} - ${y($).format(ee)}`}),a.jsx(E,{size:"small",children:zx(G,$)})]})]}),a.jsxs("div",{children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"ActivityPanel.Activity"})}),a.jsx(E,{size:"small",children:(Y=n.find(w=>w.kode===A))==null?void 0:Y.navn})]})]})]}),a.jsx(j,{eightPx:!0}),a.jsx(Na,{valgtAktivitetstype:A,arbeidsgiverReferanse:P,arbeidsgiverOpplysningerPerId:o,stillingsandel:N,naringRegistreringsdato:F,ferdiglignetNæring:f}),!vi(s,_,R)&&a.jsxs(a.Fragment,{children:[a.jsx(j,{twentyPx:!0}),a.jsx(Ae,{name:"erGodkjent",hideLegend:!0,validate:[W],isReadOnly:e,isEdited:R,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:I.formatMessage({id:"ActivityPanel.Godkjent"}),value:"true"},{label:a.jsx(m,{id:"ActivityPanel.IkkeGodkjent",values:{b:q}}),value:"false"}]})]}),a.jsx(j,{sixteenPx:!0}),a.jsx(Xe,{name:"begrunnelse",label:a.jsx(m,{id:qx(_,R,e,s)}),validate:[W,Cx,Ux,jn],maxLength:1500,readOnly:e||vi(s,_,R)}),!vi(s,_,R)&&a.jsxs(a.Fragment,{children:[a.jsx(j,{sixteenPx:!0}),a.jsxs(te,{gap:"4",children:[a.jsx(ne,{size:"small",variant:"primary",disabled:!T.formState.isDirty,children:a.jsx(m,{id:"ActivityPanel.Oppdater"})}),a.jsx(ne,{size:"small",variant:"secondary",onClick:r,type:"button",children:a.jsx(m,{id:"ActivityPanel.Avbryt"})})]})]})]})})};try{Ra.displayName="ValgtAktivitetForm",Ra.__docgenInfo={description:`ValgtAktivitetForm

Viser informasjon om valgt aktivitet`,displayName:"ValgtAktivitetForm",props:{alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},valgtOpptjeningAktivitet:{defaultValue:null,description:"",name:"valgtOpptjeningAktivitet",required:!0,type:{name:"OpptjeningAktivitet"}},valgteFormValues:{defaultValue:null,description:"",name:"valgteFormValues",required:!0,type:{name:"FormValues"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},oppdaterAktivitet:{defaultValue:null,description:"",name:"oppdaterAktivitet",required:!0,type:{name:"(values: FormValues) => void"}},avbrytAktivitet:{defaultValue:null,description:"",name:"avbrytAktivitet",required:!0,type:{name:"() => void"}},velgNesteAktivitet:{defaultValue:null,description:"",name:"velgNesteAktivitet",required:!0,type:{name:"() => void"}},velgForrigeAktivitet:{defaultValue:null,description:"",name:"velgForrigeAktivitet",required:!0,type:{name:"() => void"}},harAksjonspunkt:{defaultValue:null,description:"",name:"harAksjonspunkt",required:!0,type:{name:"boolean"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},opptjeningAktivitetTyper:{defaultValue:null,description:"",name:"opptjeningAktivitetTyper",required:!0,type:{name:"Readonly<{ kode: string; navn: string; kodeverk: string; }>[]"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},ferdiglignetNæring:{defaultValue:null,description:"",name:"ferdiglignetNæring",required:!0,type:{name:"FerdiglignetNæring[]"}},fastsattOpptjening:{defaultValue:null,description:"",name:"fastsattOpptjening",required:!1,type:{name:"FastsattOpptjening"}},lukkPeriode:{defaultValue:null,description:"",name:"lukkPeriode",required:!0,type:{name:"() => void"}}}}}catch{}const Hx="_container_ivkzi_1",Yx="_info_ivkzi_4",Jx="_alertstripe__tekst_ivkzi_7",Wx="_alertstripe__tekst_ivkzi_7",Zx="_pushRight_ivkzi_10",Xx={container:Hx,info:Yx,alertstripe__tekst:Jx,alertstripeTekst:Wx,pushRight:Zx},Qx=e=>{const n=[];e.some(t=>t.stillingsandel===0)&&n.push(a.jsx(m,{id:"OpptjeningFaktaForm.AktivitetenErTimeAvslonnet"},"AktivitetenErTimeAvslonnet"));const r=e.filter(t=>(t.erGodkjent===void 0||t.erGodkjent===null||t.begrunnelse)&&t.stillingsandel!==0);return r.length===1?n.push(a.jsx(m,{id:"OpptjeningFaktaForm.EttArbeidKanGodkjennes"},"EttArbeidKanGodkjennes")):r.length>1&&n.push(a.jsx(m,{id:"OpptjeningFaktaForm.FlereArbeidKanGodkjennes"},"FlereArbeidKanGodkjennes")),n},ey=e=>y(e).add(1,"days").format(Te),ny=(e,n)=>[...e].sort((r,t)=>{var l,o;const i=(l=n.find(u=>u.kode===r.aktivitetType))==null?void 0:l.navn,s=(o=n.find(u=>u.kode===t.aktivitetType))==null?void 0:o.navn;return i&&s?i.localeCompare(s):0}),So=e=>Cu(e,1),ry=(e,n)=>n?e.filter(r=>y(n.opptjeningFom).isBefore(So(r.opptjeningTom))).filter(r=>y(r.opptjeningFom).isBefore(So(n.opptjeningTom))):[],Fa=({hasAksjonspunkt:e,hasOpenAksjonspunkter:n,opptjeningAktiviteter:r,readOnly:t,alleMerknaderFraBeslutter:i,alleKodeverk:s,arbeidsgiverOpplysningerPerId:l,fastsattOpptjening:o,ferdiglignetNæring:u,submitCallback:f,formData:k,setFormData:c})=>{const b=s[_n.OPPTJENING_AKTIVITET_TYPE],v=h.useMemo(()=>r&&o?ny(ry(r,o),b):[],[r,o]),I=v.map(H=>({erGodkjent:H.erGodkjent,begrunnelse:H.begrunnelse})),[T,P]=h.useState(k||I),_=v.findIndex(H=>H.erGodkjent===void 0),R=v.length>0?0:void 0,[A,N]=h.useState(_!==-1?_:R),[F,G]=h.useState(!1);h.useEffect(()=>()=>{c(T)},[T]),h.useEffect(()=>{const H=T.findIndex(z=>z.erGodkjent===void 0);N(H!==-1?H:void 0)},[T]);const $=h.useCallback(()=>{G(!0);const H=v.map((z,oe)=>({arbeidsforholdRef:z.arbeidsforholdRef,arbeidsgiverReferanse:z.arbeidsgiverReferanse,opptjeningFom:z.opptjeningFom,opptjeningTom:z.opptjeningTom,aktivitetType:z.aktivitetType,erGodkjent:T[oe].erGodkjent,begrunnelse:T[oe].begrunnelse})).filter(z=>z.begrunnelse);f({opptjeningsaktiviteter:H,kode:ie.VURDER_PERIODER_MED_OPPTJENING}).then(()=>G(!1))},[v,T]),q=h.useCallback(()=>{A!==void 0&&A<v.length-1&&N(A+1)},[A]),Y=h.useCallback(()=>{A!==void 0&&A>0&&N(A-1)},[A]),w=h.useCallback(H=>{A!==void 0&&P(z=>Object.assign([],z,{[A]:H}))},[P,A]),B=h.useCallback(()=>N(void 0),[]),K=h.useCallback(()=>{N(void 0)},[]),J=T.some(H=>H.erGodkjent===null||H.erGodkjent===void 0);return a.jsxs("div",{className:Xx.container,children:[e&&a.jsxs(a.Fragment,{children:[a.jsx(wl,{isAksjonspunktOpen:n,children:Qx(v)}),a.jsx(j,{twentyPx:!0})]}),a.jsx(O,{size:"small",children:a.jsx(m,{id:"OpptjeningFaktaForm.Skjaringstidspunkt"})}),a.jsx(E,{size:"small",children:a.jsx(_e,{dateString:ey(o==null?void 0:o.opptjeningTom)})}),a.jsx(j,{twentyPx:!0}),a.jsx(Fx,{opptjeningPerioder:v,formVerdierForAlleAktiviteter:T,opptjeningAktivitetTypes:b,setValgtAktivitetIndex:N,valgtAktivitetIndex:A,fastsattOpptjening:o}),a.jsx(j,{fourtyPx:!0}),A!==void 0&&a.jsxs(a.Fragment,{children:[a.jsx(Ra,{valgtOpptjeningAktivitet:v[A],valgteFormValues:T[A],readOnly:t,opptjeningAktivitetTyper:b,avbrytAktivitet:B,oppdaterAktivitet:w,fastsattOpptjening:o,velgNesteAktivitet:q,velgForrigeAktivitet:Y,harAksjonspunkt:e,alleMerknaderFraBeslutter:i,alleKodeverk:s,arbeidsgiverOpplysningerPerId:l,ferdiglignetNæring:u,lukkPeriode:K},A),a.jsx(j,{twentyPx:!0})]}),e&&v.length>0&&a.jsx(ne,{size:"small",variant:"primary",onClick:$,disabled:A!==void 0||F||t||J,loading:F,type:"button",children:a.jsx(m,{id:"OpptjeningFaktaForm.Confirm"})})]})};try{Fa.displayName="OpptjeningFaktaPanel",Fa.__docgenInfo={description:`OpptjeningFaktaPanel

Vises faktapanelet for opptjeningsvilkåret. For Foreldrepenger vises dette alltid. Finnes
det aksjonspunkt kan nav-ansatt endre opplysninger før en går videre i prosessen.`,displayName:"OpptjeningFaktaPanel",props:{hasAksjonspunkt:{defaultValue:null,description:"",name:"hasAksjonspunkt",required:!0,type:{name:"boolean"}},hasOpenAksjonspunkter:{defaultValue:null,description:"",name:"hasOpenAksjonspunkter",required:!0,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},opptjeningAktiviteter:{defaultValue:null,description:"",name:"opptjeningAktiviteter",required:!1,type:{name:"OpptjeningAktivitet[]"}},ferdiglignetNæring:{defaultValue:null,description:"",name:"ferdiglignetNæring",required:!0,type:{name:"FerdiglignetNæring[]"}},fastsattOpptjening:{defaultValue:null,description:"",name:"fastsattOpptjening",required:!1,type:{name:"FastsattOpptjening"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(data: AvklarAktivitetsPerioderAp) => Promise<void>"}},formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const ty={"OpptjeningFaktaForm.Skjaringstidspunkt":"Skjæringstidspunkt for opptjening","OpptjeningFaktaForm.EttArbeidKanGodkjennes":"Vurder om aktiviteten kan godkjennes","OpptjeningFaktaForm.FlereArbeidKanGodkjennes":"Vurder om aktivitetene kan godkjennes","OpptjeningFaktaForm.AktivitetenErTimeAvslonnet":"Arbeidet er timeavlønnet. Slå opp i A-ordningen for å vurdere opptjeningen","OpptjeningFaktaForm.DetErInnhentetDok":"Det er innhentet dokumentasjon på opptjening i utlandet","OpptjeningFaktaForm.DetErIkkeInnhentetDok":"Det er <b>ikke</b> innhentet dokumentasjon på opptjening i utlandet","OpptjeningFaktaForm.Confirm":"Bekreft og fortsett","ActivityPanel.Details":"Detaljer for valgt aktivitet","ActivityPanel.Period":"Periode","ActivityPanel.Activity":"Aktivitet","ActivityPanel.Godkjent":"Aktiviteten godkjennes","ActivityPanel.IkkeGodkjent":"Aktiviteten godkjennes <b>ikke</b>","ActivityPanel.BegrunnEndringene":"Begrunn endringene","ActivityPanel.Begrunnelse":"Begrunnelse","ActivityPanel.Oppdater":"Oppdater","ActivityPanel.Avbryt":"Avbryt","ActivityPanel.MonthsAndDays":"({months} mndr. {days} dager)","ActivityPanel.Days":"({days} dager)","ActivityPanel.Arbeidsgiver":"Arbeidsgiver","ActivityPanel.Oppdragsgiver":"Oppdragsgiver","ActivityPanel.Stillingsandel":"Stillingsandel","ActivityPanel.Registreringsdato":"Registreringsdato","ActivityPanel.FerdiglignetNæring":"Ferdiglignet næringsinntekt","ActivityPanel.IngenFerdiglignetNæring":"Ingen ferdiglignet næringsinntekt","OpptjeningTidslinje.StartDato":"Start opptjeningsperiode","OpptjeningTidslinje.SluttDato":"Slutt opptjeningsperiode","OpptjeningTidslinje.Aap":"AAP","Timeline.lukkPeriode":"Lukk periode","Timeline.nextPeriod":"Neste periode","Timeline.nextPeriodShort":"Neste","Timeline.prevPeriod":"Forrige periode","Timeline.prevPeriodShort":"Forrige","Timeline.openData":"Åpne info om første periode"},iy=Pe(ty),Ba=({opptjening:e,aksjonspunkter:n,alleMerknaderFraBeslutter:r,alleKodeverk:t,harApneAksjonspunkter:i,submitCallback:s,readOnly:l,arbeidsgiverOpplysningerPerId:o,formData:u,setFormData:f})=>{const k=e?e.fastsattOpptjening:void 0,c=e?e.opptjeningAktivitetList:void 0,b=(e==null?void 0:e.ferdiglignetNæring)||[];return a.jsx(qe,{value:iy,children:a.jsx(Fa,{readOnly:l,hasOpenAksjonspunkter:i,hasAksjonspunkt:n[0]!==void 0,alleMerknaderFraBeslutter:r,alleKodeverk:t,arbeidsgiverOpplysningerPerId:o,opptjeningAktiviteter:c,fastsattOpptjening:k,ferdiglignetNæring:b,submitCallback:s,formData:u,setFormData:f})})};try{Ba.displayName="OpptjeningFaktaIndex",Ba.__docgenInfo={description:"",displayName:"OpptjeningFaktaIndex",props:{opptjening:{defaultValue:null,description:"",name:"opptjening",required:!1,type:{name:"Opptjening"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},submittable:{defaultValue:null,description:"",name:"submittable",required:!0,type:{name:"boolean"}},harApneAksjonspunkter:{defaultValue:null,description:"",name:"harApneAksjonspunkter",required:!0,type:{name:"boolean"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const sy=[ie.VURDER_PERIODER_MED_OPPTJENING],ay=[Ke.OPPTJENING],No=({arbeidsgiverOpplysningerPerId:e,...n})=>a.jsx(Mr,{...n,panelEndepunkter:ay,aksjonspunktKoder:sy,faktaPanelKode:$r.OPPTJENINGSVILKARET,faktaPanelMenyTekst:X().formatMessage({id:"OpptjeningInfoPanel.KontrollerFaktaForOpptjening"}),skalPanelVisesIMeny:()=>!!n.behandling.vilkår&&n.behandling.vilkår.some(r=>r.vilkarType===rr.OPPTJENINGSVILKARET)&&n.behandling.vilkår.some(r=>r.vilkarType===rr.MEDLEMSKAPSVILKARET&&r.vilkarStatus===dm.OPPFYLT),renderPanel:r=>a.jsx(Ba,{arbeidsgiverOpplysningerPerId:e,...r})});try{No.displayName="OpptjeningsvilkaretFaktaInitPanel",No.__docgenInfo={description:"OpptjeningsvilkaretFaktaInitPanel",displayName:"OpptjeningsvilkaretFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}const zm="https://navno.sharepoint.com/:x:/s/fag-og-ytelser-familie-foreldrepenger/EaB60qfvI_JNlSDbhFXp6FoBIw3G260Wp6zOm78U6aFrng?e=3Jy3sn";var Ne=(e=>(e.AVKLAR_AKTIVITETER="AVKLAR_AKTIVITETER",e.VURDER_FAKTA_FOR_ATFL_SN="VURDER_FAKTA_ATFL_SN",e.OVERSTYRING_AV_BEREGNINGSAKTIVITETER="OVST_BEREGNINGSAKTIVITETER",e.OVERSTYRING_AV_BEREGNINGSGRUNNLAG="OVST_INNTEKT",e))(Ne||{}),ei=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qm={exports:{}},nt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ro;function ly(){if(Ro)return nt;Ro=1;var e=L,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(o,u,f){var k,c={},b=null,v=null;f!==void 0&&(b=""+f),u.key!==void 0&&(b=""+u.key),u.ref!==void 0&&(v=u.ref);for(k in u)t.call(u,k)&&!s.hasOwnProperty(k)&&(c[k]=u[k]);if(o&&o.defaultProps)for(k in u=o.defaultProps,u)c[k]===void 0&&(c[k]=u[k]);return{$$typeof:n,type:o,key:b,ref:v,props:c,_owner:i.current}}return nt.Fragment=r,nt.jsx=l,nt.jsxs=l,nt}qm.exports=ly();var g=qm.exports;const rd={"BeregningInfoPanel.AksjonspunktHelpText.SaksopplysningerBeregning":"Saksopplysninger beregning","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning":"Vurder fakta for beregningen","BeregningInfoPanel.AksjonspunktHelpText.ForSentRefusjonskrav":"{arbeidsgiverVisningsnavn} har minst ett refusjonskrav som har kommet for sent.","BeregningInfoPanel.TidsbegrensetArbFor.Arbeidsforhold":"Er arbeidsforholdet i {navn} med varighet {fom} - {tom} tidsbegrenset?","BeregningInfoPanel.FormAlternativ.Ja":"Ja","BeregningInfoPanel.FormAlternativ.Nei":"Nei","BeregningInfoPanel.NyIArbeidslivet.SelvstendigNaeringsdrivende":"Ble søker yrkesaktiv i løpet av de siste tre årene?","BeregningInfoPanel.NyIArbeidslivet.HvordanGarJegFrem1":"En næringsdrivende er “ny i arbeidslivet” når de i løpet av de tre siste årene har begynt i arbeidslivet, og i den forbindelse startet en virksomhet. Dette kan for eksempel være en student som etter eksamen oppretter et firma.","BeregningInfoPanel.NyIArbeidslivet.HvordanGarJegFrem2":"For å finne ut når søker ble yrkesaktiv, kan du se i Brønnøysundregistrene når næringsvirksomheten ble registert. Du kan også bruke A-inntekt for å se om søker har hatt annen inntekt de tre siste ferdiglignede årene.","BeregningInfoPanel.NyIArbeidslivet.HvordanGarJegFrem3":"Hvis du velger “ja”, kan du skjønnsfastsette næringsinntekten i neste steg, selv om avviket ikke er over 25 prosent. Hvis du velger “nei”, brukes hovedregler for beregning av næringsinntekt.","BeregningInfoPanel.FormAlternativ.JaMaanedsinntektMaaFastsettes":"Ja (månedsinntekt må fastsettes)","BeregningInfoPanel.FormAlternativ.NeiBrukerAInntekt":"Nei (bruker A-inntekt)","BeregningInfoPanel.TidsbegrensetArbeidsforholdForm.ReadMore":"Gå til A-inntekt og sjekk at informasjon om tidsbegrenset arbeidsforhold stemmer overens med informasjonen her. Ved å velge “ja”, gir det mulighet til å skjønnsfastsette de ulike periodene i beregning.","AvklarAktivitetPanel.Overskrift":"Aktiviteter i beregningsgrunnlaget","AvklarAktivitetPanel.Overskrift.Skjaeringstidspunkt":"Skjæringstidspunkt: {skjaeringstidspunkt}","AvklarAktivitetPanel.ButtonText":"Oppdater","AvklarAktivitetPanel.OverstyrText":"Overstyr","AvklareAktiviteter.Avbryt":"Avbryt","VurderAktiviteterTabell.FullAAPKombinert.Overskrift":"Søker har full AAP sammen med andre aktiviteter","VurderAktiviteterTabell.VentelonnVartpenger.Overskrift":"Søker har ventelønn eller vartpenger som siste aktivitet. Skjæringstidspunkt for beregning {skjaeringstidspunkt}","VurderAktiviteterTabell.Overstyrt.Overskrift":"Skjæringstidspunkt for beregning {skjaeringstidspunkt}","BeregningInfoPanel.NyoppstartetFLForm.ErSokerNyoppstartetFL":"Startet søker som frilanser i løpet av de siste 3 månedene før skjæringstidspunktet?","BeregningInfoPanel.NyoppstartetFLForm.HvordanGarJegFrem1":"Gå til Aa-registeret og A-inntekt for å se frilansoppdrag og inntekter.","BeregningInfoPanel.NyoppstartetFLForm.HvordanGarJegFrem2":"Undersøk om søker faktisk var nyoppstartet frilanser i beregningsperioden. Frilansere har ofte ujevne utbetalinger, og kan bli meldt inn/ut av Aa-registeret selvom de fast jobber som frilanser. Hvis dette er tilfelle skal du velge ”nei”.","BeregningInfoPanel.VurderOgFastsettATFL.FastsettFrilans":"Fastsett frilansinntekt","BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLAlleOppdrag":"Fastsett arbeidsinntekt og samlet frilansinntekt for alle oppdrag.","BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLFrilans":"Fastsett samlet frilansinntekt","BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLSamlet":"Fastsett arbeidsinntekt og samlet frilansinntekt","BeregningInfoPanel.VurderOgFastsettATFL.FastsettArbeidsinntekt":"Fastsett arbeidsinntekt","BeregningInfoPanel.LonnsendringForm.HarSokerEndring":"Har søker hatt lønnsendring i løpet av de siste tre månedene?","BeregningInfoPanel.LonnsendringForm.HvaBetyrDette":"Hva betyr dette?","BeregningInfoPanel.LonnsendringForm.HvaBetyrDette1":"En arbeidstaker som får en varig lønnsendring i eller etter beregningsperioden, men før skjæringstidsspunktet, skal ha lønnsendringen med i beregningsgrunnlaget.","BeregningInfoPanel.LonnsendringForm.HvaBetyrDette2":"Med varig lønnsendring menes alle lønnsendringer som ikke er midlertidige, og gjelder både ved lønnsøkning og lønnsreduksjon.","BeregningInfoPanel.LonnsendringForm.HvaBetyrDette3":"Dette kan eksempelvis være endring av lønn etter lokale lønnsforhandlinger eller tariffendringer. Det kan også være en varig endring av stillingsprosent med dertil endret lønn.","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilansUtenFrilans":"Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for frilansaktivitet?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilans":"Mottar søker ytelse for frilansaktivitet?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForArbeid":"Mottar søker ytelse for arbeid i {arbeid}?","BeregningInfoPanel.VurderMottarYtelse.FastsettManedsinntektFrilans":"Fastsett månedsinntekt for frilans","BeregningInfoPanel.VurderMottarYtelse.FastsettNyManedsinntekt":"Fastsett ny månedsinntekt","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseArbeidsforhold.HvordanGarJegFrem1":"Undersøk om søker har mottatt ytelse i beregningsperioden. I noen tilfeller kan det være feilregistreringer fra andre systemer og du skal da velge ”nei”.","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseArbeidsforhold.HvordanGarJegFrem2":"For å se om søker har mottatt ytelse kan du for eksempel bruke A-inntekt (filter 8-30), se på utbetalinger i Modia eller vedtaksbrev i Gosys.","BeregningInfoPanel.VurderMottarYtelse.Frilans.HvordanGarJegFrem1":"Undersøk om søker har mottatt ytelse i beregningsperioden. I noen tilfeller kan det være feilregistreringer fra andre systemer og du skal da velge “nei”.","BeregningInfoPanel.VurderMottarYtelse.Frilans.HvordanGarJegFrem2":"For å se om søker har mottatt ytelse kan du for eksempel bruke A-inntekt (filter 8-30), se på utbetalinger i Modia eller vedtaksbrev i Gosys.","BeregningInfoPanel.InntektInputFields.ManedsinntektBedrift":"Fastsett månedsinntekt for {bedrift}","BeregningInfoPanel.InntektInputFields.ManedsinntektDagpenger":"Fastsett månedsinntekt dagpenger","BeregningInfoPanel.InntektInputFields.LonnsendringFremgangsmate1":"Bruk A-inntekt til å fastsette ny månedsinntekt hvis mulig.","BeregningInfoPanel.InntektInputFields.LonnsendringFremgangsmate2":"Hvis ny inntekt ikke fremgår av A-inntekt, kontakt arbeidsgiver og be de sende oppdatert inntektsmelding. Eventuelt kan du kontakte søker og be de dokumentere varig lønnsøkning med kontrakt, lønnslipp eller lignende.","BeregningInfoPanel.InntektInputFields.LonnsendringFremgangsmate3":"Eksempel: En person får en varig lønnsendring med virkning fra 5. oktober. Vedkommende har første fraværsdato 20. oktober og beregningsperioden er september, august og juli. Ved fastsettelse av inntekt skal tidsrommet etter lønnsendringen 5. oktober legges til grunn.","BeregningInfoPanel.InntektInputFields.FrilanserFremgangsmate1":"Benytt A-inntekt (filter 8-30) eller utbetalinger i Modia for å se hvor mye søker har mottatt i ytelse i beregningsperioden.","BeregningInfoPanel.InntektInputFields.FrilanserFremgangsmate2":"Bruk A-inntekt for å finne gjennomsnittet av frilansinntekten i beregningsperioden.","BeregningInfoPanel.InntektInputFields.FrilanserFremgangsmate3":"Fastsett månedsinntekten under ved å summere gjennomsnitt av mottatt ytelse og frilansinntekt.","BeregningInfoPanel.InntektInputFields.NyoppstartetFrilansFremgangsmate1":"Fastsett månedsinntekt ut ifra antall måneder/dager med utbetaling.","BeregningInfoPanel.InntektInputFields.NyoppstartetFrilansFremgangsmate2":"Eksempel: {br} Hvis søker startet som frilanser for 2 mnd siden, skal samlet inntekt deles på 2 og ikke 3. Hvis det er under 1 mnd siden oppstart, må du regne om inntekt til dagsats per virkedag. Dagsats x 260 / 12 mnd = månedsinntekt.","BeregningInfoPanel.InntektInputFields.ATFLSammeOrgFremgangsmate1":"Trekk fra arbeidsinntekt oppgitt i inntektsmelding eller det arbeidsgiver opplyser på telefon fra totalinntekt i A-inntekt. Ta hensyn til eventuelle lønnsendringer.","BeregningInfoPanel.InntektInputFields.ATFLSammeOrgFremgangsmate1MedIM":"Trekk fra arbeidsinntekt oppgitt i inntektsmelding fra totalinntekt i A-inntekt. {br} Ta hensyn til eventuelle lønnsendringer.","BeregningInfoPanel.InntektInputFields.ATFLSammeOrgFremgangsmate2":"Restbeløp er frilansinntekt.","BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem":"Hvordan går jeg frem?","BeregningInfoPanel.InntektInputFields.HvordanGarJegFremForFastsetteManedsinntekt":"Hvordan går jeg frem for å fastsette månedsinntekten for ytelsen?","BeregningInfoPanel.InntektInputFields.HvaBetyrInntektskategori":"Hva betyr inntektskategori?","BeregningInfoPanel.AvklareAktiviteterField.HvordanGarJegFrem1":"Undersøk i Modia om søker har full AAP.","BeregningInfoPanel.AvklareAktiviteterField.HvordanGarJegFrem2":"Ved full AAP skal arbeidsinntekten ikke benyttes.","BeregningInfoPanel.VurderFaktaBeregningField.ATFLSammeOrgUtenIM":"<h3>Søker er arbeidstaker og frilans i samme virksomhet.</h3>Inntekter er rapportert inn på samme org. nummer, og inntektene kan ikke skilles fra hverandre. Fastsett hva som er arbeidsinntekt og hva som er samlet frilansinntekt.","BeregningInfoPanel.VurderFaktaBeregningField.ATFLSammeOrg":"<h3>Søker er arbeidstaker og frilans i samme virksomhet.</h3>Inntekter er rapportert inn på samme org. nummer, og inntektene kan ikke skilles fra hverandre. Fastsett hva som er samlet frilansinntekt.","BeregningInfoPanel.VurderFaktaBeregningField.VurderLonnsendringHelpText":"<h3>Vurder om søker har hatt lønnsendring</h3>Det er registrert lønnsendring i Aa-registeret, men ny inntekt kan ikke fastsettes av systemet. Vurder om registrert lønnsendring er riktig og fastsett ny månedsinntekt.","BeregningInfoPanel.VurderFaktaBeregningField.VurderMottarYtelseHelpTextFrilans":"<h3>Vurder om søker mottar ytelse for frilansaktivitet</h3>Det er funnet utbetaling av ytelse i beregningsperioden, men utbetalt beløp kan ikke hentes fra registrene.","BeregningInfoPanel.VurderFaktaBeregningField.VurderMottarYtelseHelpTextArbeidstaker":"<h3>Vurder om søker mottar ytelse for arbeidsforhold</h3>Det er funnet utbetaling av ytelse i beregningsperioden, men utbetalt beløp kan ikke hentes fra registrene.","BeregningInfoPanel.VurderFaktaBeregningField.VurderEtterlonnSluttpakkeHelpText":"<h3>Vurder om søker har etterlønn eller sluttvederlag i beregningsperioden</h3>Søker har oppgitt etterlønn eller sluttvederlag i søknaden.","BeregningInfoPanel.VurderFaktaBeregningField.VurderMilitaerSiviltjenesteHelpText":"<h3>Vurder om søker har vært i militær- eller siviljeneste i opptjeningsperioden</h3>Søker har oppgitt militær- eller siviltjeneste i søknaden.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelseHelpText":"<h3>Søker har ytelse som eneste inntekt</h3>Det er funnet utbetaling av ytelse i beregningsperioden, men beløp og inntektskategori kan ikke hentes fra registrene.","BeregningInfoPanel.VurderFaktaBeregningField.VurderNyoppstartetFLHelpText":"<h3>Vurder om frilanser er nyoppstartet</h3>Det er funnet frilansoppdrag med oppstartsdato i beregningsperioden. Vurder om frilansoppdrag er nyoppstartet, og om det skal benyttes en kortere periode for å fastsette inntekt.","BeregningInfoPanel.VurderFaktaBeregningField.VurderSNNyIArbeidslivetHelpText":"<h3>Vurder om søker ble yrkesaktiv i løpet av de siste tre årene</h3>Søker har oppgitt i søknaden at de er selvstendig næringsdrivende og ny i arbeidslivet.","BeregningInfoPanel.VurderFaktaBeregningField.VurderRefusjonskravKommetForSentHelpText":"<h3>Vurder refusjonskrav som har kommet for sent</h3>{arbeidsgiverVisningsnavn} har minst ett refusjonskrav som har kommet for sent.","BeregningInfoPanel.VurderFaktaBeregningField.TidsbegrensetArbeidsforholdHelpText":"<h3>Vurder om arbeidsforholdet er tidsbegrenset</h3>Det er funnet sluttdato frem i tid for arbeidsforholdet og arbeidsforholdet er kortere enn 6 måneder.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt1":"Gå til A-inntekt for å finne brukerens inntekter.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt2":"Bruk først filter §8-28 og finn samlet inntekt for de 3 siste månedene før skjæringstidspunktet (utbetalinger fra Nav ligger ikke i dette filteret, kan derfor være 0). Regn om til årsinntekt.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt3":"Bruk så filter §8-30 og regn ut den totale inntekten for de siste 12 månedene før skjæringstidspunktet.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt4":"Regn ut månedsinntekt ved å finne differansen mellom rapportert inntekt (§8-30 filter) og omregnet årsinntekt (§8-28 filter) / 12 måneder.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt5":"Regn ut avviket ved å bruke månedsinntekt x 100 / rapportert inntekt de siste 12 kalendermånedene = avvik i prosent.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt6":"Dersom det er mer enn 25 prosent differanse i avviksberegningen skal det fastsettes ved skjønn.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvaBetyrInntektskategori1":"Inntektskategori er den/de arbeidsaktivitetene som beregningsgrunnlaget ble fastsatt ut fra.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvaBetyrInntektskategori2":"Hvis ytelsen er beregnet fra annen ytelse, skal du ta utgangspunkt i aktivitetene den første ytelsen beregnet ut fra.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvaBetyrInntektskategori3":"Du finner inntektskategorien ytelsen er basert på i Modia.","BeregningInfoPanel.VurderBestebergning.HarBesteberegning":"Søker har hatt dagpenger i opptjeningsperioden. Skal dette fordeles etter besteberegning?","InntektstabellPanel.Avbryt":"Avbryt overstyring","BeregningInfoPanel.FordelingBG.LeggTilAndel":"Legg til aktivitet","BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet":"Finn regneark på navet","BeregningInfoPanel.FordelingBG.Sum":"Sum","BeregningInfoPanel.FordelingBG.Andel":"Aktivitet","BeregningInfoPanel.FordelingBG.Arbeidsperiode":"Arbeidsperiode","BeregningInfoPanel.FordelingBG.Refusjonskrav":"Refusjonskrav","BeregningInfoPanel.FordelingBG.Fordeling":"Månedsinntekt","BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn":"Fastsett månedsinntekt for {andel}","BeregningInfoPanel.FordelingBG.InntektskategoriMedAndelnavn":"Inntektskategori for {andel}","BeregningInfoPanel.FordelingBG.Inntektskategori":"Inntektskategori","BeregningInfoPanel.FordelingBG.LeggTilDagpengerAndel":"Legg til dagpenger","BeregningInfoPanel.FordelingBG.FjernDagpenger":"Fjern dagpenger","BeregningInfoPanel.FordelingBG.Ytelse":"Ytelse","BeregningInfoPanel.FordelingBG.FjernAndel":"Fjern aktivitet","AvklareAktiviteter.OverstyrerAktivitetAdvarsel":"Overstyr hvilke aktiviteter og eventuelle inntektsmeldinger som skal benyttes i beregning.","VurderAktiviteterTabell.Header.Aktivitet":"Aktivitet","VurderAktiviteterTabell.Header.Periode":"Periode","VurderAktiviteterTabell.Header.Benytt":"Benytt","VurderAktiviteterTabell.Header.IkkeBenytt":"Ikke benytt","VurderAktiviteterTabell.Validation.MåHaMinstEnAktivitet":"Må ha minst én aktivitet for å kunne fastsette beregningsgrunnlag","BeregningInfoPanel.AksjonspunktHelpText.VurderAktiviteter":"Vurder hvilke aktiviteter som skal benyttes i beregningsgrunnlaget.","BeregningInfoPanel.KunstigArbeidsforhold.FastsettKunstigArbeidsforhold":"Det finnes ikke registerdata for arbeidsforholdet og det er ikke mottatt inntektsmelding. Fastsett månedsinntekt for arbeidsforholdet","KunYtelsePanel.Overskrift":"Søker har ytelse som eneste inntekt. Fastsett månedsbeløp for fordeling av beregningsgrunnlaget.","KunYtelsePanel.HarBesteberegning":"Søker har ytelse som eneste inntekt. Skal denne fordeles etter besteberegning?","KunYtelsePanel.OverskriftBesteberegning":"Fastsett månedsbeløp for brutto beregningsgrunnlag etter besteberegning","KunYtelsePanel.RapporterteInntekter":"Rapporterte inntekter","BeregningInfoPanel.FordelBG.Validation.UlikeAndeler":"Andeler for samme aktivitet må ha ulik inntektskategori","InntektstabellPanel.RapporterteInntekter":"Rapporterte inntekter","BeregningInfoPanel.EtterlønnSluttpakke.HarSøkerInntekt":"Har søker etterlønn eller sluttvederlag?","BeregningInfoPanel.EtterlønnSluttpakke.HvordanGarJegFrem1":"Gå til A-inntekt og se om etterlønn eller sluttvederlag er rapportert. Hvis ikke, kontakt søker og be de dokumentere etterlønn/sluttvederlag med avtale el.","BeregningInfoPanel.VurderMilitaer.HarSøkerMilitærinntekt":"Har søker vært i militær- eller sivilforsvarstjeneste i opptjeningsperioden?","BeregningInfoPanel.VurderMilitaer.HvordanGarJegFrem1":"Kontakt søker og be om dokumentasjon på avtjent tjeneste i opptjeningsperioden. Vurder om tjenesten har vart eller var ment å vare mer enn 28 dager i henhold til §8-46. Denne informasjonen er ikke tilgjengelig i noen registre, og vi må derfor ha dokumentasjon fra søker.","BeregningInfoPanel.VurderMilitaer.HvordanGarJegFrem2":"Svarer du ”ja” vil utbetalingen bli minst 2G (pleiepenger) / 3G (foreldrepenger). Svarer du ”nei” beregnes det etter vanlige regler.","VurderRefusjonForm.ErRefusjonskravGyldig":"Skal refusjonskrav som ikke har kommet innen fristen tas med i beregning?","VurderRefusjonForm.ReadMore":"Undersøk om det har vært fristavbrytende kontakt med arbeidsgiver innen frist for refusjonskrav (3 måneder).","BeregningInfoPanel.Validation.MinstEnFastsatt":"Må ha overstyrt inntekt for minst én aktivitet.","FaktaBegrunnelseTextField.BegrunnEndringene":"Begrunn endringene","FaktaBegrunnelseTextField.Begrunnelse":"Begrunnelse","SubmitButton.ConfirmInformation":"Bekreft og fortsett","InntektInput.MånedsinntektGyldigVerdi":"Månedsinntekt må være høyere eller lik 1"},dy="_tabsContainer_1yyvp_1",oy="_main_1yyvp_9",Fo={tabsContainer:dy,main:oy},ht="avklarAktiviteterForm",vn="vurderFaktaBeregningForm",gy="_begrunnelseTextField_12bwv_1",uy="_explanationTextarea_12bwv_4",my="_explanationTextareaReadOnly_12bwv_7",Ts={begrunnelseTextField:gy,explanationTextarea:uy,explanationTextareaReadOnly:my},Bo=Pe(rd),ky=In(3),fy=An(1500),ar=({isReadOnly:e,isSubmittable:n,hasBegrunnelse:r,label:t,hasVurderingText:i,name:s})=>{const l=i?"FaktaBegrunnelseTextField.Vurdering":"FaktaBegrunnelseTextField.Begrunnelse",o=t||Bo.formatMessage({id:l});return g.jsx(qe,{value:Bo,children:(n||r)&&g.jsx("div",{className:Ts.begrunnelseTextField,children:g.jsx(Xe,{name:s,label:e?"":o,validate:e?[]:[W,ky,fy,jn],className:e?Ts.explanationTextareaReadOnly:Ts.explanationTextarea,maxLength:1500,readOnly:e})})})};ar.defaultProps={name:"begrunnelse",hasVurderingText:!1};ar.buildInitialValues=(e,n="begrunnelse")=>({[n]:Bl(e)});ar.transformValues=(e,n="begrunnelse")=>({begrunnelse:e[n]});const py=Pe(rd),cy=(e,n,r,t)=>!e&&!r||n?!0:t===void 0?!e:!e&&t||t,Hm=({isReadOnly:e,isSubmittable:n,isSubmitting:r,isDirty:t,text:i,onClick:s,hasEmptyRequiredFields:l,isDisabled:o})=>e?null:g.jsx(ne,{size:"small",loading:r,disabled:cy(t,r,n,l)||!!o,onClick:s||Vl,type:s?"button":"submit",children:i||py.formatMessage({id:"SubmitButton.ConfirmInformation"})}),We=(e,n)=>n.some(r=>r.definisjon===e),vy=e=>e===ql.OPPRETTET,_s=e=>e?`...${e.substring(e.length-4,e.length)}`:"",lr=(e,n)=>e.erPrivatPerson?e.fødselsdato?`${e.navn} (${y(e.fødselsdato).format(ee)})${_s(n)}`:`${e.navn}${_s(n)}`:`${e.navn} (${e.identifikator})${_s(n)}`,by=(e,n)=>e.arbeidsforholdId?n+e.arbeidsforholdId:n,Oo=(e,n)=>e+n.fom.replace(".",""),ze=e=>{if(e.arbeidsgiverIdent){const n=by(e,e.arbeidsgiverIdent);return Oo(n,e)}return Oo(e.arbeidsforholdType,e)},hy=(e,n)=>e||n,bi=(e,n,r,t,i)=>!n&&!r||e.arbeidsforholdType&&e.arbeidsforholdType===Kr.AAP?!1:n?hy(t,i):!0,jy=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?n[e.arbeidsgiverIdent]:void 0;return i?lr(i,e.eksternArbeidsforholdId):e.arbeidsforholdType&&((t=r[ye.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn)||""},Iy=(e,n)=>y(e).isSame(y(n))||y(e).isBefore(y(n)),Ay=(e,n,r,t)=>bi(e,n,r,t,!1)?e.skalBrukes===void 0||e.skalBrukes===null?void 0:e.skalBrukes.toString():e.skalBrukes===!0||e.skalBrukes===null||e.skalBrukes===void 0?"true":"false",xy=(e,n,r,t,i,s)=>({beregningAktivitetNavn:jy(e,s,n),fom:e.fom,tom:e.tom,skalBrukes:Ay(e,r,t,i)}),yy=(e,n,r,t)=>{const i=Iy(r,t);return n.filter(s=>e.aktiviteterValues&&(e.aktiviteterValues[ze(s)].skalBrukes==="false"||e.aktiviteterValues[ze(s)].tom!=null)).map(s=>({oppdragsgiverOrg:s.arbeidsgiverIdent&&s.arbeidsgiverIdent.length===9?s.arbeidsgiverIdent:void 0,arbeidsforholdRef:s.arbeidsforholdId,fom:s.fom,tom:e.aktiviteterValues&&e.aktiviteterValues[ze(s)].tom!=null?e.aktiviteterValues[ze(s)].tom:s.tom,opptjeningAktivitetType:s.arbeidsforholdType,arbeidsgiverIdentifikator:s.arbeidsgiverIdent,skalBrukes:i&&e.aktiviteterValues?e.aktiviteterValues[ze(s)].skalBrukes==="true":!0}))},Ey=(e,n,r,t,i,s)=>{const l={};return e&&e.forEach(o=>{l[ze(o)]=xy(o,n,r,t,i,s)}),l},Ty="_radios_4fctu_1",_y="_navnKol_4fctu_10",Py="_table_4fctu_15",ut={radios:Ty,navnKol:_y,table:Py},Sy=(e,n)=>y(e).isSame(y(n))||y(e).isBefore(y(n)),Vo=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?n[e.arbeidsgiverIdent]:void 0;return i?lr(i,e.eksternArbeidsforholdId):e.arbeidsforholdType&&((t=r[ye.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn)||""},Ny=({readOnly:e,isAvklaringsbehovClosed:n,aktivitet:r,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:l,valgtSkjæringstidspunkt:o,ingenAktiviterErBrukt:u,arbeidsgiverOpplysningerPerId:f,fieldId:k})=>{const c=X(),b=Sy(o,l),v=I=>{const T=Vo(r,f,t),P=`${Qd(r.fom)} til ${Qd(r.tom||"")}`;return`${I?"Benytt":"Ikke benytt"} ${T} ${P}`};return g.jsxs(U.Row,{children:[g.jsx(U.DataCell,{className:ut.navnKol,children:g.jsx(E,{size:"small",children:Vo(r,f,t)})}),g.jsxs(U.DataCell,{className:ut.rowalign,children:[!i&&g.jsx(E,{children:g.jsx(we,{size:"small",dateStringFom:r.fom,dateStringTom:r.tom})}),i&&g.jsxs("div",{children:[g.jsxs(E,{as:"span",size:"small",children:[g.jsx(_e,{dateString:r.fom})," -"," "]}),g.jsx(nr,{name:`avklarAktiviteterForm.${k}.aktiviteterValues.${ze(r)}.tom`,validate:[W,Tn],isReadOnly:e,size:"small"})]})]}),g.jsx(U.DataCell,{className:ut.radios,children:g.jsx(Ae,{name:`avklarAktiviteterForm.${k}.aktiviteterValues.${ze(r)}.skalBrukes`,label:c.formatMessage({id:"VurderAktiviteterTabell.Header.Benytt"}),validate:[W],isHorizontal:!0,isReadOnly:e||!bi(r,i,s,b,u),radios:[{value:"true",label:v(!0)}],hideLegend:!0,hideRadioLabels:!0})}),g.jsx(U.DataCell,{className:ut.radios,children:g.jsx(Ae,{name:`avklarAktiviteterForm.${k}.aktiviteterValues.${ze(r)}.skalBrukes`,label:c.formatMessage({id:"VurderAktiviteterTabell.Header.IkkeBenytt"}),validate:[W],isHorizontal:!0,isReadOnly:e||!bi(r,i,s,b,u),radios:[{value:"false",label:v(!1)}],hideLegend:!0,hideRadioLabels:!0})}),g.jsx(U.DataCell,{children:n&&e&&bi(r,i,s,b,u)&&g.jsx(yt,{})})]},ze(r))},Ry=(e,n,r)=>{const t=Tn(r)?"":y(r).format(ee);return e.some(i=>i.arbeidsforholdType&&i.arbeidsforholdType===Kr.VENTELØNN_VARTPENGER)?g.jsx(m,{id:"VurderAktiviteterTabell.VentelonnVartpenger.Overskrift",values:{skjaeringstidspunkt:t}}):""},Fy=()=>["VurderAktiviteterTabell.Header.Aktivitet","VurderAktiviteterTabell.Header.Periode","VurderAktiviteterTabell.Header.Benytt","VurderAktiviteterTabell.Header.IkkeBenytt"],By=({readOnly:e,isAvklaringsbehovClosed:n,aktiviteter:r,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:l,valgtSkjæringstidspunkt:o,ingenAktiviterErBrukt:u,arbeidsgiverOpplysningerPerId:f,fieldId:k})=>g.jsxs(g.Fragment,{children:[g.jsx(O,{size:"small",children:Ry(r,i,l)}),g.jsxs(U,{size:"small",className:ut.table,children:[g.jsx(U.Header,{children:g.jsxs(U.Row,{children:[Fy().map(c=>g.jsx(U.HeaderCell,{scope:"col",children:g.jsx(O,{size:"small",as:"span",children:g.jsx(m,{id:c})})},c)),g.jsx(U.HeaderCell,{})]})}),g.jsx(U.Body,{children:r.map(c=>g.jsx(Ny,{aktivitet:c,readOnly:e,isAvklaringsbehovClosed:n,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:l,valgtSkjæringstidspunkt:o,ingenAktiviterErBrukt:u,arbeidsgiverOpplysningerPerId:f,fieldId:k},`${c.arbeidsgiverIdent}-${c.fom}-${c.tom}`))})]})]}),Oa=(e,n)=>!!e.aktiviteter&&e.aktiviteter.find(r=>{const t=ze(r);return n.aktiviteterValues&&n.aktiviteterValues[t]?n.aktiviteterValues[t].skalBrukes!=="false":r.skalBrukes})!==void 0,Oy=(e,n)=>{let r=0;for(;r<e.length&&y(n).isBefore(e[r].tom===void 0?null:e[r].tom);)r+=1;return r},$o=(e,n,r)=>{const t=e.find(({tom:i})=>i===r);if(t===void 0){const i={tom:r,aktiviteter:[n]},s=Oy(e,r);e.splice(s,0,i)}else{if(!t.aktiviteter)throw new Error(`Forventer å ha aktiviteter på tom ${t.tom}`);t.aktiviteter.push(n)}},Vy=e=>{var n;return!!((n=e.avklarAktiviteter)!=null&&n.aktiviteterTomDatoMapping)&&e.avklarAktiviteter.aktiviteterTomDatoMapping.some(r=>r.aktiviteter&&!r.aktiviteter.some(t=>!y(t.tom).isValid()))},$y=e=>{var n;const r=e.avklarAktiviteter?e.avklarAktiviteter.aktiviteterTomDatoMapping||[]:[],t=[],i=(n=e.avklarAktiviteter)==null?void 0:n.skjæringstidspunkt;if(!i)throw new Error("Forventer skjæringstidspunkt for opptjening her!");return r.flatMap(({aktiviteter:s})=>s).forEach(s=>{if(!s)throw new Error("Må ha aktivitet i form values her!");const l={...s},o=e.aktiviteterValues?e.aktiviteterValues[ze(s)].tom:void 0;o&&o!==l.tom&&(l.tom=o),y(o).isSame(y(i).subtract(1,"days"))||y(o).isAfter(y(i).subtract(1,"days"))?$o(t,l,i):$o(t,l,y(o).add(1,"days").format("YYYY-MM-DD"))}),t},td=(e,n,r)=>{const t=n&&!Vy(n)?$y(n):e;return r?t:!n||Oa(t[0],n)||t.length===1?[t[0]]:[t[0],t[1]]},Ym=(e,n)=>{if(!(e===void 0||n===void 0))for(let r=0;r<n.length;r+=1){const t=n[r].aktiviteter||[];for(let i=0;i<t.length;i+=1){const s=e.aktiviteterValues?e.aktiviteterValues[ze(t[i])]:void 0;if((s==null?void 0:s.skalBrukes)==="true")return n[r].tom}}},Dy=e=>Tn(e)?"":y(e).format(ee),dr=({readOnly:e,isAvklaringsbehovClosed:n,values:r,aktiviteterTomDatoMapping:t,erOverstyrt:i,harAvklaringsbehov:s,kodeverkSamling:l,arbeidsgiverOpplysningerPerId:o,fieldId:u})=>{const f=td(t,r,i),k=Ym(r,f);return g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"AvklarAktivitetPanel.Overskrift.Skjaeringstidspunkt",values:{skjaeringstidspunkt:Dy(k)}}),g.jsx(j,{twentyPx:!0}),f.map(c=>g.jsx(By,{readOnly:e,isAvklaringsbehovClosed:n,aktiviteter:c.aktiviteter||[],erOverstyrt:i,harAvklaringsbehov:s,kodeverkSamling:l,tomDatoForAktivitetGruppe:c.tom,valgtSkjæringstidspunkt:k,ingenAktiviterErBrukt:k===void 0,arbeidsgiverOpplysningerPerId:o,fieldId:u},c.tom)),g.jsx(j,{thirtyTwoPx:!0})]})};dr.harIngenAktiviteter=(e,n,r)=>{const t=td(n,e,r);return Oa(t[0],e)?!1:t.length>1&&t[1].aktiviteter&&t[1].aktiviteter.length>0?!Oa(t[1],e):!0};const Gy=(e,n)=>y(e).isSame(y(n))||y(e).isBefore(y(n));dr.transformValues=(e,n,r)=>{const t=td(n,e,r),i=Ym(e,t);if(!i)throw new Error("Finner ikke forventet skjæringstidspunkt, ugyldig tilstand");return t.flatMap(s=>yy(e,s.aktiviteter||[],i,s.tom))};const My=e=>{if(e!==void 0)for(let n=0;n<e.length;n+=1){const r=e[n].aktiviteter||[];for(let t=0;t<r.length;t+=1)if(r[t].skalBrukes===!0||r[t].skalBrukes===null||r[t].skalBrukes===void 0)return e[n].tom}};dr.buildInitialValues=(e,n,r,t,i)=>{if(!e||e.length===0)return{};let s={};const l=My(e);return e.forEach(o=>{s={...s,...Ey(o.aktiviteter||[],n,r,t,Gy(l,o.tom),i)}}),s};const{AVKLAR_AKTIVITETER:Di,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Do}=Ne,Ly=(e,n)=>n.some(r=>r.definisjon===e&&r.kanLoses),Ky=(e,n,r)=>(e||Ly(Di,n))&&r,id=e=>{var n;return e.some(r=>r.definisjon===Do||r.definisjon===Di)?(n=e.find(r=>r.definisjon===Do||r.definisjon===Di))==null?void 0:n.begrunnelse:void 0},wy=(e,n)=>We(Di,e)||n,Cy=(e,n,r)=>e&&n&&!r,Uy="_avsnittOverskrift_h44z2_1",zy={avsnittOverskrift:Uy},{AVKLAR_AKTIVITETER:hi,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Jm}=Ne,sd="begrunnelseAvklareAktiviteter",Wm="manuellOverstyringBeregningAktiviteter",qy=(e,n,r,t,i)=>{const s=We(hi,e),l=We(Jm,e),o=id(e);let u;return n&&n.aktiviteterTomDatoMapping&&(u=dr.buildInitialValues(n.aktiviteterTomDatoMapping,r,l,s,t)),{[Wm]:l,periode:i.periode,erTilVurdering:i.vurderesIBehandlingen&&!i.erForlengelse,avklaringsbehov:e,avklarAktiviteter:n,aktiviteterValues:u,...ar.buildInitialValues(o,sd)}},Go=e=>{const n=e[Wm],r=Ky(!!n,e.avklaringsbehov||[],e.erTilVurdering),{avklarAktiviteter:t}=e;return r?{beregningsaktivitetLagreDtoList:dr.transformValues(e,(t==null?void 0:t.aktiviteterTomDatoMapping)||[],!!n),periode:e.periode,begrunnelse:e[sd]}:null},Hy=(e,n,r,t,i)=>{if(!(r.length<1)&&dr.harIngenAktiviteter(e(`avklarAktiviteterForm.${n}`),r,t))return i.formatMessage({id:"VurderAktiviteterTabell.Validation.MåHaMinstEnAktivitet"})},Yy=({avklarAktiviteter:e,avklaringsbehov:n,erOverstyrer:r,readOnly:t,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:s,submittable:l,fieldId:o,updateOverstyring:u,submitDisabled:f})=>{var k,c;const b=X(),{resetField:v,watch:I,getValues:T,formState:{isSubmitting:P,errors:_,dirtyFields:R}}=ve(),A=Object.keys(R).length>0,N=We(Jm,n),F=!!T(`avklarAktiviteterForm.${o}`).manuellOverstyringBeregningAktiviteter,[G,$]=h.useState(N||F),q=!!((c=(k=_.avklarAktiviteterForm)==null?void 0:k[o])!=null&&c.begrunnelseAvklareAktiviteter),Y=H=>{H?$(!G):!H&&G&&$(!1),v(`avklarAktiviteterForm.${o}`,{keepDirty:!1}),v(`vurderAktiviteterSkjema.${o}`,{keepDirty:!1}),u(o,H)},w=n.filter(H=>H.definisjon===Ne.AVKLAR_AKTIVITETER||H.definisjon===Ne.OVERSTYRING_AV_BEREGNINGSAKTIVITETER).filter(H=>vy(H.status)).length===0,B=Hy(I,o,e.aktiviteterTomDatoMapping||[],F,b),K=`vurderAktiviteterSkjema.${o}`,J=Xi(K,B);return!e.aktiviteterTomDatoMapping||e.aktiviteterTomDatoMapping.length<1?null:g.jsxs(g.Fragment,{children:[We(hi,n)&&!w&&g.jsxs(Ie,{size:"small",variant:"warning",children:[g.jsx(re,{size:"xsmall",level:"3",children:g.jsx(m,{id:"BeregningInfoPanel.AksjonspunktHelpText.VurderAktiviteter"},"VurderFaktaForBeregningen")}),g.jsx(m,{id:"VurderAktiviteterTabell.FullAAPKombinert.Overskrift"}),g.jsx(j,{fourPx:!0}),g.jsx(Ee,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(Q,{size:"small",children:[g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.AvklareAktiviteterField.HvordanGarJegFrem1"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.AvklareAktiviteterField.HvordanGarJegFrem2"})})]})})]}),g.jsx(j,{thirtyTwoPx:!0}),g.jsxs(te,{gap:"4",children:[g.jsx(O,{size:"small",className:zy.avsnittOverskrift,"data-testid":"avklareAktiviteterHeading",children:g.jsx(m,{id:"AvklarAktivitetPanel.Overskrift"})}),(r||N)&&g.jsx(Ll,{onClick:()=>Y(!0),erOverstyrt:G})]}),G&&g.jsx(O,{size:"small",children:g.jsx(m,{id:"AvklareAktiviteter.OverstyrerAktivitetAdvarsel"})}),e&&e.aktiviteterTomDatoMapping&&g.jsxs("div",{children:[g.jsx(dr,{aktiviteterTomDatoMapping:e.aktiviteterTomDatoMapping,readOnly:t,isAvklaringsbehovClosed:w,erOverstyrt:G,kodeverkSamling:i,values:I(`avklarAktiviteterForm.${o}`),harAvklaringsbehov:We(hi,n),arbeidsgiverOpplysningerPerId:s,fieldId:o}),J&&g.jsx(Sr,{children:J})]}),g.jsx(j,{twentyPx:!0}),wy(n,G)&&g.jsxs(g.Fragment,{children:[g.jsx(ar,{name:`avklarAktiviteterForm.${o}.${sd}`,isSubmittable:l,isReadOnly:t,hasBegrunnelse:id(n)!==null}),(We(hi,n)||G)&&g.jsxs(g.Fragment,{children:[g.jsx(j,{twentyPx:!0}),g.jsxs(te,{gap:"4",children:[g.jsx(Hm,{text:b.formatMessage({id:G?"AvklarAktivitetPanel.OverstyrText":"AvklarAktivitetPanel.ButtonText"}),isSubmittable:Cy(l,!0,q),isDirty:A,isSubmitting:f,isReadOnly:t||w&&!A,hasEmptyRequiredFields:q}),!!R&&A&&g.jsx(ne,{variant:"secondary",loading:P,disabled:P,onClick:()=>Y(!1),size:"small",children:g.jsx(m,{id:"AvklareAktiviteter.Avbryt"})})]})]})]})]})},{OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Zm,AVKLAR_AKTIVITETER:Xm}=Ne,Mo="manuellOverstyringBeregningAktiviteter",Jy=(e,n)=>{const r=e.perioder.find(({periode:t})=>t.fom===n);if(!r)throw new Error(`Finner ikke vilkårsperiode med fom ${n}`);return r},Wy=(e,n)=>!We(Xm,e)&&!We(Zm,e)&&!n,Zy=e=>{const n=e[ht],r=n.filter(s=>s[Mo]).map(Go).filter(s=>s),t=n.filter(s=>!s[Mo]).map(Go).filter(s=>s),i=[];if(r.length>0){const s=r.map(({begrunnelse:o})=>o).reduce((o,u)=>o===""?u:`${o} ${u}`,""),l={kode:Zm,begrunnelse:s,grunnlag:r};i.push(l)}if(t.length>0){const s=t.map(({begrunnelse:o})=>o).reduce((o,u)=>o===""?u:`${o} ${u}`,""),l={kode:Xm,begrunnelse:s,grunnlag:t};i.push(l)}return i},Xy=(e,n,r,t)=>({[ht]:e.map(i=>{var s;return qy(i.avklaringsbehov,(s=i.faktaOmBeregning)==null?void 0:s.avklarAktiviteter,n,r,Jy(t,i.vilkårsperiodeFom))})}),Qy=(e,n)=>{var r;const t=(r=e[n].faktaOmBeregning)==null?void 0:r.avklarAktiviteter;if(!t)throw new Error("Mangler aktivteter å populere skjema med!");return t},eE=({harAndreAvklaringsbehovIPanel:e,erOverstyrer:n,readOnly:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,submittable:s,submitCallback:l,beregningsgrunnlag:o,aktivtBeregningsgrunnlagIndeks:u,vilkår:f,setFormData:k,formData:c,setAvklarAktiviteterErEndret:b})=>{const v=He({defaultValues:c||Xy(o,t,i,f)}),{formState:{dirtyFields:I,errors:T,isSubmitted:P},control:_,getValues:R,trigger:A,setValue:N}=v;h.useEffect(()=>{var B;(B=I.avklarAktiviteterForm)!=null&&B.some(K=>!!K)?b(!0):b(!1)},[I]),h.useEffect(()=>{var B;P&&(B=I.avklarAktiviteterForm)!=null&&B[u]&&A()},[u]);const F=o.flatMap(B=>B.avklaringsbehov),{fields:G}=Qe({name:ht,control:_}),[$,q]=h.useState(!1),Y=(B,K)=>{const J=R(`avklarAktiviteterForm.${B}`);N(`${ht}.${B}`,{...J,manuellOverstyringBeregningAktiviteter:K},{shouldDirty:!0})};if(Wy(F,n))return null;const w=B=>{Object.keys(T).length===0&&(q(!0),l(Zy(B)))};return g.jsxs(g.Fragment,{children:[g.jsx(Ye,{formMethods:v,onSubmit:B=>w(B),setDataOnUnmount:k,children:G.map((B,K)=>u===K&&g.jsx(Yy,{aktivtBeregningsgrunnlagIndeks:u,fieldId:K,avklarAktiviteter:Qy(o,K),avklaringsbehov:o[K].avklaringsbehov,erOverstyrer:n,readOnly:r,submittable:s,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,updateOverstyring:Y,submitDisabled:$},B.id))}),e&&g.jsx(j,{twentyPx:!0})]})},Qm=L.createContext(null),he=L.createContext(0),ek=L.createContext(0),Rr=({name:e,readOnly:n,isAksjonspunktClosed:r,label:t})=>{const{resetField:i}=ve();h.useEffect(()=>()=>i(e),[]);const s=X(),l=o=>ue(o)>=1?null:s.formatMessage({id:"InntektInput.MånedsinntektGyldigVerdi"});return g.jsx(ce,{name:e,htmlSize:8,parse:Se,readOnly:n,isEdited:r,validate:n?[]:[W,en(178956970),l],label:t})};Rr.buildInitialValues=(e,n)=>{var r;const t=(r=e==null?void 0:e.find(i=>i.aktivitetStatus===n))==null?void 0:r.fastsattBelop;return t?{fastsattBelop:t}:null};const nE=(e,n)=>e.findIndex(r=>r.arbeidsgiverIdent===n),ct=({arbeidsgiver:e,readOnly:n,isAksjonspunktClosed:r,label:t,arbeidsgiverOpplysningerPerId:i})=>{var s;const{getValues:l}=ve(),o=L.useContext(he),u=l(`vurderFaktaBeregningForm.${o}.arbeidstakerInntektValues`),f=nE(u,e.arbeidsforhold.arbeidsgiverIdent),k=`vurderFaktaBeregningForm.${o}.arbeidstakerInntektValues.${f}.fastsattBelop`,c=(s=i[e.arbeidsforhold.arbeidsgiverIdent])==null?void 0:s.navn;return g.jsxs(g.Fragment,{children:[g.jsx(j,{thirtyTwoPx:!0}),g.jsx(Rr,{name:k,readOnly:n,isAksjonspunktClosed:r,label:t||g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.ManedsinntektBedrift",values:{bedrift:`${c} (${e.arbeidsforhold.arbeidsgiverIdent})`}})})]})};ct.buildInitialValues=e=>{const n=[];return e==null||e.filter(r=>r.aktivitetStatus===S.ARBEIDSTAKER&&r.arbeidsforhold).forEach(r=>{const t={fastsattBelop:r.fastsattBelop,arbeidsgiverIdent:r.arbeidsforhold.arbeidsgiverIdent};n.push(t)}),n};const rE="_fadeinTabell_anh4y_1",tE="_fadein_anh4y_1",iE="_rightAligned_anh4y_10",sE={fadeinTabell:rE,fadein:tE,rightAligned:iE},Fr="manuellOverstyringRapportertInntekt",{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:aE,AVKLAR_AKTIVITETER:lE}=Ne,dE=(e,n)=>n.some(r=>r.definisjon===e),oE=(e,n)=>e&&!n.some(r=>r.definisjon===lE&&gn(r.status)),as=({tabell:e,hjelpeTekstId:n,skalViseTabell:r,readOnly:t,avklaringsbehov:i,updateOverstyring:s,erOverstyrer:l,erOverstyrt:o})=>{const[u,f]=h.useState(o),k=L.useContext(he),c=h.useMemo(()=>oE(l,i),[l,i]),b=()=>{f(!u),s(k,!u)};return g.jsxs("div",{className:sE.fadeinTabell,children:[g.jsx(j,{thirtyTwoPx:!0}),r&&g.jsxs(g.Fragment,{children:[g.jsxs(te,{gap:"4",children:[g.jsx(re,{level:"3",size:"xsmall",children:g.jsx(m,{id:"InntektstabellPanel.RapporterteInntekter"})}),(c||u)&&g.jsx(Ll,{onClick:b,erOverstyrt:t||u||dE(aE,i)})]}),g.jsx(j,{sixteenPx:!0}),n&&g.jsx(O,{size:"small",children:g.jsx(m,{id:n})}),e,u&&!t&&g.jsx(ne,{size:"small",onClick:b,variant:"secondary",children:g.jsx(m,{id:"InntektstabellPanel.Avbryt"})})]})]})};as.buildInitialValues=e=>({[Fr]:e});as.defaultProps={hjelpeTekstId:void 0,skalViseTabell:!0};const nk=(e,n,r)=>r?!1:n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.filter(t=>t.aktivitetStatus===S.ARBEIDSTAKER).filter(t=>t.arbeidsforhold&&t.arbeidsforhold.arbeidsgiverIdent===e.arbeidsgiverId).filter(t=>t.arbeidsforhold&&t.arbeidsforhold.arbeidsforholdId).length>0,un=e=>e==="true",Br="lonnsendringField",Nt=({readOnly:e})=>{const n=L.useContext(he),r=X();return g.jsxs("div",{children:[g.jsx(Ae,{label:g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"BeregningInfoPanel.LonnsendringForm.HarSokerEndring"}),g.jsx(Ee,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.LonnsendringForm.HvaBetyrDette"}),children:g.jsxs(Q,{size:"small",children:[g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.LonnsendringForm.HvaBetyrDette1"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.LonnsendringForm.HvaBetyrDette2"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.LonnsendringForm.HvaBetyrDette3"})})]})})]}),name:`vurderFaktaBeregningForm.${n}.lonnsendringField`,isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.JaMaanedsinntektMaaFastsettes"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.NeiBrukerAInntekt"})}],validate:[W],parse:un}),g.jsx(j,{twentyPx:!0})]})},gE=e=>{const n=e.find(t=>t.lonnsendringIBeregningsperioden===!0)!==void 0,r=e.find(t=>t.lonnsendringIBeregningsperioden===!1)!==void 0;return n||(r?!1:void 0)};Nt.buildInitialValues=e=>{const n={};if(!e||!e.beregningsgrunnlagPeriode)return n;const r=e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel;if(!r||r.length<1)return n;const t=r.filter(i=>i.aktivitetStatus===S.ARBEIDSTAKER);return!t||t.length<1||(n[Br]=gE(t)),n};const uE=(e,n,r)=>r[Br]&&!!n.arbeidsforholdMedLønnsendringUtenIM&&n.arbeidsforholdMedLønnsendringUtenIM.find(t=>t.andelsnr===e.andelsnr)!==void 0;Nt.transformValues=(e,n)=>(n.faktaOmBeregningTilfeller?n.faktaOmBeregningTilfeller:[]).map(r=>r).includes(D.VURDER_LONNSENDRING)?{faktaOmBeregningTilfeller:[D.VURDER_LONNSENDRING],vurdertLonnsendring:{erLønnsendringIBeregningsperioden:e[Br]}}:{};const xn="NyoppstartetFLField",Rt=({readOnly:e})=>{const n=L.useContext(he),r=X();return g.jsxs("div",{children:[g.jsx(Ae,{label:g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"BeregningInfoPanel.NyoppstartetFLForm.ErSokerNyoppstartetFL"}),g.jsx(Ee,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(Q,{size:"small",children:[g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.NyoppstartetFLForm.HvordanGarJegFrem1"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.NyoppstartetFLForm.HvordanGarJegFrem2"})})]})})]}),name:`vurderFaktaBeregningForm.${n}.${xn}`,validate:[W],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.JaMaanedsinntektMaaFastsettes"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.NeiBrukerAInntekt"})}],parse:un}),g.jsx(j,{twentyPx:!0})]})};Rt.buildInitialValues=e=>{var n;const r={};if(e===void 0||e.beregningsgrunnlagPeriode===void 0)return r;const t=e.beregningsgrunnlagPeriode.map(i=>i.beregningsgrunnlagPrStatusOgAndel).flat().filter(i=>(i==null?void 0:i.aktivitetStatus)===S.FRILANSER);return t.length>0&&(r[xn]=(n=t[0])==null?void 0:n.erNyoppstartet),r};Rt.transformValues=(e,n,r,t)=>{if(!(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).map(l=>l).includes(D.VURDER_NYOPPSTARTET_FL))return{};if(!n||n.length===0)return{faktaOmBeregningTilfeller:[D.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[xn]}};const i=n.find(l=>l.aktivitetStatus===S.FRILANSER);if(!i)return{faktaOmBeregningTilfeller:[D.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[xn]}};if(t.includes(i.andelsnr))return{faktaOmBeregningTilfeller:[D.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[xn]}};t.push(i.andelsnr);const s={fastsettMaanedsinntektFL:{maanedsinntekt:i.fastsattBelop}};return{faktaOmBeregningTilfeller:[D.VURDER_NYOPPSTARTET_FL,D.FASTSETT_MAANEDSINNTEKT_FL],...s,vurderNyoppstartetFL:{erNyoppstartetFL:e[xn]}}};var rt=function(e){return e&&e.Math===Math&&e},mn=rt(typeof globalThis=="object"&&globalThis)||rt(typeof window=="object"&&window)||rt(typeof self=="object"&&self)||rt(typeof ei=="object"&&ei)||rt(typeof ei=="object"&&ei)||function(){return this}()||Function("return this")(),ad={},Fn=function(e){try{return!!e()}catch{return!0}},mE=Fn,Un=!mE(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),kE=Fn,ld=!kE(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),fE=ld,ni=Function.prototype.call,dd=fE?ni.bind(ni):function(){return ni.apply(ni,arguments)},rk={},tk={}.propertyIsEnumerable,ik=Object.getOwnPropertyDescriptor,pE=ik&&!tk.call({1:2},1);rk.f=pE?function(e){var n=ik(this,e);return!!n&&n.enumerable}:tk;var sk=function(e,n){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:n}},ak=ld,lk=Function.prototype,Va=lk.call,cE=ak&&lk.bind.bind(Va,Va),nn=ak?cE:function(e){return function(){return Va.apply(e,arguments)}},dk=nn,vE=dk({}.toString),bE=dk("".slice),ls=function(e){return bE(vE(e),8,-1)},hE=nn,jE=Fn,IE=ls,Ps=Object,AE=hE("".split),xE=jE(function(){return!Ps("z").propertyIsEnumerable(0)})?function(e){return IE(e)==="String"?AE(e,""):Ps(e)}:Ps,ok=function(e){return e==null},yE=ok,EE=TypeError,gk=function(e){if(yE(e))throw new EE("Can't call method on "+e);return e},TE=xE,_E=gk,ds=function(e){return TE(_E(e))},Ss=typeof document=="object"&&document.all,rn=typeof Ss>"u"&&Ss!==void 0?function(e){return typeof e=="function"||e===Ss}:function(e){return typeof e=="function"},PE=rn,Cr=function(e){return typeof e=="object"?e!==null:PE(e)},Ns=mn,SE=rn,NE=function(e){return SE(e)?e:void 0},os=function(e,n){return arguments.length<2?NE(Ns[e]):Ns[e]&&Ns[e][n]},RE=nn,FE=RE({}.isPrototypeOf),BE=typeof navigator<"u"&&String(navigator.userAgent)||"",uk=mn,Rs=BE,Lo=uk.process,Ko=uk.Deno,wo=Lo&&Lo.versions||Ko&&Ko.version,Co=wo&&wo.v8,ln,Gi;Co&&(ln=Co.split("."),Gi=ln[0]>0&&ln[0]<4?1:+(ln[0]+ln[1]));!Gi&&Rs&&(ln=Rs.match(/Edge\/(\d+)/),(!ln||ln[1]>=74)&&(ln=Rs.match(/Chrome\/(\d+)/),ln&&(Gi=+ln[1])));var OE=Gi,Uo=OE,VE=Fn,$E=mn,DE=$E.String,mk=!!Object.getOwnPropertySymbols&&!VE(function(){var e=Symbol("symbol detection");return!DE(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Uo&&Uo<41}),GE=mk,kk=GE&&!Symbol.sham&&typeof Symbol.iterator=="symbol",ME=os,LE=rn,KE=FE,wE=kk,CE=Object,fk=wE?function(e){return typeof e=="symbol"}:function(e){var n=ME("Symbol");return LE(n)&&KE(n.prototype,CE(e))},UE=String,zE=function(e){try{return UE(e)}catch{return"Object"}},qE=rn,HE=zE,YE=TypeError,od=function(e){if(qE(e))return e;throw new YE(HE(e)+" is not a function")},JE=od,WE=ok,ZE=function(e,n){var r=e[n];return WE(r)?void 0:JE(r)},Fs=dd,Bs=rn,Os=Cr,XE=TypeError,QE=function(e,n){var r,t;if(n==="string"&&Bs(r=e.toString)&&!Os(t=Fs(r,e))||Bs(r=e.valueOf)&&!Os(t=Fs(r,e))||n!=="string"&&Bs(r=e.toString)&&!Os(t=Fs(r,e)))return t;throw new XE("Can't convert object to primitive value")},pk={exports:{}},zo=mn,eT=Object.defineProperty,gd=function(e,n){try{eT(zo,e,{value:n,configurable:!0,writable:!0})}catch{zo[e]=n}return n},nT=mn,rT=gd,qo="__core-js_shared__",tT=nT[qo]||rT(qo,{}),ud=tT,Ho=ud;(pk.exports=function(e,n){return Ho[e]||(Ho[e]=n!==void 0?n:{})})("versions",[]).push({version:"3.35.1",mode:"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.1/LICENSE",source:"https://github.com/zloirock/core-js"});var ck=pk.exports,iT=gk,sT=Object,vk=function(e){return sT(iT(e))},aT=nn,lT=vk,dT=aT({}.hasOwnProperty),or=Object.hasOwn||function(e,n){return dT(lT(e),n)},oT=nn,gT=0,uT=Math.random(),mT=oT(1 .toString),bk=function(e){return"Symbol("+(e===void 0?"":e)+")_"+mT(++gT+uT,36)},kT=mn,fT=ck,Yo=or,pT=bk,cT=mk,vT=kk,Ar=kT.Symbol,Vs=fT("wks"),bT=vT?Ar.for||Ar:Ar&&Ar.withoutSetter||pT,Ft=function(e){return Yo(Vs,e)||(Vs[e]=cT&&Yo(Ar,e)?Ar[e]:bT("Symbol."+e)),Vs[e]},hT=dd,Jo=Cr,Wo=fk,jT=ZE,IT=QE,AT=Ft,xT=TypeError,yT=AT("toPrimitive"),ET=function(e,n){if(!Jo(e)||Wo(e))return e;var r=jT(e,yT),t;if(r){if(n===void 0&&(n="default"),t=hT(r,e,n),!Jo(t)||Wo(t))return t;throw new xT("Can't convert object to primitive value")}return n===void 0&&(n="number"),IT(e,n)},TT=ET,_T=fk,hk=function(e){var n=TT(e,"string");return _T(n)?n:n+""},PT=mn,Zo=Cr,$a=PT.document,ST=Zo($a)&&Zo($a.createElement),jk=function(e){return ST?$a.createElement(e):{}},NT=Un,RT=Fn,FT=jk,Ik=!NT&&!RT(function(){return Object.defineProperty(FT("div"),"a",{get:function(){return 7}}).a!==7}),BT=Un,OT=dd,VT=rk,$T=sk,DT=ds,GT=hk,MT=or,LT=Ik,Xo=Object.getOwnPropertyDescriptor;ad.f=BT?Xo:function(e,n){if(e=DT(e),n=GT(n),LT)try{return Xo(e,n)}catch{}if(MT(e,n))return $T(!OT(VT.f,e,n),e[n])};var Ur={},KT=Un,wT=Fn,Ak=KT&&wT(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),CT=Cr,UT=String,zT=TypeError,gs=function(e){if(CT(e))return e;throw new zT(UT(e)+" is not an object")},qT=Un,HT=Ik,YT=Ak,ri=gs,Qo=hk,JT=TypeError,$s=Object.defineProperty,WT=Object.getOwnPropertyDescriptor,Ds="enumerable",Gs="configurable",Ms="writable";Ur.f=qT?YT?function(e,n,r){if(ri(e),n=Qo(n),ri(r),typeof e=="function"&&n==="prototype"&&"value"in r&&Ms in r&&!r[Ms]){var t=WT(e,n);t&&t[Ms]&&(e[n]=r.value,r={configurable:Gs in r?r[Gs]:t[Gs],enumerable:Ds in r?r[Ds]:t[Ds],writable:!1})}return $s(e,n,r)}:$s:function(e,n,r){if(ri(e),n=Qo(n),ri(r),HT)try{return $s(e,n,r)}catch{}if("get"in r||"set"in r)throw new JT("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var ZT=Un,XT=Ur,QT=sk,xk=ZT?function(e,n,r){return XT.f(e,n,QT(1,r))}:function(e,n,r){return e[n]=r,e},yk={exports:{}},Da=Un,e_=or,Ek=Function.prototype,n_=Da&&Object.getOwnPropertyDescriptor,md=e_(Ek,"name"),r_=md&&(function(){}).name==="something",t_=md&&(!Da||Da&&n_(Ek,"name").configurable),i_={EXISTS:md,PROPER:r_,CONFIGURABLE:t_},s_=nn,a_=rn,Ga=ud,l_=s_(Function.toString);a_(Ga.inspectSource)||(Ga.inspectSource=function(e){return l_(e)});var Tk=Ga.inspectSource,d_=mn,o_=rn,eg=d_.WeakMap,g_=o_(eg)&&/native code/.test(String(eg)),u_=ck,m_=bk,ng=u_("keys"),_k=function(e){return ng[e]||(ng[e]=m_(e))},kd={},k_=g_,Pk=mn,f_=Cr,p_=xk,Ls=or,Ks=ud,c_=_k,v_=kd,rg="Object already initialized",Ma=Pk.TypeError,b_=Pk.WeakMap,Mi,jt,Li,h_=function(e){return Li(e)?jt(e):Mi(e,{})},j_=function(e){return function(n){var r;if(!f_(n)||(r=jt(n)).type!==e)throw new Ma("Incompatible receiver, "+e+" required");return r}};if(k_||Ks.state){var fn=Ks.state||(Ks.state=new b_);fn.get=fn.get,fn.has=fn.has,fn.set=fn.set,Mi=function(e,n){if(fn.has(e))throw new Ma(rg);return n.facade=e,fn.set(e,n),n},jt=function(e){return fn.get(e)||{}},Li=function(e){return fn.has(e)}}else{var kr=c_("state");v_[kr]=!0,Mi=function(e,n){if(Ls(e,kr))throw new Ma(rg);return n.facade=e,p_(e,kr,n),n},jt=function(e){return Ls(e,kr)?e[kr]:{}},Li=function(e){return Ls(e,kr)}}var I_={set:Mi,get:jt,has:Li,enforce:h_,getterFor:j_},fd=nn,A_=Fn,x_=rn,ti=or,La=Un,y_=i_.CONFIGURABLE,E_=Tk,Sk=I_,T_=Sk.enforce,__=Sk.get,tg=String,ji=Object.defineProperty,P_=fd("".slice),S_=fd("".replace),N_=fd([].join),R_=La&&!A_(function(){return ji(function(){},"length",{value:8}).length!==8}),F_=String(String).split("String"),B_=yk.exports=function(e,n,r){P_(tg(n),0,7)==="Symbol("&&(n="["+S_(tg(n),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(n="get "+n),r&&r.setter&&(n="set "+n),(!ti(e,"name")||y_&&e.name!==n)&&(La?ji(e,"name",{value:n,configurable:!0}):e.name=n),R_&&r&&ti(r,"arity")&&e.length!==r.arity&&ji(e,"length",{value:r.arity});try{r&&ti(r,"constructor")&&r.constructor?La&&ji(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var t=T_(e);return ti(t,"source")||(t.source=N_(F_,typeof n=="string"?n:"")),e};Function.prototype.toString=B_(function(){return x_(this)&&__(this).source||E_(this)},"toString");var O_=yk.exports,V_=rn,$_=Ur,D_=O_,G_=gd,M_=function(e,n,r,t){t||(t={});var i=t.enumerable,s=t.name!==void 0?t.name:n;if(V_(r)&&D_(r,s,t),t.global)i?e[n]=r:G_(n,r);else{try{t.unsafe?e[n]&&(i=!0):delete e[n]}catch{}i?e[n]=r:$_.f(e,n,{value:r,enumerable:!1,configurable:!t.nonConfigurable,writable:!t.nonWritable})}return e},Nk={},L_=Math.ceil,K_=Math.floor,w_=Math.trunc||function(e){var n=+e;return(n>0?K_:L_)(n)},C_=w_,Rk=function(e){var n=+e;return n!==n||n===0?0:C_(n)},U_=Rk,z_=Math.max,q_=Math.min,H_=function(e,n){var r=U_(e);return r<0?z_(r+n,0):q_(r,n)},Y_=Rk,J_=Math.min,W_=function(e){var n=Y_(e);return n>0?J_(n,9007199254740991):0},Z_=W_,pd=function(e){return Z_(e.length)},X_=ds,Q_=H_,eP=pd,ig=function(e){return function(n,r,t){var i=X_(n),s=eP(i),l=Q_(t,s),o;if(e&&r!==r){for(;s>l;)if(o=i[l++],o!==o)return!0}else for(;s>l;l++)if((e||l in i)&&i[l]===r)return e||l||0;return!e&&-1}},nP={includes:ig(!0),indexOf:ig(!1)},rP=nn,ws=or,tP=ds,iP=nP.indexOf,sP=kd,sg=rP([].push),Fk=function(e,n){var r=tP(e),t=0,i=[],s;for(s in r)!ws(sP,s)&&ws(r,s)&&sg(i,s);for(;n.length>t;)ws(r,s=n[t++])&&(~iP(i,s)||sg(i,s));return i},cd=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],aP=Fk,lP=cd,dP=lP.concat("length","prototype");Nk.f=Object.getOwnPropertyNames||function(e){return aP(e,dP)};var Bk={};Bk.f=Object.getOwnPropertySymbols;var oP=os,gP=nn,uP=Nk,mP=Bk,kP=gs,fP=gP([].concat),pP=oP("Reflect","ownKeys")||function(e){var n=uP.f(kP(e)),r=mP.f;return r?fP(n,r(e)):n},ag=or,cP=pP,vP=ad,bP=Ur,hP=function(e,n,r){for(var t=cP(n),i=bP.f,s=vP.f,l=0;l<t.length;l++){var o=t[l];!ag(e,o)&&!(r&&ag(r,o))&&i(e,o,s(n,o))}},jP=Fn,IP=rn,AP=/#|\.prototype\./,Bt=function(e,n){var r=yP[xP(e)];return r===TP?!0:r===EP?!1:IP(n)?jP(n):!!n},xP=Bt.normalize=function(e){return String(e).replace(AP,".").toLowerCase()},yP=Bt.data={},EP=Bt.NATIVE="N",TP=Bt.POLYFILL="P",_P=Bt,ii=mn,PP=ad.f,SP=xk,NP=M_,RP=gd,FP=hP,BP=_P,OP=function(e,n){var r=e.target,t=e.global,i=e.stat,s,l,o,u,f,k;if(t?l=ii:i?l=ii[r]||RP(r,{}):l=ii[r]&&ii[r].prototype,l)for(o in n){if(f=n[o],e.dontCallGetSet?(k=PP(l,o),u=k&&k.value):u=l[o],s=BP(t?o:r+(i?".":"#")+o,e.forced),!s&&u!==void 0){if(typeof f==typeof u)continue;FP(f,u)}(e.sham||u&&u.sham)&&SP(f,"sham",!0),NP(l,o,f,e)}},VP=ls,Ok=Array.isArray||function(e){return VP(e)==="Array"},$P=TypeError,DP=9007199254740991,GP=function(e){if(e>DP)throw $P("Maximum allowed index exceeded");return e},MP=ls,LP=nn,KP=function(e){if(MP(e)==="Function")return LP(e)},lg=KP,wP=od,CP=ld,UP=lg(lg.bind),zP=function(e,n){return wP(e),n===void 0?e:CP?UP(e,n):function(){return e.apply(n,arguments)}},qP=Ok,HP=pd,YP=GP,JP=zP,Vk=function(e,n,r,t,i,s,l,o){for(var u=i,f=0,k=l?JP(l,o):!1,c,b;f<t;)f in r&&(c=k?k(r[f],f,n):r[f],s>0&&qP(c)?(b=HP(c),u=Vk(e,n,c,b,u,s-1)-1):(YP(u+1),e[u]=c),u++),f++;return u},WP=Vk,ZP=Ft,XP=ZP("toStringTag"),$k={};$k[XP]="z";var QP=String($k)==="[object z]",eS=QP,nS=rn,Ii=ls,rS=Ft,tS=rS("toStringTag"),iS=Object,sS=Ii(function(){return arguments}())==="Arguments",aS=function(e,n){try{return e[n]}catch{}},lS=eS?Ii:function(e){var n,r,t;return e===void 0?"Undefined":e===null?"Null":typeof(r=aS(n=iS(e),tS))=="string"?r:sS?Ii(n):(t=Ii(n))==="Object"&&nS(n.callee)?"Arguments":t},dS=nn,oS=Fn,Dk=rn,gS=lS,uS=os,mS=Tk,Gk=function(){},Mk=uS("Reflect","construct"),vd=/^\s*(?:class|function)\b/,kS=dS(vd.exec),fS=!vd.test(Gk),tt=function(e){if(!Dk(e))return!1;try{return Mk(Gk,[],e),!0}catch{return!1}},Lk=function(e){if(!Dk(e))return!1;switch(gS(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return fS||!!kS(vd,mS(e))}catch{return!0}};Lk.sham=!0;var pS=!Mk||oS(function(){var e;return tt(tt.call)||!tt(Object)||!tt(function(){e=!0})||e})?Lk:tt,dg=Ok,cS=pS,vS=Cr,bS=Ft,hS=bS("species"),og=Array,jS=function(e){var n;return dg(e)&&(n=e.constructor,cS(n)&&(n===og||dg(n.prototype))?n=void 0:vS(n)&&(n=n[hS],n===null&&(n=void 0))),n===void 0?og:n},IS=jS,AS=function(e,n){return new(IS(e))(n===0?0:n)},xS=OP,yS=WP,ES=od,TS=vk,_S=pd,PS=AS;xS({target:"Array",proto:!0},{flatMap:function(e){var n=TS(this),r=_S(n),t;return ES(e),t=PS(n,0),t.length=yS(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}});var Kk={},SS=Fk,NS=cd,RS=Object.keys||function(e){return SS(e,NS)},FS=Un,BS=Ak,OS=Ur,VS=gs,$S=ds,DS=RS;Kk.f=FS&&!BS?Object.defineProperties:function(e,n){VS(e);for(var r=$S(n),t=DS(n),i=t.length,s=0,l;i>s;)OS.f(e,l=t[s++],r[l]);return e};var GS=os,MS=GS("document","documentElement"),LS=gs,KS=Kk,gg=cd,wS=kd,CS=MS,US=jk,zS=_k,ug=">",mg="<",Ka="prototype",wa="script",wk=zS("IE_PROTO"),Cs=function(){},Ck=function(e){return mg+wa+ug+e+mg+"/"+wa+ug},kg=function(e){e.write(Ck("")),e.close();var n=e.parentWindow.Object;return e=null,n},qS=function(){var e=US("iframe"),n="java"+wa+":",r;return e.style.display="none",CS.appendChild(e),e.src=String(n),r=e.contentWindow.document,r.open(),r.write(Ck("document.F=Object")),r.close(),r.F},si,Ai=function(){try{si=new ActiveXObject("htmlfile")}catch{}Ai=typeof document<"u"?document.domain&&si?kg(si):qS():kg(si);for(var e=gg.length;e--;)delete Ai[Ka][gg[e]];return Ai()};wS[wk]=!0;var HS=Object.create||function(e,n){var r;return e!==null?(Cs[Ka]=LS(e),r=new Cs,Cs[Ka]=null,r[wk]=e):r=Ai(),n===void 0?r:KS.f(r,n)},YS=Ft,JS=HS,WS=Ur.f,Ca=YS("unscopables"),Ua=Array.prototype;Ua[Ca]===void 0&&WS(Ua,Ca,{configurable:!0,value:JS(null)});var ZS=function(e){Ua[Ca][e]=!0},XS=ZS;XS("flatMap");var QS=mn,eN=nn,nN=function(e,n){return eN(QS[e].prototype[n])},rN=nN;rN("Array","flatMap");const Gn="vurderEtterlønnSluttpakke",Ot=({readOnly:e})=>{const n=L.useContext(he),r=X();return g.jsx("div",{children:g.jsx(Ae,{label:g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"BeregningInfoPanel.EtterlønnSluttpakke.HarSøkerInntekt"}),g.jsx(Ee,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsx(m,{id:"BeregningInfoPanel.EtterlønnSluttpakke.HvordanGarJegFrem1"})})]}),name:`vurderFaktaBeregningForm.${n}.${Gn}`,validate:[W],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.JaMaanedsinntektMaaFastsettes"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.NeiBrukerAInntekt"})}],parse:un})})};Ot.buildInitialValues=(e,n)=>{var r,t;const i={};if(!e||!e.beregningsgrunnlagPeriode||!n)return{};const s=!gn(n.status),l=e.beregningsgrunnlagPeriode.flatMap(o=>o.beregningsgrunnlagPrStatusOgAndel).filter(o=>(o==null?void 0:o.arbeidsforhold)&&(o==null?void 0:o.arbeidsforhold.arbeidsforholdType)===Kr.ETTERLONN_SLUTTPAKKE);return l.length>0&&(i[Gn]=s&&((r=l[0])==null?void 0:r.beregnetPrAar)!==void 0?((t=l[0])==null?void 0:t.beregnetPrAar)>0:void 0),i};const tN=e=>{if(!e.andelerForFaktaOmBeregning)return;const n=e.andelerForFaktaOmBeregning.find(r=>r.arbeidsforhold&&r.arbeidsforhold.arbeidsforholdType&&r.arbeidsforhold.arbeidsforholdType===Kr.ETTERLONN_SLUTTPAKKE);return n?n.andelsnr:void 0};Ot.transformValues=(e,n,r,t)=>{if(!(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).includes(D.VURDER_ETTERLONN_SLUTTPAKKE))return{};if(!n||n.length===0)return{faktaOmBeregningTilfeller:[D.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[Gn]}};const i=tN(r);if(!i)return{};const s=n.find(o=>o.andelsnr===i);if(!s)return{faktaOmBeregningTilfeller:[D.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[Gn]}};if(t.includes(s.andelsnr))return{faktaOmBeregningTilfeller:[D.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[Gn]}};t.push(s.andelsnr);const l={fastsettEtterlønnSluttpakke:{fastsattPrMnd:s.fastsattBelop}};return{faktaOmBeregningTilfeller:[D.VURDER_ETTERLONN_SLUTTPAKKE,D.FASTSETT_ETTERLONN_SLUTTPAKKE],...l,vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[Gn]}}};const Uk="mottarYtelseField",iN="_frilans",gr=e=>Uk+e.andelsnr,tr=()=>Uk+iN,sN=(e,n)=>(n&&n.arbeidstakerAndelerUtenIM?n.arbeidstakerAndelerUtenIM:[]).map(r=>e.vurderMottarYtelseValues[gr(r)]).find(r=>r)!==void 0,zk=e=>e.vurderMottarYtelseValues[tr()],qk=(e,n,r)=>{if(!n)return{};const t={};if((n.arbeidstakerAndelerUtenIM?n.arbeidstakerAndelerUtenIM:[]).forEach(s=>{const l=e.vurderMottarYtelseValues[gr(s)];t[s.andelsnr]=l}),!r)return t;const i=r.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(s=>s.aktivitetStatus===S.FRILANSER);return i&&(t[i.andelsnr]=zk(e)),t},aN="_navetLink_15r5n_1",lN="_flexColumn12_15r5n_12",dN="_flexColumn9_15r5n_15",oN="_flexColumn3_15r5n_18",Zn={navetLink:aN,flexColumn12:lN,flexColumn9:dN,flexColumn3:oN},Kn="vurderbesteberegningField",{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:gN}=Ne,Vt=({readOnly:e,erOverstyrt:n})=>{const r=L.useContext(he),t=X(),i=e||n;return g.jsx("div",{children:g.jsxs(V,{children:[g.jsx(x,{className:Zn.flexColumn9,children:g.jsx(Ae,{label:g.jsx(m,{id:"BeregningInfoPanel.VurderBestebergning.HarBesteberegning"}),name:`vurderFaktaBeregningForm.${r}.${Kn}`,isReadOnly:i,validate:i?[]:[W],radios:[{value:"true",label:t.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:t.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:un})}),g.jsx(x,{className:Zn.flexColumn3,children:g.jsx("a",{className:Zn.navetLink,href:zm,target:"_blank",rel:"noopener noreferrer",children:g.jsx(m,{id:"BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet"})})})]})})};Vt.buildInitialValues=(e,n,r,t)=>r.includes(D.VURDER_BESTEBEREGNING)||r.includes(D.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE)?n?e.find(i=>i.definisjon===gN)!==void 0||t?{[Kn]:!1}:{[Kn]:n.skalHaBesteberegning}:{}:{};Vt.transformValues=(e,n,r)=>{if(!n||!n.vurderBesteberegning)return{};if(!e[Kn]||!r)return{besteberegningAndeler:{besteberegningAndelListe:[]}};const t=r.filter(({nyAndel:s})=>s!==!0).map(s=>({andelsnr:s.andelsnr,nyAndel:s.nyAndel,lagtTilAvSaksbehandler:s.lagtTilAvSaksbehandler,fastsatteVerdier:{fastsattBeløp:s.fastsattBelop,inntektskategori:s.inntektskategori}})),i=r.find(s=>s.nyAndel&&s.aktivitetStatus===S.DAGPENGER);return{besteberegningAndeler:{besteberegningAndelListe:t,nyDagpengeAndel:i?{fastsatteVerdier:{fastsattBeløp:i.fastsattBelop,inntektskategori:i.inntektskategori}}:null}}};const uN=e=>(n,r)=>{const t=e.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller:[];if(!(t.map(l=>l).includes(D.VURDER_BESTEBEREGNING)||t.map(l=>l).includes(D.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE)))return{};const i=Vt.transformValues(n,e,r),s=[D.VURDER_BESTEBEREGNING];return i.besteberegningAndeler.besteberegningAndelListe.length>0&&s.push(D.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE),{faktaOmBeregningTilfeller:s,...i}},Hk="inntektFieldArray",mN=e=>e.inntektskategori&&e.inntektskategori!==Cn.UDEFINERT?e.inntektskategori:"",kN=(e,n,r)=>{var t,i,s,l,o;const u=(t=e.arbeidsforhold)!=null&&t.arbeidsgiverIdent?n[e.arbeidsforhold.arbeidsgiverIdent]:void 0;return u?lr(u,(o=e.arbeidsforhold)==null?void 0:o.eksternArbeidsforholdId):(i=e.arbeidsforhold)!=null&&i.arbeidsforholdType?(s=r[ye.OPPTJENING_AKTIVITET_TYPE].find(f=>{var k;return f.kode===((k=e.arbeidsforhold)==null?void 0:k.arbeidsforholdType)}))==null?void 0:s.navn:(l=r[ye.AKTIVITET_STATUS].find(f=>f.kode===e.aktivitetStatus))==null?void 0:l.navn},Yk=(e,n,r)=>({andel:kN(e,n,r)||"",aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,nyAndel:!1,inntektskategori:mN(e),lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler===!0}),fN=(e,n)=>e?e.find(r=>r.andelsnr===n.andelsnr):void 0,pN=(e,n)=>e?e.find(r=>r.andelsnr===n.andelsnr):void 0,cN=(e,n)=>{const r=fN(n.arbeidstakerOgFrilanserISammeOrganisasjonListe,e);return r&&(r.inntektPrMnd===null||r.inntektPrMnd===void 0)},us=e=>e.aktivitetStatus&&e.aktivitetStatus===S.ARBEIDSTAKER,ms=e=>e.aktivitetStatus&&e.aktivitetStatus===S.FRILANSER,Jk=e=>e.aktivitetStatus&&e.aktivitetStatus===S.DAGPENGER,vN=(e,n)=>n?ms(e)&&n[xn]:!1,bN=e=>e[Kn],hN=(e,n,r)=>r.arbeidsforholdMedLønnsendringUtenIM&&pN(r.arbeidsforholdMedLønnsendringUtenIM,n)&&e[Br],jN=(e,n,r)=>us(e)&&hN(n,e,r),IN=(e,n)=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&ms(e),AN=(e,n)=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&us(e)&&cN(e,n),xN=(e,n,r,t)=>qk(e,r.vurderMottarYtelse,t)[n.andelsnr],yN=(e,n)=>e.arbeidsforholdType&&e.arbeidsforholdType===Kr.ETTERLONN_SLUTTPAKKE?n[Gn]:!1,Wk=(e,n)=>n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(r=>r.arbeidsforhold&&r.arbeidsforhold.arbeidsgiverIdent===e.arbeidsgiverId&&r.arbeidsforhold.organisasjonstype&&r.arbeidsforhold.organisasjonstype===rm.KUNSTIG)!==void 0,EN=e=>!!e.faktaOmBeregningTilfeller&&e.faktaOmBeregningTilfeller.find(n=>n===D.FASTSETT_BG_KUN_YTELSE)!==void 0,TN=(e,n,r)=>t=>!!(bN(e)||xN(e,t,n,r)||jN(t,e,n)||IN(t,n)||AN(t,n)||Wk(t,r)||nk(t,r,t.arbeidsforholdId)||yN(t,e)),_N=(e,n,r)=>t=>!!(TN(e,n,r)(t)||vN(t,e)),Sn=e=>!!e&&e[Fr]===!0,PN=e=>e&&e.some(n=>n.definisjon===Ne.OVERSTYRING_AV_BEREGNINGSGRUNNLAG),bd=e=>Sn(e),fg=e=>e.erOverstyrtInntekt||PN(e.avklaringsbehov),Zk=(e,n,r)=>t=>EN(n)||_N(e,n,r)(t),SN=(e,n,r)=>t=>Sn(e)||Zk(e,n,r)(t),Or=(e,n)=>r=>SN(e,n.faktaOmBeregning,n)(r),NN=e=>n=>Wk(n,e),RN=e=>NN(e),za=(e,n,r)=>({...Yk(e,n,r),arbeidsforholdId:e.arbeidsforhold?e.arbeidsforhold.arbeidsforholdId:void 0,arbeidsperiodeFom:e.arbeidsforhold?e.arbeidsforhold.startdato:"",arbeidsperiodeTom:e.arbeidsforhold?e.arbeidsforhold.opphoersdato:"",arbeidsforholdType:e.arbeidsforhold?e.arbeidsforhold.arbeidsforholdType:void 0,aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,arbeidsgiverId:e.arbeidsforhold?e.arbeidsforhold.arbeidsgiverIdent:void 0,skalKunneEndreAktivitet:e.skalKunneEndreAktivitet,fastsattBelop:e.fastsattBelop||e.fastsattBelop===0?C(e.fastsattBelop):"",belopReadOnly:e.belopReadOnly||e.belopReadOnly===0?C(e.belopReadOnly):"",refusjonskrav:e.refusjonskrav||e.refusjonskrav===0?C(e.refusjonskrav):""}),qa=(e,n)=>e.findIndex(r=>r.arbeidsgiverIdent===n),Ki=(e,n)=>{var r;return(r=e==null?void 0:e.find(t=>t.arbeidsgiverIdent===n))==null?void 0:r.fastsattBelop},zn=e=>{if(!e.faktaOmBeregning)throw new Error("Mangler fakta om beregning, ugyldig tilstand");return e.faktaOmBeregning},hd=e=>{var n;return((n=zn(e))==null?void 0:n.faktaOmBeregningTilfeller)||[]},Qn=(e,n)=>n.some(r=>r.definisjon===e),Ha=e=>{const n=e.filter(r=>r.definisjon===Ne.VURDER_FAKTA_FOR_ATFL_SN||r.definisjon===Ne.OVERSTYRING_AV_BEREGNINGSGRUNNLAG);return n.length===0?!1:n.some(r=>!gn(r.status))},FN=(e,n)=>e.andelsinfo===n.andelsinfo?e.inntektskategori===n.inntektskategori?0:e.inntektskategori>n.inntektskategori?1:-1:e.andelsinfo>n.andelsinfo?1:-1,BN=(e,n)=>{const{nyAndel:r,andel:t,inntektskategori:i,aktivitetStatus:s,arbeidsforholdId:l}=e;if(r){if(!Number.isNaN(Number(t))){const o=n.filter(u=>u.andelsnr===parseFloat(t));if(o.length>0)return{andelsinfo:o[0].andel,inntektskategori:i}}return ua[t]?{andelsinfo:t,inntektskategori:i}:{andelsinfo:t,inntektskategori:i}}return ro[s]?{andelsinfo:ro[s],inntektskategori:i}:{andelsinfo:t,inntektskategori:i,arbeidsforholdId:l}},ON=e=>e.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.UlikeAndeler"}),VN=(e,n)=>n.andelsinfo===e.andelsinfo&&n.inntektskategori===e.inntektskategori&&e.arbeidsforholdId===n.arbeidsforholdId,Xk=(e,n,r)=>{const t=e.map(i=>n(i,e)).slice().sort((i,s)=>FN(i,s));for(let i=0;i<t.length-1;i+=1)if(VN(t[i],t[i+1]))return ON(r);return null},$N=(e,n)=>Xk(e,BN,n),DN=e=>e.formatMessage({id:"BeregningInfoPanel.Validation.MinstEnFastsatt"}),GN=(e,n)=>e.some(({fastsattBelop:r})=>r!==null&&r!==""&&r!==void 0)?null:DN(n),MN="_row_1hw01_1",LN="_slettIkon_1hw01_10",KN="_rightAlign_1hw01_13",wN="_rightAlignInput_1hw01_20",CN="_buttonRow_1hw01_28",UN="_addPeriode_1hw01_31",zN="_customLink_1hw01_32",qN="_removeButton_1hw01_33",HN="_addCircleIcon_1hw01_41",YN="_imageText_1hw01_42",JN="_storBredde_1hw01_47",WN="_mediumBredde_1hw01_50",ZN="_flexColumn3_1hw01_53",cn={row:MN,slettIkon:LN,rightAlign:KN,rightAlignInput:wN,buttonRow:CN,addPeriode:UN,customLink:zN,removeButton:qN,addCircleIcon:HN,imageText:YN,storBredde:JN,mediumBredde:WN,flexColumn3:ZN},XN=(e,n)=>{var r;return{andel:(r=n[ye.AKTIVITET_STATUS].find(t=>t.kode===e.filter(i=>i===S.BRUKERS_ANDEL)[0]))==null?void 0:r.navn,fastsattBelop:"",inntektskategori:"",nyAndel:!0,lagtTilAvSaksbehandler:!0}},QN=e=>e.map(n=>g.jsx("option",{value:n.kode,children:n.navn},n.kode)),eR=e=>{let n=0;return e.forEach(r=>{n+=r.fastsattBelop?ue(r.fastsattBelop):0}),n>0?C(n):""};function nR(e,n,r){return(n[e].nyAndel||n[e].lagtTilAvSaksbehandler)&&!r}const rR=(e,n,r,t,i,s,l)=>e.map((o,u)=>g.jsxs(U.Row,{className:cn.row,children:[g.jsx(U.DataCell,{children:g.jsx(E,{size:"small",children:g.jsx(m,{id:"BeregningInfoPanel.FordelingBG.Ytelse"})})}),g.jsx(U.DataCell,{align:"right",className:cn.rightAlign,children:g.jsx(ce,{name:`${s}.${u}.fastsattBelop`,className:cn.mediumBredde,parse:Se,readOnly:r,isEdited:n,validate:r?[]:[W,en(178956970)],label:i.formatMessage({id:"BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn"},{andel:`ytelse ${u+1}`}),hideLabel:!0,size:"small"})}),g.jsx(U.DataCell,{align:"right",className:cn.rightAlign,children:g.jsx(Qi,{label:i.formatMessage({id:"BeregningInfoPanel.FordelingBG.InntektskategoriMedAndelnavn"},{andel:`ytelse ${u+1}`}),name:`${s}.${u}.inntektskategori`,className:cn.storBredde,selectValues:QN(t),readOnly:r,validate:r?[]:[W],hideLabel:!0,size:"small"})}),g.jsx(U.DataCell,{align:"right",className:cn.rightAlign,children:nR(u,e,r)&&g.jsx(ne,{icon:g.jsx(er,{"aria-hidden":!0,className:cn.slettIkon}),onClick:()=>l(u),type:"button",variant:"tertiary"})})]},o.id)),tR=e=>g.jsxs(U.Row,{children:[g.jsx(U.DataCell,{children:g.jsx(O,{as:"p",size:"small",children:g.jsx(m,{id:"BeregningInfoPanel.FordelingBG.Sum"})})}),g.jsx(U.DataCell,{align:"right",children:g.jsx(de,{children:e})}),g.jsx(U.DataCell,{}),g.jsx(U.DataCell,{})]},"bruttoBGSummaryRow"),iR=()=>["BeregningInfoPanel.FordelingBG.Andel","BeregningInfoPanel.FordelingBG.Fordeling","BeregningInfoPanel.FordelingBG.Inntektskategori"],sR=e=>e[ye.INNTEKTSKATEGORI].slice().sort((n,r)=>n.navn.localeCompare(r.navn)),aR=e=>{const{andel:n,inntektskategori:r}=e;return{andelsinfo:n,inntektskategori:r}},lR=(e,n)=>Xk(e,aR,n)||null,Qk=({name:e,readOnly:n,isAksjonspunktClosed:r,kodeverkSamling:t})=>{var i;const s=X(),{control:l}=ve(),o=L.useContext(he),u=`${vn}.${o}.${e}`,{fields:f,append:k,remove:c}=Qe({control:l,name:u}),b=(i=t[ye.AKTIVITET_STATUS])==null?void 0:i.map(N=>N.kode),v=sR(t),I=kt({name:u,control:l}),T=eR(I)||0,P=rR(f,r,n,v,s,u,c);P.push(tR(T));const _=lR(I,s),R=`${u}.skjemagruppe`,A=Xi(R,_);return g.jsxs("div",{children:[g.jsxs(U,{size:"small",children:[g.jsx(U.Header,{children:g.jsxs(U.Row,{children:[iR().map(N=>{const F=["BeregningInfoPanel.FordelingBG.Fordeling","BeregningInfoPanel.FordelingBG.Inntektskategori"].includes(N);return g.jsx(U.HeaderCell,{scope:"col",align:F?"right":"left",children:g.jsx(O,{size:"small",as:"span",children:g.jsx(m,{id:N})})},N)}),g.jsx(U.HeaderCell,{})]})}),g.jsx(U.Body,{children:P})]}),!n&&g.jsx(V,{className:cn.buttonRow,children:g.jsxs(x,{className:cn.flexColumn3,children:[g.jsx(j,{eightPx:!0}),g.jsx(ne,{icon:g.jsx(Wi,{"aria-hidden":!0,className:cn.addCircleIcon}),onClick:()=>k(XN(b,t)),type:"button",variant:"tertiary",size:"small",children:g.jsx(m,{id:"BeregningInfoPanel.FordelingBG.LeggTilAndel"})})]})}),g.jsx(j,{eightPx:!0}),A&&g.jsx(Sr,{children:A})]})},jd="besteberegningField",zr=({readOnly:e,isAksjonspunktClosed:n,brukersAndelFieldArrayName:r,skalViseInntektstabell:t,kodeverkSamling:i})=>{const{getValues:s}=ve(),l=L.useContext(he),o=s(`${vn}.${l}`)[jd],u=X();return g.jsxs("div",{children:[g.jsx(Ae,{name:`vurderFaktaBeregningForm.${l}.besteberegningField`,isReadOnly:e,label:g.jsx(m,{id:"KunYtelsePanel.HarBesteberegning"}),radios:[{value:"true",label:u.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:u.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:e?[]:[W],parse:un,isHorizontal:!0}),o!=null&&g.jsxs(Qu,{alignOffset:o?0:60,children:[g.jsxs(V,{children:[g.jsx(x,{className:Zn.flexColumn9,children:g.jsx(O,{size:"small",children:g.jsx(m,{id:"KunYtelsePanel.OverskriftBesteberegning"})})}),o&&g.jsx(x,{className:Zn.flexColumn3,children:g.jsx("a",{className:Zn.navetLink,href:zm,target:"_blank",rel:"noopener noreferrer",children:g.jsx(m,{id:"BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet"})})})]}),t&&g.jsx(V,{children:g.jsx(x,{className:Zn.flexColumn12,children:g.jsx(Qk,{name:r,readOnly:e,isAksjonspunktClosed:n,kodeverkSamling:i})})})]})]})};zr.defaultProps={erBesteberegning:void 0,skalViseInntektstabell:!0};zr.buildInitialValues=e=>({[jd]:e.erBesteberegning});zr.transformValues=e=>e[jd];const dR="_flexColumn9_csgl6_1",oR={flexColumn9:dR},gR=({readOnly:e,brukersAndelFieldArrayName:n,kodeverkSamling:r,isAksjonspunktClosed:t})=>g.jsxs(g.Fragment,{children:[g.jsx(V,{children:g.jsx(x,{className:oR.flexColumn9,children:g.jsx(O,{size:"medium",children:g.jsx(m,{id:"KunYtelsePanel.RapporterteInntekter"})})})}),g.jsx(j,{eightPx:!0}),g.jsx(Qk,{name:n,readOnly:e,isAksjonspunktClosed:t,kodeverkSamling:r})]}),It="brukersAndelBG",ur=({readOnly:e,faktaOmBeregning:n,isAksjonspunktClosed:r,skalViseInntektstabell:t,kodeverkSamling:i})=>{const{kunYtelse:s}=n,l=s.fodendeKvinneMedDP;return g.jsxs("div",{children:[l&&g.jsx(zr,{readOnly:e,isAksjonspunktClosed:r,brukersAndelFieldArrayName:It,skalViseInntektstabell:t,kodeverkSamling:i}),!l&&t&&g.jsx(gR,{readOnly:e,brukersAndelFieldArrayName:It,isAksjonspunktClosed:r,kodeverkSamling:i})]})};ur.defaultProps={skalViseInntektstabell:!0};ur.buildInitialValues=(e,n,r,t)=>{if(!e||!e.andeler||e.andeler.length===0)return{};const i=e.andeler.map(l=>{const o=n.find(u=>u.andelsnr===l.andelsnr);if(!o)throw new Error(`Finner ikke faktaAndel med andelsnr ${l.andelsnr}`);return{...Yk(o,r,t),fastsattBelop:C(l.fastsattBelopPrMnd)||""}}),s={[It]:i};return e.fodendeKvinneMedDP?{...zr.buildInitialValues(e),...s}:s};ur.summerFordeling=e=>e[It].map(({fastsattBelop:n})=>n?ue(n):0).reduce((n,r)=>n+r,0);ur.transformValues=(e,n)=>({kunYtelseFordeling:{andeler:e[It].map(r=>({andelsnr:r.andelsnr,fastsattBeløp:ue(r.fastsattBelop),inntektskategori:r.inntektskategori,nyAndel:r.nyAndel,lagtTilAvSaksbehandler:r.lagtTilAvSaksbehandler})),skalBrukeBesteberegning:n.fodendeKvinneMedDP?zr.transformValues(e):null}});const{FASTSETT_BG_KUN_YTELSE:wi,VURDER_BESTEBEREGNING:uR}=D,mR=(e,n,r,t,i,s,l)=>{n.includes(wi)&&e.push(g.jsxs(L.Fragment,{children:[g.jsx(ur,{readOnly:r,isAksjonspunktClosed:t,faktaOmBeregning:i,kodeverkSamling:s}),l()]},"FASTSETT_BG_KUN_YTELSE"))},kR=(e,n,r)=>{if(r.includes(wi)){const t=ur.transformValues(e,n),i=[wi];return n.fodendeKvinneMedDP&&i.push(uR),{faktaOmBeregningTilfeller:i,...t}}return{}},fR=(e,n,r,t,i)=>n&&n.includes(wi)?ur.buildInitialValues(e,r,t,i):{},Id="erSNNyIArbeidslivet",$t=({readOnly:e})=>{const n=L.useContext(he),r=X();return g.jsx("div",{children:g.jsx(Ae,{label:g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"BeregningInfoPanel.NyIArbeidslivet.SelvstendigNaeringsdrivende"}),g.jsx(Ee,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(Q,{size:"small",children:[g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.NyIArbeidslivet.HvordanGarJegFrem1"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.NyIArbeidslivet.HvordanGarJegFrem2"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.NyIArbeidslivet.HvordanGarJegFrem3"})})]})})]}),name:`vurderFaktaBeregningForm.${n}.${Id}`,validate:[W],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:un})})};$t.buildInitialValues=e=>{var n;const r={};if(!e||!e.beregningsgrunnlagPeriode)return r;const t=e.beregningsgrunnlagPeriode.map(i=>i.beregningsgrunnlagPrStatusOgAndel).flat().filter(i=>(i==null?void 0:i.aktivitetStatus)===S.SELVSTENDIG_NAERINGSDRIVENDE);return t.length>0&&(r[Id]=(n=t[0])==null?void 0:n.erNyIArbeidslivet),r};$t.transformValues=e=>({vurderNyIArbeidslivet:{erNyIArbeidslivet:e[Id]}});const pR="BeregningInfoPanel.TidsbegrensetArbFor.Arbeidsforhold",Ad=e=>e&&e.arbeidsforhold?`${e.arbeidsforhold.arbeidsgiverIdent}(${e.arbeidsforhold.arbeidsforholdId})(${e.andelsnr})`:"",pg=(e,n)=>{const r=n[e.arbeidsgiverIdent];return lr(r,e.eksternArbeidsforholdId)},Dt=({readOnly:e,faktaOmBeregning:n,arbeidsgiverOpplysningerPerId:r})=>{const t=n.kortvarigeArbeidsforhold,i=L.useContext(he),s=X();return g.jsx("div",{children:t.map((l,o)=>g.jsxs("div",{children:[o>0&&g.jsx(j,{twentyPx:!0}),g.jsx(Ae,{label:g.jsxs(g.Fragment,{children:[g.jsx(m,{id:pR,values:{navn:pg(l.arbeidsforhold,r),fom:y(l.arbeidsforhold.startdato).format(ee),tom:y(l.arbeidsforhold.opphoersdato).format(ee)}}),g.jsx(Ee,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsx(m,{id:"BeregningInfoPanel.TidsbegrensetArbeidsforholdForm.ReadMore"})})]}),name:`vurderFaktaBeregningForm.${i}.tidsbegrensetValues.${Ad(l)}`,isReadOnly:e,radios:[{value:"true",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[W],parse:un})]},`fastsettTidsbegrensedeForhold_${pg(l.arbeidsforhold,r)}`))})};Dt.buildInitialValues=e=>{const n={};return e&&e.forEach(r=>{r.erTidsbegrensetArbeidsforhold!==void 0&&(n[Ad(r)]=r.erTidsbegrensetArbeidsforhold)}),n};Dt.transformValues=(e,n)=>{const r=[];return n.forEach(t=>{const i=Ad(t),s=e.tidsbegrensetValues[i],l={andelsnr:t.andelsnr,tidsbegrensetArbeidsforhold:s,opprinneligVerdi:t.erTidsbegrensetArbeidsforhold};r.push(l)}),{vurderTidsbegrensetArbeidsforhold:{fastsatteArbeidsforhold:r}}};const xd="vurderMilitær",Gt=({readOnly:e})=>{const n=L.useContext(he),r=X();return g.jsx("div",{children:g.jsx(Ae,{label:g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"BeregningInfoPanel.VurderMilitaer.HarSøkerMilitærinntekt"}),g.jsx(Ee,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(Q,{size:"small",children:[g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderMilitaer.HvordanGarJegFrem1"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderMilitaer.HvordanGarJegFrem2"})})]})})]}),name:`vurderFaktaBeregningForm.${n}.${xd}`,isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[W],parse:un})})};Gt.buildInitialValues=e=>{const n={};return!e||!e.vurderMilitaer||(n[xd]=e.vurderMilitaer.harMilitaer),n};Gt.transformValues=e=>({vurderMilitaer:{harMilitaer:e[xd]}});const cR="_aksjonspunktBoks_tufis_1",vR={aksjonspunktBoks:cR},bR=({children:e})=>g.jsx("div",{className:vR.aksjonspunktBoks,children:e}),hR="_buttonRow_11vqq_1",jR="_addPeriode_11vqq_4",IR="_customLink_11vqq_5",AR="_removeButton_11vqq_6",xR="_addCircleIcon_11vqq_14",yR="_imageText_11vqq_15",ER="_flexColumn_11vqq_20",ai={buttonRow:hR,addPeriode:jR,customLink:IR,removeButton:AR,addCircleIcon:xR,imageText:yR,flexColumn:ER},TR=e=>({andel:e.filter(({kode:n})=>n===S.DAGPENGER)[0].navn,aktivitetStatus:S.DAGPENGER,fastsattBelop:"",inntektskategori:Cn.DAGPENGER,nyAndel:!0,skalKunneEndreAktivitet:!0,lagtTilAvSaksbehandler:!0}),cg=({leggTilAndel:e,kodeverkSamling:n})=>{const r=n[ye.AKTIVITET_STATUS];return g.jsx(V,{className:ai.buttonRow,children:g.jsx(x,{className:ai.flexColumn,children:g.jsx(ne,{icon:g.jsx(Wi,{"aria-hidden":!0,className:ai.addCircleIcon}),onClick:()=>e(TR(r)),type:"button",variant:"tertiary",children:g.jsx(de,{className:ai.imageText,children:g.jsx(m,{id:"BeregningInfoPanel.FordelingBG.LeggTilDagpengerAndel"})})})})})},_R="_slettIkon_1sqjy_1",PR="_rightAlign_1sqjy_4",SR="_rightAlignInput_1sqjy_7",NR="_buttonRow_1sqjy_22",RR="_addPeriode_1sqjy_25",FR="_customLink_1sqjy_26",BR="_removeButton_1sqjy_27",OR="_addCircleIcon_1sqjy_30",VR="_imageText_1sqjy_31",$R="_readOnlyContainer_1sqjy_36",DR="_readOnlyContent_1sqjy_39",GR="_storBredde_1sqjy_44",MR="_mediumBredde_1sqjy_47",LR="_litenBredde_1sqjy_50",KR="_inntekt_1sqjy_53",wR="_inntektNew_1sqjy_57",CR="_inntektOld_1sqjy_61",UR="_inntektOldStrikethrough_1sqjy_64",zR="_saksbehandlerIcon_1sqjy_72",Oe={slettIkon:_R,rightAlign:PR,rightAlignInput:SR,buttonRow:NR,addPeriode:RR,customLink:FR,removeButton:BR,addCircleIcon:OR,imageText:VR,readOnlyContainer:$R,readOnlyContent:DR,storBredde:GR,mediumBredde:MR,litenBredde:LR,inntekt:KR,inntektNew:wR,inntektOld:CR,inntektOldStrikethrough:UR,saksbehandlerIcon:zR},qR=(e,n)=>{const r=[];return r.push("BeregningInfoPanel.FordelingBG.Andel"),e&&r.push("BeregningInfoPanel.FordelingBG.Arbeidsperiode"),r.push("BeregningInfoPanel.FordelingBG.Fordeling"),n&&r.push("BeregningInfoPanel.FordelingBG.Refusjonskrav"),r.push("BeregningInfoPanel.FordelingBG.Inntektskategori"),r},HR=e=>e.map(n=>g.jsx("option",{value:n.kode,children:n.navn},n.kode)),YR=e=>e[ye.INNTEKTSKATEGORI].slice().sort((n,r)=>n.navn.localeCompare(r.navn)),JR=()=>g.jsx(Sr,{size:"small",children:"Må fastsettes"}),WR=({field:e,skalVisePeriode:n,skalViseRefusjon:r,skalViseSletteknapp:t,readOnly:i,removeAndel:s,beregningsgrunnlag:l,kodeverkSamling:o,rowName:u,skalFastsetteInntektForAndel:f})=>{var k,c,b,v;const I=X(),{getValues:T}=ve(),P=L.useContext(he),_=T(`vurderFaktaBeregningForm.${P}`),R=ms(e),A=Jk(e),N=us(e),F=Or(_,l)(e),G=R&&F&&((k=_==null?void 0:_.frilansInntektValues)==null?void 0:k.fastsattBelop),$=N&&F&&!!Ki(_==null?void 0:_.arbeidstakerInntektValues,e.arbeidsgiverId),q=A&&F&&((c=_==null?void 0:_.dagpengerInntektValues)==null?void 0:c.fastsattBelop),Y=R&&F&&!((b=_==null?void 0:_.frilansInntektValues)!=null&&b.fastsattBelop)||N&&F&&!Ki(_==null?void 0:_.arbeidstakerInntektValues,e.arbeidsgiverId)||A&&F&&!((v=_==null?void 0:_.dagpengerInntektValues)!=null&&v.fastsattBelop),w=G||$||q,B=Sn(_),K=RN(l)(e),J=YR(o),H=e.arbeidsperiodeFom||e.arbeidsperiodeTom,z=()=>$?`vurderFaktaBeregningForm.${P}.arbeidstakerInntektValues.${qa(_.arbeidstakerInntektValues,e.arbeidsgiverId)}.fastsattBelop`:G?`vurderFaktaBeregningForm.${P}.frilansInntektValues.fastsattBelop`:q?`vurderFaktaBeregningForm.${P}.dagpengerInntektValues.fastsattBelop`:"";return g.jsxs(U.Row,{children:[g.jsx(U.DataCell,{children:g.jsx(ce,{size:"small",name:`${u}.andel`,className:Oe.storBredde,readOnly:!0})}),g.jsx(U.DataCell,{children:n&&H&&g.jsx(Xp,{value:g.jsx(we,{size:"small",dateStringFom:e.arbeidsperiodeFom,dateStringTom:e.arbeidsperiodeTom})})}),!B&&g.jsx(U.DataCell,{align:"right",children:g.jsxs("div",{className:Oe.inntekt,children:[g.jsx("div",{className:w?Oe.inntektOldStrikethrough:Oe.inntektOld,children:Y?JR():g.jsx(ce,{size:"small",name:`${u}.belopReadOnly`,className:Oe.mediumBredde,parse:Se,readOnly:!0})}),w&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:Oe.inntektNew,children:g.jsx(ce,{size:"small",name:z(),className:Oe.mediumBredde,parse:Se,readOnly:!0})}),g.jsx(oc,{title:"Endret av saksbehandler",className:Oe.saksbehandlerIcon})]})]})}),B&&g.jsx(U.DataCell,{align:"right",className:Oe.rightAlignInput,children:g.jsx(ce,{size:"small",label:I.formatMessage({id:"BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn"},{andel:e.andel}),name:`${u}.fastsattBelop`,parse:Se,className:Oe.mediumBredde,validate:f(e)?[W,en(178956970)]:[],hideLabel:!0})}),r&&g.jsx(U.DataCell,{align:"right",children:g.jsx(ce,{size:"small",name:`${u}.refusjonskrav`,className:Oe.litenBredde,readOnly:!0,parse:Se})}),g.jsx(U.DataCell,{align:"right",children:g.jsx(Qi,{label:I.formatMessage({id:"BeregningInfoPanel.FordelingBG.Inntektskategori"}),name:`${u}.inntektskategori`,className:Oe.storBredde,selectValues:HR(J),validate:i?[]:[W],readOnly:i||!K,size:"small",hideLabel:!0})}),t&&g.jsx(U.DataCell,{children:g.jsx(ne,{icon:g.jsx(er,{"aria-hidden":!0,className:Oe.slettIkon}),onClick:()=>s(),type:"button",variant:"tertiary"})})]})},ZR=(e,n,r)=>{let t=0;return e.forEach(i=>{var s,l,o;let u;if(Or(n,r)(i)){const f=ms(i),k=us(i),c=Jk(i);i.fastsattBelop&&Sn(n)?u=i.fastsattBelop:f&&(s=n==null?void 0:n.frilansInntektValues)!=null&&s.fastsattBelop?u=n.frilansInntektValues.fastsattBelop:k&&(l=n==null?void 0:n.arbeidstakerInntektValues[qa(n.arbeidstakerInntektValues,i.arbeidsgiverId)])!=null&&l.fastsattBelop?u=n.arbeidstakerInntektValues[qa(n.arbeidstakerInntektValues,i.arbeidsgiverId)].fastsattBelop:c&&(o=n==null?void 0:n.dagpengerInntektValues)!=null&&o.fastsattBelop?u=n.dagpengerInntektValues.fastsattBelop:i.fastsattBelop&&!Sn(n)?u=0:u=i.fastsattBelop}else u=i.belopReadOnly;t+=u?ue(u):0}),t>0?t:0},XR=({skalVisePeriode:e,skalViseRefusjon:n,readOnly:r,beregningsgrunnlag:t})=>{const{control:i,getValues:s}=ve(),l=L.useContext(he),o=s(`vurderFaktaBeregningForm.${l}`),u=kt({control:i,name:`vurderFaktaBeregningForm.${l}.inntektFieldArray`}),f=ZR(u,o,t)||0;return g.jsxs(U.Row,{children:[g.jsx(U.DataCell,{children:g.jsx(O,{as:"p",size:"small",children:g.jsx(m,{id:"BeregningInfoPanel.FordelingBG.Sum"})})}),e&&g.jsx(U.DataCell,{}),g.jsx(U.DataCell,{align:"right",children:g.jsx("div",{className:Oe.readOnlyContainer,children:g.jsx(O,{as:"p","data-testid":"sum",className:r?Oe.readOnlyContent:"",size:"small",children:C(f)})})}),n&&g.jsx(U.DataCell,{}),g.jsx(U.DataCell,{})]})},QR=e=>({andel:e.find(({kode:n})=>n===S.DAGPENGER).navn,aktivitetStatus:S.DAGPENGER,fastsattBelop:"",inntektskategori:Cn.DAGPENGER,nyAndel:!0,skalKunneEndreAktivitet:!1,lagtTilAvSaksbehandler:!0}),eF=e=>({andel:e.find(({kode:n})=>n===S.MILITAER_ELLER_SIVIL).navn,aktivitetStatus:S.MILITAER_ELLER_SIVIL,fastsattBelop:"",inntektskategori:Cn.ARBEIDSTAKER,nyAndel:!0,skalKunneEndreAktivitet:!1,lagtTilAvSaksbehandler:!0}),nF=(e,n,r)=>n[e].skalKunneEndreAktivitet===!0&&!r,Ya=e=>{let n=!1;return e.forEach(r=>{r.refusjonskrav!==""&&r.refusjonskrav!==null&&r.refusjonskrav!==void 0&&(n=!0)}),n},Ja=e=>{let n=!1;return e.forEach(r=>{r.arbeidsgiverId!==""&&(n=!0)}),n},rF=(e,n)=>()=>{n(e)},tF=(e,n,r)=>g.jsx(XR,{readOnly:n,skalVisePeriode:Ja(e),skalViseRefusjon:Ya(e),beregningsgrunnlag:r},"summaryRow"),ef=(e,n)=>{let r=-1;return e.forEach((t,i)=>{t.aktivitetStatus===n&&(r=i)}),r},vg=e=>ef(e,S.DAGPENGER)!==-1,nf=(e,n,r,t,i,s,l,o)=>{const u=ef(e,n);if(u!==-1){const f=e[u];t(f)&&l(u)}u===-1&&r&&o({...i})},bg=e=>e===S.FRILANSER,hg=e=>e===S.ARBEIDSTAKER,jg=e=>e===S.DAGPENGER,iF=(e,n,r,t,i,s,l)=>{nf(e,S.DAGPENGER,n,o=>!n&&!t&&o.lagtTilAvSaksbehandler,QR(r),i,s,l)},sF=(e,n,r,t,i,s)=>{nf(e,S.MILITAER_ELLER_SIVIL,n===!0,()=>n===!1,eF(r),t,i,s)},aF=(e,n)=>GN(e,n)??null,lF=(e,n,r)=>n&&n.length>0?null:$N(e.inntektFieldArray,r)||(Sn(e)?aF(e.inntektFieldArray,r):null),qr=({readOnly:e,skalKunneLeggeTilDagpengerManuelt:n,beregningsgrunnlag:r,kodeverkSamling:t})=>{var i,s;const{getValues:l,control:o,formState:u}=ve(),{errors:f}=u,k=L.useContext(he),c=`vurderFaktaBeregningForm.${k}.inntektFieldArray`,{fields:b,remove:v,append:I,update:T}=Qe({control:o,name:c}),P=kt({control:o,name:`vurderFaktaBeregningForm.${k}`}),_=kt({control:o,name:`vurderFaktaBeregningForm.${k}.vurderbesteberegningField`}),R=kt({control:o,name:`vurderFaktaBeregningForm.${k}.vurderMilitær`}),A=X(),N=h.useCallback(()=>Or(P,r),[P,r]);h.useEffect(()=>{const B=l(`vurderFaktaBeregningForm.${k}.inntektFieldArray`),K=t[ye.AKTIVITET_STATUS];sF(B,R,K,N,v,I),iF(B,_,K,n,N,v,I)},[_,R,n]);const F=(B,K)=>{T(B,{...b[B],kanRedigereInntekt:K})};h.useEffect(()=>{b.forEach((B,K)=>{const J=B.kanRedigereInntekt,H=Or(P,r)(B);!(!_&&!n&&B.lagtTilAvSaksbehandler)&&J!==H&&F(K,H)})},[P]);const G=(s=(i=f==null?void 0:f.vurderFaktaBeregningForm)==null?void 0:i[k])==null?void 0:s.inntektFieldArray,$=lF(P,G,A),q=`${c}.skjemagruppe`,Y=Xi(q,$),w=b.map((B,K)=>g.jsx(WR,{field:B,skalVisePeriode:Ja(b),skalViseRefusjon:Ya(b),skalViseSletteknapp:nF(K,b,e),readOnly:e,removeAndel:rF(K,v),beregningsgrunnlag:r,kodeverkSamling:t,rowName:`${c}.${K}`,skalFastsetteInntektForAndel:Zk(P,r.faktaOmBeregning,r)},B.id));return w.length===0?n?g.jsxs("div",{children:[!e&&!vg(b)&&g.jsx(cg,{leggTilAndel:I,kodeverkSamling:t}),g.jsx(j,{eightPx:!0}),Y&&g.jsx(Sr,{children:Y})]}):null:(w.push(tF(b,e,r)),g.jsxs("div",{children:[g.jsxs(U,{size:"small",children:[g.jsx(U.Header,{children:g.jsx(U.Row,{children:qR(Ja(b),Ya(b)).map(B=>{const K=["BeregningInfoPanel.FordelingBG.Fordeling","BeregningInfoPanel.FordelingBG.Refusjonskrav","BeregningInfoPanel.FordelingBG.Inntektskategori"].includes(B);return g.jsx(U.HeaderCell,{scope:"col",align:K?"right":"left",children:g.jsx(O,{size:"small",as:"span",children:g.jsx(m,{id:B})})},B)})})}),g.jsx(U.Body,{children:w})]}),!e&&n&&!vg(b)&&g.jsx(cg,{leggTilAndel:I,kodeverkSamling:t}),g.jsx(j,{eightPx:!0}),Y&&g.jsx(Sr,{children:Y})]}))};qr.defaultProps={skalKunneLeggeTilDagpengerManuelt:!1};qr.transformValues=(e,n,r,t,i)=>{if(!e)return null;const s=l=>{const o=i&&l.fastsattBelop||bg(l.aktivitetStatus)&&(n==null?void 0:n.fastsattBelop)||hg(l.aktivitetStatus)&&Ki(r,l.arbeidsgiverId)||jg(l.aktivitetStatus)&&(t==null?void 0:t.fastsattBelop)||l.fastsattBelop;return{andelsnr:l.andelsnr,fastsattBelop:ue(o),inntektskategori:l.inntektskategori,nyAndel:l.nyAndel,lagtTilAvSaksbehandler:l.lagtTilAvSaksbehandler,aktivitetStatus:l.aktivitetStatus,arbeidsforholdId:l.arbeidsforholdId,arbeidsgiverId:l.arbeidsgiverId}};return e.filter(({kanRedigereInntekt:l})=>l).filter(({fastsattBelop:l,aktivitetStatus:o,arbeidsgiverId:u})=>l!==null&&l!==""||bg(o)&&n.fastsattBelop||hg(o)&&Ki(r,u)||jg(o)&&t.fastsattBelop).map(s)};qr.buildInitialValues=(e,n,r)=>!e||e.length===0?[]:e.map(t=>za(t,n,r));const{VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT:dF}=D,oF="erKravGyldig_",yd=e=>oF+e,gF=(e,n,r,t)=>e.map(i=>{const{arbeidsgiverIdent:s}=i,l=r[s],o=l?lr(l):s,u=X();return g.jsx(L.Fragment,{children:g.jsx(Ae,{label:g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"VurderRefusjonForm.ErRefusjonskravGyldig",values:{arbeidsgiverVisningsnavn:o}}),g.jsx(Ee,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsx(m,{id:"VurderRefusjonForm.ReadMore"})})]}),name:`vurderFaktaBeregningForm.${t}.vurderRefusjonValues.${yd(s)}`,validate:[W],isReadOnly:n,radios:[{value:"true",label:u.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:u.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:un})},s)}),Mt=({readOnly:e,faktaOmBeregning:n,arbeidsgiverOpplysningerPerId:r})=>{const t=L.useContext(he),i=n==null?void 0:n.refusjonskravSomKommerForSentListe;return g.jsx(g.Fragment,{children:gF(i,e,r,t)})};Mt.transformValues=e=>n=>e.length===0?{}:{refusjonskravGyldighet:e.map(({arbeidsgiverIdent:r})=>({arbeidsgiverId:r,skalUtvideGyldighet:n.vurderRefusjonValues[yd(r)]}))};Mt.buildInitialValues=(e,n)=>{const r={};return!e.includes(dF)||n.length===0?r:(n.forEach(({arbeidsgiverIdent:t,erRefusjonskravGyldig:i})=>{r[yd(t)]=i}),{...r})};const uF=(e,n,r)=>{if((n.faktaOmBeregningTilfeller?n.faktaOmBeregningTilfeller:[]).map(t=>t).includes(D.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON)&&e){const t=e.filter(i=>!r.includes(i.andelsnr)).filter(i=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe.map(({andelsnr:s})=>s).includes(i.andelsnr)).map(i=>({andelsnr:i.andelsnr,arbeidsinntekt:i.fastsattBelop}));if(n.frilansAndel&&!r.includes(n.frilansAndel.andelsnr)){const i=e.find(s=>s.andelsnr===n.frilansAndel.andelsnr);t.push({andelsnr:n.frilansAndel.andelsnr,arbeidsinntekt:i.fastsattBelop})}if(t.forEach(i=>r.push(i.andelsnr)),t.length>0)return{faktaOmBeregningTilfeller:[D.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON],vurderATogFLiSammeOrganisasjon:{vurderATogFLiSammeOrganisasjonAndelListe:t}}}return{faktaOmBeregningTilfeller:[]}},mF=(e,n)=>n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(r=>r.andelsnr===e.andelsnr&&r.arbeidsforhold&&r.arbeidsforhold.organisasjonstype&&r.arbeidsforhold.organisasjonstype===rm.KUNSTIG)!==void 0,kF=(e,n,r,t,i)=>{const s=r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[];if(!s.map(u=>u).includes(D.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING)&&!s.map(u=>u).includes(D.VURDER_LONNSENDRING))return{};if(!n)return{};const l=n.filter(u=>!i.includes(u.andelsnr)).filter(u=>nk(u,t,u.arbeidsforholdId)||mF(u,t)||uE(u,r,e));l.forEach(u=>i.push(u.andelsnr));const o=l.map(u=>({andelsnr:u.andelsnr,fastsattBeløp:ue(u.fastsattBelop),inntektskategori:u.inntektskategori}));return o.length>0?{faktaOmBeregningTilfeller:[D.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING],fastsattUtenInntektsmelding:{andelListe:o}}:{}},Us=e=>e==null?void 0:e.includes(D.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON),Ig=({beregningsgrunnlag:e,readOnly:n,isAksjonspunktClosed:r,tilfeller:t,arbeidsgiverOpplysningerPerId:i,kodeverkSamling:s})=>{var l,o,u,f,k,c,b;const{getValues:v}=ve(),I=L.useContext(he),T=v(`vurderFaktaBeregningForm.${I}`),P=v([`vurderFaktaBeregningForm.${I}.vurderMottarYtelseValues.${tr()}`,`vurderFaktaBeregningForm.${I}.${xn}`]),_=P.includes(!0),R=v([`vurderFaktaBeregningForm.${I}.${Br}`,`vurderFaktaBeregningForm.${I}.${Kn}`]),A=R.includes(!0),N=v([`vurderFaktaBeregningForm.${I}.${Gn}`]).includes(!0),{arbeidstakerOgFrilanserISammeOrganisasjonListe:F}=e.faktaOmBeregning,G=(u=(o=(l=e==null?void 0:e.faktaOmBeregning)==null?void 0:l.vurderMottarYtelse)==null?void 0:o.arbeidstakerAndelerUtenIM)==null?void 0:u.filter(z=>{const oe=v(`vurderFaktaBeregningForm.${I}.vurderMottarYtelseValues`);return oe==null?void 0:oe[gr(z)]}),$=(f=e.faktaOmBeregning.andelerForFaktaOmBeregning.filter(z=>z.aktivitetStatus===S.ARBEIDSTAKER))==null?void 0:f.filter(z=>Or(T,e)(za(z,i,s))),q=(k=Us(t)&&A?F==null?void 0:F.filter(z=>!($!=null&&$.find(oe=>oe.arbeidsforhold.arbeidsgiverIdent===z.arbeidsforhold.arbeidsgiverIdent))):F)==null?void 0:k.filter(z=>Or(T,e)(za({...z,lagtTilAvSaksbehandler:!1},i,s))),Y=v(`vurderFaktaBeregningForm.${I}.${Kn}`),w=`vurderFaktaBeregningForm.${I}.frilansInntektValues.fastsattBelop`,B=`vurderFaktaBeregningForm.${I}.dagpengerInntektValues.fastsattBelop`,K=(b=(c=e==null?void 0:e.faktaOmBeregning)==null?void 0:c.arbeidstakerOgFrilanserISammeOrganisasjonListe)==null?void 0:b.some(z=>!!z.inntektPrMnd),J=z=>{var oe;const je=(oe=i[z.arbeidsforhold.arbeidsgiverIdent])==null?void 0:oe.navn;return v(`vurderFaktaBeregningForm.${I}.${Br}`)&&R.filter(Fe=>Fe===!0).length===1?g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.ManedsinntektBedrift",values:{bedrift:`${je} (${z.arbeidsforhold.arbeidsgiverIdent})`}}),g.jsx(Ee,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(Q,{size:"small",children:[g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.LonnsendringFremgangsmate1"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.LonnsendringFremgangsmate2"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.LonnsendringFremgangsmate3"})})]})})]}):g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.ManedsinntektBedrift",values:{bedrift:`${je} (${z.arbeidsforhold.arbeidsgiverIdent})`}})},H=()=>{const z=P.filter(je=>je===!0).length>1,oe=v([`vurderFaktaBeregningForm.${I}.${xn}`]);return Us(t)||z?g.jsx(m,{id:"BeregningInfoPanel.VurderMottarYtelse.FastsettManedsinntektFrilans"}):v(`vurderFaktaBeregningForm.${I}.vurderMottarYtelseValues.${tr()}`)?g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"BeregningInfoPanel.VurderMottarYtelse.FastsettManedsinntektFrilans"}),g.jsx(Ee,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(Q,{size:"small",children:[g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.FrilanserFremgangsmate1"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.FrilanserFremgangsmate2"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.FrilanserFremgangsmate3"})})]})})]}):oe?g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"BeregningInfoPanel.VurderMottarYtelse.FastsettManedsinntektFrilans"}),g.jsx(Ee,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(Q,{size:"small",children:[g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.NyoppstartetFrilansFremgangsmate1"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.NyoppstartetFrilansFremgangsmate2",values:{br:g.jsx("br",{})}})})]})})]}):null};return g.jsxs(g.Fragment,{children:[Us(t)&&g.jsxs(g.Fragment,{children:[g.jsx(O,{children:g.jsx(m,{id:K?"BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLFrilans":"BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLSamlet"})}),g.jsx(Ee,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(Q,{size:"small",children:[g.jsx(Q.Item,{children:g.jsx(m,{id:K?"BeregningInfoPanel.InntektInputFields.ATFLSammeOrgFremgangsmate1MedIM":"BeregningInfoPanel.InntektInputFields.ATFLSammeOrgFremgangsmate1",values:{br:g.jsx("br",{})}})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.ATFLSammeOrgFremgangsmate2"})})]})}),q==null?void 0:q.map(z=>g.jsx(ct,{arbeidsgiver:z,readOnly:n,isAksjonspunktClosed:r,arbeidsgiverOpplysningerPerId:i},z.arbeidsforhold.arbeidsgiverIdent))]}),_&&g.jsxs(g.Fragment,{children:[g.jsx(j,{thirtyTwoPx:!0}),g.jsx(Rr,{name:w,readOnly:n,isAksjonspunktClosed:r,label:H()})]}),A||N?$.filter(z=>N&&!A?z.arbeidsforhold.arbeidsforholdType===Kr.ETTERLONN_SLUTTPAKKE:!0).map(z=>g.jsx(ct,{arbeidsgiver:z,readOnly:n,isAksjonspunktClosed:r,label:J(z),arbeidsgiverOpplysningerPerId:i},z.arbeidsforhold.arbeidsgiverIdent)):G==null?void 0:G.map(z=>g.jsx(ct,{arbeidsgiver:z,readOnly:n,isAksjonspunktClosed:r,label:J(z),arbeidsgiverOpplysningerPerId:i},z.arbeidsforhold.arbeidsgiverIdent)),Y&&g.jsxs(g.Fragment,{children:[(_||A)&&g.jsx(j,{thirtyTwoPx:!0}),g.jsx(Rr,{name:B,readOnly:n,isAksjonspunktClosed:r,label:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.ManedsinntektDagpenger"})})]})]})},fF=[D.VURDER_NYOPPSTARTET_FL,D.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON],pF=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForArbeid",cF=(e,n,r)=>{var t;const i=r[e.arbeidsgiverIdent];let s;return i?s=lr(i,e.eksternArbeidsforholdId):s=e.arbeidsforholdType?(t=n[ye.OPPTJENING_AKTIVITET_TYPE].find(l=>l.kode===e.arbeidsforholdType))==null?void 0:t.navn:"",g.jsx(m,{id:pF(),values:{arbeid:s}})},vF=(e,n,r,t,i,s)=>g.jsx("div",{children:g.jsx(Ae,{label:g.jsxs(g.Fragment,{children:[cF(e.arbeidsforhold,r,t),g.jsx(Ee,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(Q,{size:"small",children:[g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseArbeidsforhold.HvordanGarJegFrem1"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseArbeidsforhold.HvordanGarJegFrem2"})})]})})]}),name:`vurderFaktaBeregningForm.${i}.vurderMottarYtelseValues.${gr(e)}`,isReadOnly:n,radios:[{value:"true",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.NeiBrukerAInntekt"})}],parse:un,validate:n?[]:[W]})}),bF=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilansUtenFrilans",hF=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilans",jF=e=>e.some(n=>fF.includes(n))?bF():hF(),Ci=e=>e==null?void 0:e.includes(D.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON),Lt=({readOnly:e,beregningsgrunnlag:n,tilfeller:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i})=>{const s=L.useContext(he),l=n.faktaOmBeregning?n.faktaOmBeregning.vurderMottarYtelse:void 0,o=l&&l.erFrilans,u=l&&l.arbeidstakerAndelerUtenIM?l.arbeidstakerAndelerUtenIM:[],f=X();return g.jsxs("div",{children:[o&&!Ci(r)&&g.jsx("div",{children:g.jsx(Ae,{label:g.jsxs(g.Fragment,{children:[g.jsx(m,{id:jF(r)}),g.jsx(Ee,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(Q,{size:"small",children:[g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderMottarYtelse.Frilans.HvordanGarJegFrem1"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderMottarYtelse.Frilans.HvordanGarJegFrem2"})})]})})]}),name:`vurderFaktaBeregningForm.${s}.vurderMottarYtelseValues.${tr()}`,isReadOnly:e,radios:[{value:"true",label:f.formatMessage({id:"BeregningInfoPanel.FormAlternativ.JaMaanedsinntektMaaFastsettes"})},{value:"false",label:f.formatMessage({id:"BeregningInfoPanel.FormAlternativ.NeiBrukerAInntekt"})}],parse:un,validate:e?[]:[W]})}),u.map((k,c)=>g.jsxs(L.Fragment,{children:[c>0&&g.jsx(j,{twentyPx:!0}),vF(k,e,t,i,s,f)]},gr(k))),Ci(r)&&u.length>0&&g.jsx(j,{thirtyTwoPx:!0})]})},IF=(e,n,r,t,i,s)=>{if(n===null)return{};if(sN(e,r.vurderMottarYtelse)){const l=[],o=qk(e,r.vurderMottarYtelse,t);return r.vurderMottarYtelse.arbeidstakerAndelerUtenIM.forEach(u=>{if(o[u.andelsnr]&&!i.includes(u.andelsnr)){const f=n.find(k=>k.andelsnr===u.andelsnr).fastsattBelop;(f||f===0)&&(l.push({andelsnr:u.andelsnr,fastsattBeløp:ue(f)}),i.push(u.andelsnr))}}),l.length>0?(s.push(D.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING),{fastsattUtenInntektsmelding:{andelListe:l}}):{}}return{}},AF=(e,n,r,t,i)=>{if(n===null)return{};if(e.vurderMottarYtelseValues[tr()]){const s=r.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(l=>l.aktivitetStatus===S.FRILANSER);if(!t.includes(s.andelsnr)&&zk(e)){const l=e.frilansInntektValues;return t.push(s.andelsnr),i.push(D.FASTSETT_MAANEDSINNTEKT_FL),{fastsettMaanedsinntektFL:{maanedsinntekt:ue(l.fastsattBelop)}}}return{}}return{}},xF=(e,n,r)=>{const t=n.vurderMottarYtelse.arbeidstakerAndelerUtenIM?n.vurderMottarYtelse.arbeidstakerAndelerUtenIM:[];return r.push(D.VURDER_MOTTAR_YTELSE),{mottarYtelse:{frilansMottarYtelse:e.vurderMottarYtelseValues[tr()],arbeidstakerUtenIMMottarYtelse:t.map(i=>({andelsnr:i.andelsnr,mottarYtelse:e.vurderMottarYtelseValues[gr(i)]}))}}};Lt.buildInitialValues=(e,n)=>{const r={};(e!=null&&e.erFrilans||Ci(n))&&(r[tr()]=Ci(n)?!0:e.frilansMottarYtelse);const t=e!=null&&e.arbeidstakerAndelerUtenIM?e.arbeidstakerAndelerUtenIM:[];return t.length<1||t.forEach(i=>{r[gr(i)]=i.mottarYtelse}),r};Lt.transformValues=(e,n,r,t,i)=>{const s=[];return(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).map(l=>l).includes(D.VURDER_MOTTAR_YTELSE)?{...xF(e,r,s),...IF(e,n,r,t,i,s),...AF(e,n,t,i,s),faktaOmBeregningTilfeller:s}:{}};const yF=e=>!e.includes(D.FASTSETT_BG_KUN_YTELSE),EF=(e,n,r,t)=>g.jsx(qr,{readOnly:e,skalKunneLeggeTilDagpengerManuelt:t,beregningsgrunnlag:n,kodeverkSamling:r}),Kt=({readOnly:e,isAksjonspunktClosed:n,tilfeller:r,beregningsgrunnlag:t,avklaringsbehov:i,kodeverkSamling:s,erOverstyrer:l,updateOverstyring:o,renderTextFieldAndSubmitButton:u,arbeidsgiverOpplysningerPerId:f,vilkarsperiodeSkalVurderesIBehandlingen:k})=>{const{getValues:c}=ve(),b=L.useContext(he),v=c(`vurderFaktaBeregningForm.${b}`),I=h.useMemo(()=>bd(v),[v,t,i]),T=h.useMemo(()=>yF(r),[r]),P=()=>{const _=[],R=[];let A=!1;const{faktaOmBeregning:N}=t;return r.includes(D.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD)&&(A=!0,R.push(D.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD),_.push(g.jsx(L.Fragment,{children:g.jsx(Dt,{readOnly:e,faktaOmBeregning:N,arbeidsgiverOpplysningerPerId:f})},D.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD))),r.includes(D.VURDER_SN_NY_I_ARBEIDSLIVET)&&(A=!0,R.push(D.VURDER_SN_NY_I_ARBEIDSLIVET),_.push(g.jsx(L.Fragment,{children:g.jsx($t,{readOnly:e})},D.VURDER_SN_NY_I_ARBEIDSLIVET))),r.includes(D.VURDER_MILITÆR_SIVILTJENESTE)&&(A=!0,R.push(D.VURDER_MILITÆR_SIVILTJENESTE),_.push(g.jsx(L.Fragment,{children:g.jsx(Gt,{readOnly:e})},D.VURDER_MILITÆR_SIVILTJENESTE))),r.includes(D.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT)&&(A=!0,R.push(D.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT),_.push(g.jsx(L.Fragment,{children:g.jsx(Mt,{readOnly:e,arbeidsgiverOpplysningerPerId:f,faktaOmBeregning:N})},D.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT))),r.includes(D.VURDER_LONNSENDRING)&&(A=!0,R.push(D.VURDER_LONNSENDRING),_.push(g.jsx(L.Fragment,{children:g.jsx(Nt,{readOnly:e})},D.VURDER_LONNSENDRING))),r.includes(D.VURDER_ETTERLONN_SLUTTPAKKE)&&(A=!0,R.push(D.VURDER_ETTERLONN_SLUTTPAKKE),_.push(g.jsx(L.Fragment,{children:g.jsx(Ot,{beregningsgrunnlag:t,isAksjonspunktClosed:n,readOnly:e})},D.VURDER_ETTERLONN_SLUTTPAKKE))),r.includes(D.VURDER_NYOPPSTARTET_FL)&&(A=!0,R.push(D.VURDER_NYOPPSTARTET_FL),_.push(g.jsx(L.Fragment,{children:g.jsx(Rt,{readOnly:e})},D.VURDER_NYOPPSTARTET_FL))),r.includes(D.VURDER_BESTEBEREGNING)&&!r.includes(D.FASTSETT_BG_KUN_YTELSE)&&(A=!0,R.push(D.VURDER_BESTEBEREGNING),_.push(g.jsx(L.Fragment,{children:g.jsx(Vt,{readOnly:e,erOverstyrt:I})},D.VURDER_BESTEBEREGNING))),(r.includes(D.VURDER_MOTTAR_YTELSE)||r.includes(D.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON))&&(A=!0,R.push(D.VURDER_MOTTAR_YTELSE),_.push(g.jsx(L.Fragment,{children:g.jsx(Lt,{readOnly:e,tilfeller:r,beregningsgrunnlag:t,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:f})},D.VURDER_MOTTAR_YTELSE))),k?A?e?g.jsxs(g.Fragment,{children:[g.jsx(j,{thirtyTwoPx:!0}),_.map((F,G)=>g.jsxs(L.Fragment,{children:[G>0&&g.jsx(j,{thirtyTwoPx:!0}),F]},R[G])),g.jsx(Ig,{beregningsgrunnlag:t,isAksjonspunktClosed:n,readOnly:e,tilfeller:r,arbeidsgiverOpplysningerPerId:f,kodeverkSamling:s}),u()]}):g.jsxs(g.Fragment,{children:[g.jsx(j,{thirtyTwoPx:!0}),g.jsxs(bR,{children:[_.map((F,G)=>g.jsxs(L.Fragment,{children:[G>0&&g.jsx(j,{thirtyTwoPx:!0}),F]},R[G])),!Sn(v)&&g.jsx(Ig,{beregningsgrunnlag:t,isAksjonspunktClosed:n,readOnly:e,tilfeller:r,arbeidsgiverOpplysningerPerId:f,kodeverkSamling:s}),u()]})]}):Sn(v)?g.jsxs(g.Fragment,{children:[g.jsx(j,{thirtyTwoPx:!0}),u()]}):null:null};return g.jsxs("div",{children:[g.jsx(as,{tabell:EF(e,t,s,I),skalViseTabell:T,readOnly:e,erOverstyrer:l,avklaringsbehov:i,updateOverstyring:o,erOverstyrt:I},"inntektstabell"),P()]})};Kt.buildInitialValues=(e,n,r,t)=>{if(!e)return{};const i=e.andelerForFaktaOmBeregning;return i.length===0?{}:{[Hk]:qr.buildInitialValues(i,r,t),...as.buildInitialValues(n)}};const Yn=(e,n)=>({...e,...n,faktaOmBeregningTilfeller:n.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller.concat(n.faktaOmBeregningTilfeller):e.faktaOmBeregningTilfeller}),TF=(e,n,r,t)=>{if(Sn(e)){const i=r.filter(s=>!t.includes(s.andelsnr)).filter(s=>s.fastsattBelop!=null).map(s=>({andelsnr:s.andelsnr,nyAndel:s.nyAndel,aktivitetStatus:s.aktivitetStatus,lagtTilAvSaksbehandler:s.lagtTilAvSaksbehandler,fastsatteVerdier:{fastsattBeløp:s.fastsattBelop,inntektskategori:s.inntektskategori}}));return{fakta:n,overstyrteAndeler:i}}return{fakta:n}},_F=(e,n,r,t,i)=>{const s=t.faktaOmBeregningTilfeller?t.faktaOmBeregningTilfeller.map(o=>o):[];let l={faktaOmBeregningTilfeller:[]};if(s.length>0){l=Yn(l,uN(t)(e,n));const o=e[Kn]===!0;l=Yn(l,Rt.transformValues(e,o?null:n,t,r)),l=Yn(l,Ot.transformValues(e,o?null:n,t,r)),l=Yn(l,Nt.transformValues(e,t)),l=Yn(l,Lt.transformValues(e,o?null:n,t,i,r)),l=Yn(l,uF(o?null:n,t,r)),l=Yn(l,kF(e,o?null:n,t,i,r))}return l};Kt.transformValues=(e,n)=>r=>{const t=qr.transformValues(r[Hk],r.frilansInntektValues,r.arbeidstakerInntektValues,r.dagpengerInntektValues,r.manuellOverstyringRapportertInntekt),i=[],s=_F(r,t,i,e,n);return TF(r,s,t,i)};const{VURDER_FAKTA_FOR_ATFL_SN:PF}=Ne,Ag=e=>{var n;return((n=zn(e))==null?void 0:n.kortvarigeArbeidsforhold)||void 0},xg=e=>{var n;return((n=zn(e))==null?void 0:n.kunYtelse)||void 0},yg=e=>{var n;return((n=zn(e))==null?void 0:n.vurderMottarYtelse)||void 0},SF=e=>{var n;return((n=zn(e))==null?void 0:n.vurderBesteberegning)||void 0},NF=e=>{var n;return((n=zn(e))==null?void 0:n.refusjonskravSomKommerForSentListe)||[]},RF=e=>e?g.jsx(j,{twentyPx:!0}):null,FF=(e,n,r,t,i,s,l,o,u,f)=>{const{avklaringsbehov:k}=r,c=hd(r),b=zn(r),v=[];return mR(v,c,e,n,b,t,u),v.push(g.jsxs(L.Fragment,{children:[RF(!0),g.jsx(Kt,{readOnly:e,isAksjonspunktClosed:n,tilfeller:c,beregningsgrunnlag:r,kodeverkSamling:t,erOverstyrer:i,avklaringsbehov:k,updateOverstyring:l,renderTextFieldAndSubmitButton:u,arbeidsgiverOpplysningerPerId:s,vilkarsperiodeSkalVurderesIBehandlingen:f})]},"VurderOgFastsettATFL")),v},BF=({readOnly:e,isAksjonspunktClosed:n,beregningsgrunnlag:r,kodeverkSamling:t,erOverstyrer:i,arbeidsgiverOpplysningerPerId:s,updateOverstyring:l,renderTextFieldAndSubmitButton:o,vilkarsperiodeSkalVurderesIBehandlingen:u})=>{const{avklaringsbehov:f}=r,{getValues:k}=ve(),c=L.useContext(he),b=k(`vurderFaktaBeregningForm.${c}`),v=h.useMemo(()=>bd(b),[b,r,f]);return g.jsx("div",{children:FF(e,n,r,t,i,s,l,v,o,u).map(I=>I)})},OF=(e,n)=>r=>kR(r,e.kunYtelse,n),VF=(e,n)=>(e.faktaOmBeregningTilfeller.push(D.VURDER_SN_NY_I_ARBEIDSLIVET),{...e,...$t.transformValues(n)}),$F=e=>(n,r)=>(n.faktaOmBeregningTilfeller.push(D.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD),{...n,...Dt.transformValues(r,e)}),DF=(e,n)=>(e.faktaOmBeregningTilfeller.push(D.VURDER_MILITÆR_SIVILTJENESTE),{...e,...Gt.transformValues(n)}),GF=e=>(n,r)=>(n.faktaOmBeregningTilfeller.push(D.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT),{...n,...Mt.transformValues(e.refusjonskravSomKommerForSentListe)(r)}),MF=(e,n,r,t,i)=>(s,l)=>{let o={...s};return e.forEach(u=>{u===D.VURDER_SN_NY_I_ARBEIDSLIVET&&(o=n(o,l)),u===D.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD&&(o=r(o,l)),u===D.VURDER_MILITÆR_SIVILTJENESTE&&(o=t(o,l)),u===D.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT&&(o=i(o,l))}),o},LF=(e,n,r)=>t=>e.includes(D.FASTSETT_BG_KUN_YTELSE)?{fakta:n(t)}:{...r(t)},KF=(e,n,r,t,i)=>{const s=LF(e,OF(t,e),Kt.transformValues(t,i))(n);return{fakta:MF(e,VF,$F(r),DF,GF(t))(s.fakta,n),overstyrteAndeler:s.overstyrteAndeler}},wF=e=>{const{tilfeller:n,kortvarigeArbeidsforhold:r,faktaOmBeregning:t,beregningsgrunnlag:i}=e;return KF(n,e,r,t,i)},CF=e=>e?e.find(n=>n.definisjon===PF):void 0,UF=(e,n,r)=>{const t=hd(e),i=zn(e);return{beregningsgrunnlag:e,tilfeller:t,faktaOmBeregning:i,kortvarigeArbeidsforhold:Ag(e),vurderMottarYtelse:yg(e),kunYtelse:xg(e),tidsbegrensetValues:Dt.buildInitialValues(Ag(e)),vurderMottarYtelseValues:Lt.buildInitialValues(yg(e),t),arbeidstakerInntektValues:ct.buildInitialValues(e.faktaOmBeregning.andelerForFaktaOmBeregning),frilansInntektValues:Rr.buildInitialValues(e.faktaOmBeregning.andelerForFaktaOmBeregning,S.FRILANSER),dagpengerInntektValues:Rr.buildInitialValues(e.faktaOmBeregning.andelerForFaktaOmBeregning,S.DAGPENGER),vurderRefusjonValues:Mt.buildInitialValues(t,NF(e)),...Gt.buildInitialValues(i),...$t.buildInitialValues(e),...Nt.buildInitialValues(e),...Rt.buildInitialValues(e),...Ot.buildInitialValues(e,CF(e.avklaringsbehov)),...Vt.buildInitialValues(e.avklaringsbehov,SF(e),t,fg(e)),...Kt.buildInitialValues(i,fg(e),r,n),...fR(xg(e),t,i.andelerForFaktaOmBeregning,r,n)}},{VURDER_FAKTA_FOR_ATFL_SN:Wa,OVERSTYRING_AV_BEREGNINGSGRUNNLAG:Za}=Ne,Ui=(e,n)=>n.some(r=>r.definisjon===e&&r.kanLoses),zF=(e,n)=>e||Ui(Wa,n),Eg=(e,n)=>{const r=e[Fr];if(n&&!r&&Ui(Za,e.avklaringsbehov||[]))return{periode:e.periode,avbrutt:!0,begrunnelse:void 0};if(!zF(!!r,e.avklaringsbehov||[]))throw new Error("Feil: Kjører submit uten aksjonspunkt og uten overstyringsrolle");return{...wF(e),begrunnelse:e.begrunnelseFaktaTilfeller,periode:e.periode}},qF=(e,n=!0)=>{const r=e[vn],t=r.filter(l=>l.erTilVurdering).filter(l=>l[Fr]||Ui(Za,l.avklaringsbehov||[])).map(l=>Eg(l,!0)).filter(l=>l),i=r.filter(l=>l.erTilVurdering).filter(l=>(!l[Fr]||n)&&Ui(Wa,l.avklaringsbehov||[])).map(l=>Eg(l,!1)).filter(l=>l),s=[];if(t.length>0){const l=t.filter(({begrunnelse:u})=>u!==null).map(({begrunnelse:u})=>u).reduce((u,f)=>u===""?f:`${u} ${f}`,""),o={kode:Za,begrunnelse:l!==""?l:null,grunnlag:t};s.push(o)}if(i.length>0){const l=i.map(({begrunnelse:u})=>u).reduce((u,f)=>u===""?f:`${u} ${f}`,""),o={kode:Wa,begrunnelse:l,grunnlag:i};s.push(o)}return s},{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:rf,VURDER_FAKTA_FOR_ATFL_SN:Xa}=Ne,tf="begrunnelseFaktaTilfeller",HF=(e,n,r)=>e&&n&&!r,YF=(e,n)=>Qn(Xa,n)||Qn(rf,n)?!e:!0,Tg=(e,n)=>{const r=n(`${vn}.${e}`);return bd(r)},_g=(e,n)=>{var r,t;return!!((t=(r=n.vurderFaktaBeregningForm)==null?void 0:r[e])!=null&&t.begrunnelseFaktaTilfeller)},JF=({beregningsgrunnlag:e,erOverstyrer:n,readOnly:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,submittable:s,updateOverstyring:l,vilkarsperiode:o,verdiForAvklarAktivitetErEndret:u,submitDisabled:f})=>{const{getValues:k,formState:{errors:c,isDirty:b}}=ve(),v=L.useContext(Qm),I=L.useContext(ek),T=L.useContext(he),P=T===I;L.useEffect(()=>{v(c)},[JSON.stringify(c)]);const{avklaringsbehov:_}=e,R=o.vurderesIBehandlingen,A=()=>g.jsxs(g.Fragment,{children:[g.jsx(j,{thirtyTwoPx:!0}),(Qn(Xa,_)||Qn(rf,_)||Tg(T,k))&&g.jsxs(g.Fragment,{children:[(Qn(Xa,_)||Tg(T,k))&&g.jsx(ar,{name:`${vn}.${T}.${tf}`,isSubmittable:s,isReadOnly:r||!R,hasBegrunnelse:id(_)!==void 0}),g.jsx(j,{twentyPx:!0}),g.jsx(Hm,{isDisabled:!!u,isSubmittable:HF(s&&YF(u,_)&&!Ha(_),!0,_g(T,c)),isReadOnly:r||!R,isDirty:b,isSubmitting:f,hasEmptyRequiredFields:_g(T,c)})]})]});return g.jsx("div",{style:{display:P?"block":"none"},children:g.jsx(BF,{readOnly:r||!R,isAksjonspunktClosed:Ha(_),beregningsgrunnlag:e,kodeverkSamling:t,erOverstyrer:n,arbeidsgiverOpplysningerPerId:i,updateOverstyring:l,renderTextFieldAndSubmitButton:()=>A(),vilkarsperiodeSkalVurderesIBehandlingen:R})},T)},{VURDER_FAKTA_FOR_ATFL_SN:sf,AVKLAR_AKTIVITETER:WF,OVERSTYRING_AV_BEREGNINGSGRUNNLAG:zi,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:ZF}=Ne,XF=e=>e.some(n=>n.definisjon===zi)?e.find(n=>n.definisjon===zi&&n.begrunnelse!==null):e.find(n=>n.definisjon===sf&&n.begrunnelse!==null),Pg=(e,n)=>n.some(r=>r.definisjon===e&&gn(r.status)),QF=(e,n,r,t)=>({[vn]:e.map(i=>{var s;const l=t.perioder.find(o=>o.periode.fom===i.vilkårsperiodeFom);if(!l)throw new Error(`Finner ikke vilkårsperiode med fom ${i.vilkårsperiodeFom}`);return{avklaringsbehov:i.avklaringsbehov,erTilVurdering:l.vurderesIBehandlingen&&!l.erForlengelse,periode:l.periode,...ar.buildInitialValues((s=XF(i.avklaringsbehov))==null?void 0:s.begrunnelse,tf),...UF(i,n,r)}})}),eB=[sf,zi],nB=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.vilkårsperiodeFom);return(r==null?void 0:r.erForlengelse)===!0},rB=({beregningsgrunnlag:e,submittable:n,readOnly:r,kodeverkSamling:t,erOverstyrer:i,arbeidsgiverOpplysningerPerId:s,aktivtBeregningsgrunnlagIndeks:l,submitCallback:o,setFormData:u,formData:f,vilkar:k,avklarAktiviteterErEndret:c,skalKunneAvbryteOverstyring:b})=>{const v=c,I=e.flatMap(H=>H.avklaringsbehov),T=He({defaultValues:f||QF(e,t,s,k)}),{control:P,formState:_,trigger:R,getValues:A,watch:N}=T,{fields:F,update:G}=Qe({name:vn,control:P}),{errors:$,isSubmitted:q}=_,[Y,w]=h.useState(!1),B=N(vn);h.useEffect(()=>{q&&R()},[JSON.stringify(B)]);const K=(H,z)=>{const oe=A(`${vn}.${H}`);G(H,{...oe,[Fr]:z})},J=H=>{Object.keys($).length===0?(w(!0),o(qF(H,b))):console.error($)};return Pg(WF,I)||Pg(ZF,I)?null:g.jsx(ek.Provider,{value:l,children:g.jsx(Ye,{formMethods:T,onSubmit:H=>{J(H)},setDataOnUnmount:u,children:F.map((H,z)=>{const oe=Le=>eB.some(fe=>fe===Le.definisjon),je=Le=>Le.kanLoses,Fe=I.filter(Le=>oe(Le)&&je(Le)),Be=r||nB(e[z],k.perioder)||We(zi,I)&&!i||Fe.length===0&&!i,On=k.perioder.find(Le=>Le.periode.fom===e[z].vilkårsperiodeFom);if(!On)throw new Error(`Filler ikke vilkårsperiode med fom ${e[z].vilkårsperiodeFom}`);return g.jsx(he.Provider,{value:z,children:g.jsx(JF,{vilkarsperiode:On,beregningsgrunnlag:e[z],erOverstyrer:i,readOnly:Be,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:s,submittable:n,updateOverstyring:K,submitDisabled:Y,verdiForAvklarAktivitetErEndret:v},H.id)},H.id)})})})},{VURDER_FAKTA_FOR_ATFL_SN:tB,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:af,AVKLAR_AKTIVITETER:iB}=Ne,sB=[af,iB],aB=({readOnly:e,avklaringsbehov:n,submittable:r,submitCallback:t,aktivtBeregningsgrunnlagIndeks:i,beregningsgrunnlag:s,erOverstyrer:l,skalKunneOverstyreAktiviteter:o,kodeverkSamling:u,arbeidsgiverOpplysningerPerId:f,setFormData:k,formData:c,vilkar:b,skalKunneAvbryteOverstyring:v})=>{const I=n.filter(R=>sB.some(A=>A===R.definisjon)&&R.kanLoses),T=e||(I.length===0||We(af,n))&&!l,[P,_]=h.useState(!1);return g.jsxs("div",{children:[g.jsx(eE,{readOnly:T,harAndreAvklaringsbehovIPanel:We(tB,n),submitCallback:t,submittable:r,erOverstyrer:l&&o,kodeverkSamling:u,aktivtBeregningsgrunnlagIndeks:i,beregningsgrunnlag:s,arbeidsgiverOpplysningerPerId:f,setFormData:k,formData:c&&ht in c?c:void 0,vilkår:b,setAvklarAktiviteterErEndret:_}),g.jsx(j,{thirtyTwoPx:!0}),g.jsx(rB,{submitCallback:t,submittable:r,kodeverkSamling:u,beregningsgrunnlag:s,erOverstyrer:l,readOnly:e,arbeidsgiverOpplysningerPerId:f,aktivtBeregningsgrunnlagIndeks:i,setFormData:k,formData:c&&vn in c?c:void 0,vilkar:b,avklarAktiviteterErEndret:P,skalKunneAvbryteOverstyring:v})]})},lB=Pe(rd),{VURDER_FAKTA_FOR_ATFL_SN:lf,AVKLAR_AKTIVITETER:dB,OVERSTYRING_AV_BEREGNINGSGRUNNLAG:oB}=Ne,gB=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.vilkårsperiodeFom);return(r==null?void 0:r.erForlengelse)===!0},uB=(e,n)=>{const r=e.vilkårsperiodeFom,t=n.find(({periode:i})=>i.fom===r);if(t){const{fom:i,tom:s}=t.periode;return s!==null?`${y(i).format(ee)} - ${y(s).format(ee)}`:`${y(i).format(ee)} - `}return`${y(r).format(ee)}`},mB=e=>{if(e){const n=e.some(t=>t.definisjon===lf&&t.kanLoses),r=e.some(t=>t.definisjon===dB&&t.kanLoses);return n||r}return!1},zs=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.skjaeringstidspunktBeregning);return mB(e.avklaringsbehov)&&(r==null?void 0:r.vurderesIBehandlingen)&&!r.erForlengelse},kB=(e,n)=>{var r,t,i,s,l;const o=hd(e),u=(t=(r=e==null?void 0:e.faktaOmBeregning)==null?void 0:r.vurderMottarYtelse)==null?void 0:t.erFrilans,f=[],k=[];if(o.includes(D.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON)){const c=(s=(i=e==null?void 0:e.faktaOmBeregning)==null?void 0:i.arbeidstakerOgFrilanserISammeOrganisasjonListe)==null?void 0:s.some(b=>!!b.inntektPrMnd);k.push(D.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON),f.push(g.jsx(Ie,{size:"small",variant:"warning",children:g.jsx(m,{id:c?"BeregningInfoPanel.VurderFaktaBeregningField.ATFLSammeOrg":"BeregningInfoPanel.VurderFaktaBeregningField.ATFLSammeOrgUtenIM",values:{h3:(...b)=>g.jsx(re,{size:"xsmall",level:"3",children:b})}})}))}if(o.includes(D.VURDER_LONNSENDRING)&&(k.push(D.VURDER_LONNSENDRING),f.push(g.jsx(Ie,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderLonnsendringHelpText",values:{h3:(...c)=>g.jsx(re,{size:"xsmall",level:"3",children:c})}})}))),u&&o.includes(D.VURDER_MOTTAR_YTELSE)&&(k.push(`${D.VURDER_MOTTAR_YTELSE}_frilans`),f.push(g.jsx(Ie,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderMottarYtelseHelpTextFrilans",values:{h3:(...c)=>g.jsx(re,{size:"xsmall",level:"3",children:c})}})}))),!u&&o.includes(D.VURDER_MOTTAR_YTELSE)&&(k.push(`${D.VURDER_MOTTAR_YTELSE}_arbeidstaker`),f.push(g.jsx(Ie,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderMottarYtelseHelpTextArbeidstaker",values:{h3:(...c)=>g.jsx(re,{size:"xsmall",level:"3",children:c})}})}))),o.includes(D.VURDER_ETTERLONN_SLUTTPAKKE)&&(k.push(D.VURDER_ETTERLONN_SLUTTPAKKE),f.push(g.jsx(Ie,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderEtterlonnSluttpakkeHelpText",values:{h3:(...c)=>g.jsx(re,{size:"xsmall",level:"3",children:c})}})}))),o.includes(D.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD)&&(k.push(D.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD),f.push(g.jsx(Ie,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.TidsbegrensetArbeidsforholdHelpText",values:{h3:(...c)=>g.jsx(re,{size:"xsmall",level:"3",children:c})}})}))),o.includes(D.VURDER_MILITÆR_SIVILTJENESTE)&&(k.push(D.VURDER_MILITÆR_SIVILTJENESTE),f.push(g.jsx(Ie,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderMilitaerSiviltjenesteHelpText",values:{h3:(...c)=>g.jsx(re,{size:"xsmall",level:"3",children:c})}})}))),o.includes(D.FASTSETT_BG_KUN_YTELSE)&&(k.push(D.FASTSETT_BG_KUN_YTELSE),f.push(g.jsxs(Ie,{size:"small",variant:"warning",children:[g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelseHelpText",values:{h3:(...c)=>g.jsx(re,{size:"xsmall",level:"3",children:c})}}),g.jsx(j,{fourPx:!0}),g.jsx(Ee,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFremForFastsetteManedsinntekt"}),children:g.jsxs(Q,{size:"small",children:[g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt1"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt2"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt3"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt4"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt5"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt6"})})]})}),g.jsx(j,{fourPx:!0}),g.jsx(Ee,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvaBetyrInntektskategori"}),children:g.jsxs(Q,{size:"small",children:[g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvaBetyrInntektskategori1"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvaBetyrInntektskategori2"})}),g.jsx(Q.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvaBetyrInntektskategori3"})})]})})]}))),o.includes(D.VURDER_NYOPPSTARTET_FL)&&(k.push(D.VURDER_NYOPPSTARTET_FL),f.push(g.jsx(Ie,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderNyoppstartetFLHelpText",values:{h3:(...c)=>g.jsx(re,{size:"xsmall",level:"3",children:c})}})}))),o.includes(D.VURDER_SN_NY_I_ARBEIDSLIVET)&&(k.push(D.VURDER_SN_NY_I_ARBEIDSLIVET),f.push(g.jsx(Ie,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderSNNyIArbeidslivetHelpText",values:{h3:(...c)=>g.jsx(re,{size:"xsmall",level:"3",children:c})}})}))),o.includes(D.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT)){const c=(l=e==null?void 0:e.faktaOmBeregning)==null?void 0:l.refusjonskravSomKommerForSentListe;let b="";c.forEach((v,I)=>{const{arbeidsgiverIdent:T}=v,P=n[T],_=P?lr(P):T;I===0?b=_:b=`${b}, ${_}`}),k.push(D.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT),f.push(g.jsx(Ie,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderRefusjonskravKommetForSentHelpText",values:{arbeidsgiverVisningsnavn:b,h3:(...v)=>g.jsx(re,{size:"xsmall",level:"3",children:v})}})}))}return f.length>0?g.jsx(g.Fragment,{children:f.map((c,b)=>g.jsxs(L.Fragment,{children:[b>0&&g.jsx(j,{sixteenPx:!0}),c]},k[b]))}):g.jsx(Ie,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning"},"VurderFaktaForBeregningen")})},fB=({beregningsgrunnlag:e=[],kodeverkSamling:n,submitCallback:r,readOnly:t,submittable:i,erOverstyrer:s,skalKunneOverstyreAktiviteter:l=!0,arbeidsgiverOpplysningerPerId:o,formData:u,setFormData:f,vilkar:k,skalKunneAvbryteOverstyring:c=!1})=>{const[b,v]=h.useState(0),[,I]=h.useState(void 0),T=k==null?void 0:k.perioder;if(h.useEffect(()=>{if(T){const A=e==null?void 0:e.findIndex(N=>zs(N,T));A>-1&&v(A)}},[]),e.length===0||!k)return g.jsx(g.Fragment,{children:"Har ikke beregningsgrunnlag."});const P=e.length>1,_=e[b],R=_.avklaringsbehov;return g.jsx(qe,{value:lB,children:g.jsxs("div",{className:Fo.main,children:[g.jsx(re,{size:"small",level:"2",children:g.jsx(m,{id:"BeregningInfoPanel.AksjonspunktHelpText.SaksopplysningerBeregning"})}),(Qn(lf,R)||Qn(oB,R))&&!Ha(R)?g.jsxs(g.Fragment,{children:[g.jsx(j,{sixteenPx:!0}),kB(_,o),g.jsx(j,{twentyPx:!0})]}):g.jsx(j,{eightPx:!0}),P&&g.jsx("div",{className:Fo.tabsContainer,children:g.jsx(Er,{value:b.toString(),onChange:A=>v(Number(A)),children:g.jsx(Er.List,{children:e.map((A,N)=>g.jsx(Er.Tab,{value:N.toString(),label:uB(A,T),className:zs(A,T)?"harAksjonspunkt":"",icon:zs(A,T)&&g.jsx(Gr,{width:20,height:20,color:"Orange"})},A.skjaeringstidspunktBeregning))})})}),g.jsx(Qm.Provider,{value:I,children:g.jsx(aB,{aktivtBeregningsgrunnlagIndeks:b,beregningsgrunnlag:e,kodeverkSamling:n,avklaringsbehov:R,submitCallback:r,readOnly:t||gB(e[b],T),submittable:i,erOverstyrer:s,skalKunneOverstyreAktiviteter:l,arbeidsgiverOpplysningerPerId:o,setFormData:f,formData:u,vilkar:k,skalKunneAvbryteOverstyring:c})})]})})};var mt=(e=>(e.AVKLAR_AKTIVITETER="AVKLAR_AKTIVITETER",e.VURDER_FAKTA_FOR_ATFL_SN="VURDER_FAKTA_ATFL_SN",e.OVERSTYRING_AV_BEREGNINGSAKTIVITETER="OVST_BEREGNINGSAKTIVITETER",e.OVERSTYRING_AV_BEREGNINGSGRUNNLAG="OVST_INNTEKT",e))(mt||{}),li=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},it={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg;function pB(){if(Sg)return it;Sg=1;var e=L,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(o,u,f){var k,c={},b=null,v=null;f!==void 0&&(b=""+f),u.key!==void 0&&(b=""+u.key),u.ref!==void 0&&(v=u.ref);for(k in u)t.call(u,k)&&!s.hasOwnProperty(k)&&(c[k]=u[k]);if(o&&o.defaultProps)for(k in u=o.defaultProps,u)c[k]===void 0&&(c[k]=u[k]);return{$$typeof:n,type:o,key:b,ref:v,props:c,_owner:i.current}}return it.Fragment=r,it.jsx=l,it.jsxs=l,it}pB();const Ed={"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning":"Vurder fakta for beregningen","BeregningInfoPanel.TidsbegrensetArbFor.Arbeidsforhold":"Er arbeidsforholdet i {navn} med varighet {fom} - {tom} tidsbegrenset?","BeregningInfoPanel.FormAlternativ.Ja":"Ja","BeregningInfoPanel.FormAlternativ.Nei":"Nei","BeregningInfoPanel.NyIArbeidslivet.SelvstendigNaeringsdrivende":"Søker er selvstendig næringsdrivende. Ble søker yrkesaktiv i løpet av de siste tre årene?","AvklarAktivitetPanel.Overskrift":"Aktiviteter i beregningsgrunnlaget","AvklarAktivitetPanel.ButtonText":"Oppdater","AvklarAktivitetPanel.OverstyrText":"Overstyr","AvklareAktiviteter.Avbryt":"Avbryt","VurderAktiviteterTabell.FullAAPKombinert.Overskrift":"Søker har full AAP (200%) sammen med andre aktiviteter. Skjæringstidspunkt for beregning {skjaeringstidspunkt}","VurderAktiviteterTabell.VentelonnVartpenger.Overskrift":"Søker har ventelønn eller vartpenger som siste aktivitet. Skjæringstidspunkt for beregning {skjaeringstidspunkt}","VurderAktiviteterTabell.Overstyrt.Overskrift":"Skjæringstidspunkt for beregning {skjaeringstidspunkt}","BeregningInfoPanel.VurderOgFastsettATFL.ErSokerNyoppstartetFL":"Startet søker som frilanser i løpet av de siste tre månedene?","BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrgUtenIM":"Søker er arbeidstaker og frilanser i samme virksomhet og det er ikke mottatt inntektsmelding(er).","BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrg":"Søker er arbeidstaker og frilanser i samme virksomhet.","BeregningInfoPanel.VurderOgFastsettATFL.FastsettFrilans":"Fastsett frilansinntekt","BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLAlleOppdrag":"Fastsett arbeidsinntekt og samlet frilansinntekt for alle oppdrag.","BeregningInfoPanel.VurderOgFastsettATFL.FastsettArbeidsinntekt":"Fastsett arbeidsinntekt","BeregningInfoPanel.VurderOgFastsettATFL.HarSokerEndring":"Har søker hatt lønnsendring i løpet av de siste tre månedene?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilansUtenFrilans":"Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for frilansaktiviteten?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilans":"Søker er frilanser. Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for frilansaktiviteten?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForArbeid":"Søker er arbeidstaker og det er ikke mottatt inntektsmelding. Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for arbeid i {arbeid}?","BeregningInfoPanel.VurderBestebergning.HarBesteberegning":"Søker har hatt dagpenger i opptjeningsperioden. Skal dette fordeles etter besteberegning?","InntektstabellPanel.Avbryt":"Avbryt overstyring","BeregningInfoPanel.FordelingBG.LeggTilAndel":"Legg til aktivitet","BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet":"Finn regneark på navet","BeregningInfoPanel.FordelingBG.Sum":"Sum","BeregningInfoPanel.FordelingBG.Andel":"Aktivitet","BeregningInfoPanel.FordelingBG.Arbeidsperiode":"Arbeidsperiode","BeregningInfoPanel.FordelingBG.Refusjonskrav":"Refusjonskrav","BeregningInfoPanel.FordelingBG.Fordeling":"Månedsinntekt","BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn":"Månedsinntekt for {andel}","BeregningInfoPanel.FordelingBG.InntektskategoriMedAndelnavn":"Inntektskategori for {andel}","BeregningInfoPanel.FordelingBG.Inntektskategori":"Inntektskategori","BeregningInfoPanel.FordelingBG.LeggTilDagpengerAndel":"Legg til dagpenger","BeregningInfoPanel.FordelingBG.FjernDagpenger":"Fjern dagpenger","BeregningInfoPanel.FordelingBG.Ytelse":"Ytelse","BeregningInfoPanel.FordelingBG.FjernAndel":"Fjern aktivitet","AvklareAktiviteter.OverstyrerAktivitetAdvarsel":"Overstyr hvilke aktiviteter og eventuelle inntektsmeldinger som skal benyttes i beregning.","VurderAktiviteterTabell.Header.Aktivitet":"Aktivitet","VurderAktiviteterTabell.Header.Periode":"Periode","VurderAktiviteterTabell.Header.Benytt":"Benytt","VurderAktiviteterTabell.Header.IkkeBenytt":"Ikke benytt","VurderAktiviteterTabell.Validation.MåHaMinstEnAktivitet":"Må ha minst én aktivitet for å kunne fastsette beregningsgrunnlag","BeregningInfoPanel.AksjonspunktHelpText.VurderAktiviteter":"Vurder hvilke aktiviteter som skal benyttes i beregningsgrunnlaget.","BeregningInfoPanel.KunstigArbeidsforhold.FastsettKunstigArbeidsforhold":"Det finnes ikke registerdata for arbeidsforholdet og det er ikke mottatt inntektsmelding. Fastsett månedsinntekt for arbeidsforholdet","KunYtelsePanel.Overskrift":"Søker har ytelse som eneste inntekt. Fastsett månedsbeløp for fordeling av beregningsgrunnlaget.","KunYtelsePanel.HarBesteberegning":"Søker har ytelse som eneste inntekt. Skal denne fordeles etter besteberegning?","KunYtelsePanel.OverskriftBesteberegning":"Fastsett månedsbeløp for brutto beregningsgrunnlag etter besteberegning","BeregningInfoPanel.FordelBG.Validation.UlikeAndeler":"Andeler for samme aktivitet må ha ulik inntektskategori","InntektstabellPanel.RapporterteInntekter":"Rapporterte inntekter","BeregningInfoPanel.EtterlønnSluttpakke.HarSøkerInntekt":"Har søker etterlønn eller sluttpakke?","BeregningInfoPanel.VurderMilitaer.HarSøkerMilitærinntekt":"Har søker vært i militær- eller sivilforsvarstjeneste i opptjeningsperioden?","VurderRefusjonForm.ErRefusjonskravGyldig":"{arbeidsgiverVisningsnavn} har minst ett refusjonskrav som har kommet for sent. Skal refusjonskrav som ikke har kommet innen fristen tas med i beregning?","BeregningInfoPanel.Validation.MinstEnFastsatt":"Må ha overstyrt inntekt for minst én aktivitet.","FaktaBegrunnelseTextField.BegrunnEndringene":"Begrunn endringene","SubmitButton.ConfirmInformation":"Bekreft og fortsett"};Pe(Ed);Pe(Ed);L.createContext(null);L.createContext(0);L.createContext(0);var st=function(e){return e&&e.Math===Math&&e},kn=st(typeof globalThis=="object"&&globalThis)||st(typeof window=="object"&&window)||st(typeof self=="object"&&self)||st(typeof li=="object"&&li)||st(typeof li=="object"&&li)||function(){return this}()||Function("return this")(),Td={},Bn=function(e){try{return!!e()}catch{return!0}},cB=Bn,qn=!cB(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),vB=Bn,_d=!vB(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),bB=_d,di=Function.prototype.call,Pd=bB?di.bind(di):function(){return di.apply(di,arguments)},df={},of={}.propertyIsEnumerable,gf=Object.getOwnPropertyDescriptor,hB=gf&&!of.call({1:2},1);df.f=hB?function(e){var n=gf(this,e);return!!n&&n.enumerable}:of;var uf=function(e,n){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:n}},mf=_d,kf=Function.prototype,Qa=kf.call,jB=mf&&kf.bind.bind(Qa,Qa),tn=mf?jB:function(e){return function(){return Qa.apply(e,arguments)}},ff=tn,IB=ff({}.toString),AB=ff("".slice),ks=function(e){return AB(IB(e),8,-1)},xB=tn,yB=Bn,EB=ks,qs=Object,TB=xB("".split),_B=yB(function(){return!qs("z").propertyIsEnumerable(0)})?function(e){return EB(e)==="String"?TB(e,""):qs(e)}:qs,pf=function(e){return e==null},PB=pf,SB=TypeError,cf=function(e){if(PB(e))throw new SB("Can't call method on "+e);return e},NB=_B,RB=cf,fs=function(e){return NB(RB(e))},Hs=typeof document=="object"&&document.all,sn=typeof Hs>"u"&&Hs!==void 0?function(e){return typeof e=="function"||e===Hs}:function(e){return typeof e=="function"},FB=sn,Hr=function(e){return typeof e=="object"?e!==null:FB(e)},Ys=kn,BB=sn,OB=function(e){return BB(e)?e:void 0},ps=function(e,n){return arguments.length<2?OB(Ys[e]):Ys[e]&&Ys[e][n]},VB=tn,$B=VB({}.isPrototypeOf),DB=typeof navigator<"u"&&String(navigator.userAgent)||"",vf=kn,Js=DB,Ng=vf.process,Rg=vf.Deno,Fg=Ng&&Ng.versions||Rg&&Rg.version,Bg=Fg&&Fg.v8,dn,qi;Bg&&(dn=Bg.split("."),qi=dn[0]>0&&dn[0]<4?1:+(dn[0]+dn[1]));!qi&&Js&&(dn=Js.match(/Edge\/(\d+)/),(!dn||dn[1]>=74)&&(dn=Js.match(/Chrome\/(\d+)/),dn&&(qi=+dn[1])));var GB=qi,Og=GB,MB=Bn,LB=kn,KB=LB.String,bf=!!Object.getOwnPropertySymbols&&!MB(function(){var e=Symbol("symbol detection");return!KB(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Og&&Og<41}),wB=bf,hf=wB&&!Symbol.sham&&typeof Symbol.iterator=="symbol",CB=ps,UB=sn,zB=$B,qB=hf,HB=Object,jf=qB?function(e){return typeof e=="symbol"}:function(e){var n=CB("Symbol");return UB(n)&&zB(n.prototype,HB(e))},YB=String,JB=function(e){try{return YB(e)}catch{return"Object"}},WB=sn,ZB=JB,XB=TypeError,Sd=function(e){if(WB(e))return e;throw new XB(ZB(e)+" is not a function")},QB=Sd,eO=pf,nO=function(e,n){var r=e[n];return eO(r)?void 0:QB(r)},Ws=Pd,Zs=sn,Xs=Hr,rO=TypeError,tO=function(e,n){var r,t;if(n==="string"&&Zs(r=e.toString)&&!Xs(t=Ws(r,e))||Zs(r=e.valueOf)&&!Xs(t=Ws(r,e))||n!=="string"&&Zs(r=e.toString)&&!Xs(t=Ws(r,e)))return t;throw new rO("Can't convert object to primitive value")},If={exports:{}},Vg=kn,iO=Object.defineProperty,Nd=function(e,n){try{iO(Vg,e,{value:n,configurable:!0,writable:!0})}catch{Vg[e]=n}return n},sO=kn,aO=Nd,$g="__core-js_shared__",lO=sO[$g]||aO($g,{}),Rd=lO,Dg=Rd;(If.exports=function(e,n){return Dg[e]||(Dg[e]=n!==void 0?n:{})})("versions",[]).push({version:"3.35.1",mode:"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Af=If.exports,dO=cf,oO=Object,xf=function(e){return oO(dO(e))},gO=tn,uO=xf,mO=gO({}.hasOwnProperty),mr=Object.hasOwn||function(e,n){return mO(uO(e),n)},kO=tn,fO=0,pO=Math.random(),cO=kO(1 .toString),yf=function(e){return"Symbol("+(e===void 0?"":e)+")_"+cO(++fO+pO,36)},vO=kn,bO=Af,Gg=mr,hO=yf,jO=bf,IO=hf,xr=vO.Symbol,Qs=bO("wks"),AO=IO?xr.for||xr:xr&&xr.withoutSetter||hO,wt=function(e){return Gg(Qs,e)||(Qs[e]=jO&&Gg(xr,e)?xr[e]:AO("Symbol."+e)),Qs[e]},xO=Pd,Mg=Hr,Lg=jf,yO=nO,EO=tO,TO=wt,_O=TypeError,PO=TO("toPrimitive"),SO=function(e,n){if(!Mg(e)||Lg(e))return e;var r=yO(e,PO),t;if(r){if(n===void 0&&(n="default"),t=xO(r,e,n),!Mg(t)||Lg(t))return t;throw new _O("Can't convert object to primitive value")}return n===void 0&&(n="number"),EO(e,n)},NO=SO,RO=jf,Ef=function(e){var n=NO(e,"string");return RO(n)?n:n+""},FO=kn,Kg=Hr,el=FO.document,BO=Kg(el)&&Kg(el.createElement),Tf=function(e){return BO?el.createElement(e):{}},OO=qn,VO=Bn,$O=Tf,_f=!OO&&!VO(function(){return Object.defineProperty($O("div"),"a",{get:function(){return 7}}).a!==7}),DO=qn,GO=Pd,MO=df,LO=uf,KO=fs,wO=Ef,CO=mr,UO=_f,wg=Object.getOwnPropertyDescriptor;Td.f=DO?wg:function(e,n){if(e=KO(e),n=wO(n),UO)try{return wg(e,n)}catch{}if(CO(e,n))return LO(!GO(MO.f,e,n),e[n])};var Yr={},zO=qn,qO=Bn,Pf=zO&&qO(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),HO=Hr,YO=String,JO=TypeError,cs=function(e){if(HO(e))return e;throw new JO(YO(e)+" is not an object")},WO=qn,ZO=_f,XO=Pf,oi=cs,Cg=Ef,QO=TypeError,ea=Object.defineProperty,e0=Object.getOwnPropertyDescriptor,na="enumerable",ra="configurable",ta="writable";Yr.f=WO?XO?function(e,n,r){if(oi(e),n=Cg(n),oi(r),typeof e=="function"&&n==="prototype"&&"value"in r&&ta in r&&!r[ta]){var t=e0(e,n);t&&t[ta]&&(e[n]=r.value,r={configurable:ra in r?r[ra]:t[ra],enumerable:na in r?r[na]:t[na],writable:!1})}return ea(e,n,r)}:ea:function(e,n,r){if(oi(e),n=Cg(n),oi(r),ZO)try{return ea(e,n,r)}catch{}if("get"in r||"set"in r)throw new QO("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var n0=qn,r0=Yr,t0=uf,Sf=n0?function(e,n,r){return r0.f(e,n,t0(1,r))}:function(e,n,r){return e[n]=r,e},Nf={exports:{}},nl=qn,i0=mr,Rf=Function.prototype,s0=nl&&Object.getOwnPropertyDescriptor,Fd=i0(Rf,"name"),a0=Fd&&(function(){}).name==="something",l0=Fd&&(!nl||nl&&s0(Rf,"name").configurable),d0={EXISTS:Fd,PROPER:a0,CONFIGURABLE:l0},o0=tn,g0=sn,rl=Rd,u0=o0(Function.toString);g0(rl.inspectSource)||(rl.inspectSource=function(e){return u0(e)});var Ff=rl.inspectSource,m0=kn,k0=sn,Ug=m0.WeakMap,f0=k0(Ug)&&/native code/.test(String(Ug)),p0=Af,c0=yf,zg=p0("keys"),Bf=function(e){return zg[e]||(zg[e]=c0(e))},Bd={},v0=f0,Of=kn,b0=Hr,h0=Sf,ia=mr,sa=Rd,j0=Bf,I0=Bd,qg="Object already initialized",tl=Of.TypeError,A0=Of.WeakMap,Hi,At,Yi,x0=function(e){return Yi(e)?At(e):Hi(e,{})},y0=function(e){return function(n){var r;if(!b0(n)||(r=At(n)).type!==e)throw new tl("Incompatible receiver, "+e+" required");return r}};if(v0||sa.state){var pn=sa.state||(sa.state=new A0);pn.get=pn.get,pn.has=pn.has,pn.set=pn.set,Hi=function(e,n){if(pn.has(e))throw new tl(qg);return n.facade=e,pn.set(e,n),n},At=function(e){return pn.get(e)||{}},Yi=function(e){return pn.has(e)}}else{var fr=j0("state");I0[fr]=!0,Hi=function(e,n){if(ia(e,fr))throw new tl(qg);return n.facade=e,h0(e,fr,n),n},At=function(e){return ia(e,fr)?e[fr]:{}},Yi=function(e){return ia(e,fr)}}var E0={set:Hi,get:At,has:Yi,enforce:x0,getterFor:y0},Od=tn,T0=Bn,_0=sn,gi=mr,il=qn,P0=d0.CONFIGURABLE,S0=Ff,Vf=E0,N0=Vf.enforce,R0=Vf.get,Hg=String,xi=Object.defineProperty,F0=Od("".slice),B0=Od("".replace),O0=Od([].join),V0=il&&!T0(function(){return xi(function(){},"length",{value:8}).length!==8}),$0=String(String).split("String"),D0=Nf.exports=function(e,n,r){F0(Hg(n),0,7)==="Symbol("&&(n="["+B0(Hg(n),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(n="get "+n),r&&r.setter&&(n="set "+n),(!gi(e,"name")||P0&&e.name!==n)&&(il?xi(e,"name",{value:n,configurable:!0}):e.name=n),V0&&r&&gi(r,"arity")&&e.length!==r.arity&&xi(e,"length",{value:r.arity});try{r&&gi(r,"constructor")&&r.constructor?il&&xi(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var t=N0(e);return gi(t,"source")||(t.source=O0($0,typeof n=="string"?n:"")),e};Function.prototype.toString=D0(function(){return _0(this)&&R0(this).source||S0(this)},"toString");var G0=Nf.exports,M0=sn,L0=Yr,K0=G0,w0=Nd,C0=function(e,n,r,t){t||(t={});var i=t.enumerable,s=t.name!==void 0?t.name:n;if(M0(r)&&K0(r,s,t),t.global)i?e[n]=r:w0(n,r);else{try{t.unsafe?e[n]&&(i=!0):delete e[n]}catch{}i?e[n]=r:L0.f(e,n,{value:r,enumerable:!1,configurable:!t.nonConfigurable,writable:!t.nonWritable})}return e},$f={},U0=Math.ceil,z0=Math.floor,q0=Math.trunc||function(e){var n=+e;return(n>0?z0:U0)(n)},H0=q0,Df=function(e){var n=+e;return n!==n||n===0?0:H0(n)},Y0=Df,J0=Math.max,W0=Math.min,Z0=function(e,n){var r=Y0(e);return r<0?J0(r+n,0):W0(r,n)},X0=Df,Q0=Math.min,e1=function(e){var n=X0(e);return n>0?Q0(n,9007199254740991):0},n1=e1,Vd=function(e){return n1(e.length)},r1=fs,t1=Z0,i1=Vd,Yg=function(e){return function(n,r,t){var i=r1(n),s=i1(i),l=t1(t,s),o;if(e&&r!==r){for(;s>l;)if(o=i[l++],o!==o)return!0}else for(;s>l;l++)if((e||l in i)&&i[l]===r)return e||l||0;return!e&&-1}},s1={includes:Yg(!0),indexOf:Yg(!1)},a1=tn,aa=mr,l1=fs,d1=s1.indexOf,o1=Bd,Jg=a1([].push),Gf=function(e,n){var r=l1(e),t=0,i=[],s;for(s in r)!aa(o1,s)&&aa(r,s)&&Jg(i,s);for(;n.length>t;)aa(r,s=n[t++])&&(~d1(i,s)||Jg(i,s));return i},$d=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],g1=Gf,u1=$d,m1=u1.concat("length","prototype");$f.f=Object.getOwnPropertyNames||function(e){return g1(e,m1)};var Mf={};Mf.f=Object.getOwnPropertySymbols;var k1=ps,f1=tn,p1=$f,c1=Mf,v1=cs,b1=f1([].concat),h1=k1("Reflect","ownKeys")||function(e){var n=p1.f(v1(e)),r=c1.f;return r?b1(n,r(e)):n},Wg=mr,j1=h1,I1=Td,A1=Yr,x1=function(e,n,r){for(var t=j1(n),i=A1.f,s=I1.f,l=0;l<t.length;l++){var o=t[l];!Wg(e,o)&&!(r&&Wg(r,o))&&i(e,o,s(n,o))}},y1=Bn,E1=sn,T1=/#|\.prototype\./,Ct=function(e,n){var r=P1[_1(e)];return r===N1?!0:r===S1?!1:E1(n)?y1(n):!!n},_1=Ct.normalize=function(e){return String(e).replace(T1,".").toLowerCase()},P1=Ct.data={},S1=Ct.NATIVE="N",N1=Ct.POLYFILL="P",R1=Ct,ui=kn,F1=Td.f,B1=Sf,O1=C0,V1=Nd,$1=x1,D1=R1,G1=function(e,n){var r=e.target,t=e.global,i=e.stat,s,l,o,u,f,k;if(t?l=ui:i?l=ui[r]||V1(r,{}):l=ui[r]&&ui[r].prototype,l)for(o in n){if(f=n[o],e.dontCallGetSet?(k=F1(l,o),u=k&&k.value):u=l[o],s=D1(t?o:r+(i?".":"#")+o,e.forced),!s&&u!==void 0){if(typeof f==typeof u)continue;$1(f,u)}(e.sham||u&&u.sham)&&B1(f,"sham",!0),O1(l,o,f,e)}},M1=ks,Lf=Array.isArray||function(e){return M1(e)==="Array"},L1=TypeError,K1=9007199254740991,w1=function(e){if(e>K1)throw L1("Maximum allowed index exceeded");return e},C1=ks,U1=tn,z1=function(e){if(C1(e)==="Function")return U1(e)},Zg=z1,q1=Sd,H1=_d,Y1=Zg(Zg.bind),J1=function(e,n){return q1(e),n===void 0?e:H1?Y1(e,n):function(){return e.apply(n,arguments)}},W1=Lf,Z1=Vd,X1=w1,Q1=J1,Kf=function(e,n,r,t,i,s,l,o){for(var u=i,f=0,k=l?Q1(l,o):!1,c,b;f<t;)f in r&&(c=k?k(r[f],f,n):r[f],s>0&&W1(c)?(b=Z1(c),u=Kf(e,n,c,b,u,s-1)-1):(X1(u+1),e[u]=c),u++),f++;return u},eV=Kf,nV=wt,rV=nV("toStringTag"),wf={};wf[rV]="z";var tV=String(wf)==="[object z]",iV=tV,sV=sn,yi=ks,aV=wt,lV=aV("toStringTag"),dV=Object,oV=yi(function(){return arguments}())==="Arguments",gV=function(e,n){try{return e[n]}catch{}},uV=iV?yi:function(e){var n,r,t;return e===void 0?"Undefined":e===null?"Null":typeof(r=gV(n=dV(e),lV))=="string"?r:oV?yi(n):(t=yi(n))==="Object"&&sV(n.callee)?"Arguments":t},mV=tn,kV=Bn,Cf=sn,fV=uV,pV=ps,cV=Ff,Uf=function(){},zf=pV("Reflect","construct"),Dd=/^\s*(?:class|function)\b/,vV=mV(Dd.exec),bV=!Dd.test(Uf),at=function(e){if(!Cf(e))return!1;try{return zf(Uf,[],e),!0}catch{return!1}},qf=function(e){if(!Cf(e))return!1;switch(fV(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return bV||!!vV(Dd,cV(e))}catch{return!0}};qf.sham=!0;var hV=!zf||kV(function(){var e;return at(at.call)||!at(Object)||!at(function(){e=!0})||e})?qf:at,Xg=Lf,jV=hV,IV=Hr,AV=wt,xV=AV("species"),Qg=Array,yV=function(e){var n;return Xg(e)&&(n=e.constructor,jV(n)&&(n===Qg||Xg(n.prototype))?n=void 0:IV(n)&&(n=n[xV],n===null&&(n=void 0))),n===void 0?Qg:n},EV=yV,TV=function(e,n){return new(EV(e))(n===0?0:n)},_V=G1,PV=eV,SV=Sd,NV=xf,RV=Vd,FV=TV;_V({target:"Array",proto:!0},{flatMap:function(e){var n=NV(this),r=RV(n),t;return SV(e),t=FV(n,0),t.length=PV(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}});var Hf={},BV=Gf,OV=$d,VV=Object.keys||function(e){return BV(e,OV)},$V=qn,DV=Pf,GV=Yr,MV=cs,LV=fs,KV=VV;Hf.f=$V&&!DV?Object.defineProperties:function(e,n){MV(e);for(var r=LV(n),t=KV(n),i=t.length,s=0,l;i>s;)GV.f(e,l=t[s++],r[l]);return e};var wV=ps,CV=wV("document","documentElement"),UV=cs,zV=Hf,eu=$d,qV=Bd,HV=CV,YV=Tf,JV=Bf,nu=">",ru="<",sl="prototype",al="script",Yf=JV("IE_PROTO"),la=function(){},Jf=function(e){return ru+al+nu+e+ru+"/"+al+nu},tu=function(e){e.write(Jf("")),e.close();var n=e.parentWindow.Object;return e=null,n},WV=function(){var e=YV("iframe"),n="java"+al+":",r;return e.style.display="none",HV.appendChild(e),e.src=String(n),r=e.contentWindow.document,r.open(),r.write(Jf("document.F=Object")),r.close(),r.F},mi,Ei=function(){try{mi=new ActiveXObject("htmlfile")}catch{}Ei=typeof document<"u"?document.domain&&mi?tu(mi):WV():tu(mi);for(var e=eu.length;e--;)delete Ei[sl][eu[e]];return Ei()};qV[Yf]=!0;var ZV=Object.create||function(e,n){var r;return e!==null?(la[sl]=UV(e),r=new la,la[sl]=null,r[Yf]=e):r=Ei(),n===void 0?r:zV.f(r,n)},XV=wt,QV=ZV,e$=Yr.f,ll=XV("unscopables"),dl=Array.prototype;dl[ll]===void 0&&e$(dl,ll,{configurable:!0,value:QV(null)});var n$=function(e){dl[ll][e]=!0},r$=n$;r$("flatMap");var t$=kn,i$=tn,s$=function(e,n){return i$(t$[e].prototype[n])},a$=s$;a$("Array","flatMap");D.VURDER_NYOPPSTARTET_FL,D.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON;Pe(Ed);const l$=e=>{switch(e){case mt.AVKLAR_AKTIVITETER:return ie.AVKLAR_AKTIVITETER;case mt.OVERSTYRING_AV_BEREGNINGSAKTIVITETER:return ie.OVERSTYRING_AV_BEREGNINGSAKTIVITETER;case mt.VURDER_FAKTA_FOR_ATFL_SN:return ie.VURDER_FAKTA_FOR_ATFL_SN;case mt.OVERSTYRING_AV_BEREGNINGSGRUNNLAG:return ie.OVERSTYRING_AV_BEREGNINGSGRUNNLAG;default:throw new Error(`Ukjent avklaringspunkt ${e}`)}},d$=e=>n=>{const t=(Array.isArray(n)?n:[n]).map(i=>({kode:l$(i.kode),...i.grunnlag[0]}));return e(t)},o$=(e,n)=>({avslagKode:n.avslagKode,vurderesIBehandlingen:!0,merknadParametere:{},periode:{fom:e?e.skjaeringstidspunktBeregning:"",tom:Me},vilkarStatus:n.vilkarStatus}),g$=(e,n)=>{if(!e)return null;const r=e.find(i=>i.vilkarType&&i.vilkarType===rr.BEREGNINGSGRUNNLAGVILKARET);return!r||!n?null:{...r,perioder:[o$(n,r)]}},u$=e=>e?[{...e,vilkårsperiodeFom:e.skjaeringstidspunktBeregning}]:[],m$=[ie.VURDER_FAKTA_FOR_ATFL_SN,ie.AVKLAR_AKTIVITETER,ie.OVERSTYRING_AV_BEREGNINGSAKTIVITETER,ie.OVERSTYRING_AV_BEREGNINGSGRUNNLAG],k$=[ie.OVERSTYRING_AV_BEREGNINGSAKTIVITETER,ie.OVERSTYRING_AV_BEREGNINGSGRUNNLAG],f$=[Ke.BEREGNINGSGRUNNLAG],iu=({arbeidsgiverOpplysningerPerId:e,rettigheter:n,...r})=>{const t=X();return a.jsx(Mr,{...r,panelEndepunkter:f$,aksjonspunktKoder:m$,overstyringApKoder:k$,faktaPanelKode:$r.BEREGNING,faktaPanelMenyTekst:t.formatMessage({id:"BeregningInfoPanel.Title"}),skalPanelVisesIMeny:()=>Yu.hasPath(Ke.BEREGNINGSGRUNNLAG.name),renderPanel:i=>{var s;return a.jsx(fB,{...i,kodeverkSamling:i.alleKodeverk,vilkar:g$((s=r.behandling)==null?void 0:s.vilkår,i.beregningsgrunnlag),beregningsgrunnlag:u$(i.beregningsgrunnlag),submitCallback:d$(i.submitCallback),arbeidsgiverOpplysningerPerId:e,erOverstyrer:n.kanOverstyreAccess.isEnabled,skalKunneOverstyreAktiviteter:!0})}})};try{iu.displayName="BeregningFaktaInitPanel",iu.__docgenInfo={description:"BeregningFaktaInitPanel",displayName:"BeregningFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},rettigheter:{defaultValue:null,description:"",name:"rettigheter",required:!0,type:{name:"AksessRettigheter"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}var ol=(e=>(e.BRUK_PERMISJON="BRUK_PERMISJON",e.IKKE_BRUK_PERMISJON="IKKE_BRUK_PERMISJON",e))(ol||{});const p$="_inline_1gq7u_1",c$="_topPadding_1gq7u_5",v$="_phoneIcon_1gq7u_9",b$="_docIcon_1gq7u_15",pr={inline:p$,topPadding:c$,phoneIcon:v$,docIcon:b$},gl=({saksnummer:e,inntektsmelding:n})=>a.jsxs(a.Fragment,{children:[a.jsx(j,{eightPx:!0}),a.jsxs(xe,{children:[a.jsxs(V,{children:[a.jsx(x,{children:a.jsx(O,{size:"small",children:a.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Inntektsmelding"})})}),a.jsx(x,{className:pr.topPadding,children:a.jsx(E,{size:"small",children:C(n.inntektPrMnd)})})]}),a.jsx(j,{eightPx:!0}),a.jsxs(V,{children:[a.jsx(x,{children:a.jsx(O,{size:"small",children:a.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjon"})})}),a.jsx(x,{className:pr.topPadding,children:a.jsx(E,{size:"small",children:a.jsx(m,{id:n.refusjonPrMnd?"InntektsmeldingOpplysningerPanel.Ja":"InntektsmeldingOpplysningerPanel.Nei"})})})]}),a.jsx(j,{eightPx:!0}),n.refusjonPrMnd&&a.jsxs(a.Fragment,{children:[a.jsxs(V,{children:[a.jsx(x,{children:a.jsx(O,{size:"small",children:a.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjonsbeløp"})})}),a.jsx(x,{className:pr.topPadding,children:a.jsx(E,{size:"small",children:C(n.refusjonPrMnd)})})]}),a.jsx(j,{eightPx:!0})]}),a.jsxs(xt,{href:Hu(e,n.journalpostId,n.dokumentId),target:"_blank",children:[a.jsx("span",{children:a.jsx(E,{size:"small",className:pr.inline,children:a.jsx(m,{id:"InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding"})})}),a.jsx(om,{className:pr.docIcon})]}),a.jsx(j,{sixteenPx:!0}),a.jsxs(V,{children:[a.jsx(x,{children:a.jsx(gm,{className:pr.phoneIcon})}),a.jsxs(x,{children:[a.jsx(V,{children:a.jsx(x,{children:a.jsx(O,{size:"small",children:a.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Kontaktinfo"})})})}),a.jsx(V,{children:a.jsx(x,{children:a.jsx(de,{children:n.kontaktpersonNavn})})}),a.jsx(V,{children:a.jsx(x,{children:a.jsx(de,{children:a.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Tlf",values:{nr:n.kontaktpersonNummer}})})})})]})]})]}),a.jsx(j,{thirtyTwoPx:!0})]});try{gl.displayName="InntektsmeldingOpplysningerPanel",gl.__docgenInfo={description:"",displayName:"InntektsmeldingOpplysningerPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},inntektsmelding:{defaultValue:null,description:"",name:"inntektsmelding",required:!0,type:{name:"Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>"}}}}}catch{}const h$="_boks_kspkv_1",j$="_aksjonspunkt_kspkv_9",I$="_harBorderTop_kspkv_13",Wf={boks:h$,aksjonspunkt:j$,harBorderTop:I$},A$=em.bind(Wf),ul=({harÅpentAksjonspunkt:e,harBorderTop:n,children:r})=>a.jsx("div",{className:A$(Wf.boks,{aksjonspunkt:e,harBorderTop:n}),children:r});try{ul.displayName="ArbeidsforholdBoks",ul.__docgenInfo={description:"",displayName:"ArbeidsforholdBoks",props:{harÅpentAksjonspunkt:{defaultValue:null,description:"",name:"harÅpentAksjonspunkt",required:!0,type:{name:"boolean"}},harBorderTop:{defaultValue:null,description:"",name:"harBorderTop",required:!0,type:{name:"boolean"}}}}}catch{}const x$="_maanedBredde_pqnhm_1",y$="_aarBredde_pqnhm_5",E$="_belopBredde_pqnhm_9",T$="_inline_pqnhm_13",_$="_arrow_pqnhm_17",cr={maanedBredde:x$,aarBredde:y$,belopBredde:E$,inline:T$,arrow:_$},P$=(e,n)=>{const t=y(e).startOf("month"),i=t.subtract(12,"month"),s=[];for(let l=t;l.isAfter(i);l=l.subtract(1,"month")){const o=l.format(Te),u=n.find(f=>y(f.fom).startOf("month").format(Te)===o);s.push({beløp:(u==null?void 0:u.beløp)||0,fom:o})}return s},ml=({inntektsposter:e,skjæringstidspunkt:n})=>{const[r,t]=h.useState(!1),i=h.useMemo(()=>P$(n,e),[e]);return a.jsxs(a.Fragment,{children:[e.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"InntektsposterPanel.Inntekter"})}),a.jsx(xe,{children:i.filter((s,l)=>r?!0:l<3).map(s=>a.jsxs(V,{children:[a.jsx(x,{className:cr.maanedBredde,children:a.jsx(E,{size:"small",children:a.jsx(m,{id:`InntektsposterPanel.${y(s.fom).month()+1}`})})}),a.jsx(x,{className:cr.aarBredde,children:a.jsx(E,{size:"small",children:y(s.fom).year()})}),a.jsx(x,{className:cr.belopBredde,children:a.jsx(_r,{children:a.jsx(E,{size:"small",children:C(s.beløp)})})})]},s.fom))}),a.jsxs(xt,{onClick:s=>{s.preventDefault(),t(!r)},href:"",children:[a.jsx("span",{children:a.jsx(E,{size:"small",className:cr.inline,children:a.jsx(m,{id:r?"InntektsposterPanel.FaerreManeder":"InntektsposterPanel.TidligereManeder"})})}),r?a.jsx(Gl,{className:cr.arrow}):a.jsx(rs,{className:cr.arrow})]})]}),e.length===0&&a.jsx(O,{size:"small",children:a.jsx(m,{id:"InntektsposterPanel.IngenInntekt"})})]})};try{ml.displayName="InntektsposterPanel",ml.__docgenInfo={description:"",displayName:"InntektsposterPanel",props:{inntektsposter:{defaultValue:null,description:"",name:"inntektsposter",required:!0,type:{name:"Readonly<{ beløp: number; fom: string; tom: string; type: string; }>[]"}},skjæringstidspunkt:{defaultValue:null,description:"",name:"skjæringstidspunkt",required:!0,type:{name:"string"}}}}}catch{}const S$="_body_hrlo3_1",N$="_hjelpetekst_hrlo3_5",R$="_firstCol_hrlo3_9",F$="_secCol_hrlo3_13",B$="_thirdCol_hrlo3_17",O$="_fourthCol_hrlo3_21",V$="_topPadding_hrlo3_25",$$="_image_hrlo3_29",D$="_hjelpetekstInnhold_hrlo3_33",G$="_exclamationmarkIcon_hrlo3_38",M$="_checkmarkIcon_hrlo3_45",Ue={body:S$,hjelpetekst:N$,firstCol:R$,secCol:F$,thirdCol:B$,fourthCol:O$,topPadding:V$,image:$$,hjelpetekstInnhold:D$,exclamationmarkIcon:G$,checkmarkIcon:M$},L$="arbeidsforhold",K$=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent&&(!n.internArbeidsforholdId||n.internArbeidsforholdId===e.internArbeidsforholdId),w$=e=>{const n=Math.ceil(e.length/25),r=Array.from({length:n},(t,i)=>e.slice(i*25,i*25+25));return a.jsx("p",{children:r.join("-")})},kl=({index:e,fieldId:n,saksnummer:r,sorterteArbeidsforhold:t,arbeidOgInntekt:i,arbeidsgiverOpplysningerPerId:s,isReadOnly:l,harÅpentAksjonspunkt:o,skjæringstidspunkt:u,alleKodeverk:f})=>{var G;const k=X(),{inntektsmeldinger:c,inntekter:b}=i,v=t[e],I=c.find($=>K$(v,$)),T=(G=b.find($=>$.arbeidsgiverIdent===v.arbeidsgiverIdent))==null?void 0:G.inntekter,P=t.filter($=>$.arbeidsgiverIdent===v.arbeidsgiverIdent).length>1,_=s[v.arbeidsgiverIdent],R=h.useRef(null),[A,N]=h.useState(!1),F=h.useCallback(()=>N($=>!$),[]);return a.jsx(ul,{harÅpentAksjonspunkt:o,harBorderTop:e===0,children:a.jsx(xe,{children:a.jsxs(V,{children:[a.jsxs(x,{children:[!o&&a.jsx(Ml,{title:k.formatMessage({id:"ArbeidsforholdFieldArray.Ok"}),className:Ue.checkmarkIcon}),o&&a.jsx(Gr,{title:k.formatMessage({id:"ArbeidsforholdFieldArray.Aksjonspunkt"}),className:Ue.exclamationmarkIcon})]}),a.jsxs(x,{className:Ue.body,children:[a.jsxs(xe,{children:[a.jsxs(V,{children:[a.jsxs(x,{className:Ue.firstCol,children:[a.jsx(O,{size:"small",children:_.navn}),v.arbeidsgiverIdent&&a.jsxs(de,{children:["(",_.erPrivatPerson&&_.fødselsdato?a.jsx(_e,{dateString:_.fødselsdato}):v.arbeidsgiverIdent,")"]})]}),a.jsxs(x,{className:Ue.secCol,children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdFieldArray.Periode"})}),a.jsxs(E,{size:"small",children:[v&&a.jsx(we,{dateStringFom:v.fom,dateStringTom:v.tom!==Me?v.tom:void 0}),!v&&"-"]})]}),a.jsxs(x,{className:Ue.thirdCol,children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdFieldArray.Kilde"})}),a.jsx(E,{size:"small",children:a.jsx(m,{id:v?"ArbeidsforholdFieldArray.AaRegisteret":"ArbeidsforholdFieldArray.Inntektsmelding"})})]}),a.jsxs(x,{className:Ue.fourthCol,children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdFieldArray.InntektsmeldingMottatt"})}),a.jsxs(E,{size:"small",children:[(I==null?void 0:I.motattDato)&&a.jsx(_e,{dateString:I.motattDato}),!(I!=null&&I.motattDato)&&a.jsx(m,{id:"ArbeidsforholdFieldArray.IkkeMottatt"})]})]})]}),a.jsx(j,{sixteenPx:!0}),a.jsxs(V,{children:[a.jsxs(x,{className:Ue.firstCol,children:[P&&v.eksternArbeidsforholdId&&a.jsxs(a.Fragment,{children:[a.jsxs(V,{children:[a.jsx(x,{children:a.jsx(O,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdFieldArray.Id"})})}),a.jsxs(x,{className:Ue.topPadding,children:[v.eksternArbeidsforholdId.length<50&&a.jsx(E,{size:"small",children:v.eksternArbeidsforholdId}),v.eksternArbeidsforholdId.length>=50&&a.jsx(gc,{content:w$(v.eksternArbeidsforholdId),alignBottom:!0,children:a.jsx(E,{size:"small",children:`${v.eksternArbeidsforholdId.substring(0,50)}...`})})]})]}),a.jsx(j,{eightPx:!0})]}),v.stillingsprosent&&a.jsxs(a.Fragment,{children:[a.jsxs(V,{children:[a.jsx(x,{children:a.jsx(O,{size:"small",children:a.jsx(m,{id:"ArbeidsforholdFieldArray.Stillingsprosent"})})}),a.jsx(x,{className:Ue.topPadding,children:a.jsx(E,{size:"small",children:`${v.stillingsprosent}%`})})]}),a.jsx(j,{eightPx:!0})]}),I&&a.jsx(gl,{saksnummer:r,inntektsmelding:I}),!I&&T&&a.jsxs(a.Fragment,{children:[a.jsx(j,{thirtyTwoPx:!0}),a.jsx(ml,{inntektsposter:T,skjæringstidspunkt:u}),a.jsx(j,{thirtyTwoPx:!0})]})]}),a.jsx(x,{children:v.permisjonOgMangel&&a.jsxs(a.Fragment,{children:[a.jsx(O,{size:"small",children:`${Pi(f,_n.PERMISJONSBESKRIVELSE_TYPE,v.permisjonOgMangel.type)} 100%`}),a.jsx(E,{size:"small",children:a.jsx(we,{dateStringFom:v.permisjonOgMangel.permisjonFom,dateStringTom:void 0})})]})})]})]}),a.jsx(Ae,{name:`${L$}.${e}.permisjonStatus`,label:a.jsx(xe,{children:a.jsxs(V,{children:[a.jsx(x,{children:a.jsx(m,{id:"ArbeidsforholdFieldArray.SkalArbeidsforholdetTasMed"})}),a.jsxs(x,{className:Ue.image,children:[a.jsx(ne,{ref:R,type:"button",variant:"tertiary",onClick:F,icon:a.jsx(zl,{title:k.formatMessage({id:"ArbeidsforholdFieldArray.AltHjelpetekst"})})}),a.jsx(Tr,{open:A,onClose:F,anchorEl:R.current,className:Ue.hjelpetekst,children:a.jsxs(Tr.Content,{className:Ue.hjelpetekstInnhold,children:[a.jsx(E,{children:a.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel1"})}),a.jsx(j,{eightPx:!0}),a.jsx(E,{children:a.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel2"})}),a.jsx(j,{eightPx:!0}),a.jsx(E,{children:a.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel3"})}),a.jsx(j,{eightPx:!0}),a.jsx(E,{children:a.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel4"})})]})})]})]})}),validate:[W],isReadOnly:l,radios:[{label:k.formatMessage({id:I?"ArbeidsforholdFieldArray.TaMedArbeidsforhold":"ArbeidsforholdFieldArray.TaMedArbeidsforholdIkkeInntektsmelding"}),value:ol.IKKE_BRUK_PERMISJON},{label:k.formatMessage({id:"ArbeidsforholdFieldArray.IkkeTaMedArbeidsforhold"}),value:ol.BRUK_PERMISJON}]}),a.jsx(j,{fourPx:!0})]})]})})},n)};try{kl.displayName="ArbeidsforholdField",kl.__docgenInfo={description:"",displayName:"ArbeidsforholdField",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},fieldId:{defaultValue:null,description:"",name:"fieldId",required:!0,type:{name:"string"}},saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},sorterteArbeidsforhold:{defaultValue:null,description:"",name:"sorterteArbeidsforhold",required:!0,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string | undefined; eksternArbeidsforholdId?: string | undefined; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}},arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},harÅpentAksjonspunkt:{defaultValue:null,description:"",name:"harÅpentAksjonspunkt",required:!0,type:{name:"boolean"}},skjæringstidspunkt:{defaultValue:null,description:"",name:"skjæringstidspunkt",required:!0,type:{name:"string"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}}}}}catch{}const C$="arbeidsforhold",fl=({saksnummer:e,sorterteArbeidsforhold:n,arbeidOgInntekt:r,arbeidsgiverOpplysningerPerId:t,isReadOnly:i,harÅpentAksjonspunkt:s,skjæringstidspunkt:l,alleKodeverk:o})=>{const{control:u}=ve(),{fields:f}=Qe({control:u,name:C$});return a.jsx(a.Fragment,{children:f.map((k,c)=>a.jsx(kl,{fieldId:k.id,index:c,saksnummer:e,sorterteArbeidsforhold:n,arbeidOgInntekt:r,arbeidsgiverOpplysningerPerId:t,isReadOnly:i,harÅpentAksjonspunkt:s,skjæringstidspunkt:l,alleKodeverk:o},k.id))})};try{fl.displayName="ArbeidsforholdFieldArray",fl.__docgenInfo={description:"",displayName:"ArbeidsforholdFieldArray",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},sorterteArbeidsforhold:{defaultValue:null,description:"",name:"sorterteArbeidsforhold",required:!0,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string | undefined; eksternArbeidsforholdId?: string | undefined; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}},arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},harÅpentAksjonspunkt:{defaultValue:null,description:"",name:"harÅpentAksjonspunkt",required:!0,type:{name:"boolean"}},skjæringstidspunkt:{defaultValue:null,description:"",name:"skjæringstidspunkt",required:!0,type:{name:"string"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}}}}}catch{}const U$=In(3),z$=An(1500),q$=e=>(n,r)=>e[n.arbeidsgiverIdent].navn.localeCompare(e[r.arbeidsgiverIdent].navn),pl=({saksnummer:e,aksjonspunkter:n,readOnly:r,arbeidOgInntekt:t,arbeidsgiverOpplysningerPerId:i,formData:s,setFormData:l,lagreCallback:o,alleKodeverk:u})=>{const f=h.useMemo(()=>({inntektsmeldinger:t.inntektsmeldinger,arbeidsforhold:t.arbeidsforhold.filter(T=>{var P;return(P=T.permisjonOgMangel)==null?void 0:P.årsak}),inntekter:t.inntekter,skjæringstidspunkt:t.skjæringstidspunkt}),[t]),{arbeidsforhold:k}=f,c=h.useMemo(()=>[...k].sort(q$(i)),[k,i]),b=h.useMemo(()=>({arbeidsforhold:c.map(T=>{var P;return{permisjonStatus:(P=T.permisjonOgMangel)==null?void 0:P.permisjonStatus}}),begrunnelse:n[0].begrunnelse}),[c]),v=He({defaultValues:s||b});h.useEffect(()=>()=>{l(v.getValues())},[v.getValues()]);const I=n.some(T=>T.status===Pr.OPPRETTET);return a.jsxs(a.Fragment,{children:[a.jsx(xe,{children:a.jsxs(V,{spaceBetween:!0,children:[a.jsx(x,{children:a.jsx(re,{size:"small",children:a.jsx(m,{id:"PermisjonFaktaPanel.Overskrift"})})}),a.jsx(x,{children:a.jsx(E,{size:"small",children:a.jsx(m,{id:"PermisjonFaktaPanel.Skjaringstidspunkt",values:{skjæringspunktDato:De(f.skjæringstidspunkt)}})})})]})}),a.jsx(j,{thirtyTwoPx:!0}),I&&a.jsx(ts,{children:a.jsx(m,{id:"PermisjonFaktaPanel.PermisjonUtenSluttdato"})}),a.jsx(j,{thirtyTwoPx:!0}),a.jsxs(Ye,{formMethods:v,onSubmit:T=>o({kode:ie.VURDER_ARBEIDSFORHOLD_PERMISJON,arbeidsforhold:T.arbeidsforhold.map((P,_)=>({internArbeidsforholdId:c[_].internArbeidsforholdId,arbeidsgiverIdent:c[_].arbeidsgiverIdent,permisjonStatus:P.permisjonStatus})),begrunnelse:T.begrunnelse}),children:[a.jsx(fl,{saksnummer:e,sorterteArbeidsforhold:c,arbeidOgInntekt:f,arbeidsgiverOpplysningerPerId:i,isReadOnly:r,harÅpentAksjonspunkt:I,skjæringstidspunkt:f.skjæringstidspunkt,alleKodeverk:u}),a.jsx(j,{thirtyTwoPx:!0}),a.jsx(Xe,{label:a.jsx(O,{size:"small",children:a.jsx(m,{id:"PermisjonFaktaPanel.Begrunn"})}),name:"begrunnelse",validate:[W,U$,z$,jn],maxLength:1500,readOnly:r}),a.jsx(j,{sixteenPx:!0}),!r&&a.jsx(ne,{size:"small",variant:"primary",disabled:!v.formState.isDirty||v.formState.isSubmitting,loading:v.formState.isSubmitting,children:a.jsx(m,{id:"PermisjonFaktaPanel.Bekreft"})})]})]})};try{pl.displayName="PermisjonFaktaPanel",pl.__docgenInfo={description:"",displayName:"PermisjonFaktaPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"FormValues"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: FormValues) => void"}},arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},lagreCallback:{defaultValue:null,description:"",name:"lagreCallback",required:!0,type:{name:"(aksjonspunktData: VurderArbeidsforholdPermisjonAp) => Promise<void>"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}}}}}catch{}const H$={"PermisjonFaktaPanel.Overskrift":"Fakta om permisjon","PermisjonFaktaPanel.Arbeidsforhold":"Arbeidsforhold","PermisjonFaktaPanel.Skjaringstidspunkt":"Skjæringstidspunkt for opptjening: {skjæringspunktDato}","PermisjonFaktaPanel.Bekreft":"Bekreft og fortsett","PermisjonFaktaPanel.PermisjonUtenSluttdato":"Vi fant en permisjon uten sluttdato. Vurder om arbeidsforholdet skal tas med.","PermisjonFaktaPanel.Begrunn":"Begrunn valget","ArbeidsforholdFieldArray.Periode":"Periode","ArbeidsforholdFieldArray.Kilde":"Kilde","ArbeidsforholdFieldArray.InntektsmeldingMottatt":"Inntektsmelding","ArbeidsforholdFieldArray.Saksbehandler":"Saksbehandler","ArbeidsforholdFieldArray.AaRegisteret":"A-inntekt","ArbeidsforholdFieldArray.Inntektsmelding":"Inntektsmelding","ArbeidsforholdFieldArray.Aksjonspunkt":"Åpent aksjonspunkt","ArbeidsforholdFieldArray.Ok":"Arbeidsforhold er OK","ArbeidsforholdFieldArray.HjelpetekstDel1":"Søker er registrert med permisjon eller permittering uten sluttdato fra arbeidsforholdet sitt i AA-reg. Vurder om dette arbeidsforholdet skal være med i beregningen. Dersom det fjernes vil det bli borte fra beregningen og eventuell mottatt inntektsmelding vil ikke brukes. Tas det med, vil det brukes i beregningen og bli med videre i behandlingen.","ArbeidsforholdFieldArray.HjelpetekstDel2":"Dersom arbeidsforholdet tas med og det trengs inntektsmelding, må dette innhentes.","ArbeidsforholdFieldArray.HjelpetekstDel3":"Permisjoner eller permitteringer med en sluttdato tas automatisk med. Du trenger ikke etterspørre inntektsmeldinger.","ArbeidsforholdFieldArray.HjelpetekstDel4":"Mottas det inntektsmelding med refusjonskrav vil denne brukes i behandlingen.","ArbeidsforholdFieldArray.Id":"ID","ArbeidsforholdFieldArray.Stillingsprosent":"Stillingsprosent","ArbeidsforholdFieldArray.SkalArbeidsforholdetTasMed":"Skal arbeidsforholdet tas med?","ArbeidsforholdFieldArray.TaMedArbeidsforhold":"Fjern permisjonen og ta med arbeidsforholdet","ArbeidsforholdFieldArray.TaMedArbeidsforholdIkkeInntektsmelding":"Fjern permisjonen og ta med arbeidsforholdet. Vurder om inntektsmelding må innhentes","ArbeidsforholdFieldArray.IkkeTaMedArbeidsforhold":"Ikke ta med arbeidsforholdet","ArbeidsforholdFieldArray.IkkeMottatt":"Ikke mottatt","ArbeidsforholdFieldArray.AltHjelpetekst":"Hjelpetekst","InntektsmeldingOpplysningerPanel.Inntektsmelding":"Inntektsmelding","InntektsmeldingOpplysningerPanel.Refusjon":"Refusjon","InntektsmeldingOpplysningerPanel.Ja":"Ja","InntektsmeldingOpplysningerPanel.Nei":"Nei","InntektsmeldingOpplysningerPanel.Refusjonsbeløp":"Refusjonsbeløp","InntektsmeldingOpplysningerPanel.Kontaktinfo":"Kontaktinfo","InntektsmeldingOpplysningerPanel.Tlf":"Tlf. {nr}","InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding":"Åpne inntektsmelding (PDF)","InntektsposterPanel.Inntekter":"Inntekter (fra A-inntekt)","InntektsposterPanel.1":"Jan","InntektsposterPanel.2":"Feb","InntektsposterPanel.3":"Mars","InntektsposterPanel.4":"Apr","InntektsposterPanel.5":"Mai","InntektsposterPanel.6":"Jun","InntektsposterPanel.7":"Jul","InntektsposterPanel.8":"Aug","InntektsposterPanel.9":"Sep","InntektsposterPanel.10":"Okt","InntektsposterPanel.11":"Nov","InntektsposterPanel.12":"Des","InntektsposterPanel.TidligereManeder":"Tidligere måneder ","InntektsposterPanel.FaerreManeder":"Siste måneder ","InntektsposterPanel.IngenInntekt":"Ingen inntekt registrert på bruker i A-inntekt"},Y$=Pe(H$),cl=({saksnummer:e,submitCallback:n,aksjonspunkter:r,readOnly:t,formData:i,setFormData:s,arbeidOgInntekt:l,arbeidsgiverOpplysningerPerId:o,alleKodeverk:u})=>a.jsx(qe,{value:Y$,children:a.jsx(pl,{saksnummer:e,aksjonspunkter:r,readOnly:t,formData:i,lagreCallback:n,setFormData:s,arbeidOgInntekt:l,arbeidsgiverOpplysningerPerId:o,alleKodeverk:u})});try{cl.displayName="PermisjonFaktaIndex",cl.__docgenInfo={description:"",displayName:"PermisjonFaktaIndex",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},submittable:{defaultValue:null,description:"",name:"submittable",required:!0,type:{name:"boolean"}},harApneAksjonspunkter:{defaultValue:null,description:"",name:"harApneAksjonspunkter",required:!0,type:{name:"boolean"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const su=[ie.VURDER_ARBEIDSFORHOLD_PERMISJON],J$=[Ke.ARBEID_OG_INNTEKT],au=({saksnummer:e,arbeidsgiverOpplysningerPerId:n,...r})=>a.jsx(Mr,{...r,panelEndepunkter:J$,aksjonspunktKoder:su,faktaPanelKode:$r.PERMISJON,faktaPanelMenyTekst:X().formatMessage({id:"PermisjonFaktaInitPanel.Title"}),skalPanelVisesIMeny:()=>!!r.behandling.aksjonspunkt.some(t=>t.definisjon===su[0]),renderPanel:t=>a.jsx(cl,{saksnummer:e,arbeidsgiverOpplysningerPerId:n,...t})});try{au.displayName="PermisjonFaktaInitPanel",au.__docgenInfo={description:"",displayName:"PermisjonFaktaInitPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}const Mn={BEKREFTET_GODKJENT:"BEKREFTET_GODKJENT",BEKREFTET_AVVIST:"BEKREFTET_AVVIST",ANTATT_GODKJENT:"ANTATT_GODKJENT",ANTATT_AVVIST:"ANTATT_AVVIST"},W$="_godkjentImage_1bp9b_1",Z$="_avslattImage_1bp9b_7",X$="_margin_1bp9b_13",Q$="_fix_1bp9b_17",lt={godkjentImage:W$,avslattImage:Z$,margin:X$,fix:Q$},eD="MELLOMLIGGENDE_PERIODE",nD=e=>e===Mn.BEKREFTET_AVVIST||e===Mn.ANTATT_AVVIST?"OpptjeningVilkarView.Avslatt":"OpptjeningVilkarView.Godkjent",lu=e=>e===Mn.BEKREFTET_GODKJENT||e===Mn.ANTATT_GODKJENT||e===eD,vl=({fastsattOpptjeningAktivitet:e,lukkPeriode:n,velgNestePeriode:r,velgForrigePeriode:t})=>{const i=X();return a.jsxs(Cl,{border:!0,children:[a.jsx(xe,{children:a.jsxs(V,{spaceBetween:!0,children:[a.jsx(x,{children:a.jsx(O,{size:"small",children:a.jsx(m,{id:"OpptjeningVilkarView.DetailsForSelectedPeriod"})})}),a.jsxs(x,{className:lt.fix,children:[a.jsx(ne,{className:lt.margin,size:"xsmall",icon:a.jsx(es,{"aria-hidden":!0}),onClick:t,variant:"secondary-neutral",type:"button",title:i.formatMessage({id:"TimeLineData.prevPeriod"}),children:a.jsx(m,{id:"TimeLineData.prevPeriodShort"})}),a.jsx(ne,{className:lt.margin,size:"xsmall",icon:a.jsx(ns,{"aria-hidden":!0}),onClick:r,variant:"secondary-neutral",type:"button",title:i.formatMessage({id:"TimeLineData.nextPeriod"}),iconPosition:"right",children:a.jsx(m,{id:"TimeLineData.nextPeriodShort"})}),a.jsx(ne,{size:"xsmall",icon:a.jsx(er,{"aria-hidden":!0}),onClick:n,variant:"tertiary-neutral",type:"button",title:i.formatMessage({id:"TimeLineData.lukkPeriode"})})]})]})}),a.jsx(j,{sixteenPx:!0}),a.jsx(E,{size:"small",children:a.jsx(we,{dateStringFom:e.fom,dateStringTom:e.tom})}),a.jsx(j,{sixteenPx:!0}),a.jsxs(te,{children:[lu(e.klasse)&&a.jsx(Ml,{className:lt.godkjentImage}),!lu(e.klasse)&&a.jsx(er,{className:lt.avslattImage}),a.jsx(m,{id:nD(e.klasse)})]})]})};try{vl.displayName="TimeLineData",vl.__docgenInfo={description:"",displayName:"TimeLineData",props:{fastsattOpptjeningAktivitet:{defaultValue:null,description:"",name:"fastsattOpptjeningAktivitet",required:!0,type:{name:"FastsattOpptjeningAktivitet"}},lukkPeriode:{defaultValue:null,description:"",name:"lukkPeriode",required:!0,type:{name:"() => void"}},velgNestePeriode:{defaultValue:null,description:"",name:"velgNestePeriode",required:!0,type:{name:"() => void"}},velgForrigePeriode:{defaultValue:null,description:"",name:"velgForrigePeriode",required:!0,type:{name:"() => void"}}}}}catch{}const rD={danger:a.jsx(Ju,{}),success:a.jsx($l,{}),info:a.jsx(Mc,{})},tD=e=>e===Mn.BEKREFTET_AVVIST||e===Mn.ANTATT_AVVIST?"danger":e===Mn.BEKREFTET_GODKJENT||e===Mn.ANTATT_GODKJENT?"success":"info",iD=e=>e.map(n=>({start:y(n.fom).toDate(),end:y(n.tom).toDate(),status:tD(n.klasse),opptjeningsperiode:n})),sD=e=>e==="info"?"OpptjeningTimeLineLight.MellomliggendePeriode":e==="success"?"OpptjeningTimeLineLight.Godkjent":"OpptjeningTimeLineLight.Avslatt",bl=({opptjeningPeriods:e,opptjeningFomDate:n,opptjeningTomDate:r})=>{const t=X(),i=h.useMemo(()=>[...e].sort((b,v)=>y(b.fom).diff(y(v.fom))),[e]),s=h.useMemo(()=>iD(i),[i]),[l,o]=h.useState(),u=b=>{const v=s.find(I=>{var T;return((T=I.opptjeningsperiode)==null?void 0:T.fom)===b});v&&o(v)},f=h.useCallback(()=>{o(void 0)},[]),k=h.useCallback(()=>{if(s){const b=s.findIndex(v=>{var I,T;return((I=v.opptjeningsperiode)==null?void 0:I.fom)===((T=l==null?void 0:l.opptjeningsperiode)==null?void 0:T.fom)})+1;b<s.length&&o(s[b])}},[s,l,o]),c=h.useCallback(()=>{if(s){const b=s.findIndex(v=>{var I,T;return((I=v.opptjeningsperiode)==null?void 0:I.fom)===((T=l==null?void 0:l.opptjeningsperiode)==null?void 0:T.fom)})-1;b>=0&&o(s[b])}},[s,l,o]);return a.jsxs(a.Fragment,{children:[a.jsx(j,{twentyPx:!0}),a.jsxs($e,{startDate:y(n).subtract(1,"months").toDate(),endDate:y(r).add(10,"days").toDate(),children:[a.jsxs($e.Pin,{date:y(n).toDate(),children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"OpptjeningTimeLineLight.StartDato"})}),a.jsx(E,{size:"small",children:a.jsx(_e,{dateString:n})})]}),a.jsxs($e.Pin,{date:y(r).toDate(),children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"OpptjeningTimeLineLight.SluttDato"})}),a.jsx(E,{size:"small",children:a.jsx(_e,{dateString:r})})]}),a.jsx($e.Row,{label:"",children:s.map(b=>{var v,I,T;return a.jsx($e.Period,{start:b.start,end:b.end,status:b.status,onSelectPeriod:()=>{var P;return u((P=b.opptjeningsperiode)==null?void 0:P.fom)},isActive:((v=l==null?void 0:l.opptjeningsperiode)==null?void 0:v.fom)===((I=b.opptjeningsperiode)==null?void 0:I.fom),icon:rD[b.status],title:t.formatMessage({id:sD(b.status)})},(T=b.opptjeningsperiode)==null?void 0:T.fom)})})]}),a.jsx(j,{sixteenPx:!0}),(l==null?void 0:l.opptjeningsperiode)&&a.jsx(vl,{fastsattOpptjeningAktivitet:l.opptjeningsperiode,lukkPeriode:f,velgNestePeriode:k,velgForrigePeriode:c})]})};try{bl.displayName="OpptjeningTimeLineLight",bl.__docgenInfo={description:"",displayName:"OpptjeningTimeLineLight",props:{opptjeningPeriods:{defaultValue:null,description:"",name:"opptjeningPeriods",required:!0,type:{name:"FastsattOpptjeningAktivitet[]"}},opptjeningFomDate:{defaultValue:null,description:"",name:"opptjeningFomDate",required:!0,type:{name:"string"}},opptjeningTomDate:{defaultValue:null,description:"",name:"opptjeningTomDate",required:!0,type:{name:"string"}}}}}catch{}const Zf=({months:e,days:n,fastsattOpptjeningActivities:r=[],opptjeningFomDate:t,opptjeningTomDate:i})=>a.jsxs(a.Fragment,{children:[a.jsx(E,{size:"small",children:a.jsx(m,{id:"OpptjeningVilkarView.MonthsAndDays",values:{months:e,days:n}})}),a.jsx(j,{eightPx:!0}),a.jsx(E,{size:"small",children:a.jsx(we,{dateStringFom:t,dateStringTom:i})}),a.jsx(j,{sixteenPx:!0}),r.length>0&&a.jsx(bl,{opptjeningPeriods:r,opptjeningFomDate:t,opptjeningTomDate:i})]});try{OpptjeningVilkarView.displayName="OpptjeningVilkarView",OpptjeningVilkarView.__docgenInfo={description:`OpptjeningVilkarView

Viser resultatet av opptjeningsvilkåret.`,displayName:"OpptjeningVilkarView",props:{months:{defaultValue:null,description:"",name:"months",required:!0,type:{name:"number"}},days:{defaultValue:null,description:"",name:"days",required:!0,type:{name:"number"}},fastsattOpptjeningActivities:{defaultValue:{value:"[]"},description:"",name:"fastsattOpptjeningActivities",required:!1,type:{name:"FastsattOpptjeningAktivitet[]"}},opptjeningFomDate:{defaultValue:null,description:"",name:"opptjeningFomDate",required:!0,type:{name:"string"}},opptjeningTomDate:{defaultValue:null,description:"",name:"opptjeningTomDate",required:!0,type:{name:"string"}}}}}catch{}const aD=(e,n,r)=>({...Ul.buildInitialValues(e,n,r),...Lr.buildInitialValues(e)}),lD=e=>({...Ul.transformValues(e),...Lr.transformValues(e),kode:ie.VURDER_OPPTJENINGSVILKARET}),hl=({isApOpen:e,readOnlySubmitButton:n,readOnly:r,lovReferanse:t,aksjonspunkter:i,behandlingsresultat:s,status:l,fastsattOpptjening:o,submitCallback:u,erIkkeGodkjentAvBeslutter:f,formData:k,setFormData:c,erSvpFagsak:b})=>{const v=X(),I=h.useMemo(()=>aD(i,l,s),[s,i,l]),T=He({defaultValues:k||I}),_=i.some(G=>G.status===Pr.OPPRETTET)?void 0:dm.OPPFYLT===l,R=h.useCallback(G=>u(lD(G)),[u]),A=h.useCallback((...G)=>a.jsx("b",{children:G}),[]),N=h.useCallback(G=>{var $;return(($=o.fastsattOpptjeningAktivitetList)==null?void 0:$.length)===0&&G===!0?v.formatMessage({id:"OpptjeningVilkarAksjonspunktPanel.KanIkkeVelgeOppfylt"}):null},[]),F=h.useCallback(()=>a.jsxs(a.Fragment,{children:[a.jsx(j,{sixteenPx:!0}),a.jsx(Zf,{months:o.opptjeningperiode.måneder,days:o.opptjeningperiode.dager,fastsattOpptjeningActivities:o.fastsattOpptjeningAktivitetList,opptjeningFomDate:o.opptjeningFom,opptjeningTomDate:o.opptjeningTom})]}),[o]);return a.jsx(Ye,{formMethods:T,onSubmit:R,setDataOnUnmount:c,children:a.jsxs(kc,{title:v.formatMessage({id:"OpptjeningVilkarAksjonspunktPanel.Opptjeningsvilkaret"}),isAksjonspunktOpen:e,readOnlySubmitButton:n,readOnly:r,lovReferanse:t,originalErVilkarOk:_,erIkkeGodkjentAvBeslutter:f,isDirty:T.formState.isDirty,isSubmitting:T.formState.isSubmitting,rendreFakta:F,children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:b?"OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilSvangerskapspenger":"OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilForeldrepenger"})}),a.jsx(Ul,{readOnly:r,customVilkarOppfyltText:a.jsx(m,{id:b?"OpptjeningVilkarAksjonspunktPanel.ErOppfyltSvp":"OpptjeningVilkarAksjonspunktPanel.ErOppfylt"}),customVilkarIkkeOppfyltText:a.jsx(m,{id:b?"OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfyltSvp":"OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfylt",values:{b:A}}),validatorsForRadioOptions:[N]}),a.jsx(j,{sixteenPx:!0}),a.jsx(Lr,{readOnly:r})]})})};try{hl.displayName="OpptjeningVilkarAksjonspunktPanel",hl.__docgenInfo={description:`OpptjeningVilkarAksjonspunktPanel

Viser panel for å løse aksjonspunkt for avslått opptjeningsvilkår`,displayName:"OpptjeningVilkarAksjonspunktPanel",props:{fastsattOpptjening:{defaultValue:null,description:"",name:"fastsattOpptjening",required:!0,type:{name:"FastsattOpptjening"}},behandlingsresultat:{defaultValue:null,description:"",name:"behandlingsresultat",required:!1,type:{name:"Readonly<{ id: number; type: string; avslagsarsak?: string; avslagsarsakFritekst?: string; rettenTil?: string | undefined; konsekvenserForYtelsen?: string[] | undefined; ... 4 more ...; skjæringstidspunkt?: { ...; } | undefined; }> | undefined"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},isApOpen:{defaultValue:null,description:"",name:"isApOpen",required:!0,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: AvklarOpptjeningsvilkaretAp) => Promise<void>"}},lovReferanse:{defaultValue:null,description:"",name:"lovReferanse",required:!1,type:{name:"string"}},erIkkeGodkjentAvBeslutter:{defaultValue:null,description:"",name:"erIkkeGodkjentAvBeslutter",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"FormValues"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: FormValues) => void"}},erSvpFagsak:{defaultValue:null,description:"",name:"erSvpFagsak",required:!0,type:{name:"boolean"}}}}}catch{}const jl=({behandlingsresultat:e,fastsattOpptjening:n,isAksjonspunktOpen:r,aksjonspunkter:t,status:i,lovReferanse:s,readOnlySubmitButton:l,readOnly:o,submitCallback:u,erIkkeGodkjentAvBeslutter:f,formData:k,setFormData:c,erSvpFagsak:b})=>t.length>0?a.jsx(hl,{submitCallback:u,isApOpen:r,readOnly:o,readOnlySubmitButton:l,behandlingsresultat:e,aksjonspunkter:t,status:i,lovReferanse:s,fastsattOpptjening:n,erIkkeGodkjentAvBeslutter:f,formData:k,setFormData:c,erSvpFagsak:b}):a.jsx(Zf,{months:n.opptjeningperiode.måneder,days:n.opptjeningperiode.dager,fastsattOpptjeningActivities:n.fastsattOpptjeningAktivitetList,opptjeningFomDate:n.opptjeningFom,opptjeningTomDate:n.opptjeningTom});try{jl.displayName="OpptjeningVilkarForm",jl.__docgenInfo={description:`OpptjeningVilkarForm

Presentasjonskomponent. Viser resultatet av opptjeningsvilkåret.`,displayName:"OpptjeningVilkarForm",props:{behandlingsresultat:{defaultValue:null,description:"",name:"behandlingsresultat",required:!1,type:{name:"Readonly<{ id: number; type: string; avslagsarsak?: string; avslagsarsakFritekst?: string; rettenTil?: string | undefined; konsekvenserForYtelsen?: string[] | undefined; ... 4 more ...; skjæringstidspunkt?: { ...; } | undefined; }> | undefined"}},fastsattOpptjening:{defaultValue:null,description:"",name:"fastsattOpptjening",required:!0,type:{name:"FastsattOpptjening"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},lovReferanse:{defaultValue:null,description:"",name:"lovReferanse",required:!1,type:{name:"string"}},isAksjonspunktOpen:{defaultValue:null,description:"",name:"isAksjonspunktOpen",required:!0,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: AvklarOpptjeningsvilkaretAp) => Promise<void>"}},erIkkeGodkjentAvBeslutter:{defaultValue:null,description:"",name:"erIkkeGodkjentAvBeslutter",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"FormValues"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: FormValues) => void"}},erSvpFagsak:{defaultValue:null,description:"",name:"erSvpFagsak",required:!0,type:{name:"boolean"}}}}}catch{}const dD={"OpptjeningVilkarView.Oppfylt":"Vilkåret er oppfylt","OpptjeningVilkarView.Godkjent":"Godkjent","OpptjeningVilkarView.Avslatt":"Avslått","OpptjeningVilkarView.Months":"måneder","OpptjeningVilkarView.Weeks":"uker","OpptjeningVilkarView.Days":"dager","OpptjeningVilkarView.MonthsAndDays":"{months} måneder og {days} dager aktivitet i opptjeningsperioden","OpptjeningVilkarView.DetailsForSelectedPeriod":"Detaljer for valgt periode","OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilForeldrepenger":"Opptjent rett til foreldrepenger","OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilSvangerskapspenger":"Opptjent rett til svangerskapspenger","OpptjeningVilkarAksjonspunktPanel.ErOppfylt":"Søker har oppfylt krav om 6 mnd opptjening, vilkåret er oppfylt.","OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfylt":"Søker har ikke oppfylt krav om 6 mnd opptjening, vilkåret er <b>ikke</b> oppfylt.","OpptjeningVilkarAksjonspunktPanel.ErOppfyltSvp":"Søker har oppfylt krav om 4 uker opptjening, vilkåret er oppfylt.","OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfyltSvp":"Søker har ikke oppfylt krav om 4 uker mnd opptjening, vilkåret er <b>ikke</b> oppfylt.","OpptjeningVilkarAksjonspunktPanel.Opptjeningsvilkaret":"Opptjening","OpptjeningVilkarAksjonspunktPanel.KanIkkeVelgeOppfylt":"Du kan ikke velge at opptjeningsvilkåret er oppfylt, fordi det ikke finnes noen aktiviteter å beregne inntekten fra. Kontakt bruker for å avklare om bruker har noen opptjening.","OpptjeningTimeLineLight.StartDato":"Start opptjeningsperiode","OpptjeningTimeLineLight.SluttDato":"Slutt opptjeningsperiode","OpptjeningTimeLineLight.MellomliggendePeriode":"Mellomliggende periode","OpptjeningTimeLineLight.Godkjent":"Godkjent","OpptjeningTimeLineLight.Avslatt":"Avslått","TimeLineNavigation.openData":"Åpne info om første periode","TimeLineData.nextPeriod":"Neste periode","TimeLineData.prevPeriod":"Forrige periode","Timeline.openData":"Åpne info om første periode","TimeLineData.lukkPeriode":"Lukk periode","TimeLineData.nextPeriodShort":"Neste","TimeLineData.prevPeriodShort":"Forrige","ShowVilkarStatus.Check":"Informasjonen er utfylt"},oD=Pe(dD),du=({behandling:e,opptjening:n,aksjonspunkter:r,status:t,lovReferanse:i,submitCallback:s,isReadOnly:l,isAksjonspunktOpen:o,readOnlySubmitButton:u,alleMerknaderFraBeslutter:f,formData:k,setFormData:c,erSvpFagsak:b=!1})=>a.jsx(qe,{value:oD,children:a.jsx(jl,{behandlingsresultat:e.behandlingsresultat,fastsattOpptjening:n.fastsattOpptjening,status:t,lovReferanse:i,aksjonspunkter:r,submitCallback:s,readOnly:l,isAksjonspunktOpen:o,readOnlySubmitButton:u,erIkkeGodkjentAvBeslutter:r.some(v=>{var I;return(I=f[v.definisjon])==null?void 0:I.notAccepted}),formData:k,setFormData:c,erSvpFagsak:b})});try{du.displayName="OpptjeningVilkarProsessIndex",du.__docgenInfo={description:"",displayName:"OpptjeningVilkarProsessIndex",props:{opptjening:{defaultValue:null,description:"",name:"opptjening",required:!0,type:{name:"Opptjening"}},lovReferanse:{defaultValue:null,description:"",name:"lovReferanse",required:!1,type:{name:"string"}},erSvpFagsak:{defaultValue:{value:"false"},description:"",name:"erSvpFagsak",required:!1,type:{name:"boolean"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},vilkar:{defaultValue:null,description:"",name:"vilkar",required:!0,type:{name:"Readonly<{ vilkarType: string; vilkarStatus: string; avslagKode?: string | undefined; lovReferanse?: string | undefined; overstyrbar: boolean; }>[]"}},isAksjonspunktOpen:{defaultValue:null,description:"",name:"isAksjonspunktOpen",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const ou=ie.OVERSTYR_LØPENDE_MEDLEMSKAPSVILKAR,da=[rr.MEDLEMSKAPSVILKÅRET_LØPENDE],gu=({rettigheter:e,...n})=>{const{behandling:r}=n,[t,i]=h.useState(!1),s=h.useCallback(()=>i(!t),[t]);return h.useEffect(()=>{i(!1)},[r.versjon]),a.jsx(Hl,{...n,aksjonspunktKoder:[ou],vilkarKoder:da,prosessPanelKode:Dl.FORTSATTMEDLEMSKAP,prosessPanelMenyTekst:X().formatMessage({id:"Behandlingspunkt.FortsattMedlemskap"}),skalPanelVisesIMeny:l=>nm(l.aksjonspunkter,da,l.vilkar),erOverstyrt:t,renderPanel:l=>a.jsx(pc,{aksjonspunkter:l==null?void 0:l.aksjonspunkter,aksjonspunktKode:ou,vilkar:l.vilkar,vilkarKoder:da,panelTekstKode:"Behandlingspunkt.FortsattMedlemskap",erMedlemskapsPanel:!1,toggleOverstyring:s,erOverstyrt:t,overrideReadOnly:l.isReadOnly,kanOverstyreAccess:e.kanOverstyreAccess})})};try{gu.displayName="FortsattMedlemskapProsessStegInitPanel",gu.__docgenInfo={description:"",displayName:"FortsattMedlemskapProsessStegInitPanel",props:{rettigheter:{defaultValue:null,description:"",name:"rettigheter",required:!0,type:{name:"AksessRettigheter"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}var le=(e=>(e.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS="FASTSETT_BG_AT_FL",e.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE="VURDER_VARIG_ENDRT_NYOPPSTR_NAERNG_SN",e.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON="VURDER_VARIG_ENDRT_ARB_SITSJN_MDL_INAKTV",e.FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE="FASTSETT_BG_SN",e.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD="FASTSETT_BG_TB_ARB",e.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET="FASTSETT_BG_SN_NY_I_ARB_LIVT",e.VURDER_GRADERING_UTEN_BEREGNINGSGRUNNLAG="VURDER_GRADERING_UTEN_BG",e))(le||{}),gD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qf={exports:{}},dt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uu;function uD(){if(uu)return dt;uu=1;var e=L,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(o,u,f){var k,c={},b=null,v=null;f!==void 0&&(b=""+f),u.key!==void 0&&(b=""+u.key),u.ref!==void 0&&(v=u.ref);for(k in u)t.call(u,k)&&!s.hasOwnProperty(k)&&(c[k]=u[k]);if(o&&o.defaultProps)for(k in u=o.defaultProps,u)c[k]===void 0&&(c[k]=u[k]);return{$$typeof:n,type:o,key:b,ref:v,props:c,_owner:i.current}}return dt.Fragment=r,dt.jsx=l,dt.jsxs=l,dt}Qf.exports=uD();var d=Qf.exports,ep={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var s="",l=0;l<arguments.length;l++){var o=arguments[l];o&&(s=i(s,t.call(this,o)))}return s}function t(s){if(typeof s=="string"||typeof s=="number")return this&&this[s]||s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(this,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var l="";for(var o in s)n.call(s,o)&&s[o]&&(l=i(l,this&&this[o]||o));return l}function i(s,l){return l?s?s+" "+l:s+l:s}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(ep);var mD=ep.exports;const kD=Xf(mD),fD="_contentContainer_1rz2h_1",pD="_sideMenuContainer_1rz2h_4",cD="_mainContainer--withSideMenu_1rz2h_7",vD="_advarselIkon_1rz2h_11",Ti={contentContainer:fD,sideMenuContainer:pD,"mainContainer--withSideMenu":"_mainContainer--withSideMenu_1rz2h_7",mainContainerWithSideMenu:cD,advarselIkon:vD},np={"Beregningsgrunnlag.Title.Beregning":"Grunnlag for beregning","Beregningsgrunnlag.Title.Fastsettelse":"Fastsettelse","Beregningsgrunnlag.Title":"Beregning","Beregningsgrunnlag.Avslagsårsak.IkkeTilstrekkeligInntektsgrunnlag":"Ikke tilstrekkelig inntektsgrunnlag","Beregningsgrunnlag.HarIkkeBeregningsregler":"Har ikke beregningsregler (trer i kraft 1 jan. 2019). Sak overført til Infotrygd.","Beregningsgrunnlag.Helptext.Arbeidstaker":"Det er mer enn 25% avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget","Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.Nyoppstartet":"Søker har nyoppstartet næring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt","Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.VarigEndring":"Søker har oppgitt varig endring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.Helptext.VarigEndretArbeidssituasjon":"Varig endret arbeidssituasjon.","Beregningsgrunnlag.Helptext.TidsbegrensetArbeidsforhold":"Det er mer enn 25 % avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget, og det er tidsbegrenset arbeidsforhold","Beregningsgrunnlag.Helptext.NyIArbeidslivetSN":"Søker er ny i arbeidslivet","Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt":"Beregnet årsinntekt","Beregningsgrunnlag.Avviksopplysninger.ATFL.Tittel":"Avviksberegning for arbeidstaker og frilans","Beregningsgrunnlag.Avviksopplysninger.SN.Tittel":"Avviksberegning for næring","Beregningsgrunnlag.Avviksopplysninger.MIDL.Tittel":"Avviksberegning for midlertidig inaktiv","Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt.Naring":"Pensjonsgivende inntekt","Beregningsgrunnlag.Avviksopplysninger.RapportertAarsinntekt":"Sammenligningsgrunnlag","Beregningsgrunnlag.Avviksopplysninger.SamletInntekt":"Samlet inntekt","Beregningsgrunnlag.Avviksopplysninger.BeregnetAvvik":"Beregnet avvik ","Beregningsgrunnlag.Avviksopplysninger.SN.NyIArbeidslivet":"Søker er ny i arbeidslivet. Det foretas derfor ingen avviksvurdering.","Beregningsgrunnlag.Avviksopplysninger.AT.KobinasjonsStatusATFLSN":"Det regnes ikke avvik på arbeids- og frilansinntekt for kombinasjonen arbeid, frilans og selvstendig næringsdrivende i beregningsgrunnlag der skjæringstidspunkt er før 01.01.2023","Beregningsgrunnlag.Avviksopplysninger.AAP":"Det foretas ikke avviksvurdering på AAP","Beregningsgrunnlag.Avviksopplysninger.Dagpenger":"Det foretas ikke avviksvurdering på Dagpenger","Beregningsgrunnlag.Avviksopplysninger.Besteberegning":"Det foretas ingen avviksvurdering når søker har besteberegning på dagpenger","Beregningsgrunnlag.Avviksopplysninger.Miletar":"Det regnes ikke avvik ved militær- eller siviltjeneste.","Beregningsgrunnlag.Avviksopplysninger.AvvikProsent":"{avvik}%","Beregningsgrunnlag.Skjeringstidspunkt.SkjeringForBeregning":"Skjæringstidspunkt for beregning","Beregningsgrunnlag.Skjeringstidspunkt.LonnsendringSisteTreMan":"Søker har hatt lønnsendring i løpet av de siste tre månedene","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.manueltBehandlet":"Bruker har hatt lønnsendring {datoer}. Inntekt er fastsatt manuelt.","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.delvisMåned":"Bruker har hatt lønnsendring {datoer}. Dette betyr at rapportert inntekt for {måned} er en kombinasjon av ny og gammel inntekt. Ny inntekt er beregnet ved først å finne gammel inntekt fra rapportert inntekt i {forrigeMåned} og deretter regne oss fram til ny inntekt ved å bruke forholdet mellom dagene før og etter lønnsendringen.","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullEnMåned":"Bruker har hatt lønnsendring {datoer}. Ny inntekt er beregnet ved å bruke rapportert inntekt i {nesteMåned}.","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullToMåned":"Bruker har hatt lønnsendring {datoer}. Ny inntekt er beregnet ved å bruke snittet av rapportert inntekt i {nesteMåned} og {sisteMåned}.","Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt":"Arbeidsinntekt","Beregningsgrunnlag.AarsinntektPanel.Pensjonsgivendeinntekt":"Pensjonsgivende inntekt","Beregningsgrunnlag.AarsinntektPanel.SN.TreSisteÅr":"3 siste år fra skatt","Beregningsgrunnlag.AarsinntektPanel.SN.ATFL":"Arbeid/frilans","Beregningsgrunnlag.AarsinntektPanel.SN.Næring":"Næring","Beregningsgrunnlag.AarsinntektPanel.SN.Sum":"Sum","Beregningsgrunnlag.AarsinntektPanel.SN.Gjustert":"G-justert","Beregningsgrunnlag.AarsinntektPanel.SN.sisteTreAar":"3 siste ferdigliknede år fra skatteetaten","Beregningsgrunnlag.AarsinntektPanel.SN.GsnittSum":"Gjennomsnittlig pensjonsgivende inntekt","Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar":"Beregnet År","Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned":"Måned","Beregningsgrunnlag.AarsinntektPanel.Frilansinntekt":"Frilansinntekt","Beregningsgrunnlag.AarsinntektPanel.FrilansStartDato2":"Søker har vært frilans fra ","Beregningsgrunnlag.AarsinntektPanel.InnrapportertFrilans":"Innrapportert i a-ordningen siste 3 mnd","Beregningsgrunnlag.AarsinntektPanel.Militær":"Militær- eller sivilforsvarstjeneste","Beregningsgrunnlag.AarsinntektPanel.Pensjonsgivende":"Pensjonsgivende inntekt","Beregningsgrunnlag.AarsinntektPanel.TotaltArbeidsinntekt":"Totalt","Beregningsgrunnlag.AarsinntektPanel.TotalPensjonsGivende":"Total","Beregningsgrunnlag.AarsinntektPanel.Tidsbegrenset":"Tidsbegrenset","Beregningsgrunnlag.AarsinntektPanel.SnittPensjonsGivende":"Gjennomsnittlig pensjonsgivende inntekt","Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringNyoppstartet":"Vurder om det er varig endring i næringen og/eller arbeidssituasjonen, som gjør at inntekten skal fastsettes skjønnsmessig","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndring":"Søker har opplyst varig endring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerNyoppstartet":"Søker har nyoppstartet næring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.AksjonspunktBehandler.TittelATAvvik":"Fastsett årsinntekt skjønnsmessig for arbeidstaker","Beregningsgrunnlag.AksjonspunktBehandler.TittelFLAvvik":"Fastsett årsinntekt skjønnsmessig for frilans","Beregningsgrunnlag.AksjonspunktBehandler.TittelATFLAvvik":"Fastsett årsinntekt skjønnsmessig for arbeidstaker og frilans","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFL":"Det er mer enn 25% avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget.","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFLTidsbegrenset":"Det er mer enn 25 % avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget, og det er tidsbegrenset arbeidsforhold.","Beregningsgrunnlag.AksjonspunktBehandler.TittelSNNyIArb":"Søker er ny i arbeidslivet, gjør en skjønnsmessig vurdering av næringsinntekten","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerSNNyIArb":"Søker har oppgitt å være ny i arbeidslivet (blitt yrkesaktiv siste tre år).","Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringArbeid":"Vurder om det er varig endring i arbeidssituasjonen, som gjør at inntekten skal fastsettes skjønnsmessig","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndringArbeid":"Det er er mer enn 25 % avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringNæring":"Har søker hatt varig endret næring og/eller arbeidssituasjon? ","Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringArbeid":"Har søker hatt varig endret arbeidssituasjon? ","Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelNyoppstartetNæring":"Har søker nyoppstartet næring? ","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandler":"Skjønnsmessig fastsettelse av årsinntekt ved avvik","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerTB.SumPeriode":"Total årsintekt pr periode","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandler.OmberegnetAar":"Beregnet År","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerFL":"Frilansinntekt fastsettes til","Beregningsgrunnlag.AarsinntektPanel.Naturalytelse2":"Naturalytelser","Beregningsgrunnlag.NaeringsOpplysningsPanel.Overskrift":"Opplysninger om næring fra søknad","Beregningsgrunnlag.NaeringsOpplysningsPanel.OppgittAar":"Oppgitt år","Beregningsgrunnlag.NaeringsOpplysningsPanel.VarigEndret":"Søker har oppgitt varig endring fra <b>{dato}</b>","Beregningsgrunnlag.NaeringsOpplysningsPanel.Nyoppstaret":"Søker har oppgitt nyoppstartet fra <b>{dato}</b>","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.JORDBRUK_SKOGBRUK":"Jordbruk / Skogbruk","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.DAGMAMMA":"Dagmamma i eget hjem / familiebarnehage","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FISKE":"Fiske","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FRILANSER":"Frilanser","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.ANNEN":"Annen næringsvirksomhet","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.UDEFINERT":"Ikke definert","Beregningsgrunnlag.Forms.Vurdering":"Vurdering","Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag":"Vurdering av fastsatt beregningsgrunnlag","Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst":"Forklar hvordan du har kommet frem til beregningsgrunnlaget og hvilke vurderinger du har gjort. Beskriv hvorfor det er avvik og hvilken inntekt som kan legges til grunn. Dette skal gjøres i henhold til lovhjemmel.","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IngenEndring":"Ingen varig endring eller nyoppstartet næring","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.EndretNaering":"Varig endring eller nyoppstartet næring","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeNyoppstartet":"Næringsvirksomhet er ikke nyoppstartet","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeVarigEndring":"Ingen varig endring","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndring":"Varig endring - årsinntekt må fastsettes.","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.Nyoppstartet":"Nyoppstartet næring - Årsinntekt må fastsettes.","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.BruttoBerGr2":"Næringsinntekt fastsettes til","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndretInntektFastsettesTil":"Varig endret årsinntekt fastsettes til","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.SumTittel":"Rapportert årsinntekt","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Tittel":"Sammenligningsgrunnlag fra a-ordningen","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ingress":"Inntekt og ytelser etter kap 8, 9 og 14 de 12 siste månedene","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Arbeid":"Arbeid","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Frilans":"Frilans","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ytelse":"Ytelse","Beregningsgrunnlag.TilstottendeYtelse.Tittel":"Tilstøtende ytelse","Beregningsgrunnlag.TilstottendeYtelse.TittelNav":"Ytelser fra NAV","Beregningsgrunnlag.TilstottendeYtelse.Dagpenger":"Dagpenger","Beregningsgrunnlag.TilstottendeYtelse.SykepengerAvDagpenger":"Sykepenger basert på dagpenger","Beregningsgrunnlag.TilstottendeYtelse.PleiepengerAvDagpenger":"Pleiepenger basert på dagpenger","Beregningsgrunnlag.TilstottendeYtelse.AAP":"Arbeidsavklaringspenger","Beregningsgrunnlag.TilstottendeYtelse.Besteberegning":"Satt ut fra besteberegning","Beregningsgrunnlag.YtelserFraInfotrygd.Ytelse2":"Ytelse fra NAV","Beregningsgrunnlag.YtelserFraInfotrygd.YtelseNavn":"Ytelse","Beregningsgrunnlag.BeregningTable.Periode":"Periode {fom} - {tom}","Beregningsgrunnlag.BeregningTable.Tittel":"Beregning av dagsats","Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfylt2":"Beløpet er under 1/2 G (G = {grunnbeløp}) - søker har ikke rett til ytelse","Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfyltMidlertidigInaktiv":"Beløpet er under 1 G (G = {grunnbeløp}) - søker har ikke rett til ytelse","Beregningsgrunnlag.Gradering.Beskrivelse":"Saksbehandler har tidligere vurdert om fordeling av inntekt er korrekt grunnet en andel uten utbetaling som skal graderes.","Besteberegning.ResultatGrunnlag.BruttoBeregningsgrunnlag":"Beregnet","Besteberegning.ResultatGrunnlag.BeregningEtterBesteberegning":"§14-7, 3. ledd","Besteberegning.ResultatGrunnlag.BrukerOmfattesAvBesteberegning":"Søker omfattes av §14-7, 3. ledd.","Besteberegning.ResultatGrunnlag.BeregningEtterKap8":"§14-7, 1. ledd","Besteberegning.ResultatGrunnlag.Kap1473GirBesteBeregning":"Beregning etter §14-7, 3. ledd gir beste beregning.","Besteberegning.ResultatGrunnlag.Kap1471GirBesteBeregning":"Beregning etter §14-7, 1. ledd gir beste beregning.","SubmitButton.ConfirmInformation":"Bekreft og fortsett","Malform.Beskrivelse":"Foretrukket språk","HelpText.Aksjonspunkt":"Aksjonspunkt","Behandling.EditedField":"Saksbehandler har endret feltets verdi","Beregningsgrunnlag.Beregningsresultat.Periode":"Periode {fom} - {tom}","Beregningsgrunnlag.Beregningsresultat.Arbeid":"Fastsatt årsinntekt arbeid","Beregningsgrunnlag.Beregningsresultat.Frilans":"Fastsatt årsinntekt frilans","Beregningsgrunnlag.Beregningsresultat.Næring":"Fastsatt årsinntekt næring","Beregningsgrunnlag.Beregningsresultat.Dagpenger":"Fastsatt årsinntekt dagpenger","Beregningsgrunnlag.Beregningsresultat.SykepengerAvDagpenger":"Fastsatt årsinntekt sykepenger av dagpenger","Beregningsgrunnlag.Beregningsresultat.PleiepengerAvDagpenger":"Fastsatt årsinntekt pleiepenger av dagpenger","Beregningsgrunnlag.Beregningsresultat.Arbeidsavklaringspenger":"Fastsatt årsinntekt arbeidsavklaringspenger","Beregningsgrunnlag.Beregningsresultat.Militær":"Fastsatt årsinntekt militær","Beregningsgrunnlag.Beregningsresultat.BrukersAndel":"Fastsatt årsinntekt brukers andel","Beregningsgrunnlag.Beregningsresultat.Ytelse":"Fastsatt årsinntekt ytelse","Beregningsgrunnlag.Beregningsresultat.IkkeBeregnet":"Ikke beregnet","Beregningsgrunnlag.Beregningsresultat.Naturalytelser":"Naturalytelser","Beregningsgrunnlag.Beregningsresultat.TotalÅrsinntekt":"Total årsinntekt","Beregningsgrunnlag.Beregningsresultat.Avkortet":"Årsinntekt redusert til 6G på skjæringstidspunktet","Beregningsgrunnlag.Beregningsresultat.Redusert":"Årsinntekt redusert til 80% dekningsgrad","Beregningsgrunnlag.Beregningsresultat.Dagsats":"Dagsats (årsinntekt/260 dager)","Beregningsgrunnlag.Søknad.Tittel":"Opplysninger fra søknad","Beregningsgrunnlag.Søknad.LøpendeFL":"Oppgitt frilansinntekt i søknadsperioden","Beregningsgrunnlag.Søknad.LøpendeSN":"Oppgitt næringsinntekt i søknadsperioden","Beregningsgrunnlag.Søknad.SøktYtelseSN":"Bruker har søkt inntektskompensasjon for næringsinntekt i perioden {fom} - {tom}","Beregningsgrunnlag.Frisinn.Resultat":"Grunnlag for dagsats","Beregningsgrunnlag.Frisinn.Inntektstak":"Inntektstak ({grenseverdi} - {annenInntekt})","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagFL":"Beregningsgrunnlag frilans","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagSN":"Beregningsgrunnlag næring","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertFL":"Redusert til {grad}% beregningsgrunnlag frilans","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertSN":"Redusert til {grad}% beregningsgrunnlag næring","Beregningsgrunnlag.Frisinn.Tittel":"FRISINN","Beregningsgrunnlag.Frisinn.InntektFL":"Frilansinntekt","Beregningsgrunnlag.Frisinn.InntektSN":"Næringsinntekt","Beregningsgrunnlag.Frisinn.InntektAT":"Arbeidstakerinntekt","Beregningsgrunnlag.Søknad.Inntektsopplysninger":"Opplysninger om inntekt","Beregningsgrunnlag.Resultat.Dagsats":"Dagsats","Beregningsgrunnlag.Frisinn.InntektstakOpplysninger":"Opplysninger om inntektstak","Beregningsgrunnlag.Frisinn.InntektstakOpplysningerPeriode":"Opplysninger om inntektstak i perioden {fom} - {tom}"},bD="_readOnlyBlokk_3qjl7_1",hD={readOnlyBlokk:bD},jD=({avklaringsbehov:e})=>!e||!e.begrunnelse?null:d.jsxs(d.Fragment,{children:[d.jsx(O,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Gradering.Beskrivelse"})}),d.jsx(j,{sixteenPx:!0}),d.jsxs(E,{size:"small",className:hD.readOnlyBlokk,children:[e.begrunnelse," ",d.jsx(yt,{})]})]}),ID=e=>e.overstyrtPrAar||e.overstyrtPrAar===0?e.overstyrtPrAar:e.beregnetPrAar||e.beregnetPrAar===0?e.beregnetPrAar:0,AD=e=>e&&e.beregningsgrunnlagPrStatusOgAndel?e.beregningsgrunnlagPrStatusOgAndel.map(n=>ID(n)).reduce((n,r)=>n+r,0):0,xD=e=>e.flatMap(n=>n.inntekter).map(({inntekt:n})=>n).reduce((n,r)=>n+r,0)*2,mu=(e,n)=>e>n,yD=[d.jsx("div",{},"TomKolNøkkel"),d.jsxs(O,{size:"small",children:[" ",d.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BeregningEtterKap8"})," "]},"Kap8Nøkkel"),d.jsxs(O,{size:"small",children:[" ",d.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BeregningEtterBesteberegning"})," "]},"BBNøkkel")],ED=({periode:e,besteMåneder:n})=>{if(!n||n.length<1)return null;const r=AD(e),t=xD(n);return d.jsxs("div",{children:[d.jsx(V,{children:d.jsx(x,{children:d.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BrukerOmfattesAvBesteberegning"})})}),d.jsx(j,{twentyPx:!0}),d.jsx(V,{children:d.jsx(x,{children:d.jsx(Nn,{headerColumnContent:yD,noHover:!0,children:d.jsxs(Rn,{children:[d.jsx(Z,{children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BruttoBeregningsgrunnlag"})})}),d.jsx(Z,{children:d.jsx(E,{size:"small",children:C(r)})}),d.jsx(Z,{children:d.jsx(E,{size:"small",children:C(t)})})]})})})}),d.jsx(V,{children:d.jsx(x,{children:d.jsxs(E,{size:"small",children:[mu(r,t)&&d.jsx(m,{id:"Besteberegning.ResultatGrunnlag.Kap1471GirBesteBeregning"}),!mu(r,t)&&d.jsx(m,{id:"Besteberegning.ResultatGrunnlag.Kap1473GirBesteBeregning"})]})})})]})},TD="_avsnittOverskrift_3qwr0_1",_D="_venstreKolonne_3qwr0_5",PD="_hoyreKolonne_3qwr0_8",SD="_panelLeft_3qwr0_11",ND="_panelRight_3qwr0_21",RD="_storSpace_3qwr0_32",FD="_semiBoldText_3qwr0_35",BD="_næringEndringBeskrivelse_3qwr0_38",OD="_redError_3qwr0_41",VD="_tabellAktivitet_3qwr0_44",$D="_tabellInntekt_3qwr0_54",DD="_næringOpplysningNavn_3qwr0_66",GD="_næringOpplysningInntekt_3qwr0_69",MD="_næringOpplysningOrgnr_3qwr0_73",LD="_næringOpplysningDato_3qwr0_76",KD="_heldekkendeKol_3qwr0_79",wD="_tagMargin_3qwr0_85",CD="_colDivider_3qwr0_88",UD="_noPaddingRight_3qwr0_92",zD="_arbeidPanelSkille_3qwr0_95",M={avsnittOverskrift:TD,venstreKolonne:_D,hoyreKolonne:PD,panelLeft:SD,panelRight:ND,storSpace:RD,semiBoldText:FD,næringEndringBeskrivelse:"_næringEndringBeskrivelse_3qwr0_38",naeringEndringBeskrivelse:BD,redError:OD,tabellAktivitet:VD,tabellInntekt:$D,næringOpplysningNavn:"_næringOpplysningNavn_3qwr0_66",naeringOpplysningNavn:DD,næringOpplysningInntekt:"_næringOpplysningInntekt_3qwr0_69",naeringOpplysningInntekt:GD,næringOpplysningOrgnr:"_næringOpplysningOrgnr_3qwr0_73",naeringOpplysningOrgnr:MD,næringOpplysningDato:"_næringOpplysningDato_3qwr0_76",naeringOpplysningDato:LD,heldekkendeKol:KD,tagMargin:wD,colDivider:CD,noPaddingRight:UD,arbeidPanelSkille:zD};var rp={exports:{}};(function(e,n){(function(r,t){e.exports=t(y)})(gD,function(r){function t(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var i=t(r),s={name:"nb",weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),ordinal:function(l){return l+"."},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"}};return i.default.locale(s,null,!0),s})})(rp);var qD=rp.exports;const Il=Xf(qD),ku=e=>e?`...${e.substring(e.length-4,e.length)}`:"",vs=(e,n)=>{const{navn:r,fødselsdato:t,erPrivatPerson:i,identifikator:s}=e;return i?t?`${r} (${y(t).format(ee)})${ku(n)}`:r:s?`${r} (${s})${ku(n)}`:r},fu=(e,n)=>{var r;return e.arbeidsforhold&&e.arbeidsforhold.arbeidsforholdType&&((r=n[ye.OPPTJENING_AKTIVITET_TYPE].find(t=>{var i;return t.kode===((i=e.arbeidsforhold)==null?void 0:i.arbeidsforholdType)}))==null?void 0:r.navn)||""},Al=(e,n,r)=>{if(e.arbeidsforhold&&e.arbeidsforhold.arbeidsgiverIdent){const t=n[e.arbeidsforhold.arbeidsgiverIdent];return t?vs(t,e.arbeidsforhold.eksternArbeidsforholdId):fu(e,r)}return fu(e,r)},ot=e=>y(e).locale(Il).format("MMMM");function ki(e,n,r){const t=e.filter(i=>i.lønnsendringscenario===n).map(i=>`i ${vs(r[i.arbeidsforhold.arbeidsgiverIdent],void 0)}
      ${y(i.sisteLønnsendringsdato).format(ee)}`);return t.reduce((i,s,l)=>l===0?s:l<t.length-2?`${i}, ${s}`:`${i} og ${s}`,"")}const HD=(e,n,r,t)=>{switch(e){case Vn.MANUELT_BEHANDLET:return d.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.manueltBehandlet",values:{datoer:ki(r,Vn.MANUELT_BEHANDLET,t)}});case Vn.DELVIS_MÅNEDSINNTEKT_SISTE_MND:return d.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.delvisMåned",values:{datoer:ki(r,Vn.DELVIS_MÅNEDSINNTEKT_SISTE_MND,t),måned:ot(y(n).subtract(1,"month").format(Zr)),forrigeMåned:ot(y(n).subtract(2,"month").format(Zr))}});case Vn.FULL_MÅNEDSINNTEKT_EN_MND:return d.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullEnMåned",values:{datoer:ki(r,Vn.FULL_MÅNEDSINNTEKT_EN_MND,t),nesteMåned:ot(y(n).subtract(1,"month").format(Zr))}});case Vn.FULL_MÅNEDSINNTEKT_TO_MND:return d.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullToMåned",values:{datoer:ki(r,Vn.FULL_MÅNEDSINNTEKT_TO_MND,t),sisteMåned:ot(y(n).subtract(1,"month").format(Zr)),nesteMåned:ot(y(n).subtract(2,"month").format(Zr))}});default:return null}};function YD(e,n,r){return Kp(e.map(t=>t.lønnsendringscenario)).map(t=>d.jsxs(d.Fragment,{children:[HD(t,n,e,r),d.jsx("br",{}),d.jsx(j,{sixteenPx:!0})]}))}const JD=({skjeringstidspunktDato:e,saksopplysninger:n,arbeidsgiverOpplysningerPerId:r})=>{const t=[];return n&&n.lønnsendringSaksopplysning&&n.lønnsendringSaksopplysning.length>0&&t.push({textId:"Beregningsgrunnlag.Skjeringstidspunkt.LonnsendringSisteTreMan",readMoreContent:YD(n.lønnsendringSaksopplysning,e,r)}),d.jsx(uc,{saksopplysninger:t})},WD=e=>{switch(e){case S.SELVSTENDIG_NAERINGSDRIVENDE:return"alt2";case S.FRILANSER:return"alt1";case S.ARBEIDSTAKER:return"alt3";default:return"neutral"}},ZD=(e,n)=>{const r=[];return e.filter((t,i,s)=>i===s.findIndex(l=>l===t)).forEach(t=>{var i;const s=((i=n[ye.AKTIVITET_STATUS].find(l=>l.kode===t))==null?void 0:i.navn)||"";r.push({visningsNavn:s,kode:t,tagType:WD(t)})}),r.sort((t,i)=>t.visningsNavn>i.visningsNavn?1:-1),d.jsx(V,{children:r.map(t=>d.jsx(x,{className:M.tagRad,children:d.jsx(Zi,{variant:t.tagType,title:t.visningsNavn,className:M.tagMargin,children:t.visningsNavn})},t.visningsNavn))})},XD=({skjeringstidspunktDato:e,aktivitetStatusList:n,kodeverkSamling:r,saksopplysninger:t,arbeidsgiverOpplysningerPerId:i})=>d.jsxs("div",{className:M.panelLeft,children:[ZD(n,r),d.jsx(j,{sixteenPx:!0}),d.jsxs(xe,{children:[d.jsxs(V,{children:[d.jsx(x,{children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.SkjeringForBeregning"})})}),d.jsx(x,{children:d.jsx(E,{size:"small",className:M.semiBoldText,children:d.jsx(_e,{dateString:e})})})]}),!!t&&!!t.lønnsendringSaksopplysning&&t.lønnsendringSaksopplysning.length>0&&d.jsxs(d.Fragment,{children:[d.jsx(j,{sixteenPx:!0}),d.jsx(V,{children:d.jsx(x,{children:d.jsx(JD,{arbeidsgiverOpplysningerPerId:i,skjeringstidspunktDato:e,saksopplysninger:t})})})]})]})]}),QD=({bruttoPrAar:e})=>e||e===0?d.jsxs(d.Fragment,{children:[d.jsx(V,{children:d.jsxs(x,{children:[d.jsx(re,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.YtelserFraInfotrygd.Ytelse2"})}),d.jsx(j,{eightPx:!0})]})}),d.jsxs(V,{children:[d.jsx(x,{className:M.tabellAktivitet}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(de,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(de,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),d.jsxs(V,{children:[d.jsx(x,{className:M.tabellAktivitet,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.YtelserFraInfotrygd.YtelseNavn"})})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(E,{size:"small",children:C(e/12)})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(O,{size:"small",children:C(e)})})]})]}):null,eG=[],nG=(e,n,r)=>{var t,i,s;const l=r.find(c=>c.år===e),o=l&&((t=l.inntekter.find(c=>c.pgiType===io.NÆRING))==null?void 0:t.beløp)||0,u=l&&((i=l.inntekter.find(c=>c.pgiType===io.LØNN))==null?void 0:i.beløp)||0,f=o+u,k=(s=n.find(c=>c.årstall===e))==null?void 0:s.beløp;return d.jsxs(U.Row,{shadeOnHover:!0,children:[d.jsx(U.DataCell,{children:e}),d.jsx(U.DataCell,{align:"right",children:C(u)}),d.jsx(U.DataCell,{align:"right",children:C(o)}),d.jsx(U.DataCell,{align:"right",children:C(f)}),d.jsx(U.DataCell,{align:"right",children:C(k)})]},e)},rG=(e,n)=>e.map(r=>r.årstall).sort((r,t)=>r-t).reverse().map(r=>nG(r,e,n)),tG=e=>d.jsxs(U.Row,{shadeOnHover:!0,children:[d.jsx(U.DataCell,{children:d.jsx(O,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.GsnittSum"})})}),d.jsx(U.DataCell,{}),d.jsx(U.DataCell,{}),d.jsx(U.DataCell,{}),d.jsx(U.DataCell,{align:"right",children:d.jsx(O,{children:C(e)})})]},"PGI-Oppsumert"),iG=({alleAndeler:e,inntektsgrunnlag:n})=>{const r=e.find(l=>l.aktivitetStatus===S.SELVSTENDIG_NAERINGSDRIVENDE||l.aktivitetStatus===S.BRUKERS_ANDEL),t=(n==null?void 0:n.pgiGrunnlag)||eG;if(!r||!r.pgiSnitt||!r.pgiVerdier)return null;const{pgiVerdier:i,pgiSnitt:s}=r;return d.jsxs(d.Fragment,{children:[d.jsx(re,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Pensjonsgivendeinntekt"})}),d.jsxs(U,{children:[d.jsx(U.Header,{children:d.jsxs(U.Row,{children:[d.jsx(U.HeaderCell,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.TreSisteÅr"})}),d.jsx(U.HeaderCell,{align:"right",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.ATFL"})}),d.jsx(U.HeaderCell,{align:"right",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.Næring"})}),d.jsx(U.HeaderCell,{align:"right",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.Sum"})}),d.jsx(U.HeaderCell,{align:"right",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.Gjustert"})})]})}),d.jsxs(U.Body,{children:[rG(i,t),tG(s)]})]})]})},sG="_colDevider_1att7_1",aG={colDevider:sG},bn=({prosentBredde:e})=>{const n=`${e}%`;return d.jsx(V,{children:d.jsx("div",{style:{width:n},children:d.jsx(x,{children:d.jsx("div",{className:aG.colDevider})})})})},lG=e=>e.aktivitetStatus===S.DAGPENGER?"Beregningsgrunnlag.TilstottendeYtelse.Dagpenger":e.aktivitetStatus===S.SYKEPENGER_AV_DAGPENGER?"Beregningsgrunnlag.TilstottendeYtelse.SykepengerAvDagpenger":e.aktivitetStatus===S.PLEIEPENGER_AV_DAGPENGER?"Beregningsgrunnlag.TilstottendeYtelse.PleiepengerAvDagpenger":e.aktivitetStatus===S.ARBEIDSAVKLARINGSPENGER?"Beregningsgrunnlag.TilstottendeYtelse.AAP":"",dG=e=>e===S.DAGPENGER,oG=({alleAndeler:e,relevanteStatuser:n,gjelderBesteberegning:r})=>{const t=e.filter(s=>am(s.aktivitetStatus)),i=t.length>1;return d.jsxs(d.Fragment,{children:[n.isKombinasjonsstatus&&d.jsxs(d.Fragment,{children:[d.jsx(j,{eightPx:!0}),d.jsx(re,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.TilstottendeYtelse.TittelNav"})}),d.jsx(j,{eightPx:!0})]}),d.jsxs(V,{children:[d.jsx(x,{className:M.tabellAktivitet}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(de,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(de,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),d.jsx(bn,{prosentBredde:100}),t.map(s=>d.jsxs("div",{children:[d.jsxs(V,{children:[d.jsx(x,{className:M.tabellAktivitet,children:d.jsx(O,{size:"small",children:d.jsx(m,{id:lG(s)})})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(E,{size:"small",children:C(s.beregnetPrAar?s.beregnetPrAar/12:0)})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(E,{size:"small",className:i?"":M.semiBoldText,children:C(s.beregnetPrAar)})})]}),d.jsx(bn,{prosentBredde:100}),r&&dG(s.aktivitetStatus)&&d.jsx(V,{children:d.jsx(x,{children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.TilstottendeYtelse.Besteberegning"})})})})]},s.aktivitetStatus))]})},gG=({alleAndeler:e})=>{const n=e.filter(t=>t.aktivitetStatus===S.MILITAER_ELLER_SIVIL),r=n&&n.length>0?n[0].beregnetPrAar:"";return d.jsxs(d.Fragment,{children:[d.jsx(V,{children:d.jsx(x,{children:d.jsx(re,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Militær"})})})}),d.jsx(j,{eightPx:!0}),d.jsx(V,{children:d.jsx(x,{children:d.jsx(O,{size:"small",children:C(r)})})})]})},uG="_aksjonspunktBehandlerBorder_6jbny_1",mG="_aksjonspunktBehandlerHeader_6jbny_10",kG="_aksjonspunktBehandlerImageCol_6jbny_18",fG="_aksjonspunktBehandlerTextCol_6jbny_24",pG="_aksjonspunktBehandlerNoBorder_6jbny_27",cG="_aksjonspunktBehandlerContainer_6jbny_30",vG="_verticalLine_6jbny_40",bG="_verticalAlignMiddle_6jbny_47",hG="_inputPadding_6jbny_54",jG="_inntektTableTB_6jbny_65",IG="_inntektTableTB_6jbny_65",AG="_rowSpacer_6jbny_69",xG="_textAreaWrapper_6jbny_109",yG="_textAreaWrapperHeigh_6jbny_112",EG="_dynamiskKolonne_6jbny_119",TG="_textAreaStyle_6jbny_123",_G="_bredde_6jbny_126",PG="_atflAvvikAktivitet_6jbny_129",SG="_atflAvvikInntekt_6jbny_133",NG="_atflEditedIcon_6jbny_136",RG="_breddeInntekt_6jbny_139",FG="_warningIcon_6jbny_142",ae={aksjonspunktBehandlerBorder:uG,aksjonspunktBehandlerHeader:mG,aksjonspunktBehandlerImageCol:kG,aksjonspunktBehandlerTextCol:fG,aksjonspunktBehandlerNoBorder:pG,aksjonspunktBehandlerContainer:cG,verticalLine:vG,verticalAlignMiddle:bG,inputPadding:hG,inntektTableTB:jG,inntektTableTb:IG,rowSpacer:AG,textAreaWrapper:xG,textAreaWrapperHeigh:yG,dynamiskKolonne:EG,textAreaStyle:TG,bredde:_G,atflAvvikAktivitet:PG,atflAvvikInntekt:SG,atflEditedIcon:NG,breddeInntekt:RG,warningIcon:FG},pu="inntektField",tp=e=>!!e.periodeAarsaker&&e.periodeAarsaker.map(n=>n).includes(on.ARBEIDSFORHOLD_AVSLUTTET),Gd=e=>{let n=0;for(;n<e.length&&!tp(e[n]);)n+=1;const r={...e[n]};return r.beregningsgrunnlagPeriodeTom=e[e.length-1].beregningsgrunnlagPeriodeTom,r},BG=e=>{const n=[];let r=0;for(;r<e.length;){const t={...e[r]};for(r+=1;r<e.length&&!tp(e[r]);)r+=1;t.beregningsgrunnlagPeriodeTom=e[r-1].beregningsgrunnlagPeriodeTom,n.push(t)}return n},bs=(e,n)=>e.arbeidsforhold?`${pu}_${e.arbeidsforhold.arbeidsforholdId}_${e.andelsnr}_${n.beregningsgrunnlagPeriodeFom}`:`${pu}_${e.andelsnr}_${n.beregningsgrunnlagPeriodeFom}`,Ut=e=>e.beregningsgrunnlagPrStatusOgAndel?e.beregningsgrunnlagPrStatusOgAndel.filter(n=>n.aktivitetStatus===S.ARBEIDSTAKER&&n.erTilkommetAndel!==!0):[],Md=e=>{const n=e!=null&&e.arbeidsforholdId?e==null?void 0:e.arbeidsforholdId:"";return e?`${e.arbeidsgiverIdent}${n}`:""},OG=e=>{const n={};return Ut(e).forEach(r=>{n[Md(r.arbeidsforhold)]=C(r.beregnetPrAar)}),n},VG=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?r[e.arbeidsgiverIdent]:null;return i?vs(i,e.eksternArbeidsforholdId):e.arbeidsforholdType?(t=n[ye.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn:""},xl=()=>({erTidsbegrenset:!0,isEditable:!1,tabellInnhold:"",inputfieldKey:""}),$G=(e,n,r)=>{const t=OG(e),i=Ut(e),s={};return i.forEach(l=>{if(!l.arbeidsforhold)return;const o=Md(l.arbeidsforhold),u=xl();u.tabellInnhold=VG(l.arbeidsforhold,n,r),u.erTidsbegrenset=l.erTidsbegrensetArbeidsforhold!==void 0?l.erTidsbegrensetArbeidsforhold:!1,s[o]=[u];const f=xl();f.erTidsbegrenset=!1,f.tabellInnhold=t[o]||"",s[o].push(f)}),s},DG=(e,n,r)=>{const t={...Gd(e)},i=$G(e[0],n,r);return Ut(t).forEach(s=>{const l=Md(s.arbeidsforhold),o=xl();o.tabellInnhold=s.overstyrtPrAar!==void 0&&s.overstyrtPrAar!==null?C(s.overstyrtPrAar):"",o.erTidsbegrenset=!1,o.isEditable=!0,o.inputfieldKey=bs(s,t),i[l].push(o)}),i},GG=e=>d.jsxs("tr",{id:"bruttoPrPeriodeRad",children:[d.jsx("td",{colSpan:2,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerTB.SumPeriode"})})},"bruttoTittel"),e.map(n=>d.jsx("td",{colSpan:2,children:d.jsx(E,{size:"small",className:M.semiBoldText,children:C(n.brutto)})},n.periodeFom))]},"bruttoPrPeriodeRad"),MG=e=>d.jsxs("tr",{children:[d.jsx("td",{}),e.map(n=>{const r=n.periodeFom;return d.jsx("td",{colSpan:2,children:d.jsx(de,{children:De(r)})},`periodeittel${r}`)}),d.jsx("td",{})]},"PeriodeHeaderRad"),LG=(e,n,r,t,i,s)=>{const l=[];return l.push(MG(t)),l.push(d.jsxs("tr",{children:[d.jsx("td",{colSpan:2},"ombergenetAarBlank"),t.map((o,u)=>d.jsx(L.Fragment,{children:d.jsx("td",{colSpan:2,children:d.jsx(de,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandler.OmberegnetAar"},`Tittel_${o.periodeFom}`)})},`Col_Tittel_${o.periodeFom}`)},`PeriodeWrapper${u+1}`))]},"Tabletop")),Object.keys(e).forEach(o=>{const u=e[o];l.push(d.jsx("tr",{children:u.map(f=>f.isEditable?d.jsx(L.Fragment,{children:d.jsx("td",{colSpan:2,children:d.jsx("div",{className:r&&n?ae.adjustedField:void 0,children:d.jsx(ce,{name:`${s}.${i}.${f.inputfieldKey}`,validate:[W,en(178956970)],readOnly:n,isEdited:n&&r,parse:Se,className:ae.breddeInntekt})})},`Col-${f.inputfieldKey}`)},`key${f.inputfieldKey}`):d.jsx("td",{colSpan:2,children:d.jsx(E,{size:"small",children:f.tabellInnhold})},f.tabellInnhold))},o))}),l.push(d.jsx("tr",{className:ae.rowSpacer,children:d.jsx("td",{})},"sdeparator")),l.push(GG(t)),l},KG=e=>{const n=e[0];return{brutto:(n.beregningsgrunnlagPrStatusOgAndel?n.beregningsgrunnlagPrStatusOgAndel.filter(r=>r.aktivitetStatus===S.ARBEIDSTAKER).map(r=>r.beregnetPrAar):[]).reduce((r,t)=>r+t),periodeFom:n.beregningsgrunnlagPeriodeFom,periodeTom:n.beregningsgrunnlagPeriodeTom}},wG=(e,n,r,t)=>{const i=[];if(e.length<1)return i;const s=Gd(e);i.push(KG(e));const l=Ut(s).map(o=>{const u=bs(o,s),f=n.watch(`${t}.${r}.${u}`);return f===void 0||f===""?0:ue(f)}).reduce((o,u)=>o+u);return i.push({brutto:l,periodeFom:s.beregningsgrunnlagPeriodeFom,periodeTom:s.beregningsgrunnlagPeriodeTom}),i},zt=({readOnly:e,allePerioder:n,kodeverkSamling:r,arbeidsgiverOpplysningerPerId:t,fieldIndex:i,formName:s})=>{const l=DG(n,r,t),o=n.some(k=>{var c;return(c=k.beregningsgrunnlagPrStatusOgAndel)==null?void 0:c.some(b=>b.aktivitetStatus===S.ARBEIDSTAKER&&(!!b.overstyrtPrAar||b.overstyrtPrAar===0))}),u=ve(),f=wG(n,u,i,s);return d.jsx("table",{className:ae.inntektTableTB,children:d.jsx("tbody",{children:LG(l,e,o,f,i,s)})})};zt.buildInitialValues=e=>{const n={};return BG(e).forEach(r=>{(r.beregningsgrunnlagPrStatusOgAndel?r.beregningsgrunnlagPrStatusOgAndel.filter(t=>t.aktivitetStatus===S.ARBEIDSTAKER):[]).forEach(t=>{const i=C(t.overstyrtPrAar);n[bs(t,r)]=i||""})}),n};zt.transformValues=(e,n)=>{const r=Gd(n),t=Ut(r),i=[];return t.forEach(s=>{const l=ue(e[bs(s,r)]);i.push({andelsnr:s.andelsnr,bruttoFastsattInntekt:l})}),[{periodeFom:r.beregningsgrunnlagPeriodeFom,periodeTom:r.beregningsgrunnlagPeriodeTom,fastsatteTidsbegrensedeAndeler:i}]};const CG=e=>e.overstyrtPrAar!==null&&e.overstyrtPrAar!==void 0?!0:e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,ip=e=>e?e.filter(n=>n.aktivitetStatus===S.ARBEIDSTAKER).filter(n=>n.skalFastsetteGrunnlag===!0).filter(n=>CG(n)):[],UG=(e,n,r,t,i,s)=>e.map((l,o)=>d.jsxs(V,{className:ae.verticalAlignMiddle,children:[d.jsx(x,{className:ae.atflAvvikAktivitet,children:d.jsx(E,{size:"small",children:Al(l,t,n)})}),d.jsx(x,{className:ae.atflAvvikInntekt,children:d.jsx("div",{id:"readOnlyWrapper",className:r?ae.inputPadding:void 0,children:d.jsx(ce,{name:`${s}.${i}.inntekt${o}`,validate:[W,en(178956970)],readOnly:r,parse:Se,className:ae.breddeInntekt,isEdited:r&&(!!l.overstyrtPrAar||l.overstyrtPrAar===0)})})})]},`index${o+1}`)),Ld=({readOnly:e,alleAndelerIForstePeriode:n,kodeverkSamling:r,arbeidsgiverOpplysningerPerId:t,fieldIndex:i,formName:s})=>{const l=ip(n);return d.jsx(d.Fragment,{children:UG(l,r,e,t,i,s)})};Ld.transformValues=(e,n)=>{let r=[];return n.find(t=>t.aktivitetStatus===S.ARBEIDSTAKER)&&(r=ip(n).map(({andelsnr:t},i)=>{const s=e[`inntekt${i}`];if(!t)throw new Error("Forventer andelsnr på andeler som skal fastsettes.");return{inntekt:s===void 0||s===""?0:ue(s),andelsnr:t}})),r};const zG=({alleAndeler:e})=>{var n;const r=e.find(s=>!s.erTilkommetAndel&&s.aktivitetStatus===S.FRILANSER);if(!r)return null;const t=r.beregnetPrAar,i=(n=r.arbeidsforhold)==null?void 0:n.startdato;return d.jsxs(d.Fragment,{children:[d.jsx(re,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Frilansinntekt"})}),d.jsx(j,{fourPx:!0}),d.jsxs(V,{className:M.rows,children:[d.jsx(x,{className:M.tabellAktivitet,children:i&&d.jsxs(E,{size:"small",children:[d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.FrilansStartDato2"}),d.jsx("span",{className:M.semiBoldText,children:d.jsx(_e,{dateString:i})})]})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(de,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(de,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),d.jsx(bn,{prosentBredde:100}),d.jsxs(V,{className:M.rows,children:[d.jsx(x,{className:M.tabellAktivitet,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.InnrapportertFrilans"})})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(E,{size:"small",children:t?C(t/12):0})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(O,{size:"small",children:t?C(t):0})})]})]})},qG=({option:e,style:n,height:r})=>{const t=h.useRef(null);return h.useEffect(()=>{let i;t.current!==null&&(i=Qp(t.current));const s=()=>{i==null||i.resize()};return window.addEventListener("resize",s),()=>{i==null||i.dispose(),window.removeEventListener("resize",s)}},[]),h.useEffect(()=>{if(t.current!==null){const i=ec(t.current);i&&(i.setOption(e),(i==null?void 0:i.getWidth())===0&&(i==null||i.resize()))}},[t.current,e]),d.jsx("div",{ref:t,style:{width:"auto",height:r,...n}})},HG="_lesMer_1gsng_1",YG="_sammenligningGrafOppsummeringType_1gsng_4",JG="_sammenligningGrafOppsummeringInntekt_1gsng_7",vr={lesMer:HG,sammenligningGrafOppsummeringType:YG,sammenligningGrafOppsummeringInntekt:JG},WG=[],ZG="#99bdcd",XG="#c1b5d0",QG="#C6C2BF",eM=(e,n)=>{const r=e.flatMap(s=>s.inntekter).filter(s=>s.inntektAktivitetType===yn.ARBEID).map(({beløp:s})=>s).reduce((s,l)=>s+l,0),t=e.flatMap(s=>s.inntekter).filter(s=>s.inntektAktivitetType===yn.FRILANS).map(({beløp:s})=>s).reduce((s,l)=>s+l,0),i=e.flatMap(s=>s.inntekter).filter(s=>s.inntektAktivitetType===yn.YTELSE).map(({beløp:s})=>s).reduce((s,l)=>s+l,0);return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:M.storSpace}),d.jsx(V,{children:d.jsx(x,{children:d.jsx(O,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.SumTittel"})})})}),n.harArbeidsinntekt&&d.jsxs(d.Fragment,{children:[d.jsxs(V,{children:[d.jsx(x,{className:vr.sammenligningGrafOppsummeringType,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Arbeid"})})}),d.jsx(x,{className:vr.sammenligningGrafOppsummeringInntekt,children:d.jsx(E,{size:"small",children:C(r)})})]}),d.jsx(bn,{prosentBredde:20})]}),n.harFrilansinntekt&&d.jsxs(d.Fragment,{children:[d.jsxs(V,{children:[d.jsx(x,{className:vr.sammenligningGrafOppsummeringType,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Frilans"})})}),d.jsx(x,{className:vr.sammenligningGrafOppsummeringInntekt,children:d.jsx(E,{size:"small",children:C(t)})})]}),d.jsx(bn,{prosentBredde:20})]}),n.harYtelseinntekt&&d.jsxs(d.Fragment,{children:[d.jsxs(V,{children:[d.jsx(x,{className:vr.sammenligningGrafOppsummeringType,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ytelse"})})}),d.jsx(x,{className:vr.sammenligningGrafOppsummeringInntekt,children:d.jsx(E,{size:"small",children:C(i)})})]}),d.jsx(bn,{prosentBredde:20})]})]})},nM=(e,n)=>!e||e.length===0?0:n?e.filter(r=>r.inntektAktivitetType===n).reduce((r,t)=>r+t.beløp,0):e.reduce((r,t)=>r+t.beløp,0),oa=(e,n,r)=>{const t=[];for(let i=0;i<12;i+=1){const s=y(n,Te).add(i,"M").format("YYYYMM"),l=e.find(u=>y(u.fom,Te).format("YYYYMM")===s),o=nM((l==null?void 0:l.inntekter)||[],r);t.push([o,s])}return t},rM=()=>d.jsxs(d.Fragment,{children:[d.jsx(V,{children:d.jsx(x,{children:d.jsx(re,{size:"small",className:M.avsnittOverskrift,children:d.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Tittel"})})})},"SamenenligningsGrunnlagOverskrift"),d.jsx(j,{eightPx:!0}),d.jsx(V,{children:d.jsx(x,{children:d.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ingress"})})})]}),ga=(e,n)=>e.flatMap(r=>r.inntekter).some(r=>r.inntektAktivitetType===n),tM=e=>({harFrilansinntekt:ga(e,yn.FRILANS),harArbeidsinntekt:ga(e,yn.ARBEID),harYtelseinntekt:ga(e,yn.YTELSE)}),iM=({sammenligningsGrunnlagInntekter:e,sammenligningsgrunnlag:n})=>{const r=X(),t=(e==null?void 0:e.måneder)||WG,i=h.useMemo(()=>tM(t),[t]),s=n&&n.length>0?n[0].sammenligningsgrunnlagFom:void 0,l=h.useMemo(()=>i.harArbeidsinntekt&&s?oa(t,s,yn.ARBEID):[],[i.harArbeidsinntekt,t,s]),o=h.useMemo(()=>i.harFrilansinntekt&&s?oa(t,s,yn.FRILANS):[],[i.harArbeidsinntekt,t,s]),u=h.useMemo(()=>i.harYtelseinntekt&&s?oa(t,s,yn.YTELSE):[],[i.harArbeidsinntekt,t,s]),f=h.useCallback(v=>v.value[0]>5e3?C(v.value[0])||"":v.value[0]===0?"":"..",[]);if(!t||t.length===0||!n||n.length<1)return null;const k=r.formatMessage({id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Arbeid"}),c=r.formatMessage({id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Frilans"}),b=r.formatMessage({id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ytelse"});return d.jsxs(d.Fragment,{children:[d.jsx(Ee,{size:"medium",header:rM(),defaultOpen:!0,children:d.jsx(qG,{option:{tooltip:{trigger:"axis",formatter:v=>{const I=v,T=I[0].data,P=y(T[1]),_=P.locale(Il).format("MMM"),R=P.format("YYYY"),A=`${_.charAt(0).toUpperCase()+_.slice(1)} ${R}`,N=I.reduce((F,G)=>{const $=G.data;return F.concat(`${(G.marker||"")+(G.seriesName||"")}: ${C($[0])}`)},[]).join("<br/>");return`${A}<br />${N}`},axisPointer:{type:"shadow"}},legend:{data:[k,c,b]},grid:{left:"1%",right:"5%",bottom:"0%",containLabel:!0},xAxis:{type:"value",axisLabel:{formatter:v=>C(v)||"",margin:12}},yAxis:{type:"category",boundaryGap:!1,axisLabel:{formatter:v=>{const I=y(v),T=I.format("MM")==="01"||I.format("MM")==="12",P=I.locale(Il).format("MMM"),_=I.format("YYYY"),R=P.charAt(0).toUpperCase()+P.slice(1,3);return T?`${R}
${_}`:R}}},series:[{name:k,type:"bar",stack:"total",label:{show:!0,fontSize:"11",formatter:f},emphasis:{focus:"series"},data:l},{name:c,type:"bar",stack:"total",label:{show:!0,fontSize:"11",formatter:f},emphasis:{focus:"series"},data:o},{name:b,type:"bar",stack:"total",label:{show:!0,fontSize:"11",formatter:f},emphasis:{focus:"series"},data:u}],color:[ZG,XG,QG]},height:350})}),eM(t,i)]})},sp=e=>!e.arbeidsforhold||!e.arbeidsforhold.arbeidsgiverIdent?"N/A":e.arbeidsforhold.arbeidsforholdId?e.arbeidsforhold.arbeidsgiverIdent+e.arbeidsforhold.arbeidsforholdId:e.arbeidsforhold.arbeidsgiverIdent,sM=(e,n)=>{if(!e.arbeidsforhold||!e.arbeidsforhold.arbeidsgiverIdent)return"Ukjent arbeidsforhold";const r=n[e.arbeidsforhold.arbeidsgiverIdent];return vs(r,e.arbeidsforhold.eksternArbeidsforholdId)},ap=e=>e.beregningsgrunnlagPrStatusOgAndel?e.beregningsgrunnlagPrStatusOgAndel:[],aM=(e,n)=>{const r=sM(e,n),t=sp(e);return{visningsnavn:r,nøkkel:t,naturalytelseEndringer:[]}},lM=e=>{var n;return!!((n=e.arbeidsforhold)!=null&&n.naturalytelseBortfaltPrÅr)},dM=(e,n)=>{if(!e||e.length<1)return[];const r=[];return e.forEach(t=>{ap(t).filter(i=>lM(i)).map(i=>aM(i,n)).forEach(i=>{r.some(({nøkkel:s})=>s===i.nøkkel)||r.push(i)})}),r},oM=(e,n)=>{const r=ap(e).find(t=>sp(t)===n);return(r&&r.arbeidsforhold?r.arbeidsforhold.naturalytelseBortfaltPrÅr:0)||0},gM=(e,n)=>{const r=[];return n.forEach(t=>{const i=oM(t,e.nøkkel);i&&r.push({fom:t.beregningsgrunnlagPeriodeFom||"",tom:t.beregningsgrunnlagPeriodeTom||"",beløpPrÅr:i,beløpPrMåned:i/12})}),r},uM=e=>{if(!e||e.length<2)return e;e.sort((t,i)=>y(t.fom).diff(y(i.fom)));const n=[];let r=y(e[0].fom);return e.forEach(t=>{if(!y(t.fom).isBefore(r)){const i=e.find(s=>y(s.fom).isAfter(t.fom)&&s.beløpPrÅr!==t.beløpPrÅr);if(i){const s=y(i.fom).subtract(1,"d");n.push({tom:s.format(Te),fom:t.fom,beløpPrÅr:t.beløpPrÅr,beløpPrMåned:t.beløpPrMåned}),r=s}else r=y(Me),n.push({tom:"",fom:t.fom,beløpPrÅr:t.beløpPrÅr,beløpPrMåned:t.beløpPrMåned})}}),n},mM=(e,n)=>{const r=dM(e,n);return r.forEach(t=>{const i=gM(t,e);uM(i).forEach(s=>t.naturalytelseEndringer.push(s))}),!r||r.length<1?void 0:{rader:r}},kM=e=>e.tom?`${De(e.fom)} - ${De(e.tom)}`:`${De(e.fom)} -`,fM=e=>e.rader.map(n=>d.jsxs("div",{children:[d.jsx(V,{children:d.jsx(x,{className:M.noPaddingRight,children:d.jsx(O,{size:"small",children:n.visningsnavn})})}),n.naturalytelseEndringer.map(r=>d.jsxs(V,{children:[d.jsx(x,{className:M.tabellAktivitet,children:d.jsx(E,{size:"small",children:kM(r)})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(E,{size:"small",children:C(r.beløpPrMåned)})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(O,{size:"small",children:C(r.beløpPrÅr)})})]},n.nøkkel+r.fom))]},n.nøkkel)),pM=({allePerioder:e,arbeidsgiverOpplysningerPerId:n})=>{const r=h.useMemo(()=>mM(e,n),[e]);return r?d.jsxs(d.Fragment,{children:[d.jsx(j,{thirtyTwoPx:!0}),d.jsx(O,{size:"small",className:M.avsnittOverskrift,children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Naturalytelse2"})}),d.jsxs(V,{children:[d.jsx(x,{className:M.tabellAktivitet}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(de,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(de,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),fM(r)]}):null},cM=e=>e.overstyrtPrAar!==null&&e.overstyrtPrAar!==void 0?!0:e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,lp=e=>e?e.filter(n=>n.aktivitetStatus===S.ARBEIDSTAKER).filter(n=>cM(n)):[],vM=e=>{const n=[];return Object.prototype.hasOwnProperty.call(e,"startdato")&&e.startdato&&n.push(De(e.startdato)),Object.prototype.hasOwnProperty.call(e,"opphoersdato")&&e.opphoersdato&&(n.push("-"),n.push(De(e.opphoersdato))),n.join(" ")},bM=e=>{const n=[""];return Object.prototype.hasOwnProperty.call(e,"stillingsNavn")&&e.stillingsNavn&&n.push(e.stillingsNavn),Object.prototype.hasOwnProperty.call(e,"stillingsProsent")&&e.stillingsProsent&&n.push(`${e.stillingsProsent}%`),n.length!==0?n.join(" "):" "},cu=e=>e.beregnetPrAar?e.beregnetPrAar:0,hM=(e,n,r)=>{const t=e.reduce((l,o)=>l+cu(o),0),i=t?t/12:0,s=e.map((l,o)=>{var u,f,k;return d.jsxs(L.Fragment,{children:[d.jsxs(xe,{children:[d.jsxs(V,{children:[d.jsx(x,{className:M.tabellAktivitet,children:d.jsx(O,{size:"small",className:M.semiBoldText,children:Al(l,r,n)},`ColLableTxt${o+1}`)}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(E,{children:C(cu(l)/12)},`ColBrgMndTxt${(u=l.arbeidsforhold)==null?void 0:u.arbeidsgiverIdent}`)}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(O,{children:C(l.beregnetPrAar)},`ColBrgAarTxt${(f=l.arbeidsforhold)==null?void 0:f.arbeidsgiverIdent}`)})]}),d.jsxs(V,{children:[l.arbeidsforhold&&l.arbeidsforhold.stillingsNavn&&d.jsx(x,{children:d.jsx(E,{children:bM(l.arbeidsforhold)})}),l.arbeidsforhold&&l.arbeidsforhold.startdato&&d.jsx(x,{children:d.jsx(de,{children:vM(l.arbeidsforhold)})}),l.erTidsbegrensetArbeidsforhold&&d.jsx(x,{children:d.jsx(de,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Tidsbegrenset"})})})]},`indexD${(k=l.arbeidsforhold)==null?void 0:k.arbeidsgiverIdent}`)]}),d.jsx(j,{eightPx:!0}),d.jsx(bn,{prosentBredde:100})]},`ArbInntektWrapper${Al(l,r,n)}${o+1}`)});if(e.length>1){const l=d.jsx(xe,{children:d.jsxs(V,{children:[d.jsx(x,{className:M.tabellAktivitet,children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.TotaltArbeidsinntekt"})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(E,{children:C(i)})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(O,{children:C(t)})})]})},"SummaryRow");s.push(l)}return s},hs=({alleAndelerIFørstePeriode:e,allePerioder:n,arbeidsgiverOpplysningerPerId:r,kodeverkSamling:t})=>{const i=lp(e);return!i||i.length===0?null:d.jsxs(d.Fragment,{children:[d.jsx(V,{children:d.jsx(x,{children:d.jsx(re,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt"})})})}),d.jsx(xe,{children:d.jsxs(V,{children:[d.jsx(x,{className:M.tabellAktivitet}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(de,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(de,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]})}),d.jsx(bn,{prosentBredde:100}),hM(i,t,r),d.jsx(pM,{allePerioder:n,arbeidsgiverOpplysningerPerId:r})]})};hs.defaultProps={allePerioder:void 0};hs.buildInitialValues=e=>{const n=lp(e),r={};return n.forEach((t,i)=>{r[`inntekt${i}`]=C(t.overstyrtPrAar)||""}),r};const jM="_lesMer_1w256_1",IM="_overskrift_1w256_4",AM="_merTekstBorder_1w256_9",xM={lesMer:jM,overskrift:IM,merTekstBorder:AM},yM=e=>{const n=e==null?void 0:e.virksomhetType;if(!n)return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.UDEFINERT";switch(n){case"JORDBRUK_SKOGBRUK":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.JORDBRUK_SKOGBRUK";case"DAGMAMMA":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.DAGMAMMA";case"FISKE":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FISKE";case"FRILANSER":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FRILANSER";case"ANNEN":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.ANNEN";default:return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.UDEFINERT"}},vu=e=>{const{oppstartsdato:n,opphørsdato:r}=e;if(n)return r?`${De(n)}-${De(r)} `:`${De(n)}-`},EM=e=>{const{regnskapsførerNavn:n,regnskapsførerTlf:r}=e;if(n)return r?`${n}-${r} `:`${n}-`},TM=(e,n)=>{const r=n[e.orgnr];return r?r.navn:"Ukjent bedriftsnavn"},_M=e=>{const{oppstartsdato:n,erVarigEndret:r,endringsdato:t}=e,i=r?"Beregningsgrunnlag.NaeringsOpplysningsPanel.VarigEndret":"Beregningsgrunnlag.NaeringsOpplysningsPanel.Nyoppstaret",s=r?t:n;return s?d.jsx(O,{size:"small",className:M.semiBoldText,children:d.jsx(m,{id:i,values:{dato:De(s),b:l=>d.jsx("b",{children:l})}})}):null},PM=e=>{const{erNyoppstartet:n,erVarigEndret:r}=e;return!!r||!!n},SM=e=>e.begrunnelse&&e.begrunnelse!==""?d.jsx(E,{size:"small",className:xM.merTekstBorder,children:e.begrunnelse}):null,NM=e=>!!e.oppgittInntekt||e.oppgittInntekt===0,RM=({alleAndelerIForstePeriode:e,arbeidsgiverOpplysningerPerId:n})=>{const r=e.find(t=>t.aktivitetStatus===S.SELVSTENDIG_NAERINGSDRIVENDE);return r!=null&&r.næringer?d.jsxs(d.Fragment,{children:[d.jsxs(V,{children:[d.jsx(x,{className:M.tabellAktivitet,children:d.jsx(re,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.NaeringsOpplysningsPanel.Overskrift"})})}),d.jsx(x,{className:M.tabellAktivitet}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(de,{children:d.jsx(m,{id:"Beregningsgrunnlag.NaeringsOpplysningsPanel.OppgittAar"})})})]}),d.jsx(bn,{prosentBredde:100}),r.næringer.map(t=>d.jsxs(L.Fragment,{children:[d.jsxs(V,{children:[d.jsx(x,{className:M.næringOpplysningNavn,children:d.jsx(O,{size:"small",className:M.semiBoldText,children:TM(t,n)})}),d.jsx(x,{className:M.næringOpplysningInntekt,children:NM(t)&&d.jsx(O,{size:"small",children:C(t.oppgittInntekt)})})]}),d.jsxs(V,{children:[d.jsx(x,{className:M.næringOpplysningOrgnr,children:d.jsx(E,{size:"small",children:t&&t.orgnr?t.orgnr:""})}),d.jsx(x,{className:M.næringOpplysningDato,children:vu(t)&&d.jsx(E,{size:"small",children:vu(t)})})]},`NaringsDetaljer${t.orgnr}`),d.jsx(V,{children:d.jsx(x,{children:d.jsx(E,{size:"small",children:d.jsx(m,{id:yM(t)})})})}),d.jsx(V,{children:d.jsx(x,{children:t.regnskapsførerNavn&&d.jsx(E,{size:"small",children:EM(t)})})},`RevisorRad${t.orgnr}`),PM(t)&&d.jsxs(d.Fragment,{children:[d.jsx(bn,{prosentBredde:100}),d.jsx(j,{twentyPx:!0}),_M(t),d.jsx(j,{eightPx:!0}),d.jsx(V,{className:M.næringEndringBeskrivelse,children:d.jsx(x,{children:SM(t)})})]})]},`NaringsWrapper${t.orgnr}`))]}):null},{FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:FM,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:BM}=le,OM=e=>e&&e.find(n=>n.definisjon===FM||n.definisjon===BM),VM=e=>e&&e.length>0?e[0].beregningsgrunnlagPrStatusOgAndel||[]:[],Jn=d.jsx("div",{className:M.storSpace}),$M=(e,n,r,t,i,s,l,o)=>d.jsxs("div",{className:M.panelLeft,children:[n.isArbeidstaker&&d.jsx(hs,{alleAndelerIFørstePeriode:e,allePerioder:r,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:s}),n.isFrilanser&&d.jsxs(d.Fragment,{children:[Jn,d.jsx(zG,{alleAndeler:e})]}),n.harDagpengerEllerAAP&&d.jsxs("div",{children:[Jn,d.jsx(oG,{alleAndeler:e,relevanteStatuser:n,gjelderBesteberegning:t})]}),n.isMilitaer&&d.jsxs(d.Fragment,{children:[Jn,d.jsx(gG,{alleAndeler:e})]}),n.harAndreTilstotendeYtelser&&d.jsxs(d.Fragment,{children:[Jn,d.jsx(QD,{bruttoPrAar:r[0].bruttoPrAar})]}),(n.isSelvstendigNaeringsdrivende||n.isMidlertidigInaktiv)&&d.jsxs(d.Fragment,{children:[Jn,d.jsx(iG,{alleAndeler:e,inntektsgrunnlag:o}),Jn,d.jsx(RM,{alleAndelerIForstePeriode:e,arbeidsgiverOpplysningerPerId:s})]}),(n.isFrilanser||n.isArbeidstaker)&&o&&l&&d.jsxs(d.Fragment,{children:[Jn,d.jsx(iM,{sammenligningsGrunnlagInntekter:o,sammenligningsgrunnlag:l})]})]}),wn=({relevanteStatuser:e,allePerioder:n,gjelderBesteberegning:r,kodeverkSamling:t,sammenligningsGrunnlagInntekter:i,arbeidsgiverOpplysningerPerId:s,sammenligningsgrunnlag:l})=>{if(!n)return null;const o=VM(n);return $M(o,e,n,r,t,s,l,i)};wn.defaultProps={allePerioder:void 0,sammenligningsGrunnlagInntekter:void 0};wn.buildInitialValues=e=>{const n=OM(e);return{ATFLVurdering:n&&n.begrunnelse?n.begrunnelse:""}};wn.transformATFLValues=(e,n)=>({begrunnelse:e.ATFLVurdering,inntektPrAndelList:Ld.transformValues(e,n),inntektFrilanser:e.inntektFrilanser!==void 0?ue(e.inntektFrilanser):null});wn.transformATFLTidsbegrensetValues=(e,n)=>({begrunnelse:e.ATFLVurdering,fastsatteTidsbegrensedePerioder:zt.transformValues(e,n),frilansInntekt:e.inntektFrilanser!==void 0?ue(e.inntektFrilanser):null});const{VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:dp,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:Kd,FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:op,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:gp,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:up}=le,DM=(e,n)=>{switch(e.definisjon){case dp:return n.find(r=>r.sammenligningsgrunnlagType===me.ATFLSN||r.sammenligningsgrunnlagType===me.SN);case Kd:return n.find(r=>r.sammenligningsgrunnlagType===me.MIDLERTIDIG_INAKTIV);case op:case gp:return n.find(r=>r.sammenligningsgrunnlagType===me.ATFLSN||r.sammenligningsgrunnlagType===me.AT_FL||r.sammenligningsgrunnlagType===me.AT||r.sammenligningsgrunnlagType===me.FL);case up:return;default:return}},GM=(e,n)=>{const r=DM(e,n),t=r&&r.avvikProsent?r.avvikProsent:0;return Number(t.toFixed(1))},bu=e=>e&&e.length>0,MM=e=>e.sammenligningsgrunnlagPrStatus?e.sammenligningsgrunnlagPrStatus:[],LM={[op]:"Beregningsgrunnlag.Helptext.Arbeidstaker",[gp]:"Beregningsgrunnlag.Helptext.TidsbegrensetArbeidsforhold",[up]:"Beregningsgrunnlag.Helptext.NyIArbeidslivetSN",[Kd]:"Beregningsgrunnlag.Helptext.VarigEndretArbeidssituasjon"},KM=(e,n)=>e.definisjon===dp?n?"Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.VarigEndring":"Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.Nyoppstartet":LM[e.definisjon],wM=(e,n,r)=>{var t;const i=r.find(l=>l.aktivitetStatus===S.SELVSTENDIG_NAERINGSDRIVENDE),s=!!((t=i==null?void 0:i.næringer)!=null&&t.some(l=>l.erVarigEndret===!0));return d.jsxs("div",{children:[d.jsx(ts,{children:e.map(l=>d.jsx(O,{children:d.jsx(m,{id:KM(l,s||l.definisjon===Kd),values:{verdi:GM(l,n),b:o=>d.jsx("b",{children:o}),br:d.jsx("br",{})}})},l.definisjon))}),d.jsx(j,{thirtyTwoPx:!0})]})},CM=({avklaringsbehov:e,beregningsgrunnlag:n})=>{const r=n.beregningsgrunnlagPeriode?n.beregningsgrunnlagPeriode[0]:void 0,t=r&&r.beregningsgrunnlagPrStatusOgAndel?r.beregningsgrunnlagPrStatusOgAndel:[],i=e.filter(l=>gn(l.status));if(!(bu(i)&&bu(t)))return null;const s=MM(n);return d.jsxs(d.Fragment,{children:[d.jsx(j,{eightPx:!0}),wM(i,s,t)]})},UM="_aksjonspunktBehandlerBorder_o9hgh_1",zM="_aksjonspunktBehandlerContainer_o9hgh_6",qM="_verticalLine_o9hgh_16",HM="_verticalAlignMiddle_o9hgh_23",YM="_inputPadding_o9hgh_27",JM="_inntektTableTB_o9hgh_35",WM="_inntektTableTB_o9hgh_35",ZM="_rowSpacer_o9hgh_39",XM="_textAreaWrapper_o9hgh_71",QM="_textAreaWrapperHeigh_o9hgh_74",eL="_dynamiskKolonne_o9hgh_81",nL={aksjonspunktBehandlerBorder:UM,aksjonspunktBehandlerContainer:zM,verticalLine:qM,verticalAlignMiddle:HM,inputPadding:YM,inntektTableTB:JM,inntektTableTb:WM,rowSpacer:ZM,textAreaWrapper:XM,textAreaWrapperHeigh:QM,dynamiskKolonne:eL},hu=(e,n,r)=>d.jsx(V,{children:d.jsx(x,{children:d.jsx(E,{size:"small",children:d.jsx(m,{id:e,values:{fom:y(n).format(ee),tom:y(r).format(ee)}})})})}),rL=e=>{const n=e.frisinnAndeler.find(t=>t.statusSøktFor===S.SELVSTENDIG_NAERINGSDRIVENDE),r=e.frisinnAndeler.find(t=>t.statusSøktFor===S.FRILANSER);return d.jsxs("div",{children:[r&&hu("Beregningsgrunnlag.Søknad.SøktYtelseFL",e.fom,e.tom),n&&hu("Beregningsgrunnlag.Søknad.SøktYtelseSN",e.fom,e.tom)]},e.fom)},tL=({beregningsgrunnlag:e})=>{const n=e.ytelsesspesifiktGrunnlag,{frisinnPerioder:r}=n;return d.jsxs("div",{children:[d.jsx(V,{children:d.jsx(x,{children:d.jsx(O,{size:"small",className:M.avsnittOverskrift,children:d.jsx(m,{id:"Beregningsgrunnlag.Søknad.Tittel"})})})}),d.jsx(j,{eightPx:!0}),Array.isArray(r)&&r.map(t=>rL(t)),d.jsx(j,{sixteenPx:!0})]})},ju=(e,n)=>{if(!e)return 0;const r=e.filter(t=>t.aktivitetStatus===n).map(({bruttoPrAar:t})=>t||0).reduce((t,i)=>t+i,0);return!r||r===0?0:r},mp=e=>e.month()===2&&e.year()===2020,iL=e=>{const n=y(e.tom);return mp(n)},kp=(e,n,r)=>{const{frisinnPerioder:t}=r;if(!Array.isArray(t))return null;const i=y(n.beregningsgrunnlagPeriodeFom);if(mp(i)&&t.some(o=>iL(o))){const o=y("2020-04-30"),u=t.find(f=>y(f.tom).isSame(o,"day"));return u?u.frisinnAndeler.filter(f=>f.statusSøktFor===e):null}const s=y(n.beregningsgrunnlagPeriodeTom).endOf("month"),l=t.find(o=>!y(o.fom).isBefore(i)&&y(o.tom).isSame(s,"day"));return l?l.frisinnAndeler.filter(o=>o.statusSøktFor===e):null},Vr=(e,n,r)=>{const t=kp(e,n,r);return!!t&&t.length>0},Ze=(e,n,r)=>{if(!e||!n||!r)return 0;if(Vr(e,r,n.ytelsesspesifiktGrunnlag)){const t=n.beregningsgrunnlagPeriode[0];return ju(t.beregningsgrunnlagPrStatusOgAndel||[],e)}return ju(r.beregningsgrunnlagPrStatusOgAndel||[],e)},Iu=(e,n,r)=>{const t=kp(e,n,r);if(!t||t.length<1)return 0;const i=t.map(({oppgittInntekt:s})=>s).reduce((s,l)=>s+l,0);return!i||i===0?0:i},fp=e=>{const{frisinnPerioder:n,behandlingÅrsaker:r}=e;if(!Array.isArray(n))return[];if(r&&n.length>1&&r.some(t=>t===xc.RE_ENDRING_FRA_BRUKER)){const t=[...n].sort((l,o)=>l.fom.localeCompare(o.fom)),i=t[t.length-1],s=y(i.tom);return s.month()===3&&s.year()===2020?t.filter(l=>y(l.fom).month()===3||y(l.fom).month()===2):t.filter(l=>y(l.fom).month()===s.month()&&y(l.fom).year()===s.year())}return n},sL=(e,n)=>{let r=null;return n!==Me&&(r=n),d.jsx(m,{id:"Beregningsgrunnlag.BeregningTable.Periode",values:{fom:y(e).format(ee),tom:r?y(r).format(ee):""}},`fom-tom${e}${r}`)},pp=(e,n)=>{const r=e.beregningsgrunnlagPeriodeFom,t=e.beregningsgrunnlagPeriodeTom,i=n.frisinnPerioder,s=Array.isArray(i)&&i.find(l=>!y(r).isBefore(l.fom)&&!y(t).isAfter(l.tom));return s?s.frisinnAndeler:[]},Au=(e,n)=>d.jsxs(V,{children:[d.jsx(x,{className:M.tabellAktivitet,children:d.jsx(m,{id:e})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(E,{size:"small",children:C(n)})})]}),xu=(e,n,r,t,i)=>{const s=i/100,l=n*s;return d.jsxs(d.Fragment,{children:[d.jsxs(V,{children:[d.jsx(x,{className:M.tabellAktivitet,children:d.jsx(m,{id:e,values:{grad:i}})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(E,{size:"small",children:C(l)})})]}),!!t||t===0&&d.jsxs(V,{children:[d.jsx(x,{className:M.tabellAktivitet,children:d.jsx(m,{id:r})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(E,{size:"small",children:C(t)})})]})]})},fi=e=>e||e===0,aL=e=>{const n=y(e);return n.isBefore(y("2020-11-01","YYYY-MM-DD"))?80:n.isBefore(y("2022-01-01","YYYY-MM-DD"))?60:70},lL=(e,n,r,t)=>{const i=pp(e,n);if(!i||i.length<1)return null;const s=i.some(k=>k.statusSøktFor===S.FRILANSER)?r:null,l=i.some(k=>k.statusSøktFor===S.SELVSTENDIG_NAERINGSDRIVENDE)?t:null,o=Iu(S.FRILANSER,e,n),u=Iu(S.SELVSTENDIG_NAERINGSDRIVENDE,e,n),f=aL(e.beregningsgrunnlagPeriodeFom);return d.jsxs(d.Fragment,{children:[fi(s)&&Au("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagFL",s||0),fi(s)&&xu("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertFL",s||0,"Beregningsgrunnlag.Søknad.LøpendeFL",o,f),fi(l)&&Au("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagSN",l||0),fi(l)&&xu("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertSN",l||0,"Beregningsgrunnlag.Søknad.LøpendeSN",u,f),d.jsx(V,{children:d.jsx(x,{children:d.jsx("div",{className:M.colDevider})})}),d.jsxs(V,{children:[d.jsx(x,{className:M.tabellAktivitet,children:d.jsx(de,{children:d.jsx(m,{id:"Beregningsgrunnlag.Resultat.Dagsats"})})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(E,{size:"small",children:C(e.dagsats)})})]})]})},dL=({bgperiode:e,ytelsegrunnlag:n,frilansGrunnlag:r,næringGrunnlag:t})=>{const i=pp(e,n);if(!i||i.length<1)return null;const s=r>=0?r:0,l=t>=0?t:0;return d.jsxs("div",{children:[d.jsx(j,{eightPx:!0}),d.jsx(V,{children:d.jsx(x,{children:d.jsx(O,{size:"small",children:sL(e.beregningsgrunnlagPeriodeFom,e.beregningsgrunnlagPeriodeTom)})})}),lL(e,n,s,l)]})},cp=e=>e.grunnbeløp?e.grunnbeløp*6:0,oL=(e,n)=>{if(!Vr(S.FRILANSER,n,e.ytelsesspesifiktGrunnlag))return 0;let r=cp(e);const t=Ze(S.ARBEIDSTAKER,e,n);if(r-=t,!Vr(S.SELVSTENDIG_NAERINGSDRIVENDE,n,e.ytelsesspesifiktGrunnlag)){const s=Ze(S.SELVSTENDIG_NAERINGSDRIVENDE,e,n);r-=s}const i=Ze(S.FRILANSER,e,n);return i>r?r:i},gL=(e,n)=>{if(!Vr(S.SELVSTENDIG_NAERINGSDRIVENDE,n,e.ytelsesspesifiktGrunnlag))return 0;let r=cp(e);const t=Ze(S.ARBEIDSTAKER,e,n);r-=t;const i=Ze(S.FRILANSER,e,n);r-=i;const s=Ze(S.SELVSTENDIG_NAERINGSDRIVENDE,e,n);return s>r?r:s},uL=(e,n)=>{const r=y(e.beregningsgrunnlagPeriodeFom),t=y(e.beregningsgrunnlagPeriodeTom);return Array.isArray(n)&&n.some(i=>!y(i.fom).isBefore(r)&&!y(i.tom).isAfter(t))},mL=({beregningsgrunnlag:e})=>{const n=fp(e.ytelsesspesifiktGrunnlag),r=Array.isArray(e.beregningsgrunnlagPeriode)?e.beregningsgrunnlagPeriode.filter(t=>uL(t,n)):[];return d.jsxs("div",{children:[d.jsx(V,{children:d.jsx(x,{children:d.jsx(O,{size:"small",className:M.avsnittOverskrift,children:d.jsx(m,{id:"Beregningsgrunnlag.Frisinn.Resultat"})})})}),r.map(t=>d.jsx("div",{children:d.jsx(dL,{bgperiode:t,ytelsegrunnlag:e.ytelsesspesifiktGrunnlag,frilansGrunnlag:oL(e,t),næringGrunnlag:gL(e,t)},t.beregningsgrunnlagPeriodeFom)},t.beregningsgrunnlagPeriodeFom))]})},kL=({beregningsgrunnlag:e})=>{if(e.beregningsgrunnlagPeriode.length<2)return null;const n=e.beregningsgrunnlagPeriode.sort((l,o)=>l.beregningsgrunnlagPeriodeFom.localeCompare(o.beregningsgrunnlagPeriodeFom)),r=n[n.length-2],t=Ze(S.SELVSTENDIG_NAERINGSDRIVENDE,e,r),i=Ze(S.FRILANSER,e,r),s=Ze(S.ARBEIDSTAKER,e,r);return d.jsxs("div",{children:[d.jsx(V,{children:d.jsx(x,{children:d.jsx(O,{size:"small",className:M.avsnittOverskrift,children:d.jsx(m,{id:"Beregningsgrunnlag.Søknad.Inntektsopplysninger"})})})}),d.jsxs(V,{children:[d.jsx(x,{className:M.tabellAktivitet,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektAT"})})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(O,{size:"small",children:C(s)})})]}),d.jsxs(V,{children:[d.jsx(x,{className:M.tabellAktivitet,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektFL"})})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(O,{size:"small",children:C(i)})})]}),d.jsxs(V,{children:[d.jsx(x,{className:M.tabellAktivitet,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektSN"})})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(O,{size:"small",children:C(t)})})]})]})},fL=y("2020-04-01"),pL=(e,n,r)=>d.jsxs(V,{children:[d.jsx(x,{className:M.tabellAktivitet,children:d.jsx(m,{id:"Beregningsgrunnlag.Frisinn.Inntektstak",values:{grenseverdi:C(e),annenInntekt:C(n)}})}),d.jsx(x,{className:M.tabellInntekt,children:d.jsx(E,{size:"small",children:C(r)})})]}),cL=(e,n)=>{if(!Array.isArray(n))return!1;const r=y(e.beregningsgrunnlagPeriodeFom),t=y(e.beregningsgrunnlagPeriodeTom);return n.some(i=>!y(i.fom).isBefore(r)&&!y(i.tom).isAfter(t))},vL=(e,n)=>{const r=[];return Array.isArray(e)&&e.forEach(t=>{if(cL(t,n)){const i=y(t.beregningsgrunnlagPeriodeTom),s=y(t.beregningsgrunnlagPeriodeTom).endOf("month");i.isAfter(fL)&&i.isSame(s,"day")&&t.beregningsgrunnlagPeriodeTom!==Me&&r.push(t)}}),r},bL=(e,n)=>{const r=y(n.beregningsgrunnlagPeriodeFom),t=y(e.fom);return r.year()===t.year()&&r.month()===t.month()&&t.isBefore(r)},hL=(e,n)=>{const r=e.ytelsesspesifiktGrunnlag,t=Ze(S.ARBEIDSTAKER,e,n),i=e.grunnbeløp*6;let s=t;if(!Vr(S.FRILANSER,n,r)){const k=Ze(S.FRILANSER,e,n);s+=k}if(!Vr(S.SELVSTENDIG_NAERINGSDRIVENDE,n,r)){const k=Ze(S.SELVSTENDIG_NAERINGSDRIVENDE,e,n);s+=k}const l=i>s?i-s:0,o=n.beregningsgrunnlagPeriodeTom,u=Array.isArray(r.frisinnPerioder)&&r.frisinnPerioder.find(k=>bL(k,n)),f=u?u.fom:n.beregningsgrunnlagPeriodeFom;return d.jsxs(d.Fragment,{children:[d.jsx(V,{children:d.jsx(x,{children:d.jsx(O,{size:"small",className:M.avsnittOverskrift,children:d.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektstakOpplysningerPeriode",values:{fom:y(f).format(ee),tom:o?y(o).format(ee):""}},`fom-tom${f}${o}`)})})}),d.jsx(j,{eightPx:!0}),pL(i,s,l),d.jsx(j,{sixteenPx:!0})]})},jL=({beregningsgrunnlag:e})=>{const n=fp(e.ytelsesspesifiktGrunnlag),r=vL(e.beregningsgrunnlagPeriode,n);return d.jsx(d.Fragment,{children:r.map(t=>d.jsx("div",{children:hL(e,t)},t.beregningsgrunnlagPeriodeFom))})},IL=e=>e.beregningsgrunnlagPeriode.some(n=>n.dagsats||n.dagsats===0),AL=({beregningsgrunnlag:e})=>d.jsxs("div",{className:nL.aksjonspunktBehandlerContainer,children:[d.jsx(de,{children:d.jsx(m,{id:"Beregningsgrunnlag.Frisinn.Tittel"})}),d.jsx(j,{sixteenPx:!0}),d.jsx(tL,{beregningsgrunnlag:e}),d.jsx(j,{sixteenPx:!0}),d.jsx(kL,{beregningsgrunnlag:e}),d.jsx(j,{sixteenPx:!0}),IL(e)&&d.jsxs(d.Fragment,{children:[d.jsx(jL,{beregningsgrunnlag:e}),d.jsx(j,{sixteenPx:!0}),d.jsx(mL,{beregningsgrunnlag:e})]})]}),xL=e=>d.jsx(AL,{beregningsgrunnlag:e}),yL=({beregningsgrunnlag:e})=>{const n=e.ytelsesspesifiktGrunnlag;return n&&n.ytelsetype===lm.FRISINN?xL(e):null},EL=({relevanteStatuser:e,erManueltBesteberegnet:n,erNyIArbeidslivet:r,sammenligningsgrunnlag:t})=>{if(r)return d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.SN.NyIArbeidslivet"})});if(!t||t.length<1)return null;const i=(e.isArbeidstaker||e.isFrilanser)&&e.isSelvstendigNaeringsdrivende,s=t.filter(o=>o.sammenligningsgrunnlagType===me.AT_FL||o.sammenligningsgrunnlagType===me.AT||o.sammenligningsgrunnlagType===me.FL),l=i&&s.length===0;return n?d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.Besteberegning"})}):d.jsxs(d.Fragment,{children:[e.isMilitaer&&d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.Miletar"})}),e.isAAP&&d.jsxs(V,{children:[d.jsx(x,{children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.AAP"})})}),d.jsx(j,{eightPx:!0})]}),e.isDagpenger&&d.jsxs(d.Fragment,{children:[d.jsx(V,{children:d.jsx(x,{children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.Dagpenger"})})})}),d.jsx(j,{eightPx:!0})]}),l&&d.jsxs(V,{children:[d.jsx(x,{children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.AT.KobinasjonsStatusATFLSN"})})}),d.jsx(j,{eightPx:!0})]})]})},TL="_colLable_di1r8_1",_L="_colValue_di1r8_8",PL="_avvikLinjeRad_di1r8_16",SL="_linjeSkille_di1r8_21",NL="_linjeSkilleTykk_di1r8_27",RL="_colLine_di1r8_33",FL="_colAvvik_di1r8_36",BL="_colBorderTopLeft_di1r8_45",OL="_colBorderTop_di1r8_45",VL="_colNoBorderTop_di1r8_58",$L="_beregnetLuftOver_di1r8_61",an={colLable:TL,colValue:_L,avvikLinjeRad:PL,linjeSkille:SL,linjeSkilleTykk:NL,colLine:RL,colAvvik:FL,colBorderTopLeft:BL,colBorderTop:OL,colNoBorderTop:VL,beregnetLuftOver:$L},yu=d.jsx(V,{children:d.jsx(x,{children:d.jsx("div",{className:an.linjeSkille})})}),DL=({beregnetAarsinntekt:e,sammenligningsgrunnlag:n,erPGI:r})=>{const{differanseBeregnet:t,rapportertPrAar:i,avvikProsent:s}=n,l=parseFloat(s.toFixed(1)),o=r?"Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt.Naring":"Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt",u=r?"Beregningsgrunnlag.Avviksopplysninger.SamletInntekt":"Beregningsgrunnlag.Avviksopplysninger.RapportertAarsinntekt";return d.jsxs(d.Fragment,{children:[yu,d.jsxs(V,{children:[d.jsx(x,{className:an.colLable,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:o})})}),d.jsx(x,{className:an.colValue,children:d.jsx(E,{size:"small",children:e||e===0?C(e):"-"})}),d.jsx(x,{className:an.colAvvik})]}),yu,d.jsxs(V,{children:[d.jsx(x,{className:an.colLable,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:u})})}),d.jsx(x,{className:an.colValue,children:d.jsx(E,{size:"small",children:C(i)})}),d.jsx(x,{className:an.colAvvik})]}),d.jsx(V,{children:d.jsx(x,{children:d.jsx("div",{className:an.linjeSkilleTykk})})}),d.jsxs(V,{children:[d.jsx(x,{className:an.colLable,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.BeregnetAvvik"})})}),d.jsx(x,{className:an.colValue,children:d.jsx(E,{size:"small",children:C(t===void 0?0:t)})}),d.jsx(x,{className:an.colAvvik,children:d.jsx(E,{size:"small",className:`${l>25?M.redError:""} ${M.semiBoldText}`,children:d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.AvvikProsent",values:{avvik:l}})})})]})]})},GL=e=>e.some(n=>n.aktivitetStatus===S.FRILANSER&&(n.overstyrtPrAar||n.overstyrtPrAar===0)),wd=({readOnly:e,fieldIndex:n,formName:r,alleAndelerIForstePeriode:t})=>d.jsxs(V,{className:ae.verticalAlignMiddle,children:[d.jsx(x,{className:ae.atflAvvikAktivitet,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerFL"})})}),d.jsx(x,{className:ae.atflAvvikInntekt,children:d.jsx("div",{id:"readOnlyWrapper",className:e?ae.inputPadding:void 0,children:d.jsx(ce,{name:`${r}.${n}.inntektFrilanser`,validate:[W,en(178956970)],readOnly:e,parse:Se,className:ae.breddeInntekt,isEdited:e&&GL(t)})})})]});wd.buildInitialValues=e=>{const n=e.length>0?C(e[0].overstyrtPrAar):void 0;return n?{inntektFrilanser:n}:{}};const ML=An(1500),LL=In(3),Cd="fastsettBeregningsgrnunnlagSNBegrunnelse",Ud="bruttoBeregningsgrunnlag",{FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:KL}=le,Jr=({readOnly:e,isAksjonspunktClosed:n,erNyArbLivet:r,fieldIndex:t,formName:i})=>{const s=X();return d.jsxs(d.Fragment,{children:[r&&d.jsxs(d.Fragment,{children:[d.jsxs(V,{className:ae.verticalAlignMiddle,children:[d.jsx(x,{className:ae.dynamiskKolonne,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.BruttoBerGr2"})})}),d.jsx(x,{children:d.jsx("div",{id:"readOnlyWrapper",className:e?ae.inputPadding:void 0,children:d.jsx(ce,{name:`${i}.${t}.${Ud}`,validate:[W,en(178956970)],parse:Se,className:ae.breddeInntekt,isEdited:e&&n,readOnly:e})})})]}),d.jsx(j,{eightPx:!0})]}),d.jsx(j,{sixteenPx:!0}),d.jsx(V,{children:d.jsx(x,{children:d.jsx("div",{id:"readOnlyWrapper",className:e?ae.verticalLine:ae.textAreaWrapperHeigh,children:d.jsx(Xe,{name:`${i}.${t}.${Cd}`,label:d.jsx(m,{id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag"}),validate:[W,ML,LL,jn],isEdited:e&&n,maxLength:1500,readOnly:e,description:s.formatMessage({id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst"}),parse:l=>l.toString().replaceAll("‑","-").replaceAll("	"," ")})})})})]})};Jr.buildInitialValuesNyIArbeidslivet=(e,n)=>{const r=e.find(i=>i.aktivitetStatus===S.SELVSTENDIG_NAERINGSDRIVENDE),t=n.find(i=>i.definisjon===KL);return{[Ud]:r?C(r.overstyrtPrAar):void 0,[Cd]:t&&t.begrunnelse?t.begrunnelse:void 0}};Jr.transformValuesNyIArbeidslivet=e=>({begrunnelse:e[Cd],bruttoBeregningsgrunnlag:ue(e[Ud])});const wL=An(1500),CL=In(3),zd="varigEndringNyoppstartetBegrunnelse",qd="erVarigEndret",Hd="bruttoBeregningsgrunnlag",{VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:UL,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:zL}=le,qL=e=>e?d.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndretInntektFastsettesTil"}):d.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.BruttoBerGr2"}),qt=({readOnly:e,erVarigEndring:n,erVarigEndretArbeidssituasjon:r,erNyoppstartet:t,fieldIndex:i,formName:s,isAksjonspunktClosed:l})=>{let o=d.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IngenEndring"}),u=d.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.EndretNaering"});t&&!n&&(o=d.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeNyoppstartet"}),u=d.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.Nyoppstartet"})),n&&!t&&(o=d.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeVarigEndring"}),u=d.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndring"}));let f="Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringNæring";r&&(f="Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringArbeid"),t&&(f="Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelNyoppstartetNæring");const k=X(),c=ve().watch(s)[i].erVarigEndret,b=[{value:"false",label:o},{value:"true",label:u}];return d.jsxs(d.Fragment,{children:[d.jsx(V,{children:d.jsx(x,{children:d.jsx(Ae,{name:`${s}.${i}.${qd}`,validate:[W],label:k.formatMessage({id:f}),isHorizontal:!1,isReadOnly:e,isEdited:e&&l,radios:b,isTrueOrFalseSelection:!0})})}),c&&d.jsxs(d.Fragment,{children:[d.jsxs(V,{className:ae.verticalAlignMiddle,children:[d.jsx(x,{className:ae.dynamiskKolonne,children:d.jsx(E,{size:"small",children:qL(r)})}),d.jsx(x,{children:d.jsx("div",{id:"readOnlyWrapper",className:e?ae.inputPadding:void 0,children:d.jsx(ce,{name:`${s}.${i}.${Hd}`,validate:[W,en(178956970)],parse:Se,className:ae.breddeInntekt,readOnly:e,isEdited:e&&l})})})]}),d.jsx(j,{sixteenPx:!0})]}),d.jsxs(d.Fragment,{children:[d.jsx(j,{sixteenPx:!0}),d.jsx(V,{children:d.jsx(x,{children:d.jsx(Xe,{name:`${s}.${i}.${zd}`,label:d.jsx(m,{id:"Beregningsgrunnlag.Forms.Vurdering"}),validate:[W,wL,CL,jn],maxLength:1500,readOnly:e,description:k.formatMessage({id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst"}),parse:v=>v.toString().replaceAll("‑","-").replaceAll("	"," ")})})})]})]})};qt.buildInitialValues=(e,n)=>{const r=e.find(i=>i.aktivitetStatus===S.SELVSTENDIG_NAERINGSDRIVENDE||i.aktivitetStatus===S.BRUKERS_ANDEL),t=n.find(i=>i.definisjon===UL||i.definisjon===zL);if(t){const i=gn(t.status)?void 0:e[0].overstyrtPrAar!==null&&e[0].overstyrtPrAar!==void 0;return{[qd]:i,[zd]:t.begrunnelse?t.begrunnelse:"",[Hd]:r?C(r.overstyrtPrAar):void 0}}return{}};qt.transformValues=e=>{const n=e[qd];return{begrunnelse:e[zd],erVarigEndretNaering:n,erVarigEndret:n,bruttoBeregningsgrunnlag:n?ue(e[Hd]):void 0}};const{FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:Yd,VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:HL,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:vp}=le,bp=(e,n)=>n.some(r=>r.definisjon===e),YL=e=>e&&(e.definisjon===HL||e.definisjon===Yd||e.definisjon===vp),Ln=({readOnly:e,avklaringsbehov:n,erNyArbLivet:r,erVarigEndring:t,erNyoppstartet:i,fieldIndex:s,formName:l})=>{if(!YL(n))return null;const o=n?!gn(n.status):!1;return r?d.jsx(Jr,{readOnly:e,isAksjonspunktClosed:o,erNyArbLivet:r,fieldIndex:s,formName:l}):d.jsx(qt,{readOnly:e,erVarigEndring:t,erVarigEndretArbeidssituasjon:n.definisjon===vp,erNyoppstartet:i,fieldIndex:s,formName:l,isAksjonspunktClosed:o})};Ln.defaultProps={erNyArbLivet:!1,erVarigEndring:!1,erNyoppstartet:!1};Ln.buildInitialValues=(e,n)=>bp(Yd,n)?Jr.buildInitialValuesNyIArbeidslivet(e,n):{...qt.buildInitialValues(e,n)};Ln.transformValues=(e,n)=>bp(Yd,n)?Jr.transformValuesNyIArbeidslivet(e):qt.transformValues(e);const JL=Pe(np),WL=(e,n,r,t)=>!e&&!r||n?!0:t===void 0?!e:!e&&t||t,ZL=({isReadOnly:e,isSubmittable:n,isSubmitting:r,isDirty:t,text:i,onClick:s,hasEmptyRequiredFields:l})=>e?null:d.jsx(ne,{variant:"primary",size:"small",loading:r,disabled:WL(t,r,n,l),onClick:s||Vl,type:s?"button":"submit",children:i||JL.formatMessage({id:"SubmitButton.ConfirmInformation"})}),{FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:XL,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:QL,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:e2,VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:n2,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:r2}=le;var ir=(e=>(e.ÅTTE_TRETTIFEM="8-35",e.ÅTTE_TRETTI="8-30",e))(ir||{});const Jd=(e,n)=>me.SN===e||me.MIDLERTIDIG_INAKTIV===e||me.ATFLSN===e&&n!=null&&n.find(r=>sm(r))?"8-35":"8-30",yl=e=>r2===e.definisjon||n2===e.definisjon||e2===e.definisjon?"8-35":XL===e.definisjon||QL===e.definisjon?"8-30":null,{VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:hp,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:jp,FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:Ip,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:Ap,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:xp}=le,t2=e=>{var n;const r=(e.beregningsgrunnlagPeriode&&e.beregningsgrunnlagPeriode.length>0?e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel||[]:[]).find(t=>t.aktivitetStatus&&t.aktivitetStatus===S.SELVSTENDIG_NAERINGSDRIVENDE);return(n=r==null?void 0:r.næringer)!=null&&n.some(t=>t.erNyoppstartet===!0)?"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerNyoppstartet":"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndring"},i2=(e,n)=>{switch(e.definisjon){case hp:return t2(n);case xp:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerSNNyIArb";case jp:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndringArbeid";case Ip:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFL";case Ap:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFLTidsbegrenset";default:return"Ukjent aksjonspunkt"}},s2=e=>{const n=e.aktivitetStatus||[],r=n.some(i=>tm(i)),t=n.some(i=>im(i));return r&&t?"Beregningsgrunnlag.AksjonspunktBehandler.TittelATFLAvvik":t?"Beregningsgrunnlag.AksjonspunktBehandler.TittelFLAvvik":"Beregningsgrunnlag.AksjonspunktBehandler.TittelATAvvik"},a2=(e,n)=>{switch(e.definisjon){case hp:return"Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringNyoppstartet";case xp:return"Beregningsgrunnlag.AksjonspunktBehandler.TittelSNNyIArb";case jp:return"Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringArbeid";case Ip:case Ap:return s2(n);default:return"Ukjent aksjonspunkt"}},l2=({avklaringsbehov:e,beregningsgrunnlag:n,readOnly:r})=>e?d.jsxs("div",{className:r?ae.aksjonspunktBehandlerNoBorder:ae.aksjonspunktBehandlerHeader,children:[d.jsxs(V,{children:[!r&&d.jsx(x,{className:ae.aksjonspunktBehandlerImageCol,children:d.jsx(Gr,{className:ae.warningIcon})}),d.jsx(x,{className:ae.aksjonspunktBehandlerTextCol,children:d.jsx(O,{children:d.jsx(m,{id:a2(e,n)})})})]}),d.jsx(j,{eightPx:!0}),d.jsxs(V,{children:[!r&&d.jsx(x,{className:ae.aksjonspunktBehandlerImageCol}),d.jsx(x,{className:ae.aksjonspunktBehandlerTextCol,children:d.jsx(E,{children:d.jsx(m,{id:i2(e,n)})})})]})]}):null,d2=In(3),o2=An(1500),{FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:Eu,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:Tu,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:_u,VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:Pu,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:Su}=le,g2="BeregningForm",Ji=(e,n)=>yl(e)===n,u2=(e,n)=>!!e.find(r=>Ji(r,n)),Wd=e=>`${g2}_${e}`,Nu=(e,n)=>{if(!e||e.length<1)return!1;const r=e[0].beregningsgrunnlagPrStatusOgAndel?e[0].beregningsgrunnlagPrStatusOgAndel:[];return r==null?void 0:r.some(t=>t.aktivitetStatus===n&&t.skalFastsetteGrunnlag)},El=e=>e&&e.length>0?e[0].beregningsgrunnlagPrStatusOgAndel?e[0].beregningsgrunnlagPrStatusOgAndel:[]:[],m2=e=>e.some(({periodeAarsaker:n})=>n&&n.some(r=>r===on.ARBEIDSFORHOLD_AVSLUTTET)),k2=(e,n)=>e.perioder.find(({periode:r})=>r.fom===n),f2=(e,n)=>{if(!e||!e.beregningsgrunnlagPeriode)return{};const r=e.beregningsgrunnlagPeriode,t=e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel||[],i=t.filter(f=>f.aktivitetStatus===S.ARBEIDSTAKER),s=t.filter(f=>f.aktivitetStatus===S.FRILANSER),l=t.filter(f=>f.aktivitetStatus===S.SELVSTENDIG_NAERINGSDRIVENDE||f.aktivitetStatus===S.BRUKERS_ANDEL),o={...wn.buildInitialValues(e.avklaringsbehov),...zt.buildInitialValues(r),...wd.buildInitialValues(s),...hs.buildInitialValues(i)},u={...Ln.buildInitialValues(l,e.avklaringsbehov)};return n?n.sammenligningsgrunnlagType===me.ATFLSN?{...o,...u}:n.sammenligningsgrunnlagType===me.AT_FL?{...o}:n.sammenligningsgrunnlagType===me.SN?{...u}:n.sammenligningsgrunnlagType===me.MIDLERTIDIG_INAKTIV?{...u}:{}:{...Jr.buildInitialValuesNyIArbeidslivet(l,e.avklaringsbehov)}},p2=(e,n,r,t)=>{let i={};return r&&(i=f2(e,t)),{...i,periode:n.periode,erTilVurdering:n.vurderesIBehandlingen&&!n.erForlengelse,gjeldendeAvklaringsbehov:r?[r]:[],skjæringstidspunkt:e.skjaeringstidspunktBeregning,allePerioder:e.beregningsgrunnlagPeriode}},c2=(e,n,r,t)=>({[r]:e.map(i=>{var s;return p2(i,k2(n,i.vilkårsperiodeFom),i.avklaringsbehov.find(l=>Ji(l,t)),(s=i.sammenligningsgrunnlagPrStatus)==null?void 0:s.find(l=>Jd(l.sammenligningsgrunnlagType,i.aktivitetStatus)===t))})}),v2=(e,n,r,t,i)=>{const s=El(n).find(f=>f.aktivitetStatus&&f.aktivitetStatus===S.SELVSTENDIG_NAERINGSDRIVENDE),l=s&&s.erNyIArbeidslivet,o=r.definisjon===le.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON||s&&s.næringer&&s.næringer.some(f=>f.erVarigEndret===!0),u=s&&s.næringer&&s.næringer.some(f=>f.erNyoppstartet===!0);return!l&&!u&&!o?null:d.jsxs(d.Fragment,{children:[d.jsx(j,{eightPx:!0}),d.jsx(Ln,{readOnly:e,avklaringsbehov:r,erNyArbLivet:l,erVarigEndring:o,erNyoppstartet:u,fieldIndex:t,formName:i})]})},b2=(e,n,r,t,i,s,l)=>{const o=m2(n),u=Nu(n,S.FRILANSER),f=Nu(n,S.ARBEIDSTAKER);return d.jsxs(d.Fragment,{children:[d.jsx(j,{eightPx:!0}),o&&d.jsx(zt,{readOnly:t,formName:l,allePerioder:n,kodeverkSamling:e,arbeidsgiverOpplysningerPerId:r,fieldIndex:s}),!o&&f&&d.jsx(Ld,{readOnly:t,alleAndelerIForstePeriode:El(n),kodeverkSamling:e,arbeidsgiverOpplysningerPerId:r,fieldIndex:s,formName:l}),u&&d.jsx(wd,{readOnly:t,fieldIndex:s,formName:l,alleAndelerIForstePeriode:El(n)}),d.jsx(j,{sixteenPx:!0}),d.jsx(V,{children:d.jsx(x,{children:d.jsx(Xe,{name:`${l}.${s}.ATFLVurdering`,label:d.jsx(m,{id:"Beregningsgrunnlag.Forms.Vurdering"}),validate:[W,o2,d2,jn],maxLength:1500,readOnly:t,className:ae.textAreaStyle,description:i.formatMessage({id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst"}),parse:k=>k.toString().replaceAll("‑","-").replaceAll("	"," ")})})})]})},h2=(e,n)=>(n.aksjonspunkter.forEach(r=>{const t=e.find(i=>i.kode===r.kode);t!==void 0?(t.grunnlag.push({periode:n.periode,...r.aksjonspunktData}),t.begrunnelse=`${t.begrunnelse} ${r.aksjonspunktData.begrunnelse}`):e.push({kode:r.kode,begrunnelse:r.aksjonspunktData.begrunnelse,grunnlag:[{periode:n.periode,...r.aksjonspunktData}]})}),e),gt=(e,n)=>n!=null&&n.some(r=>r.definisjon===e),j2=e=>{const{allePerioder:n}=e;if(n.length<1)throw new Error("Ingen beregningsgrunnlagperioder, ugyldig tilstand");n.sort((t,i)=>!t.beregningsgrunnlagPeriodeFom||!i.beregningsgrunnlagPeriodeFom?0:t.beregningsgrunnlagPeriodeFom.localeCompare(i.beregningsgrunnlagPeriodeFom));const r=n[0].beregningsgrunnlagPrStatusOgAndel||[];if(gt(Eu,e.gjeldendeAvklaringsbehov))return[{kode:Eu,aksjonspunktData:wn.transformATFLValues(e,r)}];if(gt(Pu,e.gjeldendeAvklaringsbehov))return[{kode:Pu,aksjonspunktData:Ln.transformValues(e,e.gjeldendeAvklaringsbehov)}];if(gt(Su,e.gjeldendeAvklaringsbehov))return[{kode:Su,aksjonspunktData:Ln.transformValues(e,e.gjeldendeAvklaringsbehov)}];if(gt(_u,e.gjeldendeAvklaringsbehov))return[{kode:_u,aksjonspunktData:Ln.transformValues(e,e.gjeldendeAvklaringsbehov)}];if(gt(Tu,e.gjeldendeAvklaringsbehov))return[{kode:Tu,aksjonspunktData:wn.transformATFLTidsbegrensetValues(e,n)}];throw new Error("Må submitte et aksjonspunkt")},I2=(e,n)=>e[Wd(n)].filter(r=>r.erTilVurdering).map(r=>({periode:r.periode,aksjonspunkter:j2(r)})).reduce(h2,[]),A2=({readOnly:e,readOnlySubmitButton:n,kodeverkSamling:r,arbeidsgiverOpplysningerPerId:t,beregningsgrunnlagListe:i,vilkår:s,submitCallback:l,formData:o,setFormData:u,aktivIndex:f,lovparagraf:k,finnesFormSomSubmittes:c,setSubmitting:b})=>{const v=X(),I=(B,K)=>{b(!0),l(I2(B,K))},T=i.filter(B=>u2(B.avklaringsbehov,k)),P=Wd(k),_=He({defaultValues:o||c2(T,s,P,k)}),{formState:{dirtyFields:R},control:A,trigger:N}=_,{fields:F}=Qe({name:P,control:A}),G=h.useRef(null);h.useEffect(()=>{var B,K;c&&(B=R[P])!=null&&B[f]&&N(),i[f].avklaringsbehov.some(J=>Ji(J,k)&&J.status===ql.OPPRETTET)&&((K=G==null?void 0:G.current)==null||K.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}))},[f]);const $=d.jsx(V,{children:d.jsx(x,{children:d.jsx(ZL,{isReadOnly:e,isSubmittable:!n,isDirty:_.formState.isDirty,isSubmitting:c})})}),q=B=>B.find(K=>Ji(K,k)),Y=(B,K)=>{const J=q(K);return k===ir.ÅTTE_TRETTI&&J?b2(r,T[B].beregningsgrunnlagPeriode,t,e,v,B,P):k===ir.ÅTTE_TRETTIFEM&&J?v2(e,T[B].beregningsgrunnlagPeriode,J,B,P):null},w=i[f].vilkårsperiodeFom;return d.jsx("div",{ref:G,children:d.jsx(Ye,{formMethods:_,onSubmit:B=>I(B,k),setDataOnUnmount:u,children:F.map((B,K)=>d.jsxs("div",{style:{display:T[K].vilkårsperiodeFom===w?"block":"none"},children:[d.jsx(l2,{readOnly:e,avklaringsbehov:q(T[K].avklaringsbehov),beregningsgrunnlag:T[K]}),d.jsxs("div",{className:e?ae.aksjonspunktBehandlerNoBorder:ae.aksjonspunktBehandlerBorder,children:[Y(K,T[K].avklaringsbehov),d.jsx(j,{sixteenPx:!0}),$,d.jsx(j,{sixteenPx:!0})]})]},B.id))})})},x2=e=>e.overstyrtPrAar!==null&&e.overstyrtPrAar!==void 0?!0:e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,y2=(e,n)=>e?e.filter(r=>n.includes(r.aktivitetStatus)).filter(r=>x2(r)):[],Ru=e=>e||0,E2=e=>e.beregnetPrAar?e.beregnetPrAar:0,Fu=(e,n)=>{const r=y2(e,n);if(r){const t=r.reduce((l,o)=>l+E2(o),0),i=r.reduce((l,o)=>{var u;return l+Ru((u=o==null?void 0:o.arbeidsforhold)==null?void 0:u.naturalytelseBortfaltPrÅr)},0),s=r.reduce((l,o)=>{var u;return l+Ru((u=o==null?void 0:o.arbeidsforhold)==null?void 0:u.naturalytelseTilkommetPrÅr)},0);return t+i-s}return 0},T2=(e,n)=>{const r=d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.ATFL.Tittel"}),t=d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.SN.Tittel"});switch(e.sammenligningsgrunnlagType){case me.AT:case me.FL:case me.AT_FL:return r;case me.SN:return t;case me.ATFLSN:return n===ir.ÅTTE_TRETTIFEM?t:r;case me.MIDLERTIDIG_INAKTIV:return d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.MIDL.Tittel"});default:throw new Error(`Ukjent sammenligningstype ${e.sammenligningsgrunnlagType}`)}},Bu=(e,n)=>{const r=n.find(t=>(t.aktivitetStatus===S.SELVSTENDIG_NAERINGSDRIVENDE||t.aktivitetStatus===S.BRUKERS_ANDEL)&&!t.erTilkommetAndel);return e.sammenligningsgrunnlagType===me.SN&&r?{inntekt:r.pgiSnitt||0,erPGI:!0}:e.sammenligningsgrunnlagType===me.MIDLERTIDIG_INAKTIV&&r?{inntekt:r.pgiSnitt||0,erPGI:!0}:e.sammenligningsgrunnlagType===me.ATFLSN?r?{inntekt:r.pgiSnitt||0,erPGI:!0}:{inntekt:Fu(n,[S.ARBEIDSTAKER,S.FRILANSER]),erPGI:!1}:{inntekt:Fu(n,[S.ARBEIDSTAKER,S.FRILANSER]),erPGI:!1}};function Ou(e,n,r){const t={...e};return t[n]?t[n].push(r):t[n]=[r],t}const _2=e=>e.reduce((n,r)=>{let t={...n};return r.avklaringsbehov.find(i=>i.definisjon===le.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET)&&(t=Ou(t,ir.ÅTTE_TRETTIFEM,r)),!r.sammenligningsgrunnlagPrStatus||r.sammenligningsgrunnlagPrStatus.length===0||r.sammenligningsgrunnlagPrStatus.forEach(i=>{const s=Jd(i.sammenligningsgrunnlagType,r.aktivitetStatus);t=Ou(t,s,r)}),t},{}),P2=({readOnly:e,readOnlySubmitButton:n,kodeverkSamling:r,relevanteStatuser:t,arbeidsgiverOpplysningerPerId:i,gjelderBesteberegning:s,sammenligningsgrunnlag:l,beregningsgrunnlagListe:o,vilkår:u,submitCallback:f,formData:k,setFormData:c,aktivIndex:b})=>{var v;const I=_2(o),[T,P]=h.useState(!1),_=d.jsx(EL,{sammenligningsgrunnlag:l,relevanteStatuser:t,erManueltBesteberegnet:s,erNyIArbeidslivet:!!((v=o[b].beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel)!=null&&v.find(A=>A.erNyIArbeidslivet))}),R=A=>{var N;if(I[A]&&I[A].length>0){const F=I[A],G=o[b].vilkårsperiodeFom,$=F.find(J=>J.vilkårsperiodeFom===G),q=$?(N=$.sammenligningsgrunnlagPrStatus)==null?void 0:N.find(J=>Jd(J.sammenligningsgrunnlagType,$==null?void 0:$.aktivitetStatus)===A):void 0,Y=!!I[A].find(J=>!!J.avklaringsbehov.find(H=>yl(H)===A)),w=$&&!!$.avklaringsbehov.find(J=>yl(J)===A),B=($==null?void 0:$.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel)||[],K=Wd(A);return d.jsxs("div",{children:[!!q&&d.jsxs(d.Fragment,{children:[d.jsx(re,{size:"xsmall",children:T2(q,A)}),d.jsx(DL,{sammenligningsgrunnlag:q,beregnetAarsinntekt:Bu(q,B).inntekt,erPGI:Bu(q,B).erPGI}),d.jsx("div",{className:M.storSpace})]}),Y&&d.jsxs("div",{style:{display:w?"block":"none"},children:[d.jsx(A2,{readOnly:e,lovparagraf:A,kodeverkSamling:r,readOnlySubmitButton:n,arbeidsgiverOpplysningerPerId:i,beregningsgrunnlagListe:o,vilkår:u,submitCallback:f,formData:k&&K in k?k:void 0,setFormData:c,aktivIndex:b,finnesFormSomSubmittes:T,setSubmitting:P}),d.jsx("div",{className:M.storSpace})]})]})}return null};return d.jsxs("div",{className:M.panelRight,children:[_,d.jsx(j,{twentyPx:!0}),R(ir.ÅTTE_TRETTI),R(ir.ÅTTE_TRETTIFEM)]})},S2="_kolBeskrivelse_1czvx_1",N2="_kolVerdi_1czvx_4",R2="_radNoBorder_1czvx_9",F2="_radDobbelLinje_1czvx_14",B2="_radEnkelLinje_1czvx_20",O2="_radTykkLinje_1czvx_24",V2="_kolVerdiRød_1czvx_28",$2="_kolAvslagIkon_1czvx_31",D2="_kolAvslagTekst_1czvx_34",G2="_avslåttIkon_1czvx_38",pe={kolBeskrivelse:S2,kolVerdi:N2,radNoBorder:R2,radDobbelLinje:F2,radEnkelLinje:B2,radTykkLinje:O2,kolVerdiRød:"_kolVerdiRød_1czvx_28",kolVerdiRod:V2,kolAvslagIkon:$2,kolAvslagTekst:D2,avslåttIkon:"_avslåttIkon_1czvx_38",avslattIkon:G2},M2=260,yp={[S.ARBEIDSTAKER]:{rekkefølgePri:1,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Arbeid"},[S.FRILANSER]:{rekkefølgePri:2,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Frilans"},[S.DAGPENGER]:{rekkefølgePri:3,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Dagpenger"},[S.SYKEPENGER_AV_DAGPENGER]:{rekkefølgePri:3,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.SykepengerAvDagpenger"},[S.PLEIEPENGER_AV_DAGPENGER]:{rekkefølgePri:3,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.PleiepengerAvDagpenger"},[S.ARBEIDSAVKLARINGSPENGER]:{rekkefølgePri:4,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Arbeidsavklaringspenger"},[S.KUN_YTELSE]:{rekkefølgePri:5,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Ytelse"},[S.MILITAER_ELLER_SIVIL]:{rekkefølgePri:6,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Militær"},[S.BRUKERS_ANDEL]:{rekkefølgePri:7,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.BrukersAndel"},[S.SELVSTENDIG_NAERINGSDRIVENDE]:{rekkefølgePri:8,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Næring"}},Vu=e=>{var n;return((n=yp[e.status])==null?void 0:n.rekkefølgePri)||100},L2=e=>{var n;return((n=yp[e.status])==null?void 0:n.beskrivelseId)||"Ukjent andel"},K2=()=>d.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.IkkeBeregnet"}),w2=e=>e.reduce((n,r)=>(r.inntektPlussNaturalytelse||0)+n,0),C2=(e,n)=>(n==null?void 0:n.ytelsetype)!==lm.FORELDREPENGER&&e.avkortetPrÅr?Math.round(e.avkortetPrÅr/M2):e.dagsats||0,Xn=()=>d.jsx("div",{className:pe.radEnkelLinje}),U2=(e,n)=>d.jsxs(xe,{children:[d.jsx(j,{twentyPx:!0}),d.jsxs(V,{children:[d.jsx(x,{className:pe.avslåttIkon,children:d.jsx(mc,{})}),d.jsx(x,{className:pe.kolAvslagTekst,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:n?"Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfyltMidlertidigInaktiv":"Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfylt2",values:{grunnbeløp:C(e),b:r=>d.jsx("b",{children:r})}})})})]})]}),z2=e=>!!e.aktivitetStatus&&e.aktivitetStatus.some(n=>n===S.MIDLERTIDIG_INAKTIV),q2=(e,n,r,t)=>{const i=e.andeler.reduce((k,c)=>(c.inntektPlussNaturalytelse||0)+k,0);if(n.vilkarStatus===to.IKKE_VURDERT)return null;if(n.vilkarStatus===to.IKKE_OPPFYLT)return U2(r.grunnbeløp,z2(r));const s=r.grunnbeløp*6,l=i>s,o=r.dekningsgrad!==Ac.HUNDRE,u=C2(e,r.ytelsesspesifiktGrunnlag),f=t&&(l||o);return d.jsxs(xe,{children:[f&&d.jsx(j,{fourtyPx:!0}),l&&d.jsxs(d.Fragment,{children:[Xn(),d.jsxs(V,{className:pe.radNoBorder,children:[d.jsx(x,{className:pe.kolBeskrivelse,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Avkortet"})})}),d.jsx(x,{className:pe.kolVerdi,children:d.jsx(E,{size:"small",children:C(e.avkortetPrÅr)})})]}),Xn()]}),o&&d.jsxs(d.Fragment,{children:[!l&&t&&d.jsx(d.Fragment,{children:Xn()}),d.jsxs(V,{className:pe.radNoBorder,children:[d.jsx(x,{className:pe.kolBeskrivelse,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Redusert"})})}),d.jsx(x,{className:pe.kolVerdi,children:d.jsx(E,{size:"small",children:C(e.redusertPrÅr)})})]}),Xn()]}),d.jsx(j,{fourtyPx:!0}),d.jsxs(V,{className:pe.radNoBorder,children:[d.jsx(x,{className:pe.kolBeskrivelse,children:d.jsx(O,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Dagsats"})})}),d.jsx(x,{className:pe.kolVerdi,children:d.jsx(O,{size:"medium",children:u})})]}),d.jsx("div",{className:pe.radDobbelLinje})]})},H2=({tabellData:e,skalVisePeriode:n,vilkårsperiode:r,beregningsgrunnlag:t})=>{const i=e.andeler.length>1&&!e.andeler.some(o=>!o.erFerdigBeregnet);e.andeler.sort((o,u)=>Vu(o)-Vu(u));const s=e.andeler.length>1,l=e.andeler.every(o=>o.erFerdigBeregnet);return d.jsxs(d.Fragment,{children:[n&&d.jsxs(d.Fragment,{children:[d.jsx(V,{children:d.jsx(x,{children:d.jsx(re,{size:"xsmall",children:d.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Periode",values:{fom:y(e.fom).format(ee),tom:e.tom?y(e.tom).format(ee):""}})})})}),d.jsx(j,{eightPx:!0})]}),e.andeler.map((o,u)=>d.jsxs(L.Fragment,{children:[u===0&&d.jsx(d.Fragment,{children:Xn()}),d.jsxs(V,{className:pe.radNoBorder,children:[d.jsx(x,{className:pe.kolBeskrivelse,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:L2(o)})})}),d.jsx(x,{className:pe.kolVerdi,children:d.jsx(E,{size:"small",className:o.erFerdigBeregnet?"":pe.kolVerdiRød,children:o.erFerdigBeregnet?C(o.inntekt):K2()})})]}),!!o.bortfaltNaturalytelse&&d.jsxs(d.Fragment,{children:[Xn(),d.jsxs(V,{className:pe.radNoBorder,children:[d.jsx(x,{className:pe.kolBeskrivelse,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Naturalytelser"})})}),d.jsx(x,{className:pe.kolVerdi,children:d.jsx(E,{size:"small",children:C(o.bortfaltNaturalytelse)})})]})]}),Xn()]},o.status)),i&&d.jsxs(d.Fragment,{children:[d.jsxs(V,{className:pe.radNoBorder,children:[d.jsx(x,{className:pe.kolBeskrivelse,children:d.jsx(E,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.TotalÅrsinntekt"})})}),d.jsx(x,{className:pe.kolVerdi,children:d.jsx(E,{size:"small",children:C(w2(e.andeler))})})]}),d.jsx("div",{className:pe.radTykkLinje})]}),l&&d.jsx(d.Fragment,{children:q2(e,r,t,s)})]})},Y2=[on.ARBEIDSFORHOLD_AVSLUTTET,on.NATURALYTELSE_TILKOMMER,on.NATURALYTELSE_BORTFALT],J2=e=>e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,W2=e=>e.besteberegningPrAar||e.besteberegningPrAar===0?e.besteberegningPrAar:e.overstyrtPrAar||e.overstyrtPrAar===0?e.overstyrtPrAar:e.beregnetPrAar||0,Z2=(e,n)=>{switch(e){case S.ARBEIDSTAKER:case S.FRILANSER:return n.find(r=>r.definisjon===le.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS||r.definisjon===le.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD);case S.SELVSTENDIG_NAERINGSDRIVENDE:return n.find(r=>r.definisjon===le.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET||r.definisjon===le.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE);case S.BRUKERS_ANDEL:return n.find(r=>r.definisjon===le.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON);default:return}},X2=e=>{var n,r;const t=(n=e==null?void 0:e.arbeidsforhold)==null?void 0:n.naturalytelseBortfaltPrÅr,i=((r=e==null?void 0:e.arbeidsforhold)==null?void 0:r.naturalytelseTilkommetPrÅr)||0;return t?t-i:0},Q2=e=>{const{beregnetPrAar:n,pgiSnitt:r}=e;return!!n||n===0||!!r||r===0},e5=(e,n)=>{const r=e.filter(s=>J2(s)),t={};r.forEach(s=>{const l=t[s.aktivitetStatus];l?l.push(s):t[s.aktivitetStatus]=[s]});const i=[];return Object.keys(t).forEach(s=>{const l=t[s],o=Z2(s,n),u=l.every(I=>Q2(I)),f=l.reduce((I,T)=>W2(T)+I,0),k=l.reduce((I,T)=>X2(T)+I,0),c=(f||0)+(k||0),b=!!o&&gn(o.status),v=u&&!b;i.push({inntekt:f,bortfaltNaturalytelse:k,inntektPlussNaturalytelse:c,erFerdigBeregnet:v,status:s})}),i},n5=e=>e.some(n=>Y2.includes(n)),r5=e=>{const{beregningsgrunnlagPeriode:n}=e,r=n.filter(i=>i.beregningsgrunnlagPeriodeFom===e.skjaeringstidspunktBeregning||!!i.periodeAarsaker&&n5(i.periodeAarsaker)).map(i=>i.beregningsgrunnlagPeriodeFom).sort((i,s)=>new Date(i).getTime()-new Date(s).getTime()),t=[];for(let i=0;i<r.length;i+=1){const s=r[i],l=i+1<r.length?y(r[i+1]).subtract(1,"day").format(Te).toString():void 0,o=n.find(v=>v.beregningsgrunnlagPeriodeFom===s),u=(o==null?void 0:o.periodeAarsaker)||[],f=e5((o==null?void 0:o.beregningsgrunnlagPrStatusOgAndel)||[],e.avklaringsbehov),k=o==null?void 0:o.redusertPrAar,c=o==null?void 0:o.avkortetPrAar,b=o==null?void 0:o.dagsats;t.push({fom:s,tom:l,årsak:u,andeler:f,redusertPrÅr:k,avkortetPrÅr:c,dagsats:b})}return t},t5=({beregningsgrunnlag:e,vilkårsperiode:n})=>{const r=h.useMemo(()=>r5(e),[e]),t=r.length>1;return d.jsxs("div",{className:M.panelRight,children:[d.jsx(re,{size:"small",className:M.avsnittOverskrift,children:d.jsx(m,{id:"Beregningsgrunnlag.BeregningTable.Tittel"})}),d.jsx(j,{eightPx:!0}),r.map(i=>d.jsxs("div",{children:[d.jsx(H2,{tabellData:i,skalVisePeriode:t,vilkårsperiode:n,beregningsgrunnlag:e}),d.jsx(j,{fourtyPx:!0})]},i.fom))]})},i5=e=>e&&e.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller.some(n=>n===D.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE):!1,s5=e=>!!(e!=null&&e.besteberegninggrunnlag),a5=e=>e[0].beregningsgrunnlagPrStatusOgAndel?e[0].beregningsgrunnlagPrStatusOgAndel.filter(n=>n.erTilkommetAndel!==!0).map(n=>n.aktivitetStatus):[],l5=({readOnly:e,valgtBeregningsgrunnlag:n,relevanteStatuser:r,readOnlySubmitButton:t,kodeverkSamling:i,vilkarPeriode:s,arbeidsgiverOpplysningerPerId:l,gjeldendeAvklaringsbehov:o,alleBeregningsgrunnlag:u,vilkår:f,submitCallback:k,formData:c,setFormData:b,aktivIndex:v})=>{var I;const{skjaeringstidspunktBeregning:T,beregningsgrunnlagPeriode:P,faktaOmBeregning:_,ytelsesspesifiktGrunnlag:R}=n,A=i5(_),N=s5(R),F=d.jsx("div",{className:M.storSpace}),G=a5(P),$=o&&o.length>0;return d.jsxs(d.Fragment,{children:[$&&d.jsxs(d.Fragment,{children:[d.jsx(j,{eightPx:!0}),d.jsx(CM,{avklaringsbehov:o,beregningsgrunnlag:n})]}),d.jsxs(V,{children:[d.jsxs(x,{className:M.venstreKolonne,children:[d.jsx(re,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.Title.Beregning"})}),d.jsx(j,{sixteenPx:!0}),d.jsx(XD,{kodeverkSamling:i,aktivitetStatusList:G,skjeringstidspunktDato:T,saksopplysninger:n.faktaOmBeregning?n.faktaOmBeregning.saksopplysninger:void 0,arbeidsgiverOpplysningerPerId:l}),F,r.skalViseBeregningsgrunnlag&&d.jsx(wn,{relevanteStatuser:r,allePerioder:P,gjelderBesteberegning:A,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:l,sammenligningsGrunnlagInntekter:n.inntektsgrunnlag,sammenligningsgrunnlag:n.sammenligningsgrunnlagPrStatus}),N&&d.jsxs(d.Fragment,{children:[F,d.jsx(ED,{besteMåneder:(I=R==null?void 0:R.besteberegninggrunnlag)==null?void 0:I.besteMåneder,periode:P[0]})]})]}),d.jsxs(x,{className:M.hoyreKolonne,children:[d.jsx(re,{size:"medium",className:M.panelRight,children:d.jsx(m,{id:"Beregningsgrunnlag.Title.Fastsettelse"})}),d.jsx(j,{sixteenPx:!0}),d.jsx(P2,{readOnly:e,readOnlySubmitButton:t,kodeverkSamling:i,relevanteStatuser:r,arbeidsgiverOpplysningerPerId:l,gjelderBesteberegning:A,sammenligningsgrunnlag:n.sammenligningsgrunnlagPrStatus||[],beregningsgrunnlagListe:u,vilkår:f,submitCallback:k,formData:c,setFormData:b,aktivIndex:v}),d.jsxs(d.Fragment,{children:[d.jsx(j,{sixteenPx:!0}),d.jsx(yL,{beregningsgrunnlag:n})]}),s&&d.jsx(t5,{beregningsgrunnlag:n,vilkårsperiode:s})]})]})]})},d5=[le.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE,le.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON,le.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS,le.FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE,le.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD,le.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET],o5=e=>e.avklaringsbehov.filter(n=>d5.some(r=>r===n.definisjon)),g5=e=>({isArbeidstaker:e.some(n=>tm(n)),isFrilanser:e.some(n=>im(n)),isSelvstendigNaeringsdrivende:e.some(n=>sm(n)),isMidlertidigInaktiv:e.some(n=>n===S.MIDLERTIDIG_INAKTIV),harAndreTilstotendeYtelser:e.some(n=>hc(n)),harDagpengerEllerAAP:e.some(n=>am(n)),isAAP:e.some(n=>n===S.ARBEIDSAVKLARINGSPENGER),isDagpenger:e.some(n=>n===S.DAGPENGER||n===S.SYKEPENGER_AV_DAGPENGER),skalViseBeregningsgrunnlag:e.length>0,isKombinasjonsstatus:e.some(n=>jc(n))||e.length>1,isMilitaer:e.some(n=>Ic(n))}),u5=e=>e?e.find(n=>n.definisjon===le.VURDER_GRADERING_UTEN_BEREGNINGSGRUNNLAG):void 0,$u=(e,n)=>e.perioder.find(({periode:r})=>r.fom===n),m5=({aktivtBeregningsgrunnlagIndeks:e,beregningsgrunnlagListe:n,submitCallback:r,readOnly:t,readOnlySubmitButton:i,vilkar:s,kodeverkSamling:l,arbeidsgiverOpplysningerPerId:o,formData:u,setFormData:f})=>{const k=n[e],c=g5(k.aktivitetStatus),b=u5(k.avklaringsbehov);function v(I){const T=$u(s,I.vilkårsperiodeFom);return T.vurderesIBehandlingen&&!T.erForlengelse}return d.jsxs(d.Fragment,{children:[d.jsx(l5,{readOnly:t||!v(n[e]),valgtBeregningsgrunnlag:n[e],gjeldendeAvklaringsbehov:o5(n[e]),relevanteStatuser:c,readOnlySubmitButton:i,kodeverkSamling:l,vilkarPeriode:$u(s,n[e].vilkårsperiodeFom),arbeidsgiverOpplysningerPerId:o,alleBeregningsgrunnlag:n,vilkår:s,submitCallback:r,formData:u,setFormData:f,aktivIndex:e}),b&&d.jsx(jD,{avklaringsbehov:b})]})},k5=[le.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE,le.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS,le.FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE,le.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD,le.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET,le.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON],f5=[],p5=kD.bind(Ti),Du=Pe(np),c5=e=>{var n;const r=(n=e==null?void 0:e.perioder)==null?void 0:n.some(t=>t.avslagKode==="1043");return d.jsxs(d.Fragment,{children:[d.jsx(re,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.Title"})}),d.jsx(j,{eightPx:!0}),d.jsx(V,{children:d.jsx(x,{children:d.jsx(m,{id:r?"Beregningsgrunnlag.Avslagsårsak.IkkeTilstrekkeligInntektsgrunnlag":"Beregningsgrunnlag.HarIkkeBeregningsregler"})})})]})},v5=(e,n)=>{const r=n.vilkårsperiodeFom;return(e&&e.perioder?e.perioder.filter(t=>t.vurderesIBehandlingen&&!t.erForlengelse):[]).some(t=>t.periode.fom===r)},b5=e=>e.avklaringsbehov.some(n=>k5.some(r=>r===n.definisjon)&&n.kanLoses),h5=(e,n)=>e.map(r=>({skalVurderes:v5(n,r),harAvklaringsbehov:b5(r),stp:y(r.skjaeringstidspunktBeregning).format(ee)})),j5=({beregningsgrunnlagListe:e,submitCallback:n,isReadOnly:r,readOnlySubmitButton:t,beregningsgrunnlagsvilkar:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:l,formData:o,setFormData:u})=>{const f=e||f5,k=f.length>1;f.sort((T,P)=>T.skjaeringstidspunktBeregning.localeCompare(P.skjaeringstidspunktBeregning)).reverse();const[c,b]=h.useState(0),v=h5(f,i),I=p5("mainContainer",{"mainContainer--withSideMenu":k});return h.useEffect(()=>{const T=v.findIndex(P=>P.skalVurderes&&P.harAvklaringsbehov);T>-1&&b(T)},[e]),e.length===0||e.length===1&&!e[0].aktivitetStatus?d.jsx(qe,{value:Du,children:c5(i)}):d.jsx(qe,{value:Du,children:d.jsxs("div",{className:I,children:[k&&d.jsx("div",{className:Ti.sideMenuContainer,children:d.jsx(Sc,{links:v.map((T,P)=>({icon:T.skalVurderes&&T.harAvklaringsbehov?d.jsx(Gr,{className:Ti.advarselIkon}):null,active:c===P,label:`${T.stp}`})),onClick:b,theme:"arrow"})}),d.jsx("div",{className:Ti.contentContainer,children:d.jsx(m5,{aktivtBeregningsgrunnlagIndeks:c,beregningsgrunnlagListe:f,submitCallback:n,readOnly:r,readOnlySubmitButton:t,vilkar:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:l,setFormData:u,formData:o})})]})})},I5=e=>{switch(e){case le.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:return ie.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS;case le.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:return ie.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD;case le.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:return ie.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET;case le.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:return ie.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE;default:throw new Error(`Ukjent avklaringspunkt ${e}`)}},A5=e=>n=>{const t=(Array.isArray(n)?n:[n]).map(i=>({kode:I5(i.kode),...i.grunnlag[0]}));return e(t)},x5=(e,n)=>({avslagKode:n.avslagKode,vurderesIBehandlingen:!0,merknadParametere:{},periode:{fom:e?e.skjaeringstidspunktBeregning:"",tom:Me},vilkarStatus:n.vilkarStatus}),y5=(e,n)=>{const r=e.find(i=>i.vilkarType&&i.vilkarType===rr.BEREGNINGSGRUNNLAGVILKARET);return!r||!n?null:{...r,perioder:[x5(n,r)]}},E5=e=>e?[{...e,vilkårsperiodeFom:e.skjaeringstidspunktBeregning}]:[],T5=[ie.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS,ie.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE,ie.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD,ie.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET],_5=[rr.BEREGNINGSGRUNNLAGVILKARET],P5=[Ke.BEREGNINGSGRUNNLAG],Gu=({arbeidsgiverOpplysningerPerId:e,...n})=>a.jsx(Hl,{...n,panelEndepunkter:P5,aksjonspunktKoder:T5,vilkarKoder:_5,prosessPanelKode:Dl.BEREGNINGSGRUNNLAG,prosessPanelMenyTekst:X().formatMessage({id:"Behandlingspunkt.Beregning"}),skalPanelVisesIMeny:()=>!0,renderPanel:r=>a.jsx(j5,{...r,kodeverkSamling:r.alleKodeverk,beregningsgrunnlagsvilkar:y5(r.vilkar,r.beregningsgrunnlag),beregningsgrunnlagListe:E5(r.beregningsgrunnlag),arbeidsgiverOpplysningerPerId:e,submitCallback:A5(r.submitCallback)})});try{Gu.displayName="BeregningsgrunnlagProsessStegInitPanel",Gu.__docgenInfo={description:"",displayName:"BeregningsgrunnlagProsessStegInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const S5=(e,n)=>e.filter(r=>r.opptjeningsår===n),Ep=e=>e.aktivitetStatus+e.arbeidsgiverId,N5=(e,n,r)=>{const t=e.arbeidsgiverId?n[e.arbeidsgiverId]:void 0;return t?t.erPrivatPerson?t.fødselsdato?`${t.navn} (${y(t.fødselsdato).format(ee)})`:t.navn:t.identifikator?`${t.navn} (${t.identifikator})`:t.navn:e.aktivitetStatus?Wu(r)(e.aktivitetStatus,_n.AKTIVITET_STATUS):""},R5=(e,n,r)=>({identifikator:Ep(e),visningsnavn:N5(e,n,r),utbetaltTilSøker:e.erBrukerMottaker?e.årsbeløp:0,utbetaltIRefusjon:e.erBrukerMottaker?0:e.årsbeløp}),F5=(e,n,r)=>{const t=[];return e.forEach(i=>{const s=i.erBrukerMottaker?i.årsbeløp:0,l=i.erBrukerMottaker?0:i.årsbeløp,o=Ep(i),u=t.find(f=>f.identifikator===o);u?(u.utbetaltTilSøker+=s,u.utbetaltIRefusjon+=l):t.push(R5(i,n,r))}),t},B5=["TilkjentYtelse.Feriepenger.AndelNavn","TilkjentYtelse.Feriepenger.GrunnlagRefusjon","TilkjentYtelse.Feriepenger.GrunnlagSøker"],Tl=({alleAndeler:e,opptjeningsår:n,alleKodeverk:r,arbeidsgiverOpplysningerPerId:t})=>{const i=!e||e.length<1,s=h.useMemo(()=>i?void 0:S5(e,n),[e,n]),l=h.useMemo(()=>s?F5(s,t,r):[],[s]);return i?null:a.jsxs(a.Fragment,{children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"TilkjentYtelse.Feriepenger.Opptjeningsår",values:{år:n}})}),a.jsx(Nn,{headerTextCodes:B5,children:l.map(o=>a.jsxs(Rn,{children:[a.jsx(Z,{children:a.jsx(E,{size:"small",children:o.visningsnavn})}),a.jsx(Z,{children:a.jsx(E,{size:"small",children:o.utbetaltIRefusjon})}),a.jsx(Z,{children:a.jsx(E,{size:"small",children:o.utbetaltTilSøker})})]},o.identifikator))})]})};try{Tl.displayName="FeriepengerPrAar",Tl.__docgenInfo={description:"",displayName:"FeriepengerPrAar",props:{alleAndeler:{defaultValue:null,description:"",name:"alleAndeler",required:!0,type:{name:"Readonly<{ aktivitetStatus: string; opptjeningsår: number; årsbeløp: number; erBrukerMottaker: boolean; arbeidsgiverId?: string | undefined; arbeidsforholdId?: string | undefined; }>[]"}},opptjeningsår:{defaultValue:null,description:"",name:"opptjeningsår",required:!0,type:{name:"number"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}}}}}catch{}const O5=e=>{const n=e.map(r=>r.opptjeningsår).sort((r,t)=>r-t);return[...new Set(n)]},V5=()=>a.jsx(re,{size:"small",children:a.jsx(m,{id:"TilkjentYtelse.Feriepenger.Tittel"})}),_l=({feriepengegrunnlag:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r,erPanelÅpent:t,togglePanel:i})=>{const{andeler:s}=e,l=!s||s.length<1,o=h.useMemo(()=>l?[]:O5(s),[s]);return l?null:a.jsx(Ve,{children:a.jsxs(Ve.Item,{open:t,children:[a.jsx(Ve.Header,{onClick:i,children:V5()}),a.jsx(Ve.Content,{children:o.map(u=>a.jsxs("div",{children:[a.jsx(j,{sixteenPx:!0},`spacer_${u}`),a.jsx(Tl,{alleAndeler:s,opptjeningsår:u,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r},`tabell_${u}`)]},`div_${u}`))})]})})};try{_l.displayName="FeriepengerPanel",_l.__docgenInfo={description:"",displayName:"FeriepengerPanel",props:{feriepengegrunnlag:{defaultValue:null,description:"",name:"feriepengegrunnlag",required:!0,type:{name:"Readonly<{ andeler: Readonly<{ aktivitetStatus: string; opptjeningsår: number; årsbeløp: number; erBrukerMottaker: boolean; arbeidsgiverId?: string | undefined; arbeidsforholdId?: string | undefined; }>[]; }>"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},erPanelÅpent:{defaultValue:null,description:"",name:"erPanelÅpent",required:!0,type:{name:"boolean"}},togglePanel:{defaultValue:null,description:"",name:"togglePanel",required:!0,type:{name:"() => void"}}}}}catch{}const Pl=({feriepengegrunnlag:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r})=>{const[t,i]=h.useState(!1);return a.jsx(_l,{feriepengegrunnlag:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r,erPanelÅpent:t,togglePanel:()=>i(!t)})};try{Pl.displayName="FeriepengerIndex",Pl.__docgenInfo={description:"",displayName:"FeriepengerIndex",props:{feriepengegrunnlag:{defaultValue:null,description:"",name:"feriepengegrunnlag",required:!0,type:{name:"Readonly<{ andeler: Readonly<{ aktivitetStatus: string; opptjeningsår: number; årsbeløp: number; erBrukerMottaker: boolean; arbeidsgiverId?: string | undefined; arbeidsforholdId?: string | undefined; }>[]; }>"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}}}}}catch{}const $5="_detailsPeriode_1r02x_1",D5="_margin_1r02x_9",G5="_fix_1r02x_13",pi={detailsPeriode:$5,margin:D5,fix:G5},M5=e=>e?`...${e.substring(e.length-4,e.length)}`:"",L5=(e,n,r)=>{const t=r[e.arbeidsgiverReferanse];return!t||!t.navn?e.arbeidsforholdType?n(e.arbeidsforholdType,_n.OPPTJENING_AKTIVITET_TYPE):"":t.erPrivatPerson?`${t.navn} (${t.fødselsdato})`:`${t.navn} (${t.identifikator})${M5(e.eksternArbeidsforholdId)}`},K5=(e=!1)=>e?["TilkjentYtelse.PeriodeData.Andel","TilkjentYtelse.PeriodeData.Utbetalingsgrad","TilkjentYtelse.PeriodeData.Refusjon","TilkjentYtelse.PeriodeData.TilSoker","TilkjentYtelse.PeriodeData.SisteUtbDato"]:["TilkjentYtelse.PeriodeData.Andel","TilkjentYtelse.PeriodeData.KontoType","TilkjentYtelse.PeriodeData.Gradering","TilkjentYtelse.PeriodeData.Utbetalingsgrad","TilkjentYtelse.PeriodeData.Refusjon","TilkjentYtelse.PeriodeData.TilSoker","TilkjentYtelse.PeriodeData.SisteUtbDato"],w5=(e,n,r)=>{switch(e.aktivitetStatus){case Dn.ARBEIDSTAKER:return L5(e,n,r);case Dn.FRILANSER:return a.jsx(m,{id:"TilkjentYtelse.PeriodeData.Frilans"});case Dn.SELVSTENDIG_NAERINGSDRIVENDE:return a.jsx(m,{id:"TilkjentYtelse.PeriodeData.SelvstendigNaeringsdrivende"});case Dn.DAGPENGER:return a.jsx(m,{id:"TilkjentYtelse.PeriodeData.Dagpenger"});case Dn.ARBEIDSAVKLARINGSPENGER:return a.jsx(m,{id:"TilkjentYtelse.PeriodeData.AAP"});case Dn.MILITAER_ELLER_SIVIL:return a.jsx(m,{id:"TilkjentYtelse.PeriodeData.Militaer"});case Dn.BRUKERS_ANDEL:return a.jsx(m,{id:"TilkjentYtelse.PeriodeData.BrukersAndel"});default:return""}},C5=e=>{if(e===void 0)return null;const n=e.uttak&&e.uttak.gradering===!0?"TilkjentYtelse.PeriodeData.Ja":"TilkjentYtelse.PeriodeData.Nei";return a.jsx(m,{id:n})},U5=({selectedItemData:e,callbackForward:n,callbackBackward:r,alleKodeverk:t,isSoknadSvangerskapspenger:i,arbeidsgiverOpplysningerPerId:s,lukkPeriode:l})=>{const o=wp(e.fom,e.tom),u=X(),f=Wu(t),k=h.useCallback((...c)=>a.jsx("b",{children:c}),[]);return a.jsxs(Cl,{border:!0,children:[a.jsxs(xe,{children:[a.jsxs(V,{spaceBetween:!0,children:[a.jsx(x,{children:a.jsx(O,{size:"small",children:a.jsx(m,{id:"TilkjentYtelse.PeriodeData.Detaljer"})})}),a.jsxs(x,{className:pi.fix,children:[a.jsx(ne,{className:pi.margin,size:"xsmall",icon:a.jsx(es,{"aria-hidden":!0}),onClick:r,variant:"secondary-neutral",type:"button",title:u.formatMessage({id:"Timeline.prevPeriod"}),children:a.jsx(m,{id:"Timeline.prevPeriodShort"})}),a.jsx(ne,{className:pi.margin,size:"xsmall",icon:a.jsx(ns,{"aria-hidden":!0}),onClick:n,variant:"secondary-neutral",type:"button",title:u.formatMessage({id:"Timeline.nextPeriod"}),iconPosition:"right",children:a.jsx(m,{id:"Timeline.nextPeriodShort"})}),a.jsx(ne,{size:"xsmall",icon:a.jsx(er,{"aria-hidden":!0}),onClick:l,variant:"tertiary-neutral",type:"button",title:u.formatMessage({id:"Timeline.lukkPeriode"})})]})]}),a.jsx(j,{sixteenPx:!0}),a.jsxs("div",{className:pi.detailsPeriode,children:[a.jsxs(V,{spaceBetween:!0,children:[a.jsx(x,{children:a.jsx(O,{size:"small",children:a.jsx(m,{id:"TilkjentYtelse.PeriodeData.Periode",values:{fomVerdi:y(e.fom).format(ee).toString(),tomVerdi:y(e.tom).format(ee).toString()}})})}),a.jsx(x,{children:a.jsx(E,{size:"small",children:o.formattedString})})]}),a.jsx(j,{eightPx:!0}),a.jsx(V,{children:a.jsx(x,{children:a.jsx(m,{id:"TilkjentYtelse.PeriodeData.Dagsats",values:{dagsatsVerdi:e.dagsats,b:k}})})})]})]}),a.jsx(j,{sixteenPx:!0}),e.andeler&&e.andeler.length!==0&&a.jsx(Nn,{headerTextCodes:K5(i),children:e.andeler.map((c,b)=>a.jsxs(Rn,{children:[a.jsx(Z,{children:w5(c,f,s)}),!i&&a.jsx(Z,{children:a.jsx(E,{size:"small",children:Nc[c.uttak.stonadskontoType]})}),!i&&a.jsx(Z,{children:a.jsx(E,{size:"small",children:C5(c)})}),a.jsx(Z,{children:a.jsx(E,{size:"small",children:c.utbetalingsgrad?c.utbetalingsgrad:""})}),a.jsx(Z,{children:a.jsx(E,{size:"small",children:c.aktivitetStatus===Dn.ARBEIDSTAKER&&c.refusjon?c.refusjon:""})}),a.jsx(Z,{children:a.jsx(E,{size:"small",children:c.tilSoker?c.tilSoker:""})}),a.jsx(Z,{children:a.jsx(E,{size:"small",children:c.sisteUtbetalingsdato?y(c.sisteUtbetalingsdato).format(ee):""})})]},`index${b+1}`))})]})};try{TilkjentYtelseTimelineData.displayName="TilkjentYtelseTimelineData",TilkjentYtelseTimelineData.__docgenInfo={description:`TimeLineData

Viser opp data fra valgt periode i tilkjent ytelse-tidslinjen`,displayName:"TilkjentYtelseTimelineData",props:{selectedItemData:{defaultValue:null,description:"",name:"selectedItemData",required:!0,type:{name:"Readonly<{ fom: string; tom: string; dagsats: number; andeler?: Readonly<{ arbeidsgiverReferanse: string; refusjon: number; tilSoker: number; uttak: { stonadskontoType: string; gradering: boolean; }; utbetalingsgrad: number; sisteUtbetalingsdato: string; aktivitetStatus: string; eksternArbeidsforholdId: string; arbe..."}},callbackForward:{defaultValue:null,description:"",name:"callbackForward",required:!0,type:{name:"(...args: any[]) => any"}},callbackBackward:{defaultValue:null,description:"",name:"callbackBackward",required:!0,type:{name:"(...args: any[]) => any"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},isSoknadSvangerskapspenger:{defaultValue:null,description:"",name:"isSoknadSvangerskapspenger",required:!0,type:{name:"boolean"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},lukkPeriode:{defaultValue:null,description:"",name:"lukkPeriode",required:!0,type:{name:"() => void"}}}}}catch{}const z5="_space_ckypy_1",q5="_margin_ckypy_5",H5="_readOnlyBlokk_ckypy_9",hr={space:z5,margin:q5,readOnlyBlokk:H5},Y5=e=>(e.andeler||[]).filter(r=>r.uttak&&r.uttak.gradering===!0).length>0,J5=e=>{const n=e.gjeldende||e.oppgitt;return n.soknadType===cc.FODSEL?n.avklartBarn&&n.avklartBarn.length>0?{dato:n.avklartBarn[0].fodselsdato,textId:"TilkjentYtelse.Fodselsdato"}:{dato:n.termindato,textId:"TilkjentYtelse.Termindato"}:n.omsorgsovertakelseDato?{dato:n.omsorgsovertakelseDato,textId:"TilkjentYtelse.Omsorgsovertakelsesdato"}:{dato:n.adopsjonFodelsedatoer?n.adopsjonFodelsedatoer[0]:void 0,textId:"TilkjentYtelse.Fodselsdato"}},W5=(e=[])=>e.filter(n=>n.andeler&&n.andeler[0]&&n.dagsats).map((n,r)=>({erGradert:Y5(n),start:y(n.fom).toDate(),end:y(n.tom).add(1,"days").toDate(),id:r,periode:n})),Z5=(e,n)=>{var t;return((t=n[_n.RELASJONSROLLE_TYPE].find(i=>i.kode===e.relasjonsRolleType))==null?void 0:t.navn)||""},X5=(e,n)=>{const r=y(e);return r.isBefore(n)?n.subtract(5,"days"):r},Sl=({beregningsresultatPeriode:e,soknadDate:n,familieHendelseSamling:r,hovedsokerKjonnKode:t,alleKodeverk:i,arbeidsgiverOpplysningerPerId:s,fagsak:l})=>{const o=X(),[u,f]=h.useState(),k=h.useMemo(()=>W5(e),[e]),c=h.useCallback(()=>{f(null)},[]),b=h.useCallback(()=>{const w=k.findIndex(B=>B.id===(u==null?void 0:u.id))+1;w<k.length&&f(k[w])},[k,u,f]),v=h.useCallback(()=>{const w=k.findIndex(B=>B.id===(u==null?void 0:u.id))-1;w>=0&&f(k[w])},[k,u,f]),I=h.useCallback(w=>{f(k.find(B=>B.id===w))},[f,k]),T=y(k[0].start),P=y(k[k.length-1].end),[_,R]=h.useState(T),[A,N]=h.useState(P),F=()=>{_.subtract(1,"month").isBefore(T)||(R(_.subtract(1,"month")),N(A.subtract(1,"month")))},G=()=>{A.add(1,"month").isAfter(P)||(R(_.add(1,"month")),N(A.add(1,"month")))},$=()=>{_.add(3,"month").isAfter(A)||(R(_.add(1,"month")),N(A.subtract(1,"month")))},q=()=>{A.add(1,"month").diff(_.subtract(1,"month"),"months")<36&&(R(_.subtract(1,"month")),N(A.add(1,"month")))},Y=h.useMemo(()=>J5(r),[r]);return a.jsxs(a.Fragment,{children:[a.jsxs($e,{startDate:_.toDate(),endDate:A.add(1,"days").toDate(),children:[a.jsxs($e.Pin,{date:y(n).toDate(),children:[a.jsx(E,{children:a.jsx(m,{id:"TilkjentYtelse.Soknadsdato"})}),a.jsx(E,{children:a.jsx(_e,{dateString:n})})]}),Y.dato&&a.jsxs($e.Pin,{date:X5(Y.dato,_).toDate(),children:[a.jsx(E,{children:a.jsx(m,{id:Y.textId})}),a.jsx(E,{children:a.jsx(_e,{dateString:Y.dato})})]}),a.jsx($e.Row,{label:Z5(l,i),icon:t===nc.KVINNE?a.jsx(rc,{width:20,height:20,color:"var(--a-red-200)"}):a.jsx(Tc,{width:20,height:20,color:"var(--a-blue-600)"}),children:k.map(w=>a.jsx($e.Period,{start:w.start,end:w.end,status:"success",onSelectPeriod:()=>I(w.id),isActive:(u==null?void 0:u.id)===w.id,icon:w.erGradert?a.jsx(Jc,{"aria-hidden":!0}):a.jsx($l,{"aria-hidden":!0}),title:w.erGradert?o.formatMessage({id:"TilkjentYtelse.GradertPeriode"}):""},w.id))})]}),a.jsx(j,{twentyPx:!0}),a.jsxs(_r,{children:[a.jsx(ne,{className:hr.margin,size:"small",icon:a.jsx(_c,{"aria-hidden":!0}),onClick:$,variant:"primary-neutral",type:"button",title:o.formatMessage({id:"TilkjentYtelse.ZoomInn"})}),a.jsx(ne,{className:hr.margin,size:"small",icon:a.jsx(Pc,{"aria-hidden":!0}),onClick:q,variant:"primary-neutral",type:"button",title:o.formatMessage({id:"TilkjentYtelse.ZoomUt"})}),a.jsx(ne,{className:hr.margin,size:"small",icon:a.jsx(es,{"aria-hidden":!0}),onClick:F,variant:"primary-neutral",type:"button",title:o.formatMessage({id:"TilkjentYtelse.ScrollTilVenstre"})}),a.jsx(ne,{className:hr.margin,size:"small",icon:a.jsx(ns,{"aria-hidden":!0}),onClick:G,variant:"primary-neutral",type:"button",title:o.formatMessage({id:"TilkjentYtelse.ScrollTilHogre"})})]}),a.jsx("div",{className:hr.space}),u&&a.jsxs(a.Fragment,{children:[a.jsx(j,{eightPx:!0}),a.jsx(U5,{alleKodeverk:i,selectedItemData:u.periode,callbackForward:b,callbackBackward:v,isSoknadSvangerskapspenger:l.fagsakYtelseType===tc.SVANGERSKAPSPENGER,arbeidsgiverOpplysningerPerId:s,lukkPeriode:c})]})]})};try{Sl.displayName="TilkjentYtelse",Sl.__docgenInfo={description:`TilkjentYtelse

Masserer data og populerer felten samt formatterar tidslinjen for tilkjent ytelse`,displayName:"TilkjentYtelse",props:{beregningsresultatPeriode:{defaultValue:null,description:"",name:"beregningsresultatPeriode",required:!1,type:{name:"Readonly<{ fom: string; tom: string; dagsats: number; andeler?: Readonly<{ arbeidsgiverReferanse: string; refusjon: number; tilSoker: number; uttak: { stonadskontoType: string; gradering: boolean; }; utbetalingsgrad: number; sisteUtbetalingsdato: string; aktivitetStatus: string; eksternArbeidsforholdId: string; arbe..."}},soknadDate:{defaultValue:null,description:"",name:"soknadDate",required:!0,type:{name:"string"}},familieHendelseSamling:{defaultValue:null,description:"",name:"familieHendelseSamling",required:!0,type:{name:"Readonly<{ oppgitt: Readonly<{ skjaringstidspunkt: string; avklartBarn?: Readonly<{ fodselsdato: string; dodsdato?: string | undefined; }>[] | undefined; brukAntallBarnFraTps?: boolean | undefined; ... 15 more ...; foreldreansvarDato?: string | undefined; }>; gjeldende: Readonly<...>; register: Readonly<...>; }>"}},hovedsokerKjonnKode:{defaultValue:null,description:"",name:"hovedsokerKjonnKode",required:!1,type:{name:"enum",value:[{value:'"K"'},{value:'"M"'},{value:'"-"'}]}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 10 more ...; notater: Saksnotat[]; }>"}}}}}catch{}const Q5=e=>{var n;return e?(n=e.find(r=>r.definisjon===ie.VURDER_TILBAKETREKK))==null?void 0:n.begrunnelse:void 0},Nl=({beregningresultat:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r,feriepengegrunnlag:t,familieHendelseSamling:i,personoversikt:s,soknad:l,aksjonspunkter:o,fagsak:u})=>{var c,b;const f=h.useMemo(()=>Q5(o),[o]),k=(c=l.søknadsfrist)!=null&&c.mottattDato?(b=l.søknadsfrist)==null?void 0:b.mottattDato:l.mottattDato;return a.jsxs(a.Fragment,{children:[a.jsx(re,{size:"small",children:a.jsx(m,{id:"TilkjentYtelse.Title"})}),a.jsx(j,{thirtyTwoPx:!0}),e&&a.jsx(Sl,{beregningsresultatPeriode:e.perioder,soknadDate:k,familieHendelseSamling:i,hovedsokerKjonnKode:s!=null&&s.bruker?s.bruker.kjønn:void 0,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r,fagsak:u}),t&&a.jsxs(a.Fragment,{children:[a.jsx(j,{thirtyTwoPx:!0}),a.jsx(Pl,{feriepengegrunnlag:t,arbeidsgiverOpplysningerPerId:r,alleKodeverk:n}),a.jsx(j,{thirtyTwoPx:!0})]}),f&&a.jsxs(a.Fragment,{children:[a.jsx(O,{children:a.jsx(m,{id:"TilkjentYtelse.VurderTilbaketrekk.Beskrivelse"})}),a.jsx(j,{sixteenPx:!0}),a.jsxs(E,{className:hr.readOnlyBlokk,children:[f," ",a.jsx(yt,{})]})]})]})};try{Nl.displayName="TilkjentYtelsePanel",Nl.__docgenInfo={description:"",displayName:"TilkjentYtelsePanel",props:{beregningresultat:{defaultValue:null,description:"",name:"beregningresultat",required:!0,type:{name:"Readonly<{ opphoersdato?: string | undefined; perioder?: Readonly<{ fom: string; tom: string; dagsats: number; andeler?: Readonly<{ arbeidsgiverReferanse: string; refusjon: number; tilSoker: number; uttak: { stonadskontoType: string; gradering: boolean; }; ... 4 more ...; arbeidsforholdType: string; }>[] | undefined..."}},familieHendelseSamling:{defaultValue:null,description:"",name:"familieHendelseSamling",required:!0,type:{name:"Readonly<{ oppgitt: Readonly<{ skjaringstidspunkt: string; avklartBarn?: Readonly<{ fodselsdato: string; dodsdato?: string | undefined; }>[] | undefined; brukAntallBarnFraTps?: boolean | undefined; ... 15 more ...; foreldreansvarDato?: string | undefined; }>; gjeldende: Readonly<...>; register: Readonly<...>; }>"}},personoversikt:{defaultValue:null,description:"",name:"personoversikt",required:!0,type:{name:"Readonly<{ bruker: Readonly<{ navn: string; aktoerId: string; kjønn: string; sivilstand: string; dødsdato?: string | undefined; fødselsdato: string; adresser: Readonly<{ adresseType?: string | undefined; adresselinje1?: string | undefined; ... 4 more ...; land?: string | undefined; }>[]; }>; annenPart?: Readonly<......"}},soknad:{defaultValue:null,description:"",name:"soknad",required:!0,type:{name:"Readonly<{ soknadType: string; mottattDato: string; begrunnelseForSenInnsending: string | undefined; antallBarn: number; oppgittTilknytning: { oppholdNorgeNa: boolean; oppholdSistePeriode: boolean; oppholdNestePeriode: boolean; utlandsoppholdFor: Readonly<...>[]; utlandsoppholdEtter: Readonly<...>[]; }; ... 9 more ...."}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},feriepengegrunnlag:{defaultValue:null,description:"",name:"feriepengegrunnlag",required:!1,type:{name:"Readonly<{ andeler: Readonly<{ aktivitetStatus: string; opptjeningsår: number; årsbeløp: number; erBrukerMottaker: boolean; arbeidsgiverId?: string; arbeidsforholdId?: string; }>[]; }> | undefined"}},fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 10 more ...; notater: Saksnotat[]; }>"}}}}}catch{}const eK={"TilkjentYtelse.Title":"Tilkjent ytelse","TilkjentYtelse.VurderTilbaketrekk.Beskrivelse":"Saksbehandler har vurdert om ytelsen skal endres fra direkte utbetaling til refusjon til arbeidsgiver, og tilbakekreves fra bruker, eller om det er en sak mellom arbeidstaker og arbeidsgiver.","TilkjentYtelse.Stonadinfo.Stonadsdager":"Stønadsdager","TilkjentYtelse.PeriodeData.Detaljer":"Detaljer for valgt periode","TilkjentYtelse.PeriodeData.UkerDager":"{weeks} uker {days} dager","TilkjentYtelse.PeriodeData.Godkjent":"Godkjent","TilkjentYtelse.PeriodeData.Dagsats":"Utbetalt dagsats: <b>{dagsatsVerdi}</b>","TilkjentYtelse.PeriodeData.Andel":"Andel","TilkjentYtelse.PeriodeData.KontoType":"Stønadskonto","TilkjentYtelse.PeriodeData.Gradering":"Gradering","TilkjentYtelse.PeriodeData.Utbetalingsgrad":"Utb.grad","TilkjentYtelse.PeriodeData.Refusjon":"Utbetalt refusjon","TilkjentYtelse.PeriodeData.TilSoker":"Utbetalt til søker","TilkjentYtelse.PeriodeData.SisteUtbDato":"Siste innvilgede utb.dato","TilkjentYtelse.PeriodeData.Periode":"{fomVerdi} - {tomVerdi}","TilkjentYtelse.PeriodeData.Ja":"Ja","TilkjentYtelse.PeriodeData.Nei":"Nei","TilkjentYtelse.PeriodeData.SelvstendigNaeringsdrivende":"Selvstendig næringsdrivende","TilkjentYtelse.PeriodeData.Frilans":"Frilanser","TilkjentYtelse.PeriodeData.Militaer":"Militær","TilkjentYtelse.PeriodeData.Dagpenger":"Dagpenger","TilkjentYtelse.PeriodeData.AAP":"Arbeidsavklaringspenger","TilkjentYtelse.PeriodeData.BrukersAndel":"Brukers andel","TilkjentYtelse.Feriepenger.Tittel":"Feriepengegrunnlag","TilkjentYtelse.Feriepenger.Opptjeningsår":"Opptjent i {år}","TilkjentYtelse.Feriepenger.AndelNavn":"Andel","TilkjentYtelse.Feriepenger.GrunnlagSøker":"Beløp til søker","TilkjentYtelse.Feriepenger.GrunnlagRefusjon":"Beløp til arbeidsgiver","TilkjentYtelse.Soknadsdato":"Søknadsdato","TilkjentYtelse.Fodselsdato":"Fødselsdato","TilkjentYtelse.Termindato":"Termindato","TilkjentYtelse.GradertPeriode":"Gradert periode","TilkjentYtelse.ZoomInn":"Zoom inn","TilkjentYtelse.ZoomUt":"Zoom ut","TilkjentYtelse.ScrollTilVenstre":"Scroll til venstre","TilkjentYtelse.ScrollTilHogre":"Scroll til høyre","TilkjentYtelse.Omsorgsovertakelsesdato":"Omsorgsovertakelsesdato","Timeline.lukkPeriode":"Lukk periode","Malform.Beskrivelse":"Foretrukket språk","Timeline.closeData":"Lukke info om periode","Timeline.nextPeriod":"Neste periode","Timeline.nextPeriodShort":"Neste","Timeline.prevPeriod":"Forrige periode","Timeline.prevPeriodShort":"Forrige","Timeline.tooltip.dagsats":"Dagsats: {dagsats}kr","Timeline.tooltip.start":"Start","Timeline.tooltip.slutt":"Slutt","Timeline.tooltip.periodetype":"Periodetype","Timeline.tooltip.utsettelsePeriode":"Utsettelse","Timeline.TidspunktFamiliehendelse":"Tidspunkt for familiehendelse","Timeline.OppfyltPeriode":"Oppfylt periode","Timeline.IkkeOppfyltPeriode":"Ikke oppfylt periode","Timeline.TidspunktMotakSoknad":"Tidspunkt for mottatt søknad","Timeline.BelopTilbakereves":"Beløp tilbakekreves","Timeline.IngenTilbakekreving":"Ingen tilbakekreving","Timeline.IkkeAvklartPeriode":"Uavklart periode","Timeline.TidspunktRevurdering":"Startpunkt for revurdering","Timeline.GradertPeriode":"Gradert periode","Timeline.ManueltAvklart":"Manuelt avklart periode"},nK=Pe(eK),Mu=({beregningresultat:e,familiehendelse:n,personoversikt:r,soknad:t,fagsak:i,aksjonspunkter:s,alleKodeverk:l,arbeidsgiverOpplysningerPerId:o,feriepengegrunnlag:u})=>a.jsx(qe,{value:nK,children:a.jsx(Nl,{beregningresultat:e,familieHendelseSamling:n,personoversikt:r,soknad:t,fagsak:i,aksjonspunkter:s,alleKodeverk:l,arbeidsgiverOpplysningerPerId:o,feriepengegrunnlag:u})});try{Mu.displayName="TilkjentYtelseProsessIndex",Mu.__docgenInfo={description:"",displayName:"TilkjentYtelseProsessIndex",props:{beregningresultat:{defaultValue:null,description:"",name:"beregningresultat",required:!0,type:{name:"Readonly<{ opphoersdato?: string | undefined; perioder?: Readonly<{ fom: string; tom: string; dagsats: number; andeler?: Readonly<{ arbeidsgiverReferanse: string; refusjon: number; tilSoker: number; uttak: { stonadskontoType: string; gradering: boolean; }; ... 4 more ...; arbeidsforholdType: string; }>[] | undefined..."}},familiehendelse:{defaultValue:null,description:"",name:"familiehendelse",required:!0,type:{name:"Readonly<{ oppgitt: Readonly<{ skjaringstidspunkt: string; avklartBarn?: Readonly<{ fodselsdato: string; dodsdato?: string | undefined; }>[] | undefined; brukAntallBarnFraTps?: boolean | undefined; ... 15 more ...; foreldreansvarDato?: string | undefined; }>; gjeldende: Readonly<...>; register: Readonly<...>; }>"}},personoversikt:{defaultValue:null,description:"",name:"personoversikt",required:!0,type:{name:"Readonly<{ bruker: Readonly<{ navn: string; aktoerId: string; kjønn: string; sivilstand: string; dødsdato?: string | undefined; fødselsdato: string; adresser: Readonly<{ adresseType?: string | undefined; adresselinje1?: string | undefined; ... 4 more ...; land?: string | undefined; }>[]; }>; annenPart?: Readonly<......"}},soknad:{defaultValue:null,description:"",name:"soknad",required:!0,type:{name:"Readonly<{ soknadType: string; mottattDato: string; begrunnelseForSenInnsending: string | undefined; antallBarn: number; oppgittTilknytning: { oppholdNorgeNa: boolean; oppholdSistePeriode: boolean; oppholdNestePeriode: boolean; utlandsoppholdFor: Readonly<...>[]; utlandsoppholdEtter: Readonly<...>[]; }; ... 9 more ...."}},fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 10 more ...; notater: Saksnotat[]; }>"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},feriepengegrunnlag:{defaultValue:null,description:"",name:"feriepengegrunnlag",required:!1,type:{name:"Readonly<{ andeler: Readonly<{ aktivitetStatus: string; opptjeningsår: number; årsbeløp: number; erBrukerMottaker: boolean; arbeidsgiverId?: string; arbeidsforholdId?: string; }>[]; }> | undefined"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},vilkar:{defaultValue:null,description:"",name:"vilkar",required:!0,type:{name:"Readonly<{ vilkarType: string; vilkarStatus: string; avslagKode?: string | undefined; lovReferanse?: string | undefined; overstyrbar: boolean; }>[]"}},isAksjonspunktOpen:{defaultValue:null,description:"",name:"isAksjonspunktOpen",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const rK="_panel_d5cml_1",tK="_hyphen_d5cml_9",iK="_marginTop_d5cml_19",sK="_marginBottom_d5cml_23",aK="_colWidth_d5cml_27",$n={panel:rK,hyphen:tK,marginTop:iK,marginBottom:sK,colWidth:aK},lK=(e,n)=>e&&n!==void 0,dK=(e,n,r)=>{const t=r==null?void 0:r.mottattDato;return{gyldigSenFremsetting:e[0].status===ql.OPPRETTET?void 0:t!==n,ansesMottatt:t,...Lr.buildInitialValues(e)}},oK=e=>({harGyldigGrunn:e.gyldigSenFremsetting,ansesMottattDato:e.ansesMottatt,kode:ie.VURDER_SOKNADSFRIST_FORELDREPENGER,...Lr.transformValues(e)}),Rl=({aksjonspunkter:e,readOnly:n,readOnlySubmitButton:r,mottattDato:t,søknadsfrist:i,isApOpen:s,submitCallback:l,formData:o,setFormData:u})=>{const f=h.useMemo(()=>dK(e,t,i),[e,t,i]),k=He({defaultValues:o||f}),c=k.watch("gyldigSenFremsetting"),b=i==null?void 0:i.søknadsperiodeStart,v=i==null?void 0:i.søknadsperiodeSlutt,I=i==null?void 0:i.utledetSøknadsfrist;return a.jsxs(Ye,{formMethods:k,onSubmit:T=>l(oK(T)),setDataOnUnmount:u,children:[a.jsx(re,{size:"small",children:a.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Soknadsfrist"})}),a.jsx(j,{twentyPx:!0}),a.jsx(wl,{isAksjonspunktOpen:s,children:[a.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.AksjonspunktHelpText",values:{numberOfDays:i==null?void 0:i.dagerOversittetFrist,soknadsfristdato:I?jr(I).format(ee):""}},"VurderSoknadsfristForeldrepengerForm")]}),a.jsx(j,{twentyPx:!0}),a.jsx(xe,{children:a.jsxs(V,{children:[a.jsx(x,{className:$n.colWidth,children:a.jsxs(Cl,{className:$n.panel,children:[a.jsx(O,{size:"small",children:a.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Vurder"})}),a.jsxs("ul",{className:$n.hyphen,children:[a.jsx("li",{children:a.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Punkt1"})}),a.jsx("li",{children:a.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Punkt2"})}),a.jsx("li",{children:a.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Punkt3"})})]})]})}),a.jsx(x,{className:$n.colWidth,children:a.jsx(xe,{children:a.jsxs(V,{className:$n.marginBottom,children:[a.jsxs(x,{className:$n.colWidth,children:[a.jsx(de,{children:a.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.SoknadMottatt"})}),t&&a.jsx(E,{size:"small",children:jr(t).format(ee)})]}),b&&v&&a.jsxs(x,{className:$n.colWidth,children:[a.jsx(de,{children:a.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.SoknadPeriode"})}),a.jsx(E,{size:"small",children:`${jr(b).format(ee)} - ${jr(v).format(ee)}`})]})]})})})]})}),a.jsxs("div",{className:$n.marginTop,children:[a.jsx(Lr,{readOnly:n}),a.jsx(j,{sixteenPx:!0}),a.jsx(Ae,{name:"gyldigSenFremsetting",validate:[W],isReadOnly:n,isHorizontal:!0,isEdited:lK(e.length>0,c),isTrueOrFalseSelection:!0,radios:[{value:"true",label:a.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.GyldigGrunn"})},{value:"false",label:a.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.IkkeGyldigGrunn"})}]}),c&&a.jsxs(a.Fragment,{children:[a.jsx(j,{sixteenPx:!0}),a.jsx(Qu,{children:a.jsx(nr,{name:"ansesMottatt",isReadOnly:n,label:a.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.NyMottattDato"}),validate:[W,Tn,ic]})})]}),a.jsx(j,{twentyPx:!0}),a.jsx(fc,{isReadOnly:n,isSubmittable:!r,isSubmitting:k.formState.isSubmitting,isDirty:k.formState.isDirty})]})]})};try{Rl.displayName="VurderSoknadsfristForeldrepengerForm",Rl.__docgenInfo={description:`VurderSoknadsfristForeldrepengerForm

Setter opp aksjonspunktet for vurdering av søknadsfristvilkåret.`,displayName:"VurderSoknadsfristForeldrepengerForm",props:{mottattDato:{defaultValue:null,description:"",name:"mottattDato",required:!0,type:{name:"string"}},søknadsfrist:{defaultValue:null,description:"",name:"søknadsfrist",required:!1,type:{name:"Readonly<{ mottattDato?: string; utledetSøknadsfrist?: string; søknadsperiodeStart?: string | undefined; søknadsperiodeSlutt?: string | undefined; dagerOversittetFrist?: number | undefined; }> | undefined"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(data: VurderSoknadsfristAp) => Promise<void>"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},isApOpen:{defaultValue:null,description:"",name:"isApOpen",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"FormValues"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: FormValues) => void"}}}}}catch{}const gK={"VurderSoknadsfristForeldrepengerForm.Soknadsfrist":"Søknadsfrist","VurderSoknadsfristForeldrepengerForm.AksjonspunktHelpText":"Søknad ble mottatt {numberOfDays} dager etter søknadsfrist ({soknadsfristdato})","VurderSoknadsfristForeldrepengerForm.SoknadMottatt":"Søknad mottatt dato","VurderSoknadsfristForeldrepengerForm.SoknadPeriode":"Søknadsperiode","VurderSoknadsfristForeldrepengerForm.Begrunnelse":"Begrunnelse fra søknaden","VurderSoknadsfristForeldrepengerForm.Vurder":"Vurder følgende","VurderSoknadsfristForeldrepengerForm.Punkt1":"Har det vært fristavbrytende kontakt?","VurderSoknadsfristForeldrepengerForm.Punkt2":"Har NAV gitt misvisende opplysninger?","VurderSoknadsfristForeldrepengerForm.Punkt3":"Har søker åpenbart ikke vært i stand til å sette frem krav?","VurderSoknadsfristForeldrepengerForm.GyldigGrunn":"Gyldig grunn for sen fremsetting av søknaden","VurderSoknadsfristForeldrepengerForm.IkkeGyldigGrunn":"Ingen gyldig grunn for sen fremsetting av søknaden","VurderSoknadsfristForeldrepengerForm.NyMottattDato":"Dato for når søknaden kan anses som mottatt"},uK=Pe(gK),Fl=({soknad:e,aksjonspunkter:n,submitCallback:r,isReadOnly:t,readOnlySubmitButton:i,isAksjonspunktOpen:s,formData:l,setFormData:o})=>a.jsx(qe,{value:uK,children:a.jsx(Rl,{mottattDato:e.mottattDato,søknadsfrist:e.søknadsfrist,aksjonspunkter:n,submitCallback:r,readOnly:t,readOnlySubmitButton:i,isApOpen:s,formData:l,setFormData:o})});try{Fl.displayName="VurderSoknadsfristForeldrepengerIndex",Fl.__docgenInfo={description:"",displayName:"VurderSoknadsfristForeldrepengerIndex",props:{soknad:{defaultValue:null,description:"",name:"soknad",required:!0,type:{name:"Readonly<{ soknadType: string; mottattDato: string; begrunnelseForSenInnsending: string | undefined; antallBarn: number; oppgittTilknytning: { oppholdNorgeNa: boolean; oppholdSistePeriode: boolean; oppholdNestePeriode: boolean; utlandsoppholdFor: Readonly<...>[]; utlandsoppholdEtter: Readonly<...>[]; }; ... 9 more ...."}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},vilkar:{defaultValue:null,description:"",name:"vilkar",required:!0,type:{name:"Readonly<{ vilkarType: string; vilkarStatus: string; avslagKode?: string | undefined; lovReferanse?: string | undefined; overstyrbar: boolean; }>[]"}},isAksjonspunktOpen:{defaultValue:null,description:"",name:"isAksjonspunktOpen",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const mK=[ie.VURDER_SOKNADSFRIST_FORELDREPENGER],kK=[Ke.SOKNAD],Lu=e=>a.jsx(Hl,{...e,panelEndepunkter:kK,aksjonspunktKoder:mK,prosessPanelKode:Dl.SOEKNADSFRIST,prosessPanelMenyTekst:X().formatMessage({id:"Behandlingspunkt.Soknadsfristvilkaret"}),skalPanelVisesIMeny:n=>nm(n.aksjonspunkter),renderPanel:n=>a.jsx(Fl,{...n})});try{Lu.displayName="SoknadsfristProsessStegInitPanel",Lu.__docgenInfo={description:"",displayName:"SoknadsfristProsessStegInitPanel",props:{behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}export{mo as A,iu as B,Mc as D,Po as F,du as O,Xc as P,Lu as S,Mu as T,oo as a,No as b,au as c,Gu as d,gu as e,Jc as f};
