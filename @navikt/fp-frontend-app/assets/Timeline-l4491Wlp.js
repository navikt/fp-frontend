import{r as u,R as c}from"./index-DogsOklH.js";import{u as z,w as O,x as $e,y as ce,z as Ne,A as K,I as de,J as V,K as ue,Q as fe,R as S,S as ke,T as q,U as Le,Y as ve,Z as pe,$ as me,a0 as be,a1 as ye,a2 as he,a3 as ge,a4 as we,a5 as Oe,a6 as _e,a7 as xe,a8 as je,a9 as Ee,aa as Pe,k as L,ab as Ye,ac as Ze,ad as W,ae as ze,af as U}from"./index.es-wB6XluAU.js";import{a7 as ee}from"./AppIndex.stories-iobepKve.js";var Be=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const He=u.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=Be(e,["title","titleId"]);let r=z();return r=n?t||"title-"+r:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:o,"aria-labelledby":r},l),n?u.createElement("title",{id:r},n):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .656.387l9.527 17.25A.75.75 0 0 1 21.526 21H2.474a.75.75 0 0 1-.657-1.113l9.527-17.25A.75.75 0 0 1 12 2.25Zm8.255 17.25L12 4.551 3.745 19.5h16.51ZM12 8.75a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4a.75.75 0 0 1 .75-.75Zm0 6.75a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z",fill:"currentColor"}))}),Tt=He;var Ke=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Ve=u.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=Ke(e,["title","titleId"]);let r=z();return r=n?t||"title-"+r:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:o,"aria-labelledby":r},l),n?u.createElement("title",{id:r},n):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.75 12a.75.75 0 0 1 .75-.75h13a.75.75 0 1 1 0 1.5h-13a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))}),$t=Ve;var Ue=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Qe=u.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=Ue(e,["title","titleId"]);let r=z();return r=n?t||"title-"+r:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:o,"aria-labelledby":r},l),n?u.createElement("title",{id:r},n):null,u.createElement("path",{d:"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75V5.5Z",fill:"currentColor"}))}),Nt=Qe;var Xe=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Je=u.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=Xe(e,["title","titleId"]);let r=z();return r=n?t||"title-"+r:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:o,"aria-labelledby":r},l),n?u.createElement("title",{id:r},n):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.97 10.085A3.25 3.25 0 1 1 9.1 8.478l1.456.822 6.506-1.952a1.75 1.75 0 0 1 .79-.05l2.771.462a.75.75 0 0 1 .234 1.4l-5.336 2.89 5.326 2.785a.75.75 0 0 1-.224 1.405l-2.77.462a1.75 1.75 0 0 1-.791-.05l-6.46-1.938-1.5.813a3.25 3.25 0 1 1-1.132-1.612 3.252 3.252 0 0 0 0-3.83ZM4.25 7.5a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Zm8.213 6.206 1.468-.795 4.24 2.217-.565.094a.25.25 0 0 1-.113-.007l-5.03-1.509Zm-5.072 1.732A1.742 1.742 0 0 1 7.75 16.5a1.75 1.75 0 1 1-.359-1.062Zm2.493-2.04a4.773 4.773 0 0 0 .11-2.363l7.499-2.25a.25.25 0 0 1 .113-.007l.616.103-8.338 4.516Z",fill:"currentColor"}))}),kt=Je;var We=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const qe=u.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=We(e,["title","titleId"]);let r=z();return r=n?t||"title-"+r:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:o,"aria-labelledby":r},l),n?u.createElement("title",{id:r},n):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2.25a2.75 2.75 0 1 0 0 5.5 2.75 2.75 0 0 0 0-5.5ZM8.25 9A.75.75 0 0 1 9 8.25h6a.75.75 0 0 1 .75.75v7a.75.75 0 0 1-.75.75h-.75V21a.75.75 0 0 1-1.5 0v-4.25h-1.5V21a.75.75 0 0 1-1.5 0v-4.25H9a.75.75 0 0 1-.75-.75V9Z",fill:"currentColor"}))}),Lt=qe;function Z(e,o){const n=O(e),t=O(o),l=n.getTime()-t.getTime();return l<0?-1:l>0?1:l}function Ge(e,o){const n=O(e),t=O(o);return n.getFullYear()-t.getFullYear()}function Me(e,o){const n=O(e),t=O(o),l=re(n,t),r=Math.abs($e(n,t));n.setDate(n.getDate()-l*r);const f=+(re(n,t)===-l),a=l*(r-f);return a===0?0:a}function re(e,o){const n=e.getFullYear()-o.getFullYear()||e.getMonth()-o.getMonth()||e.getDate()-o.getDate()||e.getHours()-o.getHours()||e.getMinutes()-o.getMinutes()||e.getSeconds()-o.getSeconds()||e.getMilliseconds()-o.getMilliseconds();return n<0?-1:n>0?1:n}function ae(e,o){return+O(e)-+O(o)}function Q(e){const o=O(e);return o.setHours(23,59,59,999),o}function et(e){const o=O(e);return+Q(o)==+ce(o)}function tt(e,o){const n=O(e),t=O(o),l=Z(n,t),r=Math.abs(Ne(n,t));let f;if(r<1)f=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-l*r);let a=Z(n,t)===-l;et(O(e))&&r===1&&Z(e,t)===1&&(a=!1),f=l*(r-Number(a))}return f===0?0:f}function nt(e,o){const n=O(e),t=O(o),l=Z(n,t),r=Math.abs(Ge(n,t));n.setFullYear(1584),t.setFullYear(1584);const f=Z(n,t)===-l,a=l*(r-+f);return a===0?0:a}function lt(e){const o=O(e),n=o.getFullYear();return o.setFullYear(n+1,0,0),o.setHours(23,59,59,999),o}function ot(e,o){return K(e,-o)}const Re=u.createContext({startDate:new Date,endDate:new Date,direction:"left",setStart:()=>null,setEndInclusive:()=>null,activeRow:0,setActiveRow:()=>null,initiate:()=>null,addFocusable:()=>null}),B=()=>{const e=u.useContext(Re);return e||console.warn("useTimelineContext must be used with TimelineContext (<Timeline />)"),e},rt=({horizontalPosition:e})=>e<=98&&e>=0,se=(e,o)=>Me(e,o)<=1,at=({horizontalPosition:e,width:o})=>e>=0&&e<=100&&o>0,G=(e,o,n)=>{const t=ae(n,o);return ae(e,o)/t*100},X=(e,o,n,t)=>{const l=G(e,n,t),r=G(o,n,t)-l;return{horizontalPosition:l,width:r}},st=(e,o,n,t,l="dd.MM")=>{const r=Math.ceil(n/10),f=V(o);return new Array(n).fill(f).map((a,v)=>{if(v%r!==0)return null;const i=ue(a,v),{horizontalPosition:p,width:m}=X(i,fe(i,1),e,o);return{direction:t,horizontalPosition:p,label:S(i,l,{locale:ee}),date:i,width:m}}).filter(a=>a!==null)},it=(e,o,n,t="MMM yy")=>{const l=ke(e),r=ce(o),f=tt(r,l)+1;return new Array(f).fill(l).map((a,v)=>{const i=q(a,v),{horizontalPosition:p,width:m}=X(i,q(i,1),e,o);return{direction:n,horizontalPosition:p,label:S(i,t,{locale:ee}),date:i,width:m}})},ct=(e,o,n,t="yyyy")=>{const l=Le(e),r=lt(o),f=nt(r,e)+1;return new Array(f).fill(l).map((a,v)=>{const i=K(a,v),{horizontalPosition:p,width:m}=X(i,K(i,1),e,o);return{direction:n,horizontalPosition:p,label:S(i,t,{locale:ee}),date:i,width:m}})},dt=(e,o,n,t)=>{const l=Me(o,e);return l<40?st(e,o,l,n,t==null?void 0:t.day):l<370?it(e,o,n,t==null?void 0:t.month):ct(e,o,n,t==null?void 0:t.year)},ut=({templates:e})=>{const{endDate:o,startDate:n,direction:t}=B(),l=dt(n,o,t,e).filter(rt);return c.createElement("div",{className:"navds-timeline__axislabels","aria-hidden":"true"},l.map(r=>c.createElement(de,{className:"navds-timeline__axislabels-label",as:"div",key:r.label,style:{justifyContent:t==="left"?"flex-start":"flex-end",[t]:`${r.horizontalPosition}%`,width:`${r.width}%`}},r.label)))};var ft=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Ie=u.forwardRef((e,o)=>{var{date:n,children:t}=e,l=ft(e,["date","children"]);const{startDate:r,endDate:f,direction:a}=B(),[v,i]=u.useState(!1),p=u.useRef(null),{context:m,placement:y,middlewareData:{arrow:{x:w,y:d}={}},refs:g,floatingStyles:_}=ve({placement:"top",open:v,onOpenChange:R=>i(R),whileElementsMounted:pe,middleware:[me(16),be(),ye({padding:5,fallbackPlacements:["bottom","top"]}),he({element:p,padding:5})]}),b=ge(m,{handleClose:we(),restMs:25,delay:{open:1e3},move:!1}),M=Oe(m),A=_e(m),C=xe(m,{role:"dialog"}),{getFloatingProps:P,getReferenceProps:k}=je([b,M,A,C]),D=Ee(g.setReference,o),F={top:"bottom",right:"left",bottom:"top",left:"right"}[y.split("-")[0]];return c.createElement(c.Fragment,null,c.createElement("div",{className:"navds-timeline__pin-wrapper",style:{[a]:`${G(n,r,f)}%`}},c.createElement("button",Object.assign({},l,{ref:D,className:"navds-timeline__pin-button","aria-label":`pin:${S(n,"dd.MM.yyyy")}`,type:"button","aria-expanded":t?v:void 0},k({onKeyDown:R=>{var T;(T=l==null?void 0:l.onKeyDown)===null||T===void 0||T.call(l,R),R.key==="Enter"?i(s=>!s):R.key===" "&&i(!1)}})))),t&&v&&c.createElement(Pe,{context:m,modal:!1,initialFocus:-1,returnFocus:!1},c.createElement("div",Object.assign({className:"navds-timeline__popover","data-placement":y,ref:g.setFloating},P(),{tabIndex:void 0,style:_}),t,c.createElement("div",{ref:p,style:Object.assign(Object.assign(Object.assign({},w!=null?{left:w}:{}),d!=null?{top:d}:{}),F?{[F]:"-0.5rem"}:{}),className:"navds-timeline__popover-arrow"}))))});Ie.componentType="pin";const Se=u.createContext({periodId:"",firstFocus:!1}),De=()=>{const e=u.useContext(Se);return e||console.warn("usePeriodContext must be used with PeriodContext"),e},Ce=u.createContext({periods:[],id:"",active:!1,index:0}),te=()=>{const e=u.useContext(Ce);return e||console.warn("useRowContext must be used with RowContext"),e},Ae=(e,o,n)=>L(`navds-timeline__period navds-timeline__period--${n}`,{"navds-timeline__period--connected-both":e==="both","navds-timeline__period--connected-right":e==="right"&&o==="left"||e==="left"&&o==="right","navds-timeline__period--connected-left":e==="left"&&o==="left"||e==="right"&&o==="right"}),vt=e=>{switch(e){case"success":return"Suksess";case"warning":return"Advarsel";case"danger":return"Fare";case"info":return"Info";case"neutral":return"Nøytral";default:return e}},Fe=(e,o,n,t)=>{const l=S(e,"dd.MM.yyyy"),r=S(o,"dd.MM.yyyy");return`${t||vt(n)} fra ${l} til ${r}`},pt=c.memo(({onSelectPeriod:e,start:o,end:n,status:t,cropped:l,direction:r,left:f,width:a,icon:v,children:i,isActive:p,statusLabel:m,restProps:y,periodRef:w})=>{const[d,g]=u.useState(!1),{index:_}=te(),{firstFocus:b}=De(),{initiate:M,addFocusable:A}=B(),C=u.useRef(null),{context:P,placement:k,middlewareData:{arrow:{x:D,y:F}={}},refs:R,floatingStyles:T}=ve({placement:"top",open:d,onOpenChange:j=>g(j),whileElementsMounted:pe,middleware:[me(16),be(),ye({padding:5,fallbackPlacements:["bottom","top"]}),he({element:C,padding:5})]}),s=ge(P,{handleClose:we(),restMs:25,delay:{open:1e3},move:!1}),h=Oe(P),I=_e(P),$=xe(P,{role:"dialog"}),{getFloatingProps:Y,getReferenceProps:x}=je([s,h,I,$]),J=Ee(R.setReference,w),E={top:"bottom",right:"left",bottom:"top",left:"right"}[k.split("-")[0]];return c.createElement(c.Fragment,null,c.createElement("button",Object.assign({},y,{type:"button",ref:j=>{b&&A(j,_),J(j)},"aria-label":Fe(o,n,t,m),className:L("navds-timeline__period--clickable",Ae(l,r,t),y==null?void 0:y.className,{"navds-timeline__period--selected":p}),"aria-expanded":i?d:void 0,"aria-current":p||void 0},x({onFocus:()=>{M(_)},onKeyDown:j=>{var N;(N=y==null?void 0:y.onKeydown)===null||N===void 0||N.call(y,j),j.key==="Enter"&&g(Te=>!Te),j.key===" "&&(e==null||e(j),g(!1))},style:{width:`${a}%`,[r]:`${f}%`},onClick:j=>{var N;(N=y==null?void 0:y.onClick)===null||N===void 0||N.call(y,j),j.detail!==0&&(e==null||e(j))}})),c.createElement("span",{className:"navds-timeline__period--inner"},v)),i&&d&&c.createElement(Pe,{context:P,modal:!1,initialFocus:-1,returnFocus:!1},c.createElement("div",Object.assign({className:"navds-timeline__popover","data-placement":k,ref:R.setFloating},Y(),{style:T}),i,c.createElement("div",{ref:C,style:Object.assign(Object.assign(Object.assign({},D!=null?{left:D}:{}),F!=null?{top:F}:{}),E?{[E]:"-0.5rem"}:{}),className:"navds-timeline__popover-arrow"}))))}),mt=({start:e,end:o,status:n,cropped:t,direction:l,left:r,width:f,icon:a,statusLabel:v,restProps:i,periodRef:p})=>c.createElement("div",Object.assign({ref:p},i,{className:L(Ae(t,l,n),i==null?void 0:i.className),style:{width:`${f}%`,[l]:`${r}%`}}),c.createElement("span",{className:"navds-timeline__period--inner"},a,c.createElement("span",{className:"sr-only"},Fe(e,o,n,v)))),ne=u.forwardRef(({icon:e},o)=>{const{periods:n}=te(),{periodId:t,restProps:l}=De(),r=n.find(b=>b.id===t);if(!r)return c.createElement(c.Fragment,null);const{start:f,endInclusive:a,width:v,horizontalPosition:i,status:p="neutral",onSelectPeriod:m,cropped:y,direction:w,children:d,isActive:g,statusLabel:_}=r;return m||d?c.createElement(pt,{periodRef:o,start:f,end:a,status:p,onSelectPeriod:m,cropped:y||"",direction:w,width:v,left:i,icon:e,isActive:g,statusLabel:_,restProps:l},d):c.createElement(mt,{periodRef:o,start:f,end:a,status:p,cropped:y||"",direction:w,width:v,left:i,icon:e,statusLabel:_,restProps:l})});ne.componentType="period";var bt=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const le=u.forwardRef((e,o)=>{var{label:n,className:t,headingTag:l="h3",icon:r}=e,f=bt(e,["label","className","headingTag","icon"]);const{periods:a,id:v,active:i}=te(),{setActiveRow:p}=B(),m=a.reduce((d,g)=>d.end>g.end?d:g,{}),y=a.reduce((d,g)=>d.end<g.end?d:g,{}),w=a.find(d=>!!d.children||!!d.onSelectPeriod);return c.createElement(c.Fragment,null,n&&c.createElement(Ye,{as:l,id:`timeline-row-${v}`,className:"navds-timeline__row-label",size:"small"},r,n),c.createElement("div",{className:L("navds-timeline__row",{"navds-timeline__row--active":i})},c.createElement("ol",Object.assign({},f,{tabIndex:-1,ref:o,"aria-label":a.length===0?"Ingen perioder":`${S(y.start,"dd.MM.yyyy")} til ${S(m.end,"dd.MM.yyyy")}`,className:L("navds-timeline__row-periods",t),onKeyDown:d=>{(d.key==="ArrowDown"||d.key==="ArrowUp")&&(d.preventDefault(),p(d.key))}}),a&&a.map(d=>c.createElement("li",{key:`period-${d.id}`},c.createElement(Se.Provider,{value:{periodId:d.id,firstFocus:(w==null?void 0:w.id)===d.id,restProps:d==null?void 0:d.restProps}},c.createElement(ne,{start:d.start,end:d.endInclusive,icon:d.icon,ref:d==null?void 0:d.ref})))))))});le.componentType="row";const yt=(e,o)=>e.horizontalPosition-o.horizontalPosition,ht=(e,o,n,t="left",l,r,f)=>{const a=e.start,v=e.end,i=l<r.length-1&&!Ze(r[l+1].start,v),{horizontalPosition:p,width:m}=X(V(a),Q(i?V(ue(r[l+1].start,1)):v),o,n);return{id:`r-${f}-p-${l}`,start:a,endInclusive:v,horizontalPosition:p,direction:t,width:m,end:v,status:e.status,onSelectPeriod:e.onSelectPeriod,icon:e.icon,children:e.children,isActive:e.isActive,statusLabel:e.statusLabel}},gt=(e,o,n)=>{const t=o>0&&se(e.start,n[o-1].endInclusive),l=o<n.length-1&&se(n[o+1].start,e.endInclusive);return t&&l?Object.assign(Object.assign({},e),{cropped:"both"}):t?Object.assign(Object.assign({},e),{cropped:"left"}):l?Object.assign(Object.assign({},e),{cropped:"right"}):e},wt=e=>{let{horizontalPosition:o,width:n,cropped:t}=e;return o+n>100&&(n=100-o,t=t==="left"||t==="both"?"both":"right"),o<0&&o+n>0&&(n=o+n,o=0,t=t==="right"||t==="both"?"both":"left"),Object.assign(Object.assign({},e),{width:n,horizontalPosition:o,cropped:t})},Ot=(e,o,n,t)=>u.useMemo(()=>e.map((l,r)=>{const f=l.periods.sort((a,v)=>a.start.valueOf()-v.start.valueOf()).map((a,v)=>Object.assign(Object.assign({},ht(a,o,n,t,v,l.periods,r)),{restProps:a==null?void 0:a.restProps,ref:a==null?void 0:a.ref})).sort(yt).map(gt).map(wt).filter(at);return{id:`tl-row-${r}`,label:l.label,headingTag:l.headingTag||"h3",icon:l.icon,periods:t==="left"?f:f.reverse(),restProps:l==null?void 0:l.restProps,ref:l==null?void 0:l.ref}}),[e,o,n,t]),_t=(e,o)=>o.start<e?o.start:e,xt=e=>e.flat().reduce(_t,new Date),jt=({startDate:e,rows:o})=>u.useMemo(()=>e||xt(o),[e,o]),Et=(e,o)=>o.end>e?o.end:e,Pt=e=>e.flat().reduce(Et,new Date(0)),ie=({endDate:e,rows:o})=>u.useMemo(()=>e||fe(Pt(o),1),[e,o]),Mt=e=>{const o=[];return e==null||e.forEach(n=>{var t,l,r,f,a,v,i,p,m,y,w,d;const g=[];if(c.isValidElement(n)&&(!((t=n==null?void 0:n.props)===null||t===void 0)&&t.children)){if(Array.isArray(n.props.children))for(let _=0;_<n.props.children.length;_++){const b=n.props.children[_];g.push({start:(l=b==null?void 0:b.props)===null||l===void 0?void 0:l.start,end:(r=b==null?void 0:b.props)===null||r===void 0?void 0:r.end,status:((f=b==null?void 0:b.props)===null||f===void 0?void 0:f.status)||"neutral",onSelectPeriod:(a=b.props)===null||a===void 0?void 0:a.onSelectPeriod,label:n.props.label,icon:b.props.icon,children:b.props.children,isActive:b.props.isActive,statusLabel:b.props.statusLabel,restProps:W(b.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:b==null?void 0:b.ref})}else g.push({start:n.props.children.props.start,end:n.props.children.props.end,status:((v=n.props.children.props)===null||v===void 0?void 0:v.status)||"neutral",onSelectPeriod:(i=n.props.children.props)===null||i===void 0?void 0:i.onSelectPeriod,label:n.props.label,icon:(p=n.props.children.props)===null||p===void 0?void 0:p.icon,children:(m=n.props.children.props)===null||m===void 0?void 0:m.children,statusLabel:(y=n.props.children.props)===null||y===void 0?void 0:y.statusLabel,restProps:W(n.props.children.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:(d=(w=n.props)===null||w===void 0?void 0:w.children)===null||d===void 0?void 0:d.ref});o.push({label:n.props.label,icon:n.props.icon,headingTag:n.props.headingTag,periods:g,restProps:W(n.props,["label","icon","headingTag"]),ref:n==null?void 0:n.ref})}}),o};var Rt=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const It=u.forwardRef((e,o)=>{var{label:n,interval:t,count:l}=e,r=Rt(e,["label","interval","count"]);const{setStart:f,endDate:a,startDate:v,direction:i}=B();let p;t==="month"?p=i==="left"?ze(a,l):q(v,l):p=i==="left"?ot(a,l):K(v,l);const m=i==="left"?U(v,p):U(a,p);return c.createElement(de,{as:"li"},c.createElement("button",Object.assign({type:"button","aria-label":m?"Tilbakestill til initiell tidsperspektiv":`Zoom tidslinjen ${S(p,"dd.MM.yyyy")} til ${S(a,"dd.MM.yyyy")}`,ref:o},r,{className:"navds-timeline__zoom-button",onClick:()=>{f(p)},"aria-pressed":m}),n))});var St=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const oe=u.forwardRef((e,o)=>{var{className:n,children:t}=e,l=St(e,["className","children"]);return c.createElement("ul",Object.assign({ref:o,className:L(n,"navds-timeline__zoom")},l),t)});oe.Button=It;oe.componentType="zoom";var Dt=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const H=u.forwardRef((e,o)=>{var{children:n,startDate:t,endDate:l,direction:r="left",axisLabelTemplates:f}=e,a=Dt(e,["children","startDate","endDate","direction","axisLabelTemplates"]);const v=Array.isArray(n),i=u.useRef([]);v||(n=[n]);const p=c.Children.toArray(n).filter(s=>{var h;return((h=s==null?void 0:s.type)===null||h===void 0?void 0:h.componentType)==="row"}),m=c.Children.toArray(n).filter(s=>{var h;return((h=s==null?void 0:s.type)===null||h===void 0?void 0:h.componentType)==="pin"}).map(s=>()=>s),y=c.Children.toArray(n).find(s=>{var h;return((h=s==null?void 0:s.type)===null||h===void 0?void 0:h.componentType)==="zoom"}),w=u.useMemo(()=>Mt(p),[p]),d=w.map(s=>s!=null&&s.periods?s.periods:[]),g=V(jt({startDate:t,rows:d})),[_,b]=u.useState(g),[M,A]=u.useState(null),[C,P]=u.useState(Q(ie({endDate:l,rows:d}))),k=Q(ie({endDate:l,rows:d})),D=Ot(w,t??_,l??C,r),F=s=>{if(!(t||l))if(r==="left"){if(U(s,_)){b(g);return}b(s)}else{if(U(s,C)){P(k);return}P(s)}},R=s=>{var h,I,$,Y;if(M!==null&&s==="ArrowDown"){for(let x=M+1;x<D.length;x++)if(D[x].periods.find(E=>!!E.children||!!E.onSelectPeriod)){A(x),(I=(h=i.current.find(E=>E.id===x))===null||h===void 0?void 0:h.ref)===null||I===void 0||I.focus();break}return}if(M!==null&&s==="ArrowUp"){for(let x=M-1;x>=0;x--)if(D[x].periods.find(E=>!!E.children||!!E.onSelectPeriod)){A(x),(Y=($=i.current.find(E=>E.id===x))===null||$===void 0?void 0:$.ref)===null||Y===void 0||Y.focus();break}return}},T=(s,h)=>{let I=i.current;I=I.filter($=>$.id!==h),I.push({ref:s,id:h}),i.current=I};return c.createElement(Re.Provider,{value:{startDate:t??_,endDate:l??C,direction:r,setStart:s=>F(s),setEndInclusive:s=>P(s),activeRow:M,setActiveRow:s=>R(s),initiate:s=>A(s),addFocusable:T}},c.createElement("div",Object.assign({},a,{ref:o}),c.createElement("div",{className:"navds-timeline"},c.createElement(ut,{templates:f}),m.map((s,h)=>c.createElement(s,{key:`pin-${h}`})),D.map((s,h)=>c.createElement(Ce.Provider,{key:`row-${s.id}`,value:{periods:s.periods,id:s.id,active:M===h,index:h}},c.createElement(le,Object.assign({},s==null?void 0:s.restProps,{ref:s==null?void 0:s.ref,label:s.label,icon:s.icon,headingTag:s.headingTag}))))),y))});H.Row=le;H.Period=ne;H.Pin=Ie;H.Zoom=oe;const Yt=H;export{Yt as Q,kt as T,$t as k,Nt as m,Tt as v,Lt as y};
