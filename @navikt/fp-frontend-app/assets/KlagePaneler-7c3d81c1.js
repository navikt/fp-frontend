import{t as oe,P as ge,d as F,R as Ve,v as N,w as m,J as K,_ as h,U as V,a as Ce,W as he,E as U,o as b,A as P,j as c,Y as qe,s as ze,x as ue,l as Ke,C as we,H as Pe}from"./index.es-b729e326.js";import{R as ke,r as x}from"./index-1b78688b.js";import{I as $e,b as Fe,Y as J,x as H,H as Ye,W as z}from"./index.es-bf42e136.js";import{a0 as E,o as ye,F as Ae,m as Y,O as ae,r as A,w as T,t as S,as as ve,ah as me,at as Se,aa as C,a3 as O,au as _,av as R,P as Je,Z as We,ab as M,a2 as re,aw as Ze,a4 as Xe,ac as ce}from"./AppIndex.stories-b2b05a69.js";import{J as Oe,n as Te,p as Qe}from"./index.es-ea42f2a7.js";import{P as Z,u as be}from"./ProsessDefaultInitPanel-3f4e22a9.js";import{e as Re}from"./index.es-330979ca.js";import{F as ea}from"./FatterVedtakStatusModal-11cb06bf.js";import{V as aa}from"./VergeFaktaInitPanel-24ce4eed.js";import{B as ra}from"./BehandlingContainer-8973df90.js";import"./tslib.es6-29a31495.js";import"./index-844e0f67.js";import"./index.es-73885221.js";import"./extends-a80989fc.js";import"./iframe-d7851d01.js";import"../sb-preview/runtime.js";import"./nb_NO-e803aba2.js";import"./BehandlingHenlagtPanel-24511faf.js";var Ne={exports:{}},I={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fe;function la(){if(fe)return I;fe=1;var e=ke,a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function k(d,i,p){var g,u={},f=null,j=null;p!==void 0&&(f=""+p),i.key!==void 0&&(f=""+i.key),i.ref!==void 0&&(j=i.ref);for(g in i)n.call(i,g)&&!o.hasOwnProperty(g)&&(u[g]=i[g]);if(d&&d.defaultProps)for(g in i=d.defaultProps,i)u[g]===void 0&&(u[g]=i[g]);return{$$typeof:a,type:d,key:f,ref:j,props:u,_owner:s.current}}return I.Fragment=l,I.jsx=k,I.jsxs=k,I}Ne.exports=la();var r=Ne.exports;const sa={"Klage.LovhjemmelNFP":"Fvl §§ 28, 31, 32, 33 og ftrl § 21-12","Klage.LovhjemmelKA":"Fvl §§  28, 31, 32, 34 og ftrl § 21-12","Klage.Formkrav.VelgVedtak":"Vedtaket som er påklagd","Klage.Formkrav.Title":"Vurder formkrav","Klage.Formkrav.HelpText":"Vurder om klagen oppfyller formkravene","Klage.Formkrav.IkkePåklagdVedtak":"Ikke påklagd et vedtak","Klage.Formkrav.ErKlagerPart":"Er klager part i saken?","Klage.Formkrav.ErKonkret":"Klages det på konkrete elementer i vedtaket?","Klage.Formkrav.ErFristOverholdt":"Er klagefristen overholdt?","Klage.Formkrav.ErSignert":"Er klagen signert?","Klage.Formkrav.KabalText":"Fortsett klagebehandlingen i KABAL: Kryss av, velg hjemmel og trykk send","Klage.Formkrav.SeKabalText":"Klagen behandles i KABAL","Klage.Formkrav.SendTilKabal":"Send til KABAL","Klage.Formkrav.Hjemmel":"Hjemmel","Klage.Formkrav.Ja":"Ja","Klage.Formkrav.Nei":"Nei","Klage.Formkrav.Vurdering":"Vurdering","Malform.Beskrivelse":"Foretrukket språk"},ta="_confirmVilkarForm_68qsj_1",na="_selectBredde_68qsj_4",ia="_col_68qsj_7",w={confirmVilkarForm:ta,selectBredde:na,col:ia},pe="ikkePaklagdVedtak",da=e=>e.paKlagdBehandlingUuid?`${e.paKlagdBehandlingUuid}`:pe,oa=(e,a,l)=>[r.jsx("option",{value:pe,children:a.formatMessage({id:"Klage.Formkrav.IkkePåklagdVedtak"})},"formkrav")].concat([...e].sort((n,s)=>Y(n.avsluttet).diff(Y(s.avsluttet))).map(n=>r.jsx("option",{value:`${n.uuid}`,children:`${l(n.type,S.BEHANDLING_TYPE)} ${Y(n.avsluttet).format(Ve)}`},n.uuid))),ga=e=>e===E.VURDERING_AV_FORMKRAV_KLAGE_NFP?"Klage.LovhjemmelNFP":"Klage.LovhjemmelKA",ua=({readOnly:e,readOnlySubmitButton:a,aksjonspunktCode:l,avsluttedeBehandlinger:n,alleKodeverk:s,isSubmitting:o,isDirty:k})=>{const d=F(),i=me(s),p=oa(n,d,i);return r.jsxs(r.Fragment,{children:[r.jsx(N,{size:"small",children:d.formatMessage({id:"Klage.Formkrav.Title"})}),r.jsx(K,{fourPx:!0}),r.jsx(Ce,{size:"small",children:d.formatMessage({id:ga(l)})}),r.jsx(K,{fourPx:!0}),r.jsx(he,{isAksjonspunktOpen:!a,children:[r.jsx(m,{id:"Klage.Formkrav.HelpText"},l)]}),r.jsx(K,{sixteenPx:!0}),r.jsx(U,{children:r.jsxs(b,{children:[r.jsx(P,{className:w.col,children:r.jsx(Oe,{readOnly:e})}),r.jsxs(P,{className:w.col,children:[r.jsx(ae,{readOnly:e,validate:[A],name:"vedtak",label:d.formatMessage({id:"Klage.Formkrav.VelgVedtak"}),selectValues:p,className:w.selectBredde}),r.jsx(K,{sixteenPx:!0}),r.jsx(U,{children:r.jsxs(b,{children:[r.jsx(P,{children:r.jsx(T,{name:"erKlagerPart",label:d.formatMessage({id:"Klage.Formkrav.ErKlagerPart"}),validate:[A],isReadOnly:e,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:d.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:d.formatMessage({id:"Klage.Formkrav.Nei"})}]})}),r.jsx(K,{sixteenPx:!0}),r.jsx(P,{children:r.jsx(T,{name:"erKonkret",label:d.formatMessage({id:"Klage.Formkrav.ErKonkret"}),validate:[A],isReadOnly:e,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:d.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:d.formatMessage({id:"Klage.Formkrav.Nei"})}]})})]})}),r.jsx(K,{sixteenPx:!0}),r.jsxs(b,{children:[r.jsx(P,{children:r.jsx(T,{name:"erFristOverholdt",label:d.formatMessage({id:"Klage.Formkrav.ErFristOverholdt"}),validate:[A],isReadOnly:e,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:d.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:d.formatMessage({id:"Klage.Formkrav.Nei"})}]})}),r.jsx(K,{sixteenPx:!0}),r.jsx(P,{children:r.jsx(T,{name:"erSignert",label:d.formatMessage({id:"Klage.Formkrav.ErSignert"}),validate:[A],isReadOnly:e,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:d.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:d.formatMessage({id:"Klage.Formkrav.Nei"})}]})})]})]})]})}),r.jsx("div",{className:w.confirmVilkarForm,children:r.jsx(Te,{isReadOnly:e,isSubmittable:!a,isSubmitting:o,isDirty:k})})]})},ka=e=>{const a=e?e.klageFormkravResultatNFP:null;return{vedtak:a?da(a):"",begrunnelse:a?a.begrunnelse:null,erKlagerPart:a?a.erKlagerPart:null,erKonkret:a?a.erKlageKonkret:null,erFristOverholdt:a?a.erKlagefirstOverholdt:null,erSignert:a?a.erSignert:null}},De=(e,a)=>e.find(l=>l.uuid===a),Le=(e,a)=>{const l=De(e,a);return l&&(l.type===ve.TILBAKEKREVING||l.type===ve.TILBAKEKREVING_REVURDERING)},ma=(e,a)=>{const l=Le(e,a),n=De(e,a);return l?{tilbakekrevingUuid:n.uuid,tilbakekrevingVedtakDato:n.avsluttet,tilbakekrevingBehandlingType:n.type}:null},pa=(e,a)=>({erKlagerPart:e.erKlagerPart,erFristOverholdt:e.erFristOverholdt,erKonkret:e.erKonkret,erSignert:e.erSignert,begrunnelse:e.begrunnelse,kode:E.VURDERING_AV_FORMKRAV_KLAGE_NFP,vedtakBehandlingUuid:e.vedtak===pe?null:e.vedtak,erTilbakekreving:Le(a,e.vedtak),tilbakekrevingInfo:ma(a,e.vedtak)}),Ka=({readOnly:e,klageVurdering:a,readOnlySubmitButton:l,alleKodeverk:n,avsluttedeBehandlinger:s,submitCallback:o,formData:k,setFormData:d})=>{const i=x.useMemo(()=>ka(a),[a]),p=ye({defaultValues:k||i});return r.jsx(Ae,{formMethods:p,onSubmit:g=>o(pa(g,s)),setDataOnUnmount:d,children:r.jsx(ua,{readOnly:e,readOnlySubmitButton:l,aksjonspunktCode:E.VURDERING_AV_FORMKRAV_KLAGE_NFP,alleKodeverk:n,avsluttedeBehandlinger:s,isSubmitting:p.formState.isSubmitting,isDirty:p.formState.isDirty})})},va=({klageVurdering:e,alleKodeverk:a,avsluttedeBehandlinger:l})=>{var n;const s=F(),{klageFormkravResultatKA:o,underBehandlingKabal:k,behandletAvKabal:d}=e;let i=s.formatMessage({id:"Klage.Formkrav.IkkePåklagdVedtak"});if(o.paKlagdBehandlingUuid){const p=l.find(g=>g.uuid===o.paKlagdBehandlingUuid);i=`${(n=a[$e.BEHANDLING_TYPE].find(g=>g.kode===p.type))==null?void 0:n.navn} ${Y(p.avsluttet).format(Ve)}`}return r.jsxs(r.Fragment,{children:[r.jsx(N,{size:"small",children:r.jsx(m,{id:"Klage.Formkrav.Title"})}),r.jsx(K,{sixteenPx:!0}),k&&r.jsxs(r.Fragment,{children:[r.jsx(N,{size:"small",children:r.jsx(m,{id:"Klage.Formkrav.SeKabalText"})}),r.jsx(K,{sixteenPx:!0})]}),!k&&!d&&r.jsxs(r.Fragment,{children:[r.jsx(h,{size:"small",children:r.jsx(m,{id:"Klage.Formkrav.VelgVedtak"})}),r.jsx(K,{fourPx:!0}),r.jsx(V,{size:"small",children:i}),r.jsx(K,{sixteenPx:!0}),r.jsx(h,{size:"small",children:r.jsx(m,{id:"Klage.Formkrav.ErKlagerPart"})}),r.jsx(K,{fourPx:!0}),r.jsx(V,{size:"small",children:o.erKlagerPart?r.jsx(m,{id:"Klage.Formkrav.Ja"}):r.jsx(m,{id:"Klage.Formkrav.Nei"})}),r.jsx(K,{sixteenPx:!0}),r.jsx(h,{size:"small",children:r.jsx(m,{id:"Klage.Formkrav.ErKonkret"})}),r.jsx(K,{fourPx:!0}),r.jsx(V,{size:"small",children:o.erKlageKonkret?r.jsx(m,{id:"Klage.Formkrav.Ja"}):r.jsx(m,{id:"Klage.Formkrav.Nei"})}),r.jsx(K,{sixteenPx:!0}),r.jsx(h,{size:"small",children:r.jsx(m,{id:"Klage.Formkrav.ErFristOverholdt"})}),r.jsx(K,{fourPx:!0}),r.jsx(V,{size:"small",children:o.erKlagefirstOverholdt?r.jsx(m,{id:"Klage.Formkrav.Ja"}):r.jsx(m,{id:"Klage.Formkrav.Nei"})}),r.jsx(K,{sixteenPx:!0}),r.jsx(h,{size:"small",children:r.jsx(m,{id:"Klage.Formkrav.ErSignert"})}),r.jsx(K,{fourPx:!0}),r.jsx(V,{size:"small",children:o.erSignert?r.jsx(m,{id:"Klage.Formkrav.Ja"}):r.jsx(m,{id:"Klage.Formkrav.Nei"})}),r.jsx(K,{sixteenPx:!0}),r.jsx(h,{size:"small",children:r.jsx(m,{id:"Klage.Formkrav.Vurdering"})}),r.jsx(K,{fourPx:!0}),r.jsx(V,{size:"small",children:o.begrunnelse})]})]})},ca=oe(sa),X=({klageVurdering:e,avsluttedeBehandlinger:a,aksjonspunkter:l,submitCallback:n,isReadOnly:s,readOnlySubmitButton:o,alleKodeverk:k,formData:d,setFormData:i})=>r.jsxs(ge,{value:ca,children:[l.some(p=>p.definisjon===E.VURDERING_AV_FORMKRAV_KLAGE_NFP)&&r.jsx(Ka,{klageVurdering:e,submitCallback:n,readOnly:s,readOnlySubmitButton:o,alleKodeverk:k,avsluttedeBehandlinger:a,formData:d,setFormData:i}),e.klageFormkravResultatKA&&r.jsx(va,{klageVurdering:e,alleKodeverk:k,avsluttedeBehandlinger:a})]});X.defaultProps={klageVurdering:{}};X.__docgenInfo={description:"",methods:[],displayName:"ra",props:{klageVurdering:{defaultValue:{value:"{}",computed:!1},required:!1}}};const fa=[E.VURDERING_AV_FORMKRAV_KLAGE_NFP],_a=[O.KLAGE_VURDERING],le=({alleBehandlinger:e,...a})=>{const l=F(),n=x.useMemo(()=>e.filter(s=>s.status===Fe.AVSLUTTET).filter(s=>(s.type!==J.KLAGE||Se(s.resultatType))&&s.type!==J.ANKE),[e]);return c.jsx(Z,{...a,panelEndepunkter:_a,aksjonspunktKoder:fa,prosessPanelKode:C.FORMKRAV_KLAGE_NAV_FAMILIE_OG_PENSJON,prosessPanelMenyTekst:l.formatMessage({id:"Behandlingspunkt.FormkravKlageNFP"}),skalPanelVisesIMeny:()=>!0,renderPanel:s=>c.jsx(X,{avsluttedeBehandlinger:n,...s})})};try{le.displayName="FormKravFamOgPensjonProsessStegInitPanel",le.__docgenInfo={description:"",displayName:"FormKravFamOgPensjonProsessStegInitPanel",props:{alleBehandlinger:{defaultValue:null,description:"",name:"alleBehandlinger",required:!0,type:{name:"{ uuid: string; type: string; status: string; opprettet: string; avsluttet?: string | undefined; resultatType?: string | undefined; }[]"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}var Me={exports:{}},B={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _e;function Ea(){if(_e)return B;_e=1;var e=ke,a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function k(d,i,p){var g,u={},f=null,j=null;p!==void 0&&(f=""+p),i.key!==void 0&&(f=""+i.key),i.ref!==void 0&&(j=i.ref);for(g in i)n.call(i,g)&&!o.hasOwnProperty(g)&&(u[g]=i[g]);if(d&&d.defaultProps)for(g in i=d.defaultProps,i)u[g]===void 0&&(u[g]=i[g]);return{$$typeof:a,type:d,key:f,ref:j,props:u,_owner:s.current}}return B.Fragment=l,B.jsx=k,B.jsxs=k,B}Me.exports=Ea();var t=Me.exports;const ja={"Klage.ResolveKlage.Title":"Behandle klage","Klage.ResolveKlage.HelpText":"Vurder om klagen skal tas til følge","Klage.ResolveKlage.KeepVedtakNk":"Stadfest vedtaket","Klage.ResolveKlage.KeepVedtakNfp":"Oppretthold vedtaket","Klage.ResolveKlage.ChangeVedtak":"Omgjør vedtaket","Klage.ResolveKlage.Hjemmel":"Hjemmel","Klage.Behandle.Omgjort":"Til gunst","Klage.Behandle.DelvisOmgjort":"Delvis omgjør, til gunst","Klage.Behandle.Hjemsendt":"Hjemsend vedtaket","Klage.Behandle.Ugunst":"Til ugunst","Klage.ResolveKlage.NullifyVedtak":"Opphev og hjemsend vedtaket","Klage.ResolveKlage.Cause":"Årsak","Klage.ResolveKlage.TempSaveButton":"Lagre","KlageVurderingRadioOptionsKa.VurderingForKlage":"Vurdering","FritekstKlageBrevTextField.Fritekst":"Fritekst til brev","BehandleKlageFormNfp.BegrunnelseForKlage":"Begrunnelse","PreviewKlageLink.ForhandvisBrev":"Forhåndsvis brev","KlageVurderingRadioOptionsKa.Begrunnelse":"Begrunnelse","Malform.Beskrivelse":"Foretrukket språk"},xa=({klageVurdering:e,alleKodeverk:a})=>{var l,n;const s=F(),{klageVurderingResultatNK:{begrunnelse:o,fritekstTilBrev:k,klageVurdering:d,klageMedholdArsak:i,klageVurderingOmgjoer:p}}=e,g=a[S.KLAGE_MEDHOLD_ARSAK];return t.jsxs(t.Fragment,{children:[t.jsx(N,{size:"small",children:s.formatMessage({id:"Klage.ResolveKlage.Title"})}),t.jsx(K,{sixteenPx:!0}),t.jsx(h,{size:"small",children:t.jsx(m,{id:"KlageVurderingRadioOptionsKa.VurderingForKlage"})}),t.jsxs(V,{size:"small",children:[d===_.STADFESTE_YTELSESVEDTAK&&t.jsx(m,{id:"Klage.ResolveKlage.KeepVedtakNk"}),d===_.MEDHOLD_I_KLAGE&&t.jsx(m,{id:"Klage.ResolveKlage.ChangeVedtak"}),d===_.HJEMSENDE_UTEN_Å_OPPHEVE&&t.jsx(m,{id:"Klage.Behandle.Hjemsendt"}),d===_.OPPHEVE_YTELSESVEDTAK&&t.jsx(m,{id:"Klage.ResolveKlage.NullifyVedtak"})]}),t.jsx(K,{sixteenPx:!0}),d===_.MEDHOLD_I_KLAGE&&t.jsxs(t.Fragment,{children:[t.jsx(h,{size:"small",children:t.jsx(m,{id:"Klage.ResolveKlage.Cause"})}),t.jsx(V,{size:"small",children:(l=g.find(u=>u.kode===i))==null?void 0:l.navn}),t.jsx(K,{sixteenPx:!0}),t.jsxs(V,{size:"small",children:[p===R.GUNST_MEDHOLD_I_KLAGE&&t.jsx(m,{id:"Klage.Behandle.Omgjort"}),p===R.UGUNST_MEDHOLD_I_KLAGE&&t.jsx(m,{id:"Klage.Behandle.Ugunst"}),p===R.DELVIS_MEDHOLD_I_KLAGE&&t.jsx(m,{id:"Klage.Behandle.DelvisOmgjort"})]}),t.jsx(K,{sixteenPx:!0})]}),(d===_.OPPHEVE_YTELSESVEDTAK||d===_.HJEMSENDE_UTEN_Å_OPPHEVE)&&t.jsxs(t.Fragment,{children:[t.jsx(h,{size:"small",children:t.jsx(m,{id:"Klage.ResolveKlage.Cause"})}),t.jsx(V,{size:"small",children:(n=g.find(u=>u.kode===i))==null?void 0:n.navn}),t.jsx(K,{sixteenPx:!0})]}),t.jsx(h,{size:"small",children:t.jsx(m,{id:"FritekstKlageBrevTextField.Fritekst"})}),t.jsx(V,{size:"small",children:k}),t.jsx(K,{sixteenPx:!0}),t.jsx(h,{size:"small",children:t.jsx(m,{id:"KlageVurderingRadioOptionsKa.Begrunnelse"})}),t.jsx(V,{size:"small",children:o}),t.jsx(K,{sixteenPx:!0})]})},Va="_previewLink_1xd5p_1",ha="_select_1xd5p_7",Pa="_selectReadOnly_1xd5p_10",Fa="_confirmVilkarForm_1xd5p_14",ya="_panel_1xd5p_17",Aa="_fritekstTilBrevTextArea_1xd5p_20",Sa="_explanationTextarea_1xd5p_23",$={previewLink:Va,select:ha,selectReadOnly:Pa,confirmVilkarForm:Fa,panel:ya,fritekstTilBrevTextArea:Aa,explanationTextarea:Sa},Oa=(e,a)=>e.filter(({kode:l})=>a.includes(l)).sort((l,n)=>l.kode.localeCompare(n.kode)),Ta=e=>e.map(a=>a),ba=({readOnly:e,medholdReasons:a,alleHjemler:l,alleAktuelleHjemler:n,klageVurdering:s})=>{const o=F(),k=a.map(i=>t.jsx("option",{value:i.kode,children:i.navn},i.kode)),d=Oa(l,Ta(n)).map(i=>t.jsx("option",{value:i.kode,children:i.navn},i.kode));return t.jsxs(t.Fragment,{children:[t.jsx(T,{name:"klageVurdering",validate:[A],isReadOnly:e,isHorizontal:!0,radios:[{value:_.MEDHOLD_I_KLAGE,label:o.formatMessage({id:"Klage.ResolveKlage.ChangeVedtak"})},{value:_.STADFESTE_YTELSESVEDTAK,label:o.formatMessage({id:"Klage.ResolveKlage.KeepVedtakNfp"})}]}),s===_.MEDHOLD_I_KLAGE&&t.jsxs(t.Fragment,{children:[t.jsx(K,{sixteenPx:!0}),t.jsxs(qe,{children:[t.jsx(ae,{readOnly:e,name:"klageMedholdArsak",selectValues:k,className:e?$.selectReadOnly:$.select,label:o.formatMessage({id:"Klage.ResolveKlage.Cause"}),validate:[A]}),t.jsx(K,{sixteenPx:!0}),t.jsx(T,{name:"klageVurderingOmgjoer",validate:[A],isReadOnly:e,radios:[{value:R.GUNST_MEDHOLD_I_KLAGE,label:o.formatMessage({id:"Klage.Behandle.Omgjort"})},{value:R.UGUNST_MEDHOLD_I_KLAGE,label:o.formatMessage({id:"Klage.Behandle.Ugunst"})},{value:R.DELVIS_MEDHOLD_I_KLAGE,label:o.formatMessage({id:"Klage.Behandle.DelvisOmgjort"})}]})]})]}),t.jsx(K,{sixteenPx:!0}),t.jsx(ae,{readOnly:e,name:"klageHjemmel",selectValues:d,className:e?$.selectReadOnly:$.select,label:o.formatMessage({id:"Klage.ResolveKlage.Hjemmel"}),validate:[A]}),t.jsx(K,{sixteenPx:!0})]})},Ra="_fritekstTilBrevTextArea_n72am_1",Na={fritekstTilBrevTextArea:Ra},Ie=({sprakkode:e,readOnly:a})=>t.jsx("div",{className:Na.fritekstTilBrevTextArea,children:t.jsx(Je,{name:"fritekstTilBrev",label:F().formatMessage({id:"FritekstKlageBrevTextField.Fritekst"}),validate:[A,We],readOnly:a,maxLength:1e5,badges:[{type:"info",titleText:ze(e)}],parse:l=>l.replaceAll("‑","-").replaceAll("	"," ")})});Ie.defaultProps={readOnly:!0};const Da="_previewLink_hcaux_1",La={previewLink:Da},Ma=(e,a)=>{switch(e){case _.STADFESTE_YTELSESVEDTAK:return a?M.KLAGE_STADFESTET:M.KLAGE_OVERSENDT;case _.OPPHEVE_YTELSESVEDTAK:return M.KLAGE_HJEMSENDT;case _.HJEMSENDE_UTEN_Å_OPPHEVE:return M.KLAGE_HJEMSENDT;case _.MEDHOLD_I_KLAGE:return M.KLAGE_OMGJORING;default:return null}},Ia=(e,a)=>({fritekst:a||"",dokumentMal:Ma(e,!1),erOpphevetKlage:e===_.OPPHEVE_YTELSESVEDTAK}),Ba=({previewCallback:e,fritekstTilBrev:a,klageVurdering:l})=>{const n=s=>{e(Ia(l,a)),s.preventDefault()};return t.jsx("a",{href:"",onClick:s=>{n(s)},onKeyDown:s=>s.key==="Enter"?n(s):null,className:Re(La.previewLink,"lenke lenke--frittstaende"),children:t.jsx(m,{id:"PreviewKlageLink.ForhandvisBrev"})})},Ga=(e,a)=>({kode:a,klageMedholdArsak:e.klageVurdering===_.MEDHOLD_I_KLAGE||e.klageVurdering===_.OPPHEVE_YTELSESVEDTAK?e.klageMedholdArsak:null,klageVurderingOmgjoer:e.klageVurdering===_.MEDHOLD_I_KLAGE?e.klageVurderingOmgjoer:null,klageHjemmel:e.klageHjemmel,fritekstTilBrev:e.fritekstTilBrev,begrunnelse:e.begrunnelse,klageVurdering:e.klageVurdering}),Be=({saveKlage:e,spinner:a,aksjonspunktCode:l,readOnly:n,handleSubmit:s})=>n?null:t.jsx(ue,{size:"small",variant:"primary",loading:a,onClick:s(o=>e(Ga(o,l))),type:"button",children:t.jsx(m,{id:"Klage.ResolveKlage.TempSaveButton"})});Be.defaultProps={spinner:!1,readOnly:!1};const Ha="_confirmVilkarForm_13k5i_1",Ua={confirmVilkarForm:Ha},Ca=e=>({klageMedholdArsak:e.klageVurdering===_.MEDHOLD_I_KLAGE?e.klageMedholdArsak:null,klageVurderingOmgjoer:e.klageVurdering===_.MEDHOLD_I_KLAGE?e.klageVurderingOmgjoer:null,klageHjemmel:e.klageHjemmel,klageVurdering:e.klageVurdering,fritekstTilBrev:e.fritekstTilBrev,begrunnelse:e.begrunnelse,kode:E.BEHANDLE_KLAGE_NFP}),qa=e=>({klageMedholdArsak:e?e.klageMedholdArsak:"",klageVurderingOmgjoer:e?e.klageVurderingOmgjoer:null,klageHjemmel:e?e.klageHjemmel:"",klageVurdering:e?e.klageVurdering:null,begrunnelse:e?e.begrunnelse:null,fritekstTilBrev:e?e.fritekstTilBrev:null}),za=({readOnly:e,klageVurdering:a,previewCallback:l,saveKlage:n,readOnlySubmitButton:s,sprakkode:o,alleAktuelleHjemler:k,alleKodeverk:d,submitCallback:i,formData:p,setFormData:g})=>{const u=F(),f=x.useMemo(()=>qa(a.klageVurderingResultatNFP),[a]),j=ye({defaultValues:p||f}),y=j.watch();return t.jsxs(Ae,{formMethods:j,onSubmit:D=>i(Ca(D)),setDataOnUnmount:g,children:[t.jsx(N,{size:"small",children:u.formatMessage({id:"Klage.ResolveKlage.Title"})}),t.jsx(K,{fourPx:!0}),t.jsx(he,{isAksjonspunktOpen:!s,children:[t.jsx(m,{id:"Klage.ResolveKlage.HelpText"},E.BEHANDLE_KLAGE_NFP)]}),t.jsx(ba,{readOnly:e,klageVurdering:y.klageVurdering,medholdReasons:d[S.KLAGE_MEDHOLD_ARSAK],alleHjemler:d[S.KLAGE_HJEMMEL],alleAktuelleHjemler:k}),t.jsxs("div",{className:Ua.confirmVilkarForm,children:[t.jsx(Oe,{readOnly:e,text:u.formatMessage({id:"BehandleKlageFormNfp.BegrunnelseForKlage"})}),t.jsx(K,{sixteenPx:!0}),t.jsx(Ie,{sprakkode:o,readOnly:e}),t.jsx(K,{sixteenPx:!0}),t.jsx(U,{children:t.jsxs(b,{spaceBetween:!0,children:[t.jsxs(P,{children:[t.jsx(Te,{isReadOnly:e,isSubmittable:!s,isSubmitting:j.formState.isSubmitting,isDirty:j.formState.isDirty}),!e&&y.klageVurdering&&y.fritekstTilBrev&&y.fritekstTilBrev.length>2&&t.jsx(Ba,{previewCallback:l,fritekstTilBrev:y.fritekstTilBrev,klageVurdering:y.klageVurdering})]}),t.jsx(P,{children:t.jsx(Be,{saveKlage:n,handleSubmit:j.handleSubmit,readOnly:e,aksjonspunktCode:E.BEHANDLE_KLAGE_NFP})})]})})]})]})},wa=oe(ja),Ge=({behandling:e,klageVurdering:a,alleKodeverk:l,saveKlage:n,submitCallback:s,isReadOnly:o,previewCallback:k,readOnlySubmitButton:d,aksjonspunkter:i,formData:p,setFormData:g})=>t.jsxs(ge,{value:wa,children:[a.klageVurderingResultatNK&&t.jsx(xa,{klageVurdering:a,alleKodeverk:l}),i.some(u=>u.definisjon===E.BEHANDLE_KLAGE_NFP)&&t.jsx(za,{sprakkode:e.sprakkode,klageVurdering:a,saveKlage:n,submitCallback:s,readOnly:o,previewCallback:k,readOnlySubmitButton:d,alleKodeverk:l,alleAktuelleHjemler:a.aktuelleHjemler?a.aktuelleHjemler:[],formData:p,setFormData:g})]});Ge.__docgenInfo={description:"",methods:[],displayName:"Kt"};const $a="_button_1ueb3_1",Ya="_image_1ueb3_5",Ja="_modal_1ueb3_12",ee={button:$a,image:Ya,modal:Ja},se=({visModal:e=!1,lukkModal:a})=>{const l=F();return c.jsx(Ke,{className:ee.modal,open:e,"aria-label":l.formatMessage({id:"KlageVurderingModal.ModalDescription"}),onClose:a,closeButton:!1,shouldCloseOnOverlayClick:!1,children:c.jsx(Ke.Content,{children:c.jsx(U,{children:c.jsxs(b,{children:[c.jsx(P,{children:c.jsx(we,{className:ee.image})}),c.jsxs(P,{children:[c.jsx(V,{size:"small",children:l.formatMessage({id:"KlageVurderingModal.VedtakOversendt"})}),c.jsx(V,{size:"small",children:l.formatMessage({id:"KlageVurderingModal.GoToSearchPage"})})]}),c.jsx(P,{className:ee.button,children:c.jsx(ue,{variant:"primary",size:"small",onClick:a,autoFocus:!0,type:"button",children:l.formatMessage({id:"KlageVurderingModal.Ok"})})})]})})})})};try{se.displayName="KlageBehandlingModal",se.__docgenInfo={description:`KlageBehandlingModal

Denne komponenten vises ved en klagevurdering hvor saksbehandler
i aksjonspunkt '' velger at ytelsesvedtaket skal stadfestes. Ved å trykke på knapp blir saksbehandler
tatt tilbake til sokesiden.`,displayName:"KlageBehandlingModal",props:{visModal:{defaultValue:{value:"false"},description:"",name:"visModal",required:!1,type:{name:"boolean"}},lukkModal:{defaultValue:null,description:"",name:"lukkModal",required:!0,type:{name:"() => void"}}}}}catch{}const Wa=(e,a,l)=>n=>{const s={...n,behandlingUuid:l.uuid,fagsakYtelseType:a.fagsakYtelseType};return e(s).then(o=>Pe(o))},Za=(e,a)=>l=>{const n={behandlingUuid:a.uuid,...l};return e(n)},Xa=(e,a,l)=>n=>{const s=n.some(o=>o.kode===E.BEHANDLE_KLAGE_NFP&&o.klageVurdering===_.STADFESTE_YTELSESVEDTAK);return s&&a(!1),()=>{s?e(!0):l&&l("default","default")}},Qa=[O.KLAGE_VURDERING],W=({fagsak:e,setSkalOppdatereEtterBekreftelseAvAp:a,opneSokeside:l,oppdaterProsessStegOgFaktaPanelIUrl:n,aksjonspunktKoder:s,prosessPanelKode:o,prosessPanelMenyTekst:k,...d})=>{const[i,p]=x.useState(!1),g=be(),u=a?Xa(p,a,n):void 0,{startRequest:f}=re.useRestApiRunner(O.PREVIEW_MESSAGE),j=x.useCallback(Wa(f,e,g.behandling),[g.behandling.versjon]),{startRequest:y}=re.useRestApiRunner(O.SAVE_KLAGE_VURDERING),D=x.useCallback(Za(y,g.behandling),[g.behandling.versjon]);return c.jsx(Z,{...d,panelEndepunkter:Qa,aksjonspunktKoder:s,prosessPanelKode:o,prosessPanelMenyTekst:k,skalPanelVisesIMeny:()=>!0,lagringSideEffekter:u,renderPanel:Q=>c.jsxs(c.Fragment,{children:[c.jsx(se,{visModal:i,lukkModal:()=>{p(!1),l&&l()}}),c.jsx(Ge,{previewCallback:j,saveKlage:D,...Q})]})})};try{W.displayName="VurderingFellesProsessStegInitPanel",W.__docgenInfo={description:"",displayName:"VurderingFellesProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!1,type:{name:"((skalHenteFagsak: boolean) => void)"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!1,type:{name:"(() => void)"}},oppdaterProsessStegOgFaktaPanelIUrl:{defaultValue:null,description:"",name:"oppdaterProsessStegOgFaktaPanelIUrl",required:!1,type:{name:"((punktnavn?: string, faktanavn?: string) => void) | undefined"}},aksjonspunktKoder:{defaultValue:null,description:"",name:"aksjonspunktKoder",required:!1,type:{name:"string[]"}},prosessPanelKode:{defaultValue:null,description:"",name:"prosessPanelKode",required:!0,type:{name:"enum",value:[{value:'"default"'},{value:'"inngangsvilkar"'},{value:'"behandle_innsyn"'},{value:'"beregning"'},{value:'"beregningsgrunnlag"'},{value:'"klage_nav_familie_og_pensjon"'},{value:'"klage_nav_klageinstans"'},{value:'"formkrav_klage_nav_klageinstans"'},{value:'"formkrav_klage_nav_familie_og_pensjon"'},{value:'"fortsattmedlemskap"'},{value:'"opplysningsplikt"'},{value:'"soeknadsfrist"'},{value:'"tilbakekreving"'},{value:'"foreldelse"'},{value:'"tilkjent_ytelse"'},{value:'"varsel"'},{value:'"vedtak"'},{value:'"uttak"'},{value:'"simulering"'},{value:'"resultat"'},{value:'"ankebehandling"'},{value:'"ankemerknader"'},{value:'"ankeresultat"'}]}},prosessPanelMenyTekst:{defaultValue:null,description:"",name:"prosessPanelMenyTekst",required:!0,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const er=[E.BEHANDLE_KLAGE_NFP],te=({fagsak:e,setSkalOppdatereEtterBekreftelseAvAp:a,opneSokeside:l,oppdaterProsessStegOgFaktaPanelIUrl:n,...s})=>c.jsx(W,{...s,fagsak:e,setSkalOppdatereEtterBekreftelseAvAp:a,opneSokeside:l,oppdaterProsessStegOgFaktaPanelIUrl:n,aksjonspunktKoder:er,prosessPanelKode:C.KLAGE_NAV_FAMILIE_OG_PENSJON,prosessPanelMenyTekst:F().formatMessage({id:"Behandlingspunkt.CheckKlageNFP"})});try{te.displayName="VurderingFamOgPensjonProsessStegInitPanel",te.__docgenInfo={description:"",displayName:"VurderingFamOgPensjonProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!0,type:{name:"(skalHenteFagsak: boolean) => void"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!0,type:{name:"() => void"}},oppdaterProsessStegOgFaktaPanelIUrl:{defaultValue:null,description:"",name:"oppdaterProsessStegOgFaktaPanelIUrl",required:!0,type:{name:"(punktnavn?: string | undefined, faktanavn?: string | undefined) => void"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const ar=[E.VURDER_FORMKRAV_NK],rr=[O.KLAGE_VURDERING],ne=({alleBehandlinger:e,...a})=>{const l=F(),n=x.useMemo(()=>e.filter(s=>s.status===Fe.AVSLUTTET).filter(s=>(s.type!==J.KLAGE||Se(s.resultatType))&&s.type!==J.ANKE),[e]);return c.jsx(Z,{...a,panelEndepunkter:rr,aksjonspunktKoder:ar,prosessPanelKode:C.FORMKRAV_KLAGE_NAV_KLAGEINSTANS,prosessPanelMenyTekst:l.formatMessage({id:"Behandlingspunkt.FormkravKlageKA"}),skalPanelVisesIMeny:()=>!0,renderPanel:s=>c.jsx(X,{avsluttedeBehandlinger:n,...s})})};try{ne.displayName="FormKravKlageInstansProsessStegInitPanel",ne.__docgenInfo={description:"",displayName:"FormKravKlageInstansProsessStegInitPanel",props:{alleBehandlinger:{defaultValue:null,description:"",name:"alleBehandlinger",required:!0,type:{name:"{ uuid: string; type: string; status: string; opprettet: string; avsluttet?: string | undefined; resultatType?: string | undefined; }[]"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const lr=[E.BEHANDLE_KLAGE_NK],ie=({fagsak:e,...a})=>c.jsx(W,{...a,aksjonspunktKoder:lr,fagsak:e,prosessPanelKode:C.KLAGE_NAV_KLAGEINSTANS,prosessPanelMenyTekst:F().formatMessage({id:"Behandlingspunkt.CheckKlageNK"})});try{ie.displayName="VurderingKlageInstansProsessStegInitPanel",ie.__docgenInfo={description:"",displayName:"VurderingKlageInstansProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}var He={exports:{}},G={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ee;function sr(){if(Ee)return G;Ee=1;var e=ke,a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function k(d,i,p){var g,u={},f=null,j=null;p!==void 0&&(f=""+p),i.key!==void 0&&(f=""+i.key),i.ref!==void 0&&(j=i.ref);for(g in i)n.call(i,g)&&!o.hasOwnProperty(g)&&(u[g]=i[g]);if(d&&d.defaultProps)for(g in i=d.defaultProps,i)u[g]===void 0&&(u[g]=i[g]);return{$$typeof:a,type:d,key:f,ref:j,props:u,_owner:s.current}}return G.Fragment=l,G.jsx=k,G.jsxs=k,G}He.exports=sr();var v=He.exports;const tr="_mainButton_lcisw_1",nr={mainButton:tr},ir=({behandlingPaaVent:e,previewVedtakCallback:a,readOnly:l,lagreVedtak:n,isSubmitting:s})=>{const o=x.useCallback(k=>{k.preventDefault(),a()},[]);return v.jsx(U,{children:v.jsxs(b,{children:[!l&&v.jsx(P,{children:v.jsx(ue,{variant:"primary",size:"small",className:nr.mainButton,onClick:n,disabled:e||s,loading:s,type:"button",children:v.jsx(m,{id:"VedtakKlageForm.TilGodkjenning"})})}),v.jsx(P,{children:v.jsx("a",{href:"",onClick:o,onKeyDown:k=>k.key==="Enter"?o(k):null,className:Re("lenke lenke--frittstaende"),children:v.jsx(m,{id:"VedtakKlageForm.ForhandvisBrev"})})})]})})},dr={GUNST_MEDHOLD_I_KLAGE:"VedtakKlageForm.KlageOmgjortGunst",UGUNST_MEDHOLD_I_KLAGE:"VedtakKlageForm.KlageOmgjortUgunst",DELVIS_MEDHOLD_I_KLAGE:"VedtakKlageForm.KlageOmgjortDelvis"},or=e=>()=>e({gjelderVedtak:!0}),gr=e=>{if(e){if(e.klageFormkravResultatKA&&e.klageVurderingResultatNK)return e.klageFormkravResultatKA.avvistArsaker;if(e.klageFormkravResultatNFP)return e.klageFormkravResultatNFP.avvistArsaker}return[]},ur=(e,a)=>{var l,n;const s=me(a);if(e){if((l=e.klageVurderingResultatNK)!=null&&l.klageMedholdArsak)return s(e.klageVurderingResultatNK.klageMedholdArsak,S.KLAGE_MEDHOLD_ARSAK);if((n=e.klageVurderingResultatNFP)!=null&&n.klageMedholdArsak)return s(e.klageVurderingResultatNFP.klageMedholdArsak,S.KLAGE_MEDHOLD_ARSAK)}return null},kr=e=>{const a=e.klageVurderingResultatNK?e.klageVurderingResultatNK:e.klageVurderingResultatNFP;switch(a==null?void 0:a.klageVurdering){case _.AVVIS_KLAGE:return"VedtakKlageForm.KlageAvvist";case _.STADFESTE_YTELSESVEDTAK:return"VedtakKlageForm.KlageStadfestet";case _.OPPHEVE_YTELSESVEDTAK:return"VedtakKlageForm.YtelsesvedtakOpphevet";case _.HJEMSENDE_UTEN_Å_OPPHEVE:return"VedtakKlageForm.HjemmsendUtenOpphev";case _.MEDHOLD_I_KLAGE:return dr[(a==null?void 0:a.klageVurderingOmgjoer)||""];default:return"VedtakKlageForm.IkkeFastsatt"}},mr=({submitCallback:e,klageVurdering:a,behandlingsresultat:l,readOnly:n,aksjonspunkter:s,previewVedtakCallback:o,behandlingPaaVent:k,alleKodeverk:d})=>{const i=x.useMemo(()=>gr(a),[a]),p=x.useMemo(()=>ur(a,d),[a]),g=x.useMemo(()=>kr(a),[a]),u=a.klageVurderingResultatNK?a.klageVurderingResultatNK:a.klageVurderingResultatNFP,f=Ze(l.type),[j,y]=x.useState(!1),D=x.useCallback(()=>{y(!0);const q=s.filter(L=>L.status===Xe.OPPRETTET).map(L=>L.definisjon).map(L=>({kode:Qe(L,E.FORESLA_VEDTAK,E.FORESLA_VEDTAK_MANUELT,E.VEDTAK_UTEN_TOTRINNSKONTROLL)}));e(q).then(()=>y(!1))},[s]),Q=me(d);return v.jsxs(v.Fragment,{children:[v.jsx(N,{size:"small",children:v.jsx(m,{id:"VedtakKlageForm.Header"})}),v.jsx(K,{twentyPx:!0}),v.jsx(h,{size:"small",children:v.jsx(m,{id:"VedtakKlageForm.Resultat"})}),g&&v.jsx(V,{size:"small",children:v.jsx(m,{id:g})}),v.jsx(K,{sixteenPx:!0}),l.type===ce.KLAGE_AVVIST&&v.jsxs(v.Fragment,{children:[v.jsx(h,{size:"small",children:v.jsx(m,{id:"VedtakKlageForm.ArsakTilAvvisning"})}),i.map(q=>v.jsx(V,{size:"small",children:Q(q,S.KLAGE_AVVIST_AARSAK)},q)),v.jsx(K,{sixteenPx:!0})]}),f&&v.jsxs(v.Fragment,{children:[v.jsx(h,{size:"small",children:v.jsx(m,{id:"VedtakKlageForm.ArsakTilOmgjoring"})}),p,v.jsx(K,{sixteenPx:!0})]}),l.type===ce.KLAGE_YTELSESVEDTAK_OPPHEVET&&v.jsxs(v.Fragment,{children:[v.jsx(h,{size:"small",children:v.jsx(m,{id:"VedtakKlageForm.ArsakTilOppheving"})}),p,v.jsx(K,{sixteenPx:!0})]}),(u==null?void 0:u.klageVurdertAv)==="NFP"&&v.jsx(ir,{previewVedtakCallback:or(o),readOnly:n,behandlingPaaVent:k,lagreVedtak:D,isSubmitting:j})]})},pr={"VedtakKlageForm.ArsakTilAvslag":"Årsak til avslag","VedtakKlageForm.ResultatOpprettholdVedtak":"Vedtaket er stadfestet","VedtakKlageForm.ResultatKlageMedhold":"Vedtaket er omgjort","VedtakKlageForm.Resultat":"Resultat av klage","VedtakKlageForm.ArsakTilAvvisning":"Årsak til avvisning","VedtakKlageForm.ArsakTilOmgjoring":"Årsak til omgjøring","VedtakKlageForm.ArsakTilOppheving":"Årsak til oppheving","VedtakKlageForm.EngangsstonadIkkeInnvilget":"Engangsstønad er avslått","VedtakKlageForm.ResultatKlageAvvist":"Klagen er avvist","VedtakKlageForm.ResultatKlageYtelsesvedtakOpphevet":"Vedtaket er opphevet","VedtakKlageForm.TilGodkjenning":"Til godkjenning","VedtakKlageForm.ForhandvisBrev":"Forhåndsvis vedtaksbrev","VedtakKlageForm.ArsakTilMedhold":"Årsak","VedtakKlageForm.KlageOmgjortGunst":"Vedtaket er omgjort til gunst","VedtakKlageForm.KlageOmgjortUgunst":"Vedtaket er omgjort til ugunst","VedtakKlageForm.KlageOmgjortDelvis":"Vedtaket er delvis omgjort til gunst","VedtakKlageForm.HjemmsendUtenOpphev":"Vedtaket er hjemsendt","VedtakKlageForm.IkkeFastsatt":"Ikke fastsatt","VedtakKlageForm.Header":"Resultat","VedtakKlageForm.KlageAvvist":"Avvist fordi klagen ikke oppfyller formkravene","VedtakKlageForm.KlageStadfestet":"Vedtaket er stadfestet","VedtakKlageForm.YtelsesvedtakOpphevet":"Vedtak er opphevet og hjemsendt"},Kr=oe(pr),Ue=({behandling:e,klageVurdering:a,aksjonspunkter:l,submitCallback:n,previewVedtakCallback:s,isReadOnly:o,alleKodeverk:k})=>{if(!e.behandlingsresultat)throw new Error(`behandlingsresultat finnes ikke for behandling ${e.uuid}`);return v.jsx(ge,{value:Kr,children:v.jsx(mr,{behandlingsresultat:e.behandlingsresultat,behandlingPaaVent:e.behandlingPaaVent,klageVurdering:a,aksjonspunkter:l,submitCallback:n,previewVedtakCallback:s,readOnly:o,alleKodeverk:k})})};Ue.__docgenInfo={description:"",methods:[],displayName:"Xr"};const vr=(e,a,l)=>n=>{const s={...n,behandlingUuid:l.uuid,fagsakYtelseType:a.fagsakYtelseType};return e(s).then(o=>Pe(o))},je=(e,a=[])=>{const l=a.some(s=>s.status===Ye.OPPRETTET);if(a.length===0||l)return H.IKKE_VURDERT;const n=e==null?void 0:e.type;return n===z.HENLAGT_KLAGE_TRUKKET||n===z.HENLAGT_FEILOPPRETTET?H.IKKE_VURDERT:n===z.KLAGE_AVVIST||n===z.KLAGE_YTELSESVEDTAK_OPPHEVET?H.IKKE_OPPFYLT:H.OPPFYLT},cr=(e,a)=>()=>(a(!1),()=>{e(!0)}),fr=[E.FORESLA_VEDTAK,E.FATTER_VEDTAK,E.FORESLA_VEDTAK_MANUELT,E.VEDTAK_UTEN_TOTRINNSKONTROLL],_r=[O.KLAGE_VURDERING],de=({fagsak:e,setSkalOppdatereEtterBekreftelseAvAp:a,opneSokeside:l,...n})=>{const s=F(),[o,k]=x.useState(!1),d=be(),i=cr(k,a),{startRequest:p}=re.useRestApiRunner(O.PREVIEW_MESSAGE),g=x.useCallback(vr(p,e,d.behandling),[d.behandling.versjon]),{aksjonspunkt:u}=n.behandling;return c.jsx(Z,{...n,panelEndepunkter:_r,aksjonspunktKoder:fr,prosessPanelKode:C.KLAGE_RESULTAT,prosessPanelMenyTekst:s.formatMessage({id:"Behandlingspunkt.ResultatKlage"}),skalPanelVisesIMeny:()=>!0,hentOverstyrtStatus:f=>je(f.behandling.behandlingsresultat,u),lagringSideEffekter:i,hentSkalMarkeresSomAktiv:f=>je(f.behandling.behandlingsresultat,u)!==H.IKKE_VURDERT,renderPanel:f=>c.jsxs(c.Fragment,{children:[c.jsx(ea,{visModal:o,lukkModal:()=>{k(!1),l()},tekst:s.formatMessage({id:"FatterVedtakStatusModal.KlagenErFerdigbehandlet"})}),c.jsx(Ue,{previewVedtakCallback:g,...f})]})})};try{de.displayName="KlageresultatProsessStegInitPanel",de.__docgenInfo={description:"",displayName:"KlageresultatProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; }>"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!0,type:{name:"(skalHenteFagsak: boolean) => void"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!0,type:{name:"() => void"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const xe=({behandling:e,fagsak:a,valgtProsessSteg:l,valgtFaktaSteg:n,oppdaterProsessStegOgFaktaPanelIUrl:s,opneSokeside:o,setSkalOppdatereEtterBekreftelseAvAp:k,alleBehandlinger:d})=>{const i=x.useCallback(u=>c.jsx(aa,{...u}),[]),p=x.useMemo(()=>d.filter(u=>!u.behandlingHenlagt).map(u=>{var f;return{uuid:u.uuid,type:u.type,status:u.status,opprettet:u.opprettet,avsluttet:u.avsluttet,resultatType:(f=u.behandlingsresultat)==null?void 0:f.type}}),[d]),g=x.useCallback(u=>c.jsxs(c.Fragment,{children:[c.jsx(le,{...u,alleBehandlinger:p}),c.jsx(te,{...u,fagsak:a,opneSokeside:o,setSkalOppdatereEtterBekreftelseAvAp:k,oppdaterProsessStegOgFaktaPanelIUrl:s}),c.jsx(ne,{...u,alleBehandlinger:p}),c.jsx(ie,{...u,fagsak:a}),c.jsx(de,{...u,fagsak:a,opneSokeside:o,setSkalOppdatereEtterBekreftelseAvAp:k})]}),[p,a,o,k,s]);return c.jsx(ra,{behandling:e,valgtProsessSteg:l,valgtFaktaSteg:n,oppdaterProsessStegOgFaktaPanelIUrl:s,hentFaktaPaneler:i,hentProsessPaneler:g})};try{xe.displayName="KlagePaneler",xe.__docgenInfo={description:"",displayName:"KlagePaneler",props:{behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},oppdaterProsessStegOgFaktaPanelIUrl:{defaultValue:null,description:"",name:"oppdaterProsessStegOgFaktaPanelIUrl",required:!0,type:{name:"(punktnavn?: string | undefined, faktanavn?: string | undefined) => void"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!0,type:{name:"() => void"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!0,type:{name:"(skalHenteFagsak: boolean) => void"}},alleBehandlinger:{defaultValue:null,description:"",name:"alleBehandlinger",required:!0,type:{name:"BehandlingAppKontekst[]"}}}}}catch{}export{xe as default};
//# sourceMappingURL=KlagePaneler-7c3d81c1.js.map
