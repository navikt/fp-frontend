import{r as b,g as M,h as c,i as fe,n as me,o as Be}from"./iframe-CL-w7rI9.js";import{u as ne,m as z,G as Ze,D as ve,U as pe,o as be,s as he,f as ge,e as ye,g as we,$ as Oe,a2 as _e,a0 as xe,a1 as Ee,_ as je,a4 as Pe,B as He,q as Q}from"./VStack-CrQMocX4.js";import{a5 as k,a6 as X,a7 as Ke,a8 as Re,a9 as Ue,aa as K,ab as U,ac as De,ad as Ce,ae as R,af as qe,ag as ee,ah as Ve,ai as Xe,aj as Ge,ak as We,al as q}from"./index.es-CPf0PVbM.js";var Je=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const It=b.forwardRef((e,a)=>{var{title:o,titleId:t}=e,n=Je(e,["title","titleId"]);let l=ne();return l=o?t||"title-"+l:void 0,b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":l},n),o?b.createElement("title",{id:l},o):null,b.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .656.387l9.527 17.25A.75.75 0 0 1 21.526 21H2.474a.75.75 0 0 1-.657-1.113l9.527-17.25A.75.75 0 0 1 12 2.25m8.255 17.25L12 4.551 3.745 19.5zM12 8.75a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4a.75.75 0 0 1 .75-.75m0 6.75a1 1 0 1 0 0 2 1 1 0 0 0 0-2",clipRule:"evenodd"}))});var Qe=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const Tt=b.forwardRef((e,a)=>{var{title:o,titleId:t}=e,n=Qe(e,["title","titleId"]);let l=ne();return l=o?t||"title-"+l:void 0,b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":l},n),o?b.createElement("title",{id:l},o):null,b.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.75 12a.75.75 0 0 1 .75-.75h13a.75.75 0 1 1 0 1.5h-13a.75.75 0 0 1-.75-.75",clipRule:"evenodd"}))});var et=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const At=b.forwardRef((e,a)=>{var{title:o,titleId:t}=e,n=et(e,["title","titleId"]);let l=ne();return l=o?t||"title-"+l:void 0,b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":l},n),o?b.createElement("title",{id:l},o):null,b.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.97 10.085A3.25 3.25 0 1 1 9.1 8.478l1.456.822 6.506-1.952a1.75 1.75 0 0 1 .79-.05l2.771.462a.75.75 0 0 1 .234 1.4l-5.336 2.89 5.326 2.785a.75.75 0 0 1-.224 1.405l-2.77.462a1.75 1.75 0 0 1-.791-.05l-6.46-1.938-1.5.813q.146.462.148.973a3.25 3.25 0 1 1-1.28-2.585 3.25 3.25 0 0 0 0-3.83M4.25 7.5a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0m8.214 6.206 1.467-.795 4.24 2.217-.565.094a.25.25 0 0 1-.113-.007zM7.39 15.438l.018.023a1.75 1.75 0 1 1-.017-.023m2.493-2.04a4.8 4.8 0 0 0 .11-2.363l7.499-2.25a.25.25 0 0 1 .113-.007l.616.103z",clipRule:"evenodd"}))});function B(e,a){const o=+k(e)-+k(a);return o<0?-1:o>0?1:o}function tt(e,a,o){const[t,n]=X(o?.in,e,a);return t.getFullYear()-n.getFullYear()}function Fe(e,a,o){const[t,n]=X(o?.in,e,a),l=ie(t,n),u=Math.abs(Ke(t,n));t.setDate(t.getDate()-l*u);const r=+(ie(t,n)===-l),i=l*(u-r);return i===0?0:i}function ie(e,a){const o=e.getFullYear()-a.getFullYear()||e.getMonth()-a.getMonth()||e.getDate()-a.getDate()||e.getHours()-a.getHours()||e.getMinutes()-a.getMinutes()||e.getSeconds()-a.getSeconds()||e.getMilliseconds()-a.getMilliseconds();return o<0?-1:o>0?1:o}function ce(e,a){return+k(e)-+k(a)}function V(e,a){const o=k(e,a?.in);return o.setHours(23,59,59,999),o}function nt(e,a){const o=k(e,a?.in);return+V(o,a)==+Re(o,a)}function ot(e,a,o){const[t,n,l]=X(o?.in,e,e,a),u=B(n,l),r=Math.abs(Ue(n,l));if(r<1)return 0;n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-u*r);let i=B(n,l)===-u;nt(t)&&r===1&&B(t,l)===1&&(i=!1);const v=u*(r-+i);return v===0?0:v}function at(e,a,o){const[t,n]=X(o?.in,e,a),l=B(t,n),u=Math.abs(tt(t,n));t.setFullYear(1584),n.setFullYear(1584);const r=B(t,n)===-l,i=l*(u-+r);return i===0?0:i}function lt(e,a,o){return K(e,-a,o)}const Se=b.createContext({startDate:new Date,endDate:new Date,direction:"left",setStart:()=>null,setEndInclusive:()=>null,activeRow:0,setActiveRow:()=>null,initiate:()=>null,addFocusable:()=>null}),Z=()=>{const e=b.useContext(Se);return e||console.warn("useTimelineContext must be used with TimelineContext (<Timeline />)"),e},rt=({horizontalPosition:e})=>e<=98&&e>=0,de=(e,a)=>Fe(e,a)<=1,st=({horizontalPosition:e,width:a})=>e>=0&&e<=100&&a>0,te=(e,a,o)=>{const t=ce(o,a);return ce(e,a)/t*100},G=(e,a,o,t)=>{const n=te(e,o,t),l=te(a,o,t)-n;return{horizontalPosition:n,width:l}},it=(e,a,o,t,n,l)=>{const u=Math.ceil(o/10),r=U(a);return new Array(o).fill(r).map((i,v)=>{if(v%u!==0)return null;const m=De(i,v),{horizontalPosition:h,width:d}=G(m,Ce(m,1),e,a);return{direction:t,horizontalPosition:h,label:R(m,n,{locale:l}),date:m,width:d}}).filter(i=>i!==null)},ct=(e,a,o,t,n)=>{const l=qe(e),u=Re(a),r=ot(u,l)+1;return new Array(r).fill(l).map((i,v)=>{const m=ee(i,v),{horizontalPosition:h,width:d}=G(m,ee(m,1),e,a);return{direction:o,horizontalPosition:h,label:R(m,t,{locale:n}),date:m,width:d}})},dt=(e,a,o,t,n)=>{const l=Ve(e),u=Xe(a),r=at(u,e)+1;return new Array(r).fill(l).map((i,v)=>{const m=K(i,v),{horizontalPosition:h,width:d}=G(m,K(m,1),e,a);return{direction:o,horizontalPosition:h,label:R(m,t,{locale:n}),date:m,width:d}})},ut=(e,a,o,t,n)=>{const l=Fe(a,e);if(l<40){const r=n("dayFormat");return it(e,a,l,o,r,t)}if(l<370){const r=n("monthFormat");return ct(e,a,o,r,t)}const u=n("yearFormat");return dt(e,a,o,u,t)},ft=({templates:e})=>{const{endDate:a,startDate:o,direction:t}=Z(),n=z("Timeline",{dayFormat:e?.day,monthFormat:e?.month,yearFormat:e?.year}),l=Ze(),u=ut(o,a,t,l,n),{cn:r}=M();return c.createElement("div",{className:r("navds-timeline__axislabels"),"aria-hidden":"true"},u.filter(rt).map(i=>c.createElement(ve,{className:r("navds-timeline__axislabels-label"),as:"div",key:i.label,style:{justifyContent:t==="left"?"flex-start":"flex-end",[t]:`${i.horizontalPosition}%`,width:`${i.width}%`}},i.label)))};var mt=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const Me=b.forwardRef((e,a)=>{var{date:o,children:t}=e,n=mt(e,["date","children"]);const{cn:l}=M(),{startDate:u,endDate:r,direction:i}=Z(),[v,m]=b.useState(!1),h=b.useRef(null),d=z("Timeline"),O=!fe(!1),{context:w,placement:f,middlewareData:{arrow:{x:p,y:D}={}},refs:j,floatingStyles:I}=pe({placement:"top",open:v,onOpenChange:s=>m(s),whileElementsMounted:we,middleware:[be(O?16:8),he(),ge({padding:5,fallbackPlacements:["bottom","top"]}),ye({element:h,padding:5})]}),T=Oe(w,{handleClose:_e(),restMs:25,delay:{open:1e3},move:!1}),A=xe(w),L=Ee(w),{getFloatingProps:F,getReferenceProps:H}=je([T,A,L]),$=me(j.setReference,a),C={top:"bottom",right:"left",bottom:"top",left:"right"}[f.split("-")[0]];return c.createElement(c.Fragment,null,c.createElement("div",{className:l("navds-timeline__pin-wrapper"),style:{[i]:`${te(o,u,r)}%`}},c.createElement("button",Object.assign({},n,{ref:$,className:l("navds-timeline__pin-button"),"aria-label":d("Pin.pin",{date:R(o,d("dateFormat"))}),type:"button","aria-expanded":t?v:void 0},H({onKeyDown:s=>{var g;(g=n?.onKeyDown)===null||g===void 0||g.call(n,s),s.key==="Enter"?m(_=>!_):s.key===" "&&m(!1)}})))),t&&v&&c.createElement(Pe,{context:w,modal:!1,initialFocus:-1,returnFocus:!1},c.createElement("div",Object.assign({className:l("navds-timeline__popover"),"data-placement":f,ref:j.setFloating,role:"dialog"},F(),{style:I}),t,O&&c.createElement("div",{ref:h,style:Object.assign(Object.assign(Object.assign({},p!=null?{left:p}:{}),D!=null?{top:D}:{}),C?{[C]:"-0.5rem"}:{}),className:l("navds-timeline__popover-arrow")}))))});Me.componentType="pin";const Ie=b.createContext({periodId:"",firstFocus:!1}),Te=()=>{const e=b.useContext(Ie);return e||console.warn("usePeriodContext must be used with PeriodContext"),e},Ae=b.createContext({periods:[],id:"",active:!1,index:0}),oe=()=>{const e=b.useContext(Ae);return e||console.warn("useRowContext must be used with RowContext"),e},Ne=(e,a,o)=>Be(`navds-timeline__period navds-timeline__period--${o}`,{"navds-timeline__period--connected-both":e==="both","navds-timeline__period--connected-right":e==="right"&&a==="left"||e==="left"&&a==="right","navds-timeline__period--connected-left":e==="left"&&a==="left"||e==="right"&&a==="right"}),Le=(e,a,o,t,n)=>{const l=n("dateFormat"),u=R(e,l),r=R(a,l);return n("Period.period",{status:t||n(`Period.${o}`),start:u,end:r})},vt=c.memo(({onSelectPeriod:e,start:a,end:o,status:t,cropped:n,direction:l,left:u,width:r,icon:i,children:v,isActive:m,statusLabel:h,restProps:d,periodRef:y})=>{var O,w;const{cn:f}=M(),[p,D]=b.useState(!1),{index:j}=oe(),{firstFocus:I}=Te(),{initiate:T,addFocusable:A}=Z(),L=b.useRef(null),F=z("Timeline"),$=!fe(!1),{context:C,placement:s,middlewareData:{arrow:{x:g,y:_}={}},refs:S,floatingStyles:Y}=pe({placement:(O=d?.placement)!==null&&O!==void 0?O:"top",open:p,onOpenChange:E=>D(E),whileElementsMounted:we,middleware:[be($?16:8),he(),ge({padding:5,fallbackPlacements:["bottom","top"]}),ye({element:L,padding:5})]}),x=Oe(C,{handleClose:_e(),restMs:25,delay:{open:1e3},move:!1}),J=xe(C),P=Ee(C),{getFloatingProps:$e,getReferenceProps:ke}=je([x,J,P]),ze=me(S.setReference,y),se={top:"bottom",right:"left",bottom:"top",left:"right"}[s.split("-")[0]];return c.createElement(c.Fragment,null,c.createElement("button",Object.assign({},d,{"data-color":(w=d?.["data-color"])!==null&&w!==void 0?w:t,type:"button",ref:E=>{I&&A(E,j),ze(E)},"aria-label":Le(a,o,t,h,F),className:f("navds-timeline__period--clickable",Ne(n,l,t),d?.className,{"navds-timeline__period--selected":m}),"aria-expanded":v?p:void 0,"aria-current":m||void 0},ke({onFocus:()=>{T(j)},onKeyDown:E=>{var N;(N=d?.onKeydown)===null||N===void 0||N.call(d,E),E.key==="Enter"&&D(Ye=>!Ye),E.key===" "&&(e?.(E),D(!1))},style:{width:`${r}%`,[l]:`${u}%`},onClick:E=>{var N;(N=d?.onClick)===null||N===void 0||N.call(d,E),E.detail!==0&&e?.(E)}})),c.createElement("span",{className:f("navds-timeline__period--inner")},i)),v&&p&&c.createElement(Pe,{context:C,modal:!1,initialFocus:-1,returnFocus:!1},c.createElement("div",Object.assign({className:f("navds-timeline__popover"),"data-placement":s,ref:S.setFloating,role:"dialog"},$e(),{style:Y}),v,$&&c.createElement("div",{ref:L,style:Object.assign(Object.assign(Object.assign({},g!=null?{left:g}:{}),_!=null?{top:_}:{}),se?{[se]:"-0.5rem"}:{}),className:f("navds-timeline__popover-arrow")}))))}),pt=({start:e,end:a,status:o,cropped:t,direction:n,left:l,width:u,icon:r,statusLabel:i,restProps:v,periodRef:m})=>{var h;const d=z("Timeline"),{cn:y}=M();return c.createElement("div",Object.assign({ref:m},v,{"data-color":(h=v?.["data-color"])!==null&&h!==void 0?h:o,className:y(Ne(t,n,o),v?.className),style:{width:`${u}%`,[n]:`${l}%`}}),c.createElement("span",{className:y("navds-timeline__period--inner")},r,c.createElement("span",{className:y("navds-sr-only")},Le(e,a,o,i,d))))},ae=b.forwardRef(({icon:e},a)=>{const{periods:o}=oe(),{periodId:t,restProps:n}=Te(),l=o.find(p=>p.id===t);if(!l)return c.createElement(c.Fragment,null);const{start:u,endInclusive:r,width:i,horizontalPosition:v,status:m="neutral",onSelectPeriod:h,cropped:d,direction:y,children:O,isActive:w,statusLabel:f}=l;return h||O?c.createElement(vt,{periodRef:a,start:u,end:r,status:m,onSelectPeriod:h,cropped:d||"",direction:y,width:i,left:v,icon:e,isActive:w,statusLabel:f,restProps:n},O):c.createElement(pt,{periodRef:a,start:u,end:r,status:m,cropped:d||"",direction:y,width:i,left:v,icon:e,statusLabel:f,restProps:n})});ae.componentType="period";var bt=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const le=b.forwardRef((e,a)=>{var{label:o,className:t,headingTag:n="h3",icon:l}=e,u=bt(e,["label","className","headingTag","icon"]);const{cn:r}=M(),{periods:i,id:v,active:m}=oe(),{setActiveRow:h}=Z(),d=z("Timeline"),y=i.reduce((f,p)=>f.end>p.end?f:p,{}),O=i.reduce((f,p)=>f.end<p.end?f:p,{}),w=i.find(f=>!!f.children||!!f.onSelectPeriod);return c.createElement(c.Fragment,null,o&&c.createElement(He,{as:n,id:`timeline-row-${v}`,className:r("navds-timeline__row-label"),size:"small"},l,o),c.createElement("div",{className:r("navds-timeline__row",{"navds-timeline__row--active":m})},c.createElement("ol",Object.assign({},u,{tabIndex:-1,ref:a,"aria-label":i.length===0?d("Row.noPeriods"):d("Row.period",{start:R(O.start,d("dateFormat")),end:R(y.end,d("dateFormat"))}),className:r("navds-timeline__row-periods",t),onKeyDown:f=>{(f.key==="ArrowDown"||f.key==="ArrowUp")&&(f.preventDefault(),h(f.key))}}),i?.map(f=>c.createElement("li",{key:`period-${f.id}`},c.createElement(Ie.Provider,{value:{periodId:f.id,firstFocus:w?.id===f.id,restProps:f?.restProps}},c.createElement(ae,{start:f.start,end:f.endInclusive,icon:f.icon,ref:f?.ref})))))))});le.componentType="row";const ht=(e,a)=>e.horizontalPosition-a.horizontalPosition,gt=(e,a,o,t="left",n,l,u)=>{const r=e.start,i=e.end,v=n<l.length-1&&!Ge(l[n+1].start,i),{horizontalPosition:m,width:h}=G(U(r),V(v?U(De(l[n+1].start,1)):i),a,o);return{id:`r-${u}-p-${n}`,start:r,endInclusive:i,horizontalPosition:m,direction:t,width:h,end:i,status:e.status,onSelectPeriod:e.onSelectPeriod,icon:e.icon,children:e.children,isActive:e.isActive,statusLabel:e.statusLabel}},yt=(e,a,o)=>{const t=a>0&&de(e.start,o[a-1].endInclusive),n=a<o.length-1&&de(o[a+1].start,e.endInclusive);return t&&n?Object.assign(Object.assign({},e),{cropped:"both"}):t?Object.assign(Object.assign({},e),{cropped:"left"}):n?Object.assign(Object.assign({},e),{cropped:"right"}):e},wt=e=>{let{horizontalPosition:a,width:o,cropped:t}=e;return a+o>100&&(o=100-a,t=t==="left"||t==="both"?"both":"right"),a<0&&a+o>0&&(o=a+o,a=0,t=t==="right"||t==="both"?"both":"left"),Object.assign(Object.assign({},e),{width:o,horizontalPosition:a,cropped:t})},Ot=(e,a,o,t)=>b.useMemo(()=>e.map((n,l)=>{const u=n.periods.sort((r,i)=>r.start.valueOf()-i.start.valueOf()).map((r,i)=>Object.assign(Object.assign({},gt(r,a,o,t,i,n.periods,l)),{restProps:r?.restProps,ref:r?.ref})).sort(ht).map(yt).map(wt).filter(st);return{id:`tl-row-${l}`,label:n.label,headingTag:n.headingTag||"h3",icon:n.icon,periods:t==="left"?u:u.reverse(),restProps:n?.restProps,ref:n?.ref}}),[e,a,o,t]),_t=({startDate:e,rows:a})=>b.useMemo(()=>{if(e)return e;const o=a.flat().filter(n=>n.start).map(n=>n.start);return o.length===0?new Date:o.reduce((n,l)=>l<n?l:n)},[e,a]),xt=(e,a)=>a.end>e?a.end:e,Et=e=>e.flat().reduce(xt,new Date(0)),ue=({endDate:e,rows:a})=>b.useMemo(()=>e||Ce(Et(a),1),[e,a]),jt=e=>{const a=[];return e?.forEach(o=>{var t,n,l,u,r,i,v,m,h,d,y,O;const w=[];if(c.isValidElement(o)&&(!((t=o?.props)===null||t===void 0)&&t.children)){if(Array.isArray(o.props.children))for(let f=0;f<o.props.children.length;f++){const p=o.props.children[f];w.push({start:(n=p?.props)===null||n===void 0?void 0:n.start,end:(l=p?.props)===null||l===void 0?void 0:l.end,status:((u=p?.props)===null||u===void 0?void 0:u.status)||"neutral",onSelectPeriod:(r=p.props)===null||r===void 0?void 0:r.onSelectPeriod,label:o.props.label,icon:p.props.icon,children:p.props.children,isActive:p.props.isActive,statusLabel:p.props.statusLabel,restProps:Q(p.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:p?.ref})}else w.push({start:o.props.children.props.start,end:o.props.children.props.end,status:((i=o.props.children.props)===null||i===void 0?void 0:i.status)||"neutral",onSelectPeriod:(v=o.props.children.props)===null||v===void 0?void 0:v.onSelectPeriod,label:o.props.label,icon:(m=o.props.children.props)===null||m===void 0?void 0:m.icon,children:(h=o.props.children.props)===null||h===void 0?void 0:h.children,statusLabel:(d=o.props.children.props)===null||d===void 0?void 0:d.statusLabel,restProps:Q(o.props.children.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:(O=(y=o.props)===null||y===void 0?void 0:y.children)===null||O===void 0?void 0:O.ref});a.push({label:o.props.label,icon:o.props.icon,headingTag:o.props.headingTag,periods:w,restProps:Q(o.props,["label","icon","headingTag"]),ref:o?.ref})}}),a};var Pt=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const Rt=b.forwardRef((e,a)=>{var{label:o,interval:t,count:n}=e,l=Pt(e,["label","interval","count"]);const{setStart:u,endDate:r,startDate:i,direction:v}=Z(),m=z("Timeline"),h=m("dateFormat"),{cn:d}=M();let y;t==="month"?y=v==="left"?We(r,n):ee(i,n):y=v==="left"?lt(r,n):K(i,n);const O=v==="left"?q(i,y):q(r,y);return c.createElement(ve,{as:"li"},c.createElement("button",Object.assign({type:"button","aria-label":O?m("Zoom.reset"):m("Zoom.zoom",{start:R(y,h),end:R(r,h)}),ref:a},l,{className:d("navds-timeline__zoom-button"),onClick:()=>{u(y)},"aria-pressed":O}),o))});var Dt=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const re=b.forwardRef((e,a)=>{var{className:o,children:t}=e,n=Dt(e,["className","children"]);const{cn:l}=M();return c.createElement("ul",Object.assign({ref:a,className:l(o,"navds-timeline__zoom")},n),t)});re.Button=Rt;re.componentType="zoom";var Ct=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const W=b.forwardRef((e,a)=>{var{children:o,startDate:t,endDate:n,direction:l="left",axisLabelTemplates:u}=e,r=Ct(e,["children","startDate","endDate","direction","axisLabelTemplates"]);const{cn:i}=M(),v=Array.isArray(o),m=b.useRef([]);v||(o=[o]);const h=c.Children.toArray(o).filter(s=>{var g;return((g=s?.type)===null||g===void 0?void 0:g.componentType)==="row"}),d=c.Children.toArray(o).filter(s=>{var g;return((g=s?.type)===null||g===void 0?void 0:g.componentType)==="pin"}).map(s=>()=>s),y=c.Children.toArray(o).find(s=>{var g;return((g=s?.type)===null||g===void 0?void 0:g.componentType)==="zoom"}),O=b.useMemo(()=>jt(h),[h]),w=O.map(s=>s?.periods?s.periods:[]),f=U(_t({startDate:t,rows:w})),[p,D]=b.useState(f),[j,I]=b.useState(null),[T,A]=b.useState(V(ue({endDate:n,rows:w}))),L=V(ue({endDate:n,rows:w})),F=Ot(O,t??p,n??T,l),H=s=>{if(!(t||n))if(l==="left"){if(q(s,p)){D(f);return}D(s)}else{if(q(s,T)){A(L);return}A(s)}},$=s=>{var g,_,S,Y;if(j!==null&&s==="ArrowDown"){for(let x=j+1;x<F.length;x++)if(F[x].periods.find(P=>!!P.children||!!P.onSelectPeriod)){I(x),(_=(g=m.current.find(P=>P.id===x))===null||g===void 0?void 0:g.ref)===null||_===void 0||_.focus();break}return}if(j!==null&&s==="ArrowUp"){for(let x=j-1;x>=0;x--)if(F[x].periods.find(P=>!!P.children||!!P.onSelectPeriod)){I(x),(Y=(S=m.current.find(P=>P.id===x))===null||S===void 0?void 0:S.ref)===null||Y===void 0||Y.focus();break}return}},C=(s,g)=>{let _=m.current;_=_.filter(S=>S.id!==g),_.push({ref:s,id:g}),m.current=_};return c.createElement(Se.Provider,{value:{startDate:t??p,endDate:n??T,direction:l,setStart:s=>H(s),setEndInclusive:s=>A(s),activeRow:j,setActiveRow:s=>$(s),initiate:s=>I(s),addFocusable:C}},c.createElement("div",Object.assign({},r,{ref:a}),c.createElement("div",{className:i("navds-timeline")},c.createElement(ft,{templates:u}),d.map((s,g)=>c.createElement(s,{key:`pin-${g}`})),F.map((s,g)=>c.createElement(Ae.Provider,{key:`row-${s.id}`,value:{periods:s.periods,id:s.id,active:j===g,index:g}},c.createElement(le,Object.assign({},s?.restProps,{ref:s?.ref,label:s.label,icon:s.icon,headingTag:s.headingTag}))))),y))});W.Row=le;W.Period=ae;W.Pin=Me;W.Zoom=re;export{At as S,W as T,Tt as a,It as b};
