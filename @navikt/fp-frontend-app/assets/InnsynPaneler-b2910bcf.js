import{l as o,j as e,B as x,H as G,N as fe,t as se,D as Ie,L as z,G as Ve,n as he,P as je}from"./index.es-200de3ec.js";import{r as g}from"./index-6d8bab86.js";import{B as be}from"./BehandlingContainer-4d5634c8.js";import{t as De,V as ae,W as ve,Y as xe,$ as _e,a0 as W,a1 as Fe,f as re,K as J,O as ie,c as Z,a as N,d as Q,T as X,n as Ne,H as D,P as oe,B as _,w as Pe,Z as Te,I as Se,k as Re,a2 as qe,r as Ee,a3 as ee}from"./AppIndex.stories-401ad185.js";import{L as le,x as de,H as v,S as Le,e as Me,f as Be,g as u,F as ue,M as me,B as T,C as Oe,b as Ae,T as Ce,$ as Ke}from"./index.es-7d99fbfc.js";import{a as ke,P as ce,b as pe}from"./OverstyringPanel-0cbf0102.js";import{P as ge,u as we}from"./ProsessDefaultInitPanel-0c423e7b.js";import{x as P,H as Ue}from"./index.es-bf42e136.js";import{I as Ye}from"./IverksetterVedtakStatusModal-7dfe072d.js";import"./BehandlingHenlagtPanel-b56255e0.js";import"./useGlobalStateRestApiData-0d8d02ad.js";import"./bind-a91db82b.js";import"./index.es-c320ea88.js";import"./extends-98964cd2.js";import"./iframe-4d751135.js";import"../sb-preview/runtime.js";import"./SettPaVentReadOnlyModal-da9a9e9f.js";import"./nb_NO-d43674a7.js";const b={INNVILGET:"INNV",DELVISTINNVILGET:"DELV",AVVIST:"AVVIST"},S={INN:"INN",UT:"UT",NOTAT:"N"},$e="_checkboxCol_jtrmq_1",Ge="_linkCol_jtrmq_5",He="_imageInn_jtrmq_9",ze="_imageSend_jtrmq_16",We="_imageIntern_jtrmq_22",Je="_noDocuments_jtrmq_29",Ze="_hidden_jtrmq_35",Qe="_table_jtrmq_39",V={checkboxCol:$e,linkCol:Ge,imageInn:He,imageSend:ze,imageIntern:We,noDocuments:Je,hidden:Ze,table:Qe},Xe=(n,s)=>n.kommunikasjonsretning===S.INN?e.jsx(ve,{title:s.formatMessage({id:"DocumentListInnsyn.Motta"}),className:V.imageInn}):n.kommunikasjonsretning===S.UT?e.jsx(xe,{title:s.formatMessage({id:"DocumentListInnsyn.Send"}),className:V.imageSend}):e.jsx(_e,{title:s.formatMessage({id:"DocumentListInnsyn.Intern"}),className:V.imageIntern}),en=()=>e.jsx("span",{className:V.hidden,children:"-"}),R=({documents:n,saksNr:s,readOnly:t})=>{const a=o.useIntl();if(n.length===0)return e.jsx(x,{size:"small",className:V.noDocuments,children:e.jsx(o.FormattedMessage,{id:"DocumentListInnsyn.NoDocuments"})});const i=t?["DocumentListInnsyn.DocumentType"]:["DocumentListInnsyn.CheckBox","DocumentListInnsyn.Direction","DocumentListInnsyn.DocumentType","DocumentListInnsyn.DateTime"];return e.jsxs(e.Fragment,{children:[e.jsx(G,{size:"small",className:V.noDocuments,children:e.jsx(o.FormattedMessage,{id:"DocumentListInnsyn.VelgInnsynsDok"})}),e.jsx(le,{headerTextCodes:i,children:n.map(r=>{const l=Xe(r,a),d=parseInt(r.dokumentId,10);return e.jsxs(de,{id:d,children:[e.jsx(v,{className:V.checkboxCol,children:e.jsx(De,{label:en(),name:`dokument_${d}`,disabled:t})}),e.jsx(v,{hidden:t,children:l}),e.jsx(v,{className:V.linkCol,children:e.jsx("a",{href:ae(s,r.journalpostId,r.dokumentId),className:"lenke lenke--frittstaende",target:"_blank",rel:"noopener noreferrer",children:r.tittel})}),e.jsx(v,{hidden:t,children:r.tidspunkt?e.jsx(Le,{dateTimeString:r.tidspunkt}):e.jsx(x,{size:"small",children:e.jsx(o.FormattedMessage,{id:"DocumentListInnsyn.IProduksjon"})})})]},d)})})]})};R.defaultProps={readOnly:!1};try{R.displayName="DocumentListInnsyn",R.__docgenInfo={description:`DocumentListInnsyn

Presentasjonskomponent. Viser dokumenter i en liste med Checkbox for å velge til innsyn. Tar også inn en callback-funksjon som blir
trigget når saksbehandler velger et dokument. Finnes ingen dokumenter blir det kun vist en label
som viser at ingen dokumenter finnes på fagsak.`,displayName:"DocumentListInnsyn",props:{saksNr:{defaultValue:null,description:"",name:"saksNr",required:!0,type:{name:"string"}},documents:{defaultValue:null,description:"",name:"documents",required:!0,type:{name:"Readonly<{ journalpostId: string; dokumentId: string; behandlingUuidList?: string[] | undefined; tittel?: string | undefined; tidspunkt?: string | undefined; kommunikasjonsretning: string; gjelderFor?: string | undefined; }>[]"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}}}}}catch{}const O=({vedtaksdokumenter:n,behandlingTypes:s})=>{const[t,a]=g.useState(!1),i=g.useCallback(r=>{a(!t),r.preventDefault()},[t]);return n.length===0?e.jsx(o.FormattedMessage,{id:"DocumentListInnsyn.Vedtaksdokumentasjon",values:{numberOfDocuments:0}}):e.jsxs(e.Fragment,{children:[e.jsxs(W,{href:"#",onClick:i,children:[e.jsx(o.FormattedMessage,{id:"DocumentListInnsyn.Vedtaksdokumentasjon",values:{numberOfDocuments:n.length}}),t?e.jsx(Me,{}):e.jsx(Be,{})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx(u,{fourPx:!0}),e.jsx(ue,{children:n.map(r=>{var l;return e.jsxs(me,{children:[e.jsx(T,{children:e.jsx(Oe,{dateString:r.opprettetDato})}),e.jsx(T,{children:e.jsx(W,{href:Fe(r.behandlingUuid),target:"_blank",children:((l=s.find(d=>d.kode===r.tittel))==null?void 0:l.navn)||"-"})})]},r.behandlingUuid)})})]})]})};try{O.displayName="VedtakDocuments",O.__docgenInfo={description:"",displayName:"VedtakDocuments",props:{behandlingTypes:{defaultValue:null,description:"",name:"behandlingTypes",required:!0,type:{name:"Readonly<{ kode: string; navn: string; kodeverk: string; }>[]"}},vedtaksdokumenter:{defaultValue:null,description:"",name:"vedtaksdokumenter",required:!0,type:{name:"Readonly<{ behandlingUuid: string; tittel: string; opprettetDato: string; }>[]"}}}}}catch{}const nn=[],tn=n=>n.reduce((s,t)=>({[`dokument_${t.dokumentId}`]:t.fikkInnsyn,...s}),{}),sn=(n,s,t,a,i)=>({mottattDato:n,innsynResultatType:s||void 0,fristDato:i||Ne().add(3,"days").format(fe),sattPaVent:a[0].status===ke.OPPRETTET?void 0:!!i,...ce.buildInitialValues(a),...tn(t||[])}),an=(n,s)=>s.map(t=>({dokumentId:t.dokumentId,journalpostId:t.journalpostId,fikkInnsyn:!!n[`dokument_${t.dokumentId}`]})),rn=n=>Object.keys(n).filter(s=>!s.startsWith("dokument_")).reduce((s,t)=>({...s,[t]:n[t]}),{}),on=(n,s)=>({kode:D.VURDER_INNSYN,innsynDokumenter:an(n,s),...rn(n)}),ln=n=>{const s=n.filter(t=>t.kommunikasjonsretning===S.INN);return n.forEach(t=>!s.some(a=>a.dokumentId===t.dokumentId)&&s.push(t)),s},A=({readOnly:n,readOnlySubmitButton:s,innsynMottattDato:t,alleKodeverk:a,vedtaksdokumentasjon:i,innsynResultatType:r,fristBehandlingPåVent:l,innsynDokumenter:d,alleDokumenter:m=[],aksjonspunkter:k,submitCallback:h,saksNr:y,formData:q,setFormData:E})=>{const p=o.useIntl(),L=g.useMemo(()=>sn(t,r,d,k,l),[t,r,l,d,k]),j=re({defaultValues:q||L}),M=g.useMemo(()=>ln(m),[m]),F=g.useMemo(()=>a[J.INNSYN_RESULTAT_TYPE].filter(I=>I.kode!=="-").sort((I,ye)=>I.navn.localeCompare(ye.navn)).reverse(),[a]),f=k[0].status===ke.OPPRETTET,c=j.watch("innsynResultatType"),H=j.watch("sattPaVent");return e.jsxs(ie,{formMethods:j,onSubmit:I=>h(on(I,m)),setDataOnUnmount:E,children:[e.jsx(G,{size:"small",children:e.jsx(o.FormattedMessage,{id:"InnsynForm.Innsynsbehandling"})}),e.jsx(u,{twentyPx:!0}),e.jsx(Ae,{isAksjonspunktOpen:f,children:[e.jsx(o.FormattedMessage,{id:"InnsynForm.VurderKravetOmInnsyn"},"1")]}),e.jsx(u,{twentyPx:!0}),e.jsx(Z,{name:"mottattDato",label:p.formatMessage({id:"InnsynForm.DatoMottattKrav"}),isReadOnly:n,isEdited:!f,validate:[N,Q]}),e.jsx(u,{sixteenPx:!0}),e.jsx(O,{vedtaksdokumenter:i||nn,behandlingTypes:a[J.BEHANDLING_TYPE]}),e.jsx(u,{twentyPx:!0}),e.jsx(R,{saksNr:y,documents:M,readOnly:n}),e.jsx(ce,{readOnly:n}),e.jsx(u,{sixteenPx:!0}),e.jsx(X,{name:"innsynResultatType",label:e.jsx(o.FormattedMessage,{id:"InnsynForm.Resultat"}),validate:[N],isReadOnly:n,isHorizontal:!0,isEdited:!f,radios:F.map(I=>({value:I.kode,label:I.navn}))}),(c===b.INNVILGET||c===b.DELVISTINNVILGET)&&e.jsxs(e.Fragment,{children:[e.jsx(u,{eightPx:!0}),e.jsxs(Ce,{alignOffset:c===b.INNVILGET?28:176,children:[e.jsx(X,{name:"sattPaVent",label:e.jsx(o.FormattedMessage,{id:"InnsynForm.VelgVidereAksjon"}),validate:[N],isReadOnly:n,isEdited:!f,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:p.formatMessage({id:"InnsynForm.SettBehandlingPåVent"})},{value:"false",label:p.formatMessage({id:"InnsynForm.ForeslåOgFatteVedtak"})}]}),H&&e.jsxs(e.Fragment,{children:[e.jsx(u,{eightPx:!0}),e.jsx(Z,{name:"fristDato",label:p.formatMessage({id:"InnsynForm.FristDato"}),isReadOnly:n,isEdited:!f,validate:[N,Q]})]})]})]}),e.jsx(u,{sixteenPx:!0}),e.jsx(pe,{isReadOnly:n,isSubmittable:!s,isSubmitting:j.formState.isSubmitting,isDirty:j.formState.isDirty,text:H?p.formatMessage({id:"SubmitButton.SettPåVent"}):void 0})]})};try{A.displayName="InnsynForm",A.__docgenInfo={description:`InnsynForm

Viser panelet som håndterer avklaring av innsyn.`,displayName:"InnsynForm",props:{saksNr:{defaultValue:null,description:"",name:"saksNr",required:!0,type:{name:"string"}},fristBehandlingPåVent:{defaultValue:null,description:"",name:"fristBehandlingPåVent",required:!1,type:{name:"string"}},innsynMottattDato:{defaultValue:null,description:"",name:"innsynMottattDato",required:!0,type:{name:"string"}},innsynDokumenter:{defaultValue:null,description:"",name:"innsynDokumenter",required:!0,type:{name:"Readonly<{ journalpostId: string; dokumentId: string; fikkInnsyn: boolean; }>[]"}},innsynResultatType:{defaultValue:null,description:"",name:"innsynResultatType",required:!0,type:{name:"string"}},vedtaksdokumentasjon:{defaultValue:null,description:"",name:"vedtaksdokumentasjon",required:!0,type:{name:"Readonly<{ behandlingUuid: string; tittel: string; opprettetDato: string; }>[]"}},alleDokumenter:{defaultValue:{value:"[]"},description:"",name:"alleDokumenter",required:!1,type:{name:"Readonly<{ journalpostId: string; dokumentId: string; behandlingUuidList?: string[]; tittel?: string; tidspunkt?: string | undefined; kommunikasjonsretning: string; gjelderFor?: string | undefined; }>[] | undefined"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(data: VurderInnsynAp) => Promise<void>"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"FormValues"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: FormValues) => void"}}}}}catch{}const dn={"InnsynForm.Innsynsbehandling":"Innsynsbehandling","InnsynForm.VurderKravetOmInnsyn":"Følg manuelle rutiner for innsynsbehandling","InnsynForm.DatoMottattKrav":"Dato for mottatt krav om innsyn","InnsynForm.Resultat":"Resultat","InnsynForm.SettBehandlingPåVent":"Sett behandling på vent i påvente av skanning","InnsynForm.ForeslåOgFatteVedtak":"Foreslå og fatte vedtak","InnsynForm.VelgVidereAksjon":"Velg videre aksjon","InnsynForm.FristDato":"Behandling blir satt på vent med frist","DocumentListInnsyn.Direction":"Inn/ut","DocumentListInnsyn.DocumentType":"Dokument","DocumentListInnsyn.DateTime":"Sendt/mottatt","DocumentListInnsyn.CheckBox":" ","DocumentListInnsyn.NoDocuments":"Det finnes ingen dokumenter på saken","DocumentListInnsyn.Motta":"Inn","DocumentListInnsyn.Send":"Ut","DocumentListInnsyn.Intern":"Intern","DocumentListInnsyn.IProduksjon":"I produksjon","DocumentListInnsyn.VelgInnsynsDok":"Velg innsynsdokumentasjon til søker","DocumentListInnsyn.Vedtaksdokumentasjon":"Vedtaksdokumentasjon på saken ({numberOfDocuments})","DocumentListInnsyn.Empty":" ","Malform.Beskrivelse":"Foretrukket språk","SubmitButton.SettPåVent":"Sett behandling på vent"},un=se(dn),C=({behandling:n,innsyn:s,alleDokumenter:t,saksnummer:a,aksjonspunkter:i,submitCallback:r,isReadOnly:l,readOnlySubmitButton:d,alleKodeverk:m,formData:k,setFormData:h})=>e.jsxs(o.RawIntlProvider,{value:un,children:[!s&&e.jsx(Ke,{}),s&&e.jsx(A,{saksNr:a,fristBehandlingPåVent:n.fristBehandlingPåVent,innsynMottattDato:s.innsynMottattDato,innsynDokumenter:s.dokumenter,innsynResultatType:s.innsynResultatType,vedtaksdokumentasjon:s.vedtaksdokumentasjon,alleDokumenter:t,aksjonspunkter:i,alleKodeverk:m,submitCallback:r,readOnly:l,readOnlySubmitButton:d,formData:k,setFormData:h})]});try{C.displayName="InnsynProsessIndex",C.__docgenInfo={description:"",displayName:"InnsynProsessIndex",props:{innsyn:{defaultValue:null,description:"",name:"innsyn",required:!1,type:{name:"Readonly<{ innsynMottattDato: string; innsynResultatType: string; vedtaksdokumentasjon: Readonly<{ behandlingUuid: string; tittel: string; opprettetDato: string; }>[]; dokumenter: Readonly<...>[]; }>"}},alleDokumenter:{defaultValue:null,description:"",name:"alleDokumenter",required:!1,type:{name:"Readonly<{ journalpostId: string; dokumentId: string; behandlingUuidList?: string[]; tittel?: string; tidspunkt?: string | undefined; kommunikasjonsretning: string; gjelderFor?: string | undefined; }>[] | undefined"}},saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},vilkar:{defaultValue:null,description:"",name:"vilkar",required:!0,type:{name:"Readonly<{ vilkarType: string; vilkarStatus: string; avslagKode?: string | undefined; lovReferanse?: string | undefined; overstyrbar: boolean; }>[]"}},isAksjonspunktOpen:{defaultValue:null,description:"",name:"isAksjonspunktOpen",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const mn=[D.VURDER_INNSYN],kn=n=>[{key:_.INNSYN_DOKUMENTER,params:{saksnummer:n}},{key:_.INNSYN}],K=({fagsak:n,...s})=>e.jsx(ge,{...s,panelEndepunkter:kn(n.saksnummer),aksjonspunktKoder:mn,prosessPanelKode:oe.BEHANDLE_INNSYN,prosessPanelMenyTekst:o.useIntl().formatMessage({id:"Behandlingspunkt.Innsyn"}),skalPanelVisesIMeny:()=>!0,renderPanel:t=>e.jsx(C,{saksnummer:n.saksnummer,alleDokumenter:t.innsynDokumenter,...t})});try{K.displayName="BehandleInnsynProsessStegInitPanel",K.__docgenInfo={description:"",displayName:"BehandleInnsynProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; }>"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const cn="_checkboxCol_vtbic_1",pn="_linkCol_vtbic_5",gn="_image_vtbic_9",yn="_noDocuments_vtbic_15",fn="_hidden_vtbic_19",In="_table_vtbic_23",B={checkboxCol:cn,linkCol:pn,image:gn,noDocuments:yn,hidden:fn,table:In},Vn=["DocumentListVedtakInnsyn.Dokument"],w=({documents:n,saksNr:s})=>n.length===0?e.jsx(x,{size:"small",className:B.noDocuments,children:e.jsx(o.FormattedMessage,{id:"DocumentListVedtakInnsyn.NoDocuments"})}):e.jsxs(e.Fragment,{children:[e.jsx(Ie,{className:B.noDocuments,children:e.jsx(o.FormattedMessage,{id:"DocumentListVedtakInnsyn.InnsynsDok"})}),e.jsx(le,{noHover:!0,headerTextCodes:Vn,children:n.map(t=>{const a=parseInt(t.dokumentId,10);return e.jsx(de,{id:a,children:e.jsx(v,{className:B.linkCol,children:e.jsx("a",{href:ae(s,t.journalpostId,t.dokumentId),className:"lenke lenke--frittstaende",target:"_blank",rel:"noopener noreferrer",children:t.tittel})})},a)})})]});try{w.displayName="DocumentListVedtakInnsyn",w.__docgenInfo={description:`DocumentListVedtakInnsyn

Presentasjonskomponent. Viser dokumenter  som er valgt til innsyn i en liste . Finnes ingen dokumenter blir det kun vist en label
som viser at ingen dokumenter finnes på fagsak.`,displayName:"DocumentListVedtakInnsyn",props:{saksNr:{defaultValue:null,description:"",name:"saksNr",required:!0,type:{name:"string"}},documents:{defaultValue:null,description:"",name:"documents",required:!0,type:{name:"({ fikkInnsyn: boolean; } & Readonly<{ journalpostId: string; dokumentId: string; behandlingUuidList?: string[] | undefined; tittel?: string | undefined; tidspunkt?: string | undefined; kommunikasjonsretning: string; gjelderFor?: string | undefined; }>)[]"}}}}}catch{}const hn="_wordwrap_1hm28_1",jn={wordwrap:hn},bn=Se(1500),Dn=Re(3),vn=(n,s)=>t=>{t.preventDefault();const a={fritekst:s||" ",mottaker:"",dokumentMal:qe.INNSYN_SVAR,gjelderVedtak:!0};n(a)},xn=n=>{const s=n.filter(t=>t.kommunikasjonsretning===S.INN);return n.forEach(t=>!s.some(a=>a.dokumentId===t.dokumentId)&&s.push(t)),s},_n=(n,s)=>n.filter(t=>s.find(a=>a.dokumentId===t.dokumentId)).map(t=>{var a;return{...t,fikkInnsyn:((a=s.find(i=>i.dokumentId===t.dokumentId))==null?void 0:a.fikkInnsyn)||!1}}),Fn=n=>n===b.AVVIST?"InnsynVedtakForm.Avslatt":n===b.DELVISTINNVILGET?"InnsynVedtakForm.Delvis":"InnsynVedtakForm.Innvilget",Nn=(n,s)=>{var t;return{mottattDato:n,begrunnelse:(t=s.find(a=>a.definisjon===D.FORESLA_VEDTAK))==null?void 0:t.begrunnelse}},Pn=n=>({kode:D.FORESLA_VEDTAK,...n}),U=({readOnly:n,previewCallback:s,saksNr:t,innsynMottattDato:a,aksjonspunkter:i,submitCallback:r,innsynResultatType:l,innsynDokumenter:d,sprakkode:m,alleDokumenter:k,formData:h,setFormData:y})=>{var f;const q=o.useIntl(),E=g.useMemo(()=>Nn(a,i),[a,i]),p=re({defaultValues:h||E}),L=g.useMemo(()=>_n(xn(k),d),[k,d]),j=(f=i.find(c=>c.definisjon===D.VURDER_INNSYN))==null?void 0:f.begrunnelse,M=p.watch("begrunnelse"),F=vn(s,M);return e.jsxs(ie,{formMethods:p,onSubmit:c=>r(Pn(c)),setDataOnUnmount:y,children:[e.jsx(G,{size:"small",children:e.jsx(o.FormattedMessage,{id:n?"InnsynVedtakForm.Vedtak":"InnsynVedtakForm.ForslagVedtak"})}),e.jsx(u,{eightPx:!0}),e.jsx(z,{size:"small",children:e.jsx(o.FormattedMessage,{id:"InnsynVedtakForm.Resultat"})}),e.jsx(x,{size:"small",children:e.jsx(o.FormattedMessage,{id:Fn(l)})}),e.jsx(u,{eightPx:!0}),e.jsx(z,{size:"small",children:e.jsx(o.FormattedMessage,{id:"InnsynVedtakForm.Vurdering"})}),e.jsx(x,{size:"small",className:jn.wordwrap,children:Ve(j)}),e.jsx(u,{twentyPx:!0}),l!==b.INNVILGET&&e.jsx(Pe,{name:"begrunnelse",label:q.formatMessage({id:"InnsynVedtakForm.Fritekst"}),validate:[Dn,bn,Te],maxLength:1500,readOnly:n,badges:[{type:"info",titleText:he(m)}]}),e.jsx(u,{twentyPx:!0}),l!==b.AVVIST&&e.jsx(w,{saksNr:t,documents:L.filter(c=>c.fikkInnsyn===!0)}),e.jsx(u,{twentyPx:!0}),e.jsx(ue,{children:e.jsxs(me,{children:[!n&&e.jsx(T,{children:e.jsx(pe,{isReadOnly:n,isSubmittable:!0,isSubmitting:p.formState.isSubmitting,isDirty:p.formState.isDirty,hasEmptyRequiredFields:!1})}),e.jsx(T,{children:e.jsx("a",{onClick:F,onKeyDown:c=>c.key==="Enter"?F(c):null,className:"lenke lenke--frittstaende",target:"_blank",rel:"noopener noreferrer",role:"link",tabIndex:0,children:e.jsx(o.FormattedMessage,{id:n?"InnsynVedtakForm.VisVedtaksbrev":"InnsynVedtakForm.ForhåndsvisBrev"})})})]})})]})};try{U.displayName="InnsynVedtakForm",U.__docgenInfo={description:`InnsynVedtakForm

Presentasjonskomponent. Viser panelet som håndterer vedtaksforslag av innsyn.`,displayName:"InnsynVedtakForm",props:{sprakkode:{defaultValue:null,description:"",name:"sprakkode",required:!0,type:{name:"string"}},innsynDokumenter:{defaultValue:null,description:"",name:"innsynDokumenter",required:!0,type:{name:"Readonly<{ journalpostId: string; dokumentId: string; fikkInnsyn: boolean; }>[]"}},innsynMottattDato:{defaultValue:null,description:"",name:"innsynMottattDato",required:!0,type:{name:"string"}},innsynResultatType:{defaultValue:null,description:"",name:"innsynResultatType",required:!0,type:{name:"string"}},alleDokumenter:{defaultValue:null,description:"",name:"alleDokumenter",required:!0,type:{name:"Readonly<{ journalpostId: string; dokumentId: string; behandlingUuidList?: string[] | undefined; tittel?: string | undefined; tidspunkt?: string | undefined; kommunikasjonsretning: string; gjelderFor?: string | undefined; }>[]"}},saksNr:{defaultValue:null,description:"",name:"saksNr",required:!0,type:{name:"string"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(data: ForeslaVedtakAp) => Promise<void>"}},previewCallback:{defaultValue:null,description:"",name:"previewCallback",required:!0,type:{name:"(data: ForhandsvisData) => Promise<any>"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"FormValues"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: FormValues) => void"}}}}}catch{}const Tn={"InnsynVedtakForm.ForslagVedtak":"Forslag til vedtak","InnsynVedtakForm.Vedtak":"Vedtak","InnsynVedtakForm.Innvilget":"Krav om innsyn innvilget","InnsynVedtakForm.Delvis":"Krav om innsyn delvis innvilget","InnsynVedtakForm.Avslatt":"Krav om innsyn avslått","InnsynVedtakForm.Resultat":"Resultat","InnsynVedtakForm.Vurdering":"Vurdering","InnsynVedtakForm.Fritekst":"Fritekst i brev","InnsynVedtakForm.ForhåndsvisBrev":"Forhåndsvis brev","InnsynVedtakForm.VisVedtaksbrev":"Vis vedtaksbrev","DocumentListVedtakInnsyn.Dokument":"Dokument","DocumentListVedtakInnsyn.InnsynsDok":"Innsynsdokumentasjon til søker","DocumentListVedtakInnsyn.NoDocuments":"Det finnes ingen dokumenter på saken","Malform.Beskrivelse":"Foretrukket språk"},Sn=se(Tn),Y=({behandling:n,innsyn:s,saksnummer:t,aksjonspunkter:a,alleDokumenter:i=[],submitCallback:r,previewCallback:l,isReadOnly:d,formData:m,setFormData:k})=>e.jsx(o.RawIntlProvider,{value:Sn,children:e.jsx(U,{sprakkode:n.sprakkode,innsynDokumenter:s.dokumenter,innsynMottattDato:s.innsynMottattDato,innsynResultatType:s.innsynResultatType,alleDokumenter:i,saksNr:t,aksjonspunkter:a,submitCallback:r,previewCallback:l,readOnly:d,formData:m,setFormData:k})});try{Y.displayName="VedtakInnsynProsessIndex",Y.__docgenInfo={description:"",displayName:"VedtakInnsynProsessIndex",props:{innsyn:{defaultValue:null,description:"",name:"innsyn",required:!0,type:{name:"Readonly<{ innsynMottattDato: string; innsynResultatType: string; vedtaksdokumentasjon: Readonly<{ behandlingUuid: string; tittel: string; opprettetDato: string; }>[]; dokumenter: Readonly<{ ...; }>[]; }>"}},saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},alleDokumenter:{defaultValue:{value:"[]"},description:"",name:"alleDokumenter",required:!1,type:{name:"Readonly<{ journalpostId: string; dokumentId: string; behandlingUuidList?: string[]; tittel?: string; tidspunkt?: string | undefined; kommunikasjonsretning: string; gjelderFor?: string | undefined; }>[] | undefined"}},previewCallback:{defaultValue:null,description:"",name:"previewCallback",required:!0,type:{name:"(data: ForhandsvisData) => Promise<any>"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},vilkar:{defaultValue:null,description:"",name:"vilkar",required:!0,type:{name:"Readonly<{ vilkarType: string; vilkarStatus: string; avslagKode?: string | undefined; lovReferanse?: string | undefined; overstyrbar: boolean; }>[]"}},isAksjonspunktOpen:{defaultValue:null,description:"",name:"isAksjonspunktOpen",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const ne=n=>{const{aksjonspunkt:s,behandlingsresultat:t}=n,a=s.some(i=>i.status===Ue.OPPRETTET);return s.length===0||a?P.IKKE_VURDERT:(t==null?void 0:t.type)===ee.INNSYN_INNVILGET||(t==null?void 0:t.type)===ee.INNSYN_DELVIS_INNVILGET?P.OPPFYLT:P.IKKE_OPPFYLT},Rn=(n,s,t)=>a=>{const i={...a,behandlingUuid:t.uuid,fagsakYtelseType:s.fagsakYtelseType};return n(i).then(r=>je(r))},qn=(n,s)=>()=>(s(!1),()=>{n(!0)}),En=[D.FORESLA_VEDTAK],Ln=n=>[{key:_.INNSYN},{key:_.INNSYN_DOKUMENTER,params:{saksnummer:n}}],$=({fagsak:n,opneSokeside:s,setSkalOppdatereEtterBekreftelseAvAp:t,...a})=>{const i=o.useIntl(),[r,l]=g.useState(!1),d=qn(l,t),m=we(),{startRequest:k}=Ee.useRestApiRunner(_.PREVIEW_MESSAGE),h=g.useCallback(Rn(k,n,m.behandling),[m.behandling.versjon]);return e.jsx(ge,{...a,panelEndepunkter:Ln(n.saksnummer),aksjonspunktKoder:En,prosessPanelKode:oe.VEDTAK,prosessPanelMenyTekst:i.formatMessage({id:"Behandlingspunkt.Vedtak"}),skalPanelVisesIMeny:()=>!0,hentOverstyrtStatus:()=>ne(a.behandling),lagringSideEffekter:d,hentSkalMarkeresSomAktiv:()=>ne(a.behandling)!==P.IKKE_VURDERT,renderPanel:y=>e.jsxs(e.Fragment,{children:[e.jsx(Ye,{visModal:r,lukkModal:()=>{l(!1),s()},behandlingsresultat:m.behandling.behandlingsresultat}),e.jsx(Y,{saksnummer:n.saksnummer,previewCallback:h,alleDokumenter:y==null?void 0:y.innsynDokumenter,...y})]})})};try{$.displayName="InnsynVedtakProsessStegInitPanel",$.__docgenInfo={description:"",displayName:"InnsynVedtakProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!0,type:{name:"() => void"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!0,type:{name:"(skalHenteFagsak: boolean) => void"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const te=({behandling:n,fagsak:s,valgtProsessSteg:t,oppdaterProsessStegOgFaktaPanelIUrl:a,opneSokeside:i,setSkalOppdatereEtterBekreftelseAvAp:r})=>{const l=g.useCallback(d=>e.jsxs(e.Fragment,{children:[e.jsx(K,{...d,fagsak:s}),e.jsx($,{...d,fagsak:s,opneSokeside:i,setSkalOppdatereEtterBekreftelseAvAp:r})]}),[s,i,r]);return e.jsx(be,{behandling:n,valgtProsessSteg:t,oppdaterProsessStegOgFaktaPanelIUrl:a,hentProsessPaneler:l})};try{te.displayName="InnsynPaneler",te.__docgenInfo={description:"",displayName:"InnsynPaneler",props:{behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},oppdaterProsessStegOgFaktaPanelIUrl:{defaultValue:null,description:"",name:"oppdaterProsessStegOgFaktaPanelIUrl",required:!0,type:{name:"(punktnavn?: string | undefined, faktanavn?: string | undefined) => void"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!0,type:{name:"() => void"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!0,type:{name:"(skalHenteFagsak: boolean) => void"}}}}}catch{}export{te as default};
//# sourceMappingURL=InnsynPaneler-b2910bcf.js.map
