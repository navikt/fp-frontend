import{r as u,R as f}from"./index-6d8bab86.js";import{u as L,K as ae,i as N,M as ie,O as se,Q as ce,S as de,T as ue,U as fe,V as ve,Y as me,$ as pe,a0 as be,a1 as ge,a2 as he,a3 as Ae,a4 as X}from"./index.es-078e8f63.js";import{bp as I,bq as P,br as $e,bs as ye,bt as Ne,bu as B,bv as Fe,bw as H,bx as we,by as Oe,bz as T,bA as J,bB as ke,bC as G,bD as Le,bE as Ze,bF as Ye,bG as V}from"./AppIndex.stories-b4e8118e.js";var ze=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Be=u.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=ze(e,["title","titleId"]);let r=L();return r=n?t||"title-"+r:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:o,"aria-labelledby":r},l),n?u.createElement("title",{id:r},n):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .656.387l9.527 17.25A.75.75 0 0 1 21.526 21H2.474a.75.75 0 0 1-.657-1.113l9.527-17.25A.75.75 0 0 1 12 2.25Zm8.255 17.25L12 4.551 3.745 19.5h16.51ZM12 8.75a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4a.75.75 0 0 1 .75-.75Zm0 6.75a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z",fill:"currentColor"}))}),Lt=Be;var He=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Ve=u.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=He(e,["title","titleId"]);let r=L();return r=n?t||"title-"+r:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:o,"aria-labelledby":r},l),n?u.createElement("title",{id:r},n):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.75 12a.75.75 0 0 1 .75-.75h13a.75.75 0 1 1 0 1.5h-13a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))}),Zt=Ve;var Ke=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Qe=u.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=Ke(e,["title","titleId"]);let r=L();return r=n?t||"title-"+r:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:o,"aria-labelledby":r},l),n?u.createElement("title",{id:r},n):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75V5.5Z",fill:"currentColor"}))}),Yt=Qe;var Ue=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const qe=u.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=Ue(e,["title","titleId"]);let r=L();return r=n?t||"title-"+r:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:o,"aria-labelledby":r},l),n?u.createElement("title",{id:r},n):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.25 7.5a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Zm3.72 2.585A3.25 3.25 0 1 1 9.1 8.478l1.456.822 6.506-1.952a1.75 1.75 0 0 1 .79-.05l2.771.462a.75.75 0 0 1 .234 1.4l-5.336 2.89 5.326 2.785a.75.75 0 0 1-.224 1.405l-2.77.462a1.75 1.75 0 0 1-.791-.05l-6.46-1.938-1.5.813a3.25 3.25 0 1 1-1.132-1.612 3.252 3.252 0 0 0 0-3.83Zm4.494 3.621 1.467-.795 4.24 2.217-.565.094a.25.25 0 0 1-.113-.007l-5.03-1.509ZM7.39 15.438A1.742 1.742 0 0 1 7.75 16.5a1.75 1.75 0 1 1-.359-1.062Zm2.493-2.04a4.773 4.773 0 0 0 .11-2.363l7.499-2.25a.25.25 0 0 1 .113-.007l.616.103-8.338 4.516Z",fill:"currentColor"}))}),zt=qe;var Xe=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Ge=u.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=Xe(e,["title","titleId"]);let r=L();return r=n?t||"title-"+r:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:o,"aria-labelledby":r},l),n?u.createElement("title",{id:r},n):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2.25a2.75 2.75 0 1 0 0 5.5 2.75 2.75 0 0 0 0-5.5Zm-2.25 14.5H9a.75.75 0 0 1-.75-.75V9A.75.75 0 0 1 9 8.25h6a.75.75 0 0 1 .75.75v7a.75.75 0 0 1-.75.75h-.75V21a.75.75 0 0 1-1.5 0v-4.25h-1.5V21a.75.75 0 0 1-1.5 0v-4.25Z",fill:"currentColor"}))}),Bt=Ge;function k(e,o){I(2,arguments);var n=P(e),t=P(o),l=n.getTime()-t.getTime();return l<0?-1:l>0?1:l}function We(e,o){I(2,arguments);var n=P(e),t=P(o);return n.getFullYear()-t.getFullYear()}function ne(e,o){var n=e.getFullYear()-o.getFullYear()||e.getMonth()-o.getMonth()||e.getDate()-o.getDate()||e.getHours()-o.getHours()||e.getMinutes()-o.getMinutes()||e.getSeconds()-o.getSeconds()||e.getMilliseconds()-o.getMilliseconds();return n<0?-1:n>0?1:n}function _e(e,o){I(2,arguments);var n=P(e),t=P(o),l=ne(n,t),r=Math.abs($e(n,t));n.setDate(n.getDate()-l*r);var v=+(ne(n,t)===-l),s=l*(r-v);return s===0?0:s}function le(e,o){return I(2,arguments),P(e).getTime()-P(o).getTime()}function K(e){I(1,arguments);var o=P(e);return o.setHours(23,59,59,999),o}function Je(e){I(1,arguments);var o=P(e);return K(o).getTime()===ye(o).getTime()}function et(e,o){I(2,arguments);var n=P(e),t=P(o),l=k(n,t),r=Math.abs(Ne(n,t)),v;if(r<1)v=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-l*r);var s=k(n,t)===-l;Je(P(e))&&r===1&&k(e,t)===1&&(s=!1),v=l*(r-Number(s))}return v===0?0:v}function tt(e,o){I(2,arguments);var n=P(e),t=P(o),l=k(n,t),r=Math.abs(We(n,t));n.setFullYear(1584),t.setFullYear(1584);var v=k(n,t)===-l,s=l*(r-Number(v));return s===0?0:s}function nt(e){I(1,arguments);var o=P(e),n=o.getFullYear();return o.setFullYear(n+1,0,0),o.setHours(23,59,59,999),o}function lt(e,o){I(2,arguments);var n=Fe(o);return B(e,-n)}const Pe=u.createContext({startDate:new Date,endDate:new Date,direction:"left",setStart:()=>null,setEndInclusive:()=>null,activeRow:0,setActiveRow:()=>null,initiate:()=>null,addFocusable:()=>null}),Z=()=>{const e=u.useContext(Pe);return e||console.warn("useTimelineContext must be used with TimelineContext (<Timeline />)"),e},ot=({horizontalPosition:e})=>e<=98&&e>=0,oe=(e,o)=>_e(e,o)<=1,rt=({horizontalPosition:e,width:o})=>e>=0&&e<=100&&o>0,W=(e,o,n)=>{const t=le(n,o);return le(e,o)/t*100},Q=(e,o,n,t)=>{const l=W(e,n,t),r=W(o,n,t)-l;return{horizontalPosition:l,width:r}},at=(e,o,n,t,l="dd.MM")=>{const r=Math.ceil(n/10),v=H(o);return new Array(n).fill(v).map((s,c)=>{if(c%r!==0)return null;const a=we(s,c),{horizontalPosition:m,width:p}=Q(a,Oe(a,1),e,o);return{direction:t,horizontalPosition:m,label:T(a,l,{locale:J}),date:a,width:p}}).filter(s=>s!==null)},it=(e,o,n,t="MMM yy")=>{const l=ke(e),r=ye(o),v=et(r,l)+1;return new Array(v).fill(l).map((s,c)=>{const a=G(s,c),{horizontalPosition:m,width:p}=Q(a,G(a,1),e,o);return{direction:n,horizontalPosition:m,label:T(a,t,{locale:J}),date:a,width:p}})},st=(e,o,n,t="yyyy")=>{const l=Le(e),r=nt(o),v=tt(r,e)+1;return new Array(v).fill(l).map((s,c)=>{const a=B(s,c),{horizontalPosition:m,width:p}=Q(a,B(a,1),e,o);return{direction:n,horizontalPosition:m,label:T(a,t,{locale:J}),date:a,width:p}})},ct=(e,o,n,t)=>{const l=_e(o,e);return l<40?at(e,o,l,n,t==null?void 0:t.day):l<370?it(e,o,n,t==null?void 0:t.month):st(e,o,n,t==null?void 0:t.year)},dt=({templates:e})=>{const{endDate:o,startDate:n,direction:t}=Z(),l=ct(n,o,t,e).filter(ot);return f.createElement("div",{className:"navds-timeline__axislabels","aria-hidden":"true"},l.map(r=>f.createElement(ae,{className:"navds-timeline__axislabels-label",as:"div",key:r.label,style:{justifyContent:t==="left"?"flex-start":"flex-end",[t]:`${r.horizontalPosition}%`,width:`${r.width}%`}},r.label)))},je=u.createContext({periods:[],id:"",active:!1,index:0}),ee=()=>{const e=u.useContext(je);return e||console.warn("useRowContext must be used with RowContext"),e},ut=(e,o)=>e.horizontalPosition-o.horizontalPosition,ft=(e,o,n,t="left",l,r,v)=>{const s=e.start,c=e.end,a=l<r.length-1&&!Ze(r[l+1].start,c),{horizontalPosition:m,width:p}=Q(H(s),K(a?H(we(r[l+1].start,1)):c),o,n);return{id:`r-${v}-p-${l}`,start:s,endInclusive:c,horizontalPosition:m,direction:t,width:p,end:c,status:e.status,onSelectPeriod:e.onSelectPeriod,icon:e.icon,children:e.children,isActive:e.isActive,statusLabel:e.statusLabel}},vt=(e,o,n)=>{const t=o>0&&oe(e.start,n[o-1].endInclusive),l=o<n.length-1&&oe(n[o+1].start,e.endInclusive);return t&&l?Object.assign(Object.assign({},e),{cropped:"both"}):t?Object.assign(Object.assign({},e),{cropped:"left"}):l?Object.assign(Object.assign({},e),{cropped:"right"}):e},mt=e=>{let{horizontalPosition:o,width:n,cropped:t}=e;return o+n>100&&(n=100-o,t=t==="left"||t==="both"?"both":"right"),o<0&&o+n>0&&(n=o+n,o=0,t=t==="right"||t==="both"?"both":"left"),Object.assign(Object.assign({},e),{width:n,horizontalPosition:o,cropped:t})},pt=(e,o,n,t)=>u.useMemo(()=>e.map((l,r)=>{const v=r,s=l.periods.sort((c,a)=>c.start.valueOf()-a.start.valueOf()).map((c,a)=>Object.assign(Object.assign({},ft(c,o,n,t,a,l.periods,v)),{restProps:c==null?void 0:c.restProps,ref:c==null?void 0:c.ref})).sort(ut).map(vt).map(mt).filter(rt);return{id:`tl-row-${v}`,label:l.label,headingTag:l.headingTag||"h3",icon:l.icon,periods:t==="left"?s:s.reverse(),restProps:l==null?void 0:l.restProps,ref:l==null?void 0:l.ref}}),[e,o,n,t]),bt=(e,o)=>o.start<e?o.start:e,gt=e=>e.flat().reduce(bt,new Date),ht=({startDate:e,rows:o})=>u.useMemo(()=>e||gt(o),[e,o]),yt=(e,o)=>o.end>e?o.end:e,wt=e=>e.flat().reduce(yt,new Date(0)),re=({endDate:e,rows:o})=>u.useMemo(()=>e||Oe(wt(o),1),[e,o]),xe=u.createContext({periodId:"",firstFocus:!1}),Ee=()=>{const e=u.useContext(xe);return e||console.warn("usePeriodContext must be used with PeriodContext"),e},Me=(e,o,n)=>N(`navds-timeline__period navds-timeline__period--${n}`,{"navds-timeline__period--connected-both":e==="both","navds-timeline__period--connected-right":e==="right"&&o==="left"||e==="left"&&o==="right","navds-timeline__period--connected-left":e==="left"&&o==="left"||e==="right"&&o==="right"}),Ot=e=>{switch(e){case"success":return"Suksess";case"warning":return"Advarsel";case"danger":return"Fare";case"info":return"Info";case"neutral":return"Nøytral";default:return e}},Te=(e,o,n,t)=>{const l=T(e,"dd.MM.yyyy"),r=T(o,"dd.MM.yyyy");return`${t||Ot(n)} fra ${l} til ${r}`},_t=f.memo(({onSelectPeriod:e,start:o,end:n,status:t,cropped:l,direction:r,left:v,width:s,icon:c,children:a,isActive:m,statusLabel:p,restProps:b,periodRef:w})=>{const[d,h]=u.useState(!1),{index:j}=ee(),{firstFocus:g}=Ee(),{initiate:E,addFocusable:$}=Z(),R=u.useRef(null),{context:x,placement:D,middlewareData:{arrow:{x:S,y:z}={}},refs:F,floatingStyles:U}=ie({placement:"top",open:d,onOpenChange:h,middleware:[se(16),ce(),de({padding:5,fallbackPlacements:["bottom","top"]}),ue({element:R,padding:5})],whileElementsMounted:fe}),{getFloatingProps:i,getReferenceProps:y}=ve([me(x,{handleClose:pe(),restMs:25,delay:{open:1e3}}),be(x),ge(x)]),M=u.useMemo(()=>he([F.setReference,w]),[w,F.setReference]),A={top:"bottom",right:"left",bottom:"top",left:"right"}[D.split("-")[0]];return f.createElement(f.Fragment,null,f.createElement("button",Object.assign({},b,{type:"button",ref:O=>{g&&$(O,j),M(O)},"aria-label":Te(o,n,t,p),className:N("navds-timeline__period--clickable",Me(l,r,t),b==null?void 0:b.className,{"navds-timeline__period--selected":m}),"aria-expanded":a?d:void 0,"aria-current":m||void 0},y({onFocus:()=>{E(j)},onKeyDown:O=>{var _;(_=b==null?void 0:b.onKeydown)===null||_===void 0||_.call(b,O),O.key==="Enter"&&h(q=>!q),O.key===" "&&(e==null||e(O),h(!1))},style:{width:`${s}%`,[r]:`${v}%`},onClick:O=>{var _;(_=b==null?void 0:b.onClick)===null||_===void 0||_.call(b,O),O.detail!==0&&(e==null||e(O))}})),f.createElement("span",{className:"navds-timeline__period--inner"},c)),a&&f.createElement("div",Object.assign({className:"navds-timeline__popover","data-placement":D,"aria-hidden":!d,ref:F.setFloating},i({tabIndex:-1,onBlur:O=>O.target.previousSibling!==document.activeElement&&d&&h(!1)}),{style:Object.assign(Object.assign({},U),{display:d?void 0:"none"})}),f.createElement("div",{className:"navds-timeline__popover-content"},a),f.createElement("div",{ref:O=>{R.current=O},style:Object.assign(Object.assign(Object.assign({},S!=null?{left:S}:{}),z!=null?{top:z}:{}),A?{[A]:"-0.5rem"}:{}),className:"navds-timeline__popover-arrow"})))}),Pt=_t,jt=({start:e,end:o,status:n,cropped:t,direction:l,left:r,width:v,icon:s,statusLabel:c,restProps:a,periodRef:m})=>f.createElement("div",Object.assign({ref:m},a,{className:N(Me(t,l,n),a==null?void 0:a.className),style:{width:`${v}%`,[l]:`${r}%`}}),f.createElement("span",{className:"navds-timeline__period--inner"},s,f.createElement("span",{className:"sr-only"},Te(e,o,n,c)))),xt=jt,Ie=u.forwardRef(({icon:e},o)=>{const{periods:n}=ee(),{periodId:t,restProps:l}=Ee(),r=n.find(g=>g.id===t);if(!r)return f.createElement(f.Fragment,null);const{start:v,endInclusive:s,width:c,horizontalPosition:a,status:m="neutral",onSelectPeriod:p,cropped:b,direction:w,children:d,isActive:h,statusLabel:j}=r;return p||d?f.createElement(Pt,{periodRef:o,start:v,end:s,status:m,onSelectPeriod:p,cropped:b||"",direction:w,width:c,left:a,icon:e,children:d,isActive:h,statusLabel:j,restProps:l}):f.createElement(xt,{periodRef:o,start:v,end:s,status:m,cropped:b||"",direction:w,width:c,left:a,icon:e,statusLabel:j,restProps:l})});Ie.componentType="period";const Re=Ie;var Et=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Se=u.forwardRef((e,o)=>{var{date:n,children:t}=e,l=Et(e,["date","children"]);const{startDate:r,endDate:v,direction:s}=Z(),[c,a]=u.useState(!1),m=u.useRef(null),{context:p,placement:b,middlewareData:{arrow:{x:w,y:d}={}},refs:h,floatingStyles:j}=ie({placement:"top",open:c,onOpenChange:a,middleware:[se(16),ce(),de({padding:5,fallbackPlacements:["bottom","top"]}),ue({element:m,padding:5})],whileElementsMounted:fe}),{getFloatingProps:g,getReferenceProps:E}=ve([me(p,{handleClose:pe(),restMs:25,delay:{open:1e3}}),be(p),ge(p)]),$=u.useMemo(()=>he([h.setReference,o]),[o,h.setReference]),R={top:"bottom",right:"left",bottom:"top",left:"right"}[b.split("-")[0]];return f.createElement(f.Fragment,null,f.createElement("div",{className:"navds-timeline__pin-wrapper",style:{[s]:`${W(n,r,v)}%`}},f.createElement("button",Object.assign({},l,{ref:$,className:"navds-timeline__pin-button","aria-label":`pin:${T(n,"dd.MM.yyyy")}`,type:"button","aria-expanded":t?c:void 0},E({onKeyDown:x=>{var D;(D=l==null?void 0:l.onKeyDown)===null||D===void 0||D.call(l,x),x.key==="Enter"?a(S=>!S):x.key===" "&&a(!1)}})))),t&&f.createElement("div",Object.assign({className:"navds-timeline__popover","data-placement":b,"aria-hidden":!c,ref:h.setFloating},g({tabIndex:-1,onBlur:x=>x.target.previousSibling!==document.activeElement&&c&&a(!1)}),{style:Object.assign(Object.assign({},j),{display:c?void 0:"none"})}),f.createElement("div",{className:"navds-timeline__popover-content"},t),f.createElement("div",{ref:x=>{m.current=x},style:Object.assign(Object.assign(Object.assign({},w!=null?{left:w}:{}),d!=null?{top:d}:{}),R?{[R]:"-0.5rem"}:{}),className:"navds-timeline__popover-arrow"})))});Se.componentType="pin";const Mt=Se;var Tt=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Ce=u.forwardRef((e,o)=>{var{label:n,className:t,headingTag:l="h3",icon:r}=e,v=Tt(e,["label","className","headingTag","icon"]);const{periods:s,id:c,active:a}=ee(),{setActiveRow:m}=Z(),p=s.reduce((d,h)=>d.end>h.end?d:h,{}),b=s.reduce((d,h)=>d.end<h.end?d:h,{}),w=s.find(d=>!!d.children||!!d.onSelectPeriod);return f.createElement(f.Fragment,null,n&&f.createElement(Ae,{as:l,id:`timeline-row-${c}`,className:"navds-timeline__row-label",size:"small"},r,n),f.createElement("div",{className:N("navds-timeline__row",{"navds-timeline__row--active":a})},f.createElement("ol",Object.assign({},v,{tabIndex:-1,ref:o,"aria-label":s.length===0?"Ingen perioder":`${T(b.start,"dd.MM.yyyy")} til ${T(p.end,"dd.MM.yyyy")}`,className:N("navds-timeline__row-periods",t),onKeyDown:d=>{(d.key==="ArrowDown"||d.key==="ArrowUp")&&(d.preventDefault(),m(d.key))}}),s&&s.map(d=>f.createElement("li",{key:`period-${d.id}`},f.createElement(xe.Provider,{value:{periodId:d.id,firstFocus:(w==null?void 0:w.id)===d.id,restProps:d==null?void 0:d.restProps}},f.createElement(Re,{start:d.start,end:d.endInclusive,icon:d.icon,ref:d==null?void 0:d.ref})))))))});Ce.componentType="row";const De=Ce,It=e=>{let o=[];return e==null||e.forEach(n=>{var t,l,r,v,s,c,a,m,p,b,w,d;let h=[];if(f.isValidElement(n)&&(!((t=n==null?void 0:n.props)===null||t===void 0)&&t.children)){if(Array.isArray(n.props.children))for(let j=0;j<n.props.children.length;j++){const g=n.props.children[j];h.push({start:(l=g==null?void 0:g.props)===null||l===void 0?void 0:l.start,end:(r=g==null?void 0:g.props)===null||r===void 0?void 0:r.end,status:((v=g==null?void 0:g.props)===null||v===void 0?void 0:v.status)||"neutral",onSelectPeriod:(s=g.props)===null||s===void 0?void 0:s.onSelectPeriod,label:n.props.label,icon:g.props.icon,children:g.props.children,isActive:g.props.isActive,statusLabel:g.props.statusLabel,restProps:X(g.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:g==null?void 0:g.ref})}else h.push({start:n.props.children.props.start,end:n.props.children.props.end,status:((c=n.props.children.props)===null||c===void 0?void 0:c.status)||"neutral",onSelectPeriod:(a=n.props.children.props)===null||a===void 0?void 0:a.onSelectPeriod,label:n.props.label,icon:(m=n.props.children.props)===null||m===void 0?void 0:m.icon,children:(p=n.props.children.props)===null||p===void 0?void 0:p.children,statusLabel:(b=n.props.children.props)===null||b===void 0?void 0:b.statusLabel,restProps:X(n.props.children.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:(d=(w=n.props)===null||w===void 0?void 0:w.children)===null||d===void 0?void 0:d.ref});o.push({label:n.props.label,icon:n.props.icon,headingTag:n.props.headingTag,periods:h,restProps:X(n.props,["label","icon","headingTag"]),ref:n==null?void 0:n.ref})}}),o};var Rt=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const St=u.forwardRef((e,o)=>{var{label:n,interval:t,count:l}=e,r=Rt(e,["label","interval","count"]);const{setStart:v,endDate:s,startDate:c,direction:a}=Z();let m;t==="month"?m=a==="left"?Ye(s,l):G(c,l):m=a==="left"?lt(s,l):B(c,l);const p=a==="left"?V(c,m):V(s,m);return f.createElement(ae,{as:"li"},f.createElement("button",Object.assign({type:"button","aria-label":p?"Tilbakestill til initiell tidsperspektiv":`Zoom tidslinjen ${T(m,"dd.MM.yyyy")} til ${T(s,"dd.MM.yyyy")}`,ref:o},r,{className:"navds-timeline__zoom-button",onClick:()=>{v(m)},"aria-pressed":p}),n))}),Ct=St;var Dt=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const te=u.forwardRef((e,o)=>{var{className:n,children:t}=e,l=Dt(e,["className","children"]);return f.createElement("ul",Object.assign({ref:o,className:N(n,"navds-timeline__zoom")},l),t)});te.Button=Ct;te.componentType="zoom";const At=te;var $t=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Y=u.forwardRef((e,o)=>{var{children:n,startDate:t,endDate:l,direction:r="left",axisLabelTemplates:v}=e,s=$t(e,["children","startDate","endDate","direction","axisLabelTemplates"]);const c=Array.isArray(n),a=u.useRef([]);c||(n=[n]);const m=f.Children.toArray(n).filter(i=>{var y;return((y=i==null?void 0:i.type)===null||y===void 0?void 0:y.componentType)==="row"}),p=f.Children.toArray(n).filter(i=>{var y;return((y=i==null?void 0:i.type)===null||y===void 0?void 0:y.componentType)==="pin"}),b=f.Children.toArray(n).find(i=>{var y;return((y=i==null?void 0:i.type)===null||y===void 0?void 0:y.componentType)==="zoom"}),w=u.useMemo(()=>It(m),[m]),d=w.map(i=>i!=null&&i.periods?i.periods:[]),h=H(ht({startDate:t,rows:d})),[j,g]=u.useState(h),[E,$]=u.useState(null),[R,x]=u.useState(K(re({endDate:l,rows:d}))),D=K(re({endDate:l,rows:d})),S=pt(w,t??j,l??R,r),z=i=>{if(!(t||l))if(r==="left"){if(V(i,j)){g(h);return}g(i)}else{if(V(i,R)){x(D);return}x(i)}},F=i=>{var y,M,A,O;if(E!==null&&i==="ArrowDown"){for(let _=E+1;_<S.length;_++)if(S[_].periods.find(C=>!!C.children||!!C.onSelectPeriod)){$(_),(M=(y=a.current.find(C=>C.id===_))===null||y===void 0?void 0:y.ref)===null||M===void 0||M.focus();break}return}if(E!==null&&i==="ArrowUp"){for(let _=E-1;_>=0;_--)if(S[_].periods.find(C=>!!C.children||!!C.onSelectPeriod)){$(_),(O=(A=a.current.find(C=>C.id===_))===null||A===void 0?void 0:A.ref)===null||O===void 0||O.focus();break}return}},U=(i,y)=>{let M=a.current;M=M.filter(A=>A.id!==y),M.push({ref:i,id:y}),a.current=M};return f.createElement(Pe.Provider,{value:{startDate:t??j,endDate:l??R,direction:r,setStart:i=>z(i),setEndInclusive:i=>x(i),activeRow:E,setActiveRow:i=>F(i),initiate:i=>$(i),addFocusable:U}},f.createElement("div",Object.assign({},s,{ref:o}),f.createElement("div",{className:"navds-timeline"},f.createElement(dt,{templates:v}),p.map(i=>i),S.map((i,y)=>f.createElement(je.Provider,{key:`row-${i.id}`,value:{periods:i.periods,id:i.id,active:E===y,index:y}},f.createElement(De,Object.assign({},i==null?void 0:i.restProps,{ref:i==null?void 0:i.ref,label:i.label,icon:i.icon,headingTag:i.headingTag}))))),b&&b))});Y.Row=De;Y.Period=Re;Y.Pin=Mt;Y.Zoom=At;const Ht=Y;export{Ht as Q,zt as T,Zt as k,Yt as m,Lt as v,Bt as y};
//# sourceMappingURL=Timeline-38ef3a80.js.map
