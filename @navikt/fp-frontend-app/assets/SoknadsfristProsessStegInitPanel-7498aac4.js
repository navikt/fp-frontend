import{c as xr,u as An,a4 as Pk,a5 as Rk,I as Ok,K as Bk,O as Fk,M as $k,Q as Dk,S as Vk,T as Gk,U as Lk,Y as Mk,$ as Kk,a0 as wk,w as Uk,a1 as Za,a6 as Ck,a as ge,t as Me,P as Ze,v as ce,b as Q,C as I,X as Ys,a7 as Ke,_ as D,N as Ne,j as Pe,x as ie,z as Ge,f as U,L as T,e as te,a8 as Le,g as me,l as Bt,D as pd,W as ii,B as Hn,a9 as zk,aa as cd,ab as Xa,ac as Yk,ad as Lr,q as Hk}from"./index.es-52b76dd9.js";import{bF as le,bG as Jk,n as pr,a2 as ae,ao as Nr,a5 as Ce,a6 as Jn,aU as qk,bH as Wk,J as Tn,bI as si,s as xi,B as He,F as Je,T as xe,r as X,j as qn,b as Bn,R as vd,P as Xe,Z as mn,b8 as ai,o as ut,a8 as hd,w as Te,bJ as Ar,k as fn,I as pn,l as bd,m as jd,y as Hs,a4 as Ft,aq as xd,bK as br,d as an,u as Se,bL as Zk,bM as cn,e as Js,bN as Xk,av as Ai,bO as Qk,bP as Qa,aK as Ii,bQ as em,O as Ti,bR as nm,ap as Wn,aG as Ei,aH as _i,bS as he,bi as rm,v as Ad,aJ as qs,a as Id,bT as it,bU as tm,ae as Ws,aw as Ae,bV as im,bW as sm,b9 as am,aI as lm,a0 as om,be as dm,bX as Pn,as as gm,al as Td,_ as um}from"./AppIndex.stories-6593ba15.js";import{r as b,R as W}from"./index-6d8bab86.js";import{n as km,h as yi,w as m,c as Qe,d as we,W as C,q as ze,H as Re,G as A,Z as Ed,b as Zn,J as mm,e as Zs,z as nr,l as Xs,F as kt,V as fm,g as el,k as Qs,p as ea,B as Si,o as pe,s as O,D as j,a as _d,r as yd,Q as Ni,u as Xn,I as Sd,S as pm,i as na,v as cm,j as vm}from"./index.es-51b84963.js";import{F as Pr}from"./VergeFaktaInitPanel-ad57cee1.js";import{V as ra,e as ta,s as Nd,O as hm}from"./index.es-070c09cb.js";import{H as ke}from"./HStack-d71d1e02.js";import{v as or,E as vn,A as F,s as $n,I as ye,R as hs,q as un,N as bm,B as Z,H as ia,M as Ir,Q as sa,_ as nl,k as Pd,a as Rd,n as Od,p as jm,y as Bd,i as xm,e as Am,z as Fd,C as fe,J as In,x as rl,w as Im,g as yn,c as tl,X as Tm}from"./index.es-bf42e136.js";import{x as Em,e as Ve,_ as _m,b as ym,k as Sm,g as Nm}from"./Timeline-35d259ed.js";import{w as lt,s as Pm}from"./index.es-845d8e2f.js";import{F as Rm,K as aa,H as Rr,l as $d}from"./index.es-8b77238b.js";import{P as la}from"./ProsessDefaultInitPanel-136e4a1c.js";const oa=b.createContext({variant:"default",headingSize:"small",size:"medium",openItems:[]});var Om=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const da=b.createContext(null),Bm=b.forwardRef((e,n)=>{var{children:r,className:t,open:i,defaultOpen:s=!1,onClick:l,id:o}=e,d=Om(e,["children","className","open","defaultOpen","onClick","id"]);const[u,g]=b.useState(s),p=b.useContext(oa),[v,h]=b.useState(s),x=b.useRef(!(i||s)),_=()=>{if(i===void 0){const N=!v;h(N),g(N)}else g(!i);x.current=!0};return W.createElement("div",Object.assign({className:xr("navds-accordion__item",t,{"navds-accordion__item--open":i??u,"navds-accordion__item--neutral":(p==null?void 0:p.variant)==="neutral","navds-accordion__item--no-animation":!x.current}),ref:n},d),W.createElement(da.Provider,{value:{open:i??u,toggleOpen:_}},r))}),Fm=Bm;var $m=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Dm=b.forwardRef((e,n)=>{var{children:r,className:t}=e,i=$m(e,["children","className"]);const s=b.useContext(da);return s===null?(console.error("<Accordion.Content> has to be used within an <Accordion.Item>"),null):W.createElement(km,Object.assign({},i,{as:"div",ref:n,className:xr("navds-accordion__content",{"navds-accordion__content--closed":!s.open},t)}),r)}),Vm=Dm;var Gm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Lm=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Gm(e,["title","titleId"]);let s=An();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.545 2.404a.75.75 0 0 1 .505-.152.757.757 0 0 1 .05-.002H19a.75.75 0 0 1 .75.75v18a.75.75 0 0 1-1.5 0V3.75H10.6l5.597 1.526A.75.75 0 0 1 16.75 6v15a.75.75 0 0 1-1.5 0V6.573l-9.5-2.591V21a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .295-.596ZM12.75 11.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z",fill:"currentColor"}))}),Mm=Lm;var Km=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const wm=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Km(e,["title","titleId"]);let s=An();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.311 4.619a8.253 8.253 0 0 0 2.051 15.469v-.326c0-1.26-.985-2.25-2.414-2.25-.808 0-1.546-.197-2.079-.718-.535-.524-.733-1.249-.733-2.024 0-1.203.638-2.164 1.492-2.799.845-.629 1.942-.974 3.008-.974.736 0 1.381.187 1.899.342l.04.012c.534.16.888.267 1.225.267.003 0 .008 0 .02-.005a.268.268 0 0 0 .065-.038.976.976 0 0 0 .23-.281c.17-.29.27-.669.27-.965 0-.013-.014-.124-.191-.332a3.45 3.45 0 0 0-.713-.599 5.375 5.375 0 0 0-.876-.467 3.096 3.096 0 0 0-.307-.11c-.02.044-.044.1-.07.169-.031.08-.06.163-.093.257v.001h-.001c-.032.09-.067.192-.105.288-.061.16-.176.444-.383.65a.868.868 0 0 1-.828.242.964.964 0 0 1-.52-.351 2.938 2.938 0 0 1-.288-.497l-.023-.046a3.321 3.321 0 0 0-.144-.269.428.428 0 0 0-.13.05.903.903 0 0 0-.222.208 4.357 4.357 0 0 0-.054.066 4.055 4.055 0 0 1-.319.365 1.268 1.268 0 0 1-.888.376c-.34 0-.735-.074-1.076-.32-.36-.26-.577-.652-.644-1.116-.079-.548.155-1.12.403-1.559A6.565 6.565 0 0 1 6.97 5.97c.172-.172.355-.33.513-.467l.101-.087c.189-.165.349-.311.493-.48a2.58 2.58 0 0 0 .234-.317Zm1.86-.665c-.21.882-.548 1.484-.956 1.96a6.14 6.14 0 0 1-.646.633l-.122.105c-.155.135-.287.249-.417.378-.331.332-.62.705-.811 1.043a2.175 2.175 0 0 0-.193.43.786.786 0 0 0-.03.134.221.221 0 0 0-.001.043.3.3 0 0 0 .029.104c.004.007.006.008.007.009.005.003.032.02.095.03.02-.022.039-.046.065-.079l.152-.187c.135-.16.33-.37.61-.535.29-.17.636-.272 1.047-.272.453 0 .758.264.927.461.064-.14.144-.29.245-.424.17-.225.48-.505.952-.505.331 0 .722.125 1.053.262.36.149.757.356 1.13.601.368.243.74.54 1.027.878.277.325.552.774.552 1.306 0 .57-.175 1.21-.477 1.724-.286.486-.817 1.065-1.61 1.065-.566 0-1.123-.169-1.581-.308l-.115-.034c-.517-.156-.973-.28-1.467-.28-.762 0-1.54.253-2.113.679-.565.42-.887.97-.887 1.595 0 .537.135.808.283.952.15.147.443.29 1.03.29 2.18 0 3.913 1.588 3.913 3.75v.487l.138.001a8.22 8.22 0 0 0 3.416-.738.426.426 0 0 0 .058-.149c.015-.084.02-.236-.009-.63v-.006l-.01-.113c-.01-.135-.027-.327-.027-.5 0-.754.396-1.3.892-1.856.108-.124.184-.216.237-.287-.075-.048-.162-.1-.262-.161l-.003-.003a16.024 16.024 0 0 1-.45-.28c-.308-.203-.667-.464-.954-.79-.29-.332-.55-.782-.55-1.345 0-.624.28-1.216.66-1.645.376-.424.946-.793 1.613-.793.845 0 1.397.465 1.691.713.037.031.07.06.1.082l.007.006.169.138c.207.168.365.297.49.394.209-.139.56-.337 1.024-.337h.158a8.25 8.25 0 0 0-10.08-7.996Zm9.952 9.496a8.249 8.249 0 0 1-3.164 5.144l-.015-.181c-.009-.108-.016-.192-.016-.299 0-.158.047-.338.513-.86l.003-.003c.44-.5.726-.897.726-1.469 0-.372-.23-.618-.322-.71a2.508 2.508 0 0 0-.377-.296c-.119-.079-.253-.16-.38-.238l-.018-.011a14.821 14.821 0 0 1-.408-.255c-.274-.18-.498-.353-.649-.525-.147-.168-.178-.28-.178-.355 0-.185.094-.437.283-.65.192-.217.384-.288.49-.288.274 0 .403.104.711.353l.144.115.157.128c.261.213.473.385.634.507.097.072.198.145.298.202.071.041.262.148.506.148a.95.95 0 0 0 .38-.082c.083-.036.154-.08.202-.11l.132-.092.006-.005.098-.069c.131-.089.184-.099.213-.099h.03ZM2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm6.53-2.821a.03.03 0 0 0-.004-.005l.001.002.004.003Z",fill:"currentColor"}))}),Um=wm;var Cm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const zm=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Cm(e,["title","titleId"]);let s=An();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 3.25a.25.25 0 0 1 .25.25v4c0 .69.56 1.25 1.25 1.25h4a.25.25 0 0 1 .25.25v10.5c0 .69-.56 1.25-1.25 1.25h-11c-.69 0-1.25-.56-1.25-1.25v-15c0-.69.56-1.25 1.25-1.25H13Zm2.177.866a.25.25 0 0 0-.427.177V7c0 .138.112.25.25.25h2.707a.25.25 0 0 0 .177-.427l-2.707-2.707Z",fill:"currentColor"}))}),Dd=zm;var Ym=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Hm=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Ym(e,["title","titleId"]);let s=An();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.525 2.167c-.754-.12-1.61.093-2.525.826-.914-.732-1.768-.947-2.522-.829-.835.132-1.354.65-1.503.8l-.005.006-.006.006c-.15.149-.669.667-.8 1.502-.141.898.19 1.937 1.306 3.052l3 3a.75.75 0 0 0 1.06 0l3-3c1.116-1.116 1.445-2.158 1.303-3.055-.133-.836-.651-1.354-.797-1.5l-.006-.005-.005-.006c-.146-.146-.664-.664-1.5-.797ZM9.03 4.03c.113-.112.341-.33.682-.384.289-.046.873 0 1.758.884a.75.75 0 0 0 1.06 0c.884-.884 1.47-.928 1.76-.881.343.054.572.273.68.381.107.108.327.337.381.68.046.29.003.876-.881 1.76L12 8.94 9.53 6.47C8.645 5.584 8.6 5 8.646 4.712c.053-.34.272-.57.384-.682ZM21.75 15.22c0-1.797-1.918-2.943-3.5-2.092l-2.633 1.416a2.477 2.477 0 0 0-.668-1.513c-.466-.49-1.138-.78-1.949-.78h-3c-.095 0-.259-.045-.535-.178-.105-.05-.208-.104-.321-.164l-.084-.044a6.302 6.302 0 0 0-.456-.22c-.563-.238-1.386-.394-2.604-.394-1.754 0-2.753.755-3.268 1.614a3.467 3.467 0 0 0-.482 1.614V14.5L3 14.5h-.75V19c0 .323.207.61.513.712l3 1A.75.75 0 0 0 6 20.75h9.298a2.75 2.75 0 0 0 1.718-.603l3.843-3.073c.563-.451.891-1.134.891-1.855ZM13 17.25c.518 0 .98-.118 1.366-.331l4.595-2.47a.875.875 0 0 1 .96 1.453l-3.842 3.074a1.25 1.25 0 0 1-.78.274H6.121l-2.372-.79v-3.958l.003-.045a1.968 1.968 0 0 1 .265-.82c.235-.392.736-.887 1.982-.887 1.11 0 1.711.145 2.02.276.097.04.207.096.346.168l.073.038c.114.06.245.129.375.192.303.146.729.326 1.186.326h3c.439 0 .705.148.863.314a.992.992 0 0 1 .262.686c0 .263-.094.51-.262.686-.158.166-.424.314-.863.314h-3a.75.75 0 0 0 0 1.5h3Z",fill:"currentColor"}))}),Mr=Hm;var Jm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const qm=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Jm(e,["title","titleId"]);let s=An();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.998 6.75a1.248 1.248 0 1 0 0 2.495 1.248 1.248 0 0 0 0-2.495ZM5.25 7.998a2.748 2.748 0 1 1 5.495 0 2.748 2.748 0 0 1-5.495 0Zm.22 10.532a.75.75 0 0 1 0-1.06l12-12a.75.75 0 1 1 1.06 1.06l-12 12a.75.75 0 0 1-1.06 0Zm9.28-2.532a1.248 1.248 0 1 1 2.495 0 1.248 1.248 0 0 1-2.495 0Zm1.248-2.748a2.748 2.748 0 1 0 0 5.495 2.748 2.748 0 0 0 0-5.495Z",fill:"currentColor"}))}),Wm=qm;var Zm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Xm=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Zm(e,["title","titleId"]);let s=An();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.75a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5ZM8.75 5.5a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0Zm-1 7.5c0-1.987 1.912-3.75 4.25-3.75s4.25 1.763 4.25 3.75v8a.75.75 0 0 1-1.5 0v-8c0-1.013-1.088-2.25-2.75-2.25S9.25 11.987 9.25 13v1.75H8.5c-.793 0-1.32.287-1.664.719-.364.454-.586 1.145-.586 2.031 0 .886.222 1.577.586 2.032.345.431.871.718 1.664.718a.75.75 0 0 1 0 1.5c-1.207 0-2.18-.463-2.836-1.282-.636-.795-.914-1.854-.914-2.968 0-1.114.278-2.173.914-2.969.513-.64 1.222-1.064 2.086-1.217V13Zm2.634 3.116a1.25 1.25 0 0 0-1.768 1.768l1 1 .884.884.884-.884 1-1a1.25 1.25 0 0 0-1.768-1.768l-.116.116-.116-.116Z",fill:"currentColor"}))}),Qm=Xm;var ef=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const nf=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=ef(e,["title","titleId"]);let s=An();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.116 2.823a1.25 1.25 0 0 1 1.768 0l3.793 3.793a1.25 1.25 0 0 1 0 1.768L10.06 10 14 13.94l1.616-1.617a1.25 1.25 0 0 1 1.768 0l3.793 3.793a1.25 1.25 0 0 1 0 1.768l-2.781 2.78a2.606 2.606 0 0 1-2.811.578A23.025 23.025 0 0 1 2.758 8.415a2.606 2.606 0 0 1 .577-2.81l2.781-2.782Z",fill:"currentColor"}))}),Vd=nf;var rf=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const tf=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=rf(e,["title","titleId"]);let s=An();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 3.75c-.14 0-.25.112-.25.249V9c0 1.15.23 1.956.546 2.526.315.567.738.94 1.193 1.193.94.522 2.01.531 2.511.531.5 0 1.572-.009 2.51-.53a3.008 3.008 0 0 0 1.194-1.194c.317-.57.546-1.376.546-2.526V3.999A.249.249 0 0 0 14 3.75h-2a.75.75 0 0 1 0-1.5h2c.965 0 1.75.781 1.75 1.749V9c0 1.35-.27 2.419-.735 3.255a4.506 4.506 0 0 1-1.776 1.776c-.883.49-1.819.646-2.489.696V19.5a.75.75 0 0 0 1.5 0V19c0-1.288.886-2.37 2.082-2.668a2.751 2.751 0 1 1 .07 1.57A1.25 1.25 0 0 0 13.75 19v.5a2.25 2.25 0 0 1-4.5 0v-4.773c-.67-.05-1.606-.206-2.49-.696a4.507 4.507 0 0 1-1.775-1.776C4.521 11.419 4.25 10.35 4.25 9V3.999c0-.968.785-1.749 1.75-1.749h2a.75.75 0 0 1 0 1.5H6ZM15.75 17a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0Z",fill:"currentColor"}))}),sf=tf;var af=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const lf=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=af(e,["title","titleId"]);let s=An();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 4.75c-.69 0-1.25.56-1.25 1.25v.25h6.5V6c0-.69-.56-1.25-1.25-1.25h-4Zm6.75 1.5V6A2.75 2.75 0 0 0 14 3.25h-4A2.75 2.75 0 0 0 7.25 6v.25H4.5a.75.75 0 0 0 0 1.5h.805l.876 11.384a1.75 1.75 0 0 0 1.745 1.616h8.148a1.75 1.75 0 0 0 1.745-1.616l.875-11.384h.806a.75.75 0 0 0 0-1.5h-2.75Zm-6 4.25a.75.75 0 0 0-1.5 0v6a.75.75 0 0 0 1.5 0v-6ZM14 9.75a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 .75-.75Z",fill:"currentColor"}))}),of=lf;var df=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const gf=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=df(e,["title","titleId"]);let s=An();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.67 2.665a.75.75 0 0 0-.867-.389L4.9 5.25H4A1.75 1.75 0 0 0 2.25 7v11c0 .966.784 1.75 1.75 1.75h15A1.75 1.75 0 0 0 20.75 18v-2.418c.591-.281 1-.884 1-1.582v-3c0-.698-.409-1.3-1-1.582V7A1.75 1.75 0 0 0 19 5.25h-1.037l-1.292-2.585Zm-.384 2.585-.682-1.365L10.6 5.25h5.687ZM3.75 7A.25.25 0 0 1 4 6.75h15a.25.25 0 0 1 .25.25v2.25h-3.897V10v-.75h-.02a1.944 1.944 0 0 0-.138.007 3.52 3.52 0 0 0-1.37.393 2.856 2.856 0 0 0-1.093 1.006c-.305.486-.482 1.097-.482 1.844 0 .747.177 1.358.482 1.844.304.483.706.8 1.093 1.006a3.518 3.518 0 0 0 1.508.4H15.352v-.749.749h3.898V18a.25.25 0 0 1-.25.25H4a.25.25 0 0 1-.25-.25V7Zm11.603 3.75H20a.25.25 0 0 1 .25.25v3a.25.25 0 0 1-.25.25h-4.647a1.985 1.985 0 0 1-.237-.027 2.023 2.023 0 0 1-.588-.198 1.356 1.356 0 0 1-.525-.478c-.136-.218-.253-.544-.253-1.047 0-.503.117-.83.253-1.047.138-.22.323-.371.525-.478a2.023 2.023 0 0 1 .825-.225Zm-.603 1.75a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 0 1.5h-.01a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))}),Kr=gf;var uf=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const kf=b.forwardRef((e,n)=>{var r,{children:t,className:i,onClick:s}=e,l=uf(e,["children","className","onClick"]);const o=b.useContext(da),d=b.useContext(oa);return d===null||o===null?(console.error("<Accordion.Header> has to be used within an <Accordion.Item>, which in turn must be within an <Accordion>"),null):W.createElement("button",Object.assign({ref:n},l,{className:xr("navds-accordion__header",i),onClick:u=>{o.toggleOpen(),s&&s(u)},"aria-expanded":o.open,type:"button"}),W.createElement("div",{className:"navds-accordion__icon-wrapper"},W.createElement(yi,{className:"navds-accordion__header-chevron",title:"Vis mer","aria-hidden":!0})),W.createElement(Pk,{size:(r=d.headingSize)!==null&&r!==void 0?r:"small",as:"span",className:"navds-accordion__header-content"},t))}),mf=kf;var ff=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Pi=b.forwardRef((e,n)=>{var{className:r,variant:t="default",headingSize:i="small",size:s="medium",indent:l=!0}=e,o=ff(e,["className","variant","headingSize","size","indent"]);return W.createElement(oa.Provider,{value:{variant:t,headingSize:i,size:s}},W.createElement("div",Object.assign({},o,{className:xr("navds-accordion",r,`navds-accordion--${s}`,{"navds-accordion--indent":l}),ref:n})))});Pi.Header=mf;Pi.Content=Vm;Pi.Item=Fm;const De=Pi;var pf=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const cf=b.forwardRef((e,n)=>{var r,{children:t,className:i,arrow:s=!0,placement:l="top",open:o,defaultOpen:d=!1,offset:u,content:g,delay:p=150,id:v,keys:h,maxChar:x=80}=e,_=pf(e,["children","className","arrow","placement","open","defaultOpen","offset","content","delay","id","keys","maxChar"]);const[N,y]=b.useState(d),B=b.useRef(null),S=(r=Rk())===null||r===void 0?void 0:r.rootElement,{x:$,y:V,strategy:G,context:K,placement:ee,middlewareData:{arrow:{x:ne,y:z}={},hide:{referenceHidden:q}={}},refs:w}=Ok({placement:l,open:o??N,onOpenChange:y,middleware:[Bk(u||(s?10:2)),Fk(),$k({padding:5,fallbackPlacements:["bottom","top"]}),Dk({element:B,padding:5})],whileElementsMounted:Vk}),{getReferenceProps:Y,getFloatingProps:H}=Gk([Lk(K,{handleClose:Mk(),restMs:p}),Kk(K),wk(K)]),se=Uk(v),Ee=b.useMemo(()=>Za([n,w.setFloating]),[w.setFloating,n]),$e=b.useMemo(()=>Za([t.ref,w.setReference]),[t,w.setReference]);return!t||(t==null?void 0:t.type)===W.Fragment||t===W.Fragment?(console.error("<Tooltip> children needs to be a single ReactElement and not: <React.Fragment/> | <></>"),null):((g==null?void 0:g.length)>x&&(o??N)&&console.warn(`Because of strict accessibility concers we encourage all Tooltips to have less than 80 characters. Can be overwritten with the maxChar-prop

Length:${g.length}
Tooltip-content: ${g}`),W.createElement(W.Fragment,null,b.cloneElement(t,Y(Object.assign(Object.assign({},t.props),{ref:$e,"aria-describedby":o??N?xr(se,t==null?void 0:t.props["aria-describedby"]):t==null?void 0:t.props["aria-describedby"]}))),W.createElement(Ck,{root:S},(o??N)&&W.createElement("div",Object.assign({},H(Object.assign(Object.assign({},_),{ref:Ee,style:{position:G,top:V??0,left:$??0,visibility:q?"hidden":"visible"},role:"tooltip",id:se,className:xr("navds-tooltip","navds-detail navds-detail--small",i)})),{"data-side":ee}),g,h&&W.createElement("span",{className:"navds-tooltip__keys"},h.map(Be=>W.createElement(ge,{size:"small",as:"kbd",key:Be,className:"navds-tooltip__key"},Be))),s&&W.createElement("div",{ref:Be=>{B.current=Be},className:"navds-tooltip__arrow",style:{left:ne!=null?`${ne}px`:"",top:z!=null?`${z}px`:"",right:"",bottom:"",[{top:"bottom",right:"left",bottom:"top",left:"right"}[ee]]:"-3.5px"}})))))}),vf=cf,jr=()=>W.createElement("div",{className:"navds-stack__spacer"});var Gd={exports:{}},wr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il;function hf(){if(il)return wr;il=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(o,d,u){var g,p={},v=null,h=null;u!==void 0&&(v=""+u),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(h=d.ref);for(g in d)t.call(d,g)&&!s.hasOwnProperty(g)&&(p[g]=d[g]);if(o&&o.defaultProps)for(g in d=o.defaultProps,d)p[g]===void 0&&(p[g]=d[g]);return{$$typeof:n,type:o,key:v,ref:h,props:p,_owner:i.current}}return wr.Fragment=r,wr.jsx=l,wr.jsxs=l,wr}Gd.exports=hf();var M=Gd.exports;const bf=({headerColumnContent:e})=>M.jsx(Qe,{headerColumnContent:e,noHover:!0,children:M.jsxs(we,{children:[M.jsx(C,{children:M.jsx(I,{size:"small",children:M.jsx(m,{id:"PersonArbeidsforholdTable.IngenArbeidsforholdRegistrert"})})}),M.jsx(C,{}),M.jsx(C,{}),M.jsx(C,{}),M.jsx(C,{}),M.jsx(C,{})]})}),jf="_image_awjuc_1",xf={image:jf},sl=[M.jsx(m,{id:"PersonArbeidsforholdTable.Arbeidsforhold",values:{br:M.jsx("br",{})}},1),M.jsx(m,{id:"PersonArbeidsforholdTable.Periode",values:{br:M.jsx("br",{})}},2),M.jsx(m,{id:"PersonArbeidsforholdTable.Kilde",values:{br:M.jsx("br",{})}},3),M.jsx(m,{id:"PersonArbeidsforholdTable.Stillingsprosent",values:{br:M.jsx("br",{})}},4),M.jsx(m,{id:"PersonArbeidsforholdTable.MottattDato",values:{br:M.jsx("br",{})}},5),M.jsx("div",{},6)],Af=(e,n)=>e.saksbehandlersVurdering===le.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?n.formatMessage({id:"PersonArbeidsforholdTable.Inntektsmelding"}):e.saksbehandlersVurdering===le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER?n.formatMessage({id:"PersonArbeidsforholdTable.Saksbehandler"}):n.formatMessage({id:"PersonArbeidsforholdTable.AaRegisteret"}),li=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent&&(!n.internArbeidsforholdId||n.internArbeidsforholdId===e.internArbeidsforholdId),If=e=>e?`...${e.substring(e.length-4,e.length)}`:"",Tf=(e,n,r)=>{const t=r[e.arbeidsgiverIdent],i=t==null?void 0:t.navn;return e.saksbehandlersVurdering===le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER?i:n.filter(s=>s.arbeidsgiverIdent===e.arbeidsgiverIdent).length>1?`${i}(${t.identifikator})${If(e.eksternArbeidsforholdId)}`:`${i}(${t.identifikator})`},Ef=(e,n)=>{const r=n[e.arbeidsgiverIdent];return`${e.eksternArbeidsforholdId}${e.arbeidsgiverIdent}${r.identifikator}`},_f=({alleArbeidsforhold:e,selectedId:n,selectArbeidsforholdCallback:r,arbeidsgiverOpplysningerPerId:t,inntektsmeldinger:i})=>{const s=Q();return e.length===0?M.jsx(bf,{headerColumnContent:sl}):M.jsx(Qe,{headerColumnContent:sl,children:e&&e.map(l=>{var o;const d=l.stillingsprosent!==void 0&&l.stillingsprosent!==null?`${l.stillingsprosent.toFixed(2)} %`:"",u=Tf(l,e,t),g=(o=i.find(p=>li(l,p)))==null?void 0:o.motattDato;return M.jsxs(we,{model:l,onMouseDown:r,onKeyDown:r,isSelected:l.arbeidsgiverIdent===n,children:[M.jsx(C,{children:M.jsx(I,{size:"small",children:Ys(u)})}),M.jsx(C,{children:M.jsx(I,{size:"small",children:M.jsx(ze,{dateStringFom:l.fom,dateStringTom:l.tom!==Ke?l.tom:void 0})})}),M.jsx(C,{children:M.jsx(I,{size:"small",children:Af(l,s)})}),M.jsx(C,{children:M.jsx(I,{size:"small",children:d})}),M.jsx(C,{children:g&&M.jsx(I,{size:"small",children:M.jsx(Re,{dateString:g})})}),M.jsx(C,{children:(l.saksbehandlersVurdering===le.BRUK||l.saksbehandlersVurdering===le.FORTSETT_UTEN_INNTEKTSMELDING)&&M.jsx(Jk,{className:xf.image,title:s.formatMessage({id:"PersonArbeidsforholdTable.ErIBruk"})})})]},Ef(l,t))})})},yf=({arbeidsforhold:e})=>e.permisjonOgMangel?M.jsxs(M.Fragment,{children:[M.jsx(A,{sixteenPx:!0}),M.jsx(D,{size:"small",children:M.jsx(m,{id:"PermisjonPeriode.Permisjon"})}),M.jsx(I,{size:"small",children:M.jsx(ze,{dateStringFom:e.permisjonOgMangel.permisjonFom,dateStringTom:e.permisjonOgMangel.permisjonTom?e.permisjonOgMangel.permisjonTom:""})}),M.jsx(A,{sixteenPx:!0})]}):null;var bs=(e=>(e.BRUK_PERMISJON="BRUK_PERMISJON",e.IKKE_BRUK_PERMISJON="IKKE_BRUK_PERMISJON",e))(bs||{});const Sf=e=>e.saksbehandlersVurdering===le.BRUK_MED_OVERSTYRT_PERIODE||e.saksbehandlersVurdering===le.BRUK_MED_OVERSTYRT_PERIODE?e.tom:void 0,Nf=e=>e.permisjonOgMangel?"ArbeidsforholdDetail.ArbeidsforholdErAktivtOgHarPermisjonMenSoekerErIkkePermisjon":e.saksbehandlersVurdering===le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER?"ArbeidsforholdDetail.OppdaterArbeidsforhold":"ArbeidsforholdDetail.ArbeidsforholdErAktivt",Pf=({valgtArbeidsforhold:e})=>{var n,r;const t=e.saksbehandlersVurdering===le.BRUK,i=e.saksbehandlersVurdering===le.FORTSETT_UTEN_INNTEKTSMELDING,s=e.saksbehandlersVurdering===le.BRUK_MED_OVERSTYRT_PERIODE,l=e.saksbehandlersVurdering===le.IKKE_OPPRETT_BASERT_PÅ_INNTEKTSMELDING,o=e.saksbehandlersVurdering===le.OPPRETT_BASERT_PÅ_INNTEKTSMELDING,d=e.saksbehandlersVurdering===le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER,u=((n=e.permisjonOgMangel)==null?void 0:n.permisjonStatus)===bs.BRUK_PERMISJON,g=((r=e.permisjonOgMangel)==null?void 0:r.permisjonStatus)===bs.IKKE_BRUK_PERMISJON,p=Sf(e);return M.jsxs(M.Fragment,{children:[M.jsx(A,{thirtyTwoPx:!0}),M.jsxs(Ed,{children:[M.jsx(ce,{size:"small",children:M.jsx(m,{id:"ArbeidsforholdDetail.Header"})}),M.jsx(yf,{arbeidsforhold:e}),s&&M.jsxs(M.Fragment,{children:[M.jsx(I,{size:"small",children:M.jsx(m,{id:"ArbeidsforholdDetail.ArbeidsforholdetErIkkeAktivt"})}),M.jsx(I,{size:"small",children:M.jsx(m,{id:"ArbeidsforholdDetail.ArbeidsforholdetAktivTomDato"})}),M.jsxs(I,{size:"small",children:[p&&M.jsx(Re,{dateString:p}),!p&&"-"]})]}),t&&u&&M.jsx(I,{size:"small",children:M.jsx(m,{id:"ArbeidsforholdDetail.SokerErIPermisjon"})}),o&&M.jsx(I,{size:"small",children:M.jsx(m,{id:"ArbeidsforholdDetail.OppdatertGittIm"})}),(d||(t||i)&&(!e.permisjonOgMangel||g))&&M.jsxs(M.Fragment,{children:[M.jsx(I,{size:"small",children:M.jsx(m,{id:Nf(e)})}),M.jsx(A,{sixteenPx:!0}),i&&M.jsx(I,{size:"small",children:M.jsx(m,{id:"ArbeidsforholdDetail.BenyttAInntektIBeregningsgrunnlag"})}),!i&&!d&&M.jsx(I,{size:"small",children:M.jsx(m,{id:"ArbeidsforholdDetail.AvslaYtelseManglendeOpplysninger"})})]}),l&&M.jsx(I,{size:"small",children:M.jsx(m,{id:l?"ArbeidsforholdDetail.FjernArbeidsforholdet":"ArbeidsforholdDetail.IMIkkeRelevant"})}),M.jsx(A,{sixteenPx:!0}),M.jsx(D,{size:"small",children:M.jsx(m,{id:"ArbeidsforholdDetail.Begrunnelse"})}),M.jsx(I,{size:"small",children:e.begrunnelse})]})]})},al=(e,n)=>n.some(r=>li(e,r)),Rf=(e,n)=>(r,t)=>{var i,s;const l=e[r.arbeidsgiverIdent],o=e[t.arbeidsgiverIdent];if(l&&o){const g=l.navn.localeCompare(o.navn);if(g!==0)return g}const d=al(r,n),u=al(t,n);if(d&&u){const g=(i=n.find(v=>li(r,v)))==null?void 0:i.motattDato,p=(s=n.find(v=>li(t,v)))==null?void 0:s.motattDato;return pr(p,Ne).diff(pr(g,Ne))}return d?-1:u?1:r.arbeidsgiverIdent.localeCompare(t.arbeidsgiverIdent)},Of=({arbeidOgInntekt:e,arbeidsgiverOpplysningerPerId:n})=>{const[r,t]=b.useState(),i=b.useCallback((d,u,g)=>{const p=!!(g!=null&&g.saksbehandlersVurdering);t(p?g:void 0)},[t]),{arbeidsforhold:s,inntektsmeldinger:l}=e,o=b.useMemo(()=>s.slice().sort(Rf(n,l)),[n]);return M.jsxs(M.Fragment,{children:[M.jsx(ce,{size:"small",children:M.jsx(m,{id:"ArbeidsforholdInfoPanel.ArbeidsforholdHeader"})}),M.jsx(_f,{selectedId:r==null?void 0:r.arbeidsgiverIdent,alleArbeidsforhold:o,selectArbeidsforholdCallback:i,arbeidsgiverOpplysningerPerId:n,inntektsmeldinger:l}),r&&M.jsx(Pf,{valgtArbeidsforhold:r})]})},Bf={"ArbeidsforholdInfoPanel.ArbeidsforholdHeader":"Arbeidsforhold som er aktive ved permisjonsstart","PersonArbeidsforholdTable.Arbeidsforhold":"{br}Arbeidsforhold","PersonArbeidsforholdTable.Periode":"{br}Periode","PersonArbeidsforholdTable.Kilde":"{br}Kilde","PersonArbeidsforholdTable.Stillingsprosent":"{br}Stillingsprosent","PersonArbeidsforholdTable.MottattDato":"Inntektsmeld.{br}mottatt dato","PersonArbeidsforholdTable.ErIBruk":"Arbeidsforhold skal brukes","PersonArbeidsforholdTable.IngenArbeidsforhold":"Det finnes ingen arbeidsforhold","PersonArbeidsforholdTable.IngenArbeidsforholdRegistrert":"Ingen arbeidsforhold registrert","PersonArbeidsforholdTable.LeggTilArbeidsforhold":"Legg til arbeidsforhold","ArbeidsforholdDetail.Header":"Detaljer","ArbeidsforholdDetail.ArbeidsforholdErAktivt":"Arbeidsforholdet er aktivt og skal benyttes i behandlingen. Nødvendig inntektsmelding er ikke mottatt.","ArbeidsforholdDetail.OppdaterArbeidsforhold":"Arbeidsforhold er manuelt opprettet av saksbehandler","ArbeidsforholdDetail.ArbeidsforholdErAktivtOgHarPermisjonMenSoekerErIkkePermisjon":"Søker er ikke i permisjon. Arbeidsforholdet er aktivt og skal benyttes i behandlingen.","ArbeidsforholdDetail.FjernArbeidsforholdet":"Fjern arbeidsforholdet for denne behandlingen","ArbeidsforholdDetail.IMIkkeRelevant":"Inntektsmeldingen er ikke relevant, gå videre uten disse opplysningene","ArbeidsforholdDetail.ArbeidsforholdetErIkkeAktivt":"Arbeidsforholdet er ikke aktivt. Inntektsmelding er ikke nødvendig.","ArbeidsforholdDetail.ArbeidsforholdetAktivTomDato":"Arbeidsforhold aktivt tom. dato","ArbeidsforholdDetail.AvslaYtelseManglendeOpplysninger":"Ytelsen kan avslås på grunn av manglende opplysninger.","ArbeidsforholdDetail.BenyttAInntektIBeregningsgrunnlag":"Fortsett behandling uten inntektsmelding, inntekt fra A-inntekt benyttes i beregningsgrunnlaget.","ArbeidsforholdDetail.Begrunnelse":"Begrunn endringene","ArbeidsforholdDetail.SokerErIPermisjon":"Søker er i permisjon. Inntektsmelding er ikke nødvendig.","ArbeidsforholdDetail.OppdatertGittIm":"Arbeidsforholdet er opprettet basert på motatt inntektsmelding","PersonArbeidsforholdTable.Inntektsmelding":"Inntektsmelding","PersonArbeidsforholdTable.Saksbehandler":"Saksbehandler","PersonArbeidsforholdTable.AaRegisteret":"AA-Registeret","PermisjonPeriode.Permisjon":"Permisjon","PermisjonPeriode.Permisjoner":"Permisjoner"},Ff=Me(Bf),Ld=({arbeidOgInntekt:e,arbeidsgiverOpplysningerPerId:n})=>M.jsx(Ze,{value:Ff,children:M.jsx(Of,{arbeidOgInntekt:e,arbeidsgiverOpplysningerPerId:n})});Ld.__docgenInfo={description:"",methods:[],displayName:"ot"};const ll=[ae.AVKLAR_ARBEIDSFORHOLD],$f=[Ce.ARBEID_OG_INNTEKT],ol=({arbeidsgiverOpplysningerPerId:e,...n})=>Pe.jsx(Pr,{...n,panelEndepunkter:$f,aksjonspunktKoder:ll,faktaPanelKode:Nr.ARBEIDSFORHOLD,faktaPanelMenyTekst:Q().formatMessage({id:"ArbeidsforholdInfoPanel.Title"}),skalPanelVisesIMeny:()=>!!n.behandling&&n.behandling.aksjonspunkt&&n.behandling.aksjonspunkt.some(r=>ll.some(t=>t===r.definisjon)),renderPanel:r=>Pe.jsx(Ld,{arbeidsgiverOpplysningerPerId:e,...r})});try{ol.displayName="ArbeidsforholdFaktaInitPanel",ol.__docgenInfo={description:`ArbeidsforholdFaktaInitPanel

Dette faktapanelet skal alltid vises`,displayName:"ArbeidsforholdFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}function Df(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Md={exports:{}},Ur={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dl;function Vf(){if(dl)return Ur;dl=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(o,d,u){var g,p={},v=null,h=null;u!==void 0&&(v=""+u),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(h=d.ref);for(g in d)t.call(d,g)&&!s.hasOwnProperty(g)&&(p[g]=d[g]);if(o&&o.defaultProps)for(g in d=o.defaultProps,d)p[g]===void 0&&(p[g]=d[g]);return{$$typeof:n,type:o,key:v,ref:h,props:p,_owner:i.current}}return Ur.Fragment=r,Ur.jsx=l,Ur.jsxs=l,Ur}Md.exports=Vf();var k=Md.exports,Kd={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var t=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var l=typeof s;if(l==="string"||l==="number")t.push(this&&this[s]||s);else if(Array.isArray(s))t.push(r.apply(this,s));else if(l==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){t.push(s.toString());continue}for(var o in s)n.call(s,o)&&s[o]&&t.push(this&&this[o]||o)}}}return t.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Kd);var Gf=Kd.exports;const Lf=Df(Gf),ga=b.createContext({isDirty:!1,setDirty:()=>{}}),Mf=({children:e})=>{const[n,r]=b.useState(!1),t=b.useMemo(()=>({isDirty:n,setDirty:r}),[n,r]);return k.jsx(ga.Provider,{value:t,children:e})},ua=e=>{const n=b.useContext(ga);b.useEffect(()=>{n.setDirty(e)},[e])},Kf=()=>b.useContext(ga).isDirty,fr="342352362",wf=fn(3),Uf=pn(1500),Cf=bd(1),zf=jd(100),Yf=e=>n=>{const r=e("fom");return n&&r?Hs(r)(n):null},wd=({behandlingUuid:e,isReadOnly:n,registrerArbeidsforhold:r,radData:t,lukkArbeidsforholdRad:i,erOverstyrt:s,oppdaterTabell:l,erNyttArbeidsforhold:o=!1})=>{const d=Q(),[u,g]=b.useState(!1),p=b.useMemo(()=>{var N,y,B,S,$;return{fom:(N=t==null?void 0:t.avklaring)==null?void 0:N.fom,tom:(y=t==null?void 0:t.avklaring)==null?void 0:y.tom,stillingsprosent:(B=t==null?void 0:t.avklaring)==null?void 0:B.stillingsprosent,begrunnelse:(S=t==null?void 0:t.avklaring)==null?void 0:S.begrunnelse,arbeidsgiverNavn:($=t==null?void 0:t.avklaring)==null?void 0:$.arbeidsgiverNavn}},[t]),v=He({defaultValues:p});ua(v.formState.isDirty);const h=b.useCallback(()=>{i(),v.reset(p)},[i]),x=b.useCallback(N=>{const y={behandlingUuid:e,arbeidsgiverIdent:fr,vurdering:le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER,...N};r(y).then(()=>{l(B=>{const S={arbeidsgiverIdent:fr,arbeidsgiverNavn:N.arbeidsgiverNavn,avklaring:{fom:N.fom,tom:N.tom,stillingsprosent:N.stillingsprosent,arbeidsgiverNavn:N.arbeidsgiverNavn,begrunnelse:N.begrunnelse,saksbehandlersVurdering:le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER}},$=B.findIndex(V=>V.arbeidsgiverIdent===fr);return $===-1?B.concat(S):B.map((V,G)=>G===$?S:V)}),v.reset(N),o&&i()})},[e,l]),_=b.useCallback(()=>{const N=v.getValues(),y={behandlingUuid:e,arbeidsgiverIdent:fr,vurdering:le.FJERN_FRA_BEHANDLINGEN,...N};r(y).then(()=>{l(B=>B.filter(S=>S.arbeidsgiverIdent!==fr)),o&&i()})},[v]);return k.jsxs(k.Fragment,{children:[!t&&k.jsxs(k.Fragment,{children:[k.jsx(ce,{size:"small",children:k.jsx(m,{id:"LeggTilArbeidsforholdForm.LeggTilArbeidsforhold"})}),k.jsx(A,{sixteenPx:!0})]}),k.jsx(A,{eightPx:!0}),k.jsxs(Je,{formMethods:v,onSubmit:x,children:[k.jsxs(ke,{gap:"4",children:[s&&k.jsxs(k.Fragment,{children:[k.jsx(xe,{name:"arbeidsgiverNavn",label:k.jsx(m,{id:"LeggTilArbeidsforholdForm.Arbeidsgiver"}),validate:[X],readOnly:n||!s}),k.jsx(qn,{name:"fom",label:k.jsx(m,{id:"LeggTilArbeidsforholdForm.PeriodeFra"}),validate:[X,Bn],isReadOnly:n||!s}),k.jsx(qn,{name:"tom",label:k.jsx(m,{id:"LeggTilArbeidsforholdForm.PeriodeTil"}),validate:[Bn,Yf(v.getValues)],isReadOnly:n||!s})]}),k.jsx(xe,{name:"stillingsprosent",label:k.jsx(m,{id:"LeggTilArbeidsforholdForm.Stillingsprosent"}),parse:N=>{const y=parseInt(N.toString(),10);return Number.isNaN(y)?N:y},validate:[X,vd,Cf,zf],readOnly:n||!s,maxLength:3})]}),k.jsx(A,{twentyPx:!0}),k.jsx(Xe,{label:k.jsx(m,{id:"LeggTilArbeidsforholdForm.Begrunn"}),name:"begrunnelse",validate:[X,wf,Uf,mn],maxLength:1500,readOnly:n||!s}),k.jsx(A,{twentyPx:!0}),s&&k.jsxs(ke,{gap:"4",children:[k.jsx(ie,{size:"small",variant:"secondary",loading:v.formState.isSubmitting,disabled:!v.formState.isDirty||v.formState.isSubmitting,children:k.jsx(m,{id:"LeggTilArbeidsforholdForm.Lagre"})}),k.jsx(ie,{size:"small",variant:"tertiary",loading:!1,disabled:v.formState.isSubmitting,onClick:h,type:"button",children:k.jsx(m,{id:"LeggTilArbeidsforholdForm.Avbryt"})}),t&&k.jsxs(k.Fragment,{children:[k.jsx(jr,{}),k.jsx(ie,{size:"small",variant:"tertiary",loading:!1,disabled:v.formState.isSubmitting,onClick:()=>g(!0),type:"button",icon:k.jsx(of,{"aria-hidden":!0}),children:k.jsx(m,{id:"LeggTilArbeidsforholdForm.Slett"})})]})]}),k.jsx(A,{fourtyPx:!0})]}),u&&k.jsx(fm,{text:d.formatMessage({id:"NyttArbeidsforholdForm.VilDuSlette"}),submit:_,cancel:()=>g(!1),showModal:!0})]})},Hf="_inline_glms2_1",Jf="_textMargin_glms2_5",qf="_docIcon_glms2_9",Wf="_phoneIcon_glms2_14",Ui={inline:Hf,textMargin:Jf,docIcon:qf,phoneIcon:Wf},oi=({saksnummer:e,arbeidsforhold:n,inntektsmelding:r,skalViseArbeidsforholdId:t,alleKodeverk:i,arbeidsgiverFødselsdato:s,ikkeVisInfo:l})=>k.jsxs(k.Fragment,{children:[k.jsx(A,{eightPx:!0}),!l&&s&&k.jsxs(ke,{gap:"4",children:[k.jsx(D,{size:"small",children:k.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Fodselsdato"})}),k.jsx(ge,{children:k.jsx(Re,{dateString:s})})]}),!l&&!s&&k.jsxs(ke,{gap:"4",children:[k.jsx(D,{size:"small",children:k.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Orgnr"})}),k.jsx(ge,{children:r.arbeidsgiverIdent})]}),k.jsx(A,{eightPx:!0}),t&&k.jsxs(k.Fragment,{children:[k.jsxs(ke,{gap:"4",children:[k.jsx(D,{size:"small",children:k.jsx(m,{id:"InntektsmeldingOpplysningerPanel.ArbeidsforholdId"})}),k.jsx(I,{size:"small",children:r.eksternArbeidsforholdId})]}),k.jsx(A,{eightPx:!0})]}),n&&k.jsxs(k.Fragment,{children:[k.jsxs(ke,{gap:"4",children:[k.jsx(D,{size:"small",children:k.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Stillingsprosent"})}),k.jsx(I,{size:"small",children:n.stillingsprosent?`${n.stillingsprosent}%`:"-"})]}),n.permisjonOgMangel&&k.jsxs(k.Fragment,{children:[k.jsx(A,{eightPx:!0}),k.jsxs(ke,{gap:"4",children:[k.jsx(D,{size:"small",children:ai(i,Tn.PERMISJONSBESKRIVELSE_TYPE,n.permisjonOgMangel.type)}),k.jsx(I,{size:"small",children:k.jsx(ze,{dateStringFom:n.permisjonOgMangel.permisjonFom,dateStringTom:n.permisjonOgMangel.permisjonTom})})]})]}),k.jsx(A,{eightPx:!0})]}),k.jsxs(ke,{gap:"4",children:[k.jsx(D,{size:"small",children:k.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Inntektsmelding"})}),k.jsx(I,{size:"small",children:U(r.inntektPrMnd)})]}),k.jsx(A,{eightPx:!0}),k.jsxs(ke,{gap:"4",children:[k.jsx(D,{size:"small",children:k.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjon"})}),k.jsx(I,{size:"small",children:k.jsx(m,{id:r.refusjonPrMnd?"InntektsmeldingOpplysningerPanel.Ja":"InntektsmeldingOpplysningerPanel.Nei"})})]}),k.jsx(A,{eightPx:!0}),r.refusjonPrMnd!==void 0&&r.refusjonPrMnd!==null&&k.jsxs(k.Fragment,{children:[k.jsxs(ke,{gap:"4",children:[k.jsx(D,{size:"small",children:k.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjonsbeløp"})}),k.jsx(I,{size:"small",children:U(r.refusjonPrMnd)})]}),k.jsx(A,{eightPx:!0})]}),k.jsxs(ut,{href:hd(e,r.journalpostId,r.dokumentId),target:"_blank",children:[k.jsx("span",{children:k.jsx(I,{size:"small",className:Ui.inline,children:k.jsx(m,{id:"InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding"})})}),k.jsx(Dd,{className:Ui.docIcon})]}),k.jsx(A,{sixteenPx:!0}),k.jsxs(ke,{gap:"4",children:[k.jsx(Vd,{className:Ui.phoneIcon}),k.jsx("div",{children:k.jsxs(ra,{children:[k.jsx(D,{size:"small",children:k.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Kontaktinfo"})}),k.jsx(ge,{children:r.kontaktpersonNavn}),k.jsx(ge,{children:k.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Tlf",values:{nr:r.kontaktpersonNummer}})})]})})]}),k.jsx(A,{thirtyTwoPx:!0})]}),Zf="_hjelpetekst_1kk6h_1",Xf="_alertStripe_1kk6h_5",Qf="_hjelpetekstInnhold_1kk6h_9",ep="_svg_1kk6h_14",$t={hjelpetekst:Zf,alertStripe:Xf,hjelpetekstInnhold:Qf,svg:ep},np=fn(3),rp=pn(1500),tp=bd(1),ip=jd(100),sp=e=>n=>{const r=e("fom");return r&&n?Hs(r)(n):null},ap=({saksnummer:e,behandlingUuid:n,arbeidsgiverNavn:r,inntektsmelding:t,radData:i,isReadOnly:s,registrerArbeidsforhold:l,lagreVurdering:o,lukkArbeidsforholdRad:d,oppdaterTabell:u,skalViseArbeidsforholdId:g,arbeidsgiverFødselsdato:p})=>{const v=Q(),h=b.useMemo(()=>{var G,K,ee,ne,z;return{saksbehandlersVurdering:(G=i.avklaring)==null?void 0:G.saksbehandlersVurdering,begrunnelse:(K=i.avklaring)==null?void 0:K.begrunnelse,fom:(ee=i.avklaring)==null?void 0:ee.fom,tom:(ne=i.avklaring)==null?void 0:ne.tom,stillingsprosent:(z=i.avklaring)==null?void 0:z.stillingsprosent}},[i]),x=He({defaultValues:h});ua(x.formState.isDirty);const _=x.watch("saksbehandlersVurdering"),N=b.useCallback(()=>{d(),x.reset(h)},[h,d]),y=b.useCallback(G=>{const K=()=>{u(ee=>ee.map(ne=>{if(t.arbeidsgiverIdent===ne.arbeidsgiverIdent){const z=G.saksbehandlersVurdering===le.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?{arbeidsgiverIdent:t.arbeidsgiverIdent,fom:G.fom,tom:G.tom,stillingsprosent:G.stillingsprosent,begrunnelse:G.begrunnelse,saksbehandlersVurdering:G.saksbehandlersVurdering}:void 0;return{...i,avklaring:z||{begrunnelse:G.begrunnelse,saksbehandlersVurdering:G.saksbehandlersVurdering}}}return ne}))};G.saksbehandlersVurdering===le.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?l({behandlingUuid:n,internArbeidsforholdRef:t.internArbeidsforholdId,arbeidsgiverNavn:r,arbeidsgiverIdent:t.arbeidsgiverIdent,vurdering:le.OPPRETT_BASERT_PÅ_INNTEKTSMELDING,begrunnelse:G.begrunnelse,fom:G.fom,tom:G.tom,stillingsprosent:G.stillingsprosent}).then(K).finally(()=>x.reset(G)):o({behandlingUuid:n,vurdering:G.saksbehandlersVurdering,begrunnelse:G.begrunnelse,arbeidsgiverIdent:t.arbeidsgiverIdent,internArbeidsforholdRef:t.internArbeidsforholdId}).then(K).finally(()=>x.reset(G))},[t,u]),B=b.useRef(null),[S,$]=b.useState(!1),V=b.useCallback(()=>$(G=>!G),[]);return k.jsxs(k.Fragment,{children:[k.jsx(oi,{saksnummer:e,inntektsmelding:t,skalViseArbeidsforholdId:g,arbeidsgiverFødselsdato:p}),k.jsx(A,{fourtyPx:!0}),k.jsx("div",{className:$t.alertStripe,children:k.jsx(Zn,{variant:"info",children:k.jsx(m,{id:"ManglendeOpplysningerForm.ErMottattMenIkkeReg"})})}),k.jsx(A,{thirtyTwoPx:!0}),k.jsxs(Je,{formMethods:x,onSubmit:y,children:[k.jsx(Te,{name:"saksbehandlersVurdering",label:k.jsxs(ke,{gap:"2",children:[k.jsx(m,{id:"ManglendeOpplysningerForm.SkalBrukeInntekstmelding"}),k.jsx(ta,{className:$t.svg,ref:B,onClick:V,title:v.formatMessage({id:"ManglendeOpplysningerForm.AltHjelpetekst"})}),k.jsx(Ar,{open:S,onClose:V,anchorEl:B.current,className:$t.hjelpetekst,children:k.jsx(Ar.Content,{className:$t.hjelpetekstInnhold,children:k.jsx(I,{children:k.jsx(m,{id:"ManglendeOpplysningerForm.Hjelpetekst"})})})})]}),validate:[X],isReadOnly:s,radios:[{label:v.formatMessage({id:"ManglendeOpplysningerForm.TarKontakt"}),value:le.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_ARBEIDSFORHOLD},{label:v.formatMessage({id:"ManglendeOpplysningerForm.GåVidere"}),value:le.IKKE_OPPRETT_BASERT_PÅ_INNTEKTSMELDING},{label:v.formatMessage({id:"ManglendeOpplysningerForm.OpprettArbeidsforhold"}),value:le.OPPRETT_BASERT_PÅ_INNTEKTSMELDING}]}),_===le.OPPRETT_BASERT_PÅ_INNTEKTSMELDING&&k.jsxs(k.Fragment,{children:[k.jsx(A,{eightPx:!0}),k.jsxs(ke,{gap:"4",children:[k.jsx(qn,{name:"fom",label:k.jsx(m,{id:"ManglendeOpplysningerForm.PeriodeFra"}),validate:[X,Bn],isReadOnly:s}),k.jsx(qn,{name:"tom",label:k.jsx(m,{id:"ManglendeOpplysningerForm.PeriodeTil"}),validate:[Bn,sp(x.getValues)],isReadOnly:s}),k.jsx(xe,{name:"stillingsprosent",label:k.jsx(m,{id:"ManglendeOpplysningerForm.Stillingsprosent"}),parse:G=>{const K=parseInt(G.toString(),10);return Number.isNaN(K)?G:K},validate:[X,vd,tp,ip],readOnly:s,maxLength:3})]}),k.jsx(A,{fourPx:!0})]}),k.jsx(A,{sixteenPx:!0}),k.jsx(Xe,{label:k.jsx(m,{id:"ManglendeOpplysningerForm.Begrunn"}),name:"begrunnelse",validate:[X,np,rp,mn],maxLength:1500,readOnly:s}),k.jsx(A,{twentyPx:!0}),!s&&k.jsxs(ke,{gap:"4",children:[k.jsx(ie,{size:"small",variant:"secondary",loading:x.formState.isSubmitting,disabled:!x.formState.isDirty||x.formState.isSubmitting,children:k.jsx(m,{id:"ManglendeOpplysningerForm.Lagre"})}),k.jsx(ie,{size:"small",variant:"tertiary",loading:!1,disabled:x.formState.isSubmitting,onClick:N,type:"button",children:k.jsx(m,{id:"ManglendeOpplysningerForm.Avbryt"})})]}),k.jsx(A,{fourtyPx:!0})]})]})},lp="_inline_10adz_1",op="_aksjonpunktImage_10adz_5",dp="_arrow_10adz_12",gp="_ikkeMottatt_10adz_18",up="_forsteKolonne_10adz_22",kp="_sisteKolonne_10adz_26",mp="_skiller_10adz_30",fp="_textMargin_10adz_34",Ln={inline:lp,aksjonpunktImage:op,arrow:dp,ikkeMottatt:gp,forsteKolonne:up,sisteKolonne:kp,skiller:mp,textMargin:fp},pp=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent&&(!n.internArbeidsforholdId||n.internArbeidsforholdId===e.internArbeidsforholdId),cp=(e,n)=>{const r=e.some(i=>i.internArbeidsforholdId),t=e.some(i=>!i.internArbeidsforholdId);if(r&&t)throw Error("Har inntektsmelding både med og uten id");return e.find(i=>!i.internArbeidsforholdId||i.internArbeidsforholdId===n)},vp=e=>{const n=Math.ceil(e.length/25);return Array.from({length:n},(r,t)=>e.slice(t*25,t*25+25)).join("-")},Ud=({saksnummer:e,arbeidsforholdForRad:n,inntektsmeldingerForRad:r,alleKodeverk:t,arbeidsgiverFødselsdato:i})=>{const s=Q(),[l,o]=b.useState({}),d=n.length===1,u=d?cp(r,n[0].internArbeidsforholdId):void 0;return k.jsxs(k.Fragment,{children:[i&&k.jsxs(ke,{gap:"4",children:[k.jsx(D,{size:"small",children:k.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Fodselsdato"})}),k.jsx(ge,{children:k.jsx(Re,{dateString:i})})]}),!i&&n.length>0&&k.jsxs(ke,{gap:"4",children:[k.jsx(D,{size:"small",children:k.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Orgnr"})}),k.jsx(ge,{children:n[0].arbeidsgiverIdent})]}),!d&&k.jsxs(k.Fragment,{children:[k.jsx(A,{eightPx:!0}),k.jsx(el,{dividerParagraf:!0,className:Ln.skiller}),k.jsx(A,{sixteenPx:!0}),n.map(g=>{const p=r.find(v=>pp(g,v));return k.jsxs(W.Fragment,{children:[k.jsxs(ra,{gap:"2",children:[k.jsxs(ke,{gap:"4",children:[k.jsx(D,{size:"small",children:k.jsx(m,{id:"ArbeidsforholdInformasjonPanel.ArbeidsforholdId"})}),k.jsxs("div",{children:[g.eksternArbeidsforholdId&&g.eksternArbeidsforholdId.length<50&&k.jsx("div",{children:k.jsx(I,{size:"small",children:g.eksternArbeidsforholdId})}),g.eksternArbeidsforholdId&&g.eksternArbeidsforholdId.length>=50&&k.jsx(vf,{content:vp(g.eksternArbeidsforholdId),children:k.jsx(I,{size:"small",children:`${g.eksternArbeidsforholdId.substring(0,50)}...`})}),!g.eksternArbeidsforholdId&&k.jsx(I,{size:"small",children:"-"})]}),p&&k.jsxs(k.Fragment,{children:[k.jsx(jr,{}),k.jsx(D,{size:"small",children:k.jsx(m,{id:"ArbeidsforholdInformasjonPanel.ImMottatt"})})]}),!p&&k.jsxs(k.Fragment,{children:[k.jsx(jr,{}),k.jsxs("div",{children:[k.jsx(nr,{className:Ln.aksjonpunktImage,title:s.formatMessage({id:"ArbeidsforholdRad.Aksjonspunkt"})}),k.jsx("div",{className:Ln.ikkeMottatt,children:k.jsx(D,{size:"small",children:k.jsx(m,{id:"ArbeidsforholdInformasjonPanel.ImIkkeMottatt"})})})]})]})]}),k.jsxs(ke,{gap:"4",children:[k.jsx(D,{size:"small",children:k.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Periode"})}),k.jsx(I,{size:"small",children:k.jsx(ze,{dateStringFom:g.fom,dateStringTom:g.tom!==Ke?g.tom:void 0})}),p&&k.jsxs(k.Fragment,{children:[k.jsx(jr,{}),k.jsx(I,{size:"small",children:k.jsx(Re,{dateString:p.motattDato})})]})]}),k.jsxs(ke,{gap:"4",children:[k.jsx(D,{size:"small",children:k.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Stillingsprosent"})}),k.jsx(I,{size:"small",children:`${g.stillingsprosent}%`})]}),g.permisjonOgMangel&&k.jsxs(ke,{gap:"4",children:[k.jsx(D,{size:"small",children:ai(t,Tn.PERMISJONSBESKRIVELSE_TYPE,g.permisjonOgMangel.type)}),k.jsx(I,{size:"small",children:k.jsx(ze,{dateStringFom:g.permisjonOgMangel.permisjonFom,dateStringTom:g.permisjonOgMangel.permisjonTom})})]}),p&&k.jsxs(k.Fragment,{children:[g.internArbeidsforholdId&&l[g.internArbeidsforholdId]&&k.jsx(oi,{saksnummer:e,inntektsmelding:p,skalViseArbeidsforholdId:!1}),k.jsx(A,{fourPx:!0}),k.jsxs(ut,{onClick:v=>{v.preventDefault(),o(h=>{if(!g.internArbeidsforholdId)return h;const x=h[g.internArbeidsforholdId];return{...h,[g.internArbeidsforholdId]:x===void 0||x===!1}})},href:"",children:[k.jsx("span",{children:k.jsx(I,{size:"small",className:Ln.inline,children:k.jsx(m,{id:!g.internArbeidsforholdId||!l[g.internArbeidsforholdId]?"ArbeidsforholdInformasjonPanel.ApneImInfo":"ArbeidsforholdInformasjonPanel.LukkeImInfo"})})}),g.internArbeidsforholdId&&l[g.internArbeidsforholdId]?k.jsx(Qs,{className:Ln.arrow}):k.jsx(yi,{className:Ln.arrow})]})]})]}),k.jsx(A,{sixteenPx:!0}),k.jsx(el,{dividerParagraf:!0,className:Ln.skiller}),k.jsx(A,{sixteenPx:!0})]},`${g.arbeidsgiverIdent}${g.internArbeidsforholdId}`)})]}),k.jsx(A,{eightPx:!0}),d&&!!u&&k.jsx(oi,{saksnummer:e,arbeidsforhold:n[0],inntektsmelding:u,skalViseArbeidsforholdId:r.length>1,alleKodeverk:t,ikkeVisInfo:!0}),d&&r.length===0&&k.jsxs(k.Fragment,{children:[k.jsxs(ke,{gap:"4",children:[k.jsx(D,{size:"small",children:k.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Stillingsprosent"})}),k.jsx(I,{size:"small",children:`${n[0].stillingsprosent}%`})]}),n[0].permisjonOgMangel&&k.jsxs(k.Fragment,{children:[k.jsx(A,{eightPx:!0}),k.jsxs(ke,{gap:"4",children:[k.jsx(D,{size:"small",children:ai(t,Tn.PERMISJONSBESKRIVELSE_TYPE,n[0].permisjonOgMangel.type)}),k.jsx(I,{size:"small",children:k.jsx(ze,{dateStringFom:n[0].permisjonOgMangel.permisjonFom,dateStringTom:n[0].permisjonOgMangel.permisjonTom})})]})]})]})]})},hp="_bredde_gb3eb_1",bp="_belopBredde_gb3eb_5",jp="_inline_gb3eb_9",xp="_arrow_gb3eb_13",Dt={bredde:hp,belopBredde:bp,inline:jp,arrow:xp},Ap=[],Ip=(e,n)=>{const r=T(e).subtract(1,"month").startOf("month"),t=r.subtract(12,"month"),i=[];for(let s=r;s.isAfter(t);s=s.subtract(1,"month")){const l=s.format(Ne),o=n.find(d=>T(d.fom).startOf("month").format(Ne)===l);i.push({beløp:(o==null?void 0:o.beløp)||0,fom:l})}return i},Cd=({saksnummer:e,skjæringspunktDato:n,inntektsposter:r=[],arbeidsforholdForRad:t,inntektsmeldingerForRad:i=Ap,alleKodeverk:s,arbeidsgiverFødselsdato:l})=>{const[o,d]=b.useState(!1),u=b.useMemo(()=>Ip(n,r),[r]),g=t.length===1,p=r.length>0&&r.some(v=>v.beløp>0);return k.jsxs(k.Fragment,{children:[k.jsx(Ud,{saksnummer:e,arbeidsforholdForRad:t,inntektsmeldingerForRad:i,alleKodeverk:s,arbeidsgiverFødselsdato:l}),k.jsx(A,{thirtyTwoPx:!0}),p&&k.jsxs(k.Fragment,{children:[k.jsx(D,{size:"small",children:k.jsx(m,{id:g?"ArbeidsforholdInformasjonPanel.Inntekter":"ArbeidsforholdInformasjonPanel.TotaltInntekter"})}),k.jsx(A,{fourPx:!0}),k.jsx(ra,{children:u.filter((v,h)=>o?!0:h<3).map(v=>k.jsxs(ke,{gap:"2",className:Dt.bredde,children:[k.jsx(I,{size:"small",children:k.jsx(m,{id:`ArbeidsforholdInformasjonPanel.${T(v.fom).month()+1}`})}),k.jsx(I,{size:"small",children:T(v.fom).year()}),k.jsx(jr,{}),k.jsx(I,{size:"small",children:U(v.beløp)})]},v.fom))}),k.jsx(A,{fourPx:!0}),k.jsxs(ut,{onClick:v=>{v.preventDefault(),d(!o)},href:"",children:[k.jsx("span",{children:k.jsx(I,{size:"small",className:Dt.inline,children:k.jsx(m,{id:o?"ArbeidsforholdInformasjonPanel.FaerreManeder":"ArbeidsforholdInformasjonPanel.TidligereManeder"})})}),o?k.jsx(Qs,{className:Dt.arrow}):k.jsx(yi,{className:Dt.arrow})]})]}),!p&&k.jsx(D,{size:"small",children:k.jsx(m,{id:"ArbeidsforholdInformasjonPanel.IngenInntekt"})}),k.jsx(A,{thirtyTwoPx:!0})]})},Tp="_alertStripe_9hpes_1",Ep="_hjelpetekst_9hpes_5",_p="_hjelpetekstInnhold_9hpes_9",yp="_svg_9hpes_14",Vt={alertStripe:Tp,hjelpetekst:Ep,hjelpetekstInnhold:_p,svg:yp},Sp=fn(3),Np=pn(1500),Pp=({saksnummer:e,behandlingUuid:n,skjæringspunktDato:r,inntektsposter:t=[],arbeidsforholdForRad:i,inntektsmeldingerForRad:s,radData:l,isReadOnly:o,lagreVurdering:d,lukkArbeidsforholdRad:u,oppdaterTabell:g,alleKodeverk:p,arbeidsgiverFødselsdato:v})=>{const h=Q(),x=b.useMemo(()=>{var K,ee;return{saksbehandlersVurdering:(K=l.avklaring)==null?void 0:K.saksbehandlersVurdering,begrunnelse:(ee=l.avklaring)==null?void 0:ee.begrunnelse}},[l]),_=He({defaultValues:x});ua(_.formState.isDirty);const N=i.length===1,y=b.useCallback(()=>{u(),_.reset(x)},[u,x]),B=b.useCallback(K=>{const ee={behandlingUuid:n,vurdering:K.saksbehandlersVurdering,arbeidsgiverIdent:l.arbeidsgiverIdent,internArbeidsforholdRef:N?i[0].internArbeidsforholdId:void 0,begrunnelse:K.begrunnelse};d(ee).then(()=>{g(ne=>ne.map(z=>z.arbeidsgiverIdent===l.arbeidsgiverIdent?{...l,avklaring:{begrunnelse:K.begrunnelse,saksbehandlersVurdering:K.saksbehandlersVurdering}}:z))}).finally(()=>_.reset(K))},[i,l,g]),S=b.useRef(null),[$,V]=b.useState(!1),G=b.useCallback(()=>V(K=>!K),[]);return k.jsxs(k.Fragment,{children:[k.jsx(Cd,{saksnummer:e,skjæringspunktDato:r,inntektsposter:t,arbeidsforholdForRad:i,inntektsmeldingerForRad:s,alleKodeverk:p,arbeidsgiverFødselsdato:v}),k.jsxs(Je,{formMethods:_,onSubmit:B,children:[!N&&s.length>0&&k.jsxs("div",{className:Vt.alertStripe,children:[k.jsx(Zn,{variant:"info",children:k.jsx(m,{id:"InntektsmeldingInnhentesForm.InnehentAlle"})}),k.jsx(A,{sixteenPx:!0})]}),k.jsx(Te,{name:"saksbehandlersVurdering",label:k.jsxs(ke,{gap:"2",children:[k.jsx(m,{id:"InntektsmeldingInnhentesForm.MåInnhentes"}),k.jsx(ta,{ref:S,onClick:G,className:Vt.svg,title:h.formatMessage({id:"InntektsmeldingInnhentesForm.AltHjelpetekst"})}),k.jsx(Ar,{open:$,onClose:G,anchorEl:S.current,className:Vt.hjelpetekst,children:k.jsxs(Ar.Content,{className:Vt.hjelpetekstInnhold,children:[k.jsx(I,{children:k.jsx(m,{id:"InntektsmeldingInnhentesForm.HjelpetekstDel1"})}),k.jsx(A,{eightPx:!0}),k.jsx(I,{children:k.jsx(m,{id:"InntektsmeldingInnhentesForm.HjelpetekstDel2"})}),k.jsx(A,{eightPx:!0}),k.jsx(I,{children:k.jsx(m,{id:"InntektsmeldingInnhentesForm.HjelpetekstDel3"})})]})})]}),validate:[X],isReadOnly:o,radios:[{label:h.formatMessage({id:"InntektsmeldingInnhentesForm.TarKontakt"}),value:le.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_INNTEKTSMELDING},{label:h.formatMessage({id:"InntektsmeldingInnhentesForm.GåVidere"}),value:le.FORTSETT_UTEN_INNTEKTSMELDING}]}),k.jsx(A,{sixteenPx:!0}),k.jsx(Xe,{label:k.jsx(m,{id:N?"InntektsmeldingInnhentesForm.Begrunn":"InntektsmeldingInnhentesForm.Kommentar"}),name:"begrunnelse",validate:[X,Sp,Np,mn],maxLength:1500,readOnly:o}),k.jsx(A,{twentyPx:!0}),!o&&k.jsxs(ke,{gap:"4",children:[k.jsx(ie,{size:"small",variant:"secondary",loading:_.formState.isSubmitting,disabled:!_.formState.isDirty||_.formState.isSubmitting,children:k.jsx(m,{id:"InntektsmeldingInnhentesForm.Lagre"})}),k.jsx(ie,{size:"small",variant:"tertiary",loading:!1,disabled:_.formState.isSubmitting,onClick:y,type:"button",children:k.jsx(m,{id:"InntektsmeldingInnhentesForm.Avbryt"})})]}),k.jsx(A,{fourtyPx:!0})]})]})},Rp="_ikon_1mrt8_1",Op="_colTopPadding_1mrt8_5",Bp="_imageColTopPadding_1mrt8_9",Fp="_exclamationmarkIcon_1mrt8_13",$p="_checkmarkIcon_1mrt8_20",wn={ikon:Rp,colTopPadding:Op,imageColTopPadding:Bp,exclamationmarkIcon:Fp,checkmarkIcon:$p},Dp=Lf.bind(wn),Vp=(e,n)=>e?"ArbeidsforholdRad.Saksbehandler":n?"ArbeidsforholdRad.AaRegisteret":"ArbeidsforholdRad.Inntektsmelding",Gp=(e,n)=>{if((n==null?void 0:n.saksbehandlersVurdering)===le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER||(n==null?void 0:n.saksbehandlersVurdering)===le.OPPRETT_BASERT_PÅ_INNTEKTSMELDING)return{fom:n==null?void 0:n.fom,tom:n==null?void 0:n.tom};const r=e.reduce((t,i)=>({fom:t.fom&&T(t.fom).isBefore(i.fom)?t.fom:i.fom,tom:t.tom&&T(t.tom).isAfter(i.tom)?t.tom:i.tom}),{fom:void 0,tom:void 0});return r.fom?r:void 0},Lp=(e,n)=>{const r=e.some(s=>s.internArbeidsforholdId),t=e.some(s=>!s.internArbeidsforholdId);if(r&&t)throw Error("Har inntektsmelding både med og uten id");const i=e.find(s=>!s.internArbeidsforholdId||!n||s.internArbeidsforholdId===n);if(!i)throw Error(`Finner ingen inntektsmelding for arbeidsforhold id ${n}`);return i},Mp=({saksnummer:e,behandlingUuid:n,arbeidOgInntekt:r,radData:t,isReadOnly:i,erOverstyrt:s,oppdaterTabell:l,registrerArbeidsforhold:o,lagreVurdering:d,toggleÅpenRad:u,erRadÅpen:g,alleKodeverk:p})=>{var v;const h=Q(),{arbeidsgiverNavn:x,arbeidsgiverIdent:_,årsak:N,avklaring:y,arbeidsgiverFødselsdato:B}=t,S=b.useMemo(()=>r.arbeidsforhold.filter(H=>H.arbeidsgiverIdent===_),[r,_]),$=b.useMemo(()=>r.inntektsmeldinger.filter(H=>H.arbeidsgiverIdent===_),[r,_]),V=(y==null?void 0:y.saksbehandlersVurdering)===le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER,G=S.length>0&&$.length>0&&!N,K=N===si.MANGLENDE_INNTEKTSMELDING,ee=N===si.INNTEKTSMELDING_UTEN_ARBEIDSFORHOLD,ne=!!N&&!(y!=null&&y.saksbehandlersVurdering),z=S.length>0&&$.length===0&&!N&&!V,q=S.length===0&&$.length>0&&!N,w=b.useMemo(()=>Gp(S,t.avklaring),[V,S,t.avklaring]),Y=(v=r.inntekter.find(H=>H.arbeidsgiverIdent===_))==null?void 0:v.inntekter;return k.jsxs(mm,{alignWithColumn:1,content:k.jsxs(k.Fragment,{children:[V&&k.jsx(wd,{behandlingUuid:n,isReadOnly:!1,registrerArbeidsforhold:o,radData:t,arbeidsforhold:S[0],lukkArbeidsforholdRad:u,erOverstyrt:s,oppdaterTabell:l}),G&&k.jsx(Ud,{saksnummer:e,arbeidsforholdForRad:S,inntektsmeldingerForRad:$,alleKodeverk:p,arbeidsgiverFødselsdato:B}),q&&k.jsx(oi,{saksnummer:e,arbeidsforhold:S.length>0?S[0]:void 0,inntektsmelding:Lp($,S.length>0?S[0].internArbeidsforholdId:void 0),skalViseArbeidsforholdId:!1,alleKodeverk:p,arbeidsgiverFødselsdato:B}),K&&k.jsx(Pp,{saksnummer:e,behandlingUuid:n,skjæringspunktDato:r.skjæringstidspunkt,inntektsposter:Y,isReadOnly:i,arbeidsforholdForRad:S,inntektsmeldingerForRad:$,radData:t,lagreVurdering:d,lukkArbeidsforholdRad:u,oppdaterTabell:l,alleKodeverk:p,arbeidsgiverFødselsdato:B}),ee&&k.jsx(ap,{saksnummer:e,behandlingUuid:n,arbeidsgiverNavn:x,inntektsmelding:$[0],radData:t,isReadOnly:i,registrerArbeidsforhold:o,lagreVurdering:d,lukkArbeidsforholdRad:u,oppdaterTabell:l,skalViseArbeidsforholdId:$.length>1}),z&&k.jsx(Cd,{saksnummer:e,skjæringspunktDato:r.skjæringstidspunkt,inntektsposter:Y,arbeidsforholdForRad:S,alleKodeverk:p,arbeidsgiverFødselsdato:B})]}),showContent:g,toggleContent:u,isApLeftBorder:ne,children:[k.jsxs(C,{className:Dp("ikon",g?"imageColTopPadding":void 0),children:[!ne&&k.jsx(Zs,{title:h.formatMessage({id:"ArbeidsforholdRad.Ok"}),className:wn.checkmarkIcon}),ne&&k.jsx(nr,{title:h.formatMessage({id:"ArbeidsforholdRad.Aksjonspunkt"}),className:wn.exclamationmarkIcon})]}),k.jsxs(C,{className:g?wn.colTopPadding:void 0,children:[g&&k.jsx(D,{size:"small",children:x}),!g&&k.jsx(I,{size:"small",children:x})]}),k.jsx(C,{className:g?wn.colTopPadding:void 0,children:k.jsxs(I,{children:[w&&w.fom&&k.jsx(ze,{dateStringFom:w.fom,dateStringTom:w.tom!==Ke?w.tom:void 0}),!w&&"-"]})}),k.jsx(C,{className:g?wn.colTopPadding:void 0,children:k.jsx(I,{children:k.jsx(m,{id:Vp(V,S.length>0)})})}),k.jsx(C,{className:g?wn.colTopPadding:void 0,children:k.jsxs(I,{children:[S.length<2&&$.length===1&&k.jsx(Re,{dateString:$[0].motattDato}),!K&&S.length>1&&$.length===S.length&&k.jsx(m,{id:"ArbeidsforholdRad.Mottatt"}),(V||K&&$.length<S.length)&&k.jsx(m,{id:"ArbeidsforholdRad.IkkeMottatt"})]})})]})},Kp="_leggTilImage_2poz8_1",wp="_alertStripe_2poz8_5",Up={leggTilImage:Kp,alertStripe:wp},Cp=(e,n)=>{const r=e.some(l=>l.årsak===si.MANGLENDE_INNTEKTSMELDING),t=e.some(l=>l.årsak===si.INNTEKTSMELDING_UTEN_ARBEIDSFORHOLD),i=(n==null?void 0:n.status)===Jn.OPPRETTET,s=[];return i&&r&&s.push("ArbeidOgInntektFaktaPanel.InnhentManglendeInntektsmelding"),i&&t&&s.push("ArbeidOgInntektFaktaPanel.AvklarManglendeOpplysninger"),s},zp=({behandling:e,aksjonspunkt:n,readOnly:r,arbeidOgInntekt:t,registrerArbeidsforhold:i,erOverstyrer:s,tabellData:l,settÅpneRadIndexer:o,setErOverstyrt:d,oppdaterTabell:u})=>{const g=Q(),{arbeidsforhold:p,inntektsmeldinger:v}=t,[h,x]=b.useState(!1),[_,N]=b.useState(!1),y=b.useCallback(()=>{d(!0),x(!0);const V=l.findIndex(G=>{var K;return((K=G.avklaring)==null?void 0:K.saksbehandlersVurdering)===le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER});V!==-1&&o([V])},[l,o]),B=b.useMemo(()=>Cp(l,n),[e.versjon]),S=l.every(V=>V.arbeidsgiverIdent!==fr),$=(n==null?void 0:n.status)===Jn.OPPRETTET;return k.jsxs(k.Fragment,{children:[k.jsxs(ke,{gap:"4",children:[k.jsx(ce,{size:"small",children:k.jsx(m,{id:"ArbeidOgInntektFaktaPanel.Overskrift"})}),s&&$&&!r&&k.jsx(Xs,{onClick:y}),k.jsx(jr,{}),k.jsx(I,{size:"small",children:k.jsx(m,{id:"ArbeidOgInntektFaktaPanel.Skjaringstidspunkt",values:{skjæringspunktDato:Ge(t.skjæringstidspunkt)}})})]}),k.jsx(A,{thirtyTwoPx:!0}),B.length>0&&k.jsx(kt,{children:B.map(V=>g.formatMessage({id:V})).join(" ")}),p.length===0&&v.length===0&&s&&k.jsx("div",{className:Up.alertStripe,children:k.jsx(Zn,{variant:"info",children:k.jsx(m,{id:"ArbeidOgInntektFaktaPanel.IngenArbeidsforhold"})})}),k.jsx(A,{sixteenPx:!0}),h&&S&&!_&&k.jsxs(k.Fragment,{children:[k.jsx(A,{twentyPx:!0}),k.jsx(ie,{size:"small",variant:"tertiary",icon:k.jsx(xi,{"aria-hidden":!0}),onClick:()=>N(!0),children:k.jsx(m,{id:"ArbeidOgInntektFaktaPanel.LeggTilArbeidsforhold"})}),k.jsx(A,{thirtyTwoPx:!0})]}),k.jsx(A,{thirtyTwoPx:!0}),_&&k.jsxs(k.Fragment,{children:[k.jsx(wd,{behandlingUuid:e.uuid,isReadOnly:!1,registrerArbeidsforhold:i,lukkArbeidsforholdRad:()=>N(!1),oppdaterTabell:u,erOverstyrt:!0,erNyttArbeidsforhold:!0}),k.jsx(A,{fourtyPx:!0})]})]})},Yp="_alertStripe_z95u6_1",Hp={alertStripe:Yp},Jp=["EMPTY1","ArbeidOgInntektFaktaPanel.Arbeidsforhold","ArbeidOgInntektFaktaPanel.Periode","ArbeidOgInntektFaktaPanel.Kilde","ArbeidOgInntektFaktaPanel.InntektsmeldingMottatt","EMPTY2"],qp=(e,n)=>{const r=e.årsak,t=n.årsak;return r&&!t?-1:t&&!r?1:e.arbeidsgiverNavn.localeCompare(n.arbeidsgiverNavn)},gl=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent,Wp=(e,n)=>{const r={saksbehandlersVurdering:e.saksbehandlersVurdering,begrunnelse:e.begrunnelse};return e.saksbehandlersVurdering===le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER||e.saksbehandlersVurdering===le.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?{...r,arbeidsgiverNavn:n,fom:e.fom,tom:e.tom,stillingsprosent:e.stillingsprosent}:r},Zp=e=>e.årsak?-1:1,Xp=(e,n)=>{const{arbeidsforhold:r,inntektsmeldinger:t}=e,i=[...r.sort(Zp)].reduce((l,o)=>{var d;if(l.find(v=>v.arbeidsgiverIdent===o.arbeidsgiverIdent))return l;const u=n[o.arbeidsgiverIdent],g=u.navn,p=o.årsak?o.årsak:(d=t.find(v=>gl(o,v)))==null?void 0:d.årsak;return l.concat({arbeidsgiverIdent:o.arbeidsgiverIdent,arbeidsgiverNavn:g,arbeidsgiverFødselsdato:u.erPrivatPerson?u.fødselsdato:void 0,årsak:p,avklaring:o.saksbehandlersVurdering?Wp(o,g):void 0})},[]),s=t.filter(l=>!r.some(o=>gl(o,l))).map(l=>({arbeidsgiverIdent:l.arbeidsgiverIdent,internArbeidsforholdId:l.internArbeidsforholdId,arbeidsgiverNavn:n[l.arbeidsgiverIdent].navn,arbeidsgiverFødselsdato:n[l.arbeidsgiverIdent].erPrivatPerson?n[l.arbeidsgiverIdent].fødselsdato:void 0,årsak:l.årsak,avklaring:l.saksbehandlersVurdering?{saksbehandlersVurdering:l.saksbehandlersVurdering,begrunnelse:l.begrunnelse}:void 0}));return i.concat(s).sort(qp)},ul=e=>{const n=e.findIndex(r=>r.årsak&&!r.avklaring);return n!==-1?[n]:[]},Qp=({saksnummer:e,behandling:n,aksjonspunkt:r,readOnly:t,arbeidOgInntekt:i,arbeidsgiverOpplysningerPerId:s,registrerArbeidsforhold:l,lagreVurdering:o,formData:d,setFormData:u,erOverstyrer:g,lagreCallback:p,settBehandlingPåVentCallback:v,alleKodeverk:h,åpneForNyVurdering:x})=>{const[_,N]=b.useState(!1),[y,B]=b.useState(!1),[S,$]=b.useState(!1),[V,G]=b.useState(d||Xp(i,s)),[K,ee]=b.useState(ul(V)),ne=Kf();b.useEffect(()=>()=>{u(V)},[V]);const z=b.useCallback(ue=>{K.some(ve=>ve===ue)?ee(K.filter(ve=>ve!==ue)):ee(K.concat(ue))},[K,ee]),q=b.useRef(null),w=b.useCallback(ue=>{var ve;G(ue),ee(ul(ue(V))),(ve=q==null?void 0:q.current)==null||ve.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[V]),Y=b.useCallback(()=>{N(!0),p({kode:ae.VURDER_ARBEIDSFORHOLD_INNTEKTSMELDING})},[n.versjon]),H=b.useCallback(()=>{N(!0),x()},[n.versjon]),se=b.useCallback(ue=>{N(!0),B(!1);const{frist:ve,ventearsak:nn}=ue;nn&&v({frist:ve,ventearsak:nn})},[n.versjon]),Ee=V.some(ue=>{var ve,nn;return((ve=ue.avklaring)==null?void 0:ve.saksbehandlersVurdering)===le.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_INNTEKTSMELDING||((nn=ue.avklaring)==null?void 0:nn.saksbehandlersVurdering)===le.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_ARBEIDSFORHOLD}),$e=V.every(ue=>!ue.årsak||ue.årsak&&ue.avklaring),Be=(r==null?void 0:r.status)===Jn.UTFORT,lr=(r==null?void 0:r.status)===Jn.OPPRETTET,Gn=!t&&(Be||g&&r===void 0),en=!t&&lr&&$e&&!ne&&Ee,be=!t&&lr&&$e&&!ne&&!Ee;return k.jsxs(k.Fragment,{children:[k.jsx(zp,{behandling:n,aksjonspunkt:r,readOnly:t,arbeidOgInntekt:i,registrerArbeidsforhold:l,erOverstyrer:g,tabellData:V,settÅpneRadIndexer:ee,setErOverstyrt:$,oppdaterTabell:w}),k.jsx(Qe,{ref:q,headerTextCodes:Jp,noHover:!0,hasGrayHeader:!0,children:V.map((ue,ve)=>k.jsx(Mp,{arbeidOgInntekt:i,saksnummer:e,behandlingUuid:n.uuid,radData:ue,isReadOnly:t||Be,registrerArbeidsforhold:l,lagreVurdering:o,toggleÅpenRad:()=>z(ve),erOverstyrt:S,oppdaterTabell:w,erRadÅpen:K.includes(ve),alleKodeverk:h},`${ue.arbeidsgiverNavn}${ue.arbeidsgiverIdent}${ve}`))}),k.jsx(A,{sixteenPx:!0}),en&&k.jsxs(k.Fragment,{children:[k.jsx(ie,{size:"small",variant:"primary",disabled:_,onClick:()=>B(!0),type:"button",children:k.jsx(m,{id:"ArbeidOgInntektFaktaPanel.SettPaVent"})}),k.jsx(qk,{submitCallback:se,cancelEvent:()=>B(!1),defaultVenteårsak:Wk.VENT_OPDT_INNTEKTSMELDING,hasManualPaVent:!0,ventearsaker:h[Tn.VENT_AARSAK],erTilbakekreving:!1,showModal:y})]}),be&&k.jsx(ie,{size:"small",variant:"primary",disabled:_,loading:_,onClick:Y,type:"button",children:k.jsx(m,{id:"ArbeidOgInntektFaktaPanel.Bekreft"})}),Gn&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:Hp.alertStripe,children:k.jsx(Zn,{variant:"info",children:k.jsx(m,{id:"ArbeidOgInntektFaktaPanel.ApneForNyRevurderingForklaring"})})}),k.jsx(A,{sixteenPx:!0}),k.jsx(ie,{size:"small",variant:"secondary",disabled:_,loading:_,onClick:H,type:"button",children:k.jsx(m,{id:"ArbeidOgInntektFaktaPanel.ApneForNyVurdering"})})]})]})},ec={"ArbeidOgInntektFaktaPanel.Overskrift":"Fakta om arbeid og inntekt","ArbeidOgInntektFaktaPanel.Arbeidsforhold":"Arbeidsforhold","ArbeidOgInntektFaktaPanel.Periode":"Periode","ArbeidOgInntektFaktaPanel.Kilde":"Kilde","ArbeidOgInntektFaktaPanel.InntektsmeldingMottatt":"Inntektsmelding","ArbeidOgInntektFaktaPanel.InnhentManglendeInntektsmelding":"Innhent manglende inntektsmeldinger.","ArbeidOgInntektFaktaPanel.AvklarManglendeOpplysninger":"Avklar manglende opplysninger.","ArbeidOgInntektFaktaPanel.IngenArbeidsforhold":"Ingen arbeidsforhold eller inntektsmeldinger registrert på bruker. Det er kun unntaksvis at det skal opprettes manuelle arbeidsforhold. Det kan være i saker søker er ambassadepersonell, utenlandske ansatte eller fisker. Hvis det er andre arbeidsforhold må du kontakte arbeidsgiver eller søker for riktig registrering i AA-reg.","ArbeidOgInntektFaktaPanel.Skjaringstidspunkt":"Skjæringstidspunkt for opptjening: {skjæringspunktDato}","ArbeidOgInntektFaktaPanel.SettPaVent":"Sett på vent","ArbeidOgInntektFaktaPanel.Bekreft":"Bekreft og fortsett","ArbeidOgInntektFaktaPanel.LeggTilArbeidsforhold":" Legg til arbeidsforhold","ArbeidOgInntektFaktaPanel.ApneForNyVurdering":"Åpne for ny vurdering","ArbeidOgInntektFaktaPanel.ApneForNyRevurderingForklaring":'Ved å bruke "Åpne for ny vurdering" kan du endre valg som er gjort i dette panelet. Det som er gjort senere i saken, må gjøres på ny.',"ArbeidsforholdRad.Saksbehandler":"Saksbehandler","ArbeidsforholdRad.AaRegisteret":"A-ordningen","ArbeidsforholdRad.Inntektsmelding":"Inntektsmelding","ArbeidsforholdRad.Aksjonspunkt":"Åpent aksjonspunkt","ArbeidsforholdRad.Ok":"Arbeidsforhold er OK","ArbeidsforholdRad.Mottatt":"Mottatt","ArbeidsforholdRad.IkkeMottatt":"Ikke mottatt","InntektsmeldingInnhentesForm.MåInnhentes":"Må inntektsmelding innhentes?","InntektsmeldingInnhentesForm.TarKontakt":"Jeg tar kontakt med søker eller arbeidsgiver for å innhente inntektsmelding","InntektsmeldingInnhentesForm.GåVidere":"Gå videre uten inntektsmelding","InntektsmeldingInnhentesForm.Begrunn":"Begrunn valget","InntektsmeldingInnhentesForm.Kommentar":"Kommentar","InntektsmeldingInnhentesForm.Lagre":"Lagre","InntektsmeldingInnhentesForm.Avbryt":"Avbryt","InntektsmeldingInnhentesForm.AltHjelpetekst":"Hjelpetekst","InntektsmeldingInnhentesForm.HjelpetekstDel1":"Vi trenger inntektsmelding for å behandle saken. Kontakt arbeidsgiveren per telefon. Hvis kontaktinformasjonen til arbeidsgiver er vanskelig å finne, kontakt bruker først.","InntektsmeldingInnhentesForm.HjelpetekstDel2":"Det er kun unntaksvis at en sak skal behandles uten inntektsmelding, f.eks. at man etter gjentatte ganger ikke oppnår kontakt. Refusjon til arbeidsgiver er ikke mulig uten en inntektsmelding.","InntektsmeldingInnhentesForm.HjelpetekstDel3":"Dersom det er flere arbeidsforhold i samme virksomhet må det sendes en inntektsmelding som gjelder samlet for alle, eller én per arbeidsforhold med arbeidsforholdsID.","InntektsmeldingInnhentesForm.InnehentAlle":"Ved flere arbeidsforhold i samme virksomhet, skal alle inntektsmeldinger innhentes. Mottas ikke alle, må du vurdere om du skal gå videre uten alle inntektsmeldingene. Gjør du det, fjernes arbeidsforholdet (ene) fra beregningen.","InntektsmeldingOpplysningerPanel.Stillingsprosent":"Stillingsprosent","InntektsmeldingOpplysningerPanel.Inntektsmelding":"Inntektsmelding","InntektsmeldingOpplysningerPanel.Refusjon":"Refusjon","InntektsmeldingOpplysningerPanel.Ja":"Ja","InntektsmeldingOpplysningerPanel.Nei":"Nei","InntektsmeldingOpplysningerPanel.Refusjonsbeløp":"Refusjonsbeløp","InntektsmeldingOpplysningerPanel.Kontaktinfo":"Kontaktinfo","InntektsmeldingOpplysningerPanel.Tlf":"Tlf. {nr}","InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding":"Åpne inntektsmelding (PDF)","InntektsmeldingOpplysningerPanel.ArbeidsforholdId":"ID","ManglendeOpplysningerForm.ErMottattMenIkkeReg":"Inntektsmelding er mottatt, men arbeidsforholdet er ikke registrert i A-ordningen","ManglendeOpplysningerForm.SkalBrukeInntekstmelding":"Skal vi bruke denne inntektsmeldingen?","ManglendeOpplysningerForm.TarKontakt":"Jeg kontakter arbeidsgiver","ManglendeOpplysningerForm.GåVidere":"Se bort fra inntektsmeldingen","ManglendeOpplysningerForm.OpprettArbeidsforhold":"Opprett arbeidsforhold basert på inntektsmeldingen","ManglendeOpplysningerForm.Begrunn":"Begrunn valget","ManglendeOpplysningerForm.PeriodeFra":"Periode fra","ManglendeOpplysningerForm.PeriodeTil":"Periode til","ManglendeOpplysningerForm.Stillingsprosent":"Stillingsprosent","ManglendeOpplysningerForm.Lagre":"Lagre","ManglendeOpplysningerForm.Avbryt":"Avbryt","ManglendeOpplysningerForm.AltHjelpetekst":"Hjelpetekst","ManglendeOpplysningerForm.Hjelpetekst":"Det er kun unntaksvis at det skal opprettes manuelle arbeidsforhold basert på en inntektsmelding. Det kan være i saker hvor søker er ambassadepersonell, utenlandske ansatte eller fisker. Hvis det er andre arbeidsforhold må du kontakte arbeidsgiver eller søker for riktig registrering i AA-reg.","ArbeidsforholdInformasjonPanel.ArbeidsforholdId":"ID","ArbeidsforholdInformasjonPanel.Stillingsprosent":"Stillingsprosent","ArbeidsforholdInformasjonPanel.Periode":"Periode","ArbeidsforholdInformasjonPanel.ImMottatt":"Inntektsmelding mottatt","ArbeidsforholdInformasjonPanel.ImIkkeMottatt":"Ikke mottatt inntektsmelding","ArbeidsforholdInformasjonPanel.Inntekter":"Inntekter (fra A-ordningen)","ArbeidsforholdInformasjonPanel.TotaltInntekter":"Inntekter totalt fra virksomheten (fra A-ordningen)","ArbeidsforholdInformasjonPanel.1":"Jan","ArbeidsforholdInformasjonPanel.2":"Feb","ArbeidsforholdInformasjonPanel.3":"Mars","ArbeidsforholdInformasjonPanel.4":"Apr","ArbeidsforholdInformasjonPanel.5":"Mai","ArbeidsforholdInformasjonPanel.6":"Jun","ArbeidsforholdInformasjonPanel.7":"Jul","ArbeidsforholdInformasjonPanel.8":"Aug","ArbeidsforholdInformasjonPanel.9":"Sep","ArbeidsforholdInformasjonPanel.10":"Okt","ArbeidsforholdInformasjonPanel.11":"Nov","ArbeidsforholdInformasjonPanel.12":"Des","ArbeidsforholdInformasjonPanel.TidligereManeder":"Tidligere måneder ","ArbeidsforholdInformasjonPanel.FaerreManeder":"Siste måneder ","ArbeidsforholdInformasjonPanel.IngenInntekt":"Ingen inntekt registrert på bruker i A-ordningen siste seks mnd.","ArbeidsforholdInformasjonPanel.ÅpneInntektsmelding":"Åpne inntektsmelding (PDF)","ArbeidsforholdInformasjonPanel.ApneImInfo":"Vis mer","ArbeidsforholdInformasjonPanel.LukkeImInfo":"Vis mindre","ArbeidsforholdInformasjonPanel.Orgnr":"Org.nr.","ArbeidsforholdInformasjonPanel.Fodselsdato":"Fødselsdato","LeggTilArbeidsforholdForm.LeggTilArbeidsforhold":"Legg til arbeidsforhold","LeggTilArbeidsforholdForm.Arbeidsgiver":"Navn på arbeidsgiver","LeggTilArbeidsforholdForm.PeriodeFra":"Periode fra","LeggTilArbeidsforholdForm.PeriodeTil":"Periode til","LeggTilArbeidsforholdForm.Stillingsprosent":"Stillingsprosent","LeggTilArbeidsforholdForm.Begrunn":"Begrunn endringene","LeggTilArbeidsforholdForm.Lagre":"Lagre","LeggTilArbeidsforholdForm.Avbryt":"Avbryt","LeggTilArbeidsforholdForm.Slett":"Slett","NyttArbeidsforholdForm.VilDuSlette":"Vil du slette arbeidsforholdet?","ExpandableTableRow.Apne":"Åpne rad","ExpandableTableRow.Lukke":"Lukk rad"},nc=Me(ec),zd=({saksnummer:e,behandling:n,submitCallback:r,aksjonspunkter:t,readOnly:i,formData:s,setFormData:l,arbeidOgInntekt:o,arbeidsgiverOpplysningerPerId:d,registrerArbeidsforhold:u,lagreVurdering:g,erOverstyrer:p,settBehandlingPåVentCallback:v,alleKodeverk:h,åpneForNyVurdering:x})=>k.jsx(Ze,{value:nc,children:k.jsx(Mf,{children:k.jsx(Qp,{saksnummer:e,behandling:n,aksjonspunkt:t.length>0?t[0]:void 0,readOnly:i,formData:s,lagreCallback:r,setFormData:l,arbeidOgInntekt:o,arbeidsgiverOpplysningerPerId:d,registrerArbeidsforhold:u,lagreVurdering:g,erOverstyrer:p,settBehandlingPåVentCallback:v,alleKodeverk:h,åpneForNyVurdering:x})})});zd.__docgenInfo={description:"",methods:[],displayName:"vs"};const rc=[ae.VURDER_ARBEIDSFORHOLD_INNTEKTSMELDING],tc=[Ce.ARBEID_OG_INNTEKT],kl=({saksnummer:e,behandlingUuid:n,arbeidsgiverOpplysningerPerId:r,rettigheter:t,hentOgSettBehandling:i,...s})=>{const l=Q(),{startRequest:o}=Ft.useRestApiRunner(Ce.ARBEID_OG_INNTEKT_REGISTRER_ARBEIDSFORHOLD),{startRequest:d}=Ft.useRestApiRunner(Ce.ARBEID_OG_INNTEKT_LAGRE_VURDERING),{startRequest:u}=Ft.useRestApiRunner(Ce.BEHANDLING_ON_HOLD),{startRequest:g}=Ft.useRestApiRunner(Ce.ARBEID_OG_INNTEKT_ÅPNE_FOR_NY_VURDERING),p=b.useCallback(()=>{g({behandlingUuid:n,behandlingVersjon:s.behandling.versjon}).then(()=>i())},[s.behandling.versjon]),v=b.useCallback(h=>u({frist:h.frist||"",ventearsak:h.ventearsak,behandlingUuid:n,behandlingVersjon:s.behandling.versjon}).then(()=>i()),[s.behandling.versjon]);return Pe.jsx(Pr,{...s,panelEndepunkter:tc,aksjonspunktKoder:rc,faktaPanelKode:Nr.ARBEID_OG_INNTEKT,faktaPanelMenyTekst:l.formatMessage({id:"ArbeidOgInntektInfoPanel.Title"}),skalPanelVisesIMeny:()=>xd.hasPath(Ce.ARBEID_OG_INNTEKT.name)&&!s.behandling.aksjonspunkt.some(h=>ae.AVKLAR_ARBEIDSFORHOLD===h.definisjon),renderPanel:h=>Pe.jsx(zd,{saksnummer:e,arbeidsgiverOpplysningerPerId:r,erOverstyrer:t.kanOverstyreAccess.isEnabled,registrerArbeidsforhold:o,lagreVurdering:d,settBehandlingPåVentCallback:v,åpneForNyVurdering:p,...h})})};try{kl.displayName="ArbeidOgInntektFaktaInitPanel",kl.__docgenInfo={description:"",displayName:"ArbeidOgInntektFaktaInitPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},behandlingUuid:{defaultValue:null,description:"",name:"behandlingUuid",required:!0,type:{name:"string"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},rettigheter:{defaultValue:null,description:"",name:"rettigheter",required:!0,type:{name:"AksessRettigheter"}},hentOgSettBehandling:{defaultValue:null,description:"",name:"hentOgSettBehandling",required:!0,type:{name:"() => void"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}var Ye=(e=>(e.FORDEL_BEREGNINGSGRUNNLAG="FORDEL_BG",e.VURDER_REFUSJON_BERGRUNN="VURDER_REFUSJONSKRAV",e.VURDER_NYTT_INNTKTSFRHLD="VURDER_NYTT_INNTKTSFRHLD",e))(Ye||{}),ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hd={exports:{}},Cr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ml;function sc(){if(ml)return Cr;ml=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(o,d,u){var g,p={},v=null,h=null;u!==void 0&&(v=""+u),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(h=d.ref);for(g in d)t.call(d,g)&&!s.hasOwnProperty(g)&&(p[g]=d[g]);if(o&&o.defaultProps)for(g in d=o.defaultProps,d)p[g]===void 0&&(p[g]=d[g]);return{$$typeof:n,type:o,key:v,ref:h,props:p,_owner:i.current}}return Cr.Fragment=r,Cr.jsx=l,Cr.jsxs=l,Cr}Hd.exports=sc();var f=Hd.exports;const st=e=>e?`...${e.substring(e.length-4,e.length)}`:"",mt=(e,n)=>{const{navn:r,fødselsdato:t,erPrivatPerson:i,identifikator:s}=e;return i?t?`${r} (${T(t).format(te)})${st(n)}`:r:s?`${r} (${s})${st(n)}`:r},js=(e,n)=>{var r,t;const i=((r=e.arbeidsgiver)==null?void 0:r.arbeidsgiverOrgnr)||((t=e.arbeidsgiver)==null?void 0:t.arbeidsgiverAktørId);if(!i||!n[i])return"";const s=n[i];return s.erPrivatPerson?s.fødselsdato?`${s.navn} (${T(s.fødselsdato).format(te)})${st(e.eksternArbeidsforholdRef)}`:`${s.navn}${st(e.eksternArbeidsforholdRef)}`:`${s.navn} (${i})${st(e.eksternArbeidsforholdRef)}`},ac="_tabell_u17gc_1",lc="_fadein_u17gc_1",oc="_correctPadding_u17gc_9",dc="_flexColumn12_u17gc_12",gc="_flexColumn9_u17gc_15",uc="_flexColumn3_u17gc_18",di={tabell:ac,fadein:lc,correctPadding:oc,flexColumn12:dc,flexColumn9:gc,flexColumn3:uc},kc=(e,n)=>e.map(r=>f.jsx(O,{className:di.correctPadding,children:f.jsx(j,{children:r&&r.erTildeltRefusjon?f.jsx(I,{size:"small",children:n}):f.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Direkteutbetaling"})})},`${n}_(${r.fom}_(${r.erTildeltRefusjon})`)),mc=e=>{if(!e)return;const n=e.tom===Ke?void 0:e.tom;return f.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Periode",values:{fom:Ge(e.fom),tom:n?Ge(n):""}})},fc=e=>e.map(n=>f.jsx(O,{className:di.correctPadding,children:f.jsx(j,{children:mc(n)})},`${n.fom}_(${n.erTildeltRefusjon})`)),pc=({refusjonAndel:e,arbeidsgiverOpplysningerPerId:n})=>f.jsxs(we,{children:[f.jsx(C,{children:js(e,n)}),f.jsx(C,{children:kc(e.tidligereUtbetalinger||[],js(e,n))}),f.jsx(C,{children:fc(e.tidligereUtbetalinger||[])})]}),cc=e=>e.arbeidsgiver?e.arbeidsgiver.arbeidsgiverAktørId?`${e.arbeidsgiver.arbeidsgiverAktørId}${e.internArbeidsforholdRef})`:`${e.arbeidsgiver.arbeidsgiverOrgnr}${e.internArbeidsforholdRef})`:`${e.aktivitetStatus}${e.internArbeidsforholdRef})`,vc=({beregningsgrunnlag:e,arbeidsgiverOpplysningerPerId:n})=>{var r;const t=((r=e.refusjonTilVurdering)==null?void 0:r.andeler)||[];return f.jsx(O,{children:f.jsx(j,{className:di.flexColumn9,children:f.jsx(Qe,{headerTextCodes:["BeregningInfoPanel.RefusjonBG.Aktivitet","BeregningInfoPanel.RefusjonBG.TidligereUtb","BeregningInfoPanel.RefusjonBG.GjeldendeFra"],noHover:!0,classNameTable:di.tabell,children:t.map(i=>f.jsx(pc,{arbeidsgiverOpplysningerPerId:n,refusjonAndel:i},cc(i)))})})})},hc="_marginTopp_pc86y_1",bc="_bredde_pc86y_4",jc="_flexColumn9_pc86y_7",xc="_flexColumn3_pc86y_10",Sn={marginTopp:hc,bredde:bc,flexColumn9:jc,flexColumn3:xc},Ac="REFUSJON_ENDRING_DATO",Ic="DELVIS_REFUSJON_FØR_START_BELØP",Jd=(e,n)=>n.arbeidsgiver?n.arbeidsgiver.arbeidsgiverOrgnr?`${e}${n.arbeidsgiver.arbeidsgiverOrgnr}${n.internArbeidsforholdRef}`:`${e}${n.arbeidsgiver.arbeidsgiverAktørId}${n.internArbeidsforholdRef}`:`${e}${n.aktivitetStatus}${n.internArbeidsforholdRef})`,gi=e=>Jd(Ac,e),ka=e=>Jd(Ic,e),Tc=(e,n)=>n?new Date(n).getTime()===new Date(e).getTime():!1,ft=({refusjonAndel:e,readOnly:n,erAksjonspunktÅpent:r,arbeidsgiverOpplysningerPerId:t,skjæringstidspunkt:i,vilkårperiodeFieldIndex:s})=>{const l=js(e,t),o=e.skalKunneFastsetteDelvisRefusjon?"BeregningInfoPanel.RefusjonBG.TidligereRefusjon":"BeregningInfoPanel.RefusjonBG.IngenTidligereRefusjon",d=Se().watch(`VURDER_REFUSJON_BERGRUNN_FORM.${s}.${gi(e)}`),u=Tc(i,d),g=b.useCallback(p=>f.jsx("b",{children:p}),[]);return f.jsxs(f.Fragment,{children:[f.jsx(O,{children:f.jsx(j,{className:Sn.flexColumn9,children:f.jsx(m,{id:o,values:{ag:l,dato:Ge(e.nyttRefusjonskravFom),b:g}})})}),f.jsxs(O,{children:[f.jsx(j,{className:Sn.flexColumn3,children:f.jsx(I,{size:"small",className:Sn.marginTopp,children:f.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.RefusjonFra"})})}),f.jsx(j,{className:Sn.flexColumn3,children:f.jsx(qn,{name:`VURDER_REFUSJON_BERGRUNN_FORM.${s}.${gi(e)}`,isReadOnly:n,validate:n?[]:[X,Bn,Hs(e.tidligsteMuligeRefusjonsdato)],isEdited:!!e.fastsattNyttRefusjonskravFom&&!r})})]}),e.skalKunneFastsetteDelvisRefusjon&&!u&&e.maksTillattDelvisRefusjonPrMnd&&f.jsxs(O,{children:[f.jsx(j,{className:Sn.flexColumn3,children:f.jsx(I,{size:"small",className:Sn.marginTopp,children:f.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.DelvisPrMnd"})})}),f.jsx(j,{className:Sn.flexColumn3,children:f.jsx(xe,{name:`VURDER_REFUSJON_BERGRUNN_FORM.${s}.${ka(e)}`,className:Sn.bredde,validate:n?[]:[X,Zk(1),cn(e.maksTillattDelvisRefusjonPrMnd)],parse:Le,readOnly:n,isEdited:!!e.fastsattDelvisRefusjonPrMnd&&!r})})]})]})};ft.buildInitialValues=e=>{const n={};return n[gi(e)]=e.fastsattNyttRefusjonskravFom||"",n[ka(e)]=U(e.fastsattDelvisRefusjonPrMnd)||"",n};ft.transformValues=(e,n,r)=>{var t,i;const s=gi(n),l=e[s];let o;if(n.skalKunneFastsetteDelvisRefusjon&&l!==r){const d=ka(n);o=me(e[d])}return{arbeidsgiverOrgnr:(t=n.arbeidsgiver)==null?void 0:t.arbeidsgiverOrgnr,arbeidsgiverAktoerId:(i=n.arbeidsgiver)==null?void 0:i.arbeidsgiverAktørId,internArbeidsforholdRef:n.internArbeidsforholdRef,fastsattRefusjonFom:l,delvisRefusjonPrMndFørStart:o}};const Ec="_begrunnelseTextField_1wq9u_1",_c="_explanationTextarea_1wq9u_4",yc="_explanationTextareaReadOnly_1wq9u_7",Ci={begrunnelseTextField:Ec,explanationTextarea:_c,explanationTextareaReadOnly:yc},ma={"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.EndringYtelse":"Endring i søkt ytelse for {arbeidsforhold}. ","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.Refusjon":"Nytt refusjonskrav hos {arbeidsforhold}. ","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.Gradering":"Søkt gradering hos {arbeidsforhold}. ","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.Permisjon":"Permisjon avsluttet hos {arbeidsforhold}","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.FastsetÅrsbeløp":"Fastsett årsbeløp for ny fordeling av beregningsgrunnlaget.","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.TilkommetAktivitet":"<b>Tilkommet aktivitet</b> {br} Vurder om beregningsgrunnlaget skal flyttes til ny aktivitet eller fordeles mellom aktivitetene.","FordelBeregningsgrunnlag.Validation.KanIkkeHaNullIBeregningsgrunnlag":"Fastsatt beløp for gradert andel må være høyere enn 0.","BeregningInfoPanel.FordelingBG.LeggTilAndel":"Legg til aktivitet","BeregningInfoPanel.FordelingBG.Ytelse":"Ytelse","BeregningInfoPanel.FordelBG.PeriodeFom":"{fom} - ","BeregningInfoPanel.FordelBG.PeriodeFomOgTom":"{fom} - {tom}","BeregningInfoPanel.FordelBG.Andel":"Aktivitet","BeregningInfoPanel.FordelBG.AndelIArbeid":"Andel i arbeid","BeregningInfoPanel.FordelBG.Refusjonskrav":"Ref.krav","BeregningInfoPanel.FordelBG.Fordeling":"Ny fordeling","BeregningInfoPanel.FordelBG.Inntektskategori":"Inntektskategori","BeregningInfoPanel.FordelBG.Sum":"Sum","BeregningInfoPanel.FordelBG.Validation.LikFordeling":"Summen må være lik {fordeling}","BeregningInfoPanel.FordelBG.Validation.TotalRefusjonSkalIkkeOverstige":"Total refusjon må vere lavere enn {seksG}","BeregningInfoPanel.FordelBG.Validation.TotalFordelingLavereEnn":"Total fordeling for følgende andeler må være lavere enn {seksG}: {andelsliste}","BeregningInfoPanel.FordelBG.Validation.UlikeAndeler":"Andeler for samme aktivitet må ha ulik inntektskategori","BeregningInfoPanel.FordelBG.Validation.IkkjeHogereRefusjonEnnInntektsmelding":"Total refusjon for {arbeidsgiver} kan ikke være høyere enn beløpet fra inntektsmeldingen.","BeregningInfoPanel.FordelBG.Inntekt":"Inntekt","BeregningInfoPanel.FordelBG.Beregningsgrunnlag":"Grunnlag","BeregningInfoPanel.RefusjonBG.Tittel":"Endring i refusjon","BeregningInfoPanel.RefusjonBG.Aktivitet":"Aktivitet","BeregningInfoPanel.RefusjonBG.TidligereUtb":"Tidligere utbetalinger","BeregningInfoPanel.RefusjonBG.GjeldendeFra":"Gjelder fra","BeregningInfoPanel.RefusjonBG.Direkteutbetaling":"Direkte utbetaling","BeregningInfoPanel.RefusjonBG.Periode":"{fom} - {tom}","BeregningInfoPanel.RefusjonBG.IngenTidligereRefusjon":"<b>{ag}</b> krever refusjon fra og med {dato}","BeregningInfoPanel.RefusjonBG.TidligereRefusjon":"<b>{ag}</b> krever refusjon fra og med {dato}. Det er tidligere innvilget et lavere refusjonsbeløp","BeregningInfoPanel.RefusjonBG.RefusjonFra":"Refusjonsbeløpet skal gjelde fra og med","BeregningInfoPanel.RefusjonBG.Aksjonspunkt":"Nytt refusjonskrav overlapper tidligere utbetalinger. Sett endringsdato for ny refusjon.","BeregningInfoPanel.RefusjonBG.DelvisPrMnd":"Før denne datoen skal refusjonsbeløpet per måned være","BeregningInfoPanel.TilkommetAktivitet.Aktivitet":"Aktivitet","BeregningInfoPanel.TilkommetAktivitet.Periode":"Inntektsperiode","BeregningInfoPanel.TilkommetAktivitet.Årsinntekt":"Årsinntekt","BeregningInfoPanel.TilkommetAktivitet.RedusererUtbetaling":"Reduserer inntektstap","BeregningInfoPanel.TilkommetAktivitet.Ja":"Ja","BeregningInfoPanel.TilkommetAktivitet.Nei":"Nei","BeregningInfoPanel.TilkommetAktivitet.VurderTekstNæring":"Har søker inntekt fra den nye næringsaktiviteten som reduserer søkers inntektstap?","BeregningInfoPanel.TilkommetAktivitet.VurderTekstFrilans":"Har søker inntekt fra den nye frilanseraktiviteten som reduserer søkers inntektstap?","BeregningInfoPanel.TilkommetAktivitet.VurderTekstArbeid":"Har søker inntekt fra {arbeidsforhold} som reduserer søkers inntektstap?","BeregningInfoPanel.TilkommetAktivitet.Fastsett":"Fastsett årsinntekt","BeregningInfoPanel.TilkommetAktivitet.LesMer":"Hvordan fastsette årsinntekten?","BeregningInfoPanel.TilkommetAktivitet.LesMerArbeid":"Kontakt bruker for å dokumentere inntekten i det nye arbeidsforholdet. Enten ved å be arbeidsgiver sende inn inntektsmelding eller så kan bruker selv dokumenterer inntekten med arbeidskontrakt, lønnsslipper eller lignende. {br}{br}Dersom arbeidsforholdet har vart så lenge at utbetalt lønn er rapportert i a-ordningen, kan § 8-28 filtret benyttes for å fastsette årsinntekten. Hvis mulig,  benytt de 3 siste månedene og regn om til årsinntekt. Dersom arbeidsforholdet har vart kortere, kan du benytte en kortere periode.","BeregningInfoPanel.TilkommetAktivitet.LesMerFrilans":"Kontakt bruker for å dokumentere hva inntekten utgjør hvis det ikke er rapportert inntekt fra frilansoppdrag i a-ordningen. {br}{br}Hvis oppdraget har vart så lenge at inntekten er rapportert i a-ordningen, kan § 8-28 filtret benyttes for å fastsette årsinntekten. Benytt de 3 siste månedene hvis mulig og regn om til årsinntekt. Hvis oppdraget har vart kortere, kan du benytte en kortere periode.","BeregningInfoPanel.TilkommetAktivitet.LesMerNæring":"Benytt opplysninger oppgitt av bruker i søknaden, eller be bruker sannsynliggjøre forventet inntekt.","BeregningInfoPanel.TilkommetAktivitet.Alert":"Utgangspunktet er at all tilkommet aktivitet med inntekt skal føre til reduksjon i utbetaling. Det kan likevel være feil eller mangler i opplysningene fra AA-registeret. F. eks. internt bytte av org. nummer pga. endret lønns- og personalsystem eller manglende registrert sluttdato i gammel stilling ved overgang til ny stilling. Gjør derfor en konkret vurdering av hvorfor tilkommet aktivitet og inntekt ikke skal føre til reduksjon.","FaktaBegrunnelseTextField.BegrunnEndringene":"Begrunn endringene","SubmitButton.ConfirmInformation":"Bekreft og fortsett","HelpText.Aksjonspunkt.BehandletAksjonspunkt":"Behandlet aksjonspunkt: ","TilkommetAktivitet.AksjonspunktAlert":"Inntekter som kommer til underveis i en løpende pleiepengeperiode er ikke en del av søkers beregningsgrunnlag. Dersom inntekten reduserer søkers inntektstap, må det vurderes om pleiepengene skal graderes mot den nye inntekten.","TilkommetAktivitet.AksjonspunktHelpText":"Vurder om pleiepengene skal reduseres på grunn av den nye inntekten.","TilkommetAktivitet.Heading":"Perioder med ny aktivitet","TilkommetAktivitet.Modal.Knapp":"Del opp periode","TilkommetAktivitet.Modal.Tittel":"Del opp periode","TilkommetAktivitet.Modal.Select":"Hvilken periode ønsker du å dele opp?","TilkommetAktivitet.Modal.DatoValg":"Opprett ny vurdering fra","TilkommetAktivitet.Modal.Resultat":"Nye perioder til vurdering:","TilkommetAktivitet.Modal.Placeholder":"Velg periode","TilkommetAktivitet.Modal.Periode":"{fom} - {tom}","TilkommetAktivitet.Modal.DelOppKnapp":"Del opp periode","TilkommetAktivitet.Modal.AvbrytKnapp":"Avbryt","TilkommetAktivitet.AlertHeading.FlereStatuser":"Søker har nye aktiviteter","TilkommetAktivitet.AlertHeading.SelvstendigNæringsdrivende":"Søker har opplyst om ny inntekt som selvstendig næringsdrivende.","TilkommetAktivitet.AlertHeading.Frilans":"Søker har en ny frilansaktivitet i AA-registeret.","TilkommetAktivitet.AlertHeading.Arbeidsforhold":"Søker har et nytt arbeidsforhold i AA-registeret","Fordeling.VurdertTidligere":"Vurdert i en tidligere behandling","BeregningInfoPanel.TilkommetAktivitet.TomTekst":" "},fl=Me(ma),Sc=fn(3),Nc=pn(1500),Or=({isReadOnly:e,isSubmittable:n,hasBegrunnelse:r,label:t,hasVurderingText:i,name:s})=>{const l=i?"FaktaBegrunnelseTextField.Vurdering":"FaktaBegrunnelseTextField.BegrunnEndringene",o=t||fl.formatMessage({id:l});return f.jsx(Ze,{value:fl,children:(n||r)&&f.jsx("div",{className:Ci.begrunnelseTextField,children:f.jsx(Xe,{name:s,label:e?"":o,validate:e?[]:[X,Sc,Nc,mn],className:e?Ci.explanationTextareaReadOnly:Ci.explanationTextarea,maxLength:1500,readOnly:e})})})};Or.defaultProps={name:"begrunnelse",hasVurderingText:!1};const Pc=e=>e&&e.begrunnelse?e.begrunnelse:"";Or.buildInitialValues=(e,n="begrunnelse")=>({[n]:Ys(Pc(e))});Or.transformValues=(e,n="begrunnelse")=>({begrunnelse:e[n]});const Rc=Me(ma),Oc=(e,n,r)=>!r||n?!0:!e,Ri=({isReadOnly:e,isSubmittable:n,onClick:r,isSubmitting:t,isDirty:i})=>e?null:f.jsx(ie,{size:"small",loading:t,disabled:Oc(i,t,n),onClick:r||Js,type:r?"button":"submit",children:Rc.formatMessage({id:"SubmitButton.ConfirmInformation"})}),pl="VURDER_REFUSJON_BERGRUNN_FORM",{VURDER_REFUSJON_BERGRUNN:Bc}=Ye,qd=e=>e?e.find(n=>n.definisjon===Bc):void 0,Fc=e=>e.arbeidsgiver?e.arbeidsgiver.arbeidsgiverAktørId?`${e.arbeidsgiver.arbeidsgiverAktørId}${e.internArbeidsforholdRef})`:`${e.arbeidsgiver.arbeidsgiverOrgnr}${e.internArbeidsforholdRef})`:`${e.aktivitetStatus}${e.internArbeidsforholdRef})`,$c=(e,n)=>{var r;const t=((r=e.refusjonTilVurdering)==null?void 0:r.andeler)||[],i=qd(e.avklaringsbehov);let s={beregningsgrunnlagStp:e.skjaeringstidspunktBeregning,periode:n.periode,begrunnelse:i&&i.begrunnelse?i.begrunnelse:void 0};return t.forEach(l=>{s={...s,...ft.buildInitialValues(l)}}),s},Dc=(e,n)=>{var r;const t=(((r=n.refusjonTilVurdering)==null?void 0:r.andeler)||[]).map(i=>ft.transformValues(e,i,n.skjaeringstidspunktBeregning));return{periode:e.periode,begrunnelse:e.begrunnelse,fastsatteAndeler:t}},Vc=({submittable:e,readOnly:n,beregningsgrunnlag:r,arbeidsgiverOpplysningerPerId:t,vilkårperiodeFieldIndex:i})=>{var s;const l=n&&!r.avklaringsbehov.some(v=>v.definisjon===Ye.VURDER_REFUSJON_BERGRUNN),o=((s=r.refusjonTilVurdering)==null?void 0:s.andeler)||[],d=qd(r.avklaringsbehov),u=d?vn(d.status):!1,g=Se(),p=g.watch(`VURDER_REFUSJON_BERGRUNN_FORM.${i}.begrunnelse`);return f.jsxs(f.Fragment,{children:[f.jsx(Si,{isAksjonspunktOpen:u,children:[f.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Aksjonspunkt"},"aksjonspunktText")]}),f.jsx(A,{sixteenPx:!0}),f.jsx(ce,{size:"small",children:f.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Tittel"})}),f.jsx(A,{sixteenPx:!0}),f.jsx(vc,{beregningsgrunnlag:r,arbeidsgiverOpplysningerPerId:t}),o.map(v=>f.jsx(ft,{refusjonAndel:v,readOnly:l,erAksjonspunktÅpent:u,arbeidsgiverOpplysningerPerId:t,skjæringstidspunkt:r.skjaeringstidspunktBeregning,formName:pl,vilkårperiodeFieldIndex:i},Fc(v))),f.jsx(A,{twentyPx:!0}),f.jsx(Or,{name:`${pl}.${i}.begrunnelse`,isSubmittable:e,isReadOnly:l,hasBegrunnelse:!!p}),f.jsx(A,{twentyPx:!0}),f.jsx(Ri,{isSubmittable:e,isReadOnly:l,isSubmitting:g.formState.isSubmitting,isDirty:g.formState.isDirty}),f.jsx(A,{sixteenPx:!0})]})};function pt(e,n){const r=e.find(t=>t.periode.fom===n);if(!r)throw Error(`Mangler vilkårsperiode for vilkårsperiodeFom ${n}`);return r}function rr(e,n){return pt(e,n).vurderesIBehandlingen}const ui="VURDER_REFUSJON_BERGRUNN_FORM",{VURDER_REFUSJON_BERGRUNN:Gc}=Ye,Lc=(e,n)=>({[ui]:e.map(r=>$c(r,pt(n,r.vilkårsperiodeFom)))}),Mc=(e,n)=>{const r=n.find(t=>t.vilkårsperiodeFom===e);if(!r)throw Error(`Mangler beregningsgrunnlag for vilkårsperiodeFom ${e}`);return r},Kc=(e,n,r)=>{const t=e[ui].filter(i=>rr(r,i.periode.fom)).map(i=>Dc(i,Mc(i.periode.fom,n)));return{begrunnelse:t.map(i=>i.begrunnelse).reduce((i,s)=>i!==null?`${i} ${s}`:s),grunnlag:t,kode:Gc}},wc=({aktivtBeregningsgrunnlagIndeks:e,submittable:n,readOnly:r,beregningsgrunnlagListe:t,vilkarperioder:i,arbeidsgiverOpplysningerPerId:s,setFormData:l,formData:o,submitCallback:d,setRefusjonFormIsDirty:u})=>{const g=He({defaultValues:o!=null&&o.VURDER_REFUSJON_BERGRUNN_FORM?o:Lc(t,i)}),{formState:{dirtyFields:p,isSubmitted:v,errors:h,isDirty:x},control:_,trigger:N}=g;b.useEffect(()=>{u(x)},[x]),b.useEffect(()=>{var B;v&&(B=p[ui])!=null&&B[e]&&N()},[e]);const{fields:y}=an({name:ui,control:_});return f.jsx(ea,{errorMessage:"Noe gikk galt ved visning av refusjon",children:f.jsx(Je,{formMethods:g,onSubmit:B=>{Object.keys(h).length===0&&d(Kc(B,t,i))},setDataOnUnmount:l,children:y.map(B=>{const S=t.findIndex($=>$.skjaeringstidspunktBeregning===B.beregningsgrunnlagStp);return f.jsx("div",{style:{display:S===e?"block":"none"},children:f.jsx(Vc,{submittable:n,readOnly:r||!rr(i,t[S].vilkårsperiodeFom),beregningsgrunnlag:t[S],arbeidsgiverOpplysningerPerId:s,vilkårperiodeFieldIndex:S})},B.id)})})})},{FORDEL_BEREGNINGSGRUNNLAG:Uc}=Ye,Cc=(e,n)=>n.some(r=>r.definisjon===e),zc=(e,n,r,t)=>{const i=[];return t.length===0&&n.length===0&&e.length===0&&r.length===0||i.push(f.jsx(m,{id:"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.TilkommetAktivitet",values:{b:(...s)=>f.jsx("b",{children:s}),br:f.jsx("br",{})}},"EndringBeregningsgrunnlagFastsetÅrsbeløp")),i},Yc=e=>e.map(({erRefusjon:n})=>n).includes(!0)||e.map(({erGradering:n})=>n).includes(!0),Hc=e=>{const n=e.filter(({perioderMedGraderingEllerRefusjon:s})=>s==null?void 0:s.map(({erGradering:l})=>l).includes(!0)),r=e.filter(({perioderMedGraderingEllerRefusjon:s})=>s==null?void 0:s.map(({erRefusjon:l})=>l).includes(!0)),t=e.filter(({permisjon:s})=>s!=null).filter(({perioderMedGraderingEllerRefusjon:s})=>Yc(s||[])),i=e.filter(({perioderMedGraderingEllerRefusjon:s})=>s==null?void 0:s.map(({erSøktYtelse:l})=>l).includes(!0));return zc(n,r,t,i)},Jc=e=>{var n,r;const t=((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.arbeidsforholdTilFordeling)||[];return Cc(Uc,e.avklaringsbehov)?Hc(t):[]},qc=({isAksjonspunktClosed:e,beregningsgrunnlag:n})=>{const r=Jc(n);return f.jsx(Si,{isAksjonspunktOpen:!e,children:r})};var Wd={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var t=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var l=typeof s;if(l==="string"||l==="number")t.push(this&&this[s]||s);else if(Array.isArray(s))t.push(r.apply(this,s));else if(l==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){t.push(s.toString());continue}for(var o in s)n.call(s,o)&&s[o]&&t.push(this&&this[o]||o)}}}return t.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Wd);var Wc=Wd.exports;const Zd=Yd(Wc),Xd=" - ",Qd=e=>e==null,Zc=e=>{if(e.length===0)return"";if(e.length===1)return`${parseFloat(e[0]).toFixed(2)}`;const n=Math.min(...e),r=Math.max(...e);return`${n}${Xd}${r}`},Xc=e=>e.inntektskategori&&e.inntektskategori!==$n.UDEFINERT?e.inntektskategori:"",Qc=(e,n,r,t)=>{var i,s;if(!e.aktivitetStatus||e.aktivitetStatus===F.UDEFINERT)return"";if(e.aktivitetStatus===F.ARBEIDSTAKER&&e.arbeidsforhold){const l=e.arbeidsforhold.arbeidsgiverIdent?t[e.arbeidsforhold.arbeidsgiverIdent]:void 0;return l?mt(l,e.arbeidsforhold.eksternArbeidsforholdId):e.arbeidsforhold.arbeidsforholdType&&((i=r[ye.OPPTJENING_AKTIVITET_TYPE].find(o=>{var d;return o.kode===((d=e.arbeidsforhold)==null?void 0:d.arbeidsforholdType)}))==null?void 0:i.kode)||""}return n&&e.aktivitetStatus===F.BRUKERS_ANDEL?"Ytelse":((s=r[ye.AKTIVITET_STATUS].find(l=>l.kode===e.aktivitetStatus))==null?void 0:s.navn)||""},ev=e=>Qd(e)?void 0:e,cl=e=>U(e)||"",nv=(e,n,r)=>e!==void 0?cl(e):r&&!Qd(n)?cl(n):"",rv=e=>({arbeidsgiverId:e.arbeidsforhold&&e.arbeidsforhold.arbeidsgiverIdent?e.arbeidsforhold.arbeidsgiverIdent:"",eksternArbeidsforholdId:e.arbeidsforhold&&e.arbeidsforhold.eksternArbeidsforholdId?e.arbeidsforhold.eksternArbeidsforholdId:"",arbeidsforholdId:e.arbeidsforhold&&e.arbeidsforhold.arbeidsforholdId?e.arbeidsforhold.arbeidsforholdId:"",arbeidsperiodeFom:e.arbeidsforhold?e.arbeidsforhold.startdato:"",arbeidsperiodeTom:e.arbeidsforhold&&e.arbeidsforhold.opphoersdato!==null?e.arbeidsforhold.opphoersdato:"",arbeidsforholdType:e.arbeidsforholdType}),tv=(e,n,r,t)=>({andel:Qc(e,n,r,t),aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,nyAndel:!1,kilde:e.kilde==null?void 0:e.kilde,lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler===!0,inntektskategori:Xc(e),forrigeInntektskategori:!e.inntektskategori||e.inntektskategori===$n.UDEFINERT?void 0:e.inntektskategori}),eg=(e,n,r,t,i)=>{if(n.skalRedigereInntekt){const s=t(`FORDEL_BEREGNING_FORM.${e}.${r}.${i}.fastsattBelop`);return s?me(s):0}return n.readOnlyBelop?me(n.readOnlyBelop):0},iv=e=>e?Number(me(e)):0,sv=e=>e.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.UlikeAndeler"}),av=(e,n)=>e.inntektskategori===n.inntektskategori&&e.arbeidsgiverIdent===n.arbeidsgiverIdent&&e.aktivitetstatus===n.aktivitetstatus&&e.arbeidsforholdId===n.arbeidsforholdId,lv=(e,n)=>e.some(r=>av(n,r)),ov=(e,n)=>{const r=e.find(t=>t.andelsnr===n);if(!r)throw new Error(`Finner ikke field med andelsnr ${n}`);return r},dv=(e,n,r,t)=>{const i=[];return t.forEach((s,l)=>{if(s.nyAndel&&(s.andelsnrRef||s.andelsnrRef===0)){const o=ov(t,s.andelsnrRef);i.push({erNyAndel:s.nyAndel,aktivitetstatus:s.aktivitetStatus,inntektskategori:n(`FORDEL_BEREGNING_FORM.${e}.${r}.${l}.inntektskategori`),arbeidsgiverIdent:o.arbeidsgiverId,arbeidsforholdId:o.arbeidsforholdId})}else i.push({erNyAndel:s.nyAndel,aktivitetstatus:s.aktivitetStatus,inntektskategori:s.inntektskategori,arbeidsgiverIdent:s.arbeidsgiverId,arbeidsforholdId:s.arbeidsforholdId})}),i},gv=(e,n,r,t,i)=>{const s=dv(e,n,r,t),l=[];let o=!1;return s.forEach(d=>{lv(l,d)&&(o=!0),l.push(d)}),o?sv(i):void 0},uv=(e,n)=>(!!e.refusjonskravFraInntektsmelding||e.refusjonskravFraInntektsmelding===0)&&(!!n.refusjonskravFraInntektsmelding||n.refusjonskravFraInntektsmelding===0)&&n.refusjonskravFraInntektsmelding<e.refusjonskravFraInntektsmelding,kv=(e,n,r,t,i,s)=>{const l=s.findIndex(({arbeidsforholdId:d,arbeidsgiverId:u})=>d===t.arbeidsforholdId&&u===t.arbeidsgiverId),o=n(`FORDEL_BEREGNING_FORM.${e}.${r}.${i}.refusjonskrav`);if(l>=0){const d=s[l];uv(t,d)&&(d.refusjonskravFraInntektsmelding=t.refusjonskravFraInntektsmelding),o!=null&&(d.totalRefusjon+=Number(me(o)))}else{const{refusjonskravFraInntektsmelding:d,arbeidsforholdId:u,arbeidsgiverId:g,eksternArbeidsforholdId:p}=t;let v=0;o!=null&&(v=Number(me(o))),s.push({arbeidsforholdId:u,eksternArbeidsforholdId:p,arbeidsgiverId:g,refusjonskravFraInntektsmelding:d,totalRefusjon:v})}},mv=(e,n,r,t)=>{const i=[];return t.forEach((s,l)=>{s.arbeidsforholdId!==""&&kv(e,n,r,s,l,i)}),i},fv=(e,n)=>n.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.IkkjeHogereRefusjonEnnInntektsmelding"},{arbeidsgiver:e}),pv=(e,n,r,t,i,s)=>{const l=mv(e,t,r,n).filter(o=>(o.refusjonskravFraInntektsmelding||o.refusjonskravFraInntektsmelding===0)&&o.totalRefusjon>o.refusjonskravFraInntektsmelding);if(l.length>0){const o=l[0].arbeidsgiverId?i[l[0].arbeidsgiverId]:void 0;let d;return o?d=mt(o,l[0].eksternArbeidsforholdId):d=l[0].arbeidsgiverId||"",fv(d,s)}},cv=(e,n)=>e?n.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.LikFordeling"},{fordeling:e}):void 0,vv=e=>e.formatMessage({id:"FordelBeregningsgrunnlag.Validation.KanIkkeHaNullIBeregningsgrunnlag"}),hv=(e,n)=>e?n.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.TotalRefusjonSkalIkkeOverstige"},{seksG:e}):void 0,bv=(e,n,r)=>e>=Math.round(n)?hv(U(n),r):void 0,ng=(e,n,r)=>r.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.TotalFordelingLavereEnn"},{seksG:e,andelsliste:n}),rg=(e,n,r,t,i)=>e>=Math.round(n)?t(U(n),r,i):void 0,jv=(e,n,r)=>e!==Math.round(n)?cv(U(Math.round(n)),r):void 0,xv=(e,n,r,t,i,s,l)=>{const o=!r.arbeidsperiodeTom||nm(r.arbeidsperiodeTom,t);if(!r.andelIArbeid||!o)return!1;const d=i(`FORDEL_BEREGNING_FORM.${e}.${s}.${l}.fastsattBelop`),u=d?me(d):0;return!Number.isNaN(Number(r.andelIArbeid))&&Number(r.andelIArbeid)>0&&u<=0?!0:r.andelIArbeid.split(Xd).filter(g=>Number(g)>0).length>0&&u===0},Av=(e,n,r,t,i,s)=>t.some((l,o)=>xv(e,s,l,i,n,r,o))?vv(s):void 0,Iv=(e,n,r,t,i,s)=>{const l=t.map((o,d)=>eg(e,o,r,n,d)).reduce((o,d)=>o+d,0);return i!=null?jv(l,i,s):void 0},vl=(e,n,r,t,i)=>{const s=i(`FORDEL_BEREGNING_FORM.${e}.${r}.${t}.refusjonskrav`);return iv(s)},Tv=(e,n,r,t,i,s)=>{const l=!!n.find((u,g)=>u.andelIArbeid!=="0.00"&&vl(e,u,r,g,t)===0),o=n.map((u,g)=>vl(e,u,r,g,t)).reduce((u,g)=>u+g,0),d=6*i;return l?bv(o,d,s):void 0},tg=(e,n)=>{const r=e.map(t=>{var i;return((i=n[ye.AKTIVITET_STATUS].find(s=>s.kode===t))==null?void 0:i.navn)||""});return r.sort((t,i)=>t.localeCompare(i)),[...new Set(r)].join(", ")},ig=(e,n,r,t,i)=>t.map((s,l)=>s.aktivitetStatus&&!i.includes(s.aktivitetStatus)?0:eg(e,s,r,n,l)).reduce((s,l)=>s+l,0),Ev=(e,n,r,t,i,s,l)=>{const o=[F.ARBEIDSTAKER],d=ig(e,n,r,t,o),u=tg(o,s);return rg(d,i,u,ng,l)},_v=(e,n,r,t,i,s,l)=>{const o=[F.ARBEIDSTAKER,F.FRILANSER,F.DAGPENGER,F.ARBEIDSAVKLARINGSPENGER],d=t.map(p=>p.aktivitetStatus).filter(p=>!!p&&o.includes(p)),u=ig(e,n,r,t,d),g=tg(d,s);return rg(u,i,g,ng,l)},yv=(e,n,r,t,i,s,l)=>{const o=!!t.find(u=>u.andelIArbeid!=="0.00"&&u.aktivitetStatus===F.FRILANSER),d=6*s;if(o)return Ev(e,n,r,t,d,l,i);if(t.find(u=>u.andelIArbeid!=="0.00"&&u.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE))return _v(e,n,r,t,d,l,i)},Sv=(e,n)=>e.arbeidsforholdId===null?n.map(({arbeidsgiverIdent:r})=>r).includes(e.arbeidsgiverIdent):n.map(({arbeidsforholdId:r})=>r).includes(e.arbeidsforholdId),Nv=(e,n)=>{var r;const t=e.find(i=>{var s,l;return!!i.arbeidsforhold&&i.arbeidsforhold.arbeidsgiverIdent===((s=n.arbeidsforhold)==null?void 0:s.arbeidsgiverIdent)&&i.arbeidsforhold.arbeidsforholdId===((l=n.arbeidsforhold)==null?void 0:l.arbeidsforholdId)});if(!t)throw new Error(`Finner ikke forventet andel med arbeidsgiverId ${(r=n.arbeidsforhold)==null?void 0:r.arbeidsgiverIdent}`);return t},Pv=(e,n)=>{const r=[];return e===void 0||e.forEach(t=>{if(t.arbeidsforhold&&!Sv(t.arbeidsforhold,r)){const i=Nv(n,t),s={andelsnr:t.andelsnr,nyttArbeidsforhold:t.nyttArbeidsforhold,beregningsperiodeTom:i.beregningsperiodeTom,beregningsperiodeFom:i.beregningsperiodeFom,...t.arbeidsforhold};r.push(s)}}),r},Rv=e=>e.length>0?e.flatMap(n=>n.fordelBeregningsgrunnlagAndeler||[]):[],Ov=e=>e.length>0?e.flatMap(n=>n.beregningsgrunnlagPrStatusOgAndel||[]):[],Bv=(e,n)=>Pv(Rv(e),Ov(n)),Fv=e=>{var n,r;const t=((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.fordelBeregningsgrunnlagPerioder)||[],i=e.beregningsgrunnlagPeriode;return Bv(t,i)},$v="_container_1tnrv_1",Dv="_buttonRemove_1tnrv_5",Vv="_buttonRow_1tnrv_16",Gv="_rightAlignInput_1tnrv_19",Lv="_slettIkon_1tnrv_29",Mv="_deleteBtn_1tnrv_36",Kv="_notLastRow_1tnrv_39",wv="_divider_1tnrv_43",Uv="_dividerTop_1tnrv_46",Cv="_sumRow_1tnrv_49",zv="_fordelingForrige_1tnrv_52",Yv="_refusjon_1tnrv_55",Hv="_nyFordeling_1tnrv_62",Jv="_periodeColumn_1tnrv_69",qv="_addCircleIcon_1tnrv_72",Wv="_imageText_1tnrv_78",Zv="_addPeriode_1tnrv_83",Xv="_customLink_1tnrv_84",Qv="_removeButton_1tnrv_85",eh="_inntektTable_1tnrv_88",nh="_shortLeftAligned_1tnrv_137",rh="_wordwrap_1tnrv_142",th="_litenBredde_1tnrv_145",ih="_storBredde_1tnrv_148",sh="_flexColumn3_1tnrv_151",ah="_benyttCheckbox_1tnrv_154",_e={container:$v,buttonRemove:Dv,buttonRow:Vv,rightAlignInput:Gv,slettIkon:Lv,deleteBtn:Mv,notLastRow:Kv,divider:wv,dividerTop:Uv,sumRow:Cv,fordelingForrige:zv,refusjon:Yv,nyFordeling:Hv,periodeColumn:Jv,addCircleIcon:qv,imageText:Wv,addPeriode:Zv,customLink:Xv,removeButton:Qv,inntektTable:eh,shortLeftAligned:nh,wordwrap:rh,litenBredde:th,storBredde:ih,flexColumn3:sh,benyttCheckbox:ah},lh=e=>({nyAndel:!0,kilde:"SAKSBEHANDLER_FORDELING",fastsattBelop:U(0),lagtTilAvSaksbehandler:!0,refusjonskravFraInntektsmelding:0,belopFraInntektsmelding:null,skalRedigereInntekt:!e}),sg=(e,n,r)=>{var t;return!e.arbeidsgiverIdent||!r[e.arbeidsgiverIdent]?e.arbeidsforholdType&&((t=n[ye.OPPTJENING_AKTIVITET_TYPE].find(i=>i.kode===e.arbeidsforholdType))==null?void 0:t.navn)||"":mt(r[e.arbeidsgiverIdent],e.eksternArbeidsforholdId)},oh=(e,n,r)=>e.map(t=>f.jsx("option",{value:t.andelsnr.toString(),children:sg(t,n,r)},t.andelsnr)),dh=(e,n,r,t)=>{const i=e.map(s=>f.jsx("option",{value:s.andelsnr.toString(),children:sg(s,r,t)},s.andelsnr));return i.push(f.jsx("option",{value:hs.BRUKERS_ANDEL,children:n.formatMessage({id:"BeregningInfoPanel.FordelingBG.Ytelse"})},hs.BRUKERS_ANDEL)),i},gh=e=>e.map(n=>f.jsx("option",{value:n.kode,children:n.navn},n.kode)),ag=e=>e>0&&U(e)||"",uh=(e,n,r,t)=>{let i=0,s=0;for(s;s<r.length;s+=1){const l=r[s],o=me(t(`FORDEL_BEREGNING_FORM.${e}.${n}.${s}.fastsattBelop`));l.skalRedigereInntekt?i+=o||0:i+=l.readOnlyBelop?o:0}return ag(i)},kh=e=>{let n=0,r=0;for(r;r<e.length;r+=1){const t=e[r];t.beregningsgrunnlagPrAar&&(n+=t.beregningsgrunnlagPrAar?Number(me(t.beregningsgrunnlagPrAar)):0)}return ag(n)},mh=e=>e.inntektskategori?bm(e.inntektskategori)||$n.FRILANSER===e.inntektskategori:!1,fh=(e,n)=>{const r=Number(n);return e.find(t=>t.andelsnr===r)},ph=(e,n)=>{var r;const t=Number(n);return(r=e.find(i=>i.andelsnr===t))==null?void 0:r.aktivitetStatus},ch=(e,n,r,t,i)=>{const s=e[n],l=fh(r,t);l&&(s.arbeidsforholdId=l.arbeidsforholdId,s.arbeidsgiverId=l.arbeidsgiverIdent,s.arbeidsperiodeFom=l.startdato,s.arbeidsperiodeTom=l.opphoersdato,s.andelsnrRef=l.andelsnr,s.aktivitetStatus=ph(e,t),s.nyttArbeidsforhold=l.nyttArbeidsforhold,s.arbeidsforholdType=l.arbeidsforholdType,s.beregningsperiodeTom=l.beregningsperiodeTom,s.beregningsperiodeFom=l.beregningsperiodeFom,i(n,s))},vh=(e,n,r,t,i,s,l)=>f.jsxs(f.Fragment,{children:[!e[n].nyAndel&&f.jsx(xe,{name:`${l(n)}.andel`,className:_e.storBredde,readOnly:!0}),e[n].nyAndel&&f.jsx(Ti,{name:`${l(n)}.andel`,className:_e.storBredde,label:"",selectValues:r,readOnly:t,validate:[X],onChange:o=>ch(e,n,i,o.target.value,s)})]}),hh=(e,n,r,t)=>n?f.jsx(C,{children:f.jsx(Xn,{children:f.jsx(xe,{name:`${t}.readOnlyBelop`,className:_e.litenBredde,parse:Le,readOnly:!0,isEdited:!1})})}):f.jsx(C,{className:_e.rightAlignInput,children:f.jsx(Xn,{children:f.jsx(xe,{name:`${t}.fastsattBelop`,parse:Le,readOnly:e,validate:[X,cn(178956970)],isEdited:r&&!n,className:_e.litenBredde})})}),bh=(e,n,r)=>(n[e].nyAndel||n[e].lagtTilAvSaksbehandler)&&!r,jh=(e,n,r,t,i,s,l)=>f.jsxs(C,{children:[vh(e,n,r,t,i,s,l),!mh(e[n])&&f.jsx("div",{className:_e.wordwrap,children:f.jsx(xe,{name:`${l(n)}.arbeidsperiodeFom - ${l(n)}.arbeidsperiodeTom`,readOnly:!0})})]}),xh=(e,n)=>e?f.jsx(C,{children:f.jsx(xe,{name:`${n}.andelIArbeid`,readOnly:!0,className:_e.litenBredde,normalizeOnBlur:r=>Number.isNaN(r)?r:parseFloat(r.toString()).toFixed(2)})}):null,Ah=(e,n,r,t)=>f.jsx(C,{className:e||!n[r].skalKunneEndreRefusjon?void 0:_e.rightAlignInput,children:f.jsx(Xn,{children:f.jsx(xe,{name:`${t(r)}.refusjonskrav`,readOnly:e||!n[r].skalKunneEndreRefusjon,parse:Le,className:_e.litenBredde,validate:n[r].skalKunneEndreRefusjon?[X,cn(178956970)]:[]})})}),Ih=e=>f.jsx(C,{children:f.jsx(xe,{name:`${e}.beregningsgrunnlagPrAar`,className:_e.litenBredde,readOnly:!0,parse:Le})}),Th=(e,n,r)=>f.jsx(C,{className:e?_e.shortLeftAligned:void 0,children:f.jsx(Xn,{children:f.jsx(Ti,{label:"",name:`${n}.inntektskategori`,className:_e.storBredde,validate:e?[]:[X],selectValues:gh(r),readOnly:e})})}),Eh=(e,n,r,t)=>f.jsx(C,{children:bh(n,e,r)&&f.jsx(ie,{icon:f.jsx(Hn,{"aria-hidden":!0,className:_e.slettIkon}),onClick:()=>t(n),type:"button",variant:"tertiary"})}),_h=(e,n,r)=>f.jsxs(we,{children:[f.jsx(C,{children:f.jsx(m,{id:"BeregningInfoPanel.FordelBG.Sum"})}),r&&f.jsx(C,{}),f.jsx(C,{}),f.jsx(C,{children:f.jsx(D,{size:"small",children:n})}),f.jsx(C,{children:f.jsx(D,{size:"small",children:e})}),f.jsx(C,{}),f.jsx(C,{})]},"bruttoBGSummaryRow"),yh=e=>{const n=[];return n.push("BeregningInfoPanel.FordelBG.Andel"),e&&n.push("BeregningInfoPanel.FordelBG.AndelIArbeid"),n.push("BeregningInfoPanel.FordelBG.Refusjonskrav"),n.push("BeregningInfoPanel.FordelBG.Beregningsgrunnlag"),n.push("BeregningInfoPanel.FordelBG.Fordeling"),n.push("BeregningInfoPanel.FordelBG.Inntektskategori"),n},Sh=e=>{var n,r;return(((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.arbeidsforholdTilFordeling)||[]).some(t=>{var i;return(i=t.perioderMedGraderingEllerRefusjon)==null?void 0:i.some(s=>s.erGradering)})},Nh=({fieldName:e,readOnly:n,skalIkkeRedigereInntekt:r,isAksjonspunktClosed:t,arbeidsgiverOpplysningerPerId:i,kodeverkSamling:s,beregningsgrunnlag:l,skalKunneEndreRefusjon:o,sumIPeriode:d,periodeFom:u,vilkårperiodeFieldIndex:g,setFieldArrayToRepeat:p,fieldArrayToRepeat:v})=>{const{control:h,watch:x,getValues:_}=Se(),N=`FORDEL_BEREGNING_FORM.${g}.${e}`,{fields:y,append:B,remove:S,update:$}=an({control:h,name:`FORDEL_BEREGNING_FORM.${g}.${e}`});b.useEffect(()=>{v&&v!==N&&!n&&!r&&_(v).forEach(be=>{var ue;const ve=y.findIndex(nn=>nn.andel===be.andel&&(nn.inntektskategori===be.inntektskategori||!nn.inntektskategori&&!be.lagtTilAvSaksbehandler&&!nn.lagtTilAvSaksbehandler));if(ve>-1){const nn={...y[ve],fastsattBelop:be.fastsattBelop,refusjonskrav:o?be.refusjonskrav:(ue=y[ve])==null?void 0:ue.refusjonskrav,inntektskategori:be.inntektskategori};$(ve,nn)}})},[v]);const V=!!l.aktivitetStatus&&l.aktivitetStatus.some(be=>be===F.KUN_YTELSE),G=Fv(l),K=uh(g,e,y,x),ee=kh(y),ne=Sh(l),z=s[ye.INNTEKTSKATEGORI],q=Q(),w=V?dh(G,q,s,i):oh(G,s,i),Y=be=>`FORDEL_BEREGNING_FORM.${g}.${e}.${be}`,H=y.map((be,ue)=>{const ve=n||r;return f.jsxs(we,{children:[jh(y,ue,w,ve,G,$,Y),xh(ne,Y(ue)),Ah(ve,y,ue,Y),Ih(Y(ue)),hh(n,r,t,Y(ue)),Th(ve,Y(ue),z),Eh(y,ue,ve,S)]},be.id)});H.push(_h(K,ee,ne));const se=[],Ee=be=>{be&&se.push(be)};!n&&y.some(be=>!!be.skalRedigereInntekt||!!be.skalKunneEndreRefusjon)&&(Ee(gv(g,_,e,y,q)),Ee(Iv(g,_,e,y,d,q)),ne&&(Ee(Av(g,_,e,y,u,q)),Ee(yv(g,_,e,y,q,l.grunnbeløp,s))),o&&(Ee(Tv(g,y,e,_,l.grunnbeløp,q)),Ee(pv(g,y,e,_,i,q))));const $e=`FORDEL_BEREGNING_FORM.${g}.${e}.skjemagruppe`,Be=se.filter(be=>!!be),lr=Be.length>0?Be[0]:void 0,Gn=Ii($e,lr),en=()=>{p(N===v?"":N)};return f.jsxs("div",{children:[f.jsx(Qe,{headerTextCodes:yh(ne),noHover:!0,classNameTable:_e.inntektTable,children:H}),!n&&!r&&f.jsx(O,{className:_e.buttonRow,children:f.jsx(j,{className:_e.flexColumn3,children:f.jsx(ie,{icon:f.jsx(xi,{"aria-hidden":!0,className:_e.addCircleIcon}),onClick:()=>B(lh(r)),type:"button",variant:"tertiary",children:f.jsx(ge,{className:_e.imageText,children:f.jsx(m,{id:"BeregningInfoPanel.FordelingBG.LeggTilAndel"})})})})}),!n&&!r&&f.jsx(em,{className:_e.benyttCheckbox,checked:N===v,onChange:en,children:"Benytt for alle perioder"}),Gn&&f.jsx(lt,{children:Gn})]})},Ph="_statusOk_1qsx9_1",lg={statusOk:Ph},Rh="_vurdertIForrigeIcon_1q86k_1",Oh={vurdertIForrigeIcon:Rh},Bh=Zd.bind(Oh),og=({className:e=""})=>{const n=Q();return f.jsx("span",{"data-testid":"vurdertIForrigeIcon",className:Bh("vurdertIForrigeIcon",e),children:f.jsx(Ai,{size:"small",variant:"neutral",children:n.formatMessage({id:"Fordeling.VurdertTidligere"})})})},Fh=Zd.bind(lg),zi=e=>e?T(e,Ne).format(te):"-",$h=(e,n)=>n?f.jsx(D,{size:"small",children:f.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFomOgTom",values:{fom:zi(e),tom:zi(n)}})}):f.jsx(D,{size:"small",children:f.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFom",values:{fom:zi(e)}})}),Dh=e=>{var n,r;return(n=e.arbeidsforhold)!=null&&n.naturalytelseBortfaltPrÅr?(r=e.arbeidsforhold)==null?void 0:r.naturalytelseBortfaltPrÅr:0},Vh=e=>{const n=Dh(e);return e.besteberegningPrAar!==void 0&&e.besteberegningPrAar!==null?e.besteberegningPrAar+n:e.overstyrtPrAar!==void 0&&e.overstyrtPrAar!==null?e.overstyrtPrAar+n:e.beregnetPrAar!==void 0&&e.beregnetPrAar!==null?e.beregnetPrAar+n:0},Gh=(e,n)=>{var r;return(((r=e.find(t=>t.beregningsgrunnlagPeriodeFom===n))==null?void 0:r.beregningsgrunnlagPrStatusOgAndel)||[]).map(t=>Vh(t)).reduce((t,i)=>t+i,0)},fa=({readOnly:e,erVurdertTidligere:n,isAksjonspunktClosed:r,open:t,showPanel:i,beregningsgrunnlag:s,kodeverkSamling:l,arbeidsgiverOpplysningerPerId:o,fordelBGFieldArrayName:d,fordelingsperiode:u,fieldIndex:g,setFieldArrayToRepeat:p,fieldArrayToRepeat:v})=>u.fom?f.jsx(De,{className:e?lg.statusOk:Fh(`fordelBeregningsgrunnlagPeriode--${u.fom}`),children:f.jsxs(De.Item,{open:t,children:[f.jsxs(De.Header,{onClick:()=>i(u.fom),children:[$h(u.fom,u.tom)," ",n?f.jsx(og,{}):""]}),f.jsx(De.Content,{children:f.jsx(Nh,{fieldName:d,readOnly:e,sumIPeriode:Gh(s.beregningsgrunnlagPeriode,u.fom),skalIkkeRedigereInntekt:!u.skalRedigereInntekt,skalKunneEndreRefusjon:!!u.skalKunneEndreRefusjon,periodeFom:u.fom,isAksjonspunktClosed:r,kodeverkSamling:l,beregningsgrunnlag:s,arbeidsgiverOpplysningerPerId:o,vilkårperiodeFieldIndex:g,setFieldArrayToRepeat:p,fieldArrayToRepeat:v})})]})}):null,Lh=(e,n)=>{const r=(n.beregningsgrunnlagPrStatusOgAndel||[]).find(t=>t.andelsnr===e.andelsnr);if(!r)throw Error(`Finner ikke matchende andel med andelsnr ${e.andelsnr}`);return r},Mh=(e,n)=>{var r;const t=(r=e.arbeidsforhold)==null?void 0:r.startdato;return!!t&&!T(t).isBefore(T(n))},hl=e=>{var n,r,t,i;if(!e)return;const s=((n=e.arbeidsforhold)==null?void 0:n.naturalytelseBortfaltPrÅr)===null||((r=e.arbeidsforhold)==null?void 0:r.naturalytelseBortfaltPrÅr)===void 0?0:e.arbeidsforhold.naturalytelseBortfaltPrÅr,l=((t=e.arbeidsforhold)==null?void 0:t.naturalytelseTilkommetPrÅr)===null||((i=e.arbeidsforhold)==null?void 0:i.naturalytelseTilkommetPrÅr)===void 0?0:e.arbeidsforhold.naturalytelseTilkommetPrÅr;if(e.besteberegningPrAar||e.besteberegningPrAar===0)return U(e.besteberegningPrAar+s-l);if(e.overstyrtPrAar||e.overstyrtPrAar===0)return U(e.overstyrtPrAar+s-l);if(e.beregnetPrAar||e.beregnetPrAar===0)return U(e.beregnetPrAar+s-l)},Kh=e=>(e.fordelingForrigeBehandlingPrAar||e.fordelingForrigeBehandlingPrAar===0?U(e.fordelingForrigeBehandlingPrAar):"")||"";fa.buildInitialValues=(e,n,r,t,i,s)=>!e||!e.fordelBeregningsgrunnlagAndeler?[]:e.fordelBeregningsgrunnlagAndeler.map(l=>{const o=Lh(l,n);return{...tv(l,t,i,s),...rv(l),andelIArbeid:Zc(l.andelIArbeid||[]),fordelingForrigeBehandling:Kh(l),fastsattBelop:nv(l.fordeltPrAar,o.bruttoPrAar,!!e.skalPreutfyllesMedBeregningsgrunnlag),readOnlyBelop:hl(o),refusjonskrav:l.refusjonskravPrAar!==null&&l.refusjonskravPrAar!==void 0?U(l.refusjonskravPrAar):"",skalKunneEndreRefusjon:e.skalKunneEndreRefusjon&&!l.lagtTilAvSaksbehandler&&l.refusjonskravFraInntektsmeldingPrAar?e.skalKunneEndreRefusjon:!1,belopFraInntektsmelding:l.belopFraInntektsmeldingPrAar,skalRedigereInntekt:!!e.skalRedigereInntekt,refusjonskravFraInntektsmelding:l.refusjonskravFraInntektsmeldingPrAar,nyttArbeidsforhold:l.nyttArbeidsforhold||Mh(o,r),beregningsgrunnlagPrAar:hl(o),forrigeRefusjonPrAar:l.refusjonskravPrAar,forrigeArbeidsinntektPrAar:ev(l.fordeltPrAar),beregningsperiodeFom:o.beregningsperiodeFom,beregningsperiodeTom:o.beregningsperiodeTom}});const wh="_lessPadding_xotc9_1",Uh={lessPadding:wh};function bl(e,n){return n.tom!=null&&!T(n.tom).isBefore(T(e.fom))&&(e.tom==null||!T(n.tom).isAfter(T(e.tom)))}function Ch(e,n){return bl(e,n)||bl(n,e)}function En(e,n){var r;return(r=e.fordelBeregningsgrunnlagAndeler)!=null&&r.some(t=>!t.inntektskategori||t.inntektskategori===$n.UDEFINERT)?!0:!n||n.length===0||n.some(t=>Ch(t,e))}const dg="fordelBGPeriode",pa=e=>dg+e,zh=e=>({refusjonPrÅr:e.skalKunneEndreRefusjon&&e.refusjonskrav?me(e.refusjonskrav):void 0,fastsattÅrsbeløpInklNaturalytelse:me(e.fastsattBelop),inntektskategori:e.inntektskategori||""}),cr=(e,n)=>!!e.periodeAarsaker&&e.periodeAarsaker.includes(n),Yh=e=>cr(e,un.ENDRING_I_REFUSJONSKRAV)||cr(e,un.REFUSJON_OPPHOERER)||cr(e,un.GRADERING)||cr(e,un.GRADERING_OPPHOERER),Hh=(e,n)=>{const r=n.indexOf(e);return n[r-1].bruttoPrAar===e.bruttoPrAar},Jh=(e,n)=>!e.arbeidsforhold&&!n.arbeidsforhold?!0:e.arbeidsforhold&&n.arbeidsforhold?e.arbeidsforhold.arbeidsgiverIdent===n.arbeidsforhold.arbeidsgiverIdent&&e.arbeidsforhold.arbeidsforholdId===n.arbeidsforhold.arbeidsforholdId:!1;function jl(e){const n=T(e.beregningsgrunnlagPeriodeFom).day()===6,r=T(e.beregningsgrunnlagPeriodeFom).day()===0,t=T(e.beregningsgrunnlagPeriodeTom).day()===6,i=T(e.beregningsgrunnlagPeriodeTom).day()===0;return(n||r)&&(t||i)}const qh=e=>{var n;return(n=e.andelIArbeid)==null?void 0:n.some(r=>r!==100)};function Wh(e){var n;return(n=e.fordelBeregningsgrunnlagAndeler)==null?void 0:n.some(r=>qh(r))}function Zh(e=[],n=[]){return e.sort((r,t)=>r-t),n.sort((r,t)=>r-t),e.join("_")!==n.join("-")}const Xh=(e,n)=>e.some(r=>{const t=n.find(i=>i.aktivitetStatus===r.aktivitetStatus&&i.inntektskategori===r.inntektskategori&&Jh(i,r));return!!(t===void 0||Zh(t.andelIArbeid,r.andelIArbeid)||t.refusjonskravPrAar!==r.refusjonskravPrAar)}),Qh=(e,n,r,t)=>{const i=e.fordelBeregningsgrunnlagAndeler||[],s=n.fordelBeregningsgrunnlagAndeler||[];if(i.length!==s.length)return!1;const l=t.indexOf(r),o=t[l-1];if(r.bruttoPrAar!==o.bruttoPrAar)return!1;const d=jl(r),u=jl(o),g=e.skalKunneEndreRefusjon||n.skalKunneEndreRefusjon;return(d||u)&&!g?!0:!Xh(i,s)},eb=(e,n,r,t,i)=>{var s,l;const o=t[t.length-1];return((s=r.fordelBeregningsgrunnlagAndeler)==null?void 0:s.length)!==((l=o.fordelBeregningsgrunnlagAndeler)==null?void 0:l.length)||r.skalRedigereInntekt!==o.skalRedigereInntekt||Yh(e)||En(r,i)&&!En(o,i)?!1:cr(e,un.ARBEIDSFORHOLD_AVSLUTTET)?Hh(e,n):cr(e,un.ENDRING_I_AKTIVITETER_SØKT_FOR)?Qh(r,o,e,n):!0},nb=(e,n)=>{const r={...e.pop(),tom:n.tom};e.push(r)},rb=(e,n)=>(r,t)=>{if(r.length===0)return r.push({...t}),r;const i=e.find(s=>s.beregningsgrunnlagPeriodeFom===t.fom);if(i){if(eb(i,e,t,r,n))return nb(r,t),r;r.push({...t})}return r},tb=e=>({fom:n,tom:r})=>(T(n).isSame(T(e.fom))||T(n).isAfter(e.fom))&&(e.tom===null||T(r).isSame(T(e.tom))||T(r).isBefore(T(e.tom))),ib=e=>{if(e.nyAndel&&e.andel)return e.andel;if(!e.andelsnr)throw Error(`Forventer å finne andelsnr for submit på aktivitet ${e}`);return e.andelsnr},sb=e=>({andelsnr:ib(e),aktivitetStatus:e.aktivitetStatus,arbeidsgiverId:e.arbeidsgiverId!==""?e.arbeidsgiverId:void 0,arbeidsforholdId:e.arbeidsforholdId!==""?e.arbeidsforholdId:void 0,nyAndel:e.nyAndel,kilde:e.kilde,lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler,arbeidsforholdType:e.arbeidsforholdType,beregningsperiodeTom:e.beregningsperiodeTom,beregningsperiodeFom:e.beregningsperiodeFom,forrigeArbeidsinntektPrÅr:e.forrigeArbeidsinntektPrAar,forrigeRefusjonPrÅr:e.forrigeRefusjonPrAar,forrigeInntektskategori:e.forrigeInntektskategori,fastsatteVerdier:zh(e)}),ab=e=>{if(!e)throw Error("Fant ikke påkrevd felt før submit");return e},lb=(e,n,r,t)=>t.filter(tb(r)).filter(i=>i.skalRedigereInntekt||i.skalKunneEndreRefusjon).map(i=>({andeler:e[pa(n)].map(sb),fom:ab(i.fom),tom:i.tom})),ca=(e,n,r)=>e.filter(t=>Wh(t)).reduce(rb(n,r),[]),ob=(e,n)=>{const r=n.find(t=>t.beregningsgrunnlagPeriodeFom===e.fom);if(!r)throw Error(`Finner ikke matchende beregningsgrunnlagperiode for fordelingsperiode med fom ${e.fom}`);return r},db=(e,n,r,t)=>{const i=[],s=ca(e,r,t);for(let l=0;l<s.length;l+=1){const{skalRedigereInntekt:o}=s[l];o&&En(s[l])&&lb(n,l,s[l],e).forEach(d=>i.push(d))}return i};function gb(e,n){return En(n,e.forlengelseperioder)}function ub(e,n){var r;return!En(e,n.forlengelseperioder)&&e.skalRedigereInntekt===!0&&!!e.fordelBeregningsgrunnlagAndeler&&((r=e.fordelBeregningsgrunnlagAndeler)==null?void 0:r.every(t=>t.fordeltPrAar!==null&&t.fordeltPrAar!==void 0))}const ct=({readOnly:e,perioder:n,isAksjonspunktClosed:r,bgPerioder:t,beregningsgrunnlag:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:l,fieldIndex:o})=>{const[d,u]=b.useState([]),[g,p]=b.useState("");b.useEffect(()=>{const h=n.filter(x=>gb(i,x)).filter(x=>x.skalKunneEndreRefusjon||x.skalRedigereInntekt).filter(x=>!!x.fom).map(x=>x.fom||"");u(h)},[n]);const v=h=>{if(d.includes(h)){const x=d.filter(_=>_!==h);u(x)}else{const x=d.map(_=>_);x.push(h),u(x)}};return f.jsx(_d,{className:Uh.lessPadding,children:ca(n,t,i.forlengelseperioder).map((h,x)=>f.jsxs(W.Fragment,{children:[f.jsx(A,{eightPx:!0}),f.jsx(fa,{readOnly:e||!En(h,i.forlengelseperioder),erVurdertTidligere:ub(h,i),fordelingsperiode:h,fordelBGFieldArrayName:pa(x),open:d?d.filter(_=>_===h.fom).length>0:!1,isAksjonspunktClosed:r,showPanel:v,beregningsgrunnlag:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:l,fieldIndex:o,setFieldArrayToRepeat:p,fieldArrayToRepeat:g}),f.jsx(A,{eightPx:!0})]},dg+h.fom))})};ct.transformValues=(e,n,r,t)=>({endretBeregningsgrunnlagPerioder:db(n,e,r,t)});ct.buildInitialValues=(e,n,r,t)=>{const i={};if(!e)return i;const s=!!n.aktivitetStatus&&n.aktivitetStatus.some(o=>o===F.KUN_YTELSE),l=n.beregningsgrunnlagPeriode;return ca(e,l,n.forlengelseperioder).forEach((o,d)=>{const u=ob(o,l);i[pa(d)]=fa.buildInitialValues(o,u,n.skjaeringstidspunktBeregning,s,r,t)}),i};const kb=e=>{var n,r;return((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.fordelBeregningsgrunnlagPerioder)||[]},vt=({isAksjonspunktClosed:e,readOnly:n,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s})=>{const l=r.beregningsgrunnlagPeriode,o=kb(r);return f.jsx(ct,{perioder:o,readOnly:n,isAksjonspunktClosed:e,bgPerioder:l,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s})};vt.buildInitialValues=(e,n,r,t)=>ct.buildInitialValues(e,n,r,t);vt.transformValues=(e,n,r,t)=>ct.transformValues(e,n,r,t);const{FORDEL_BEREGNINGSGRUNNLAG:xs}=Ye,mb=(e,n)=>n.some(r=>r.definisjon===e),gg=e=>{const n=e.find(r=>r.definisjon===xs);if(!n)throw Error(`Fant ikke forventet avklaringsbehov ${xs}`);return n},fb="begrunnelse",ug=e=>{var n,r;return((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.fordelBeregningsgrunnlagPerioder)||[]},pb=(e,n)=>{if(!mb(xs,n.avklaringsbehov))throw Error("har ikke aksjonspunkt for fordeling når transform values ble kalt");const r=n.beregningsgrunnlagPeriode;return{begrunnelse:e.begrunnelse,periode:e.periode,...vt.transformValues(e,ug(n),r,n.forlengelseperioder)}},cb=(e,n,r,t)=>{const i=ug(e);return{beregningsgrunnlagStp:e.skjaeringstidspunktBeregning,periode:n.periode,...Or.buildInitialValues(gg(e.avklaringsbehov),fb),...vt.buildInitialValues(i,e,t,r)}},vb=({readOnly:e,submittable:n,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s})=>{const l=gg(r.avklaringsbehov),o=!vn(l.status),d=Se(),u=d.watch(`FORDEL_BEREGNING_FORM.${s}.begrunnelse`);return f.jsxs(f.Fragment,{children:[f.jsx(qc,{isAksjonspunktClosed:o,beregningsgrunnlag:r}),f.jsx(A,{twentyPx:!0}),f.jsx(vt,{readOnly:e,isAksjonspunktClosed:o,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s}),f.jsx(A,{twentyPx:!0}),f.jsx(Or,{name:`FORDEL_BEREGNING_FORM.${s}.begrunnelse`,isSubmittable:n,isReadOnly:e,hasBegrunnelse:!!u}),f.jsx(A,{twentyPx:!0}),f.jsx(Ri,{isSubmittable:n,isReadOnly:e,isSubmitting:d.formState.isSubmitting,isDirty:d.formState.isDirty})]})},{FORDEL_BEREGNINGSGRUNNLAG:hb}=Ye,ki="FORDEL_BEREGNING_FORM",bb=(e,n)=>{const r=n.find(t=>t.vilkårsperiodeFom===e);if(!r)throw Error(`Mangler beregningsgrunnlag for vilkårsperiodeFom ${e}`);return r},jb=(e,n,r)=>{const t=e[ki].filter(i=>rr(r,i.periode.fom)).map(i=>pb(i,bb(i.periode.fom,n)));return{begrunnelse:t.map(i=>i.begrunnelse).reduce((i,s)=>i!==null?`${i} ${s}`:s),grunnlag:t,kode:hb}},xb=(e,n,r,t)=>({[ki]:e.filter(i=>i.avklaringsbehov.some(s=>s.definisjon===Ye.FORDEL_BEREGNINGSGRUNNLAG)).map(i=>cb(i,pt(n,i.vilkårsperiodeFom),r,t))}),Ab=({aktivtBeregningsgrunnlagIndeks:e,readOnly:n,submittable:r,submitCallback:t,beregningsgrunnlagListe:i,vilkårsperioder:s,kodeverkSamling:l,arbeidsgiverOpplysningerPerId:o,formData:d,setFormData:u,setFordelingFormIsDirty:g})=>{const p=He({defaultValues:d!=null&&d.FORDEL_BEREGNING_FORM?d:xb(i,s,o,l)}),{formState:{dirtyFields:v,isSubmitted:h,errors:x,isDirty:_},control:N,trigger:y}=p;b.useEffect(()=>{g(_)},[_]),b.useEffect(()=>{var S;h&&(S=v[ki])!=null&&S[e]&&y()},[e]);const{fields:B}=an({name:ki,control:N});return f.jsx(ea,{errorMessage:"Noe gikk galt ved visning av fordeling",children:f.jsx(Je,{formMethods:p,onSubmit:S=>{Object.keys(x).length===0&&t(jb(S,i,s))},setDataOnUnmount:u,children:B.map(S=>{const $=i.findIndex(V=>V.skjaeringstidspunktBeregning===S.beregningsgrunnlagStp);return f.jsx("div",{style:{display:$===e?"block":"none"},children:f.jsx(vb,{submittable:r,readOnly:n||!rr(s,i[$].vilkårsperiodeFom),beregningsgrunnlag:i[$],arbeidsgiverOpplysningerPerId:o,kodeverkSamling:l,fieldIndex:$})},S.id)})})})};var kg={exports:{}};(function(e,n){(function(r,t){e.exports=t()})(ic,function(){return function(r,t,i){t.prototype.isBetween=function(s,l,o,d){var u=i(s),g=i(l),p=(d=d||"()")[0]==="(",v=d[1]===")";return(p?this.isAfter(u,o):!this.isBefore(u,o))&&(v?this.isBefore(g,o):!this.isAfter(g,o))||(p?this.isBefore(u,o):!this.isAfter(u,o))&&(v?this.isAfter(g,o):!this.isBefore(g,o))}}})})(kg);var Ib=kg.exports;const mg=Yd(Ib);T.extend(mg);const Tb="2023-05-01";function Eb(){return(e,n,r)=>r.findIndex(t=>t.skalRedusereUtbetaling===e.skalRedusereUtbetaling&&t.arbeidsforholdId===e.arbeidsforholdId&&t.arbeidsgiverId===e.arbeidsgiverId&&t.aktivitetStatus===e.aktivitetStatus&&t.bruttoInntektPrÅr===e.bruttoInntektPrÅr)===n}const _b=(e,n)=>{const r=e.pop();if(!r)return;const t=[...r.inntektsforholdListe];n.inntektsforholdListe.forEach(s=>t.push(s));const i={...r,inntektsforholdListe:t.filter(Eb()),tom:n.tom};e.push(i)},yb=(e,n)=>{const r=e.inntektsforholdListe||[],t=n.inntektsforholdListe||[];for(let i=0;i<r.length;i+=1){const s=r[i],l=t.find(o=>o.aktivitetStatus===s.aktivitetStatus&&o.arbeidsgiverId===s.arbeidsgiverId&&o.arbeidsforholdId===s.arbeidsforholdId);if(l===void 0)return!0;if(l.bruttoInntektPrÅr!==s.bruttoInntektPrÅr||l.skalRedusereUtbetaling!==s.skalRedusereUtbetaling)return!1}return!0},xl=(e,n)=>pd(e,n,!0)>2,Sb=(e,n)=>{const r=n.tom,t=e.fom;return T(r).isBefore(T(t))?xl(r,t):xl(t,r)},Nb=(e,n,r)=>{if(T(e.fom).isSame(T(Tb)))return!1;const t=n[n.length-1],i=En(e,r);return i&&!En(t,r)||i&&Sb(e,t)?!1:yb(e,t)},Pb=e=>(n,r)=>n.length===0?(n.push({...r}),n):Nb(r,n,e)?(_b(n,r),n):(n.push({...r}),n),fg=(e,n)=>e.reduce(Pb(n),[]);function As(e,n){var r;return!En(e,n.forlengelseperioder)&&!!e.inntektsforholdListe&&((r=e.inntektsforholdListe)==null?void 0:r.every(t=>t.skalRedusereUtbetaling!==null))}const pg=(e,n)=>{let r=null;return e.arbeidsgiverId!==null&&e.arbeidsgiverId!==void 0&&(r=n[e.arbeidsgiverId]),e.aktivitetStatus===F.ARBEIDSTAKER?r?mt(r,e.arbeidsforholdId):"Arbeidsforhold":e.aktivitetStatus===F.FRILANSER?"Frilanser":e.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE?"Selvstendig næringsdrivende":""},Rb=(e,n)=>{let r=null;return e.arbeidsgiverIdent&&(r=n[e.arbeidsgiverIdent]),e.aktivitetStatus===F.ARBEIDSTAKER?r?mt(r,e.arbeidsforholdId):"Arbeidsforhold":e.aktivitetStatus===F.FRILANSER?"Frilanser":e.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE?"Selvstendig næringsdrivende":""},Ob="_statusOk_1qsx9_1",Al={statusOk:Ob},Bb="_tilkommetAktivitet_1xjj3_1",Fb="_aktivitetContainer_1xjj3_4",$b="_aktivitetTable_1xjj3_7",Db="_separator_1xjj3_12",Vb="_aksjonspunktContainer_1xjj3_16",Gb="_aksjonspunktContainerLukketAP_1xjj3_21",Lb="_aksjonspunktContainerLukketAP_1xjj3_21",Mb="_bruttoInntektContainer_1xjj3_26",Kb="_bruttoInntektInput_1xjj3_29",wb="_bruttoInntektCurrency_1xjj3_32",Ub="_edited_1xjj3_37",Cb="_inntektsmeldingTag_1xjj3_40",zb="_inntektColumn_1xjj3_43",Yb="_tittelRad_1xjj3_47",Hb="_modalKnapp_1xjj3_50",Fe={tilkommetAktivitet:Bb,aktivitetContainer:Fb,aktivitetTable:$b,separator:Db,aksjonspunktContainer:Vb,aksjonspunktContainerLukketAP:Gb,aksjonspunktContainerLukketAp:Lb,bruttoInntektContainer:Mb,bruttoInntektInput:Kb,bruttoInntektCurrency:wb,edited:Ub,inntektsmeldingTag:Cb,inntektColumn:zb,tittelRad:Yb,modalKnapp:Hb},Jb=e=>{if(!e)return"";let n=e.aktivitetStatus;return e.arbeidsgiverId&&(n+=e.arbeidsgiverId),e.arbeidsforholdId&&(n+=e.arbeidsforholdId),n},qb=({formName:e,bgIndex:n,periodeFieldIndex:r,readOnly:t,inntektsforholdFieldIndex:i,field:s,arbeidsgiverOpplysningerPerId:l})=>{const o=Se(),d=Q(),u=o.watch(`${e}.${n}.perioder.${r}.inntektsforhold.${i}.skalRedusereUtbetaling`),g=()=>{switch(s.aktivitetStatus){case F.ARBEIDSTAKER:return f.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerArbeid",values:{br:f.jsx("br",{})}});case F.FRILANSER:return f.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerFrilans",values:{br:f.jsx("br",{})}});case F.SELVSTENDIG_NAERINGSDRIVENDE:return f.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerNæring"});default:return f.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerArbeid"})}},p=()=>s.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE?d.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.VurderTekstNæring"}):s.aktivitetStatus===F.FRILANSER?d.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.VurderTekstFrilans"}):d.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.VurderTekstArbeid"},{arbeidsforhold:Rb(s,l)});return f.jsxs(f.Fragment,{children:[f.jsx(Te,{label:p(),name:`${e}.${n}.perioder.${r}.inntektsforhold.${i}.skalRedusereUtbetaling`,radios:[{value:"true",label:d.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Ja"})},{value:"false",label:d.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Nei"})}],isReadOnly:t,validate:[X],isTrueOrFalseSelection:!0}),u===!1&&f.jsxs(f.Fragment,{children:[f.jsx(A,{sixteenPx:!0}),f.jsx(Zn,{size:"small",variant:"info",children:d.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Alert"})})]}),u&&f.jsxs(f.Fragment,{children:[f.jsx(A,{sixteenPx:!0}),f.jsx(D,{size:"small",children:f.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.Fastsett"})}),f.jsx(yd,{header:f.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMer"}),children:g()}),f.jsx(A,{eightPx:!0}),f.jsxs("div",{className:Fe.bruttoInntektContainer,children:[f.jsx(xe,{name:`${e}.${n}.perioder.${r}.inntektsforhold.${i}.bruttoInntektPrÅr`,label:"Fastsett årsinntekt",hideLabel:!0,readOnly:t,className:Fe.bruttoInntektInput,parse:Le,validate:[X,cn(178956970)]}),f.jsx("span",{className:Fe.bruttoInntektCurrency,children:"kr"})]})]})]})},Il=e=>!!e&&+e>0,Wb=({arbeidsgiverOpplysningerPerId:e,vurderInntektsforholdPeriode:n})=>{const r=Q(),t=s=>{const l=[];return s.inntektsforholdListe.forEach(o=>{const d=Il(o.bruttoInntektPrÅr),u=Il(o.inntektFraInntektsmeldingPrÅr);l.push(f.jsxs(we,{children:[f.jsx(C,{children:f.jsx(I,{size:"small",children:pg(o,e)})}),f.jsx(C,{children:f.jsx(I,{size:"small",children:o.skalRedusereUtbetaling?r.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Ja"}):r.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Nei"})})}),(d||u)&&f.jsx(C,{children:f.jsxs(I,{size:"small",children:[d&&f.jsxs(f.Fragment,{children:[ii(o.bruttoInntektPrÅr||0),f.jsx(Ni,{})]}),u&&!d&&f.jsxs(f.Fragment,{children:[ii(o.inntektFraInntektsmeldingPrÅr||0),f.jsx(Ai,{className:Fe.inntektsmeldingTag,variant:"neutral",size:"xsmall",children:"IM"})]})]})})]},Jb(o)))}),l},i=["BeregningInfoPanel.TilkommetAktivitet.Aktivitet","BeregningInfoPanel.TilkommetAktivitet.RedusererUtbetaling",n.inntektsforholdListe.some(s=>s.bruttoInntektPrÅr)?"BeregningInfoPanel.TilkommetAktivitet.Årsinntekt":"BeregningInfoPanel.TilkommetAktivitet.TomTekst"].map(s=>f.jsxs(D,{size:"small",children:[f.jsx(m,{id:s})," "]},s));return f.jsx("div",{className:Fe.aktivitetContainer,children:f.jsx(Qe,{headerColumnContent:i,noHover:!0,classNameTable:Fe.aktivitetTable,children:t(n)})})},Gt=e=>!!e&&+e>0,Zb=({formName:e,vurderInntektsforholdPeriode:n,bgIndex:r,periodeFieldIndex:t,readOnly:i,erAksjonspunktÅpent:s,submittable:l,arbeidsgiverOpplysningerPerId:o,skalViseBegrunnelse:d})=>{const{control:u,formState:g}=Se(),{fields:p}=an({control:u,name:`VURDER_TILKOMMET_AKTIVITET_FORM.${r}.perioder.${t}.inntektsforhold`}),v=n.inntektsforholdListe.some(N=>Gt(N.bruttoInntektPrÅr)||Gt(N.inntektFraInntektsmeldingPrÅr)),h=n.inntektsforholdListe.some(N=>!!N.periode),x=["BeregningInfoPanel.TilkommetAktivitet.Aktivitet",v?"BeregningInfoPanel.TilkommetAktivitet.Årsinntekt":"BeregningInfoPanel.TilkommetAktivitet.TomTekst",h?"BeregningInfoPanel.TilkommetAktivitet.Periode":"BeregningInfoPanel.TilkommetAktivitet.TomTekst"].map(N=>f.jsxs(D,{size:"small",children:[f.jsx(m,{id:N})," "]},N)),_=N=>{const y=[],{inntektsforholdListe:B}=N;return B.forEach(S=>{const $=Gt(S.bruttoInntektPrÅr),V=Gt(S.inntektFraInntektsmeldingPrÅr);y.push(f.jsxs(we,{children:[f.jsx(C,{children:f.jsx(I,{size:"small",children:pg(S,o)})}),($||V||h)&&f.jsx(C,{className:Fe.inntektColumn,children:f.jsxs(I,{size:"small",children:[$&&!V&&f.jsxs(f.Fragment,{children:[ii(S.bruttoInntektPrÅr||0),f.jsx(Ni,{})]}),V&&f.jsxs(f.Fragment,{children:[ii(S.inntektFraInntektsmeldingPrÅr||0),f.jsx(Ai,{className:Fe.inntektsmeldingTag,variant:"neutral",size:"xsmall",children:"IM"})]})]})}),S.periode&&f.jsx(C,{className:Fe.periodeColumn,children:f.jsx(I,{size:"small",children:f.jsx(ze,{dateStringFom:S.periode.fom,dateStringTom:S.periode.tom})})})]},S.arbeidsgiverId||S.aktivitetStatus))}),y};return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:Fe.aktivitetContainer,children:f.jsx(Qe,{noHover:!0,headerColumnContent:x,classNameTable:Fe.aktivitetTable,children:_(n)})}),f.jsx(A,{sixteenPx:!0}),f.jsxs("div",{className:s?Fe.aksjonspunktContainer:Fe.aksjonspunktContainerLukketAP,children:[p.map((N,y)=>f.jsxs("div",{children:[f.jsx(qb,{formName:e,bgIndex:r,periodeFieldIndex:t,inntektsforholdFieldIndex:y,field:N,readOnly:i,arbeidsgiverOpplysningerPerId:o},N.id),y<n.inntektsforholdListe.length-1&&f.jsx(A,{fourtyPx:!0})]},N.id)),d&&f.jsxs(f.Fragment,{children:[f.jsx(A,{fourtyPx:!0}),f.jsx(Xe,{name:`${e}.${r}.begrunnelse`,label:"Begrunnelse",readOnly:i,validate:[X]}),f.jsx(A,{sixteenPx:!0}),f.jsx(Ri,{isSubmittable:l,isReadOnly:i,isSubmitting:g.isSubmitting,isDirty:g.isDirty})]})]})]})},Yi=e=>e?T(e,Ne).format(te):"-",Tl=(e,n)=>!n||n===Ke?f.jsx(D,{size:"medium",children:f.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFom",values:{fom:Yi(e)}})}):f.jsx(D,{size:"medium",children:f.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFomOgTom",values:{fom:Yi(e),tom:Yi(n)}})}),Xb=({beregningsgrunnlag:e,arbeidsgiverOpplysningerPerId:n,formName:r,bgIndex:t,readOnly:i,submittable:s,erAksjonspunktÅpent:l,fields:o})=>{const[d,u]=b.useState([]),[g,p]=b.useState([]),v=Se();b.useEffect(()=>{var y,B;const S=(B=(y=e.faktaOmFordeling)==null?void 0:y.vurderNyttInntektsforholdDto)==null?void 0:B.vurderInntektsforholdPerioder;if(S){const $=fg(S,e.forlengelseperioder);u($);const V=$.filter(G=>!As(G,e)).filter(G=>!!G.fom).map(G=>G.fom);p(V)}},[e]);const h=d.filter(y=>As(y,e)),x=y=>{if(g.includes(y)){const B=g.filter(S=>S!==y);p(B)}else{const B=g.map(S=>S);B.push(y),p(B)}},_=y=>{const B=T(y),S=d.find($=>!T($.fom).isAfter(B)&&!T($.tom).isBefore(B));if(!S)throw new Error(`Finner ikke periode som overlapper med fom ${y}`);return S},N=y=>()=>x(y);return!d||d.length<1?null:f.jsxs(f.Fragment,{children:[f.jsxs(De,{className:Al.statusOk,children:[h.map(y=>f.jsxs(De.Item,{open:g.filter(B=>B===y.fom).length>0,children:[f.jsxs(De.Header,{onClick:N(y.fom),children:[Tl(y.fom,y.tom)," ",f.jsx(og,{})]}),f.jsx(De.Content,{children:f.jsx(Wb,{arbeidsgiverOpplysningerPerId:n,vurderInntektsforholdPeriode:y})})]},y.fom)),o.map((y,B)=>f.jsxs(De.Item,{open:g.filter(S=>S===y.fom).length>0,children:[f.jsx(De.Header,{onClick:N(y.fom),children:Tl(y.fom,y.tom)}),f.jsx(De.Content,{children:f.jsx(Zb,{arbeidsgiverOpplysningerPerId:n,vurderInntektsforholdPeriode:_(y.fom),formName:r,bgIndex:t,periodeFieldIndex:B,readOnly:i,erAksjonspunktÅpent:l,submittable:s,skalViseBegrunnelse:o.length===1})})]},y.fom))]}),o.length>1&&f.jsxs("div",{className:Al.aktivitetContainer,children:[f.jsx(A,{fourtyPx:!0}),f.jsx(Xe,{name:`${r}.${t}.begrunnelse`,label:"Begrunnelse for alle perioder",readOnly:i,validate:[X]}),f.jsx(A,{sixteenPx:!0}),f.jsx(Ri,{isSubmittable:s,isReadOnly:i,isSubmitting:v.formState.isSubmitting,isDirty:v.formState.isDirty})]})]})},Qb="_datoRad_cbhga_1",ej="_modal_cbhga_8",El={datoRad:Qb,modal:ej};function cg(e){var n,r,t="";if(typeof e=="string"||typeof e=="number")t+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(r=cg(e[n]))&&(t&&(t+=" "),t+=r);else for(n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function vg(){for(var e,n,r=0,t="";r<arguments.length;)(e=arguments[r++])&&(n=cg(e))&&(t&&(t+=" "),t+=n);return t}const nj=e=>vg({"navds-typo--spacing":e.spacing,"navds-typo--truncate":e.truncate,"navds-typo--semibold":e.weight==="semibold",[`navds-typo--align-${e.align}`]:e.align,[`navds-typo--color-${e.textColor}`]:e.textColor,"navds-typo--visually-hidden":e.visuallyHidden,"navds-typo--uppercase":e.uppercase});var rj=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const tj=b.forwardRef((e,n)=>{var{className:r,size:t="medium",as:i="label",spacing:s,visuallyHidden:l,textColor:o}=e,d=rj(e,["className","size","as","spacing","visuallyHidden","textColor"]);return W.createElement(i,Object.assign({},d,{ref:n,className:vg(r,"navds-label",nj({spacing:s,visuallyHidden:l,textColor:o}),{"navds-label--small":t==="small"})}))}),ij=tj,_l=e=>e===Ke?"":T(e).format(te),sj=({periode:e,forhåndsvisPeriodesplitt:n,setValgtDato:r})=>{const t=Q(),[i,s]=b.useState(),l=b.useCallback(g=>{const p=T(g).format(Ne);if(r(p),p){const v=n(p);v.sort((h,x)=>T(h.fom).diff(T(x.fom))),s(v)}},[n]),o=[g=>!e||!T(g).isAfter(T(e.fom))||T(g).isAfter(T(e.tom))],{datepickerProps:d,inputProps:u}=Qk({today:new Date(e.fom),disableWeekends:!0,disabled:o,onDateChange:l});return f.jsxs(f.Fragment,{children:[f.jsx(j,{children:f.jsx(Qa,{...d,children:f.jsx(Qa.Input,{...u,label:t.formatMessage({id:"TilkommetAktivitet.Modal.DatoValg"}),size:"small"})})}),i&&f.jsxs(j,{children:[f.jsx(ij,{children:f.jsx(m,{id:"TilkommetAktivitet.Modal.Resultat"})}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx(m,{id:"TilkommetAktivitet.Modal.Periode",values:{fom:T(i[0].fom).format(te),tom:_l(i[0].tom)}})}),f.jsx("li",{children:f.jsx(m,{id:"TilkommetAktivitet.Modal.Periode",values:{fom:T(i[1].fom).format(te),tom:_l(i[1].tom)}})})]})]}),f.jsx(A,{sixteenPx:!0})]})},aj=e=>e?e.tom===Ke?!0:pd(e.fom,e.tom,!0)>1:!1,lj=e=>e.map(n=>({fom:n.fom,tom:n.tom})),oj=(e,n)=>{const r=T(e).format(te);if(n&&n!==Ke){const t=T(n).format(te);return r.concat(" - ",t)}return r.concat(" - ")},dj=({fields:e,forhåndsvisPeriodesplitt:n,utførPeriodesplitt:r,skalViseModal:t,lukkModal:i})=>{const s=Q(),[l,o]=b.useState(void 0),[d,u]=b.useState(void 0),g=b.useMemo(()=>lj(e),[e]),p=b.useCallback(()=>{l&&d&&(r(l),i())},[e,l]),v=b.useCallback(x=>{const _=x.target.value,N=g.find(y=>y.fom===_);u(N||void 0)},[]),h=d&&aj(d);return t?f.jsxs(Bt,{width:"medium",open:t,className:El.modal,onClose:i,children:[f.jsx(Bt.Header,{children:f.jsx(m,{id:"TilkommetAktivitet.Modal.Tittel"})}),f.jsx(Bt.Body,{children:f.jsxs("div",{className:El.boks,children:[f.jsxs(Xk,{label:s.formatMessage({id:"TilkommetAktivitet.Modal.Select"}),onChange:v,children:[f.jsx("option",{value:void 0,children:"Velg periode"}),g.map(x=>f.jsx("option",{value:x.fom,children:oj(x.fom,x.tom)},x.fom))]}),f.jsx(A,{sixteenPx:!0}),h&&f.jsx(sj,{forhåndsvisPeriodesplitt:n,periode:d,setValgtDato:o})]})}),f.jsx(Bt.Footer,{children:f.jsx(pe,{children:f.jsxs(O,{children:[f.jsx(j,{children:f.jsx(ie,{size:"small",variant:"primary",onClick:p,disabled:!l,autoFocus:!0,type:"button",children:f.jsx(m,{id:"TilkommetAktivitet.Modal.DelOppKnapp"})})}),f.jsx(j,{children:f.jsx(ie,{size:"small",variant:"secondary",onClick:i,disabled:!1,autoFocus:!0,type:"button",children:f.jsx(m,{id:"TilkommetAktivitet.Modal.AvbrytKnapp"})})})]})})})]}):null},yl=(e,n)=>n==null?void 0:n.some(r=>r.inntektsforholdListe.some(t=>t.aktivitetStatus===e)),gj=({formName:e,beregningsgrunnlag:n,bgIndex:r,readOnly:t,submittable:i,erAksjonspunktÅpent:s,arbeidsgiverOpplysningerPerId:l})=>{var o,d;const u=Q(),[g,p]=b.useState(!1),{control:v,watch:h}=Se(),{fields:x,remove:_,insert:N}=an({control:v,name:`VURDER_TILKOMMET_AKTIVITET_FORM.${r}.perioder`});x.sort((z,q)=>T(z.fom).diff(T(q.fom)));const y=(d=(o=n.faktaOmFordeling)==null?void 0:o.vurderNyttInntektsforholdDto)==null?void 0:d.vurderInntektsforholdPerioder,B=()=>{const z=yl(F.SELVSTENDIG_NAERINGSDRIVENDE,y),q=yl(F.FRILANSER,y),w=y==null?void 0:y.flatMap(Y=>Y.inntektsforholdListe.map(H=>H.aktivitetStatus)).reduce((Y,H)=>(Y.some(se=>se===H)||Y.push(H),Y),[]);return(w?w.length:0)>1?u.formatMessage({id:"TilkommetAktivitet.AlertHeading.FlereStatuser"}):z?u.formatMessage({id:"TilkommetAktivitet.AlertHeading.SelvstendigNæringsdrivende"}):q?u.formatMessage({id:"TilkommetAktivitet.AlertHeading.Frilans"}):u.formatMessage({id:"TilkommetAktivitet.AlertHeading.Arbeidsforhold"})},S=()=>s?f.jsxs(Zn,{size:"small",variant:"warning",children:[f.jsx(ce,{size:"xsmall",level:"3",children:B()}),u.formatMessage({id:"TilkommetAktivitet.AksjonspunktHelpText"})]}):f.jsxs(f.Fragment,{children:[f.jsxs(D,{size:"small",children:[u.formatMessage({id:"HelpText.Aksjonspunkt.BehandletAksjonspunkt"}),B()]}),f.jsx(I,{size:"small",children:u.formatMessage({id:"TilkommetAktivitet.AksjonspunktHelpText"})})]}),$=(z,q,w,Y)=>{const H=h(`${e}.${r}.perioder.${w}.inntektsforhold.${Y}.skalRedusereUtbetaling`),se=h(`${e}.${r}.perioder.${w}.inntektsforhold.${Y}.bruttoInntektPrÅr`);return{aktivitetStatus:z.aktivitetStatus,arbeidsgiverIdent:z.arbeidsgiverIdent,arbeidsforholdId:z.arbeidsforholdId,bruttoInntektPrÅr:q?se:void 0,skalRedusereUtbetaling:q?H:void 0}},V=(z,q,w)=>!T(z).isAfter(T(w))&&!T(q).isBefore(T(w)),G=b.useCallback(z=>{const q=x.find(se=>V(se.fom,se.tom,z));if(!q)throw new Error(`Finner ikke field somme inneholder dato ${z}`);const w=T(z).subtract(1,"day"),Y={fom:T(q.fom).format(Ne),tom:w.format(Ne)},H={fom:T(z).format(Ne),tom:q.tom};return[Y,H]},[x]),K=b.useCallback(z=>{const q=x.find($e=>V($e.fom,$e.tom,z));if(!q)throw new Error(`Finner ikke field somme inneholder dato ${z}`);const w=G(z),Y=x.indexOf(q),H=q.inntektsforhold||[],se={inntektsforhold:H.map(($e,Be)=>$($e,!0,Y,Be)),fom:w[0].fom,tom:w[0].tom},Ee={inntektsforhold:H.map(($e,Be)=>$($e,!1,Y,Be)),fom:w[1].fom,tom:w[1].tom};_(Y),N(Y,[se,Ee])},[x]),ee=b.useCallback(()=>{p(!0)},[g]),ne=b.useCallback(()=>{p(!1)},[g]);return f.jsxs(f.Fragment,{children:[S(),!!y&&s&&f.jsxs(f.Fragment,{children:[f.jsx(A,{eightPx:!0}),f.jsx(Zn,{size:"small",variant:"info",title:"",children:u.formatMessage({id:"TilkommetAktivitet.AksjonspunktAlert"})})]}),f.jsx(A,{fourtyPx:!0}),f.jsx(pe,{children:f.jsxs(O,{className:Fe.tittelRad,children:[f.jsx(j,{children:f.jsx(ce,{size:"small",level:"3",children:u.formatMessage({id:"TilkommetAktivitet.Heading"})})}),f.jsx(j,{className:Fe.modalKnapp,children:f.jsx(ie,{variant:"tertiary",loading:!1,disabled:!1,onClick:ee,size:"small",type:"button",icon:f.jsx(Em,{height:32,width:32}),children:u.formatMessage({id:"TilkommetAktivitet.Modal.Knapp"})})})]})}),g&&f.jsx(dj,{fields:x,forhåndsvisPeriodesplitt:G,lukkModal:ne,skalViseModal:g,utførPeriodesplitt:K}),f.jsx(Xb,{beregningsgrunnlag:n,arbeidsgiverOpplysningerPerId:l,formName:e,fields:x,bgIndex:r,readOnly:t,erAksjonspunktÅpent:s,submittable:i})]})};T.extend(mg);const{VURDER_NYTT_INNTKTSFRHLD:Is}=Ye,at="VURDER_TILKOMMET_AKTIVITET_FORM",hg=e=>{const n=e.find(r=>r.definisjon===Is);if(!n)throw Error(`Fant ikke forventet avklaringsbehov ${Is}`);return n},uj=(e,n)=>{const r=n.find(t=>t.vilkårsperiodeFom===e);if(!r)throw Error(`Mangler beregningsgrunnlag for vilkårsperiodeFom ${e}`);return r};function kj(e){var n,r;const t=(r=(n=e.faktaOmFordeling)==null?void 0:n.vurderNyttInntektsforholdDto)==null?void 0:r.vurderInntektsforholdPerioder;if(!t)throw Error("vurderInntektsforholdPerioder skal være definert");return fg(t,e.forlengelseperioder).filter(i=>!As(i,e))}const mj=e=>({aktivitetStatus:e.aktivitetStatus,arbeidsgiverIdent:e.arbeidsgiverId,arbeidsforholdId:e.arbeidsforholdId,bruttoInntektPrÅr:U(e.bruttoInntektPrÅr),skalRedusereUtbetaling:e.skalRedusereUtbetaling}),fj=e=>({fom:e.fom,tom:e.tom,inntektsforhold:e.inntektsforholdListe.map(n=>mj(n))}),pj=(e,n)=>{const r=hg(e.avklaringsbehov),t=kj(e);return{beregningsgrunnlagStp:e.skjaeringstidspunktBeregning,begrunnelse:r&&r.begrunnelse?r.begrunnelse:"",periode:pt(n,e.vilkårsperiodeFom).periode,perioder:t.map(i=>fj(i))}},cj=(e,n)=>({[`${at}`]:e.filter(r=>r.avklaringsbehov.some(t=>t.definisjon===Ye.VURDER_NYTT_INNTKTSFRHLD)).map(r=>pj(r,n))}),vj=(e,n)=>{const r=T(e.fom).isBetween(n.fom,n.tom,"day","[]")||T(e.tom).isBetween(n.fom,n.tom,"day","[]"),t=T(n.fom).isBetween(e.fom,e.tom,"day","[]")||T(n.tom).isBetween(e.fom,e.tom,"day","[]");return r||t},hj=(e,n)=>n.inntektsforholdListe.some(r=>r.aktivitetStatus===e.aktivitetStatus&&r.arbeidsforholdId===e.arbeidsforholdId&&r.arbeidsgiverId===e.arbeidsgiverIdent),bj=(e,n)=>{var r,t;const i=e.perioder,s=(((t=(r=n.faktaOmFordeling)==null?void 0:r.vurderNyttInntektsforholdDto)==null?void 0:t.vurderInntektsforholdPerioder)||[]).flatMap(l=>i.filter(o=>vj(o,l)).map(o=>{const d=o.inntektsforhold.filter(u=>hj(u,l)).map(u=>{const g=!!u.skalRedusereUtbetaling,p=g?me(u.bruttoInntektPrÅr):void 0;return{aktivitetStatus:u.aktivitetStatus,arbeidsgiverId:u.arbeidsgiverIdent,arbeidsforholdId:u.arbeidsforholdId,skalRedusereUtbetaling:g,bruttoInntektPrÅr:p}});return{fom:T(o.fom).isBefore(T(l.fom))?l.fom:o.fom,tom:T(o.tom).isAfter(T(l.tom))?l.tom:o.tom,tilkomneInntektsforhold:d}}));return{periode:e.periode,begrunnelse:e.begrunnelse,tilkomneInntektsforhold:s}},jj=(e,n,r)=>{const t=e[at].filter(i=>rr(r,i.periode.fom)).map(i=>bj(i,uj(i.periode.fom,n)));return{begrunnelse:t.map(i=>i.begrunnelse).reduce((i,s)=>i!==null?`${i} ${s}`:s),grunnlag:t,kode:Is}},xj=({aktivtBeregningsgrunnlagIndeks:e,formData:n,setFormData:r,beregningsgrunnlagListe:t,submitCallback:i,readOnly:s,submittable:l,vilkarperioder:o,arbeidsgiverOpplysningerPerId:d,setTilkommetAktivitetFormIsDirty:u})=>{const g=He({defaultValues:n!=null&&n.VURDER_TILKOMMET_AKTIVITET_FORM?n:cj(t,o)}),{formState:{dirtyFields:p,isSubmitted:v,errors:h,isDirty:x},trigger:_,control:N}=g;b.useEffect(()=>{u(x)},[x]),b.useEffect(()=>{var V;v&&(V=p[at])!=null&&V[e]&&_()},[e]);const{fields:y}=an({name:at,control:N}),B=t[e],S=hg(B.avklaringsbehov),$=S?vn(S.status):!1;return f.jsx(ea,{errorMessage:"Noe gikk galt ved visning av tilkommet aktivitet",children:f.jsx("div",{className:Fe.tilkommetAktivitet,children:f.jsx(Je,{formMethods:g,onSubmit:V=>{Object.keys(h).length===0&&i(jj(V,t,o))},setDataOnUnmount:r,children:y.map(V=>{const G=t.findIndex(K=>K.skjaeringstidspunktBeregning===V.beregningsgrunnlagStp);return f.jsx("div",{style:{display:G===e?"block":"none"},children:f.jsx(gj,{formName:at,beregningsgrunnlag:t[G],bgIndex:G,readOnly:s||!rr(o,t[G].vilkårsperiodeFom),submittable:l,erAksjonspunktÅpent:$,arbeidsgiverOpplysningerPerId:d})},V.id)})})})})},{FORDEL_BEREGNINGSGRUNNLAG:Aj,VURDER_REFUSJON_BERGRUNN:Ij,VURDER_NYTT_INNTKTSFRHLD:Tj}=Ye,Ej=e=>e&&e.faktaOmFordeling?!!e.faktaOmFordeling.fordelBeregningsgrunnlag:!1,_j=e=>!!(e&&e.refusjonTilVurdering),yj=e=>e&&e.faktaOmFordeling?!!e.faktaOmFordeling.vurderNyttInntektsforholdDto:!1,Hi=(e,n)=>e&&n?e.find(r=>r.definisjon===n):void 0,Sj=({aktivtBeregningsgrunnlagIndeks:e,readOnly:n,submitCallback:r,beregningsgrunnlagListe:t,vilkarperioder:i,kodeverkSamling:s,submittable:l,arbeidsgiverOpplysningerPerId:o,formData:d,setFormData:u})=>{const[g,p]=b.useState(!1),[v,h]=b.useState(!1),[x,_]=b.useState(!1),N=Hi(t[e].avklaringsbehov,Aj),y=Hi(t[e].avklaringsbehov,Ij),B=Hi(t[e].avklaringsbehov,Tj),S=(!N||N.status!==or.OPPRETTET)&&(!y||y.status!==or.OPPRETTET)&&(!B||B.status!==or.OPPRETTET),$=B&&yj(t[e]),V=!$||B.status!==or.OPPRETTET,G=N&&Ej(t[e])&&(V&&N.status===or.OPPRETTET||S),K=y&&_j(t[e])&&(V&&!G&&y.status===or.OPPRETTET||S);return f.jsxs(f.Fragment,{children:[K&&f.jsxs(f.Fragment,{children:[f.jsx(wc,{aktivtBeregningsgrunnlagIndeks:e,submittable:l&&!g&&!x,readOnly:n,submitCallback:r,beregningsgrunnlagListe:t,arbeidsgiverOpplysningerPerId:o,formData:d,setFormData:u,vilkarperioder:i,setRefusjonFormIsDirty:h}),f.jsx(A,{fourtyPx:!0})]}),$&&f.jsxs(f.Fragment,{children:[f.jsx(xj,{aktivtBeregningsgrunnlagIndeks:e,formData:d,setFormData:u,submittable:l&&!v&&!x,readOnly:n,submitCallback:r,beregningsgrunnlagListe:t,arbeidsgiverOpplysningerPerId:o,vilkarperioder:i,setTilkommetAktivitetFormIsDirty:p}),f.jsx(A,{fourtyPx:!0})]}),G&&f.jsx(Ab,{aktivtBeregningsgrunnlagIndeks:e,submittable:l&&!g&&!v,readOnly:n,submitCallback:r,kodeverkSamling:s,beregningsgrunnlagListe:t,arbeidsgiverOpplysningerPerId:o,formData:d,setFormData:u,vilkårsperioder:i,setFordelingFormIsDirty:_})]})},Nj=Me(ma),{FORDEL_BEREGNINGSGRUNNLAG:Pj,VURDER_REFUSJON_BERGRUNN:Rj,VURDER_NYTT_INNTKTSFRHLD:Oj}=Ye,Bj=(e,n)=>{const r=pt(n,e.vilkårsperiodeFom);if(r){const{fom:t,tom:i}=r.periode;return i!==null?`${T(t).format(te)} - ${T(i).format(te)}`:`${T(t).format(te)} - `}return`${T(e.vilkårsperiodeFom).format(te)}`},bg=e=>e.avklaringsbehov.some(n=>n.definisjon===Rj||n.definisjon===Pj||n.definisjon===Oj),Fj=(e,n)=>bg(e)&&rr(n,e.vilkårsperiodeFom),$j=({beregningsgrunnlagVilkår:e,beregningsgrunnlagListe:n,kodeverkSamling:r,submitCallback:t,readOnly:i,submittable:s,arbeidsgiverOpplysningerPerId:l,formData:o,setFormData:d})=>{const u=n.filter(h=>bg(h)),[g,p]=b.useState(0);if(u.length===0)return null;const v=u.length>1;return f.jsxs(Ze,{value:Nj,children:[v&&f.jsx(br,{value:g.toString(),onChange:h=>p(Number(h)),children:f.jsx(br.List,{children:u.map((h,x)=>f.jsx(br.Tab,{value:x.toString(),label:Bj(h,e.perioder),className:Fj(h,e.perioder)?"harAksjonspunkt":""},h.skjaeringstidspunktBeregning))})}),f.jsx(A,{eightPx:!0}),f.jsx(Sj,{aktivtBeregningsgrunnlagIndeks:g,kodeverkSamling:r,submitCallback:t,readOnly:i,beregningsgrunnlagListe:u,vilkarperioder:e.perioder,submittable:s,arbeidsgiverOpplysningerPerId:l,formData:o,setFormData:d})]})};const Dj=e=>{switch(e){case Ye.FORDEL_BEREGNINGSGRUNNLAG:return ae.FORDEL_BEREGNINGSGRUNNLAG;case Ye.VURDER_REFUSJON_BERGRUNN:return ae.VURDER_REFUSJON_BERGRUNN;default:throw new Error(`Ukjent avklaringspunkt ${e}`)}},Vj=e=>n=>{const t=(Array.isArray(n)?n:[n]).map(i=>({kode:Dj(i.kode),...i.grunnlag[0]}));return e(t)},Gj=(e,n)=>({avslagKode:n.avslagKode,vurderesIBehandlingen:!0,merknadParametere:{},periode:{fom:e?e.skjaeringstidspunktBeregning:"",tom:Ke},vilkarStatus:n.vilkarStatus}),Lj=(e,n)=>{if(!e)return null;const r=e.find(i=>i.vilkarType&&i.vilkarType===Wn.BEREGNINGSGRUNNLAGVILKARET);return!r||!n?null:{...r,perioder:[Gj(n,r)]}},Mj=e=>e?[{...e,beregningsgrunnlagId:"1",vilkårsperiodeFom:e.skjaeringstidspunktBeregning}]:[],Sl=[ae.FORDEL_BEREGNINGSGRUNNLAG,ae.VURDER_REFUSJON_BERGRUNN],Kj=[Ce.BEREGNINGSGRUNNLAG],Nl=({arbeidsgiverOpplysningerPerId:e,...n})=>Pe.jsx(Pr,{...n,panelEndepunkter:Kj,aksjonspunktKoder:Sl,faktaPanelKode:Nr.FORDELING,faktaPanelMenyTekst:Q().formatMessage({id:"FordelBeregningsgrunnlag.Title"}),skalPanelVisesIMeny:()=>!!n.behandling&&!!n.behandling.aksjonspunkt&&!!n.behandling.aksjonspunkt.some(r=>Sl.some(t=>t===r.definisjon)),renderPanel:r=>Pe.jsx($j,{...r,kodeverkSamling:r.alleKodeverk,beregningsgrunnlagVilkår:Lj(r.behandling.vilkår,r.beregningsgrunnlag),beregningsgrunnlagListe:Mj(r.beregningsgrunnlag),submitCallback:Vj(r.submitCallback),arbeidsgiverOpplysningerPerId:e})});try{Nl.displayName="FordelingFaktaInitPanel",Nl.__docgenInfo={description:"FordelingFaktaInitPanel",displayName:"FordelingFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}var jg={exports:{}},zr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pl;function wj(){if(Pl)return zr;Pl=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(o,d,u){var g,p={},v=null,h=null;u!==void 0&&(v=""+u),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(h=d.ref);for(g in d)t.call(d,g)&&!s.hasOwnProperty(g)&&(p[g]=d[g]);if(o&&o.defaultProps)for(g in d=o.defaultProps,d)p[g]===void 0&&(p[g]=d[g]);return{$$typeof:n,type:o,key:v,ref:h,props:p,_owner:i.current}}return zr.Fragment=r,zr.jsx=l,zr.jsxs=l,zr}jg.exports=wj();var R=jg.exports;const Uj=e=>cd(e,1),xg=(e,n)=>T(Uj(e)).isSame(n)?n:e,Ag=(e,n,r)=>{if(!(!n||!r))return T(e).isBefore(n)?n:xg(e,r)},Ig=(e,n,r)=>{if(!(!n||!r))return T(e).isAfter(r)?r:xg(e,n)},Cj=e=>e===!1?"danger":e===!0?"success":"warning",zj={[he.ARBEID]:R.jsx(Kr,{width:20,height:20}),[he.AAP]:R.jsx(Mr,{width:20,height:20}),[he.DAGPENGER]:R.jsx(Mr,{width:20,height:20}),[he.FORELDREPENGER]:R.jsx(rm,{width:20,height:20}),[he.FRILANS]:R.jsx(Kr,{width:20,height:20}),[he.MILITAR_ELLER_SIVILTJENESTE]:R.jsx(Kr,{width:20,height:20}),[he.NARING]:R.jsx(Kr,{width:20,height:20}),[he.OMSORGSPENGER]:R.jsx(Mr,{width:20,height:20}),[he.OPPLARINGSPENGER]:R.jsx(Mr,{width:20,height:20}),[he.PLEIEPENGER]:R.jsx(Mr,{width:20,height:20}),[he.SVANGERSKAPSPENGER]:R.jsx(Qm,{width:20,height:20}),[he.SYKEPENGER]:R.jsx(sf,{width:20,height:20}),[he.UTENLANDSK_ARBEIDSFORHOLD]:R.jsx(Um,{width:20,height:20}),[he.ETTERLONN_SLUTTPAKKE]:R.jsx(Kr,{width:20,height:20})},Yj={danger:R.jsx(Ad,{}),success:R.jsx(qs,{}),warning:R.jsx(_m,{})},Hj=(e,n,r,t,i)=>e.map((s,l)=>{var o;return{id:l,start:T(Ag(s.opptjeningFom,t,i)).toDate(),end:T(Ig(s.opptjeningTom,t,i)).toDate(),radId:(o=r.find(d=>d.aktivitetTypeKode===s.aktivitetType&&d.arbeidsforholdRef===s.arbeidsforholdRef&&d.arbeidsgiverReferanse===s.arbeidsgiverReferanse))==null?void 0:o.id,status:Cj(n[l].erGodkjent)}}),Jj=(e,n,r)=>e.reduce((t,i)=>(t.some(s=>s.aktivitetType===i.aktivitetType&&s.arbeidsforholdRef===i.arbeidsforholdRef&&s.arbeidsgiverReferanse===i.arbeidsgiverReferanse)||t.push(i),t),[]).map((t,i)=>{const s=n.find(o=>o.kode===t.aktivitetType),l=(s==null?void 0:s.kode)===he.AAP?r.formatMessage({id:"OpptjeningTidslinje.Aap"}):s==null?void 0:s.navn;return{id:i+1,label:l||"",aktivitetTypeKode:t.aktivitetType,arbeidsforholdRef:t.arbeidsforholdRef,arbeidsgiverReferanse:t.arbeidsgiverReferanse}}),qj=({opptjeningPerioder:e,formVerdierForAlleAktiviteter:n,fastsattOpptjening:r,valgtAktivitetIndex:t,opptjeningAktivitetTypes:i,setValgtAktivitetIndex:s})=>{const l=Q(),o=r==null?void 0:r.opptjeningFom,d=r==null?void 0:r.opptjeningTom,u=b.useMemo(()=>Jj(e,i,l),[e]),g=b.useMemo(()=>Hj(e,n,u,o,d),[n]),p=b.useCallback(v=>{const h=g.find(x=>x.id===v);h&&s(h.id)},[g,s]);return!o||!d?null:R.jsxs(Ve,{startDate:T(o).subtract(1,"months").toDate(),endDate:T(d).add(10,"days").toDate(),children:[R.jsxs(Ve.Pin,{date:T(o).toDate(),children:[R.jsx(D,{size:"small",children:R.jsx(m,{id:"OpptjeningTidslinje.StartDato"})}),R.jsx(I,{size:"small",children:R.jsx(Re,{dateString:o})})]}),R.jsxs(Ve.Pin,{date:T(d).toDate(),children:[R.jsx(D,{size:"small",children:R.jsx(m,{id:"OpptjeningTidslinje.SluttDato"})}),R.jsx(I,{size:"small",children:R.jsx(Re,{dateString:d})})]}),u.map(v=>R.jsx(Ve.Row,{label:v.label,icon:zj[v.aktivitetTypeKode],children:g.filter(h=>h.radId===v.id).map(h=>R.jsx(Ve.Period,{start:h.start,end:h.end,status:h.status,icon:Yj[h.status],onSelectPeriod:()=>p(h.id),isActive:t===h.id,statusLabel:v.label},h.id))},v.id))]})},Wj="_colMargin_1gpz6_1",Ji={colMargin:Wj},Zj=[he.SYKEPENGER,he.FORELDREPENGER,he.PLEIEPENGER,he.SVANGERSKAPSPENGER,he.UTENLANDSK_ARBEIDSFORHOLD],qt=(e,...n)=>!!e&&n.includes(e),Xj=e=>e?T(e,Ne).format(te):"-",Qj=e=>qt(e,he.FRILANS)?"ActivityPanel.Oppdragsgiver":"ActivityPanel.Arbeidsgiver",ex=(e,n)=>{const r=n[e];if(!e||!r)return"-";if(r.erPrivatPerson&&r.fødselsdato){const t=Xj(r.fødselsdato);return`${r.navn} (${t})`}return r.identifikator?`${r.navn} (${r.identifikator})`:r.navn},nx=e=>e.length>0?"ActivityPanel.FerdiglignetNæring":"ActivityPanel.IngenFerdiglignetNæring",rx=({valgtAktivitetstype:e,arbeidsgiverReferanse:n,arbeidsgiverOpplysningerPerId:r,stillingsandel:t,naringRegistreringsdato:i,ferdiglignetNæring:s})=>R.jsxs(pe,{children:[qt(e,he.ARBEID,he.NARING,...Zj)&&R.jsxs(O,{children:[R.jsxs(j,{className:Ji.colMargin,children:[R.jsx(A,{eightPx:!0}),R.jsx(D,{size:"small",children:R.jsx(m,{id:Qj(e)})}),R.jsx(I,{size:"small",children:ex(n,r)})]}),qt(e,he.ARBEID)&&R.jsxs(j,{children:[R.jsx(A,{eightPx:!0}),R.jsx(D,{size:"small",children:R.jsx(m,{id:"ActivityPanel.Stillingsandel"})}),R.jsx(I,{size:"small",children:t})]})]}),R.jsx(A,{eightPx:!0}),qt(e,he.NARING)&&R.jsxs(R.Fragment,{children:[R.jsx(O,{children:R.jsxs(j,{children:[R.jsx(D,{size:"small",children:R.jsx(m,{id:"ActivityPanel.Registreringsdato"})}),R.jsx(I,{size:"small",children:i?T(i).format(te):"-"})]})}),R.jsx(A,{eightPx:!0}),R.jsx(O,{children:R.jsx(j,{children:R.jsx(D,{size:"small",children:R.jsx(m,{id:nx(s)})})})}),s.sort((l,o)=>l.år<o.år?1:l.år>o.år?-1:0).map(l=>R.jsxs(O,{children:[R.jsx(j,{className:Ji.aarBredde,children:R.jsx(I,{size:"small",children:l.år})}),R.jsx(j,{className:Ji.belopBredde,children:R.jsx(Xn,{children:R.jsx(I,{size:"small",children:U(l.beløp)})})})]},l.år))]})]}),tx="_explanationTextarea_18tdb_1",ix="_panel_18tdb_5",sx="_colMargin_18tdb_9",ax="_margin_18tdb_13",lx="_fix_18tdb_17",Yr={explanationTextarea:tx,panel:ix,colMargin:sx,margin:ax,fix:lx},ox=fn(3),dx=pn(1500),Wt=(e,n,r)=>e?!!n&&!r:!0,gx=(e,n)=>{const r=zk(e,n);return r?r.months>=1?R.jsx(m,{id:"ActivityPanel.MonthsAndDays",values:{months:r.months,days:r.days}}):R.jsx(m,{id:"ActivityPanel.Days",values:{days:r.days}}):R.jsx("span",{})},ux=(e,n,r,t)=>r||Wt(t,e,n)?"ActivityPanel.Begrunnelse":"ActivityPanel.BegrunnEndringene",kx=({readOnly:e,opptjeningAktivitetTyper:n,avbrytAktivitet:r,velgNesteAktivitet:t,velgForrigeAktivitet:i,harAksjonspunkt:s,alleMerknaderFraBeslutter:l,arbeidsgiverOpplysningerPerId:o,valgtOpptjeningAktivitet:d,ferdiglignetNæring:u,oppdaterAktivitet:g,valgteFormValues:p,fastsattOpptjening:v,lukkPeriode:h})=>{var x;const _=Q(),N=He({defaultValues:p}),{arbeidsgiverReferanse:y,erGodkjent:B,erEndret:S,aktivitetType:$,stillingsandel:V,naringRegistreringsdato:G}=d,K=Ag(d.opptjeningFom,v==null?void 0:v.opptjeningFom,v==null?void 0:v.opptjeningTom),ee=Ig(d.opptjeningTom,v==null?void 0:v.opptjeningFom,v==null?void 0:v.opptjeningTom),ne=b.useCallback((...z)=>R.jsx("b",{children:z}),[]);return R.jsx(Je,{formMethods:N,onSubmit:z=>g(z),children:R.jsxs(Ed,{className:Yr.panel,merknaderFraBeslutter:l[ae.VURDER_PERIODER_MED_OPPTJENING],children:[R.jsxs(pe,{children:[R.jsxs(O,{spaceBetween:!0,children:[R.jsx(j,{children:R.jsx(ce,{size:"small",children:R.jsx(m,{id:"ActivityPanel.Details"})})}),R.jsxs(j,{className:Yr.fix,children:[R.jsx(ie,{className:Yr.margin,size:"xsmall",icon:R.jsx(Ei,{"aria-hidden":!0}),onClick:i,variant:"secondary-neutral",type:"button",title:_.formatMessage({id:"Timeline.prevPeriod"}),children:R.jsx(m,{id:"Timeline.prevPeriodShort"})}),R.jsx(ie,{className:Yr.margin,size:"xsmall",icon:R.jsx(_i,{"aria-hidden":!0}),onClick:t,variant:"secondary-neutral",type:"button",title:_.formatMessage({id:"Timeline.nextPeriod"}),iconPosition:"right",children:R.jsx(m,{id:"Timeline.nextPeriodShort"})}),R.jsx(ie,{size:"xsmall",icon:R.jsx(Hn,{"aria-hidden":!0}),onClick:h,variant:"tertiary-neutral",type:"button",title:_.formatMessage({id:"Timeline.lukkPeriode"})})]})]}),R.jsx(A,{sixteenPx:!0}),R.jsxs(O,{children:[R.jsxs(j,{className:Yr.colMargin,children:[R.jsx(D,{size:"small",children:R.jsx(m,{id:"ActivityPanel.Period"})}),R.jsx(pe,{children:K&&ee&&R.jsxs(O,{children:[R.jsx(j,{children:R.jsx(I,{size:"small",children:`${T(K).format(te)} - ${T(ee).format(te)}`})}),R.jsx(j,{children:R.jsx(I,{size:"small",children:gx(K,ee)})})]})})]}),R.jsxs(j,{children:[R.jsx(D,{size:"small",children:R.jsx(m,{id:"ActivityPanel.Activity"})}),R.jsx(I,{size:"small",children:(x=n.find(z=>z.kode===$))==null?void 0:x.navn})]})]})]}),R.jsx(A,{eightPx:!0}),R.jsx(rx,{valgtAktivitetstype:$,arbeidsgiverReferanse:y,arbeidsgiverOpplysningerPerId:o,stillingsandel:V,naringRegistreringsdato:G,ferdiglignetNæring:u}),!Wt(s,B,S)&&R.jsxs(R.Fragment,{children:[R.jsx(A,{twentyPx:!0}),R.jsx(Te,{name:"erGodkjent",hideLegend:!0,validate:[X],isReadOnly:e,isEdited:S,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:_.formatMessage({id:"ActivityPanel.Godkjent"}),value:"true"},{label:R.jsx(m,{id:"ActivityPanel.IkkeGodkjent",values:{b:ne}}),value:"false"}]})]}),R.jsx(A,{sixteenPx:!0}),R.jsx(Xe,{name:"begrunnelse",label:R.jsx(m,{id:ux(B,S,e,s)}),validate:[X,ox,dx,mn],maxLength:1500,readOnly:e||Wt(s,B,S)}),!Wt(s,B,S)&&R.jsxs(R.Fragment,{children:[R.jsx(A,{sixteenPx:!0}),R.jsx(pe,{children:R.jsxs(O,{children:[R.jsx(j,{children:R.jsx(ie,{size:"small",variant:"primary",disabled:!N.formState.isDirty,children:R.jsx(m,{id:"ActivityPanel.Oppdater"})})}),R.jsx(j,{children:R.jsx(ie,{size:"small",variant:"secondary",onClick:r,type:"button",children:R.jsx(m,{id:"ActivityPanel.Avbryt"})})})]})})]})]})})},mx="_container_ivkzi_1",fx="_info_ivkzi_4",px="_alertstripe__tekst_ivkzi_7",cx="_alertstripe__tekst_ivkzi_7",vx="_pushRight_ivkzi_10",hx={container:mx,info:fx,alertstripe__tekst:px,alertstripeTekst:cx,pushRight:vx},bx=e=>{const n=[];e.some(t=>t.stillingsandel===0)&&n.push(R.jsx(m,{id:"OpptjeningFaktaForm.AktivitetenErTimeAvslonnet"},"AktivitetenErTimeAvslonnet"));const r=e.filter(t=>(t.erGodkjent===void 0||t.erGodkjent===null||t.begrunnelse)&&t.stillingsandel!==0);return r.length===1?n.push(R.jsx(m,{id:"OpptjeningFaktaForm.EttArbeidKanGodkjennes"},"EttArbeidKanGodkjennes")):r.length>1&&n.push(R.jsx(m,{id:"OpptjeningFaktaForm.FlereArbeidKanGodkjennes"},"FlereArbeidKanGodkjennes")),n},jx=e=>T(e).add(1,"days").format(Ne),xx=(e,n)=>[...e].sort((r,t)=>{var i,s;const l=(i=n.find(d=>d.kode===r.aktivitetType))==null?void 0:i.navn,o=(s=n.find(d=>d.kode===t.aktivitetType))==null?void 0:s.navn;return l&&o?l.localeCompare(o):0}),Rl=e=>cd(e,1),Ax=(e,n)=>n?e.filter(r=>T(n.opptjeningFom).isBefore(Rl(r.opptjeningTom))).filter(r=>T(r.opptjeningFom).isBefore(Rl(n.opptjeningTom))):[],Ix=({hasAksjonspunkt:e,hasOpenAksjonspunkter:n,opptjeningAktiviteter:r,readOnly:t,alleMerknaderFraBeslutter:i,alleKodeverk:s,arbeidsgiverOpplysningerPerId:l,fastsattOpptjening:o,ferdiglignetNæring:d,submitCallback:u,formData:g,setFormData:p})=>{const v=s[Tn.OPPTJENING_AKTIVITET_TYPE],h=b.useMemo(()=>r&&o?xx(Ax(r,o),v):[],[r,o]),x=h.map(H=>({erGodkjent:H.erGodkjent,begrunnelse:H.begrunnelse})),[_,N]=b.useState(g||x),y=h.findIndex(H=>H.erGodkjent===void 0),B=h.length>0?0:void 0,[S,$]=b.useState(y!==-1?y:B),[V,G]=b.useState(!1);b.useEffect(()=>()=>{p(_)},[_]),b.useEffect(()=>{const H=_.findIndex(se=>se.erGodkjent===void 0);$(H!==-1?H:void 0)},[_]);const K=b.useCallback(()=>{G(!0);const H=h.map((se,Ee)=>({arbeidsforholdRef:se.arbeidsforholdRef,arbeidsgiverReferanse:se.arbeidsgiverReferanse,opptjeningFom:se.opptjeningFom,opptjeningTom:se.opptjeningTom,aktivitetType:se.aktivitetType,erGodkjent:_[Ee].erGodkjent,begrunnelse:_[Ee].begrunnelse})).filter(se=>se.begrunnelse);u({opptjeningsaktiviteter:H,kode:ae.VURDER_PERIODER_MED_OPPTJENING}).then(()=>G(!1))},[h,_]),ee=b.useCallback(()=>{S!==void 0&&S<h.length-1&&$(S+1)},[S]),ne=b.useCallback(()=>{S!==void 0&&S>0&&$(S-1)},[S]),z=b.useCallback(H=>{S!==void 0&&N(se=>Object.assign([],se,{[S]:H}))},[N,S]),q=b.useCallback(()=>$(void 0),[]),w=b.useCallback(()=>{$(void 0)},[]),Y=_.some(H=>H.erGodkjent===null||H.erGodkjent===void 0);return R.jsxs("div",{className:hx.container,children:[e&&R.jsxs(R.Fragment,{children:[R.jsx(Si,{isAksjonspunktOpen:n,children:bx(h)}),R.jsx(A,{twentyPx:!0})]}),R.jsx(D,{size:"small",children:R.jsx(m,{id:"OpptjeningFaktaForm.Skjaringstidspunkt"})}),R.jsx(I,{size:"small",children:R.jsx(Re,{dateString:jx(o==null?void 0:o.opptjeningTom)})}),R.jsx(A,{twentyPx:!0}),R.jsx(qj,{opptjeningPerioder:h,formVerdierForAlleAktiviteter:_,opptjeningAktivitetTypes:v,setValgtAktivitetIndex:$,valgtAktivitetIndex:S,fastsattOpptjening:o}),R.jsx(A,{fourtyPx:!0}),S!==void 0&&R.jsxs(R.Fragment,{children:[R.jsx(kx,{valgtOpptjeningAktivitet:h[S],valgteFormValues:_[S],readOnly:t,opptjeningAktivitetTyper:v,avbrytAktivitet:q,oppdaterAktivitet:z,fastsattOpptjening:o,velgNesteAktivitet:ee,velgForrigeAktivitet:ne,harAksjonspunkt:e,alleMerknaderFraBeslutter:i,alleKodeverk:s,arbeidsgiverOpplysningerPerId:l,ferdiglignetNæring:d,lukkPeriode:w},S),R.jsx(A,{twentyPx:!0})]}),e&&h.length>0&&R.jsx(ie,{size:"small",variant:"primary",onClick:K,disabled:S!==void 0||V||t||Y,loading:V,type:"button",children:R.jsx(m,{id:"OpptjeningFaktaForm.Confirm"})})]})},Tx={"OpptjeningFaktaForm.Skjaringstidspunkt":"Skjæringstidspunkt for opptjening","OpptjeningFaktaForm.EttArbeidKanGodkjennes":"Vurder om aktiviteten kan godkjennes","OpptjeningFaktaForm.FlereArbeidKanGodkjennes":"Vurder om aktivitetene kan godkjennes","OpptjeningFaktaForm.AktivitetenErTimeAvslonnet":"Arbeidet er timeavlønnet. Slå opp i A-ordningen for å vurdere opptjeningen","OpptjeningFaktaForm.DetErInnhentetDok":"Det er innhentet dokumentasjon på opptjening i utlandet","OpptjeningFaktaForm.DetErIkkeInnhentetDok":"Det er <b>ikke</b> innhentet dokumentasjon på opptjening i utlandet","OpptjeningFaktaForm.Confirm":"Bekreft og fortsett","ActivityPanel.Details":"Detaljer for valgt aktivitet","ActivityPanel.Period":"Periode","ActivityPanel.Activity":"Aktivitet","ActivityPanel.Godkjent":"Aktiviteten godkjennes","ActivityPanel.IkkeGodkjent":"Aktiviteten godkjennes <b>ikke</b>","ActivityPanel.BegrunnEndringene":"Begrunn endringene","ActivityPanel.Begrunnelse":"Begrunnelse","ActivityPanel.Oppdater":"Oppdater","ActivityPanel.Avbryt":"Avbryt","ActivityPanel.MonthsAndDays":"({months} mndr. {days} dager)","ActivityPanel.Days":"({days} dager)","ActivityPanel.Arbeidsgiver":"Arbeidsgiver","ActivityPanel.Oppdragsgiver":"Oppdragsgiver","ActivityPanel.Stillingsandel":"Stillingsandel","ActivityPanel.Registreringsdato":"Registreringsdato","ActivityPanel.FerdiglignetNæring":"Ferdiglignet næringsinntekt","ActivityPanel.IngenFerdiglignetNæring":"Ingen ferdiglignet næringsinntekt","OpptjeningTidslinje.StartDato":"Start opptjeningsperiode","OpptjeningTidslinje.SluttDato":"Slutt opptjeningsperiode","OpptjeningTidslinje.Aap":"AAP","Timeline.lukkPeriode":"Lukk periode","Timeline.nextPeriod":"Neste periode","Timeline.nextPeriodShort":"Neste","Timeline.prevPeriod":"Forrige periode","Timeline.prevPeriodShort":"Forrige","Timeline.openData":"Åpne info om første periode"},Ex=Me(Tx),Tg=({opptjening:e,aksjonspunkter:n,alleMerknaderFraBeslutter:r,alleKodeverk:t,harApneAksjonspunkter:i,submitCallback:s,readOnly:l,arbeidsgiverOpplysningerPerId:o,formData:d,setFormData:u})=>{const g=e?e.fastsattOpptjening:void 0,p=e?e.opptjeningAktivitetList:void 0,v=(e==null?void 0:e.ferdiglignetNæring)||[];return R.jsx(Ze,{value:Ex,children:R.jsx(Ix,{readOnly:l,hasOpenAksjonspunkter:i,hasAksjonspunkt:n[0]!==void 0,alleMerknaderFraBeslutter:r,alleKodeverk:t,arbeidsgiverOpplysningerPerId:o,opptjeningAktiviteter:p,fastsattOpptjening:g,ferdiglignetNæring:v,submitCallback:s,formData:d,setFormData:u})})};Tg.__docgenInfo={description:"",methods:[],displayName:"ln"};const _x=[ae.VURDER_PERIODER_MED_OPPTJENING],yx=[Ce.OPPTJENING],Ol=({arbeidsgiverOpplysningerPerId:e,...n})=>Pe.jsx(Pr,{...n,panelEndepunkter:yx,aksjonspunktKoder:_x,faktaPanelKode:Nr.OPPTJENINGSVILKARET,faktaPanelMenyTekst:Q().formatMessage({id:"OpptjeningInfoPanel.KontrollerFaktaForOpptjening"}),skalPanelVisesIMeny:()=>!!n.behandling.vilkår&&n.behandling.vilkår.some(r=>r.vilkarType===Wn.OPPTJENINGSVILKARET)&&n.behandling.vilkår.some(r=>r.vilkarType===Wn.MEDLEMSKAPSVILKARET&&r.vilkarStatus===Id.OPPFYLT),renderPanel:r=>Pe.jsx(Tg,{arbeidsgiverOpplysningerPerId:e,...r})});try{Ol.displayName="OpptjeningsvilkaretFaktaInitPanel",Ol.__docgenInfo={description:"OpptjeningsvilkaretFaktaInitPanel",displayName:"OpptjeningsvilkaretFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}const Eg="https://navno.sharepoint.com/:x:/s/fag-og-ytelser-familie-foreldrepenger/EaB60qfvI_JNlSDbhFXp6FoBIw3G260Wp6zOm78U6aFrng?e=3Jy3sn";var Ie=(e=>(e.AVKLAR_AKTIVITETER="AVKLAR_AKTIVITETER",e.VURDER_FAKTA_FOR_ATFL_SN="VURDER_FAKTA_ATFL_SN",e.OVERSTYRING_AV_BEREGNINGSAKTIVITETER="OVST_BEREGNINGSAKTIVITETER",e.OVERSTYRING_AV_BEREGNINGSGRUNNLAG="OVST_INNTEKT",e))(Ie||{}),qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_g={exports:{}},Hr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bl;function Sx(){if(Bl)return Hr;Bl=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(o,d,u){var g,p={},v=null,h=null;u!==void 0&&(v=""+u),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(h=d.ref);for(g in d)t.call(d,g)&&!s.hasOwnProperty(g)&&(p[g]=d[g]);if(o&&o.defaultProps)for(g in d=o.defaultProps,d)p[g]===void 0&&(p[g]=d[g]);return{$$typeof:n,type:o,key:v,ref:h,props:p,_owner:i.current}}return Hr.Fragment=r,Hr.jsx=l,Hr.jsxs=l,Hr}_g.exports=Sx();var c=_g.exports;const va={"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning":"Vurder fakta for beregningen","BeregningInfoPanel.TidsbegrensetArbFor.Arbeidsforhold":"Er arbeidsforholdet i {navn} med varighet {fom} - {tom} tidsbegrenset?","BeregningInfoPanel.FormAlternativ.Ja":"Ja","BeregningInfoPanel.FormAlternativ.Nei":"Nei","BeregningInfoPanel.NyIArbeidslivet.SelvstendigNaeringsdrivende":"Søker er selvstendig næringsdrivende. Ble søker yrkesaktiv i løpet av de siste tre årene?","AvklarAktivitetPanel.Overskrift":"Aktiviteter i beregningsgrunnlaget","AvklarAktivitetPanel.ButtonText":"Oppdater","AvklarAktivitetPanel.OverstyrText":"Overstyr","AvklareAktiviteter.Avbryt":"Avbryt","VurderAktiviteterTabell.FullAAPKombinert.Overskrift":"Søker har full AAP (200%) sammen med andre aktiviteter. Skjæringstidspunkt for beregning {skjaeringstidspunkt}","VurderAktiviteterTabell.VentelonnVartpenger.Overskrift":"Søker har ventelønn eller vartpenger som siste aktivitet. Skjæringstidspunkt for beregning {skjaeringstidspunkt}","VurderAktiviteterTabell.Overstyrt.Overskrift":"Skjæringstidspunkt for beregning {skjaeringstidspunkt}","BeregningInfoPanel.VurderOgFastsettATFL.ErSokerNyoppstartetFL":"Startet søker som frilanser i løpet av de siste tre månedene?","BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrgUtenIM":"Søker er arbeidstaker og frilanser i samme virksomhet og det er ikke mottatt inntektsmelding(er).","BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrg":"Søker er arbeidstaker og frilanser i samme virksomhet.","BeregningInfoPanel.VurderOgFastsettATFL.FastsettFrilans":"Fastsett frilansinntekt","BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLAlleOppdrag":"Fastsett arbeidsinntekt og samlet frilansinntekt for alle oppdrag.","BeregningInfoPanel.VurderOgFastsettATFL.FastsettArbeidsinntekt":"Fastsett arbeidsinntekt","BeregningInfoPanel.VurderOgFastsettATFL.HarSokerEndring":"Har søker hatt lønnsendring i løpet av de siste tre månedene?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilansUtenFrilans":"Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for frilansaktiviteten?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilans":"Søker er frilanser. Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for frilansaktiviteten?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForArbeid":"Søker er arbeidstaker og det er ikke mottatt inntektsmelding. Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for arbeid i {arbeid}?","BeregningInfoPanel.VurderBestebergning.HarBesteberegning":"Søker har hatt dagpenger i opptjeningsperioden. Skal dette fordeles etter besteberegning?","InntektstabellPanel.Avbryt":"Avbryt overstyring","BeregningInfoPanel.FordelingBG.LeggTilAndel":"Legg til aktivitet","BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet":"Finn regneark på navet","BeregningInfoPanel.FordelingBG.Sum":"Sum","BeregningInfoPanel.FordelingBG.Andel":"Aktivitet","BeregningInfoPanel.FordelingBG.Arbeidsperiode":"Arbeidsperiode","BeregningInfoPanel.FordelingBG.Refusjonskrav":"Refusjonskrav","BeregningInfoPanel.FordelingBG.Fordeling":"Månedsinntekt","BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn":"Månedsinntekt for {andel}","BeregningInfoPanel.FordelingBG.InntektskategoriMedAndelnavn":"Inntektskategori for {andel}","BeregningInfoPanel.FordelingBG.Inntektskategori":"Inntektskategori","BeregningInfoPanel.FordelingBG.LeggTilDagpengerAndel":"Legg til dagpenger","BeregningInfoPanel.FordelingBG.FjernDagpenger":"Fjern dagpenger","BeregningInfoPanel.FordelingBG.Ytelse":"Ytelse","BeregningInfoPanel.FordelingBG.FjernAndel":"Fjern aktivitet","AvklareAktiviteter.OverstyrerAktivitetAdvarsel":"Overstyr hvilke aktiviteter og eventuelle inntektsmeldinger som skal benyttes i beregning.","VurderAktiviteterTabell.Header.Aktivitet":"Aktivitet","VurderAktiviteterTabell.Header.Periode":"Periode","VurderAktiviteterTabell.Header.Benytt":"Benytt","VurderAktiviteterTabell.Header.IkkeBenytt":"Ikke benytt","VurderAktiviteterTabell.Validation.MåHaMinstEnAktivitet":"Må ha minst én aktivitet for å kunne fastsette beregningsgrunnlag","BeregningInfoPanel.AksjonspunktHelpText.VurderAktiviteter":"Vurder hvilke aktiviteter som skal benyttes i beregningsgrunnlaget.","BeregningInfoPanel.KunstigArbeidsforhold.FastsettKunstigArbeidsforhold":"Det finnes ikke registerdata for arbeidsforholdet og det er ikke mottatt inntektsmelding. Fastsett månedsinntekt for arbeidsforholdet","KunYtelsePanel.Overskrift":"Søker har ytelse som eneste inntekt. Fastsett månedsbeløp for fordeling av beregningsgrunnlaget.","KunYtelsePanel.HarBesteberegning":"Søker har ytelse som eneste inntekt. Skal denne fordeles etter besteberegning?","KunYtelsePanel.OverskriftBesteberegning":"Fastsett månedsbeløp for brutto beregningsgrunnlag etter besteberegning","BeregningInfoPanel.FordelBG.Validation.UlikeAndeler":"Andeler for samme aktivitet må ha ulik inntektskategori","InntektstabellPanel.RapporterteInntekter":"Rapporterte inntekter","BeregningInfoPanel.EtterlønnSluttpakke.HarSøkerInntekt":"Har søker etterlønn eller sluttpakke?","BeregningInfoPanel.VurderMilitaer.HarSøkerMilitærinntekt":"Har søker vært i militær- eller sivilforsvarstjeneste i opptjeningsperioden?","VurderRefusjonForm.ErRefusjonskravGyldig":"{arbeidsgiverVisningsnavn} har minst ett refusjonskrav som har kommet for sent. Skal refusjonskrav som ikke har kommet innen fristen tas med i beregning?","BeregningInfoPanel.Validation.MinstEnFastsatt":"Må ha overstyrt inntekt for minst én aktivitet.","FaktaBegrunnelseTextField.BegrunnEndringene":"Begrunn endringene","SubmitButton.ConfirmInformation":"Bekreft og fortsett"},Nx="_tabsContainer_1ojru_1",Px={tabsContainer:Nx},ot="avklarAktiviteterForm",kn="vurderFaktaBeregningForm",tn=(e,n)=>n.some(r=>r.definisjon===e),Rx=e=>e===ia.OPPRETTET,Ox="_begrunnelseTextField_1wq9u_1",Bx="_explanationTextarea_1wq9u_4",Fx="_explanationTextareaReadOnly_1wq9u_7",Wi={begrunnelseTextField:Ox,explanationTextarea:Bx,explanationTextareaReadOnly:Fx},Fl=Me(va),$x=fn(3),Dx=pn(1500),tr=({isReadOnly:e,isSubmittable:n,hasBegrunnelse:r,label:t,hasVurderingText:i,name:s})=>{const l=i?"FaktaBegrunnelseTextField.Vurdering":"FaktaBegrunnelseTextField.BegrunnEndringene",o=t||Fl.formatMessage({id:l});return c.jsx(Ze,{value:Fl,children:(n||r)&&c.jsx("div",{className:Wi.begrunnelseTextField,children:c.jsx(Xe,{name:s,label:e?"":o,validate:e?[]:[X,$x,Dx,mn],className:e?Wi.explanationTextareaReadOnly:Wi.explanationTextarea,maxLength:1500,readOnly:e})})})};tr.defaultProps={name:"begrunnelse",hasVurderingText:!1};tr.buildInitialValues=(e,n="begrunnelse")=>({[n]:Ys(e)});tr.transformValues=(e,n="begrunnelse")=>({begrunnelse:e[n]});const Vx=Me(va),Gx=(e,n,r,t)=>!e&&!r||n?!0:t===void 0?!e:!e&&t||t,yg=({isReadOnly:e,isSubmittable:n,isSubmitting:r,isDirty:t,text:i,onClick:s,hasEmptyRequiredFields:l,isDisabled:o})=>e?null:c.jsx(ie,{size:"small",loading:r,disabled:Gx(t,r,n,l)||!!o,onClick:s||Js,type:s?"button":"submit",children:i||Vx.formatMessage({id:"SubmitButton.ConfirmInformation"})}),{AVKLAR_AKTIVITETER:mi,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:$l}=Ie,Lx=(e,n)=>n.some(r=>r.definisjon===e&&r.kanLoses),Mx=(e,n,r)=>(e||Lx(mi,n))&&r,ha=e=>{var n;return e.some(r=>r.definisjon===$l||r.definisjon===mi)?(n=e.find(r=>r.definisjon===$l||r.definisjon===mi))==null?void 0:n.begrunnelse:void 0},Kx=(e,n)=>tn(mi,e)||n,wx=(e,n,r)=>e&&n&&!r,Ux="_avsnittOverskrift_h44z2_1",Cx={avsnittOverskrift:Ux},Zi=e=>e?`...${e.substring(e.length-4,e.length)}`:"",Br=(e,n)=>e.erPrivatPerson?e.fødselsdato?`${e.navn} (${T(e.fødselsdato).format(te)})${Zi(n)}`:`${e.navn}${Zi(n)}`:`${e.navn} (${e.identifikator})${Zi(n)}`,zx=(e,n)=>e.arbeidsforholdId?n+e.arbeidsforholdId:n,Dl=(e,n)=>e+n.fom.replace(".",""),We=e=>{if(e.arbeidsgiverIdent){const n=zx(e,e.arbeidsgiverIdent);return Dl(n,e)}return Dl(e.arbeidsforholdType,e)},Yx=(e,n)=>e||n,Zt=(e,n,r,t,i)=>!n&&!r||e.arbeidsforholdType&&e.arbeidsforholdType===Ir.AAP?!1:n?Yx(t,i):!0,Hx=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?n[e.arbeidsgiverIdent]:void 0;return i?Br(i,e.eksternArbeidsforholdId):e.arbeidsforholdType&&((t=r[ye.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn)||""},Jx=(e,n)=>T(e).isSame(T(n))||T(e).isBefore(T(n)),qx=(e,n,r,t)=>Zt(e,n,r,t,!1)?e.skalBrukes===void 0||e.skalBrukes===null?void 0:e.skalBrukes.toString():e.skalBrukes===!0||e.skalBrukes===null||e.skalBrukes===void 0?"true":"false",Wx=(e,n,r,t,i,s)=>({beregningAktivitetNavn:Hx(e,s,n),fom:e.fom,tom:e.tom,skalBrukes:qx(e,r,t,i)}),Zx=(e,n,r,t)=>{const i=Jx(r,t);return n.filter(s=>e.aktiviteterValues&&(e.aktiviteterValues[We(s)].skalBrukes==="false"||e.aktiviteterValues[We(s)].tom!=null)).map(s=>({oppdragsgiverOrg:s.arbeidsgiverIdent&&s.arbeidsgiverIdent.length===9?s.arbeidsgiverIdent:void 0,arbeidsforholdRef:s.arbeidsforholdId,fom:s.fom,tom:e.aktiviteterValues&&e.aktiviteterValues[We(s)].tom!=null?e.aktiviteterValues[We(s)].tom:s.tom,opptjeningAktivitetType:s.arbeidsforholdType,arbeidsgiverIdentifikator:s.arbeidsgiverIdent,skalBrukes:i&&e.aktiviteterValues?e.aktiviteterValues[We(s)].skalBrukes==="true":!0}))},Xx=(e,n,r,t,i,s)=>{const l={};return e&&e.forEach(o=>{l[We(o)]=Wx(o,n,r,t,i,s)}),l},Qx="_radios_bl769_1",eA="_navnKol_bl769_13",Lt={radios:Qx,navnKol:eA},nA=(e,n)=>T(e).isSame(T(n))||T(e).isBefore(T(n)),Vl=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?n[e.arbeidsgiverIdent]:void 0;return i?Br(i,e.eksternArbeidsforholdId):e.arbeidsforholdType&&((t=r[ye.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn)||""},rA=({readOnly:e,isAvklaringsbehovClosed:n,aktivitet:r,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:l,valgtSkjæringstidspunkt:o,ingenAktiviterErBrukt:d,arbeidsgiverOpplysningerPerId:u,fieldId:g})=>{const p=Q(),v=nA(o,l),h=x=>{const _=Vl(r,u,t),N=`${Xa(r.fom)} til ${Xa(r.tom||"")}`;return`${x?"Benytt":"Ikke benytt"} ${_} ${N}`};return c.jsxs(we,{children:[c.jsx(C,{className:Lt.navnKol,children:c.jsx(I,{children:Vl(r,u,t)})}),c.jsxs(C,{className:Lt.rowalign,children:[!i&&c.jsx(I,{children:c.jsx(ze,{dateStringFom:r.fom,dateStringTom:r.tom})}),i&&c.jsxs("div",{children:[c.jsx(Re,{dateString:r.fom})," -"," ",c.jsx(qn,{name:`avklarAktiviteterForm.${g}.aktiviteterValues.${We(r)}.tom`,validate:[X,Bn],isReadOnly:e})]})]}),c.jsx(C,{className:Lt.radios,children:c.jsx(Te,{name:`avklarAktiviteterForm.${g}.aktiviteterValues.${We(r)}.skalBrukes`,label:p.formatMessage({id:"VurderAktiviteterTabell.Header.Benytt"}),validate:[X],isHorizontal:!0,isReadOnly:e||!Zt(r,i,s,v,d),radios:[{value:"true",label:h(!0)}],hideLegend:!0,hideRadioLabels:!0})}),c.jsx(C,{className:Lt.radios,children:c.jsx(Te,{name:`avklarAktiviteterForm.${g}.aktiviteterValues.${We(r)}.skalBrukes`,label:p.formatMessage({id:"VurderAktiviteterTabell.Header.IkkeBenytt"}),validate:[X],isHorizontal:!0,isReadOnly:e||!Zt(r,i,s,v,d),radios:[{value:"false",label:h(!1)}],hideLegend:!0,hideRadioLabels:!0})}),n&&e&&c.jsx(C,{children:Zt(r,i,s,v,d)&&c.jsx(Ni,{})})]},We(r))},tA=(e,n,r)=>{const t=Bn(r)?"":T(r).format(te);if(n)return c.jsx(m,{id:"VurderAktiviteterTabell.Overstyrt.Overskrift",values:{skjaeringstidspunkt:t}});const i=e.some(l=>l.arbeidsforholdType&&l.arbeidsforholdType===Ir.AAP),s=e.some(l=>l.arbeidsforholdType&&l.arbeidsforholdType===Ir.VENTELØNN_VARTPENGER);return i?c.jsx(m,{id:"VurderAktiviteterTabell.FullAAPKombinert.Overskrift",values:{skjaeringstidspunkt:t}}):s?c.jsx(m,{id:"VurderAktiviteterTabell.VentelonnVartpenger.Overskrift",values:{skjaeringstidspunkt:t}}):""},iA=()=>["VurderAktiviteterTabell.Header.Aktivitet","VurderAktiviteterTabell.Header.Periode","VurderAktiviteterTabell.Header.Benytt","VurderAktiviteterTabell.Header.IkkeBenytt"],sA=({readOnly:e,isAvklaringsbehovClosed:n,aktiviteter:r,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:l,valgtSkjæringstidspunkt:o,ingenAktiviterErBrukt:d,arbeidsgiverOpplysningerPerId:u,fieldId:g})=>c.jsxs(c.Fragment,{children:[c.jsx(D,{size:"small",children:tA(r,i,l)}),c.jsx(Qe,{headerTextCodes:iA(),noHover:!0,children:r.map(p=>c.jsx(rA,{aktivitet:p,readOnly:e,isAvklaringsbehovClosed:n,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:l,valgtSkjæringstidspunkt:o,ingenAktiviterErBrukt:d,arbeidsgiverOpplysningerPerId:u,fieldId:g},`${p.arbeidsgiverIdent}-${p.fom}-${p.tom}`))})]}),Ts=(e,n)=>!!e.aktiviteter&&e.aktiviteter.find(r=>{const t=We(r);return n.aktiviteterValues&&n.aktiviteterValues[t]?n.aktiviteterValues[t].skalBrukes!=="false":r.skalBrukes})!==void 0,aA=(e,n)=>{let r=0;for(;r<e.length&&T(n).isBefore(e[r].tom===void 0?null:e[r].tom);)r+=1;return r},Gl=(e,n,r)=>{const t=e.find(({tom:i})=>i===r);if(t===void 0){const i={tom:r,aktiviteter:[n]},s=aA(e,r);e.splice(s,0,i)}else{if(!t.aktiviteter)throw new Error(`Forventer å ha aktiviteter på tom ${t.tom}`);t.aktiviteter.push(n)}},lA=e=>{var n;return!!((n=e.avklarAktiviteter)!=null&&n.aktiviteterTomDatoMapping)&&e.avklarAktiviteter.aktiviteterTomDatoMapping.some(r=>r.aktiviteter&&!r.aktiviteter.some(t=>!T(t.tom).isValid()))},oA=e=>{var n;const r=e.avklarAktiviteter?e.avklarAktiviteter.aktiviteterTomDatoMapping||[]:[],t=[],i=(n=e.avklarAktiviteter)==null?void 0:n.skjæringstidspunkt;if(!i)throw new Error("Forventer skjæringstidspunkt for opptjening her!");return r.flatMap(({aktiviteter:s})=>s).forEach(s=>{if(!s)throw new Error("Må ha aktivitet i form values her!");const l={...s},o=e.aktiviteterValues?e.aktiviteterValues[We(s)].tom:void 0;o&&o!==l.tom&&(l.tom=o),T(o).isSame(T(i).subtract(1,"days"))||T(o).isAfter(T(i).subtract(1,"days"))?Gl(t,l,i):Gl(t,l,T(o).add(1,"days").format("YYYY-MM-DD"))}),t},ba=(e,n,r)=>{const t=n&&!lA(n)?oA(n):e;return r?t:!n||Ts(t[0],n)||t.length===1?[t[0]]:[t[0],t[1]]},Sg=(e,n)=>{if(!(e===void 0||n===void 0))for(let r=0;r<n.length;r+=1){const t=n[r].aktiviteter||[];for(let i=0;i<t.length;i+=1){const s=e.aktiviteterValues?e.aktiviteterValues[We(t[i])]:void 0;if((s==null?void 0:s.skalBrukes)==="true")return n[r].tom}}},ir=({readOnly:e,isAvklaringsbehovClosed:n,values:r,aktiviteterTomDatoMapping:t,erOverstyrt:i,harAvklaringsbehov:s,kodeverkSamling:l,arbeidsgiverOpplysningerPerId:o,fieldId:d})=>{const u=ba(t,r,i),g=Sg(r,u);return c.jsx(c.Fragment,{children:u.map(p=>c.jsx(sA,{readOnly:e,isAvklaringsbehovClosed:n,aktiviteter:p.aktiviteter||[],erOverstyrt:i,harAvklaringsbehov:s,kodeverkSamling:l,tomDatoForAktivitetGruppe:p.tom,valgtSkjæringstidspunkt:g,ingenAktiviterErBrukt:g===void 0,arbeidsgiverOpplysningerPerId:o,fieldId:d},p.tom))})};ir.harIngenAktiviteter=(e,n,r)=>{const t=ba(n,e,r);return Ts(t[0],e)?!1:t.length>1&&t[1].aktiviteter&&t[1].aktiviteter.length>0?!Ts(t[1],e):!0};const dA=(e,n)=>T(e).isSame(T(n))||T(e).isBefore(T(n));ir.transformValues=(e,n,r)=>{const t=ba(n,e,r),i=Sg(e,t);if(!i)throw new Error("Finner ikke forventet skjæringstidspunkt, ugyldig tilstand");return t.flatMap(s=>Zx(e,s.aktiviteter||[],i,s.tom))};const gA=e=>{if(e!==void 0)for(let n=0;n<e.length;n+=1){const r=e[n].aktiviteter||[];for(let t=0;t<r.length;t+=1)if(r[t].skalBrukes===!0||r[t].skalBrukes===null||r[t].skalBrukes===void 0)return e[n].tom}};ir.buildInitialValues=(e,n,r,t,i)=>{if(!e||e.length===0)return{};let s={};const l=gA(e);return e.forEach(o=>{s={...s,...Xx(o.aktiviteter||[],n,r,t,dA(l,o.tom),i)}}),s};const{AVKLAR_AKTIVITETER:Xt,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Ng}=Ie,ja="begrunnelseAvklareAktiviteter",Pg="manuellOverstyringBeregningAktiviteter",uA=(e,n,r,t,i)=>{const s=tn(Xt,e),l=tn(Ng,e),o=ha(e);let d;return n&&n.aktiviteterTomDatoMapping&&(d=ir.buildInitialValues(n.aktiviteterTomDatoMapping,r,l,s,t)),{[Pg]:l,periode:i.periode,erTilVurdering:i.vurderesIBehandlingen&&!i.erForlengelse,avklaringsbehov:e,avklarAktiviteter:n,aktiviteterValues:d,...tr.buildInitialValues(o,ja)}},Ll=e=>{const n=e[Pg],r=Mx(!!n,e.avklaringsbehov||[],e.erTilVurdering),{avklarAktiviteter:t}=e;return r?{beregningsaktivitetLagreDtoList:ir.transformValues(e,(t==null?void 0:t.aktiviteterTomDatoMapping)||[],!!n),periode:e.periode,begrunnelse:e[ja]}:null},kA=(e,n,r,t,i)=>{if(!(r.length<1)&&ir.harIngenAktiviteter(e(`avklarAktiviteterForm.${n}`),r,t))return i.formatMessage({id:"VurderAktiviteterTabell.Validation.MåHaMinstEnAktivitet"})},mA=({avklarAktiviteter:e,avklaringsbehov:n,erOverstyrer:r,readOnly:t,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:s,submittable:l,fieldId:o,updateOverstyring:d,submitDisabled:u})=>{var g,p;const v=Q(),{resetField:h,watch:x,getValues:_,formState:{isSubmitting:N,errors:y,dirtyFields:B}}=Se(),S=Object.keys(B).length>0,$=tn(Ng,n),V=!!_(`avklarAktiviteterForm.${o}`).manuellOverstyringBeregningAktiviteter,[G,K]=b.useState($||V),ee=!!((p=(g=y.avklarAktiviteterForm)==null?void 0:g[o])!=null&&p.begrunnelseAvklareAktiviteter),ne=H=>{H?K(!G):!H&&G&&K(!1),h(`avklarAktiviteterForm.${o}`,{keepDirty:!1}),h(`vurderAktiviteterSkjema.${o}`,{keepDirty:!1}),d(o,H)},z=n.filter(H=>H.definisjon===Ie.AVKLAR_AKTIVITETER||H.definisjon===Ie.OVERSTYRING_AV_BEREGNINGSAKTIVITETER).filter(H=>Rx(H.status)).length===0,q=kA(x,o,e.aktiviteterTomDatoMapping||[],V,v),w=`vurderAktiviteterSkjema.${o}`,Y=Ii(w,q);return!e.aktiviteterTomDatoMapping||e.aktiviteterTomDatoMapping.length<1?null:c.jsxs(c.Fragment,{children:[c.jsx(pe,{children:c.jsxs(O,{children:[c.jsx(j,{children:c.jsx(D,{size:"small",className:Cx.avsnittOverskrift,"data-testid":"avklareAktiviteterHeading",children:c.jsx(m,{id:"AvklarAktivitetPanel.Overskrift"})})}),(r||$)&&c.jsx(j,{children:c.jsx(Xs,{onClick:()=>ne(!0),erOverstyrt:G})})]})}),c.jsx(A,{sixteenPx:!0}),tn(Xt,n)&&!z&&c.jsx(kt,{children:[c.jsx(m,{id:"BeregningInfoPanel.AksjonspunktHelpText.VurderAktiviteter"},"VurderFaktaForBeregningen")]}),G&&c.jsx(D,{size:"small",children:c.jsx(m,{id:"AvklareAktiviteter.OverstyrerAktivitetAdvarsel"})}),c.jsx(A,{twentyPx:!0}),e&&e.aktiviteterTomDatoMapping&&c.jsxs("div",{children:[c.jsx(ir,{aktiviteterTomDatoMapping:e.aktiviteterTomDatoMapping,readOnly:t,isAvklaringsbehovClosed:z,erOverstyrt:G,kodeverkSamling:i,values:x(`avklarAktiviteterForm.${o}`),harAvklaringsbehov:tn(Xt,n),arbeidsgiverOpplysningerPerId:s,fieldId:o}),Y&&c.jsx(lt,{children:Y})]}),c.jsx(A,{twentyPx:!0}),Kx(n,G)&&c.jsxs(c.Fragment,{children:[c.jsx(tr,{name:`avklarAktiviteterForm.${o}.${ja}`,isSubmittable:l,isReadOnly:t,hasBegrunnelse:ha(n)!==null}),(tn(Xt,n)||G)&&c.jsxs(c.Fragment,{children:[c.jsx(A,{twentyPx:!0}),c.jsx(pe,{children:c.jsxs(O,{children:[c.jsx(j,{children:c.jsx(yg,{text:v.formatMessage({id:G?"AvklarAktivitetPanel.OverstyrText":"AvklarAktivitetPanel.ButtonText"}),isSubmittable:wx(l,!0,ee),isDirty:S,isSubmitting:u,isReadOnly:t||z&&!S,hasEmptyRequiredFields:ee})}),!!B&&S&&c.jsx(j,{children:c.jsx(ie,{variant:"secondary",loading:N,disabled:N,onClick:()=>ne(!1),size:"small",children:c.jsx(m,{id:"AvklareAktiviteter.Avbryt"})})})]})})]})]})]})},{OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Rg,AVKLAR_AKTIVITETER:Og}=Ie,Ml="manuellOverstyringBeregningAktiviteter",fA=(e,n)=>{const r=e.perioder.find(({periode:t})=>t.fom===n);if(!r)throw new Error(`Finner ikke vilkårsperiode med fom ${n}`);return r},pA=(e,n)=>!tn(Og,e)&&!tn(Rg,e)&&!n,cA=e=>{const n=e[ot],r=n.filter(s=>s[Ml]).map(Ll).filter(s=>s),t=n.filter(s=>!s[Ml]).map(Ll).filter(s=>s),i=[];if(r.length>0){const s=r.map(({begrunnelse:o})=>o).reduce((o,d)=>o===""?d:`${o} ${d}`,""),l={kode:Rg,begrunnelse:s,grunnlag:r};i.push(l)}if(t.length>0){const s=t.map(({begrunnelse:o})=>o).reduce((o,d)=>o===""?d:`${o} ${d}`,""),l={kode:Og,begrunnelse:s,grunnlag:t};i.push(l)}return i},vA=(e,n,r,t)=>({[ot]:e.map(i=>{var s;return uA(i.avklaringsbehov,(s=i.faktaOmBeregning)==null?void 0:s.avklarAktiviteter,n,r,fA(t,i.vilkårsperiodeFom))})}),hA=(e,n)=>{var r;const t=(r=e[n].faktaOmBeregning)==null?void 0:r.avklarAktiviteter;if(!t)throw new Error("Mangler aktivteter å populere skjema med!");return t},bA=({harAndreAvklaringsbehovIPanel:e,erOverstyrer:n,readOnly:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,submittable:s,submitCallback:l,beregningsgrunnlag:o,aktivtBeregningsgrunnlagIndeks:d,vilkår:u,setFormData:g,formData:p,setAvklarAktiviteterErEndret:v})=>{const h=He({defaultValues:p||vA(o,t,i,u)}),{formState:{dirtyFields:x,errors:_,isSubmitted:N},control:y,getValues:B,trigger:S,setValue:$}=h;b.useEffect(()=>{var q;(q=x.avklarAktiviteterForm)!=null&&q.some(w=>!!w)?v(!0):v(!1)},[x]),b.useEffect(()=>{var q;N&&(q=x.avklarAktiviteterForm)!=null&&q[d]&&S()},[d]);const V=o.flatMap(q=>q.avklaringsbehov),{fields:G}=an({name:ot,control:y}),[K,ee]=b.useState(!1),ne=(q,w)=>{const Y=B(`avklarAktiviteterForm.${q}`);$(`${ot}.${q}`,{...Y,manuellOverstyringBeregningAktiviteter:w},{shouldDirty:!0})};if(pA(V,n))return null;const z=q=>{Object.keys(_).length===0&&(ee(!0),l(cA(q)))};return c.jsxs(c.Fragment,{children:[c.jsx(Je,{formMethods:h,onSubmit:q=>z(q),setDataOnUnmount:g,children:G.map((q,w)=>d===w&&c.jsx(mA,{aktivtBeregningsgrunnlagIndeks:d,fieldId:w,avklarAktiviteter:hA(o,w),avklaringsbehov:o[w].avklaringsbehov,erOverstyrer:n,readOnly:r,submittable:s,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,updateOverstyring:ne,submitDisabled:K},q.id))}),e&&c.jsx(A,{twentyPx:!0})]})},jA="_navetLink_15r5n_1",xA="_flexColumn12_15r5n_12",AA="_flexColumn9_15r5n_15",IA="_flexColumn3_15r5n_18",Un={navetLink:jA,flexColumn12:xA,flexColumn9:AA,flexColumn3:IA},hn=e=>e==="true",Bg=W.createContext(null),Oe=W.createContext(0),Fg=W.createContext(0),Qn="vurderbesteberegningField",{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:TA}=Ie,ht=({readOnly:e,erOverstyrt:n})=>{const r=W.useContext(Oe),t=Q(),i=e||n;return c.jsx("div",{children:c.jsxs(O,{children:[c.jsx(j,{className:Un.flexColumn9,children:c.jsx(Te,{label:c.jsx(I,{children:c.jsx(m,{id:"BeregningInfoPanel.VurderBestebergning.HarBesteberegning"})}),name:`vurderFaktaBeregningForm.${r}.${Qn}`,isReadOnly:i,validate:i?[]:[X],radios:[{value:"true",label:t.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:t.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:hn,isHorizontal:!0})}),c.jsx(j,{className:Un.flexColumn3,children:c.jsx("a",{className:Un.navetLink,href:Eg,target:"_blank",rel:"noopener noreferrer",children:c.jsx(m,{id:"BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet"})})})]})})};ht.buildInitialValues=(e,n,r,t)=>r.includes(Z.VURDER_BESTEBEREGNING)||r.includes(Z.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE)?n?e.find(i=>i.definisjon===TA)!==void 0||t?{[Qn]:!1}:{[Qn]:n.skalHaBesteberegning}:{}:{};ht.transformValues=(e,n,r)=>{if(!n||!n.vurderBesteberegning)return{};if(!e[Qn]||!r)return{besteberegningAndeler:{besteberegningAndelListe:[]}};const t=r.filter(({nyAndel:s})=>s!==!0).map(s=>({andelsnr:s.andelsnr,nyAndel:s.nyAndel,lagtTilAvSaksbehandler:s.lagtTilAvSaksbehandler,fastsatteVerdier:{fastsattBeløp:s.fastsattBelop,inntektskategori:s.inntektskategori}})),i=r.find(s=>s.nyAndel&&s.aktivitetStatus===F.DAGPENGER);return{besteberegningAndeler:{besteberegningAndelListe:t,nyDagpengeAndel:i?{fastsatteVerdier:{fastsattBeløp:i.fastsattBelop,inntektskategori:i.inntektskategori}}:null}}};const EA=e=>(n,r)=>{const t=e.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller:[];if(!(t.map(l=>l).includes(Z.VURDER_BESTEBEREGNING)||t.map(l=>l).includes(Z.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE)))return{};const i=ht.transformValues(n,e,r),s=[Z.VURDER_BESTEBEREGNING];return i.besteberegningAndeler.besteberegningAndelListe.length>0&&s.push(Z.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE),{faktaOmBeregningTilfeller:s,...i}},_A="_fadeinTabell_1d8wy_1",yA="_fadein_1d8wy_1",SA="_rightAligned_1d8wy_10",NA="_avsnittOverskrift_1d8wy_13",Kl={fadeinTabell:_A,fadein:yA,rightAligned:SA,avsnittOverskrift:NA},Tr="manuellOverstyringRapportertInntekt",{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:PA,AVKLAR_AKTIVITETER:RA}=Ie,OA=(e,n)=>n.some(r=>r.definisjon===e),BA=(e,n)=>e&&!n.some(r=>r.definisjon===RA&&vn(r.status)),Oi=({tabell:e,hjelpeTekstId:n,children:r,skalViseTabell:t,readOnly:i,avklaringsbehov:s,updateOverstyring:l,erOverstyrer:o,erOverstyrt:d})=>{const[u,g]=b.useState(d),p=W.useContext(Oe),v=b.useMemo(()=>BA(o,s),[o,s]),h=()=>{g(!u),l(p,!u)};return c.jsxs(c.Fragment,{children:[r,c.jsxs("div",{className:Kl.fadeinTabell,children:[c.jsx(A,{sixteenPx:!0}),t&&c.jsxs(c.Fragment,{children:[c.jsx(pe,{children:c.jsxs(O,{children:[c.jsx(j,{children:c.jsx(D,{size:"small",className:Kl.avsnittOverskrift,children:c.jsx(m,{id:"InntektstabellPanel.RapporterteInntekter"})})}),(v||u)&&c.jsx(j,{children:c.jsx(Xs,{onClick:h,erOverstyrt:i||u||OA(PA,s)})})]})}),c.jsx(A,{sixteenPx:!0}),n&&c.jsx(D,{size:"small",children:c.jsx(m,{id:n})}),e,u&&!i&&c.jsx(ie,{size:"small",onClick:h,variant:"secondary",children:c.jsx(m,{id:"InntektstabellPanel.Avbryt"})})]})]})]})};Oi.buildInitialValues=e=>({[Tr]:e});Oi.defaultProps={hjelpeTekstId:void 0,skalViseTabell:!0};const $g=(e,n,r)=>r?!1:n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.filter(t=>t.aktivitetStatus===F.ARBEIDSTAKER).filter(t=>t.arbeidsforhold&&t.arbeidsforhold.arbeidsgiverIdent===e.arbeidsgiverId).filter(t=>t.arbeidsforhold&&t.arbeidsforhold.arbeidsforholdId).length>0,Bi="lonnsendringField",bt=({readOnly:e})=>{const n=W.useContext(Oe),r=Q();return c.jsx("div",{children:c.jsx(Te,{label:c.jsx(I,{children:c.jsx(m,{id:"BeregningInfoPanel.VurderOgFastsettATFL.HarSokerEndring"})}),name:`vurderFaktaBeregningForm.${n}.lonnsendringField`,isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[X],parse:hn,isHorizontal:!0})})},FA=e=>{const n=e.find(t=>t.lonnsendringIBeregningsperioden===!0)!==void 0,r=e.find(t=>t.lonnsendringIBeregningsperioden===!1)!==void 0;return n||(r?!1:void 0)};bt.buildInitialValues=e=>{const n={};if(!e||!e.beregningsgrunnlagPeriode)return n;const r=e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel;if(!r||r.length<1)return n;const t=r.filter(i=>i.aktivitetStatus===F.ARBEIDSTAKER);return!t||t.length<1||(n[Bi]=FA(t)),n};const $A=(e,n,r)=>r[Bi]&&!!n.arbeidsforholdMedLønnsendringUtenIM&&n.arbeidsforholdMedLønnsendringUtenIM.find(t=>t.andelsnr===e.andelsnr)!==void 0;bt.transformValues=(e,n)=>(n.faktaOmBeregningTilfeller?n.faktaOmBeregningTilfeller:[]).map(r=>r).includes(Z.VURDER_LONNSENDRING)?{faktaOmBeregningTilfeller:[Z.VURDER_LONNSENDRING],vurdertLonnsendring:{erLønnsendringIBeregningsperioden:e[Bi]}}:{};const Cn="NyoppstartetFLField",jt=({readOnly:e})=>{const n=W.useContext(Oe),r=Q();return c.jsx("div",{children:c.jsx(Te,{label:c.jsx(I,{children:c.jsx(m,{id:"BeregningInfoPanel.VurderOgFastsettATFL.ErSokerNyoppstartetFL"})}),name:`vurderFaktaBeregningForm.${n}.${Cn}`,validate:[X],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:hn,isHorizontal:!0})})};jt.buildInitialValues=e=>{var n;const r={};if(e===void 0||e.beregningsgrunnlagPeriode===void 0)return r;const t=e.beregningsgrunnlagPeriode.map(i=>i.beregningsgrunnlagPrStatusOgAndel).flat().filter(i=>(i==null?void 0:i.aktivitetStatus)===F.FRILANSER);return t.length>0&&(r[Cn]=(n=t[0])==null?void 0:n.erNyoppstartet),r};jt.transformValues=(e,n,r,t)=>{if(!(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).map(l=>l).includes(Z.VURDER_NYOPPSTARTET_FL))return{};if(!n||n.length===0)return{faktaOmBeregningTilfeller:[Z.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[Cn]}};const i=n.find(l=>l.aktivitetStatus===F.FRILANSER);if(!i)return{faktaOmBeregningTilfeller:[Z.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[Cn]}};if(t.includes(i.andelsnr))return{faktaOmBeregningTilfeller:[Z.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[Cn]}};t.push(i.andelsnr);const s={fastsettMaanedsinntektFL:{maanedsinntekt:i.fastsattBelop}};return{faktaOmBeregningTilfeller:[Z.VURDER_NYOPPSTARTET_FL,Z.FASTSETT_MAANEDSINNTEKT_FL],...s,vurderNyoppstartetFL:{erNyoppstartetFL:e[Cn]}}};var Mt=function(e){return e&&e.Math===Math&&e},bn=Mt(typeof globalThis=="object"&&globalThis)||Mt(typeof window=="object"&&window)||Mt(typeof self=="object"&&self)||Mt(typeof qi=="object"&&qi)||function(){return this}()||qi||Function("return this")(),xa={},_n=function(e){try{return!!e()}catch{return!0}},DA=_n,Dn=!DA(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),VA=_n,Aa=!VA(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),GA=Aa,Kt=Function.prototype.call,Ia=GA?Kt.bind(Kt):function(){return Kt.apply(Kt,arguments)},Dg={},Vg={}.propertyIsEnumerable,Gg=Object.getOwnPropertyDescriptor,LA=Gg&&!Vg.call({1:2},1);Dg.f=LA?function(e){var n=Gg(this,e);return!!n&&n.enumerable}:Vg;var Lg=function(e,n){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:n}},Mg=Aa,Kg=Function.prototype,Es=Kg.call,MA=Mg&&Kg.bind.bind(Es,Es),ln=Mg?MA:function(e){return function(){return Es.apply(e,arguments)}},wg=ln,KA=wg({}.toString),wA=wg("".slice),Fi=function(e){return wA(KA(e),8,-1)},UA=ln,CA=_n,zA=Fi,Xi=Object,YA=UA("".split),HA=CA(function(){return!Xi("z").propertyIsEnumerable(0)})?function(e){return zA(e)==="String"?YA(e,""):Xi(e)}:Xi,Ug=function(e){return e==null},JA=Ug,qA=TypeError,Cg=function(e){if(JA(e))throw qA("Can't call method on "+e);return e},WA=HA,ZA=Cg,$i=function(e){return WA(ZA(e))},_s=typeof document=="object"&&document.all,XA=typeof _s>"u"&&_s!==void 0,zg={all:_s,IS_HTMLDDA:XA},Yg=zg,QA=Yg.all,on=Yg.IS_HTMLDDA?function(e){return typeof e=="function"||e===QA}:function(e){return typeof e=="function"},wl=on,Hg=zg,eI=Hg.all,Fr=Hg.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:wl(e)||e===eI}:function(e){return typeof e=="object"?e!==null:wl(e)},Qi=bn,nI=on,rI=function(e){return nI(e)?e:void 0},Di=function(e,n){return arguments.length<2?rI(Qi[e]):Qi[e]&&Qi[e][n]},tI=ln,iI=tI({}.isPrototypeOf),sI=typeof navigator<"u"&&String(navigator.userAgent)||"",Jg=bn,es=sI,Ul=Jg.process,Cl=Jg.Deno,zl=Ul&&Ul.versions||Cl&&Cl.version,Yl=zl&&zl.v8,gn,fi;Yl&&(gn=Yl.split("."),fi=gn[0]>0&&gn[0]<4?1:+(gn[0]+gn[1]));!fi&&es&&(gn=es.match(/Edge\/(\d+)/),(!gn||gn[1]>=74)&&(gn=es.match(/Chrome\/(\d+)/),gn&&(fi=+gn[1])));var aI=fi,Hl=aI,lI=_n,oI=bn,dI=oI.String,qg=!!Object.getOwnPropertySymbols&&!lI(function(){var e=Symbol("symbol detection");return!dI(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Hl&&Hl<41}),gI=qg,Wg=gI&&!Symbol.sham&&typeof Symbol.iterator=="symbol",uI=Di,kI=on,mI=iI,fI=Wg,pI=Object,Zg=fI?function(e){return typeof e=="symbol"}:function(e){var n=uI("Symbol");return kI(n)&&mI(n.prototype,pI(e))},cI=String,vI=function(e){try{return cI(e)}catch{return"Object"}},hI=on,bI=vI,jI=TypeError,Ta=function(e){if(hI(e))return e;throw jI(bI(e)+" is not a function")},xI=Ta,AI=Ug,II=function(e,n){var r=e[n];return AI(r)?void 0:xI(r)},ns=Ia,rs=on,ts=Fr,TI=TypeError,EI=function(e,n){var r,t;if(n==="string"&&rs(r=e.toString)&&!ts(t=ns(r,e))||rs(r=e.valueOf)&&!ts(t=ns(r,e))||n!=="string"&&rs(r=e.toString)&&!ts(t=ns(r,e)))return t;throw TI("Can't convert object to primitive value")},Xg={exports:{}},Jl=bn,_I=Object.defineProperty,Ea=function(e,n){try{_I(Jl,e,{value:n,configurable:!0,writable:!0})}catch{Jl[e]=n}return n},yI=bn,SI=Ea,ql="__core-js_shared__",NI=yI[ql]||SI(ql,{}),_a=NI,Wl=_a;(Xg.exports=function(e,n){return Wl[e]||(Wl[e]=n!==void 0?n:{})})("versions",[]).push({version:"3.32.2",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"});var Qg=Xg.exports,PI=Cg,RI=Object,eu=function(e){return RI(PI(e))},OI=ln,BI=eu,FI=OI({}.hasOwnProperty),sr=Object.hasOwn||function(e,n){return FI(BI(e),n)},$I=ln,DI=0,VI=Math.random(),GI=$I(1 .toString),nu=function(e){return"Symbol("+(e===void 0?"":e)+")_"+GI(++DI+VI,36)},LI=bn,MI=Qg,Zl=sr,KI=nu,wI=qg,UI=Wg,vr=LI.Symbol,is=MI("wks"),CI=UI?vr.for||vr:vr&&vr.withoutSetter||KI,xt=function(e){return Zl(is,e)||(is[e]=wI&&Zl(vr,e)?vr[e]:CI("Symbol."+e)),is[e]},zI=Ia,Xl=Fr,Ql=Zg,YI=II,HI=EI,JI=xt,qI=TypeError,WI=JI("toPrimitive"),ZI=function(e,n){if(!Xl(e)||Ql(e))return e;var r=YI(e,WI),t;if(r){if(n===void 0&&(n="default"),t=zI(r,e,n),!Xl(t)||Ql(t))return t;throw qI("Can't convert object to primitive value")}return n===void 0&&(n="number"),HI(e,n)},XI=ZI,QI=Zg,ru=function(e){var n=XI(e,"string");return QI(n)?n:n+""},eT=bn,eo=Fr,ys=eT.document,nT=eo(ys)&&eo(ys.createElement),tu=function(e){return nT?ys.createElement(e):{}},rT=Dn,tT=_n,iT=tu,iu=!rT&&!tT(function(){return Object.defineProperty(iT("div"),"a",{get:function(){return 7}}).a!==7}),sT=Dn,aT=Ia,lT=Dg,oT=Lg,dT=$i,gT=ru,uT=sr,kT=iu,no=Object.getOwnPropertyDescriptor;xa.f=sT?no:function(e,n){if(e=dT(e),n=gT(n),kT)try{return no(e,n)}catch{}if(uT(e,n))return oT(!aT(lT.f,e,n),e[n])};var $r={},mT=Dn,fT=_n,su=mT&&fT(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),pT=Fr,cT=String,vT=TypeError,Vi=function(e){if(pT(e))return e;throw vT(cT(e)+" is not an object")},hT=Dn,bT=iu,jT=su,wt=Vi,ro=ru,xT=TypeError,ss=Object.defineProperty,AT=Object.getOwnPropertyDescriptor,as="enumerable",ls="configurable",os="writable";$r.f=hT?jT?function(e,n,r){if(wt(e),n=ro(n),wt(r),typeof e=="function"&&n==="prototype"&&"value"in r&&os in r&&!r[os]){var t=AT(e,n);t&&t[os]&&(e[n]=r.value,r={configurable:ls in r?r[ls]:t[ls],enumerable:as in r?r[as]:t[as],writable:!1})}return ss(e,n,r)}:ss:function(e,n,r){if(wt(e),n=ro(n),wt(r),bT)try{return ss(e,n,r)}catch{}if("get"in r||"set"in r)throw xT("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var IT=Dn,TT=$r,ET=Lg,au=IT?function(e,n,r){return TT.f(e,n,ET(1,r))}:function(e,n,r){return e[n]=r,e},lu={exports:{}},Ss=Dn,_T=sr,ou=Function.prototype,yT=Ss&&Object.getOwnPropertyDescriptor,ya=_T(ou,"name"),ST=ya&&(function(){}).name==="something",NT=ya&&(!Ss||Ss&&yT(ou,"name").configurable),PT={EXISTS:ya,PROPER:ST,CONFIGURABLE:NT},RT=ln,OT=on,Ns=_a,BT=RT(Function.toString);OT(Ns.inspectSource)||(Ns.inspectSource=function(e){return BT(e)});var du=Ns.inspectSource,FT=bn,$T=on,to=FT.WeakMap,DT=$T(to)&&/native code/.test(String(to)),VT=Qg,GT=nu,io=VT("keys"),gu=function(e){return io[e]||(io[e]=GT(e))},Sa={},LT=DT,uu=bn,MT=Fr,KT=au,ds=sr,gs=_a,wT=gu,UT=Sa,so="Object already initialized",Ps=uu.TypeError,CT=uu.WeakMap,pi,dt,ci,zT=function(e){return ci(e)?dt(e):pi(e,{})},YT=function(e){return function(n){var r;if(!MT(n)||(r=dt(n)).type!==e)throw Ps("Incompatible receiver, "+e+" required");return r}};if(LT||gs.state){var jn=gs.state||(gs.state=new CT);jn.get=jn.get,jn.has=jn.has,jn.set=jn.set,pi=function(e,n){if(jn.has(e))throw Ps(so);return n.facade=e,jn.set(e,n),n},dt=function(e){return jn.get(e)||{}},ci=function(e){return jn.has(e)}}else{var dr=wT("state");UT[dr]=!0,pi=function(e,n){if(ds(e,dr))throw Ps(so);return n.facade=e,KT(e,dr,n),n},dt=function(e){return ds(e,dr)?e[dr]:{}},ci=function(e){return ds(e,dr)}}var HT={set:pi,get:dt,has:ci,enforce:zT,getterFor:YT},Na=ln,JT=_n,qT=on,Ut=sr,Rs=Dn,WT=PT.CONFIGURABLE,ZT=du,ku=HT,XT=ku.enforce,QT=ku.get,ao=String,Qt=Object.defineProperty,eE=Na("".slice),nE=Na("".replace),rE=Na([].join),tE=Rs&&!JT(function(){return Qt(function(){},"length",{value:8}).length!==8}),iE=String(String).split("String"),sE=lu.exports=function(e,n,r){eE(ao(n),0,7)==="Symbol("&&(n="["+nE(ao(n),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(n="get "+n),r&&r.setter&&(n="set "+n),(!Ut(e,"name")||WT&&e.name!==n)&&(Rs?Qt(e,"name",{value:n,configurable:!0}):e.name=n),tE&&r&&Ut(r,"arity")&&e.length!==r.arity&&Qt(e,"length",{value:r.arity});try{r&&Ut(r,"constructor")&&r.constructor?Rs&&Qt(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var t=XT(e);return Ut(t,"source")||(t.source=rE(iE,typeof n=="string"?n:"")),e};Function.prototype.toString=sE(function(){return qT(this)&&QT(this).source||ZT(this)},"toString");var aE=lu.exports,lE=on,oE=$r,dE=aE,gE=Ea,uE=function(e,n,r,t){t||(t={});var i=t.enumerable,s=t.name!==void 0?t.name:n;if(lE(r)&&dE(r,s,t),t.global)i?e[n]=r:gE(n,r);else{try{t.unsafe?e[n]&&(i=!0):delete e[n]}catch{}i?e[n]=r:oE.f(e,n,{value:r,enumerable:!1,configurable:!t.nonConfigurable,writable:!t.nonWritable})}return e},mu={},kE=Math.ceil,mE=Math.floor,fE=Math.trunc||function(e){var n=+e;return(n>0?mE:kE)(n)},pE=fE,fu=function(e){var n=+e;return n!==n||n===0?0:pE(n)},cE=fu,vE=Math.max,hE=Math.min,bE=function(e,n){var r=cE(e);return r<0?vE(r+n,0):hE(r,n)},jE=fu,xE=Math.min,AE=function(e){return e>0?xE(jE(e),9007199254740991):0},IE=AE,Pa=function(e){return IE(e.length)},TE=$i,EE=bE,_E=Pa,lo=function(e){return function(n,r,t){var i=TE(n),s=_E(i),l=EE(t,s),o;if(e&&r!==r){for(;s>l;)if(o=i[l++],o!==o)return!0}else for(;s>l;l++)if((e||l in i)&&i[l]===r)return e||l||0;return!e&&-1}},yE={includes:lo(!0),indexOf:lo(!1)},SE=ln,us=sr,NE=$i,PE=yE.indexOf,RE=Sa,oo=SE([].push),pu=function(e,n){var r=NE(e),t=0,i=[],s;for(s in r)!us(RE,s)&&us(r,s)&&oo(i,s);for(;n.length>t;)us(r,s=n[t++])&&(~PE(i,s)||oo(i,s));return i},Ra=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],OE=pu,BE=Ra,FE=BE.concat("length","prototype");mu.f=Object.getOwnPropertyNames||function(e){return OE(e,FE)};var cu={};cu.f=Object.getOwnPropertySymbols;var $E=Di,DE=ln,VE=mu,GE=cu,LE=Vi,ME=DE([].concat),KE=$E("Reflect","ownKeys")||function(e){var n=VE.f(LE(e)),r=GE.f;return r?ME(n,r(e)):n},go=sr,wE=KE,UE=xa,CE=$r,zE=function(e,n,r){for(var t=wE(n),i=CE.f,s=UE.f,l=0;l<t.length;l++){var o=t[l];!go(e,o)&&!(r&&go(r,o))&&i(e,o,s(n,o))}},YE=_n,HE=on,JE=/#|\.prototype\./,At=function(e,n){var r=WE[qE(e)];return r===XE?!0:r===ZE?!1:HE(n)?YE(n):!!n},qE=At.normalize=function(e){return String(e).replace(JE,".").toLowerCase()},WE=At.data={},ZE=At.NATIVE="N",XE=At.POLYFILL="P",QE=At,ks=bn,e0=xa.f,n0=au,r0=uE,t0=Ea,i0=zE,s0=QE,a0=function(e,n){var r=e.target,t=e.global,i=e.stat,s,l,o,d,u,g;if(t?l=ks:i?l=ks[r]||t0(r,{}):l=(ks[r]||{}).prototype,l)for(o in n){if(u=n[o],e.dontCallGetSet?(g=e0(l,o),d=g&&g.value):d=l[o],s=s0(t?o:r+(i?".":"#")+o,e.forced),!s&&d!==void 0){if(typeof u==typeof d)continue;i0(u,d)}(e.sham||d&&d.sham)&&n0(u,"sham",!0),r0(l,o,u,e)}},l0=Fi,vu=Array.isArray||function(e){return l0(e)==="Array"},o0=TypeError,d0=9007199254740991,g0=function(e){if(e>d0)throw o0("Maximum allowed index exceeded");return e},u0=Fi,k0=ln,m0=function(e){if(u0(e)==="Function")return k0(e)},uo=m0,f0=Ta,p0=Aa,c0=uo(uo.bind),v0=function(e,n){return f0(e),n===void 0?e:p0?c0(e,n):function(){return e.apply(n,arguments)}},h0=vu,b0=Pa,j0=g0,x0=v0,hu=function(e,n,r,t,i,s,l,o){for(var d=i,u=0,g=l?x0(l,o):!1,p,v;u<t;)u in r&&(p=g?g(r[u],u,n):r[u],s>0&&h0(p)?(v=b0(p),d=hu(e,n,p,v,d,s-1)-1):(j0(d+1),e[d]=p),d++),u++;return d},A0=hu,I0=xt,T0=I0("toStringTag"),bu={};bu[T0]="z";var E0=String(bu)==="[object z]",_0=E0,y0=on,ei=Fi,S0=xt,N0=S0("toStringTag"),P0=Object,R0=ei(function(){return arguments}())==="Arguments",O0=function(e,n){try{return e[n]}catch{}},B0=_0?ei:function(e){var n,r,t;return e===void 0?"Undefined":e===null?"Null":typeof(r=O0(n=P0(e),N0))=="string"?r:R0?ei(n):(t=ei(n))==="Object"&&y0(n.callee)?"Arguments":t},F0=ln,$0=_n,ju=on,D0=B0,V0=Di,G0=du,xu=function(){},L0=[],Au=V0("Reflect","construct"),Oa=/^\s*(?:class|function)\b/,M0=F0(Oa.exec),K0=!Oa.exec(xu),Jr=function(e){if(!ju(e))return!1;try{return Au(xu,L0,e),!0}catch{return!1}},Iu=function(e){if(!ju(e))return!1;switch(D0(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return K0||!!M0(Oa,G0(e))}catch{return!0}};Iu.sham=!0;var w0=!Au||$0(function(){var e;return Jr(Jr.call)||!Jr(Object)||!Jr(function(){e=!0})||e})?Iu:Jr,ko=vu,U0=w0,C0=Fr,z0=xt,Y0=z0("species"),mo=Array,H0=function(e){var n;return ko(e)&&(n=e.constructor,U0(n)&&(n===mo||ko(n.prototype))?n=void 0:C0(n)&&(n=n[Y0],n===null&&(n=void 0))),n===void 0?mo:n},J0=H0,q0=function(e,n){return new(J0(e))(n===0?0:n)},W0=a0,Z0=A0,X0=Ta,Q0=eu,e_=Pa,n_=q0;W0({target:"Array",proto:!0},{flatMap:function(e){var n=Q0(this),r=e_(n),t;return X0(e),t=n_(n,0),t.length=Z0(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}});var Tu={},r_=pu,t_=Ra,i_=Object.keys||function(e){return r_(e,t_)},s_=Dn,a_=su,l_=$r,o_=Vi,d_=$i,g_=i_;Tu.f=s_&&!a_?Object.defineProperties:function(e,n){o_(e);for(var r=d_(n),t=g_(n),i=t.length,s=0,l;i>s;)l_.f(e,l=t[s++],r[l]);return e};var u_=Di,k_=u_("document","documentElement"),m_=Vi,f_=Tu,fo=Ra,p_=Sa,c_=k_,v_=tu,h_=gu,po=">",co="<",Os="prototype",Bs="script",Eu=h_("IE_PROTO"),ms=function(){},_u=function(e){return co+Bs+po+e+co+"/"+Bs+po},vo=function(e){e.write(_u("")),e.close();var n=e.parentWindow.Object;return e=null,n},b_=function(){var e=v_("iframe"),n="java"+Bs+":",r;return e.style.display="none",c_.appendChild(e),e.src=String(n),r=e.contentWindow.document,r.open(),r.write(_u("document.F=Object")),r.close(),r.F},Ct,ni=function(){try{Ct=new ActiveXObject("htmlfile")}catch{}ni=typeof document<"u"?document.domain&&Ct?vo(Ct):b_():vo(Ct);for(var e=fo.length;e--;)delete ni[Os][fo[e]];return ni()};p_[Eu]=!0;var j_=Object.create||function(e,n){var r;return e!==null?(ms[Os]=m_(e),r=new ms,ms[Os]=null,r[Eu]=e):r=ni(),n===void 0?r:f_.f(r,n)},x_=xt,A_=j_,I_=$r.f,Fs=x_("unscopables"),$s=Array.prototype;$s[Fs]===void 0&&I_($s,Fs,{configurable:!0,value:A_(null)});var T_=function(e){$s[Fs][e]=!0},E_=T_;E_("flatMap");var __=bn,y_=ln,S_=function(e,n){return y_(__[e].prototype[n])},N_=S_;N_("Array","flatMap");const zn="vurderEtterlønnSluttpakke",It=({readOnly:e})=>{const n=W.useContext(Oe),r=Q();return c.jsx("div",{children:c.jsx(Te,{label:c.jsx(I,{children:c.jsx(m,{id:"BeregningInfoPanel.EtterlønnSluttpakke.HarSøkerInntekt"})}),name:`vurderFaktaBeregningForm.${n}.${zn}`,validate:[X],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:hn,isHorizontal:!0})})};It.buildInitialValues=(e,n)=>{var r,t;const i={};if(!e||!e.beregningsgrunnlagPeriode||!n)return{};const s=!vn(n.status),l=e.beregningsgrunnlagPeriode.flatMap(o=>o.beregningsgrunnlagPrStatusOgAndel).filter(o=>(o==null?void 0:o.arbeidsforhold)&&(o==null?void 0:o.arbeidsforhold.arbeidsforholdType)===Ir.ETTERLONN_SLUTTPAKKE);return l.length>0&&(i[zn]=s&&((r=l[0])==null?void 0:r.beregnetPrAar)!==void 0?((t=l[0])==null?void 0:t.beregnetPrAar)>0:void 0),i};const P_=e=>{if(!e.andelerForFaktaOmBeregning)return;const n=e.andelerForFaktaOmBeregning.find(r=>r.arbeidsforhold&&r.arbeidsforhold.arbeidsforholdType&&r.arbeidsforhold.arbeidsforholdType===Ir.ETTERLONN_SLUTTPAKKE);return n?n.andelsnr:void 0};It.transformValues=(e,n,r,t)=>{if(!(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).includes(Z.VURDER_ETTERLONN_SLUTTPAKKE))return{};if(!n||n.length===0)return{faktaOmBeregningTilfeller:[Z.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[zn]}};const i=P_(r);if(!i)return{};const s=n.find(o=>o.andelsnr===i);if(!s)return{faktaOmBeregningTilfeller:[Z.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[zn]}};if(t.includes(s.andelsnr))return{faktaOmBeregningTilfeller:[Z.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[zn]}};t.push(s.andelsnr);const l={fastsettEtterlønnSluttpakke:{fastsattPrMnd:s.fastsattBelop}};return{faktaOmBeregningTilfeller:[Z.VURDER_ETTERLONN_SLUTTPAKKE,Z.FASTSETT_ETTERLONN_SLUTTPAKKE],...l,vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[zn]}}};const yu="mottarYtelseField",R_="_frilans",Er=e=>yu+e.andelsnr,_r=()=>yu+R_,O_=(e,n)=>(n&&n.arbeidstakerAndelerUtenIM?n.arbeidstakerAndelerUtenIM:[]).map(r=>e.vurderMottarYtelseValues[Er(r)]).find(r=>r)!==void 0,Su=e=>e.vurderMottarYtelseValues[_r()],Nu=(e,n,r)=>{if(!n)return{};const t={};if((n.arbeidstakerAndelerUtenIM?n.arbeidstakerAndelerUtenIM:[]).forEach(s=>{const l=e.vurderMottarYtelseValues[Er(s)];t[s.andelsnr]=l}),!r)return t;const i=r.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(s=>s.aktivitetStatus===F.FRILANSER);return i&&(t[i.andelsnr]=Su(e)),t},Gi="inntektFieldArray",B_=e=>e.inntektskategori&&e.inntektskategori!==$n.UDEFINERT?e.inntektskategori:"",F_=(e,n,r)=>{var t,i,s,l,o;const d=(t=e.arbeidsforhold)!=null&&t.arbeidsgiverIdent?n[e.arbeidsforhold.arbeidsgiverIdent]:void 0;return d?Br(d,(o=e.arbeidsforhold)==null?void 0:o.eksternArbeidsforholdId):(i=e.arbeidsforhold)!=null&&i.arbeidsforholdType?(s=r[ye.OPPTJENING_AKTIVITET_TYPE].find(u=>{var g;return u.kode===((g=e.arbeidsforhold)==null?void 0:g.arbeidsforholdType)}))==null?void 0:s.navn:(l=r[ye.AKTIVITET_STATUS].find(u=>u.kode===e.aktivitetStatus))==null?void 0:l.navn},Pu=(e,n,r)=>({andel:F_(e,n,r)||"",aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,nyAndel:!1,inntektskategori:B_(e),lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler===!0}),$_=(e,n)=>e?e.find(r=>r.andelsnr===n.andelsnr):void 0,D_=(e,n)=>e?e.find(r=>r.andelsnr===n.andelsnr):void 0,V_=(e,n)=>{const r=$_(n.arbeidstakerOgFrilanserISammeOrganisasjonListe,e);return r&&(r.inntektPrMnd===null||r.inntektPrMnd===void 0)},Ru=e=>e.aktivitetStatus&&e.aktivitetStatus===F.ARBEIDSTAKER,Ou=e=>e.aktivitetStatus&&e.aktivitetStatus===F.FRILANSER,G_=(e,n)=>n?Ou(e)&&n[Cn]:!1,L_=e=>e[Qn],M_=(e,n,r)=>r.arbeidsforholdMedLønnsendringUtenIM&&D_(r.arbeidsforholdMedLønnsendringUtenIM,n)&&e[Bi],K_=(e,n,r)=>Ru(e)&&M_(n,e,r),w_=(e,n)=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&Ou(e),U_=(e,n)=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&Ru(e)&&V_(e,n),C_=(e,n,r,t)=>Nu(e,r.vurderMottarYtelse,t)[n.andelsnr],z_=(e,n)=>e.arbeidsforholdType&&e.arbeidsforholdType===Ir.ETTERLONN_SLUTTPAKKE?n[zn]:!1,Bu=(e,n)=>n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(r=>r.arbeidsforhold&&r.arbeidsforhold.arbeidsgiverIdent===e.arbeidsgiverId&&r.arbeidsforhold.organisasjonstype&&r.arbeidsforhold.organisasjonstype===sa.KUNSTIG)!==void 0,Y_=e=>!!e.faktaOmBeregningTilfeller&&e.faktaOmBeregningTilfeller.find(n=>n===Z.FASTSETT_BG_KUN_YTELSE)!==void 0,H_=(e,n,r)=>t=>!!(L_(e)||C_(e,t,n,r)||K_(t,e,n)||w_(t,n)||U_(t,n)||Bu(t,r)||$g(t,r)||z_(t,e)),J_=(e,n,r)=>t=>!!(H_(e,n,r)(t)||G_(t,e)),Li=e=>!!e&&e[Tr]===!0,q_=e=>e&&e.some(n=>n.definisjon===Ie.OVERSTYRING_AV_BEREGNINGSGRUNNLAG),Fu=e=>Li(e),ho=e=>e.erOverstyrtInntekt||q_(e.avklaringsbehov),$u=(e,n,r)=>t=>Y_(n)||J_(e,n,r)(t),W_=(e,n,r)=>t=>Li(e)||$u(e,n,r)(t),yr=(e,n)=>r=>W_(e,n.faktaOmBeregning,n)(r),Z_=e=>n=>Bu(n,e),X_=e=>Z_(e),Q_=(e,n,r)=>({...Pu(e,n,r),arbeidsforholdId:e.arbeidsforhold?e.arbeidsforhold.arbeidsforholdId:void 0,arbeidsperiodeFom:e.arbeidsforhold?e.arbeidsforhold.startdato:"",arbeidsperiodeTom:e.arbeidsforhold?e.arbeidsforhold.opphoersdato:"",arbeidsforholdType:e.arbeidsforhold?e.arbeidsforhold.arbeidsforholdType:void 0,aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,arbeidsgiverId:e.arbeidsforhold?e.arbeidsforhold.arbeidsgiverIdent:void 0,skalKunneEndreAktivitet:e.skalKunneEndreAktivitet,fastsattBelop:e.fastsattBelop||e.fastsattBelop===0?U(e.fastsattBelop):"",belopReadOnly:e.belopReadOnly||e.belopReadOnly===0?U(e.belopReadOnly):"",refusjonskrav:e.refusjonskrav||e.refusjonskrav===0?U(e.refusjonskrav):""}),ey=(e,n)=>e.andelsinfo===n.andelsinfo?e.inntektskategori===n.inntektskategori?0:e.inntektskategori>n.inntektskategori?1:-1:e.andelsinfo>n.andelsinfo?1:-1,ny=(e,n)=>{const{nyAndel:r,andel:t,inntektskategori:i,aktivitetStatus:s,arbeidsforholdId:l}=e;if(r){if(!Number.isNaN(Number(t))){const o=n.filter(d=>d.andelsnr===parseFloat(t));if(o.length>0)return{andelsinfo:o[0].andel,inntektskategori:i}}return hs[t]?{andelsinfo:t,inntektskategori:i}:{andelsinfo:t,inntektskategori:i}}return nl[s]?{andelsinfo:nl[s],inntektskategori:i}:{andelsinfo:t,inntektskategori:i,arbeidsforholdId:l}},ry=e=>e.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.UlikeAndeler"}),ty=(e,n)=>n.andelsinfo===e.andelsinfo&&n.inntektskategori===e.inntektskategori&&e.arbeidsforholdId===n.arbeidsforholdId,Du=(e,n,r)=>{const t=e.map(i=>n(i,e)).slice().sort((i,s)=>ey(i,s));for(let i=0;i<t.length-1;i+=1)if(ty(t[i],t[i+1]))return ry(r);return null},iy=(e,n)=>Du(e,ny,n),sy=e=>e.formatMessage({id:"BeregningInfoPanel.Validation.MinstEnFastsatt"}),ay=(e,n)=>e.some(({fastsattBelop:r})=>r!==null&&r!==""&&r!==void 0)?null:sy(n),ly="_row_vbpg7_1",oy="_slettIkon_vbpg7_10",dy="_rightAlign_vbpg7_13",gy="_rightAlignInput_vbpg7_16",uy="_inntektTable_vbpg7_24",ky="_buttonRow_vbpg7_59",my="_addPeriode_vbpg7_62",fy="_customLink_vbpg7_63",py="_removeButton_vbpg7_64",cy="_addCircleIcon_vbpg7_72",vy="_imageText_vbpg7_73",hy="_storBredde_vbpg7_78",by="_mediumBredde_vbpg7_81",jy="_flexColumn3_vbpg7_84",rn={row:ly,slettIkon:oy,rightAlign:dy,rightAlignInput:gy,inntektTable:uy,buttonRow:ky,addPeriode:my,customLink:fy,removeButton:py,addCircleIcon:cy,imageText:vy,storBredde:hy,mediumBredde:by,flexColumn3:jy},xy=(e,n)=>{var r;return{andel:(r=n[ye.AKTIVITET_STATUS].find(t=>t.kode===e.filter(i=>i===F.BRUKERS_ANDEL)[0]))==null?void 0:r.navn,fastsattBelop:"",inntektskategori:"",nyAndel:!0,lagtTilAvSaksbehandler:!0}},Ay=e=>e.map(n=>c.jsx("option",{value:n.kode,children:n.navn},n.kode)),Iy=e=>{let n=0;return e.forEach(r=>{n+=r.fastsattBelop?me(r.fastsattBelop):0}),n>0?U(n):""};function Ty(e,n,r){return(n[e].nyAndel||n[e].lagtTilAvSaksbehandler)&&!r}const Ey=(e,n,r,t,i,s,l)=>e.map((o,d)=>c.jsxs(we,{className:rn.row,children:[c.jsx(C,{children:c.jsx(m,{id:"BeregningInfoPanel.FordelingBG.Ytelse"})}),c.jsx(C,{className:rn.rightAlignInput,children:c.jsx(xe,{name:`${s}.${d}.fastsattBelop`,className:rn.mediumBredde,parse:Le,readOnly:r,isEdited:n,validate:r?[]:[X,cn(178956970)],label:i.formatMessage({id:"BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn"},{andel:`ytelse ${d+1}`}),hideLabel:!0})}),c.jsx(C,{className:rn.rightAlign,children:c.jsx(Ti,{label:i.formatMessage({id:"BeregningInfoPanel.FordelingBG.InntektskategoriMedAndelnavn"},{andel:`ytelse ${d+1}`}),name:`${s}.${d}.inntektskategori`,className:rn.storBredde,selectValues:Ay(t),readOnly:r,validate:r?[]:[X],hideLabel:!0})}),c.jsx(C,{children:Ty(d,e,r)&&c.jsx(ie,{icon:c.jsx(Hn,{"aria-hidden":!0,className:rn.slettIkon}),onClick:()=>l(d),type:"button",variant:"tertiary"})})]},o.id)),_y=e=>c.jsxs(we,{children:[c.jsx(C,{children:c.jsx(m,{id:"BeregningInfoPanel.FordelingBG.Sum"})}),c.jsx(C,{className:rn.rightAlign,children:c.jsx(ge,{children:e})}),c.jsx(C,{})]},"bruttoBGSummaryRow"),yy=()=>["BeregningInfoPanel.FordelingBG.Andel","BeregningInfoPanel.FordelingBG.Fordeling","BeregningInfoPanel.FordelingBG.Inntektskategori"],Sy=e=>e[ye.INNTEKTSKATEGORI].slice().sort((n,r)=>n.navn.localeCompare(r.navn)),Ny=e=>{const{andel:n,inntektskategori:r}=e;return{andelsinfo:n,inntektskategori:r}},Py=(e,n)=>Du(e,Ny,n)||null,Vu=({name:e,readOnly:n,isAksjonspunktClosed:r,kodeverkSamling:t})=>{var i;const s=Q(),{control:l}=Se(),o=W.useContext(Oe),d=`${kn}.${o}.${e}`,{fields:u,append:g,remove:p}=an({control:l,name:d}),v=(i=t[ye.AKTIVITET_STATUS])==null?void 0:i.map($=>$.kode),h=Sy(t),x=it({name:d,control:l}),_=Iy(x)||0,N=Ey(u,r,n,h,s,d,p);N.push(_y(_));const y=Py(x,s),B=`${d}.skjemagruppe`,S=Ii(B,y);return c.jsxs("div",{children:[c.jsx(Qe,{headerTextCodes:yy(),noHover:!0,classNameTable:rn.inntektTable,children:N}),!n&&c.jsx(O,{className:rn.buttonRow,children:c.jsx(j,{className:rn.flexColumn3,children:c.jsx(ie,{icon:c.jsx(xi,{"aria-hidden":!0,className:rn.addCircleIcon}),onClick:()=>g(xy(v,t)),type:"button",variant:"tertiary",children:c.jsx(ge,{className:rn.imageText,children:c.jsx(m,{id:"BeregningInfoPanel.FordelingBG.LeggTilAndel"})})})})}),c.jsx(A,{eightPx:!0}),S&&c.jsx(lt,{children:S})]})},Ba="besteberegningField",Dr=({readOnly:e,isAksjonspunktClosed:n,brukersAndelFieldArrayName:r,skalViseInntektstabell:t,kodeverkSamling:i})=>{const{getValues:s}=Se(),l=W.useContext(Oe),o=s(`${kn}.${l}`)[Ba],d=Q();return c.jsxs("div",{children:[c.jsx(Te,{name:`vurderFaktaBeregningForm.${l}.besteberegningField`,isReadOnly:e,label:c.jsx(m,{id:"KunYtelsePanel.HarBesteberegning"}),radios:[{value:"true",label:d.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:d.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:e?[]:[X],parse:hn,isHorizontal:!0}),o!=null&&c.jsxs(Sd,{alignOffset:o?0:60,children:[c.jsxs(O,{children:[c.jsx(j,{className:Un.flexColumn9,children:c.jsx(D,{size:"small",children:c.jsx(m,{id:"KunYtelsePanel.OverskriftBesteberegning"})})}),o&&c.jsx(j,{className:Un.flexColumn3,children:c.jsx("a",{className:Un.navetLink,href:Eg,target:"_blank",rel:"noopener noreferrer",children:c.jsx(m,{id:"BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet"})})})]}),t&&c.jsx(O,{children:c.jsx(j,{className:Un.flexColumn12,children:c.jsx(Vu,{name:r,readOnly:e,isAksjonspunktClosed:n,kodeverkSamling:i})})})]})]})};Dr.defaultProps={erBesteberegning:void 0,skalViseInntektstabell:!0};Dr.buildInitialValues=e=>({[Ba]:e.erBesteberegning});Dr.transformValues=e=>e[Ba];const Ry="_flexColumn9_csgl6_1",Oy={flexColumn9:Ry},By=({readOnly:e,brukersAndelFieldArrayName:n,kodeverkSamling:r,isAksjonspunktClosed:t})=>c.jsxs(_d,{children:[c.jsx(O,{children:c.jsx(j,{className:Oy.flexColumn9,children:c.jsx(D,{size:"small",children:c.jsx(m,{id:"KunYtelsePanel.Overskrift"})})})}),c.jsx(Vu,{name:n,readOnly:e,isAksjonspunktClosed:t,kodeverkSamling:r})]}),gt="brukersAndelBG",ar=({readOnly:e,faktaOmBeregning:n,isAksjonspunktClosed:r,skalViseInntektstabell:t,kodeverkSamling:i})=>{const{kunYtelse:s}=n,l=s.fodendeKvinneMedDP;return c.jsxs("div",{children:[l&&c.jsx(Dr,{readOnly:e,isAksjonspunktClosed:r,brukersAndelFieldArrayName:gt,skalViseInntektstabell:t,kodeverkSamling:i}),!l&&t&&c.jsx(By,{readOnly:e,brukersAndelFieldArrayName:gt,isAksjonspunktClosed:r,kodeverkSamling:i})]})};ar.defaultProps={skalViseInntektstabell:!0};ar.buildInitialValues=(e,n,r,t)=>{if(!e||!e.andeler||e.andeler.length===0)return{};const i=e.andeler.map(l=>{const o=n.find(d=>d.andelsnr===l.andelsnr);if(!o)throw new Error(`Finner ikke faktaAndel med andelsnr ${l.andelsnr}`);return{...Pu(o,r,t),fastsattBelop:U(l.fastsattBelopPrMnd)||""}}),s={[gt]:i};return e.fodendeKvinneMedDP?{...Dr.buildInitialValues(e),...s}:s};ar.summerFordeling=e=>e[gt].map(({fastsattBelop:n})=>n?me(n):0).reduce((n,r)=>n+r,0);ar.transformValues=(e,n)=>({kunYtelseFordeling:{andeler:e[gt].map(r=>({andelsnr:r.andelsnr,fastsattBeløp:me(r.fastsattBelop),inntektskategori:r.inntektskategori,nyAndel:r.nyAndel,lagtTilAvSaksbehandler:r.lagtTilAvSaksbehandler})),skalBrukeBesteberegning:n.fodendeKvinneMedDP?Dr.transformValues(e):null}});const{FASTSETT_BG_KUN_YTELSE:vi,VURDER_BESTEBEREGNING:Fy}=Z,$y=(e,n,r,t,i,s)=>{n.includes(vi)&&e.push(c.jsx(W.Fragment,{children:c.jsx(ar,{readOnly:r,isAksjonspunktClosed:t,faktaOmBeregning:i,kodeverkSamling:s})},"FASTSETT_BG_KUN_YTELSE"))},Dy=(e,n,r)=>{if(r.includes(vi)){const t=ar.transformValues(e,n),i=[vi];return n.fodendeKvinneMedDP&&i.push(Fy),{faktaOmBeregningTilfeller:i,...t}}return{}},Vy=(e,n,r,t,i)=>n&&n.includes(vi)?ar.buildInitialValues(e,r,t,i):{},Fa="erSNNyIArbeidslivet",Tt=({readOnly:e})=>{const n=W.useContext(Oe),r=Q();return c.jsx("div",{children:c.jsx(Te,{label:c.jsx(I,{children:c.jsx(m,{id:"BeregningInfoPanel.NyIArbeidslivet.SelvstendigNaeringsdrivende"})}),name:`vurderFaktaBeregningForm.${n}.${Fa}`,validate:[X],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:hn,isHorizontal:!0})})};Tt.buildInitialValues=e=>{var n;const r={};if(!e||!e.beregningsgrunnlagPeriode)return r;const t=e.beregningsgrunnlagPeriode.map(i=>i.beregningsgrunnlagPrStatusOgAndel).flat().filter(i=>(i==null?void 0:i.aktivitetStatus)===F.SELVSTENDIG_NAERINGSDRIVENDE);return t.length>0&&(r[Fa]=(n=t[0])==null?void 0:n.erNyIArbeidslivet),r};Tt.transformValues=e=>({vurderNyIArbeidslivet:{erNyIArbeidslivet:e[Fa]}});const Gy="BeregningInfoPanel.TidsbegrensetArbFor.Arbeidsforhold",$a=e=>e&&e.arbeidsforhold?`${e.arbeidsforhold.arbeidsgiverIdent}(${e.arbeidsforhold.arbeidsforholdId})(${e.andelsnr})`:"",bo=(e,n)=>{const r=n[e.arbeidsgiverIdent];return Br(r,e.eksternArbeidsforholdId)},Et=({readOnly:e,faktaOmBeregning:n,arbeidsgiverOpplysningerPerId:r})=>{const t=n.kortvarigeArbeidsforhold,i=W.useContext(Oe),s=Q();return c.jsx("div",{children:t.map(l=>c.jsx("div",{children:c.jsx(Te,{label:c.jsx(I,{children:c.jsx(m,{id:Gy,values:{navn:bo(l.arbeidsforhold,r),fom:T(l.arbeidsforhold.startdato).format(te),tom:T(l.arbeidsforhold.opphoersdato).format(te)}})}),name:`vurderFaktaBeregningForm.${i}.tidsbegrensetValues.${$a(l)}`,isReadOnly:e,radios:[{value:"true",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[X],parse:hn,isHorizontal:!0})},`fastsettTidsbegrensedeForhold_${bo(l.arbeidsforhold,r)}`))})};Et.buildInitialValues=e=>{const n={};return e&&e.forEach(r=>{r.erTidsbegrensetArbeidsforhold!==void 0&&(n[$a(r)]=r.erTidsbegrensetArbeidsforhold)}),n};Et.transformValues=(e,n)=>{const r=[];return n.forEach(t=>{const i=$a(t),s=e.tidsbegrensetValues[i],l={andelsnr:t.andelsnr,tidsbegrensetArbeidsforhold:s,opprinneligVerdi:t.erTidsbegrensetArbeidsforhold};r.push(l)}),{vurderTidsbegrensetArbeidsforhold:{fastsatteArbeidsforhold:r}}};const Da="vurderMilitær",_t=({readOnly:e})=>{const n=W.useContext(Oe),r=Q();return c.jsx("div",{children:c.jsx(Te,{label:c.jsx(I,{children:c.jsx(m,{id:"BeregningInfoPanel.VurderMilitaer.HarSøkerMilitærinntekt"})}),name:`vurderFaktaBeregningForm.${n}.${Da}`,isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[X],parse:hn,isHorizontal:!0})})};_t.buildInitialValues=e=>{const n={};return!e||!e.vurderMilitaer||(n[Da]=e.vurderMilitaer.harMilitaer),n};_t.transformValues=e=>({vurderMilitaer:{harMilitaer:e[Da]}});const Ly=[Z.VURDER_NYOPPSTARTET_FL,Z.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON],My=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForArbeid",Ky=(e,n,r)=>{var t;const i=r[e.arbeidsgiverIdent];let s;return i?s=Br(i,e.eksternArbeidsforholdId):s=e.arbeidsforholdType?(t=n[ye.OPPTJENING_AKTIVITET_TYPE].find(l=>l.kode===e.arbeidsforholdType))==null?void 0:t.navn:"",c.jsx(m,{id:My(),values:{arbeid:s}})},wy=(e,n,r,t,i,s)=>c.jsx("div",{children:c.jsx(Te,{label:c.jsx(I,{children:Ky(e.arbeidsforhold,r,t)}),name:`vurderFaktaBeregningForm.${i}.vurderMottarYtelseValues.${Er(e)}`,isReadOnly:n,radios:[{value:"true",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:hn,validate:n?[]:[X],isHorizontal:!0})},Er(e)),Uy=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilansUtenFrilans",Cy=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilans",zy=e=>e.some(n=>Ly.includes(n))?Uy():Cy(),yt=({readOnly:e,beregningsgrunnlag:n,tilfeller:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i})=>{const s=W.useContext(Oe),l=n.faktaOmBeregning?n.faktaOmBeregning.vurderMottarYtelse:void 0,o=l&&l.erFrilans,d=l&&l.arbeidstakerAndelerUtenIM?l.arbeidstakerAndelerUtenIM:[],u=Q();return c.jsxs("div",{children:[o&&c.jsx("div",{children:c.jsx(Te,{label:c.jsx("div",{children:c.jsx(I,{children:c.jsx(m,{id:zy(r)})})},_r()),name:`vurderFaktaBeregningForm.${s}.vurderMottarYtelseValues.${_r()}`,isReadOnly:e,radios:[{value:"true",label:u.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:u.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:hn,validate:e?[]:[X],isHorizontal:!0})}),d.map(g=>c.jsx(c.Fragment,{children:wy(g,e,t,i,s,u)}))]})},Yy=(e,n,r,t,i,s)=>{if(n===null)return{};if(O_(e,r.vurderMottarYtelse)){const l=[],o=Nu(e,r.vurderMottarYtelse,t);return r.vurderMottarYtelse.arbeidstakerAndelerUtenIM.forEach(d=>{if(o[d.andelsnr]&&!i.includes(d.andelsnr)){const u=n.find(g=>g.andelsnr===d.andelsnr).fastsattBelop;(u||u===0)&&(l.push({andelsnr:d.andelsnr,fastsattBeløp:me(u)}),i.push(d.andelsnr))}}),l.length>0?(s.push(Z.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING),{fastsattUtenInntektsmelding:{andelListe:l}}):{}}return{}},Hy=(e,n,r,t,i)=>{if(n===null)return{};if(e.vurderMottarYtelseValues[_r()]){const s=r.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(l=>l.aktivitetStatus===F.FRILANSER);if(!t.includes(s.andelsnr)&&Su(e)){const l=n.find(o=>o.andelsnr===s.andelsnr);return t.push(s.andelsnr),i.push(Z.FASTSETT_MAANEDSINNTEKT_FL),{fastsettMaanedsinntektFL:{maanedsinntekt:me(l.fastsattBelop)}}}return{}}return{}},Jy=(e,n,r)=>{const t=n.vurderMottarYtelse.arbeidstakerAndelerUtenIM?n.vurderMottarYtelse.arbeidstakerAndelerUtenIM:[];return r.push(Z.VURDER_MOTTAR_YTELSE),{mottarYtelse:{frilansMottarYtelse:e.vurderMottarYtelseValues[_r()],arbeidstakerUtenIMMottarYtelse:t.map(i=>({andelsnr:i.andelsnr,mottarYtelse:e.vurderMottarYtelseValues[Er(i)]}))}}};yt.buildInitialValues=e=>{const n={};if(!e)return n;e.erFrilans&&(n[_r()]=e.frilansMottarYtelse);const r=e.arbeidstakerAndelerUtenIM?e.arbeidstakerAndelerUtenIM:[];return r.length<1||r.forEach(t=>{n[Er(t)]=t.mottarYtelse}),n};yt.transformValues=(e,n,r,t,i)=>{const s=[];return(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).map(l=>l).includes(Z.VURDER_MOTTAR_YTELSE)?{...Jy(e,r,s),...Yy(e,n,r,t,i,s),...Hy(e,n,t,i,s),faktaOmBeregningTilfeller:s}:{}};const qy="_buttonRow_11vqq_1",Wy="_addPeriode_11vqq_4",Zy="_customLink_11vqq_5",Xy="_removeButton_11vqq_6",Qy="_addCircleIcon_11vqq_14",eS="_imageText_11vqq_15",nS="_flexColumn_11vqq_20",zt={buttonRow:qy,addPeriode:Wy,customLink:Zy,removeButton:Xy,addCircleIcon:Qy,imageText:eS,flexColumn:nS},rS=e=>({andel:e.filter(({kode:n})=>n===F.DAGPENGER)[0].navn,aktivitetStatus:F.DAGPENGER,fastsattBelop:"",inntektskategori:$n.DAGPENGER,nyAndel:!0,skalKunneEndreAktivitet:!0,lagtTilAvSaksbehandler:!0}),jo=({leggTilAndel:e,kodeverkSamling:n})=>{const r=n[ye.AKTIVITET_STATUS];return c.jsx(O,{className:zt.buttonRow,children:c.jsx(j,{className:zt.flexColumn,children:c.jsx(ie,{icon:c.jsx(xi,{"aria-hidden":!0,className:zt.addCircleIcon}),onClick:()=>e(rS(r)),type:"button",variant:"tertiary",children:c.jsx(ge,{className:zt.imageText,children:c.jsx(m,{id:"BeregningInfoPanel.FordelingBG.LeggTilDagpengerAndel"})})})})})},tS="_slettIkon_1j5jk_1",iS="_rightAlign_1j5jk_4",sS="_rightAlignInput_1j5jk_7",aS="_inntektTable_1j5jk_21",lS="_buttonRow_1j5jk_72",oS="_addPeriode_1j5jk_75",dS="_customLink_1j5jk_76",gS="_removeButton_1j5jk_77",uS="_addCircleIcon_1j5jk_80",kS="_imageText_1j5jk_81",mS="_readOnlyContainer_1j5jk_86",fS="_readOnlyContent_1j5jk_89",pS="_storBredde_1j5jk_94",cS="_mediumBredde_1j5jk_97",vS="_litenBredde_1j5jk_100",Ue={slettIkon:tS,rightAlign:iS,rightAlignInput:sS,inntektTable:aS,buttonRow:lS,addPeriode:oS,customLink:dS,removeButton:gS,addCircleIcon:uS,imageText:kS,readOnlyContainer:mS,readOnlyContent:fS,storBredde:pS,mediumBredde:cS,litenBredde:vS},hS=(e,n)=>{const r=[];return r.push("BeregningInfoPanel.FordelingBG.Andel"),e&&r.push("BeregningInfoPanel.FordelingBG.Arbeidsperiode"),r.push("BeregningInfoPanel.FordelingBG.Fordeling"),n&&r.push("BeregningInfoPanel.FordelingBG.Refusjonskrav"),r.push("BeregningInfoPanel.FordelingBG.Inntektskategori"),r},bS=e=>e.map(n=>c.jsx("option",{value:n.kode,children:n.navn},n.kode)),jS=e=>e[ye.INNTEKTSKATEGORI].slice().sort((n,r)=>n.navn.localeCompare(r.navn)),xS=({field:e,skalVisePeriode:n,skalViseRefusjon:r,skalViseSletteknapp:t,readOnly:i,isAksjonspunktClosed:s,removeAndel:l,beregningsgrunnlag:o,kodeverkSamling:d,rowName:u,skalFastsetteInntektForAndel:g})=>{const p=Q(),{getValues:v}=Se(),h=W.useContext(Oe),x=v(`vurderFaktaBeregningForm.${h}`),_=yr(x,o)(e),N=X_(o)(e),y=jS(d),B=e.arbeidsperiodeFom||e.arbeidsperiodeTom;return c.jsxs(we,{children:[c.jsx(C,{children:c.jsx(xe,{name:`${u}.andel`,className:Ue.storBredde,readOnly:!0})}),c.jsx(C,{children:n&&B&&c.jsx(tm,{value:c.jsx(ze,{dateStringFom:e.arbeidsperiodeFom,dateStringTom:e.arbeidsperiodeTom})})}),_&&c.jsx(C,{className:Ue.rightAlignInput,children:c.jsx(xe,{label:p.formatMessage({id:"BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn"},{andel:e.andel}),name:`${u}.fastsattBelop`,parse:Le,className:Ue.mediumBredde,readOnly:i,isEdited:s,validate:g(e)?[X,cn(178956970)]:[],hideLabel:!0})}),!_&&c.jsx(C,{className:Ue.rightAlign,children:c.jsx(xe,{name:`${u}.belopReadOnly`,className:Ue.mediumBredde,parse:Le,readOnly:!0})}),r&&c.jsx(C,{className:Ue.rightAlign,children:c.jsx(xe,{name:`${u}.refusjonskrav`,className:Ue.litenBredde,readOnly:!0,parse:Le})}),c.jsx(C,{className:Ue.rightAlign,children:c.jsx(Ti,{label:p.formatMessage({id:"BeregningInfoPanel.FordelingBG.Inntektskategori"}),name:`${u}.inntektskategori`,className:Ue.storBredde,selectValues:bS(y),validate:i?[]:[X],readOnly:i||!N,hideLabel:!0})}),c.jsx(C,{children:t&&c.jsx(ie,{icon:c.jsx(Hn,{"aria-hidden":!0,className:Ue.slettIkon}),onClick:()=>l(),type:"button",variant:"tertiary"})})]})},AS=(e,n,r)=>{let t=0;return e.forEach(i=>{const s=yr(n,r)(i)?i.fastsattBelop:i.belopReadOnly;t+=s?me(s):0}),t>0?t:0},IS=({skalVisePeriode:e,skalViseRefusjon:n,readOnly:r,beregningsgrunnlag:t})=>{const{control:i,getValues:s}=Se(),l=W.useContext(Oe),o=s(`vurderFaktaBeregningForm.${l}`),d=it({control:i,name:`vurderFaktaBeregningForm.${l}.inntektFieldArray`}),u=AS(d,o,t)||0;return c.jsxs(we,{children:[c.jsx(C,{children:c.jsx(m,{id:"BeregningInfoPanel.FordelingBG.Sum"})}),e&&c.jsx(C,{}),c.jsx(C,{className:Ue.rightAlign,children:c.jsx("div",{className:Ue.readOnlyContainer,children:c.jsx(I,{"data-testid":"sum",className:r?Ue.readOnlyContent:"",children:U(u)})})}),n&&c.jsx(C,{}),c.jsx(C,{})]})},TS=e=>({andel:e.find(({kode:n})=>n===F.DAGPENGER).navn,aktivitetStatus:F.DAGPENGER,fastsattBelop:"",inntektskategori:$n.DAGPENGER,nyAndel:!0,skalKunneEndreAktivitet:!1,lagtTilAvSaksbehandler:!0}),ES=e=>({andel:e.find(({kode:n})=>n===F.MILITAER_ELLER_SIVIL).navn,aktivitetStatus:F.MILITAER_ELLER_SIVIL,fastsattBelop:"",inntektskategori:$n.ARBEIDSTAKER,nyAndel:!0,skalKunneEndreAktivitet:!1,lagtTilAvSaksbehandler:!0}),_S=(e,n,r)=>n[e].skalKunneEndreAktivitet===!0&&!r,Ds=e=>{let n=!1;return e.forEach(r=>{r.refusjonskrav!==""&&r.refusjonskrav!==null&&r.refusjonskrav!==void 0&&(n=!0)}),n},Vs=e=>{let n=!1;return e.forEach(r=>{r.arbeidsgiverId!==""&&(n=!0)}),n},yS=(e,n)=>()=>{n(e)},SS=(e,n,r)=>c.jsx(IS,{readOnly:n,skalVisePeriode:Vs(e),skalViseRefusjon:Ds(e),beregningsgrunnlag:r},"summaryRow"),Gu=(e,n)=>{let r=-1;return e.forEach((t,i)=>{t.aktivitetStatus===n&&(r=i)}),r},xo=e=>Gu(e,F.DAGPENGER)!==-1,Lu=(e,n,r,t,i,s,l,o)=>{const d=Gu(e,n);if(d!==-1){const u=e[d];t(u)&&l(d)}d===-1&&r&&o({...i,kanRedigereInntekt:s()(i)})},NS=(e,n,r,t,i,s,l)=>{Lu(e,F.DAGPENGER,n,o=>!n&&!t&&o.lagtTilAvSaksbehandler,TS(r),i,s,l)},PS=(e,n,r,t,i,s)=>{Lu(e,F.MILITAER_ELLER_SIVIL,n===!0,()=>n===!1,ES(r),t,i,s)},RS=(e,n)=>ay(e,n)??null,OS=(e,n,r)=>n&&n.length>0?null:iy(e.inntektFieldArray,r)||(Li(e)?RS(e.inntektFieldArray,r):null),Vr=({readOnly:e,skalKunneLeggeTilDagpengerManuelt:n,beregningsgrunnlag:r,isAksjonspunktClosed:t,kodeverkSamling:i})=>{var s,l;const{getValues:o,control:d,formState:u}=Se(),{errors:g}=u,p=W.useContext(Oe),v=`vurderFaktaBeregningForm.${p}.inntektFieldArray`,{fields:h,remove:x,append:_,update:N}=an({control:d,name:v}),y=it({control:d,name:`vurderFaktaBeregningForm.${p}`}),B=it({control:d,name:`vurderFaktaBeregningForm.${p}.vurderbesteberegningField`}),S=it({control:d,name:`vurderFaktaBeregningForm.${p}.vurderMilitær`}),$=Q(),V=b.useCallback(()=>yr(y,r),[y,r]);b.useEffect(()=>{const w=o(`vurderFaktaBeregningForm.${p}.inntektFieldArray`),Y=i[ye.AKTIVITET_STATUS];PS(w,S,Y,V,x,_),NS(w,B,Y,n,V,x,_)},[B,S,n]);const G=(w,Y)=>{N(w,{...h[w],kanRedigereInntekt:Y})};b.useEffect(()=>{h.forEach((w,Y)=>{const H=w.kanRedigereInntekt,se=yr(y,r)(w);!(!B&&!n&&w.lagtTilAvSaksbehandler)&&H!==se&&G(Y,se)})},[y]);const K=(l=(s=g==null?void 0:g.vurderFaktaBeregningForm)==null?void 0:s[p])==null?void 0:l.inntektFieldArray,ee=OS(y,K,$),ne=`${v}.skjemagruppe`,z=Ii(ne,ee),q=h.map((w,Y)=>c.jsx(xS,{field:w,skalVisePeriode:Vs(h),skalViseRefusjon:Ds(h),skalViseSletteknapp:_S(Y,h,e),readOnly:e,removeAndel:yS(Y,x),beregningsgrunnlag:r,isAksjonspunktClosed:t,kodeverkSamling:i,rowName:`${v}.${Y}`,skalFastsetteInntektForAndel:$u(y,r.faktaOmBeregning,r)},w.id));return q.length===0?n?c.jsxs("div",{children:[!e&&!xo(h)&&c.jsx(jo,{leggTilAndel:_,kodeverkSamling:i}),c.jsx(A,{eightPx:!0}),z&&c.jsx(lt,{children:z})]}):null:(q.push(SS(h,e,r)),c.jsxs("div",{children:[c.jsx(Qe,{headerTextCodes:hS(Vs(h),Ds(h)),noHover:!0,classNameTable:Ue.inntektTable,children:q}),!e&&n&&!xo(h)&&c.jsx(jo,{leggTilAndel:_,kodeverkSamling:i}),c.jsx(A,{eightPx:!0}),z&&c.jsx(lt,{children:z})]}))};Vr.defaultProps={skalKunneLeggeTilDagpengerManuelt:!1};Vr.transformValues=e=>e?e.filter(({kanRedigereInntekt:n})=>n).filter(({fastsattBelop:n})=>n!==null&&n!=="").map(n=>({andelsnr:n.andelsnr,fastsattBelop:me(n.fastsattBelop),inntektskategori:n.inntektskategori,nyAndel:n.nyAndel,lagtTilAvSaksbehandler:n.lagtTilAvSaksbehandler,aktivitetStatus:n.aktivitetStatus,arbeidsforholdId:n.arbeidsforholdId,arbeidsgiverId:n.arbeidsgiverId})):null;Vr.buildInitialValues=(e,n,r)=>!e||e.length===0?[]:e.map(t=>Q_(t,n,r));const BS=e=>e.arbeidsforhold&&e.arbeidsforhold.organisasjonstype&&e.arbeidsforhold.organisasjonstype===sa.KUNSTIG,FS=(e,n)=>e.includes(Z.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING)?n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(BS)!==void 0:!1,$S=(e,n)=>n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(r=>r.andelsnr===e.andelsnr&&r.arbeidsforhold&&r.arbeidsforhold.organisasjonstype&&r.arbeidsforhold.organisasjonstype===sa.KUNSTIG)!==void 0,DS=(e,n,r,t,i)=>{const s=r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[];if(!s.map(d=>d).includes(Z.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING)&&!s.map(d=>d).includes(Z.VURDER_LONNSENDRING))return{};if(!n)return{};const l=n.filter(d=>!i.includes(d.andelsnr)).filter(d=>$g(d,t,d.arbeidsforholdId)||$S(d,t)||$A(d,r,e));l.forEach(d=>i.push(d.andelsnr));const o=l.map(d=>({andelsnr:d.andelsnr,fastsattBeløp:me(d.fastsattBelop),inntektskategori:d.inntektskategori}));return o.length>0?{faktaOmBeregningTilfeller:[Z.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING],fastsattUtenInntektsmelding:{andelListe:o}}:{}},VS=(e,n,r)=>{if((n.faktaOmBeregningTilfeller?n.faktaOmBeregningTilfeller:[]).map(t=>t).includes(Z.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON)&&e){const t=e.filter(i=>!r.includes(i.andelsnr)).filter(i=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe.map(({andelsnr:s})=>s).includes(i.andelsnr)).map(i=>({andelsnr:i.andelsnr,arbeidsinntekt:i.fastsattBelop}));if(n.frilansAndel&&!r.includes(n.frilansAndel.andelsnr)){const i=e.find(s=>s.andelsnr===n.frilansAndel.andelsnr);t.push({andelsnr:n.frilansAndel.andelsnr,arbeidsinntekt:i.fastsattBelop})}if(t.forEach(i=>r.push(i.andelsnr)),t.length>0)return{faktaOmBeregningTilfeller:[Z.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON],vurderATogFLiSammeOrganisasjon:{vurderATogFLiSammeOrganisasjonAndelListe:t}}}return{faktaOmBeregningTilfeller:[]}},GS=e=>e.faktaOmBeregning.faktaOmBeregningTilfeller?e.faktaOmBeregning.faktaOmBeregningTilfeller.map(n=>n).includes(Z.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON):!1,LS=({beregningsgrunnlag:e,manglerInntektsmelding:n})=>GS(e)?n?c.jsx(I,{children:c.jsx(m,{id:"BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrgUtenIM"})}):c.jsx(I,{children:c.jsx(m,{id:"BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrg"})}):null,MS=(e,n)=>{const r=i=>yr(e,n)(i),t=e[Gi];return t?t.filter(i=>i.aktivitetStatus===F.ARBEIDSTAKER).map(r).includes(!0):!1},KS=(e,n)=>{const r=i=>yr(e,n)(i),t=e[Gi];return t?t.filter(i=>i.aktivitetStatus===F.FRILANSER).map(r).includes(!0):!1},wS=e=>{const{faktaOmBeregning:n}=e;return n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&n.arbeidstakerOgFrilanserISammeOrganisasjonListe.length>0?n.arbeidstakerOgFrilanserISammeOrganisasjonListe.find(r=>!r.inntektPrMnd)!==void 0:!1},US=e=>!e.includes(Z.FASTSETT_BG_KUN_YTELSE),CS=(e,n,r,t)=>t?"BeregningInfoPanel.KunstigArbeidsforhold.FastsettKunstigArbeidsforhold":e?"KunYtelsePanel.OverskriftBesteberegning":n?r?"BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLAlleOppdrag":"BeregningInfoPanel.VurderOgFastsettATFL.FastsettFrilans":r?"BeregningInfoPanel.VurderOgFastsettATFL.FastsettArbeidsinntekt":"",zS=(e,n,r,t,i)=>c.jsx(Vr,{readOnly:e,skalKunneLeggeTilDagpengerManuelt:i,beregningsgrunnlag:n,kodeverkSamling:t,isAksjonspunktClosed:r}),St=({readOnly:e,isAksjonspunktClosed:n,tilfeller:r,beregningsgrunnlag:t,avklaringsbehov:i,kodeverkSamling:s,erOverstyrer:l,arbeidsgiverOpplysningerPerId:o,updateOverstyring:d})=>{const{getValues:u}=Se(),g=W.useContext(Oe),p=u(`vurderFaktaBeregningForm.${g}`),v=b.useMemo(()=>Fu(p),[p,t,i]),h=b.useMemo(()=>MS(p,t),[p,t]),x=b.useMemo(()=>KS(p,t),[p,t]),_=p[Qn]===!0,N=b.useMemo(()=>wS(t),[t]),y=b.useMemo(()=>US(r),[r]),B=b.useMemo(()=>FS(r,t),[r,t]);return c.jsx("div",{children:c.jsxs(Oi,{tabell:zS(e,t,n,s,v),skalViseTabell:y,hjelpeTekstId:CS(_,x,h,B),readOnly:e,erOverstyrer:l,avklaringsbehov:i,updateOverstyring:d,erOverstyrt:v,children:[c.jsx(LS,{beregningsgrunnlag:t,manglerInntektsmelding:N}),r.includes(Z.VURDER_LONNSENDRING)&&c.jsx(bt,{readOnly:e}),r.includes(Z.VURDER_ETTERLONN_SLUTTPAKKE)&&c.jsx(It,{readOnly:e}),r.includes(Z.VURDER_NYOPPSTARTET_FL)&&c.jsx(jt,{readOnly:e}),r.includes(Z.VURDER_MOTTAR_YTELSE)&&c.jsx(yt,{readOnly:e,isAksjonspunktClosed:n,tilfeller:r,beregningsgrunnlag:t,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:o}),r.includes(Z.VURDER_BESTEBEREGNING)&&!r.includes(Z.FASTSETT_BG_KUN_YTELSE)&&c.jsx(ht,{readOnly:e,erOverstyrt:v})]},"inntektstabell")})};St.buildInitialValues=(e,n,r,t)=>{if(!e)return{};const i=e.andelerForFaktaOmBeregning;return i.length===0?{}:{[Gi]:Vr.buildInitialValues(i,r,t),...Oi.buildInitialValues(n)}};const Mn=(e,n)=>({...e,...n,faktaOmBeregningTilfeller:n.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller.concat(n.faktaOmBeregningTilfeller):e.faktaOmBeregningTilfeller}),YS=(e,n,r,t)=>{if(Li(e)){const i=r.filter(s=>!t.includes(s.andelsnr)).filter(s=>s.fastsattBelop!=null).map(s=>({andelsnr:s.andelsnr,nyAndel:s.nyAndel,aktivitetStatus:s.aktivitetStatus,lagtTilAvSaksbehandler:s.lagtTilAvSaksbehandler,fastsatteVerdier:{fastsattBeløp:s.fastsattBelop,inntektskategori:s.inntektskategori}}));return{fakta:n,overstyrteAndeler:i}}return{fakta:n}},HS=(e,n,r,t,i)=>{const s=t.faktaOmBeregningTilfeller?t.faktaOmBeregningTilfeller.map(o=>o):[];let l={faktaOmBeregningTilfeller:[]};if(s.length>0){l=Mn(l,EA(t)(e,n));const o=e[Qn]===!0;l=Mn(l,jt.transformValues(e,o?null:n,t,r)),l=Mn(l,It.transformValues(e,o?null:n,t,r)),l=Mn(l,bt.transformValues(e,t)),l=Mn(l,yt.transformValues(e,o?null:n,t,i,r)),l=Mn(l,VS(o?null:n,t,r)),l=Mn(l,DS(e,o?null:n,t,i,r))}return l};St.transformValues=(e,n)=>r=>{const t=Vr.transformValues(r[Gi]),i=[],s=HS(r,t,i,e,n);return YS(r,s,t,i)};const{VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT:JS}=Z,qS="erKravGyldig_",Va=e=>qS+e,WS=(e,n,r,t)=>e.map(i=>{const{arbeidsgiverIdent:s}=i,l=r[s],o=l?Br(l):s,d=Q();return c.jsxs(W.Fragment,{children:[c.jsx(A,{twentyPx:!0}),c.jsx(Te,{label:c.jsx(m,{id:"VurderRefusjonForm.ErRefusjonskravGyldig",values:{arbeidsgiverVisningsnavn:o}}),name:`vurderFaktaBeregningForm.${t}.vurderRefusjonValues.${Va(s)}`,validate:[X],isReadOnly:n,radios:[{value:"true",label:d.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:d.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:hn,isHorizontal:!0})]},s)}),Nt=({readOnly:e,faktaOmBeregning:n,arbeidsgiverOpplysningerPerId:r})=>{const t=W.useContext(Oe),i=n==null?void 0:n.refusjonskravSomKommerForSentListe;return c.jsx(c.Fragment,{children:WS(i,e,r,t)})};Nt.transformValues=e=>n=>e.length===0?{}:{refusjonskravGyldighet:e.map(({arbeidsgiverIdent:r})=>({arbeidsgiverId:r,skalUtvideGyldighet:n.vurderRefusjonValues[Va(r)]}))};Nt.buildInitialValues=(e,n)=>{const r={};return!e.includes(JS)||n.length===0?r:(n.forEach(({arbeidsgiverIdent:t,erRefusjonskravGyldig:i})=>{r[Va(t)]=i}),{...r})};const{VURDER_FAKTA_FOR_ATFL_SN:ZS}=Ie,Vn=e=>{if(!e.faktaOmBeregning)throw new Error("Mangler fakta om beregning, ugyldig tilstand");return e.faktaOmBeregning},Ao=e=>{var n;return((n=Vn(e))==null?void 0:n.kortvarigeArbeidsforhold)||void 0},Io=e=>{var n;return((n=Vn(e))==null?void 0:n.kunYtelse)||void 0},Mu=e=>{var n;return((n=Vn(e))==null?void 0:n.faktaOmBeregningTilfeller)||[]},To=e=>{var n;return((n=Vn(e))==null?void 0:n.vurderMottarYtelse)||void 0},XS=e=>{var n;return((n=Vn(e))==null?void 0:n.vurderBesteberegning)||void 0},QS=e=>{var n;return((n=Vn(e))==null?void 0:n.refusjonskravSomKommerForSentListe)||[]},Eo=e=>e?c.jsx(A,{twentyPx:!0}):null,eN=(e,n,r,t,i,s,l)=>{const{avklaringsbehov:o}=r,d=Mu(r),u=Vn(r),g=[];let p=!1;return d.forEach(v=>{v===Z.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD&&(p=!0,g.push(c.jsx(W.Fragment,{children:c.jsx(Et,{readOnly:e,faktaOmBeregning:u,arbeidsgiverOpplysningerPerId:s})},v))),v===Z.VURDER_SN_NY_I_ARBEIDSLIVET&&(p=!0,g.push(c.jsxs(W.Fragment,{children:[Eo(p),c.jsx(Tt,{readOnly:e})]},v))),v===Z.VURDER_MILITÆR_SIVILTJENESTE&&(p=!0,g.push(c.jsx(W.Fragment,{children:c.jsx(_t,{readOnly:e})},v))),v===Z.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT&&(p=!0,g.push(c.jsx(W.Fragment,{children:c.jsx(Nt,{readOnly:e,arbeidsgiverOpplysningerPerId:s,faktaOmBeregning:u})},v)))}),$y(g,d,e,n,u,t),g.push(c.jsxs(W.Fragment,{children:[Eo(!0),c.jsx(St,{readOnly:e,isAksjonspunktClosed:n,tilfeller:d,beregningsgrunnlag:r,kodeverkSamling:t,erOverstyrer:i,avklaringsbehov:o,arbeidsgiverOpplysningerPerId:s,updateOverstyring:l})]},"VurderOgFastsettATFL")),g},nN=({readOnly:e,isAksjonspunktClosed:n,beregningsgrunnlag:r,kodeverkSamling:t,erOverstyrer:i,arbeidsgiverOpplysningerPerId:s,updateOverstyring:l})=>c.jsx("div",{children:eN(e,n,r,t,i,s,l).map(o=>o)}),rN=(e,n)=>r=>Dy(r,e.kunYtelse,n),tN=(e,n)=>(e.faktaOmBeregningTilfeller.push(Z.VURDER_SN_NY_I_ARBEIDSLIVET),{...e,...Tt.transformValues(n)}),iN=e=>(n,r)=>(n.faktaOmBeregningTilfeller.push(Z.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD),{...n,...Et.transformValues(r,e)}),sN=(e,n)=>(e.faktaOmBeregningTilfeller.push(Z.VURDER_MILITÆR_SIVILTJENESTE),{...e,..._t.transformValues(n)}),aN=e=>(n,r)=>(n.faktaOmBeregningTilfeller.push(Z.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT),{...n,...Nt.transformValues(e.refusjonskravSomKommerForSentListe)(r)}),lN=(e,n,r,t,i)=>(s,l)=>{let o={...s};return e.forEach(d=>{d===Z.VURDER_SN_NY_I_ARBEIDSLIVET&&(o=n(o,l)),d===Z.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD&&(o=r(o,l)),d===Z.VURDER_MILITÆR_SIVILTJENESTE&&(o=t(o,l)),d===Z.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT&&(o=i(o,l))}),o},oN=(e,n,r)=>t=>e.includes(Z.FASTSETT_BG_KUN_YTELSE)?{fakta:n(t)}:{...r(t)},dN=(e,n,r,t,i)=>{const s=oN(e,rN(t,e),St.transformValues(t,i))(n);return{fakta:lN(e,tN,iN(r),sN,aN(t))(s.fakta,n),overstyrteAndeler:s.overstyrteAndeler}},gN=e=>{const{tilfeller:n,kortvarigeArbeidsforhold:r,faktaOmBeregning:t,beregningsgrunnlag:i}=e;return dN(n,e,r,t,i)},uN=e=>e?e.find(n=>n.definisjon===ZS):void 0,kN=(e,n,r)=>{const t=Mu(e),i=Vn(e);return{beregningsgrunnlag:e,tilfeller:t,faktaOmBeregning:i,kortvarigeArbeidsforhold:Ao(e),vurderMottarYtelse:To(e),kunYtelse:Io(e),tidsbegrensetValues:Et.buildInitialValues(Ao(e)),vurderMottarYtelseValues:yt.buildInitialValues(To(e)),vurderRefusjonValues:Nt.buildInitialValues(t,QS(e)),..._t.buildInitialValues(i),...Tt.buildInitialValues(e),...bt.buildInitialValues(e),...jt.buildInitialValues(e),...It.buildInitialValues(e,uN(e.avklaringsbehov)),...ht.buildInitialValues(e.avklaringsbehov,XS(e),t,ho(e)),...St.buildInitialValues(i,ho(e),r,n),...Vy(Io(e),t,i.andelerForFaktaOmBeregning,r,n)}},{VURDER_FAKTA_FOR_ATFL_SN:Gs,OVERSTYRING_AV_BEREGNINGSGRUNNLAG:Ls}=Ie,hi=(e,n)=>n.some(r=>r.definisjon===e&&r.kanLoses),mN=(e,n)=>e||hi(Gs,n),_o=(e,n)=>{const r=e[Tr];if(n&&!r&&hi(Ls,e.avklaringsbehov||[]))return{periode:e.periode,avbrutt:!0,begrunnelse:void 0};if(!mN(!!r,e.avklaringsbehov||[]))throw new Error("Feil: Kjører submit uten aksjonspunkt og uten overstyringsrolle");return{...gN(e),begrunnelse:e.begrunnelseFaktaTilfeller,periode:e.periode}},fN=(e,n=!0)=>{const r=e[kn],t=r.filter(l=>l.erTilVurdering).filter(l=>l[Tr]||hi(Ls,l.avklaringsbehov||[])).map(l=>_o(l,!0)).filter(l=>l),i=r.filter(l=>l.erTilVurdering).filter(l=>(!l[Tr]||n)&&hi(Gs,l.avklaringsbehov||[])).map(l=>_o(l,!1)).filter(l=>l),s=[];if(t.length>0){const l=t.filter(({begrunnelse:d})=>d!==null).map(({begrunnelse:d})=>d).reduce((d,u)=>d===""?u:`${d} ${u}`,""),o={kode:Ls,begrunnelse:l!==""?l:null,grunnlag:t};s.push(o)}if(i.length>0){const l=i.map(({begrunnelse:d})=>d).reduce((d,u)=>d===""?u:`${d} ${u}`,""),o={kode:Gs,begrunnelse:l,grunnlag:i};s.push(o)}return s},{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:Ku,VURDER_FAKTA_FOR_ATFL_SN:ri}=Ie,wu="begrunnelseFaktaTilfeller",hr=(e,n)=>n.some(r=>r.definisjon===e),pN=(e,n,r)=>e&&n&&!r,cN=(e,n)=>hr(ri,n)||hr(Ku,n)?!e:!0,fs=e=>{const n=e.filter(r=>r.definisjon===Ie.VURDER_FAKTA_FOR_ATFL_SN||r.definisjon===Ie.OVERSTYRING_AV_BEREGNINGSGRUNNLAG);return n.length===0?!1:n.some(r=>!vn(r.status))},vN=()=>{const e=[];return e.push(c.jsx(m,{id:"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning"},"VurderFaktaForBeregningen")),e},yo=(e,n)=>{const r=n(`${kn}.${e}`);return Fu(r)},So=(e,n)=>{var r,t;return!!((t=(r=n.vurderFaktaBeregningForm)==null?void 0:r[e])!=null&&t.begrunnelseFaktaTilfeller)},hN=({beregningsgrunnlag:e,erOverstyrer:n,readOnly:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,submittable:s,updateOverstyring:l,vilkarsperiode:o,verdiForAvklarAktivitetErEndret:d,submitDisabled:u})=>{const{getValues:g,formState:{errors:p,isDirty:v}}=Se(),h=W.useContext(Bg),x=W.useContext(Fg),_=W.useContext(Oe),N=_===x;W.useEffect(()=>{h(p)},[JSON.stringify(p)]);const{avklaringsbehov:y}=e,B=o.vurderesIBehandlingen;return c.jsxs("div",{style:{display:N?"block":"none"},children:[hr(ri,y)&&c.jsx(kt,{children:fs(y)?null:vN()}),c.jsx(A,{twentyPx:!0}),c.jsx(nN,{readOnly:r||!B,isAksjonspunktClosed:fs(y),beregningsgrunnlag:e,kodeverkSamling:t,erOverstyrer:n,arbeidsgiverOpplysningerPerId:i,updateOverstyring:l}),c.jsx(A,{twentyPx:!0}),(hr(ri,y)||hr(Ku,y)||yo(_,g))&&c.jsxs(c.Fragment,{children:[(hr(ri,y)||yo(_,g))&&c.jsx(tr,{name:`${kn}.${_}.${wu}`,isSubmittable:s,isReadOnly:r||!B,hasBegrunnelse:ha(y)!==void 0}),c.jsx(A,{twentyPx:!0}),c.jsx(yg,{isDisabled:!!d,isSubmittable:pN(s&&cN(d,y)&&!fs(y),!0,So(_,p)),isReadOnly:r||!B,isDirty:v,isSubmitting:u,hasEmptyRequiredFields:So(_,p)})]})]},_)},{VURDER_FAKTA_FOR_ATFL_SN:Uu,AVKLAR_AKTIVITETER:bN,OVERSTYRING_AV_BEREGNINGSGRUNNLAG:bi,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:jN}=Ie,xN=e=>e.some(n=>n.definisjon===bi)?e.find(n=>n.definisjon===bi&&n.begrunnelse!==null):e.find(n=>n.definisjon===Uu&&n.begrunnelse!==null),No=(e,n)=>n.some(r=>r.definisjon===e&&vn(r.status)),AN=(e,n,r,t)=>({[kn]:e.map(i=>{var s;const l=t.perioder.find(o=>o.periode.fom===i.vilkårsperiodeFom);if(!l)throw new Error(`Finner ikke vilkårsperiode med fom ${i.vilkårsperiodeFom}`);return{avklaringsbehov:i.avklaringsbehov,erTilVurdering:l.vurderesIBehandlingen&&!l.erForlengelse,periode:l.periode,...tr.buildInitialValues((s=xN(i.avklaringsbehov))==null?void 0:s.begrunnelse,wu),...kN(i,n,r)}})}),IN=[Uu,bi],TN=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.vilkårsperiodeFom);return(r==null?void 0:r.erForlengelse)===!0},EN=({beregningsgrunnlag:e,submittable:n,readOnly:r,kodeverkSamling:t,erOverstyrer:i,arbeidsgiverOpplysningerPerId:s,aktivtBeregningsgrunnlagIndeks:l,submitCallback:o,setFormData:d,formData:u,vilkar:g,avklarAktiviteterErEndret:p,skalKunneAvbryteOverstyring:v})=>{const h=p,x=e.flatMap(H=>H.avklaringsbehov),_=He({defaultValues:u||AN(e,t,s,g)}),{control:N,formState:y,trigger:B,getValues:S,watch:$}=_,{fields:V,update:G}=an({name:kn,control:N}),{errors:K,isSubmitted:ee}=y,[ne,z]=b.useState(!1),q=$(kn);b.useEffect(()=>{ee&&B()},[JSON.stringify(q)]);const w=(H,se)=>{const Ee=S(`${kn}.${H}`);G(H,{...Ee,[Tr]:se})},Y=H=>{Object.keys(K).length===0&&(z(!0),o(fN(H,v)))};return No(bN,x)||No(jN,x)?null:c.jsx(Fg.Provider,{value:l,children:c.jsx(Je,{formMethods:_,onSubmit:H=>{Y(H)},setDataOnUnmount:d,children:V.map((H,se)=>{const Ee=en=>IN.some(be=>be===en.definisjon),$e=en=>en.kanLoses,Be=x.filter(en=>Ee(en)&&$e(en)),lr=r||TN(e[se],g.perioder)||tn(bi,x)&&!i||Be.length===0&&!i,Gn=g.perioder.find(en=>en.periode.fom===e[se].vilkårsperiodeFom);if(!Gn)throw new Error(`Filler ikke vilkårsperiode med fom ${e[se].vilkårsperiodeFom}`);return c.jsx(Oe.Provider,{value:se,children:c.jsx(hN,{vilkarsperiode:Gn,beregningsgrunnlag:e[se],erOverstyrer:i,readOnly:lr,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:s,submittable:n,updateOverstyring:w,submitDisabled:ne,verdiForAvklarAktivitetErEndret:h},H.id)},H.id)})})})},{VURDER_FAKTA_FOR_ATFL_SN:_N,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Cu,AVKLAR_AKTIVITETER:yN}=Ie,SN=[Cu,yN],NN=({readOnly:e,avklaringsbehov:n,submittable:r,submitCallback:t,aktivtBeregningsgrunnlagIndeks:i,beregningsgrunnlag:s,erOverstyrer:l,skalKunneOverstyreAktiviteter:o,kodeverkSamling:d,arbeidsgiverOpplysningerPerId:u,setFormData:g,formData:p,vilkar:v,skalKunneAvbryteOverstyring:h})=>{const x=n.filter(B=>SN.some(S=>S===B.definisjon)&&B.kanLoses),_=e||(x.length===0||tn(Cu,n))&&!l,[N,y]=b.useState(!1);return c.jsxs("div",{children:[c.jsx(bA,{readOnly:_,harAndreAvklaringsbehovIPanel:tn(_N,n),submitCallback:t,submittable:r,erOverstyrer:l&&o,kodeverkSamling:d,aktivtBeregningsgrunnlagIndeks:i,beregningsgrunnlag:s,arbeidsgiverOpplysningerPerId:u,setFormData:g,formData:p&&ot in p?p:void 0,vilkår:v,setAvklarAktiviteterErEndret:y}),c.jsx(A,{thirtyTwoPx:!0}),c.jsx(EN,{submitCallback:t,submittable:r,kodeverkSamling:d,beregningsgrunnlag:s,erOverstyrer:l,readOnly:e,arbeidsgiverOpplysningerPerId:u,aktivtBeregningsgrunnlagIndeks:i,setFormData:g,formData:p&&kn in p?p:void 0,vilkar:v,avklarAktiviteterErEndret:N,skalKunneAvbryteOverstyring:h})]})},PN=Me(va),{VURDER_FAKTA_FOR_ATFL_SN:RN,AVKLAR_AKTIVITETER:ON}=Ie,BN=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.vilkårsperiodeFom);return(r==null?void 0:r.erForlengelse)===!0},FN=(e,n)=>{const r=e.vilkårsperiodeFom,t=n.find(({periode:i})=>i.fom===r);if(t){const{fom:i,tom:s}=t.periode;return s!==null?`${T(i).format(te)} - ${T(s).format(te)}`:`${T(i).format(te)} - `}return`${T(r).format(te)}`},$N=e=>{if(e){const n=e.some(t=>t.definisjon===RN&&t.kanLoses),r=e.some(t=>t.definisjon===ON&&t.kanLoses);return n||r}return!1},DN=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.skjaeringstidspunktBeregning);return $N(e.avklaringsbehov)&&(r==null?void 0:r.vurderesIBehandlingen)&&!r.erForlengelse},VN=({beregningsgrunnlag:e=[],kodeverkSamling:n,submitCallback:r,readOnly:t,submittable:i,erOverstyrer:s,skalKunneOverstyreAktiviteter:l=!0,arbeidsgiverOpplysningerPerId:o,formData:d,setFormData:u,vilkar:g,skalKunneAvbryteOverstyring:p=!1})=>{const[v,h]=b.useState(0),[x,_]=b.useState(void 0);if(e.length===0||!g)return c.jsx(c.Fragment,{children:"Har ikke beregningsgrunnlag."});const N=e.length>1,y=e[v].avklaringsbehov,B=g.perioder,S=$=>{var V;return!!((V=x==null?void 0:x[`${kn}`])!=null&&V[$])};return c.jsxs(Ze,{value:PN,children:[N&&c.jsx("div",{className:Px.tabsContainer,children:c.jsx(br,{value:v.toString(),onChange:$=>h(Number($)),children:c.jsx(br.List,{children:e.map(($,V)=>c.jsx(br.Tab,{value:V.toString(),label:FN($,B),className:DN($,B)?"harAksjonspunkt":"",icon:V!==v&&S(V)&&c.jsx(nr,{width:20,height:20,color:"Orange"})},$.skjaeringstidspunktBeregning))})})}),c.jsx(Bg.Provider,{value:_,children:c.jsx(NN,{aktivtBeregningsgrunnlagIndeks:v,beregningsgrunnlag:e,kodeverkSamling:n,avklaringsbehov:y,submitCallback:r,readOnly:t||BN(e[v],B),submittable:i,erOverstyrer:s,skalKunneOverstyreAktiviteter:l,arbeidsgiverOpplysningerPerId:o,setFormData:u,formData:d,vilkar:g,skalKunneAvbryteOverstyring:p})})]})};const GN=e=>{switch(e){case Ie.AVKLAR_AKTIVITETER:return ae.AVKLAR_AKTIVITETER;case Ie.OVERSTYRING_AV_BEREGNINGSAKTIVITETER:return ae.OVERSTYRING_AV_BEREGNINGSAKTIVITETER;case Ie.VURDER_FAKTA_FOR_ATFL_SN:return ae.VURDER_FAKTA_FOR_ATFL_SN;case Ie.OVERSTYRING_AV_BEREGNINGSGRUNNLAG:return ae.OVERSTYRING_AV_BEREGNINGSGRUNNLAG;default:throw new Error(`Ukjent avklaringspunkt ${e}`)}},LN=e=>n=>{const t=(Array.isArray(n)?n:[n]).map(i=>({kode:GN(i.kode),...i.grunnlag[0]}));return e(t)},MN=(e,n)=>({avslagKode:n.avslagKode,vurderesIBehandlingen:!0,merknadParametere:{},periode:{fom:e?e.skjaeringstidspunktBeregning:"",tom:Ke},vilkarStatus:n.vilkarStatus}),KN=(e,n)=>{if(!e)return null;const r=e.find(i=>i.vilkarType&&i.vilkarType===Wn.BEREGNINGSGRUNNLAGVILKARET);return!r||!n?null:{...r,perioder:[MN(n,r)]}},wN=e=>e?[{...e,vilkårsperiodeFom:e.skjaeringstidspunktBeregning}]:[],UN=[ae.VURDER_FAKTA_FOR_ATFL_SN,ae.AVKLAR_AKTIVITETER,ae.OVERSTYRING_AV_BEREGNINGSAKTIVITETER,ae.OVERSTYRING_AV_BEREGNINGSGRUNNLAG],CN=[ae.OVERSTYRING_AV_BEREGNINGSAKTIVITETER,ae.OVERSTYRING_AV_BEREGNINGSGRUNNLAG],zN=[Ce.BEREGNINGSGRUNNLAG],Po=({arbeidsgiverOpplysningerPerId:e,rettigheter:n,...r})=>Pe.jsx(Pr,{...r,panelEndepunkter:zN,aksjonspunktKoder:UN,overstyringApKoder:CN,faktaPanelKode:Nr.BEREGNING,faktaPanelMenyTekst:Q().formatMessage({id:"BeregningInfoPanel.Title"}),skalPanelVisesIMeny:()=>xd.hasPath(Ce.BEREGNINGSGRUNNLAG.name),renderPanel:t=>{var i;return Pe.jsx(VN,{...t,kodeverkSamling:t.alleKodeverk,vilkar:KN((i=r.behandling)==null?void 0:i.vilkår,t.beregningsgrunnlag),beregningsgrunnlag:wN(t.beregningsgrunnlag),submitCallback:LN(t.submitCallback),arbeidsgiverOpplysningerPerId:e,erOverstyrer:n.kanOverstyreAccess.isEnabled,skalKunneOverstyreAktiviteter:!0})}});try{Po.displayName="BeregningFaktaInitPanel",Po.__docgenInfo={description:"BeregningFaktaInitPanel",displayName:"BeregningFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},rettigheter:{defaultValue:null,description:"",name:"rettigheter",required:!0,type:{name:"AksessRettigheter"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}function YN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zu={exports:{}},qr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ro;function HN(){if(Ro)return qr;Ro=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(o,d,u){var g,p={},v=null,h=null;u!==void 0&&(v=""+u),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(h=d.ref);for(g in d)t.call(d,g)&&!s.hasOwnProperty(g)&&(p[g]=d[g]);if(o&&o.defaultProps)for(g in d=o.defaultProps,d)p[g]===void 0&&(p[g]=d[g]);return{$$typeof:n,type:o,key:v,ref:h,props:p,_owner:i.current}}return qr.Fragment=r,qr.jsx=l,qr.jsxs=l,qr}zu.exports=HN();var E=zu.exports,Ms=(e=>(e.BRUK_PERMISJON="BRUK_PERMISJON",e.IKKE_BRUK_PERMISJON="IKKE_BRUK_PERMISJON",e))(Ms||{});const JN="_inline_1gq7u_1",qN="_topPadding_1gq7u_5",WN="_phoneIcon_1gq7u_9",ZN="_docIcon_1gq7u_15",gr={inline:JN,topPadding:qN,phoneIcon:WN,docIcon:ZN},XN=({saksnummer:e,inntektsmelding:n})=>E.jsxs(E.Fragment,{children:[E.jsx(A,{eightPx:!0}),E.jsxs(pe,{children:[E.jsxs(O,{children:[E.jsx(j,{children:E.jsx(D,{size:"small",children:E.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Inntektsmelding"})})}),E.jsx(j,{className:gr.topPadding,children:E.jsx(I,{size:"small",children:U(n.inntektPrMnd)})})]}),E.jsx(A,{eightPx:!0}),E.jsxs(O,{children:[E.jsx(j,{children:E.jsx(D,{size:"small",children:E.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjon"})})}),E.jsx(j,{className:gr.topPadding,children:E.jsx(I,{size:"small",children:E.jsx(m,{id:n.refusjonPrMnd?"InntektsmeldingOpplysningerPanel.Ja":"InntektsmeldingOpplysningerPanel.Nei"})})})]}),E.jsx(A,{eightPx:!0}),n.refusjonPrMnd&&E.jsxs(E.Fragment,{children:[E.jsxs(O,{children:[E.jsx(j,{children:E.jsx(D,{size:"small",children:E.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjonsbeløp"})})}),E.jsx(j,{className:gr.topPadding,children:E.jsx(I,{size:"small",children:U(n.refusjonPrMnd)})})]}),E.jsx(A,{eightPx:!0})]}),E.jsxs(ut,{href:hd(e,n.journalpostId,n.dokumentId),target:"_blank",children:[E.jsx("span",{children:E.jsx(I,{size:"small",className:gr.inline,children:E.jsx(m,{id:"InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding"})})}),E.jsx(Dd,{className:gr.docIcon})]}),E.jsx(A,{sixteenPx:!0}),E.jsxs(O,{children:[E.jsx(j,{children:E.jsx(Vd,{className:gr.phoneIcon})}),E.jsxs(j,{children:[E.jsx(O,{children:E.jsx(j,{children:E.jsx(D,{size:"small",children:E.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Kontaktinfo"})})})}),E.jsx(O,{children:E.jsx(j,{children:E.jsx(ge,{children:n.kontaktpersonNavn})})}),E.jsx(O,{children:E.jsx(j,{children:E.jsx(ge,{children:E.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Tlf",values:{nr:n.kontaktpersonNummer}})})})})]})]})]}),E.jsx(A,{thirtyTwoPx:!0})]});var Yu={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var t=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var l=typeof s;if(l==="string"||l==="number")t.push(this&&this[s]||s);else if(Array.isArray(s))t.push(r.apply(this,s));else if(l==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){t.push(s.toString());continue}for(var o in s)n.call(s,o)&&s[o]&&t.push(this&&this[o]||o)}}}return t.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Yu);var QN=Yu.exports;const eP=YN(QN),nP="_boks_kspkv_1",rP="_aksjonspunkt_kspkv_9",tP="_harBorderTop_kspkv_13",Hu={boks:nP,aksjonspunkt:rP,harBorderTop:tP},iP=eP.bind(Hu),sP=({harÅpentAksjonspunkt:e,harBorderTop:n,children:r})=>E.jsx("div",{className:iP(Hu.boks,{aksjonspunkt:e,harBorderTop:n}),children:r}),aP="_maanedBredde_pqnhm_1",lP="_aarBredde_pqnhm_5",oP="_belopBredde_pqnhm_9",dP="_inline_pqnhm_13",gP="_arrow_pqnhm_17",ur={maanedBredde:aP,aarBredde:lP,belopBredde:oP,inline:dP,arrow:gP},uP=(e,n)=>{const r=T(e).startOf("month"),t=r.subtract(12,"month"),i=[];for(let s=r;s.isAfter(t);s=s.subtract(1,"month")){const l=s.format(Ne),o=n.find(d=>T(d.fom).startOf("month").format(Ne)===l);i.push({beløp:(o==null?void 0:o.beløp)||0,fom:l})}return i},kP=({inntektsposter:e,skjæringstidspunkt:n})=>{const[r,t]=b.useState(!1),i=b.useMemo(()=>uP(n,e),[e]);return E.jsxs(E.Fragment,{children:[e.length>0&&E.jsxs(E.Fragment,{children:[E.jsx(D,{size:"small",children:E.jsx(m,{id:"InntektsposterPanel.Inntekter"})}),E.jsx(pe,{children:i.filter((s,l)=>r?!0:l<3).map(s=>E.jsxs(O,{children:[E.jsx(j,{className:ur.maanedBredde,children:E.jsx(I,{size:"small",children:E.jsx(m,{id:`InntektsposterPanel.${T(s.fom).month()+1}`})})}),E.jsx(j,{className:ur.aarBredde,children:E.jsx(I,{size:"small",children:T(s.fom).year()})}),E.jsx(j,{className:ur.belopBredde,children:E.jsx(Xn,{children:E.jsx(I,{size:"small",children:U(s.beløp)})})})]},s.fom))}),E.jsxs(ut,{onClick:s=>{s.preventDefault(),t(!r)},href:"",children:[E.jsx("span",{children:E.jsx(I,{size:"small",className:ur.inline,children:E.jsx(m,{id:r?"InntektsposterPanel.FaerreManeder":"InntektsposterPanel.TidligereManeder"})})}),r?E.jsx(Qs,{className:ur.arrow}):E.jsx(yi,{className:ur.arrow})]})]}),e.length===0&&E.jsx(D,{size:"small",children:E.jsx(m,{id:"InntektsposterPanel.IngenInntekt"})})]})},mP="_body_hrlo3_1",fP="_hjelpetekst_hrlo3_5",pP="_firstCol_hrlo3_9",cP="_secCol_hrlo3_13",vP="_thirdCol_hrlo3_17",hP="_fourthCol_hrlo3_21",bP="_topPadding_hrlo3_25",jP="_image_hrlo3_29",xP="_hjelpetekstInnhold_hrlo3_33",AP="_exclamationmarkIcon_hrlo3_38",IP="_checkmarkIcon_hrlo3_45",qe={body:mP,hjelpetekst:fP,firstCol:pP,secCol:cP,thirdCol:vP,fourthCol:hP,topPadding:bP,image:jP,hjelpetekstInnhold:xP,exclamationmarkIcon:AP,checkmarkIcon:IP},TP="arbeidsforhold",EP=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent&&(!n.internArbeidsforholdId||n.internArbeidsforholdId===e.internArbeidsforholdId),_P=e=>{const n=Math.ceil(e.length/25),r=Array.from({length:n},(t,i)=>e.slice(i*25,i*25+25));return E.jsx("p",{children:r.join("-")})},yP=({index:e,fieldId:n,saksnummer:r,sorterteArbeidsforhold:t,arbeidOgInntekt:i,arbeidsgiverOpplysningerPerId:s,isReadOnly:l,harÅpentAksjonspunkt:o,skjæringstidspunkt:d,alleKodeverk:u})=>{var g;const p=Q(),{inntektsmeldinger:v,inntekter:h}=i,x=t[e],_=v.find(K=>EP(x,K)),N=(g=h.find(K=>K.arbeidsgiverIdent===x.arbeidsgiverIdent))==null?void 0:g.inntekter,y=t.filter(K=>K.arbeidsgiverIdent===x.arbeidsgiverIdent).length>1,B=s[x.arbeidsgiverIdent],S=b.useRef(null),[$,V]=b.useState(!1),G=b.useCallback(()=>V(K=>!K),[]);return E.jsx(sP,{harÅpentAksjonspunkt:o,harBorderTop:e===0,children:E.jsx(pe,{children:E.jsxs(O,{children:[E.jsxs(j,{children:[!o&&E.jsx(Zs,{title:p.formatMessage({id:"ArbeidsforholdFieldArray.Ok"}),className:qe.checkmarkIcon}),o&&E.jsx(nr,{title:p.formatMessage({id:"ArbeidsforholdFieldArray.Aksjonspunkt"}),className:qe.exclamationmarkIcon})]}),E.jsxs(j,{className:qe.body,children:[E.jsxs(pe,{children:[E.jsxs(O,{children:[E.jsxs(j,{className:qe.firstCol,children:[E.jsx(D,{size:"small",children:B.navn}),x.arbeidsgiverIdent&&E.jsxs(ge,{children:["(",B.erPrivatPerson&&B.fødselsdato?E.jsx(Re,{dateString:B.fødselsdato}):x.arbeidsgiverIdent,")"]})]}),E.jsxs(j,{className:qe.secCol,children:[E.jsx(D,{size:"small",children:E.jsx(m,{id:"ArbeidsforholdFieldArray.Periode"})}),E.jsxs(I,{size:"small",children:[x&&E.jsx(ze,{dateStringFom:x.fom,dateStringTom:x.tom!==Ke?x.tom:void 0}),!x&&"-"]})]}),E.jsxs(j,{className:qe.thirdCol,children:[E.jsx(D,{size:"small",children:E.jsx(m,{id:"ArbeidsforholdFieldArray.Kilde"})}),E.jsx(I,{size:"small",children:E.jsx(m,{id:x?"ArbeidsforholdFieldArray.AaRegisteret":"ArbeidsforholdFieldArray.Inntektsmelding"})})]}),E.jsxs(j,{className:qe.fourthCol,children:[E.jsx(D,{size:"small",children:E.jsx(m,{id:"ArbeidsforholdFieldArray.InntektsmeldingMottatt"})}),E.jsxs(I,{size:"small",children:[(_==null?void 0:_.motattDato)&&E.jsx(Re,{dateString:_.motattDato}),!(_!=null&&_.motattDato)&&E.jsx(m,{id:"ArbeidsforholdFieldArray.IkkeMottatt"})]})]})]}),E.jsx(A,{sixteenPx:!0}),E.jsxs(O,{children:[E.jsxs(j,{className:qe.firstCol,children:[y&&x.eksternArbeidsforholdId&&E.jsxs(E.Fragment,{children:[E.jsxs(O,{children:[E.jsx(j,{children:E.jsx(D,{size:"small",children:E.jsx(m,{id:"ArbeidsforholdFieldArray.Id"})})}),E.jsxs(j,{className:qe.topPadding,children:[x.eksternArbeidsforholdId.length<50&&E.jsx(I,{size:"small",children:x.eksternArbeidsforholdId}),x.eksternArbeidsforholdId.length>=50&&E.jsx(pm,{content:_P(x.eksternArbeidsforholdId),alignBottom:!0,children:E.jsx(I,{size:"small",children:`${x.eksternArbeidsforholdId.substring(0,50)}...`})})]})]}),E.jsx(A,{eightPx:!0})]}),x.stillingsprosent&&E.jsxs(E.Fragment,{children:[E.jsxs(O,{children:[E.jsx(j,{children:E.jsx(D,{size:"small",children:E.jsx(m,{id:"ArbeidsforholdFieldArray.Stillingsprosent"})})}),E.jsx(j,{className:qe.topPadding,children:E.jsx(I,{size:"small",children:`${x.stillingsprosent}%`})})]}),E.jsx(A,{eightPx:!0})]}),_&&E.jsx(XN,{saksnummer:r,inntektsmelding:_}),!_&&N&&E.jsxs(E.Fragment,{children:[E.jsx(A,{thirtyTwoPx:!0}),E.jsx(kP,{inntektsposter:N,skjæringstidspunkt:d}),E.jsx(A,{thirtyTwoPx:!0})]})]}),E.jsx(j,{children:x.permisjonOgMangel&&E.jsxs(E.Fragment,{children:[E.jsx(D,{size:"small",children:`${ai(u,Tn.PERMISJONSBESKRIVELSE_TYPE,x.permisjonOgMangel.type)} 100%`}),E.jsx(I,{size:"small",children:E.jsx(ze,{dateStringFom:x.permisjonOgMangel.permisjonFom,dateStringTom:void 0})})]})})]})]}),E.jsx(Te,{name:`${TP}.${e}.permisjonStatus`,label:E.jsx(pe,{children:E.jsxs(O,{children:[E.jsx(j,{children:E.jsx(m,{id:"ArbeidsforholdFieldArray.SkalArbeidsforholdetTasMed"})}),E.jsxs(j,{className:qe.image,children:[E.jsx(ie,{ref:S,type:"button",variant:"tertiary",onClick:G,icon:E.jsx(ta,{title:p.formatMessage({id:"ArbeidsforholdFieldArray.AltHjelpetekst"})})}),E.jsx(Ar,{open:$,onClose:G,anchorEl:S.current,className:qe.hjelpetekst,children:E.jsxs(Ar.Content,{className:qe.hjelpetekstInnhold,children:[E.jsx(I,{children:E.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel1"})}),E.jsx(A,{eightPx:!0}),E.jsx(I,{children:E.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel2"})}),E.jsx(A,{eightPx:!0}),E.jsx(I,{children:E.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel3"})}),E.jsx(A,{eightPx:!0}),E.jsx(I,{children:E.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel4"})})]})})]})]})}),validate:[X],isReadOnly:l,radios:[{label:p.formatMessage({id:_?"ArbeidsforholdFieldArray.TaMedArbeidsforhold":"ArbeidsforholdFieldArray.TaMedArbeidsforholdIkkeInntektsmelding"}),value:Ms.IKKE_BRUK_PERMISJON},{label:p.formatMessage({id:"ArbeidsforholdFieldArray.IkkeTaMedArbeidsforhold"}),value:Ms.BRUK_PERMISJON}]}),E.jsx(A,{fourPx:!0})]})]})})},n)},SP="arbeidsforhold",NP=({saksnummer:e,sorterteArbeidsforhold:n,arbeidOgInntekt:r,arbeidsgiverOpplysningerPerId:t,isReadOnly:i,harÅpentAksjonspunkt:s,skjæringstidspunkt:l,alleKodeverk:o})=>{const{control:d}=Se(),{fields:u}=an({control:d,name:SP});return E.jsx(E.Fragment,{children:u.map((g,p)=>E.jsx(yP,{fieldId:g.id,index:p,saksnummer:e,sorterteArbeidsforhold:n,arbeidOgInntekt:r,arbeidsgiverOpplysningerPerId:t,isReadOnly:i,harÅpentAksjonspunkt:s,skjæringstidspunkt:l,alleKodeverk:o},g.id))})},PP=fn(3),RP=pn(1500),OP=e=>(n,r)=>e[n.arbeidsgiverIdent].navn.localeCompare(e[r.arbeidsgiverIdent].navn),BP=({saksnummer:e,aksjonspunkter:n,readOnly:r,arbeidOgInntekt:t,arbeidsgiverOpplysningerPerId:i,formData:s,setFormData:l,lagreCallback:o,alleKodeverk:d})=>{const u=b.useMemo(()=>({inntektsmeldinger:t.inntektsmeldinger,arbeidsforhold:t.arbeidsforhold.filter(_=>{var N;return(N=_.permisjonOgMangel)==null?void 0:N.årsak}),inntekter:t.inntekter,skjæringstidspunkt:t.skjæringstidspunkt}),[t]),{arbeidsforhold:g}=u,p=b.useMemo(()=>[...g].sort(OP(i)),[g,i]),v=b.useMemo(()=>({arbeidsforhold:p.map(_=>{var N;return{permisjonStatus:(N=_.permisjonOgMangel)==null?void 0:N.permisjonStatus}}),begrunnelse:n[0].begrunnelse}),[p]),h=He({defaultValues:s||v});b.useEffect(()=>()=>{l(h.getValues())},[h.getValues()]);const x=n.some(_=>_.status===Jn.OPPRETTET);return E.jsxs(E.Fragment,{children:[E.jsx(pe,{children:E.jsxs(O,{spaceBetween:!0,children:[E.jsx(j,{children:E.jsx(ce,{size:"small",children:E.jsx(m,{id:"PermisjonFaktaPanel.Overskrift"})})}),E.jsx(j,{children:E.jsx(I,{size:"small",children:E.jsx(m,{id:"PermisjonFaktaPanel.Skjaringstidspunkt",values:{skjæringspunktDato:Ge(u.skjæringstidspunkt)}})})})]})}),E.jsx(A,{thirtyTwoPx:!0}),x&&E.jsx(kt,{children:E.jsx(m,{id:"PermisjonFaktaPanel.PermisjonUtenSluttdato"})}),E.jsx(A,{thirtyTwoPx:!0}),E.jsxs(Je,{formMethods:h,onSubmit:_=>o({kode:ae.VURDER_ARBEIDSFORHOLD_PERMISJON,arbeidsforhold:_.arbeidsforhold.map((N,y)=>({internArbeidsforholdId:p[y].internArbeidsforholdId,arbeidsgiverIdent:p[y].arbeidsgiverIdent,permisjonStatus:N.permisjonStatus})),begrunnelse:_.begrunnelse}),children:[E.jsx(NP,{saksnummer:e,sorterteArbeidsforhold:p,arbeidOgInntekt:u,arbeidsgiverOpplysningerPerId:i,isReadOnly:r,harÅpentAksjonspunkt:x,skjæringstidspunkt:u.skjæringstidspunkt,alleKodeverk:d}),E.jsx(A,{thirtyTwoPx:!0}),E.jsx(Xe,{label:E.jsx(D,{size:"small",children:E.jsx(m,{id:"PermisjonFaktaPanel.Begrunn"})}),name:"begrunnelse",validate:[X,PP,RP,mn],maxLength:1500,readOnly:r}),E.jsx(A,{sixteenPx:!0}),!r&&E.jsx(ie,{size:"small",variant:"primary",disabled:!h.formState.isDirty||h.formState.isSubmitting,loading:h.formState.isSubmitting,children:E.jsx(m,{id:"PermisjonFaktaPanel.Bekreft"})})]})]})},FP={"PermisjonFaktaPanel.Overskrift":"Fakta om permisjon","PermisjonFaktaPanel.Arbeidsforhold":"Arbeidsforhold","PermisjonFaktaPanel.Skjaringstidspunkt":"Skjæringstidspunkt for opptjening: {skjæringspunktDato}","PermisjonFaktaPanel.Bekreft":"Bekreft og fortsett","PermisjonFaktaPanel.PermisjonUtenSluttdato":"Vi fant en permisjon uten sluttdato. Vurder om arbeidsforholdet skal tas med.","PermisjonFaktaPanel.Begrunn":"Begrunn valget","ArbeidsforholdFieldArray.Periode":"Periode","ArbeidsforholdFieldArray.Kilde":"Kilde","ArbeidsforholdFieldArray.InntektsmeldingMottatt":"Inntektsmelding","ArbeidsforholdFieldArray.Saksbehandler":"Saksbehandler","ArbeidsforholdFieldArray.AaRegisteret":"A-inntekt","ArbeidsforholdFieldArray.Inntektsmelding":"Inntektsmelding","ArbeidsforholdFieldArray.Aksjonspunkt":"Åpent aksjonspunkt","ArbeidsforholdFieldArray.Ok":"Arbeidsforhold er OK","ArbeidsforholdFieldArray.HjelpetekstDel1":"Søker er registrert med permisjon eller permittering uten sluttdato fra arbeidsforholdet sitt i AA-reg. Vurder om dette arbeidsforholdet skal være med i beregningen. Dersom det fjernes vil det bli borte fra beregningen og eventuell mottatt inntektsmelding vil ikke brukes. Tas det med, vil det brukes i beregningen og bli med videre i behandlingen.","ArbeidsforholdFieldArray.HjelpetekstDel2":"Dersom arbeidsforholdet tas med og det trengs inntektsmelding, må dette innhentes.","ArbeidsforholdFieldArray.HjelpetekstDel3":"Permisjoner eller permitteringer med en sluttdato tas automatisk med. Du trenger ikke etterspørre inntektsmeldinger.","ArbeidsforholdFieldArray.HjelpetekstDel4":"Mottas det inntektsmelding med refusjonskrav vil denne brukes i behandlingen.","ArbeidsforholdFieldArray.Id":"ID","ArbeidsforholdFieldArray.Stillingsprosent":"Stillingsprosent","ArbeidsforholdFieldArray.SkalArbeidsforholdetTasMed":"Skal arbeidsforholdet tas med?","ArbeidsforholdFieldArray.TaMedArbeidsforhold":"Fjern permisjonen og ta med arbeidsforholdet","ArbeidsforholdFieldArray.TaMedArbeidsforholdIkkeInntektsmelding":"Fjern permisjonen og ta med arbeidsforholdet. Vurder om inntektsmelding må innhentes","ArbeidsforholdFieldArray.IkkeTaMedArbeidsforhold":"Ikke ta med arbeidsforholdet","ArbeidsforholdFieldArray.IkkeMottatt":"Ikke mottatt","ArbeidsforholdFieldArray.AltHjelpetekst":"Hjelpetekst","InntektsmeldingOpplysningerPanel.Inntektsmelding":"Inntektsmelding","InntektsmeldingOpplysningerPanel.Refusjon":"Refusjon","InntektsmeldingOpplysningerPanel.Ja":"Ja","InntektsmeldingOpplysningerPanel.Nei":"Nei","InntektsmeldingOpplysningerPanel.Refusjonsbeløp":"Refusjonsbeløp","InntektsmeldingOpplysningerPanel.Kontaktinfo":"Kontaktinfo","InntektsmeldingOpplysningerPanel.Tlf":"Tlf. {nr}","InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding":"Åpne inntektsmelding (PDF)","InntektsposterPanel.Inntekter":"Inntekter (fra A-inntekt)","InntektsposterPanel.1":"Jan","InntektsposterPanel.2":"Feb","InntektsposterPanel.3":"Mars","InntektsposterPanel.4":"Apr","InntektsposterPanel.5":"Mai","InntektsposterPanel.6":"Jun","InntektsposterPanel.7":"Jul","InntektsposterPanel.8":"Aug","InntektsposterPanel.9":"Sep","InntektsposterPanel.10":"Okt","InntektsposterPanel.11":"Nov","InntektsposterPanel.12":"Des","InntektsposterPanel.TidligereManeder":"Tidligere måneder ","InntektsposterPanel.FaerreManeder":"Siste måneder ","InntektsposterPanel.IngenInntekt":"Ingen inntekt registrert på bruker i A-inntekt"},$P=Me(FP),Ju=({saksnummer:e,submitCallback:n,aksjonspunkter:r,readOnly:t,formData:i,setFormData:s,arbeidOgInntekt:l,arbeidsgiverOpplysningerPerId:o,alleKodeverk:d})=>E.jsx(Ze,{value:$P,children:E.jsx(BP,{saksnummer:e,aksjonspunkter:r,readOnly:t,formData:i,lagreCallback:n,setFormData:s,arbeidOgInntekt:l,arbeidsgiverOpplysningerPerId:o,alleKodeverk:d})});Ju.__docgenInfo={description:"",methods:[],displayName:"pt"};const Oo=[ae.VURDER_ARBEIDSFORHOLD_PERMISJON],DP=[Ce.ARBEID_OG_INNTEKT],Bo=({saksnummer:e,arbeidsgiverOpplysningerPerId:n,...r})=>Pe.jsx(Pr,{...r,panelEndepunkter:DP,aksjonspunktKoder:Oo,faktaPanelKode:Nr.PERMISJON,faktaPanelMenyTekst:Q().formatMessage({id:"PermisjonFaktaInitPanel.Title"}),skalPanelVisesIMeny:()=>!!r.behandling.aksjonspunkt.some(t=>t.definisjon===Oo[0]),renderPanel:t=>Pe.jsx(Ju,{saksnummer:e,arbeidsgiverOpplysningerPerId:n,...t})});try{Bo.displayName="PermisjonFaktaInitPanel",Bo.__docgenInfo={description:"",displayName:"PermisjonFaktaInitPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}var qu={exports:{}},Wr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fo;function VP(){if(Fo)return Wr;Fo=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(o,d,u){var g,p={},v=null,h=null;u!==void 0&&(v=""+u),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(h=d.ref);for(g in d)t.call(d,g)&&!s.hasOwnProperty(g)&&(p[g]=d[g]);if(o&&o.defaultProps)for(g in d=o.defaultProps,d)p[g]===void 0&&(p[g]=d[g]);return{$$typeof:n,type:o,key:v,ref:h,props:p,_owner:i.current}}return Wr.Fragment=r,Wr.jsx=l,Wr.jsxs=l,Wr}qu.exports=VP();var J=qu.exports;const Rn={BEKREFTET_GODKJENT:"BEKREFTET_GODKJENT",BEKREFTET_AVVIST:"BEKREFTET_AVVIST",ANTATT_GODKJENT:"ANTATT_GODKJENT",ANTATT_AVVIST:"ANTATT_AVVIST"},GP="_godkjentImage_1bp9b_1",LP="_avslattImage_1bp9b_7",MP="_margin_1bp9b_13",KP="_fix_1bp9b_17",Zr={godkjentImage:GP,avslattImage:LP,margin:MP,fix:KP},wP="MELLOMLIGGENDE_PERIODE",UP=e=>e===Rn.BEKREFTET_AVVIST||e===Rn.ANTATT_AVVIST?"OpptjeningVilkarView.Avslatt":"OpptjeningVilkarView.Godkjent",$o=e=>e===Rn.BEKREFTET_GODKJENT||e===Rn.ANTATT_GODKJENT||e===wP,CP=({fastsattOpptjeningAktivitet:e,lukkPeriode:n,velgNestePeriode:r,velgForrigePeriode:t})=>{const i=Q();return J.jsxs(na,{border:!0,children:[J.jsx(pe,{children:J.jsxs(O,{spaceBetween:!0,children:[J.jsx(j,{children:J.jsx(D,{size:"small",children:J.jsx(m,{id:"OpptjeningVilkarView.DetailsForSelectedPeriod"})})}),J.jsxs(j,{className:Zr.fix,children:[J.jsx(ie,{className:Zr.margin,size:"xsmall",icon:J.jsx(Ei,{"aria-hidden":!0}),onClick:t,variant:"secondary-neutral",type:"button",title:i.formatMessage({id:"TimeLineData.prevPeriod"}),children:J.jsx(m,{id:"TimeLineData.prevPeriodShort"})}),J.jsx(ie,{className:Zr.margin,size:"xsmall",icon:J.jsx(_i,{"aria-hidden":!0}),onClick:r,variant:"secondary-neutral",type:"button",title:i.formatMessage({id:"TimeLineData.nextPeriod"}),iconPosition:"right",children:J.jsx(m,{id:"TimeLineData.nextPeriodShort"})}),J.jsx(ie,{size:"xsmall",icon:J.jsx(Hn,{"aria-hidden":!0}),onClick:n,variant:"tertiary-neutral",type:"button",title:i.formatMessage({id:"TimeLineData.lukkPeriode"})})]})]})}),J.jsx(A,{sixteenPx:!0}),J.jsx(I,{size:"small",children:J.jsx(ze,{dateStringFom:e.fom,dateStringTom:e.tom})}),J.jsx(A,{sixteenPx:!0}),J.jsxs(ke,{children:[$o(e.klasse)&&J.jsx(Zs,{className:Zr.godkjentImage}),!$o(e.klasse)&&J.jsx(Hn,{className:Zr.avslattImage}),J.jsx(m,{id:UP(e.klasse)})]})]})},zP={danger:J.jsx(Ad,{}),success:J.jsx(qs,{}),info:J.jsx(Mm,{})},YP=e=>e===Rn.BEKREFTET_AVVIST||e===Rn.ANTATT_AVVIST?"danger":e===Rn.BEKREFTET_GODKJENT||e===Rn.ANTATT_GODKJENT?"success":"info",HP=e=>e.map(n=>({start:T(n.fom).toDate(),end:T(n.tom).toDate(),status:YP(n.klasse),opptjeningsperiode:n})),JP=e=>e==="info"?"OpptjeningTimeLineLight.MellomliggendePeriode":e==="success"?"OpptjeningTimeLineLight.Godkjent":"OpptjeningTimeLineLight.Avslatt",qP=({opptjeningPeriods:e,opptjeningFomDate:n,opptjeningTomDate:r})=>{const t=Q(),i=b.useMemo(()=>[...e].sort((v,h)=>T(v.fom).diff(T(h.fom))),[e]),s=b.useMemo(()=>HP(i),[i]),[l,o]=b.useState(),d=v=>{const h=s.find(x=>{var _;return((_=x.opptjeningsperiode)==null?void 0:_.fom)===v});h&&o(h)},u=b.useCallback(()=>{o(void 0)},[]),g=b.useCallback(()=>{if(s){const v=s.findIndex(h=>{var x,_;return((x=h.opptjeningsperiode)==null?void 0:x.fom)===((_=l==null?void 0:l.opptjeningsperiode)==null?void 0:_.fom)})+1;v<s.length&&o(s[v])}},[s,l,o]),p=b.useCallback(()=>{if(s){const v=s.findIndex(h=>{var x,_;return((x=h.opptjeningsperiode)==null?void 0:x.fom)===((_=l==null?void 0:l.opptjeningsperiode)==null?void 0:_.fom)})-1;v>=0&&o(s[v])}},[s,l,o]);return J.jsxs(J.Fragment,{children:[J.jsx(A,{twentyPx:!0}),J.jsxs(Ve,{startDate:T(n).subtract(1,"months").toDate(),endDate:T(r).add(10,"days").toDate(),children:[J.jsxs(Ve.Pin,{date:T(n).toDate(),children:[J.jsx(D,{size:"small",children:J.jsx(m,{id:"OpptjeningTimeLineLight.StartDato"})}),J.jsx(I,{size:"small",children:J.jsx(Re,{dateString:n})})]}),J.jsxs(Ve.Pin,{date:T(r).toDate(),children:[J.jsx(D,{size:"small",children:J.jsx(m,{id:"OpptjeningTimeLineLight.SluttDato"})}),J.jsx(I,{size:"small",children:J.jsx(Re,{dateString:r})})]}),J.jsx(Ve.Row,{label:"",children:s.map(v=>{var h,x,_;return J.jsx(Ve.Period,{start:v.start,end:v.end,status:v.status,onSelectPeriod:()=>{var N;return d((N=v.opptjeningsperiode)==null?void 0:N.fom)},isActive:((h=l==null?void 0:l.opptjeningsperiode)==null?void 0:h.fom)===((x=v.opptjeningsperiode)==null?void 0:x.fom),icon:zP[v.status],title:t.formatMessage({id:JP(v.status)})},(_=v.opptjeningsperiode)==null?void 0:_.fom)})})]}),J.jsx(A,{sixteenPx:!0}),(l==null?void 0:l.opptjeningsperiode)&&J.jsx(CP,{fastsattOpptjeningAktivitet:l.opptjeningsperiode,lukkPeriode:u,velgNestePeriode:g,velgForrigePeriode:p})]})},Wu=({months:e,days:n,fastsattOpptjeningActivities:r=[],opptjeningFomDate:t,opptjeningTomDate:i})=>J.jsxs(J.Fragment,{children:[J.jsx(I,{size:"small",children:J.jsx(m,{id:"OpptjeningVilkarView.MonthsAndDays",values:{months:e,days:n}})}),J.jsx(A,{eightPx:!0}),J.jsx(I,{size:"small",children:J.jsx(ze,{dateStringFom:t,dateStringTom:i})}),J.jsx(A,{sixteenPx:!0}),r.length>0&&J.jsx(qP,{opptjeningPeriods:r,opptjeningFomDate:t,opptjeningTomDate:i})]}),WP=(e,n,r)=>({...aa.buildInitialValues(e,n,r),...Rr.buildInitialValues(e)}),ZP=e=>({...aa.transformValues(e),...Rr.transformValues(e),kode:ae.VURDER_OPPTJENINGSVILKARET}),XP=({isApOpen:e,readOnlySubmitButton:n,readOnly:r,lovReferanse:t,aksjonspunkter:i,behandlingsresultat:s,status:l,fastsattOpptjening:o,submitCallback:d,erIkkeGodkjentAvBeslutter:u,formData:g,setFormData:p,erSvpFagsak:v})=>{const h=Q(),x=b.useMemo(()=>WP(i,l,s),[s,i,l]),_=He({defaultValues:g||x}),N=i.some(V=>V.status===Jn.OPPRETTET)?void 0:Id.OPPFYLT===l,y=b.useCallback(V=>d(ZP(V)),[d]),B=b.useCallback((...V)=>J.jsx("b",{children:V}),[]),S=b.useCallback(V=>{var G;return((G=o.fastsattOpptjeningAktivitetList)==null?void 0:G.length)===0&&V===!0?h.formatMessage({id:"OpptjeningVilkarAksjonspunktPanel.KanIkkeVelgeOppfylt"}):null},[]),$=b.useCallback(()=>J.jsxs(J.Fragment,{children:[J.jsx(A,{sixteenPx:!0}),J.jsx(Wu,{months:o.opptjeningperiode.måneder,days:o.opptjeningperiode.dager,fastsattOpptjeningActivities:o.fastsattOpptjeningAktivitetList,opptjeningFomDate:o.opptjeningFom,opptjeningTomDate:o.opptjeningTom})]}),[o]);return J.jsx(Je,{formMethods:_,onSubmit:y,setDataOnUnmount:p,children:J.jsxs(Rm,{title:h.formatMessage({id:"OpptjeningVilkarAksjonspunktPanel.Opptjeningsvilkaret"}),isAksjonspunktOpen:e,readOnlySubmitButton:n,readOnly:r,lovReferanse:t,originalErVilkarOk:N,erIkkeGodkjentAvBeslutter:u,isDirty:_.formState.isDirty,isSubmitting:_.formState.isSubmitting,rendreFakta:$,children:[J.jsx(D,{size:"small",children:J.jsx(m,{id:v?"OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilSvangerskapspenger":"OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilForeldrepenger"})}),J.jsx(aa,{readOnly:r,customVilkarOppfyltText:J.jsx(m,{id:v?"OpptjeningVilkarAksjonspunktPanel.ErOppfyltSvp":"OpptjeningVilkarAksjonspunktPanel.ErOppfylt"}),customVilkarIkkeOppfyltText:J.jsx(m,{id:v?"OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfyltSvp":"OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfylt",values:{b:B}}),validatorsForRadioOptions:[S]}),J.jsx(A,{sixteenPx:!0}),J.jsx(Rr,{readOnly:r})]})})},QP=({behandlingsresultat:e,fastsattOpptjening:n,isAksjonspunktOpen:r,aksjonspunkter:t,status:i,lovReferanse:s,readOnlySubmitButton:l,readOnly:o,submitCallback:d,erIkkeGodkjentAvBeslutter:u,formData:g,setFormData:p,erSvpFagsak:v})=>t.length>0?J.jsx(XP,{submitCallback:d,isApOpen:r,readOnly:o,readOnlySubmitButton:l,behandlingsresultat:e,aksjonspunkter:t,status:i,lovReferanse:s,fastsattOpptjening:n,erIkkeGodkjentAvBeslutter:u,formData:g,setFormData:p,erSvpFagsak:v}):J.jsx(Wu,{months:n.opptjeningperiode.måneder,days:n.opptjeningperiode.dager,fastsattOpptjeningActivities:n.fastsattOpptjeningAktivitetList,opptjeningFomDate:n.opptjeningFom,opptjeningTomDate:n.opptjeningTom}),eR={"OpptjeningVilkarView.Oppfylt":"Vilkåret er oppfylt","OpptjeningVilkarView.Godkjent":"Godkjent","OpptjeningVilkarView.Avslatt":"Avslått","OpptjeningVilkarView.Months":"måneder","OpptjeningVilkarView.Weeks":"uker","OpptjeningVilkarView.Days":"dager","OpptjeningVilkarView.MonthsAndDays":"{months} måneder og {days} dager aktivitet i opptjeningsperioden","OpptjeningVilkarView.DetailsForSelectedPeriod":"Detaljer for valgt periode","OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilForeldrepenger":"Opptjent rett til foreldrepenger","OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilSvangerskapspenger":"Opptjent rett til svangerskapspenger","OpptjeningVilkarAksjonspunktPanel.ErOppfylt":"Søker har oppfylt krav om 6 mnd opptjening, vilkåret er oppfylt.","OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfylt":"Søker har ikke oppfylt krav om 6 mnd opptjening, vilkåret er <b>ikke</b> oppfylt.","OpptjeningVilkarAksjonspunktPanel.ErOppfyltSvp":"Søker har oppfylt krav om 4 uker opptjening, vilkåret er oppfylt.","OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfyltSvp":"Søker har ikke oppfylt krav om 4 uker mnd opptjening, vilkåret er <b>ikke</b> oppfylt.","OpptjeningVilkarAksjonspunktPanel.Opptjeningsvilkaret":"Opptjening","OpptjeningVilkarAksjonspunktPanel.KanIkkeVelgeOppfylt":"Du kan ikke velge at opptjeningsvilkåret er oppfylt, fordi det ikke finnes noen aktiviteter å beregne inntekten fra. Kontakt bruker for å avklare om bruker har noen opptjening.","OpptjeningTimeLineLight.StartDato":"Start opptjeningsperiode","OpptjeningTimeLineLight.SluttDato":"Slutt opptjeningsperiode","OpptjeningTimeLineLight.MellomliggendePeriode":"Mellomliggende periode","OpptjeningTimeLineLight.Godkjent":"Godkjent","OpptjeningTimeLineLight.Avslatt":"Avslått","TimeLineNavigation.openData":"Åpne info om første periode","TimeLineData.nextPeriod":"Neste periode","TimeLineData.prevPeriod":"Forrige periode","Timeline.openData":"Åpne info om første periode","TimeLineData.lukkPeriode":"Lukk periode","TimeLineData.nextPeriodShort":"Neste","TimeLineData.prevPeriodShort":"Forrige","ShowVilkarStatus.Check":"Informasjonen er utfylt"},nR=Me(eR),rR=({behandling:e,opptjening:n,aksjonspunkter:r,status:t,lovReferanse:i,submitCallback:s,isReadOnly:l,isAksjonspunktOpen:o,readOnlySubmitButton:d,alleMerknaderFraBeslutter:u,formData:g,setFormData:p,erSvpFagsak:v=!1})=>J.jsx(Ze,{value:nR,children:J.jsx(QP,{behandlingsresultat:e.behandlingsresultat,fastsattOpptjening:n.fastsattOpptjening,status:t,lovReferanse:i,aksjonspunkter:r,submitCallback:s,readOnly:l,isAksjonspunktOpen:o,readOnlySubmitButton:d,erIkkeGodkjentAvBeslutter:r.some(h=>{var x;return(x=u[h.definisjon])==null?void 0:x.notAccepted}),formData:g,setFormData:p,erSvpFagsak:v})});rR.__docgenInfo={description:"",methods:[],displayName:"yt",props:{erSvpFagsak:{defaultValue:{value:"!1",computed:!1},required:!1}}};const Do=ae.OVERSTYR_LØPENDE_MEDLEMSKAPSVILKAR,ps=[Wn.MEDLEMSKAPSVILKÅRET_LØPENDE],Vo=({rettigheter:e,...n})=>{const{behandling:r}=n,[t,i]=b.useState(!1),s=b.useCallback(()=>i(!t),[t]);return b.useEffect(()=>{i(!1)},[r.versjon]),Pe.jsx(la,{...n,aksjonspunktKoder:[Do],vilkarKoder:ps,prosessPanelKode:Ws.FORTSATTMEDLEMSKAP,prosessPanelMenyTekst:Q().formatMessage({id:"Behandlingspunkt.FortsattMedlemskap"}),skalPanelVisesIMeny:l=>Nd(l.aksjonspunkter,ps,l.vilkar),erOverstyrt:t,renderPanel:l=>Pe.jsx(hm,{aksjonspunkter:l==null?void 0:l.aksjonspunkter,aksjonspunktKode:Do,vilkar:l.vilkar,vilkarKoder:ps,panelTekstKode:"Behandlingspunkt.FortsattMedlemskap",erMedlemskapsPanel:!1,toggleOverstyring:s,erOverstyrt:t,overrideReadOnly:l.isReadOnly,kanOverstyreAccess:e.kanOverstyreAccess})})};try{Vo.displayName="FortsattMedlemskapProsessStegInitPanel",Vo.__docgenInfo={description:"",displayName:"FortsattMedlemskapProsessStegInitPanel",props:{rettigheter:{defaultValue:null,description:"",name:"rettigheter",required:!0,type:{name:"AksessRettigheter"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}var de=(e=>(e.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS="FASTSETT_BG_AT_FL",e.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE="VURDER_VARIG_ENDRT_NYOPPSTR_NAERNG_SN",e.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON="VURDER_VARIG_ENDRT_ARB_SITSJN_MDL_INAKTV",e.FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE="FASTSETT_BG_SN",e.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD="FASTSETT_BG_TB_ARB",e.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET="FASTSETT_BG_SN_NY_I_ARB_LIVT",e.VURDER_GRADERING_UTEN_BEREGNINGSGRUNNLAG="VURDER_GRADERING_UTEN_BG",e))(de||{}),tR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xu={exports:{}},Xr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go;function iR(){if(Go)return Xr;Go=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(o,d,u){var g,p={},v=null,h=null;u!==void 0&&(v=""+u),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(h=d.ref);for(g in d)t.call(d,g)&&!s.hasOwnProperty(g)&&(p[g]=d[g]);if(o&&o.defaultProps)for(g in d=o.defaultProps,d)p[g]===void 0&&(p[g]=d[g]);return{$$typeof:n,type:o,key:v,ref:h,props:p,_owner:i.current}}return Xr.Fragment=r,Xr.jsx=l,Xr.jsxs=l,Xr}Xu.exports=iR();var a=Xu.exports,Qu={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var t=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var l=typeof s;if(l==="string"||l==="number")t.push(this&&this[s]||s);else if(Array.isArray(s))t.push(r.apply(this,s));else if(l==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){t.push(s.toString());continue}for(var o in s)n.call(s,o)&&s[o]&&t.push(this&&this[o]||o)}}}return t.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Qu);var sR=Qu.exports;const aR=Zu(sR),lR="_contentContainer_1rz2h_1",oR="_sideMenuContainer_1rz2h_4",dR="_mainContainer--withSideMenu_1rz2h_7",gR="_advarselIkon_1rz2h_11",ti={contentContainer:lR,sideMenuContainer:oR,"mainContainer--withSideMenu":"_mainContainer--withSideMenu_1rz2h_7",mainContainerWithSideMenu:dR,advarselIkon:gR},ek={"Beregningsgrunnlag.Title.Beregning":"Grunnlag for beregning","Beregningsgrunnlag.Title.Fastsettelse":"Fastsettelse","Beregningsgrunnlag.Title":"Beregning","Beregningsgrunnlag.Avslagsårsak.IkkeTilstrekkeligInntektsgrunnlag":"Ikke tilstrekkelig inntektsgrunnlag","Beregningsgrunnlag.HarIkkeBeregningsregler":"Har ikke beregningsregler (trer i kraft 1 jan. 2019). Sak overført til Infotrygd.","Beregningsgrunnlag.Helptext.Arbeidstaker":"Det er mer enn 25% avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget","Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.Nyoppstartet":"Søker har nyoppstartet næring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt","Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.VarigEndring":"Søker har oppgitt varig endring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.Helptext.VarigEndretArbeidssituasjon":"Varig endret arbeidssituasjon.","Beregningsgrunnlag.Helptext.TidsbegrensetArbeidsforhold":"Det er mer enn 25 % avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget, og det er tidsbegrenset arbeidsforhold","Beregningsgrunnlag.Helptext.NyIArbeidslivetSN":"Søker er ny i arbeidslivet","Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt":"Beregnet årsinntekt","Beregningsgrunnlag.Avviksopplysninger.ATFL.Tittel":"Avviksberegning for arbeidstaker og frilans","Beregningsgrunnlag.Avviksopplysninger.SN.Tittel":"Avviksberegning for næring","Beregningsgrunnlag.Avviksopplysninger.MIDL.Tittel":"Avviksberegning for midlertidig inaktiv","Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt.Naring":"Pensjonsgivende inntekt","Beregningsgrunnlag.Avviksopplysninger.RapportertAarsinntekt":"Sammenligningsgrunnlag","Beregningsgrunnlag.Avviksopplysninger.SamletInntekt":"Samlet inntekt","Beregningsgrunnlag.Avviksopplysninger.BeregnetAvvik":"Beregnet avvik ","Beregningsgrunnlag.Avviksopplysninger.SN.NyIArbeidslivet":"Søker er ny i arbeidslivet. Det foretas derfor ingen avviksvurdering.","Beregningsgrunnlag.Avviksopplysninger.AT.KobinasjonsStatusATFLSN":"Det regnes ikke avvik på arbeids- og frilansinntekt for kombinasjonen arbeid, frilans og selvstendig næringsdrivende i beregningsgrunnlag der skjæringstidspunkt er før 01.01.2023","Beregningsgrunnlag.Avviksopplysninger.AAP":"Det foretas ikke avviksvurdering på AAP","Beregningsgrunnlag.Avviksopplysninger.Dagpenger":"Det foretas ikke avviksvurdering på Dagpenger","Beregningsgrunnlag.Avviksopplysninger.Besteberegning":"Det foretas ingen avviksvurdering når søker har besteberegning på dagpenger","Beregningsgrunnlag.Avviksopplysninger.Miletar":"Det regnes ikke avvik ved militær- eller siviltjeneste.","Beregningsgrunnlag.Avviksopplysninger.AvvikProsent":"{avvik}%","Beregningsgrunnlag.Skjeringstidspunkt.SkjeringForBeregning":"Skjæringstidspunkt for beregning","Beregningsgrunnlag.Skjeringstidspunkt.LonnsendringSisteTreMan":"Søker har hatt lønnsendring i løpet av de siste tre månedene","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.manueltBehandlet":"Bruker har hatt lønnsendring {datoer}. Inntekt er fastsatt manuelt.","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.delvisMåned":"Bruker har hatt lønnsendring {datoer}. Dette betyr at rapportert inntekt for {måned} er en kombinasjon av ny og gammel inntekt. Ny inntekt er beregnet ved først å finne gammel inntekt fra rapportert inntekt i {forrigeMåned} og deretter regne oss fram til ny inntekt ved å bruke forholdet mellom dagene før og etter lønnsendringen.","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullEnMåned":"Bruker har hatt lønnsendring {datoer}. Ny inntekt er beregnet ved å bruke rapportert inntekt i {nesteMåned}.","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullToMåned":"Bruker har hatt lønnsendring {datoer}. Ny inntekt er beregnet ved å bruke snittet av rapportert inntekt i {nesteMåned} og {sisteMåned}.","Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt":"Arbeidsinntekt","Beregningsgrunnlag.AarsinntektPanel.Pensjonsgivendeinntekt":"Pensjonsgivende inntekt","Beregningsgrunnlag.AarsinntektPanel.SN.TreSisteÅr":"3 siste år fra skatt","Beregningsgrunnlag.AarsinntektPanel.SN.ATFL":"Arbeid/frilans","Beregningsgrunnlag.AarsinntektPanel.SN.Næring":"Næring","Beregningsgrunnlag.AarsinntektPanel.SN.Sum":"Sum","Beregningsgrunnlag.AarsinntektPanel.SN.Gjustert":"G-justert","Beregningsgrunnlag.AarsinntektPanel.SN.sisteTreAar":"3 siste ferdigliknede år fra skatteetaten","Beregningsgrunnlag.AarsinntektPanel.SN.GsnittSum":"Gjennomsnittlig pensjonsgivende inntekt","Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar":"Beregnet År","Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned":"Måned","Beregningsgrunnlag.AarsinntektPanel.Frilansinntekt":"Frilansinntekt","Beregningsgrunnlag.AarsinntektPanel.FrilansStartDato2":"Søker har vært frilans fra ","Beregningsgrunnlag.AarsinntektPanel.InnrapportertFrilans":"Innrapportert i a-ordningen siste 3 mnd","Beregningsgrunnlag.AarsinntektPanel.Militær":"Militær- eller sivilforsvarstjeneste","Beregningsgrunnlag.AarsinntektPanel.Pensjonsgivende":"Pensjonsgivende inntekt","Beregningsgrunnlag.AarsinntektPanel.TotaltArbeidsinntekt":"Totalt","Beregningsgrunnlag.AarsinntektPanel.TotalPensjonsGivende":"Total","Beregningsgrunnlag.AarsinntektPanel.Tidsbegrenset":"Tidsbegrenset","Beregningsgrunnlag.AarsinntektPanel.SnittPensjonsGivende":"Gjennomsnittlig pensjonsgivende inntekt","Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringNyoppstartet":"Vurder om det er varig endring i næringen og/eller arbeidssituasjonen, som gjør at inntekten skal fastsettes skjønnsmessig","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndring":"Søker har opplyst varig endring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerNyoppstartet":"Søker har nyoppstartet næring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.AksjonspunktBehandler.TittelATAvvik":"Fastsett årsinntekt skjønnsmessig for arbeidstaker","Beregningsgrunnlag.AksjonspunktBehandler.TittelFLAvvik":"Fastsett årsinntekt skjønnsmessig for frilans","Beregningsgrunnlag.AksjonspunktBehandler.TittelATFLAvvik":"Fastsett årsinntekt skjønnsmessig for arbeidstaker og frilans","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFL":"Det er mer enn 25% avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget.","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFLTidsbegrenset":"Det er mer enn 25 % avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget, og det er tidsbegrenset arbeidsforhold.","Beregningsgrunnlag.AksjonspunktBehandler.TittelSNNyIArb":"Søker er ny i arbeidslivet, gjør en skjønnsmessig vurdering av næringsinntekten","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerSNNyIArb":"Søker har oppgitt å være ny i arbeidslivet (blitt yrkesaktiv siste tre år).","Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringArbeid":"Vurder om det er varig endring i arbeidssituasjonen, som gjør at inntekten skal fastsettes skjønnsmessig","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndringArbeid":"Det er er mer enn 25 % avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringNæring":"Har søker hatt varig endret næring og/eller arbeidssituasjon? ","Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringArbeid":"Har søker hatt varig endret arbeidssituasjon? ","Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelNyoppstartetNæring":"Har søker nyoppstartet næring? ","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandler":"Skjønnsmessig fastsettelse av årsinntekt ved avvik","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerTB.SumPeriode":"Total årsintekt pr periode","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandler.OmberegnetAar":"Beregnet År","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerFL":"Frilansinntekt fastsettes til","Beregningsgrunnlag.AarsinntektPanel.Naturalytelse2":"Naturalytelser","Beregningsgrunnlag.NaeringsOpplysningsPanel.Overskrift":"Opplysninger om næring fra søknad","Beregningsgrunnlag.NaeringsOpplysningsPanel.OppgittAar":"Oppgitt år","Beregningsgrunnlag.NaeringsOpplysningsPanel.VarigEndret":"Søker har oppgitt varig endring fra <b>{dato}</b>","Beregningsgrunnlag.NaeringsOpplysningsPanel.Nyoppstaret":"Søker har oppgitt nyoppstartet fra <b>{dato}</b>","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.JORDBRUK_SKOGBRUK":"Jordbruk / Skogbruk","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.DAGMAMMA":"Dagmamma i eget hjem / familiebarnehage","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FISKE":"Fiske","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FRILANSER":"Frilanser","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.ANNEN":"Annen næringsvirksomhet","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.UDEFINERT":"Ikke definert","Beregningsgrunnlag.Forms.Vurdering":"Vurdering","Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag":"Vurdering av fastsatt beregningsgrunnlag","Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst":"Forklar hvordan du har kommet frem til beregningsgrunnlaget og hvilke vurderinger du har gjort. Beskriv hvorfor det er avvik og hvilken inntekt som kan legges til grunn. Dette skal gjøres i henhold til lovhjemmel.","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IngenEndring":"Ingen varig endring eller nyoppstartet næring","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.EndretNaering":"Varig endring eller nyoppstartet næring","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeNyoppstartet":"Næringsvirksomhet er ikke nyoppstartet","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeVarigEndring":"Ingen varig endring","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndring":"Varig endring - årsinntekt må fastsettes.","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.Nyoppstartet":"Nyoppstartet næring - Årsinntekt må fastsettes.","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.BruttoBerGr2":"Næringsinntekt fastsettes til","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndretInntektFastsettesTil":"Varig endret årsinntekt fastsettes til","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.SumTittel":"Rapportert årsinntekt","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Tittel":"Sammenligningsgrunnlag fra a-ordningen","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ingress":"Inntekt og ytelser etter kap 8, 9 og 14 de 12 siste månedene","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Arbeid":"Arbeid","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Frilans":"Frilans","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ytelse":"Ytelse","Beregningsgrunnlag.TilstottendeYtelse.Tittel":"Tilstøtende ytelse","Beregningsgrunnlag.TilstottendeYtelse.TittelNav":"Ytelser fra NAV","Beregningsgrunnlag.TilstottendeYtelse.Dagpenger":"Dagpenger","Beregningsgrunnlag.TilstottendeYtelse.SykepengerAvDagpenger":"Sykepenger basert på dagpenger","Beregningsgrunnlag.TilstottendeYtelse.PleiepengerAvDagpenger":"Pleiepenger basert på dagpenger","Beregningsgrunnlag.TilstottendeYtelse.AAP":"Arbeidsavklaringspenger","Beregningsgrunnlag.TilstottendeYtelse.Besteberegning":"Satt ut fra besteberegning","Beregningsgrunnlag.YtelserFraInfotrygd.Ytelse2":"Ytelse fra NAV","Beregningsgrunnlag.YtelserFraInfotrygd.YtelseNavn":"Ytelse","Beregningsgrunnlag.BeregningTable.Periode":"Periode {fom} - {tom}","Beregningsgrunnlag.BeregningTable.Tittel":"Beregning av dagsats","Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfylt2":"Beløpet er under 1/2 G (G = {grunnbeløp}) - søker har ikke rett til ytelse","Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfyltMidlertidigInaktiv":"Beløpet er under 1 G (G = {grunnbeløp}) - søker har ikke rett til ytelse","Beregningsgrunnlag.Gradering.Beskrivelse":"Saksbehandler har tidligere vurdert om fordeling av inntekt er korrekt grunnet en andel uten utbetaling som skal graderes.","Besteberegning.ResultatGrunnlag.BruttoBeregningsgrunnlag":"Beregnet","Besteberegning.ResultatGrunnlag.BeregningEtterBesteberegning":"§14-7, 3. ledd","Besteberegning.ResultatGrunnlag.BrukerOmfattesAvBesteberegning":"Søker omfattes av §14-7, 3. ledd.","Besteberegning.ResultatGrunnlag.BeregningEtterKap8":"§14-7, 1. ledd","Besteberegning.ResultatGrunnlag.Kap1473GirBesteBeregning":"Beregning etter §14-7, 3. ledd gir beste beregning.","Besteberegning.ResultatGrunnlag.Kap1471GirBesteBeregning":"Beregning etter §14-7, 1. ledd gir beste beregning.","SubmitButton.ConfirmInformation":"Bekreft og fortsett","Malform.Beskrivelse":"Foretrukket språk","HelpText.Aksjonspunkt":"Aksjonspunkt","Behandling.EditedField":"Saksbehandler har endret feltets verdi","Beregningsgrunnlag.Beregningsresultat.Periode":"Periode {fom} - {tom}","Beregningsgrunnlag.Beregningsresultat.Arbeid":"Fastsatt årsinntekt arbeid","Beregningsgrunnlag.Beregningsresultat.Frilans":"Fastsatt årsinntekt frilans","Beregningsgrunnlag.Beregningsresultat.Næring":"Fastsatt årsinntekt næring","Beregningsgrunnlag.Beregningsresultat.Dagpenger":"Fastsatt årsinntekt dagpenger","Beregningsgrunnlag.Beregningsresultat.SykepengerAvDagpenger":"Fastsatt årsinntekt sykepenger av dagpenger","Beregningsgrunnlag.Beregningsresultat.PleiepengerAvDagpenger":"Fastsatt årsinntekt pleiepenger av dagpenger","Beregningsgrunnlag.Beregningsresultat.Arbeidsavklaringspenger":"Fastsatt årsinntekt arbeidsavklaringspenger","Beregningsgrunnlag.Beregningsresultat.Militær":"Fastsatt årsinntekt militær","Beregningsgrunnlag.Beregningsresultat.BrukersAndel":"Fastsatt årsinntekt brukers andel","Beregningsgrunnlag.Beregningsresultat.Ytelse":"Fastsatt årsinntekt ytelse","Beregningsgrunnlag.Beregningsresultat.IkkeBeregnet":"Ikke beregnet","Beregningsgrunnlag.Beregningsresultat.Naturalytelser":"Naturalytelser","Beregningsgrunnlag.Beregningsresultat.TotalÅrsinntekt":"Total årsinntekt","Beregningsgrunnlag.Beregningsresultat.Avkortet":"Årsinntekt redusert til 6G på skjæringstidspunktet","Beregningsgrunnlag.Beregningsresultat.Redusert":"Årsinntekt redusert til 80% dekningsgrad","Beregningsgrunnlag.Beregningsresultat.Dagsats":"Dagsats (årsinntekt/260 dager)","Beregningsgrunnlag.Søknad.Tittel":"Opplysninger fra søknad","Beregningsgrunnlag.Søknad.LøpendeFL":"Oppgitt frilansinntekt i søknadsperioden","Beregningsgrunnlag.Søknad.LøpendeSN":"Oppgitt næringsinntekt i søknadsperioden","Beregningsgrunnlag.Søknad.SøktYtelseSN":"Bruker har søkt inntektskompensasjon for næringsinntekt i perioden {fom} - {tom}","Beregningsgrunnlag.Frisinn.Resultat":"Grunnlag for dagsats","Beregningsgrunnlag.Frisinn.Inntektstak":"Inntektstak ({grenseverdi} - {annenInntekt})","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagFL":"Beregningsgrunnlag frilans","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagSN":"Beregningsgrunnlag næring","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertFL":"Redusert til {grad}% beregningsgrunnlag frilans","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertSN":"Redusert til {grad}% beregningsgrunnlag næring","Beregningsgrunnlag.Frisinn.Tittel":"FRISINN","Beregningsgrunnlag.Frisinn.InntektFL":"Frilansinntekt","Beregningsgrunnlag.Frisinn.InntektSN":"Næringsinntekt","Beregningsgrunnlag.Frisinn.InntektAT":"Arbeidstakerinntekt","Beregningsgrunnlag.Søknad.Inntektsopplysninger":"Opplysninger om inntekt","Beregningsgrunnlag.Resultat.Dagsats":"Dagsats","Beregningsgrunnlag.Frisinn.InntektstakOpplysninger":"Opplysninger om inntektstak","Beregningsgrunnlag.Frisinn.InntektstakOpplysningerPeriode":"Opplysninger om inntektstak i perioden {fom} - {tom}"},uR="_readOnlyBlokk_3qjl7_1",kR={readOnlyBlokk:uR},mR=({avklaringsbehov:e})=>!e||!e.begrunnelse?null:a.jsxs(a.Fragment,{children:[a.jsx(D,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Gradering.Beskrivelse"})}),a.jsx(A,{sixteenPx:!0}),a.jsxs(I,{size:"small",className:kR.readOnlyBlokk,children:[e.begrunnelse," ",a.jsx(Ni,{})]})]}),fR=e=>e.overstyrtPrAar||e.overstyrtPrAar===0?e.overstyrtPrAar:e.beregnetPrAar||e.beregnetPrAar===0?e.beregnetPrAar:0,pR=e=>e&&e.beregningsgrunnlagPrStatusOgAndel?e.beregningsgrunnlagPrStatusOgAndel.map(n=>fR(n)).reduce((n,r)=>n+r,0):0,cR=e=>e.flatMap(n=>n.inntekter).map(({inntekt:n})=>n).reduce((n,r)=>n+r,0)*2,Lo=(e,n)=>e>n,vR=[a.jsx("div",{},"TomKolNøkkel"),a.jsxs(D,{size:"small",children:[" ",a.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BeregningEtterKap8"})," "]},"Kap8Nøkkel"),a.jsxs(D,{size:"small",children:[" ",a.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BeregningEtterBesteberegning"})," "]},"BBNøkkel")],hR=({periode:e,besteMåneder:n})=>{if(!n||n.length<1)return null;const r=pR(e),t=cR(n);return a.jsxs("div",{children:[a.jsx(O,{children:a.jsx(j,{children:a.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BrukerOmfattesAvBesteberegning"})})}),a.jsx(A,{twentyPx:!0}),a.jsx(O,{children:a.jsx(j,{children:a.jsx(Qe,{headerColumnContent:vR,noHover:!0,children:a.jsxs(we,{children:[a.jsx(C,{children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BruttoBeregningsgrunnlag"})})}),a.jsx(C,{children:a.jsx(I,{size:"small",children:U(r)})}),a.jsx(C,{children:a.jsx(I,{size:"small",children:U(t)})})]})})})}),a.jsx(O,{children:a.jsx(j,{children:a.jsxs(I,{size:"small",children:[Lo(r,t)&&a.jsx(m,{id:"Besteberegning.ResultatGrunnlag.Kap1471GirBesteBeregning"}),!Lo(r,t)&&a.jsx(m,{id:"Besteberegning.ResultatGrunnlag.Kap1473GirBesteBeregning"})]})})})]})},bR="_avsnittOverskrift_3qwr0_1",jR="_venstreKolonne_3qwr0_5",xR="_hoyreKolonne_3qwr0_8",AR="_panelLeft_3qwr0_11",IR="_panelRight_3qwr0_21",TR="_storSpace_3qwr0_32",ER="_semiBoldText_3qwr0_35",_R="_næringEndringBeskrivelse_3qwr0_38",yR="_redError_3qwr0_41",SR="_tabellAktivitet_3qwr0_44",NR="_tabellInntekt_3qwr0_54",PR="_næringOpplysningNavn_3qwr0_66",RR="_næringOpplysningInntekt_3qwr0_69",OR="_næringOpplysningOrgnr_3qwr0_73",BR="_næringOpplysningDato_3qwr0_76",FR="_heldekkendeKol_3qwr0_79",$R="_tagMargin_3qwr0_85",DR="_colDivider_3qwr0_88",VR="_noPaddingRight_3qwr0_92",GR="_arbeidPanelSkille_3qwr0_95",L={avsnittOverskrift:bR,venstreKolonne:jR,hoyreKolonne:xR,panelLeft:AR,panelRight:IR,storSpace:TR,semiBoldText:ER,næringEndringBeskrivelse:"_næringEndringBeskrivelse_3qwr0_38",naeringEndringBeskrivelse:_R,redError:yR,tabellAktivitet:SR,tabellInntekt:NR,næringOpplysningNavn:"_næringOpplysningNavn_3qwr0_66",naeringOpplysningNavn:PR,næringOpplysningInntekt:"_næringOpplysningInntekt_3qwr0_69",naeringOpplysningInntekt:RR,næringOpplysningOrgnr:"_næringOpplysningOrgnr_3qwr0_73",naeringOpplysningOrgnr:OR,næringOpplysningDato:"_næringOpplysningDato_3qwr0_76",naeringOpplysningDato:BR,heldekkendeKol:FR,tagMargin:$R,colDivider:DR,noPaddingRight:VR,arbeidPanelSkille:GR};var nk={exports:{}};(function(e,n){(function(r,t){e.exports=t(T)})(tR,function(r){function t(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var i=t(r),s={name:"nb",weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),ordinal:function(l){return l+"."},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"}};return i.default.locale(s,null,!0),s})})(nk);var LR=nk.exports;const Ks=Zu(LR),Mo=e=>e?`...${e.substring(e.length-4,e.length)}`:"",Mi=(e,n)=>{const{navn:r,fødselsdato:t,erPrivatPerson:i,identifikator:s}=e;return i?t?`${r} (${T(t).format(te)})${Mo(n)}`:r:s?`${r} (${s})${Mo(n)}`:r},Ko=(e,n)=>{var r;return e.arbeidsforhold&&e.arbeidsforhold.arbeidsforholdType&&((r=n[ye.OPPTJENING_AKTIVITET_TYPE].find(t=>{var i;return t.kode===((i=e.arbeidsforhold)==null?void 0:i.arbeidsforholdType)}))==null?void 0:r.navn)||""},ws=(e,n,r)=>{if(e.arbeidsforhold&&e.arbeidsforhold.arbeidsgiverIdent){const t=n[e.arbeidsforhold.arbeidsgiverIdent];return t?Mi(t,e.arbeidsforhold.eksternArbeidsforholdId):Ko(e,r)}return Ko(e,r)},Qr=e=>T(e).locale(Ks).format("MMMM");function Yt(e,n,r){const t=e.filter(i=>i.lønnsendringscenario===n).map(i=>`i ${Mi(r[i.arbeidsforhold.arbeidsgiverIdent],void 0)}
      ${T(i.sisteLønnsendringsdato).format(te)}`);return t.reduce((i,s,l)=>l===0?s:l<t.length-2?`${i}, ${s}`:`${i} og ${s}`,"")}const MR=(e,n,r,t)=>{switch(e){case yn.MANUELT_BEHANDLET:return a.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.manueltBehandlet",values:{datoer:Yt(r,yn.MANUELT_BEHANDLET,t)}});case yn.DELVIS_MÅNEDSINNTEKT_SISTE_MND:return a.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.delvisMåned",values:{datoer:Yt(r,yn.DELVIS_MÅNEDSINNTEKT_SISTE_MND,t),måned:Qr(T(n).subtract(1,"month").format(Lr)),forrigeMåned:Qr(T(n).subtract(2,"month").format(Lr))}});case yn.FULL_MÅNEDSINNTEKT_EN_MND:return a.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullEnMåned",values:{datoer:Yt(r,yn.FULL_MÅNEDSINNTEKT_EN_MND,t),nesteMåned:Qr(T(n).subtract(1,"month").format(Lr))}});case yn.FULL_MÅNEDSINNTEKT_TO_MND:return a.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullToMåned",values:{datoer:Yt(r,yn.FULL_MÅNEDSINNTEKT_TO_MND,t),sisteMåned:Qr(T(n).subtract(1,"month").format(Lr)),nesteMåned:Qr(T(n).subtract(2,"month").format(Lr))}});default:return null}};function KR(e,n,r){return Yk(e.map(t=>t.lønnsendringscenario)).map(t=>a.jsxs(a.Fragment,{children:[MR(t,n,e,r),a.jsx("br",{}),a.jsx(A,{sixteenPx:!0})]}))}const wR=({skjeringstidspunktDato:e,saksopplysninger:n,arbeidsgiverOpplysningerPerId:r})=>{const t=[];return n&&n.lønnsendringSaksopplysning&&n.lønnsendringSaksopplysning.length>0&&t.push({textId:"Beregningsgrunnlag.Skjeringstidspunkt.LonnsendringSisteTreMan",readMoreContent:KR(n.lønnsendringSaksopplysning,e,r)}),a.jsx(cm,{saksopplysninger:t})},UR=e=>{switch(e){case F.SELVSTENDIG_NAERINGSDRIVENDE:return"alt2";case F.FRILANSER:return"alt1";case F.ARBEIDSTAKER:return"alt3";default:return"neutral"}},CR=(e,n)=>{const r=[];return e.filter((t,i,s)=>i===s.findIndex(l=>l===t)).forEach(t=>{var i;const s=((i=n[ye.AKTIVITET_STATUS].find(l=>l.kode===t))==null?void 0:i.navn)||"";r.push({visningsNavn:s,kode:t,tagType:UR(t)})}),r.sort((t,i)=>t.visningsNavn>i.visningsNavn?1:-1),a.jsx(O,{children:r.map(t=>a.jsx(j,{className:L.tagRad,children:a.jsx(Ai,{variant:t.tagType,title:t.visningsNavn,className:L.tagMargin,children:t.visningsNavn})},t.visningsNavn))})},zR=({skjeringstidspunktDato:e,aktivitetStatusList:n,kodeverkSamling:r,saksopplysninger:t,arbeidsgiverOpplysningerPerId:i})=>a.jsxs("div",{className:L.panelLeft,children:[CR(n,r),a.jsx(A,{sixteenPx:!0}),a.jsxs(pe,{children:[a.jsxs(O,{children:[a.jsx(j,{children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.SkjeringForBeregning"})})}),a.jsx(j,{children:a.jsx(I,{size:"small",className:L.semiBoldText,children:a.jsx(Re,{dateString:e})})})]}),!!t&&!!t.lønnsendringSaksopplysning&&t.lønnsendringSaksopplysning.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(A,{sixteenPx:!0}),a.jsx(O,{children:a.jsx(j,{children:a.jsx(wR,{arbeidsgiverOpplysningerPerId:i,skjeringstidspunktDato:e,saksopplysninger:t})})})]})]})]}),YR=({bruttoPrAar:e})=>e||e===0?a.jsxs(a.Fragment,{children:[a.jsx(O,{children:a.jsxs(j,{children:[a.jsx(ce,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.YtelserFraInfotrygd.Ytelse2"})}),a.jsx(A,{eightPx:!0})]})}),a.jsxs(O,{children:[a.jsx(j,{className:L.tabellAktivitet}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(ge,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(ge,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),a.jsxs(O,{children:[a.jsx(j,{className:L.tabellAktivitet,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.YtelserFraInfotrygd.YtelseNavn"})})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(I,{size:"small",children:U(e/12)})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(D,{size:"small",children:U(e)})})]})]}):null,HR=[],JR=(e,n,r)=>{var t,i,s;const l=r.find(p=>p.år===e),o=l&&((t=l.inntekter.find(p=>p.pgiType===tl.NÆRING))==null?void 0:t.beløp)||0,d=l&&((i=l.inntekter.find(p=>p.pgiType===tl.LØNN))==null?void 0:i.beløp)||0,u=o+d,g=(s=n.find(p=>p.årstall===e))==null?void 0:s.beløp;return a.jsxs(Ae.Row,{shadeOnHover:!0,children:[a.jsx(Ae.DataCell,{children:e}),a.jsx(Ae.DataCell,{align:"right",children:U(d)}),a.jsx(Ae.DataCell,{align:"right",children:U(o)}),a.jsx(Ae.DataCell,{align:"right",children:U(u)}),a.jsx(Ae.DataCell,{align:"right",children:U(g)})]},e)},qR=(e,n)=>e.map(r=>r.årstall).sort((r,t)=>r-t).reverse().map(r=>JR(r,e,n)),WR=e=>a.jsxs(Ae.Row,{shadeOnHover:!0,children:[a.jsx(Ae.DataCell,{children:a.jsx(D,{children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.GsnittSum"})})}),a.jsx(Ae.DataCell,{}),a.jsx(Ae.DataCell,{}),a.jsx(Ae.DataCell,{}),a.jsx(Ae.DataCell,{align:"right",children:a.jsx(D,{children:U(e)})})]},"PGI-Oppsumert"),ZR=({alleAndeler:e,inntektsgrunnlag:n})=>{const r=e.find(l=>l.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE||l.aktivitetStatus===F.BRUKERS_ANDEL),t=(n==null?void 0:n.pgiGrunnlag)||HR;if(!r||!r.pgiSnitt||!r.pgiVerdier)return null;const{pgiVerdier:i,pgiSnitt:s}=r;return a.jsxs(a.Fragment,{children:[a.jsx(ce,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Pensjonsgivendeinntekt"})}),a.jsxs(Ae,{children:[a.jsx(Ae.Header,{children:a.jsxs(Ae.Row,{children:[a.jsx(Ae.HeaderCell,{children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.TreSisteÅr"})}),a.jsx(Ae.HeaderCell,{align:"right",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.ATFL"})}),a.jsx(Ae.HeaderCell,{align:"right",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.Næring"})}),a.jsx(Ae.HeaderCell,{align:"right",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.Sum"})}),a.jsx(Ae.HeaderCell,{align:"right",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.Gjustert"})})]})}),a.jsxs(Ae.Body,{children:[qR(i,t),WR(s)]})]})]})},XR="_colDevider_1att7_1",QR={colDevider:XR},xn=({prosentBredde:e})=>{const n=`${e}%`;return a.jsx(O,{children:a.jsx("div",{style:{width:n},children:a.jsx(j,{children:a.jsx("div",{className:QR.colDevider})})})})},e1=e=>e.aktivitetStatus===F.DAGPENGER?"Beregningsgrunnlag.TilstottendeYtelse.Dagpenger":e.aktivitetStatus===F.SYKEPENGER_AV_DAGPENGER?"Beregningsgrunnlag.TilstottendeYtelse.SykepengerAvDagpenger":e.aktivitetStatus===F.PLEIEPENGER_AV_DAGPENGER?"Beregningsgrunnlag.TilstottendeYtelse.PleiepengerAvDagpenger":e.aktivitetStatus===F.ARBEIDSAVKLARINGSPENGER?"Beregningsgrunnlag.TilstottendeYtelse.AAP":"",n1=e=>e===F.DAGPENGER,r1=({alleAndeler:e,relevanteStatuser:n,gjelderBesteberegning:r})=>{const t=e.filter(s=>Bd(s.aktivitetStatus)),i=t.length>1;return a.jsxs(a.Fragment,{children:[n.isKombinasjonsstatus&&a.jsxs(a.Fragment,{children:[a.jsx(A,{eightPx:!0}),a.jsx(ce,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.TilstottendeYtelse.TittelNav"})}),a.jsx(A,{eightPx:!0})]}),a.jsxs(O,{children:[a.jsx(j,{className:L.tabellAktivitet}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(ge,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(ge,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),a.jsx(xn,{prosentBredde:100}),t.map(s=>a.jsxs("div",{children:[a.jsxs(O,{children:[a.jsx(j,{className:L.tabellAktivitet,children:a.jsx(D,{size:"small",children:a.jsx(m,{id:e1(s)})})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(I,{size:"small",children:U(s.beregnetPrAar?s.beregnetPrAar/12:0)})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(I,{size:"small",className:i?"":L.semiBoldText,children:U(s.beregnetPrAar)})})]}),a.jsx(xn,{prosentBredde:100}),r&&n1(s.aktivitetStatus)&&a.jsx(O,{children:a.jsx(j,{children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.TilstottendeYtelse.Besteberegning"})})})})]},s.aktivitetStatus))]})},t1=({alleAndeler:e})=>{const n=e.filter(t=>t.aktivitetStatus===F.MILITAER_ELLER_SIVIL),r=n&&n.length>0?n[0].beregnetPrAar:"";return a.jsxs(a.Fragment,{children:[a.jsx(O,{children:a.jsx(j,{children:a.jsx(ce,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Militær"})})})}),a.jsx(A,{eightPx:!0}),a.jsx(O,{children:a.jsx(j,{children:a.jsx(D,{size:"small",children:U(r)})})})]})},i1="_aksjonspunktBehandlerBorder_6jbny_1",s1="_aksjonspunktBehandlerHeader_6jbny_10",a1="_aksjonspunktBehandlerImageCol_6jbny_18",l1="_aksjonspunktBehandlerTextCol_6jbny_24",o1="_aksjonspunktBehandlerNoBorder_6jbny_27",d1="_aksjonspunktBehandlerContainer_6jbny_30",g1="_verticalLine_6jbny_40",u1="_verticalAlignMiddle_6jbny_47",k1="_inputPadding_6jbny_54",m1="_inntektTableTB_6jbny_65",f1="_inntektTableTB_6jbny_65",p1="_rowSpacer_6jbny_69",c1="_textAreaWrapper_6jbny_109",v1="_textAreaWrapperHeigh_6jbny_112",h1="_dynamiskKolonne_6jbny_119",b1="_textAreaStyle_6jbny_123",j1="_bredde_6jbny_126",x1="_atflAvvikAktivitet_6jbny_129",A1="_atflAvvikInntekt_6jbny_133",I1="_atflEditedIcon_6jbny_136",T1="_breddeInntekt_6jbny_139",E1="_warningIcon_6jbny_142",oe={aksjonspunktBehandlerBorder:i1,aksjonspunktBehandlerHeader:s1,aksjonspunktBehandlerImageCol:a1,aksjonspunktBehandlerTextCol:l1,aksjonspunktBehandlerNoBorder:o1,aksjonspunktBehandlerContainer:d1,verticalLine:g1,verticalAlignMiddle:u1,inputPadding:k1,inntektTableTB:m1,inntektTableTb:f1,rowSpacer:p1,textAreaWrapper:c1,textAreaWrapperHeigh:v1,dynamiskKolonne:h1,textAreaStyle:b1,bredde:j1,atflAvvikAktivitet:x1,atflAvvikInntekt:A1,atflEditedIcon:I1,breddeInntekt:T1,warningIcon:E1},wo="inntektField",rk=e=>!!e.periodeAarsaker&&e.periodeAarsaker.map(n=>n).includes(un.ARBEIDSFORHOLD_AVSLUTTET),Ga=e=>{let n=0;for(;n<e.length&&!rk(e[n]);)n+=1;const r={...e[n]};return r.beregningsgrunnlagPeriodeTom=e[e.length-1].beregningsgrunnlagPeriodeTom,r},_1=e=>{const n=[];let r=0;for(;r<e.length;){const t={...e[r]};for(r+=1;r<e.length&&!rk(e[r]);)r+=1;t.beregningsgrunnlagPeriodeTom=e[r-1].beregningsgrunnlagPeriodeTom,n.push(t)}return n},Ki=(e,n)=>e.arbeidsforhold?`${wo}_${e.arbeidsforhold.arbeidsforholdId}_${e.andelsnr}_${n.beregningsgrunnlagPeriodeFom}`:`${wo}_${e.andelsnr}_${n.beregningsgrunnlagPeriodeFom}`,Pt=e=>e.beregningsgrunnlagPrStatusOgAndel?e.beregningsgrunnlagPrStatusOgAndel.filter(n=>n.aktivitetStatus===F.ARBEIDSTAKER&&n.erTilkommetAndel!==!0):[],La=e=>{const n=e!=null&&e.arbeidsforholdId?e==null?void 0:e.arbeidsforholdId:"";return e?`${e.arbeidsgiverIdent}${n}`:""},y1=e=>{const n={};return Pt(e).forEach(r=>{n[La(r.arbeidsforhold)]=U(r.beregnetPrAar)}),n},S1=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?r[e.arbeidsgiverIdent]:null;return i?Mi(i,e.eksternArbeidsforholdId):e.arbeidsforholdType?(t=n[ye.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn:""},Us=()=>({erTidsbegrenset:!0,isEditable:!1,tabellInnhold:"",inputfieldKey:""}),N1=(e,n,r)=>{const t=y1(e),i=Pt(e),s={};return i.forEach(l=>{if(!l.arbeidsforhold)return;const o=La(l.arbeidsforhold),d=Us();d.tabellInnhold=S1(l.arbeidsforhold,n,r),d.erTidsbegrenset=l.erTidsbegrensetArbeidsforhold!==void 0?l.erTidsbegrensetArbeidsforhold:!1,s[o]=[d];const u=Us();u.erTidsbegrenset=!1,u.tabellInnhold=t[o]||"",s[o].push(u)}),s},P1=(e,n,r)=>{const t={...Ga(e)},i=N1(e[0],n,r);return Pt(t).forEach(s=>{const l=La(s.arbeidsforhold),o=Us();o.tabellInnhold=s.overstyrtPrAar!==void 0&&s.overstyrtPrAar!==null?U(s.overstyrtPrAar):"",o.erTidsbegrenset=!1,o.isEditable=!0,o.inputfieldKey=Ki(s,t),i[l].push(o)}),i},R1=e=>a.jsxs("tr",{id:"bruttoPrPeriodeRad",children:[a.jsx("td",{colSpan:2,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerTB.SumPeriode"})})},"bruttoTittel"),e.map(n=>a.jsx("td",{colSpan:2,children:a.jsx(I,{size:"small",className:L.semiBoldText,children:U(n.brutto)})},n.periodeFom))]},"bruttoPrPeriodeRad"),O1=e=>a.jsxs("tr",{children:[a.jsx("td",{}),e.map(n=>{const r=n.periodeFom;return a.jsx("td",{colSpan:2,children:a.jsx(ge,{size:"small",children:Ge(r)})},`periodeittel${r}`)}),a.jsx("td",{})]},"PeriodeHeaderRad"),B1=(e,n,r,t,i,s)=>{const l=[];return l.push(O1(t)),l.push(a.jsxs("tr",{children:[a.jsx("td",{colSpan:2},"ombergenetAarBlank"),t.map((o,d)=>a.jsx(W.Fragment,{children:a.jsx("td",{colSpan:2,children:a.jsx(ge,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandler.OmberegnetAar"},`Tittel_${o.periodeFom}`)})},`Col_Tittel_${o.periodeFom}`)},`PeriodeWrapper${d+1}`))]},"Tabletop")),Object.keys(e).forEach(o=>{const d=e[o];l.push(a.jsx("tr",{children:d.map(u=>u.isEditable?a.jsx(W.Fragment,{children:a.jsx("td",{colSpan:2,children:a.jsx("div",{className:r&&n?oe.adjustedField:void 0,children:a.jsx(xe,{name:`${s}.${i}.${u.inputfieldKey}`,validate:[X,cn(178956970)],readOnly:n,isEdited:n&&r,parse:Le,className:oe.breddeInntekt})})},`Col-${u.inputfieldKey}`)},`key${u.inputfieldKey}`):a.jsx("td",{colSpan:2,children:a.jsx(I,{size:"small",children:u.tabellInnhold})},u.tabellInnhold))},o))}),l.push(a.jsx("tr",{className:oe.rowSpacer,children:a.jsx("td",{})},"sdeparator")),l.push(R1(t)),l},F1=e=>{const n=e[0];return{brutto:(n.beregningsgrunnlagPrStatusOgAndel?n.beregningsgrunnlagPrStatusOgAndel.filter(r=>r.aktivitetStatus===F.ARBEIDSTAKER).map(r=>r.beregnetPrAar):[]).reduce((r,t)=>r+t),periodeFom:n.beregningsgrunnlagPeriodeFom,periodeTom:n.beregningsgrunnlagPeriodeTom}},$1=(e,n,r,t)=>{const i=[];if(e.length<1)return i;const s=Ga(e);i.push(F1(e));const l=Pt(s).map(o=>{const d=Ki(o,s),u=n.watch(`${t}.${r}.${d}`);return u===void 0||u===""?0:me(u)}).reduce((o,d)=>o+d);return i.push({brutto:l,periodeFom:s.beregningsgrunnlagPeriodeFom,periodeTom:s.beregningsgrunnlagPeriodeTom}),i},Rt=({readOnly:e,allePerioder:n,kodeverkSamling:r,arbeidsgiverOpplysningerPerId:t,fieldIndex:i,formName:s})=>{const l=P1(n,r,t),o=n.some(g=>{var p;return(p=g.beregningsgrunnlagPrStatusOgAndel)==null?void 0:p.some(v=>v.aktivitetStatus===F.ARBEIDSTAKER&&(!!v.overstyrtPrAar||v.overstyrtPrAar===0))}),d=Se(),u=$1(n,d,i,s);return a.jsx("table",{className:oe.inntektTableTB,children:a.jsx("tbody",{children:B1(l,e,o,u,i,s)})})};Rt.buildInitialValues=e=>{const n={};return _1(e).forEach(r=>{(r.beregningsgrunnlagPrStatusOgAndel?r.beregningsgrunnlagPrStatusOgAndel.filter(t=>t.aktivitetStatus===F.ARBEIDSTAKER):[]).forEach(t=>{const i=U(t.overstyrtPrAar);n[Ki(t,r)]=i||""})}),n};Rt.transformValues=(e,n)=>{const r=Ga(n),t=Pt(r),i=[];return t.forEach(s=>{const l=me(e[Ki(s,r)]);i.push({andelsnr:s.andelsnr,bruttoFastsattInntekt:l})}),[{periodeFom:r.beregningsgrunnlagPeriodeFom,periodeTom:r.beregningsgrunnlagPeriodeTom,fastsatteTidsbegrensedeAndeler:i}]};const D1=e=>e.overstyrtPrAar!==null&&e.overstyrtPrAar!==void 0?!0:e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,tk=e=>e?e.filter(n=>n.aktivitetStatus===F.ARBEIDSTAKER).filter(n=>n.skalFastsetteGrunnlag===!0).filter(n=>D1(n)):[],V1=(e,n,r,t,i,s)=>e.map((l,o)=>a.jsxs(O,{className:oe.verticalAlignMiddle,children:[a.jsx(j,{className:oe.atflAvvikAktivitet,children:a.jsx(I,{size:"small",children:ws(l,t,n)})}),a.jsx(j,{className:oe.atflAvvikInntekt,children:a.jsx("div",{id:"readOnlyWrapper",className:r?oe.inputPadding:void 0,children:a.jsx(xe,{name:`${s}.${i}.inntekt${o}`,validate:[X,cn(178956970)],readOnly:r,parse:Le,className:oe.breddeInntekt,isEdited:r&&(!!l.overstyrtPrAar||l.overstyrtPrAar===0)})})})]},`index${o+1}`)),Ma=({readOnly:e,alleAndelerIForstePeriode:n,kodeverkSamling:r,arbeidsgiverOpplysningerPerId:t,fieldIndex:i,formName:s})=>{const l=tk(n);return a.jsx(a.Fragment,{children:V1(l,r,e,t,i,s)})};Ma.transformValues=(e,n)=>{let r=[];return n.find(t=>t.aktivitetStatus===F.ARBEIDSTAKER)&&(r=tk(n).map(({andelsnr:t},i)=>{const s=e[`inntekt${i}`];if(!t)throw new Error("Forventer andelsnr på andeler som skal fastsettes.");return{inntekt:s===void 0||s===""?0:me(s),andelsnr:t}})),r};const G1=({alleAndeler:e})=>{var n;const r=e.find(s=>!s.erTilkommetAndel&&s.aktivitetStatus===F.FRILANSER);if(!r)return null;const t=r.beregnetPrAar,i=(n=r.arbeidsforhold)==null?void 0:n.startdato;return a.jsxs(a.Fragment,{children:[a.jsx(ce,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Frilansinntekt"})}),a.jsx(A,{fourPx:!0}),a.jsxs(O,{className:L.rows,children:[a.jsx(j,{className:L.tabellAktivitet,children:i&&a.jsxs(I,{size:"small",children:[a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.FrilansStartDato2"}),a.jsx("span",{className:L.semiBoldText,children:a.jsx(Re,{dateString:i})})]})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(ge,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(ge,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),a.jsx(xn,{prosentBredde:100}),a.jsxs(O,{className:L.rows,children:[a.jsx(j,{className:L.tabellAktivitet,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.InnrapportertFrilans"})})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(I,{size:"small",children:t?U(t/12):0})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(D,{size:"small",children:t?U(t):0})})]})]})},L1=({option:e,style:n,height:r})=>{const t=b.useRef(null);return b.useEffect(()=>{let i;t.current!==null&&(i=im(t.current));const s=()=>{i==null||i.resize()};return window.addEventListener("resize",s),()=>{i==null||i.dispose(),window.removeEventListener("resize",s)}},[]),b.useEffect(()=>{if(t.current!==null){const i=sm(t.current);i&&(i.setOption(e),(i==null?void 0:i.getWidth())===0&&(i==null||i.resize()))}},[t.current,e]),a.jsx("div",{ref:t,style:{width:"auto",height:r,...n}})},M1="_lesMer_1gsng_1",K1="_sammenligningGrafOppsummeringType_1gsng_4",w1="_sammenligningGrafOppsummeringInntekt_1gsng_7",kr={lesMer:M1,sammenligningGrafOppsummeringType:K1,sammenligningGrafOppsummeringInntekt:w1},U1=[],C1="#99bdcd",z1="#c1b5d0",Y1="#C6C2BF",H1=(e,n)=>{const r=e.flatMap(s=>s.inntekter).filter(s=>s.inntektAktivitetType===In.ARBEID).map(({beløp:s})=>s).reduce((s,l)=>s+l,0),t=e.flatMap(s=>s.inntekter).filter(s=>s.inntektAktivitetType===In.FRILANS).map(({beløp:s})=>s).reduce((s,l)=>s+l,0),i=e.flatMap(s=>s.inntekter).filter(s=>s.inntektAktivitetType===In.YTELSE).map(({beløp:s})=>s).reduce((s,l)=>s+l,0);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:L.storSpace}),a.jsx(O,{children:a.jsx(j,{children:a.jsx(D,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.SumTittel"})})})}),n.harArbeidsinntekt&&a.jsxs(a.Fragment,{children:[a.jsxs(O,{children:[a.jsx(j,{className:kr.sammenligningGrafOppsummeringType,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Arbeid"})})}),a.jsx(j,{className:kr.sammenligningGrafOppsummeringInntekt,children:a.jsx(I,{size:"small",children:U(r)})})]}),a.jsx(xn,{prosentBredde:20})]}),n.harFrilansinntekt&&a.jsxs(a.Fragment,{children:[a.jsxs(O,{children:[a.jsx(j,{className:kr.sammenligningGrafOppsummeringType,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Frilans"})})}),a.jsx(j,{className:kr.sammenligningGrafOppsummeringInntekt,children:a.jsx(I,{size:"small",children:U(t)})})]}),a.jsx(xn,{prosentBredde:20})]}),n.harYtelseinntekt&&a.jsxs(a.Fragment,{children:[a.jsxs(O,{children:[a.jsx(j,{className:kr.sammenligningGrafOppsummeringType,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ytelse"})})}),a.jsx(j,{className:kr.sammenligningGrafOppsummeringInntekt,children:a.jsx(I,{size:"small",children:U(i)})})]}),a.jsx(xn,{prosentBredde:20})]})]})},J1=(e,n)=>!e||e.length===0?0:n?e.filter(r=>r.inntektAktivitetType===n).reduce((r,t)=>r+t.beløp,0):e.reduce((r,t)=>r+t.beløp,0),cs=(e,n,r)=>{const t=[];for(let i=0;i<12;i+=1){const s=T(n,Ne).add(i,"M").format("YYYYMM"),l=e.find(d=>T(d.fom,Ne).format("YYYYMM")===s),o=J1((l==null?void 0:l.inntekter)||[],r);t.push([o,s])}return t},q1=()=>a.jsxs(a.Fragment,{children:[a.jsx(O,{children:a.jsx(j,{children:a.jsx(ce,{size:"small",className:L.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Tittel"})})})},"SamenenligningsGrunnlagOverskrift"),a.jsx(A,{eightPx:!0}),a.jsx(O,{children:a.jsx(j,{children:a.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ingress"})})})]}),vs=(e,n)=>e.flatMap(r=>r.inntekter).some(r=>r.inntektAktivitetType===n),W1=e=>({harFrilansinntekt:vs(e,In.FRILANS),harArbeidsinntekt:vs(e,In.ARBEID),harYtelseinntekt:vs(e,In.YTELSE)}),Z1=({sammenligningsGrunnlagInntekter:e,sammenligningsgrunnlag:n})=>{const r=Q(),t=(e==null?void 0:e.måneder)||U1,i=b.useMemo(()=>W1(t),[t]),s=n&&n.length>0?n[0].sammenligningsgrunnlagFom:void 0,l=b.useMemo(()=>i.harArbeidsinntekt&&s?cs(t,s,In.ARBEID):[],[i.harArbeidsinntekt,t,s]),o=b.useMemo(()=>i.harFrilansinntekt&&s?cs(t,s,In.FRILANS):[],[i.harArbeidsinntekt,t,s]),d=b.useMemo(()=>i.harYtelseinntekt&&s?cs(t,s,In.YTELSE):[],[i.harArbeidsinntekt,t,s]),u=b.useCallback(h=>h.value[0]>5e3?U(h.value[0])||"":h.value[0]===0?"":"..",[]);if(!t||t.length===0||!n||n.length<1)return null;const g=r.formatMessage({id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Arbeid"}),p=r.formatMessage({id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Frilans"}),v=r.formatMessage({id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ytelse"});return a.jsxs(a.Fragment,{children:[a.jsx(yd,{size:"medium",header:q1(),defaultOpen:!0,children:a.jsx(L1,{option:{tooltip:{trigger:"axis",formatter:h=>{const x=h,_=x[0].data,N=T(_[1]),y=N.locale(Ks).format("MMM"),B=N.format("YYYY"),S=`${y.charAt(0).toUpperCase()+y.slice(1)} ${B}`,$=x.reduce((V,G)=>{const K=G.data;return V.concat(`${(G.marker||"")+(G.seriesName||"")}: ${U(K[0])}`)},[]).join("<br/>");return`${S}<br />${$}`},axisPointer:{type:"shadow"}},legend:{data:[g,p,v]},grid:{left:"1%",right:"5%",bottom:"0%",containLabel:!0},xAxis:{type:"value",axisLabel:{formatter:h=>U(h)||"",margin:12}},yAxis:{type:"category",boundaryGap:!1,axisLabel:{formatter:h=>{const x=T(h),_=x.format("MM")==="01"||x.format("MM")==="12",N=x.locale(Ks).format("MMM"),y=x.format("YYYY"),B=N.charAt(0).toUpperCase()+N.slice(1,3);return _?`${B}
${y}`:B}}},series:[{name:g,type:"bar",stack:"total",label:{show:!0,fontSize:"11",formatter:u},emphasis:{focus:"series"},data:l},{name:p,type:"bar",stack:"total",label:{show:!0,fontSize:"11",formatter:u},emphasis:{focus:"series"},data:o},{name:v,type:"bar",stack:"total",label:{show:!0,fontSize:"11",formatter:u},emphasis:{focus:"series"},data:d}],color:[C1,z1,Y1]},height:350})}),H1(t,i)]})},ik=e=>!e.arbeidsforhold||!e.arbeidsforhold.arbeidsgiverIdent?"N/A":e.arbeidsforhold.arbeidsforholdId?e.arbeidsforhold.arbeidsgiverIdent+e.arbeidsforhold.arbeidsforholdId:e.arbeidsforhold.arbeidsgiverIdent,X1=(e,n)=>{if(!e.arbeidsforhold||!e.arbeidsforhold.arbeidsgiverIdent)return"Ukjent arbeidsforhold";const r=n[e.arbeidsforhold.arbeidsgiverIdent];return Mi(r,e.arbeidsforhold.eksternArbeidsforholdId)},sk=e=>e.beregningsgrunnlagPrStatusOgAndel?e.beregningsgrunnlagPrStatusOgAndel:[],Q1=(e,n)=>{const r=X1(e,n),t=ik(e);return{visningsnavn:r,nøkkel:t,naturalytelseEndringer:[]}},eO=e=>{var n;return!!((n=e.arbeidsforhold)!=null&&n.naturalytelseBortfaltPrÅr)},nO=(e,n)=>{if(!e||e.length<1)return[];const r=[];return e.forEach(t=>{sk(t).filter(i=>eO(i)).map(i=>Q1(i,n)).forEach(i=>{r.some(({nøkkel:s})=>s===i.nøkkel)||r.push(i)})}),r},rO=(e,n)=>{const r=sk(e).find(t=>ik(t)===n);return(r&&r.arbeidsforhold?r.arbeidsforhold.naturalytelseBortfaltPrÅr:0)||0},tO=(e,n)=>{const r=[];return n.forEach(t=>{const i=rO(t,e.nøkkel);i&&r.push({fom:t.beregningsgrunnlagPeriodeFom||"",tom:t.beregningsgrunnlagPeriodeTom||"",beløpPrÅr:i,beløpPrMåned:i/12})}),r},iO=e=>{if(!e||e.length<2)return e;e.sort((t,i)=>T(t.fom).diff(T(i.fom)));const n=[];let r=T(e[0].fom);return e.forEach(t=>{if(!T(t.fom).isBefore(r)){const i=e.find(s=>T(s.fom).isAfter(t.fom)&&s.beløpPrÅr!==t.beløpPrÅr);if(i){const s=T(i.fom).subtract(1,"d");n.push({tom:s.format(Ne),fom:t.fom,beløpPrÅr:t.beløpPrÅr,beløpPrMåned:t.beløpPrMåned}),r=s}else r=T(Ke),n.push({tom:"",fom:t.fom,beløpPrÅr:t.beløpPrÅr,beløpPrMåned:t.beløpPrMåned})}}),n},sO=(e,n)=>{const r=nO(e,n);return r.forEach(t=>{const i=tO(t,e);iO(i).forEach(s=>t.naturalytelseEndringer.push(s))}),!r||r.length<1?void 0:{rader:r}},aO=e=>e.tom?`${Ge(e.fom)} - ${Ge(e.tom)}`:`${Ge(e.fom)} -`,lO=e=>e.rader.map(n=>a.jsxs("div",{children:[a.jsx(O,{children:a.jsx(j,{className:L.noPaddingRight,children:a.jsx(D,{size:"small",children:n.visningsnavn})})}),n.naturalytelseEndringer.map(r=>a.jsxs(O,{children:[a.jsx(j,{className:L.tabellAktivitet,children:a.jsx(I,{size:"small",children:aO(r)})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(I,{size:"small",children:U(r.beløpPrMåned)})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(D,{size:"small",children:U(r.beløpPrÅr)})})]},n.nøkkel+r.fom))]},n.nøkkel)),oO=({allePerioder:e,arbeidsgiverOpplysningerPerId:n})=>{const r=b.useMemo(()=>sO(e,n),[e]);return r?a.jsxs(a.Fragment,{children:[a.jsx(A,{thirtyTwoPx:!0}),a.jsx(D,{size:"small",className:L.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Naturalytelse2"})}),a.jsxs(O,{children:[a.jsx(j,{className:L.tabellAktivitet}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(ge,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(ge,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),lO(r)]}):null},dO=e=>e.overstyrtPrAar!==null&&e.overstyrtPrAar!==void 0?!0:e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,ak=e=>e?e.filter(n=>n.aktivitetStatus===F.ARBEIDSTAKER).filter(n=>dO(n)):[],gO=e=>{const n=[];return Object.prototype.hasOwnProperty.call(e,"startdato")&&e.startdato&&n.push(Ge(e.startdato)),Object.prototype.hasOwnProperty.call(e,"opphoersdato")&&e.opphoersdato&&(n.push("-"),n.push(Ge(e.opphoersdato))),n.join(" ")},uO=e=>{const n=[""];return Object.prototype.hasOwnProperty.call(e,"stillingsNavn")&&e.stillingsNavn&&n.push(e.stillingsNavn),Object.prototype.hasOwnProperty.call(e,"stillingsProsent")&&e.stillingsProsent&&n.push(`${e.stillingsProsent}%`),n.length!==0?n.join(" "):" "},Uo=e=>e.beregnetPrAar?e.beregnetPrAar:0,kO=(e,n,r)=>{const t=e.reduce((l,o)=>l+Uo(o),0),i=t?t/12:0,s=e.map((l,o)=>{var d,u,g;return a.jsxs(W.Fragment,{children:[a.jsxs(pe,{children:[a.jsxs(O,{children:[a.jsx(j,{className:L.tabellAktivitet,children:a.jsx(D,{size:"small",className:L.semiBoldText,children:ws(l,r,n)},`ColLableTxt${o+1}`)}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(I,{children:U(Uo(l)/12)},`ColBrgMndTxt${(d=l.arbeidsforhold)==null?void 0:d.arbeidsgiverIdent}`)}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(D,{children:U(l.beregnetPrAar)},`ColBrgAarTxt${(u=l.arbeidsforhold)==null?void 0:u.arbeidsgiverIdent}`)})]}),a.jsxs(O,{children:[l.arbeidsforhold&&l.arbeidsforhold.stillingsNavn&&a.jsx(j,{children:a.jsx(I,{children:uO(l.arbeidsforhold)})}),l.arbeidsforhold&&l.arbeidsforhold.startdato&&a.jsx(j,{children:a.jsx(ge,{size:"small",children:gO(l.arbeidsforhold)})}),l.erTidsbegrensetArbeidsforhold&&a.jsx(j,{children:a.jsx(ge,{children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Tidsbegrenset"})})})]},`indexD${(g=l.arbeidsforhold)==null?void 0:g.arbeidsgiverIdent}`)]}),a.jsx(A,{eightPx:!0}),a.jsx(xn,{prosentBredde:100})]},`ArbInntektWrapper${ws(l,r,n)}${o+1}`)});if(e.length>1){const l=a.jsx(pe,{children:a.jsxs(O,{children:[a.jsx(j,{className:L.tabellAktivitet,children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.TotaltArbeidsinntekt"})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(I,{children:U(i)})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(D,{children:U(t)})})]})},"SummaryRow");s.push(l)}return s},wi=({alleAndelerIFørstePeriode:e,allePerioder:n,arbeidsgiverOpplysningerPerId:r,kodeverkSamling:t})=>{const i=ak(e);return!i||i.length===0?null:a.jsxs(a.Fragment,{children:[a.jsx(O,{children:a.jsx(j,{children:a.jsx(ce,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt"})})})}),a.jsx(pe,{children:a.jsxs(O,{children:[a.jsx(j,{className:L.tabellAktivitet}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(ge,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(ge,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]})}),a.jsx(xn,{prosentBredde:100}),kO(i,t,r),a.jsx(oO,{allePerioder:n,arbeidsgiverOpplysningerPerId:r})]})};wi.defaultProps={allePerioder:void 0};wi.buildInitialValues=e=>{const n=ak(e),r={};return n.forEach((t,i)=>{r[`inntekt${i}`]=U(t.overstyrtPrAar)||""}),r};const mO="_lesMer_1w256_1",fO="_overskrift_1w256_4",pO="_merTekstBorder_1w256_9",cO={lesMer:mO,overskrift:fO,merTekstBorder:pO},vO=e=>{const n=e==null?void 0:e.virksomhetType;if(!n)return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.UDEFINERT";switch(n){case"JORDBRUK_SKOGBRUK":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.JORDBRUK_SKOGBRUK";case"DAGMAMMA":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.DAGMAMMA";case"FISKE":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FISKE";case"FRILANSER":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FRILANSER";case"ANNEN":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.ANNEN";default:return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.UDEFINERT"}},Co=e=>{const{oppstartsdato:n,opphørsdato:r}=e;if(n)return r?`${Ge(n)}-${Ge(r)} `:`${Ge(n)}-`},hO=e=>{const{regnskapsførerNavn:n,regnskapsførerTlf:r}=e;if(n)return r?`${n}-${r} `:`${n}-`},bO=(e,n)=>{const r=n[e.orgnr];return r?r.navn:"Ukjent bedriftsnavn"},jO=e=>{const{oppstartsdato:n,erVarigEndret:r,endringsdato:t}=e,i=r?"Beregningsgrunnlag.NaeringsOpplysningsPanel.VarigEndret":"Beregningsgrunnlag.NaeringsOpplysningsPanel.Nyoppstaret",s=r?t:n;return s?a.jsx(D,{size:"small",className:L.semiBoldText,children:a.jsx(m,{id:i,values:{dato:Ge(s),b:l=>a.jsx("b",{children:l})}})}):null},xO=e=>{const{erNyoppstartet:n,erVarigEndret:r}=e;return!!r||!!n},AO=e=>e.begrunnelse&&e.begrunnelse!==""?a.jsx(I,{size:"small",className:cO.merTekstBorder,children:e.begrunnelse}):null,IO=e=>!!e.oppgittInntekt||e.oppgittInntekt===0,TO=({alleAndelerIForstePeriode:e,arbeidsgiverOpplysningerPerId:n})=>{const r=e.find(t=>t.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE);return r!=null&&r.næringer?a.jsxs(a.Fragment,{children:[a.jsxs(O,{children:[a.jsx(j,{className:L.tabellAktivitet,children:a.jsx(ce,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.NaeringsOpplysningsPanel.Overskrift"})})}),a.jsx(j,{className:L.tabellAktivitet}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(ge,{children:a.jsx(m,{id:"Beregningsgrunnlag.NaeringsOpplysningsPanel.OppgittAar"})})})]}),a.jsx(xn,{prosentBredde:100}),r.næringer.map(t=>a.jsxs(W.Fragment,{children:[a.jsxs(O,{children:[a.jsx(j,{className:L.næringOpplysningNavn,children:a.jsx(D,{size:"small",className:L.semiBoldText,children:bO(t,n)})}),a.jsx(j,{className:L.næringOpplysningInntekt,children:IO(t)&&a.jsx(D,{size:"small",children:U(t.oppgittInntekt)})})]}),a.jsxs(O,{children:[a.jsx(j,{className:L.næringOpplysningOrgnr,children:a.jsx(I,{size:"small",children:t&&t.orgnr?t.orgnr:""})}),a.jsx(j,{className:L.næringOpplysningDato,children:Co(t)&&a.jsx(I,{size:"small",children:Co(t)})})]},`NaringsDetaljer${t.orgnr}`),a.jsx(O,{children:a.jsx(j,{children:a.jsx(I,{size:"small",children:a.jsx(m,{id:vO(t)})})})}),a.jsx(O,{children:a.jsx(j,{children:t.regnskapsførerNavn&&a.jsx(I,{size:"small",children:hO(t)})})},`RevisorRad${t.orgnr}`),xO(t)&&a.jsxs(a.Fragment,{children:[a.jsx(xn,{prosentBredde:100}),a.jsx(A,{twentyPx:!0}),jO(t),a.jsx(A,{eightPx:!0}),a.jsx(O,{className:L.næringEndringBeskrivelse,children:a.jsx(j,{children:AO(t)})})]})]},`NaringsWrapper${t.orgnr}`))]}):null},{FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:EO,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:_O}=de,yO=e=>e&&e.find(n=>n.definisjon===EO||n.definisjon===_O),SO=e=>e&&e.length>0?e[0].beregningsgrunnlagPrStatusOgAndel||[]:[],Kn=a.jsx("div",{className:L.storSpace}),NO=(e,n,r,t,i,s,l,o)=>a.jsxs("div",{className:L.panelLeft,children:[n.isArbeidstaker&&a.jsx(wi,{alleAndelerIFørstePeriode:e,allePerioder:r,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:s}),n.isFrilanser&&a.jsxs(a.Fragment,{children:[Kn,a.jsx(G1,{alleAndeler:e})]}),n.harDagpengerEllerAAP&&a.jsxs("div",{children:[Kn,a.jsx(r1,{alleAndeler:e,relevanteStatuser:n,gjelderBesteberegning:t})]}),n.isMilitaer&&a.jsxs(a.Fragment,{children:[Kn,a.jsx(t1,{alleAndeler:e})]}),n.harAndreTilstotendeYtelser&&a.jsxs(a.Fragment,{children:[Kn,a.jsx(YR,{bruttoPrAar:r[0].bruttoPrAar})]}),(n.isSelvstendigNaeringsdrivende||n.isMidlertidigInaktiv)&&a.jsxs(a.Fragment,{children:[Kn,a.jsx(ZR,{alleAndeler:e,inntektsgrunnlag:o}),Kn,a.jsx(TO,{alleAndelerIForstePeriode:e,arbeidsgiverOpplysningerPerId:s})]}),(n.isFrilanser||n.isArbeidstaker)&&o&&l&&a.jsxs(a.Fragment,{children:[Kn,a.jsx(Z1,{sammenligningsGrunnlagInntekter:o,sammenligningsgrunnlag:l})]})]}),Fn=({relevanteStatuser:e,allePerioder:n,gjelderBesteberegning:r,kodeverkSamling:t,sammenligningsGrunnlagInntekter:i,arbeidsgiverOpplysningerPerId:s,sammenligningsgrunnlag:l})=>{if(!n)return null;const o=SO(n);return NO(o,e,n,r,t,s,l,i)};Fn.defaultProps={allePerioder:void 0,sammenligningsGrunnlagInntekter:void 0};Fn.buildInitialValues=e=>{const n=yO(e);return{ATFLVurdering:n&&n.begrunnelse?n.begrunnelse:""}};Fn.transformATFLValues=(e,n)=>({begrunnelse:e.ATFLVurdering,inntektPrAndelList:Ma.transformValues(e,n),inntektFrilanser:e.inntektFrilanser!==void 0?me(e.inntektFrilanser):null});Fn.transformATFLTidsbegrensetValues=(e,n)=>({begrunnelse:e.ATFLVurdering,fastsatteTidsbegrensedePerioder:Rt.transformValues(e,n),frilansInntekt:e.inntektFrilanser!==void 0?me(e.inntektFrilanser):null});const{VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:lk,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:Ka,FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:ok,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:dk,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:gk}=de,PO=(e,n)=>{switch(e.definisjon){case lk:return n.find(r=>r.sammenligningsgrunnlagType===fe.ATFLSN||r.sammenligningsgrunnlagType===fe.SN);case Ka:return n.find(r=>r.sammenligningsgrunnlagType===fe.MIDLERTIDIG_INAKTIV);case ok:case dk:return n.find(r=>r.sammenligningsgrunnlagType===fe.ATFLSN||r.sammenligningsgrunnlagType===fe.AT_FL||r.sammenligningsgrunnlagType===fe.AT||r.sammenligningsgrunnlagType===fe.FL);case gk:return;default:return}},RO=(e,n)=>{const r=PO(e,n),t=r&&r.avvikProsent?r.avvikProsent:0;return Number(t.toFixed(1))},zo=e=>e&&e.length>0,OO=e=>e.sammenligningsgrunnlagPrStatus?e.sammenligningsgrunnlagPrStatus:[],BO={[ok]:"Beregningsgrunnlag.Helptext.Arbeidstaker",[dk]:"Beregningsgrunnlag.Helptext.TidsbegrensetArbeidsforhold",[gk]:"Beregningsgrunnlag.Helptext.NyIArbeidslivetSN",[Ka]:"Beregningsgrunnlag.Helptext.VarigEndretArbeidssituasjon"},FO=(e,n)=>e.definisjon===lk?n?"Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.VarigEndring":"Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.Nyoppstartet":BO[e.definisjon],$O=(e,n,r)=>{var t;const i=r.find(l=>l.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE),s=!!((t=i==null?void 0:i.næringer)!=null&&t.some(l=>l.erVarigEndret===!0));return a.jsxs("div",{children:[a.jsx(kt,{children:e.map(l=>a.jsx(D,{children:a.jsx(m,{id:FO(l,s||l.definisjon===Ka),values:{verdi:RO(l,n),b:o=>a.jsx("b",{children:o}),br:a.jsx("br",{})}})},l.definisjon))}),a.jsx(A,{thirtyTwoPx:!0})]})},DO=({avklaringsbehov:e,beregningsgrunnlag:n})=>{const r=n.beregningsgrunnlagPeriode?n.beregningsgrunnlagPeriode[0]:void 0,t=r&&r.beregningsgrunnlagPrStatusOgAndel?r.beregningsgrunnlagPrStatusOgAndel:[],i=e.filter(l=>vn(l.status));if(!(zo(i)&&zo(t)))return null;const s=OO(n);return a.jsxs(a.Fragment,{children:[a.jsx(A,{eightPx:!0}),$O(i,s,t)]})},VO="_aksjonspunktBehandlerBorder_o9hgh_1",GO="_aksjonspunktBehandlerContainer_o9hgh_6",LO="_verticalLine_o9hgh_16",MO="_verticalAlignMiddle_o9hgh_23",KO="_inputPadding_o9hgh_27",wO="_inntektTableTB_o9hgh_35",UO="_inntektTableTB_o9hgh_35",CO="_rowSpacer_o9hgh_39",zO="_textAreaWrapper_o9hgh_71",YO="_textAreaWrapperHeigh_o9hgh_74",HO="_dynamiskKolonne_o9hgh_81",JO={aksjonspunktBehandlerBorder:VO,aksjonspunktBehandlerContainer:GO,verticalLine:LO,verticalAlignMiddle:MO,inputPadding:KO,inntektTableTB:wO,inntektTableTb:UO,rowSpacer:CO,textAreaWrapper:zO,textAreaWrapperHeigh:YO,dynamiskKolonne:HO},Yo=(e,n,r)=>a.jsx(O,{children:a.jsx(j,{children:a.jsx(I,{size:"small",children:a.jsx(m,{id:e,values:{fom:T(n).format(te),tom:T(r).format(te)}})})})}),qO=e=>{const n=e.frisinnAndeler.find(t=>t.statusSøktFor===F.SELVSTENDIG_NAERINGSDRIVENDE),r=e.frisinnAndeler.find(t=>t.statusSøktFor===F.FRILANSER);return a.jsxs("div",{children:[r&&Yo("Beregningsgrunnlag.Søknad.SøktYtelseFL",e.fom,e.tom),n&&Yo("Beregningsgrunnlag.Søknad.SøktYtelseSN",e.fom,e.tom)]},e.fom)},WO=({beregningsgrunnlag:e})=>{const n=e.ytelsesspesifiktGrunnlag,{frisinnPerioder:r}=n;return a.jsxs("div",{children:[a.jsx(O,{children:a.jsx(j,{children:a.jsx(D,{size:"small",className:L.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.Søknad.Tittel"})})})}),a.jsx(A,{eightPx:!0}),Array.isArray(r)&&r.map(t=>qO(t)),a.jsx(A,{sixteenPx:!0})]})},Ho=(e,n)=>{if(!e)return 0;const r=e.filter(t=>t.aktivitetStatus===n).map(({bruttoPrAar:t})=>t||0).reduce((t,i)=>t+i,0);return!r||r===0?0:r},uk=e=>e.month()===2&&e.year()===2020,ZO=e=>{const n=T(e.tom);return uk(n)},kk=(e,n,r)=>{const{frisinnPerioder:t}=r;if(!Array.isArray(t))return null;const i=T(n.beregningsgrunnlagPeriodeFom);if(uk(i)&&t.some(o=>ZO(o))){const o=T("2020-04-30"),d=t.find(u=>T(u.tom).isSame(o,"day"));return d?d.frisinnAndeler.filter(u=>u.statusSøktFor===e):null}const s=T(n.beregningsgrunnlagPeriodeTom).endOf("month"),l=t.find(o=>!T(o.fom).isBefore(i)&&T(o.tom).isSame(s,"day"));return l?l.frisinnAndeler.filter(o=>o.statusSøktFor===e):null},Sr=(e,n,r)=>{const t=kk(e,n,r);return!!t&&t.length>0},sn=(e,n,r)=>{if(!e||!n||!r)return 0;if(Sr(e,r,n.ytelsesspesifiktGrunnlag)){const t=n.beregningsgrunnlagPeriode[0];return Ho(t.beregningsgrunnlagPrStatusOgAndel||[],e)}return Ho(r.beregningsgrunnlagPrStatusOgAndel||[],e)},Jo=(e,n,r)=>{const t=kk(e,n,r);if(!t||t.length<1)return 0;const i=t.map(({oppgittInntekt:s})=>s).reduce((s,l)=>s+l,0);return!i||i===0?0:i},mk=e=>{const{frisinnPerioder:n,behandlingÅrsaker:r}=e;if(!Array.isArray(n))return[];if(r&&n.length>1&&r.some(t=>t===Tm.RE_ENDRING_FRA_BRUKER)){const t=[...n].sort((l,o)=>l.fom.localeCompare(o.fom)),i=t[t.length-1],s=T(i.tom);return s.month()===3&&s.year()===2020?t.filter(l=>T(l.fom).month()===3||T(l.fom).month()===2):t.filter(l=>T(l.fom).month()===s.month()&&T(l.fom).year()===s.year())}return n},XO=(e,n)=>{let r=null;return n!==Ke&&(r=n),a.jsx(m,{id:"Beregningsgrunnlag.BeregningTable.Periode",values:{fom:T(e).format(te),tom:r?T(r).format(te):""}},`fom-tom${e}${r}`)},fk=(e,n)=>{const r=e.beregningsgrunnlagPeriodeFom,t=e.beregningsgrunnlagPeriodeTom,i=n.frisinnPerioder,s=Array.isArray(i)&&i.find(l=>!T(r).isBefore(l.fom)&&!T(t).isAfter(l.tom));return s?s.frisinnAndeler:[]},qo=(e,n)=>a.jsxs(O,{children:[a.jsx(j,{className:L.tabellAktivitet,children:a.jsx(m,{id:e})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(I,{size:"small",children:U(n)})})]}),Wo=(e,n,r,t,i)=>{const s=i/100,l=n*s;return a.jsxs(a.Fragment,{children:[a.jsxs(O,{children:[a.jsx(j,{className:L.tabellAktivitet,children:a.jsx(m,{id:e,values:{grad:i}})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(I,{size:"small",children:U(l)})})]}),!!t||t===0&&a.jsxs(O,{children:[a.jsx(j,{className:L.tabellAktivitet,children:a.jsx(m,{id:r})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(I,{size:"small",children:U(t)})})]})]})},Ht=e=>e||e===0,QO=e=>{const n=T(e);return n.isBefore(T("2020-11-01","YYYY-MM-DD"))?80:n.isBefore(T("2022-01-01","YYYY-MM-DD"))?60:70},eB=(e,n,r,t)=>{const i=fk(e,n);if(!i||i.length<1)return null;const s=i.some(g=>g.statusSøktFor===F.FRILANSER)?r:null,l=i.some(g=>g.statusSøktFor===F.SELVSTENDIG_NAERINGSDRIVENDE)?t:null,o=Jo(F.FRILANSER,e,n),d=Jo(F.SELVSTENDIG_NAERINGSDRIVENDE,e,n),u=QO(e.beregningsgrunnlagPeriodeFom);return a.jsxs(a.Fragment,{children:[Ht(s)&&qo("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagFL",s||0),Ht(s)&&Wo("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertFL",s||0,"Beregningsgrunnlag.Søknad.LøpendeFL",o,u),Ht(l)&&qo("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagSN",l||0),Ht(l)&&Wo("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertSN",l||0,"Beregningsgrunnlag.Søknad.LøpendeSN",d,u),a.jsx(O,{children:a.jsx(j,{children:a.jsx("div",{className:L.colDevider})})}),a.jsxs(O,{children:[a.jsx(j,{className:L.tabellAktivitet,children:a.jsx(ge,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Resultat.Dagsats"})})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(I,{size:"small",children:U(e.dagsats)})})]})]})},nB=({bgperiode:e,ytelsegrunnlag:n,frilansGrunnlag:r,næringGrunnlag:t})=>{const i=fk(e,n);if(!i||i.length<1)return null;const s=r>=0?r:0,l=t>=0?t:0;return a.jsxs("div",{children:[a.jsx(A,{eightPx:!0}),a.jsx(O,{children:a.jsx(j,{children:a.jsx(D,{size:"small",children:XO(e.beregningsgrunnlagPeriodeFom,e.beregningsgrunnlagPeriodeTom)})})}),eB(e,n,s,l)]})},pk=e=>e.grunnbeløp?e.grunnbeløp*6:0,rB=(e,n)=>{if(!Sr(F.FRILANSER,n,e.ytelsesspesifiktGrunnlag))return 0;let r=pk(e);const t=sn(F.ARBEIDSTAKER,e,n);if(r-=t,!Sr(F.SELVSTENDIG_NAERINGSDRIVENDE,n,e.ytelsesspesifiktGrunnlag)){const s=sn(F.SELVSTENDIG_NAERINGSDRIVENDE,e,n);r-=s}const i=sn(F.FRILANSER,e,n);return i>r?r:i},tB=(e,n)=>{if(!Sr(F.SELVSTENDIG_NAERINGSDRIVENDE,n,e.ytelsesspesifiktGrunnlag))return 0;let r=pk(e);const t=sn(F.ARBEIDSTAKER,e,n);r-=t;const i=sn(F.FRILANSER,e,n);r-=i;const s=sn(F.SELVSTENDIG_NAERINGSDRIVENDE,e,n);return s>r?r:s},iB=(e,n)=>{const r=T(e.beregningsgrunnlagPeriodeFom),t=T(e.beregningsgrunnlagPeriodeTom);return Array.isArray(n)&&n.some(i=>!T(i.fom).isBefore(r)&&!T(i.tom).isAfter(t))},sB=({beregningsgrunnlag:e})=>{const n=mk(e.ytelsesspesifiktGrunnlag),r=Array.isArray(e.beregningsgrunnlagPeriode)?e.beregningsgrunnlagPeriode.filter(t=>iB(t,n)):[];return a.jsxs("div",{children:[a.jsx(O,{children:a.jsx(j,{children:a.jsx(D,{size:"small",className:L.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.Resultat"})})})}),r.map(t=>a.jsx("div",{children:a.jsx(nB,{bgperiode:t,ytelsegrunnlag:e.ytelsesspesifiktGrunnlag,frilansGrunnlag:rB(e,t),næringGrunnlag:tB(e,t)},t.beregningsgrunnlagPeriodeFom)},t.beregningsgrunnlagPeriodeFom))]})},aB=({beregningsgrunnlag:e})=>{if(e.beregningsgrunnlagPeriode.length<2)return null;const n=e.beregningsgrunnlagPeriode.sort((l,o)=>l.beregningsgrunnlagPeriodeFom.localeCompare(o.beregningsgrunnlagPeriodeFom)),r=n[n.length-2],t=sn(F.SELVSTENDIG_NAERINGSDRIVENDE,e,r),i=sn(F.FRILANSER,e,r),s=sn(F.ARBEIDSTAKER,e,r);return a.jsxs("div",{children:[a.jsx(O,{children:a.jsx(j,{children:a.jsx(D,{size:"small",className:L.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.Søknad.Inntektsopplysninger"})})})}),a.jsxs(O,{children:[a.jsx(j,{className:L.tabellAktivitet,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektAT"})})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(D,{size:"small",children:U(s)})})]}),a.jsxs(O,{children:[a.jsx(j,{className:L.tabellAktivitet,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektFL"})})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(D,{size:"small",children:U(i)})})]}),a.jsxs(O,{children:[a.jsx(j,{className:L.tabellAktivitet,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektSN"})})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(D,{size:"small",children:U(t)})})]})]})},lB=T("2020-04-01"),oB=(e,n,r)=>a.jsxs(O,{children:[a.jsx(j,{className:L.tabellAktivitet,children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.Inntektstak",values:{grenseverdi:U(e),annenInntekt:U(n)}})}),a.jsx(j,{className:L.tabellInntekt,children:a.jsx(I,{size:"small",children:U(r)})})]}),dB=(e,n)=>{if(!Array.isArray(n))return!1;const r=T(e.beregningsgrunnlagPeriodeFom),t=T(e.beregningsgrunnlagPeriodeTom);return n.some(i=>!T(i.fom).isBefore(r)&&!T(i.tom).isAfter(t))},gB=(e,n)=>{const r=[];return Array.isArray(e)&&e.forEach(t=>{if(dB(t,n)){const i=T(t.beregningsgrunnlagPeriodeTom),s=T(t.beregningsgrunnlagPeriodeTom).endOf("month");i.isAfter(lB)&&i.isSame(s,"day")&&t.beregningsgrunnlagPeriodeTom!==Ke&&r.push(t)}}),r},uB=(e,n)=>{const r=T(n.beregningsgrunnlagPeriodeFom),t=T(e.fom);return r.year()===t.year()&&r.month()===t.month()&&t.isBefore(r)},kB=(e,n)=>{const r=e.ytelsesspesifiktGrunnlag,t=sn(F.ARBEIDSTAKER,e,n),i=e.grunnbeløp*6;let s=t;if(!Sr(F.FRILANSER,n,r)){const g=sn(F.FRILANSER,e,n);s+=g}if(!Sr(F.SELVSTENDIG_NAERINGSDRIVENDE,n,r)){const g=sn(F.SELVSTENDIG_NAERINGSDRIVENDE,e,n);s+=g}const l=i>s?i-s:0,o=n.beregningsgrunnlagPeriodeTom,d=Array.isArray(r.frisinnPerioder)&&r.frisinnPerioder.find(g=>uB(g,n)),u=d?d.fom:n.beregningsgrunnlagPeriodeFom;return a.jsxs(a.Fragment,{children:[a.jsx(O,{children:a.jsx(j,{children:a.jsx(D,{size:"small",className:L.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektstakOpplysningerPeriode",values:{fom:T(u).format(te),tom:o?T(o).format(te):""}},`fom-tom${u}${o}`)})})}),a.jsx(A,{eightPx:!0}),oB(i,s,l),a.jsx(A,{sixteenPx:!0})]})},mB=({beregningsgrunnlag:e})=>{const n=mk(e.ytelsesspesifiktGrunnlag),r=gB(e.beregningsgrunnlagPeriode,n);return a.jsx(a.Fragment,{children:r.map(t=>a.jsx("div",{children:kB(e,t)},t.beregningsgrunnlagPeriodeFom))})},fB=e=>e.beregningsgrunnlagPeriode.some(n=>n.dagsats||n.dagsats===0),pB=({beregningsgrunnlag:e})=>a.jsxs("div",{className:JO.aksjonspunktBehandlerContainer,children:[a.jsx(ge,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.Tittel"})}),a.jsx(A,{sixteenPx:!0}),a.jsx(WO,{beregningsgrunnlag:e}),a.jsx(A,{sixteenPx:!0}),a.jsx(aB,{beregningsgrunnlag:e}),a.jsx(A,{sixteenPx:!0}),fB(e)&&a.jsxs(a.Fragment,{children:[a.jsx(mB,{beregningsgrunnlag:e}),a.jsx(A,{sixteenPx:!0}),a.jsx(sB,{beregningsgrunnlag:e})]})]}),cB=e=>a.jsx(pB,{beregningsgrunnlag:e}),vB=({beregningsgrunnlag:e})=>{const n=e.ytelsesspesifiktGrunnlag;return n&&n.ytelsetype===Fd.FRISINN?cB(e):null},hB=({relevanteStatuser:e,erManueltBesteberegnet:n,erNyIArbeidslivet:r,sammenligningsgrunnlag:t})=>{if(r)return a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.SN.NyIArbeidslivet"})});if(!t||t.length<1)return null;const i=(e.isArbeidstaker||e.isFrilanser)&&e.isSelvstendigNaeringsdrivende,s=t.filter(o=>o.sammenligningsgrunnlagType===fe.AT_FL||o.sammenligningsgrunnlagType===fe.AT||o.sammenligningsgrunnlagType===fe.FL),l=i&&s.length===0;return n?a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.Besteberegning"})}):a.jsxs(a.Fragment,{children:[e.isMilitaer&&a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.Miletar"})}),e.isAAP&&a.jsxs(O,{children:[a.jsx(j,{children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.AAP"})})}),a.jsx(A,{eightPx:!0})]}),e.isDagpenger&&a.jsxs(a.Fragment,{children:[a.jsx(O,{children:a.jsx(j,{children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.Dagpenger"})})})}),a.jsx(A,{eightPx:!0})]}),l&&a.jsxs(O,{children:[a.jsx(j,{children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.AT.KobinasjonsStatusATFLSN"})})}),a.jsx(A,{eightPx:!0})]})]})},bB="_colLable_di1r8_1",jB="_colValue_di1r8_8",xB="_avvikLinjeRad_di1r8_16",AB="_linjeSkille_di1r8_21",IB="_linjeSkilleTykk_di1r8_27",TB="_colLine_di1r8_33",EB="_colAvvik_di1r8_36",_B="_colBorderTopLeft_di1r8_45",yB="_colBorderTop_di1r8_45",SB="_colNoBorderTop_di1r8_58",NB="_beregnetLuftOver_di1r8_61",dn={colLable:bB,colValue:jB,avvikLinjeRad:xB,linjeSkille:AB,linjeSkilleTykk:IB,colLine:TB,colAvvik:EB,colBorderTopLeft:_B,colBorderTop:yB,colNoBorderTop:SB,beregnetLuftOver:NB},Zo=a.jsx(O,{children:a.jsx(j,{children:a.jsx("div",{className:dn.linjeSkille})})}),PB=({beregnetAarsinntekt:e,sammenligningsgrunnlag:n,erPGI:r})=>{const{differanseBeregnet:t,rapportertPrAar:i,avvikProsent:s}=n,l=parseFloat(s.toFixed(1)),o=r?"Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt.Naring":"Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt",d=r?"Beregningsgrunnlag.Avviksopplysninger.SamletInntekt":"Beregningsgrunnlag.Avviksopplysninger.RapportertAarsinntekt";return a.jsxs(a.Fragment,{children:[Zo,a.jsxs(O,{children:[a.jsx(j,{className:dn.colLable,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:o})})}),a.jsx(j,{className:dn.colValue,children:a.jsx(I,{size:"small",children:e||e===0?U(e):"-"})}),a.jsx(j,{className:dn.colAvvik})]}),Zo,a.jsxs(O,{children:[a.jsx(j,{className:dn.colLable,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:d})})}),a.jsx(j,{className:dn.colValue,children:a.jsx(I,{size:"small",children:U(i)})}),a.jsx(j,{className:dn.colAvvik})]}),a.jsx(O,{children:a.jsx(j,{children:a.jsx("div",{className:dn.linjeSkilleTykk})})}),a.jsxs(O,{children:[a.jsx(j,{className:dn.colLable,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.BeregnetAvvik"})})}),a.jsx(j,{className:dn.colValue,children:a.jsx(I,{size:"small",children:U(t===void 0?0:t)})}),a.jsx(j,{className:dn.colAvvik,children:a.jsx(I,{size:"small",className:`${l>25?L.redError:""} ${L.semiBoldText}`,children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.AvvikProsent",values:{avvik:l}})})})]})]})},RB=e=>e.some(n=>n.aktivitetStatus===F.FRILANSER&&(n.overstyrtPrAar||n.overstyrtPrAar===0)),wa=({readOnly:e,fieldIndex:n,formName:r,alleAndelerIForstePeriode:t})=>a.jsxs(O,{className:oe.verticalAlignMiddle,children:[a.jsx(j,{className:oe.atflAvvikAktivitet,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerFL"})})}),a.jsx(j,{className:oe.atflAvvikInntekt,children:a.jsx("div",{id:"readOnlyWrapper",className:e?oe.inputPadding:void 0,children:a.jsx(xe,{name:`${r}.${n}.inntektFrilanser`,validate:[X,cn(178956970)],readOnly:e,parse:Le,className:oe.breddeInntekt,isEdited:e&&RB(t)})})})]});wa.buildInitialValues=e=>{const n=e.length>0?U(e[0].overstyrtPrAar):void 0;return n?{inntektFrilanser:n}:{}};const OB=pn(1500),BB=fn(3),Ua="fastsettBeregningsgrnunnlagSNBegrunnelse",Ca="bruttoBeregningsgrunnlag",{FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:FB}=de,Gr=({readOnly:e,isAksjonspunktClosed:n,erNyArbLivet:r,fieldIndex:t,formName:i})=>{const s=Q();return a.jsxs(a.Fragment,{children:[r&&a.jsxs(a.Fragment,{children:[a.jsxs(O,{className:oe.verticalAlignMiddle,children:[a.jsx(j,{className:oe.dynamiskKolonne,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.BruttoBerGr2"})})}),a.jsx(j,{children:a.jsx("div",{id:"readOnlyWrapper",className:e?oe.inputPadding:void 0,children:a.jsx(xe,{name:`${i}.${t}.${Ca}`,validate:[X,cn(178956970)],parse:Le,className:oe.breddeInntekt,isEdited:e&&n,readOnly:e})})})]}),a.jsx(A,{eightPx:!0})]}),a.jsx(A,{sixteenPx:!0}),a.jsx(O,{children:a.jsx(j,{children:a.jsx("div",{id:"readOnlyWrapper",className:e?oe.verticalLine:oe.textAreaWrapperHeigh,children:a.jsx(Xe,{name:`${i}.${t}.${Ua}`,label:a.jsx(m,{id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag"}),validate:[X,OB,BB,mn],isEdited:e&&n,maxLength:1500,readOnly:e,description:s.formatMessage({id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst"}),parse:l=>l.toString().replaceAll("‑","-").replaceAll("	"," ")})})})})]})};Gr.buildInitialValuesNyIArbeidslivet=(e,n)=>{const r=e.find(i=>i.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE),t=n.find(i=>i.definisjon===FB);return{[Ca]:r?U(r.overstyrtPrAar):void 0,[Ua]:t&&t.begrunnelse?t.begrunnelse:void 0}};Gr.transformValuesNyIArbeidslivet=e=>({begrunnelse:e[Ua],bruttoBeregningsgrunnlag:me(e[Ca])});const $B=pn(1500),DB=fn(3),za="varigEndringNyoppstartetBegrunnelse",Ya="erVarigEndret",Ha="bruttoBeregningsgrunnlag",{VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:VB,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:GB}=de,LB=e=>e?a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndretInntektFastsettesTil"}):a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.BruttoBerGr2"}),Ot=({readOnly:e,erVarigEndring:n,erVarigEndretArbeidssituasjon:r,erNyoppstartet:t,fieldIndex:i,formName:s,isAksjonspunktClosed:l})=>{let o=a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IngenEndring"}),d=a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.EndretNaering"});t&&!n&&(o=a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeNyoppstartet"}),d=a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.Nyoppstartet"})),n&&!t&&(o=a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeVarigEndring"}),d=a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndring"}));let u="Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringNæring";r&&(u="Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringArbeid"),t&&(u="Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelNyoppstartetNæring");const g=Q(),p=Se().watch(s)[i].erVarigEndret,v=[{value:"false",label:o},{value:"true",label:d}];return a.jsxs(a.Fragment,{children:[a.jsx(O,{children:a.jsx(j,{children:a.jsx(Te,{name:`${s}.${i}.${Ya}`,validate:[X],label:g.formatMessage({id:u}),isHorizontal:!1,isReadOnly:e,isEdited:e&&l,radios:v,isTrueOrFalseSelection:!0})})}),p&&a.jsxs(a.Fragment,{children:[a.jsxs(O,{className:oe.verticalAlignMiddle,children:[a.jsx(j,{className:oe.dynamiskKolonne,children:a.jsx(I,{size:"small",children:LB(r)})}),a.jsx(j,{children:a.jsx("div",{id:"readOnlyWrapper",className:e?oe.inputPadding:void 0,children:a.jsx(xe,{name:`${s}.${i}.${Ha}`,validate:[X,cn(178956970)],parse:Le,className:oe.breddeInntekt,readOnly:e,isEdited:e&&l})})})]}),a.jsx(A,{sixteenPx:!0})]}),a.jsxs(a.Fragment,{children:[a.jsx(A,{sixteenPx:!0}),a.jsx(O,{children:a.jsx(j,{children:a.jsx(Xe,{name:`${s}.${i}.${za}`,label:a.jsx(m,{id:"Beregningsgrunnlag.Forms.Vurdering"}),validate:[X,$B,DB,mn],maxLength:1500,readOnly:e,description:g.formatMessage({id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst"}),parse:h=>h.toString().replaceAll("‑","-").replaceAll("	"," ")})})})]})]})};Ot.buildInitialValues=(e,n)=>{const r=e.find(i=>i.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE||i.aktivitetStatus===F.BRUKERS_ANDEL),t=n.find(i=>i.definisjon===VB||i.definisjon===GB);if(t){const i=vn(t.status)?void 0:e[0].overstyrtPrAar!==null&&e[0].overstyrtPrAar!==void 0;return{[Ya]:i,[za]:t.begrunnelse?t.begrunnelse:"",[Ha]:r?U(r.overstyrtPrAar):void 0}}return{}};Ot.transformValues=e=>{const n=e[Ya];return{begrunnelse:e[za],erVarigEndretNaering:n,erVarigEndret:n,bruttoBeregningsgrunnlag:n?me(e[Ha]):void 0}};const{FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:Ja,VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:MB,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:ck}=de,vk=(e,n)=>n.some(r=>r.definisjon===e),KB=e=>e&&(e.definisjon===MB||e.definisjon===Ja||e.definisjon===ck),On=({readOnly:e,avklaringsbehov:n,erNyArbLivet:r,erVarigEndring:t,erNyoppstartet:i,fieldIndex:s,formName:l})=>{if(!KB(n))return null;const o=n?!vn(n.status):!1;return r?a.jsx(Gr,{readOnly:e,isAksjonspunktClosed:o,erNyArbLivet:r,fieldIndex:s,formName:l}):a.jsx(Ot,{readOnly:e,erVarigEndring:t,erVarigEndretArbeidssituasjon:n.definisjon===ck,erNyoppstartet:i,fieldIndex:s,formName:l,isAksjonspunktClosed:o})};On.defaultProps={erNyArbLivet:!1,erVarigEndring:!1,erNyoppstartet:!1};On.buildInitialValues=(e,n)=>vk(Ja,n)?Gr.buildInitialValuesNyIArbeidslivet(e,n):{...Ot.buildInitialValues(e,n)};On.transformValues=(e,n)=>vk(Ja,n)?Gr.transformValuesNyIArbeidslivet(e):Ot.transformValues(e);const wB=Me(ek),UB=(e,n,r,t)=>!e&&!r||n?!0:t===void 0?!e:!e&&t||t,CB=({isReadOnly:e,isSubmittable:n,isSubmitting:r,isDirty:t,text:i,onClick:s,hasEmptyRequiredFields:l})=>e?null:a.jsx(ie,{variant:"primary",size:"small",loading:r,disabled:UB(t,r,n,l),onClick:s||Js,type:s?"button":"submit",children:i||wB.formatMessage({id:"SubmitButton.ConfirmInformation"})}),{FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:zB,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:YB,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:HB,VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:JB,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:qB}=de;var er=(e=>(e.ÅTTE_TRETTIFEM="8-35",e.ÅTTE_TRETTI="8-30",e))(er||{});const qa=(e,n)=>fe.SN===e||fe.MIDLERTIDIG_INAKTIV===e||fe.ATFLSN===e&&n!=null&&n.find(r=>Od(r))?"8-35":"8-30",Cs=e=>qB===e.definisjon||JB===e.definisjon||HB===e.definisjon?"8-35":zB===e.definisjon||YB===e.definisjon?"8-30":null,{VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:hk,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:bk,FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:jk,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:xk,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:Ak}=de,WB=e=>{var n;const r=(e.beregningsgrunnlagPeriode&&e.beregningsgrunnlagPeriode.length>0?e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel||[]:[]).find(t=>t.aktivitetStatus&&t.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE);return(n=r==null?void 0:r.næringer)!=null&&n.some(t=>t.erNyoppstartet===!0)?"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerNyoppstartet":"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndring"},ZB=(e,n)=>{switch(e.definisjon){case hk:return WB(n);case Ak:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerSNNyIArb";case bk:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndringArbeid";case jk:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFL";case xk:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFLTidsbegrenset";default:return"Ukjent aksjonspunkt"}},XB=e=>{const n=e.aktivitetStatus||[],r=n.some(i=>Pd(i)),t=n.some(i=>Rd(i));return r&&t?"Beregningsgrunnlag.AksjonspunktBehandler.TittelATFLAvvik":t?"Beregningsgrunnlag.AksjonspunktBehandler.TittelFLAvvik":"Beregningsgrunnlag.AksjonspunktBehandler.TittelATAvvik"},QB=(e,n)=>{switch(e.definisjon){case hk:return"Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringNyoppstartet";case Ak:return"Beregningsgrunnlag.AksjonspunktBehandler.TittelSNNyIArb";case bk:return"Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringArbeid";case jk:case xk:return XB(n);default:return"Ukjent aksjonspunkt"}},eF=({avklaringsbehov:e,beregningsgrunnlag:n,readOnly:r})=>e?a.jsxs("div",{className:r?oe.aksjonspunktBehandlerNoBorder:oe.aksjonspunktBehandlerHeader,children:[a.jsxs(O,{children:[!r&&a.jsx(j,{className:oe.aksjonspunktBehandlerImageCol,children:a.jsx(nr,{className:oe.warningIcon})}),a.jsx(j,{className:oe.aksjonspunktBehandlerTextCol,children:a.jsx(D,{children:a.jsx(m,{id:QB(e,n)})})})]}),a.jsx(A,{eightPx:!0}),a.jsxs(O,{children:[!r&&a.jsx(j,{className:oe.aksjonspunktBehandlerImageCol}),a.jsx(j,{className:oe.aksjonspunktBehandlerTextCol,children:a.jsx(I,{children:a.jsx(m,{id:ZB(e,n)})})})]})]}):null,nF=fn(3),rF=pn(1500),{FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:Xo,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:Qo,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:ed,VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:nd,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:rd}=de,tF="BeregningForm",ji=(e,n)=>Cs(e)===n,iF=(e,n)=>!!e.find(r=>ji(r,n)),Wa=e=>`${tF}_${e}`,td=(e,n)=>{if(!e||e.length<1)return!1;const r=e[0].beregningsgrunnlagPrStatusOgAndel?e[0].beregningsgrunnlagPrStatusOgAndel:[];return r==null?void 0:r.some(t=>t.aktivitetStatus===n&&t.skalFastsetteGrunnlag)},zs=e=>e&&e.length>0?e[0].beregningsgrunnlagPrStatusOgAndel?e[0].beregningsgrunnlagPrStatusOgAndel:[]:[],sF=e=>e.some(({periodeAarsaker:n})=>n&&n.some(r=>r===un.ARBEIDSFORHOLD_AVSLUTTET)),aF=(e,n)=>e.perioder.find(({periode:r})=>r.fom===n),lF=(e,n)=>{if(!e||!e.beregningsgrunnlagPeriode)return{};const r=e.beregningsgrunnlagPeriode,t=e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel||[],i=t.filter(u=>u.aktivitetStatus===F.ARBEIDSTAKER),s=t.filter(u=>u.aktivitetStatus===F.FRILANSER),l=t.filter(u=>u.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE||u.aktivitetStatus===F.BRUKERS_ANDEL),o={...Fn.buildInitialValues(e.avklaringsbehov),...Rt.buildInitialValues(r),...wa.buildInitialValues(s),...wi.buildInitialValues(i)},d={...On.buildInitialValues(l,e.avklaringsbehov)};return n?n.sammenligningsgrunnlagType===fe.ATFLSN?{...o,...d}:n.sammenligningsgrunnlagType===fe.AT_FL?{...o}:n.sammenligningsgrunnlagType===fe.SN?{...d}:n.sammenligningsgrunnlagType===fe.MIDLERTIDIG_INAKTIV?{...d}:{}:{...Gr.buildInitialValuesNyIArbeidslivet(l,e.avklaringsbehov)}},oF=(e,n,r,t)=>{let i={};return r&&(i=lF(e,t)),{...i,periode:n.periode,erTilVurdering:n.vurderesIBehandlingen&&!n.erForlengelse,gjeldendeAvklaringsbehov:r?[r]:[],skjæringstidspunkt:e.skjaeringstidspunktBeregning,allePerioder:e.beregningsgrunnlagPeriode}},dF=(e,n,r,t)=>({[r]:e.map(i=>{var s;return oF(i,aF(n,i.vilkårsperiodeFom),i.avklaringsbehov.find(l=>ji(l,t)),(s=i.sammenligningsgrunnlagPrStatus)==null?void 0:s.find(l=>qa(l.sammenligningsgrunnlagType,i.aktivitetStatus)===t))})}),gF=(e,n,r,t,i)=>{const s=zs(n).find(u=>u.aktivitetStatus&&u.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE),l=s&&s.erNyIArbeidslivet,o=r.definisjon===de.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON||s&&s.næringer&&s.næringer.some(u=>u.erVarigEndret===!0),d=s&&s.næringer&&s.næringer.some(u=>u.erNyoppstartet===!0);return!l&&!d&&!o?null:a.jsxs(a.Fragment,{children:[a.jsx(A,{eightPx:!0}),a.jsx(On,{readOnly:e,avklaringsbehov:r,erNyArbLivet:l,erVarigEndring:o,erNyoppstartet:d,fieldIndex:t,formName:i})]})},uF=(e,n,r,t,i,s,l)=>{const o=sF(n),d=td(n,F.FRILANSER),u=td(n,F.ARBEIDSTAKER);return a.jsxs(a.Fragment,{children:[a.jsx(A,{eightPx:!0}),o&&a.jsx(Rt,{readOnly:t,formName:l,allePerioder:n,kodeverkSamling:e,arbeidsgiverOpplysningerPerId:r,fieldIndex:s}),!o&&u&&a.jsx(Ma,{readOnly:t,alleAndelerIForstePeriode:zs(n),kodeverkSamling:e,arbeidsgiverOpplysningerPerId:r,fieldIndex:s,formName:l}),d&&a.jsx(wa,{readOnly:t,fieldIndex:s,formName:l,alleAndelerIForstePeriode:zs(n)}),a.jsx(A,{sixteenPx:!0}),a.jsx(O,{children:a.jsx(j,{children:a.jsx(Xe,{name:`${l}.${s}.ATFLVurdering`,label:a.jsx(m,{id:"Beregningsgrunnlag.Forms.Vurdering"}),validate:[X,rF,nF,mn],maxLength:1500,readOnly:t,className:oe.textAreaStyle,description:i.formatMessage({id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst"}),parse:g=>g.toString().replaceAll("‑","-").replaceAll("	"," ")})})})]})},kF=(e,n)=>(n.aksjonspunkter.forEach(r=>{const t=e.find(i=>i.kode===r.kode);t!==void 0?(t.grunnlag.push({periode:n.periode,...r.aksjonspunktData}),t.begrunnelse=`${t.begrunnelse} ${r.aksjonspunktData.begrunnelse}`):e.push({kode:r.kode,begrunnelse:r.aksjonspunktData.begrunnelse,grunnlag:[{periode:n.periode,...r.aksjonspunktData}]})}),e),et=(e,n)=>n!=null&&n.some(r=>r.definisjon===e),mF=e=>{const{allePerioder:n}=e;if(n.length<1)throw new Error("Ingen beregningsgrunnlagperioder, ugyldig tilstand");n.sort((t,i)=>!t.beregningsgrunnlagPeriodeFom||!i.beregningsgrunnlagPeriodeFom?0:t.beregningsgrunnlagPeriodeFom.localeCompare(i.beregningsgrunnlagPeriodeFom));const r=n[0].beregningsgrunnlagPrStatusOgAndel||[];if(et(Xo,e.gjeldendeAvklaringsbehov))return[{kode:Xo,aksjonspunktData:Fn.transformATFLValues(e,r)}];if(et(nd,e.gjeldendeAvklaringsbehov))return[{kode:nd,aksjonspunktData:On.transformValues(e,e.gjeldendeAvklaringsbehov)}];if(et(rd,e.gjeldendeAvklaringsbehov))return[{kode:rd,aksjonspunktData:On.transformValues(e,e.gjeldendeAvklaringsbehov)}];if(et(ed,e.gjeldendeAvklaringsbehov))return[{kode:ed,aksjonspunktData:On.transformValues(e,e.gjeldendeAvklaringsbehov)}];if(et(Qo,e.gjeldendeAvklaringsbehov))return[{kode:Qo,aksjonspunktData:Fn.transformATFLTidsbegrensetValues(e,n)}];throw new Error("Må submitte et aksjonspunkt")},fF=(e,n)=>e[Wa(n)].filter(r=>r.erTilVurdering).map(r=>({periode:r.periode,aksjonspunkter:mF(r)})).reduce(kF,[]),pF=({readOnly:e,readOnlySubmitButton:n,kodeverkSamling:r,arbeidsgiverOpplysningerPerId:t,beregningsgrunnlagListe:i,vilkår:s,submitCallback:l,formData:o,setFormData:d,aktivIndex:u,lovparagraf:g,finnesFormSomSubmittes:p,setSubmitting:v})=>{const h=Q(),x=(w,Y)=>{v(!0),l(fF(w,Y))},_=i.filter(w=>iF(w.avklaringsbehov,g)),N=Wa(g),y=He({defaultValues:o||dF(_,s,N,g)}),{formState:{dirtyFields:B,isSubmitted:S},control:$,trigger:V}=y,{fields:G}=an({name:N,control:$}),K=b.useRef(null);b.useEffect(()=>{var w,Y;S&&(w=B[N])!=null&&w[u]&&V(),i[u].avklaringsbehov.some(H=>ji(H,g)&&H.status===ia.OPPRETTET)&&((Y=K==null?void 0:K.current)==null||Y.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}))},[u]);const ee=a.jsx(O,{children:a.jsx(j,{children:a.jsx(CB,{isReadOnly:e,isSubmittable:!n,isDirty:y.formState.isDirty,isSubmitting:p})})}),ne=w=>w.find(Y=>ji(Y,g)),z=(w,Y)=>{const H=ne(Y);return g===er.ÅTTE_TRETTI&&H?uF(r,_[w].beregningsgrunnlagPeriode,t,e,h,w,N):g===er.ÅTTE_TRETTIFEM&&H?gF(e,_[w].beregningsgrunnlagPeriode,H,w,N):null},q=i[u].vilkårsperiodeFom;return a.jsx("div",{ref:K,children:a.jsx(Je,{formMethods:y,onSubmit:w=>x(w,g),setDataOnUnmount:d,children:G.map((w,Y)=>a.jsxs("div",{style:{display:_[Y].vilkårsperiodeFom===q?"block":"none"},children:[a.jsx(eF,{readOnly:e,avklaringsbehov:ne(_[Y].avklaringsbehov),beregningsgrunnlag:_[Y]}),a.jsxs("div",{className:e?oe.aksjonspunktBehandlerNoBorder:oe.aksjonspunktBehandlerBorder,children:[z(Y,_[Y].avklaringsbehov),a.jsx(A,{sixteenPx:!0}),ee,a.jsx(A,{sixteenPx:!0})]})]},w.id))})})},cF=e=>e.overstyrtPrAar!==null&&e.overstyrtPrAar!==void 0?!0:e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,vF=(e,n)=>e?e.filter(r=>n.includes(r.aktivitetStatus)).filter(r=>cF(r)):[],id=e=>e||0,hF=e=>e.beregnetPrAar?e.beregnetPrAar:0,sd=(e,n)=>{const r=vF(e,n);if(r){const t=r.reduce((l,o)=>l+hF(o),0),i=r.reduce((l,o)=>{var d;return l+id((d=o==null?void 0:o.arbeidsforhold)==null?void 0:d.naturalytelseBortfaltPrÅr)},0),s=r.reduce((l,o)=>{var d;return l+id((d=o==null?void 0:o.arbeidsforhold)==null?void 0:d.naturalytelseTilkommetPrÅr)},0);return t+i-s}return 0},bF=(e,n)=>{const r=a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.ATFL.Tittel"}),t=a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.SN.Tittel"});switch(e.sammenligningsgrunnlagType){case fe.AT:case fe.FL:case fe.AT_FL:return r;case fe.SN:return t;case fe.ATFLSN:return n===er.ÅTTE_TRETTIFEM?t:r;case fe.MIDLERTIDIG_INAKTIV:return a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.MIDL.Tittel"});default:throw new Error(`Ukjent sammenligningstype ${e.sammenligningsgrunnlagType}`)}},ad=(e,n)=>{const r=n.find(t=>(t.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE||t.aktivitetStatus===F.BRUKERS_ANDEL)&&!t.erTilkommetAndel);return e.sammenligningsgrunnlagType===fe.SN&&r?{inntekt:r.pgiSnitt||0,erPGI:!0}:e.sammenligningsgrunnlagType===fe.MIDLERTIDIG_INAKTIV&&r?{inntekt:r.pgiSnitt||0,erPGI:!0}:e.sammenligningsgrunnlagType===fe.ATFLSN?r?{inntekt:r.pgiSnitt||0,erPGI:!0}:{inntekt:sd(n,[F.ARBEIDSTAKER,F.FRILANSER]),erPGI:!1}:{inntekt:sd(n,[F.ARBEIDSTAKER,F.FRILANSER]),erPGI:!1}};function ld(e,n,r){const t={...e};return t[n]?t[n].push(r):t[n]=[r],t}const jF=e=>e.reduce((n,r)=>{let t={...n};return r.avklaringsbehov.find(i=>i.definisjon===de.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET)&&(t=ld(t,er.ÅTTE_TRETTIFEM,r)),!r.sammenligningsgrunnlagPrStatus||r.sammenligningsgrunnlagPrStatus.length===0||r.sammenligningsgrunnlagPrStatus.forEach(i=>{const s=qa(i.sammenligningsgrunnlagType,r.aktivitetStatus);t=ld(t,s,r)}),t},{}),xF=({readOnly:e,readOnlySubmitButton:n,kodeverkSamling:r,relevanteStatuser:t,arbeidsgiverOpplysningerPerId:i,gjelderBesteberegning:s,sammenligningsgrunnlag:l,beregningsgrunnlagListe:o,vilkår:d,submitCallback:u,formData:g,setFormData:p,aktivIndex:v})=>{var h;const x=jF(o),[_,N]=b.useState(!1),y=a.jsx(hB,{sammenligningsgrunnlag:l,relevanteStatuser:t,erManueltBesteberegnet:s,erNyIArbeidslivet:!!((h=o[v].beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel)!=null&&h.find(S=>S.erNyIArbeidslivet))}),B=S=>{var $;if(x[S]&&x[S].length>0){const V=x[S],G=o[v].vilkårsperiodeFom,K=V.find(Y=>Y.vilkårsperiodeFom===G),ee=K?($=K.sammenligningsgrunnlagPrStatus)==null?void 0:$.find(Y=>qa(Y.sammenligningsgrunnlagType,K==null?void 0:K.aktivitetStatus)===S):void 0,ne=!!x[S].find(Y=>!!Y.avklaringsbehov.find(H=>Cs(H)===S)),z=K&&!!K.avklaringsbehov.find(Y=>Cs(Y)===S),q=(K==null?void 0:K.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel)||[],w=Wa(S);return a.jsxs("div",{children:[!!ee&&a.jsxs(a.Fragment,{children:[a.jsx(ce,{size:"xsmall",children:bF(ee,S)}),a.jsx(PB,{sammenligningsgrunnlag:ee,beregnetAarsinntekt:ad(ee,q).inntekt,erPGI:ad(ee,q).erPGI}),a.jsx("div",{className:L.storSpace})]}),ne&&a.jsxs("div",{style:{display:z?"block":"none"},children:[a.jsx(pF,{readOnly:e,lovparagraf:S,kodeverkSamling:r,readOnlySubmitButton:n,arbeidsgiverOpplysningerPerId:i,beregningsgrunnlagListe:o,vilkår:d,submitCallback:u,formData:g&&w in g?g:void 0,setFormData:p,aktivIndex:v,finnesFormSomSubmittes:_,setSubmitting:N}),a.jsx("div",{className:L.storSpace})]})]})}return null};return a.jsxs("div",{className:L.panelRight,children:[y,a.jsx(A,{twentyPx:!0}),B(er.ÅTTE_TRETTI),B(er.ÅTTE_TRETTIFEM)]})},AF="_kolBeskrivelse_1czvx_1",IF="_kolVerdi_1czvx_4",TF="_radNoBorder_1czvx_9",EF="_radDobbelLinje_1czvx_14",_F="_radEnkelLinje_1czvx_20",yF="_radTykkLinje_1czvx_24",SF="_kolVerdiRød_1czvx_28",NF="_kolAvslagIkon_1czvx_31",PF="_kolAvslagTekst_1czvx_34",RF="_avslåttIkon_1czvx_38",je={kolBeskrivelse:AF,kolVerdi:IF,radNoBorder:TF,radDobbelLinje:EF,radEnkelLinje:_F,radTykkLinje:yF,kolVerdiRød:"_kolVerdiRød_1czvx_28",kolVerdiRod:SF,kolAvslagIkon:NF,kolAvslagTekst:PF,avslåttIkon:"_avslåttIkon_1czvx_38",avslattIkon:RF},OF=260,Ik={[F.ARBEIDSTAKER]:{rekkefølgePri:1,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Arbeid"},[F.FRILANSER]:{rekkefølgePri:2,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Frilans"},[F.DAGPENGER]:{rekkefølgePri:3,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Dagpenger"},[F.SYKEPENGER_AV_DAGPENGER]:{rekkefølgePri:3,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.SykepengerAvDagpenger"},[F.PLEIEPENGER_AV_DAGPENGER]:{rekkefølgePri:3,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.PleiepengerAvDagpenger"},[F.ARBEIDSAVKLARINGSPENGER]:{rekkefølgePri:4,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Arbeidsavklaringspenger"},[F.KUN_YTELSE]:{rekkefølgePri:5,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Ytelse"},[F.MILITAER_ELLER_SIVIL]:{rekkefølgePri:6,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Militær"},[F.BRUKERS_ANDEL]:{rekkefølgePri:7,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.BrukersAndel"},[F.SELVSTENDIG_NAERINGSDRIVENDE]:{rekkefølgePri:8,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Næring"}},od=e=>{var n;return((n=Ik[e.status])==null?void 0:n.rekkefølgePri)||100},BF=e=>{var n;return((n=Ik[e.status])==null?void 0:n.beskrivelseId)||"Ukjent andel"},FF=()=>a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.IkkeBeregnet"}),$F=e=>e.reduce((n,r)=>(r.inntektPlussNaturalytelse||0)+n,0),DF=(e,n)=>(n==null?void 0:n.ytelsetype)!==Fd.FORELDREPENGER&&e.avkortetPrÅr?Math.round(e.avkortetPrÅr/OF):e.dagsats||0,Yn=()=>a.jsx("div",{className:je.radEnkelLinje}),VF=(e,n)=>a.jsxs(pe,{children:[a.jsx(A,{twentyPx:!0}),a.jsxs(O,{children:[a.jsx(j,{className:je.avslåttIkon,children:a.jsx(vm,{})}),a.jsx(j,{className:je.kolAvslagTekst,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:n?"Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfyltMidlertidigInaktiv":"Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfylt2",values:{grunnbeløp:U(e),b:r=>a.jsx("b",{children:r})}})})})]})]}),GF=e=>!!e.aktivitetStatus&&e.aktivitetStatus.some(n=>n===F.MIDLERTIDIG_INAKTIV),LF=(e,n,r,t)=>{const i=e.andeler.reduce((g,p)=>(p.inntektPlussNaturalytelse||0)+g,0);if(n.vilkarStatus===rl.IKKE_VURDERT)return null;if(n.vilkarStatus===rl.IKKE_OPPFYLT)return VF(r.grunnbeløp,GF(r));const s=r.grunnbeløp*6,l=i>s,o=r.dekningsgrad!==Im.HUNDRE,d=DF(e,r.ytelsesspesifiktGrunnlag),u=t&&(l||o);return a.jsxs(pe,{children:[u&&a.jsx(A,{fourtyPx:!0}),l&&a.jsxs(a.Fragment,{children:[Yn(),a.jsxs(O,{className:je.radNoBorder,children:[a.jsx(j,{className:je.kolBeskrivelse,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Avkortet"})})}),a.jsx(j,{className:je.kolVerdi,children:a.jsx(I,{size:"small",children:U(e.avkortetPrÅr)})})]}),Yn()]}),o&&a.jsxs(a.Fragment,{children:[!l&&t&&a.jsx(a.Fragment,{children:Yn()}),a.jsxs(O,{className:je.radNoBorder,children:[a.jsx(j,{className:je.kolBeskrivelse,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Redusert"})})}),a.jsx(j,{className:je.kolVerdi,children:a.jsx(I,{size:"small",children:U(e.redusertPrÅr)})})]}),Yn()]}),a.jsx(A,{fourtyPx:!0}),a.jsxs(O,{className:je.radNoBorder,children:[a.jsx(j,{className:je.kolBeskrivelse,children:a.jsx(D,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Dagsats"})})}),a.jsx(j,{className:je.kolVerdi,children:a.jsx(D,{size:"medium",children:d})})]}),a.jsx("div",{className:je.radDobbelLinje})]})},MF=({tabellData:e,skalVisePeriode:n,vilkårsperiode:r,beregningsgrunnlag:t})=>{const i=e.andeler.length>1&&!e.andeler.some(o=>!o.erFerdigBeregnet);e.andeler.sort((o,d)=>od(o)-od(d));const s=e.andeler.length>1,l=e.andeler.every(o=>o.erFerdigBeregnet);return a.jsxs(a.Fragment,{children:[n&&a.jsxs(a.Fragment,{children:[a.jsx(O,{children:a.jsx(j,{children:a.jsx(ce,{size:"xsmall",children:a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Periode",values:{fom:T(e.fom).format(te),tom:e.tom?T(e.tom).format(te):""}})})})}),a.jsx(A,{eightPx:!0})]}),e.andeler.map((o,d)=>a.jsxs(W.Fragment,{children:[d===0&&a.jsx(a.Fragment,{children:Yn()}),a.jsxs(O,{className:je.radNoBorder,children:[a.jsx(j,{className:je.kolBeskrivelse,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:BF(o)})})}),a.jsx(j,{className:je.kolVerdi,children:a.jsx(I,{size:"small",className:o.erFerdigBeregnet?"":je.kolVerdiRød,children:o.erFerdigBeregnet?U(o.inntekt):FF()})})]}),!!o.bortfaltNaturalytelse&&a.jsxs(a.Fragment,{children:[Yn(),a.jsxs(O,{className:je.radNoBorder,children:[a.jsx(j,{className:je.kolBeskrivelse,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Naturalytelser"})})}),a.jsx(j,{className:je.kolVerdi,children:a.jsx(I,{size:"small",children:U(o.bortfaltNaturalytelse)})})]})]}),Yn()]},o.status)),i&&a.jsxs(a.Fragment,{children:[a.jsxs(O,{className:je.radNoBorder,children:[a.jsx(j,{className:je.kolBeskrivelse,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.TotalÅrsinntekt"})})}),a.jsx(j,{className:je.kolVerdi,children:a.jsx(I,{size:"small",children:U($F(e.andeler))})})]}),a.jsx("div",{className:je.radTykkLinje})]}),l&&a.jsx(a.Fragment,{children:LF(e,r,t,s)})]})},KF=[un.ARBEIDSFORHOLD_AVSLUTTET,un.NATURALYTELSE_TILKOMMER,un.NATURALYTELSE_BORTFALT],wF=e=>e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,UF=e=>e.besteberegningPrAar||e.besteberegningPrAar===0?e.besteberegningPrAar:e.overstyrtPrAar||e.overstyrtPrAar===0?e.overstyrtPrAar:e.beregnetPrAar||0,CF=(e,n)=>{switch(e){case F.ARBEIDSTAKER:case F.FRILANSER:return n.find(r=>r.definisjon===de.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS||r.definisjon===de.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD);case F.SELVSTENDIG_NAERINGSDRIVENDE:return n.find(r=>r.definisjon===de.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET||r.definisjon===de.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE);case F.BRUKERS_ANDEL:return n.find(r=>r.definisjon===de.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON);default:return}},zF=e=>{var n,r;const t=(n=e==null?void 0:e.arbeidsforhold)==null?void 0:n.naturalytelseBortfaltPrÅr,i=((r=e==null?void 0:e.arbeidsforhold)==null?void 0:r.naturalytelseTilkommetPrÅr)||0;return t?t-i:0},YF=e=>{const{beregnetPrAar:n,pgiSnitt:r}=e;return!!n||n===0||!!r||r===0},HF=(e,n)=>{const r=e.filter(s=>wF(s)),t={};r.forEach(s=>{const l=t[s.aktivitetStatus];l?l.push(s):t[s.aktivitetStatus]=[s]});const i=[];return Object.keys(t).forEach(s=>{const l=t[s],o=CF(s,n),d=l.every(x=>YF(x)),u=l.reduce((x,_)=>UF(_)+x,0),g=l.reduce((x,_)=>zF(_)+x,0),p=(u||0)+(g||0),v=!!o&&vn(o.status),h=d&&!v;i.push({inntekt:u,bortfaltNaturalytelse:g,inntektPlussNaturalytelse:p,erFerdigBeregnet:h,status:s})}),i},JF=e=>e.some(n=>KF.includes(n)),qF=e=>{const{beregningsgrunnlagPeriode:n}=e,r=n.filter(i=>i.beregningsgrunnlagPeriodeFom===e.skjaeringstidspunktBeregning||!!i.periodeAarsaker&&JF(i.periodeAarsaker)).map(i=>i.beregningsgrunnlagPeriodeFom).sort((i,s)=>new Date(i).getTime()-new Date(s).getTime()),t=[];for(let i=0;i<r.length;i+=1){const s=r[i],l=i+1<r.length?T(r[i+1]).subtract(1,"day").format(Ne).toString():void 0,o=n.find(h=>h.beregningsgrunnlagPeriodeFom===s),d=(o==null?void 0:o.periodeAarsaker)||[],u=HF((o==null?void 0:o.beregningsgrunnlagPrStatusOgAndel)||[],e.avklaringsbehov),g=o==null?void 0:o.redusertPrAar,p=o==null?void 0:o.avkortetPrAar,v=o==null?void 0:o.dagsats;t.push({fom:s,tom:l,årsak:d,andeler:u,redusertPrÅr:g,avkortetPrÅr:p,dagsats:v})}return t},WF=({beregningsgrunnlag:e,vilkårsperiode:n})=>{const r=b.useMemo(()=>qF(e),[e]),t=r.length>1;return a.jsxs("div",{className:L.panelRight,children:[a.jsx(ce,{size:"small",className:L.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.BeregningTable.Tittel"})}),a.jsx(A,{eightPx:!0}),r.map(i=>a.jsxs("div",{children:[a.jsx(MF,{tabellData:i,skalVisePeriode:t,vilkårsperiode:n,beregningsgrunnlag:e}),a.jsx(A,{fourtyPx:!0})]},i.fom))]})},ZF=e=>e&&e.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller.some(n=>n===Z.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE):!1,XF=e=>!!(e!=null&&e.besteberegninggrunnlag),QF=e=>e[0].beregningsgrunnlagPrStatusOgAndel?e[0].beregningsgrunnlagPrStatusOgAndel.filter(n=>n.erTilkommetAndel!==!0).map(n=>n.aktivitetStatus):[],e$=({readOnly:e,valgtBeregningsgrunnlag:n,relevanteStatuser:r,readOnlySubmitButton:t,kodeverkSamling:i,vilkarPeriode:s,arbeidsgiverOpplysningerPerId:l,gjeldendeAvklaringsbehov:o,alleBeregningsgrunnlag:d,vilkår:u,submitCallback:g,formData:p,setFormData:v,aktivIndex:h})=>{var x;const{skjaeringstidspunktBeregning:_,beregningsgrunnlagPeriode:N,faktaOmBeregning:y,ytelsesspesifiktGrunnlag:B}=n,S=ZF(y),$=XF(B),V=a.jsx("div",{className:L.storSpace}),G=QF(N),K=o&&o.length>0;return a.jsxs(a.Fragment,{children:[K&&a.jsxs(a.Fragment,{children:[a.jsx(A,{eightPx:!0}),a.jsx(DO,{avklaringsbehov:o,beregningsgrunnlag:n})]}),a.jsxs(O,{children:[a.jsxs(j,{className:L.venstreKolonne,children:[a.jsx(ce,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.Title.Beregning"})}),a.jsx(A,{sixteenPx:!0}),a.jsx(zR,{kodeverkSamling:i,aktivitetStatusList:G,skjeringstidspunktDato:_,saksopplysninger:n.faktaOmBeregning?n.faktaOmBeregning.saksopplysninger:void 0,arbeidsgiverOpplysningerPerId:l}),V,r.skalViseBeregningsgrunnlag&&a.jsx(Fn,{relevanteStatuser:r,allePerioder:N,gjelderBesteberegning:S,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:l,sammenligningsGrunnlagInntekter:n.inntektsgrunnlag,sammenligningsgrunnlag:n.sammenligningsgrunnlagPrStatus}),$&&a.jsxs(a.Fragment,{children:[V,a.jsx(hR,{besteMåneder:(x=B==null?void 0:B.besteberegninggrunnlag)==null?void 0:x.besteMåneder,periode:N[0]})]})]}),a.jsxs(j,{className:L.hoyreKolonne,children:[a.jsx(ce,{size:"medium",className:L.panelRight,children:a.jsx(m,{id:"Beregningsgrunnlag.Title.Fastsettelse"})}),a.jsx(A,{sixteenPx:!0}),a.jsx(xF,{readOnly:e,readOnlySubmitButton:t,kodeverkSamling:i,relevanteStatuser:r,arbeidsgiverOpplysningerPerId:l,gjelderBesteberegning:S,sammenligningsgrunnlag:n.sammenligningsgrunnlagPrStatus||[],beregningsgrunnlagListe:d,vilkår:u,submitCallback:g,formData:p,setFormData:v,aktivIndex:h}),a.jsxs(a.Fragment,{children:[a.jsx(A,{sixteenPx:!0}),a.jsx(vB,{beregningsgrunnlag:n})]}),s&&a.jsx(WF,{beregningsgrunnlag:n,vilkårsperiode:s})]})]})]})},n$=[de.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE,de.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON,de.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS,de.FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE,de.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD,de.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET],r$=e=>e.avklaringsbehov.filter(n=>n$.some(r=>r===n.definisjon)),t$=e=>({isArbeidstaker:e.some(n=>Pd(n)),isFrilanser:e.some(n=>Rd(n)),isSelvstendigNaeringsdrivende:e.some(n=>Od(n)),isMidlertidigInaktiv:e.some(n=>n===F.MIDLERTIDIG_INAKTIV),harAndreTilstotendeYtelser:e.some(n=>jm(n)),harDagpengerEllerAAP:e.some(n=>Bd(n)),isAAP:e.some(n=>n===F.ARBEIDSAVKLARINGSPENGER),isDagpenger:e.some(n=>n===F.DAGPENGER||n===F.SYKEPENGER_AV_DAGPENGER),skalViseBeregningsgrunnlag:e.length>0,isKombinasjonsstatus:e.some(n=>xm(n))||e.length>1,isMilitaer:e.some(n=>Am(n))}),i$=e=>e?e.find(n=>n.definisjon===de.VURDER_GRADERING_UTEN_BEREGNINGSGRUNNLAG):void 0,dd=(e,n)=>e.perioder.find(({periode:r})=>r.fom===n),s$=({aktivtBeregningsgrunnlagIndeks:e,beregningsgrunnlagListe:n,submitCallback:r,readOnly:t,readOnlySubmitButton:i,vilkar:s,kodeverkSamling:l,arbeidsgiverOpplysningerPerId:o,formData:d,setFormData:u})=>{const g=n[e],p=t$(g.aktivitetStatus),v=i$(g.avklaringsbehov);function h(x){const _=dd(s,x.vilkårsperiodeFom);return _.vurderesIBehandlingen&&!_.erForlengelse}return a.jsxs(a.Fragment,{children:[a.jsx(e$,{readOnly:t||!h(n[e]),valgtBeregningsgrunnlag:n[e],gjeldendeAvklaringsbehov:r$(n[e]),relevanteStatuser:p,readOnlySubmitButton:i,kodeverkSamling:l,vilkarPeriode:dd(s,n[e].vilkårsperiodeFom),arbeidsgiverOpplysningerPerId:o,alleBeregningsgrunnlag:n,vilkår:s,submitCallback:r,formData:d,setFormData:u,aktivIndex:e}),v&&a.jsx(mR,{avklaringsbehov:v})]})},a$=[de.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE,de.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS,de.FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE,de.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD,de.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET,de.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON],l$=[],o$=aR.bind(ti),gd=Me(ek),d$=e=>{var n;const r=(n=e==null?void 0:e.perioder)==null?void 0:n.some(t=>t.avslagKode==="1043");return a.jsxs(a.Fragment,{children:[a.jsx(ce,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.Title"})}),a.jsx(A,{eightPx:!0}),a.jsx(O,{children:a.jsx(j,{children:a.jsx(m,{id:r?"Beregningsgrunnlag.Avslagsårsak.IkkeTilstrekkeligInntektsgrunnlag":"Beregningsgrunnlag.HarIkkeBeregningsregler"})})})]})},g$=(e,n)=>{const r=n.vilkårsperiodeFom;return(e&&e.perioder?e.perioder.filter(t=>t.vurderesIBehandlingen&&!t.erForlengelse):[]).some(t=>t.periode.fom===r)},u$=e=>e.avklaringsbehov.some(n=>a$.some(r=>r===n.definisjon)&&n.kanLoses),k$=(e,n)=>e.map(r=>({skalVurderes:g$(n,r),harAvklaringsbehov:u$(r),stp:T(r.skjaeringstidspunktBeregning).format(te)})),m$=({beregningsgrunnlagListe:e,submitCallback:n,isReadOnly:r,readOnlySubmitButton:t,beregningsgrunnlagsvilkar:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:l,formData:o,setFormData:d})=>{const u=e||l$,g=u.length>1;u.sort((_,N)=>_.skjaeringstidspunktBeregning.localeCompare(N.skjaeringstidspunktBeregning));const[p,v]=b.useState(0),h=k$(u,i),x=o$("mainContainer",{"mainContainer--withSideMenu":g});return b.useEffect(()=>{const _=h.findIndex(N=>N.skalVurderes&&N.harAvklaringsbehov);_>-1&&v(_)},[e]),e.length===0||e.length===1&&!e[0].aktivitetStatus?a.jsx(Ze,{value:gd,children:d$(i)}):a.jsx(Ze,{value:gd,children:a.jsxs("div",{className:x,children:[g&&a.jsx("div",{className:ti.sideMenuContainer,children:a.jsx(Pm,{links:h.map((_,N)=>({icon:_.skalVurderes&&_.harAvklaringsbehov?a.jsx(nr,{className:ti.advarselIkon}):null,active:p===N,label:`${_.stp}`})),onClick:v,theme:"arrow"})}),a.jsx("div",{className:ti.contentContainer,children:a.jsx(s$,{aktivtBeregningsgrunnlagIndeks:p,beregningsgrunnlagListe:u,submitCallback:n,readOnly:r,readOnlySubmitButton:t,vilkar:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:l,setFormData:d,formData:o})})]})})};const f$=e=>{switch(e){case de.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:return ae.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS;case de.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:return ae.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD;case de.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:return ae.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET;case de.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:return ae.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE;default:throw new Error(`Ukjent avklaringspunkt ${e}`)}},p$=e=>n=>{const t=(Array.isArray(n)?n:[n]).map(i=>({kode:f$(i.kode),...i.grunnlag[0]}));return e(t)},c$=(e,n)=>({avslagKode:n.avslagKode,vurderesIBehandlingen:!0,merknadParametere:{},periode:{fom:e?e.skjaeringstidspunktBeregning:"",tom:Ke},vilkarStatus:n.vilkarStatus}),v$=(e,n)=>{const r=e.find(i=>i.vilkarType&&i.vilkarType===Wn.BEREGNINGSGRUNNLAGVILKARET);return!r||!n?null:{...r,perioder:[c$(n,r)]}},h$=e=>e?[{...e,vilkårsperiodeFom:e.skjaeringstidspunktBeregning}]:[],b$=[ae.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS,ae.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE,ae.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD,ae.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET],j$=[Wn.BEREGNINGSGRUNNLAGVILKARET],x$=[Ce.BEREGNINGSGRUNNLAG],ud=({arbeidsgiverOpplysningerPerId:e,...n})=>Pe.jsx(la,{...n,panelEndepunkter:x$,aksjonspunktKoder:b$,vilkarKoder:j$,prosessPanelKode:Ws.BEREGNINGSGRUNNLAG,prosessPanelMenyTekst:Q().formatMessage({id:"Behandlingspunkt.Beregning"}),skalPanelVisesIMeny:()=>!0,renderPanel:r=>Pe.jsx(m$,{...r,kodeverkSamling:r.alleKodeverk,beregningsgrunnlagsvilkar:v$(r.vilkar,r.beregningsgrunnlag),beregningsgrunnlagListe:h$(r.beregningsgrunnlag),arbeidsgiverOpplysningerPerId:e,submitCallback:p$(r.submitCallback)})});try{ud.displayName="BeregningsgrunnlagProsessStegInitPanel",ud.__docgenInfo={description:"",displayName:"BeregningsgrunnlagProsessStegInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}var Tk={exports:{}},nt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd;function A$(){if(kd)return nt;kd=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(o,d,u){var g,p={},v=null,h=null;u!==void 0&&(v=""+u),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(h=d.ref);for(g in d)t.call(d,g)&&!s.hasOwnProperty(g)&&(p[g]=d[g]);if(o&&o.defaultProps)for(g in d=o.defaultProps,d)p[g]===void 0&&(p[g]=d[g]);return{$$typeof:n,type:o,key:v,ref:h,props:p,_owner:i.current}}return nt.Fragment=r,nt.jsx=l,nt.jsxs=l,nt}Tk.exports=A$();var P=Tk.exports;const I$="_container_osi7h_1",T$="_divider_osi7h_5",E$="_image_osi7h_14",_$="_oneElement_osi7h_21",y$="_aksjonspunktText_osi7h_26",S$="_wordwrap_osi7h_31",mr={container:I$,divider:T$,image:E$,oneElement:_$,aksjonspunktText:y$,wordwrap:S$},Ek="radioVurderTilbaketrekk",_k="begrunnelseVurderTilbaketrekk",N$=pn(1500),P$=fn(3),R$=(e,n)=>{const r=n==null?void 0:n.skalHindreTilbaketrekk;if(!(r==null||!e||!e.begrunnelse))return{radioVurderTilbaketrekk:r,begrunnelseVurderTilbaketrekk:e.begrunnelse}},O$=e=>{const n=e[Ek],r=e[_k];return{kode:ae.VURDER_TILBAKETREKK,begrunnelse:r,hindreTilbaketrekk:n}},B$=({readOnly:e,vurderTilbaketrekkAP:n,readOnlySubmitButton:r,beregningsresultat:t,submitCallback:i,formData:s,setFormData:l})=>{const o=Q(),d=b.useMemo(()=>R$(n,t),[n,t]),u=He({defaultValues:s||d});return P.jsxs(Je,{formMethods:u,onSubmit:g=>i(O$(g)),setDataOnUnmount:l,children:[P.jsx("div",{className:mr.container,children:P.jsx(pe,{children:P.jsxs(O,{children:[P.jsx(j,{children:P.jsx(nr,{className:mr.image,title:o.formatMessage({id:"HelpText.Aksjonspunkt"})})}),P.jsx(j,{children:P.jsx("div",{className:mr.divider})}),P.jsx(j,{className:mr.aksjonspunktText,children:P.jsx("div",{className:mr.oneElement,children:P.jsx(D,{size:"small",className:mr.wordwrap,children:P.jsx(m,{id:"TilkjentYtelse.VurderTilbaketrekk.Aksjonspunkttekst"})})})})]})})}),P.jsx(A,{twentyPx:!0}),P.jsx(Te,{name:Ek,validate:[X],isReadOnly:e,isEdited:(n==null?void 0:n.status)!==Jn.OPPRETTET,isHorizontal:!0,radios:[{value:"false",label:P.jsx(m,{id:"TilkjentYtelse.VurderTilbaketrekk.Utfør"})},{value:"true",label:P.jsx(m,{id:"TilkjentYtelse.VurderTilbaketrekk.Hindre"})}]}),P.jsx(A,{sixteenPx:!0}),P.jsx(Xe,{name:_k,label:P.jsx(m,{id:"Beregningsgrunnlag.Forms.Vurdering"}),validate:[X,N$,P$,mn],maxLength:1500,readOnly:e}),P.jsx(A,{sixteenPx:!0}),P.jsx($d,{isReadOnly:e,isSubmittable:!r,isSubmitting:u.formState.isSubmitting,isDirty:u.formState.isDirty})]})},F$=(e,n)=>e.filter(r=>r.opptjeningsår===n),yk=e=>e.aktivitetStatus+e.arbeidsgiverId,$$=(e,n,r)=>{const t=e.arbeidsgiverId?n[e.arbeidsgiverId]:void 0;return t?t.erPrivatPerson?t.fødselsdato?`${t.navn} (${T(t.fødselsdato).format(te)})`:t.navn:t.identifikator?`${t.navn} (${t.identifikator})`:t.navn:e.aktivitetStatus?Td(r)(e.aktivitetStatus,Tn.AKTIVITET_STATUS):""},D$=(e,n,r)=>({identifikator:yk(e),visningsnavn:$$(e,n,r),utbetaltTilSøker:e.erBrukerMottaker?e.årsbeløp:0,utbetaltIRefusjon:e.erBrukerMottaker?0:e.årsbeløp}),V$=(e,n,r)=>{const t=[];return e.forEach(i=>{const s=i.erBrukerMottaker?i.årsbeløp:0,l=i.erBrukerMottaker?0:i.årsbeløp,o=yk(i),d=t.find(u=>u.identifikator===o);d?(d.utbetaltTilSøker+=s,d.utbetaltIRefusjon+=l):t.push(D$(i,n,r))}),t},G$=["TilkjentYtelse.Feriepenger.AndelNavn","TilkjentYtelse.Feriepenger.GrunnlagRefusjon","TilkjentYtelse.Feriepenger.GrunnlagSøker"],L$=({alleAndeler:e,opptjeningsår:n,alleKodeverk:r,arbeidsgiverOpplysningerPerId:t})=>{const i=!e||e.length<1,s=b.useMemo(()=>i?void 0:F$(e,n),[e,n]),l=b.useMemo(()=>s?V$(s,t,r):[],[s]);return i?null:P.jsxs(P.Fragment,{children:[P.jsx(D,{size:"small",children:P.jsx(m,{id:"TilkjentYtelse.Feriepenger.Opptjeningsår",values:{år:n}})}),P.jsx(Qe,{headerTextCodes:G$,children:l.map(o=>P.jsxs(we,{children:[P.jsx(C,{children:P.jsx(I,{size:"small",children:o.visningsnavn})}),P.jsx(C,{children:P.jsx(I,{size:"small",children:o.utbetaltIRefusjon})}),P.jsx(C,{children:P.jsx(I,{size:"small",children:o.utbetaltTilSøker})})]},o.identifikator))})]})},M$=e=>{const n=e.map(r=>r.opptjeningsår).sort((r,t)=>r-t);return[...new Set(n)]},K$=()=>P.jsx(ce,{size:"small",children:P.jsx(m,{id:"TilkjentYtelse.Feriepenger.Tittel"})}),w$=({feriepengegrunnlag:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r,erPanelÅpent:t,togglePanel:i})=>{const{andeler:s}=e,l=!s||s.length<1,o=b.useMemo(()=>l?[]:M$(s),[s]);return l?null:P.jsx(De,{children:P.jsxs(De.Item,{open:t,children:[P.jsx(De.Header,{onClick:i,children:K$()}),P.jsx(De.Content,{children:o.map(d=>P.jsxs("div",{children:[P.jsx(A,{sixteenPx:!0},`spacer_${d}`),P.jsx(L$,{alleAndeler:s,opptjeningsår:d,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r},`tabell_${d}`)]},`div_${d}`))})]})})},U$=({feriepengegrunnlag:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r})=>{const[t,i]=b.useState(!1);return P.jsx(w$,{feriepengegrunnlag:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r,erPanelÅpent:t,togglePanel:()=>i(!t)})},C$="_detailsPeriode_1r02x_1",z$="_margin_1r02x_9",Y$="_fix_1r02x_13",Jt={detailsPeriode:C$,margin:z$,fix:Y$},H$=e=>e?`...${e.substring(e.length-4,e.length)}`:"",J$=(e,n,r)=>{const t=r[e.arbeidsgiverReferanse];return!t||!t.navn?e.arbeidsforholdType?n(e.arbeidsforholdType,Tn.OPPTJENING_AKTIVITET_TYPE):"":t.erPrivatPerson?`${t.navn} (${t.fødselsdato})`:`${t.navn} (${t.identifikator})${H$(e.eksternArbeidsforholdId)}`},q$=(e=!1)=>e?["TilkjentYtelse.PeriodeData.Andel","TilkjentYtelse.PeriodeData.Utbetalingsgrad","TilkjentYtelse.PeriodeData.Refusjon","TilkjentYtelse.PeriodeData.TilSoker","TilkjentYtelse.PeriodeData.SisteUtbDato"]:["TilkjentYtelse.PeriodeData.Andel","TilkjentYtelse.PeriodeData.KontoType","TilkjentYtelse.PeriodeData.Gradering","TilkjentYtelse.PeriodeData.Utbetalingsgrad","TilkjentYtelse.PeriodeData.Refusjon","TilkjentYtelse.PeriodeData.TilSoker","TilkjentYtelse.PeriodeData.SisteUtbDato"],W$=(e,n,r)=>{switch(e.aktivitetStatus){case Pn.ARBEIDSTAKER:return J$(e,n,r);case Pn.FRILANSER:return P.jsx(m,{id:"TilkjentYtelse.PeriodeData.Frilans"});case Pn.SELVSTENDIG_NAERINGSDRIVENDE:return P.jsx(m,{id:"TilkjentYtelse.PeriodeData.SelvstendigNaeringsdrivende"});case Pn.DAGPENGER:return P.jsx(m,{id:"TilkjentYtelse.PeriodeData.Dagpenger"});case Pn.ARBEIDSAVKLARINGSPENGER:return P.jsx(m,{id:"TilkjentYtelse.PeriodeData.AAP"});case Pn.MILITAER_ELLER_SIVIL:return P.jsx(m,{id:"TilkjentYtelse.PeriodeData.Militaer"});case Pn.BRUKERS_ANDEL:return P.jsx(m,{id:"TilkjentYtelse.PeriodeData.BrukersAndel"});default:return""}},Z$=e=>{if(e===void 0)return null;const n=e.uttak&&e.uttak.gradering===!0?"TilkjentYtelse.PeriodeData.Ja":"TilkjentYtelse.PeriodeData.Nei";return P.jsx(m,{id:n})},X$=({selectedItemData:e,callbackForward:n,callbackBackward:r,alleKodeverk:t,isSoknadSvangerskapspenger:i,arbeidsgiverOpplysningerPerId:s,lukkPeriode:l})=>{const o=Hk(e.fom,e.tom),d=Q(),u=Td(t),g=b.useCallback((...p)=>P.jsx("b",{children:p}),[]);return P.jsxs(na,{border:!0,children:[P.jsxs(pe,{children:[P.jsxs(O,{spaceBetween:!0,children:[P.jsx(j,{children:P.jsx(D,{size:"small",children:P.jsx(m,{id:"TilkjentYtelse.PeriodeData.Detaljer"})})}),P.jsxs(j,{className:Jt.fix,children:[P.jsx(ie,{className:Jt.margin,size:"xsmall",icon:P.jsx(Ei,{"aria-hidden":!0}),onClick:r,variant:"secondary-neutral",type:"button",title:d.formatMessage({id:"Timeline.prevPeriod"}),children:P.jsx(m,{id:"Timeline.prevPeriodShort"})}),P.jsx(ie,{className:Jt.margin,size:"xsmall",icon:P.jsx(_i,{"aria-hidden":!0}),onClick:n,variant:"secondary-neutral",type:"button",title:d.formatMessage({id:"Timeline.nextPeriod"}),iconPosition:"right",children:P.jsx(m,{id:"Timeline.nextPeriodShort"})}),P.jsx(ie,{size:"xsmall",icon:P.jsx(Hn,{"aria-hidden":!0}),onClick:l,variant:"tertiary-neutral",type:"button",title:d.formatMessage({id:"Timeline.lukkPeriode"})})]})]}),P.jsx(A,{sixteenPx:!0}),P.jsxs("div",{className:Jt.detailsPeriode,children:[P.jsxs(O,{spaceBetween:!0,children:[P.jsx(j,{children:P.jsx(D,{size:"small",children:P.jsx(m,{id:"TilkjentYtelse.PeriodeData.Periode",values:{fomVerdi:T(e.fom).format(te).toString(),tomVerdi:T(e.tom).format(te).toString()}})})}),P.jsx(j,{children:P.jsx(I,{size:"small",children:o.formattedString})})]}),P.jsx(A,{eightPx:!0}),P.jsx(O,{children:P.jsx(j,{children:P.jsx(m,{id:"TilkjentYtelse.PeriodeData.Dagsats",values:{dagsatsVerdi:e.dagsats,b:g}})})})]})]}),P.jsx(A,{sixteenPx:!0}),e.andeler&&e.andeler.length!==0&&P.jsx(Qe,{headerTextCodes:q$(i),children:e.andeler.map((p,v)=>P.jsxs(we,{children:[P.jsx(C,{children:W$(p,u,s)}),!i&&P.jsx(C,{children:P.jsx(I,{size:"small",children:dm[p.uttak.stonadskontoType]})}),!i&&P.jsx(C,{children:P.jsx(I,{size:"small",children:Z$(p)})}),P.jsx(C,{children:P.jsx(I,{size:"small",children:p.utbetalingsgrad?p.utbetalingsgrad:""})}),P.jsx(C,{children:P.jsx(I,{size:"small",children:p.aktivitetStatus===Pn.ARBEIDSTAKER&&p.refusjon?p.refusjon:""})}),P.jsx(C,{children:P.jsx(I,{size:"small",children:p.tilSoker?p.tilSoker:""})}),P.jsx(C,{children:P.jsx(I,{size:"small",children:p.sisteUtbetalingsdato?T(p.sisteUtbetalingsdato).format(te):""})})]},`index${v+1}`))})]})},Q$="_space_kjkss_1",eD="_margin_kjkss_5",rt={space:Q$,margin:eD},nD=e=>(e.andeler||[]).filter(n=>n.uttak&&n.uttak.gradering===!0).length>0,rD=e=>{const n=e.gjeldende||e.oppgitt;return n.soknadType===gm.FODSEL?n.avklartBarn&&n.avklartBarn.length>0?{dato:n.avklartBarn[0].fodselsdato,textId:"TilkjentYtelse.Fodselsdato"}:{dato:n.termindato,textId:"TilkjentYtelse.Termindato"}:n.omsorgsovertakelseDato?{dato:n.omsorgsovertakelseDato,textId:"TilkjentYtelse.Omsorgsovertakelsesdato"}:{dato:n.adopsjonFodelsedatoer?n.adopsjonFodelsedatoer[0]:void 0,textId:"TilkjentYtelse.Fodselsdato"}},tD=(e=[])=>e.filter(n=>n.andeler&&n.andeler[0]&&n.dagsats).map((n,r)=>({erGradert:nD(n),start:T(n.fom).toDate(),end:T(n.tom).add(1,"days").toDate(),id:r,periode:n})),iD=(e,n)=>{var r;return((r=n[Tn.RELASJONSROLLE_TYPE].find(t=>t.kode===e.relasjonsRolleType))==null?void 0:r.navn)||""},sD=(e,n)=>{const r=T(e);return r.isBefore(n)?n.subtract(5,"days"):r},aD=({beregningsresultatPeriode:e,soknadDate:n,familieHendelseSamling:r,hovedsokerKjonnKode:t,alleKodeverk:i,arbeidsgiverOpplysningerPerId:s,fagsak:l})=>{const o=Q(),[d,u]=b.useState(),g=b.useMemo(()=>tD(e),[e]),p=b.useCallback(()=>{u(null)},[]),v=b.useCallback(()=>{const z=g.findIndex(q=>q.id===(d==null?void 0:d.id))+1;z<g.length&&u(g[z])},[g,d,u]),h=b.useCallback(()=>{const z=g.findIndex(q=>q.id===(d==null?void 0:d.id))-1;z>=0&&u(g[z])},[g,d,u]),x=b.useCallback(z=>{u(g.find(q=>q.id===z))},[u,g]),_=T(g[0].start),N=T(g[g.length-1].end),[y,B]=b.useState(_),[S,$]=b.useState(N),V=()=>{y.subtract(1,"month").isBefore(_)||(B(y.subtract(1,"month")),$(S.subtract(1,"month")))},G=()=>{S.add(1,"month").isAfter(N)||(B(y.add(1,"month")),$(S.add(1,"month")))},K=()=>{y.add(3,"month").isAfter(S)||(B(y.add(1,"month")),$(S.subtract(1,"month")))},ee=()=>{S.add(1,"month").diff(y.subtract(1,"month"),"months")<36&&(B(y.subtract(1,"month")),$(S.add(1,"month")))},ne=b.useMemo(()=>rD(r),[r]);return P.jsxs(P.Fragment,{children:[P.jsxs(Ve,{startDate:y.toDate(),endDate:S.add(1,"days").toDate(),children:[P.jsxs(Ve.Pin,{date:T(n).toDate(),children:[P.jsx(I,{children:P.jsx(m,{id:"TilkjentYtelse.Soknadsdato"})}),P.jsx(I,{children:P.jsx(Re,{dateString:n})})]}),ne.dato&&P.jsxs(Ve.Pin,{date:sD(ne.dato,y).toDate(),children:[P.jsx(I,{children:P.jsx(m,{id:ne.textId})}),P.jsx(I,{children:P.jsx(Re,{dateString:ne.dato})})]}),P.jsx(Ve.Row,{label:iD(l,i),icon:t===am.KVINNE?P.jsx(lm,{width:20,height:20,color:"var(--a-red-200)"}):P.jsx(ym,{width:20,height:20,color:"var(--a-blue-600)"}),children:g.map(z=>P.jsx(Ve.Period,{start:z.start,end:z.end,status:"success",onSelectPeriod:()=>x(z.id),isActive:(d==null?void 0:d.id)===z.id,icon:z.erGradert?P.jsx(Wm,{"aria-hidden":!0}):P.jsx(qs,{"aria-hidden":!0}),title:z.erGradert?o.formatMessage({id:"TilkjentYtelse.GradertPeriode"}):""},z.id))})]}),P.jsx(A,{twentyPx:!0}),P.jsxs(Xn,{children:[P.jsx(ie,{className:rt.margin,size:"small",icon:P.jsx(Sm,{"aria-hidden":!0}),onClick:K,variant:"primary-neutral",type:"button",title:o.formatMessage({id:"TilkjentYtelse.ZoomInn"})}),P.jsx(ie,{className:rt.margin,size:"small",icon:P.jsx(Nm,{"aria-hidden":!0}),onClick:ee,variant:"primary-neutral",type:"button",title:o.formatMessage({id:"TilkjentYtelse.ZoomUt"})}),P.jsx(ie,{className:rt.margin,size:"small",icon:P.jsx(Ei,{"aria-hidden":!0}),onClick:V,variant:"primary-neutral",type:"button",title:o.formatMessage({id:"TilkjentYtelse.ScrollTilVenstre"})}),P.jsx(ie,{className:rt.margin,size:"small",icon:P.jsx(_i,{"aria-hidden":!0}),onClick:G,variant:"primary-neutral",type:"button",title:o.formatMessage({id:"TilkjentYtelse.ScrollTilHogre"})})]}),P.jsx("div",{className:rt.space}),d&&P.jsxs(P.Fragment,{children:[P.jsx(A,{eightPx:!0}),P.jsx(X$,{alleKodeverk:i,selectedItemData:d.periode,callbackForward:v,callbackBackward:h,isSoknadSvangerskapspenger:l.fagsakYtelseType===om.SVANGERSKAPSPENGER,arbeidsgiverOpplysningerPerId:s,lukkPeriode:p})]})]})},lD=e=>e?e.find(n=>n.definisjon===ae.VURDER_TILBAKETREKK):void 0,oD=({beregningresultat:e,readOnly:n,submitCallback:r,readOnlySubmitButton:t,alleKodeverk:i,arbeidsgiverOpplysningerPerId:s,feriepengegrunnlag:l,familieHendelseSamling:o,personoversikt:d,soknad:u,aksjonspunkter:g,formData:p,setFormData:v,fagsak:h})=>{var x,_;const N=b.useMemo(()=>lD(g),[g]),y=(x=u.søknadsfrist)!=null&&x.mottattDato?(_=u.søknadsfrist)==null?void 0:_.mottattDato:u.mottattDato;return P.jsxs(P.Fragment,{children:[P.jsx(ce,{size:"small",children:P.jsx(m,{id:"TilkjentYtelse.Title"})}),P.jsx(A,{thirtyTwoPx:!0}),e&&P.jsx(aD,{beregningsresultatPeriode:e.perioder,soknadDate:y,familieHendelseSamling:o,hovedsokerKjonnKode:d!=null&&d.bruker?d.bruker.kjønn:void 0,alleKodeverk:i,arbeidsgiverOpplysningerPerId:s,fagsak:h}),l&&P.jsxs(P.Fragment,{children:[P.jsx(A,{thirtyTwoPx:!0}),P.jsx(U$,{feriepengegrunnlag:l,arbeidsgiverOpplysningerPerId:s,alleKodeverk:i}),P.jsx(A,{thirtyTwoPx:!0})]}),N&&P.jsxs(P.Fragment,{children:[P.jsx(A,{sixteenPx:!0}),P.jsx(B$,{readOnly:n,vurderTilbaketrekkAP:N,submitCallback:r,readOnlySubmitButton:t,beregningsresultat:e,formData:p,setFormData:v})]})]})},dD={"TilkjentYtelse.Title":"Tilkjent ytelse","TilkjentYtelse.VurderTilbaketrekk.Aksjonspunkttekst":"Pengene er utbetalt til søker, arbeidsgiver krever nå refusjon fra startdato. Vurder om beløpet som er feilutbetalt skal tilbakekreves fra søker eller om dette er en sak mellom arbeidstaker og arbeidsgiver.","TilkjentYtelse.VurderTilbaketrekk.Utfør":"Tilbakekrev fra søker","TilkjentYtelse.VurderTilbaketrekk.Hindre":"Ikke tilbakekrev fra søker","TilkjentYtelse.Stonadinfo.Stonadsdager":"Stønadsdager","TilkjentYtelse.PeriodeData.Detaljer":"Detaljer for valgt periode","TilkjentYtelse.PeriodeData.UkerDager":"{weeks} uker {days} dager","TilkjentYtelse.PeriodeData.Godkjent":"Godkjent","TilkjentYtelse.PeriodeData.Dagsats":"Utbetalt dagsats: <b>{dagsatsVerdi}</b>","TilkjentYtelse.PeriodeData.Andel":"Andel","TilkjentYtelse.PeriodeData.KontoType":"Stønadskonto","TilkjentYtelse.PeriodeData.Gradering":"Gradering","TilkjentYtelse.PeriodeData.Utbetalingsgrad":"Utb.grad","TilkjentYtelse.PeriodeData.Refusjon":"Utbetalt refusjon","TilkjentYtelse.PeriodeData.TilSoker":"Utbetalt til søker","TilkjentYtelse.PeriodeData.SisteUtbDato":"Siste innvilgede utb.dato","TilkjentYtelse.PeriodeData.Periode":"{fomVerdi} - {tomVerdi}","TilkjentYtelse.PeriodeData.Ja":"Ja","TilkjentYtelse.PeriodeData.Nei":"Nei","TilkjentYtelse.PeriodeData.SelvstendigNaeringsdrivende":"Selvstendig næringsdrivende","TilkjentYtelse.PeriodeData.Frilans":"Frilanser","TilkjentYtelse.PeriodeData.Militaer":"Militær","TilkjentYtelse.PeriodeData.Dagpenger":"Dagpenger","TilkjentYtelse.PeriodeData.AAP":"Arbeidsavklaringspenger","TilkjentYtelse.PeriodeData.BrukersAndel":"Brukers andel","TilkjentYtelse.Feriepenger.Tittel":"Feriepengegrunnlag","TilkjentYtelse.Feriepenger.Opptjeningsår":"Opptjent i {år}","TilkjentYtelse.Feriepenger.AndelNavn":"Andel","TilkjentYtelse.Feriepenger.GrunnlagSøker":"Beløp til søker","TilkjentYtelse.Feriepenger.GrunnlagRefusjon":"Beløp til arbeidsgiver","TilkjentYtelse.Soknadsdato":"Søknadsdato","TilkjentYtelse.Fodselsdato":"Fødselsdato","TilkjentYtelse.Termindato":"Termindato","TilkjentYtelse.GradertPeriode":"Gradert periode","TilkjentYtelse.ZoomInn":"Zoom inn","TilkjentYtelse.ZoomUt":"Zoom ut","TilkjentYtelse.ScrollTilVenstre":"Scroll til venstre","TilkjentYtelse.ScrollTilHogre":"Scroll til høyre","TilkjentYtelse.Omsorgsovertakelsesdato":"Omsorgsovertakelsesdato","Timeline.lukkPeriode":"Lukk periode","HelpText.Aksjonspunkt":"Aksjonspunkt","Malform.Beskrivelse":"Foretrukket språk","Beregningsgrunnlag.Forms.Vurdering":"Vurdering","Timeline.closeData":"Lukke info om periode","Timeline.nextPeriod":"Neste periode","Timeline.nextPeriodShort":"Neste","Timeline.prevPeriod":"Forrige periode","Timeline.prevPeriodShort":"Forrige","Timeline.tooltip.dagsats":"Dagsats: {dagsats}kr","Timeline.tooltip.start":"Start","Timeline.tooltip.slutt":"Slutt","Timeline.tooltip.periodetype":"Periodetype","Timeline.tooltip.utsettelsePeriode":"Utsettelse","Timeline.TidspunktFamiliehendelse":"Tidspunkt for familiehendelse","Timeline.OppfyltPeriode":"Oppfylt periode","Timeline.IkkeOppfyltPeriode":"Ikke oppfylt periode","Timeline.TidspunktMotakSoknad":"Tidspunkt for mottatt søknad","Timeline.BelopTilbakereves":"Beløp tilbakekreves","Timeline.IngenTilbakekreving":"Ingen tilbakekreving","Timeline.IkkeAvklartPeriode":"Uavklart periode","Timeline.TidspunktRevurdering":"Startpunkt for revurdering","Timeline.GradertPeriode":"Gradert periode","Timeline.ManueltAvklart":"Manuelt avklart periode"},gD=Me(dD),uD=({beregningresultat:e,familiehendelse:n,personoversikt:r,soknad:t,fagsak:i,aksjonspunkter:s,alleKodeverk:l,isReadOnly:o,submitCallback:d,readOnlySubmitButton:u,arbeidsgiverOpplysningerPerId:g,feriepengegrunnlag:p,formData:v,setFormData:h})=>P.jsx(Ze,{value:gD,children:P.jsx(oD,{beregningresultat:e,familieHendelseSamling:n,personoversikt:r,soknad:t,fagsak:i,aksjonspunkter:s,alleKodeverk:l,readOnly:o,submitCallback:d,readOnlySubmitButton:u,arbeidsgiverOpplysningerPerId:g,feriepengegrunnlag:p,formData:v,setFormData:h})});uD.__docgenInfo={description:"",methods:[],displayName:"vn"};var Sk={exports:{}},tt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md;function kD(){if(md)return tt;md=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(o,d,u){var g,p={},v=null,h=null;u!==void 0&&(v=""+u),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(h=d.ref);for(g in d)t.call(d,g)&&!s.hasOwnProperty(g)&&(p[g]=d[g]);if(o&&o.defaultProps)for(g in d=o.defaultProps,d)p[g]===void 0&&(p[g]=d[g]);return{$$typeof:n,type:o,key:v,ref:h,props:p,_owner:i.current}}return tt.Fragment=r,tt.jsx=l,tt.jsxs=l,tt}Sk.exports=kD();var re=Sk.exports;const mD="_panel_d5cml_1",fD="_hyphen_d5cml_9",pD="_marginTop_d5cml_19",cD="_marginBottom_d5cml_23",vD="_colWidth_d5cml_27",Nn={panel:mD,hyphen:fD,marginTop:pD,marginBottom:cD,colWidth:vD},hD=(e,n)=>e&&n!==void 0,bD=(e,n,r)=>{const t=r==null?void 0:r.mottattDato;return{gyldigSenFremsetting:e[0].status===ia.OPPRETTET?void 0:t!==n,ansesMottatt:t,...Rr.buildInitialValues(e)}},jD=e=>({harGyldigGrunn:e.gyldigSenFremsetting,ansesMottattDato:e.ansesMottatt,kode:ae.VURDER_SOKNADSFRIST_FORELDREPENGER,...Rr.transformValues(e)}),xD=({aksjonspunkter:e,readOnly:n,readOnlySubmitButton:r,mottattDato:t,søknadsfrist:i,isApOpen:s,submitCallback:l,formData:o,setFormData:d})=>{const u=b.useMemo(()=>bD(e,t,i),[e,t,i]),g=He({defaultValues:o||u}),p=g.watch("gyldigSenFremsetting"),v=i==null?void 0:i.søknadsperiodeStart,h=i==null?void 0:i.søknadsperiodeSlutt,x=i==null?void 0:i.utledetSøknadsfrist;return re.jsxs(Je,{formMethods:g,onSubmit:_=>l(jD(_)),setDataOnUnmount:d,children:[re.jsx(ce,{size:"small",children:re.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Soknadsfrist"})}),re.jsx(A,{twentyPx:!0}),re.jsx(Si,{isAksjonspunktOpen:s,children:[re.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.AksjonspunktHelpText",values:{numberOfDays:i==null?void 0:i.dagerOversittetFrist,soknadsfristdato:x?pr(x).format(te):""}},"VurderSoknadsfristForeldrepengerForm")]}),re.jsx(A,{twentyPx:!0}),re.jsx(pe,{children:re.jsxs(O,{children:[re.jsx(j,{className:Nn.colWidth,children:re.jsxs(na,{className:Nn.panel,children:[re.jsx(D,{size:"small",children:re.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Vurder"})}),re.jsxs("ul",{className:Nn.hyphen,children:[re.jsx("li",{children:re.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Punkt1"})}),re.jsx("li",{children:re.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Punkt2"})}),re.jsx("li",{children:re.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Punkt3"})})]})]})}),re.jsx(j,{className:Nn.colWidth,children:re.jsx(pe,{children:re.jsxs(O,{className:Nn.marginBottom,children:[re.jsxs(j,{className:Nn.colWidth,children:[re.jsx(ge,{children:re.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.SoknadMottatt"})}),t&&re.jsx(I,{size:"small",children:pr(t).format(te)})]}),v&&h&&re.jsxs(j,{className:Nn.colWidth,children:[re.jsx(ge,{children:re.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.SoknadPeriode"})}),re.jsx(I,{size:"small",children:`${pr(v).format(te)} - ${pr(h).format(te)}`})]})]})})})]})}),re.jsxs("div",{className:Nn.marginTop,children:[re.jsx(Rr,{readOnly:n}),re.jsx(A,{sixteenPx:!0}),re.jsx(Te,{name:"gyldigSenFremsetting",validate:[X],isReadOnly:n,isHorizontal:!0,isEdited:hD(e.length>0,p),isTrueOrFalseSelection:!0,radios:[{value:"true",label:re.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.GyldigGrunn"})},{value:"false",label:re.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.IkkeGyldigGrunn"})}]}),p&&re.jsxs(re.Fragment,{children:[re.jsx(A,{sixteenPx:!0}),re.jsx(Sd,{children:re.jsx(qn,{name:"ansesMottatt",isReadOnly:n,label:re.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.NyMottattDato"}),validate:[X,Bn,um]})})]}),re.jsx(A,{twentyPx:!0}),re.jsx($d,{isReadOnly:n,isSubmittable:!r,isSubmitting:g.formState.isSubmitting,isDirty:g.formState.isDirty})]})]})},AD={"VurderSoknadsfristForeldrepengerForm.Soknadsfrist":"Søknadsfrist","VurderSoknadsfristForeldrepengerForm.AksjonspunktHelpText":"Søknad ble mottatt {numberOfDays} dager etter søknadsfrist ({soknadsfristdato})","VurderSoknadsfristForeldrepengerForm.SoknadMottatt":"Søknad mottatt dato","VurderSoknadsfristForeldrepengerForm.SoknadPeriode":"Søknadsperiode","VurderSoknadsfristForeldrepengerForm.Begrunnelse":"Begrunnelse fra søknaden","VurderSoknadsfristForeldrepengerForm.Vurder":"Vurder følgende","VurderSoknadsfristForeldrepengerForm.Punkt1":"Har det vært fristavbrytende kontakt?","VurderSoknadsfristForeldrepengerForm.Punkt2":"Har NAV gitt misvisende opplysninger?","VurderSoknadsfristForeldrepengerForm.Punkt3":"Har søker åpenbart ikke vært i stand til å sette frem krav?","VurderSoknadsfristForeldrepengerForm.GyldigGrunn":"Gyldig grunn for sen fremsetting av søknaden","VurderSoknadsfristForeldrepengerForm.IkkeGyldigGrunn":"Ingen gyldig grunn for sen fremsetting av søknaden","VurderSoknadsfristForeldrepengerForm.NyMottattDato":"Dato for når søknaden kan anses som mottatt"},ID=Me(AD),Nk=({soknad:e,aksjonspunkter:n,submitCallback:r,isReadOnly:t,readOnlySubmitButton:i,isAksjonspunktOpen:s,formData:l,setFormData:o})=>re.jsx(Ze,{value:ID,children:re.jsx(xD,{mottattDato:e.mottattDato,søknadsfrist:e.søknadsfrist,aksjonspunkter:n,submitCallback:r,readOnly:t,readOnlySubmitButton:i,isApOpen:s,formData:l,setFormData:o})});Nk.__docgenInfo={description:"",methods:[],displayName:"st"};const TD=[ae.VURDER_SOKNADSFRIST_FORELDREPENGER],ED=[Ce.SOKNAD],fd=e=>Pe.jsx(la,{...e,panelEndepunkter:ED,aksjonspunktKoder:TD,prosessPanelKode:Ws.SOEKNADSFRIST,prosessPanelMenyTekst:Q().formatMessage({id:"Behandlingspunkt.Soknadsfristvilkaret"}),skalPanelVisesIMeny:n=>Nd(n.aksjonspunkter),renderPanel:n=>Pe.jsx(Nk,{...n})});try{fd.displayName="SoknadsfristProsessStegInitPanel",fd.__docgenInfo={description:"",displayName:"SoknadsfristProsessStegInitPanel",props:{behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}export{kl as A,Po as B,Nl as F,Mm as H,Ol as O,Bo as P,fd as S,ol as a,Qm as b,ud as c,Vo as d,Wm as l,uD as v,rR as y};
//# sourceMappingURL=SoknadsfristProsessStegInitPanel-7498aac4.js.map
