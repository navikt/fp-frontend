import{r as u,R as c}from"./index-DogsOklH.js";import{u as B,v as se,w as ce,x as de,y as ue,z as fe,A as ve,E as me,I as pe,J as be,K as ge,Q as ye,R as he,T as we,U as Oe,Y as _e,k as L,Z as Ze,$ as W}from"./index.es-bPyAXCfS.js";import{a7 as C,a8 as O,a9 as Le,aa as je,ab as Ye,ac as V,ad as ze,ae as U,af as xe,ag as Ee,ah as S,ai as te,aj as Be,ak as G,al as He,am as Ke,an as Ve,ao as Q}from"./AppIndex.stories-QywVxbUc.js";var Ue=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const Qe=u.forwardRef((e,l)=>{var{title:n,titleId:t}=e,r=Ue(e,["title","titleId"]);let o=B();return o=n?t||"title-"+o:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:l,"aria-labelledby":o},r),n?u.createElement("title",{id:o},n):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .656.387l9.527 17.25A.75.75 0 0 1 21.526 21H2.474a.75.75 0 0 1-.657-1.113l9.527-17.25A.75.75 0 0 1 12 2.25Zm8.255 17.25L12 4.551 3.745 19.5h16.51ZM12 8.75a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4a.75.75 0 0 1 .75-.75Zm0 6.75a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z",fill:"currentColor"}))}),Ht=Qe;var Xe=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const qe=u.forwardRef((e,l)=>{var{title:n,titleId:t}=e,r=Xe(e,["title","titleId"]);let o=B();return o=n?t||"title-"+o:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:l,"aria-labelledby":o},r),n?u.createElement("title",{id:o},n):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.75 12a.75.75 0 0 1 .75-.75h13a.75.75 0 1 1 0 1.5h-13a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))}),Kt=qe;var Je=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const We=u.forwardRef((e,l)=>{var{title:n,titleId:t}=e,r=Je(e,["title","titleId"]);let o=B();return o=n?t||"title-"+o:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:l,"aria-labelledby":o},r),n?u.createElement("title",{id:o},n):null,u.createElement("path",{d:"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75V5.5Z",fill:"currentColor"}))}),Vt=We;var Ge=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const et=u.forwardRef((e,l)=>{var{title:n,titleId:t}=e,r=Ge(e,["title","titleId"]);let o=B();return o=n?t||"title-"+o:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:l,"aria-labelledby":o},r),n?u.createElement("title",{id:o},n):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.97 10.085A3.25 3.25 0 1 1 9.1 8.478l1.456.822 6.506-1.952a1.75 1.75 0 0 1 .79-.05l2.771.462a.75.75 0 0 1 .234 1.4l-5.336 2.89 5.326 2.785a.75.75 0 0 1-.224 1.405l-2.77.462a1.75 1.75 0 0 1-.791-.05l-6.46-1.938-1.5.813a3.25 3.25 0 1 1-1.132-1.612 3.252 3.252 0 0 0 0-3.83ZM4.25 7.5a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Zm8.213 6.206 1.468-.795 4.24 2.217-.565.094a.25.25 0 0 1-.113-.007l-5.03-1.509Zm-5.072 1.732A1.742 1.742 0 0 1 7.75 16.5a1.75 1.75 0 1 1-.359-1.062Zm2.493-2.04a4.773 4.773 0 0 0 .11-2.363l7.499-2.25a.25.25 0 0 1 .113-.007l.616.103-8.338 4.516Z",fill:"currentColor"}))}),Ut=et;var tt=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const nt=u.forwardRef((e,l)=>{var{title:n,titleId:t}=e,r=tt(e,["title","titleId"]);let o=B();return o=n?t||"title-"+o:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:l,"aria-labelledby":o},r),n?u.createElement("title",{id:o},n):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2.25a2.75 2.75 0 1 0 0 5.5 2.75 2.75 0 0 0 0-5.5ZM8.25 9A.75.75 0 0 1 9 8.25h6a.75.75 0 0 1 .75.75v7a.75.75 0 0 1-.75.75h-.75V21a.75.75 0 0 1-1.5 0v-4.25h-1.5V21a.75.75 0 0 1-1.5 0v-4.25H9a.75.75 0 0 1-.75-.75V9Z",fill:"currentColor"}))}),Qt=nt;function z(e,l){C(2,arguments);var n=O(e),t=O(l),r=n.getTime()-t.getTime();return r<0?-1:r>0?1:r}function rt(e,l){C(2,arguments);var n=O(e),t=O(l);return n.getFullYear()-t.getFullYear()}function le(e,l){var n=e.getFullYear()-l.getFullYear()||e.getMonth()-l.getMonth()||e.getDate()-l.getDate()||e.getHours()-l.getHours()||e.getMinutes()-l.getMinutes()||e.getSeconds()-l.getSeconds()||e.getMilliseconds()-l.getMilliseconds();return n<0?-1:n>0?1:n}function Pe(e,l){C(2,arguments);var n=O(e),t=O(l),r=le(n,t),o=Math.abs(Le(n,t));n.setDate(n.getDate()-r*o);var f=+(le(n,t)===-r),a=r*(o-f);return a===0?0:a}function oe(e,l){return C(2,arguments),O(e).getTime()-O(l).getTime()}function X(e){C(1,arguments);var l=O(e);return l.setHours(23,59,59,999),l}function lt(e){C(1,arguments);var l=O(e);return X(l).getTime()===je(l).getTime()}function ot(e,l){C(2,arguments);var n=O(e),t=O(l),r=z(n,t),o=Math.abs(Ye(n,t)),f;if(o<1)f=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-r*o);var a=z(n,t)===-r;lt(O(e))&&o===1&&z(e,t)===1&&(a=!1),f=r*(o-Number(a))}return f===0?0:f}function at(e,l){C(2,arguments);var n=O(e),t=O(l),r=z(n,t),o=Math.abs(rt(n,t));n.setFullYear(1584),t.setFullYear(1584);var f=z(n,t)===-r,a=r*(o-Number(f));return a===0?0:a}function it(e){C(1,arguments);var l=O(e),n=l.getFullYear();return l.setFullYear(n+1,0,0),l.setHours(23,59,59,999),l}function st(e,l){C(2,arguments);var n=ze(l);return V(e,-n)}const Me=u.createContext({startDate:new Date,endDate:new Date,direction:"left",setStart:()=>null,setEndInclusive:()=>null,activeRow:0,setActiveRow:()=>null,initiate:()=>null,addFocusable:()=>null}),H=()=>{const e=u.useContext(Me);return e||console.warn("useTimelineContext must be used with TimelineContext (<Timeline />)"),e},ct=({horizontalPosition:e})=>e<=98&&e>=0,ae=(e,l)=>Pe(e,l)<=1,dt=({horizontalPosition:e,width:l})=>e>=0&&e<=100&&l>0,ee=(e,l,n)=>{const t=oe(n,l);return oe(e,l)/t*100},q=(e,l,n,t)=>{const r=ee(e,n,t),o=ee(l,n,t)-r;return{horizontalPosition:r,width:o}},ut=(e,l,n,t,r="dd.MM")=>{const o=Math.ceil(n/10),f=U(l);return new Array(n).fill(f).map((a,v)=>{if(v%o!==0)return null;const s=xe(a,v),{horizontalPosition:m,width:p}=q(s,Ee(s,1),e,l);return{direction:t,horizontalPosition:m,label:S(s,r,{locale:te}),date:s,width:p}}).filter(a=>a!==null)},ft=(e,l,n,t="MMM yy")=>{const r=Be(e),o=je(l),f=ot(o,r)+1;return new Array(f).fill(r).map((a,v)=>{const s=G(a,v),{horizontalPosition:m,width:p}=q(s,G(s,1),e,l);return{direction:n,horizontalPosition:m,label:S(s,t,{locale:te}),date:s,width:p}})},vt=(e,l,n,t="yyyy")=>{const r=He(e),o=it(l),f=at(o,e)+1;return new Array(f).fill(r).map((a,v)=>{const s=V(a,v),{horizontalPosition:m,width:p}=q(s,V(s,1),e,l);return{direction:n,horizontalPosition:m,label:S(s,t,{locale:te}),date:s,width:p}})},mt=(e,l,n,t)=>{const r=Pe(l,e);return r<40?ut(e,l,r,n,t==null?void 0:t.day):r<370?ft(e,l,n,t==null?void 0:t.month):vt(e,l,n,t==null?void 0:t.year)},pt=({templates:e})=>{const{endDate:l,startDate:n,direction:t}=H(),r=mt(n,l,t,e).filter(ct);return c.createElement("div",{className:"navds-timeline__axislabels","aria-hidden":"true"},r.map(o=>c.createElement(se,{className:"navds-timeline__axislabels-label",as:"div",key:o.label,style:{justifyContent:t==="left"?"flex-start":"flex-end",[t]:`${o.horizontalPosition}%`,width:`${o.width}%`}},o.label)))};var bt=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const Re=u.forwardRef((e,l)=>{var{date:n,children:t}=e,r=bt(e,["date","children"]);const{startDate:o,endDate:f,direction:a}=H(),[v,s]=u.useState(!1),m=u.useRef(null),{context:p,placement:g,middlewareData:{arrow:{x:w,y:d}={}},refs:h,floatingStyles:_}=ce({placement:"top",open:v,onOpenChange:R=>s(R),whileElementsMounted:de,middleware:[ue(16),fe(),ve({padding:5,fallbackPlacements:["bottom","top"]}),me({element:m,padding:5})]}),b=pe(p,{handleClose:be(),restMs:25,delay:{open:1e3},move:!1}),M=ge(p),$=ye(p),A=he(p,{role:"dialog"}),{getFloatingProps:P,getReferenceProps:Z}=we([b,M,$,A]),D=Oe(h.setReference,l),T={top:"bottom",right:"left",bottom:"top",left:"right"}[g.split("-")[0]];return c.createElement(c.Fragment,null,c.createElement("div",{className:"navds-timeline__pin-wrapper",style:{[a]:`${ee(n,o,f)}%`}},c.createElement("button",Object.assign({},r,{ref:D,className:"navds-timeline__pin-button","aria-label":`pin:${S(n,"dd.MM.yyyy")}`,type:"button","aria-expanded":t?v:void 0},Z({onKeyDown:R=>{var F;(F=r==null?void 0:r.onKeyDown)===null||F===void 0||F.call(r,R),R.key==="Enter"?s(i=>!i):R.key===" "&&s(!1)}})))),t&&v&&c.createElement(_e,{context:p,modal:!1,initialFocus:-1,returnFocus:!1},c.createElement("div",Object.assign({className:"navds-timeline__popover","data-placement":g,ref:h.setFloating},P(),{tabIndex:void 0,style:_}),t,c.createElement("div",{ref:m,style:Object.assign(Object.assign(Object.assign({},w!=null?{left:w}:{}),d!=null?{top:d}:{}),T?{[T]:"-0.5rem"}:{}),className:"navds-timeline__popover-arrow"}))))});Re.componentType="pin";const gt=Re,Ie=u.createContext({periodId:"",firstFocus:!1}),Se=()=>{const e=u.useContext(Ie);return e||console.warn("usePeriodContext must be used with PeriodContext"),e},Ce=u.createContext({periods:[],id:"",active:!1,index:0}),ne=()=>{const e=u.useContext(Ce);return e||console.warn("useRowContext must be used with RowContext"),e},De=(e,l,n)=>L(`navds-timeline__period navds-timeline__period--${n}`,{"navds-timeline__period--connected-both":e==="both","navds-timeline__period--connected-right":e==="right"&&l==="left"||e==="left"&&l==="right","navds-timeline__period--connected-left":e==="left"&&l==="left"||e==="right"&&l==="right"}),yt=e=>{switch(e){case"success":return"Suksess";case"warning":return"Advarsel";case"danger":return"Fare";case"info":return"Info";case"neutral":return"Nøytral";default:return e}},Ae=(e,l,n,t)=>{const r=S(e,"dd.MM.yyyy"),o=S(l,"dd.MM.yyyy");return`${t||yt(n)} fra ${r} til ${o}`},ht=c.memo(({onSelectPeriod:e,start:l,end:n,status:t,cropped:r,direction:o,left:f,width:a,icon:v,children:s,isActive:m,statusLabel:p,restProps:g,periodRef:w})=>{const[d,h]=u.useState(!1),{index:_}=ne(),{firstFocus:b}=Se(),{initiate:M,addFocusable:$}=H(),A=u.useRef(null),{context:P,placement:Z,middlewareData:{arrow:{x:D,y:T}={}},refs:R,floatingStyles:F}=ce({placement:"top",open:d,onOpenChange:x=>h(x),whileElementsMounted:de,middleware:[ue(16),fe(),ve({padding:5,fallbackPlacements:["bottom","top"]}),me({element:A,padding:5})]}),i=pe(P,{handleClose:be(),restMs:25,delay:{open:1e3},move:!1}),y=ge(P),I=ye(P),N=he(P,{role:"dialog"}),{getFloatingProps:Y,getReferenceProps:j}=we([i,y,I,N]),J=Oe(R.setReference,w),E={top:"bottom",right:"left",bottom:"top",left:"right"}[Z.split("-")[0]];return c.createElement(c.Fragment,null,c.createElement("button",Object.assign({},g,{type:"button",ref:x=>{b&&$(x,_),J(x)},"aria-label":Ae(l,n,t,p),className:L("navds-timeline__period--clickable",De(r,o,t),g==null?void 0:g.className,{"navds-timeline__period--selected":m}),"aria-expanded":s?d:void 0,"aria-current":m||void 0},j({onFocus:()=>{M(_)},onKeyDown:x=>{var k;(k=g==null?void 0:g.onKeydown)===null||k===void 0||k.call(g,x),x.key==="Enter"&&h(ke=>!ke),x.key===" "&&(e==null||e(x),h(!1))},style:{width:`${a}%`,[o]:`${f}%`},onClick:x=>{var k;(k=g==null?void 0:g.onClick)===null||k===void 0||k.call(g,x),x.detail!==0&&(e==null||e(x))}})),c.createElement("span",{className:"navds-timeline__period--inner"},v)),s&&d&&c.createElement(_e,{context:P,modal:!1,initialFocus:-1,returnFocus:!1},c.createElement("div",Object.assign({className:"navds-timeline__popover","data-placement":Z,ref:R.setFloating},Y(),{style:F}),s,c.createElement("div",{ref:A,style:Object.assign(Object.assign(Object.assign({},D!=null?{left:D}:{}),T!=null?{top:T}:{}),E?{[E]:"-0.5rem"}:{}),className:"navds-timeline__popover-arrow"}))))}),wt=ht,Ot=({start:e,end:l,status:n,cropped:t,direction:r,left:o,width:f,icon:a,statusLabel:v,restProps:s,periodRef:m})=>c.createElement("div",Object.assign({ref:m},s,{className:L(De(t,r,n),s==null?void 0:s.className),style:{width:`${f}%`,[r]:`${o}%`}}),c.createElement("span",{className:"navds-timeline__period--inner"},a,c.createElement("span",{className:"sr-only"},Ae(e,l,n,v)))),_t=Ot,$e=u.forwardRef(({icon:e},l)=>{const{periods:n}=ne(),{periodId:t,restProps:r}=Se(),o=n.find(b=>b.id===t);if(!o)return c.createElement(c.Fragment,null);const{start:f,endInclusive:a,width:v,horizontalPosition:s,status:m="neutral",onSelectPeriod:p,cropped:g,direction:w,children:d,isActive:h,statusLabel:_}=o;return p||d?c.createElement(wt,{periodRef:l,start:f,end:a,status:m,onSelectPeriod:p,cropped:g||"",direction:w,width:v,left:s,icon:e,isActive:h,statusLabel:_,restProps:r},d):c.createElement(_t,{periodRef:l,start:f,end:a,status:m,cropped:g||"",direction:w,width:v,left:s,icon:e,statusLabel:_,restProps:r})});$e.componentType="period";const Te=$e;var jt=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const Fe=u.forwardRef((e,l)=>{var{label:n,className:t,headingTag:r="h3",icon:o}=e,f=jt(e,["label","className","headingTag","icon"]);const{periods:a,id:v,active:s}=ne(),{setActiveRow:m}=H(),p=a.reduce((d,h)=>d.end>h.end?d:h,{}),g=a.reduce((d,h)=>d.end<h.end?d:h,{}),w=a.find(d=>!!d.children||!!d.onSelectPeriod);return c.createElement(c.Fragment,null,n&&c.createElement(Ze,{as:r,id:`timeline-row-${v}`,className:"navds-timeline__row-label",size:"small"},o,n),c.createElement("div",{className:L("navds-timeline__row",{"navds-timeline__row--active":s})},c.createElement("ol",Object.assign({},f,{tabIndex:-1,ref:l,"aria-label":a.length===0?"Ingen perioder":`${S(g.start,"dd.MM.yyyy")} til ${S(p.end,"dd.MM.yyyy")}`,className:L("navds-timeline__row-periods",t),onKeyDown:d=>{(d.key==="ArrowDown"||d.key==="ArrowUp")&&(d.preventDefault(),m(d.key))}}),a&&a.map(d=>c.createElement("li",{key:`period-${d.id}`},c.createElement(Ie.Provider,{value:{periodId:d.id,firstFocus:(w==null?void 0:w.id)===d.id,restProps:d==null?void 0:d.restProps}},c.createElement(Te,{start:d.start,end:d.endInclusive,icon:d.icon,ref:d==null?void 0:d.ref})))))))});Fe.componentType="row";const Ne=Fe,xt=(e,l)=>e.horizontalPosition-l.horizontalPosition,Et=(e,l,n,t="left",r,o,f)=>{const a=e.start,v=e.end,s=r<o.length-1&&!Ke(o[r+1].start,v),{horizontalPosition:m,width:p}=q(U(a),X(s?U(xe(o[r+1].start,1)):v),l,n);return{id:`r-${f}-p-${r}`,start:a,endInclusive:v,horizontalPosition:m,direction:t,width:p,end:v,status:e.status,onSelectPeriod:e.onSelectPeriod,icon:e.icon,children:e.children,isActive:e.isActive,statusLabel:e.statusLabel}},Pt=(e,l,n)=>{const t=l>0&&ae(e.start,n[l-1].endInclusive),r=l<n.length-1&&ae(n[l+1].start,e.endInclusive);return t&&r?Object.assign(Object.assign({},e),{cropped:"both"}):t?Object.assign(Object.assign({},e),{cropped:"left"}):r?Object.assign(Object.assign({},e),{cropped:"right"}):e},Mt=e=>{let{horizontalPosition:l,width:n,cropped:t}=e;return l+n>100&&(n=100-l,t=t==="left"||t==="both"?"both":"right"),l<0&&l+n>0&&(n=l+n,l=0,t=t==="right"||t==="both"?"both":"left"),Object.assign(Object.assign({},e),{width:n,horizontalPosition:l,cropped:t})},Rt=(e,l,n,t)=>u.useMemo(()=>e.map((r,o)=>{const f=r.periods.sort((a,v)=>a.start.valueOf()-v.start.valueOf()).map((a,v)=>Object.assign(Object.assign({},Et(a,l,n,t,v,r.periods,o)),{restProps:a==null?void 0:a.restProps,ref:a==null?void 0:a.ref})).sort(xt).map(Pt).map(Mt).filter(dt);return{id:`tl-row-${o}`,label:r.label,headingTag:r.headingTag||"h3",icon:r.icon,periods:t==="left"?f:f.reverse(),restProps:r==null?void 0:r.restProps,ref:r==null?void 0:r.ref}}),[e,l,n,t]),It=(e,l)=>l.start<e?l.start:e,St=e=>e.flat().reduce(It,new Date),Ct=({startDate:e,rows:l})=>u.useMemo(()=>e||St(l),[e,l]),Dt=(e,l)=>l.end>e?l.end:e,At=e=>e.flat().reduce(Dt,new Date(0)),ie=({endDate:e,rows:l})=>u.useMemo(()=>e||Ee(At(l),1),[e,l]),$t=e=>{const l=[];return e==null||e.forEach(n=>{var t,r,o,f,a,v,s,m,p,g,w,d;const h=[];if(c.isValidElement(n)&&(!((t=n==null?void 0:n.props)===null||t===void 0)&&t.children)){if(Array.isArray(n.props.children))for(let _=0;_<n.props.children.length;_++){const b=n.props.children[_];h.push({start:(r=b==null?void 0:b.props)===null||r===void 0?void 0:r.start,end:(o=b==null?void 0:b.props)===null||o===void 0?void 0:o.end,status:((f=b==null?void 0:b.props)===null||f===void 0?void 0:f.status)||"neutral",onSelectPeriod:(a=b.props)===null||a===void 0?void 0:a.onSelectPeriod,label:n.props.label,icon:b.props.icon,children:b.props.children,isActive:b.props.isActive,statusLabel:b.props.statusLabel,restProps:W(b.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:b==null?void 0:b.ref})}else h.push({start:n.props.children.props.start,end:n.props.children.props.end,status:((v=n.props.children.props)===null||v===void 0?void 0:v.status)||"neutral",onSelectPeriod:(s=n.props.children.props)===null||s===void 0?void 0:s.onSelectPeriod,label:n.props.label,icon:(m=n.props.children.props)===null||m===void 0?void 0:m.icon,children:(p=n.props.children.props)===null||p===void 0?void 0:p.children,statusLabel:(g=n.props.children.props)===null||g===void 0?void 0:g.statusLabel,restProps:W(n.props.children.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:(d=(w=n.props)===null||w===void 0?void 0:w.children)===null||d===void 0?void 0:d.ref});l.push({label:n.props.label,icon:n.props.icon,headingTag:n.props.headingTag,periods:h,restProps:W(n.props,["label","icon","headingTag"]),ref:n==null?void 0:n.ref})}}),l};var Tt=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const Ft=u.forwardRef((e,l)=>{var{label:n,interval:t,count:r}=e,o=Tt(e,["label","interval","count"]);const{setStart:f,endDate:a,startDate:v,direction:s}=H();let m;t==="month"?m=s==="left"?Ve(a,r):G(v,r):m=s==="left"?st(a,r):V(v,r);const p=s==="left"?Q(v,m):Q(a,m);return c.createElement(se,{as:"li"},c.createElement("button",Object.assign({type:"button","aria-label":p?"Tilbakestill til initiell tidsperspektiv":`Zoom tidslinjen ${S(m,"dd.MM.yyyy")} til ${S(a,"dd.MM.yyyy")}`,ref:l},o,{className:"navds-timeline__zoom-button",onClick:()=>{f(m)},"aria-pressed":p}),n))}),Nt=Ft;var kt=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const re=u.forwardRef((e,l)=>{var{className:n,children:t}=e,r=kt(e,["className","children"]);return c.createElement("ul",Object.assign({ref:l,className:L(n,"navds-timeline__zoom")},r),t)});re.Button=Nt;re.componentType="zoom";const Zt=re;var Lt=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const K=u.forwardRef((e,l)=>{var{children:n,startDate:t,endDate:r,direction:o="left",axisLabelTemplates:f}=e,a=Lt(e,["children","startDate","endDate","direction","axisLabelTemplates"]);const v=Array.isArray(n),s=u.useRef([]);v||(n=[n]);const m=c.Children.toArray(n).filter(i=>{var y;return((y=i==null?void 0:i.type)===null||y===void 0?void 0:y.componentType)==="row"}),p=c.Children.toArray(n).filter(i=>{var y;return((y=i==null?void 0:i.type)===null||y===void 0?void 0:y.componentType)==="pin"}).map(i=>()=>i),g=c.Children.toArray(n).find(i=>{var y;return((y=i==null?void 0:i.type)===null||y===void 0?void 0:y.componentType)==="zoom"}),w=u.useMemo(()=>$t(m),[m]),d=w.map(i=>i!=null&&i.periods?i.periods:[]),h=U(Ct({startDate:t,rows:d})),[_,b]=u.useState(h),[M,$]=u.useState(null),[A,P]=u.useState(X(ie({endDate:r,rows:d}))),Z=X(ie({endDate:r,rows:d})),D=Rt(w,t??_,r??A,o),T=i=>{if(!(t||r))if(o==="left"){if(Q(i,_)){b(h);return}b(i)}else{if(Q(i,A)){P(Z);return}P(i)}},R=i=>{var y,I,N,Y;if(M!==null&&i==="ArrowDown"){for(let j=M+1;j<D.length;j++)if(D[j].periods.find(E=>!!E.children||!!E.onSelectPeriod)){$(j),(I=(y=s.current.find(E=>E.id===j))===null||y===void 0?void 0:y.ref)===null||I===void 0||I.focus();break}return}if(M!==null&&i==="ArrowUp"){for(let j=M-1;j>=0;j--)if(D[j].periods.find(E=>!!E.children||!!E.onSelectPeriod)){$(j),(Y=(N=s.current.find(E=>E.id===j))===null||N===void 0?void 0:N.ref)===null||Y===void 0||Y.focus();break}return}},F=(i,y)=>{let I=s.current;I=I.filter(N=>N.id!==y),I.push({ref:i,id:y}),s.current=I};return c.createElement(Me.Provider,{value:{startDate:t??_,endDate:r??A,direction:o,setStart:i=>T(i),setEndInclusive:i=>P(i),activeRow:M,setActiveRow:i=>R(i),initiate:i=>$(i),addFocusable:F}},c.createElement("div",Object.assign({},a,{ref:l}),c.createElement("div",{className:"navds-timeline"},c.createElement(pt,{templates:f}),p.map((i,y)=>c.createElement(i,{key:`pin-${y}`})),D.map((i,y)=>c.createElement(Ce.Provider,{key:`row-${i.id}`,value:{periods:i.periods,id:i.id,active:M===y,index:y}},c.createElement(Ne,Object.assign({},i==null?void 0:i.restProps,{ref:i==null?void 0:i.ref,label:i.label,icon:i.icon,headingTag:i.headingTag}))))),g))});K.Row=Ne;K.Period=Te;K.Pin=gt;K.Zoom=Zt;const Xt=K;export{Xt as Q,Ut as T,Kt as k,Vt as m,Ht as v,Qt as y};
