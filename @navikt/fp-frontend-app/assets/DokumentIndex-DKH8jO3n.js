import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{r as d}from"./index-DjhIdADd.js";import{g as x,u as I,i as w,n as _,P as R}from"./withPanelData-6_P0LgVK.js";import{G as O,n as C,Q as T}from"./index.es-DsPS5Iqx.js";import{a as E,u as N}from"./initFetch-BcmKMrdv.js";import"./skjermlenkeCodes-1SvLTuBb.js";import{h as F}from"./eksterneLenker-DOKwbE_M.js";import{M as g}from"./message-u8SdPdMn.js";import{T as l}from"./Table-B0p0bd_l.js";import{C as L}from"./Checkbox-uUhH4KU8.js";import{S as B}from"./StarFill-qbVWopQz.js";import{L as U}from"./Link-nUuUY4OW.js";import{S as P}from"./SupportHeader-B_yZlDPw.js";import{s as M}from"./MeldingIndex.module-DJ62VECp.js";var A=function(e,a){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const z=d.forwardRef((e,a)=>{var{title:s,titleId:n}=e,r=A(e,["title","titleId"]);let o=x();return o=s?n||"title-"+o:void 0,d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":o},r),s?d.createElement("title",{id:o},s):null,d.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25m1.53 6.78a.75.75 0 0 0-1.06-1.06l-3.5 3.5a.75.75 0 0 0 0 1.06l3.5 3.5a.75.75 0 1 0 1.06-1.06L10.56 12z",clipRule:"evenodd"}))});var H=function(e,a){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const V=d.forwardRef((e,a)=>{var{title:s,titleId:n}=e,r=H(e,["title","titleId"]);let o=x();return o=s?n||"title-"+o:void 0,d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":o},r),s?d.createElement("title",{id:o},s):null,d.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25m-.47 5.72a.75.75 0 1 0-1.06 1.06L13.44 12l-2.97 2.97a.75.75 0 1 0 1.06 1.06l3.5-3.5a.75.75 0 0 0 0-1.06z",clipRule:"evenodd"}))});var G=function(e,a){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const K=d.forwardRef((e,a)=>{var{title:s,titleId:n}=e,r=G(e,["title","titleId"]);let o=x();return o=s?n||"title-"+o:void 0,d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":o},r),s?d.createElement("title",{id:o},s):null,d.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.293 8.707a.25.25 0 0 0 0-.353l-2.646-2.647a.25.25 0 0 0-.354 0l-3.626 3.626a1 1 0 0 0-.242.391l-1.267 3.802a.25.25 0 0 0 .316.316l3.802-1.267a1 1 0 0 0 .39-.242zm1.06-1.414a.25.25 0 0 0 .354 0L20.5 6.5a2.121 2.121 0 0 0-3-3l-.793.793a.25.25 0 0 0 0 .353zm-4.151-3.616a.25.25 0 0 0-.177-.427H5A1.75 1.75 0 0 0 3.25 5v14c0 .966.784 1.75 1.75 1.75h14A1.75 1.75 0 0 0 20.75 19V8.975a.25.25 0 0 0-.427-.177l-4.595 4.596a2.5 2.5 0 0 1-.978.604l-3.801 1.267c-1.368.456-2.67-.846-2.214-2.214l1.267-3.801a2.5 2.5 0 0 1 .604-.978z",clipRule:"evenodd"}))});var D=(e=>(e.INN="INN",e.UT="UT",e.NOTAT="N",e))(D||{});const $="_image_1ulwi_1",Q="_noDocuments_1ulwi_6",Y="_kommunikasjonsretning_1ulwi_9",W="_dokumentlenke_1ulwi_14",J="_openDocumentButton_1ulwi_18",p={image:$,noDocuments:Q,kommunikasjonsretning:Y,dokumentlenke:W,openDocumentButton:J},X=({kommunikasjonsretning:e})=>{const a=I();return e===D.INN?t.jsxs("span",{className:p.kommunikasjonsretning,children:[t.jsx(V,{color:"var(--a-purple-500)",width:25,height:25,title:a.formatMessage({id:"DocumentList.Motta"})}),t.jsx(g,{id:"DocumentList.Motta"})]}):e===D.UT?t.jsxs("span",{className:p.kommunikasjonsretning,children:[t.jsx(z,{color:"var(--a-purple-200)",width:25,height:25,title:a.formatMessage({id:"DocumentList.Send"})}),t.jsx(g,{id:"DocumentList.Send"})]}):t.jsxs("span",{className:p.kommunikasjonsretning,children:[t.jsx(K,{color:"var(--a-gray-700)",width:25,height:25,title:a.formatMessage({id:"DocumentList.Intern"})}),t.jsx(g,{id:"DocumentList.Intern"})]})},q=({documents:e,behandlingUuid:a,selectDocumentCallback:s})=>{const n=I(),[r,o]=d.useState([]),j=i=>o(m=>m.includes(i)?m.filter(k=>k!==i):[...m,i]),[u,y]=d.useState({orderBy:"tidspunkt",direction:"descending"}),h=i=>{y(u&&i===u.orderBy&&u.direction==="descending"?void 0:{orderBy:i,direction:u&&i===u.orderBy&&u.direction==="ascending"?"descending":"ascending"})},f=(i,m,k)=>{const v=i[k],b=m[k];return!v||!b||b<v?-1:b>v?1:0},c=e.slice().sort((i,m)=>u?u.direction==="ascending"?f(m,i,u.orderBy):f(i,m,u.orderBy):1);return e.length===0?t.jsx(w,{size:"small",className:p.noDocuments,children:t.jsx(g,{id:"DocumentList.NoDocuments"})}):t.jsxs(t.Fragment,{children:[r.length>0&&t.jsx(_,{onClick:i=>r.forEach(m=>s(i,m,e.find(k=>k.dokumentId===m))),className:p.openDocumentButton,size:"small",variant:"primary",children:t.jsx(g,{id:"DocumentList.LastNedKnapp",values:{antall:r.length}})}),t.jsxs(l,{size:"small",sort:u,onSortChange:i=>h(i),children:[t.jsx(l.Header,{children:t.jsxs(l.Row,{children:[t.jsx(l.HeaderCell,{children:t.jsx(L,{checked:r.length===c.length,indeterminate:r.length>0&&r.length!==c.length,onChange:()=>r.length>0?o([]):o(c.map(({dokumentId:i})=>i)),hideLabel:!0,children:"Velg alle rader"})}),t.jsx(l.ColumnHeader,{sortKey:"kommunikasjonsretning",sortable:!0,children:t.jsx(g,{id:"DocumentList.Direction"})}),t.jsx(l.ColumnHeader,{sortKey:"tittel",sortable:!0,children:t.jsx(g,{id:"DocumentList.DocumentType"})}),t.jsx(l.ColumnHeader,{sortKey:"gjelderFor",sortable:!0,children:t.jsx(g,{id:"DocumentList.Gjelder"})}),t.jsx(l.ColumnHeader,{sortKey:"tidspunkt",sortable:!0,children:t.jsx(g,{id:"DocumentList.DateTime"})})]})}),t.jsx(l.Body,{children:c.map(i=>t.jsxs(l.Row,{children:[t.jsx(l.DataCell,{children:t.jsx(L,{hideLabel:!0,checked:r.includes(i.dokumentId),onChange:()=>j(i.dokumentId),"aria-labelledby":i.tittel,children:" "})}),t.jsx(l.DataCell,{children:t.jsx(X,{kommunikasjonsretning:i.kommunikasjonsretning})}),t.jsxs(l.DataCell,{scope:"row",children:[i.behandlingUuidList&&a&&i.behandlingUuidList.includes(a)&&t.jsx(B,{className:p.image,title:n.formatMessage({id:"DocumentList.IBruk"})}),t.jsx(U,{className:p.dokumentlenke,onClick:m=>s(m,i.dokumentId,i),children:i.tittel})]}),t.jsx(l.DataCell,{children:i.gjelderFor}),t.jsx(l.DataCell,{children:i.tidspunkt?t.jsx(O,{dateTimeString:i.tidspunkt}):t.jsx(w,{size:"small",children:t.jsx(g,{id:"DocumentList.IProduksjon"})})})]},i.dokumentId))})]})]})};q.__docgenInfo={description:`DocumentList

Presentasjonskomponent. Viser dokumenter i en liste. Tar også inn en callback-funksjon som blir
trigget når saksbehandler velger et dokument. Finnes ingen dokumenter blir det kun vist en label
som viser at ingen dokumenter finnes på fagsak.`,methods:[],displayName:"DocumentList",props:{documents:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor?: string;
}`,signature:{properties:[{key:"journalpostId",value:{name:"string",required:!0}},{key:"dokumentId",value:{name:"string",required:!0}},{key:"behandlingUuidList",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"tittel",value:{name:"string",required:!1}},{key:"tidspunkt",value:{name:"string",required:!1}},{key:"kommunikasjonsretning",value:{name:"string",required:!0}},{key:"gjelderFor",value:{name:"string",required:!1}}]}}],raw:`Readonly<{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor?: string;
}>`}],raw:"Dokument[]"},description:""},behandlingUuid:{required:!1,tsType:{name:"string"},description:""},selectDocumentCallback:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.SyntheticEvent, id?: number | string, dokument?: Dokument) => void",signature:{arguments:[{type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent"},name:"e"},{type:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},name:"id"},{type:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor?: string;
}`,signature:{properties:[{key:"journalpostId",value:{name:"string",required:!0}},{key:"dokumentId",value:{name:"string",required:!0}},{key:"behandlingUuidList",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"tittel",value:{name:"string",required:!1}},{key:"tidspunkt",value:{name:"string",required:!1}},{key:"kommunikasjonsretning",value:{name:"string",required:!0}},{key:"gjelderFor",value:{name:"string",required:!1}}]}}],raw:`Readonly<{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor?: string;
}>`},name:"dokument"}],return:{name:"void"}}},description:""}}};const Z={"DocumentList.Direction":"Inn/ut","DocumentList.DocumentType":"Dokument","DocumentList.Gjelder":"Gjelder","DocumentList.DateTime":"Dato","DocumentList.NoDocuments":"Det finnes ingen dokumenter på saken","DocumentList.Motta":"Inn","DocumentList.Send":"Ut","DocumentList.Intern":"Intern","DocumentList.IProduksjon":"I bestilling","DocumentList.IBruk":"Brukes i behandlingen","DocumentList.LastNedKnapp":"{antall, plural, one {Åpne # valgt dokument} other {Åpne # valgte dokumenter}}"},ee=C(Z),S=e=>t.jsx(R,{value:ee,children:t.jsx(q,{...e})});S.__docgenInfo={description:"",methods:[],displayName:"DokumenterSakIndex",props:{documents:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor?: string;
}`,signature:{properties:[{key:"journalpostId",value:{name:"string",required:!0}},{key:"dokumentId",value:{name:"string",required:!0}},{key:"behandlingUuidList",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"tittel",value:{name:"string",required:!1}},{key:"tidspunkt",value:{name:"string",required:!1}},{key:"kommunikasjonsretning",value:{name:"string",required:!0}},{key:"gjelderFor",value:{name:"string",required:!1}}]}}],raw:`Readonly<{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor?: string;
}>`}],raw:"Dokument[]"},description:""},selectDocumentCallback:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.SyntheticEvent, id?: number | string, dokument?: Dokument) => void",signature:{arguments:[{type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent"},name:"e"},{type:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},name:"id"},{type:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor?: string;
}`,signature:{properties:[{key:"journalpostId",value:{name:"string",required:!0}},{key:"dokumentId",value:{name:"string",required:!0}},{key:"behandlingUuidList",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"tittel",value:{name:"string",required:!1}},{key:"tidspunkt",value:{name:"string",required:!1}},{key:"kommunikasjonsretning",value:{name:"string",required:!0}},{key:"gjelderFor",value:{name:"string",required:!1}}]}}],raw:`Readonly<{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor?: string;
}>`},name:"dokument"}],return:{name:"void"}}},description:""},behandlingUuid:{required:!1,tsType:{name:"string"},description:""}}};const ne=e=>(a,s,n)=>{if(n){const r=window.open(F(e,n.journalpostId,n.dokumentId),"_blank");r&&setTimeout(()=>{r.document.title=n.tittel||"Dokument"},1e3)}},te=(e,a)=>e.tidspunkt?a.tidspunkt?a.tidspunkt.localeCompare(e.tidspunkt):-1:1,re=[],ie=({behandlingUuid:e,behandlingVersjon:a,saksnummer:s,toggleVisUtvidetBehandlingDetaljerKnapp:n})=>{const r=E(),o=I(),{data:j=re,status:u}=N(r.hentDokumenter(s,e,a)),[y,h]=d.useState();if(u==="pending")return t.jsx(T,{});const f=j.toSorted(te);return t.jsx("div",{className:M.container,style:{height:`calc(100vh - ${y}px)`},ref:c=>{c&&h(c.getBoundingClientRect().top)},children:t.jsx(P,{tekst:o.formatMessage({id:"DokumentIndex.Dokumenter"}),antall:f.length,toggleVisUtvidetBehandlingDetaljerKnapp:n,children:t.jsx(S,{documents:f,selectDocumentCallback:ne(s),behandlingUuid:e})})})};ie.__docgenInfo={description:`DokumentIndex

 Har ansvar for å hente sakens dokumenter fra state og rendre det i en liste.`,methods:[],displayName:"DokumentIndex",props:{saksnummer:{required:!0,tsType:{name:"string"},description:""},behandlingUuid:{required:!1,tsType:{name:"string"},description:""},behandlingVersjon:{required:!1,tsType:{name:"number"},description:""},toggleVisUtvidetBehandlingDetaljerKnapp:{required:!0,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:""}}};export{ie as D,D as K,V as S};
