import{t as ie,P as de,b as F,R as Ee,v as b,_ as V,C as P,a as Be,j as E,s as He,x as _e,e as xe}from"./index.es-1e72d51e.js";import{R as oe,r as j}from"./index-6d8bab86.js";import{I as Ge,b as je,Y as J,x as H,H as Ue,W as $}from"./index.es-bf42e136.js";import{a2 as _,D as Ve,O as Pe,s as Y,S as ee,r as y,T as O,J as S,aC as ke,al as ge,aD as he,ae as U,a5 as T,aE as f,aF as R,w as Ce,Z as $e,af as L,a4 as ae,aG as qe,a6 as we,ag as me}from"./AppIndex.stories-d8c504de.js";import{H as Fe,l as Ae,D as ze}from"./index.es-52330419.js";import{w as v,g as p,E as ye,F as W,M as G,B as A,T as Ye}from"./index.es-829758c6.js";import{P as Q,u as Se}from"./ProsessDefaultInitPanel-a8513c3e.js";import{G as Te}from"./index.es-39f7bde4.js";import{K as Je}from"./KlageBehandlingModal-62610360.js";import{F as We}from"./FatterVedtakStatusModal-fd14271c.js";import{V as Ze}from"./VergeFaktaInitPanel-1ef0f528.js";import{B as Qe}from"./BehandlingContainer-ef64709f.js";import"./index.es-00d29b53.js";import"./extends-98964cd2.js";import"./iframe-e84bb311.js";import"../sb-preview/runtime.js";import"./SettPaVentReadOnlyModal-c7df843b.js";import"./nb_NO-2dbbfd6c.js";import"./BehandlingHenlagtPanel-11eff6ad.js";var Oe={exports:{}},M={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ve;function Xe(){if(ve)return M;ve=1;var e=oe,a=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function k(o,i,m){var g,u={},c=null,x=null;m!==void 0&&(c=""+m),i.key!==void 0&&(c=""+i.key),i.ref!==void 0&&(x=i.ref);for(g in i)n.call(i,g)&&!d.hasOwnProperty(g)&&(u[g]=i[g]);if(o&&o.defaultProps)for(g in i=o.defaultProps,i)u[g]===void 0&&(u[g]=i[g]);return{$$typeof:a,type:o,key:c,ref:x,props:u,_owner:l.current}}return M.Fragment=t,M.jsx=k,M.jsxs=k,M}Oe.exports=Xe();var r=Oe.exports;const ea={"Klage.LovhjemmelNFP":"Fvl §§ 28, 31, 32, 33 og ftrl § 21-12","Klage.LovhjemmelKA":"Fvl §§  28, 31, 32, 34 og ftrl § 21-12","Klage.Formkrav.VelgVedtak":"Vedtaket som er påklagd","Klage.Formkrav.Title":"Vurder formkrav","Klage.Formkrav.HelpText":"Vurder om klagen oppfyller formkravene","Klage.Formkrav.IkkePåklagdVedtak":"Ikke påklagd et vedtak","Klage.Formkrav.ErKlagerPart":"Er klager part i saken?","Klage.Formkrav.ErKonkret":"Klages det på konkrete elementer i vedtaket?","Klage.Formkrav.ErFristOverholdt":"Er klagefristen overholdt?","Klage.Formkrav.ErSignert":"Er klagen signert?","Klage.Formkrav.KabalText":"Fortsett klagebehandlingen i KABAL: Kryss av, velg hjemmel og trykk send","Klage.Formkrav.SeKabalText":"Klagen behandles i KABAL","Klage.Formkrav.SendTilKabal":"Send til KABAL","Klage.Formkrav.Hjemmel":"Hjemmel","Klage.Formkrav.Ja":"Ja","Klage.Formkrav.Nei":"Nei","Klage.Formkrav.Vurdering":"Vurdering","Malform.Beskrivelse":"Foretrukket språk"},aa="_confirmVilkarForm_68qsj_1",ra="_selectBredde_68qsj_4",la="_col_68qsj_7",q={confirmVilkarForm:aa,selectBredde:ra,col:la},ue="ikkePaklagdVedtak",ta=e=>e!=null&&e.paKlagdBehandlingUuid?`${e.paKlagdBehandlingUuid}`:ue,sa=(e,a,t)=>[r.jsx("option",{value:ue,children:a.formatMessage({id:"Klage.Formkrav.IkkePåklagdVedtak"})},"formkrav")].concat([...e].sort((n,l)=>Y(n.avsluttet).diff(Y(l.avsluttet))).map(n=>r.jsx("option",{value:`${n.uuid}`,children:`${t(n.type,S.BEHANDLING_TYPE)} ${Y(n.avsluttet).format(Ee)}`},n.uuid))),na=e=>e===_.VURDERING_AV_FORMKRAV_KLAGE_NFP?"Klage.LovhjemmelNFP":"Klage.LovhjemmelKA",ia=({readOnly:e,readOnlySubmitButton:a,aksjonspunktCode:t,avsluttedeBehandlinger:n,alleKodeverk:l,isSubmitting:d,isDirty:k})=>{const o=F(),i=ge(l),m=sa(n,o,i);return r.jsxs(r.Fragment,{children:[r.jsx(b,{size:"small",children:o.formatMessage({id:"Klage.Formkrav.Title"})}),r.jsx(p,{fourPx:!0}),r.jsx(Be,{children:o.formatMessage({id:na(t)})}),r.jsx(p,{fourPx:!0}),r.jsx(ye,{isAksjonspunktOpen:!a,children:[r.jsx(v,{id:"Klage.Formkrav.HelpText"},t)]}),r.jsx(p,{sixteenPx:!0}),r.jsx(W,{children:r.jsxs(G,{children:[r.jsx(A,{className:q.col,children:r.jsx(Fe,{readOnly:e})}),r.jsxs(A,{className:q.col,children:[r.jsx(ee,{readOnly:e,validate:[y],name:"vedtak",label:o.formatMessage({id:"Klage.Formkrav.VelgVedtak"}),selectValues:m,className:q.selectBredde}),r.jsx(p,{sixteenPx:!0}),r.jsx(W,{children:r.jsxs(G,{children:[r.jsx(A,{children:r.jsx(O,{name:"erKlagerPart",label:o.formatMessage({id:"Klage.Formkrav.ErKlagerPart"}),validate:[y],isReadOnly:e,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:o.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:o.formatMessage({id:"Klage.Formkrav.Nei"})}]})}),r.jsx(p,{sixteenPx:!0}),r.jsx(A,{children:r.jsx(O,{name:"erKonkret",label:o.formatMessage({id:"Klage.Formkrav.ErKonkret"}),validate:[y],isReadOnly:e,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:o.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:o.formatMessage({id:"Klage.Formkrav.Nei"})}]})})]})}),r.jsx(p,{sixteenPx:!0}),r.jsxs(G,{children:[r.jsx(A,{children:r.jsx(O,{name:"erFristOverholdt",label:o.formatMessage({id:"Klage.Formkrav.ErFristOverholdt"}),validate:[y],isReadOnly:e,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:o.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:o.formatMessage({id:"Klage.Formkrav.Nei"})}]})}),r.jsx(p,{sixteenPx:!0}),r.jsx(A,{children:r.jsx(O,{name:"erSignert",label:o.formatMessage({id:"Klage.Formkrav.ErSignert"}),validate:[y],isReadOnly:e,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:o.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:o.formatMessage({id:"Klage.Formkrav.Nei"})}]})})]})]})]})}),r.jsx("div",{className:q.confirmVilkarForm,children:r.jsx(Ae,{isReadOnly:e,isSubmittable:!a,isSubmitting:d,isDirty:k})})]})},da=e=>{const a=e?e.klageFormkravResultatNFP:null;return{vedtak:a?ta(a):"",begrunnelse:a?a.begrunnelse:void 0,erKlagerPart:a?a.erKlagerPart:void 0,erKonkret:a?a.erKlageKonkret:void 0,erFristOverholdt:a?a.erKlagefirstOverholdt:void 0,erSignert:a?a.erSignert:void 0}},Re=(e,a)=>e.find(t=>t.uuid===a),be=(e,a)=>{const t=Re(e,a);return!!t&&(t.type===ke.TILBAKEKREVING||t.type===ke.TILBAKEKREVING_REVURDERING)},oa=(e,a)=>{const t=be(e,a),n=Re(e,a);return n&&t?{tilbakekrevingUuid:n.uuid,tilbakekrevingVedtakDato:n.avsluttet,tilbakekrevingBehandlingType:n.type}:void 0},ga=(e,a)=>({erKlagerPart:e.erKlagerPart,erFristOverholdt:e.erFristOverholdt,erKonkret:e.erKonkret,erSignert:e.erSignert,begrunnelse:e.begrunnelse,kode:_.VURDERING_AV_FORMKRAV_KLAGE_NFP,vedtakBehandlingUuid:e.vedtak===ue?void 0:e.vedtak,erTilbakekreving:be(a,e.vedtak),tilbakekrevingInfo:oa(a,e.vedtak)}),ua=({readOnly:e,klageVurdering:a,readOnlySubmitButton:t,alleKodeverk:n,avsluttedeBehandlinger:l,submitCallback:d,formData:k,setFormData:o})=>{const i=j.useMemo(()=>da(a),[a]),m=Ve({defaultValues:k||i});return r.jsx(Pe,{formMethods:m,onSubmit:g=>d(ga(g,l)),setDataOnUnmount:o,children:r.jsx(ia,{readOnly:e,readOnlySubmitButton:t,aksjonspunktCode:_.VURDERING_AV_FORMKRAV_KLAGE_NFP,alleKodeverk:n,avsluttedeBehandlinger:l,isSubmitting:m.formState.isSubmitting,isDirty:m.formState.isDirty})})},ka=({klageVurdering:e,alleKodeverk:a,avsluttedeBehandlinger:t})=>{var n;const l=F(),{klageFormkravResultatKA:d,underBehandlingKabal:k,behandletAvKabal:o}=e;let i=l.formatMessage({id:"Klage.Formkrav.IkkePåklagdVedtak"});if(d!=null&&d.paKlagdBehandlingUuid){const m=t.find(g=>g.uuid===d.paKlagdBehandlingUuid);m&&(i=`${(n=a[Ge.BEHANDLING_TYPE].find(g=>g.kode===m.type))==null?void 0:n.navn} ${Y(m.avsluttet).format(Ee)}`)}return r.jsxs(r.Fragment,{children:[r.jsx(b,{size:"small",children:r.jsx(v,{id:"Klage.Formkrav.Title"})}),r.jsx(p,{sixteenPx:!0}),k&&r.jsxs(r.Fragment,{children:[r.jsx(b,{size:"small",children:r.jsx(v,{id:"Klage.Formkrav.SeKabalText"})}),r.jsx(p,{sixteenPx:!0})]}),!k&&!o&&r.jsxs(r.Fragment,{children:[r.jsx(V,{size:"small",children:r.jsx(v,{id:"Klage.Formkrav.VelgVedtak"})}),r.jsx(p,{fourPx:!0}),r.jsx(P,{size:"small",children:i}),r.jsx(p,{sixteenPx:!0}),r.jsx(V,{size:"small",children:r.jsx(v,{id:"Klage.Formkrav.ErKlagerPart"})}),r.jsx(p,{fourPx:!0}),r.jsx(P,{size:"small",children:d!=null&&d.erKlagerPart?r.jsx(v,{id:"Klage.Formkrav.Ja"}):r.jsx(v,{id:"Klage.Formkrav.Nei"})}),r.jsx(p,{sixteenPx:!0}),r.jsx(V,{size:"small",children:r.jsx(v,{id:"Klage.Formkrav.ErKonkret"})}),r.jsx(p,{fourPx:!0}),r.jsx(P,{size:"small",children:d!=null&&d.erKlageKonkret?r.jsx(v,{id:"Klage.Formkrav.Ja"}):r.jsx(v,{id:"Klage.Formkrav.Nei"})}),r.jsx(p,{sixteenPx:!0}),r.jsx(V,{size:"small",children:r.jsx(v,{id:"Klage.Formkrav.ErFristOverholdt"})}),r.jsx(p,{fourPx:!0}),r.jsx(P,{size:"small",children:d!=null&&d.erKlagefirstOverholdt?r.jsx(v,{id:"Klage.Formkrav.Ja"}):r.jsx(v,{id:"Klage.Formkrav.Nei"})}),r.jsx(p,{sixteenPx:!0}),r.jsx(V,{size:"small",children:r.jsx(v,{id:"Klage.Formkrav.ErSignert"})}),r.jsx(p,{fourPx:!0}),r.jsx(P,{size:"small",children:d!=null&&d.erSignert?r.jsx(v,{id:"Klage.Formkrav.Ja"}):r.jsx(v,{id:"Klage.Formkrav.Nei"})}),r.jsx(p,{sixteenPx:!0}),r.jsx(V,{size:"small",children:r.jsx(v,{id:"Klage.Formkrav.Vurdering"})}),r.jsx(p,{fourPx:!0}),r.jsx(P,{size:"small",children:d==null?void 0:d.begrunnelse})]})]})},ma=ie(ea),Ne=({klageVurdering:e={},avsluttedeBehandlinger:a,aksjonspunkter:t,submitCallback:n,isReadOnly:l,readOnlySubmitButton:d,alleKodeverk:k,formData:o,setFormData:i})=>r.jsxs(de,{value:ma,children:[t.some(m=>m.definisjon===_.VURDERING_AV_FORMKRAV_KLAGE_NFP)&&r.jsx(ua,{klageVurdering:e,submitCallback:n,readOnly:l,readOnlySubmitButton:d,alleKodeverk:k,avsluttedeBehandlinger:a,formData:o,setFormData:i}),e.klageFormkravResultatKA&&r.jsx(ka,{klageVurdering:e,alleKodeverk:k,avsluttedeBehandlinger:a})]}),va=[_.VURDERING_AV_FORMKRAV_KLAGE_NFP],pa=[T.KLAGE_VURDERING],re=({alleBehandlinger:e,...a})=>{const t=F(),n=j.useMemo(()=>e.filter(l=>l.status===je.AVSLUTTET).filter(l=>(l.type!==J.KLAGE||he(l.resultatType))&&l.type!==J.ANKE),[e]);return E.jsx(Q,{...a,panelEndepunkter:pa,aksjonspunktKoder:va,prosessPanelKode:U.FORMKRAV_KLAGE_NAV_FAMILIE_OG_PENSJON,prosessPanelMenyTekst:t.formatMessage({id:"Behandlingspunkt.FormkravKlageNFP"}),skalPanelVisesIMeny:()=>!0,renderPanel:l=>E.jsx(Ne,{avsluttedeBehandlinger:n,...l})})};try{re.displayName="FormKravFamOgPensjonProsessStegInitPanel",re.__docgenInfo={description:"",displayName:"FormKravFamOgPensjonProsessStegInitPanel",props:{alleBehandlinger:{defaultValue:null,description:"",name:"alleBehandlinger",required:!0,type:{name:"{ uuid: string; type: string; status: string; opprettet: string; avsluttet?: string | undefined; resultatType?: string | undefined; }[]"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}var De={exports:{}},I={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pe;function Ka(){if(pe)return I;pe=1;var e=oe,a=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function k(o,i,m){var g,u={},c=null,x=null;m!==void 0&&(c=""+m),i.key!==void 0&&(c=""+i.key),i.ref!==void 0&&(x=i.ref);for(g in i)n.call(i,g)&&!d.hasOwnProperty(g)&&(u[g]=i[g]);if(o&&o.defaultProps)for(g in i=o.defaultProps,i)u[g]===void 0&&(u[g]=i[g]);return{$$typeof:a,type:o,key:c,ref:x,props:u,_owner:l.current}}return I.Fragment=t,I.jsx=k,I.jsxs=k,I}De.exports=Ka();var s=De.exports;const ca={"Klage.ResolveKlage.Title":"Behandle klage","Klage.ResolveKlage.HelpText":"Vurder om klagen skal tas til følge","Klage.ResolveKlage.KeepVedtakNk":"Stadfest vedtaket","Klage.ResolveKlage.KeepVedtakNfp":"Oppretthold vedtaket","Klage.ResolveKlage.ChangeVedtak":"Omgjør vedtaket","Klage.ResolveKlage.Hjemmel":"Hjemmel","Klage.Behandle.Omgjort":"Til gunst","Klage.Behandle.DelvisOmgjort":"Delvis omgjør, til gunst","Klage.Behandle.Hjemsendt":"Hjemsend vedtaket","Klage.Behandle.Ugunst":"Til ugunst","Klage.ResolveKlage.NullifyVedtak":"Opphev og hjemsend vedtaket","Klage.ResolveKlage.Cause":"Årsak","Klage.ResolveKlage.TempSaveButton":"Lagre","KlageVurderingRadioOptionsKa.VurderingForKlage":"Vurdering","FritekstKlageBrevTextField.Fritekst":"Fritekst til brev","BehandleKlageFormNfp.BegrunnelseForKlage":"Begrunnelse","PreviewKlageLink.ForhandvisBrev":"Forhåndsvis brev","KlageVurderingRadioOptionsKa.Begrunnelse":"Begrunnelse","Malform.Beskrivelse":"Foretrukket språk"},fa=({klageVurdering:e,alleKodeverk:a})=>{var t,n;const l=F(),{begrunnelse:d,fritekstTilBrev:k,klageVurdering:o,klageMedholdArsak:i,klageVurderingOmgjoer:m}=e.klageVurderingResultatNK||{},g=a[S.KLAGE_MEDHOLD_ARSAK];return s.jsxs(s.Fragment,{children:[s.jsx(b,{size:"small",children:l.formatMessage({id:"Klage.ResolveKlage.Title"})}),s.jsx(p,{sixteenPx:!0}),s.jsx(V,{size:"small",children:s.jsx(v,{id:"KlageVurderingRadioOptionsKa.VurderingForKlage"})}),s.jsxs(P,{size:"small",children:[o===f.STADFESTE_YTELSESVEDTAK&&s.jsx(v,{id:"Klage.ResolveKlage.KeepVedtakNk"}),o===f.MEDHOLD_I_KLAGE&&s.jsx(v,{id:"Klage.ResolveKlage.ChangeVedtak"}),o===f.HJEMSENDE_UTEN_Å_OPPHEVE&&s.jsx(v,{id:"Klage.Behandle.Hjemsendt"}),o===f.OPPHEVE_YTELSESVEDTAK&&s.jsx(v,{id:"Klage.ResolveKlage.NullifyVedtak"})]}),s.jsx(p,{sixteenPx:!0}),o===f.MEDHOLD_I_KLAGE&&s.jsxs(s.Fragment,{children:[s.jsx(V,{size:"small",children:s.jsx(v,{id:"Klage.ResolveKlage.Cause"})}),s.jsx(P,{size:"small",children:(t=g.find(u=>u.kode===i))==null?void 0:t.navn}),s.jsx(p,{sixteenPx:!0}),s.jsxs(P,{size:"small",children:[m===R.GUNST_MEDHOLD_I_KLAGE&&s.jsx(v,{id:"Klage.Behandle.Omgjort"}),m===R.UGUNST_MEDHOLD_I_KLAGE&&s.jsx(v,{id:"Klage.Behandle.Ugunst"}),m===R.DELVIS_MEDHOLD_I_KLAGE&&s.jsx(v,{id:"Klage.Behandle.DelvisOmgjort"})]}),s.jsx(p,{sixteenPx:!0})]}),(o===f.OPPHEVE_YTELSESVEDTAK||o===f.HJEMSENDE_UTEN_Å_OPPHEVE)&&s.jsxs(s.Fragment,{children:[s.jsx(V,{size:"small",children:s.jsx(v,{id:"Klage.ResolveKlage.Cause"})}),s.jsx(P,{size:"small",children:(n=g.find(u=>u.kode===i))==null?void 0:n.navn}),s.jsx(p,{sixteenPx:!0})]}),s.jsx(V,{size:"small",children:s.jsx(v,{id:"FritekstKlageBrevTextField.Fritekst"})}),s.jsx(P,{size:"small",children:k}),s.jsx(p,{sixteenPx:!0}),s.jsx(V,{size:"small",children:s.jsx(v,{id:"KlageVurderingRadioOptionsKa.Begrunnelse"})}),s.jsx(P,{size:"small",children:d}),s.jsx(p,{sixteenPx:!0})]})},Ea="_previewLink_1xd5p_1",_a="_select_1xd5p_7",xa="_selectReadOnly_1xd5p_10",ja="_confirmVilkarForm_1xd5p_14",Va="_panel_1xd5p_17",Pa="_fritekstTilBrevTextArea_1xd5p_20",ha="_explanationTextarea_1xd5p_23",w={previewLink:Ea,select:_a,selectReadOnly:xa,confirmVilkarForm:ja,panel:Va,fritekstTilBrevTextArea:Pa,explanationTextarea:ha},Fa=(e,a)=>e.filter(({kode:t})=>a.includes(t)).sort((t,n)=>t.kode.localeCompare(n.kode)),Aa=e=>e.map(a=>a),ya=({readOnly:e,medholdReasons:a,alleHjemler:t,alleAktuelleHjemler:n,klageVurdering:l})=>{const d=F(),k=a.map(i=>s.jsx("option",{value:i.kode,children:i.navn},i.kode)),o=Fa(t,Aa(n)).map(i=>s.jsx("option",{value:i.kode,children:i.navn},i.kode));return s.jsxs(s.Fragment,{children:[s.jsx(O,{name:"klageVurdering",validate:[y],isReadOnly:e,isHorizontal:!0,radios:[{value:f.MEDHOLD_I_KLAGE,label:d.formatMessage({id:"Klage.ResolveKlage.ChangeVedtak"})},{value:f.STADFESTE_YTELSESVEDTAK,label:d.formatMessage({id:"Klage.ResolveKlage.KeepVedtakNfp"})}]}),l===f.MEDHOLD_I_KLAGE&&s.jsxs(s.Fragment,{children:[s.jsx(p,{sixteenPx:!0}),s.jsxs(Ye,{children:[s.jsx(ee,{readOnly:e,name:"klageMedholdArsak",selectValues:k,className:e?w.selectReadOnly:w.select,label:d.formatMessage({id:"Klage.ResolveKlage.Cause"}),validate:[y]}),s.jsx(p,{sixteenPx:!0}),s.jsx(O,{name:"klageVurderingOmgjoer",validate:[y],isReadOnly:e,radios:[{value:R.GUNST_MEDHOLD_I_KLAGE,label:d.formatMessage({id:"Klage.Behandle.Omgjort"})},{value:R.UGUNST_MEDHOLD_I_KLAGE,label:d.formatMessage({id:"Klage.Behandle.Ugunst"})},{value:R.DELVIS_MEDHOLD_I_KLAGE,label:d.formatMessage({id:"Klage.Behandle.DelvisOmgjort"})}]})]})]}),s.jsx(p,{sixteenPx:!0}),s.jsx(ee,{readOnly:e,name:"klageHjemmel",selectValues:o,className:e?w.selectReadOnly:w.select,label:d.formatMessage({id:"Klage.ResolveKlage.Hjemmel"}),validate:[y]}),s.jsx(p,{sixteenPx:!0})]})},Sa="_fritekstTilBrevTextArea_n72am_1",Ta={fritekstTilBrevTextArea:Sa},Le=({sprakkode:e,readOnly:a})=>s.jsx("div",{className:Ta.fritekstTilBrevTextArea,children:s.jsx(Ce,{name:"fritekstTilBrev",label:F().formatMessage({id:"FritekstKlageBrevTextField.Fritekst"}),validate:[y,$e],readOnly:a,maxLength:1e5,badges:[{type:"info",titleText:He(e)}],parse:t=>t.toString().replaceAll("‑","-").replaceAll("	"," ")})});Le.defaultProps={readOnly:!0};const Oa="_previewLink_hcaux_1",Ra={previewLink:Oa},ba=(e,a)=>{switch(a){case f.STADFESTE_YTELSESVEDTAK:return e?L.KLAGE_STADFESTET:L.KLAGE_OVERSENDT;case f.OPPHEVE_YTELSESVEDTAK:return L.KLAGE_HJEMSENDT;case f.HJEMSENDE_UTEN_Å_OPPHEVE:return L.KLAGE_HJEMSENDT;case f.MEDHOLD_I_KLAGE:return L.KLAGE_OMGJORING;default:return}},Na=(e,a)=>({fritekst:a||"",dokumentMal:ba(!1,e),erOpphevetKlage:e===f.OPPHEVE_YTELSESVEDTAK}),Da=({previewCallback:e,fritekstTilBrev:a,klageVurdering:t})=>{const n=l=>{e(Na(t,a)),l.preventDefault()};return s.jsx("a",{href:"",onClick:l=>{n(l)},onKeyDown:l=>l.key==="Enter"?n(l):null,className:Te(Ra.previewLink,"lenke lenke--frittstaende"),children:s.jsx(v,{id:"PreviewKlageLink.ForhandvisBrev"})})},La=(e,a)=>({kode:a,klageMedholdArsak:e.klageVurdering===f.MEDHOLD_I_KLAGE||e.klageVurdering===f.OPPHEVE_YTELSESVEDTAK?e.klageMedholdArsak:void 0,klageVurderingOmgjoer:e.klageVurdering===f.MEDHOLD_I_KLAGE?e.klageVurderingOmgjoer:void 0,klageHjemmel:e.klageHjemmel,fritekstTilBrev:e.fritekstTilBrev,begrunnelse:e.begrunnelse,klageVurdering:e.klageVurdering}),Me=({saveKlage:e,spinner:a,aksjonspunktCode:t,readOnly:n,handleSubmit:l})=>n?null:s.jsx(_e,{size:"small",variant:"primary",loading:a,onClick:l(d=>e(La(d,t))),type:"button",children:s.jsx(v,{id:"Klage.ResolveKlage.TempSaveButton"})});Me.defaultProps={spinner:!1,readOnly:!1};const Ma="_confirmVilkarForm_13k5i_1",Ia={confirmVilkarForm:Ma},Ba=e=>({klageMedholdArsak:e.klageVurdering===f.MEDHOLD_I_KLAGE?e.klageMedholdArsak:void 0,klageVurderingOmgjoer:e.klageVurdering===f.MEDHOLD_I_KLAGE?e.klageVurderingOmgjoer:void 0,klageHjemmel:e.klageHjemmel,klageVurdering:e.klageVurdering,fritekstTilBrev:e.fritekstTilBrev,begrunnelse:e.begrunnelse,kode:_.BEHANDLE_KLAGE_NFP}),z=e=>{if(e&&e!=="-")return e},Ha=e=>({klageMedholdArsak:z(e==null?void 0:e.klageMedholdArsak),klageVurderingOmgjoer:z(e==null?void 0:e.klageVurderingOmgjoer),klageHjemmel:z(e==null?void 0:e.klageHjemmel),klageVurdering:z(e==null?void 0:e.klageVurdering),begrunnelse:e?e.begrunnelse:void 0,fritekstTilBrev:e?e.fritekstTilBrev:void 0}),Ga=({readOnly:e,klageVurdering:a,previewCallback:t,saveKlage:n,readOnlySubmitButton:l,sprakkode:d,alleAktuelleHjemler:k,alleKodeverk:o,submitCallback:i,formData:m,setFormData:g})=>{const u=F(),c=j.useMemo(()=>Ha(a.klageVurderingResultatNFP),[a]),x=Ve({defaultValues:m||c}),h=x.watch();return s.jsxs(Pe,{formMethods:x,onSubmit:N=>i(Ba(N)),setDataOnUnmount:g,children:[s.jsx(b,{size:"small",children:u.formatMessage({id:"Klage.ResolveKlage.Title"})}),s.jsx(p,{fourPx:!0}),s.jsx(ye,{isAksjonspunktOpen:!l,children:[s.jsx(v,{id:"Klage.ResolveKlage.HelpText"},_.BEHANDLE_KLAGE_NFP)]}),s.jsx(ya,{readOnly:e,klageVurdering:h.klageVurdering,medholdReasons:o[S.KLAGE_MEDHOLD_ARSAK],alleHjemler:o[S.KLAGE_HJEMMEL],alleAktuelleHjemler:k}),s.jsxs("div",{className:Ia.confirmVilkarForm,children:[s.jsx(Fe,{readOnly:e,text:u.formatMessage({id:"BehandleKlageFormNfp.BegrunnelseForKlage"})}),s.jsx(p,{sixteenPx:!0}),s.jsx(Le,{sprakkode:d,readOnly:e}),s.jsx(p,{sixteenPx:!0}),s.jsx(W,{children:s.jsxs(G,{spaceBetween:!0,children:[s.jsxs(A,{children:[s.jsx(Ae,{isReadOnly:e,isSubmittable:!l,isSubmitting:x.formState.isSubmitting,isDirty:x.formState.isDirty}),!e&&h.klageVurdering&&h.fritekstTilBrev&&h.fritekstTilBrev.length>2&&s.jsx(Da,{previewCallback:t,fritekstTilBrev:h.fritekstTilBrev,klageVurdering:h.klageVurdering})]}),s.jsx(A,{children:s.jsx(Me,{saveKlage:n,handleSubmit:x.handleSubmit,readOnly:e,aksjonspunktCode:_.BEHANDLE_KLAGE_NFP})})]})})]})]})},Ua=ie(ca),Ca=({behandling:e,klageVurdering:a,alleKodeverk:t,saveKlage:n,submitCallback:l,isReadOnly:d,previewCallback:k,readOnlySubmitButton:o,aksjonspunkter:i,formData:m,setFormData:g})=>s.jsxs(de,{value:Ua,children:[a.klageVurderingResultatNK&&s.jsx(fa,{klageVurdering:a,alleKodeverk:t}),i.some(u=>u.definisjon===_.BEHANDLE_KLAGE_NFP)&&s.jsx(Ga,{sprakkode:e.sprakkode,klageVurdering:a,saveKlage:n,submitCallback:l,readOnly:d,previewCallback:k,readOnlySubmitButton:o,alleKodeverk:t,alleAktuelleHjemler:a.aktuelleHjemler?a.aktuelleHjemler:[],formData:m,setFormData:g})]}),$a=(e,a,t)=>n=>{const l={...n,behandlingUuid:t.uuid,fagsakYtelseType:a.fagsakYtelseType};return e(l).then(d=>xe(d))},qa=(e,a)=>t=>{const n={behandlingUuid:a.uuid,...t};return e(n)},wa=(e,a,t)=>n=>{const l=n.some(d=>d.kode===_.BEHANDLE_KLAGE_NFP&&d.klageVurdering===f.STADFESTE_YTELSESVEDTAK);return l&&a(!1),()=>{l?e(!0):t&&t("default","default")}},za=[T.KLAGE_VURDERING],Z=({fagsak:e,setSkalOppdatereEtterBekreftelseAvAp:a,opneSokeside:t,oppdaterProsessStegOgFaktaPanelIUrl:n,aksjonspunktKoder:l,prosessPanelKode:d,prosessPanelMenyTekst:k,...o})=>{const[i,m]=j.useState(!1),g=Se(),u=a?wa(m,a,n):void 0,{startRequest:c}=ae.useRestApiRunner(T.PREVIEW_MESSAGE),x=j.useCallback($a(c,e,g.behandling),[g.behandling.versjon]),{startRequest:h}=ae.useRestApiRunner(T.SAVE_KLAGE_VURDERING),N=j.useCallback(qa(h,g.behandling),[g.behandling.versjon]);return E.jsx(Q,{...o,panelEndepunkter:za,aksjonspunktKoder:l,prosessPanelKode:d,prosessPanelMenyTekst:k,skalPanelVisesIMeny:()=>!0,lagringSideEffekter:u,renderPanel:X=>E.jsxs(E.Fragment,{children:[E.jsx(Je,{visModal:i,lukkModal:()=>{m(!1),t&&t()}}),E.jsx(Ca,{previewCallback:x,saveKlage:N,...X})]})})};try{Z.displayName="VurderingFellesProsessStegInitPanel",Z.__docgenInfo={description:"",displayName:"VurderingFellesProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!1,type:{name:"((skalHenteFagsak: boolean) => void)"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!1,type:{name:"(() => void)"}},oppdaterProsessStegOgFaktaPanelIUrl:{defaultValue:null,description:"",name:"oppdaterProsessStegOgFaktaPanelIUrl",required:!1,type:{name:"((punktnavn?: string, faktanavn?: string) => void) | undefined"}},aksjonspunktKoder:{defaultValue:null,description:"",name:"aksjonspunktKoder",required:!1,type:{name:"string[]"}},prosessPanelKode:{defaultValue:null,description:"",name:"prosessPanelKode",required:!0,type:{name:"enum",value:[{value:'"default"'},{value:'"inngangsvilkar"'},{value:'"behandle_innsyn"'},{value:'"beregning"'},{value:'"beregningsgrunnlag"'},{value:'"klage_nav_familie_og_pensjon"'},{value:'"klage_nav_klageinstans"'},{value:'"formkrav_klage_nav_klageinstans"'},{value:'"formkrav_klage_nav_familie_og_pensjon"'},{value:'"fortsattmedlemskap"'},{value:'"opplysningsplikt"'},{value:'"soeknadsfrist"'},{value:'"tilbakekreving"'},{value:'"foreldelse"'},{value:'"tilkjent_ytelse"'},{value:'"varsel"'},{value:'"vedtak"'},{value:'"uttak"'},{value:'"simulering"'},{value:'"resultat"'},{value:'"ankebehandling"'},{value:'"ankemerknader"'},{value:'"ankeresultat"'}]}},prosessPanelMenyTekst:{defaultValue:null,description:"",name:"prosessPanelMenyTekst",required:!0,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const Ya=[_.BEHANDLE_KLAGE_NFP],le=({fagsak:e,setSkalOppdatereEtterBekreftelseAvAp:a,opneSokeside:t,oppdaterProsessStegOgFaktaPanelIUrl:n,...l})=>E.jsx(Z,{...l,fagsak:e,setSkalOppdatereEtterBekreftelseAvAp:a,opneSokeside:t,oppdaterProsessStegOgFaktaPanelIUrl:n,aksjonspunktKoder:Ya,prosessPanelKode:U.KLAGE_NAV_FAMILIE_OG_PENSJON,prosessPanelMenyTekst:F().formatMessage({id:"Behandlingspunkt.CheckKlageNFP"})});try{le.displayName="VurderingFamOgPensjonProsessStegInitPanel",le.__docgenInfo={description:"",displayName:"VurderingFamOgPensjonProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!0,type:{name:"(skalHenteFagsak: boolean) => void"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!0,type:{name:"() => void"}},oppdaterProsessStegOgFaktaPanelIUrl:{defaultValue:null,description:"",name:"oppdaterProsessStegOgFaktaPanelIUrl",required:!0,type:{name:"(punktnavn?: string | undefined, faktanavn?: string | undefined) => void"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const Ja=[_.VURDER_FORMKRAV_NK],Wa=[T.KLAGE_VURDERING],te=({alleBehandlinger:e,...a})=>{const t=F(),n=j.useMemo(()=>e.filter(l=>l.status===je.AVSLUTTET).filter(l=>(l.type!==J.KLAGE||he(l.resultatType))&&l.type!==J.ANKE),[e]);return E.jsx(Q,{...a,panelEndepunkter:Wa,aksjonspunktKoder:Ja,prosessPanelKode:U.FORMKRAV_KLAGE_NAV_KLAGEINSTANS,prosessPanelMenyTekst:t.formatMessage({id:"Behandlingspunkt.FormkravKlageKA"}),skalPanelVisesIMeny:()=>!0,renderPanel:l=>E.jsx(Ne,{avsluttedeBehandlinger:n,...l})})};try{te.displayName="FormKravKlageInstansProsessStegInitPanel",te.__docgenInfo={description:"",displayName:"FormKravKlageInstansProsessStegInitPanel",props:{alleBehandlinger:{defaultValue:null,description:"",name:"alleBehandlinger",required:!0,type:{name:"{ uuid: string; type: string; status: string; opprettet: string; avsluttet?: string | undefined; resultatType?: string | undefined; }[]"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const Za=[_.BEHANDLE_KLAGE_NK],se=({fagsak:e,...a})=>E.jsx(Z,{...a,aksjonspunktKoder:Za,fagsak:e,prosessPanelKode:U.KLAGE_NAV_KLAGEINSTANS,prosessPanelMenyTekst:F().formatMessage({id:"Behandlingspunkt.CheckKlageNK"})});try{se.displayName="VurderingKlageInstansProsessStegInitPanel",se.__docgenInfo={description:"",displayName:"VurderingKlageInstansProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}var Ie={exports:{}},B={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ke;function Qa(){if(Ke)return B;Ke=1;var e=oe,a=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function k(o,i,m){var g,u={},c=null,x=null;m!==void 0&&(c=""+m),i.key!==void 0&&(c=""+i.key),i.ref!==void 0&&(x=i.ref);for(g in i)n.call(i,g)&&!d.hasOwnProperty(g)&&(u[g]=i[g]);if(o&&o.defaultProps)for(g in i=o.defaultProps,i)u[g]===void 0&&(u[g]=i[g]);return{$$typeof:a,type:o,key:c,ref:x,props:u,_owner:l.current}}return B.Fragment=t,B.jsx=k,B.jsxs=k,B}Ie.exports=Qa();var K=Ie.exports;const Xa="_mainButton_lcisw_1",er={mainButton:Xa},ar=({behandlingPaaVent:e,previewVedtakCallback:a,readOnly:t,lagreVedtak:n,isSubmitting:l})=>{const d=j.useCallback(k=>{k.preventDefault(),a()},[]);return K.jsx(W,{children:K.jsxs(G,{children:[!t&&K.jsx(A,{children:K.jsx(_e,{variant:"primary",size:"small",className:er.mainButton,onClick:n,disabled:e||l,loading:l,type:"button",children:K.jsx(v,{id:"VedtakKlageForm.TilGodkjenning"})})}),K.jsx(A,{children:K.jsx("a",{href:"",onClick:d,onKeyDown:k=>k.key==="Enter"?d(k):null,className:Te("lenke lenke--frittstaende"),children:K.jsx(v,{id:"VedtakKlageForm.ForhandvisBrev"})})})]})})},rr={GUNST_MEDHOLD_I_KLAGE:"VedtakKlageForm.KlageOmgjortGunst",UGUNST_MEDHOLD_I_KLAGE:"VedtakKlageForm.KlageOmgjortUgunst",DELVIS_MEDHOLD_I_KLAGE:"VedtakKlageForm.KlageOmgjortDelvis"},lr=e=>()=>e({gjelderVedtak:!0}),tr=e=>{if(e){if(e.klageFormkravResultatKA&&e.klageVurderingResultatNK)return e.klageFormkravResultatKA.avvistArsaker;if(e.klageFormkravResultatNFP)return e.klageFormkravResultatNFP.avvistArsaker}return[]},sr=(e,a)=>{var t,n;const l=ge(a);if(e){if((t=e.klageVurderingResultatNK)!=null&&t.klageMedholdArsak)return l(e.klageVurderingResultatNK.klageMedholdArsak,S.KLAGE_MEDHOLD_ARSAK);if((n=e.klageVurderingResultatNFP)!=null&&n.klageMedholdArsak)return l(e.klageVurderingResultatNFP.klageMedholdArsak,S.KLAGE_MEDHOLD_ARSAK)}return null},nr=e=>{const a=e.klageVurderingResultatNK?e.klageVurderingResultatNK:e.klageVurderingResultatNFP;switch(a==null?void 0:a.klageVurdering){case f.AVVIS_KLAGE:return"VedtakKlageForm.KlageAvvist";case f.STADFESTE_YTELSESVEDTAK:return"VedtakKlageForm.KlageStadfestet";case f.OPPHEVE_YTELSESVEDTAK:return"VedtakKlageForm.YtelsesvedtakOpphevet";case f.HJEMSENDE_UTEN_Å_OPPHEVE:return"VedtakKlageForm.HjemmsendUtenOpphev";case f.MEDHOLD_I_KLAGE:return rr[(a==null?void 0:a.klageVurderingOmgjoer)||""];default:return"VedtakKlageForm.IkkeFastsatt"}},ir=({submitCallback:e,klageVurdering:a,behandlingsresultat:t,readOnly:n,aksjonspunkter:l,previewVedtakCallback:d,behandlingPaaVent:k,alleKodeverk:o})=>{const i=j.useMemo(()=>tr(a),[a]),m=j.useMemo(()=>sr(a,o),[a]),g=j.useMemo(()=>nr(a),[a]),u=a.klageVurderingResultatNK?a.klageVurderingResultatNK:a.klageVurderingResultatNFP,c=qe(t.type),[x,h]=j.useState(!1),N=j.useCallback(()=>{h(!0);const C=l.filter(D=>D.status===we.OPPRETTET).map(D=>D.definisjon).map(D=>({kode:ze(D,_.FORESLA_VEDTAK,_.FORESLA_VEDTAK_MANUELT,_.VEDTAK_UTEN_TOTRINNSKONTROLL)}));e(C).then(()=>h(!1))},[l]),X=ge(o);return K.jsxs(K.Fragment,{children:[K.jsx(b,{size:"small",children:K.jsx(v,{id:"VedtakKlageForm.Header"})}),K.jsx(p,{twentyPx:!0}),K.jsx(V,{size:"small",children:K.jsx(v,{id:"VedtakKlageForm.Resultat"})}),g&&K.jsx(P,{size:"small",children:K.jsx(v,{id:g})}),K.jsx(p,{sixteenPx:!0}),t.type===me.KLAGE_AVVIST&&K.jsxs(K.Fragment,{children:[K.jsx(V,{size:"small",children:K.jsx(v,{id:"VedtakKlageForm.ArsakTilAvvisning"})}),i.map(C=>K.jsx(P,{size:"small",children:X(C,S.KLAGE_AVVIST_AARSAK)},C)),K.jsx(p,{sixteenPx:!0})]}),c&&K.jsxs(K.Fragment,{children:[K.jsx(V,{size:"small",children:K.jsx(v,{id:"VedtakKlageForm.ArsakTilOmgjoring"})}),m,K.jsx(p,{sixteenPx:!0})]}),t.type===me.KLAGE_YTELSESVEDTAK_OPPHEVET&&K.jsxs(K.Fragment,{children:[K.jsx(V,{size:"small",children:K.jsx(v,{id:"VedtakKlageForm.ArsakTilOppheving"})}),m,K.jsx(p,{sixteenPx:!0})]}),(u==null?void 0:u.klageVurdertAv)==="NFP"&&K.jsx(ar,{previewVedtakCallback:lr(d),readOnly:n,behandlingPaaVent:k,lagreVedtak:N,isSubmitting:x})]})},dr={"VedtakKlageForm.ArsakTilAvslag":"Årsak til avslag","VedtakKlageForm.ResultatOpprettholdVedtak":"Vedtaket er stadfestet","VedtakKlageForm.ResultatKlageMedhold":"Vedtaket er omgjort","VedtakKlageForm.Resultat":"Resultat av klage","VedtakKlageForm.ArsakTilAvvisning":"Årsak til avvisning","VedtakKlageForm.ArsakTilOmgjoring":"Årsak til omgjøring","VedtakKlageForm.ArsakTilOppheving":"Årsak til oppheving","VedtakKlageForm.EngangsstonadIkkeInnvilget":"Engangsstønad er avslått","VedtakKlageForm.ResultatKlageAvvist":"Klagen er avvist","VedtakKlageForm.ResultatKlageYtelsesvedtakOpphevet":"Vedtaket er opphevet","VedtakKlageForm.TilGodkjenning":"Til godkjenning","VedtakKlageForm.ForhandvisBrev":"Forhåndsvis vedtaksbrev","VedtakKlageForm.ArsakTilMedhold":"Årsak","VedtakKlageForm.KlageOmgjortGunst":"Vedtaket er omgjort til gunst","VedtakKlageForm.KlageOmgjortUgunst":"Vedtaket er omgjort til ugunst","VedtakKlageForm.KlageOmgjortDelvis":"Vedtaket er delvis omgjort til gunst","VedtakKlageForm.HjemmsendUtenOpphev":"Vedtaket er hjemsendt","VedtakKlageForm.IkkeFastsatt":"Ikke fastsatt","VedtakKlageForm.Header":"Resultat","VedtakKlageForm.KlageAvvist":"Avvist fordi klagen ikke oppfyller formkravene","VedtakKlageForm.KlageStadfestet":"Vedtaket er stadfestet","VedtakKlageForm.YtelsesvedtakOpphevet":"Vedtak er opphevet og hjemsendt"},or=ie(dr),gr=({behandling:e,klageVurdering:a,aksjonspunkter:t,submitCallback:n,previewVedtakCallback:l,isReadOnly:d,alleKodeverk:k})=>{if(!e.behandlingsresultat)throw new Error(`behandlingsresultat finnes ikke for behandling ${e.uuid}`);return K.jsx(de,{value:or,children:K.jsx(ir,{behandlingsresultat:e.behandlingsresultat,behandlingPaaVent:e.behandlingPaaVent,klageVurdering:a,aksjonspunkter:t,submitCallback:n,previewVedtakCallback:l,readOnly:d,alleKodeverk:k})})},ur=(e,a,t)=>n=>{const l={...n,behandlingUuid:t.uuid,fagsakYtelseType:a.fagsakYtelseType};return e(l).then(d=>xe(d))},ce=(e,a=[])=>{const t=a.some(l=>l.status===Ue.OPPRETTET);if(a.length===0||t)return H.IKKE_VURDERT;const n=e==null?void 0:e.type;return n===$.HENLAGT_KLAGE_TRUKKET||n===$.HENLAGT_FEILOPPRETTET?H.IKKE_VURDERT:n===$.KLAGE_AVVIST||n===$.KLAGE_YTELSESVEDTAK_OPPHEVET?H.IKKE_OPPFYLT:H.OPPFYLT},kr=(e,a)=>()=>(a(!1),()=>{e(!0)}),mr=[_.FORESLA_VEDTAK,_.FATTER_VEDTAK,_.FORESLA_VEDTAK_MANUELT,_.VEDTAK_UTEN_TOTRINNSKONTROLL],vr=[T.KLAGE_VURDERING],ne=({fagsak:e,setSkalOppdatereEtterBekreftelseAvAp:a,opneSokeside:t,...n})=>{const l=F(),[d,k]=j.useState(!1),o=Se(),i=kr(k,a),{startRequest:m}=ae.useRestApiRunner(T.PREVIEW_MESSAGE),g=j.useCallback(ur(m,e,o.behandling),[o.behandling.versjon]),{aksjonspunkt:u}=n.behandling;return E.jsx(Q,{...n,panelEndepunkter:vr,aksjonspunktKoder:mr,prosessPanelKode:U.KLAGE_RESULTAT,prosessPanelMenyTekst:l.formatMessage({id:"Behandlingspunkt.ResultatKlage"}),skalPanelVisesIMeny:()=>!0,hentOverstyrtStatus:c=>ce(c.behandling.behandlingsresultat,u),lagringSideEffekter:i,hentSkalMarkeresSomAktiv:c=>ce(c.behandling.behandlingsresultat,u)!==H.IKKE_VURDERT,renderPanel:c=>E.jsxs(E.Fragment,{children:[E.jsx(We,{visModal:d,lukkModal:()=>{k(!1),t()},tekst:l.formatMessage({id:"FatterVedtakStatusModal.KlagenErFerdigbehandlet"})}),E.jsx(gr,{previewVedtakCallback:g,...c})]})})};try{ne.displayName="KlageresultatProsessStegInitPanel",ne.__docgenInfo={description:"",displayName:"KlageresultatProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; }>"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!0,type:{name:"(skalHenteFagsak: boolean) => void"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!0,type:{name:"() => void"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const fe=({behandling:e,fagsak:a,valgtProsessSteg:t,valgtFaktaSteg:n,oppdaterProsessStegOgFaktaPanelIUrl:l,opneSokeside:d,setSkalOppdatereEtterBekreftelseAvAp:k,alleBehandlinger:o})=>{const i=j.useCallback(u=>E.jsx(Ze,{...u}),[]),m=j.useMemo(()=>o.filter(u=>!u.behandlingHenlagt).map(u=>{var c;return{uuid:u.uuid,type:u.type,status:u.status,opprettet:u.opprettet,avsluttet:u.avsluttet,resultatType:(c=u.behandlingsresultat)==null?void 0:c.type}}),[o]),g=j.useCallback(u=>E.jsxs(E.Fragment,{children:[E.jsx(re,{...u,alleBehandlinger:m}),E.jsx(le,{...u,fagsak:a,opneSokeside:d,setSkalOppdatereEtterBekreftelseAvAp:k,oppdaterProsessStegOgFaktaPanelIUrl:l}),E.jsx(te,{...u,alleBehandlinger:m}),E.jsx(se,{...u,fagsak:a}),E.jsx(ne,{...u,fagsak:a,opneSokeside:d,setSkalOppdatereEtterBekreftelseAvAp:k})]}),[m,a,d,k,l]);return E.jsx(Qe,{behandling:e,valgtProsessSteg:t,valgtFaktaSteg:n,oppdaterProsessStegOgFaktaPanelIUrl:l,hentFaktaPaneler:i,hentProsessPaneler:g})};try{fe.displayName="KlagePaneler",fe.__docgenInfo={description:"",displayName:"KlagePaneler",props:{behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},oppdaterProsessStegOgFaktaPanelIUrl:{defaultValue:null,description:"",name:"oppdaterProsessStegOgFaktaPanelIUrl",required:!0,type:{name:"(punktnavn?: string | undefined, faktanavn?: string | undefined) => void"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!0,type:{name:"() => void"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!0,type:{name:"(skalHenteFagsak: boolean) => void"}},alleBehandlinger:{defaultValue:null,description:"",name:"alleBehandlinger",required:!0,type:{name:"BehandlingAppKontekst[]"}}}}}catch{}export{fe as default};
//# sourceMappingURL=KlagePaneler-98af681a.js.map
