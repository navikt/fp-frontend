import{r as g,h as b,i as d,k as B,T as I,l as R,j as a,m as T,P as V,b as J,n as $,J as Q,o as W}from"./iframe-Duvu2UuF.js";import{u as Y,n as K,d as X}from"./fagsakApi-CkDBUY-Q.js";import{A as M}from"./apiPollingStatus-nT-xUZgL.js";import{R as Z,S as ee}from"./eksterneLenker-DcE6CUbm.js";import{c as te}from"./bind-CDW9AOHd.js";import{u as re,B as w,D as k,M as E,H as D,a as ne,V as ae,b as N,S as se}from"./VStack-BzsaBcbL.js";import{S as ie}from"./ExclamationmarkTriangleFill-Bnq-gMt3.js";import{M as j}from"./message-CyTcPugX.js";import{L as _}from"./Link-xmeMp4za.js";import{S as oe}from"./ChevronDown-j3AHn9_K.js";import{S as le}from"./Spacer-CUBpIFmT.js";import{D as f}from"./Dropdown-DnpWXLjD.js";import{S as de}from"./ExternalLink-DqdRcBGx.js";import{a as ce,u as me,E as h}from"./errorType-hAFHff2k.js";import{A as ue,J as ge,U as pe}from"./paths-sYa4i-pK.js";var fe=function(t,s){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&s.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)s.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]]);return n};const ve=g.forwardRef((t,s)=>{var{title:n,titleId:e}=t,r=fe(t,["title","titleId"]);let i=re();return i=n?e||"title-"+i:void 0,g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":i},r),n?g.createElement("title",{id:i},n):null,g.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.25 5A.75.75 0 0 1 5 4.25h1.5a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-.75.75H5a.75.75 0 0 1-.75-.75zm0 6.25A.75.75 0 0 1 5 10.5h1.5a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-.75.75H5a.75.75 0 0 1-.75-.75zm.75 5.5a.75.75 0 0 0-.75.75V19c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75v-1.5a.75.75 0 0 0-.75-.75zM10.5 5a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1-.75-.75zm.75 5.5a.75.75 0 0 0-.75.75v1.5c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75v-1.5a.75.75 0 0 0-.75-.75zm-.75 7a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75V19a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1-.75-.75zm7-13.25a.75.75 0 0 0-.75.75v1.5c0 .414.336.75.75.75H19a.75.75 0 0 0 .75-.75V5a.75.75 0 0 0-.75-.75zm-.75 7a.75.75 0 0 1 .75-.75H19a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1-.75-.75zm.75 5.5a.75.75 0 0 0-.75.75V19c0 .414.336.75.75.75H19a.75.75 0 0 0 .75-.75v-1.5a.75.75 0 0 0-.75-.75z",clipRule:"evenodd"}))});var ye=function(t,s){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&s.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)s.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]]);return n};const F=g.forwardRef((t,s)=>{var{as:n="button",className:e}=t,r=ye(t,["as","className"]);const{cn:i}=b();return d.createElement(n,Object.assign({},r,{ref:s,className:i("navds-internalheader__button",e)}))});var he=function(t,s){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&s.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)s.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]]);return n};const ke=g.forwardRef((t,s)=>{var{as:n="a",children:e,className:r}=t,i=he(t,["as","children","className"]);const{cn:o}=b();return d.createElement(n,Object.assign({},i,{ref:s,size:"xsmall",className:o("navds-internalheader__title","navds-body-short",r)}),d.createElement("span",null,e))});var je=function(t,s){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&s.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)s.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]]);return n};const be=g.forwardRef((t,s)=>{var{className:n,name:e,description:r}=t,i=je(t,["className","name","description"]);const{cn:o}=b();return d.createElement("div",Object.assign({},i,{ref:s,className:o("navds-internalheader__user",n)}),d.createElement("span",null,d.createElement(w,{size:"small",as:"div"},e),r&&d.createElement(k,{as:"div"},r)))});var Oe=function(t,s){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&s.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)s.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]]);return n};const Ee=g.forwardRef((t,s)=>{var{as:n,name:e,description:r,className:i}=t,o=Oe(t,["as","name","description","className"]);const{cn:p}=b();return d.createElement(F,Object.assign({},o,{as:n,ref:s,className:p("navds-internalheader__user-button",i)}),d.createElement("div",null,d.createElement(w,{size:"small",as:"div"},e),r&&d.createElement(k,{as:"div"},r)),d.createElement(oe,{"aria-hidden":!0}))});var xe=function(t,s){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&s.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)s.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]]);return n};const y=g.forwardRef((t,s)=>{var{className:n}=t,e=xe(t,["className"]);const r=B(!1),{cn:i}=b();return r?d.createElement(I,{theme:"dark",asChild:!0,hasBackground:!1},d.createElement("header",Object.assign({},e,{ref:s,className:i("navds-internalheader",n)}))):d.createElement("header",Object.assign({"data-theme":"dark"},e,{ref:s,className:i("navds-internalheader",n)}))});y.Title=ke;y.User=be;y.Button=F;y.UserButton=Ee;const Se="_image_1pu1g_1",_e={image:Se},we=t=>t.charAt(0).toUpperCase()+t.substring(1),L=({skalViseModal:t,lukkModal:s,feilmeldingsdetaljer:n})=>{const e=R();return a.jsxs(E,{width:"medium",open:t,"aria-label":e.formatMessage({id:"FeilmeldingsdetaljerModal.ErrorDetails"}),onClose:s,children:[a.jsx(E.Header,{children:a.jsxs(D,{gap:"space-16",children:[a.jsx(ie,{className:_e.image}),a.jsx(ne,{size:"small",level:"2",children:a.jsx(j,{id:"FeilmeldingsdetaljerModal.ErrorDetails"})})]})}),a.jsx(E.Body,{children:a.jsxs(D,{gap:"space-40",children:[a.jsx("div",{}),a.jsx(ae,{gap:"space-16",children:n&&Object.keys(n).map(r=>a.jsxs("div",{children:[a.jsx(k,{children:`${we(r)}:`}),a.jsx("div",{children:a.jsx(w,{size:"small",children:n[r]})})]},r))})]})}),a.jsx(E.Footer,{children:a.jsx(N,{size:"small",variant:"secondary",onClick:s,type:"button",children:a.jsx(j,{id:"FeilmeldingsdetaljerModal.Close"})})})]})};L.__docgenInfo={description:`FeilmeldingsdetaljerModal

Modal som viser en feildetaljer.`,methods:[],displayName:"FeilmeldingsdetaljerModal",props:{skalViseModal:{required:!0,tsType:{name:"boolean"},description:""},lukkModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},feilmeldingsdetaljer:{required:!1,tsType:{name:"JSONObject",raw:"Feilmelding['tilleggsInfo']"},description:""}}};const Me="_container_15jct_1",De="_link_15jct_14",Ie="_lukkContainer_15jct_17",Re="_wordWrap_15jct_23",x={container:Me,link:De,lukkContainer:Ie,wordWrap:Re},Te=te.bind(x),P=({feilmeldinger:t,fjernFeilmeldinger:s})=>{const[n,e]=g.useState(!1),[r,i]=g.useState(void 0),o=(l,c)=>{e(!n),i(c),l&&l.preventDefault()},p=(l,c)=>{l.key==="Enter"||l.key===" "?o(l,c):l.preventDefault()};return t.length===0?null:a.jsxs("div",{className:x.container,children:[t.map((l,c)=>a.jsxs(d.Fragment,{children:[a.jsx(k,{className:x.wordWrap,children:`${T(l.melding)} `}),l.tilleggsInfo&&a.jsx(k,{children:a.jsx(_,{href:"#",className:Te("link"),onClick:u=>o(u,c),onKeyDown:u=>p(u,c),children:a.jsx(j,{id:"FeilmeldingPanel.ErrorDetails"})})})]},l.melding)),a.jsx("div",{className:x.lukkContainer,children:a.jsx(N,{variant:"tertiary",icon:a.jsx(se,{color:"white"}),onClick:s,type:"button"})}),n&&a.jsx(L,{skalViseModal:n,lukkModal:o,feilmeldingsdetaljer:r!==void 0?t[r].tilleggsInfo:void 0})]})};P.__docgenInfo={description:`FeilmeldingPanel

Definerer hvordan feilmeldinger vises under header.`,methods:[],displayName:"FeilmeldingPanel",props:{feilmeldinger:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  melding: string;
  tilleggsInfo?: JSONObject;
}`,signature:{properties:[{key:"melding",value:{name:"string",required:!0}},{key:"tilleggsInfo",value:{name:"JSONObject",required:!1}}]}}],raw:"Feilmelding[]"},description:""},fjernFeilmeldinger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Ne="_container_cnkgz_5",Fe={container:Ne},Le={"FeilmeldingPanel.ErrorDetails":"Detaljert informasjon","FeilmeldingPanel.Close":"Lukk","FeilmeldingsdetaljerModal.ErrorDetails":"Detaljert informasjon","FeilmeldingsdetaljerModal.Close":"Lukk","DekoratorMedFeilviserSakIndex.SystemerOgOppslagsverk":"Systemer og oppslagsverk","DekoratorMedFeilviserSakIndex.Vedtakslosningen":"VedtakslÃ¸sningen","DekoratorMedFeilviserSakIndex.EksternLenke":"Ekstern lenke"},S=J(Le),A=({tittel:t,tittelLenke:s,tittelCallback:n,navAnsattNavn:e,feilmeldinger:r,fjernFeilmeldinger:i,setSiteHeight:o,interneLenker:p,eksterneLenker:l})=>{const c=g.useRef(null);return g.useEffect(()=>{c.current&&o(c.current.clientHeight)},[r.length]),a.jsx("div",{ref:c,className:Fe.container,children:a.jsxs(V,{value:S,children:[a.jsxs(y,{children:[a.jsx(y.Title,{href:s,onClick:n,onContextMenu:n,children:t}),a.jsx(le,{}),a.jsxs(f,{children:[a.jsx(y.Button,{as:f.Toggle,children:a.jsx(ve,{style:{fontSize:"1.5rem"},title:S.formatMessage({id:"DekoratorMedFeilviserSakIndex.SystemerOgOppslagsverk"})})}),a.jsx(I,{theme:"light",children:a.jsx(f.Menu,{children:a.jsxs(f.Menu.GroupedList,{children:[p.length>0&&a.jsx(f.Menu.GroupedList.Heading,{children:a.jsx(j,{id:"DekoratorMedFeilviserSakIndex.Vedtakslosningen"})}),p.map(u=>a.jsx(f.Menu.GroupedList.Item,{as:_,onClick:u.callback,children:u.tekst},u.tekst)),a.jsx(f.Menu.GroupedList.Heading,{children:a.jsx(j,{id:"DekoratorMedFeilviserSakIndex.SystemerOgOppslagsverk"})}),l.map(u=>a.jsxs(f.Menu.GroupedList.Item,{as:_,href:u.href,target:"_blank",children:[u.tekst,a.jsx(de,{title:S.formatMessage({id:"DekoratorMedFeilviserSakIndex.EksternLenke"})})]},u.tekst))]})})})]}),a.jsx(y.User,{name:e})]}),a.jsx(P,{fjernFeilmeldinger:i,feilmeldinger:r})]})})};A.__docgenInfo={description:`DekoratorMedFeilviserSakIndex

Definerer header-linjen som alltid vises Ã¸verst nettleservinduet.
Denne viser lenke tilbake til hovedsiden, nettside-navnet, Nav-ansatt navn og lenker i meny.
I tillegg vil den vise potensielle feilmeldinger i FeilmeldingPanel.`,methods:[],displayName:"DekoratorMedFeilviserSakIndex",props:{tittel:{required:!0,tsType:{name:"string"},description:""},tittelLenke:{required:!1,tsType:{name:"string"},description:""},tittelCallback:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.SyntheticEvent) => void",signature:{arguments:[{type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent"},name:"event"}],return:{name:"void"}}},description:""},navAnsattNavn:{required:!0,tsType:{name:"string"},description:""},feilmeldinger:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  melding: string;
  tilleggsInfo?: JSONObject;
}`,signature:{properties:[{key:"melding",value:{name:"string",required:!0}},{key:"tilleggsInfo",value:{name:"JSONObject",required:!1}}]}}],raw:"Feilmelding[]"},description:""},fjernFeilmeldinger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},setSiteHeight:{required:!0,tsType:{name:"signature",type:"function",raw:"(height: number) => void",signature:{arguments:[{type:{name:"number"},name:"height"}],return:{name:"void"}}},description:""},interneLenker:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  tekst: string;
  href?: string;
  callback?: (event: React.SyntheticEvent) => void;
}`,signature:{properties:[{key:"tekst",value:{name:"string",required:!0}},{key:"href",value:{name:"string",required:!1}},{key:"callback",value:{name:"signature",type:"function",raw:"(event: React.SyntheticEvent) => void",signature:{arguments:[{type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent"},name:"event"}],return:{name:"void"}},required:!1}}]}}],raw:`Readonly<{
  tekst: string;
  href?: string;
  callback?: (event: React.SyntheticEvent) => void;
}>`}],raw:"DekoratorLenke[]"},description:""},eksterneLenker:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  tekst: string;
  href?: string;
  callback?: (event: React.SyntheticEvent) => void;
}`,signature:{properties:[{key:"tekst",value:{name:"string",required:!0}},{key:"href",value:{name:"string",required:!1}},{key:"callback",value:{name:"signature",type:"function",raw:"(event: React.SyntheticEvent) => void",signature:{arguments:[{type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent"},name:"event"}],return:{name:"void"}},required:!1}}]}}],raw:`Readonly<{
  tekst: string;
  href?: string;
  callback?: (event: React.SyntheticEvent) => void;
}>`}],raw:"DekoratorLenke[]"},description:""}}};const Pe=({queryStrings:t,setSiteHeight:s,crashMessage:n,hideErrorMessages:e=!1})=>{const r=R(),i=ce(),{removeErrorMessages:o}=me(),p=Y(X()),{innloggetBruker:l}=K(p.data),c=$(),u=m=>{m.type==="click"&&c("/"),m.type==="contextmenu"&&window.open("/","_newtab"),m.preventDefault()},q=m=>{c(ue),m.preventDefault()},H=m=>{c(ge),m.preventDefault()},C=m=>{c(pe),m.preventDefault()},{kanOppgavestyre:U,kanSaksbehandle:z}=l,O=new Array;U&&O.push({tekst:r.formatMessage({id:"Dekorator.Avdelingsleder"}),callback:m=>q(m)}),z&&O.push({tekst:r.formatMessage({id:"Dekorator.Journalforing"}),callback:m=>H(m)}),O.push({tekst:r.formatMessage({id:"Dekorator.Utbetalingsdata"}),callback:m=>C(m)});const G=[{tekst:r.formatMessage({id:"Dekorator.Rettskilde"}),href:Z},{tekst:r.formatMessage({id:"Dekorator.Systemrutine"}),href:ee}];return a.jsx(A,{tittel:r.formatMessage({id:"Dekorator.Foreldrepenger"}),tittelCallback:u,navAnsattNavn:l.navn,feilmeldinger:e?[]:Ae(r,i,t,n),fjernFeilmeldinger:o,setSiteHeight:s,interneLenker:O,eksterneLenker:G})},v=(t,s)=>{t.some(n=>n.melding===s.melding&&n.tilleggsInfo===s.tilleggsInfo)||t.push(s)},Ae=(t,s,n,e)=>{const r=[];return n.errorcode&&v(r,{melding:t.formatMessage({id:n.errorcode})}),n.errormessage&&v(r,{melding:n.errormessage}),e&&v(r,{melding:e}),s.forEach(i=>{switch(i.type){case h.POLLING_HALTED_OR_DELAYED:if(i.status===M.HALTED){const o=T(i.message);v(r,{melding:t.formatMessage({id:"Rest.ErrorMessage.General"}),tilleggsInfo:o?qe(o):void 0})}i.status===M.DELAYED&&v(r,{melding:t.formatMessage({id:"Rest.ErrorMessage.DownTime"},{date:W(i.eta),time:Q(i.eta),message:i.message})});break;case h.POLLING_TIMEOUT:v(r,{melding:t.formatMessage({id:"Rest.ErrorMessage.PollingTimeout"},{location:i.location})});break;case h.REQUEST_GATEWAY_TIMEOUT_OR_NOT_FOUND:v(r,{melding:t.formatMessage({id:"Rest.ErrorMessage.GatewayTimeoutOrNotFound"},{contextPath:i.location?i.location.split("/")[1]?.toUpperCase():"",location:i.location})});break;case h.REQUEST_FORBIDDEN:case h.REQUEST_UNAUTHORIZED:case h.GENERAL_ERROR:default:v(r,{melding:i.message})}}),r},qe=t=>{try{return JSON.parse(t)}catch{return"Kunne ikke tolke feildetaljer"}};Pe.__docgenInfo={description:"",methods:[],displayName:"Dekorator",props:{queryStrings:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  errorcode?: string;
  errormessage?: string;
}`,signature:{properties:[{key:"errorcode",value:{name:"string",required:!1}},{key:"errormessage",value:{name:"string",required:!1}}]}},description:""},setSiteHeight:{required:!0,tsType:{name:"signature",type:"function",raw:"(headerHeight: number) => void",signature:{arguments:[{type:{name:"number"},name:"headerHeight"}],return:{name:"void"}}},description:""},crashMessage:{required:!1,tsType:{name:"string"},description:""},hideErrorMessages:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{Pe as D};
