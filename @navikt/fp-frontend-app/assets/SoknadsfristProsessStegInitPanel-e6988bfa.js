import{i as qn,a6 as Cp,u as Cn,a7 as Yp,C as _,_ as w,z as km,v as oe,a8 as zp,M as Hp,Q as Jp,S as qp,T as Wp,U as Zp,O as Xp,a2 as Qp,V as eh,Y as nh,$ as rh,a0 as th,a3 as Yo,a9 as ih,a as ke,t as Me,P as Ze,b as te,X as ta,aa as Xe,N as Le,j as $e,x as se,H as ge,A as We,f as q,B as A,L as ie,ab as Ne,g as me,l as Ci,G as mm,W as _s,c as Wn,ac as sh,ad as fm,ae as Ss,af as ah,ag as Pt,q as lh}from"./index.es-b772bb8b.js";import{bH as fe,bI as dh,s as Qr,a2 as ue,ao as yr,a5 as Je,a6 as at,aW as oh,bJ as gh,J as Zn,bK as Fs,aA as it,v as ct,D as Qe,O as en,C as xe,r as X,b as or,a as Sn,f as vm,w as un,Z as Nn,ba as Ns,t as li,a8 as cm,aH as di,T as pe,bL as lt,k as Rn,I as Pn,n as pm,o as hm,y as xd,a4 as Yi,aq as yl,bM as Hn,h as ze,u as je,bN as uh,bO as ln,e as ia,bP as kh,av as sa,bQ as mh,bR as zo,aM as Pr,bS as fh,S as pt,bT as vh,ap as _r,aI as aa,aJ as la,bU as Ee,bk as ch,g as bm,aL as Id,c as jm,aw as re,bV as Mn,bW as xm,ae as Ad,bX as ph,bY as hh,bb as bh,aK as jh,a0 as xh,bg as Ih,bZ as sr,as as Ah,al as Im,_ as Th}from"./AppIndex.stories-0d93b8d0.js";import{r as j,R as K}from"./index-6d8bab86.js";import{l as Eh,Q as da,w as m,K as kn,g as nn,W,j as Ye,M as De,b as I,J as Am,o as Oe,q as yh,e as Td,a as Br,f as oi,h as gi,H as _h,v as Ho,c as Ed,t as yd,A as oa,U as Se,Y as L,z as E,D as Tm,n as Ge,X as ht,k as dt,N as _d,u as Sh,r as Fh,i as Sd,m as Nh,V as Rh}from"./index.es-45e60e92.js";import{F as Sr}from"./VergeFaktaInitPanel-97b88588.js";import{e as Fd,s as Em,O as Ph}from"./index.es-83272165.js";import{v as Yr,E as rn,A as R,s as hn,I as be,R as Rs,q as yn,N as Bh,B as P,H as ga,M as Fn,Q as ui,_ as Ps,k as ym,a as _m,n as Sm,p as Oh,y as Fm,i as $h,e as Vh,z as Nm,C as Ae,J as Jn,x as Jo,w as Dh,g as rr,c as qo,X as Gh}from"./index.es-bf42e136.js";import{T as Lh,Q as qe,v as Mh,y as Kh,m as wh,k as Uh}from"./Timeline-19e5f3df.js";import{w as Un,s as Ch}from"./index.es-00777438.js";import{F as Yh,K as Nd,H as bt,l as zh}from"./index.es-814a31df.js";import{P as Rd}from"./ProsessDefaultInitPanel-65ea41e0.js";const Pd=j.createContext({headingSize:"small",size:"medium",openItems:[],mounted:!1});var Hh=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Bd=j.createContext(null),Jh=j.forwardRef((e,n)=>{var{children:r,className:t,open:i,defaultOpen:s=!1}=e,a=Hh(e,["children","className","open","defaultOpen"]);const[l,o]=j.useState(s),k=j.useContext(Pd),[u,f]=j.useState(s),c=j.useRef(!(i||s)),b=()=>{if(i===void 0){const x=!u;f(x),o(x)}else o(!i);c.current=!0};return k!=null&&k.mounted||console.error("<Accordion.Item> has to be used within an <Accordion>"),K.createElement("div",Object.assign({className:qn("navds-accordion__item",t,{"navds-accordion__item--open":i??l,"navds-accordion__item--neutral":(k==null?void 0:k.variant)==="neutral","navds-accordion__item--no-animation":!c.current}),ref:n},Cp(a,["onClick"])),K.createElement(Bd.Provider,{value:{open:i??l,toggleOpen:b}},r))}),qh=Jh;var Wh=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Zh=j.forwardRef((e,n)=>{var{children:r,className:t}=e,i=Wh(e,["children","className"]);const s=j.useContext(Bd);return s===null?(console.error("<Accordion.Content> has to be used within an <Accordion.Item>"),null):K.createElement(Eh,Object.assign({},i,{as:"div",ref:n,className:qn("navds-accordion__content",{"navds-accordion__content--closed":!s.open},t),"aria-hidden":!s.open||void 0}),r)}),Xh=Zh;var Qh=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const eb=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Qh(e,["title","titleId"]);let s=Cn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.545 2.404a.75.75 0 0 1 .505-.152.757.757 0 0 1 .05-.002H19a.75.75 0 0 1 .75.75v18a.75.75 0 0 1-1.5 0V3.75H10.6l5.597 1.526A.75.75 0 0 1 16.75 6v15a.75.75 0 0 1-1.5 0V6.573l-9.5-2.591V21a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .295-.596ZM12.75 11.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z",fill:"currentColor"}))}),nb=eb;var rb=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const tb=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=rb(e,["title","titleId"]);let s=Cn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.311 4.619a8.253 8.253 0 0 0 2.051 15.469v-.326c0-1.26-.985-2.25-2.414-2.25-.808 0-1.546-.197-2.079-.718-.535-.524-.733-1.249-.733-2.024 0-1.203.638-2.164 1.492-2.799.845-.629 1.942-.974 3.008-.974.736 0 1.381.187 1.899.342l.04.012c.534.16.888.267 1.225.267.003 0 .008 0 .02-.005a.268.268 0 0 0 .065-.038.976.976 0 0 0 .23-.281c.17-.29.27-.669.27-.965 0-.013-.014-.124-.191-.332a3.45 3.45 0 0 0-.713-.599 5.375 5.375 0 0 0-.876-.467 3.096 3.096 0 0 0-.307-.11c-.02.044-.044.1-.07.169-.031.08-.06.163-.093.257v.001h-.001c-.032.09-.067.192-.105.288-.061.16-.176.444-.383.65a.868.868 0 0 1-.828.242.964.964 0 0 1-.52-.351 2.938 2.938 0 0 1-.288-.497l-.023-.046a3.321 3.321 0 0 0-.144-.269.428.428 0 0 0-.13.05.903.903 0 0 0-.222.208 4.357 4.357 0 0 0-.054.066 4.055 4.055 0 0 1-.319.365 1.268 1.268 0 0 1-.888.376c-.34 0-.735-.074-1.076-.32-.36-.26-.577-.652-.644-1.116-.079-.548.155-1.12.403-1.559A6.565 6.565 0 0 1 6.97 5.97c.172-.172.355-.33.513-.467l.101-.087c.189-.165.349-.311.493-.48a2.58 2.58 0 0 0 .234-.317Zm1.86-.665c-.21.882-.548 1.484-.956 1.96a6.14 6.14 0 0 1-.646.633l-.122.105c-.155.135-.287.249-.417.378-.331.332-.62.705-.811 1.043a2.175 2.175 0 0 0-.193.43.786.786 0 0 0-.03.134.221.221 0 0 0-.001.043.3.3 0 0 0 .029.104c.004.007.006.008.007.009.005.003.032.02.095.03.02-.022.039-.046.065-.079l.152-.187c.135-.16.33-.37.61-.535.29-.17.636-.272 1.047-.272.453 0 .758.264.927.461.064-.14.144-.29.245-.424.17-.225.48-.505.952-.505.331 0 .722.125 1.053.262.36.149.757.356 1.13.601.368.243.74.54 1.027.878.277.325.552.774.552 1.306 0 .57-.175 1.21-.477 1.724-.286.486-.817 1.065-1.61 1.065-.566 0-1.123-.169-1.581-.308l-.115-.034c-.517-.156-.973-.28-1.467-.28-.762 0-1.54.253-2.113.679-.565.42-.887.97-.887 1.595 0 .537.135.808.283.952.15.147.443.29 1.03.29 2.18 0 3.913 1.588 3.913 3.75v.487l.138.001a8.22 8.22 0 0 0 3.416-.738.426.426 0 0 0 .058-.149c.015-.084.02-.236-.009-.63v-.006l-.01-.113c-.01-.135-.027-.327-.027-.5 0-.754.396-1.3.892-1.856.108-.124.184-.216.237-.287-.075-.048-.162-.1-.262-.161l-.003-.003a16.024 16.024 0 0 1-.45-.28c-.308-.203-.667-.464-.954-.79-.29-.332-.55-.782-.55-1.345 0-.624.28-1.216.66-1.645.376-.424.946-.793 1.613-.793.845 0 1.397.465 1.691.713.037.031.07.06.1.082l.007.006.169.138c.207.168.365.297.49.394.209-.139.56-.337 1.024-.337h.158a8.25 8.25 0 0 0-10.08-7.996Zm9.952 9.496a8.249 8.249 0 0 1-3.164 5.144l-.015-.181c-.009-.108-.016-.192-.016-.299 0-.158.047-.338.513-.86l.003-.003c.44-.5.726-.897.726-1.469 0-.372-.23-.618-.322-.71a2.508 2.508 0 0 0-.377-.296c-.119-.079-.253-.16-.38-.238l-.018-.011a14.821 14.821 0 0 1-.408-.255c-.274-.18-.498-.353-.649-.525-.147-.168-.178-.28-.178-.355 0-.185.094-.437.283-.65.192-.217.384-.288.49-.288.274 0 .403.104.711.353l.144.115.157.128c.261.213.473.385.634.507.097.072.198.145.298.202.071.041.262.148.506.148a.95.95 0 0 0 .38-.082c.083-.036.154-.08.202-.11l.132-.092.006-.005.098-.069c.131-.089.184-.099.213-.099h.03ZM2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm6.53-2.821a.03.03 0 0 0-.004-.005l.001.002.004.003Z",fill:"currentColor"}))}),ib=tb;var sb=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const ab=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=sb(e,["title","titleId"]);let s=Cn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 3.25a.25.25 0 0 1 .25.25v4c0 .69.56 1.25 1.25 1.25h4a.25.25 0 0 1 .25.25v10.5c0 .69-.56 1.25-1.25 1.25h-11c-.69 0-1.25-.56-1.25-1.25v-15c0-.69.56-1.25 1.25-1.25H13Zm2.177.866a.25.25 0 0 0-.427.177V7c0 .138.112.25.25.25h2.707a.25.25 0 0 0 .177-.427l-2.707-2.707Z",fill:"currentColor"}))}),Rm=ab;var lb=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const db=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=lb(e,["title","titleId"]);let s=Cn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.525 2.167c-.754-.12-1.61.093-2.525.826-.914-.732-1.768-.947-2.522-.829-.835.132-1.354.65-1.503.8l-.005.006-.006.006c-.15.149-.669.667-.8 1.502-.141.898.19 1.937 1.306 3.052l3 3a.75.75 0 0 0 1.06 0l3-3c1.116-1.116 1.445-2.158 1.303-3.055-.133-.836-.651-1.354-.797-1.5l-.006-.005-.005-.006c-.146-.146-.664-.664-1.5-.797ZM9.03 4.03c.113-.112.341-.33.682-.384.289-.046.873 0 1.758.884a.75.75 0 0 0 1.06 0c.884-.884 1.47-.928 1.76-.881.343.054.572.273.68.381.107.108.327.337.381.68.046.29.003.876-.881 1.76L12 8.94 9.53 6.47C8.645 5.584 8.6 5 8.646 4.712c.053-.34.272-.57.384-.682ZM21.75 15.22c0-1.797-1.918-2.943-3.5-2.092l-2.633 1.416a2.477 2.477 0 0 0-.668-1.513c-.466-.49-1.138-.78-1.949-.78h-3c-.095 0-.259-.045-.535-.178-.105-.05-.208-.104-.321-.164l-.084-.044a6.302 6.302 0 0 0-.456-.22c-.563-.238-1.386-.394-2.604-.394-1.754 0-2.753.755-3.268 1.614a3.467 3.467 0 0 0-.482 1.614V14.5L3 14.5h-.75V19c0 .323.207.61.513.712l3 1A.75.75 0 0 0 6 20.75h9.298a2.75 2.75 0 0 0 1.718-.603l3.843-3.073c.563-.451.891-1.134.891-1.855ZM13 17.25c.518 0 .98-.118 1.366-.331l4.595-2.47a.875.875 0 0 1 .96 1.453l-3.842 3.074a1.25 1.25 0 0 1-.78.274H6.121l-2.372-.79v-3.958l.003-.045a1.968 1.968 0 0 1 .265-.82c.235-.392.736-.887 1.982-.887 1.11 0 1.711.145 2.02.276.097.04.207.096.346.168l.073.038c.114.06.245.129.375.192.303.146.729.326 1.186.326h3c.439 0 .705.148.863.314a.992.992 0 0 1 .262.686c0 .263-.094.51-.262.686-.158.166-.424.314-.863.314h-3a.75.75 0 0 0 0 1.5h3Z",fill:"currentColor"}))}),Bt=db;var ob=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const gb=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=ob(e,["title","titleId"]);let s=Cn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.998 6.75a1.248 1.248 0 1 0 0 2.495 1.248 1.248 0 0 0 0-2.495ZM5.25 7.998a2.748 2.748 0 1 1 5.495 0 2.748 2.748 0 0 1-5.495 0Zm.22 10.532a.75.75 0 0 1 0-1.06l12-12a.75.75 0 1 1 1.06 1.06l-12 12a.75.75 0 0 1-1.06 0Zm9.28-2.532a1.248 1.248 0 1 1 2.495 0 1.248 1.248 0 0 1-2.495 0Zm1.248-2.748a2.748 2.748 0 1 0 0 5.495 2.748 2.748 0 0 0 0-5.495Z",fill:"currentColor"}))}),ub=gb;var kb=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const mb=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=kb(e,["title","titleId"]);let s=Cn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.75a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5ZM8.75 5.5a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0Zm-1 7.5c0-1.987 1.912-3.75 4.25-3.75s4.25 1.763 4.25 3.75v8a.75.75 0 0 1-1.5 0v-8c0-1.013-1.088-2.25-2.75-2.25S9.25 11.987 9.25 13v1.75H8.5c-.793 0-1.32.287-1.664.719-.364.454-.586 1.145-.586 2.031 0 .886.222 1.577.586 2.032.345.431.871.718 1.664.718a.75.75 0 0 1 0 1.5c-1.207 0-2.18-.463-2.836-1.282-.636-.795-.914-1.854-.914-2.968 0-1.114.278-2.173.914-2.969.513-.64 1.222-1.064 2.086-1.217V13Zm2.634 3.116a1.25 1.25 0 0 0-1.768 1.768l1 1 .884.884.884-.884 1-1a1.25 1.25 0 0 0-1.768-1.768l-.116.116-.116-.116Z",fill:"currentColor"}))}),fb=mb;var vb=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const cb=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=vb(e,["title","titleId"]);let s=Cn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.116 2.823a1.25 1.25 0 0 1 1.768 0l3.793 3.793a1.25 1.25 0 0 1 0 1.768L10.06 10 14 13.94l1.616-1.617a1.25 1.25 0 0 1 1.768 0l3.793 3.793a1.25 1.25 0 0 1 0 1.768l-2.781 2.78a2.606 2.606 0 0 1-2.811.578A23.025 23.025 0 0 1 2.758 8.415a2.606 2.606 0 0 1 .577-2.81l2.781-2.782Z",fill:"currentColor"}))}),Pm=cb;var pb=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const hb=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=pb(e,["title","titleId"]);let s=Cn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 3.75c-.14 0-.25.112-.25.249V9c0 1.15.23 1.956.546 2.526.315.567.738.94 1.193 1.193.94.522 2.01.531 2.511.531.5 0 1.572-.009 2.51-.53a3.008 3.008 0 0 0 1.194-1.194c.317-.57.546-1.376.546-2.526V3.999A.249.249 0 0 0 14 3.75h-2a.75.75 0 0 1 0-1.5h2c.965 0 1.75.781 1.75 1.749V9c0 1.35-.27 2.419-.735 3.255a4.506 4.506 0 0 1-1.776 1.776c-.883.49-1.819.646-2.489.696V19.5a.75.75 0 0 0 1.5 0V19c0-1.288.886-2.37 2.082-2.668a2.751 2.751 0 1 1 .07 1.57A1.25 1.25 0 0 0 13.75 19v.5a2.25 2.25 0 0 1-4.5 0v-4.773c-.67-.05-1.606-.206-2.49-.696a4.507 4.507 0 0 1-1.775-1.776C4.521 11.419 4.25 10.35 4.25 9V3.999c0-.968.785-1.749 1.75-1.749h2a.75.75 0 0 1 0 1.5H6ZM15.75 17a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0Z",fill:"currentColor"}))}),bb=hb;var jb=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const xb=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=jb(e,["title","titleId"]);let s=Cn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 4.75c-.69 0-1.25.56-1.25 1.25v.25h6.5V6c0-.69-.56-1.25-1.25-1.25h-4Zm6.75 1.5V6A2.75 2.75 0 0 0 14 3.25h-4A2.75 2.75 0 0 0 7.25 6v.25H4.5a.75.75 0 0 0 0 1.5h.805l.876 11.384a1.75 1.75 0 0 0 1.745 1.616h8.148a1.75 1.75 0 0 0 1.745-1.616l.875-11.384h.806a.75.75 0 0 0 0-1.5h-2.75Zm-6 4.25a.75.75 0 0 0-1.5 0v6a.75.75 0 0 0 1.5 0v-6ZM14 9.75a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 .75-.75Z",fill:"currentColor"}))}),Ib=xb;var Ab=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Tb=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Ab(e,["title","titleId"]);let s=Cn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.67 2.665a.75.75 0 0 0-.867-.389L4.9 5.25H4A1.75 1.75 0 0 0 2.25 7v11c0 .966.784 1.75 1.75 1.75h15A1.75 1.75 0 0 0 20.75 18v-2.418c.591-.281 1-.884 1-1.582v-3c0-.698-.409-1.3-1-1.582V7A1.75 1.75 0 0 0 19 5.25h-1.037l-1.292-2.585Zm-.384 2.585-.682-1.365L10.6 5.25h5.687ZM3.75 7A.25.25 0 0 1 4 6.75h15a.25.25 0 0 1 .25.25v2.25h-3.897V10v-.75h-.02a1.944 1.944 0 0 0-.138.007 3.52 3.52 0 0 0-1.37.393 2.856 2.856 0 0 0-1.093 1.006c-.305.486-.482 1.097-.482 1.844 0 .747.177 1.358.482 1.844.304.483.706.8 1.093 1.006a3.518 3.518 0 0 0 1.508.4H15.352v-.749.749h3.898V18a.25.25 0 0 1-.25.25H4a.25.25 0 0 1-.25-.25V7Zm11.603 3.75H20a.25.25 0 0 1 .25.25v3a.25.25 0 0 1-.25.25h-4.647a1.985 1.985 0 0 1-.237-.027 2.023 2.023 0 0 1-.588-.198 1.356 1.356 0 0 1-.525-.478c-.136-.218-.253-.544-.253-1.047 0-.503.117-.83.253-1.047.138-.22.323-.371.525-.478a2.023 2.023 0 0 1 .825-.225Zm-.603 1.75a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 0 1.5h-.01a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))}),Ot=Tb;var Eb=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const yb=j.forwardRef((e,n)=>{var r,{children:t,className:i,onClick:s}=e,a=Eb(e,["children","className","onClick"]);const l=j.useContext(Bd),o=j.useContext(Pd);return l===null?(console.error("<Accordion.Header> has to be used within an <Accordion.Item>, which in turn must be within an <Accordion>"),null):K.createElement("button",Object.assign({ref:n},a,{className:qn("navds-accordion__header",i),onClick:k=>{l.toggleOpen(),s&&s(k)},"aria-expanded":l.open,type:"button"}),K.createElement("div",{className:"navds-accordion__icon-wrapper"},K.createElement(da,{className:"navds-accordion__header-chevron",title:"Vis mer","aria-hidden":!0})),K.createElement(Yp,{size:(r=o==null?void 0:o.headingSize)!==null&&r!==void 0?r:"small",as:"span",className:"navds-accordion__header-content"},t))}),_b=yb;var Sb=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const ua=j.forwardRef((e,n)=>{var{className:r,variant:t="default",headingSize:i="small",size:s="medium",indent:a=!0}=e,l=Sb(e,["className","variant","headingSize","size","indent"]);return K.createElement(Pd.Provider,{value:{variant:t,headingSize:i,size:s,mounted:!0}},K.createElement("div",Object.assign({},l,{className:qn("navds-accordion",r,`navds-accordion--${s}`,{"navds-accordion--indent":a}),ref:n})))});ua.Header=_b;ua.Content=Xh;ua.Item=qh;const He=ua;var Fb=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Bm=j.forwardRef((e,n)=>{var{className:r,children:t,title:i,icon:s}=e,a=Fb(e,["className","children","title","icon"]);const{listType:l,size:o}=j.useContext(_l);return l==="ol"&&s&&console.warn("<List />: Icon prop is not supported for ordered lists. Please remove the icon prop."),K.createElement("li",Object.assign({},a,{ref:n,className:qn("navds-list__item",r)}),l==="ul"&&K.createElement("div",{className:qn({"navds-list__item-marker--icon":s,"navds-list__item-marker--bullet":!s})},s||K.createElement("svg",{width:"6",height:"6",viewBox:"0 0 6 6",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,focusable:!1,role:"img"},K.createElement("rect",{width:"6",height:"6",rx:"3",fill:"currentColor"}))),K.createElement(_,{as:"div",size:o,className:"navds-list__item-content"},i&&K.createElement(w,{as:"p",size:o},i),t))});Bm.displayName="List.Item";var Nb=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const _l=j.createContext({listType:"ul",isNested:null,size:"medium"}),Om=j.forwardRef((e,n)=>{var r,{children:t,className:i,as:s="ul",title:a,description:l,headingTag:o="h3",size:k}=e,u=Nb(e,["children","className","as","title","description","headingTag","size"]);const f=km(),{isNested:c,size:b}=j.useContext(_l),x=(r=k??b)!==null&&r!==void 0?r:"medium";return K.createElement(_l.Provider,{value:{listType:s,isNested:c!==null,size:x}},K.createElement("div",Object.assign({},u,{ref:n,className:qn("navds-list",`navds-list--${x}`,i,{"navds-list--nested":c!==null})}),a&&K.createElement(oe,{id:`tittel-${f}`,size:x==="medium"?"small":"xsmall",as:o},a),l&&K.createElement(_,{size:x,id:`description-${f}`},l),K.createElement(s,{"aria-labelledby":a&&`tittel-${f}`,"aria-describedby":l&&`description-${f}`},t)))});Om.Item=Bm;const le=Om;var Rb=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Pb=j.forwardRef((e,n)=>{var r,{children:t,className:i,arrow:s=!0,placement:a="top",open:l,defaultOpen:o=!1,offset:k,content:u,delay:f=150,id:c,keys:b,maxChar:x=80}=e,T=Rb(e,["children","className","arrow","placement","open","defaultOpen","offset","content","delay","id","keys","maxChar"]);const[N,S]=j.useState(o),B=j.useRef(null),y=(r=zp())===null||r===void 0?void 0:r.rootElement,{x:O,y:$,strategy:D,context:Y,placement:ne,middlewareData:{arrow:{x:ee,y:U}={},hide:{referenceHidden:V}={}},refs:C}=Hp({placement:a,open:l??N,onOpenChange:Be=>S(Be),middleware:[Jp(k||(s?10:2)),qp(),Wp({padding:5,fallbackPlacements:["bottom","top"]}),Zp({element:B,padding:5})],whileElementsMounted:Xp}),{getReferenceProps:Z,getFloatingProps:H}=Qp([eh(Y,{handleClose:nh(),restMs:f}),rh(Y),th(Y)]),ae=km(c),ye=j.useMemo(()=>Yo([n,C.setFloating]),[C.setFloating,n]),we=j.useMemo(()=>Yo([t.ref,C.setReference]),[t,C.setReference]);return!t||(t==null?void 0:t.type)===K.Fragment||t===K.Fragment?(console.error("<Tooltip> children needs to be a single ReactElement and not: <React.Fragment/> | <></>"),null):((u==null?void 0:u.length)>x&&(l??N)&&console.warn(`Because of strict accessibility concers we encourage all Tooltips to have less than 80 characters. Can be overwritten with the maxChar-prop

Length:${u.length}
Tooltip-content: ${u}`),K.createElement(K.Fragment,null,j.cloneElement(t,Z(Object.assign(Object.assign({},t.props),{ref:we,"aria-describedby":l??N?qn(ae,t==null?void 0:t.props["aria-describedby"]):t==null?void 0:t.props["aria-describedby"]}))),K.createElement(ih,{root:y},(l??N)&&K.createElement("div",Object.assign({},H(Object.assign(Object.assign({},T),{ref:ye,style:{position:D,top:$??0,left:O??0,visibility:V?"hidden":"visible"},role:"tooltip",id:ae,className:qn("navds-tooltip","navds-detail navds-detail--small",i)})),{"data-side":ne}),u,b&&K.createElement("span",{className:"navds-tooltip__keys"},b.map(Be=>K.createElement(ke,{size:"small",as:"kbd",key:Be,className:"navds-tooltip__key"},Be))),s&&K.createElement("div",{ref:Be=>{B.current=Be},className:"navds-tooltip__arrow",style:{left:ee!=null?`${ee}px`:"",top:U!=null?`${U}px`:"",right:"",bottom:"",[{top:"bottom",right:"left",bottom:"top",left:"right"}[ne]]:"-3.5px"}})))))}),Bb=Pb;var $m={exports:{}},$t={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wo;function Ob(){if(Wo)return $t;Wo=1;var e=K,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,o,k){var u,f={},c=null,b=null;k!==void 0&&(c=""+k),o.key!==void 0&&(c=""+o.key),o.ref!==void 0&&(b=o.ref);for(u in o)t.call(o,u)&&!s.hasOwnProperty(u)&&(f[u]=o[u]);if(l&&l.defaultProps)for(u in o=l.defaultProps,o)f[u]===void 0&&(f[u]=o[u]);return{$$typeof:n,type:l,key:c,ref:b,props:f,_owner:i.current}}return $t.Fragment=r,$t.jsx=a,$t.jsxs=a,$t}$m.exports=Ob();var J=$m.exports;const $b=({headerColumnContent:e})=>J.jsx(kn,{headerColumnContent:e,noHover:!0,children:J.jsxs(nn,{children:[J.jsx(W,{children:J.jsx(_,{size:"small",children:J.jsx(m,{id:"PersonArbeidsforholdTable.IngenArbeidsforholdRegistrert"})})}),J.jsx(W,{}),J.jsx(W,{}),J.jsx(W,{}),J.jsx(W,{}),J.jsx(W,{})]})}),Vb="_image_awjuc_1",Db={image:Vb},Zo=[J.jsx(m,{id:"PersonArbeidsforholdTable.Arbeidsforhold",values:{br:J.jsx("br",{})}},1),J.jsx(m,{id:"PersonArbeidsforholdTable.Periode",values:{br:J.jsx("br",{})}},2),J.jsx(m,{id:"PersonArbeidsforholdTable.Kilde",values:{br:J.jsx("br",{})}},3),J.jsx(m,{id:"PersonArbeidsforholdTable.Stillingsprosent",values:{br:J.jsx("br",{})}},4),J.jsx(m,{id:"PersonArbeidsforholdTable.MottattDato",values:{br:J.jsx("br",{})}},5),J.jsx("div",{},6)],Gb=(e,n)=>e.saksbehandlersVurdering===fe.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?n.formatMessage({id:"PersonArbeidsforholdTable.Inntektsmelding"}):e.saksbehandlersVurdering===fe.MANUELT_OPPRETTET_AV_SAKSBEHANDLER?n.formatMessage({id:"PersonArbeidsforholdTable.Saksbehandler"}):n.formatMessage({id:"PersonArbeidsforholdTable.AaRegisteret"}),Bs=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent&&(!n.internArbeidsforholdId||n.internArbeidsforholdId===e.internArbeidsforholdId),Lb=e=>e?`...${e.substring(e.length-4,e.length)}`:"",Mb=(e,n,r)=>{const t=r[e.arbeidsgiverIdent],i=t==null?void 0:t.navn;return e.saksbehandlersVurdering===fe.MANUELT_OPPRETTET_AV_SAKSBEHANDLER?i:n.filter(s=>s.arbeidsgiverIdent===e.arbeidsgiverIdent).length>1?`${i}(${t.identifikator})${Lb(e.eksternArbeidsforholdId)}`:`${i}(${t.identifikator})`},Kb=(e,n)=>{const r=n[e.arbeidsgiverIdent];return`${e.eksternArbeidsforholdId}${e.arbeidsgiverIdent}${r.identifikator}`},wb=({alleArbeidsforhold:e,selectedId:n,selectArbeidsforholdCallback:r,arbeidsgiverOpplysningerPerId:t,inntektsmeldinger:i})=>{const s=te();return e.length===0?J.jsx($b,{headerColumnContent:Zo}):J.jsx(kn,{headerColumnContent:Zo,children:e&&e.map(a=>{var l;const o=a.stillingsprosent!==void 0&&a.stillingsprosent!==null?`${a.stillingsprosent.toFixed(2)} %`:"",k=Mb(a,e,t),u=(l=i.find(f=>Bs(a,f)))==null?void 0:l.motattDato;return J.jsxs(nn,{model:a,onMouseDown:r,onKeyDown:r,isSelected:a.arbeidsgiverIdent===n,children:[J.jsx(W,{children:J.jsx(_,{size:"small",children:ta(k)})}),J.jsx(W,{children:J.jsx(_,{size:"small",children:J.jsx(Ye,{dateStringFom:a.fom,dateStringTom:a.tom!==Xe?a.tom:void 0})})}),J.jsx(W,{children:J.jsx(_,{size:"small",children:Gb(a,s)})}),J.jsx(W,{children:J.jsx(_,{size:"small",children:o})}),J.jsx(W,{children:u&&J.jsx(_,{size:"small",children:J.jsx(De,{dateString:u})})}),J.jsx(W,{children:(a.saksbehandlersVurdering===fe.BRUK||a.saksbehandlersVurdering===fe.FORTSETT_UTEN_INNTEKTSMELDING)&&J.jsx(dh,{className:Db.image,title:s.formatMessage({id:"PersonArbeidsforholdTable.ErIBruk"})})})]},Kb(a,t))})})},Ub=({arbeidsforhold:e})=>e.permisjonOgMangel?J.jsxs(J.Fragment,{children:[J.jsx(I,{sixteenPx:!0}),J.jsx(w,{size:"small",children:J.jsx(m,{id:"PermisjonPeriode.Permisjon"})}),J.jsx(_,{size:"small",children:J.jsx(Ye,{dateStringFom:e.permisjonOgMangel.permisjonFom,dateStringTom:e.permisjonOgMangel.permisjonTom?e.permisjonOgMangel.permisjonTom:""})}),J.jsx(I,{sixteenPx:!0})]}):null;var Sl=(e=>(e.BRUK_PERMISJON="BRUK_PERMISJON",e.IKKE_BRUK_PERMISJON="IKKE_BRUK_PERMISJON",e))(Sl||{});const Cb=e=>e.saksbehandlersVurdering===fe.BRUK_MED_OVERSTYRT_PERIODE||e.saksbehandlersVurdering===fe.BRUK_MED_OVERSTYRT_PERIODE?e.tom:void 0,Yb=e=>e.permisjonOgMangel?"ArbeidsforholdDetail.ArbeidsforholdErAktivtOgHarPermisjonMenSoekerErIkkePermisjon":e.saksbehandlersVurdering===fe.MANUELT_OPPRETTET_AV_SAKSBEHANDLER?"ArbeidsforholdDetail.OppdaterArbeidsforhold":"ArbeidsforholdDetail.ArbeidsforholdErAktivt",zb=({valgtArbeidsforhold:e})=>{var n,r;const t=e.saksbehandlersVurdering===fe.BRUK,i=e.saksbehandlersVurdering===fe.FORTSETT_UTEN_INNTEKTSMELDING,s=e.saksbehandlersVurdering===fe.BRUK_MED_OVERSTYRT_PERIODE,a=e.saksbehandlersVurdering===fe.IKKE_OPPRETT_BASERT_PÅ_INNTEKTSMELDING,l=e.saksbehandlersVurdering===fe.OPPRETT_BASERT_PÅ_INNTEKTSMELDING,o=e.saksbehandlersVurdering===fe.MANUELT_OPPRETTET_AV_SAKSBEHANDLER,k=((n=e.permisjonOgMangel)==null?void 0:n.permisjonStatus)===Sl.BRUK_PERMISJON,u=((r=e.permisjonOgMangel)==null?void 0:r.permisjonStatus)===Sl.IKKE_BRUK_PERMISJON,f=Cb(e);return J.jsxs(J.Fragment,{children:[J.jsx(I,{thirtyTwoPx:!0}),J.jsxs(Am,{children:[J.jsx(oe,{size:"small",children:J.jsx(m,{id:"ArbeidsforholdDetail.Header"})}),J.jsx(Ub,{arbeidsforhold:e}),s&&J.jsxs(J.Fragment,{children:[J.jsx(_,{size:"small",children:J.jsx(m,{id:"ArbeidsforholdDetail.ArbeidsforholdetErIkkeAktivt"})}),J.jsx(_,{size:"small",children:J.jsx(m,{id:"ArbeidsforholdDetail.ArbeidsforholdetAktivTomDato"})}),J.jsxs(_,{size:"small",children:[f&&J.jsx(De,{dateString:f}),!f&&"-"]})]}),t&&k&&J.jsx(_,{size:"small",children:J.jsx(m,{id:"ArbeidsforholdDetail.SokerErIPermisjon"})}),l&&J.jsx(_,{size:"small",children:J.jsx(m,{id:"ArbeidsforholdDetail.OppdatertGittIm"})}),(o||(t||i)&&(!e.permisjonOgMangel||u))&&J.jsxs(J.Fragment,{children:[J.jsx(_,{size:"small",children:J.jsx(m,{id:Yb(e)})}),J.jsx(I,{sixteenPx:!0}),i&&J.jsx(_,{size:"small",children:J.jsx(m,{id:"ArbeidsforholdDetail.BenyttAInntektIBeregningsgrunnlag"})}),!i&&!o&&J.jsx(_,{size:"small",children:J.jsx(m,{id:"ArbeidsforholdDetail.AvslaYtelseManglendeOpplysninger"})})]}),a&&J.jsx(_,{size:"small",children:J.jsx(m,{id:a?"ArbeidsforholdDetail.FjernArbeidsforholdet":"ArbeidsforholdDetail.IMIkkeRelevant"})}),J.jsx(I,{sixteenPx:!0}),J.jsx(w,{size:"small",children:J.jsx(m,{id:"ArbeidsforholdDetail.Begrunnelse"})}),J.jsx(_,{size:"small",children:e.begrunnelse})]})]})},Xo=(e,n)=>n.some(r=>Bs(e,r)),Hb=(e,n)=>(r,t)=>{var i,s;const a=e[r.arbeidsgiverIdent],l=e[t.arbeidsgiverIdent];if(a&&l){const u=a.navn.localeCompare(l.navn);if(u!==0)return u}const o=Xo(r,n),k=Xo(t,n);if(o&&k){const u=(i=n.find(c=>Bs(r,c)))==null?void 0:i.motattDato,f=(s=n.find(c=>Bs(t,c)))==null?void 0:s.motattDato;return Qr(f,Le).diff(Qr(u,Le))}return o?-1:k?1:r.arbeidsgiverIdent.localeCompare(t.arbeidsgiverIdent)},Jb=({arbeidOgInntekt:e,arbeidsgiverOpplysningerPerId:n})=>{const[r,t]=j.useState(),i=j.useCallback((o,k,u)=>{const f=!!(u!=null&&u.saksbehandlersVurdering);t(f?u:void 0)},[t]),{arbeidsforhold:s,inntektsmeldinger:a}=e,l=j.useMemo(()=>s.slice().sort(Hb(n,a)),[n]);return J.jsxs(J.Fragment,{children:[J.jsx(oe,{size:"small",children:J.jsx(m,{id:"ArbeidsforholdInfoPanel.ArbeidsforholdHeader"})}),J.jsx(wb,{selectedId:r==null?void 0:r.arbeidsgiverIdent,alleArbeidsforhold:l,selectArbeidsforholdCallback:i,arbeidsgiverOpplysningerPerId:n,inntektsmeldinger:a}),r&&J.jsx(zb,{valgtArbeidsforhold:r})]})},qb={"ArbeidsforholdInfoPanel.ArbeidsforholdHeader":"Arbeidsforhold som er aktive ved permisjonsstart","PersonArbeidsforholdTable.Arbeidsforhold":"{br}Arbeidsforhold","PersonArbeidsforholdTable.Periode":"{br}Periode","PersonArbeidsforholdTable.Kilde":"{br}Kilde","PersonArbeidsforholdTable.Stillingsprosent":"{br}Stillingsprosent","PersonArbeidsforholdTable.MottattDato":"Inntektsmeld.{br}mottatt dato","PersonArbeidsforholdTable.ErIBruk":"Arbeidsforhold skal brukes","PersonArbeidsforholdTable.IngenArbeidsforhold":"Det finnes ingen arbeidsforhold","PersonArbeidsforholdTable.IngenArbeidsforholdRegistrert":"Ingen arbeidsforhold registrert","PersonArbeidsforholdTable.LeggTilArbeidsforhold":"Legg til arbeidsforhold","ArbeidsforholdDetail.Header":"Detaljer","ArbeidsforholdDetail.ArbeidsforholdErAktivt":"Arbeidsforholdet er aktivt og skal benyttes i behandlingen. Nødvendig inntektsmelding er ikke mottatt.","ArbeidsforholdDetail.OppdaterArbeidsforhold":"Arbeidsforhold er manuelt opprettet av saksbehandler","ArbeidsforholdDetail.ArbeidsforholdErAktivtOgHarPermisjonMenSoekerErIkkePermisjon":"Søker er ikke i permisjon. Arbeidsforholdet er aktivt og skal benyttes i behandlingen.","ArbeidsforholdDetail.FjernArbeidsforholdet":"Fjern arbeidsforholdet for denne behandlingen","ArbeidsforholdDetail.IMIkkeRelevant":"Inntektsmeldingen er ikke relevant, gå videre uten disse opplysningene","ArbeidsforholdDetail.ArbeidsforholdetErIkkeAktivt":"Arbeidsforholdet er ikke aktivt. Inntektsmelding er ikke nødvendig.","ArbeidsforholdDetail.ArbeidsforholdetAktivTomDato":"Arbeidsforhold aktivt tom. dato","ArbeidsforholdDetail.AvslaYtelseManglendeOpplysninger":"Ytelsen kan avslås på grunn av manglende opplysninger.","ArbeidsforholdDetail.BenyttAInntektIBeregningsgrunnlag":"Fortsett behandling uten inntektsmelding, inntekt fra A-inntekt benyttes i beregningsgrunnlaget.","ArbeidsforholdDetail.Begrunnelse":"Begrunn endringene","ArbeidsforholdDetail.SokerErIPermisjon":"Søker er i permisjon. Inntektsmelding er ikke nødvendig.","ArbeidsforholdDetail.OppdatertGittIm":"Arbeidsforholdet er opprettet basert på motatt inntektsmelding","PersonArbeidsforholdTable.Inntektsmelding":"Inntektsmelding","PersonArbeidsforholdTable.Saksbehandler":"Saksbehandler","PersonArbeidsforholdTable.AaRegisteret":"AA-Registeret","PermisjonPeriode.Permisjon":"Permisjon","PermisjonPeriode.Permisjoner":"Permisjoner"},Wb=Me(qb),Vm=({arbeidOgInntekt:e,arbeidsgiverOpplysningerPerId:n})=>J.jsx(Ze,{value:Wb,children:J.jsx(Jb,{arbeidOgInntekt:e,arbeidsgiverOpplysningerPerId:n})});Vm.__docgenInfo={description:"",methods:[],displayName:"ot"};const Qo=[ue.AVKLAR_ARBEIDSFORHOLD],Zb=[Je.ARBEID_OG_INNTEKT],eg=({arbeidsgiverOpplysningerPerId:e,...n})=>$e.jsx(Sr,{...n,panelEndepunkter:Zb,aksjonspunktKoder:Qo,faktaPanelKode:yr.ARBEIDSFORHOLD,faktaPanelMenyTekst:te().formatMessage({id:"ArbeidsforholdInfoPanel.Title"}),skalPanelVisesIMeny:()=>!!n.behandling&&n.behandling.aksjonspunkt&&n.behandling.aksjonspunkt.some(r=>Qo.some(t=>t===r.definisjon)),renderPanel:r=>$e.jsx(Vm,{arbeidsgiverOpplysningerPerId:e,...r})});try{eg.displayName="ArbeidsforholdFaktaInitPanel",eg.__docgenInfo={description:`ArbeidsforholdFaktaInitPanel

Dette faktapanelet skal alltid vises`,displayName:"ArbeidsforholdFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}function Xb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dm={exports:{}},Vt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng;function Qb(){if(ng)return Vt;ng=1;var e=K,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,o,k){var u,f={},c=null,b=null;k!==void 0&&(c=""+k),o.key!==void 0&&(c=""+o.key),o.ref!==void 0&&(b=o.ref);for(u in o)t.call(o,u)&&!s.hasOwnProperty(u)&&(f[u]=o[u]);if(l&&l.defaultProps)for(u in o=l.defaultProps,o)f[u]===void 0&&(f[u]=o[u]);return{$$typeof:n,type:l,key:c,ref:b,props:f,_owner:i.current}}return Vt.Fragment=r,Vt.jsx=a,Vt.jsxs=a,Vt}Dm.exports=Qb();var v=Dm.exports,Gm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var t=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var a=typeof s;if(a==="string"||a==="number")t.push(this&&this[s]||s);else if(Array.isArray(s))t.push(r.apply(this,s));else if(a==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){t.push(s.toString());continue}for(var l in s)n.call(s,l)&&s[l]&&t.push(this&&this[l]||l)}}}return t.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Gm);var ej=Gm.exports;const nj=Xb(ej),Od=j.createContext({isDirty:!1,setDirty:()=>{}}),rj=({children:e})=>{const[n,r]=j.useState(!1),t=j.useMemo(()=>({isDirty:n,setDirty:r}),[n,r]);return v.jsx(Od.Provider,{value:t,children:e})},$d=e=>{const n=j.useContext(Od);j.useEffect(()=>{n.setDirty(e)},[e])},tj=()=>j.useContext(Od).isDirty,Zr="342352362",ij=Rn(3),sj=Pn(1500),aj=pm(1),lj=hm(100),dj=e=>n=>{const r=e("fom");return n&&r?xd(r)(n):null},Lm=({behandlingUuid:e,isReadOnly:n,registrerArbeidsforhold:r,radData:t,lukkArbeidsforholdRad:i,erOverstyrt:s,oppdaterTabell:a,erNyttArbeidsforhold:l=!1})=>{const o=te(),[k,u]=j.useState(!1),f=j.useMemo(()=>{var N,S,B,y,O;return{fom:(N=t==null?void 0:t.avklaring)==null?void 0:N.fom,tom:(S=t==null?void 0:t.avklaring)==null?void 0:S.tom,stillingsprosent:(B=t==null?void 0:t.avklaring)==null?void 0:B.stillingsprosent,begrunnelse:(y=t==null?void 0:t.avklaring)==null?void 0:y.begrunnelse,arbeidsgiverNavn:(O=t==null?void 0:t.avklaring)==null?void 0:O.arbeidsgiverNavn}},[t]),c=Qe({defaultValues:f});$d(c.formState.isDirty);const b=j.useCallback(()=>{i(),c.reset(f)},[i]),x=j.useCallback(N=>{const S={behandlingUuid:e,arbeidsgiverIdent:Zr,vurdering:fe.MANUELT_OPPRETTET_AV_SAKSBEHANDLER,...N};r(S).then(()=>{a(B=>{const y={arbeidsgiverIdent:Zr,arbeidsgiverNavn:N.arbeidsgiverNavn,avklaring:{fom:N.fom,tom:N.tom,stillingsprosent:N.stillingsprosent,arbeidsgiverNavn:N.arbeidsgiverNavn,begrunnelse:N.begrunnelse,saksbehandlersVurdering:fe.MANUELT_OPPRETTET_AV_SAKSBEHANDLER}},O=B.findIndex($=>$.arbeidsgiverIdent===Zr);return O===-1?B.concat(y):B.map(($,D)=>D===O?y:$)}),c.reset(N),l&&i()})},[e,a]),T=j.useCallback(()=>{const N=c.getValues(),S={behandlingUuid:e,arbeidsgiverIdent:Zr,vurdering:fe.FJERN_FRA_BEHANDLINGEN,...N};r(S).then(()=>{a(B=>B.filter(y=>y.arbeidsgiverIdent!==Zr)),l&&i()})},[c]);return v.jsxs(v.Fragment,{children:[!t&&v.jsxs(v.Fragment,{children:[v.jsx(oe,{size:"small",children:v.jsx(m,{id:"LeggTilArbeidsforholdForm.LeggTilArbeidsforhold"})}),v.jsx(I,{sixteenPx:!0})]}),v.jsx(I,{eightPx:!0}),v.jsxs(en,{formMethods:c,onSubmit:x,children:[v.jsxs(ge,{gap:"4",children:[s&&v.jsxs(v.Fragment,{children:[v.jsx(xe,{name:"arbeidsgiverNavn",label:v.jsx(m,{id:"LeggTilArbeidsforholdForm.Arbeidsgiver"}),validate:[X],readOnly:n||!s}),v.jsx(or,{name:"fom",label:v.jsx(m,{id:"LeggTilArbeidsforholdForm.PeriodeFra"}),validate:[X,Sn],isReadOnly:n||!s}),v.jsx(or,{name:"tom",label:v.jsx(m,{id:"LeggTilArbeidsforholdForm.PeriodeTil"}),validate:[Sn,dj(c.getValues)],isReadOnly:n||!s})]}),v.jsx(xe,{name:"stillingsprosent",label:v.jsx(m,{id:"LeggTilArbeidsforholdForm.Stillingsprosent"}),parse:N=>{const S=parseInt(N.toString(),10);return Number.isNaN(S)?N:S},validate:[X,vm,aj,lj],readOnly:n||!s,maxLength:3})]}),v.jsx(I,{twentyPx:!0}),v.jsx(un,{label:v.jsx(m,{id:"LeggTilArbeidsforholdForm.Begrunn"}),name:"begrunnelse",validate:[X,ij,sj,Nn],maxLength:1500,readOnly:n||!s}),v.jsx(I,{twentyPx:!0}),s&&v.jsxs(ge,{gap:"4",children:[v.jsx(se,{size:"small",variant:"secondary",loading:c.formState.isSubmitting,disabled:!c.formState.isDirty||c.formState.isSubmitting,children:v.jsx(m,{id:"LeggTilArbeidsforholdForm.Lagre"})}),v.jsx(se,{size:"small",variant:"tertiary",loading:!1,disabled:c.formState.isSubmitting,onClick:b,type:"button",children:v.jsx(m,{id:"LeggTilArbeidsforholdForm.Avbryt"})}),t&&v.jsxs(v.Fragment,{children:[v.jsx(it,{}),v.jsx(se,{size:"small",variant:"tertiary",loading:!1,disabled:c.formState.isSubmitting,onClick:()=>u(!0),type:"button",icon:v.jsx(Ib,{"aria-hidden":!0}),children:v.jsx(m,{id:"LeggTilArbeidsforholdForm.Slett"})})]})]}),v.jsx(I,{fourtyPx:!0})]}),k&&v.jsx(_h,{text:o.formatMessage({id:"NyttArbeidsforholdForm.VilDuSlette"}),submit:T,cancel:()=>u(!1),showModal:!0})]})},oj="_inline_glms2_1",gj="_textMargin_glms2_5",uj="_docIcon_glms2_9",kj="_phoneIcon_glms2_14",Pa={inline:oj,textMargin:gj,docIcon:uj,phoneIcon:kj},Os=({saksnummer:e,arbeidsforhold:n,inntektsmelding:r,skalViseArbeidsforholdId:t,alleKodeverk:i,arbeidsgiverFødselsdato:s,ikkeVisInfo:a})=>v.jsxs(v.Fragment,{children:[v.jsx(I,{eightPx:!0}),!a&&s&&v.jsxs(ge,{gap:"4",children:[v.jsx(w,{size:"small",children:v.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Fodselsdato"})}),v.jsx(ke,{children:v.jsx(De,{dateString:s})})]}),!a&&!s&&v.jsxs(ge,{gap:"4",children:[v.jsx(w,{size:"small",children:v.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Orgnr"})}),v.jsx(ke,{children:r.arbeidsgiverIdent})]}),v.jsx(I,{eightPx:!0}),t&&v.jsxs(v.Fragment,{children:[v.jsxs(ge,{gap:"4",children:[v.jsx(w,{size:"small",children:v.jsx(m,{id:"InntektsmeldingOpplysningerPanel.ArbeidsforholdId"})}),v.jsx(_,{size:"small",children:r.eksternArbeidsforholdId})]}),v.jsx(I,{eightPx:!0})]}),n&&v.jsxs(v.Fragment,{children:[v.jsxs(ge,{gap:"4",children:[v.jsx(w,{size:"small",children:v.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Stillingsprosent"})}),v.jsx(_,{size:"small",children:n.stillingsprosent?`${n.stillingsprosent}%`:"-"})]}),n.permisjonOgMangel&&v.jsxs(v.Fragment,{children:[v.jsx(I,{eightPx:!0}),v.jsxs(ge,{gap:"4",children:[v.jsx(w,{size:"small",children:Ns(i,Zn.PERMISJONSBESKRIVELSE_TYPE,n.permisjonOgMangel.type)}),v.jsx(_,{size:"small",children:v.jsx(Ye,{dateStringFom:n.permisjonOgMangel.permisjonFom,dateStringTom:n.permisjonOgMangel.permisjonTom})})]})]}),v.jsx(I,{eightPx:!0})]}),v.jsxs(ge,{gap:"4",children:[v.jsx(w,{size:"small",children:v.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Inntektsmelding"})}),v.jsx(_,{size:"small",children:q(r.inntektPrMnd)})]}),v.jsx(I,{eightPx:!0}),v.jsxs(ge,{gap:"4",children:[v.jsx(w,{size:"small",children:v.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjon"})}),v.jsx(_,{size:"small",children:v.jsx(m,{id:r.refusjonPrMnd?"InntektsmeldingOpplysningerPanel.Ja":"InntektsmeldingOpplysningerPanel.Nei"})})]}),v.jsx(I,{eightPx:!0}),r.refusjonPrMnd!==void 0&&r.refusjonPrMnd!==null&&v.jsxs(v.Fragment,{children:[v.jsxs(ge,{gap:"4",children:[v.jsx(w,{size:"small",children:v.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjonsbeløp"})}),v.jsx(_,{size:"small",children:q(r.refusjonPrMnd)})]}),v.jsx(I,{eightPx:!0})]}),v.jsxs(li,{href:cm(e,r.journalpostId,r.dokumentId),target:"_blank",children:[v.jsx("span",{children:v.jsx(_,{size:"small",className:Pa.inline,children:v.jsx(m,{id:"InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding"})})}),v.jsx(Rm,{className:Pa.docIcon})]}),v.jsx(I,{sixteenPx:!0}),v.jsxs(ge,{gap:"4",children:[v.jsx(Pm,{className:Pa.phoneIcon}),v.jsx("div",{children:v.jsxs(di,{children:[v.jsx(w,{size:"small",children:v.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Kontaktinfo"})}),v.jsx(ke,{children:r.kontaktpersonNavn}),v.jsx(ke,{children:v.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Tlf",values:{nr:r.kontaktpersonNummer}})})]})})]}),v.jsx(I,{thirtyTwoPx:!0})]}),mj="_hjelpetekst_1kk6h_1",fj="_alertStripe_1kk6h_5",vj="_hjelpetekstInnhold_1kk6h_9",cj="_svg_1kk6h_14",zi={hjelpetekst:mj,alertStripe:fj,hjelpetekstInnhold:vj,svg:cj},pj=Rn(3),hj=Pn(1500),bj=pm(1),jj=hm(100),xj=e=>n=>{const r=e("fom");return r&&n?xd(r)(n):null},Ij=({saksnummer:e,behandlingUuid:n,arbeidsgiverNavn:r,inntektsmelding:t,radData:i,isReadOnly:s,registrerArbeidsforhold:a,lagreVurdering:l,lukkArbeidsforholdRad:o,oppdaterTabell:k,skalViseArbeidsforholdId:u,arbeidsgiverFødselsdato:f})=>{const c=te(),b=j.useMemo(()=>{var D,Y,ne,ee,U;return{saksbehandlersVurdering:(D=i.avklaring)==null?void 0:D.saksbehandlersVurdering,begrunnelse:(Y=i.avklaring)==null?void 0:Y.begrunnelse,fom:(ne=i.avklaring)==null?void 0:ne.fom,tom:(ee=i.avklaring)==null?void 0:ee.tom,stillingsprosent:(U=i.avklaring)==null?void 0:U.stillingsprosent}},[i]),x=Qe({defaultValues:b});$d(x.formState.isDirty);const T=x.watch("saksbehandlersVurdering"),N=j.useCallback(()=>{o(),x.reset(b)},[b,o]),S=j.useCallback(D=>{const Y=()=>{k(ne=>ne.map(ee=>{if(t.arbeidsgiverIdent===ee.arbeidsgiverIdent){const U=D.saksbehandlersVurdering===fe.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?{arbeidsgiverIdent:t.arbeidsgiverIdent,fom:D.fom,tom:D.tom,stillingsprosent:D.stillingsprosent,begrunnelse:D.begrunnelse,saksbehandlersVurdering:D.saksbehandlersVurdering}:void 0;return{...i,avklaring:U||{begrunnelse:D.begrunnelse,saksbehandlersVurdering:D.saksbehandlersVurdering}}}return ee}))};D.saksbehandlersVurdering===fe.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?a({behandlingUuid:n,internArbeidsforholdRef:t.internArbeidsforholdId,arbeidsgiverNavn:r,arbeidsgiverIdent:t.arbeidsgiverIdent,vurdering:fe.OPPRETT_BASERT_PÅ_INNTEKTSMELDING,begrunnelse:D.begrunnelse,fom:D.fom,tom:D.tom,stillingsprosent:D.stillingsprosent}).then(Y).finally(()=>x.reset(D)):l({behandlingUuid:n,vurdering:D.saksbehandlersVurdering,begrunnelse:D.begrunnelse,arbeidsgiverIdent:t.arbeidsgiverIdent,internArbeidsforholdRef:t.internArbeidsforholdId}).then(Y).finally(()=>x.reset(D))},[t,k]),B=j.useRef(null),[y,O]=j.useState(!1),$=j.useCallback(()=>O(D=>!D),[]);return v.jsxs(v.Fragment,{children:[v.jsx(Os,{saksnummer:e,inntektsmelding:t,skalViseArbeidsforholdId:u,arbeidsgiverFødselsdato:f}),v.jsx(I,{fourtyPx:!0}),v.jsx("div",{className:zi.alertStripe,children:v.jsx(Oe,{variant:"info",children:v.jsx(m,{id:"ManglendeOpplysningerForm.ErMottattMenIkkeReg"})})}),v.jsx(I,{thirtyTwoPx:!0}),v.jsxs(en,{formMethods:x,onSubmit:S,children:[v.jsx(pe,{name:"saksbehandlersVurdering",label:v.jsxs(ge,{gap:"2",children:[v.jsx(m,{id:"ManglendeOpplysningerForm.SkalBrukeInntekstmelding"}),v.jsx(Fd,{className:zi.svg,ref:B,onClick:$,title:c.formatMessage({id:"ManglendeOpplysningerForm.AltHjelpetekst"})}),v.jsx(lt,{open:y,onClose:$,anchorEl:B.current,className:zi.hjelpetekst,children:v.jsx(lt.Content,{className:zi.hjelpetekstInnhold,children:v.jsx(_,{children:v.jsx(m,{id:"ManglendeOpplysningerForm.Hjelpetekst"})})})})]}),validate:[X],isReadOnly:s,radios:[{label:c.formatMessage({id:"ManglendeOpplysningerForm.TarKontakt"}),value:fe.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_ARBEIDSFORHOLD},{label:c.formatMessage({id:"ManglendeOpplysningerForm.GåVidere"}),value:fe.IKKE_OPPRETT_BASERT_PÅ_INNTEKTSMELDING},{label:c.formatMessage({id:"ManglendeOpplysningerForm.OpprettArbeidsforhold"}),value:fe.OPPRETT_BASERT_PÅ_INNTEKTSMELDING}]}),T===fe.OPPRETT_BASERT_PÅ_INNTEKTSMELDING&&v.jsxs(v.Fragment,{children:[v.jsx(I,{eightPx:!0}),v.jsxs(ge,{gap:"4",children:[v.jsx(or,{name:"fom",label:v.jsx(m,{id:"ManglendeOpplysningerForm.PeriodeFra"}),validate:[X,Sn],isReadOnly:s}),v.jsx(or,{name:"tom",label:v.jsx(m,{id:"ManglendeOpplysningerForm.PeriodeTil"}),validate:[Sn,xj(x.getValues)],isReadOnly:s}),v.jsx(xe,{name:"stillingsprosent",label:v.jsx(m,{id:"ManglendeOpplysningerForm.Stillingsprosent"}),parse:D=>{const Y=parseInt(D.toString(),10);return Number.isNaN(Y)?D:Y},validate:[X,vm,bj,jj],readOnly:s,maxLength:3})]}),v.jsx(I,{fourPx:!0})]}),v.jsx(I,{sixteenPx:!0}),v.jsx(un,{label:v.jsx(m,{id:"ManglendeOpplysningerForm.Begrunn"}),name:"begrunnelse",validate:[X,pj,hj,Nn],maxLength:1500,readOnly:s}),v.jsx(I,{twentyPx:!0}),!s&&v.jsxs(ge,{gap:"4",children:[v.jsx(se,{size:"small",variant:"secondary",loading:x.formState.isSubmitting,disabled:!x.formState.isDirty||x.formState.isSubmitting,children:v.jsx(m,{id:"ManglendeOpplysningerForm.Lagre"})}),v.jsx(se,{size:"small",variant:"tertiary",loading:!1,disabled:x.formState.isSubmitting,onClick:N,type:"button",children:v.jsx(m,{id:"ManglendeOpplysningerForm.Avbryt"})})]}),v.jsx(I,{fourtyPx:!0})]})]})},Aj="_inline_10adz_1",Tj="_aksjonpunktImage_10adz_5",Ej="_arrow_10adz_12",yj="_ikkeMottatt_10adz_18",_j="_forsteKolonne_10adz_22",Sj="_sisteKolonne_10adz_26",Fj="_skiller_10adz_30",Nj="_textMargin_10adz_34",cr={inline:Aj,aksjonpunktImage:Tj,arrow:Ej,ikkeMottatt:yj,forsteKolonne:_j,sisteKolonne:Sj,skiller:Fj,textMargin:Nj},Rj=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent&&(!n.internArbeidsforholdId||n.internArbeidsforholdId===e.internArbeidsforholdId),Pj=(e,n)=>{const r=e.some(i=>i.internArbeidsforholdId),t=e.some(i=>!i.internArbeidsforholdId);if(r&&t)throw Error("Har inntektsmelding både med og uten id");return e.find(i=>!i.internArbeidsforholdId||i.internArbeidsforholdId===n)},Bj=e=>{const n=Math.ceil(e.length/25);return Array.from({length:n},(r,t)=>e.slice(t*25,t*25+25)).join("-")},Mm=({saksnummer:e,arbeidsforholdForRad:n,inntektsmeldingerForRad:r,alleKodeverk:t,arbeidsgiverFødselsdato:i})=>{const s=te(),[a,l]=j.useState({}),o=n.length===1,k=o?Pj(r,n[0].internArbeidsforholdId):void 0;return v.jsxs(v.Fragment,{children:[i&&v.jsxs(ge,{gap:"4",children:[v.jsx(w,{size:"small",children:v.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Fodselsdato"})}),v.jsx(ke,{children:v.jsx(De,{dateString:i})})]}),!i&&n.length>0&&v.jsxs(ge,{gap:"4",children:[v.jsx(w,{size:"small",children:v.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Orgnr"})}),v.jsx(ke,{children:n[0].arbeidsgiverIdent})]}),!o&&v.jsxs(v.Fragment,{children:[v.jsx(I,{eightPx:!0}),v.jsx(Ho,{dividerParagraf:!0,className:cr.skiller}),v.jsx(I,{sixteenPx:!0}),n.map(u=>{const f=r.find(c=>Rj(u,c));return v.jsxs(K.Fragment,{children:[v.jsxs(di,{gap:"2",children:[v.jsxs(ge,{gap:"4",children:[v.jsx(w,{size:"small",children:v.jsx(m,{id:"ArbeidsforholdInformasjonPanel.ArbeidsforholdId"})}),v.jsxs("div",{children:[u.eksternArbeidsforholdId&&u.eksternArbeidsforholdId.length<50&&v.jsx("div",{children:v.jsx(_,{size:"small",children:u.eksternArbeidsforholdId})}),u.eksternArbeidsforholdId&&u.eksternArbeidsforholdId.length>=50&&v.jsx(Bb,{content:Bj(u.eksternArbeidsforholdId),children:v.jsx(_,{size:"small",children:`${u.eksternArbeidsforholdId.substring(0,50)}...`})}),!u.eksternArbeidsforholdId&&v.jsx(_,{size:"small",children:"-"})]}),f&&v.jsxs(v.Fragment,{children:[v.jsx(it,{}),v.jsx(w,{size:"small",children:v.jsx(m,{id:"ArbeidsforholdInformasjonPanel.ImMottatt"})})]}),!f&&v.jsxs(v.Fragment,{children:[v.jsx(it,{}),v.jsxs("div",{children:[v.jsx(Br,{className:cr.aksjonpunktImage,title:s.formatMessage({id:"ArbeidsforholdRad.Aksjonspunkt"})}),v.jsx("div",{className:cr.ikkeMottatt,children:v.jsx(w,{size:"small",children:v.jsx(m,{id:"ArbeidsforholdInformasjonPanel.ImIkkeMottatt"})})})]})]})]}),v.jsxs(ge,{gap:"4",children:[v.jsx(w,{size:"small",children:v.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Periode"})}),v.jsx(_,{size:"small",children:v.jsx(Ye,{dateStringFom:u.fom,dateStringTom:u.tom!==Xe?u.tom:void 0})}),f&&v.jsxs(v.Fragment,{children:[v.jsx(it,{}),v.jsx(_,{size:"small",children:v.jsx(De,{dateString:f.motattDato})})]})]}),v.jsxs(ge,{gap:"4",children:[v.jsx(w,{size:"small",children:v.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Stillingsprosent"})}),v.jsx(_,{size:"small",children:`${u.stillingsprosent}%`})]}),u.permisjonOgMangel&&v.jsxs(ge,{gap:"4",children:[v.jsx(w,{size:"small",children:Ns(t,Zn.PERMISJONSBESKRIVELSE_TYPE,u.permisjonOgMangel.type)}),v.jsx(_,{size:"small",children:v.jsx(Ye,{dateStringFom:u.permisjonOgMangel.permisjonFom,dateStringTom:u.permisjonOgMangel.permisjonTom})})]}),f&&v.jsxs(v.Fragment,{children:[u.internArbeidsforholdId&&a[u.internArbeidsforholdId]&&v.jsx(Os,{saksnummer:e,inntektsmelding:f,skalViseArbeidsforholdId:!1}),v.jsx(I,{fourPx:!0}),v.jsxs(li,{onClick:c=>{c.preventDefault(),l(b=>{if(!u.internArbeidsforholdId)return b;const x=b[u.internArbeidsforholdId];return{...b,[u.internArbeidsforholdId]:x===void 0||x===!1}})},href:"",children:[v.jsx("span",{children:v.jsx(_,{size:"small",className:cr.inline,children:v.jsx(m,{id:!u.internArbeidsforholdId||!a[u.internArbeidsforholdId]?"ArbeidsforholdInformasjonPanel.ApneImInfo":"ArbeidsforholdInformasjonPanel.LukkeImInfo"})})}),u.internArbeidsforholdId&&a[u.internArbeidsforholdId]?v.jsx(Ed,{className:cr.arrow}):v.jsx(da,{className:cr.arrow})]})]})]}),v.jsx(I,{sixteenPx:!0}),v.jsx(Ho,{dividerParagraf:!0,className:cr.skiller}),v.jsx(I,{sixteenPx:!0})]},`${u.arbeidsgiverIdent}${u.internArbeidsforholdId}`)})]}),v.jsx(I,{eightPx:!0}),o&&!!k&&v.jsx(Os,{saksnummer:e,arbeidsforhold:n[0],inntektsmelding:k,skalViseArbeidsforholdId:r.length>1,alleKodeverk:t,ikkeVisInfo:!0}),o&&r.length===0&&v.jsxs(v.Fragment,{children:[v.jsxs(ge,{gap:"4",children:[v.jsx(w,{size:"small",children:v.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Stillingsprosent"})}),v.jsx(_,{size:"small",children:`${n[0].stillingsprosent}%`})]}),n[0].permisjonOgMangel&&v.jsxs(v.Fragment,{children:[v.jsx(I,{eightPx:!0}),v.jsxs(ge,{gap:"4",children:[v.jsx(w,{size:"small",children:Ns(t,Zn.PERMISJONSBESKRIVELSE_TYPE,n[0].permisjonOgMangel.type)}),v.jsx(_,{size:"small",children:v.jsx(Ye,{dateStringFom:n[0].permisjonOgMangel.permisjonFom,dateStringTom:n[0].permisjonOgMangel.permisjonTom})})]})]})]})]})},Oj="_bredde_gb3eb_1",$j="_belopBredde_gb3eb_5",Vj="_inline_gb3eb_9",Dj="_arrow_gb3eb_13",Hi={bredde:Oj,belopBredde:$j,inline:Vj,arrow:Dj},Gj=[],Lj=(e,n)=>{const r=A(e).subtract(1,"month").startOf("month"),t=r.subtract(12,"month"),i=[];for(let s=r;s.isAfter(t);s=s.subtract(1,"month")){const a=s.format(Le),l=n.find(o=>A(o.fom).startOf("month").format(Le)===a);i.push({beløp:(l==null?void 0:l.beløp)||0,fom:a})}return i},Km=({saksnummer:e,skjæringspunktDato:n,inntektsposter:r=[],arbeidsforholdForRad:t,inntektsmeldingerForRad:i=Gj,alleKodeverk:s,arbeidsgiverFødselsdato:a})=>{const[l,o]=j.useState(!1),k=j.useMemo(()=>Lj(n,r),[r]),u=t.length===1,f=r.length>0&&r.some(c=>c.beløp>0);return v.jsxs(v.Fragment,{children:[v.jsx(Mm,{saksnummer:e,arbeidsforholdForRad:t,inntektsmeldingerForRad:i,alleKodeverk:s,arbeidsgiverFødselsdato:a}),v.jsx(I,{thirtyTwoPx:!0}),f&&v.jsxs(v.Fragment,{children:[v.jsx(w,{size:"small",children:v.jsx(m,{id:u?"ArbeidsforholdInformasjonPanel.Inntekter":"ArbeidsforholdInformasjonPanel.TotaltInntekter"})}),v.jsx(I,{fourPx:!0}),v.jsx(di,{children:k.filter((c,b)=>l?!0:b<3).map(c=>v.jsxs(ge,{gap:"2",className:Hi.bredde,children:[v.jsx(_,{size:"small",children:v.jsx(m,{id:`ArbeidsforholdInformasjonPanel.${A(c.fom).month()+1}`})}),v.jsx(_,{size:"small",children:A(c.fom).year()}),v.jsx(it,{}),v.jsx(_,{size:"small",children:q(c.beløp)})]},c.fom))}),v.jsx(I,{fourPx:!0}),v.jsxs(li,{onClick:c=>{c.preventDefault(),o(!l)},href:"",children:[v.jsx("span",{children:v.jsx(_,{size:"small",className:Hi.inline,children:v.jsx(m,{id:l?"ArbeidsforholdInformasjonPanel.FaerreManeder":"ArbeidsforholdInformasjonPanel.TidligereManeder"})})}),l?v.jsx(Ed,{className:Hi.arrow}):v.jsx(da,{className:Hi.arrow})]})]}),!f&&v.jsx(w,{size:"small",children:v.jsx(m,{id:"ArbeidsforholdInformasjonPanel.IngenInntekt"})}),v.jsx(I,{thirtyTwoPx:!0})]})},Mj="_alertStripe_9hpes_1",Kj="_hjelpetekst_9hpes_5",wj="_hjelpetekstInnhold_9hpes_9",Uj="_svg_9hpes_14",Ji={alertStripe:Mj,hjelpetekst:Kj,hjelpetekstInnhold:wj,svg:Uj},Cj=Rn(3),Yj=Pn(1500),zj=({saksnummer:e,behandlingUuid:n,skjæringspunktDato:r,inntektsposter:t=[],arbeidsforholdForRad:i,inntektsmeldingerForRad:s,radData:a,isReadOnly:l,lagreVurdering:o,lukkArbeidsforholdRad:k,oppdaterTabell:u,alleKodeverk:f,arbeidsgiverFødselsdato:c})=>{const b=te(),x=j.useMemo(()=>{var Y,ne;return{saksbehandlersVurdering:(Y=a.avklaring)==null?void 0:Y.saksbehandlersVurdering,begrunnelse:(ne=a.avklaring)==null?void 0:ne.begrunnelse}},[a]),T=Qe({defaultValues:x});$d(T.formState.isDirty);const N=i.length===1,S=j.useCallback(()=>{k(),T.reset(x)},[k,x]),B=j.useCallback(Y=>{const ne={behandlingUuid:n,vurdering:Y.saksbehandlersVurdering,arbeidsgiverIdent:a.arbeidsgiverIdent,internArbeidsforholdRef:N?i[0].internArbeidsforholdId:void 0,begrunnelse:Y.begrunnelse};o(ne).then(()=>{u(ee=>ee.map(U=>U.arbeidsgiverIdent===a.arbeidsgiverIdent?{...a,avklaring:{begrunnelse:Y.begrunnelse,saksbehandlersVurdering:Y.saksbehandlersVurdering}}:U))}).finally(()=>T.reset(Y))},[i,a,u]),y=j.useRef(null),[O,$]=j.useState(!1),D=j.useCallback(()=>$(Y=>!Y),[]);return v.jsxs(v.Fragment,{children:[v.jsx(Km,{saksnummer:e,skjæringspunktDato:r,inntektsposter:t,arbeidsforholdForRad:i,inntektsmeldingerForRad:s,alleKodeverk:f,arbeidsgiverFødselsdato:c}),v.jsxs(en,{formMethods:T,onSubmit:B,children:[!N&&s.length>0&&v.jsxs("div",{className:Ji.alertStripe,children:[v.jsx(Oe,{variant:"info",children:v.jsx(m,{id:"InntektsmeldingInnhentesForm.InnehentAlle"})}),v.jsx(I,{sixteenPx:!0})]}),v.jsx(pe,{name:"saksbehandlersVurdering",label:v.jsxs(ge,{gap:"2",children:[v.jsx(m,{id:"InntektsmeldingInnhentesForm.MåInnhentes"}),v.jsx(Fd,{ref:y,onClick:D,className:Ji.svg,title:b.formatMessage({id:"InntektsmeldingInnhentesForm.AltHjelpetekst"})}),v.jsx(lt,{open:O,onClose:D,anchorEl:y.current,className:Ji.hjelpetekst,children:v.jsxs(lt.Content,{className:Ji.hjelpetekstInnhold,children:[v.jsx(_,{children:v.jsx(m,{id:"InntektsmeldingInnhentesForm.HjelpetekstDel1"})}),v.jsx(I,{eightPx:!0}),v.jsx(_,{children:v.jsx(m,{id:"InntektsmeldingInnhentesForm.HjelpetekstDel2"})}),v.jsx(I,{eightPx:!0}),v.jsx(_,{children:v.jsx(m,{id:"InntektsmeldingInnhentesForm.HjelpetekstDel3"})})]})})]}),validate:[X],isReadOnly:l,radios:[{label:b.formatMessage({id:"InntektsmeldingInnhentesForm.TarKontakt"}),value:fe.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_INNTEKTSMELDING},{label:b.formatMessage({id:"InntektsmeldingInnhentesForm.GåVidere"}),value:fe.FORTSETT_UTEN_INNTEKTSMELDING}]}),v.jsx(I,{sixteenPx:!0}),v.jsx(un,{label:v.jsx(m,{id:N?"InntektsmeldingInnhentesForm.Begrunn":"InntektsmeldingInnhentesForm.Kommentar"}),name:"begrunnelse",validate:[X,Cj,Yj,Nn],maxLength:1500,readOnly:l}),v.jsx(I,{twentyPx:!0}),!l&&v.jsxs(ge,{gap:"4",children:[v.jsx(se,{size:"small",variant:"secondary",loading:T.formState.isSubmitting,disabled:!T.formState.isDirty||T.formState.isSubmitting,children:v.jsx(m,{id:"InntektsmeldingInnhentesForm.Lagre"})}),v.jsx(se,{size:"small",variant:"tertiary",loading:!1,disabled:T.formState.isSubmitting,onClick:S,type:"button",children:v.jsx(m,{id:"InntektsmeldingInnhentesForm.Avbryt"})})]}),v.jsx(I,{fourtyPx:!0})]})]})},Hj="_ikon_1mrt8_1",Jj="_colTopPadding_1mrt8_5",qj="_imageColTopPadding_1mrt8_9",Wj="_exclamationmarkIcon_1mrt8_13",Zj="_checkmarkIcon_1mrt8_20",jr={ikon:Hj,colTopPadding:Jj,imageColTopPadding:qj,exclamationmarkIcon:Wj,checkmarkIcon:Zj},Xj=nj.bind(jr),Qj=(e,n)=>e?"ArbeidsforholdRad.Saksbehandler":n?"ArbeidsforholdRad.AaRegisteret":"ArbeidsforholdRad.Inntektsmelding",ex=(e,n)=>{if((n==null?void 0:n.saksbehandlersVurdering)===fe.MANUELT_OPPRETTET_AV_SAKSBEHANDLER||(n==null?void 0:n.saksbehandlersVurdering)===fe.OPPRETT_BASERT_PÅ_INNTEKTSMELDING)return{fom:n==null?void 0:n.fom,tom:n==null?void 0:n.tom};const r=e.reduce((t,i)=>({fom:t.fom&&A(t.fom).isBefore(i.fom)?t.fom:i.fom,tom:t.tom&&A(t.tom).isAfter(i.tom)?t.tom:i.tom}),{fom:void 0,tom:void 0});return r.fom?r:void 0},nx=(e,n)=>{const r=e.some(s=>s.internArbeidsforholdId),t=e.some(s=>!s.internArbeidsforholdId);if(r&&t)throw Error("Har inntektsmelding både med og uten id");const i=e.find(s=>!s.internArbeidsforholdId||!n||s.internArbeidsforholdId===n);if(!i)throw Error(`Finner ingen inntektsmelding for arbeidsforhold id ${n}`);return i},rx=({saksnummer:e,behandlingUuid:n,arbeidOgInntekt:r,radData:t,isReadOnly:i,erOverstyrt:s,oppdaterTabell:a,registrerArbeidsforhold:l,lagreVurdering:o,toggleÅpenRad:k,erRadÅpen:u,alleKodeverk:f})=>{var c;const b=te(),{arbeidsgiverNavn:x,arbeidsgiverIdent:T,årsak:N,avklaring:S,arbeidsgiverFødselsdato:B}=t,y=j.useMemo(()=>r.arbeidsforhold.filter(H=>H.arbeidsgiverIdent===T),[r,T]),O=j.useMemo(()=>r.inntektsmeldinger.filter(H=>H.arbeidsgiverIdent===T),[r,T]),$=(S==null?void 0:S.saksbehandlersVurdering)===fe.MANUELT_OPPRETTET_AV_SAKSBEHANDLER,D=y.length>0&&O.length>0&&!N,Y=N===Fs.MANGLENDE_INNTEKTSMELDING,ne=N===Fs.INNTEKTSMELDING_UTEN_ARBEIDSFORHOLD,ee=!!N&&!(S!=null&&S.saksbehandlersVurdering),U=y.length>0&&O.length===0&&!N&&!$,V=y.length===0&&O.length>0&&!N,C=j.useMemo(()=>ex(y,t.avklaring),[$,y,t.avklaring]),Z=(c=r.inntekter.find(H=>H.arbeidsgiverIdent===T))==null?void 0:c.inntekter;return v.jsxs(yh,{alignWithColumn:1,content:v.jsxs(v.Fragment,{children:[$&&v.jsx(Lm,{behandlingUuid:n,isReadOnly:!1,registrerArbeidsforhold:l,radData:t,arbeidsforhold:y[0],lukkArbeidsforholdRad:k,erOverstyrt:s,oppdaterTabell:a}),D&&v.jsx(Mm,{saksnummer:e,arbeidsforholdForRad:y,inntektsmeldingerForRad:O,alleKodeverk:f,arbeidsgiverFødselsdato:B}),V&&v.jsx(Os,{saksnummer:e,arbeidsforhold:y.length>0?y[0]:void 0,inntektsmelding:nx(O,y.length>0?y[0].internArbeidsforholdId:void 0),skalViseArbeidsforholdId:!1,alleKodeverk:f,arbeidsgiverFødselsdato:B}),Y&&v.jsx(zj,{saksnummer:e,behandlingUuid:n,skjæringspunktDato:r.skjæringstidspunkt,inntektsposter:Z,isReadOnly:i,arbeidsforholdForRad:y,inntektsmeldingerForRad:O,radData:t,lagreVurdering:o,lukkArbeidsforholdRad:k,oppdaterTabell:a,alleKodeverk:f,arbeidsgiverFødselsdato:B}),ne&&v.jsx(Ij,{saksnummer:e,behandlingUuid:n,arbeidsgiverNavn:x,inntektsmelding:O[0],radData:t,isReadOnly:i,registrerArbeidsforhold:l,lagreVurdering:o,lukkArbeidsforholdRad:k,oppdaterTabell:a,skalViseArbeidsforholdId:O.length>1}),U&&v.jsx(Km,{saksnummer:e,skjæringspunktDato:r.skjæringstidspunkt,inntektsposter:Z,arbeidsforholdForRad:y,alleKodeverk:f,arbeidsgiverFødselsdato:B})]}),showContent:u,toggleContent:k,isApLeftBorder:ee,children:[v.jsxs(W,{className:Xj("ikon",u?"imageColTopPadding":void 0),children:[!ee&&v.jsx(Td,{title:b.formatMessage({id:"ArbeidsforholdRad.Ok"}),className:jr.checkmarkIcon}),ee&&v.jsx(Br,{title:b.formatMessage({id:"ArbeidsforholdRad.Aksjonspunkt"}),className:jr.exclamationmarkIcon})]}),v.jsxs(W,{className:u?jr.colTopPadding:void 0,children:[u&&v.jsx(w,{size:"small",children:x}),!u&&v.jsx(_,{size:"small",children:x})]}),v.jsx(W,{className:u?jr.colTopPadding:void 0,children:v.jsxs(_,{children:[C&&C.fom&&v.jsx(Ye,{dateStringFom:C.fom,dateStringTom:C.tom!==Xe?C.tom:void 0}),!C&&"-"]})}),v.jsx(W,{className:u?jr.colTopPadding:void 0,children:v.jsx(_,{children:v.jsx(m,{id:Qj($,y.length>0)})})}),v.jsx(W,{className:u?jr.colTopPadding:void 0,children:v.jsxs(_,{children:[y.length<2&&O.length===1&&v.jsx(De,{dateString:O[0].motattDato}),!Y&&y.length>1&&O.length===y.length&&v.jsx(m,{id:"ArbeidsforholdRad.Mottatt"}),($||Y&&O.length<y.length)&&v.jsx(m,{id:"ArbeidsforholdRad.IkkeMottatt"})]})})]})},tx="_leggTilImage_2poz8_1",ix="_alertStripe_2poz8_5",sx={leggTilImage:tx,alertStripe:ix},ax=(e,n)=>{const r=e.some(a=>a.årsak===Fs.MANGLENDE_INNTEKTSMELDING),t=e.some(a=>a.årsak===Fs.INNTEKTSMELDING_UTEN_ARBEIDSFORHOLD),i=(n==null?void 0:n.status)===at.OPPRETTET,s=[];return i&&r&&s.push("ArbeidOgInntektFaktaPanel.InnhentManglendeInntektsmelding"),i&&t&&s.push("ArbeidOgInntektFaktaPanel.AvklarManglendeOpplysninger"),s},lx=({behandling:e,aksjonspunkt:n,readOnly:r,arbeidOgInntekt:t,registrerArbeidsforhold:i,erOverstyrer:s,tabellData:a,settÅpneRadIndexer:l,setErOverstyrt:o,oppdaterTabell:k})=>{const u=te(),{arbeidsforhold:f,inntektsmeldinger:c}=t,[b,x]=j.useState(!1),[T,N]=j.useState(!1),S=j.useCallback(()=>{o(!0),x(!0);const $=a.findIndex(D=>{var Y;return((Y=D.avklaring)==null?void 0:Y.saksbehandlersVurdering)===fe.MANUELT_OPPRETTET_AV_SAKSBEHANDLER});$!==-1&&l([$])},[a,l]),B=j.useMemo(()=>ax(a,n),[e.versjon]),y=a.every($=>$.arbeidsgiverIdent!==Zr),O=(n==null?void 0:n.status)===at.OPPRETTET;return v.jsxs(v.Fragment,{children:[v.jsxs(ge,{gap:"4",children:[v.jsx(oe,{size:"small",children:v.jsx(m,{id:"ArbeidOgInntektFaktaPanel.Overskrift"})}),s&&O&&!r&&v.jsx(oi,{onClick:S}),v.jsx(it,{}),v.jsx(_,{size:"small",children:v.jsx(m,{id:"ArbeidOgInntektFaktaPanel.Skjaringstidspunkt",values:{skjæringspunktDato:We(t.skjæringstidspunkt)}})})]}),v.jsx(I,{thirtyTwoPx:!0}),B.length>0&&v.jsx(gi,{children:B.map($=>u.formatMessage({id:$})).join(" ")}),f.length===0&&c.length===0&&s&&v.jsx("div",{className:sx.alertStripe,children:v.jsx(Oe,{variant:"info",children:v.jsx(m,{id:"ArbeidOgInntektFaktaPanel.IngenArbeidsforhold"})})}),v.jsx(I,{sixteenPx:!0}),b&&y&&!T&&v.jsxs(v.Fragment,{children:[v.jsx(I,{twentyPx:!0}),v.jsx(se,{size:"small",variant:"tertiary",icon:v.jsx(ct,{"aria-hidden":!0}),onClick:()=>N(!0),children:v.jsx(m,{id:"ArbeidOgInntektFaktaPanel.LeggTilArbeidsforhold"})}),v.jsx(I,{thirtyTwoPx:!0})]}),v.jsx(I,{thirtyTwoPx:!0}),T&&v.jsxs(v.Fragment,{children:[v.jsx(Lm,{behandlingUuid:e.uuid,isReadOnly:!1,registrerArbeidsforhold:i,lukkArbeidsforholdRad:()=>N(!1),oppdaterTabell:k,erOverstyrt:!0,erNyttArbeidsforhold:!0}),v.jsx(I,{fourtyPx:!0})]})]})},dx="_alertStripe_z95u6_1",ox={alertStripe:dx},gx=["EMPTY1","ArbeidOgInntektFaktaPanel.Arbeidsforhold","ArbeidOgInntektFaktaPanel.Periode","ArbeidOgInntektFaktaPanel.Kilde","ArbeidOgInntektFaktaPanel.InntektsmeldingMottatt","EMPTY2"],ux=(e,n)=>{const r=e.årsak,t=n.årsak;return r&&!t?-1:t&&!r?1:e.arbeidsgiverNavn.localeCompare(n.arbeidsgiverNavn)},rg=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent,kx=(e,n)=>{const r={saksbehandlersVurdering:e.saksbehandlersVurdering,begrunnelse:e.begrunnelse};return e.saksbehandlersVurdering===fe.MANUELT_OPPRETTET_AV_SAKSBEHANDLER||e.saksbehandlersVurdering===fe.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?{...r,arbeidsgiverNavn:n,fom:e.fom,tom:e.tom,stillingsprosent:e.stillingsprosent}:r},mx=e=>e.årsak?-1:1,fx=(e,n)=>{const{arbeidsforhold:r,inntektsmeldinger:t}=e,i=[...r.sort(mx)].reduce((a,l)=>{var o;if(a.find(c=>c.arbeidsgiverIdent===l.arbeidsgiverIdent))return a;const k=n[l.arbeidsgiverIdent],u=k.navn,f=l.årsak?l.årsak:(o=t.find(c=>rg(l,c)))==null?void 0:o.årsak;return a.concat({arbeidsgiverIdent:l.arbeidsgiverIdent,arbeidsgiverNavn:u,arbeidsgiverFødselsdato:k.erPrivatPerson?k.fødselsdato:void 0,årsak:f,avklaring:l.saksbehandlersVurdering?kx(l,u):void 0})},[]),s=t.filter(a=>!r.some(l=>rg(l,a))).map(a=>({arbeidsgiverIdent:a.arbeidsgiverIdent,internArbeidsforholdId:a.internArbeidsforholdId,arbeidsgiverNavn:n[a.arbeidsgiverIdent].navn,arbeidsgiverFødselsdato:n[a.arbeidsgiverIdent].erPrivatPerson?n[a.arbeidsgiverIdent].fødselsdato:void 0,årsak:a.årsak,avklaring:a.saksbehandlersVurdering?{saksbehandlersVurdering:a.saksbehandlersVurdering,begrunnelse:a.begrunnelse}:void 0}));return i.concat(s).sort(ux)},tg=e=>{const n=e.findIndex(r=>r.årsak&&!r.avklaring);return n!==-1?[n]:[]},vx=({saksnummer:e,behandling:n,aksjonspunkt:r,readOnly:t,arbeidOgInntekt:i,arbeidsgiverOpplysningerPerId:s,registrerArbeidsforhold:a,lagreVurdering:l,formData:o,setFormData:k,erOverstyrer:u,lagreCallback:f,settBehandlingPåVentCallback:c,alleKodeverk:b,åpneForNyVurdering:x})=>{const[T,N]=j.useState(!1),[S,B]=j.useState(!1),[y,O]=j.useState(!1),[$,D]=j.useState(o||fx(i,s)),[Y,ne]=j.useState(tg($)),ee=tj();j.useEffect(()=>()=>{k($)},[$]);const U=j.useCallback(he=>{Y.some(Te=>Te===he)?ne(Y.filter(Te=>Te!==he)):ne(Y.concat(he))},[Y,ne]),V=j.useRef(null),C=j.useCallback(he=>{var Te;D(he),ne(tg(he($))),(Te=V==null?void 0:V.current)==null||Te.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[$]),Z=j.useCallback(()=>{N(!0),f({kode:ue.VURDER_ARBEIDSFORHOLD_INNTEKTSMELDING})},[n.versjon]),H=j.useCallback(()=>{N(!0),x()},[n.versjon]),ae=j.useCallback(he=>{N(!0),B(!1);const{frist:Te,ventearsak:mn}=he;mn&&c({frist:Te,ventearsak:mn})},[n.versjon]),ye=$.some(he=>{var Te,mn;return((Te=he.avklaring)==null?void 0:Te.saksbehandlersVurdering)===fe.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_INNTEKTSMELDING||((mn=he.avklaring)==null?void 0:mn.saksbehandlersVurdering)===fe.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_ARBEIDSFORHOLD}),we=$.every(he=>!he.årsak||he.årsak&&he.avklaring),Be=(r==null?void 0:r.status)===at.UTFORT,nr=(r==null?void 0:r.status)===at.OPPRETTET,Vn=!t&&(Be||u&&r===void 0),Fe=!t&&nr&&we&&!ee&&ye,Ie=!t&&nr&&we&&!ee&&!ye;return v.jsxs(v.Fragment,{children:[v.jsx(lx,{behandling:n,aksjonspunkt:r,readOnly:t,arbeidOgInntekt:i,registrerArbeidsforhold:a,erOverstyrer:u,tabellData:$,settÅpneRadIndexer:ne,setErOverstyrt:O,oppdaterTabell:C}),v.jsx(kn,{ref:V,headerTextCodes:gx,noHover:!0,hasGrayHeader:!0,children:$.map((he,Te)=>v.jsx(rx,{arbeidOgInntekt:i,saksnummer:e,behandlingUuid:n.uuid,radData:he,isReadOnly:t||Be,registrerArbeidsforhold:a,lagreVurdering:l,toggleÅpenRad:()=>U(Te),erOverstyrt:y,oppdaterTabell:C,erRadÅpen:Y.includes(Te),alleKodeverk:b},`${he.arbeidsgiverNavn}${he.arbeidsgiverIdent}${Te}`))}),v.jsx(I,{sixteenPx:!0}),Fe&&v.jsxs(v.Fragment,{children:[v.jsx(se,{size:"small",variant:"primary",disabled:T,onClick:()=>B(!0),type:"button",children:v.jsx(m,{id:"ArbeidOgInntektFaktaPanel.SettPaVent"})}),v.jsx(oh,{submitCallback:ae,cancelEvent:()=>B(!1),defaultVenteårsak:gh.VENT_OPDT_INNTEKTSMELDING,hasManualPaVent:!0,ventearsaker:b[Zn.VENT_AARSAK],erTilbakekreving:!1,showModal:S})]}),Ie&&v.jsx(se,{size:"small",variant:"primary",disabled:T,loading:T,onClick:Z,type:"button",children:v.jsx(m,{id:"ArbeidOgInntektFaktaPanel.Bekreft"})}),Vn&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:ox.alertStripe,children:v.jsx(Oe,{variant:"info",children:v.jsx(m,{id:"ArbeidOgInntektFaktaPanel.ApneForNyRevurderingForklaring"})})}),v.jsx(I,{sixteenPx:!0}),v.jsx(se,{size:"small",variant:"secondary",disabled:T,loading:T,onClick:H,type:"button",children:v.jsx(m,{id:"ArbeidOgInntektFaktaPanel.ApneForNyVurdering"})})]})]})},cx={"ArbeidOgInntektFaktaPanel.Overskrift":"Fakta om arbeid og inntekt","ArbeidOgInntektFaktaPanel.Arbeidsforhold":"Arbeidsforhold","ArbeidOgInntektFaktaPanel.Periode":"Periode","ArbeidOgInntektFaktaPanel.Kilde":"Kilde","ArbeidOgInntektFaktaPanel.InntektsmeldingMottatt":"Inntektsmelding","ArbeidOgInntektFaktaPanel.InnhentManglendeInntektsmelding":"Innhent manglende inntektsmeldinger.","ArbeidOgInntektFaktaPanel.AvklarManglendeOpplysninger":"Avklar manglende opplysninger.","ArbeidOgInntektFaktaPanel.IngenArbeidsforhold":"Ingen arbeidsforhold eller inntektsmeldinger registrert på bruker. Det er kun unntaksvis at det skal opprettes manuelle arbeidsforhold. Det kan være i saker søker er ambassadepersonell, utenlandske ansatte eller fisker. Hvis det er andre arbeidsforhold må du kontakte arbeidsgiver eller søker for riktig registrering i AA-reg.","ArbeidOgInntektFaktaPanel.Skjaringstidspunkt":"Skjæringstidspunkt for opptjening: {skjæringspunktDato}","ArbeidOgInntektFaktaPanel.SettPaVent":"Sett på vent","ArbeidOgInntektFaktaPanel.Bekreft":"Bekreft og fortsett","ArbeidOgInntektFaktaPanel.LeggTilArbeidsforhold":" Legg til arbeidsforhold","ArbeidOgInntektFaktaPanel.ApneForNyVurdering":"Åpne for ny vurdering","ArbeidOgInntektFaktaPanel.ApneForNyRevurderingForklaring":'Ved å bruke "Åpne for ny vurdering" kan du endre valg som er gjort i dette panelet. Det som er gjort senere i saken, må gjøres på ny.',"ArbeidsforholdRad.Saksbehandler":"Saksbehandler","ArbeidsforholdRad.AaRegisteret":"A-ordningen","ArbeidsforholdRad.Inntektsmelding":"Inntektsmelding","ArbeidsforholdRad.Aksjonspunkt":"Åpent aksjonspunkt","ArbeidsforholdRad.Ok":"Arbeidsforhold er OK","ArbeidsforholdRad.Mottatt":"Mottatt","ArbeidsforholdRad.IkkeMottatt":"Ikke mottatt","InntektsmeldingInnhentesForm.MåInnhentes":"Må inntektsmelding innhentes?","InntektsmeldingInnhentesForm.TarKontakt":"Jeg tar kontakt med søker eller arbeidsgiver for å innhente inntektsmelding","InntektsmeldingInnhentesForm.GåVidere":"Gå videre uten inntektsmelding","InntektsmeldingInnhentesForm.Begrunn":"Begrunn valget","InntektsmeldingInnhentesForm.Kommentar":"Kommentar","InntektsmeldingInnhentesForm.Lagre":"Lagre","InntektsmeldingInnhentesForm.Avbryt":"Avbryt","InntektsmeldingInnhentesForm.AltHjelpetekst":"Hjelpetekst","InntektsmeldingInnhentesForm.HjelpetekstDel1":"Vi trenger inntektsmelding for å behandle saken. Kontakt arbeidsgiveren per telefon. Hvis kontaktinformasjonen til arbeidsgiver er vanskelig å finne, kontakt bruker først.","InntektsmeldingInnhentesForm.HjelpetekstDel2":"Det er kun unntaksvis at en sak skal behandles uten inntektsmelding, f.eks. at man etter gjentatte ganger ikke oppnår kontakt. Refusjon til arbeidsgiver er ikke mulig uten en inntektsmelding.","InntektsmeldingInnhentesForm.HjelpetekstDel3":"Dersom det er flere arbeidsforhold i samme virksomhet må det sendes en inntektsmelding som gjelder samlet for alle, eller én per arbeidsforhold med arbeidsforholdsID.","InntektsmeldingInnhentesForm.InnehentAlle":"Ved flere arbeidsforhold i samme virksomhet, skal alle inntektsmeldinger innhentes. Mottas ikke alle, må du vurdere om du skal gå videre uten alle inntektsmeldingene. Gjør du det, fjernes arbeidsforholdet (ene) fra beregningen.","InntektsmeldingOpplysningerPanel.Stillingsprosent":"Stillingsprosent","InntektsmeldingOpplysningerPanel.Inntektsmelding":"Inntektsmelding","InntektsmeldingOpplysningerPanel.Refusjon":"Refusjon","InntektsmeldingOpplysningerPanel.Ja":"Ja","InntektsmeldingOpplysningerPanel.Nei":"Nei","InntektsmeldingOpplysningerPanel.Refusjonsbeløp":"Refusjonsbeløp","InntektsmeldingOpplysningerPanel.Kontaktinfo":"Kontaktinfo","InntektsmeldingOpplysningerPanel.Tlf":"Tlf. {nr}","InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding":"Åpne inntektsmelding (PDF)","InntektsmeldingOpplysningerPanel.ArbeidsforholdId":"ID","ManglendeOpplysningerForm.ErMottattMenIkkeReg":"Inntektsmelding er mottatt, men arbeidsforholdet er ikke registrert i A-ordningen","ManglendeOpplysningerForm.SkalBrukeInntekstmelding":"Skal vi bruke denne inntektsmeldingen?","ManglendeOpplysningerForm.TarKontakt":"Jeg kontakter arbeidsgiver","ManglendeOpplysningerForm.GåVidere":"Se bort fra inntektsmeldingen","ManglendeOpplysningerForm.OpprettArbeidsforhold":"Opprett arbeidsforhold basert på inntektsmeldingen","ManglendeOpplysningerForm.Begrunn":"Begrunn valget","ManglendeOpplysningerForm.PeriodeFra":"Periode fra","ManglendeOpplysningerForm.PeriodeTil":"Periode til","ManglendeOpplysningerForm.Stillingsprosent":"Stillingsprosent","ManglendeOpplysningerForm.Lagre":"Lagre","ManglendeOpplysningerForm.Avbryt":"Avbryt","ManglendeOpplysningerForm.AltHjelpetekst":"Hjelpetekst","ManglendeOpplysningerForm.Hjelpetekst":"Det er kun unntaksvis at det skal opprettes manuelle arbeidsforhold basert på en inntektsmelding. Det kan være i saker hvor søker er ambassadepersonell, utenlandske ansatte eller fisker. Hvis det er andre arbeidsforhold må du kontakte arbeidsgiver eller søker for riktig registrering i AA-reg.","ArbeidsforholdInformasjonPanel.ArbeidsforholdId":"ID","ArbeidsforholdInformasjonPanel.Stillingsprosent":"Stillingsprosent","ArbeidsforholdInformasjonPanel.Periode":"Periode","ArbeidsforholdInformasjonPanel.ImMottatt":"Inntektsmelding mottatt","ArbeidsforholdInformasjonPanel.ImIkkeMottatt":"Ikke mottatt inntektsmelding","ArbeidsforholdInformasjonPanel.Inntekter":"Inntekter (fra A-ordningen)","ArbeidsforholdInformasjonPanel.TotaltInntekter":"Inntekter totalt fra virksomheten (fra A-ordningen)","ArbeidsforholdInformasjonPanel.1":"Jan","ArbeidsforholdInformasjonPanel.2":"Feb","ArbeidsforholdInformasjonPanel.3":"Mars","ArbeidsforholdInformasjonPanel.4":"Apr","ArbeidsforholdInformasjonPanel.5":"Mai","ArbeidsforholdInformasjonPanel.6":"Jun","ArbeidsforholdInformasjonPanel.7":"Jul","ArbeidsforholdInformasjonPanel.8":"Aug","ArbeidsforholdInformasjonPanel.9":"Sep","ArbeidsforholdInformasjonPanel.10":"Okt","ArbeidsforholdInformasjonPanel.11":"Nov","ArbeidsforholdInformasjonPanel.12":"Des","ArbeidsforholdInformasjonPanel.TidligereManeder":"Tidligere måneder ","ArbeidsforholdInformasjonPanel.FaerreManeder":"Siste måneder ","ArbeidsforholdInformasjonPanel.IngenInntekt":"Ingen inntekt registrert på bruker i A-ordningen siste seks mnd.","ArbeidsforholdInformasjonPanel.ÅpneInntektsmelding":"Åpne inntektsmelding (PDF)","ArbeidsforholdInformasjonPanel.ApneImInfo":"Vis mer","ArbeidsforholdInformasjonPanel.LukkeImInfo":"Vis mindre","ArbeidsforholdInformasjonPanel.Orgnr":"Org.nr.","ArbeidsforholdInformasjonPanel.Fodselsdato":"Fødselsdato","LeggTilArbeidsforholdForm.LeggTilArbeidsforhold":"Legg til arbeidsforhold","LeggTilArbeidsforholdForm.Arbeidsgiver":"Navn på arbeidsgiver","LeggTilArbeidsforholdForm.PeriodeFra":"Periode fra","LeggTilArbeidsforholdForm.PeriodeTil":"Periode til","LeggTilArbeidsforholdForm.Stillingsprosent":"Stillingsprosent","LeggTilArbeidsforholdForm.Begrunn":"Begrunn endringene","LeggTilArbeidsforholdForm.Lagre":"Lagre","LeggTilArbeidsforholdForm.Avbryt":"Avbryt","LeggTilArbeidsforholdForm.Slett":"Slett","NyttArbeidsforholdForm.VilDuSlette":"Vil du slette arbeidsforholdet?","ExpandableTableRow.Apne":"Åpne rad","ExpandableTableRow.Lukke":"Lukk rad"},px=Me(cx),wm=({saksnummer:e,behandling:n,submitCallback:r,aksjonspunkter:t,readOnly:i,formData:s,setFormData:a,arbeidOgInntekt:l,arbeidsgiverOpplysningerPerId:o,registrerArbeidsforhold:k,lagreVurdering:u,erOverstyrer:f,settBehandlingPåVentCallback:c,alleKodeverk:b,åpneForNyVurdering:x})=>v.jsx(Ze,{value:px,children:v.jsx(rj,{children:v.jsx(vx,{saksnummer:e,behandling:n,aksjonspunkt:t.length>0?t[0]:void 0,readOnly:i,formData:s,lagreCallback:r,setFormData:a,arbeidOgInntekt:l,arbeidsgiverOpplysningerPerId:o,registrerArbeidsforhold:k,lagreVurdering:u,erOverstyrer:f,settBehandlingPåVentCallback:c,alleKodeverk:b,åpneForNyVurdering:x})})});wm.__docgenInfo={description:"",methods:[],displayName:"vs"};const hx=[ue.VURDER_ARBEIDSFORHOLD_INNTEKTSMELDING],bx=[Je.ARBEID_OG_INNTEKT],ig=({saksnummer:e,behandlingUuid:n,arbeidsgiverOpplysningerPerId:r,rettigheter:t,hentOgSettBehandling:i,...s})=>{const a=te(),{startRequest:l}=Yi.useRestApiRunner(Je.ARBEID_OG_INNTEKT_REGISTRER_ARBEIDSFORHOLD),{startRequest:o}=Yi.useRestApiRunner(Je.ARBEID_OG_INNTEKT_LAGRE_VURDERING),{startRequest:k}=Yi.useRestApiRunner(Je.BEHANDLING_ON_HOLD),{startRequest:u}=Yi.useRestApiRunner(Je.ARBEID_OG_INNTEKT_ÅPNE_FOR_NY_VURDERING),f=j.useCallback(()=>{u({behandlingUuid:n,behandlingVersjon:s.behandling.versjon}).then(()=>i())},[s.behandling.versjon]),c=j.useCallback(b=>k({frist:b.frist||"",ventearsak:b.ventearsak,behandlingUuid:n,behandlingVersjon:s.behandling.versjon}).then(()=>i()),[s.behandling.versjon]);return $e.jsx(Sr,{...s,panelEndepunkter:bx,aksjonspunktKoder:hx,faktaPanelKode:yr.ARBEID_OG_INNTEKT,faktaPanelMenyTekst:a.formatMessage({id:"ArbeidOgInntektInfoPanel.Title"}),skalPanelVisesIMeny:()=>yl.hasPath(Je.ARBEID_OG_INNTEKT.name)&&!s.behandling.aksjonspunkt.some(b=>ue.AVKLAR_ARBEIDSFORHOLD===b.definisjon),renderPanel:b=>$e.jsx(wm,{saksnummer:e,arbeidsgiverOpplysningerPerId:r,erOverstyrer:t.kanOverstyreAccess.isEnabled,registrerArbeidsforhold:l,lagreVurdering:o,settBehandlingPåVentCallback:c,åpneForNyVurdering:f,...b})})};try{ig.displayName="ArbeidOgInntektFaktaInitPanel",ig.__docgenInfo={description:"",displayName:"ArbeidOgInntektFaktaInitPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},behandlingUuid:{defaultValue:null,description:"",name:"behandlingUuid",required:!0,type:{name:"string"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},rettigheter:{defaultValue:null,description:"",name:"rettigheter",required:!0,type:{name:"AksessRettigheter"}},hentOgSettBehandling:{defaultValue:null,description:"",name:"hentOgSettBehandling",required:!0,type:{name:"() => void"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}var an=(e=>(e.FORDEL_BEREGNINGSGRUNNLAG="FORDEL_BG",e.VURDER_REFUSJON_BERGRUNN="VURDER_REFUSJONSKRAV",e.VURDER_NYTT_INNTKTSFRHLD="VURDER_NYTT_INNTKTSFRHLD",e))(an||{}),jx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Um(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cm={exports:{}},Dt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function xx(){if(sg)return Dt;sg=1;var e=K,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,o,k){var u,f={},c=null,b=null;k!==void 0&&(c=""+k),o.key!==void 0&&(c=""+o.key),o.ref!==void 0&&(b=o.ref);for(u in o)t.call(o,u)&&!s.hasOwnProperty(u)&&(f[u]=o[u]);if(l&&l.defaultProps)for(u in o=l.defaultProps,o)f[u]===void 0&&(f[u]=o[u]);return{$$typeof:n,type:l,key:c,ref:b,props:f,_owner:i.current}}return Dt.Fragment=r,Dt.jsx=a,Dt.jsxs=a,Dt}Cm.exports=xx();var p=Cm.exports;const Xt=e=>e?`...${e.substring(e.length-4,e.length)}`:"",ki=(e,n)=>{const{navn:r,fødselsdato:t,erPrivatPerson:i,identifikator:s}=e;return i?t?`${r} (${A(t).format(ie)})${Xt(n)}`:r:s?`${r} (${s})${Xt(n)}`:r},Fl=(e,n)=>{var r,t;const i=((r=e.arbeidsgiver)==null?void 0:r.arbeidsgiverOrgnr)||((t=e.arbeidsgiver)==null?void 0:t.arbeidsgiverAktørId);if(!i||!n[i])return"";const s=n[i];return s.erPrivatPerson?s.fødselsdato?`${s.navn} (${A(s.fødselsdato).format(ie)})${Xt(e.eksternArbeidsforholdRef)}`:`${s.navn}${Xt(e.eksternArbeidsforholdRef)}`:`${s.navn} (${i})${Xt(e.eksternArbeidsforholdRef)}`},Ix="_tabell_u17gc_1",Ax="_fadein_u17gc_1",Tx="_correctPadding_u17gc_9",Ex="_flexColumn12_u17gc_12",yx="_flexColumn9_u17gc_15",_x="_flexColumn3_u17gc_18",$s={tabell:Ix,fadein:Ax,correctPadding:Tx,flexColumn12:Ex,flexColumn9:yx,flexColumn3:_x},Sx=(e,n)=>e.map(r=>p.jsx(L,{className:$s.correctPadding,children:p.jsx(E,{children:r&&r.erTildeltRefusjon?p.jsx(_,{size:"small",children:n}):p.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Direkteutbetaling"})})},`${n}_(${r.fom}_(${r.erTildeltRefusjon})`)),Fx=e=>{if(!e)return;const n=e.tom===Xe?void 0:e.tom;return p.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Periode",values:{fom:We(e.fom),tom:n?We(n):""}})},Nx=e=>e.map(n=>p.jsx(L,{className:$s.correctPadding,children:p.jsx(E,{children:Fx(n)})},`${n.fom}_(${n.erTildeltRefusjon})`)),Rx=({refusjonAndel:e,arbeidsgiverOpplysningerPerId:n})=>p.jsxs(nn,{children:[p.jsx(W,{children:Fl(e,n)}),p.jsx(W,{children:Sx(e.tidligereUtbetalinger||[],Fl(e,n))}),p.jsx(W,{children:Nx(e.tidligereUtbetalinger||[])})]}),Px=e=>e.arbeidsgiver?e.arbeidsgiver.arbeidsgiverAktørId?`${e.arbeidsgiver.arbeidsgiverAktørId}${e.internArbeidsforholdRef})`:`${e.arbeidsgiver.arbeidsgiverOrgnr}${e.internArbeidsforholdRef})`:`${e.aktivitetStatus}${e.internArbeidsforholdRef})`,Bx=({beregningsgrunnlag:e,arbeidsgiverOpplysningerPerId:n})=>{var r;const t=((r=e.refusjonTilVurdering)==null?void 0:r.andeler)||[];return p.jsx(L,{children:p.jsx(E,{className:$s.flexColumn9,children:p.jsx(kn,{headerTextCodes:["BeregningInfoPanel.RefusjonBG.Aktivitet","BeregningInfoPanel.RefusjonBG.TidligereUtb","BeregningInfoPanel.RefusjonBG.GjeldendeFra"],noHover:!0,classNameTable:$s.tabell,children:t.map(i=>p.jsx(Rx,{arbeidsgiverOpplysningerPerId:n,refusjonAndel:i},Px(i)))})})})},Ox="_marginTopp_pc86y_1",$x="_bredde_pc86y_4",Vx="_flexColumn9_pc86y_7",Dx="_flexColumn3_pc86y_10",tr={marginTopp:Ox,bredde:$x,flexColumn9:Vx,flexColumn3:Dx},Gx="REFUSJON_ENDRING_DATO",Lx="DELVIS_REFUSJON_FØR_START_BELØP",Ym=(e,n)=>n.arbeidsgiver?n.arbeidsgiver.arbeidsgiverOrgnr?`${e}${n.arbeidsgiver.arbeidsgiverOrgnr}${n.internArbeidsforholdRef}`:`${e}${n.arbeidsgiver.arbeidsgiverAktørId}${n.internArbeidsforholdRef}`:`${e}${n.aktivitetStatus}${n.internArbeidsforholdRef})`,Vs=e=>Ym(Gx,e),Vd=e=>Ym(Lx,e),Mx=(e,n)=>n?new Date(n).getTime()===new Date(e).getTime():!1,mi=({refusjonAndel:e,readOnly:n,erAksjonspunktÅpent:r,arbeidsgiverOpplysningerPerId:t,skjæringstidspunkt:i,vilkårperiodeFieldIndex:s})=>{const a=Fl(e,t),l=e.skalKunneFastsetteDelvisRefusjon?"BeregningInfoPanel.RefusjonBG.TidligereRefusjon":"BeregningInfoPanel.RefusjonBG.IngenTidligereRefusjon",o=je().watch(`VURDER_REFUSJON_BERGRUNN_FORM.${s}.${Vs(e)}`),k=Mx(i,o),u=j.useCallback(f=>p.jsx("b",{children:f}),[]);return p.jsxs(p.Fragment,{children:[p.jsx(L,{children:p.jsx(E,{className:tr.flexColumn9,children:p.jsx(m,{id:l,values:{ag:a,dato:We(e.nyttRefusjonskravFom),b:u}})})}),p.jsxs(L,{children:[p.jsx(E,{className:tr.flexColumn3,children:p.jsx(_,{size:"small",className:tr.marginTopp,children:p.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.RefusjonFra"})})}),p.jsx(E,{className:tr.flexColumn3,children:p.jsx(or,{name:`VURDER_REFUSJON_BERGRUNN_FORM.${s}.${Vs(e)}`,isReadOnly:n,validate:n?[]:[X,Sn,xd(e.tidligsteMuligeRefusjonsdato)],isEdited:!!e.fastsattNyttRefusjonskravFom&&!r})})]}),e.skalKunneFastsetteDelvisRefusjon&&!k&&e.maksTillattDelvisRefusjonPrMnd&&p.jsxs(L,{children:[p.jsx(E,{className:tr.flexColumn3,children:p.jsx(_,{size:"small",className:tr.marginTopp,children:p.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.DelvisPrMnd"})})}),p.jsx(E,{className:tr.flexColumn3,children:p.jsx(xe,{name:`VURDER_REFUSJON_BERGRUNN_FORM.${s}.${Vd(e)}`,className:tr.bredde,validate:n?[]:[X,uh(1),ln(e.maksTillattDelvisRefusjonPrMnd)],parse:Ne,readOnly:n,isEdited:!!e.fastsattDelvisRefusjonPrMnd&&!r})})]})]})};mi.buildInitialValues=e=>{const n={};return n[Vs(e)]=e.fastsattNyttRefusjonskravFom||"",n[Vd(e)]=q(e.fastsattDelvisRefusjonPrMnd)||"",n};mi.transformValues=(e,n,r)=>{var t,i;const s=Vs(n),a=e[s];let l;if(n.skalKunneFastsetteDelvisRefusjon&&a!==r){const o=Vd(n);l=me(e[o])}return{arbeidsgiverOrgnr:(t=n.arbeidsgiver)==null?void 0:t.arbeidsgiverOrgnr,arbeidsgiverAktoerId:(i=n.arbeidsgiver)==null?void 0:i.arbeidsgiverAktørId,internArbeidsforholdRef:n.internArbeidsforholdRef,fastsattRefusjonFom:a,delvisRefusjonPrMndFørStart:l}};const Kx="_begrunnelseTextField_1wq9u_1",wx="_explanationTextarea_1wq9u_4",Ux="_explanationTextareaReadOnly_1wq9u_7",Ba={begrunnelseTextField:Kx,explanationTextarea:wx,explanationTextareaReadOnly:Ux},Dd={"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.EndringYtelse":"Endring i søkt ytelse for {arbeidsforhold}. ","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.Refusjon":"Nytt refusjonskrav hos {arbeidsforhold}. ","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.Gradering":"Søkt gradering hos {arbeidsforhold}. ","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.Permisjon":"Permisjon avsluttet hos {arbeidsforhold}","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.FastsetÅrsbeløp":"Fastsett årsbeløp for ny fordeling av beregningsgrunnlaget.","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.TilkommetAktivitet":"<b>Tilkommet aktivitet</b> {br} Vurder om beregningsgrunnlaget skal flyttes til ny aktivitet eller fordeles mellom aktivitetene.","FordelBeregningsgrunnlag.Validation.KanIkkeHaNullIBeregningsgrunnlag":"Fastsatt beløp for gradert andel må være høyere enn 0.","BeregningInfoPanel.FordelingBG.LeggTilAndel":"Legg til aktivitet","BeregningInfoPanel.FordelingBG.Ytelse":"Ytelse","BeregningInfoPanel.FordelBG.PeriodeFom":"{fom} - ","BeregningInfoPanel.FordelBG.PeriodeFomOgTom":"{fom} - {tom}","BeregningInfoPanel.FordelBG.Andel":"Aktivitet","BeregningInfoPanel.FordelBG.AndelIArbeid":"Andel i arbeid","BeregningInfoPanel.FordelBG.Refusjonskrav":"Ref.krav","BeregningInfoPanel.FordelBG.Fordeling":"Ny fordeling","BeregningInfoPanel.FordelBG.Inntektskategori":"Inntektskategori","BeregningInfoPanel.FordelBG.Sum":"Sum","BeregningInfoPanel.FordelBG.Validation.LikFordeling":"Summen må være lik {fordeling}","BeregningInfoPanel.FordelBG.Validation.TotalRefusjonSkalIkkeOverstige":"Total refusjon må vere lavere enn {seksG}","BeregningInfoPanel.FordelBG.Validation.TotalFordelingLavereEnn":"Total fordeling for følgende andeler må være lavere enn {seksG}: {andelsliste}","BeregningInfoPanel.FordelBG.Validation.UlikeAndeler":"Andeler for samme aktivitet må ha ulik inntektskategori","BeregningInfoPanel.FordelBG.Validation.IkkjeHogereRefusjonEnnInntektsmelding":"Total refusjon for {arbeidsgiver} kan ikke være høyere enn beløpet fra inntektsmeldingen.","BeregningInfoPanel.FordelBG.Inntekt":"Inntekt","BeregningInfoPanel.FordelBG.Beregningsgrunnlag":"Grunnlag","BeregningInfoPanel.RefusjonBG.Tittel":"Endring i refusjon","BeregningInfoPanel.RefusjonBG.Aktivitet":"Aktivitet","BeregningInfoPanel.RefusjonBG.TidligereUtb":"Tidligere utbetalinger","BeregningInfoPanel.RefusjonBG.GjeldendeFra":"Gjelder fra","BeregningInfoPanel.RefusjonBG.Direkteutbetaling":"Direkte utbetaling","BeregningInfoPanel.RefusjonBG.Periode":"{fom} - {tom}","BeregningInfoPanel.RefusjonBG.IngenTidligereRefusjon":"<b>{ag}</b> krever refusjon fra og med {dato}","BeregningInfoPanel.RefusjonBG.TidligereRefusjon":"<b>{ag}</b> krever refusjon fra og med {dato}. Det er tidligere innvilget et lavere refusjonsbeløp","BeregningInfoPanel.RefusjonBG.RefusjonFra":"Refusjonsbeløpet skal gjelde fra og med","BeregningInfoPanel.RefusjonBG.Aksjonspunkt":"Nytt refusjonskrav overlapper tidligere utbetalinger. Sett endringsdato for ny refusjon.","BeregningInfoPanel.RefusjonBG.DelvisPrMnd":"Før denne datoen skal refusjonsbeløpet per måned være","BeregningInfoPanel.TilkommetAktivitet.Aktivitet":"Aktivitet","BeregningInfoPanel.TilkommetAktivitet.Periode":"Inntektsperiode","BeregningInfoPanel.TilkommetAktivitet.Årsinntekt":"Årsinntekt","BeregningInfoPanel.TilkommetAktivitet.RedusererUtbetaling":"Reduserer inntektstap","BeregningInfoPanel.TilkommetAktivitet.Ja":"Ja","BeregningInfoPanel.TilkommetAktivitet.Nei":"Nei","BeregningInfoPanel.TilkommetAktivitet.VurderTekstNæring":"Har søker inntekt fra den nye næringsaktiviteten som reduserer søkers inntektstap?","BeregningInfoPanel.TilkommetAktivitet.VurderTekstFrilans":"Har søker inntekt fra den nye frilanseraktiviteten som reduserer søkers inntektstap?","BeregningInfoPanel.TilkommetAktivitet.VurderTekstArbeid":"Har søker inntekt fra {arbeidsforhold} som reduserer søkers inntektstap?","BeregningInfoPanel.TilkommetAktivitet.Fastsett":"Fastsett årsinntekt","BeregningInfoPanel.TilkommetAktivitet.LesMer":"Hvordan fastsette årsinntekten?","BeregningInfoPanel.TilkommetAktivitet.LesMerArbeid":"Kontakt bruker for å dokumentere inntekten i det nye arbeidsforholdet. Enten ved å be arbeidsgiver sende inn inntektsmelding eller så kan bruker selv dokumenterer inntekten med arbeidskontrakt, lønnsslipper eller lignende. {br}{br}Dersom arbeidsforholdet har vart så lenge at utbetalt lønn er rapportert i a-ordningen, kan § 8-28 filtret benyttes for å fastsette årsinntekten. Hvis mulig,  benytt de 3 siste månedene og regn om til årsinntekt. Dersom arbeidsforholdet har vart kortere, kan du benytte en kortere periode.","BeregningInfoPanel.TilkommetAktivitet.LesMerFrilans":"Kontakt bruker for å dokumentere hva inntekten utgjør hvis det ikke er rapportert inntekt fra frilansoppdrag i a-ordningen. {br}{br}Hvis oppdraget har vart så lenge at inntekten er rapportert i a-ordningen, kan § 8-28 filtret benyttes for å fastsette årsinntekten. Benytt de 3 siste månedene hvis mulig og regn om til årsinntekt. Hvis oppdraget har vart kortere, kan du benytte en kortere periode.","BeregningInfoPanel.TilkommetAktivitet.LesMerNæring":"Benytt opplysninger oppgitt av bruker i søknaden, eller be bruker sannsynliggjøre forventet inntekt.","BeregningInfoPanel.TilkommetAktivitet.Alert":"Utgangspunktet er at all tilkommet aktivitet med inntekt skal føre til reduksjon i utbetaling. Det kan likevel være feil eller mangler i opplysningene fra AA-registeret. F. eks. internt bytte av org. nummer pga. endret lønns- og personalsystem eller manglende registrert sluttdato i gammel stilling ved overgang til ny stilling. Gjør derfor en konkret vurdering av hvorfor tilkommet aktivitet og inntekt ikke skal føre til reduksjon.","FaktaBegrunnelseTextField.BegrunnEndringene":"Begrunn endringene","SubmitButton.ConfirmInformation":"Bekreft og fortsett","HelpText.Aksjonspunkt.BehandletAksjonspunkt":"Behandlet aksjonspunkt: ","TilkommetAktivitet.AksjonspunktAlert":"Inntekter som kommer til underveis i en løpende pleiepengeperiode er ikke en del av søkers beregningsgrunnlag. Dersom inntekten reduserer søkers inntektstap, må det vurderes om pleiepengene skal graderes mot den nye inntekten.","TilkommetAktivitet.AksjonspunktHelpText":"Vurder om pleiepengene skal reduseres på grunn av den nye inntekten.","TilkommetAktivitet.Heading":"Perioder med ny aktivitet","TilkommetAktivitet.Modal.Knapp":"Del opp periode","TilkommetAktivitet.Modal.Tittel":"Del opp periode","TilkommetAktivitet.Modal.Select":"Hvilken periode ønsker du å dele opp?","TilkommetAktivitet.Modal.DatoValg":"Opprett ny vurdering fra","TilkommetAktivitet.Modal.Resultat":"Nye perioder til vurdering:","TilkommetAktivitet.Modal.Placeholder":"Velg periode","TilkommetAktivitet.Modal.Periode":"{fom} - {tom}","TilkommetAktivitet.Modal.DelOppKnapp":"Del opp periode","TilkommetAktivitet.Modal.AvbrytKnapp":"Avbryt","TilkommetAktivitet.AlertHeading.FlereStatuser":"Søker har nye aktiviteter","TilkommetAktivitet.AlertHeading.SelvstendigNæringsdrivende":"Søker har opplyst om ny inntekt som selvstendig næringsdrivende.","TilkommetAktivitet.AlertHeading.Frilans":"Søker har en ny frilansaktivitet i AA-registeret.","TilkommetAktivitet.AlertHeading.Arbeidsforhold":"Søker har et nytt arbeidsforhold i AA-registeret","Fordeling.VurdertTidligere":"Vurdert i en tidligere behandling","BeregningInfoPanel.TilkommetAktivitet.TomTekst":" "},ag=Me(Dd),Cx=Rn(3),Yx=Pn(1500),jt=({isReadOnly:e,isSubmittable:n,hasBegrunnelse:r,label:t,hasVurderingText:i,name:s})=>{const a=i?"FaktaBegrunnelseTextField.Vurdering":"FaktaBegrunnelseTextField.BegrunnEndringene",l=t||ag.formatMessage({id:a});return p.jsx(Ze,{value:ag,children:(n||r)&&p.jsx("div",{className:Ba.begrunnelseTextField,children:p.jsx(un,{name:s,label:e?"":l,validate:e?[]:[X,Cx,Yx,Nn],className:e?Ba.explanationTextareaReadOnly:Ba.explanationTextarea,maxLength:1500,readOnly:e})})})};jt.defaultProps={name:"begrunnelse",hasVurderingText:!1};const zx=e=>e&&e.begrunnelse?e.begrunnelse:"";jt.buildInitialValues=(e,n="begrunnelse")=>({[n]:ta(zx(e))});jt.transformValues=(e,n="begrunnelse")=>({begrunnelse:e[n]});const Hx=Me(Dd),Jx=(e,n,r)=>!r||n?!0:!e,ka=({isReadOnly:e,isSubmittable:n,onClick:r,isSubmitting:t,isDirty:i})=>e?null:p.jsx(se,{size:"small",loading:t,disabled:Jx(i,t,n),onClick:r||ia,type:r?"button":"submit",children:Hx.formatMessage({id:"SubmitButton.ConfirmInformation"})}),lg="VURDER_REFUSJON_BERGRUNN_FORM",{VURDER_REFUSJON_BERGRUNN:qx}=an,zm=e=>e?e.find(n=>n.definisjon===qx):void 0,Wx=e=>e.arbeidsgiver?e.arbeidsgiver.arbeidsgiverAktørId?`${e.arbeidsgiver.arbeidsgiverAktørId}${e.internArbeidsforholdRef})`:`${e.arbeidsgiver.arbeidsgiverOrgnr}${e.internArbeidsforholdRef})`:`${e.aktivitetStatus}${e.internArbeidsforholdRef})`,Zx=(e,n)=>{var r;const t=((r=e.refusjonTilVurdering)==null?void 0:r.andeler)||[],i=zm(e.avklaringsbehov);let s={beregningsgrunnlagStp:e.skjaeringstidspunktBeregning,periode:n.periode,begrunnelse:i&&i.begrunnelse?i.begrunnelse:void 0};return t.forEach(a=>{s={...s,...mi.buildInitialValues(a)}}),s},Xx=(e,n)=>{var r;const t=(((r=n.refusjonTilVurdering)==null?void 0:r.andeler)||[]).map(i=>mi.transformValues(e,i,n.skjaeringstidspunktBeregning));return{periode:e.periode,begrunnelse:e.begrunnelse,fastsatteAndeler:t}},Qx=({submittable:e,readOnly:n,beregningsgrunnlag:r,arbeidsgiverOpplysningerPerId:t,vilkårperiodeFieldIndex:i,formSubmittes:s})=>{var a;const l=!r.avklaringsbehov.some(b=>b.definisjon===an.VURDER_REFUSJON_BERGRUNN),o=((a=r.refusjonTilVurdering)==null?void 0:a.andeler)||[],k=zm(r.avklaringsbehov),u=k?rn(k.status):!1,f=je(),c=f.watch(`VURDER_REFUSJON_BERGRUNN_FORM.${i}.begrunnelse`);return p.jsxs(p.Fragment,{children:[p.jsx(oa,{isAksjonspunktOpen:u,children:[p.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Aksjonspunkt"},"aksjonspunktText")]}),p.jsx(I,{sixteenPx:!0}),p.jsx(oe,{size:"small",children:p.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Tittel"})}),p.jsx(I,{sixteenPx:!0}),p.jsx(Bx,{beregningsgrunnlag:r,arbeidsgiverOpplysningerPerId:t}),o.map(b=>p.jsx(mi,{refusjonAndel:b,readOnly:l||n,erAksjonspunktÅpent:u,arbeidsgiverOpplysningerPerId:t,skjæringstidspunkt:r.skjaeringstidspunktBeregning,formName:lg,vilkårperiodeFieldIndex:i},Wx(b))),p.jsx(I,{twentyPx:!0}),p.jsx(jt,{name:`${lg}.${i}.begrunnelse`,isSubmittable:e,isReadOnly:l||n,hasBegrunnelse:!!c}),p.jsx(I,{twentyPx:!0}),p.jsx(ka,{isSubmittable:e,isReadOnly:l||n,isSubmitting:s,isDirty:f.formState.isDirty}),p.jsx(I,{sixteenPx:!0})]})};function fi(e,n){const r=e.find(t=>t.periode.fom===n);if(!r)throw Error(`Mangler vilkårsperiode for vilkårsperiodeFom ${n}`);return r}function Or(e,n){return fi(e,n).vurderesIBehandlingen}const Ds="VURDER_REFUSJON_BERGRUNN_FORM",{VURDER_REFUSJON_BERGRUNN:eI}=an,nI=(e,n)=>({[Ds]:e.map(r=>Zx(r,fi(n,r.vilkårsperiodeFom)))}),rI=(e,n)=>{const r=n.find(t=>t.vilkårsperiodeFom===e);if(!r)throw Error(`Mangler beregningsgrunnlag for vilkårsperiodeFom ${e}`);return r},tI=(e,n,r)=>{const t=e[Ds].filter(i=>Or(r,i.periode.fom)).map(i=>Xx(i,rI(i.periode.fom,n)));return{begrunnelse:t.map(i=>i.begrunnelse).reduce((i,s)=>i!==null?`${i} ${s}`:s),grunnlag:t,kode:eI}},iI=({aktivtBeregningsgrunnlagIndeks:e,submittable:n,readOnly:r,beregningsgrunnlagListe:t,vilkarperioder:i,arbeidsgiverOpplysningerPerId:s,setFormData:a,formData:l,submitCallback:o,setRefusjonFormIsDirty:k})=>{const u=Qe({defaultValues:l!=null&&l.VURDER_REFUSJON_BERGRUNN_FORM?l:nI(t,i)}),[f,c]=j.useState(!1),{formState:{dirtyFields:b,isSubmitted:x,errors:T,isDirty:N},control:S,trigger:B}=u;j.useEffect(()=>{k(N)},[N]),j.useEffect(()=>{var O;x&&(O=b[Ds])!=null&&O[e]&&B()},[e]);const{fields:y}=ze({name:Ds,control:S});return p.jsx(yd,{errorMessage:"Noe gikk galt ved visning av refusjon",children:p.jsx(en,{formMethods:u,onSubmit:O=>{Object.keys(T).length===0&&(c(!0),o(tI(O,t,i)))},setDataOnUnmount:a,children:y.map(O=>{const $=t.findIndex(D=>D.skjaeringstidspunktBeregning===O.beregningsgrunnlagStp);return p.jsx("div",{style:{display:$===e?"block":"none"},children:p.jsx(Qx,{submittable:n,readOnly:r||!Or(i,t[$].vilkårsperiodeFom),beregningsgrunnlag:t[$],arbeidsgiverOpplysningerPerId:s,vilkårperiodeFieldIndex:$,formSubmittes:f})},O.id)})})})},{FORDEL_BEREGNINGSGRUNNLAG:sI}=an,aI=(e,n)=>n.some(r=>r.definisjon===e),lI=(e,n,r,t)=>{const i=[];return t.length===0&&n.length===0&&e.length===0&&r.length===0||i.push(p.jsx(m,{id:"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.TilkommetAktivitet",values:{b:(...s)=>p.jsx("b",{children:s}),br:p.jsx("br",{})}},"EndringBeregningsgrunnlagFastsetÅrsbeløp")),i},dI=e=>e.map(({erRefusjon:n})=>n).includes(!0)||e.map(({erGradering:n})=>n).includes(!0),oI=e=>{const n=e.filter(({perioderMedGraderingEllerRefusjon:s})=>s==null?void 0:s.map(({erGradering:a})=>a).includes(!0)),r=e.filter(({perioderMedGraderingEllerRefusjon:s})=>s==null?void 0:s.map(({erRefusjon:a})=>a).includes(!0)),t=e.filter(({permisjon:s})=>s!=null).filter(({perioderMedGraderingEllerRefusjon:s})=>dI(s||[])),i=e.filter(({perioderMedGraderingEllerRefusjon:s})=>s==null?void 0:s.map(({erSøktYtelse:a})=>a).includes(!0));return lI(n,r,t,i)},gI=e=>{var n,r;const t=((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.arbeidsforholdTilFordeling)||[];return aI(sI,e.avklaringsbehov)?oI(t):[]},uI=({isAksjonspunktClosed:e,beregningsgrunnlag:n})=>{const r=gI(n);return p.jsx(oa,{isAksjonspunktOpen:!e,children:r})};var Hm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var t=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var a=typeof s;if(a==="string"||a==="number")t.push(this&&this[s]||s);else if(Array.isArray(s))t.push(r.apply(this,s));else if(a==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){t.push(s.toString());continue}for(var l in s)n.call(s,l)&&s[l]&&t.push(this&&this[l]||l)}}}return t.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Hm);var kI=Hm.exports;const Jm=Um(kI),qm=" - ",Wm=e=>e==null,mI=e=>{if(e.length===0)return"";if(e.length===1)return`${parseFloat(e[0]).toFixed(2)}`;const n=Math.min(...e),r=Math.max(...e);return`${n}${qm}${r}`},fI=e=>e.inntektskategori&&e.inntektskategori!==hn.UDEFINERT?e.inntektskategori:"",vI=(e,n,r,t)=>{var i,s;if(!e.aktivitetStatus||e.aktivitetStatus===R.UDEFINERT)return"";if(e.aktivitetStatus===R.ARBEIDSTAKER&&e.arbeidsforhold){const a=e.arbeidsforhold.arbeidsgiverIdent?t[e.arbeidsforhold.arbeidsgiverIdent]:void 0;return a?ki(a,e.arbeidsforhold.eksternArbeidsforholdId):e.arbeidsforhold.arbeidsforholdType&&((i=r[be.OPPTJENING_AKTIVITET_TYPE].find(l=>{var o;return l.kode===((o=e.arbeidsforhold)==null?void 0:o.arbeidsforholdType)}))==null?void 0:i.kode)||""}return n&&e.aktivitetStatus===R.BRUKERS_ANDEL?"Ytelse":((s=r[be.AKTIVITET_STATUS].find(a=>a.kode===e.aktivitetStatus))==null?void 0:s.navn)||""},cI=e=>Wm(e)?void 0:e,dg=e=>q(e)||"",pI=(e,n,r)=>e!==void 0?dg(e):r&&!Wm(n)?dg(n):"",hI=e=>({arbeidsgiverId:e.arbeidsforhold&&e.arbeidsforhold.arbeidsgiverIdent?e.arbeidsforhold.arbeidsgiverIdent:"",eksternArbeidsforholdId:e.arbeidsforhold&&e.arbeidsforhold.eksternArbeidsforholdId?e.arbeidsforhold.eksternArbeidsforholdId:"",arbeidsforholdId:e.arbeidsforhold&&e.arbeidsforhold.arbeidsforholdId?e.arbeidsforhold.arbeidsforholdId:"",arbeidsperiodeFom:e.arbeidsforhold?e.arbeidsforhold.startdato:"",arbeidsperiodeTom:e.arbeidsforhold&&e.arbeidsforhold.opphoersdato!==null?e.arbeidsforhold.opphoersdato:"",arbeidsforholdType:e.arbeidsforholdType}),bI=(e,n,r,t)=>({andel:vI(e,n,r,t),aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,nyAndel:!1,kilde:e.kilde==null?void 0:e.kilde,lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler===!0,inntektskategori:fI(e),forrigeInntektskategori:!e.inntektskategori||e.inntektskategori===hn.UDEFINERT?void 0:e.inntektskategori}),Zm=(e,n,r,t,i)=>{if(n.skalRedigereInntekt){const s=t(`FORDEL_BEREGNING_FORM.${e}.${r}.${i}.fastsattBelop`);return s?me(s):0}return n.readOnlyBelop?me(n.readOnlyBelop):0},jI=e=>e?Number(me(e)):0,xI=e=>e.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.UlikeAndeler"}),II=(e,n)=>e.inntektskategori===n.inntektskategori&&e.arbeidsgiverIdent===n.arbeidsgiverIdent&&e.aktivitetstatus===n.aktivitetstatus&&e.arbeidsforholdId===n.arbeidsforholdId,AI=(e,n)=>e.some(r=>II(n,r)),TI=(e,n)=>{const r=e.find(t=>t.andelsnr===n);if(!r)throw new Error(`Finner ikke field med andelsnr ${n}`);return r},EI=(e,n,r,t)=>{const i=[];return t.forEach((s,a)=>{if(s.nyAndel&&(s.andelsnrRef||s.andelsnrRef===0)){const l=TI(t,s.andelsnrRef);i.push({erNyAndel:s.nyAndel,aktivitetstatus:s.aktivitetStatus,inntektskategori:n(`FORDEL_BEREGNING_FORM.${e}.${r}.${a}.inntektskategori`),arbeidsgiverIdent:l.arbeidsgiverId,arbeidsforholdId:l.arbeidsforholdId})}else i.push({erNyAndel:s.nyAndel,aktivitetstatus:s.aktivitetStatus,inntektskategori:s.inntektskategori,arbeidsgiverIdent:s.arbeidsgiverId,arbeidsforholdId:s.arbeidsforholdId})}),i},yI=(e,n,r,t,i)=>{const s=EI(e,n,r,t),a=[];let l=!1;return s.forEach(o=>{AI(a,o)&&(l=!0),a.push(o)}),l?xI(i):void 0},_I=(e,n)=>(!!e.refusjonskravFraInntektsmelding||e.refusjonskravFraInntektsmelding===0)&&(!!n.refusjonskravFraInntektsmelding||n.refusjonskravFraInntektsmelding===0)&&n.refusjonskravFraInntektsmelding<e.refusjonskravFraInntektsmelding,SI=(e,n,r,t,i,s)=>{const a=s.findIndex(({arbeidsforholdId:o,arbeidsgiverId:k})=>o===t.arbeidsforholdId&&k===t.arbeidsgiverId),l=n(`FORDEL_BEREGNING_FORM.${e}.${r}.${i}.refusjonskrav`);if(a>=0){const o=s[a];_I(t,o)&&(o.refusjonskravFraInntektsmelding=t.refusjonskravFraInntektsmelding),l!=null&&(o.totalRefusjon+=Number(me(l)))}else{const{refusjonskravFraInntektsmelding:o,arbeidsforholdId:k,arbeidsgiverId:u,eksternArbeidsforholdId:f}=t;let c=0;l!=null&&(c=Number(me(l))),s.push({arbeidsforholdId:k,eksternArbeidsforholdId:f,arbeidsgiverId:u,refusjonskravFraInntektsmelding:o,totalRefusjon:c})}},FI=(e,n,r,t)=>{const i=[];return t.forEach((s,a)=>{s.arbeidsforholdId!==""&&SI(e,n,r,s,a,i)}),i},NI=(e,n)=>n.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.IkkjeHogereRefusjonEnnInntektsmelding"},{arbeidsgiver:e}),RI=(e,n,r,t,i,s)=>{const a=FI(e,t,r,n).filter(l=>(l.refusjonskravFraInntektsmelding||l.refusjonskravFraInntektsmelding===0)&&l.totalRefusjon>l.refusjonskravFraInntektsmelding);if(a.length>0){const l=a[0].arbeidsgiverId?i[a[0].arbeidsgiverId]:void 0;let o;return l?o=ki(l,a[0].eksternArbeidsforholdId):o=a[0].arbeidsgiverId||"",NI(o,s)}},PI=(e,n)=>e?n.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.LikFordeling"},{fordeling:e}):void 0,BI=e=>e.formatMessage({id:"FordelBeregningsgrunnlag.Validation.KanIkkeHaNullIBeregningsgrunnlag"}),OI=(e,n)=>e?n.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.TotalRefusjonSkalIkkeOverstige"},{seksG:e}):void 0,$I=(e,n,r)=>e>=Math.round(n)?OI(q(n),r):void 0,Xm=(e,n,r)=>r.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.TotalFordelingLavereEnn"},{seksG:e,andelsliste:n}),Qm=(e,n,r,t,i)=>e>=Math.round(n)?t(q(n),r,i):void 0,VI=(e,n,r)=>e!==Math.round(n)?PI(q(Math.round(n)),r):void 0,DI=(e,n,r,t,i,s,a)=>{const l=!r.arbeidsperiodeTom||vh(r.arbeidsperiodeTom,t);if(!r.andelIArbeid||!l)return!1;const o=i(`FORDEL_BEREGNING_FORM.${e}.${s}.${a}.fastsattBelop`),k=o?me(o):0;return!Number.isNaN(Number(r.andelIArbeid))&&Number(r.andelIArbeid)>0&&k<=0?!0:r.andelIArbeid.split(qm).filter(u=>Number(u)>0).length>0&&k===0},GI=(e,n,r,t,i,s)=>t.some((a,l)=>DI(e,s,a,i,n,r,l))?BI(s):void 0,LI=(e,n,r,t,i,s)=>{const a=t.map((l,o)=>Zm(e,l,r,n,o)).reduce((l,o)=>l+o,0);return i!=null?VI(a,i,s):void 0},og=(e,n,r,t,i)=>{const s=i(`FORDEL_BEREGNING_FORM.${e}.${r}.${t}.refusjonskrav`);return jI(s)},MI=(e,n,r,t,i,s)=>{const a=!!n.find((k,u)=>k.andelIArbeid!=="0.00"&&og(e,k,r,u,t)===0),l=n.map((k,u)=>og(e,k,r,u,t)).reduce((k,u)=>k+u,0),o=6*i;return a?$I(l,o,s):void 0},ef=(e,n)=>{const r=e.map(t=>{var i;return((i=n[be.AKTIVITET_STATUS].find(s=>s.kode===t))==null?void 0:i.navn)||""});return r.sort((t,i)=>t.localeCompare(i)),[...new Set(r)].join(", ")},nf=(e,n,r,t,i)=>t.map((s,a)=>s.aktivitetStatus&&!i.includes(s.aktivitetStatus)?0:Zm(e,s,r,n,a)).reduce((s,a)=>s+a,0),KI=(e,n,r,t,i,s,a)=>{const l=[R.ARBEIDSTAKER],o=nf(e,n,r,t,l),k=ef(l,s);return Qm(o,i,k,Xm,a)},wI=(e,n,r,t,i,s,a)=>{const l=[R.ARBEIDSTAKER,R.FRILANSER,R.DAGPENGER,R.ARBEIDSAVKLARINGSPENGER],o=t.map(f=>f.aktivitetStatus).filter(f=>!!f&&l.includes(f)),k=nf(e,n,r,t,o),u=ef(o,s);return Qm(k,i,u,Xm,a)},UI=(e,n,r,t,i,s,a)=>{const l=!!t.find(k=>k.andelIArbeid!=="0.00"&&k.aktivitetStatus===R.FRILANSER),o=6*s;if(l)return KI(e,n,r,t,o,a,i);if(t.find(k=>k.andelIArbeid!=="0.00"&&k.aktivitetStatus===R.SELVSTENDIG_NAERINGSDRIVENDE))return wI(e,n,r,t,o,a,i)},CI=(e,n)=>e.arbeidsforholdId===null?n.map(({arbeidsgiverIdent:r})=>r).includes(e.arbeidsgiverIdent):n.map(({arbeidsforholdId:r})=>r).includes(e.arbeidsforholdId),YI=(e,n)=>{var r;const t=e.find(i=>{var s,a;return!!i.arbeidsforhold&&i.arbeidsforhold.arbeidsgiverIdent===((s=n.arbeidsforhold)==null?void 0:s.arbeidsgiverIdent)&&i.arbeidsforhold.arbeidsforholdId===((a=n.arbeidsforhold)==null?void 0:a.arbeidsforholdId)});if(!t)throw new Error(`Finner ikke forventet andel med arbeidsgiverId ${(r=n.arbeidsforhold)==null?void 0:r.arbeidsgiverIdent}`);return t},zI=(e,n)=>{const r=[];return e===void 0||e.forEach(t=>{if(t.arbeidsforhold&&!CI(t.arbeidsforhold,r)){const i=YI(n,t),s={andelsnr:t.andelsnr,nyttArbeidsforhold:t.nyttArbeidsforhold,beregningsperiodeTom:i.beregningsperiodeTom,beregningsperiodeFom:i.beregningsperiodeFom,...t.arbeidsforhold};r.push(s)}}),r},HI=e=>e.length>0?e.flatMap(n=>n.fordelBeregningsgrunnlagAndeler||[]):[],JI=e=>e.length>0?e.flatMap(n=>n.beregningsgrunnlagPrStatusOgAndel||[]):[],qI=(e,n)=>zI(HI(e),JI(n)),WI=e=>{var n,r;const t=((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.fordelBeregningsgrunnlagPerioder)||[],i=e.beregningsgrunnlagPeriode;return qI(t,i)},ZI="_container_1tnrv_1",XI="_buttonRemove_1tnrv_5",QI="_buttonRow_1tnrv_16",eA="_rightAlignInput_1tnrv_19",nA="_slettIkon_1tnrv_29",rA="_deleteBtn_1tnrv_36",tA="_notLastRow_1tnrv_39",iA="_divider_1tnrv_43",sA="_dividerTop_1tnrv_46",aA="_sumRow_1tnrv_49",lA="_fordelingForrige_1tnrv_52",dA="_refusjon_1tnrv_55",oA="_nyFordeling_1tnrv_62",gA="_periodeColumn_1tnrv_69",uA="_addCircleIcon_1tnrv_72",kA="_imageText_1tnrv_78",mA="_addPeriode_1tnrv_83",fA="_customLink_1tnrv_84",vA="_removeButton_1tnrv_85",cA="_inntektTable_1tnrv_88",pA="_shortLeftAligned_1tnrv_137",hA="_wordwrap_1tnrv_142",bA="_litenBredde_1tnrv_145",jA="_storBredde_1tnrv_148",xA="_flexColumn3_1tnrv_151",IA="_benyttCheckbox_1tnrv_154",Ve={container:ZI,buttonRemove:XI,buttonRow:QI,rightAlignInput:eA,slettIkon:nA,deleteBtn:rA,notLastRow:tA,divider:iA,dividerTop:sA,sumRow:aA,fordelingForrige:lA,refusjon:dA,nyFordeling:oA,periodeColumn:gA,addCircleIcon:uA,imageText:kA,addPeriode:mA,customLink:fA,removeButton:vA,inntektTable:cA,shortLeftAligned:pA,wordwrap:hA,litenBredde:bA,storBredde:jA,flexColumn3:xA,benyttCheckbox:IA},AA=e=>({nyAndel:!0,kilde:"SAKSBEHANDLER_FORDELING",fastsattBelop:q(0),lagtTilAvSaksbehandler:!0,refusjonskravFraInntektsmelding:0,belopFraInntektsmelding:null,skalRedigereInntekt:!e}),rf=(e,n,r)=>{var t;return!e.arbeidsgiverIdent||!r[e.arbeidsgiverIdent]?e.arbeidsforholdType&&((t=n[be.OPPTJENING_AKTIVITET_TYPE].find(i=>i.kode===e.arbeidsforholdType))==null?void 0:t.navn)||"":ki(r[e.arbeidsgiverIdent],e.eksternArbeidsforholdId)},TA=(e,n,r)=>e.map(t=>p.jsx("option",{value:t.andelsnr.toString(),children:rf(t,n,r)},t.andelsnr)),EA=(e,n,r,t)=>{const i=e.map(s=>p.jsx("option",{value:s.andelsnr.toString(),children:rf(s,r,t)},s.andelsnr));return i.push(p.jsx("option",{value:Rs.BRUKERS_ANDEL,children:n.formatMessage({id:"BeregningInfoPanel.FordelingBG.Ytelse"})},Rs.BRUKERS_ANDEL)),i},yA=e=>e.map(n=>p.jsx("option",{value:n.kode,children:n.navn},n.kode)),tf=e=>e>0&&q(e)||"",_A=(e,n,r,t)=>{let i=0,s=0;for(s;s<r.length;s+=1){const a=r[s],l=me(t(`FORDEL_BEREGNING_FORM.${e}.${n}.${s}.fastsattBelop`));a.skalRedigereInntekt?i+=l||0:i+=a.readOnlyBelop?l:0}return tf(i)},SA=e=>{let n=0,r=0;for(r;r<e.length;r+=1){const t=e[r];t.beregningsgrunnlagPrAar&&(n+=t.beregningsgrunnlagPrAar?Number(me(t.beregningsgrunnlagPrAar)):0)}return tf(n)},FA=e=>e.inntektskategori?Bh(e.inntektskategori)||hn.FRILANSER===e.inntektskategori:!1,NA=(e,n)=>{const r=Number(n);return e.find(t=>t.andelsnr===r)},RA=(e,n)=>{var r;const t=Number(n);return(r=e.find(i=>i.andelsnr===t))==null?void 0:r.aktivitetStatus},PA=(e,n,r,t,i)=>{const s=e[n],a=NA(r,t);a&&(s.arbeidsforholdId=a.arbeidsforholdId,s.arbeidsgiverId=a.arbeidsgiverIdent,s.arbeidsperiodeFom=a.startdato,s.arbeidsperiodeTom=a.opphoersdato,s.andelsnrRef=a.andelsnr,s.aktivitetStatus=RA(e,t),s.nyttArbeidsforhold=a.nyttArbeidsforhold,s.arbeidsforholdType=a.arbeidsforholdType,s.beregningsperiodeTom=a.beregningsperiodeTom,s.beregningsperiodeFom=a.beregningsperiodeFom,i(n,s))},BA=(e,n,r,t,i,s,a)=>p.jsxs(p.Fragment,{children:[!e[n].nyAndel&&p.jsx(xe,{name:`${a(n)}.andel`,className:Ve.storBredde,readOnly:!0}),e[n].nyAndel&&p.jsx(pt,{name:`${a(n)}.andel`,className:Ve.storBredde,label:"",selectValues:r,readOnly:t,validate:[X],onChange:l=>PA(e,n,i,l.target.value,s)})]}),OA=(e,n,r,t)=>n?p.jsx(W,{children:p.jsx(dt,{children:p.jsx(xe,{name:`${t}.readOnlyBelop`,className:Ve.litenBredde,parse:Ne,readOnly:!0,isEdited:!1})})}):p.jsx(W,{className:Ve.rightAlignInput,children:p.jsx(dt,{children:p.jsx(xe,{name:`${t}.fastsattBelop`,parse:Ne,readOnly:e,validate:[X,ln(178956970)],isEdited:r&&!n,className:Ve.litenBredde})})}),$A=(e,n,r)=>(n[e].nyAndel||n[e].lagtTilAvSaksbehandler)&&!r,VA=(e,n,r,t,i,s,a)=>p.jsxs(W,{children:[BA(e,n,r,t,i,s,a),!FA(e[n])&&p.jsx("div",{className:Ve.wordwrap,children:p.jsx(xe,{name:`${a(n)}.arbeidsperiodeFom - ${a(n)}.arbeidsperiodeTom`,readOnly:!0})})]}),DA=(e,n)=>e?p.jsx(W,{children:p.jsx(xe,{name:`${n}.andelIArbeid`,readOnly:!0,className:Ve.litenBredde,normalizeOnBlur:r=>Number.isNaN(r)?r:parseFloat(r.toString()).toFixed(2)})}):null,GA=(e,n,r,t)=>p.jsx(W,{className:e||!n[r].skalKunneEndreRefusjon?void 0:Ve.rightAlignInput,children:p.jsx(dt,{children:p.jsx(xe,{name:`${t(r)}.refusjonskrav`,readOnly:e||!n[r].skalKunneEndreRefusjon,parse:Ne,className:Ve.litenBredde,validate:n[r].skalKunneEndreRefusjon?[X,ln(178956970)]:[]})})}),LA=e=>p.jsx(W,{children:p.jsx(xe,{name:`${e}.beregningsgrunnlagPrAar`,className:Ve.litenBredde,readOnly:!0,parse:Ne})}),MA=(e,n,r)=>p.jsx(W,{className:e?Ve.shortLeftAligned:void 0,children:p.jsx(dt,{children:p.jsx(pt,{label:"",name:`${n}.inntektskategori`,className:Ve.storBredde,validate:e?[]:[X],selectValues:yA(r),readOnly:e})})}),KA=(e,n,r,t)=>p.jsx(W,{children:$A(n,e,r)&&p.jsx(se,{icon:p.jsx(Wn,{"aria-hidden":!0,className:Ve.slettIkon}),onClick:()=>t(n),type:"button",variant:"tertiary"})}),wA=(e,n,r)=>p.jsxs(nn,{children:[p.jsx(W,{children:p.jsx(m,{id:"BeregningInfoPanel.FordelBG.Sum"})}),r&&p.jsx(W,{}),p.jsx(W,{}),p.jsx(W,{children:p.jsx(w,{size:"small",children:n})}),p.jsx(W,{children:p.jsx(w,{size:"small",children:e})}),p.jsx(W,{}),p.jsx(W,{})]},"bruttoBGSummaryRow"),UA=e=>{const n=[];return n.push("BeregningInfoPanel.FordelBG.Andel"),e&&n.push("BeregningInfoPanel.FordelBG.AndelIArbeid"),n.push("BeregningInfoPanel.FordelBG.Refusjonskrav"),n.push("BeregningInfoPanel.FordelBG.Beregningsgrunnlag"),n.push("BeregningInfoPanel.FordelBG.Fordeling"),n.push("BeregningInfoPanel.FordelBG.Inntektskategori"),n},CA=e=>{var n,r;return(((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.arbeidsforholdTilFordeling)||[]).some(t=>{var i;return(i=t.perioderMedGraderingEllerRefusjon)==null?void 0:i.some(s=>s.erGradering)})},YA=({fieldName:e,readOnly:n,skalIkkeRedigereInntekt:r,isAksjonspunktClosed:t,arbeidsgiverOpplysningerPerId:i,kodeverkSamling:s,beregningsgrunnlag:a,skalKunneEndreRefusjon:l,sumIPeriode:o,periodeFom:k,vilkårperiodeFieldIndex:u,setFieldArrayToRepeat:f,fieldArrayToRepeat:c})=>{const{control:b,watch:x,getValues:T}=je(),N=`FORDEL_BEREGNING_FORM.${u}.${e}`,{fields:S,append:B,remove:y,update:O}=ze({control:b,name:`FORDEL_BEREGNING_FORM.${u}.${e}`});j.useEffect(()=>{c&&c!==N&&!n&&!r&&T(c).forEach(Ie=>{var he;const Te=S.findIndex(mn=>mn.andel===Ie.andel&&(mn.inntektskategori===Ie.inntektskategori||!mn.inntektskategori&&!Ie.lagtTilAvSaksbehandler&&!mn.lagtTilAvSaksbehandler));if(Te>-1){const mn={...S[Te],fastsattBelop:Ie.fastsattBelop,refusjonskrav:l?Ie.refusjonskrav:(he=S[Te])==null?void 0:he.refusjonskrav,inntektskategori:Ie.inntektskategori};O(Te,mn)}})},[c]);const $=!!a.aktivitetStatus&&a.aktivitetStatus.some(Ie=>Ie===R.KUN_YTELSE),D=WI(a),Y=_A(u,e,S,x),ne=SA(S),ee=CA(a),U=s[be.INNTEKTSKATEGORI],V=te(),C=$?EA(D,V,s,i):TA(D,s,i),Z=Ie=>`FORDEL_BEREGNING_FORM.${u}.${e}.${Ie}`,H=S.map((Ie,he)=>{const Te=n||r;return p.jsxs(nn,{children:[VA(S,he,C,Te,D,O,Z),DA(ee,Z(he)),GA(Te,S,he,Z),LA(Z(he)),OA(n,r,t,Z(he)),MA(Te,Z(he),U),KA(S,he,Te,y)]},Ie.id)});H.push(wA(Y,ne,ee));const ae=[],ye=Ie=>{Ie&&ae.push(Ie)};!n&&S.some(Ie=>!!Ie.skalRedigereInntekt||!!Ie.skalKunneEndreRefusjon)&&(ye(yI(u,T,e,S,V)),ye(LI(u,T,e,S,o,V)),ee&&(ye(GI(u,T,e,S,k,V)),ye(UI(u,T,e,S,V,a.grunnbeløp,s))),l&&(ye(MI(u,S,e,T,a.grunnbeløp,V)),ye(RI(u,S,e,T,i,V))));const we=`FORDEL_BEREGNING_FORM.${u}.${e}.skjemagruppe`,Be=ae.filter(Ie=>!!Ie),nr=Be.length>0?Be[0]:void 0,Vn=Pr(we,nr),Fe=()=>{f(N===c?"":N)};return p.jsxs("div",{children:[p.jsx(kn,{headerTextCodes:UA(ee),noHover:!0,classNameTable:Ve.inntektTable,children:H}),!n&&!r&&p.jsx(L,{className:Ve.buttonRow,children:p.jsx(E,{className:Ve.flexColumn3,children:p.jsx(se,{icon:p.jsx(ct,{"aria-hidden":!0,className:Ve.addCircleIcon}),onClick:()=>B(AA(r)),type:"button",variant:"tertiary",children:p.jsx(ke,{className:Ve.imageText,children:p.jsx(m,{id:"BeregningInfoPanel.FordelingBG.LeggTilAndel"})})})})}),!n&&!r&&p.jsx(fh,{className:Ve.benyttCheckbox,checked:N===c,onChange:Fe,children:"Benytt for alle perioder"}),Vn&&p.jsx(Un,{children:Vn})]})},zA="_statusOk_1qsx9_1",sf={statusOk:zA},HA="_vurdertIForrigeIcon_1q86k_1",JA={vurdertIForrigeIcon:HA},qA=Jm.bind(JA),af=({className:e=""})=>{const n=te();return p.jsx("span",{"data-testid":"vurdertIForrigeIcon",className:qA("vurdertIForrigeIcon",e),children:p.jsx(sa,{size:"small",variant:"neutral",children:n.formatMessage({id:"Fordeling.VurdertTidligere"})})})},WA=Jm.bind(sf),Oa=e=>e?A(e,Le).format(ie):"-",ZA=(e,n)=>n?p.jsx(w,{size:"small",children:p.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFomOgTom",values:{fom:Oa(e),tom:Oa(n)}})}):p.jsx(w,{size:"small",children:p.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFom",values:{fom:Oa(e)}})}),XA=e=>{var n,r;return(n=e.arbeidsforhold)!=null&&n.naturalytelseBortfaltPrÅr?(r=e.arbeidsforhold)==null?void 0:r.naturalytelseBortfaltPrÅr:0},QA=e=>{const n=XA(e);return e.besteberegningPrAar!==void 0&&e.besteberegningPrAar!==null?e.besteberegningPrAar+n:e.overstyrtPrAar!==void 0&&e.overstyrtPrAar!==null?e.overstyrtPrAar+n:e.beregnetPrAar!==void 0&&e.beregnetPrAar!==null?e.beregnetPrAar+n:0},eT=(e,n)=>{var r;return(((r=e.find(t=>t.beregningsgrunnlagPeriodeFom===n))==null?void 0:r.beregningsgrunnlagPrStatusOgAndel)||[]).map(t=>QA(t)).reduce((t,i)=>t+i,0)},Gd=({readOnly:e,erVurdertTidligere:n,isAksjonspunktClosed:r,open:t,showPanel:i,beregningsgrunnlag:s,kodeverkSamling:a,arbeidsgiverOpplysningerPerId:l,fordelBGFieldArrayName:o,fordelingsperiode:k,fieldIndex:u,setFieldArrayToRepeat:f,fieldArrayToRepeat:c})=>k.fom?p.jsx(He,{className:e?sf.statusOk:WA(`fordelBeregningsgrunnlagPeriode--${k.fom}`),children:p.jsxs(He.Item,{open:t,children:[p.jsxs(He.Header,{onClick:()=>i(k.fom),children:[ZA(k.fom,k.tom)," ",n?p.jsx(af,{}):""]}),p.jsx(He.Content,{children:p.jsx(YA,{fieldName:o,readOnly:e,sumIPeriode:eT(s.beregningsgrunnlagPeriode,k.fom),skalIkkeRedigereInntekt:!k.skalRedigereInntekt,skalKunneEndreRefusjon:!!k.skalKunneEndreRefusjon,periodeFom:k.fom,isAksjonspunktClosed:r,kodeverkSamling:a,beregningsgrunnlag:s,arbeidsgiverOpplysningerPerId:l,vilkårperiodeFieldIndex:u,setFieldArrayToRepeat:f,fieldArrayToRepeat:c})})]})}):null,nT=(e,n)=>{const r=(n.beregningsgrunnlagPrStatusOgAndel||[]).find(t=>t.andelsnr===e.andelsnr);if(!r)throw Error(`Finner ikke matchende andel med andelsnr ${e.andelsnr}`);return r},rT=(e,n)=>{var r;const t=(r=e.arbeidsforhold)==null?void 0:r.startdato;return!!t&&!A(t).isBefore(A(n))},gg=e=>{var n,r,t,i;if(!e)return;const s=((n=e.arbeidsforhold)==null?void 0:n.naturalytelseBortfaltPrÅr)===null||((r=e.arbeidsforhold)==null?void 0:r.naturalytelseBortfaltPrÅr)===void 0?0:e.arbeidsforhold.naturalytelseBortfaltPrÅr,a=((t=e.arbeidsforhold)==null?void 0:t.naturalytelseTilkommetPrÅr)===null||((i=e.arbeidsforhold)==null?void 0:i.naturalytelseTilkommetPrÅr)===void 0?0:e.arbeidsforhold.naturalytelseTilkommetPrÅr;if(e.besteberegningPrAar||e.besteberegningPrAar===0)return q(e.besteberegningPrAar+s-a);if(e.overstyrtPrAar||e.overstyrtPrAar===0)return q(e.overstyrtPrAar+s-a);if(e.beregnetPrAar||e.beregnetPrAar===0)return q(e.beregnetPrAar+s-a)},tT=e=>(e.fordelingForrigeBehandlingPrAar||e.fordelingForrigeBehandlingPrAar===0?q(e.fordelingForrigeBehandlingPrAar):"")||"";Gd.buildInitialValues=(e,n,r,t,i,s)=>!e||!e.fordelBeregningsgrunnlagAndeler?[]:e.fordelBeregningsgrunnlagAndeler.map(a=>{const l=nT(a,n);return{...bI(a,t,i,s),...hI(a),andelIArbeid:mI(a.andelIArbeid||[]),fordelingForrigeBehandling:tT(a),fastsattBelop:pI(a.fordeltPrAar,l.bruttoPrAar,!!e.skalPreutfyllesMedBeregningsgrunnlag),readOnlyBelop:gg(l),refusjonskrav:a.refusjonskravPrAar!==null&&a.refusjonskravPrAar!==void 0?q(a.refusjonskravPrAar):"",skalKunneEndreRefusjon:e.skalKunneEndreRefusjon&&!a.lagtTilAvSaksbehandler&&a.refusjonskravFraInntektsmeldingPrAar?e.skalKunneEndreRefusjon:!1,belopFraInntektsmelding:a.belopFraInntektsmeldingPrAar,skalRedigereInntekt:!!e.skalRedigereInntekt,refusjonskravFraInntektsmelding:a.refusjonskravFraInntektsmeldingPrAar,nyttArbeidsforhold:a.nyttArbeidsforhold||rT(l,r),beregningsgrunnlagPrAar:gg(l),forrigeRefusjonPrAar:a.refusjonskravPrAar,forrigeArbeidsinntektPrAar:cI(a.fordeltPrAar),beregningsperiodeFom:l.beregningsperiodeFom,beregningsperiodeTom:l.beregningsperiodeTom}});const iT="_lessPadding_xotc9_1",sT={lessPadding:iT};function ug(e,n){return n.tom!=null&&!A(n.tom).isBefore(A(e.fom))&&(e.tom==null||!A(n.tom).isAfter(A(e.tom)))}function aT(e,n){return ug(e,n)||ug(n,e)}function Xn(e,n){var r;return(r=e.fordelBeregningsgrunnlagAndeler)!=null&&r.some(t=>!t.inntektskategori||t.inntektskategori===hn.UDEFINERT)?!0:!n||n.length===0||n.some(t=>aT(t,e))}const lf="fordelBGPeriode",Ld=e=>lf+e,lT=e=>({refusjonPrÅr:e.skalKunneEndreRefusjon&&e.refusjonskrav?me(e.refusjonskrav):void 0,fastsattÅrsbeløpInklNaturalytelse:me(e.fastsattBelop),inntektskategori:e.inntektskategori||""}),et=(e,n)=>!!e.periodeAarsaker&&e.periodeAarsaker.includes(n),dT=e=>et(e,yn.ENDRING_I_REFUSJONSKRAV)||et(e,yn.REFUSJON_OPPHOERER)||et(e,yn.GRADERING)||et(e,yn.GRADERING_OPPHOERER),oT=(e,n)=>{const r=n.indexOf(e);return n[r-1].bruttoPrAar===e.bruttoPrAar},gT=(e,n)=>!e.arbeidsforhold&&!n.arbeidsforhold?!0:e.arbeidsforhold&&n.arbeidsforhold?e.arbeidsforhold.arbeidsgiverIdent===n.arbeidsforhold.arbeidsgiverIdent&&e.arbeidsforhold.arbeidsforholdId===n.arbeidsforhold.arbeidsforholdId:!1;function kg(e){const n=A(e.beregningsgrunnlagPeriodeFom).day()===6,r=A(e.beregningsgrunnlagPeriodeFom).day()===0,t=A(e.beregningsgrunnlagPeriodeTom).day()===6,i=A(e.beregningsgrunnlagPeriodeTom).day()===0;return(n||r)&&(t||i)}const uT=e=>{var n;return(n=e.andelIArbeid)==null?void 0:n.some(r=>r!==100)};function kT(e){var n;return(n=e.fordelBeregningsgrunnlagAndeler)==null?void 0:n.some(r=>uT(r))}function mT(e=[],n=[]){return e.sort((r,t)=>r-t),n.sort((r,t)=>r-t),e.join("_")!==n.join("-")}const fT=(e,n)=>e.some(r=>{const t=n.find(i=>i.aktivitetStatus===r.aktivitetStatus&&i.inntektskategori===r.inntektskategori&&gT(i,r));return!!(t===void 0||mT(t.andelIArbeid,r.andelIArbeid)||t.refusjonskravPrAar!==r.refusjonskravPrAar)}),vT=(e,n,r,t)=>{const i=e.fordelBeregningsgrunnlagAndeler||[],s=n.fordelBeregningsgrunnlagAndeler||[];if(i.length!==s.length)return!1;const a=t.indexOf(r),l=t[a-1];if(r.bruttoPrAar!==l.bruttoPrAar)return!1;const o=kg(r),k=kg(l),u=e.skalKunneEndreRefusjon||n.skalKunneEndreRefusjon;return(o||k)&&!u?!0:!fT(i,s)},cT=(e,n,r,t,i)=>{var s,a;const l=t[t.length-1];return((s=r.fordelBeregningsgrunnlagAndeler)==null?void 0:s.length)!==((a=l.fordelBeregningsgrunnlagAndeler)==null?void 0:a.length)||r.skalRedigereInntekt!==l.skalRedigereInntekt||dT(e)||Xn(r,i)&&!Xn(l,i)?!1:et(e,yn.ARBEIDSFORHOLD_AVSLUTTET)?oT(e,n):et(e,yn.ENDRING_I_AKTIVITETER_SØKT_FOR)?vT(r,l,e,n):!0},pT=(e,n)=>{const r={...e.pop(),tom:n.tom};e.push(r)},hT=(e,n)=>(r,t)=>{if(r.length===0)return r.push({...t}),r;const i=e.find(s=>s.beregningsgrunnlagPeriodeFom===t.fom);if(i){if(cT(i,e,t,r,n))return pT(r,t),r;r.push({...t})}return r},bT=e=>({fom:n,tom:r})=>(A(n).isSame(A(e.fom))||A(n).isAfter(e.fom))&&(e.tom===null||A(r).isSame(A(e.tom))||A(r).isBefore(A(e.tom))),jT=e=>{if(e.nyAndel&&e.andel)return e.andel;if(!e.andelsnr)throw Error(`Forventer å finne andelsnr for submit på aktivitet ${e}`);return e.andelsnr},xT=e=>({andelsnr:jT(e),aktivitetStatus:e.aktivitetStatus,arbeidsgiverId:e.arbeidsgiverId!==""?e.arbeidsgiverId:void 0,arbeidsforholdId:e.arbeidsforholdId!==""?e.arbeidsforholdId:void 0,nyAndel:e.nyAndel,kilde:e.kilde,lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler,arbeidsforholdType:e.arbeidsforholdType,beregningsperiodeTom:e.beregningsperiodeTom,beregningsperiodeFom:e.beregningsperiodeFom,forrigeArbeidsinntektPrÅr:e.forrigeArbeidsinntektPrAar,forrigeRefusjonPrÅr:e.forrigeRefusjonPrAar,forrigeInntektskategori:e.forrigeInntektskategori,fastsatteVerdier:lT(e)}),IT=e=>{if(!e)throw Error("Fant ikke påkrevd felt før submit");return e},AT=(e,n,r,t)=>t.filter(bT(r)).filter(i=>i.skalRedigereInntekt||i.skalKunneEndreRefusjon).map(i=>({andeler:e[Ld(n)].map(xT),fom:IT(i.fom),tom:i.tom})),Md=(e,n,r)=>e.filter(t=>kT(t)).reduce(hT(n,r),[]),TT=(e,n)=>{const r=n.find(t=>t.beregningsgrunnlagPeriodeFom===e.fom);if(!r)throw Error(`Finner ikke matchende beregningsgrunnlagperiode for fordelingsperiode med fom ${e.fom}`);return r},ET=(e,n,r,t)=>{const i=[],s=Md(e,r,t);for(let a=0;a<s.length;a+=1){const{skalRedigereInntekt:l}=s[a];l&&Xn(s[a])&&AT(n,a,s[a],e).forEach(o=>i.push(o))}return i};function yT(e,n){return Xn(n,e.forlengelseperioder)}function _T(e,n){var r;return!Xn(e,n.forlengelseperioder)&&e.skalRedigereInntekt===!0&&!!e.fordelBeregningsgrunnlagAndeler&&((r=e.fordelBeregningsgrunnlagAndeler)==null?void 0:r.every(t=>t.fordeltPrAar!==null&&t.fordeltPrAar!==void 0))}const vi=({readOnly:e,perioder:n,isAksjonspunktClosed:r,bgPerioder:t,beregningsgrunnlag:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:a,fieldIndex:l})=>{const[o,k]=j.useState([]),[u,f]=j.useState("");j.useEffect(()=>{const b=n.filter(x=>yT(i,x)).filter(x=>x.skalKunneEndreRefusjon||x.skalRedigereInntekt).filter(x=>!!x.fom).map(x=>x.fom||"");k(b)},[n]);const c=b=>{if(o.includes(b)){const x=o.filter(T=>T!==b);k(x)}else{const x=o.map(T=>T);x.push(b),k(x)}};return p.jsx(Tm,{className:sT.lessPadding,children:Md(n,t,i.forlengelseperioder).map((b,x)=>p.jsxs(K.Fragment,{children:[p.jsx(I,{eightPx:!0}),p.jsx(Gd,{readOnly:e||!Xn(b,i.forlengelseperioder),erVurdertTidligere:_T(b,i),fordelingsperiode:b,fordelBGFieldArrayName:Ld(x),open:o?o.filter(T=>T===b.fom).length>0:!1,isAksjonspunktClosed:r,showPanel:c,beregningsgrunnlag:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:a,fieldIndex:l,setFieldArrayToRepeat:f,fieldArrayToRepeat:u}),p.jsx(I,{eightPx:!0})]},lf+b.fom))})};vi.transformValues=(e,n,r,t)=>({endretBeregningsgrunnlagPerioder:ET(n,e,r,t)});vi.buildInitialValues=(e,n,r,t)=>{const i={};if(!e)return i;const s=!!n.aktivitetStatus&&n.aktivitetStatus.some(l=>l===R.KUN_YTELSE),a=n.beregningsgrunnlagPeriode;return Md(e,a,n.forlengelseperioder).forEach((l,o)=>{const k=TT(l,a);i[Ld(o)]=Gd.buildInitialValues(l,k,n.skjaeringstidspunktBeregning,s,r,t)}),i};const ST=e=>{var n,r;return((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.fordelBeregningsgrunnlagPerioder)||[]},ci=({isAksjonspunktClosed:e,readOnly:n,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s})=>{const a=r.beregningsgrunnlagPeriode,l=ST(r);return p.jsx(vi,{perioder:l,readOnly:n,isAksjonspunktClosed:e,bgPerioder:a,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s})};ci.buildInitialValues=(e,n,r,t)=>vi.buildInitialValues(e,n,r,t);ci.transformValues=(e,n,r,t)=>vi.transformValues(e,n,r,t);const{FORDEL_BEREGNINGSGRUNNLAG:Nl}=an,FT=(e,n)=>n.some(r=>r.definisjon===e),df=e=>{const n=e.find(r=>r.definisjon===Nl);if(!n)throw Error(`Fant ikke forventet avklaringsbehov ${Nl}`);return n},NT="begrunnelse",of=e=>{var n,r;return((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.fordelBeregningsgrunnlagPerioder)||[]},RT=(e,n)=>{if(!FT(Nl,n.avklaringsbehov))throw Error("har ikke aksjonspunkt for fordeling når transform values ble kalt");const r=n.beregningsgrunnlagPeriode;return{begrunnelse:e.begrunnelse,periode:e.periode,...ci.transformValues(e,of(n),r,n.forlengelseperioder)}},PT=(e,n,r,t)=>{const i=of(e);return{beregningsgrunnlagStp:e.skjaeringstidspunktBeregning,periode:n.periode,...jt.buildInitialValues(df(e.avklaringsbehov),NT),...ci.buildInitialValues(i,e,t,r)}},BT=({readOnly:e,submittable:n,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s})=>{const a=df(r.avklaringsbehov),l=!rn(a.status),o=je(),k=o.watch(`FORDEL_BEREGNING_FORM.${s}.begrunnelse`);return p.jsxs(p.Fragment,{children:[p.jsx(uI,{isAksjonspunktClosed:l,beregningsgrunnlag:r}),p.jsx(I,{twentyPx:!0}),p.jsx(ci,{readOnly:e,isAksjonspunktClosed:l,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s}),p.jsx(I,{twentyPx:!0}),p.jsx(jt,{name:`FORDEL_BEREGNING_FORM.${s}.begrunnelse`,isSubmittable:n,isReadOnly:e,hasBegrunnelse:!!k}),p.jsx(I,{twentyPx:!0}),p.jsx(ka,{isSubmittable:n,isReadOnly:e,isSubmitting:o.formState.isSubmitting,isDirty:o.formState.isDirty})]})},{FORDEL_BEREGNINGSGRUNNLAG:OT}=an,Gs="FORDEL_BEREGNING_FORM",$T=(e,n)=>{const r=n.find(t=>t.vilkårsperiodeFom===e);if(!r)throw Error(`Mangler beregningsgrunnlag for vilkårsperiodeFom ${e}`);return r},VT=(e,n,r)=>{const t=e[Gs].filter(i=>Or(r,i.periode.fom)).map(i=>RT(i,$T(i.periode.fom,n)));return{begrunnelse:t.map(i=>i.begrunnelse).reduce((i,s)=>i!==null?`${i} ${s}`:s),grunnlag:t,kode:OT}},DT=(e,n,r,t)=>({[Gs]:e.filter(i=>i.avklaringsbehov.some(s=>s.definisjon===an.FORDEL_BEREGNINGSGRUNNLAG)).map(i=>PT(i,fi(n,i.vilkårsperiodeFom),r,t))}),GT=({aktivtBeregningsgrunnlagIndeks:e,readOnly:n,submittable:r,submitCallback:t,beregningsgrunnlagListe:i,vilkårsperioder:s,kodeverkSamling:a,arbeidsgiverOpplysningerPerId:l,formData:o,setFormData:k,setFordelingFormIsDirty:u})=>{const f=Qe({defaultValues:o!=null&&o.FORDEL_BEREGNING_FORM?o:DT(i,s,l,a)}),{formState:{dirtyFields:c,isSubmitted:b,errors:x,isDirty:T},control:N,trigger:S}=f;j.useEffect(()=>{u(T)},[T]),j.useEffect(()=>{var y;b&&(y=c[Gs])!=null&&y[e]&&S()},[e]);const{fields:B}=ze({name:Gs,control:N});return p.jsx(yd,{errorMessage:"Noe gikk galt ved visning av fordeling",children:p.jsx(en,{formMethods:f,onSubmit:y=>{Object.keys(x).length===0&&t(VT(y,i,s))},setDataOnUnmount:k,children:B.map(y=>{const O=i.findIndex($=>$.skjaeringstidspunktBeregning===y.beregningsgrunnlagStp);return p.jsx("div",{style:{display:O===e?"block":"none"},children:p.jsx(BT,{submittable:r,readOnly:n||!Or(s,i[O].vilkårsperiodeFom),beregningsgrunnlag:i[O],arbeidsgiverOpplysningerPerId:l,kodeverkSamling:a,fieldIndex:O})},y.id)})})})};var gf={exports:{}};(function(e,n){(function(r,t){e.exports=t()})(jx,function(){return function(r,t,i){t.prototype.isBetween=function(s,a,l,o){var k=i(s),u=i(a),f=(o=o||"()")[0]==="(",c=o[1]===")";return(f?this.isAfter(k,l):!this.isBefore(k,l))&&(c?this.isBefore(u,l):!this.isAfter(u,l))||(f?this.isBefore(k,l):!this.isAfter(k,l))&&(c?this.isAfter(u,l):!this.isBefore(u,l))}}})})(gf);var LT=gf.exports;const uf=Um(LT);A.extend(uf);const MT="2023-05-01";function KT(){return(e,n,r)=>r.findIndex(t=>t.skalRedusereUtbetaling===e.skalRedusereUtbetaling&&t.arbeidsforholdId===e.arbeidsforholdId&&t.arbeidsgiverId===e.arbeidsgiverId&&t.aktivitetStatus===e.aktivitetStatus&&t.bruttoInntektPrÅr===e.bruttoInntektPrÅr)===n}const wT=(e,n)=>{const r=e.pop();if(!r)return;const t=[...r.inntektsforholdListe];n.inntektsforholdListe.forEach(s=>t.push(s));const i={...r,inntektsforholdListe:t.filter(KT()),tom:n.tom};e.push(i)},UT=(e,n)=>{const r=e.inntektsforholdListe||[],t=n.inntektsforholdListe||[];for(let i=0;i<r.length;i+=1){const s=r[i],a=t.find(l=>l.aktivitetStatus===s.aktivitetStatus&&l.arbeidsgiverId===s.arbeidsgiverId&&l.arbeidsforholdId===s.arbeidsforholdId);if(a===void 0)return!0;if(a.bruttoInntektPrÅr!==s.bruttoInntektPrÅr||a.skalRedusereUtbetaling!==s.skalRedusereUtbetaling)return!1}return!0},mg=(e,n)=>mm(e,n,!0)>2,CT=(e,n)=>{const r=n.tom,t=e.fom;return A(r).isBefore(A(t))?mg(r,t):mg(t,r)},YT=(e,n,r)=>{if(A(e.fom).isSame(A(MT)))return!1;const t=n[n.length-1],i=Xn(e,r);return i&&!Xn(t,r)||i&&CT(e,t)?!1:UT(e,t)},zT=e=>(n,r)=>n.length===0?(n.push({...r}),n):YT(r,n,e)?(wT(n,r),n):(n.push({...r}),n),kf=(e,n)=>e.reduce(zT(n),[]);function mf(e,n){var r;return!Xn(e,n.forlengelseperioder)&&!!e.inntektsforholdListe&&((r=e.inntektsforholdListe)==null?void 0:r.every(t=>t.skalRedusereUtbetaling!==null))}const ff=(e,n)=>{let r=null;return e.arbeidsgiverId!==null&&e.arbeidsgiverId!==void 0&&(r=n[e.arbeidsgiverId]),e.aktivitetStatus===R.ARBEIDSTAKER?r?ki(r,e.arbeidsforholdId):"Arbeidsforhold":e.aktivitetStatus===R.FRILANSER?"Frilanser":e.aktivitetStatus===R.SELVSTENDIG_NAERINGSDRIVENDE?"Selvstendig næringsdrivende":""},HT=(e,n)=>{let r=null;return e.arbeidsgiverIdent&&(r=n[e.arbeidsgiverIdent]),e.aktivitetStatus===R.ARBEIDSTAKER?r?ki(r,e.arbeidsforholdId):"Arbeidsforhold":e.aktivitetStatus===R.FRILANSER?"Frilanser":e.aktivitetStatus===R.SELVSTENDIG_NAERINGSDRIVENDE?"Selvstendig næringsdrivende":""},JT="_statusOk_1qsx9_1",fg={statusOk:JT},qT="_tilkommetAktivitet_1xjj3_1",WT="_aktivitetContainer_1xjj3_4",ZT="_aktivitetTable_1xjj3_7",XT="_separator_1xjj3_12",QT="_aksjonspunktContainer_1xjj3_16",eE="_aksjonspunktContainerLukketAP_1xjj3_21",nE="_aksjonspunktContainerLukketAP_1xjj3_21",rE="_bruttoInntektContainer_1xjj3_26",tE="_bruttoInntektInput_1xjj3_29",iE="_bruttoInntektCurrency_1xjj3_32",sE="_edited_1xjj3_37",aE="_inntektsmeldingTag_1xjj3_40",lE="_inntektColumn_1xjj3_43",dE="_tittelRad_1xjj3_47",oE="_modalKnapp_1xjj3_50",Ce={tilkommetAktivitet:qT,aktivitetContainer:WT,aktivitetTable:ZT,separator:XT,aksjonspunktContainer:QT,aksjonspunktContainerLukketAP:eE,aksjonspunktContainerLukketAp:nE,bruttoInntektContainer:rE,bruttoInntektInput:tE,bruttoInntektCurrency:iE,edited:sE,inntektsmeldingTag:aE,inntektColumn:lE,tittelRad:dE,modalKnapp:oE},gE=e=>{if(!e)return"";let n=e.aktivitetStatus;return e.arbeidsgiverId&&(n+=e.arbeidsgiverId),e.arbeidsforholdId&&(n+=e.arbeidsforholdId),n},uE=({formName:e,bgIndex:n,periodeFieldIndex:r,readOnly:t,inntektsforholdFieldIndex:i,field:s,arbeidsgiverOpplysningerPerId:a})=>{const l=je(),o=te(),k=l.watch(`${e}.${n}.perioder.${r}.inntektsforhold.${i}.skalRedusereUtbetaling`),u=()=>{switch(s.aktivitetStatus){case R.ARBEIDSTAKER:return p.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerArbeid",values:{br:p.jsx("br",{})}});case R.FRILANSER:return p.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerFrilans",values:{br:p.jsx("br",{})}});case R.SELVSTENDIG_NAERINGSDRIVENDE:return p.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerNæring"});default:return p.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerArbeid"})}},f=()=>s.aktivitetStatus===R.SELVSTENDIG_NAERINGSDRIVENDE?o.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.VurderTekstNæring"}):s.aktivitetStatus===R.FRILANSER?o.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.VurderTekstFrilans"}):o.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.VurderTekstArbeid"},{arbeidsforhold:HT(s,a)});return p.jsxs(p.Fragment,{children:[p.jsx(pe,{label:f(),name:`${e}.${n}.perioder.${r}.inntektsforhold.${i}.skalRedusereUtbetaling`,radios:[{value:"true",label:o.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Ja"})},{value:"false",label:o.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Nei"})}],isReadOnly:t,validate:[X],isTrueOrFalseSelection:!0}),k===!1&&p.jsxs(p.Fragment,{children:[p.jsx(I,{sixteenPx:!0}),p.jsx(Oe,{size:"small",variant:"info",children:o.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Alert"})})]}),k&&p.jsxs(p.Fragment,{children:[p.jsx(I,{sixteenPx:!0}),p.jsx(w,{size:"small",children:p.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.Fastsett"})}),p.jsx(Ge,{header:p.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMer"}),children:u()}),p.jsx(I,{eightPx:!0}),p.jsxs("div",{className:Ce.bruttoInntektContainer,children:[p.jsx(xe,{name:`${e}.${n}.perioder.${r}.inntektsforhold.${i}.bruttoInntektPrÅr`,label:"Fastsett årsinntekt",hideLabel:!0,readOnly:t,className:Ce.bruttoInntektInput,parse:Ne,validate:[X,ln(178956970)]}),p.jsx("span",{className:Ce.bruttoInntektCurrency,children:"kr"})]})]})]})},vg=e=>!!e&&+e>0,kE=({arbeidsgiverOpplysningerPerId:e,vurderInntektsforholdPeriode:n})=>{const r=te(),t=s=>{const a=[];return s.inntektsforholdListe.forEach(l=>{const o=vg(l.bruttoInntektPrÅr),k=vg(l.inntektFraInntektsmeldingPrÅr);a.push(p.jsxs(nn,{children:[p.jsx(W,{children:p.jsx(_,{size:"small",children:ff(l,e)})}),p.jsx(W,{children:p.jsx(_,{size:"small",children:l.skalRedusereUtbetaling?r.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Ja"}):r.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Nei"})})}),(o||k)&&p.jsx(W,{children:p.jsxs(_,{size:"small",children:[o&&p.jsxs(p.Fragment,{children:[_s(l.bruttoInntektPrÅr||0),p.jsx(ht,{})]}),k&&!o&&p.jsxs(p.Fragment,{children:[_s(l.inntektFraInntektsmeldingPrÅr||0),p.jsx(sa,{className:Ce.inntektsmeldingTag,variant:"neutral",size:"xsmall",children:"IM"})]})]})})]},gE(l)))}),a},i=["BeregningInfoPanel.TilkommetAktivitet.Aktivitet","BeregningInfoPanel.TilkommetAktivitet.RedusererUtbetaling",n.inntektsforholdListe.some(s=>s.bruttoInntektPrÅr)?"BeregningInfoPanel.TilkommetAktivitet.Årsinntekt":"BeregningInfoPanel.TilkommetAktivitet.TomTekst"].map(s=>p.jsxs(w,{size:"small",children:[p.jsx(m,{id:s})," "]},s));return p.jsx("div",{className:Ce.aktivitetContainer,children:p.jsx(kn,{headerColumnContent:i,noHover:!0,classNameTable:Ce.aktivitetTable,children:t(n)})})},qi=e=>!!e&&+e>0,mE=({formName:e,vurderInntektsforholdPeriode:n,bgIndex:r,periodeFieldIndex:t,readOnly:i,erAksjonspunktÅpent:s,submittable:a,arbeidsgiverOpplysningerPerId:l,skalViseBegrunnelse:o})=>{const{control:k,formState:u}=je(),{fields:f}=ze({control:k,name:`VURDER_TILKOMMET_AKTIVITET_FORM.${r}.perioder.${t}.inntektsforhold`}),c=n.inntektsforholdListe.some(N=>qi(N.bruttoInntektPrÅr)||qi(N.inntektFraInntektsmeldingPrÅr)),b=n.inntektsforholdListe.some(N=>!!N.periode),x=["BeregningInfoPanel.TilkommetAktivitet.Aktivitet",c?"BeregningInfoPanel.TilkommetAktivitet.Årsinntekt":"BeregningInfoPanel.TilkommetAktivitet.TomTekst",b?"BeregningInfoPanel.TilkommetAktivitet.Periode":"BeregningInfoPanel.TilkommetAktivitet.TomTekst"].map(N=>p.jsxs(w,{size:"small",children:[p.jsx(m,{id:N})," "]},N)),T=N=>{const S=[],{inntektsforholdListe:B}=N;return B.forEach(y=>{const O=qi(y.bruttoInntektPrÅr),$=qi(y.inntektFraInntektsmeldingPrÅr);S.push(p.jsxs(nn,{children:[p.jsx(W,{children:p.jsx(_,{size:"small",children:ff(y,l)})}),(O||$||b)&&p.jsx(W,{className:Ce.inntektColumn,children:p.jsxs(_,{size:"small",children:[O&&!$&&p.jsxs(p.Fragment,{children:[_s(y.bruttoInntektPrÅr||0),p.jsx(ht,{})]}),$&&p.jsxs(p.Fragment,{children:[_s(y.inntektFraInntektsmeldingPrÅr||0),p.jsx(sa,{className:Ce.inntektsmeldingTag,variant:"neutral",size:"xsmall",children:"IM"})]})]})}),y.periode&&p.jsx(W,{className:Ce.periodeColumn,children:p.jsx(_,{size:"small",children:p.jsx(Ye,{dateStringFom:y.periode.fom,dateStringTom:y.periode.tom})})})]},y.arbeidsgiverId||y.aktivitetStatus))}),S};return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:Ce.aktivitetContainer,children:p.jsx(kn,{noHover:!0,headerColumnContent:x,classNameTable:Ce.aktivitetTable,children:T(n)})}),p.jsx(I,{sixteenPx:!0}),p.jsxs("div",{className:s?Ce.aksjonspunktContainer:Ce.aksjonspunktContainerLukketAP,children:[f.map((N,S)=>p.jsxs("div",{children:[p.jsx(uE,{formName:e,bgIndex:r,periodeFieldIndex:t,inntektsforholdFieldIndex:S,field:N,readOnly:i,arbeidsgiverOpplysningerPerId:l},N.id),S<n.inntektsforholdListe.length-1&&p.jsx(I,{fourtyPx:!0})]},N.id)),o&&p.jsxs(p.Fragment,{children:[p.jsx(I,{fourtyPx:!0}),p.jsx(un,{name:`${e}.${r}.begrunnelse`,label:"Begrunnelse",readOnly:i,validate:[X]}),p.jsx(I,{sixteenPx:!0}),p.jsx(ka,{isSubmittable:a,isReadOnly:i,isSubmitting:u.isSubmitting,isDirty:u.isDirty})]})]})]})},$a=e=>e?A(e,Le).format(ie):"-",cg=(e,n)=>!n||n===Xe?p.jsx(w,{size:"medium",children:p.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFom",values:{fom:$a(e)}})}):p.jsx(w,{size:"medium",children:p.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFomOgTom",values:{fom:$a(e),tom:$a(n)}})}),fE=({beregningsgrunnlag:e,arbeidsgiverOpplysningerPerId:n,formName:r,bgIndex:t,readOnly:i,submittable:s,erAksjonspunktÅpent:a,fields:l})=>{const[o,k]=j.useState([]),[u,f]=j.useState([]),[c,b]=j.useState([]),x=je();j.useEffect(()=>{var y,O;const $=(O=(y=e.faktaOmFordeling)==null?void 0:y.vurderNyttInntektsforholdDto)==null?void 0:O.vurderInntektsforholdPerioder;if($){const D=kf($,e.forlengelseperioder);k(D);const Y=u.map(ee=>ee),ne=l.map(ee=>ee.fom);ne.filter(ee=>!c.includes(ee)).forEach(ee=>Y.push(ee)),f(Y),b(ne)}},[e,l.length]);const T=o.filter(y=>mf(y,e)),N=y=>{if(u.includes(y)){const O=u.filter($=>$!==y);f(O)}else{const O=u.map($=>$);O.push(y),f(O)}},S=y=>{const O=A(y),$=o.find(D=>!A(D.fom).isAfter(O)&&!A(D.tom).isBefore(O));if(!$)throw new Error(`Finner ikke periode som overlapper med fom ${y}`);return $},B=y=>()=>N(y);return!o||o.length<1?null:p.jsxs(p.Fragment,{children:[p.jsxs(He,{className:fg.statusOk,children:[T.map(y=>p.jsxs(He.Item,{open:u.filter(O=>O===y.fom).length>0,children:[p.jsxs(He.Header,{onClick:B(y.fom),children:[cg(y.fom,y.tom)," ",p.jsx(af,{})]}),p.jsx(He.Content,{children:p.jsx(kE,{arbeidsgiverOpplysningerPerId:n,vurderInntektsforholdPeriode:y})})]},y.fom)),l.map((y,O)=>p.jsxs(He.Item,{open:u.filter($=>$===y.fom).length>0,children:[p.jsx(He.Header,{onClick:B(y.fom),children:cg(y.fom,y.tom)}),p.jsx(He.Content,{children:p.jsx(mE,{arbeidsgiverOpplysningerPerId:n,vurderInntektsforholdPeriode:S(y.fom),formName:r,bgIndex:t,periodeFieldIndex:O,readOnly:i,erAksjonspunktÅpent:a,submittable:s,skalViseBegrunnelse:l.length===1})})]},y.fom))]}),l.length>1&&p.jsxs("div",{className:fg.aktivitetContainer,children:[p.jsx(I,{fourtyPx:!0}),p.jsx(un,{name:`${r}.${t}.begrunnelse`,label:"Begrunnelse for alle perioder",readOnly:i,validate:[X]}),p.jsx(I,{sixteenPx:!0}),p.jsx(ka,{isSubmittable:s,isReadOnly:i,isSubmitting:x.formState.isSubmitting,isDirty:x.formState.isDirty})]})]})},vE="_datoRad_17rpq_1",cE="_boks_17rpq_8",pE="_footerRad_17rpq_12",hE="_datoVelger_17rpq_16",bE="_periodeHeader_17rpq_20",Ls={datoRad:vE,boks:cE,footerRad:pE,datoVelger:hE,periodeHeader:bE};function vf(e){var n,r,t="";if(typeof e=="string"||typeof e=="number")t+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(r=vf(e[n]))&&(t&&(t+=" "),t+=r);else for(n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function cf(){for(var e,n,r=0,t="";r<arguments.length;)(e=arguments[r++])&&(n=vf(e))&&(t&&(t+=" "),t+=n);return t}const jE=e=>cf({"navds-typo--spacing":e.spacing,"navds-typo--truncate":e.truncate,"navds-typo--semibold":e.weight==="semibold",[`navds-typo--align-${e.align}`]:e.align,[`navds-typo--color-${e.textColor}`]:e.textColor,"navds-typo--visually-hidden":e.visuallyHidden,"navds-typo--uppercase":e.uppercase});var xE=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const IE=j.forwardRef((e,n)=>{var{className:r,size:t="medium",as:i="label",spacing:s,visuallyHidden:a,textColor:l}=e,o=xE(e,["className","size","as","spacing","visuallyHidden","textColor"]);return K.createElement(i,Object.assign({},o,{ref:n,className:cf(r,"navds-label",jE({spacing:s,visuallyHidden:a,textColor:l}),{"navds-label--small":t==="small"})}))}),AE=IE,pg=e=>e===Xe?"":A(e).format(ie),TE=({periode:e,forhåndsvisPeriodesplitt:n,setValgtDato:r})=>{const t=te(),[i,s]=j.useState(),a=j.useCallback(u=>{const f=A(u).format(Le);if(r(f),f){const c=n(f);c.sort((b,x)=>A(b.fom).diff(A(x.fom))),s(c)}},[n]),l=[u=>!e||!A(u).isAfter(A(e.fom))||A(u).isAfter(A(e.tom))],{datepickerProps:o,inputProps:k}=mh({today:new Date(e.fom),disableWeekends:!0,disabled:l,onDateChange:a});return p.jsxs(p.Fragment,{children:[p.jsx(E,{className:Ls.datoVelger,children:p.jsx(zo,{...o,children:p.jsx(zo.Input,{...k,label:t.formatMessage({id:"TilkommetAktivitet.Modal.DatoValg"}),size:"small"})})}),i&&p.jsxs(E,{children:[p.jsx(AE,{size:"small",className:Ls.periodeHeader,children:p.jsx(m,{id:"TilkommetAktivitet.Modal.Resultat"})}),p.jsxs("ul",{children:[p.jsx("li",{children:p.jsx(m,{id:"TilkommetAktivitet.Modal.Periode",values:{fom:A(i[0].fom).format(ie),tom:pg(i[0].tom)}})}),p.jsx("li",{children:p.jsx(m,{id:"TilkommetAktivitet.Modal.Periode",values:{fom:A(i[1].fom).format(ie),tom:pg(i[1].tom)}})})]})]}),p.jsx(I,{sixteenPx:!0})]})},EE=e=>e?e.tom===Xe?!0:mm(e.fom,e.tom,!0)>1:!1,yE=e=>e.map(n=>({fom:n.fom,tom:n.tom})),_E=(e,n)=>{const r=A(e).format(ie);if(n&&n!==Xe){const t=A(n).format(ie);return r.concat(" - ",t)}return r.concat(" - ")},SE=({fields:e,forhåndsvisPeriodesplitt:n,utførPeriodesplitt:r,skalViseModal:t,lukkModal:i})=>{const s=te(),[a,l]=j.useState(void 0),[o,k]=j.useState(void 0),u=j.useMemo(()=>yE(e),[e]),f=j.useCallback(()=>{a&&o&&(r(a),i())},[e,a]),c=j.useCallback(x=>{const T=x.target.value,N=u.find(S=>S.fom===T);k(N||void 0)},[]),b=o&&EE(o);return t?p.jsxs(Ci,{width:"500px",open:t,onClose:i,children:[p.jsx(Ci.Header,{children:p.jsx(m,{id:"TilkommetAktivitet.Modal.Tittel"})}),p.jsxs(Ci.Body,{children:[p.jsx("div",{children:p.jsxs(kh,{label:s.formatMessage({id:"TilkommetAktivitet.Modal.Select"}),onChange:c,size:"small",children:[p.jsx("option",{value:void 0,children:"Velg periode"}),u.map(x=>p.jsx("option",{value:x.fom,children:_E(x.fom,x.tom)},x.fom))]})}),p.jsx(I,{sixteenPx:!0}),b&&p.jsx(Se,{children:p.jsx(L,{className:Ls.datoRad,children:p.jsx(TE,{forhåndsvisPeriodesplitt:n,periode:o,setValgtDato:l})})})]}),p.jsx(Ci.Footer,{children:p.jsx(Se,{children:p.jsxs(L,{className:Ls.footerRad,children:[p.jsx(E,{children:p.jsx(se,{size:"small",variant:"primary",onClick:f,disabled:!a,autoFocus:!0,type:"button",children:p.jsx(m,{id:"TilkommetAktivitet.Modal.DelOppKnapp"})})}),p.jsx(E,{children:p.jsx(se,{size:"small",variant:"secondary",onClick:i,disabled:!1,autoFocus:!0,type:"button",children:p.jsx(m,{id:"TilkommetAktivitet.Modal.AvbrytKnapp"})})})]})})})]}):null},hg=(e,n)=>n==null?void 0:n.some(r=>r.inntektsforholdListe.some(t=>t.aktivitetStatus===e)),FE=({formName:e,beregningsgrunnlag:n,bgIndex:r,readOnly:t,submittable:i,erAksjonspunktÅpent:s,arbeidsgiverOpplysningerPerId:a})=>{var l,o;const k=te(),[u,f]=j.useState(!1),{control:c,watch:b}=je(),{fields:x,remove:T,insert:N}=ze({control:c,name:`VURDER_TILKOMMET_AKTIVITET_FORM.${r}.perioder`});x.sort((U,V)=>A(U.fom).diff(A(V.fom)));const S=(o=(l=n.faktaOmFordeling)==null?void 0:l.vurderNyttInntektsforholdDto)==null?void 0:o.vurderInntektsforholdPerioder,B=()=>{const U=hg(R.SELVSTENDIG_NAERINGSDRIVENDE,S),V=hg(R.FRILANSER,S),C=S==null?void 0:S.flatMap(Z=>Z.inntektsforholdListe.map(H=>H.aktivitetStatus)).reduce((Z,H)=>(Z.some(ae=>ae===H)||Z.push(H),Z),[]);return(C?C.length:0)>1?k.formatMessage({id:"TilkommetAktivitet.AlertHeading.FlereStatuser"}):U?k.formatMessage({id:"TilkommetAktivitet.AlertHeading.SelvstendigNæringsdrivende"}):V?k.formatMessage({id:"TilkommetAktivitet.AlertHeading.Frilans"}):k.formatMessage({id:"TilkommetAktivitet.AlertHeading.Arbeidsforhold"})},y=()=>s?p.jsxs(Oe,{size:"small",variant:"warning",children:[p.jsx(oe,{size:"xsmall",level:"3",children:B()}),k.formatMessage({id:"TilkommetAktivitet.AksjonspunktHelpText"})]}):p.jsxs(p.Fragment,{children:[p.jsxs(w,{size:"small",children:[k.formatMessage({id:"HelpText.Aksjonspunkt.BehandletAksjonspunkt"}),B()]}),p.jsx(_,{size:"small",children:k.formatMessage({id:"TilkommetAktivitet.AksjonspunktHelpText"})})]}),O=(U,V,C,Z)=>{const H=b(`${e}.${r}.perioder.${C}.inntektsforhold.${Z}.skalRedusereUtbetaling`),ae=b(`${e}.${r}.perioder.${C}.inntektsforhold.${Z}.bruttoInntektPrÅr`);return{aktivitetStatus:U.aktivitetStatus,arbeidsgiverIdent:U.arbeidsgiverIdent,arbeidsforholdId:U.arbeidsforholdId,bruttoInntektPrÅr:V?ae:void 0,skalRedusereUtbetaling:V?H:void 0}},$=(U,V,C)=>!A(U).isAfter(A(C))&&!A(V).isBefore(A(C)),D=j.useCallback(U=>{const V=x.find(ae=>$(ae.fom,ae.tom,U));if(!V)throw new Error(`Finner ikke field somme inneholder dato ${U}`);const C=A(U).subtract(1,"day"),Z={fom:A(V.fom).format(Le),tom:C.format(Le)},H={fom:A(U).format(Le),tom:V.tom};return[Z,H]},[x]),Y=j.useCallback(U=>{const V=x.find(we=>$(we.fom,we.tom,U));if(!V)throw new Error(`Finner ikke field somme inneholder dato ${U}`);const C=D(U),Z=x.indexOf(V),H=V.inntektsforhold||[],ae={inntektsforhold:H.map((we,Be)=>O(we,!0,Z,Be)),fom:C[0].fom,tom:C[0].tom},ye={inntektsforhold:H.map((we,Be)=>O(we,!1,Z,Be)),fom:C[1].fom,tom:C[1].tom};T(Z),N(Z,[ae,ye])},[x]),ne=j.useCallback(()=>{f(!0)},[u]),ee=j.useCallback(()=>{f(!1)},[u]);return p.jsxs(p.Fragment,{children:[y(),!!S&&s&&p.jsxs(p.Fragment,{children:[p.jsx(I,{eightPx:!0}),p.jsx(Oe,{size:"small",variant:"info",title:"",children:k.formatMessage({id:"TilkommetAktivitet.AksjonspunktAlert"})})]}),p.jsx(I,{fourtyPx:!0}),p.jsx(Se,{children:p.jsxs(L,{className:Ce.tittelRad,children:[p.jsx(E,{children:p.jsx(oe,{size:"small",level:"3",children:k.formatMessage({id:"TilkommetAktivitet.Heading"})})}),p.jsx(E,{className:Ce.modalKnapp,children:p.jsx(se,{variant:"tertiary",loading:!1,disabled:t,onClick:ne,size:"small",type:"button",icon:p.jsx(Lh,{height:32,width:32}),children:k.formatMessage({id:"TilkommetAktivitet.Modal.Knapp"})})})]})}),u&&p.jsx(SE,{fields:x,forhåndsvisPeriodesplitt:D,lukkModal:ee,skalViseModal:u,utførPeriodesplitt:Y}),p.jsx(fE,{beregningsgrunnlag:n,arbeidsgiverOpplysningerPerId:a,formName:e,fields:x,bgIndex:r,readOnly:t,erAksjonspunktÅpent:s,submittable:i})]})};A.extend(uf);const{VURDER_NYTT_INNTKTSFRHLD:Rl}=an,Qt="VURDER_TILKOMMET_AKTIVITET_FORM",pf=e=>{const n=e.find(r=>r.definisjon===Rl);if(!n)throw Error(`Fant ikke forventet avklaringsbehov ${Rl}`);return n},NE=(e,n)=>{const r=n.find(t=>t.vilkårsperiodeFom===e);if(!r)throw Error(`Mangler beregningsgrunnlag for vilkårsperiodeFom ${e}`);return r};function RE(e){var n,r;const t=(r=(n=e.faktaOmFordeling)==null?void 0:n.vurderNyttInntektsforholdDto)==null?void 0:r.vurderInntektsforholdPerioder;if(!t)throw Error("vurderInntektsforholdPerioder skal være definert");return kf(t,e.forlengelseperioder).filter(i=>!mf(i,e))}const PE=e=>({aktivitetStatus:e.aktivitetStatus,arbeidsgiverIdent:e.arbeidsgiverId,arbeidsforholdId:e.arbeidsforholdId,bruttoInntektPrÅr:q(e.bruttoInntektPrÅr),skalRedusereUtbetaling:e.skalRedusereUtbetaling}),BE=e=>({fom:e.fom,tom:e.tom,inntektsforhold:e.inntektsforholdListe.map(n=>PE(n))}),OE=(e,n)=>{const r=pf(e.avklaringsbehov),t=RE(e);return{beregningsgrunnlagStp:e.skjaeringstidspunktBeregning,begrunnelse:r&&r.begrunnelse?r.begrunnelse:"",periode:fi(n,e.vilkårsperiodeFom).periode,perioder:t.map(i=>BE(i))}},$E=(e,n)=>({[`${Qt}`]:e.filter(r=>r.avklaringsbehov.some(t=>t.definisjon===an.VURDER_NYTT_INNTKTSFRHLD)).map(r=>OE(r,n))}),VE=(e,n)=>{const r=A(e.fom).isBetween(n.fom,n.tom,"day","[]")||A(e.tom).isBetween(n.fom,n.tom,"day","[]"),t=A(n.fom).isBetween(e.fom,e.tom,"day","[]")||A(n.tom).isBetween(e.fom,e.tom,"day","[]");return r||t},DE=(e,n)=>n.inntektsforholdListe.some(r=>r.aktivitetStatus===e.aktivitetStatus&&r.arbeidsforholdId===e.arbeidsforholdId&&r.arbeidsgiverId===e.arbeidsgiverIdent),GE=(e,n)=>{var r,t;const i=e.perioder,s=(((t=(r=n.faktaOmFordeling)==null?void 0:r.vurderNyttInntektsforholdDto)==null?void 0:t.vurderInntektsforholdPerioder)||[]).flatMap(a=>i.filter(l=>VE(l,a)).map(l=>{const o=l.inntektsforhold.filter(k=>DE(k,a)).map(k=>{const u=!!k.skalRedusereUtbetaling,f=u?me(k.bruttoInntektPrÅr):void 0;return{aktivitetStatus:k.aktivitetStatus,arbeidsgiverId:k.arbeidsgiverIdent,arbeidsforholdId:k.arbeidsforholdId,skalRedusereUtbetaling:u,bruttoInntektPrÅr:f}});return{fom:A(l.fom).isBefore(A(a.fom))?a.fom:l.fom,tom:A(l.tom).isAfter(A(a.tom))?a.tom:l.tom,tilkomneInntektsforhold:o}}));return{periode:e.periode,begrunnelse:e.begrunnelse,tilkomneInntektsforhold:s}},LE=(e,n,r)=>{const t=e[Qt].filter(i=>Or(r,i.periode.fom)).map(i=>GE(i,NE(i.periode.fom,n)));return{begrunnelse:t.map(i=>i.begrunnelse).reduce((i,s)=>i!==null?`${i} ${s}`:s),grunnlag:t,kode:Rl}},ME=({aktivtBeregningsgrunnlagIndeks:e,formData:n,setFormData:r,beregningsgrunnlagListe:t,submitCallback:i,readOnly:s,submittable:a,vilkarperioder:l,arbeidsgiverOpplysningerPerId:o,setTilkommetAktivitetFormIsDirty:k})=>{const u=Qe({defaultValues:n!=null&&n.VURDER_TILKOMMET_AKTIVITET_FORM?n:$E(t,l)}),{formState:{dirtyFields:f,isSubmitted:c,errors:b,isDirty:x},trigger:T,control:N}=u;j.useEffect(()=>{k(x)},[x]),j.useEffect(()=>{var $;c&&($=f[Qt])!=null&&$[e]&&T()},[e]);const{fields:S}=ze({name:Qt,control:N}),B=t[e],y=pf(B.avklaringsbehov),O=y?rn(y.status):!1;return p.jsx(yd,{errorMessage:"Noe gikk galt ved visning av tilkommet aktivitet",children:p.jsx("div",{className:Ce.tilkommetAktivitet,children:p.jsx(en,{formMethods:u,onSubmit:$=>{Object.keys(b).length===0&&i(LE($,t,l))},setDataOnUnmount:r,children:S.map($=>{const D=t.findIndex(Y=>Y.skjaeringstidspunktBeregning===$.beregningsgrunnlagStp);return p.jsx("div",{style:{display:D===e?"block":"none"},children:p.jsx(FE,{formName:Qt,beregningsgrunnlag:t[D],bgIndex:D,readOnly:s||!Or(l,t[D].vilkårsperiodeFom),submittable:a,erAksjonspunktÅpent:O,arbeidsgiverOpplysningerPerId:o})},$.id)})})})})},{FORDEL_BEREGNINGSGRUNNLAG:KE,VURDER_REFUSJON_BERGRUNN:wE,VURDER_NYTT_INNTKTSFRHLD:UE}=an,CE=e=>e&&e.faktaOmFordeling?!!e.faktaOmFordeling.fordelBeregningsgrunnlag:!1,YE=e=>!!(e&&e.refusjonTilVurdering),zE=e=>e&&e.faktaOmFordeling?!!e.faktaOmFordeling.vurderNyttInntektsforholdDto:!1,Va=(e,n)=>e&&n?e.find(r=>r.definisjon===n):void 0,HE=({aktivtBeregningsgrunnlagIndeks:e,readOnly:n,submitCallback:r,beregningsgrunnlagListe:t,vilkarperioder:i,kodeverkSamling:s,submittable:a,arbeidsgiverOpplysningerPerId:l,formData:o,setFormData:k})=>{const[u,f]=j.useState(!1),[c,b]=j.useState(!1),[x,T]=j.useState(!1),N=Va(t[e].avklaringsbehov,KE),S=Va(t[e].avklaringsbehov,wE),B=Va(t[e].avklaringsbehov,UE),y=(!N||N.status!==Yr.OPPRETTET)&&(!S||S.status!==Yr.OPPRETTET)&&(!B||B.status!==Yr.OPPRETTET),O=B&&zE(t[e]),$=!O||B.status!==Yr.OPPRETTET,D=N&&CE(t[e])&&($&&N.status===Yr.OPPRETTET||y),Y=S&&YE(t[e])&&($&&!D&&S.status===Yr.OPPRETTET||y);return p.jsxs(p.Fragment,{children:[Y&&p.jsxs(p.Fragment,{children:[p.jsx(iI,{aktivtBeregningsgrunnlagIndeks:e,submittable:a&&!u&&!x,readOnly:n,submitCallback:r,beregningsgrunnlagListe:t,arbeidsgiverOpplysningerPerId:l,formData:o,setFormData:k,vilkarperioder:i,setRefusjonFormIsDirty:b}),p.jsx(I,{fourtyPx:!0})]}),O&&p.jsxs(p.Fragment,{children:[p.jsx(ME,{aktivtBeregningsgrunnlagIndeks:e,formData:o,setFormData:k,submittable:a&&!c&&!x,readOnly:n,submitCallback:r,beregningsgrunnlagListe:t,arbeidsgiverOpplysningerPerId:l,vilkarperioder:i,setTilkommetAktivitetFormIsDirty:f}),p.jsx(I,{fourtyPx:!0})]}),D&&p.jsx(GT,{aktivtBeregningsgrunnlagIndeks:e,submittable:a&&!u&&!c,readOnly:n,submitCallback:r,kodeverkSamling:s,beregningsgrunnlagListe:t,arbeidsgiverOpplysningerPerId:l,formData:o,setFormData:k,vilkårsperioder:i,setFordelingFormIsDirty:T})]})},JE=Me(Dd),{FORDEL_BEREGNINGSGRUNNLAG:qE,VURDER_REFUSJON_BERGRUNN:WE,VURDER_NYTT_INNTKTSFRHLD:ZE}=an,XE=(e,n)=>{const r=fi(n,e.vilkårsperiodeFom);if(r){const{fom:t,tom:i}=r.periode;return i!==null?`${A(t).format(ie)} - ${A(i).format(ie)}`:`${A(t).format(ie)} - `}return`${A(e.vilkårsperiodeFom).format(ie)}`},hf=e=>e.avklaringsbehov.some(n=>n.definisjon===WE||n.definisjon===qE||n.definisjon===ZE),QE=(e,n)=>hf(e)&&Or(n,e.vilkårsperiodeFom),ey=({beregningsgrunnlagVilkår:e,beregningsgrunnlagListe:n,kodeverkSamling:r,submitCallback:t,readOnly:i,submittable:s,arbeidsgiverOpplysningerPerId:a,formData:l,setFormData:o})=>{const k=n.filter(b=>hf(b)),[u,f]=j.useState(0);if(k.length===0)return null;const c=k.length>1;return p.jsxs(Ze,{value:JE,children:[c&&p.jsx(Hn,{value:u.toString(),onChange:b=>f(Number(b)),children:p.jsx(Hn.List,{children:k.map((b,x)=>p.jsx(Hn.Tab,{value:x.toString(),label:XE(b,e.perioder),className:QE(b,e.perioder)?"harAksjonspunkt":""},b.skjaeringstidspunktBeregning))})}),p.jsx(I,{eightPx:!0}),p.jsx(HE,{aktivtBeregningsgrunnlagIndeks:u,kodeverkSamling:r,submitCallback:t,readOnly:i,beregningsgrunnlagListe:k,vilkarperioder:e.perioder,submittable:s,arbeidsgiverOpplysningerPerId:a,formData:l,setFormData:o})]})};const ny=e=>{switch(e){case an.FORDEL_BEREGNINGSGRUNNLAG:return ue.FORDEL_BEREGNINGSGRUNNLAG;case an.VURDER_REFUSJON_BERGRUNN:return ue.VURDER_REFUSJON_BERGRUNN;default:throw new Error(`Ukjent avklaringspunkt ${e}`)}},ry=e=>n=>{const t=(Array.isArray(n)?n:[n]).map(i=>({kode:ny(i.kode),...i.grunnlag[0]}));return e(t)},ty=(e,n)=>({avslagKode:n.avslagKode,vurderesIBehandlingen:!0,merknadParametere:{},periode:{fom:e?e.skjaeringstidspunktBeregning:"",tom:Xe},vilkarStatus:n.vilkarStatus}),iy=(e,n)=>{if(!e)return null;const r=e.find(i=>i.vilkarType&&i.vilkarType===_r.BEREGNINGSGRUNNLAGVILKARET);return!r||!n?null:{...r,perioder:[ty(n,r)]}},sy=e=>e?[{...e,beregningsgrunnlagId:"1",vilkårsperiodeFom:e.skjaeringstidspunktBeregning}]:[],bg=[ue.FORDEL_BEREGNINGSGRUNNLAG,ue.VURDER_REFUSJON_BERGRUNN],ay=[Je.BEREGNINGSGRUNNLAG],jg=({arbeidsgiverOpplysningerPerId:e,...n})=>$e.jsx(Sr,{...n,panelEndepunkter:ay,aksjonspunktKoder:bg,faktaPanelKode:yr.FORDELING,faktaPanelMenyTekst:te().formatMessage({id:"FordelBeregningsgrunnlag.Title"}),skalPanelVisesIMeny:()=>!!n.behandling&&!!n.behandling.aksjonspunkt&&!!n.behandling.aksjonspunkt.some(r=>bg.some(t=>t===r.definisjon)),renderPanel:r=>$e.jsx(ey,{...r,kodeverkSamling:r.alleKodeverk,beregningsgrunnlagVilkår:iy(r.behandling.vilkår,r.beregningsgrunnlag),beregningsgrunnlagListe:sy(r.beregningsgrunnlag),submitCallback:ry(r.submitCallback),arbeidsgiverOpplysningerPerId:e})});try{jg.displayName="FordelingFaktaInitPanel",jg.__docgenInfo={description:"FordelingFaktaInitPanel",displayName:"FordelingFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}var bf={exports:{}},Gt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function ly(){if(xg)return Gt;xg=1;var e=K,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,o,k){var u,f={},c=null,b=null;k!==void 0&&(c=""+k),o.key!==void 0&&(c=""+o.key),o.ref!==void 0&&(b=o.ref);for(u in o)t.call(o,u)&&!s.hasOwnProperty(u)&&(f[u]=o[u]);if(l&&l.defaultProps)for(u in o=l.defaultProps,o)f[u]===void 0&&(f[u]=o[u]);return{$$typeof:n,type:l,key:c,ref:b,props:f,_owner:i.current}}return Gt.Fragment=r,Gt.jsx=a,Gt.jsxs=a,Gt}bf.exports=ly();var M=bf.exports;const dy=e=>fm(e,1),jf=(e,n)=>A(dy(e)).isSame(n)?n:e,xf=(e,n,r)=>{if(!(!n||!r))return A(e).isBefore(n)?n:jf(e,r)},If=(e,n,r)=>{if(!(!n||!r))return A(e).isAfter(r)?r:jf(e,n)},oy=e=>e===!1?"danger":e===!0?"success":"warning",gy={[Ee.ARBEID]:M.jsx(Ot,{width:20,height:20}),[Ee.AAP]:M.jsx(Bt,{width:20,height:20}),[Ee.DAGPENGER]:M.jsx(Bt,{width:20,height:20}),[Ee.FORELDREPENGER]:M.jsx(ch,{width:20,height:20}),[Ee.FRILANS]:M.jsx(Ot,{width:20,height:20}),[Ee.MILITAR_ELLER_SIVILTJENESTE]:M.jsx(Ot,{width:20,height:20}),[Ee.NARING]:M.jsx(Ot,{width:20,height:20}),[Ee.OMSORGSPENGER]:M.jsx(Bt,{width:20,height:20}),[Ee.OPPLARINGSPENGER]:M.jsx(Bt,{width:20,height:20}),[Ee.PLEIEPENGER]:M.jsx(Bt,{width:20,height:20}),[Ee.SVANGERSKAPSPENGER]:M.jsx(fb,{width:20,height:20}),[Ee.SYKEPENGER]:M.jsx(bb,{width:20,height:20}),[Ee.UTENLANDSK_ARBEIDSFORHOLD]:M.jsx(ib,{width:20,height:20}),[Ee.ETTERLONN_SLUTTPAKKE]:M.jsx(Ot,{width:20,height:20})},uy={danger:M.jsx(bm,{}),success:M.jsx(Id,{}),warning:M.jsx(Mh,{})},ky=(e,n,r,t,i)=>e.map((s,a)=>{var l;return{id:a,start:A(xf(s.opptjeningFom,t,i)).toDate(),end:A(If(s.opptjeningTom,t,i)).toDate(),radId:(l=r.find(o=>o.aktivitetTypeKode===s.aktivitetType&&o.arbeidsforholdRef===s.arbeidsforholdRef&&o.arbeidsgiverReferanse===s.arbeidsgiverReferanse))==null?void 0:l.id,status:oy(n[a].erGodkjent)}}),my=(e,n,r)=>e.reduce((t,i)=>(t.some(s=>s.aktivitetType===i.aktivitetType&&s.arbeidsforholdRef===i.arbeidsforholdRef&&s.arbeidsgiverReferanse===i.arbeidsgiverReferanse)||t.push(i),t),[]).map((t,i)=>{const s=n.find(l=>l.kode===t.aktivitetType),a=(s==null?void 0:s.kode)===Ee.AAP?r.formatMessage({id:"OpptjeningTidslinje.Aap"}):s==null?void 0:s.navn;return{id:i+1,label:a||"",aktivitetTypeKode:t.aktivitetType,arbeidsforholdRef:t.arbeidsforholdRef,arbeidsgiverReferanse:t.arbeidsgiverReferanse}}),fy=({opptjeningPerioder:e,formVerdierForAlleAktiviteter:n,fastsattOpptjening:r,valgtAktivitetIndex:t,opptjeningAktivitetTypes:i,setValgtAktivitetIndex:s})=>{const a=te(),l=r==null?void 0:r.opptjeningFom,o=r==null?void 0:r.opptjeningTom,k=j.useMemo(()=>my(e,i,a),[e]),u=j.useMemo(()=>ky(e,n,k,l,o),[n]),f=j.useCallback(c=>{const b=u.find(x=>x.id===c);b&&s(b.id)},[u,s]);return!l||!o?null:M.jsxs(qe,{startDate:A(l).subtract(1,"months").toDate(),endDate:A(o).add(10,"days").toDate(),children:[M.jsxs(qe.Pin,{date:A(l).toDate(),children:[M.jsx(w,{size:"small",children:M.jsx(m,{id:"OpptjeningTidslinje.StartDato"})}),M.jsx(_,{size:"small",children:M.jsx(De,{dateString:l})})]}),M.jsxs(qe.Pin,{date:A(o).toDate(),children:[M.jsx(w,{size:"small",children:M.jsx(m,{id:"OpptjeningTidslinje.SluttDato"})}),M.jsx(_,{size:"small",children:M.jsx(De,{dateString:o})})]}),k.map(c=>M.jsx(qe.Row,{label:c.label,icon:gy[c.aktivitetTypeKode],children:u.filter(b=>b.radId===c.id).map(b=>M.jsx(qe.Period,{start:b.start,end:b.end,status:b.status,icon:uy[b.status],onSelectPeriod:()=>f(b.id),isActive:t===b.id,statusLabel:c.label},b.id))},c.id))]})},vy=[Ee.SYKEPENGER,Ee.FORELDREPENGER,Ee.PLEIEPENGER,Ee.SVANGERSKAPSPENGER,Ee.UTENLANDSK_ARBEIDSFORHOLD],ms=(e,...n)=>!!e&&n.includes(e),cy=e=>e?A(e,Le).format(ie):"-",py=e=>ms(e,Ee.FRILANS)?"ActivityPanel.Oppdragsgiver":"ActivityPanel.Arbeidsgiver",hy=(e,n)=>{const r=n[e];if(!e||!r)return"-";if(r.erPrivatPerson&&r.fødselsdato){const t=cy(r.fødselsdato);return`${r.navn} (${t})`}return r.identifikator?`${r.navn} (${r.identifikator})`:r.navn},by=e=>e.length>0?"ActivityPanel.FerdiglignetNæring":"ActivityPanel.IngenFerdiglignetNæring",jy=({valgtAktivitetstype:e,arbeidsgiverReferanse:n,arbeidsgiverOpplysningerPerId:r,stillingsandel:t,naringRegistreringsdato:i,ferdiglignetNæring:s})=>M.jsxs(di,{gap:"4",children:[ms(e,Ee.ARBEID,Ee.NARING,...vy)&&M.jsxs(ge,{gap:"4",children:[M.jsxs("div",{children:[M.jsx(I,{eightPx:!0}),M.jsx(w,{size:"small",children:M.jsx(m,{id:py(e)})}),M.jsx(_,{size:"small",children:hy(n,r)})]}),ms(e,Ee.ARBEID)&&M.jsxs("div",{children:[M.jsx(I,{eightPx:!0}),M.jsx(w,{size:"small",children:M.jsx(m,{id:"ActivityPanel.Stillingsandel"})}),M.jsx(_,{size:"small",children:t})]})]}),ms(e,Ee.NARING)&&M.jsxs(M.Fragment,{children:[M.jsxs("div",{children:[M.jsx(w,{size:"small",children:M.jsx(m,{id:"ActivityPanel.Registreringsdato"})}),M.jsx(_,{size:"small",children:i?A(i).format(ie):"-"})]}),M.jsxs("div",{children:[M.jsx(w,{size:"small",children:M.jsx(m,{id:by(s)})}),s.sort((a,l)=>a.år<l.år?1:a.år>l.år?-1:0).map(a=>M.jsxs(ge,{gap:"5",children:[M.jsx(_,{size:"small",children:a.år}),M.jsx(_,{size:"small",children:q(a.beløp)})]},a.år))]})]})]}),xy="_explanationTextarea_18tdb_1",Iy="_panel_18tdb_5",Ay="_colMargin_18tdb_9",Ty="_margin_18tdb_13",Ey="_fix_18tdb_17",Wi={explanationTextarea:xy,panel:Iy,colMargin:Ay,margin:Ty,fix:Ey},yy=Rn(3),_y=Pn(1500),fs=(e,n,r)=>e?!!n&&!r:!0,Sy=(e,n)=>{const r=sh(e,n);return r?r.months>=1?M.jsx(m,{id:"ActivityPanel.MonthsAndDays",values:{months:r.months,days:r.days}}):M.jsx(m,{id:"ActivityPanel.Days",values:{days:r.days}}):M.jsx("span",{})},Fy=(e,n,r,t)=>r||fs(t,e,n)?"ActivityPanel.Begrunnelse":"ActivityPanel.BegrunnEndringene",Ny=({readOnly:e,opptjeningAktivitetTyper:n,avbrytAktivitet:r,velgNesteAktivitet:t,velgForrigeAktivitet:i,harAksjonspunkt:s,alleMerknaderFraBeslutter:a,arbeidsgiverOpplysningerPerId:l,valgtOpptjeningAktivitet:o,ferdiglignetNæring:k,oppdaterAktivitet:u,valgteFormValues:f,fastsattOpptjening:c,lukkPeriode:b})=>{var x;const T=te(),N=Qe({defaultValues:f}),{arbeidsgiverReferanse:S,erGodkjent:B,erEndret:y,aktivitetType:O,stillingsandel:$,naringRegistreringsdato:D}=o,Y=xf(o.opptjeningFom,c==null?void 0:c.opptjeningFom,c==null?void 0:c.opptjeningTom),ne=If(o.opptjeningTom,c==null?void 0:c.opptjeningFom,c==null?void 0:c.opptjeningTom),ee=j.useCallback((...U)=>M.jsx("b",{children:U}),[]);return M.jsx(en,{formMethods:N,onSubmit:U=>u(U),children:M.jsxs(Am,{className:Wi.panel,merknaderFraBeslutter:a[ue.VURDER_PERIODER_MED_OPPTJENING],children:[M.jsxs(di,{gap:"2",children:[M.jsxs(ge,{justify:"space-between",children:[M.jsx(oe,{size:"small",children:M.jsx(m,{id:"ActivityPanel.Details"})}),M.jsxs(ge,{gap:"2",children:[M.jsx(se,{className:Wi.margin,size:"xsmall",icon:M.jsx(aa,{"aria-hidden":!0}),onClick:i,variant:"secondary-neutral",type:"button",title:T.formatMessage({id:"Timeline.prevPeriod"}),children:M.jsx(m,{id:"Timeline.prevPeriodShort"})}),M.jsx(se,{className:Wi.margin,size:"xsmall",icon:M.jsx(la,{"aria-hidden":!0}),onClick:t,variant:"secondary-neutral",type:"button",title:T.formatMessage({id:"Timeline.nextPeriod"}),iconPosition:"right",children:M.jsx(m,{id:"Timeline.nextPeriodShort"})}),M.jsx(se,{size:"xsmall",icon:M.jsx(Wn,{"aria-hidden":!0}),onClick:b,variant:"tertiary-neutral",type:"button",title:T.formatMessage({id:"Timeline.lukkPeriode"})})]})]}),M.jsxs(ge,{children:[M.jsxs("div",{className:Wi.colMargin,children:[M.jsx(w,{size:"small",children:M.jsx(m,{id:"ActivityPanel.Period"})}),Y&&ne&&M.jsxs(ge,{gap:"2",children:[M.jsx(_,{size:"small",children:`${A(Y).format(ie)} - ${A(ne).format(ie)}`}),M.jsx(_,{size:"small",children:Sy(Y,ne)})]})]}),M.jsxs("div",{children:[M.jsx(w,{size:"small",children:M.jsx(m,{id:"ActivityPanel.Activity"})}),M.jsx(_,{size:"small",children:(x=n.find(U=>U.kode===O))==null?void 0:x.navn})]})]})]}),M.jsx(I,{eightPx:!0}),M.jsx(jy,{valgtAktivitetstype:O,arbeidsgiverReferanse:S,arbeidsgiverOpplysningerPerId:l,stillingsandel:$,naringRegistreringsdato:D,ferdiglignetNæring:k}),!fs(s,B,y)&&M.jsxs(M.Fragment,{children:[M.jsx(I,{twentyPx:!0}),M.jsx(pe,{name:"erGodkjent",hideLegend:!0,validate:[X],isReadOnly:e,isEdited:y,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:T.formatMessage({id:"ActivityPanel.Godkjent"}),value:"true"},{label:M.jsx(m,{id:"ActivityPanel.IkkeGodkjent",values:{b:ee}}),value:"false"}]})]}),M.jsx(I,{sixteenPx:!0}),M.jsx(un,{name:"begrunnelse",label:M.jsx(m,{id:Fy(B,y,e,s)}),validate:[X,yy,_y,Nn],maxLength:1500,readOnly:e||fs(s,B,y)}),!fs(s,B,y)&&M.jsxs(M.Fragment,{children:[M.jsx(I,{sixteenPx:!0}),M.jsxs(ge,{gap:"4",children:[M.jsx(se,{size:"small",variant:"primary",disabled:!N.formState.isDirty,children:M.jsx(m,{id:"ActivityPanel.Oppdater"})}),M.jsx(se,{size:"small",variant:"secondary",onClick:r,type:"button",children:M.jsx(m,{id:"ActivityPanel.Avbryt"})})]})]})]})})},Ry="_container_ivkzi_1",Py="_info_ivkzi_4",By="_alertstripe__tekst_ivkzi_7",Oy="_alertstripe__tekst_ivkzi_7",$y="_pushRight_ivkzi_10",Vy={container:Ry,info:Py,alertstripe__tekst:By,alertstripeTekst:Oy,pushRight:$y},Dy=e=>{const n=[];e.some(t=>t.stillingsandel===0)&&n.push(M.jsx(m,{id:"OpptjeningFaktaForm.AktivitetenErTimeAvslonnet"},"AktivitetenErTimeAvslonnet"));const r=e.filter(t=>(t.erGodkjent===void 0||t.erGodkjent===null||t.begrunnelse)&&t.stillingsandel!==0);return r.length===1?n.push(M.jsx(m,{id:"OpptjeningFaktaForm.EttArbeidKanGodkjennes"},"EttArbeidKanGodkjennes")):r.length>1&&n.push(M.jsx(m,{id:"OpptjeningFaktaForm.FlereArbeidKanGodkjennes"},"FlereArbeidKanGodkjennes")),n},Gy=e=>A(e).add(1,"days").format(Le),Ly=(e,n)=>[...e].sort((r,t)=>{var i,s;const a=(i=n.find(o=>o.kode===r.aktivitetType))==null?void 0:i.navn,l=(s=n.find(o=>o.kode===t.aktivitetType))==null?void 0:s.navn;return a&&l?a.localeCompare(l):0}),Ig=e=>fm(e,1),My=(e,n)=>n?e.filter(r=>A(n.opptjeningFom).isBefore(Ig(r.opptjeningTom))).filter(r=>A(r.opptjeningFom).isBefore(Ig(n.opptjeningTom))):[],Ky=({hasAksjonspunkt:e,hasOpenAksjonspunkter:n,opptjeningAktiviteter:r,readOnly:t,alleMerknaderFraBeslutter:i,alleKodeverk:s,arbeidsgiverOpplysningerPerId:a,fastsattOpptjening:l,ferdiglignetNæring:o,submitCallback:k,formData:u,setFormData:f})=>{const c=s[Zn.OPPTJENING_AKTIVITET_TYPE],b=j.useMemo(()=>r&&l?Ly(My(r,l),c):[],[r,l]),x=b.map(H=>({erGodkjent:H.erGodkjent,begrunnelse:H.begrunnelse})),[T,N]=j.useState(u||x),S=b.findIndex(H=>H.erGodkjent===void 0),B=b.length>0?0:void 0,[y,O]=j.useState(S!==-1?S:B),[$,D]=j.useState(!1);j.useEffect(()=>()=>{f(T)},[T]),j.useEffect(()=>{const H=T.findIndex(ae=>ae.erGodkjent===void 0);O(H!==-1?H:void 0)},[T]);const Y=j.useCallback(()=>{D(!0);const H=b.map((ae,ye)=>({arbeidsforholdRef:ae.arbeidsforholdRef,arbeidsgiverReferanse:ae.arbeidsgiverReferanse,opptjeningFom:ae.opptjeningFom,opptjeningTom:ae.opptjeningTom,aktivitetType:ae.aktivitetType,erGodkjent:T[ye].erGodkjent,begrunnelse:T[ye].begrunnelse})).filter(ae=>ae.begrunnelse);k({opptjeningsaktiviteter:H,kode:ue.VURDER_PERIODER_MED_OPPTJENING}).then(()=>D(!1))},[b,T]),ne=j.useCallback(()=>{y!==void 0&&y<b.length-1&&O(y+1)},[y]),ee=j.useCallback(()=>{y!==void 0&&y>0&&O(y-1)},[y]),U=j.useCallback(H=>{y!==void 0&&N(ae=>Object.assign([],ae,{[y]:H}))},[N,y]),V=j.useCallback(()=>O(void 0),[]),C=j.useCallback(()=>{O(void 0)},[]),Z=T.some(H=>H.erGodkjent===null||H.erGodkjent===void 0);return M.jsxs("div",{className:Vy.container,children:[e&&M.jsxs(M.Fragment,{children:[M.jsx(oa,{isAksjonspunktOpen:n,children:Dy(b)}),M.jsx(I,{twentyPx:!0})]}),M.jsx(w,{size:"small",children:M.jsx(m,{id:"OpptjeningFaktaForm.Skjaringstidspunkt"})}),M.jsx(_,{size:"small",children:M.jsx(De,{dateString:Gy(l==null?void 0:l.opptjeningTom)})}),M.jsx(I,{twentyPx:!0}),M.jsx(fy,{opptjeningPerioder:b,formVerdierForAlleAktiviteter:T,opptjeningAktivitetTypes:c,setValgtAktivitetIndex:O,valgtAktivitetIndex:y,fastsattOpptjening:l}),M.jsx(I,{fourtyPx:!0}),y!==void 0&&M.jsxs(M.Fragment,{children:[M.jsx(Ny,{valgtOpptjeningAktivitet:b[y],valgteFormValues:T[y],readOnly:t,opptjeningAktivitetTyper:c,avbrytAktivitet:V,oppdaterAktivitet:U,fastsattOpptjening:l,velgNesteAktivitet:ne,velgForrigeAktivitet:ee,harAksjonspunkt:e,alleMerknaderFraBeslutter:i,alleKodeverk:s,arbeidsgiverOpplysningerPerId:a,ferdiglignetNæring:o,lukkPeriode:C},y),M.jsx(I,{twentyPx:!0})]}),e&&b.length>0&&M.jsx(se,{size:"small",variant:"primary",onClick:Y,disabled:y!==void 0||$||t||Z,loading:$,type:"button",children:M.jsx(m,{id:"OpptjeningFaktaForm.Confirm"})})]})},wy={"OpptjeningFaktaForm.Skjaringstidspunkt":"Skjæringstidspunkt for opptjening","OpptjeningFaktaForm.EttArbeidKanGodkjennes":"Vurder om aktiviteten kan godkjennes","OpptjeningFaktaForm.FlereArbeidKanGodkjennes":"Vurder om aktivitetene kan godkjennes","OpptjeningFaktaForm.AktivitetenErTimeAvslonnet":"Arbeidet er timeavlønnet. Slå opp i A-ordningen for å vurdere opptjeningen","OpptjeningFaktaForm.DetErInnhentetDok":"Det er innhentet dokumentasjon på opptjening i utlandet","OpptjeningFaktaForm.DetErIkkeInnhentetDok":"Det er <b>ikke</b> innhentet dokumentasjon på opptjening i utlandet","OpptjeningFaktaForm.Confirm":"Bekreft og fortsett","ActivityPanel.Details":"Detaljer for valgt aktivitet","ActivityPanel.Period":"Periode","ActivityPanel.Activity":"Aktivitet","ActivityPanel.Godkjent":"Aktiviteten godkjennes","ActivityPanel.IkkeGodkjent":"Aktiviteten godkjennes <b>ikke</b>","ActivityPanel.BegrunnEndringene":"Begrunn endringene","ActivityPanel.Begrunnelse":"Begrunnelse","ActivityPanel.Oppdater":"Oppdater","ActivityPanel.Avbryt":"Avbryt","ActivityPanel.MonthsAndDays":"({months} mndr. {days} dager)","ActivityPanel.Days":"({days} dager)","ActivityPanel.Arbeidsgiver":"Arbeidsgiver","ActivityPanel.Oppdragsgiver":"Oppdragsgiver","ActivityPanel.Stillingsandel":"Stillingsandel","ActivityPanel.Registreringsdato":"Registreringsdato","ActivityPanel.FerdiglignetNæring":"Ferdiglignet næringsinntekt","ActivityPanel.IngenFerdiglignetNæring":"Ingen ferdiglignet næringsinntekt","OpptjeningTidslinje.StartDato":"Start opptjeningsperiode","OpptjeningTidslinje.SluttDato":"Slutt opptjeningsperiode","OpptjeningTidslinje.Aap":"AAP","Timeline.lukkPeriode":"Lukk periode","Timeline.nextPeriod":"Neste periode","Timeline.nextPeriodShort":"Neste","Timeline.prevPeriod":"Forrige periode","Timeline.prevPeriodShort":"Forrige","Timeline.openData":"Åpne info om første periode"},Uy=Me(wy),Af=({opptjening:e,aksjonspunkter:n,alleMerknaderFraBeslutter:r,alleKodeverk:t,harApneAksjonspunkter:i,submitCallback:s,readOnly:a,arbeidsgiverOpplysningerPerId:l,formData:o,setFormData:k})=>{const u=e?e.fastsattOpptjening:void 0,f=e?e.opptjeningAktivitetList:void 0,c=(e==null?void 0:e.ferdiglignetNæring)||[];return M.jsx(Ze,{value:Uy,children:M.jsx(Ky,{readOnly:a,hasOpenAksjonspunkter:i,hasAksjonspunkt:n[0]!==void 0,alleMerknaderFraBeslutter:r,alleKodeverk:t,arbeidsgiverOpplysningerPerId:l,opptjeningAktiviteter:f,fastsattOpptjening:u,ferdiglignetNæring:c,submitCallback:s,formData:o,setFormData:k})})};Af.__docgenInfo={description:"",methods:[],displayName:"nn"};const Cy=[ue.VURDER_PERIODER_MED_OPPTJENING],Yy=[Je.OPPTJENING],Ag=({arbeidsgiverOpplysningerPerId:e,...n})=>$e.jsx(Sr,{...n,panelEndepunkter:Yy,aksjonspunktKoder:Cy,faktaPanelKode:yr.OPPTJENINGSVILKARET,faktaPanelMenyTekst:te().formatMessage({id:"OpptjeningInfoPanel.KontrollerFaktaForOpptjening"}),skalPanelVisesIMeny:()=>!!n.behandling.vilkår&&n.behandling.vilkår.some(r=>r.vilkarType===_r.OPPTJENINGSVILKARET)&&n.behandling.vilkår.some(r=>r.vilkarType===_r.MEDLEMSKAPSVILKARET&&r.vilkarStatus===jm.OPPFYLT),renderPanel:r=>$e.jsx(Af,{arbeidsgiverOpplysningerPerId:e,...r})});try{Ag.displayName="OpptjeningsvilkaretFaktaInitPanel",Ag.__docgenInfo={description:"OpptjeningsvilkaretFaktaInitPanel",displayName:"OpptjeningsvilkaretFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}const ma="https://navno.sharepoint.com/:x:/s/fag-og-ytelser-familie-foreldrepenger/EaB60qfvI_JNlSDbhFXp6FoBIw3G260Wp6zOm78U6aFrng?e=3Jy3sn";var Ue=(e=>(e.AVKLAR_AKTIVITETER="AVKLAR_AKTIVITETER",e.VURDER_FAKTA_FOR_ATFL_SN="VURDER_FAKTA_ATFL_SN",e.OVERSTYRING_AV_BEREGNINGSAKTIVITETER="OVST_BEREGNINGSAKTIVITETER",e.OVERSTYRING_AV_BEREGNINGSGRUNNLAG="OVST_INNTEKT",e))(Ue||{}),Tg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tf={exports:{}},Lt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg;function zy(){if(Eg)return Lt;Eg=1;var e=K,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,o,k){var u,f={},c=null,b=null;k!==void 0&&(c=""+k),o.key!==void 0&&(c=""+o.key),o.ref!==void 0&&(b=o.ref);for(u in o)t.call(o,u)&&!s.hasOwnProperty(u)&&(f[u]=o[u]);if(l&&l.defaultProps)for(u in o=l.defaultProps,o)f[u]===void 0&&(f[u]=o[u]);return{$$typeof:n,type:l,key:c,ref:b,props:f,_owner:i.current}}return Lt.Fragment=r,Lt.jsx=a,Lt.jsxs=a,Lt}Tf.exports=zy();var g=Tf.exports;const Kd={"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning":"Vurder fakta for beregningen","BeregningInfoPanel.AksjonspunktHelpText.ForSentRefusjonskrav":"{arbeidsgiverVisningsnavn} har minst ett refusjonskrav som har kommet for sent.","BeregningInfoPanel.TidsbegrensetArbFor.Arbeidsforhold":"Er arbeidsforholdet i {navn} med varighet {fom} - {tom} tidsbegrenset?","BeregningInfoPanel.FormAlternativ.Ja":"Ja","BeregningInfoPanel.FormAlternativ.Nei":"Nei","BeregningInfoPanel.NyIArbeidslivet.SelvstendigNaeringsdrivende":"Ble søker yrkesaktiv i løpet av de siste tre årene?","BeregningInfoPanel.NyIArbeidslivet.HvordanGarJegFrem1":"En næringsdrivende er “ny i arbeidslivet” når de i løpet av de tre siste årene har begynt i arbeidslivet, og i den forbindelse startet en virksomhet. Dette kan for eksempel være en student som etter eksamen oppretter et firma.","BeregningInfoPanel.NyIArbeidslivet.HvordanGarJegFrem2":"For å finne ut når søker ble yrkesaktiv, kan du se i Brønnøysundregistrene når næringsvirksomheten ble registert. Du kan også bruke A-inntekt for å se om søker har hatt annen inntekt de tre siste ferdiglignede årene.","BeregningInfoPanel.NyIArbeidslivet.HvordanGarJegFrem3":"Hvis du velger “ja”, kan du skjønnsfastsette næringsinntekten i neste steg, selv om avviket ikke er over 25 prosent. Hvis du velger “nei”, brukes hovedregler for beregning av næringsinntekt.","BeregningInfoPanel.FormAlternativ.JaMaanedsinntektMaaFastsettes":"Ja (månedsinntekt må fastsettes)","BeregningInfoPanel.FormAlternativ.NeiBrukerAInntekt":"Nei (bruker A-inntekt)","BeregningInfoPanel.TidsbegrensetArbeidsforholdForm.ReadMore":"Gå til A-inntekt og sjekk at informasjon om tidsbegrenset arbeidsforhold stemmer overens med informasjonen her. Ved å velge “ja”, gir det mulighet til å skjønnsfastsette de ulike periodene i beregning.","AvklarAktivitetPanel.Overskrift":"Aktiviteter i beregningsgrunnlaget","AvklarAktivitetPanel.Overskrift.Skjaeringstidspunkt":"Skjæringstidspunkt: {skjaeringstidspunkt}","AvklarAktivitetPanel.ButtonText":"Oppdater","AvklarAktivitetPanel.OverstyrText":"Overstyr","AvklareAktiviteter.Avbryt":"Avbryt","VurderAktiviteterTabell.FullAAPKombinert.Overskrift":"Søker har full AAP sammen med andre aktiviteter","VurderAktiviteterTabell.VentelonnVartpenger.Overskrift":"Søker har ventelønn eller vartpenger som siste aktivitet. Skjæringstidspunkt for beregning {skjaeringstidspunkt}","VurderAktiviteterTabell.Overstyrt.Overskrift":"Skjæringstidspunkt for beregning {skjaeringstidspunkt}","BeregningInfoPanel.NyoppstartetFLForm.ErSokerNyoppstartetFL":"Startet søker som frilanser i løpet av de siste 3 månedene før skjæringstidspunktet?","BeregningInfoPanel.NyoppstartetFLForm.HvordanGarJegFrem1":"Gå til Aa-registeret og A-inntekt for å se frilansoppdrag og inntekter.","BeregningInfoPanel.NyoppstartetFLForm.HvordanGarJegFrem2":"Undersøk om søker faktisk var nyoppstartet frilanser i beregningsperioden. Frilansere har ofte ujevne utbetalinger, og kan bli meldt inn/ut av Aa-registeret selvom de fast jobber som frilanser. Hvis dette er tilfelle skal du velge ”nei”.","BeregningInfoPanel.VurderOgFastsettATFL.FastsettFrilans":"Fastsett frilansinntekt","BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLAlleOppdrag":"Fastsett arbeidsinntekt og samlet frilansinntekt for alle oppdrag.","BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLSamlet":"Fastsett arbeidsinntekt og samlet frilansinntekt","BeregningInfoPanel.VurderOgFastsettATFL.FastsettArbeidsinntekt":"Fastsett arbeidsinntekt","BeregningInfoPanel.LonnsendringForm.HarSokerEndring":"Har søker hatt lønnsendring i løpet av de siste tre månedene?","BeregningInfoPanel.LonnsendringForm.HvaBetyrDette":"Hva betyr dette?","BeregningInfoPanel.LonnsendringForm.HvaBetyrDette1":"En arbeidstaker som får en varig lønnsendring i eller etter beregningsperioden, men før skjæringstidsspunktet, skal ha lønnsendringen med i beregningsgrunnlaget.","BeregningInfoPanel.LonnsendringForm.HvaBetyrDette2":"Med varig lønnsendring menes alle lønnsendringer som ikke er midlertidige, og gjelder både ved lønnsøkning og lønnsreduksjon.","BeregningInfoPanel.LonnsendringForm.HvaBetyrDette3":"Dette kan eksempelvis være endring av lønn etter lokale lønnsforhandlinger eller tariffendringer. Det kan også være en varig endring av stillingsprosent med dertil endret lønn.","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilansUtenFrilans":"Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for frilansaktivitet?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilans":"Mottar søker ytelse for frilansaktivitet?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForArbeid":"Mottar søker ytelse for arbeid i {arbeid}?","BeregningInfoPanel.VurderMottarYtelse.FastsettManedsinntektFrilans":"Fastsett månedsinntekt for frilans","BeregningInfoPanel.VurderMottarYtelse.FastsettNyManedsinntekt":"Fastsett ny månedsinntekt","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseArbeidsforhold.HvordanGarJegFrem1":"Undersøk om søker har mottatt ytelse i beregningsperioden. I noen tilfeller kan det være feilregistreringer fra andre systemer og du skal da velge ”nei”.","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseArbeidsforhold.HvordanGarJegFrem2":"For å se om søker har mottatt ytelse kan du for eksempel bruke A-inntekt (filter 8-30), se på utbetalinger i Modia eller vedtaksbrev i Gosys.","BeregningInfoPanel.VurderMottarYtelse.Frilans.HvordanGarJegFrem1":"Undersøk om søker har mottatt ytelse i beregningsperioden. I noen tilfeller kan det være feilregistreringer fra andre systemer og du skal da velge “nei”.","BeregningInfoPanel.VurderMottarYtelse.Frilans.HvordanGarJegFrem2":"For å se om søker har mottatt ytelse kan du for eksempel bruke A-inntekt (filter 8-30), se på utbetalinger i Modia eller vedtaksbrev i Gosys.","BeregningInfoPanel.InntektInputFields.ManedsinntektBedrift":"Fastsett månedsinntekt for {bedrift}","BeregningInfoPanel.InntektInputFields.ManedsinntektDagpenger":"Fastsett månedsinntekt dagpenger","BeregningInfoPanel.InntektInputFields.LonnsendringFremgangsmate1":"Bruk A-inntekt til å fastsette ny månedsinntekt hvis mulig.","BeregningInfoPanel.InntektInputFields.LonnsendringFremgangsmate2":"Hvis ny inntekt ikke fremgår av A-inntekt, kontakt arbeidsgiver og be de sende oppdatert inntektsmelding. Eventuelt kan du kontakte søker og be de dokumentere varig lønnsøkning med kontrakt, lønnslipp eller lignende.","BeregningInfoPanel.InntektInputFields.LonnsendringFremgangsmate3":"Eksempel: En person får en varig lønnsendring med virkning fra 5. oktober. Vedkommende har første fraværsdato 20. oktober og beregningsperioden er september, august og juli. Ved fastsettelse av inntekt skal tidsrommet etter lønnsendringen 5. oktober legges til grunn.","BeregningInfoPanel.InntektInputFields.FrilanserFremgangsmate1":"Benytt A-inntekt (filter 8-30) eller utbetalinger i Modia for å se hvor mye søker har mottatt i ytelse i beregningsperioden.","BeregningInfoPanel.InntektInputFields.FrilanserFremgangsmate2":"Bruk A-inntekt for å finne gjennomsnittet av frilansinntekten i beregningsperioden.","BeregningInfoPanel.InntektInputFields.FrilanserFremgangsmate3":"Fastsett månedsinntekten under ved å summere gjennomsnitt av mottatt ytelse og frilansinntekt.","BeregningInfoPanel.InntektInputFields.NyoppstartetFrilansFremgangsmate1":"Fastsett månedsinntekt ut ifra antall måneder/dager med utbetaling.","BeregningInfoPanel.InntektInputFields.NyoppstartetFrilansFremgangsmate2":"Eksempel: {br} Hvis søker startet som frilanser for 2 mnd siden, skal samlet inntekt deles på 2 og ikke 3. Hvis det er under 1 mnd siden oppstart, må du regne om inntekt til dagsats per virkedag. Dagsats x 260 / 12 mnd = månedsinntekt.","BeregningInfoPanel.InntektInputFields.ATFLSammeOrgFremgangsmate1":"Trekk fra arbeidsinntekt oppgitt i inntektsmelding eller det arbeidsgiver opplyser på telefon fra totalinntekt i A-inntekt. Ta hensyn til eventuelle lønnsendringer.","BeregningInfoPanel.InntektInputFields.ATFLSammeOrgFremgangsmate2":"Restbeløp er frilansinntekt.","BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem":"Hvordan går jeg frem?","BeregningInfoPanel.InntektInputFields.HvordanGarJegFremForFastsetteManedsinntekt":"Hvordan går jeg frem for å fastsette månedsinntekten for ytelsen?","BeregningInfoPanel.InntektInputFields.HvaBetyrInntektskategori":"Hva betyr inntektskategori?","BeregningInfoPanel.AvklareAktiviteterField.HvordanGarJegFrem1":"Undersøk i Modia om søker har full AAP.","BeregningInfoPanel.AvklareAktiviteterField.HvordanGarJegFrem2":"Ved full AAP skal arbeidsinntekten ikke benyttes.","BeregningInfoPanel.VurderFaktaBeregningField.ATFLSammeOrg":"<h3>Søker er arbeidstaker og frilans i samme virksomhet.</h3>Inntekter er rapportert inn på samme org. nummer, og inntektene kan ikke skilles fra hverandre. Fastsett hva som er arbeidsinntekt og hva som er samlet frilansinntekt.","BeregningInfoPanel.VurderFaktaBeregningField.VurderLonnsendringHelpText":"<h3>Vurder om søker har hatt lønnsendring</h3>Det er registrert lønnsendring, men ny inntekt kan ikke fastsettes av systemet. Vurder om registrert lønnsendring er riktig og fastsett ny månedsinntekt.","BeregningInfoPanel.VurderFaktaBeregningField.VurderMottarYtelseHelpTextFrilans":"<h3>Vurder om søker mottar ytelse for frilansaktivitet</h3>Det er funnet utbetaling av ytelse i beregningsperioden, men utbetalt beløp kan ikke hentes fra registrene.","BeregningInfoPanel.VurderFaktaBeregningField.VurderMottarYtelseHelpTextArbeidstaker":"<h3>Vurder om søker mottar ytelse for arbeidsforhold</h3>Det er funnet utbetaling av ytelse i beregningsperioden, men utbetalt beløp kan ikke hentes fra registrene.","BeregningInfoPanel.VurderFaktaBeregningField.VurderEtterlonnSluttpakkeHelpText":"<h3>Vurder om søker har etterlønn eller sluttvederlag i beregningsperioden</h3>Søker har oppgitt etterlønn eller sluttvederlag i søknaden.","BeregningInfoPanel.VurderFaktaBeregningField.VurderMilitaerSiviltjenesteHelpText":"<h3>Vurder om søker har vært i militær- eller siviljeneste i opptjeningsperioden</h3>Søker har oppgitt militær- eller siviltjeneste i søknaden.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelseHelpText":"<h3>Søker har ytelse som eneste inntekt</h3>Det er funnet utbetaling av ytelse i beregningsperioden, men beløp og inntektskategori kan ikke hentes fra registrene.","BeregningInfoPanel.VurderFaktaBeregningField.VurderNyoppstartetFLHelpText":"<h3>Vurder om frilanser er nyoppstartet</h3>Det er funnet frilansoppdrag med oppstartsdato i beregningsperioden. Vurder om frilansoppdrag er nyoppstartet, og om det skal benyttes en kortere periode for å fastsette inntekt.","BeregningInfoPanel.VurderFaktaBeregningField.VurderSNNyIArbeidslivetHelpText":"<h3>Vurder om søker ble yrkesaktiv i løpet av de siste tre årene</h3>Søker har oppgitt i søknaden at de er selvstendig næringsdrivende og ny i arbeidslivet.","BeregningInfoPanel.VurderFaktaBeregningField.VurderRefusjonskravKommetForSentHelpText":"<h3>Vurder refusjonskrav som har kommet for sent</h3>{arbeidsgiverVisningsnavn} har minst ett refusjonskrav som har kommet for sent.","BeregningInfoPanel.VurderFaktaBeregningField.TidsbegrensetArbeidsforholdHelpText":"<h3>Vurder om arbeidsforholdet er tidsbegrenset</h3>Det er funnet sluttdato frem i tid for arbeidsforholdet og arbeidsforholdet er kortere enn 6 måneder.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt1":"Gå til A-inntekt for å finne brukerens inntekter.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt2":"Bruk først filter §8-28 og finn samlet inntekt for de 3 siste månedene før skjæringstidspunktet (utbetalinger fra Nav ligger ikke i dette filteret, kan derfor være 0). Regn om til årsinntekt.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt3":"Bruk så filter §8-30 og regn ut den totale inntekten for de siste 12 månedene før skjæringstidspunktet.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt4":"Regn ut månedsinntekt ved å finne differansen mellom rapportert inntekt (§8-30 filter) og omregnet årsinntekt (§8-28 filter) / 12 måneder.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt5":"Regn ut avviket ved å bruke månedsinntekt x 100 / rapportert inntekt de siste 12 kalendermånedene = avvik i prosent.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt6":"Dersom det er mer enn 25 prosent differanse i avviksberegningen skal det fastsettes ved skjønn.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvaBetyrInntektskategori1":"Inntektskategori er den arbeidsaktiviteten ytelsen som ligger til grunn er beregnet ut ifra.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvaBetyrInntektskategori2":"Hvis ytelsen er beregnet fra annen ytelse, skal du ta utgangspunkt i den første ytelsen det ble beregnet grunnlag fra.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvaBetyrInntektskategori3":"Du finner inntektskategorien ytelsen er basert på i Modia.","BeregningInfoPanel.VurderBestebergning.HarBesteberegning":"Søker har hatt dagpenger i opptjeningsperioden. Skal dette fordeles etter besteberegning?","InntektstabellPanel.Avbryt":"Avbryt overstyring","BeregningInfoPanel.FordelingBG.LeggTilAndel":"Legg til aktivitet","BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet":"Finn regneark på navet","BeregningInfoPanel.FordelingBG.Sum":"Sum","BeregningInfoPanel.FordelingBG.Andel":"Aktivitet","BeregningInfoPanel.FordelingBG.Arbeidsperiode":"Arbeidsperiode","BeregningInfoPanel.FordelingBG.Refusjonskrav":"Refusjonskrav","BeregningInfoPanel.FordelingBG.Fordeling":"Månedsinntekt","BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn":"Fastsett månedsinntekt for {andel}","BeregningInfoPanel.FordelingBG.InntektskategoriMedAndelnavn":"Inntektskategori for {andel}","BeregningInfoPanel.FordelingBG.Inntektskategori":"Inntektskategori","BeregningInfoPanel.FordelingBG.LeggTilDagpengerAndel":"Legg til dagpenger","BeregningInfoPanel.FordelingBG.FjernDagpenger":"Fjern dagpenger","BeregningInfoPanel.FordelingBG.Ytelse":"Ytelse","BeregningInfoPanel.FordelingBG.FjernAndel":"Fjern aktivitet","AvklareAktiviteter.OverstyrerAktivitetAdvarsel":"Overstyr hvilke aktiviteter og eventuelle inntektsmeldinger som skal benyttes i beregning.","VurderAktiviteterTabell.Header.Aktivitet":"Aktivitet","VurderAktiviteterTabell.Header.Periode":"Periode","VurderAktiviteterTabell.Header.Benytt":"Benytt","VurderAktiviteterTabell.Header.IkkeBenytt":"Ikke benytt","VurderAktiviteterTabell.Validation.MåHaMinstEnAktivitet":"Må ha minst én aktivitet for å kunne fastsette beregningsgrunnlag","BeregningInfoPanel.AksjonspunktHelpText.VurderAktiviteter":"Vurder hvilke aktiviteter som skal benyttes i beregningsgrunnlaget.","BeregningInfoPanel.KunstigArbeidsforhold.FastsettKunstigArbeidsforhold":"Det finnes ikke registerdata for arbeidsforholdet og det er ikke mottatt inntektsmelding. Fastsett månedsinntekt for arbeidsforholdet","KunYtelsePanel.Overskrift":"Søker har ytelse som eneste inntekt. Fastsett månedsbeløp for fordeling av beregningsgrunnlaget.","KunYtelsePanel.HarBesteberegning":"Søker har ytelse som eneste inntekt. Skal denne fordeles etter besteberegning?","KunYtelsePanel.OverskriftBesteberegning":"Fastsett månedsbeløp for brutto beregningsgrunnlag etter besteberegning","KunYtelsePanel.RapporterteInntekter":"Rapporterte inntekter","BeregningInfoPanel.FordelBG.Validation.UlikeAndeler":"Andeler for samme aktivitet må ha ulik inntektskategori","InntektstabellPanel.RapporterteInntekter":"Rapporterte inntekter","BeregningInfoPanel.EtterlønnSluttpakke.HarSøkerInntekt":"Har søker etterlønn eller sluttvederlag?","BeregningInfoPanel.EtterlønnSluttpakke.HvordanGarJegFrem1":"Gå til A-inntekt og se om etterlønn eller sluttvederlag er rapportert. Hvis ikke, kontakt søker og be de dokumentere etterlønn/sluttvederlag med avtale el.","BeregningInfoPanel.VurderMilitaer.HarSøkerMilitærinntekt":"Har søker vært i militær- eller sivilforsvarstjeneste i opptjeningsperioden?","BeregningInfoPanel.VurderMilitaer.HvordanGarJegFrem1":"Kontakt søker og be om dokumentasjon på avtjent tjeneste i opptjeningsperioden. Vurder om tjenesten har vart eller var ment å vare mer enn 28 dager i henhold til §8-46. Denne informasjonen er ikke tilgjengelig i noen registre, og vi må derfor ha dokumentasjon fra søker.","BeregningInfoPanel.VurderMilitaer.HvordanGarJegFrem2":"Svarer du ”ja” vil utbetalingen bli minst 2G (pleiepenger) / 3G (foreldrepenger). Svarer du ”nei” beregnes det etter vanlige regler.","VurderRefusjonForm.ErRefusjonskravGyldig":"Skal refusjonskrav som ikke har kommet innen fristen tas med i beregning?","VurderRefusjonForm.ReadMore":"Undersøk om det har vært fristavbrytende kontakt med arbeidsgiver innen frist for refusjonskrav (3 måneder).","BeregningInfoPanel.Validation.MinstEnFastsatt":"Må ha overstyrt inntekt for minst én aktivitet.","FaktaBegrunnelseTextField.BegrunnEndringene":"Begrunn endringene","FaktaBegrunnelseTextField.Begrunnelse":"Begrunnelse","SubmitButton.ConfirmInformation":"Bekreft og fortsett"},Hy="_tabsContainer_1yyvp_1",Jy="_main_1yyvp_9",yg={tabsContainer:Hy,main:Jy},ni="avklarAktiviteterForm",Kn="vurderFaktaBeregningForm",qy="_begrunnelseTextField_12bwv_1",Wy="_explanationTextarea_12bwv_4",Zy="_explanationTextareaReadOnly_12bwv_7",Da={begrunnelseTextField:qy,explanationTextarea:Wy,explanationTextareaReadOnly:Zy},_g=Me(Kd),Xy=Rn(3),Qy=Pn(1500),$r=({isReadOnly:e,isSubmittable:n,hasBegrunnelse:r,label:t,hasVurderingText:i,name:s})=>{const a=i?"FaktaBegrunnelseTextField.Vurdering":"FaktaBegrunnelseTextField.Begrunnelse",l=t||_g.formatMessage({id:a});return g.jsx(Ze,{value:_g,children:(n||r)&&g.jsx("div",{className:Da.begrunnelseTextField,children:g.jsx(un,{name:s,label:e?"":l,validate:e?[]:[X,Xy,Qy,Nn],className:e?Da.explanationTextareaReadOnly:Da.explanationTextarea,maxLength:1500,readOnly:e})})})};$r.defaultProps={name:"begrunnelse",hasVurderingText:!1};$r.buildInitialValues=(e,n="begrunnelse")=>({[n]:ta(e)});$r.transformValues=(e,n="begrunnelse")=>({begrunnelse:e[n]});const e_=Me(Kd),n_=(e,n,r,t)=>!e&&!r||n?!0:t===void 0?!e:!e&&t||t,Ef=({isReadOnly:e,isSubmittable:n,isSubmitting:r,isDirty:t,text:i,onClick:s,hasEmptyRequiredFields:a,isDisabled:l})=>e?null:g.jsx(se,{size:"small",loading:r,disabled:n_(t,r,n,a)||!!l,onClick:s||ia,type:s?"button":"submit",children:i||e_.formatMessage({id:"SubmitButton.ConfirmInformation"})}),vn=(e,n)=>n.some(r=>r.definisjon===e),r_=e=>e===ga.OPPRETTET,Ga=e=>e?`...${e.substring(e.length-4,e.length)}`:"",Vr=(e,n)=>e.erPrivatPerson?e.fødselsdato?`${e.navn} (${A(e.fødselsdato).format(ie)})${Ga(n)}`:`${e.navn}${Ga(n)}`:`${e.navn} (${e.identifikator})${Ga(n)}`,t_=(e,n)=>e.arbeidsforholdId?n+e.arbeidsforholdId:n,Sg=(e,n)=>e+n.fom.replace(".",""),on=e=>{if(e.arbeidsgiverIdent){const n=t_(e,e.arbeidsgiverIdent);return Sg(n,e)}return Sg(e.arbeidsforholdType,e)},i_=(e,n)=>e||n,vs=(e,n,r,t,i)=>!n&&!r||e.arbeidsforholdType&&e.arbeidsforholdType===Fn.AAP?!1:n?i_(t,i):!0,s_=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?n[e.arbeidsgiverIdent]:void 0;return i?Vr(i,e.eksternArbeidsforholdId):e.arbeidsforholdType&&((t=r[be.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn)||""},a_=(e,n)=>A(e).isSame(A(n))||A(e).isBefore(A(n)),l_=(e,n,r,t)=>vs(e,n,r,t,!1)?e.skalBrukes===void 0||e.skalBrukes===null?void 0:e.skalBrukes.toString():e.skalBrukes===!0||e.skalBrukes===null||e.skalBrukes===void 0?"true":"false",d_=(e,n,r,t,i,s)=>({beregningAktivitetNavn:s_(e,s,n),fom:e.fom,tom:e.tom,skalBrukes:l_(e,r,t,i)}),o_=(e,n,r,t)=>{const i=a_(r,t);return n.filter(s=>e.aktiviteterValues&&(e.aktiviteterValues[on(s)].skalBrukes==="false"||e.aktiviteterValues[on(s)].tom!=null)).map(s=>({oppdragsgiverOrg:s.arbeidsgiverIdent&&s.arbeidsgiverIdent.length===9?s.arbeidsgiverIdent:void 0,arbeidsforholdRef:s.arbeidsforholdId,fom:s.fom,tom:e.aktiviteterValues&&e.aktiviteterValues[on(s)].tom!=null?e.aktiviteterValues[on(s)].tom:s.tom,opptjeningAktivitetType:s.arbeidsforholdType,arbeidsgiverIdentifikator:s.arbeidsgiverIdent,skalBrukes:i&&e.aktiviteterValues?e.aktiviteterValues[on(s)].skalBrukes==="true":!0}))},g_=(e,n,r,t,i,s)=>{const a={};return e&&e.forEach(l=>{a[on(l)]=d_(l,n,r,t,i,s)}),a},u_="_radios_4fctu_1",k_="_navnKol_4fctu_10",m_="_table_4fctu_15",Zt={radios:u_,navnKol:k_,table:m_},f_=(e,n)=>A(e).isSame(A(n))||A(e).isBefore(A(n)),Fg=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?n[e.arbeidsgiverIdent]:void 0;return i?Vr(i,e.eksternArbeidsforholdId):e.arbeidsforholdType&&((t=r[be.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn)||""},v_=({readOnly:e,isAvklaringsbehovClosed:n,aktivitet:r,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:a,valgtSkjæringstidspunkt:l,ingenAktiviterErBrukt:o,arbeidsgiverOpplysningerPerId:k,fieldId:u})=>{const f=te(),c=f_(l,a),b=x=>{const T=Fg(r,k,t),N=`${Ss(r.fom)} til ${Ss(r.tom||"")}`;return`${x?"Benytt":"Ikke benytt"} ${T} ${N}`};return g.jsxs(re.Row,{children:[g.jsx(re.DataCell,{className:Zt.navnKol,children:g.jsx(_,{size:"small",children:Fg(r,k,t)})}),g.jsxs(re.DataCell,{className:Zt.rowalign,children:[!i&&g.jsx(_,{children:g.jsx(Ye,{size:"small",dateStringFom:r.fom,dateStringTom:r.tom})}),i&&g.jsxs("div",{children:[g.jsxs(_,{as:"span",size:"small",children:[g.jsx(De,{dateString:r.fom})," -"," "]}),g.jsx(or,{name:`avklarAktiviteterForm.${u}.aktiviteterValues.${on(r)}.tom`,validate:[X,Sn],isReadOnly:e,size:"small"})]})]}),g.jsx(re.DataCell,{className:Zt.radios,children:g.jsx(pe,{name:`avklarAktiviteterForm.${u}.aktiviteterValues.${on(r)}.skalBrukes`,label:f.formatMessage({id:"VurderAktiviteterTabell.Header.Benytt"}),validate:[X],isHorizontal:!0,isReadOnly:e||!vs(r,i,s,c,o),radios:[{value:"true",label:b(!0)}],hideLegend:!0,hideRadioLabels:!0})}),g.jsx(re.DataCell,{className:Zt.radios,children:g.jsx(pe,{name:`avklarAktiviteterForm.${u}.aktiviteterValues.${on(r)}.skalBrukes`,label:f.formatMessage({id:"VurderAktiviteterTabell.Header.IkkeBenytt"}),validate:[X],isHorizontal:!0,isReadOnly:e||!vs(r,i,s,c,o),radios:[{value:"false",label:b(!1)}],hideLegend:!0,hideRadioLabels:!0})}),g.jsx(re.DataCell,{children:n&&e&&vs(r,i,s,c,o)&&g.jsx(ht,{})})]},on(r))},c_=(e,n,r)=>{const t=Sn(r)?"":A(r).format(ie);return e.some(i=>i.arbeidsforholdType&&i.arbeidsforholdType===Fn.VENTELØNN_VARTPENGER)?g.jsx(m,{id:"VurderAktiviteterTabell.VentelonnVartpenger.Overskrift",values:{skjaeringstidspunkt:t}}):""},p_=()=>["VurderAktiviteterTabell.Header.Aktivitet","VurderAktiviteterTabell.Header.Periode","VurderAktiviteterTabell.Header.Benytt","VurderAktiviteterTabell.Header.IkkeBenytt"],h_=({readOnly:e,isAvklaringsbehovClosed:n,aktiviteter:r,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:a,valgtSkjæringstidspunkt:l,ingenAktiviterErBrukt:o,arbeidsgiverOpplysningerPerId:k,fieldId:u})=>g.jsxs(g.Fragment,{children:[g.jsx(w,{size:"small",children:c_(r,i,a)}),g.jsxs(re,{size:"small",className:Zt.table,children:[g.jsx(re.Header,{children:g.jsxs(re.Row,{children:[p_().map(f=>g.jsx(re.HeaderCell,{scope:"col",children:g.jsx(w,{size:"small",as:"span",children:g.jsx(m,{id:f})})},f)),g.jsx(re.HeaderCell,{})]})}),g.jsx(re.Body,{children:r.map(f=>g.jsx(v_,{aktivitet:f,readOnly:e,isAvklaringsbehovClosed:n,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:a,valgtSkjæringstidspunkt:l,ingenAktiviterErBrukt:o,arbeidsgiverOpplysningerPerId:k,fieldId:u},`${f.arbeidsgiverIdent}-${f.fom}-${f.tom}`))})]})]}),Pl=(e,n)=>!!e.aktiviteter&&e.aktiviteter.find(r=>{const t=on(r);return n.aktiviteterValues&&n.aktiviteterValues[t]?n.aktiviteterValues[t].skalBrukes!=="false":r.skalBrukes})!==void 0,b_=(e,n)=>{let r=0;for(;r<e.length&&A(n).isBefore(e[r].tom===void 0?null:e[r].tom);)r+=1;return r},Ng=(e,n,r)=>{const t=e.find(({tom:i})=>i===r);if(t===void 0){const i={tom:r,aktiviteter:[n]},s=b_(e,r);e.splice(s,0,i)}else{if(!t.aktiviteter)throw new Error(`Forventer å ha aktiviteter på tom ${t.tom}`);t.aktiviteter.push(n)}},j_=e=>{var n;return!!((n=e.avklarAktiviteter)!=null&&n.aktiviteterTomDatoMapping)&&e.avklarAktiviteter.aktiviteterTomDatoMapping.some(r=>r.aktiviteter&&!r.aktiviteter.some(t=>!A(t.tom).isValid()))},x_=e=>{var n;const r=e.avklarAktiviteter?e.avklarAktiviteter.aktiviteterTomDatoMapping||[]:[],t=[],i=(n=e.avklarAktiviteter)==null?void 0:n.skjæringstidspunkt;if(!i)throw new Error("Forventer skjæringstidspunkt for opptjening her!");return r.flatMap(({aktiviteter:s})=>s).forEach(s=>{if(!s)throw new Error("Må ha aktivitet i form values her!");const a={...s},l=e.aktiviteterValues?e.aktiviteterValues[on(s)].tom:void 0;l&&l!==a.tom&&(a.tom=l),A(l).isSame(A(i).subtract(1,"days"))||A(l).isAfter(A(i).subtract(1,"days"))?Ng(t,a,i):Ng(t,a,A(l).add(1,"days").format("YYYY-MM-DD"))}),t},wd=(e,n,r)=>{const t=n&&!j_(n)?x_(n):e;return r?t:!n||Pl(t[0],n)||t.length===1?[t[0]]:[t[0],t[1]]},yf=(e,n)=>{if(!(e===void 0||n===void 0))for(let r=0;r<n.length;r+=1){const t=n[r].aktiviteter||[];for(let i=0;i<t.length;i+=1){const s=e.aktiviteterValues?e.aktiviteterValues[on(t[i])]:void 0;if((s==null?void 0:s.skalBrukes)==="true")return n[r].tom}}},I_=e=>Sn(e)?"":A(e).format(ie),Dr=({readOnly:e,isAvklaringsbehovClosed:n,values:r,aktiviteterTomDatoMapping:t,erOverstyrt:i,harAvklaringsbehov:s,kodeverkSamling:a,arbeidsgiverOpplysningerPerId:l,fieldId:o})=>{const k=wd(t,r,i),u=yf(r,k);return g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"AvklarAktivitetPanel.Overskrift.Skjaeringstidspunkt",values:{skjaeringstidspunkt:I_(u)}}),g.jsx(I,{twentyPx:!0}),k.map(f=>g.jsx(h_,{readOnly:e,isAvklaringsbehovClosed:n,aktiviteter:f.aktiviteter||[],erOverstyrt:i,harAvklaringsbehov:s,kodeverkSamling:a,tomDatoForAktivitetGruppe:f.tom,valgtSkjæringstidspunkt:u,ingenAktiviterErBrukt:u===void 0,arbeidsgiverOpplysningerPerId:l,fieldId:o},f.tom)),g.jsx(I,{thirtyTwoPx:!0})]})};Dr.harIngenAktiviteter=(e,n,r)=>{const t=wd(n,e,r);return Pl(t[0],e)?!1:t.length>1&&t[1].aktiviteter&&t[1].aktiviteter.length>0?!Pl(t[1],e):!0};const A_=(e,n)=>A(e).isSame(A(n))||A(e).isBefore(A(n));Dr.transformValues=(e,n,r)=>{const t=wd(n,e,r),i=yf(e,t);if(!i)throw new Error("Finner ikke forventet skjæringstidspunkt, ugyldig tilstand");return t.flatMap(s=>o_(e,s.aktiviteter||[],i,s.tom))};const T_=e=>{if(e!==void 0)for(let n=0;n<e.length;n+=1){const r=e[n].aktiviteter||[];for(let t=0;t<r.length;t+=1)if(r[t].skalBrukes===!0||r[t].skalBrukes===null||r[t].skalBrukes===void 0)return e[n].tom}};Dr.buildInitialValues=(e,n,r,t,i)=>{if(!e||e.length===0)return{};let s={};const a=T_(e);return e.forEach(l=>{s={...s,...g_(l.aktiviteter||[],n,r,t,A_(a,l.tom),i)}}),s};const{AVKLAR_AKTIVITETER:Ms,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Rg}=Ue,E_=(e,n)=>n.some(r=>r.definisjon===e&&r.kanLoses),y_=(e,n,r)=>(e||E_(Ms,n))&&r,Ud=e=>{var n;return e.some(r=>r.definisjon===Rg||r.definisjon===Ms)?(n=e.find(r=>r.definisjon===Rg||r.definisjon===Ms))==null?void 0:n.begrunnelse:void 0},__=(e,n)=>vn(Ms,e)||n,S_=(e,n,r)=>e&&n&&!r,F_="_avsnittOverskrift_h44z2_1",N_={avsnittOverskrift:F_},{AVKLAR_AKTIVITETER:cs,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:_f}=Ue,Cd="begrunnelseAvklareAktiviteter",Sf="manuellOverstyringBeregningAktiviteter",R_=(e,n,r,t,i)=>{const s=vn(cs,e),a=vn(_f,e),l=Ud(e);let o;return n&&n.aktiviteterTomDatoMapping&&(o=Dr.buildInitialValues(n.aktiviteterTomDatoMapping,r,a,s,t)),{[Sf]:a,periode:i.periode,erTilVurdering:i.vurderesIBehandlingen&&!i.erForlengelse,avklaringsbehov:e,avklarAktiviteter:n,aktiviteterValues:o,...$r.buildInitialValues(l,Cd)}},Pg=e=>{const n=e[Sf],r=y_(!!n,e.avklaringsbehov||[],e.erTilVurdering),{avklarAktiviteter:t}=e;return r?{beregningsaktivitetLagreDtoList:Dr.transformValues(e,(t==null?void 0:t.aktiviteterTomDatoMapping)||[],!!n),periode:e.periode,begrunnelse:e[Cd]}:null},P_=(e,n,r,t,i)=>{if(!(r.length<1)&&Dr.harIngenAktiviteter(e(`avklarAktiviteterForm.${n}`),r,t))return i.formatMessage({id:"VurderAktiviteterTabell.Validation.MåHaMinstEnAktivitet"})},B_=({avklarAktiviteter:e,avklaringsbehov:n,erOverstyrer:r,readOnly:t,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:s,submittable:a,fieldId:l,updateOverstyring:o,submitDisabled:k})=>{var u,f;const c=te(),{resetField:b,watch:x,getValues:T,formState:{isSubmitting:N,errors:S,dirtyFields:B}}=je(),y=Object.keys(B).length>0,O=vn(_f,n),$=!!T(`avklarAktiviteterForm.${l}`).manuellOverstyringBeregningAktiviteter,[D,Y]=j.useState(O||$),ne=!!((f=(u=S.avklarAktiviteterForm)==null?void 0:u[l])!=null&&f.begrunnelseAvklareAktiviteter),ee=H=>{H?Y(!D):!H&&D&&Y(!1),b(`avklarAktiviteterForm.${l}`,{keepDirty:!1}),b(`vurderAktiviteterSkjema.${l}`,{keepDirty:!1}),o(l,H)},U=n.filter(H=>H.definisjon===Ue.AVKLAR_AKTIVITETER||H.definisjon===Ue.OVERSTYRING_AV_BEREGNINGSAKTIVITETER).filter(H=>r_(H.status)).length===0,V=P_(x,l,e.aktiviteterTomDatoMapping||[],$,c),C=`vurderAktiviteterSkjema.${l}`,Z=Pr(C,V);return!e.aktiviteterTomDatoMapping||e.aktiviteterTomDatoMapping.length<1?null:g.jsxs(g.Fragment,{children:[vn(cs,n)&&!U&&g.jsxs(Oe,{size:"small",variant:"warning",children:[g.jsx(oe,{size:"xsmall",level:"3",children:g.jsx(m,{id:"BeregningInfoPanel.AksjonspunktHelpText.VurderAktiviteter"},"VurderFaktaForBeregningen")}),g.jsx(m,{id:"VurderAktiviteterTabell.FullAAPKombinert.Overskrift"}),g.jsx(I,{fourPx:!0}),g.jsx(Ge,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(le,{size:"small",children:[g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.AvklareAktiviteterField.HvordanGarJegFrem1"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.AvklareAktiviteterField.HvordanGarJegFrem2"})})]})})]}),g.jsx(I,{thirtyTwoPx:!0}),g.jsxs(ge,{gap:"4",children:[g.jsx(w,{size:"small",className:N_.avsnittOverskrift,"data-testid":"avklareAktiviteterHeading",children:g.jsx(m,{id:"AvklarAktivitetPanel.Overskrift"})}),(r||O)&&g.jsx(oi,{onClick:()=>ee(!0),erOverstyrt:D})]}),D&&g.jsx(w,{size:"small",children:g.jsx(m,{id:"AvklareAktiviteter.OverstyrerAktivitetAdvarsel"})}),e&&e.aktiviteterTomDatoMapping&&g.jsxs("div",{children:[g.jsx(Dr,{aktiviteterTomDatoMapping:e.aktiviteterTomDatoMapping,readOnly:t,isAvklaringsbehovClosed:U,erOverstyrt:D,kodeverkSamling:i,values:x(`avklarAktiviteterForm.${l}`),harAvklaringsbehov:vn(cs,n),arbeidsgiverOpplysningerPerId:s,fieldId:l}),Z&&g.jsx(Un,{children:Z})]}),g.jsx(I,{twentyPx:!0}),__(n,D)&&g.jsxs(g.Fragment,{children:[g.jsx($r,{name:`avklarAktiviteterForm.${l}.${Cd}`,isSubmittable:a,isReadOnly:t,hasBegrunnelse:Ud(n)!==null}),(vn(cs,n)||D)&&g.jsxs(g.Fragment,{children:[g.jsx(I,{twentyPx:!0}),g.jsxs(ge,{gap:"4",children:[g.jsx(Ef,{text:c.formatMessage({id:D?"AvklarAktivitetPanel.OverstyrText":"AvklarAktivitetPanel.ButtonText"}),isSubmittable:S_(a,!0,ne),isDirty:y,isSubmitting:k,isReadOnly:t||U&&!y,hasEmptyRequiredFields:ne}),!!B&&y&&g.jsx(se,{variant:"secondary",loading:N,disabled:N,onClick:()=>ee(!1),size:"small",children:g.jsx(m,{id:"AvklareAktiviteter.Avbryt"})})]})]})]})]})},{OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Ff,AVKLAR_AKTIVITETER:Nf}=Ue,Bg="manuellOverstyringBeregningAktiviteter",O_=(e,n)=>{const r=e.perioder.find(({periode:t})=>t.fom===n);if(!r)throw new Error(`Finner ikke vilkårsperiode med fom ${n}`);return r},$_=(e,n)=>!vn(Nf,e)&&!vn(Ff,e)&&!n,V_=e=>{const n=e[ni],r=n.filter(s=>s[Bg]).map(Pg).filter(s=>s),t=n.filter(s=>!s[Bg]).map(Pg).filter(s=>s),i=[];if(r.length>0){const s=r.map(({begrunnelse:l})=>l).reduce((l,o)=>l===""?o:`${l} ${o}`,""),a={kode:Ff,begrunnelse:s,grunnlag:r};i.push(a)}if(t.length>0){const s=t.map(({begrunnelse:l})=>l).reduce((l,o)=>l===""?o:`${l} ${o}`,""),a={kode:Nf,begrunnelse:s,grunnlag:t};i.push(a)}return i},D_=(e,n,r,t)=>({[ni]:e.map(i=>{var s;return R_(i.avklaringsbehov,(s=i.faktaOmBeregning)==null?void 0:s.avklarAktiviteter,n,r,O_(t,i.vilkårsperiodeFom))})}),G_=(e,n)=>{var r;const t=(r=e[n].faktaOmBeregning)==null?void 0:r.avklarAktiviteter;if(!t)throw new Error("Mangler aktivteter å populere skjema med!");return t},L_=({harAndreAvklaringsbehovIPanel:e,erOverstyrer:n,readOnly:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,submittable:s,submitCallback:a,beregningsgrunnlag:l,aktivtBeregningsgrunnlagIndeks:o,vilkår:k,setFormData:u,formData:f,setAvklarAktiviteterErEndret:c})=>{const b=Qe({defaultValues:f||D_(l,t,i,k)}),{formState:{dirtyFields:x,errors:T,isSubmitted:N},control:S,getValues:B,trigger:y,setValue:O}=b;j.useEffect(()=>{var V;(V=x.avklarAktiviteterForm)!=null&&V.some(C=>!!C)?c(!0):c(!1)},[x]),j.useEffect(()=>{var V;N&&(V=x.avklarAktiviteterForm)!=null&&V[o]&&y()},[o]);const $=l.flatMap(V=>V.avklaringsbehov),{fields:D}=ze({name:ni,control:S}),[Y,ne]=j.useState(!1),ee=(V,C)=>{const Z=B(`avklarAktiviteterForm.${V}`);O(`${ni}.${V}`,{...Z,manuellOverstyringBeregningAktiviteter:C},{shouldDirty:!0})};if($_($,n))return null;const U=V=>{Object.keys(T).length===0&&(ne(!0),a(V_(V)))};return g.jsxs(g.Fragment,{children:[g.jsx(en,{formMethods:b,onSubmit:V=>U(V),setDataOnUnmount:u,children:D.map((V,C)=>o===C&&g.jsx(B_,{aktivtBeregningsgrunnlagIndeks:o,fieldId:C,avklarAktiviteter:G_(l,C),avklaringsbehov:l[C].avklaringsbehov,erOverstyrer:n,readOnly:r,submittable:s,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,updateOverstyring:ee,submitDisabled:Y},V.id))}),e&&g.jsx(I,{twentyPx:!0})]})},Rf=K.createContext(null),Pe=K.createContext(0),Pf=K.createContext(0),M_="_krLabel_115l0_1",K_="_inntektInput_115l0_11",Og={krLabel:M_,inntektInput:K_},Bl=({name:e,readOnly:n,isAksjonspunktClosed:r,label:t})=>g.jsxs("div",{className:Og.inntektInput,children:[g.jsx(xe,{name:e,htmlSize:8,parse:Ne,readOnly:n,isEdited:r,validate:[X,ln(178956970)],label:t}),g.jsx("p",{className:Og.krLabel,children:"kr"})]}),w_=(e,n)=>e.findIndex(r=>r.arbeidsgiverIdent===n),ei=({arbeidsgiver:e,readOnly:n,isAksjonspunktClosed:r,label:t,arbeidsgiverOpplysningerPerId:i})=>{var s;const{getValues:a}=je(),l=K.useContext(Pe),o=a(`vurderFaktaBeregningForm.${l}.arbeidstakerInntektValues`),k=w_(o,e.arbeidsforhold.arbeidsgiverIdent),u=`vurderFaktaBeregningForm.${l}.arbeidstakerInntektValues.${k}.fastsattBelop`,f=(s=i[e.arbeidsforhold.arbeidsgiverIdent])==null?void 0:s.navn;return g.jsxs(g.Fragment,{children:[g.jsx(I,{thirtyTwoPx:!0}),g.jsx(Bl,{name:u,readOnly:n,isAksjonspunktClosed:r,label:t||g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.ManedsinntektBedrift",values:{bedrift:`${f} (${e.arbeidsforhold.arbeidsgiverIdent})`}})})]})};ei.buildInitialValues=e=>{const n=[];return e==null||e.filter(r=>r.aktivitetStatus===R.ARBEIDSTAKER&&r.arbeidsforhold).forEach(r=>{const t={fastsattBelop:"",arbeidsgiverIdent:r.arbeidsforhold.arbeidsgiverIdent};n.push(t)}),n};const U_="_fadeinTabell_anh4y_1",C_="_fadein_anh4y_1",Y_="_rightAligned_anh4y_10",z_={fadeinTabell:U_,fadein:C_,rightAligned:Y_},ot="manuellOverstyringRapportertInntekt",{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:H_,AVKLAR_AKTIVITETER:J_}=Ue,q_=(e,n)=>n.some(r=>r.definisjon===e),W_=(e,n)=>e&&!n.some(r=>r.definisjon===J_&&rn(r.status)),fa=({tabell:e,hjelpeTekstId:n,skalViseTabell:r,readOnly:t,avklaringsbehov:i,updateOverstyring:s,erOverstyrer:a,erOverstyrt:l})=>{const[o,k]=j.useState(l),u=K.useContext(Pe),f=j.useMemo(()=>W_(a,i),[a,i]),c=()=>{k(!o),s(u,!o)};return g.jsxs("div",{className:z_.fadeinTabell,children:[g.jsx(I,{thirtyTwoPx:!0}),r&&g.jsxs(g.Fragment,{children:[g.jsxs(ge,{gap:"4",children:[g.jsx(oe,{level:"3",size:"xsmall",children:g.jsx(m,{id:"InntektstabellPanel.RapporterteInntekter"})}),(f||o)&&g.jsx(oi,{onClick:c,erOverstyrt:t||o||q_(H_,i)})]}),g.jsx(I,{sixteenPx:!0}),n&&g.jsx(w,{size:"small",children:g.jsx(m,{id:n})}),e,o&&!t&&g.jsx(se,{size:"small",onClick:c,variant:"secondary",children:g.jsx(m,{id:"InntektstabellPanel.Avbryt"})})]})]})};fa.buildInitialValues=e=>({[ot]:e});fa.defaultProps={hjelpeTekstId:void 0,skalViseTabell:!0};const Bf=(e,n,r)=>r?!1:n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.filter(t=>t.aktivitetStatus===R.ARBEIDSTAKER).filter(t=>t.arbeidsforhold&&t.arbeidsforhold.arbeidsgiverIdent===e.arbeidsgiverId).filter(t=>t.arbeidsforhold&&t.arbeidsforhold.arbeidsforholdId).length>0,Bn=e=>e==="true",gt="lonnsendringField",pi=({readOnly:e})=>{const n=K.useContext(Pe),r=te();return g.jsxs("div",{children:[g.jsx(pe,{label:g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"BeregningInfoPanel.LonnsendringForm.HarSokerEndring"}),g.jsx(Ge,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.LonnsendringForm.HvaBetyrDette"}),children:g.jsxs(le,{size:"small",children:[g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.LonnsendringForm.HvaBetyrDette1"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.LonnsendringForm.HvaBetyrDette2"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.LonnsendringForm.HvaBetyrDette3"})})]})})]}),name:`vurderFaktaBeregningForm.${n}.lonnsendringField`,isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.JaMaanedsinntektMaaFastsettes"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.NeiBrukerAInntekt"})}],validate:[X],parse:Bn}),g.jsx(I,{twentyPx:!0})]})},Z_=e=>{const n=e.find(t=>t.lonnsendringIBeregningsperioden===!0)!==void 0,r=e.find(t=>t.lonnsendringIBeregningsperioden===!1)!==void 0;return n||(r?!1:void 0)};pi.buildInitialValues=e=>{const n={};if(!e||!e.beregningsgrunnlagPeriode)return n;const r=e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel;if(!r||r.length<1)return n;const t=r.filter(i=>i.aktivitetStatus===R.ARBEIDSTAKER);return!t||t.length<1||(n[gt]=Z_(t)),n};const X_=(e,n,r)=>r[gt]&&!!n.arbeidsforholdMedLønnsendringUtenIM&&n.arbeidsforholdMedLønnsendringUtenIM.find(t=>t.andelsnr===e.andelsnr)!==void 0;pi.transformValues=(e,n)=>(n.faktaOmBeregningTilfeller?n.faktaOmBeregningTilfeller:[]).map(r=>r).includes(P.VURDER_LONNSENDRING)?{faktaOmBeregningTilfeller:[P.VURDER_LONNSENDRING],vurdertLonnsendring:{erLønnsendringIBeregningsperioden:e[gt]}}:{};const zn="NyoppstartetFLField",hi=({readOnly:e})=>{const n=K.useContext(Pe),r=te();return g.jsxs("div",{children:[g.jsx(pe,{label:g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"BeregningInfoPanel.NyoppstartetFLForm.ErSokerNyoppstartetFL"}),g.jsx(Ge,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(le,{size:"small",children:[g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.NyoppstartetFLForm.HvordanGarJegFrem1"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.NyoppstartetFLForm.HvordanGarJegFrem2"})})]})})]}),name:`vurderFaktaBeregningForm.${n}.${zn}`,validate:[X],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.JaMaanedsinntektMaaFastsettes"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.NeiBrukerAInntekt"})}],parse:Bn}),g.jsx(I,{twentyPx:!0})]})};hi.buildInitialValues=e=>{var n;const r={};if(e===void 0||e.beregningsgrunnlagPeriode===void 0)return r;const t=e.beregningsgrunnlagPeriode.map(i=>i.beregningsgrunnlagPrStatusOgAndel).flat().filter(i=>(i==null?void 0:i.aktivitetStatus)===R.FRILANSER);return t.length>0&&(r[zn]=(n=t[0])==null?void 0:n.erNyoppstartet),r};hi.transformValues=(e,n,r,t)=>{if(!(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).map(a=>a).includes(P.VURDER_NYOPPSTARTET_FL))return{};if(!n||n.length===0)return{faktaOmBeregningTilfeller:[P.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[zn]}};const i=n.find(a=>a.aktivitetStatus===R.FRILANSER);if(!i)return{faktaOmBeregningTilfeller:[P.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[zn]}};if(t.includes(i.andelsnr))return{faktaOmBeregningTilfeller:[P.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[zn]}};t.push(i.andelsnr);const s={fastsettMaanedsinntektFL:{maanedsinntekt:i.fastsattBelop}};return{faktaOmBeregningTilfeller:[P.VURDER_NYOPPSTARTET_FL,P.FASTSETT_MAANEDSINNTEKT_FL],...s,vurderNyoppstartetFL:{erNyoppstartetFL:e[zn]}}};var Zi=function(e){return e&&e.Math==Math&&e},Yn=Zi(typeof globalThis=="object"&&globalThis)||Zi(typeof window=="object"&&window)||Zi(typeof self=="object"&&self)||Zi(typeof Tg=="object"&&Tg)||function(){return this}()||Function("return this")(),Yd={},Qn=function(e){try{return!!e()}catch{return!0}},Q_=Qn,kr=!Q_(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),eS=Qn,zd=!eS(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),nS=zd,Xi=Function.prototype.call,Hd=nS?Xi.bind(Xi):function(){return Xi.apply(Xi,arguments)},Of={},$f={}.propertyIsEnumerable,Vf=Object.getOwnPropertyDescriptor,rS=Vf&&!$f.call({1:2},1);Of.f=rS?function(e){var n=Vf(this,e);return!!n&&n.enumerable}:$f;var Df=function(e,n){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:n}},Gf=zd,Lf=Function.prototype,Ol=Lf.call,tS=Gf&&Lf.bind.bind(Ol,Ol),bn=Gf?tS:function(e){return function(){return Ol.apply(e,arguments)}},Mf=bn,iS=Mf({}.toString),sS=Mf("".slice),va=function(e){return sS(iS(e),8,-1)},aS=bn,lS=Qn,dS=va,La=Object,oS=aS("".split),gS=lS(function(){return!La("z").propertyIsEnumerable(0)})?function(e){return dS(e)=="String"?oS(e,""):La(e)}:La,Kf=function(e){return e==null},uS=Kf,kS=TypeError,wf=function(e){if(uS(e))throw kS("Can't call method on "+e);return e},mS=gS,fS=wf,ca=function(e){return mS(fS(e))},$l=typeof document=="object"&&document.all,vS=typeof $l>"u"&&$l!==void 0,Uf={all:$l,IS_HTMLDDA:vS},Cf=Uf,cS=Cf.all,jn=Cf.IS_HTMLDDA?function(e){return typeof e=="function"||e===cS}:function(e){return typeof e=="function"},$g=jn,Yf=Uf,pS=Yf.all,xt=Yf.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:$g(e)||e===pS}:function(e){return typeof e=="object"?e!==null:$g(e)},Ma=Yn,hS=jn,bS=function(e){return hS(e)?e:void 0},pa=function(e,n){return arguments.length<2?bS(Ma[e]):Ma[e]&&Ma[e][n]},jS=bn,xS=jS({}.isPrototypeOf),IS=typeof navigator<"u"&&String(navigator.userAgent)||"",zf=Yn,Ka=IS,Vg=zf.process,Dg=zf.Deno,Gg=Vg&&Vg.versions||Dg&&Dg.version,Lg=Gg&&Gg.v8,Tn,Ks;Lg&&(Tn=Lg.split("."),Ks=Tn[0]>0&&Tn[0]<4?1:+(Tn[0]+Tn[1]));!Ks&&Ka&&(Tn=Ka.match(/Edge\/(\d+)/),(!Tn||Tn[1]>=74)&&(Tn=Ka.match(/Chrome\/(\d+)/),Tn&&(Ks=+Tn[1])));var AS=Ks,Mg=AS,TS=Qn,Hf=!!Object.getOwnPropertySymbols&&!TS(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Mg&&Mg<41}),ES=Hf,Jf=ES&&!Symbol.sham&&typeof Symbol.iterator=="symbol",yS=pa,_S=jn,SS=xS,FS=Jf,NS=Object,qf=FS?function(e){return typeof e=="symbol"}:function(e){var n=yS("Symbol");return _S(n)&&SS(n.prototype,NS(e))},RS=String,PS=function(e){try{return RS(e)}catch{return"Object"}},BS=jn,OS=PS,$S=TypeError,Jd=function(e){if(BS(e))return e;throw $S(OS(e)+" is not a function")},VS=Jd,DS=Kf,GS=function(e,n){var r=e[n];return DS(r)?void 0:VS(r)},wa=Hd,Ua=jn,Ca=xt,LS=TypeError,MS=function(e,n){var r,t;if(n==="string"&&Ua(r=e.toString)&&!Ca(t=wa(r,e))||Ua(r=e.valueOf)&&!Ca(t=wa(r,e))||n!=="string"&&Ua(r=e.toString)&&!Ca(t=wa(r,e)))return t;throw LS("Can't convert object to primitive value")},Wf={exports:{}},Kg=Yn,KS=Object.defineProperty,qd=function(e,n){try{KS(Kg,e,{value:n,configurable:!0,writable:!0})}catch{Kg[e]=n}return n},wS=Yn,US=qd,wg="__core-js_shared__",CS=wS[wg]||US(wg,{}),Wd=CS,Ug=Wd;(Wf.exports=function(e,n){return Ug[e]||(Ug[e]=n!==void 0?n:{})})("versions",[]).push({version:"3.27.2",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"});var Zf=Wf.exports,YS=wf,zS=Object,Xf=function(e){return zS(YS(e))},HS=bn,JS=Xf,qS=HS({}.hasOwnProperty),Gr=Object.hasOwn||function(e,n){return qS(JS(e),n)},WS=bn,ZS=0,XS=Math.random(),QS=WS(1 .toString),Qf=function(e){return"Symbol("+(e===void 0?"":e)+")_"+QS(++ZS+XS,36)},e0=Yn,n0=Zf,Cg=Gr,r0=Qf,t0=Hf,i0=Jf,nt=e0.Symbol,Ya=n0("wks"),s0=i0?nt.for||nt:nt&&nt.withoutSetter||r0,bi=function(e){return Cg(Ya,e)||(Ya[e]=t0&&Cg(nt,e)?nt[e]:s0("Symbol."+e)),Ya[e]},a0=Hd,Yg=xt,zg=qf,l0=GS,d0=MS,o0=bi,g0=TypeError,u0=o0("toPrimitive"),k0=function(e,n){if(!Yg(e)||zg(e))return e;var r=l0(e,u0),t;if(r){if(n===void 0&&(n="default"),t=a0(r,e,n),!Yg(t)||zg(t))return t;throw g0("Can't convert object to primitive value")}return n===void 0&&(n="number"),d0(e,n)},m0=k0,f0=qf,ev=function(e){var n=m0(e,"string");return f0(n)?n:n+""},v0=Yn,Hg=xt,Vl=v0.document,c0=Hg(Vl)&&Hg(Vl.createElement),nv=function(e){return c0?Vl.createElement(e):{}},p0=kr,h0=Qn,b0=nv,rv=!p0&&!h0(function(){return Object.defineProperty(b0("div"),"a",{get:function(){return 7}}).a!=7}),j0=kr,x0=Hd,I0=Of,A0=Df,T0=ca,E0=ev,y0=Gr,_0=rv,Jg=Object.getOwnPropertyDescriptor;Yd.f=j0?Jg:function(e,n){if(e=T0(e),n=E0(n),_0)try{return Jg(e,n)}catch{}if(y0(e,n))return A0(!x0(I0.f,e,n),e[n])};var It={},S0=kr,F0=Qn,tv=S0&&F0(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),N0=xt,R0=String,P0=TypeError,ha=function(e){if(N0(e))return e;throw P0(R0(e)+" is not an object")},B0=kr,O0=rv,$0=tv,Qi=ha,qg=ev,V0=TypeError,za=Object.defineProperty,D0=Object.getOwnPropertyDescriptor,Ha="enumerable",Ja="configurable",qa="writable";It.f=B0?$0?function(e,n,r){if(Qi(e),n=qg(n),Qi(r),typeof e=="function"&&n==="prototype"&&"value"in r&&qa in r&&!r[qa]){var t=D0(e,n);t&&t[qa]&&(e[n]=r.value,r={configurable:Ja in r?r[Ja]:t[Ja],enumerable:Ha in r?r[Ha]:t[Ha],writable:!1})}return za(e,n,r)}:za:function(e,n,r){if(Qi(e),n=qg(n),Qi(r),O0)try{return za(e,n,r)}catch{}if("get"in r||"set"in r)throw V0("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var G0=kr,L0=It,M0=Df,iv=G0?function(e,n,r){return L0.f(e,n,M0(1,r))}:function(e,n,r){return e[n]=r,e},sv={exports:{}},Dl=kr,K0=Gr,av=Function.prototype,w0=Dl&&Object.getOwnPropertyDescriptor,Zd=K0(av,"name"),U0=Zd&&(function(){}).name==="something",C0=Zd&&(!Dl||Dl&&w0(av,"name").configurable),Y0={EXISTS:Zd,PROPER:U0,CONFIGURABLE:C0},z0=bn,H0=jn,Gl=Wd,J0=z0(Function.toString);H0(Gl.inspectSource)||(Gl.inspectSource=function(e){return J0(e)});var lv=Gl.inspectSource,q0=Yn,W0=jn,Wg=q0.WeakMap,Z0=W0(Wg)&&/native code/.test(String(Wg)),X0=Zf,Q0=Qf,Zg=X0("keys"),dv=function(e){return Zg[e]||(Zg[e]=Q0(e))},Xd={},eF=Z0,ov=Yn,nF=xt,rF=iv,Wa=Gr,Za=Wd,tF=dv,iF=Xd,Xg="Object already initialized",Ll=ov.TypeError,sF=ov.WeakMap,ws,ri,Us,aF=function(e){return Us(e)?ri(e):ws(e,{})},lF=function(e){return function(n){var r;if(!nF(n)||(r=ri(n)).type!==e)throw Ll("Incompatible receiver, "+e+" required");return r}};if(eF||Za.state){var Dn=Za.state||(Za.state=new sF);Dn.get=Dn.get,Dn.has=Dn.has,Dn.set=Dn.set,ws=function(e,n){if(Dn.has(e))throw Ll(Xg);return n.facade=e,Dn.set(e,n),n},ri=function(e){return Dn.get(e)||{}},Us=function(e){return Dn.has(e)}}else{var zr=tF("state");iF[zr]=!0,ws=function(e,n){if(Wa(e,zr))throw Ll(Xg);return n.facade=e,rF(e,zr,n),n},ri=function(e){return Wa(e,zr)?e[zr]:{}},Us=function(e){return Wa(e,zr)}}var dF={set:ws,get:ri,has:Us,enforce:aF,getterFor:lF},Qd=bn,oF=Qn,gF=jn,es=Gr,Ml=kr,uF=Y0.CONFIGURABLE,kF=lv,gv=dF,mF=gv.enforce,fF=gv.get,Qg=String,ps=Object.defineProperty,vF=Qd("".slice),cF=Qd("".replace),pF=Qd([].join),hF=Ml&&!oF(function(){return ps(function(){},"length",{value:8}).length!==8}),bF=String(String).split("String"),jF=sv.exports=function(e,n,r){vF(Qg(n),0,7)==="Symbol("&&(n="["+cF(Qg(n),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(n="get "+n),r&&r.setter&&(n="set "+n),(!es(e,"name")||uF&&e.name!==n)&&(Ml?ps(e,"name",{value:n,configurable:!0}):e.name=n),hF&&r&&es(r,"arity")&&e.length!==r.arity&&ps(e,"length",{value:r.arity});try{r&&es(r,"constructor")&&r.constructor?Ml&&ps(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var t=mF(e);return es(t,"source")||(t.source=pF(bF,typeof n=="string"?n:"")),e};Function.prototype.toString=jF(function(){return gF(this)&&fF(this).source||kF(this)},"toString");var xF=sv.exports,IF=jn,AF=It,TF=xF,EF=qd,yF=function(e,n,r,t){t||(t={});var i=t.enumerable,s=t.name!==void 0?t.name:n;if(IF(r)&&TF(r,s,t),t.global)i?e[n]=r:EF(n,r);else{try{t.unsafe?e[n]&&(i=!0):delete e[n]}catch{}i?e[n]=r:AF.f(e,n,{value:r,enumerable:!1,configurable:!t.nonConfigurable,writable:!t.nonWritable})}return e},uv={},_F=Math.ceil,SF=Math.floor,FF=Math.trunc||function(e){var n=+e;return(n>0?SF:_F)(n)},NF=FF,kv=function(e){var n=+e;return n!==n||n===0?0:NF(n)},RF=kv,PF=Math.max,BF=Math.min,OF=function(e,n){var r=RF(e);return r<0?PF(r+n,0):BF(r,n)},$F=kv,VF=Math.min,DF=function(e){return e>0?VF($F(e),9007199254740991):0},GF=DF,eo=function(e){return GF(e.length)},LF=ca,MF=OF,KF=eo,eu=function(e){return function(n,r,t){var i=LF(n),s=KF(i),a=MF(t,s),l;if(e&&r!=r){for(;s>a;)if(l=i[a++],l!=l)return!0}else for(;s>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}},wF={includes:eu(!0),indexOf:eu(!1)},UF=bn,Xa=Gr,CF=ca,YF=wF.indexOf,zF=Xd,nu=UF([].push),mv=function(e,n){var r=CF(e),t=0,i=[],s;for(s in r)!Xa(zF,s)&&Xa(r,s)&&nu(i,s);for(;n.length>t;)Xa(r,s=n[t++])&&(~YF(i,s)||nu(i,s));return i},no=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],HF=mv,JF=no,qF=JF.concat("length","prototype");uv.f=Object.getOwnPropertyNames||function(e){return HF(e,qF)};var fv={};fv.f=Object.getOwnPropertySymbols;var WF=pa,ZF=bn,XF=uv,QF=fv,eN=ha,nN=ZF([].concat),rN=WF("Reflect","ownKeys")||function(e){var n=XF.f(eN(e)),r=QF.f;return r?nN(n,r(e)):n},ru=Gr,tN=rN,iN=Yd,sN=It,aN=function(e,n,r){for(var t=tN(n),i=sN.f,s=iN.f,a=0;a<t.length;a++){var l=t[a];!ru(e,l)&&!(r&&ru(r,l))&&i(e,l,s(n,l))}},lN=Qn,dN=jn,oN=/#|\.prototype\./,ji=function(e,n){var r=uN[gN(e)];return r==mN?!0:r==kN?!1:dN(n)?lN(n):!!n},gN=ji.normalize=function(e){return String(e).replace(oN,".").toLowerCase()},uN=ji.data={},kN=ji.NATIVE="N",mN=ji.POLYFILL="P",fN=ji,Qa=Yn,vN=Yd.f,cN=iv,pN=yF,hN=qd,bN=aN,jN=fN,xN=function(e,n){var r=e.target,t=e.global,i=e.stat,s,a,l,o,k,u;if(t?a=Qa:i?a=Qa[r]||hN(r,{}):a=(Qa[r]||{}).prototype,a)for(l in n){if(k=n[l],e.dontCallGetSet?(u=vN(a,l),o=u&&u.value):o=a[l],s=jN(t?l:r+(i?".":"#")+l,e.forced),!s&&o!==void 0){if(typeof k==typeof o)continue;bN(k,o)}(e.sham||o&&o.sham)&&cN(k,"sham",!0),pN(a,l,k,e)}},IN=va,vv=Array.isArray||function(e){return IN(e)=="Array"},AN=TypeError,TN=9007199254740991,EN=function(e){if(e>TN)throw AN("Maximum allowed index exceeded");return e},yN=va,_N=bn,SN=function(e){if(yN(e)==="Function")return _N(e)},tu=SN,FN=Jd,NN=zd,RN=tu(tu.bind),PN=function(e,n){return FN(e),n===void 0?e:NN?RN(e,n):function(){return e.apply(n,arguments)}},BN=vv,ON=eo,$N=EN,VN=PN,cv=function(e,n,r,t,i,s,a,l){for(var o=i,k=0,u=a?VN(a,l):!1,f,c;k<t;)k in r&&(f=u?u(r[k],k,n):r[k],s>0&&BN(f)?(c=ON(f),o=cv(e,n,f,c,o,s-1)-1):($N(o+1),e[o]=f),o++),k++;return o},DN=cv,GN=bi,LN=GN("toStringTag"),pv={};pv[LN]="z";var MN=String(pv)==="[object z]",KN=MN,wN=jn,hs=va,UN=bi,CN=UN("toStringTag"),YN=Object,zN=hs(function(){return arguments}())=="Arguments",HN=function(e,n){try{return e[n]}catch{}},JN=KN?hs:function(e){var n,r,t;return e===void 0?"Undefined":e===null?"Null":typeof(r=HN(n=YN(e),CN))=="string"?r:zN?hs(n):(t=hs(n))=="Object"&&wN(n.callee)?"Arguments":t},qN=bn,WN=Qn,hv=jn,ZN=JN,XN=pa,QN=lv,bv=function(){},eR=[],jv=XN("Reflect","construct"),ro=/^\s*(?:class|function)\b/,nR=qN(ro.exec),rR=!ro.exec(bv),Mt=function(e){if(!hv(e))return!1;try{return jv(bv,eR,e),!0}catch{return!1}},xv=function(e){if(!hv(e))return!1;switch(ZN(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return rR||!!nR(ro,QN(e))}catch{return!0}};xv.sham=!0;var tR=!jv||WN(function(){var e;return Mt(Mt.call)||!Mt(Object)||!Mt(function(){e=!0})||e})?xv:Mt,iu=vv,iR=tR,sR=xt,aR=bi,lR=aR("species"),su=Array,dR=function(e){var n;return iu(e)&&(n=e.constructor,iR(n)&&(n===su||iu(n.prototype))?n=void 0:sR(n)&&(n=n[lR],n===null&&(n=void 0))),n===void 0?su:n},oR=dR,gR=function(e,n){return new(oR(e))(n===0?0:n)},uR=xN,kR=DN,mR=Jd,fR=Xf,vR=eo,cR=gR;uR({target:"Array",proto:!0},{flatMap:function(e){var n=fR(this),r=vR(n),t;return mR(e),t=cR(n,0),t.length=kR(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}});var Iv={},pR=mv,hR=no,bR=Object.keys||function(e){return pR(e,hR)},jR=kr,xR=tv,IR=It,AR=ha,TR=ca,ER=bR;Iv.f=jR&&!xR?Object.defineProperties:function(e,n){AR(e);for(var r=TR(n),t=ER(n),i=t.length,s=0,a;i>s;)IR.f(e,a=t[s++],r[a]);return e};var yR=pa,_R=yR("document","documentElement"),SR=ha,FR=Iv,au=no,NR=Xd,RR=_R,PR=nv,BR=dv,lu=">",du="<",Kl="prototype",wl="script",Av=BR("IE_PROTO"),el=function(){},Tv=function(e){return du+wl+lu+e+du+"/"+wl+lu},ou=function(e){e.write(Tv("")),e.close();var n=e.parentWindow.Object;return e=null,n},OR=function(){var e=PR("iframe"),n="java"+wl+":",r;return e.style.display="none",RR.appendChild(e),e.src=String(n),r=e.contentWindow.document,r.open(),r.write(Tv("document.F=Object")),r.close(),r.F},ns,bs=function(){try{ns=new ActiveXObject("htmlfile")}catch{}bs=typeof document<"u"?document.domain&&ns?ou(ns):OR():ou(ns);for(var e=au.length;e--;)delete bs[Kl][au[e]];return bs()};NR[Av]=!0;var $R=Object.create||function(e,n){var r;return e!==null?(el[Kl]=SR(e),r=new el,el[Kl]=null,r[Av]=e):r=bs(),n===void 0?r:FR.f(r,n)},VR=bi,DR=$R,GR=It.f,Ul=VR("unscopables"),Cl=Array.prototype;Cl[Ul]==null&&GR(Cl,Ul,{configurable:!0,value:DR(null)});var LR=function(e){Cl[Ul][e]=!0},MR=LR;MR("flatMap");var KR=Yn,wR=bn,UR=function(e,n){return wR(KR[e].prototype[n])},CR=UR;CR("Array","flatMap");const ar="vurderEtterlønnSluttpakke",xi=({readOnly:e})=>{const n=K.useContext(Pe),r=te();return g.jsx("div",{children:g.jsx(pe,{label:g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"BeregningInfoPanel.EtterlønnSluttpakke.HarSøkerInntekt"}),g.jsx(Ge,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsx(m,{id:"BeregningInfoPanel.EtterlønnSluttpakke.HvordanGarJegFrem1"})})]}),name:`vurderFaktaBeregningForm.${n}.${ar}`,validate:[X],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.JaMaanedsinntektMaaFastsettes"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.NeiBrukerAInntekt"})}],parse:Bn})})};xi.buildInitialValues=(e,n)=>{var r,t;const i={};if(!e||!e.beregningsgrunnlagPeriode||!n)return{};const s=!rn(n.status),a=e.beregningsgrunnlagPeriode.flatMap(l=>l.beregningsgrunnlagPrStatusOgAndel).filter(l=>(l==null?void 0:l.arbeidsforhold)&&(l==null?void 0:l.arbeidsforhold.arbeidsforholdType)===Fn.ETTERLONN_SLUTTPAKKE);return a.length>0&&(i[ar]=s&&((r=a[0])==null?void 0:r.beregnetPrAar)!==void 0?((t=a[0])==null?void 0:t.beregnetPrAar)>0:void 0),i};const YR=e=>{if(!e.andelerForFaktaOmBeregning)return;const n=e.andelerForFaktaOmBeregning.find(r=>r.arbeidsforhold&&r.arbeidsforhold.arbeidsforholdType&&r.arbeidsforhold.arbeidsforholdType===Fn.ETTERLONN_SLUTTPAKKE);return n?n.andelsnr:void 0};xi.transformValues=(e,n,r,t)=>{if(!(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).includes(P.VURDER_ETTERLONN_SLUTTPAKKE))return{};if(!n||n.length===0)return{faktaOmBeregningTilfeller:[P.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[ar]}};const i=YR(r);if(!i)return{};const s=n.find(l=>l.andelsnr===i);if(!s)return{faktaOmBeregningTilfeller:[P.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[ar]}};if(t.includes(s.andelsnr))return{faktaOmBeregningTilfeller:[P.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[ar]}};t.push(s.andelsnr);const a={fastsettEtterlønnSluttpakke:{fastsattPrMnd:s.fastsattBelop}};return{faktaOmBeregningTilfeller:[P.VURDER_ETTERLONN_SLUTTPAKKE,P.FASTSETT_ETTERLONN_SLUTTPAKKE],...a,vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[ar]}}};const Ev="mottarYtelseField",zR="_frilans",Lr=e=>Ev+e.andelsnr,Fr=()=>Ev+zR,HR=(e,n)=>(n&&n.arbeidstakerAndelerUtenIM?n.arbeidstakerAndelerUtenIM:[]).map(r=>e.vurderMottarYtelseValues[Lr(r)]).find(r=>r)!==void 0,yv=e=>e.vurderMottarYtelseValues[Fr()],_v=(e,n,r)=>{if(!n)return{};const t={};if((n.arbeidstakerAndelerUtenIM?n.arbeidstakerAndelerUtenIM:[]).forEach(s=>{const a=e.vurderMottarYtelseValues[Lr(s)];t[s.andelsnr]=a}),!r)return t;const i=r.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(s=>s.aktivitetStatus===R.FRILANSER);return i&&(t[i.andelsnr]=yv(e)),t},JR="_navetLink_15r5n_1",qR="_flexColumn12_15r5n_12",WR="_flexColumn9_15r5n_15",ZR="_flexColumn3_15r5n_18",xr={navetLink:JR,flexColumn12:qR,flexColumn9:WR,flexColumn3:ZR},gr="vurderbesteberegningField",{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:XR}=Ue,Ii=({readOnly:e,erOverstyrt:n})=>{const r=K.useContext(Pe),t=te(),i=e||n;return g.jsx("div",{children:g.jsxs(L,{children:[g.jsx(E,{className:xr.flexColumn9,children:g.jsx(pe,{label:g.jsx(m,{id:"BeregningInfoPanel.VurderBestebergning.HarBesteberegning"}),name:`vurderFaktaBeregningForm.${r}.${gr}`,isReadOnly:i,validate:i?[]:[X],radios:[{value:"true",label:t.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:t.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:Bn})}),g.jsx(E,{className:xr.flexColumn3,children:g.jsx("a",{className:xr.navetLink,href:ma,target:"_blank",rel:"noopener noreferrer",children:g.jsx(m,{id:"BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet"})})})]})})};Ii.buildInitialValues=(e,n,r,t)=>r.includes(P.VURDER_BESTEBEREGNING)||r.includes(P.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE)?n?e.find(i=>i.definisjon===XR)!==void 0||t?{[gr]:!1}:{[gr]:n.skalHaBesteberegning}:{}:{};Ii.transformValues=(e,n,r)=>{if(!n||!n.vurderBesteberegning)return{};if(!e[gr]||!r)return{besteberegningAndeler:{besteberegningAndelListe:[]}};const t=r.filter(({nyAndel:s})=>s!==!0).map(s=>({andelsnr:s.andelsnr,nyAndel:s.nyAndel,lagtTilAvSaksbehandler:s.lagtTilAvSaksbehandler,fastsatteVerdier:{fastsattBeløp:s.fastsattBelop,inntektskategori:s.inntektskategori}})),i=r.find(s=>s.nyAndel&&s.aktivitetStatus===R.DAGPENGER);return{besteberegningAndeler:{besteberegningAndelListe:t,nyDagpengeAndel:i?{fastsatteVerdier:{fastsattBeløp:i.fastsattBelop,inntektskategori:i.inntektskategori}}:null}}};const QR=e=>(n,r)=>{const t=e.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller:[];if(!(t.map(a=>a).includes(P.VURDER_BESTEBEREGNING)||t.map(a=>a).includes(P.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE)))return{};const i=Ii.transformValues(n,e,r),s=[P.VURDER_BESTEBEREGNING];return i.besteberegningAndeler.besteberegningAndelListe.length>0&&s.push(P.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE),{faktaOmBeregningTilfeller:s,...i}},Sv="inntektFieldArray",eP=e=>e.inntektskategori&&e.inntektskategori!==hn.UDEFINERT?e.inntektskategori:"",nP=(e,n,r)=>{var t,i,s,a,l;const o=(t=e.arbeidsforhold)!=null&&t.arbeidsgiverIdent?n[e.arbeidsforhold.arbeidsgiverIdent]:void 0;return o?Vr(o,(l=e.arbeidsforhold)==null?void 0:l.eksternArbeidsforholdId):(i=e.arbeidsforhold)!=null&&i.arbeidsforholdType?(s=r[be.OPPTJENING_AKTIVITET_TYPE].find(k=>{var u;return k.kode===((u=e.arbeidsforhold)==null?void 0:u.arbeidsforholdType)}))==null?void 0:s.navn:(a=r[be.AKTIVITET_STATUS].find(k=>k.kode===e.aktivitetStatus))==null?void 0:a.navn},Fv=(e,n,r)=>({andel:nP(e,n,r)||"",aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,nyAndel:!1,inntektskategori:eP(e),lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler===!0}),rP=(e,n)=>e?e.find(r=>r.andelsnr===n.andelsnr):void 0,tP=(e,n)=>e?e.find(r=>r.andelsnr===n.andelsnr):void 0,iP=(e,n)=>{const r=rP(n.arbeidstakerOgFrilanserISammeOrganisasjonListe,e);return r&&(r.inntektPrMnd===null||r.inntektPrMnd===void 0)},ba=e=>e.aktivitetStatus&&e.aktivitetStatus===R.ARBEIDSTAKER,ja=e=>e.aktivitetStatus&&e.aktivitetStatus===R.FRILANSER,Nv=e=>e.aktivitetStatus&&e.aktivitetStatus===R.DAGPENGER,sP=(e,n)=>n?ja(e)&&n[zn]:!1,aP=e=>e[gr],lP=(e,n,r)=>r.arbeidsforholdMedLønnsendringUtenIM&&tP(r.arbeidsforholdMedLønnsendringUtenIM,n)&&e[gt],dP=(e,n,r)=>ba(e)&&lP(n,e,r),oP=(e,n)=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&ja(e),gP=(e,n)=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&ba(e)&&iP(e,n),uP=(e,n,r,t)=>_v(e,r.vurderMottarYtelse,t)[n.andelsnr],kP=(e,n)=>e.arbeidsforholdType&&e.arbeidsforholdType===Fn.ETTERLONN_SLUTTPAKKE?n[ar]:!1,Rv=(e,n)=>n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(r=>r.arbeidsforhold&&r.arbeidsforhold.arbeidsgiverIdent===e.arbeidsgiverId&&r.arbeidsforhold.organisasjonstype&&r.arbeidsforhold.organisasjonstype===ui.KUNSTIG)!==void 0,mP=e=>!!e.faktaOmBeregningTilfeller&&e.faktaOmBeregningTilfeller.find(n=>n===P.FASTSETT_BG_KUN_YTELSE)!==void 0,fP=(e,n,r)=>t=>!!(aP(e)||uP(e,t,n,r)||dP(t,e,n)||oP(t,n)||gP(t,n)||Rv(t,r)||Bf(t,r)||kP(t,e)),vP=(e,n,r)=>t=>!!(fP(e,n,r)(t)||sP(t,e)),At=e=>!!e&&e[ot]===!0,cP=e=>e&&e.some(n=>n.definisjon===Ue.OVERSTYRING_AV_BEREGNINGSGRUNNLAG),to=e=>At(e),gu=e=>e.erOverstyrtInntekt||cP(e.avklaringsbehov),Pv=(e,n,r)=>t=>mP(n)||vP(e,n,r)(t),pP=(e,n,r)=>t=>At(e)||Pv(e,n,r)(t),Cs=(e,n)=>r=>pP(e,n.faktaOmBeregning,n)(r),hP=e=>n=>Rv(n,e),bP=e=>hP(e),jP=(e,n,r)=>({...Fv(e,n,r),arbeidsforholdId:e.arbeidsforhold?e.arbeidsforhold.arbeidsforholdId:void 0,arbeidsperiodeFom:e.arbeidsforhold?e.arbeidsforhold.startdato:"",arbeidsperiodeTom:e.arbeidsforhold?e.arbeidsforhold.opphoersdato:"",arbeidsforholdType:e.arbeidsforhold?e.arbeidsforhold.arbeidsforholdType:void 0,aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,arbeidsgiverId:e.arbeidsforhold?e.arbeidsforhold.arbeidsgiverIdent:void 0,skalKunneEndreAktivitet:e.skalKunneEndreAktivitet,fastsattBelop:e.fastsattBelop||e.fastsattBelop===0?q(e.fastsattBelop):"",belopReadOnly:e.belopReadOnly||e.belopReadOnly===0?q(e.belopReadOnly):"",refusjonskrav:e.refusjonskrav||e.refusjonskrav===0?q(e.refusjonskrav):""}),Yl=(e,n)=>e.findIndex(r=>r.arbeidsgiverIdent===n),Ys=(e,n)=>{var r;return(r=e==null?void 0:e.find(t=>t.arbeidsgiverIdent===n))==null?void 0:r.fastsattBelop},mr=e=>{if(!e.faktaOmBeregning)throw new Error("Mangler fakta om beregning, ugyldig tilstand");return e.faktaOmBeregning},io=e=>{var n;return((n=mr(e))==null?void 0:n.faktaOmBeregningTilfeller)||[]},st=(e,n)=>n.some(r=>r.definisjon===e),zl=e=>{const n=e.filter(r=>r.definisjon===Ue.VURDER_FAKTA_FOR_ATFL_SN||r.definisjon===Ue.OVERSTYRING_AV_BEREGNINGSGRUNNLAG);return n.length===0?!1:n.some(r=>!rn(r.status))},xP=(e,n)=>e.andelsinfo===n.andelsinfo?e.inntektskategori===n.inntektskategori?0:e.inntektskategori>n.inntektskategori?1:-1:e.andelsinfo>n.andelsinfo?1:-1,IP=(e,n)=>{const{nyAndel:r,andel:t,inntektskategori:i,aktivitetStatus:s,arbeidsforholdId:a}=e;if(r){if(!Number.isNaN(Number(t))){const l=n.filter(o=>o.andelsnr===parseFloat(t));if(l.length>0)return{andelsinfo:l[0].andel,inntektskategori:i}}return Rs[t]?{andelsinfo:t,inntektskategori:i}:{andelsinfo:t,inntektskategori:i}}return Ps[s]?{andelsinfo:Ps[s],inntektskategori:i}:{andelsinfo:t,inntektskategori:i,arbeidsforholdId:a}},AP=e=>e.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.UlikeAndeler"}),TP=(e,n)=>n.andelsinfo===e.andelsinfo&&n.inntektskategori===e.inntektskategori&&e.arbeidsforholdId===n.arbeidsforholdId,Bv=(e,n,r)=>{const t=e.map(i=>n(i,e)).slice().sort((i,s)=>xP(i,s));for(let i=0;i<t.length-1;i+=1)if(TP(t[i],t[i+1]))return AP(r);return null},EP=(e,n)=>Bv(e,IP,n),yP=e=>e.formatMessage({id:"BeregningInfoPanel.Validation.MinstEnFastsatt"}),_P=(e,n)=>e.some(({fastsattBelop:r})=>r!==null&&r!==""&&r!==void 0)?null:yP(n),SP="_row_1hw01_1",FP="_slettIkon_1hw01_10",NP="_rightAlign_1hw01_13",RP="_rightAlignInput_1hw01_20",PP="_buttonRow_1hw01_28",BP="_addPeriode_1hw01_31",OP="_customLink_1hw01_32",$P="_removeButton_1hw01_33",VP="_addCircleIcon_1hw01_41",DP="_imageText_1hw01_42",GP="_storBredde_1hw01_47",LP="_mediumBredde_1hw01_50",MP="_flexColumn3_1hw01_53",Ln={row:SP,slettIkon:FP,rightAlign:NP,rightAlignInput:RP,buttonRow:PP,addPeriode:BP,customLink:OP,removeButton:$P,addCircleIcon:VP,imageText:DP,storBredde:GP,mediumBredde:LP,flexColumn3:MP},KP=(e,n)=>{var r;return{andel:(r=n[be.AKTIVITET_STATUS].find(t=>t.kode===e.filter(i=>i===R.BRUKERS_ANDEL)[0]))==null?void 0:r.navn,fastsattBelop:"",inntektskategori:"",nyAndel:!0,lagtTilAvSaksbehandler:!0}},wP=e=>e.map(n=>g.jsx("option",{value:n.kode,children:n.navn},n.kode)),UP=e=>{let n=0;return e.forEach(r=>{n+=r.fastsattBelop?me(r.fastsattBelop):0}),n>0?q(n):""};function CP(e,n,r){return(n[e].nyAndel||n[e].lagtTilAvSaksbehandler)&&!r}const YP=(e,n,r,t,i,s,a)=>e.map((l,o)=>g.jsxs(re.Row,{className:Ln.row,children:[g.jsx(re.DataCell,{children:g.jsx(_,{size:"small",children:g.jsx(m,{id:"BeregningInfoPanel.FordelingBG.Ytelse"})})}),g.jsx(re.DataCell,{align:"right",className:Ln.rightAlign,children:g.jsx(xe,{name:`${s}.${o}.fastsattBelop`,className:Ln.mediumBredde,parse:Ne,readOnly:r,isEdited:n,validate:r?[]:[X,ln(178956970)],label:i.formatMessage({id:"BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn"},{andel:`ytelse ${o+1}`}),hideLabel:!0,size:"small"})}),g.jsx(re.DataCell,{align:"right",className:Ln.rightAlign,children:g.jsx(pt,{label:i.formatMessage({id:"BeregningInfoPanel.FordelingBG.InntektskategoriMedAndelnavn"},{andel:`ytelse ${o+1}`}),name:`${s}.${o}.inntektskategori`,className:Ln.storBredde,selectValues:wP(t),readOnly:r,validate:r?[]:[X],hideLabel:!0,size:"small"})}),g.jsx(re.DataCell,{align:"right",className:Ln.rightAlign,children:CP(o,e,r)&&g.jsx(se,{icon:g.jsx(Wn,{"aria-hidden":!0,className:Ln.slettIkon}),onClick:()=>a(o),type:"button",variant:"tertiary"})})]},l.id)),zP=e=>g.jsxs(re.Row,{children:[g.jsx(re.DataCell,{children:g.jsx(w,{as:"p",size:"small",children:g.jsx(m,{id:"BeregningInfoPanel.FordelingBG.Sum"})})}),g.jsx(re.DataCell,{align:"right",children:g.jsx(ke,{children:e})}),g.jsx(re.DataCell,{}),g.jsx(re.DataCell,{})]},"bruttoBGSummaryRow"),HP=()=>["BeregningInfoPanel.FordelingBG.Andel","BeregningInfoPanel.FordelingBG.Fordeling","BeregningInfoPanel.FordelingBG.Inntektskategori"],JP=e=>e[be.INNTEKTSKATEGORI].slice().sort((n,r)=>n.navn.localeCompare(r.navn)),qP=e=>{const{andel:n,inntektskategori:r}=e;return{andelsinfo:n,inntektskategori:r}},WP=(e,n)=>Bv(e,qP,n)||null,Ov=({name:e,readOnly:n,isAksjonspunktClosed:r,kodeverkSamling:t})=>{var i;const s=te(),{control:a}=je(),l=K.useContext(Pe),o=`${Kn}.${l}.${e}`,{fields:k,append:u,remove:f}=ze({control:a,name:o}),c=(i=t[be.AKTIVITET_STATUS])==null?void 0:i.map(O=>O.kode),b=JP(t),x=Mn({name:o,control:a}),T=UP(x)||0,N=YP(k,r,n,b,s,o,f);N.push(zP(T));const S=WP(x,s),B=`${o}.skjemagruppe`,y=Pr(B,S);return g.jsxs("div",{children:[g.jsxs(re,{size:"small",children:[g.jsx(re.Header,{children:g.jsxs(re.Row,{children:[HP().map(O=>{const $=["BeregningInfoPanel.FordelingBG.Fordeling","BeregningInfoPanel.FordelingBG.Inntektskategori"].includes(O);return g.jsx(re.HeaderCell,{scope:"col",align:$?"right":"left",children:g.jsx(w,{size:"small",as:"span",children:g.jsx(m,{id:O})})},O)}),g.jsx(re.HeaderCell,{})]})}),g.jsx(re.Body,{children:N})]}),!n&&g.jsx(L,{className:Ln.buttonRow,children:g.jsxs(E,{className:Ln.flexColumn3,children:[g.jsx(I,{eightPx:!0}),g.jsx(se,{icon:g.jsx(ct,{"aria-hidden":!0,className:Ln.addCircleIcon}),onClick:()=>u(KP(c,t)),type:"button",variant:"tertiary",size:"small",children:g.jsx(m,{id:"BeregningInfoPanel.FordelingBG.LeggTilAndel"})})]})}),g.jsx(I,{eightPx:!0}),y&&g.jsx(Un,{children:y})]})},so="besteberegningField",Tt=({readOnly:e,isAksjonspunktClosed:n,brukersAndelFieldArrayName:r,skalViseInntektstabell:t,kodeverkSamling:i})=>{const{getValues:s}=je(),a=K.useContext(Pe),l=s(`${Kn}.${a}`)[so],o=te();return g.jsxs("div",{children:[g.jsx(pe,{name:`vurderFaktaBeregningForm.${a}.besteberegningField`,isReadOnly:e,label:g.jsx(m,{id:"KunYtelsePanel.HarBesteberegning"}),radios:[{value:"true",label:o.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:o.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:e?[]:[X],parse:Bn,isHorizontal:!0}),l!=null&&g.jsxs(_d,{alignOffset:l?0:60,children:[g.jsxs(L,{children:[g.jsx(E,{className:xr.flexColumn9,children:g.jsx(w,{size:"small",children:g.jsx(m,{id:"KunYtelsePanel.OverskriftBesteberegning"})})}),l&&g.jsx(E,{className:xr.flexColumn3,children:g.jsx("a",{className:xr.navetLink,href:ma,target:"_blank",rel:"noopener noreferrer",children:g.jsx(m,{id:"BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet"})})})]}),t&&g.jsx(L,{children:g.jsx(E,{className:xr.flexColumn12,children:g.jsx(Ov,{name:r,readOnly:e,isAksjonspunktClosed:n,kodeverkSamling:i})})})]})]})};Tt.defaultProps={erBesteberegning:void 0,skalViseInntektstabell:!0};Tt.buildInitialValues=e=>({[so]:e.erBesteberegning});Tt.transformValues=e=>e[so];const ZP="_flexColumn9_csgl6_1",XP={flexColumn9:ZP},QP=({readOnly:e,brukersAndelFieldArrayName:n,kodeverkSamling:r,isAksjonspunktClosed:t})=>g.jsxs(g.Fragment,{children:[g.jsx(L,{children:g.jsx(E,{className:XP.flexColumn9,children:g.jsx(w,{size:"medium",children:g.jsx(m,{id:"KunYtelsePanel.RapporterteInntekter"})})})}),g.jsx(I,{eightPx:!0}),g.jsx(Ov,{name:n,readOnly:e,isAksjonspunktClosed:t,kodeverkSamling:r})]}),ti="brukersAndelBG",Mr=({readOnly:e,faktaOmBeregning:n,isAksjonspunktClosed:r,skalViseInntektstabell:t,kodeverkSamling:i})=>{const{kunYtelse:s}=n,a=s.fodendeKvinneMedDP;return g.jsxs("div",{children:[a&&g.jsx(Tt,{readOnly:e,isAksjonspunktClosed:r,brukersAndelFieldArrayName:ti,skalViseInntektstabell:t,kodeverkSamling:i}),!a&&t&&g.jsx(QP,{readOnly:e,brukersAndelFieldArrayName:ti,isAksjonspunktClosed:r,kodeverkSamling:i})]})};Mr.defaultProps={skalViseInntektstabell:!0};Mr.buildInitialValues=(e,n,r,t)=>{if(!e||!e.andeler||e.andeler.length===0)return{};const i=e.andeler.map(a=>{const l=n.find(o=>o.andelsnr===a.andelsnr);if(!l)throw new Error(`Finner ikke faktaAndel med andelsnr ${a.andelsnr}`);return{...Fv(l,r,t),fastsattBelop:q(a.fastsattBelopPrMnd)||""}}),s={[ti]:i};return e.fodendeKvinneMedDP?{...Tt.buildInitialValues(e),...s}:s};Mr.summerFordeling=e=>e[ti].map(({fastsattBelop:n})=>n?me(n):0).reduce((n,r)=>n+r,0);Mr.transformValues=(e,n)=>({kunYtelseFordeling:{andeler:e[ti].map(r=>({andelsnr:r.andelsnr,fastsattBeløp:me(r.fastsattBelop),inntektskategori:r.inntektskategori,nyAndel:r.nyAndel,lagtTilAvSaksbehandler:r.lagtTilAvSaksbehandler})),skalBrukeBesteberegning:n.fodendeKvinneMedDP?Tt.transformValues(e):null}});const{FASTSETT_BG_KUN_YTELSE:zs,VURDER_BESTEBEREGNING:eB}=P,nB=(e,n,r,t,i,s,a)=>{n.includes(zs)&&e.push(g.jsxs(K.Fragment,{children:[g.jsx(Mr,{readOnly:r,isAksjonspunktClosed:t,faktaOmBeregning:i,kodeverkSamling:s}),a()]},"FASTSETT_BG_KUN_YTELSE"))},rB=(e,n,r)=>{if(r.includes(zs)){const t=Mr.transformValues(e,n),i=[zs];return n.fodendeKvinneMedDP&&i.push(eB),{faktaOmBeregningTilfeller:i,...t}}return{}},tB=(e,n,r,t,i)=>n&&n.includes(zs)?Mr.buildInitialValues(e,r,t,i):{},ao="erSNNyIArbeidslivet",Ai=({readOnly:e})=>{const n=K.useContext(Pe),r=te();return g.jsx("div",{children:g.jsx(pe,{label:g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"BeregningInfoPanel.NyIArbeidslivet.SelvstendigNaeringsdrivende"}),g.jsx(Ge,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(le,{size:"small",children:[g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.NyIArbeidslivet.HvordanGarJegFrem1"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.NyIArbeidslivet.HvordanGarJegFrem2"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.NyIArbeidslivet.HvordanGarJegFrem3"})})]})})]}),name:`vurderFaktaBeregningForm.${n}.${ao}`,validate:[X],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:Bn})})};Ai.buildInitialValues=e=>{var n;const r={};if(!e||!e.beregningsgrunnlagPeriode)return r;const t=e.beregningsgrunnlagPeriode.map(i=>i.beregningsgrunnlagPrStatusOgAndel).flat().filter(i=>(i==null?void 0:i.aktivitetStatus)===R.SELVSTENDIG_NAERINGSDRIVENDE);return t.length>0&&(r[ao]=(n=t[0])==null?void 0:n.erNyIArbeidslivet),r};Ai.transformValues=e=>({vurderNyIArbeidslivet:{erNyIArbeidslivet:e[ao]}});const iB="BeregningInfoPanel.TidsbegrensetArbFor.Arbeidsforhold",lo=e=>e&&e.arbeidsforhold?`${e.arbeidsforhold.arbeidsgiverIdent}(${e.arbeidsforhold.arbeidsforholdId})(${e.andelsnr})`:"",uu=(e,n)=>{const r=n[e.arbeidsgiverIdent];return Vr(r,e.eksternArbeidsforholdId)},Ti=({readOnly:e,faktaOmBeregning:n,arbeidsgiverOpplysningerPerId:r})=>{const t=n.kortvarigeArbeidsforhold,i=K.useContext(Pe),s=te();return g.jsx("div",{children:t.map((a,l)=>g.jsxs("div",{children:[l>0&&g.jsx(I,{twentyPx:!0}),g.jsx(pe,{label:g.jsxs(g.Fragment,{children:[g.jsx(m,{id:iB,values:{navn:uu(a.arbeidsforhold,r),fom:A(a.arbeidsforhold.startdato).format(ie),tom:A(a.arbeidsforhold.opphoersdato).format(ie)}}),g.jsx(Ge,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsx(m,{id:"BeregningInfoPanel.TidsbegrensetArbeidsforholdForm.ReadMore"})})]}),name:`vurderFaktaBeregningForm.${i}.tidsbegrensetValues.${lo(a)}`,isReadOnly:e,radios:[{value:"true",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[X],parse:Bn})]},`fastsettTidsbegrensedeForhold_${uu(a.arbeidsforhold,r)}`))})};Ti.buildInitialValues=e=>{const n={};return e&&e.forEach(r=>{r.erTidsbegrensetArbeidsforhold!==void 0&&(n[lo(r)]=r.erTidsbegrensetArbeidsforhold)}),n};Ti.transformValues=(e,n)=>{const r=[];return n.forEach(t=>{const i=lo(t),s=e.tidsbegrensetValues[i],a={andelsnr:t.andelsnr,tidsbegrensetArbeidsforhold:s,opprinneligVerdi:t.erTidsbegrensetArbeidsforhold};r.push(a)}),{vurderTidsbegrensetArbeidsforhold:{fastsatteArbeidsforhold:r}}};const oo="vurderMilitær",Ei=({readOnly:e})=>{const n=K.useContext(Pe),r=te();return g.jsx("div",{children:g.jsx(pe,{label:g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"BeregningInfoPanel.VurderMilitaer.HarSøkerMilitærinntekt"}),g.jsx(Ge,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(le,{size:"small",children:[g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderMilitaer.HvordanGarJegFrem1"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderMilitaer.HvordanGarJegFrem2"})})]})})]}),name:`vurderFaktaBeregningForm.${n}.${oo}`,isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[X],parse:Bn})})};Ei.buildInitialValues=e=>{const n={};return!e||!e.vurderMilitaer||(n[oo]=e.vurderMilitaer.harMilitaer),n};Ei.transformValues=e=>({vurderMilitaer:{harMilitaer:e[oo]}});const sB="_aksjonspunktBoks_tufis_1",aB={aksjonspunktBoks:sB},lB=({children:e})=>g.jsx("div",{className:aB.aksjonspunktBoks,children:e}),dB="_buttonRow_11vqq_1",oB="_addPeriode_11vqq_4",gB="_customLink_11vqq_5",uB="_removeButton_11vqq_6",kB="_addCircleIcon_11vqq_14",mB="_imageText_11vqq_15",fB="_flexColumn_11vqq_20",rs={buttonRow:dB,addPeriode:oB,customLink:gB,removeButton:uB,addCircleIcon:kB,imageText:mB,flexColumn:fB},vB=e=>({andel:e.filter(({kode:n})=>n===R.DAGPENGER)[0].navn,aktivitetStatus:R.DAGPENGER,fastsattBelop:"",inntektskategori:hn.DAGPENGER,nyAndel:!0,skalKunneEndreAktivitet:!0,lagtTilAvSaksbehandler:!0}),ku=({leggTilAndel:e,kodeverkSamling:n})=>{const r=n[be.AKTIVITET_STATUS];return g.jsx(L,{className:rs.buttonRow,children:g.jsx(E,{className:rs.flexColumn,children:g.jsx(se,{icon:g.jsx(ct,{"aria-hidden":!0,className:rs.addCircleIcon}),onClick:()=>e(vB(r)),type:"button",variant:"tertiary",children:g.jsx(ke,{className:rs.imageText,children:g.jsx(m,{id:"BeregningInfoPanel.FordelingBG.LeggTilDagpengerAndel"})})})})})},cB="_slettIkon_1sqjy_1",pB="_rightAlign_1sqjy_4",hB="_rightAlignInput_1sqjy_7",bB="_buttonRow_1sqjy_22",jB="_addPeriode_1sqjy_25",xB="_customLink_1sqjy_26",IB="_removeButton_1sqjy_27",AB="_addCircleIcon_1sqjy_30",TB="_imageText_1sqjy_31",EB="_readOnlyContainer_1sqjy_36",yB="_readOnlyContent_1sqjy_39",_B="_storBredde_1sqjy_44",SB="_mediumBredde_1sqjy_47",FB="_litenBredde_1sqjy_50",NB="_inntekt_1sqjy_53",RB="_inntektNew_1sqjy_57",PB="_inntektOld_1sqjy_61",BB="_inntektOldStrikethrough_1sqjy_64",OB="_saksbehandlerIcon_1sqjy_72",tn={slettIkon:cB,rightAlign:pB,rightAlignInput:hB,buttonRow:bB,addPeriode:jB,customLink:xB,removeButton:IB,addCircleIcon:AB,imageText:TB,readOnlyContainer:EB,readOnlyContent:yB,storBredde:_B,mediumBredde:SB,litenBredde:FB,inntekt:NB,inntektNew:RB,inntektOld:PB,inntektOldStrikethrough:BB,saksbehandlerIcon:OB},$B=(e,n)=>{const r=[];return r.push("BeregningInfoPanel.FordelingBG.Andel"),e&&r.push("BeregningInfoPanel.FordelingBG.Arbeidsperiode"),r.push("BeregningInfoPanel.FordelingBG.Fordeling"),n&&r.push("BeregningInfoPanel.FordelingBG.Refusjonskrav"),r.push("BeregningInfoPanel.FordelingBG.Inntektskategori"),r},VB=e=>e.map(n=>g.jsx("option",{value:n.kode,children:n.navn},n.kode)),DB=e=>e[be.INNTEKTSKATEGORI].slice().sort((n,r)=>n.navn.localeCompare(r.navn)),GB=()=>g.jsx(Un,{size:"small",children:"Må fastsettes"}),LB=({field:e,skalVisePeriode:n,skalViseRefusjon:r,skalViseSletteknapp:t,readOnly:i,removeAndel:s,beregningsgrunnlag:a,kodeverkSamling:l,rowName:o,skalFastsetteInntektForAndel:k})=>{var u,f,c,b;const x=te(),{getValues:T}=je(),N=K.useContext(Pe),S=T(`vurderFaktaBeregningForm.${N}`),B=ja(e),y=Nv(e),O=ba(e),$=Cs(S,a)(e),D=B&&$&&((u=S==null?void 0:S.frilansInntektValues)==null?void 0:u.fastsattBelop),Y=O&&$&&!!Ys(S==null?void 0:S.arbeidstakerInntektValues,e.arbeidsgiverId),ne=y&&$&&((f=S==null?void 0:S.dagpengerInntektValues)==null?void 0:f.fastsattBelop),ee=B&&$&&!((c=S==null?void 0:S.frilansInntektValues)!=null&&c.fastsattBelop)||O&&$&&!Ys(S==null?void 0:S.arbeidstakerInntektValues,e.arbeidsgiverId)||y&&$&&!((b=S==null?void 0:S.dagpengerInntektValues)!=null&&b.fastsattBelop),U=D||Y||ne,V=!U&&At(S),C=bP(a)(e),Z=DB(l),H=e.arbeidsperiodeFom||e.arbeidsperiodeTom,ae=()=>Y?`vurderFaktaBeregningForm.${N}.arbeidstakerInntektValues.${Yl(S.arbeidstakerInntektValues,e.arbeidsgiverId)}.fastsattBelop`:D?`vurderFaktaBeregningForm.${N}.frilansInntektValues.fastsattBelop`:ne?`vurderFaktaBeregningForm.${N}.dagpengerInntektValues.fastsattBelop`:"";return g.jsxs(re.Row,{children:[g.jsx(re.DataCell,{children:g.jsx(xe,{size:"small",name:`${o}.andel`,className:tn.storBredde,readOnly:!0})}),g.jsx(re.DataCell,{children:n&&H&&g.jsx(xm,{value:g.jsx(Ye,{size:"small",dateStringFom:e.arbeidsperiodeFom,dateStringTom:e.arbeidsperiodeTom})})}),!V&&g.jsx(re.DataCell,{align:"right",children:g.jsxs("div",{className:tn.inntekt,children:[g.jsx("div",{className:U?tn.inntektOldStrikethrough:tn.inntektOld,children:ee?GB():g.jsx(xe,{size:"small",name:`${o}.belopReadOnly`,className:tn.mediumBredde,parse:Ne,readOnly:!0})}),U&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:tn.inntektNew,children:g.jsx(xe,{size:"small",name:ae(),className:tn.mediumBredde,parse:Ne,readOnly:!0})}),g.jsx(Sh,{title:"Endret av saksbehandler",className:tn.saksbehandlerIcon})]})]})}),V&&g.jsx(re.DataCell,{align:"right",children:g.jsx(xe,{size:"small",label:x.formatMessage({id:"BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn"},{andel:e.andel}),name:`${o}.fastsattBelop`,parse:Ne,className:tn.mediumBredde,validate:k(e)?[X,ln(178956970)]:[],hideLabel:!0})}),r&&g.jsx(re.DataCell,{align:"right",children:g.jsx(xe,{size:"small",name:`${o}.refusjonskrav`,className:tn.litenBredde,readOnly:!0,parse:Ne})}),g.jsx(re.DataCell,{align:"right",children:g.jsx(pt,{label:x.formatMessage({id:"BeregningInfoPanel.FordelingBG.Inntektskategori"}),name:`${o}.inntektskategori`,className:tn.storBredde,selectValues:VB(Z),validate:i?[]:[X],readOnly:i||!C,size:"small",hideLabel:!0})}),t&&g.jsx(re.DataCell,{children:g.jsx(se,{icon:g.jsx(Wn,{"aria-hidden":!0,className:tn.slettIkon}),onClick:()=>s(),type:"button",variant:"tertiary"})})]})},MB=(e,n,r)=>{let t=0;return e.forEach(i=>{var s,a,l;let o;if(Cs(n,r)(i)){const k=ja(i),u=ba(i),f=Nv(i);k&&(s=n==null?void 0:n.frilansInntektValues)!=null&&s.fastsattBelop?o=n.frilansInntektValues.fastsattBelop:u&&(a=n==null?void 0:n.arbeidstakerInntektValues[Yl(n.arbeidstakerInntektValues,i.arbeidsgiverId)])!=null&&a.fastsattBelop?o=n.arbeidstakerInntektValues[Yl(n.arbeidstakerInntektValues,i.arbeidsgiverId)].fastsattBelop:f&&(l=n==null?void 0:n.dagpengerInntektValues)!=null&&l.fastsattBelop?o=n.dagpengerInntektValues.fastsattBelop:o=i.fastsattBelop}else o=i.belopReadOnly;t+=o?me(o):0}),t>0?t:0},KB=({skalVisePeriode:e,skalViseRefusjon:n,readOnly:r,beregningsgrunnlag:t})=>{const{control:i,getValues:s}=je(),a=K.useContext(Pe),l=s(`vurderFaktaBeregningForm.${a}`),o=Mn({control:i,name:`vurderFaktaBeregningForm.${a}.inntektFieldArray`}),k=MB(o,l,t)||0;return g.jsxs(re.Row,{children:[g.jsx(re.DataCell,{children:g.jsx(w,{as:"p",size:"small",children:g.jsx(m,{id:"BeregningInfoPanel.FordelingBG.Sum"})})}),e&&g.jsx(re.DataCell,{}),g.jsx(re.DataCell,{align:"right",children:g.jsx("div",{className:tn.readOnlyContainer,children:g.jsx(w,{as:"p","data-testid":"sum",className:r?tn.readOnlyContent:"",size:"small",children:q(k)})})}),n&&g.jsx(re.DataCell,{}),g.jsx(re.DataCell,{})]})},wB=e=>({andel:e.find(({kode:n})=>n===R.DAGPENGER).navn,aktivitetStatus:R.DAGPENGER,fastsattBelop:"",inntektskategori:hn.DAGPENGER,nyAndel:!0,skalKunneEndreAktivitet:!1,lagtTilAvSaksbehandler:!0}),UB=e=>({andel:e.find(({kode:n})=>n===R.MILITAER_ELLER_SIVIL).navn,aktivitetStatus:R.MILITAER_ELLER_SIVIL,fastsattBelop:"",inntektskategori:hn.ARBEIDSTAKER,nyAndel:!0,skalKunneEndreAktivitet:!1,lagtTilAvSaksbehandler:!0}),CB=(e,n,r)=>n[e].skalKunneEndreAktivitet===!0&&!r,Hl=e=>{let n=!1;return e.forEach(r=>{r.refusjonskrav!==""&&r.refusjonskrav!==null&&r.refusjonskrav!==void 0&&(n=!0)}),n},Jl=e=>{let n=!1;return e.forEach(r=>{r.arbeidsgiverId!==""&&(n=!0)}),n},YB=(e,n)=>()=>{n(e)},zB=(e,n,r)=>g.jsx(KB,{readOnly:n,skalVisePeriode:Jl(e),skalViseRefusjon:Hl(e),beregningsgrunnlag:r},"summaryRow"),$v=(e,n)=>{let r=-1;return e.forEach((t,i)=>{t.aktivitetStatus===n&&(r=i)}),r},mu=e=>$v(e,R.DAGPENGER)!==-1,Vv=(e,n,r,t,i,s,a,l)=>{const o=$v(e,n);if(o!==-1){const k=e[o];t(k)&&a(o)}o===-1&&r&&l({...i})},fu=e=>e===R.FRILANSER,vu=e=>e===R.ARBEIDSTAKER,cu=e=>e===R.DAGPENGER,HB=(e,n,r,t,i,s,a)=>{Vv(e,R.DAGPENGER,n,l=>!n&&!t&&l.lagtTilAvSaksbehandler,wB(r),i,s,a)},JB=(e,n,r,t,i,s)=>{Vv(e,R.MILITAER_ELLER_SIVIL,n===!0,()=>n===!1,UB(r),t,i,s)},qB=(e,n)=>_P(e,n)??null,WB=(e,n,r)=>n&&n.length>0?null:EP(e.inntektFieldArray,r)||(At(e)?qB(e.inntektFieldArray,r):null),Et=({readOnly:e,skalKunneLeggeTilDagpengerManuelt:n,beregningsgrunnlag:r,kodeverkSamling:t})=>{var i,s;const{getValues:a,control:l,formState:o}=je(),{errors:k}=o,u=K.useContext(Pe),f=`vurderFaktaBeregningForm.${u}.inntektFieldArray`,{fields:c,remove:b,append:x,update:T}=ze({control:l,name:f}),N=Mn({control:l,name:`vurderFaktaBeregningForm.${u}`}),S=Mn({control:l,name:`vurderFaktaBeregningForm.${u}.vurderbesteberegningField`}),B=Mn({control:l,name:`vurderFaktaBeregningForm.${u}.vurderMilitær`}),y=te(),O=j.useCallback(()=>Cs(N,r),[N,r]);j.useEffect(()=>{const V=a(`vurderFaktaBeregningForm.${u}.inntektFieldArray`),C=t[be.AKTIVITET_STATUS];JB(V,B,C,O,b,x),HB(V,S,C,n,O,b,x)},[S,B,n]);const $=(V,C)=>{T(V,{...c[V],kanRedigereInntekt:C})};j.useEffect(()=>{c.forEach((V,C)=>{const Z=V.kanRedigereInntekt,H=Cs(N,r)(V);!(!S&&!n&&V.lagtTilAvSaksbehandler)&&Z!==H&&$(C,H)})},[N]);const D=(s=(i=k==null?void 0:k.vurderFaktaBeregningForm)==null?void 0:i[u])==null?void 0:s.inntektFieldArray,Y=WB(N,D,y),ne=`${f}.skjemagruppe`,ee=Pr(ne,Y),U=c.map((V,C)=>g.jsx(LB,{field:V,skalVisePeriode:Jl(c),skalViseRefusjon:Hl(c),skalViseSletteknapp:CB(C,c,e),readOnly:e,removeAndel:YB(C,b),beregningsgrunnlag:r,kodeverkSamling:t,rowName:`${f}.${C}`,skalFastsetteInntektForAndel:Pv(N,r.faktaOmBeregning,r)},V.id));return U.length===0?n?g.jsxs("div",{children:[!e&&!mu(c)&&g.jsx(ku,{leggTilAndel:x,kodeverkSamling:t}),g.jsx(I,{eightPx:!0}),ee&&g.jsx(Un,{children:ee})]}):null:(U.push(zB(c,e,r)),g.jsxs("div",{children:[g.jsxs(re,{size:"small",children:[g.jsx(re.Header,{children:g.jsx(re.Row,{children:$B(Jl(c),Hl(c)).map(V=>{const C=["BeregningInfoPanel.FordelingBG.Fordeling","BeregningInfoPanel.FordelingBG.Refusjonskrav","BeregningInfoPanel.FordelingBG.Inntektskategori"].includes(V);return g.jsx(re.HeaderCell,{scope:"col",align:C?"right":"left",children:g.jsx(w,{size:"small",as:"span",children:g.jsx(m,{id:V})})},V)})})}),g.jsx(re.Body,{children:U})]}),!e&&n&&!mu(c)&&g.jsx(ku,{leggTilAndel:x,kodeverkSamling:t}),g.jsx(I,{eightPx:!0}),ee&&g.jsx(Un,{children:ee})]}))};Et.defaultProps={skalKunneLeggeTilDagpengerManuelt:!1};Et.transformValues=(e,n,r,t)=>{if(!e)return null;const i=s=>{const a=fu(s.aktivitetStatus)&&(n==null?void 0:n.fastsattBelop)||vu(s.aktivitetStatus)&&Ys(r,s.arbeidsgiverId)||cu(s.aktivitetStatus)&&(t==null?void 0:t.fastsattBelop)||s.fastsattBelop;return{andelsnr:s.andelsnr,fastsattBelop:me(a),inntektskategori:s.inntektskategori,nyAndel:s.nyAndel,lagtTilAvSaksbehandler:s.lagtTilAvSaksbehandler,aktivitetStatus:s.aktivitetStatus,arbeidsforholdId:s.arbeidsforholdId,arbeidsgiverId:s.arbeidsgiverId}};return e.filter(({kanRedigereInntekt:s})=>s).filter(({fastsattBelop:s,aktivitetStatus:a,arbeidsgiverId:l})=>s!==null&&s!==""||fu(a)&&n.fastsattBelop||vu(a)&&Ys(r,l)||cu(a)&&t.fastsattBelop).map(i)};Et.buildInitialValues=(e,n,r)=>!e||e.length===0?[]:e.map(t=>jP(t,n,r));const{VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT:ZB}=P,XB="erKravGyldig_",go=e=>XB+e,QB=(e,n,r,t)=>e.map(i=>{const{arbeidsgiverIdent:s}=i,a=r[s],l=a?Vr(a):s,o=te();return g.jsx(K.Fragment,{children:g.jsx(pe,{label:g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"VurderRefusjonForm.ErRefusjonskravGyldig",values:{arbeidsgiverVisningsnavn:l}}),g.jsx(Ge,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsx(m,{id:"VurderRefusjonForm.ReadMore"})})]}),name:`vurderFaktaBeregningForm.${t}.vurderRefusjonValues.${go(s)}`,validate:[X],isReadOnly:n,radios:[{value:"true",label:o.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:o.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:Bn})},s)}),yi=({readOnly:e,faktaOmBeregning:n,arbeidsgiverOpplysningerPerId:r})=>{const t=K.useContext(Pe),i=n==null?void 0:n.refusjonskravSomKommerForSentListe;return g.jsx(g.Fragment,{children:QB(i,e,r,t)})};yi.transformValues=e=>n=>e.length===0?{}:{refusjonskravGyldighet:e.map(({arbeidsgiverIdent:r})=>({arbeidsgiverId:r,skalUtvideGyldighet:n.vurderRefusjonValues[go(r)]}))};yi.buildInitialValues=(e,n)=>{const r={};return!e.includes(ZB)||n.length===0?r:(n.forEach(({arbeidsgiverIdent:t,erRefusjonskravGyldig:i})=>{r[go(t)]=i}),{...r})};const e1=(e,n,r)=>{if((n.faktaOmBeregningTilfeller?n.faktaOmBeregningTilfeller:[]).map(t=>t).includes(P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON)&&e){const t=e.filter(i=>!r.includes(i.andelsnr)).filter(i=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe.map(({andelsnr:s})=>s).includes(i.andelsnr)).map(i=>({andelsnr:i.andelsnr,arbeidsinntekt:i.fastsattBelop}));if(n.frilansAndel&&!r.includes(n.frilansAndel.andelsnr)){const i=e.find(s=>s.andelsnr===n.frilansAndel.andelsnr);t.push({andelsnr:n.frilansAndel.andelsnr,arbeidsinntekt:i.fastsattBelop})}if(t.forEach(i=>r.push(i.andelsnr)),t.length>0)return{faktaOmBeregningTilfeller:[P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON],vurderATogFLiSammeOrganisasjon:{vurderATogFLiSammeOrganisasjonAndelListe:t}}}return{faktaOmBeregningTilfeller:[]}},n1=(e,n)=>n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(r=>r.andelsnr===e.andelsnr&&r.arbeidsforhold&&r.arbeidsforhold.organisasjonstype&&r.arbeidsforhold.organisasjonstype===ui.KUNSTIG)!==void 0,r1=(e,n,r,t,i)=>{const s=r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[];if(!s.map(o=>o).includes(P.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING)&&!s.map(o=>o).includes(P.VURDER_LONNSENDRING))return{};if(!n)return{};const a=n.filter(o=>!i.includes(o.andelsnr)).filter(o=>Bf(o,t,o.arbeidsforholdId)||n1(o,t)||X_(o,r,e));a.forEach(o=>i.push(o.andelsnr));const l=a.map(o=>({andelsnr:o.andelsnr,fastsattBeløp:me(o.fastsattBelop),inntektskategori:o.inntektskategori}));return l.length>0?{faktaOmBeregningTilfeller:[P.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING],fastsattUtenInntektsmelding:{andelListe:l}}:{}},nl=e=>e==null?void 0:e.includes(P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON),pu=({beregningsgrunnlag:e,readOnly:n,isAksjonspunktClosed:r,tilfeller:t,arbeidsgiverOpplysningerPerId:i})=>{var s,a,l,o;const{getValues:k}=je(),u=K.useContext(Pe),f=(s=e==null?void 0:e.faktaOmBeregning)==null?void 0:s.vurderMottarYtelse,c=f&&f.erFrilans,b=k([`vurderFaktaBeregningForm.${u}.vurderMottarYtelseValues.${Fr()}`,`vurderFaktaBeregningForm.${u}.${zn}`]),x=b.includes(!0),T=k([`vurderFaktaBeregningForm.${u}.${gt}`,`vurderFaktaBeregningForm.${u}.${gr}`,`vurderFaktaBeregningForm.${u}.${ar}`]),N=(o=(l=(a=e==null?void 0:e.faktaOmBeregning)==null?void 0:a.vurderMottarYtelse)==null?void 0:l.arbeidstakerAndelerUtenIM)==null?void 0:o.filter(U=>{const V=k(`vurderFaktaBeregningForm.${u}.vurderMottarYtelseValues`);return V==null?void 0:V[Lr(U)]}),S=T.includes(!0),B=k(`vurderFaktaBeregningForm.${u}.${gr}`),y=`vurderFaktaBeregningForm.${u}.frilansInntektValues.fastsattBelop`,O=`vurderFaktaBeregningForm.${u}.dagpengerInntektValues.fastsattBelop`,$=e.faktaOmBeregning.andelerForFaktaOmBeregning.filter(U=>U.aktivitetStatus===R.ARBEIDSTAKER),{arbeidstakerOgFrilanserISammeOrganisasjonListe:D}=e.faktaOmBeregning,Y=nl(t)&&S?D==null?void 0:D.filter(U=>!($!=null&&$.find(V=>V.arbeidsforhold.arbeidsgiverIdent===U.arbeidsforhold.arbeidsgiverIdent))):D,ne=U=>{var V;const C=(V=i[U.arbeidsforhold.arbeidsgiverIdent])==null?void 0:V.navn;return k(`vurderFaktaBeregningForm.${u}.${gt}`)&&T.filter(Z=>Z===!0).length===1?g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.ManedsinntektBedrift",values:{bedrift:`${C} (${U.arbeidsforhold.arbeidsgiverIdent})`}}),g.jsx(Ge,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(le,{size:"small",children:[g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.LonnsendringFremgangsmate1"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.LonnsendringFremgangsmate2"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.LonnsendringFremgangsmate3"})})]})})]}):g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.ManedsinntektBedrift",values:{bedrift:`${C} (${U.arbeidsforhold.arbeidsgiverIdent})`}})},ee=()=>nl(t)||b.filter(U=>U===!0).length>1?g.jsx(m,{id:"BeregningInfoPanel.VurderMottarYtelse.FastsettManedsinntektFrilans"}):k(`vurderFaktaBeregningForm.${u}.vurderMottarYtelseValues.${Fr()}`)?g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"BeregningInfoPanel.VurderMottarYtelse.FastsettManedsinntektFrilans"}),g.jsx(Ge,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(le,{size:"small",children:[g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.FrilanserFremgangsmate1"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.FrilanserFremgangsmate2"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.FrilanserFremgangsmate3"})})]})})]}):k([`vurderFaktaBeregningForm.${u}.${zn}`])?g.jsxs(g.Fragment,{children:[g.jsx(m,{id:"BeregningInfoPanel.VurderMottarYtelse.FastsettManedsinntektFrilans"}),g.jsx(Ge,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(le,{size:"small",children:[g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.NyoppstartetFrilansFremgangsmate1"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.NyoppstartetFrilansFremgangsmate2",values:{br:g.jsx("br",{})}})})]})})]}):null;return g.jsxs(g.Fragment,{children:[nl(t)&&(Y==null?void 0:Y.length)>0?g.jsxs(g.Fragment,{children:[g.jsx(w,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLSamlet"})}),g.jsx(Ge,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(le,{size:"small",children:[g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.ATFLSammeOrgFremgangsmate1"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.ATFLSammeOrgFremgangsmate2"})})]})}),Y.map(U=>g.jsx(ei,{arbeidsgiver:U,readOnly:n,isAksjonspunktClosed:r,arbeidsgiverOpplysningerPerId:i},U.arbeidsforhold.arbeidsgiverIdent))]}):null,x&&c&&g.jsxs(g.Fragment,{children:[g.jsx(I,{thirtyTwoPx:!0}),g.jsx(Bl,{name:y,readOnly:n,isAksjonspunktClosed:r,label:ee()})]}),S?$.map(U=>g.jsx(ei,{arbeidsgiver:U,readOnly:n,isAksjonspunktClosed:r,label:ne(U),arbeidsgiverOpplysningerPerId:i},U.arbeidsforhold.arbeidsgiverIdent)):N==null?void 0:N.map(U=>g.jsx(ei,{arbeidsgiver:U,readOnly:n,isAksjonspunktClosed:r,label:ne(U),arbeidsgiverOpplysningerPerId:i},U.arbeidsforhold.arbeidsgiverIdent)),B&&g.jsxs(g.Fragment,{children:[(x||S)&&g.jsx(I,{thirtyTwoPx:!0}),g.jsx(Bl,{name:O,readOnly:n,isAksjonspunktClosed:r,label:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.ManedsinntektDagpenger"})})]})]})},t1=[P.VURDER_NYOPPSTARTET_FL,P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON],i1=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForArbeid",s1=(e,n,r)=>{var t;const i=r[e.arbeidsgiverIdent];let s;return i?s=Vr(i,e.eksternArbeidsforholdId):s=e.arbeidsforholdType?(t=n[be.OPPTJENING_AKTIVITET_TYPE].find(a=>a.kode===e.arbeidsforholdType))==null?void 0:t.navn:"",g.jsx(m,{id:i1(),values:{arbeid:s}})},a1=(e,n,r,t,i,s)=>g.jsx("div",{children:g.jsx(pe,{label:g.jsxs(g.Fragment,{children:[s1(e.arbeidsforhold,r,t),g.jsx(Ge,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(le,{size:"small",children:[g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseArbeidsforhold.HvordanGarJegFrem1"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseArbeidsforhold.HvordanGarJegFrem2"})})]})})]}),name:`vurderFaktaBeregningForm.${i}.vurderMottarYtelseValues.${Lr(e)}`,isReadOnly:n,radios:[{value:"true",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.NeiBrukerAInntekt"})}],parse:Bn,validate:n?[]:[X]})}),l1=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilansUtenFrilans",d1=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilans",o1=e=>e.some(n=>t1.includes(n))?l1():d1(),ql=e=>e==null?void 0:e.includes(P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON),_i=({readOnly:e,beregningsgrunnlag:n,tilfeller:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i})=>{const s=K.useContext(Pe),a=n.faktaOmBeregning?n.faktaOmBeregning.vurderMottarYtelse:void 0,l=a&&a.erFrilans,o=a&&a.arbeidstakerAndelerUtenIM?a.arbeidstakerAndelerUtenIM:[],k=te();return g.jsxs("div",{children:[l&&!ql(r)&&g.jsx("div",{children:g.jsx(pe,{label:g.jsxs(g.Fragment,{children:[g.jsx(m,{id:o1(r)}),g.jsx(Ge,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:g.jsxs(le,{size:"small",children:[g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderMottarYtelse.Frilans.HvordanGarJegFrem1"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderMottarYtelse.Frilans.HvordanGarJegFrem2"})})]})})]}),name:`vurderFaktaBeregningForm.${s}.vurderMottarYtelseValues.${Fr()}`,isReadOnly:e,radios:[{value:"true",label:k.formatMessage({id:"BeregningInfoPanel.FormAlternativ.JaMaanedsinntektMaaFastsettes"})},{value:"false",label:k.formatMessage({id:"BeregningInfoPanel.FormAlternativ.NeiBrukerAInntekt"})}],parse:Bn,validate:e?[]:[X]})}),o.map((u,f)=>g.jsxs(K.Fragment,{children:[f>0&&g.jsx(I,{twentyPx:!0}),a1(u,e,t,i,s,k)]},Lr(u))),ql(r)&&o.length>0&&g.jsx(I,{thirtyTwoPx:!0})]})},g1=(e,n,r,t,i,s)=>{if(n===null)return{};if(HR(e,r.vurderMottarYtelse)){const a=[],l=_v(e,r.vurderMottarYtelse,t);return r.vurderMottarYtelse.arbeidstakerAndelerUtenIM.forEach(o=>{if(l[o.andelsnr]&&!i.includes(o.andelsnr)){const k=n.find(u=>u.andelsnr===o.andelsnr).fastsattBelop;(k||k===0)&&(a.push({andelsnr:o.andelsnr,fastsattBeløp:me(k)}),i.push(o.andelsnr))}}),a.length>0?(s.push(P.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING),{fastsattUtenInntektsmelding:{andelListe:a}}):{}}return{}},u1=(e,n,r,t,i)=>{if(n===null)return{};if(e.vurderMottarYtelseValues[Fr()]){const s=r.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(a=>a.aktivitetStatus===R.FRILANSER);if(!t.includes(s.andelsnr)&&yv(e)){const a=e.frilansInntektValues;return t.push(s.andelsnr),i.push(P.FASTSETT_MAANEDSINNTEKT_FL),{fastsettMaanedsinntektFL:{maanedsinntekt:me(a.fastsattBelop)}}}return{}}return{}},k1=(e,n,r)=>{const t=n.vurderMottarYtelse.arbeidstakerAndelerUtenIM?n.vurderMottarYtelse.arbeidstakerAndelerUtenIM:[];return r.push(P.VURDER_MOTTAR_YTELSE),{mottarYtelse:{frilansMottarYtelse:e.vurderMottarYtelseValues[Fr()],arbeidstakerUtenIMMottarYtelse:t.map(i=>({andelsnr:i.andelsnr,mottarYtelse:e.vurderMottarYtelseValues[Lr(i)]}))}}};_i.buildInitialValues=(e,n)=>{const r={};if(!e)return r;e.erFrilans&&(r[Fr()]=ql(n)?!0:e.frilansMottarYtelse);const t=e.arbeidstakerAndelerUtenIM?e.arbeidstakerAndelerUtenIM:[];return t.length<1||t.forEach(i=>{r[Lr(i)]=i.mottarYtelse}),r};_i.transformValues=(e,n,r,t,i)=>{const s=[];return(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).map(a=>a).includes(P.VURDER_MOTTAR_YTELSE)?{...k1(e,r,s),...g1(e,n,r,t,i,s),...u1(e,n,t,i,s),faktaOmBeregningTilfeller:s}:{}};const m1=e=>!e.includes(P.FASTSETT_BG_KUN_YTELSE),f1=(e,n,r,t)=>g.jsx(Et,{readOnly:e,skalKunneLeggeTilDagpengerManuelt:t,beregningsgrunnlag:n,kodeverkSamling:r}),Si=({readOnly:e,isAksjonspunktClosed:n,tilfeller:r,beregningsgrunnlag:t,avklaringsbehov:i,kodeverkSamling:s,erOverstyrer:a,updateOverstyring:l,renderTextFieldAndSubmitButton:o,arbeidsgiverOpplysningerPerId:k,vilkarsperiodeSkalVurderesIBehandlingen:u})=>{const{getValues:f}=je(),c=K.useContext(Pe),b=f(`vurderFaktaBeregningForm.${c}`),x=j.useMemo(()=>to(b),[b,t,i]),T=j.useMemo(()=>m1(r),[r]),N=()=>{const S=[],B=[];let y=!1;const{faktaOmBeregning:O}=t;return r.includes(P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD)&&(y=!0,B.push(P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD),S.push(g.jsx(K.Fragment,{children:g.jsx(Ti,{readOnly:e,faktaOmBeregning:O,arbeidsgiverOpplysningerPerId:k})},P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD))),r.includes(P.VURDER_SN_NY_I_ARBEIDSLIVET)&&(y=!0,B.push(P.VURDER_SN_NY_I_ARBEIDSLIVET),S.push(g.jsx(K.Fragment,{children:g.jsx(Ai,{readOnly:e})},P.VURDER_SN_NY_I_ARBEIDSLIVET))),r.includes(P.VURDER_MILITÆR_SIVILTJENESTE)&&(y=!0,B.push(P.VURDER_MILITÆR_SIVILTJENESTE),S.push(g.jsx(K.Fragment,{children:g.jsx(Ei,{readOnly:e})},P.VURDER_MILITÆR_SIVILTJENESTE))),r.includes(P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT)&&(y=!0,B.push(P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT),S.push(g.jsx(K.Fragment,{children:g.jsx(yi,{readOnly:e,arbeidsgiverOpplysningerPerId:k,faktaOmBeregning:O})},P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT))),r.includes(P.VURDER_LONNSENDRING)&&(y=!0,B.push(P.VURDER_LONNSENDRING),S.push(g.jsx(K.Fragment,{children:g.jsx(pi,{readOnly:e})},P.VURDER_LONNSENDRING))),r.includes(P.VURDER_ETTERLONN_SLUTTPAKKE)&&(y=!0,B.push(P.VURDER_ETTERLONN_SLUTTPAKKE),S.push(g.jsx(K.Fragment,{children:g.jsx(xi,{beregningsgrunnlag:t,isAksjonspunktClosed:n,readOnly:e})},P.VURDER_ETTERLONN_SLUTTPAKKE))),r.includes(P.VURDER_NYOPPSTARTET_FL)&&(y=!0,B.push(P.VURDER_NYOPPSTARTET_FL),S.push(g.jsx(K.Fragment,{children:g.jsx(hi,{readOnly:e})},P.VURDER_NYOPPSTARTET_FL))),r.includes(P.VURDER_BESTEBEREGNING)&&!r.includes(P.FASTSETT_BG_KUN_YTELSE)&&(y=!0,B.push(P.VURDER_BESTEBEREGNING),S.push(g.jsx(K.Fragment,{children:g.jsx(Ii,{readOnly:e,erOverstyrt:x})},P.VURDER_BESTEBEREGNING))),r.includes(P.VURDER_MOTTAR_YTELSE)&&(y=!0,B.push(P.VURDER_MOTTAR_YTELSE),S.push(g.jsx(K.Fragment,{children:g.jsx(_i,{readOnly:e,tilfeller:r,beregningsgrunnlag:t,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:k})},P.VURDER_MOTTAR_YTELSE))),u?y?e?g.jsxs(g.Fragment,{children:[g.jsx(I,{thirtyTwoPx:!0}),S.map(($,D)=>g.jsxs(K.Fragment,{children:[D>0&&g.jsx(I,{thirtyTwoPx:!0}),$]},B[D])),g.jsx(pu,{beregningsgrunnlag:t,isAksjonspunktClosed:n,readOnly:e,tilfeller:r,arbeidsgiverOpplysningerPerId:k}),o()]}):g.jsxs(g.Fragment,{children:[g.jsx(I,{thirtyTwoPx:!0}),g.jsxs(lB,{children:[S.map(($,D)=>g.jsxs(K.Fragment,{children:[D>0&&g.jsx(I,{thirtyTwoPx:!0}),$]},B[D])),g.jsx(pu,{beregningsgrunnlag:t,isAksjonspunktClosed:n,readOnly:e,tilfeller:r,arbeidsgiverOpplysningerPerId:k}),o()]})]}):At(b)?g.jsxs(g.Fragment,{children:[g.jsx(I,{thirtyTwoPx:!0}),o()]}):null:null};return g.jsxs("div",{children:[g.jsx(fa,{tabell:f1(e,t,s,x),skalViseTabell:T,readOnly:e,erOverstyrer:a,avklaringsbehov:i,updateOverstyring:l,erOverstyrt:x},"inntektstabell"),N()]})};Si.buildInitialValues=(e,n,r,t)=>{if(!e)return{};const i=e.andelerForFaktaOmBeregning;return i.length===0?{}:{[Sv]:Et.buildInitialValues(i,r,t),...fa.buildInitialValues(n)}};const pr=(e,n)=>({...e,...n,faktaOmBeregningTilfeller:n.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller.concat(n.faktaOmBeregningTilfeller):e.faktaOmBeregningTilfeller}),v1=(e,n,r,t)=>{if(At(e)){const i=r.filter(s=>!t.includes(s.andelsnr)).filter(s=>s.fastsattBelop!=null).map(s=>({andelsnr:s.andelsnr,nyAndel:s.nyAndel,aktivitetStatus:s.aktivitetStatus,lagtTilAvSaksbehandler:s.lagtTilAvSaksbehandler,fastsatteVerdier:{fastsattBeløp:s.fastsattBelop,inntektskategori:s.inntektskategori}}));return{fakta:n,overstyrteAndeler:i}}return{fakta:n}},c1=(e,n,r,t,i)=>{const s=t.faktaOmBeregningTilfeller?t.faktaOmBeregningTilfeller.map(l=>l):[];let a={faktaOmBeregningTilfeller:[]};if(s.length>0){a=pr(a,QR(t)(e,n));const l=e[gr]===!0;a=pr(a,hi.transformValues(e,l?null:n,t,r)),a=pr(a,xi.transformValues(e,l?null:n,t,r)),a=pr(a,pi.transformValues(e,t)),a=pr(a,_i.transformValues(e,l?null:n,t,i,r)),a=pr(a,e1(l?null:n,t,r)),a=pr(a,r1(e,l?null:n,t,i,r))}return a};Si.transformValues=(e,n)=>r=>{const t=Et.transformValues(r[Sv],r.frilansInntektValues,r.arbeidstakerInntektValues,r.dagpengerInntektValues),i=[],s=c1(r,t,i,e,n);return v1(r,s,t,i)};const{VURDER_FAKTA_FOR_ATFL_SN:p1}=Ue,hu=e=>{var n;return((n=mr(e))==null?void 0:n.kortvarigeArbeidsforhold)||void 0},bu=e=>{var n;return((n=mr(e))==null?void 0:n.kunYtelse)||void 0},ju=e=>{var n;return((n=mr(e))==null?void 0:n.vurderMottarYtelse)||void 0},h1=e=>{var n;return((n=mr(e))==null?void 0:n.vurderBesteberegning)||void 0},b1=e=>{var n;return((n=mr(e))==null?void 0:n.refusjonskravSomKommerForSentListe)||[]},j1=e=>e?g.jsx(I,{twentyPx:!0}):null,x1=(e,n,r,t,i,s,a,l,o,k)=>{const{avklaringsbehov:u}=r,f=io(r),c=mr(r),b=[];return nB(b,f,e,n,c,t,o),b.push(g.jsxs(K.Fragment,{children:[j1(!0),g.jsx(Si,{readOnly:e,isAksjonspunktClosed:n,tilfeller:f,beregningsgrunnlag:r,kodeverkSamling:t,erOverstyrer:i,avklaringsbehov:u,updateOverstyring:a,renderTextFieldAndSubmitButton:o,arbeidsgiverOpplysningerPerId:s,vilkarsperiodeSkalVurderesIBehandlingen:k})]},"VurderOgFastsettATFL")),b},I1=({readOnly:e,isAksjonspunktClosed:n,beregningsgrunnlag:r,kodeverkSamling:t,erOverstyrer:i,arbeidsgiverOpplysningerPerId:s,updateOverstyring:a,renderTextFieldAndSubmitButton:l,vilkarsperiodeSkalVurderesIBehandlingen:o})=>{const{avklaringsbehov:k}=r,{getValues:u}=je(),f=K.useContext(Pe),c=u(`vurderFaktaBeregningForm.${f}`),b=j.useMemo(()=>to(c),[c,r,k]);return g.jsx("div",{children:x1(e,n,r,t,i,s,a,b,l,o).map(x=>x)})},A1=(e,n)=>r=>rB(r,e.kunYtelse,n),T1=(e,n)=>(e.faktaOmBeregningTilfeller.push(P.VURDER_SN_NY_I_ARBEIDSLIVET),{...e,...Ai.transformValues(n)}),E1=e=>(n,r)=>(n.faktaOmBeregningTilfeller.push(P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD),{...n,...Ti.transformValues(r,e)}),y1=(e,n)=>(e.faktaOmBeregningTilfeller.push(P.VURDER_MILITÆR_SIVILTJENESTE),{...e,...Ei.transformValues(n)}),_1=e=>(n,r)=>(n.faktaOmBeregningTilfeller.push(P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT),{...n,...yi.transformValues(e.refusjonskravSomKommerForSentListe)(r)}),S1=(e,n,r,t,i)=>(s,a)=>{let l={...s};return e.forEach(o=>{o===P.VURDER_SN_NY_I_ARBEIDSLIVET&&(l=n(l,a)),o===P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD&&(l=r(l,a)),o===P.VURDER_MILITÆR_SIVILTJENESTE&&(l=t(l,a)),o===P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT&&(l=i(l,a))}),l},F1=(e,n,r)=>t=>e.includes(P.FASTSETT_BG_KUN_YTELSE)?{fakta:n(t)}:{...r(t)},N1=(e,n,r,t,i)=>{const s=F1(e,A1(t,e),Si.transformValues(t,i))(n);return{fakta:S1(e,T1,E1(r),y1,_1(t))(s.fakta,n),overstyrteAndeler:s.overstyrteAndeler}},R1=e=>{const{tilfeller:n,kortvarigeArbeidsforhold:r,faktaOmBeregning:t,beregningsgrunnlag:i}=e;return N1(n,e,r,t,i)},P1=e=>e?e.find(n=>n.definisjon===p1):void 0,B1=(e,n,r)=>{const t=io(e),i=mr(e);return{beregningsgrunnlag:e,tilfeller:t,faktaOmBeregning:i,kortvarigeArbeidsforhold:hu(e),vurderMottarYtelse:ju(e),kunYtelse:bu(e),tidsbegrensetValues:Ti.buildInitialValues(hu(e)),vurderMottarYtelseValues:_i.buildInitialValues(ju(e),t),arbeidstakerInntektValues:ei.buildInitialValues(e.faktaOmBeregning.andelerForFaktaOmBeregning),vurderRefusjonValues:yi.buildInitialValues(t,b1(e)),...Ei.buildInitialValues(i),...Ai.buildInitialValues(e),...pi.buildInitialValues(e),...hi.buildInitialValues(e),...xi.buildInitialValues(e,P1(e.avklaringsbehov)),...Ii.buildInitialValues(e.avklaringsbehov,h1(e),t,gu(e)),...Si.buildInitialValues(i,gu(e),r,n),...tB(bu(e),t,i.andelerForFaktaOmBeregning,r,n)}},{VURDER_FAKTA_FOR_ATFL_SN:Wl,OVERSTYRING_AV_BEREGNINGSGRUNNLAG:Zl}=Ue,Hs=(e,n)=>n.some(r=>r.definisjon===e&&r.kanLoses),O1=(e,n)=>e||Hs(Wl,n),xu=(e,n)=>{const r=e[ot];if(n&&!r&&Hs(Zl,e.avklaringsbehov||[]))return{periode:e.periode,avbrutt:!0,begrunnelse:void 0};if(!O1(!!r,e.avklaringsbehov||[]))throw new Error("Feil: Kjører submit uten aksjonspunkt og uten overstyringsrolle");return{...R1(e),begrunnelse:e.begrunnelseFaktaTilfeller,periode:e.periode}},$1=(e,n=!0)=>{const r=e[Kn],t=r.filter(a=>a.erTilVurdering).filter(a=>a[ot]||Hs(Zl,a.avklaringsbehov||[])).map(a=>xu(a,!0)).filter(a=>a),i=r.filter(a=>a.erTilVurdering).filter(a=>(!a[ot]||n)&&Hs(Wl,a.avklaringsbehov||[])).map(a=>xu(a,!1)).filter(a=>a),s=[];if(t.length>0){const a=t.filter(({begrunnelse:o})=>o!==null).map(({begrunnelse:o})=>o).reduce((o,k)=>o===""?k:`${o} ${k}`,""),l={kode:Zl,begrunnelse:a!==""?a:null,grunnlag:t};s.push(l)}if(i.length>0){const a=i.map(({begrunnelse:o})=>o).reduce((o,k)=>o===""?k:`${o} ${k}`,""),l={kode:Wl,begrunnelse:a,grunnlag:i};s.push(l)}return s},{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:Dv,VURDER_FAKTA_FOR_ATFL_SN:Xl}=Ue,Gv="begrunnelseFaktaTilfeller",V1=(e,n,r)=>e&&n&&!r,D1=(e,n)=>st(Xl,n)||st(Dv,n)?!e:!0,Iu=(e,n)=>{const r=n(`${Kn}.${e}`);return to(r)},Au=(e,n)=>{var r,t;return!!((t=(r=n.vurderFaktaBeregningForm)==null?void 0:r[e])!=null&&t.begrunnelseFaktaTilfeller)},G1=({beregningsgrunnlag:e,erOverstyrer:n,readOnly:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,submittable:s,updateOverstyring:a,vilkarsperiode:l,verdiForAvklarAktivitetErEndret:o,submitDisabled:k})=>{const{getValues:u,formState:{errors:f,isDirty:c}}=je(),b=K.useContext(Rf),x=K.useContext(Pf),T=K.useContext(Pe),N=T===x;K.useEffect(()=>{b(f)},[JSON.stringify(f)]);const{avklaringsbehov:S}=e,B=l.vurderesIBehandlingen,y=()=>g.jsxs(g.Fragment,{children:[g.jsx(I,{thirtyTwoPx:!0}),(st(Xl,S)||st(Dv,S)||Iu(T,u))&&g.jsxs(g.Fragment,{children:[(st(Xl,S)||Iu(T,u))&&g.jsx($r,{name:`${Kn}.${T}.${Gv}`,isSubmittable:s,isReadOnly:r||!B,hasBegrunnelse:Ud(S)!==void 0}),g.jsx(I,{twentyPx:!0}),g.jsx(Ef,{isDisabled:!!o,isSubmittable:V1(s&&D1(o,S)&&!zl(S),!0,Au(T,f)),isReadOnly:r||!B,isDirty:c,isSubmitting:k,hasEmptyRequiredFields:Au(T,f)})]})]});return g.jsx("div",{style:{display:N?"block":"none"},children:g.jsx(I1,{readOnly:r||!B,isAksjonspunktClosed:zl(S),beregningsgrunnlag:e,kodeverkSamling:t,erOverstyrer:n,arbeidsgiverOpplysningerPerId:i,updateOverstyring:a,renderTextFieldAndSubmitButton:()=>y(),vilkarsperiodeSkalVurderesIBehandlingen:B})},T)},{VURDER_FAKTA_FOR_ATFL_SN:Lv,AVKLAR_AKTIVITETER:L1,OVERSTYRING_AV_BEREGNINGSGRUNNLAG:Js,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:M1}=Ue,K1=e=>e.some(n=>n.definisjon===Js)?e.find(n=>n.definisjon===Js&&n.begrunnelse!==null):e.find(n=>n.definisjon===Lv&&n.begrunnelse!==null),Tu=(e,n)=>n.some(r=>r.definisjon===e&&rn(r.status)),w1=(e,n,r,t)=>({[Kn]:e.map(i=>{var s;const a=t.perioder.find(l=>l.periode.fom===i.vilkårsperiodeFom);if(!a)throw new Error(`Finner ikke vilkårsperiode med fom ${i.vilkårsperiodeFom}`);return{avklaringsbehov:i.avklaringsbehov,erTilVurdering:a.vurderesIBehandlingen&&!a.erForlengelse,periode:a.periode,...$r.buildInitialValues((s=K1(i.avklaringsbehov))==null?void 0:s.begrunnelse,Gv),...B1(i,n,r)}})}),U1=[Lv,Js],C1=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.vilkårsperiodeFom);return(r==null?void 0:r.erForlengelse)===!0},Y1=({beregningsgrunnlag:e,submittable:n,readOnly:r,kodeverkSamling:t,erOverstyrer:i,arbeidsgiverOpplysningerPerId:s,aktivtBeregningsgrunnlagIndeks:a,submitCallback:l,setFormData:o,formData:k,vilkar:u,avklarAktiviteterErEndret:f,skalKunneAvbryteOverstyring:c})=>{const b=f,x=e.flatMap(H=>H.avklaringsbehov),T=Qe({defaultValues:k||w1(e,t,s,u)}),{control:N,formState:S,trigger:B,getValues:y,watch:O}=T,{fields:$,update:D}=ze({name:Kn,control:N}),{errors:Y,isSubmitted:ne}=S,[ee,U]=j.useState(!1),V=O(Kn);j.useEffect(()=>{ne&&B()},[JSON.stringify(V)]);const C=(H,ae)=>{const ye=y(`${Kn}.${H}`);D(H,{...ye,[ot]:ae})},Z=H=>{Object.keys(Y).length===0&&(U(!0),l($1(H,c)))};return Tu(L1,x)||Tu(M1,x)?null:g.jsx(Pf.Provider,{value:a,children:g.jsx(en,{formMethods:T,onSubmit:H=>{Z(H)},setDataOnUnmount:o,children:$.map((H,ae)=>{const ye=Fe=>U1.some(Ie=>Ie===Fe.definisjon),we=Fe=>Fe.kanLoses,Be=x.filter(Fe=>ye(Fe)&&we(Fe)),nr=r||C1(e[ae],u.perioder)||vn(Js,x)&&!i||Be.length===0&&!i,Vn=u.perioder.find(Fe=>Fe.periode.fom===e[ae].vilkårsperiodeFom);if(!Vn)throw new Error(`Filler ikke vilkårsperiode med fom ${e[ae].vilkårsperiodeFom}`);return g.jsx(Pe.Provider,{value:ae,children:g.jsx(G1,{vilkarsperiode:Vn,beregningsgrunnlag:e[ae],erOverstyrer:i,readOnly:nr,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:s,submittable:n,updateOverstyring:C,submitDisabled:ee,verdiForAvklarAktivitetErEndret:b},H.id)},H.id)})})})},{VURDER_FAKTA_FOR_ATFL_SN:z1,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Mv,AVKLAR_AKTIVITETER:H1}=Ue,J1=[Mv,H1],q1=({readOnly:e,avklaringsbehov:n,submittable:r,submitCallback:t,aktivtBeregningsgrunnlagIndeks:i,beregningsgrunnlag:s,erOverstyrer:a,skalKunneOverstyreAktiviteter:l,kodeverkSamling:o,arbeidsgiverOpplysningerPerId:k,setFormData:u,formData:f,vilkar:c,skalKunneAvbryteOverstyring:b})=>{const x=n.filter(B=>J1.some(y=>y===B.definisjon)&&B.kanLoses),T=e||(x.length===0||vn(Mv,n))&&!a,[N,S]=j.useState(!1);return g.jsxs("div",{children:[g.jsx(L_,{readOnly:T,harAndreAvklaringsbehovIPanel:vn(z1,n),submitCallback:t,submittable:r,erOverstyrer:a&&l,kodeverkSamling:o,aktivtBeregningsgrunnlagIndeks:i,beregningsgrunnlag:s,arbeidsgiverOpplysningerPerId:k,setFormData:u,formData:f&&ni in f?f:void 0,vilkår:c,setAvklarAktiviteterErEndret:S}),g.jsx(I,{thirtyTwoPx:!0}),g.jsx(Y1,{submitCallback:t,submittable:r,kodeverkSamling:o,beregningsgrunnlag:s,erOverstyrer:a,readOnly:e,arbeidsgiverOpplysningerPerId:k,aktivtBeregningsgrunnlagIndeks:i,setFormData:u,formData:f&&Kn in f?f:void 0,vilkar:c,avklarAktiviteterErEndret:N,skalKunneAvbryteOverstyring:b})]})},W1=Me(Kd),{VURDER_FAKTA_FOR_ATFL_SN:Kv,AVKLAR_AKTIVITETER:Z1}=Ue,X1=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.vilkårsperiodeFom);return(r==null?void 0:r.erForlengelse)===!0},Q1=(e,n)=>{const r=e.vilkårsperiodeFom,t=n.find(({periode:i})=>i.fom===r);if(t){const{fom:i,tom:s}=t.periode;return s!==null?`${A(i).format(ie)} - ${A(s).format(ie)}`:`${A(i).format(ie)} - `}return`${A(r).format(ie)}`},eO=e=>{if(e){const n=e.some(t=>t.definisjon===Kv&&t.kanLoses),r=e.some(t=>t.definisjon===Z1&&t.kanLoses);return n||r}return!1},rl=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.skjaeringstidspunktBeregning);return eO(e.avklaringsbehov)&&(r==null?void 0:r.vurderesIBehandlingen)&&!r.erForlengelse},nO=(e,n)=>{var r,t,i;const s=io(e),a=(t=(r=e==null?void 0:e.faktaOmBeregning)==null?void 0:r.vurderMottarYtelse)==null?void 0:t.erFrilans,l=[],o=[];if(s.includes(P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON)&&(o.push(P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON),l.push(g.jsx(Oe,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.ATFLSammeOrg",values:{h3:(...k)=>g.jsx(oe,{size:"xsmall",level:"3",children:k})}})}))),s.includes(P.VURDER_LONNSENDRING)&&(o.push(P.VURDER_LONNSENDRING),l.push(g.jsx(Oe,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderLonnsendringHelpText",values:{h3:(...k)=>g.jsx(oe,{size:"xsmall",level:"3",children:k})}})}))),a&&s.includes(P.VURDER_MOTTAR_YTELSE)&&(o.push(`${P.VURDER_MOTTAR_YTELSE}_frilans`),l.push(g.jsx(Oe,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderMottarYtelseHelpTextFrilans",values:{h3:(...k)=>g.jsx(oe,{size:"xsmall",level:"3",children:k})}})}))),!a&&s.includes(P.VURDER_MOTTAR_YTELSE)&&(o.push(`${P.VURDER_MOTTAR_YTELSE}_arbeidstaker`),l.push(g.jsx(Oe,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderMottarYtelseHelpTextArbeidstaker",values:{h3:(...k)=>g.jsx(oe,{size:"xsmall",level:"3",children:k})}})}))),s.includes(P.VURDER_ETTERLONN_SLUTTPAKKE)&&(o.push(P.VURDER_ETTERLONN_SLUTTPAKKE),l.push(g.jsx(Oe,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderEtterlonnSluttpakkeHelpText",values:{h3:(...k)=>g.jsx(oe,{size:"xsmall",level:"3",children:k})}})}))),s.includes(P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD)&&(o.push(P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD),l.push(g.jsx(Oe,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.TidsbegrensetArbeidsforholdHelpText",values:{h3:(...k)=>g.jsx(oe,{size:"xsmall",level:"3",children:k})}})}))),s.includes(P.VURDER_MILITÆR_SIVILTJENESTE)&&(o.push(P.VURDER_MILITÆR_SIVILTJENESTE),l.push(g.jsx(Oe,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderMilitaerSiviltjenesteHelpText",values:{h3:(...k)=>g.jsx(oe,{size:"xsmall",level:"3",children:k})}})}))),s.includes(P.FASTSETT_BG_KUN_YTELSE)&&(o.push(P.FASTSETT_BG_KUN_YTELSE),l.push(g.jsxs(Oe,{size:"small",variant:"warning",children:[g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelseHelpText",values:{h3:(...k)=>g.jsx(oe,{size:"xsmall",level:"3",children:k})}}),g.jsx(I,{fourPx:!0}),g.jsx(Ge,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFremForFastsetteManedsinntekt"}),children:g.jsxs(le,{size:"small",children:[g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt1"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt2"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt3"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt4"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt5"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt6"})})]})}),g.jsx(I,{fourPx:!0}),g.jsx(Ge,{size:"small",header:g.jsx(m,{id:"BeregningInfoPanel.InntektInputFields.HvaBetyrInntektskategori"}),children:g.jsxs(le,{size:"small",children:[g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvaBetyrInntektskategori1"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvaBetyrInntektskategori2"})}),g.jsx(le.Item,{children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvaBetyrInntektskategori3"})})]})})]}))),s.includes(P.VURDER_NYOPPSTARTET_FL)&&(o.push(P.VURDER_NYOPPSTARTET_FL),l.push(g.jsx(Oe,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderNyoppstartetFLHelpText",values:{h3:(...k)=>g.jsx(oe,{size:"xsmall",level:"3",children:k})}})}))),s.includes(P.VURDER_SN_NY_I_ARBEIDSLIVET)&&(o.push(P.VURDER_SN_NY_I_ARBEIDSLIVET),l.push(g.jsx(Oe,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderSNNyIArbeidslivetHelpText",values:{h3:(...k)=>g.jsx(oe,{size:"xsmall",level:"3",children:k})}})}))),s.includes(P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT)){const k=(i=e==null?void 0:e.faktaOmBeregning)==null?void 0:i.refusjonskravSomKommerForSentListe;let u="";k.forEach((f,c)=>{const{arbeidsgiverIdent:b}=f,x=n[b],T=x?Vr(x):b;c===0?u=T:u=`${u}, ${T}`}),o.push(P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT),l.push(g.jsx(Oe,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderRefusjonskravKommetForSentHelpText",values:{arbeidsgiverVisningsnavn:u,h3:(...f)=>g.jsx(oe,{size:"xsmall",level:"3",children:f})}})}))}return l.length>0?g.jsx(g.Fragment,{children:l.map((k,u)=>g.jsxs(K.Fragment,{children:[u>0&&g.jsx(I,{sixteenPx:!0}),k]},o[u]))}):g.jsx(Oe,{size:"small",variant:"warning",children:g.jsx(m,{id:"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning"},"VurderFaktaForBeregningen")})},rO=({beregningsgrunnlag:e=[],kodeverkSamling:n,submitCallback:r,readOnly:t,submittable:i,erOverstyrer:s,skalKunneOverstyreAktiviteter:a=!0,arbeidsgiverOpplysningerPerId:l,formData:o,setFormData:k,vilkar:u,skalKunneAvbryteOverstyring:f=!1})=>{const[c,b]=j.useState(0),[,x]=j.useState(void 0),T=u==null?void 0:u.perioder;if(j.useEffect(()=>{if(T){const y=e==null?void 0:e.findIndex(O=>rl(O,T));y>-1&&b(y)}},[]),e.length===0||!u)return g.jsx(g.Fragment,{children:"Har ikke beregningsgrunnlag."});const N=e.length>1,S=e[c],B=S.avklaringsbehov;return g.jsx(Ze,{value:W1,children:g.jsxs("div",{className:yg.main,children:[st(Kv,B)&&!zl(B)?g.jsxs(g.Fragment,{children:[nO(S,l),g.jsx(I,{twentyPx:!0})]}):null,N&&g.jsx("div",{className:yg.tabsContainer,children:g.jsx(Hn,{value:c.toString(),onChange:y=>b(Number(y)),children:g.jsx(Hn.List,{children:e.map((y,O)=>g.jsx(Hn.Tab,{value:O.toString(),label:Q1(y,T),className:rl(y,T)?"harAksjonspunkt":"",icon:rl(y,T)&&g.jsx(Br,{width:20,height:20,color:"Orange"})},y.skjaeringstidspunktBeregning))})})}),g.jsx(Rf.Provider,{value:x,children:g.jsx(q1,{aktivtBeregningsgrunnlagIndeks:c,beregningsgrunnlag:e,kodeverkSamling:n,avklaringsbehov:B,submitCallback:r,readOnly:t||X1(e[c],T),submittable:i,erOverstyrer:s,skalKunneOverstyreAktiviteter:a,arbeidsgiverOpplysningerPerId:l,setFormData:k,formData:o,vilkar:u,skalKunneAvbryteOverstyring:f})})]})})};var Re=(e=>(e.AVKLAR_AKTIVITETER="AVKLAR_AKTIVITETER",e.VURDER_FAKTA_FOR_ATFL_SN="VURDER_FAKTA_ATFL_SN",e.OVERSTYRING_AV_BEREGNINGSAKTIVITETER="OVST_BEREGNINGSAKTIVITETER",e.OVERSTYRING_AV_BEREGNINGSGRUNNLAG="OVST_INNTEKT",e))(Re||{}),tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wv={exports:{}},Kt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eu;function tO(){if(Eu)return Kt;Eu=1;var e=K,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,o,k){var u,f={},c=null,b=null;k!==void 0&&(c=""+k),o.key!==void 0&&(c=""+o.key),o.ref!==void 0&&(b=o.ref);for(u in o)t.call(o,u)&&!s.hasOwnProperty(u)&&(f[u]=o[u]);if(l&&l.defaultProps)for(u in o=l.defaultProps,o)f[u]===void 0&&(f[u]=o[u]);return{$$typeof:n,type:l,key:c,ref:b,props:f,_owner:i.current}}return Kt.Fragment=r,Kt.jsx=a,Kt.jsxs=a,Kt}wv.exports=tO();var h=wv.exports;const uo={"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning":"Vurder fakta for beregningen","BeregningInfoPanel.TidsbegrensetArbFor.Arbeidsforhold":"Er arbeidsforholdet i {navn} med varighet {fom} - {tom} tidsbegrenset?","BeregningInfoPanel.FormAlternativ.Ja":"Ja","BeregningInfoPanel.FormAlternativ.Nei":"Nei","BeregningInfoPanel.NyIArbeidslivet.SelvstendigNaeringsdrivende":"Søker er selvstendig næringsdrivende. Ble søker yrkesaktiv i løpet av de siste tre årene?","AvklarAktivitetPanel.Overskrift":"Aktiviteter i beregningsgrunnlaget","AvklarAktivitetPanel.ButtonText":"Oppdater","AvklarAktivitetPanel.OverstyrText":"Overstyr","AvklareAktiviteter.Avbryt":"Avbryt","VurderAktiviteterTabell.FullAAPKombinert.Overskrift":"Søker har full AAP (200%) sammen med andre aktiviteter. Skjæringstidspunkt for beregning {skjaeringstidspunkt}","VurderAktiviteterTabell.VentelonnVartpenger.Overskrift":"Søker har ventelønn eller vartpenger som siste aktivitet. Skjæringstidspunkt for beregning {skjaeringstidspunkt}","VurderAktiviteterTabell.Overstyrt.Overskrift":"Skjæringstidspunkt for beregning {skjaeringstidspunkt}","BeregningInfoPanel.VurderOgFastsettATFL.ErSokerNyoppstartetFL":"Startet søker som frilanser i løpet av de siste tre månedene?","BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrgUtenIM":"Søker er arbeidstaker og frilanser i samme virksomhet og det er ikke mottatt inntektsmelding(er).","BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrg":"Søker er arbeidstaker og frilanser i samme virksomhet.","BeregningInfoPanel.VurderOgFastsettATFL.FastsettFrilans":"Fastsett frilansinntekt","BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLAlleOppdrag":"Fastsett arbeidsinntekt og samlet frilansinntekt for alle oppdrag.","BeregningInfoPanel.VurderOgFastsettATFL.FastsettArbeidsinntekt":"Fastsett arbeidsinntekt","BeregningInfoPanel.VurderOgFastsettATFL.HarSokerEndring":"Har søker hatt lønnsendring i løpet av de siste tre månedene?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilansUtenFrilans":"Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for frilansaktiviteten?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilans":"Søker er frilanser. Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for frilansaktiviteten?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForArbeid":"Søker er arbeidstaker og det er ikke mottatt inntektsmelding. Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for arbeid i {arbeid}?","BeregningInfoPanel.VurderBestebergning.HarBesteberegning":"Søker har hatt dagpenger i opptjeningsperioden. Skal dette fordeles etter besteberegning?","InntektstabellPanel.Avbryt":"Avbryt overstyring","BeregningInfoPanel.FordelingBG.LeggTilAndel":"Legg til aktivitet","BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet":"Finn regneark på navet","BeregningInfoPanel.FordelingBG.Sum":"Sum","BeregningInfoPanel.FordelingBG.Andel":"Aktivitet","BeregningInfoPanel.FordelingBG.Arbeidsperiode":"Arbeidsperiode","BeregningInfoPanel.FordelingBG.Refusjonskrav":"Refusjonskrav","BeregningInfoPanel.FordelingBG.Fordeling":"Månedsinntekt","BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn":"Månedsinntekt for {andel}","BeregningInfoPanel.FordelingBG.InntektskategoriMedAndelnavn":"Inntektskategori for {andel}","BeregningInfoPanel.FordelingBG.Inntektskategori":"Inntektskategori","BeregningInfoPanel.FordelingBG.LeggTilDagpengerAndel":"Legg til dagpenger","BeregningInfoPanel.FordelingBG.FjernDagpenger":"Fjern dagpenger","BeregningInfoPanel.FordelingBG.Ytelse":"Ytelse","BeregningInfoPanel.FordelingBG.FjernAndel":"Fjern aktivitet","AvklareAktiviteter.OverstyrerAktivitetAdvarsel":"Overstyr hvilke aktiviteter og eventuelle inntektsmeldinger som skal benyttes i beregning.","VurderAktiviteterTabell.Header.Aktivitet":"Aktivitet","VurderAktiviteterTabell.Header.Periode":"Periode","VurderAktiviteterTabell.Header.Benytt":"Benytt","VurderAktiviteterTabell.Header.IkkeBenytt":"Ikke benytt","VurderAktiviteterTabell.Validation.MåHaMinstEnAktivitet":"Må ha minst én aktivitet for å kunne fastsette beregningsgrunnlag","BeregningInfoPanel.AksjonspunktHelpText.VurderAktiviteter":"Vurder hvilke aktiviteter som skal benyttes i beregningsgrunnlaget.","BeregningInfoPanel.KunstigArbeidsforhold.FastsettKunstigArbeidsforhold":"Det finnes ikke registerdata for arbeidsforholdet og det er ikke mottatt inntektsmelding. Fastsett månedsinntekt for arbeidsforholdet","KunYtelsePanel.Overskrift":"Søker har ytelse som eneste inntekt. Fastsett månedsbeløp for fordeling av beregningsgrunnlaget.","KunYtelsePanel.HarBesteberegning":"Søker har ytelse som eneste inntekt. Skal denne fordeles etter besteberegning?","KunYtelsePanel.OverskriftBesteberegning":"Fastsett månedsbeløp for brutto beregningsgrunnlag etter besteberegning","BeregningInfoPanel.FordelBG.Validation.UlikeAndeler":"Andeler for samme aktivitet må ha ulik inntektskategori","InntektstabellPanel.RapporterteInntekter":"Rapporterte inntekter","BeregningInfoPanel.EtterlønnSluttpakke.HarSøkerInntekt":"Har søker etterlønn eller sluttpakke?","BeregningInfoPanel.VurderMilitaer.HarSøkerMilitærinntekt":"Har søker vært i militær- eller sivilforsvarstjeneste i opptjeningsperioden?","VurderRefusjonForm.ErRefusjonskravGyldig":"{arbeidsgiverVisningsnavn} har minst ett refusjonskrav som har kommet for sent. Skal refusjonskrav som ikke har kommet innen fristen tas med i beregning?","BeregningInfoPanel.Validation.MinstEnFastsatt":"Må ha overstyrt inntekt for minst én aktivitet.","FaktaBegrunnelseTextField.BegrunnEndringene":"Begrunn endringene","SubmitButton.ConfirmInformation":"Bekreft og fortsett"},iO="_tabsContainer_1ojru_1",sO={tabsContainer:iO},ii="avklarAktiviteterForm",_n="vurderFaktaBeregningForm",cn=(e,n)=>n.some(r=>r.definisjon===e),aO=e=>e===ga.OPPRETTET,lO="_begrunnelseTextField_1wq9u_1",dO="_explanationTextarea_1wq9u_4",oO="_explanationTextareaReadOnly_1wq9u_7",il={begrunnelseTextField:lO,explanationTextarea:dO,explanationTextareaReadOnly:oO},yu=Me(uo),gO=Rn(3),uO=Pn(1500),Kr=({isReadOnly:e,isSubmittable:n,hasBegrunnelse:r,label:t,hasVurderingText:i,name:s})=>{const a=i?"FaktaBegrunnelseTextField.Vurdering":"FaktaBegrunnelseTextField.BegrunnEndringene",l=t||yu.formatMessage({id:a});return h.jsx(Ze,{value:yu,children:(n||r)&&h.jsx("div",{className:il.begrunnelseTextField,children:h.jsx(un,{name:s,label:e?"":l,validate:e?[]:[X,gO,uO,Nn],className:e?il.explanationTextareaReadOnly:il.explanationTextarea,maxLength:1500,readOnly:e})})})};Kr.defaultProps={name:"begrunnelse",hasVurderingText:!1};Kr.buildInitialValues=(e,n="begrunnelse")=>({[n]:ta(e)});Kr.transformValues=(e,n="begrunnelse")=>({begrunnelse:e[n]});const kO=Me(uo),mO=(e,n,r,t)=>!e&&!r||n?!0:t===void 0?!e:!e&&t||t,Uv=({isReadOnly:e,isSubmittable:n,isSubmitting:r,isDirty:t,text:i,onClick:s,hasEmptyRequiredFields:a,isDisabled:l})=>e?null:h.jsx(se,{size:"small",loading:r,disabled:mO(t,r,n,a)||!!l,onClick:s||ia,type:s?"button":"submit",children:i||kO.formatMessage({id:"SubmitButton.ConfirmInformation"})}),{AVKLAR_AKTIVITETER:qs,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:_u}=Re,fO=(e,n)=>n.some(r=>r.definisjon===e&&r.kanLoses),vO=(e,n,r)=>(e||fO(qs,n))&&r,ko=e=>{var n;return e.some(r=>r.definisjon===_u||r.definisjon===qs)?(n=e.find(r=>r.definisjon===_u||r.definisjon===qs))==null?void 0:n.begrunnelse:void 0},cO=(e,n)=>cn(qs,e)||n,pO=(e,n,r)=>e&&n&&!r,hO="_avsnittOverskrift_h44z2_1",bO={avsnittOverskrift:hO},sl=e=>e?`...${e.substring(e.length-4,e.length)}`:"",yt=(e,n)=>e.erPrivatPerson?e.fødselsdato?`${e.navn} (${A(e.fødselsdato).format(ie)})${sl(n)}`:`${e.navn}${sl(n)}`:`${e.navn} (${e.identifikator})${sl(n)}`,jO=(e,n)=>e.arbeidsforholdId?n+e.arbeidsforholdId:n,Su=(e,n)=>e+n.fom.replace(".",""),gn=e=>{if(e.arbeidsgiverIdent){const n=jO(e,e.arbeidsgiverIdent);return Su(n,e)}return Su(e.arbeidsforholdType,e)},xO=(e,n)=>e||n,js=(e,n,r,t,i)=>!n&&!r||e.arbeidsforholdType&&e.arbeidsforholdType===Fn.AAP?!1:n?xO(t,i):!0,IO=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?n[e.arbeidsgiverIdent]:void 0;return i?yt(i,e.eksternArbeidsforholdId):e.arbeidsforholdType&&((t=r[be.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn)||""},AO=(e,n)=>A(e).isSame(A(n))||A(e).isBefore(A(n)),TO=(e,n,r,t)=>js(e,n,r,t,!1)?e.skalBrukes===void 0||e.skalBrukes===null?void 0:e.skalBrukes.toString():e.skalBrukes===!0||e.skalBrukes===null||e.skalBrukes===void 0?"true":"false",EO=(e,n,r,t,i,s)=>({beregningAktivitetNavn:IO(e,s,n),fom:e.fom,tom:e.tom,skalBrukes:TO(e,r,t,i)}),yO=(e,n,r,t)=>{const i=AO(r,t);return n.filter(s=>e.aktiviteterValues&&(e.aktiviteterValues[gn(s)].skalBrukes==="false"||e.aktiviteterValues[gn(s)].tom!=null)).map(s=>({oppdragsgiverOrg:s.arbeidsgiverIdent&&s.arbeidsgiverIdent.length===9?s.arbeidsgiverIdent:void 0,arbeidsforholdRef:s.arbeidsforholdId,fom:s.fom,tom:e.aktiviteterValues&&e.aktiviteterValues[gn(s)].tom!=null?e.aktiviteterValues[gn(s)].tom:s.tom,opptjeningAktivitetType:s.arbeidsforholdType,arbeidsgiverIdentifikator:s.arbeidsgiverIdent,skalBrukes:i&&e.aktiviteterValues?e.aktiviteterValues[gn(s)].skalBrukes==="true":!0}))},_O=(e,n,r,t,i,s)=>{const a={};return e&&e.forEach(l=>{a[gn(l)]=EO(l,n,r,t,i,s)}),a},SO="_radios_bl769_1",FO="_navnKol_bl769_13",ts={radios:SO,navnKol:FO},NO=(e,n)=>A(e).isSame(A(n))||A(e).isBefore(A(n)),Fu=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?n[e.arbeidsgiverIdent]:void 0;return i?yt(i,e.eksternArbeidsforholdId):e.arbeidsforholdType&&((t=r[be.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn)||""},RO=({readOnly:e,isAvklaringsbehovClosed:n,aktivitet:r,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:a,valgtSkjæringstidspunkt:l,ingenAktiviterErBrukt:o,arbeidsgiverOpplysningerPerId:k,fieldId:u})=>{const f=te(),c=NO(l,a),b=x=>{const T=Fu(r,k,t),N=`${Ss(r.fom)} til ${Ss(r.tom||"")}`;return`${x?"Benytt":"Ikke benytt"} ${T} ${N}`};return h.jsxs(nn,{children:[h.jsx(W,{className:ts.navnKol,children:h.jsx(_,{children:Fu(r,k,t)})}),h.jsxs(W,{className:ts.rowalign,children:[!i&&h.jsx(_,{children:h.jsx(Ye,{dateStringFom:r.fom,dateStringTom:r.tom})}),i&&h.jsxs("div",{children:[h.jsx(De,{dateString:r.fom})," -"," ",h.jsx(or,{name:`avklarAktiviteterForm.${u}.aktiviteterValues.${gn(r)}.tom`,validate:[X,Sn],isReadOnly:e})]})]}),h.jsx(W,{className:ts.radios,children:h.jsx(pe,{name:`avklarAktiviteterForm.${u}.aktiviteterValues.${gn(r)}.skalBrukes`,label:f.formatMessage({id:"VurderAktiviteterTabell.Header.Benytt"}),validate:[X],isHorizontal:!0,isReadOnly:e||!js(r,i,s,c,o),radios:[{value:"true",label:b(!0)}],hideLegend:!0,hideRadioLabels:!0})}),h.jsx(W,{className:ts.radios,children:h.jsx(pe,{name:`avklarAktiviteterForm.${u}.aktiviteterValues.${gn(r)}.skalBrukes`,label:f.formatMessage({id:"VurderAktiviteterTabell.Header.IkkeBenytt"}),validate:[X],isHorizontal:!0,isReadOnly:e||!js(r,i,s,c,o),radios:[{value:"false",label:b(!1)}],hideLegend:!0,hideRadioLabels:!0})}),n&&e&&h.jsx(W,{children:js(r,i,s,c,o)&&h.jsx(ht,{})})]},gn(r))},PO=(e,n,r)=>{const t=Sn(r)?"":A(r).format(ie);if(n)return h.jsx(m,{id:"VurderAktiviteterTabell.Overstyrt.Overskrift",values:{skjaeringstidspunkt:t}});const i=e.some(a=>a.arbeidsforholdType&&a.arbeidsforholdType===Fn.AAP),s=e.some(a=>a.arbeidsforholdType&&a.arbeidsforholdType===Fn.VENTELØNN_VARTPENGER);return i?h.jsx(m,{id:"VurderAktiviteterTabell.FullAAPKombinert.Overskrift",values:{skjaeringstidspunkt:t}}):s?h.jsx(m,{id:"VurderAktiviteterTabell.VentelonnVartpenger.Overskrift",values:{skjaeringstidspunkt:t}}):""},BO=()=>["VurderAktiviteterTabell.Header.Aktivitet","VurderAktiviteterTabell.Header.Periode","VurderAktiviteterTabell.Header.Benytt","VurderAktiviteterTabell.Header.IkkeBenytt"],OO=({readOnly:e,isAvklaringsbehovClosed:n,aktiviteter:r,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:a,valgtSkjæringstidspunkt:l,ingenAktiviterErBrukt:o,arbeidsgiverOpplysningerPerId:k,fieldId:u})=>h.jsxs(h.Fragment,{children:[h.jsx(w,{size:"small",children:PO(r,i,a)}),h.jsx(kn,{headerTextCodes:BO(),noHover:!0,children:r.map(f=>h.jsx(RO,{aktivitet:f,readOnly:e,isAvklaringsbehovClosed:n,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:a,valgtSkjæringstidspunkt:l,ingenAktiviterErBrukt:o,arbeidsgiverOpplysningerPerId:k,fieldId:u},`${f.arbeidsgiverIdent}-${f.fom}-${f.tom}`))})]}),Ql=(e,n)=>!!e.aktiviteter&&e.aktiviteter.find(r=>{const t=gn(r);return n.aktiviteterValues&&n.aktiviteterValues[t]?n.aktiviteterValues[t].skalBrukes!=="false":r.skalBrukes})!==void 0,$O=(e,n)=>{let r=0;for(;r<e.length&&A(n).isBefore(e[r].tom===void 0?null:e[r].tom);)r+=1;return r},Nu=(e,n,r)=>{const t=e.find(({tom:i})=>i===r);if(t===void 0){const i={tom:r,aktiviteter:[n]},s=$O(e,r);e.splice(s,0,i)}else{if(!t.aktiviteter)throw new Error(`Forventer å ha aktiviteter på tom ${t.tom}`);t.aktiviteter.push(n)}},VO=e=>{var n;return!!((n=e.avklarAktiviteter)!=null&&n.aktiviteterTomDatoMapping)&&e.avklarAktiviteter.aktiviteterTomDatoMapping.some(r=>r.aktiviteter&&!r.aktiviteter.some(t=>!A(t.tom).isValid()))},DO=e=>{var n;const r=e.avklarAktiviteter?e.avklarAktiviteter.aktiviteterTomDatoMapping||[]:[],t=[],i=(n=e.avklarAktiviteter)==null?void 0:n.skjæringstidspunkt;if(!i)throw new Error("Forventer skjæringstidspunkt for opptjening her!");return r.flatMap(({aktiviteter:s})=>s).forEach(s=>{if(!s)throw new Error("Må ha aktivitet i form values her!");const a={...s},l=e.aktiviteterValues?e.aktiviteterValues[gn(s)].tom:void 0;l&&l!==a.tom&&(a.tom=l),A(l).isSame(A(i).subtract(1,"days"))||A(l).isAfter(A(i).subtract(1,"days"))?Nu(t,a,i):Nu(t,a,A(l).add(1,"days").format("YYYY-MM-DD"))}),t},mo=(e,n,r)=>{const t=n&&!VO(n)?DO(n):e;return r?t:!n||Ql(t[0],n)||t.length===1?[t[0]]:[t[0],t[1]]},Cv=(e,n)=>{if(!(e===void 0||n===void 0))for(let r=0;r<n.length;r+=1){const t=n[r].aktiviteter||[];for(let i=0;i<t.length;i+=1){const s=e.aktiviteterValues?e.aktiviteterValues[gn(t[i])]:void 0;if((s==null?void 0:s.skalBrukes)==="true")return n[r].tom}}},wr=({readOnly:e,isAvklaringsbehovClosed:n,values:r,aktiviteterTomDatoMapping:t,erOverstyrt:i,harAvklaringsbehov:s,kodeverkSamling:a,arbeidsgiverOpplysningerPerId:l,fieldId:o})=>{const k=mo(t,r,i),u=Cv(r,k);return h.jsx(h.Fragment,{children:k.map(f=>h.jsx(OO,{readOnly:e,isAvklaringsbehovClosed:n,aktiviteter:f.aktiviteter||[],erOverstyrt:i,harAvklaringsbehov:s,kodeverkSamling:a,tomDatoForAktivitetGruppe:f.tom,valgtSkjæringstidspunkt:u,ingenAktiviterErBrukt:u===void 0,arbeidsgiverOpplysningerPerId:l,fieldId:o},f.tom))})};wr.harIngenAktiviteter=(e,n,r)=>{const t=mo(n,e,r);return Ql(t[0],e)?!1:t.length>1&&t[1].aktiviteter&&t[1].aktiviteter.length>0?!Ql(t[1],e):!0};const GO=(e,n)=>A(e).isSame(A(n))||A(e).isBefore(A(n));wr.transformValues=(e,n,r)=>{const t=mo(n,e,r),i=Cv(e,t);if(!i)throw new Error("Finner ikke forventet skjæringstidspunkt, ugyldig tilstand");return t.flatMap(s=>yO(e,s.aktiviteter||[],i,s.tom))};const LO=e=>{if(e!==void 0)for(let n=0;n<e.length;n+=1){const r=e[n].aktiviteter||[];for(let t=0;t<r.length;t+=1)if(r[t].skalBrukes===!0||r[t].skalBrukes===null||r[t].skalBrukes===void 0)return e[n].tom}};wr.buildInitialValues=(e,n,r,t,i)=>{if(!e||e.length===0)return{};let s={};const a=LO(e);return e.forEach(l=>{s={...s,..._O(l.aktiviteter||[],n,r,t,GO(a,l.tom),i)}}),s};const{AVKLAR_AKTIVITETER:xs,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Yv}=Re,fo="begrunnelseAvklareAktiviteter",zv="manuellOverstyringBeregningAktiviteter",MO=(e,n,r,t,i)=>{const s=cn(xs,e),a=cn(Yv,e),l=ko(e);let o;return n&&n.aktiviteterTomDatoMapping&&(o=wr.buildInitialValues(n.aktiviteterTomDatoMapping,r,a,s,t)),{[zv]:a,periode:i.periode,erTilVurdering:i.vurderesIBehandlingen&&!i.erForlengelse,avklaringsbehov:e,avklarAktiviteter:n,aktiviteterValues:o,...Kr.buildInitialValues(l,fo)}},Ru=e=>{const n=e[zv],r=vO(!!n,e.avklaringsbehov||[],e.erTilVurdering),{avklarAktiviteter:t}=e;return r?{beregningsaktivitetLagreDtoList:wr.transformValues(e,(t==null?void 0:t.aktiviteterTomDatoMapping)||[],!!n),periode:e.periode,begrunnelse:e[fo]}:null},KO=(e,n,r,t,i)=>{if(!(r.length<1)&&wr.harIngenAktiviteter(e(`avklarAktiviteterForm.${n}`),r,t))return i.formatMessage({id:"VurderAktiviteterTabell.Validation.MåHaMinstEnAktivitet"})},wO=({avklarAktiviteter:e,avklaringsbehov:n,erOverstyrer:r,readOnly:t,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:s,submittable:a,fieldId:l,updateOverstyring:o,submitDisabled:k})=>{var u,f;const c=te(),{resetField:b,watch:x,getValues:T,formState:{isSubmitting:N,errors:S,dirtyFields:B}}=je(),y=Object.keys(B).length>0,O=cn(Yv,n),$=!!T(`avklarAktiviteterForm.${l}`).manuellOverstyringBeregningAktiviteter,[D,Y]=j.useState(O||$),ne=!!((f=(u=S.avklarAktiviteterForm)==null?void 0:u[l])!=null&&f.begrunnelseAvklareAktiviteter),ee=H=>{H?Y(!D):!H&&D&&Y(!1),b(`avklarAktiviteterForm.${l}`,{keepDirty:!1}),b(`vurderAktiviteterSkjema.${l}`,{keepDirty:!1}),o(l,H)},U=n.filter(H=>H.definisjon===Re.AVKLAR_AKTIVITETER||H.definisjon===Re.OVERSTYRING_AV_BEREGNINGSAKTIVITETER).filter(H=>aO(H.status)).length===0,V=KO(x,l,e.aktiviteterTomDatoMapping||[],$,c),C=`vurderAktiviteterSkjema.${l}`,Z=Pr(C,V);return!e.aktiviteterTomDatoMapping||e.aktiviteterTomDatoMapping.length<1?null:h.jsxs(h.Fragment,{children:[h.jsx(Se,{children:h.jsxs(L,{children:[h.jsx(E,{children:h.jsx(w,{size:"small",className:bO.avsnittOverskrift,"data-testid":"avklareAktiviteterHeading",children:h.jsx(m,{id:"AvklarAktivitetPanel.Overskrift"})})}),(r||O)&&h.jsx(E,{children:h.jsx(oi,{onClick:()=>ee(!0),erOverstyrt:D})})]})}),h.jsx(I,{sixteenPx:!0}),cn(xs,n)&&!U&&h.jsx(gi,{children:[h.jsx(m,{id:"BeregningInfoPanel.AksjonspunktHelpText.VurderAktiviteter"},"VurderFaktaForBeregningen")]}),D&&h.jsx(w,{size:"small",children:h.jsx(m,{id:"AvklareAktiviteter.OverstyrerAktivitetAdvarsel"})}),h.jsx(I,{twentyPx:!0}),e&&e.aktiviteterTomDatoMapping&&h.jsxs("div",{children:[h.jsx(wr,{aktiviteterTomDatoMapping:e.aktiviteterTomDatoMapping,readOnly:t,isAvklaringsbehovClosed:U,erOverstyrt:D,kodeverkSamling:i,values:x(`avklarAktiviteterForm.${l}`),harAvklaringsbehov:cn(xs,n),arbeidsgiverOpplysningerPerId:s,fieldId:l}),Z&&h.jsx(Un,{children:Z})]}),h.jsx(I,{twentyPx:!0}),cO(n,D)&&h.jsxs(h.Fragment,{children:[h.jsx(Kr,{name:`avklarAktiviteterForm.${l}.${fo}`,isSubmittable:a,isReadOnly:t,hasBegrunnelse:ko(n)!==null}),(cn(xs,n)||D)&&h.jsxs(h.Fragment,{children:[h.jsx(I,{twentyPx:!0}),h.jsx(Se,{children:h.jsxs(L,{children:[h.jsx(E,{children:h.jsx(Uv,{text:c.formatMessage({id:D?"AvklarAktivitetPanel.OverstyrText":"AvklarAktivitetPanel.ButtonText"}),isSubmittable:pO(a,!0,ne),isDirty:y,isSubmitting:k,isReadOnly:t||U&&!y,hasEmptyRequiredFields:ne})}),!!B&&y&&h.jsx(E,{children:h.jsx(se,{variant:"secondary",loading:N,disabled:N,onClick:()=>ee(!1),size:"small",children:h.jsx(m,{id:"AvklareAktiviteter.Avbryt"})})})]})})]})]})]})},{OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Hv,AVKLAR_AKTIVITETER:Jv}=Re,Pu="manuellOverstyringBeregningAktiviteter",UO=(e,n)=>{const r=e.perioder.find(({periode:t})=>t.fom===n);if(!r)throw new Error(`Finner ikke vilkårsperiode med fom ${n}`);return r},CO=(e,n)=>!cn(Jv,e)&&!cn(Hv,e)&&!n,YO=e=>{const n=e[ii],r=n.filter(s=>s[Pu]).map(Ru).filter(s=>s),t=n.filter(s=>!s[Pu]).map(Ru).filter(s=>s),i=[];if(r.length>0){const s=r.map(({begrunnelse:l})=>l).reduce((l,o)=>l===""?o:`${l} ${o}`,""),a={kode:Hv,begrunnelse:s,grunnlag:r};i.push(a)}if(t.length>0){const s=t.map(({begrunnelse:l})=>l).reduce((l,o)=>l===""?o:`${l} ${o}`,""),a={kode:Jv,begrunnelse:s,grunnlag:t};i.push(a)}return i},zO=(e,n,r,t)=>({[ii]:e.map(i=>{var s;return MO(i.avklaringsbehov,(s=i.faktaOmBeregning)==null?void 0:s.avklarAktiviteter,n,r,UO(t,i.vilkårsperiodeFom))})}),HO=(e,n)=>{var r;const t=(r=e[n].faktaOmBeregning)==null?void 0:r.avklarAktiviteter;if(!t)throw new Error("Mangler aktivteter å populere skjema med!");return t},JO=({harAndreAvklaringsbehovIPanel:e,erOverstyrer:n,readOnly:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,submittable:s,submitCallback:a,beregningsgrunnlag:l,aktivtBeregningsgrunnlagIndeks:o,vilkår:k,setFormData:u,formData:f,setAvklarAktiviteterErEndret:c})=>{const b=Qe({defaultValues:f||zO(l,t,i,k)}),{formState:{dirtyFields:x,errors:T,isSubmitted:N},control:S,getValues:B,trigger:y,setValue:O}=b;j.useEffect(()=>{var V;(V=x.avklarAktiviteterForm)!=null&&V.some(C=>!!C)?c(!0):c(!1)},[x]),j.useEffect(()=>{var V;N&&(V=x.avklarAktiviteterForm)!=null&&V[o]&&y()},[o]);const $=l.flatMap(V=>V.avklaringsbehov),{fields:D}=ze({name:ii,control:S}),[Y,ne]=j.useState(!1),ee=(V,C)=>{const Z=B(`avklarAktiviteterForm.${V}`);O(`${ii}.${V}`,{...Z,manuellOverstyringBeregningAktiviteter:C},{shouldDirty:!0})};if(CO($,n))return null;const U=V=>{Object.keys(T).length===0&&(ne(!0),a(YO(V)))};return h.jsxs(h.Fragment,{children:[h.jsx(en,{formMethods:b,onSubmit:V=>U(V),setDataOnUnmount:u,children:D.map((V,C)=>o===C&&h.jsx(wO,{aktivtBeregningsgrunnlagIndeks:o,fieldId:C,avklarAktiviteter:HO(l,C),avklaringsbehov:l[C].avklaringsbehov,erOverstyrer:n,readOnly:r,submittable:s,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,updateOverstyring:ee,submitDisabled:Y},V.id))}),e&&h.jsx(I,{twentyPx:!0})]})},qO="_navetLink_15r5n_1",WO="_flexColumn12_15r5n_12",ZO="_flexColumn9_15r5n_15",XO="_flexColumn3_15r5n_18",Ir={navetLink:qO,flexColumn12:WO,flexColumn9:ZO,flexColumn3:XO},On=e=>e==="true",qv=K.createContext(null),Ke=K.createContext(0),Wv=K.createContext(0),Nr="vurderbesteberegningField",{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:QO}=Re,Fi=({readOnly:e,erOverstyrt:n})=>{const r=K.useContext(Ke),t=te(),i=e||n;return h.jsx("div",{children:h.jsxs(L,{children:[h.jsx(E,{className:Ir.flexColumn9,children:h.jsx(pe,{label:h.jsx(_,{children:h.jsx(m,{id:"BeregningInfoPanel.VurderBestebergning.HarBesteberegning"})}),name:`vurderFaktaBeregningForm.${r}.${Nr}`,isReadOnly:i,validate:i?[]:[X],radios:[{value:"true",label:t.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:t.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:On,isHorizontal:!0})}),h.jsx(E,{className:Ir.flexColumn3,children:h.jsx("a",{className:Ir.navetLink,href:ma,target:"_blank",rel:"noopener noreferrer",children:h.jsx(m,{id:"BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet"})})})]})})};Fi.buildInitialValues=(e,n,r,t)=>r.includes(P.VURDER_BESTEBEREGNING)||r.includes(P.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE)?n?e.find(i=>i.definisjon===QO)!==void 0||t?{[Nr]:!1}:{[Nr]:n.skalHaBesteberegning}:{}:{};Fi.transformValues=(e,n,r)=>{if(!n||!n.vurderBesteberegning)return{};if(!e[Nr]||!r)return{besteberegningAndeler:{besteberegningAndelListe:[]}};const t=r.filter(({nyAndel:s})=>s!==!0).map(s=>({andelsnr:s.andelsnr,nyAndel:s.nyAndel,lagtTilAvSaksbehandler:s.lagtTilAvSaksbehandler,fastsatteVerdier:{fastsattBeløp:s.fastsattBelop,inntektskategori:s.inntektskategori}})),i=r.find(s=>s.nyAndel&&s.aktivitetStatus===R.DAGPENGER);return{besteberegningAndeler:{besteberegningAndelListe:t,nyDagpengeAndel:i?{fastsatteVerdier:{fastsattBeløp:i.fastsattBelop,inntektskategori:i.inntektskategori}}:null}}};const e$=e=>(n,r)=>{const t=e.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller:[];if(!(t.map(a=>a).includes(P.VURDER_BESTEBEREGNING)||t.map(a=>a).includes(P.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE)))return{};const i=Fi.transformValues(n,e,r),s=[P.VURDER_BESTEBEREGNING];return i.besteberegningAndeler.besteberegningAndelListe.length>0&&s.push(P.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE),{faktaOmBeregningTilfeller:s,...i}},n$="_fadeinTabell_1d8wy_1",r$="_fadein_1d8wy_1",t$="_rightAligned_1d8wy_10",i$="_avsnittOverskrift_1d8wy_13",Bu={fadeinTabell:n$,fadein:r$,rightAligned:t$,avsnittOverskrift:i$},ut="manuellOverstyringRapportertInntekt",{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:s$,AVKLAR_AKTIVITETER:a$}=Re,l$=(e,n)=>n.some(r=>r.definisjon===e),d$=(e,n)=>e&&!n.some(r=>r.definisjon===a$&&rn(r.status)),xa=({tabell:e,hjelpeTekstId:n,children:r,skalViseTabell:t,readOnly:i,avklaringsbehov:s,updateOverstyring:a,erOverstyrer:l,erOverstyrt:o})=>{const[k,u]=j.useState(o),f=K.useContext(Ke),c=j.useMemo(()=>d$(l,s),[l,s]),b=()=>{u(!k),a(f,!k)};return h.jsxs(h.Fragment,{children:[r,h.jsxs("div",{className:Bu.fadeinTabell,children:[h.jsx(I,{sixteenPx:!0}),t&&h.jsxs(h.Fragment,{children:[h.jsx(Se,{children:h.jsxs(L,{children:[h.jsx(E,{children:h.jsx(w,{size:"small",className:Bu.avsnittOverskrift,children:h.jsx(m,{id:"InntektstabellPanel.RapporterteInntekter"})})}),(c||k)&&h.jsx(E,{children:h.jsx(oi,{onClick:b,erOverstyrt:i||k||l$(s$,s)})})]})}),h.jsx(I,{sixteenPx:!0}),n&&h.jsx(w,{size:"small",children:h.jsx(m,{id:n})}),e,k&&!i&&h.jsx(se,{size:"small",onClick:b,variant:"secondary",children:h.jsx(m,{id:"InntektstabellPanel.Avbryt"})})]})]})]})};xa.buildInitialValues=e=>({[ut]:e});xa.defaultProps={hjelpeTekstId:void 0,skalViseTabell:!0};const Zv=(e,n,r)=>r?!1:n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.filter(t=>t.aktivitetStatus===R.ARBEIDSTAKER).filter(t=>t.arbeidsforhold&&t.arbeidsforhold.arbeidsgiverIdent===e.arbeidsgiverId).filter(t=>t.arbeidsforhold&&t.arbeidsforhold.arbeidsforholdId).length>0,Ia="lonnsendringField",Ni=({readOnly:e})=>{const n=K.useContext(Ke),r=te();return h.jsx("div",{children:h.jsx(pe,{label:h.jsx(_,{children:h.jsx(m,{id:"BeregningInfoPanel.VurderOgFastsettATFL.HarSokerEndring"})}),name:`vurderFaktaBeregningForm.${n}.lonnsendringField`,isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[X],parse:On,isHorizontal:!0})})},o$=e=>{const n=e.find(t=>t.lonnsendringIBeregningsperioden===!0)!==void 0,r=e.find(t=>t.lonnsendringIBeregningsperioden===!1)!==void 0;return n||(r?!1:void 0)};Ni.buildInitialValues=e=>{const n={};if(!e||!e.beregningsgrunnlagPeriode)return n;const r=e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel;if(!r||r.length<1)return n;const t=r.filter(i=>i.aktivitetStatus===R.ARBEIDSTAKER);return!t||t.length<1||(n[Ia]=o$(t)),n};const g$=(e,n,r)=>r[Ia]&&!!n.arbeidsforholdMedLønnsendringUtenIM&&n.arbeidsforholdMedLønnsendringUtenIM.find(t=>t.andelsnr===e.andelsnr)!==void 0;Ni.transformValues=(e,n)=>(n.faktaOmBeregningTilfeller?n.faktaOmBeregningTilfeller:[]).map(r=>r).includes(P.VURDER_LONNSENDRING)?{faktaOmBeregningTilfeller:[P.VURDER_LONNSENDRING],vurdertLonnsendring:{erLønnsendringIBeregningsperioden:e[Ia]}}:{};const Ar="NyoppstartetFLField",Ri=({readOnly:e})=>{const n=K.useContext(Ke),r=te();return h.jsx("div",{children:h.jsx(pe,{label:h.jsx(_,{children:h.jsx(m,{id:"BeregningInfoPanel.VurderOgFastsettATFL.ErSokerNyoppstartetFL"})}),name:`vurderFaktaBeregningForm.${n}.${Ar}`,validate:[X],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:On,isHorizontal:!0})})};Ri.buildInitialValues=e=>{var n;const r={};if(e===void 0||e.beregningsgrunnlagPeriode===void 0)return r;const t=e.beregningsgrunnlagPeriode.map(i=>i.beregningsgrunnlagPrStatusOgAndel).flat().filter(i=>(i==null?void 0:i.aktivitetStatus)===R.FRILANSER);return t.length>0&&(r[Ar]=(n=t[0])==null?void 0:n.erNyoppstartet),r};Ri.transformValues=(e,n,r,t)=>{if(!(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).map(a=>a).includes(P.VURDER_NYOPPSTARTET_FL))return{};if(!n||n.length===0)return{faktaOmBeregningTilfeller:[P.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[Ar]}};const i=n.find(a=>a.aktivitetStatus===R.FRILANSER);if(!i)return{faktaOmBeregningTilfeller:[P.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[Ar]}};if(t.includes(i.andelsnr))return{faktaOmBeregningTilfeller:[P.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[Ar]}};t.push(i.andelsnr);const s={fastsettMaanedsinntektFL:{maanedsinntekt:i.fastsattBelop}};return{faktaOmBeregningTilfeller:[P.VURDER_NYOPPSTARTET_FL,P.FASTSETT_MAANEDSINNTEKT_FL],...s,vurderNyoppstartetFL:{erNyoppstartetFL:e[Ar]}}};var is=function(e){return e&&e.Math===Math&&e},$n=is(typeof globalThis=="object"&&globalThis)||is(typeof window=="object"&&window)||is(typeof self=="object"&&self)||is(typeof tl=="object"&&tl)||function(){return this}()||tl||Function("return this")(),vo={},er=function(e){try{return!!e()}catch{return!0}},u$=er,fr=!u$(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),k$=er,co=!k$(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),m$=co,ss=Function.prototype.call,po=m$?ss.bind(ss):function(){return ss.apply(ss,arguments)},Xv={},Qv={}.propertyIsEnumerable,ec=Object.getOwnPropertyDescriptor,f$=ec&&!Qv.call({1:2},1);Xv.f=f$?function(e){var n=ec(this,e);return!!n&&n.enumerable}:Qv;var nc=function(e,n){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:n}},rc=co,tc=Function.prototype,ed=tc.call,v$=rc&&tc.bind.bind(ed,ed),xn=rc?v$:function(e){return function(){return ed.apply(e,arguments)}},ic=xn,c$=ic({}.toString),p$=ic("".slice),Aa=function(e){return p$(c$(e),8,-1)},h$=xn,b$=er,j$=Aa,al=Object,x$=h$("".split),I$=b$(function(){return!al("z").propertyIsEnumerable(0)})?function(e){return j$(e)==="String"?x$(e,""):al(e)}:al,sc=function(e){return e==null},A$=sc,T$=TypeError,ac=function(e){if(A$(e))throw T$("Can't call method on "+e);return e},E$=I$,y$=ac,Ta=function(e){return E$(y$(e))},nd=typeof document=="object"&&document.all,_$=typeof nd>"u"&&nd!==void 0,lc={all:nd,IS_HTMLDDA:_$},dc=lc,S$=dc.all,In=dc.IS_HTMLDDA?function(e){return typeof e=="function"||e===S$}:function(e){return typeof e=="function"},Ou=In,oc=lc,F$=oc.all,_t=oc.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:Ou(e)||e===F$}:function(e){return typeof e=="object"?e!==null:Ou(e)},ll=$n,N$=In,R$=function(e){return N$(e)?e:void 0},Ea=function(e,n){return arguments.length<2?R$(ll[e]):ll[e]&&ll[e][n]},P$=xn,B$=P$({}.isPrototypeOf),O$=typeof navigator<"u"&&String(navigator.userAgent)||"",gc=$n,dl=O$,$u=gc.process,Vu=gc.Deno,Du=$u&&$u.versions||Vu&&Vu.version,Gu=Du&&Du.v8,En,Ws;Gu&&(En=Gu.split("."),Ws=En[0]>0&&En[0]<4?1:+(En[0]+En[1]));!Ws&&dl&&(En=dl.match(/Edge\/(\d+)/),(!En||En[1]>=74)&&(En=dl.match(/Chrome\/(\d+)/),En&&(Ws=+En[1])));var $$=Ws,Lu=$$,V$=er,D$=$n,G$=D$.String,uc=!!Object.getOwnPropertySymbols&&!V$(function(){var e=Symbol("symbol detection");return!G$(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Lu&&Lu<41}),L$=uc,kc=L$&&!Symbol.sham&&typeof Symbol.iterator=="symbol",M$=Ea,K$=In,w$=B$,U$=kc,C$=Object,mc=U$?function(e){return typeof e=="symbol"}:function(e){var n=M$("Symbol");return K$(n)&&w$(n.prototype,C$(e))},Y$=String,z$=function(e){try{return Y$(e)}catch{return"Object"}},H$=In,J$=z$,q$=TypeError,ho=function(e){if(H$(e))return e;throw q$(J$(e)+" is not a function")},W$=ho,Z$=sc,X$=function(e,n){var r=e[n];return Z$(r)?void 0:W$(r)},ol=po,gl=In,ul=_t,Q$=TypeError,eV=function(e,n){var r,t;if(n==="string"&&gl(r=e.toString)&&!ul(t=ol(r,e))||gl(r=e.valueOf)&&!ul(t=ol(r,e))||n!=="string"&&gl(r=e.toString)&&!ul(t=ol(r,e)))return t;throw Q$("Can't convert object to primitive value")},fc={exports:{}},Mu=$n,nV=Object.defineProperty,bo=function(e,n){try{nV(Mu,e,{value:n,configurable:!0,writable:!0})}catch{Mu[e]=n}return n},rV=$n,tV=bo,Ku="__core-js_shared__",iV=rV[Ku]||tV(Ku,{}),jo=iV,wu=jo;(fc.exports=function(e,n){return wu[e]||(wu[e]=n!==void 0?n:{})})("versions",[]).push({version:"3.32.2",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"});var vc=fc.exports,sV=ac,aV=Object,cc=function(e){return aV(sV(e))},lV=xn,dV=cc,oV=lV({}.hasOwnProperty),Ur=Object.hasOwn||function(e,n){return oV(dV(e),n)},gV=xn,uV=0,kV=Math.random(),mV=gV(1 .toString),pc=function(e){return"Symbol("+(e===void 0?"":e)+")_"+mV(++uV+kV,36)},fV=$n,vV=vc,Uu=Ur,cV=pc,pV=uc,hV=kc,rt=fV.Symbol,kl=vV("wks"),bV=hV?rt.for||rt:rt&&rt.withoutSetter||cV,Pi=function(e){return Uu(kl,e)||(kl[e]=pV&&Uu(rt,e)?rt[e]:bV("Symbol."+e)),kl[e]},jV=po,Cu=_t,Yu=mc,xV=X$,IV=eV,AV=Pi,TV=TypeError,EV=AV("toPrimitive"),yV=function(e,n){if(!Cu(e)||Yu(e))return e;var r=xV(e,EV),t;if(r){if(n===void 0&&(n="default"),t=jV(r,e,n),!Cu(t)||Yu(t))return t;throw TV("Can't convert object to primitive value")}return n===void 0&&(n="number"),IV(e,n)},_V=yV,SV=mc,hc=function(e){var n=_V(e,"string");return SV(n)?n:n+""},FV=$n,zu=_t,rd=FV.document,NV=zu(rd)&&zu(rd.createElement),bc=function(e){return NV?rd.createElement(e):{}},RV=fr,PV=er,BV=bc,jc=!RV&&!PV(function(){return Object.defineProperty(BV("div"),"a",{get:function(){return 7}}).a!==7}),OV=fr,$V=po,VV=Xv,DV=nc,GV=Ta,LV=hc,MV=Ur,KV=jc,Hu=Object.getOwnPropertyDescriptor;vo.f=OV?Hu:function(e,n){if(e=GV(e),n=LV(n),KV)try{return Hu(e,n)}catch{}if(MV(e,n))return DV(!$V(VV.f,e,n),e[n])};var St={},wV=fr,UV=er,xc=wV&&UV(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),CV=_t,YV=String,zV=TypeError,ya=function(e){if(CV(e))return e;throw zV(YV(e)+" is not an object")},HV=fr,JV=jc,qV=xc,as=ya,Ju=hc,WV=TypeError,ml=Object.defineProperty,ZV=Object.getOwnPropertyDescriptor,fl="enumerable",vl="configurable",cl="writable";St.f=HV?qV?function(e,n,r){if(as(e),n=Ju(n),as(r),typeof e=="function"&&n==="prototype"&&"value"in r&&cl in r&&!r[cl]){var t=ZV(e,n);t&&t[cl]&&(e[n]=r.value,r={configurable:vl in r?r[vl]:t[vl],enumerable:fl in r?r[fl]:t[fl],writable:!1})}return ml(e,n,r)}:ml:function(e,n,r){if(as(e),n=Ju(n),as(r),JV)try{return ml(e,n,r)}catch{}if("get"in r||"set"in r)throw WV("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var XV=fr,QV=St,eD=nc,Ic=XV?function(e,n,r){return QV.f(e,n,eD(1,r))}:function(e,n,r){return e[n]=r,e},Ac={exports:{}},td=fr,nD=Ur,Tc=Function.prototype,rD=td&&Object.getOwnPropertyDescriptor,xo=nD(Tc,"name"),tD=xo&&(function(){}).name==="something",iD=xo&&(!td||td&&rD(Tc,"name").configurable),sD={EXISTS:xo,PROPER:tD,CONFIGURABLE:iD},aD=xn,lD=In,id=jo,dD=aD(Function.toString);lD(id.inspectSource)||(id.inspectSource=function(e){return dD(e)});var Ec=id.inspectSource,oD=$n,gD=In,qu=oD.WeakMap,uD=gD(qu)&&/native code/.test(String(qu)),kD=vc,mD=pc,Wu=kD("keys"),yc=function(e){return Wu[e]||(Wu[e]=mD(e))},Io={},fD=uD,_c=$n,vD=_t,cD=Ic,pl=Ur,hl=jo,pD=yc,hD=Io,Zu="Object already initialized",sd=_c.TypeError,bD=_c.WeakMap,Zs,si,Xs,jD=function(e){return Xs(e)?si(e):Zs(e,{})},xD=function(e){return function(n){var r;if(!vD(n)||(r=si(n)).type!==e)throw sd("Incompatible receiver, "+e+" required");return r}};if(fD||hl.state){var Gn=hl.state||(hl.state=new bD);Gn.get=Gn.get,Gn.has=Gn.has,Gn.set=Gn.set,Zs=function(e,n){if(Gn.has(e))throw sd(Zu);return n.facade=e,Gn.set(e,n),n},si=function(e){return Gn.get(e)||{}},Xs=function(e){return Gn.has(e)}}else{var Hr=pD("state");hD[Hr]=!0,Zs=function(e,n){if(pl(e,Hr))throw sd(Zu);return n.facade=e,cD(e,Hr,n),n},si=function(e){return pl(e,Hr)?e[Hr]:{}},Xs=function(e){return pl(e,Hr)}}var ID={set:Zs,get:si,has:Xs,enforce:jD,getterFor:xD},Ao=xn,AD=er,TD=In,ls=Ur,ad=fr,ED=sD.CONFIGURABLE,yD=Ec,Sc=ID,_D=Sc.enforce,SD=Sc.get,Xu=String,Is=Object.defineProperty,FD=Ao("".slice),ND=Ao("".replace),RD=Ao([].join),PD=ad&&!AD(function(){return Is(function(){},"length",{value:8}).length!==8}),BD=String(String).split("String"),OD=Ac.exports=function(e,n,r){FD(Xu(n),0,7)==="Symbol("&&(n="["+ND(Xu(n),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(n="get "+n),r&&r.setter&&(n="set "+n),(!ls(e,"name")||ED&&e.name!==n)&&(ad?Is(e,"name",{value:n,configurable:!0}):e.name=n),PD&&r&&ls(r,"arity")&&e.length!==r.arity&&Is(e,"length",{value:r.arity});try{r&&ls(r,"constructor")&&r.constructor?ad&&Is(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var t=_D(e);return ls(t,"source")||(t.source=RD(BD,typeof n=="string"?n:"")),e};Function.prototype.toString=OD(function(){return TD(this)&&SD(this).source||yD(this)},"toString");var $D=Ac.exports,VD=In,DD=St,GD=$D,LD=bo,MD=function(e,n,r,t){t||(t={});var i=t.enumerable,s=t.name!==void 0?t.name:n;if(VD(r)&&GD(r,s,t),t.global)i?e[n]=r:LD(n,r);else{try{t.unsafe?e[n]&&(i=!0):delete e[n]}catch{}i?e[n]=r:DD.f(e,n,{value:r,enumerable:!1,configurable:!t.nonConfigurable,writable:!t.nonWritable})}return e},Fc={},KD=Math.ceil,wD=Math.floor,UD=Math.trunc||function(e){var n=+e;return(n>0?wD:KD)(n)},CD=UD,Nc=function(e){var n=+e;return n!==n||n===0?0:CD(n)},YD=Nc,zD=Math.max,HD=Math.min,JD=function(e,n){var r=YD(e);return r<0?zD(r+n,0):HD(r,n)},qD=Nc,WD=Math.min,ZD=function(e){return e>0?WD(qD(e),9007199254740991):0},XD=ZD,To=function(e){return XD(e.length)},QD=Ta,eG=JD,nG=To,Qu=function(e){return function(n,r,t){var i=QD(n),s=nG(i),a=eG(t,s),l;if(e&&r!==r){for(;s>a;)if(l=i[a++],l!==l)return!0}else for(;s>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}},rG={includes:Qu(!0),indexOf:Qu(!1)},tG=xn,bl=Ur,iG=Ta,sG=rG.indexOf,aG=Io,ek=tG([].push),Rc=function(e,n){var r=iG(e),t=0,i=[],s;for(s in r)!bl(aG,s)&&bl(r,s)&&ek(i,s);for(;n.length>t;)bl(r,s=n[t++])&&(~sG(i,s)||ek(i,s));return i},Eo=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],lG=Rc,dG=Eo,oG=dG.concat("length","prototype");Fc.f=Object.getOwnPropertyNames||function(e){return lG(e,oG)};var Pc={};Pc.f=Object.getOwnPropertySymbols;var gG=Ea,uG=xn,kG=Fc,mG=Pc,fG=ya,vG=uG([].concat),cG=gG("Reflect","ownKeys")||function(e){var n=kG.f(fG(e)),r=mG.f;return r?vG(n,r(e)):n},nk=Ur,pG=cG,hG=vo,bG=St,jG=function(e,n,r){for(var t=pG(n),i=bG.f,s=hG.f,a=0;a<t.length;a++){var l=t[a];!nk(e,l)&&!(r&&nk(r,l))&&i(e,l,s(n,l))}},xG=er,IG=In,AG=/#|\.prototype\./,Bi=function(e,n){var r=EG[TG(e)];return r===_G?!0:r===yG?!1:IG(n)?xG(n):!!n},TG=Bi.normalize=function(e){return String(e).replace(AG,".").toLowerCase()},EG=Bi.data={},yG=Bi.NATIVE="N",_G=Bi.POLYFILL="P",SG=Bi,jl=$n,FG=vo.f,NG=Ic,RG=MD,PG=bo,BG=jG,OG=SG,$G=function(e,n){var r=e.target,t=e.global,i=e.stat,s,a,l,o,k,u;if(t?a=jl:i?a=jl[r]||PG(r,{}):a=(jl[r]||{}).prototype,a)for(l in n){if(k=n[l],e.dontCallGetSet?(u=FG(a,l),o=u&&u.value):o=a[l],s=OG(t?l:r+(i?".":"#")+l,e.forced),!s&&o!==void 0){if(typeof k==typeof o)continue;BG(k,o)}(e.sham||o&&o.sham)&&NG(k,"sham",!0),RG(a,l,k,e)}},VG=Aa,Bc=Array.isArray||function(e){return VG(e)==="Array"},DG=TypeError,GG=9007199254740991,LG=function(e){if(e>GG)throw DG("Maximum allowed index exceeded");return e},MG=Aa,KG=xn,wG=function(e){if(MG(e)==="Function")return KG(e)},rk=wG,UG=ho,CG=co,YG=rk(rk.bind),zG=function(e,n){return UG(e),n===void 0?e:CG?YG(e,n):function(){return e.apply(n,arguments)}},HG=Bc,JG=To,qG=LG,WG=zG,Oc=function(e,n,r,t,i,s,a,l){for(var o=i,k=0,u=a?WG(a,l):!1,f,c;k<t;)k in r&&(f=u?u(r[k],k,n):r[k],s>0&&HG(f)?(c=JG(f),o=Oc(e,n,f,c,o,s-1)-1):(qG(o+1),e[o]=f),o++),k++;return o},ZG=Oc,XG=Pi,QG=XG("toStringTag"),$c={};$c[QG]="z";var e2=String($c)==="[object z]",n2=e2,r2=In,As=Aa,t2=Pi,i2=t2("toStringTag"),s2=Object,a2=As(function(){return arguments}())==="Arguments",l2=function(e,n){try{return e[n]}catch{}},d2=n2?As:function(e){var n,r,t;return e===void 0?"Undefined":e===null?"Null":typeof(r=l2(n=s2(e),i2))=="string"?r:a2?As(n):(t=As(n))==="Object"&&r2(n.callee)?"Arguments":t},o2=xn,g2=er,Vc=In,u2=d2,k2=Ea,m2=Ec,Dc=function(){},f2=[],Gc=k2("Reflect","construct"),yo=/^\s*(?:class|function)\b/,v2=o2(yo.exec),c2=!yo.exec(Dc),wt=function(e){if(!Vc(e))return!1;try{return Gc(Dc,f2,e),!0}catch{return!1}},Lc=function(e){if(!Vc(e))return!1;switch(u2(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return c2||!!v2(yo,m2(e))}catch{return!0}};Lc.sham=!0;var p2=!Gc||g2(function(){var e;return wt(wt.call)||!wt(Object)||!wt(function(){e=!0})||e})?Lc:wt,tk=Bc,h2=p2,b2=_t,j2=Pi,x2=j2("species"),ik=Array,I2=function(e){var n;return tk(e)&&(n=e.constructor,h2(n)&&(n===ik||tk(n.prototype))?n=void 0:b2(n)&&(n=n[x2],n===null&&(n=void 0))),n===void 0?ik:n},A2=I2,T2=function(e,n){return new(A2(e))(n===0?0:n)},E2=$G,y2=ZG,_2=ho,S2=cc,F2=To,N2=T2;E2({target:"Array",proto:!0},{flatMap:function(e){var n=S2(this),r=F2(n),t;return _2(e),t=N2(n,0),t.length=y2(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}});var Mc={},R2=Rc,P2=Eo,B2=Object.keys||function(e){return R2(e,P2)},O2=fr,$2=xc,V2=St,D2=ya,G2=Ta,L2=B2;Mc.f=O2&&!$2?Object.defineProperties:function(e,n){D2(e);for(var r=G2(n),t=L2(n),i=t.length,s=0,a;i>s;)V2.f(e,a=t[s++],r[a]);return e};var M2=Ea,K2=M2("document","documentElement"),w2=ya,U2=Mc,sk=Eo,C2=Io,Y2=K2,z2=bc,H2=yc,ak=">",lk="<",ld="prototype",dd="script",Kc=H2("IE_PROTO"),xl=function(){},wc=function(e){return lk+dd+ak+e+lk+"/"+dd+ak},dk=function(e){e.write(wc("")),e.close();var n=e.parentWindow.Object;return e=null,n},J2=function(){var e=z2("iframe"),n="java"+dd+":",r;return e.style.display="none",Y2.appendChild(e),e.src=String(n),r=e.contentWindow.document,r.open(),r.write(wc("document.F=Object")),r.close(),r.F},ds,Ts=function(){try{ds=new ActiveXObject("htmlfile")}catch{}Ts=typeof document<"u"?document.domain&&ds?dk(ds):J2():dk(ds);for(var e=sk.length;e--;)delete Ts[ld][sk[e]];return Ts()};C2[Kc]=!0;var q2=Object.create||function(e,n){var r;return e!==null?(xl[ld]=w2(e),r=new xl,xl[ld]=null,r[Kc]=e):r=Ts(),n===void 0?r:U2.f(r,n)},W2=Pi,Z2=q2,X2=St.f,od=W2("unscopables"),gd=Array.prototype;gd[od]===void 0&&X2(gd,od,{configurable:!0,value:Z2(null)});var Q2=function(e){gd[od][e]=!0},eL=Q2;eL("flatMap");var nL=$n,rL=xn,tL=function(e,n){return rL(nL[e].prototype[n])},iL=tL;iL("Array","flatMap");const Tr="vurderEtterlønnSluttpakke",Oi=({readOnly:e})=>{const n=K.useContext(Ke),r=te();return h.jsx("div",{children:h.jsx(pe,{label:h.jsx(_,{children:h.jsx(m,{id:"BeregningInfoPanel.EtterlønnSluttpakke.HarSøkerInntekt"})}),name:`vurderFaktaBeregningForm.${n}.${Tr}`,validate:[X],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:On,isHorizontal:!0})})};Oi.buildInitialValues=(e,n)=>{var r,t;const i={};if(!e||!e.beregningsgrunnlagPeriode||!n)return{};const s=!rn(n.status),a=e.beregningsgrunnlagPeriode.flatMap(l=>l.beregningsgrunnlagPrStatusOgAndel).filter(l=>(l==null?void 0:l.arbeidsforhold)&&(l==null?void 0:l.arbeidsforhold.arbeidsforholdType)===Fn.ETTERLONN_SLUTTPAKKE);return a.length>0&&(i[Tr]=s&&((r=a[0])==null?void 0:r.beregnetPrAar)!==void 0?((t=a[0])==null?void 0:t.beregnetPrAar)>0:void 0),i};const sL=e=>{if(!e.andelerForFaktaOmBeregning)return;const n=e.andelerForFaktaOmBeregning.find(r=>r.arbeidsforhold&&r.arbeidsforhold.arbeidsforholdType&&r.arbeidsforhold.arbeidsforholdType===Fn.ETTERLONN_SLUTTPAKKE);return n?n.andelsnr:void 0};Oi.transformValues=(e,n,r,t)=>{if(!(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).includes(P.VURDER_ETTERLONN_SLUTTPAKKE))return{};if(!n||n.length===0)return{faktaOmBeregningTilfeller:[P.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[Tr]}};const i=sL(r);if(!i)return{};const s=n.find(l=>l.andelsnr===i);if(!s)return{faktaOmBeregningTilfeller:[P.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[Tr]}};if(t.includes(s.andelsnr))return{faktaOmBeregningTilfeller:[P.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[Tr]}};t.push(s.andelsnr);const a={fastsettEtterlønnSluttpakke:{fastsattPrMnd:s.fastsattBelop}};return{faktaOmBeregningTilfeller:[P.VURDER_ETTERLONN_SLUTTPAKKE,P.FASTSETT_ETTERLONN_SLUTTPAKKE],...a,vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[Tr]}}};const Uc="mottarYtelseField",aL="_frilans",kt=e=>Uc+e.andelsnr,mt=()=>Uc+aL,lL=(e,n)=>(n&&n.arbeidstakerAndelerUtenIM?n.arbeidstakerAndelerUtenIM:[]).map(r=>e.vurderMottarYtelseValues[kt(r)]).find(r=>r)!==void 0,Cc=e=>e.vurderMottarYtelseValues[mt()],Yc=(e,n,r)=>{if(!n)return{};const t={};if((n.arbeidstakerAndelerUtenIM?n.arbeidstakerAndelerUtenIM:[]).forEach(s=>{const a=e.vurderMottarYtelseValues[kt(s)];t[s.andelsnr]=a}),!r)return t;const i=r.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(s=>s.aktivitetStatus===R.FRILANSER);return i&&(t[i.andelsnr]=Cc(e)),t},_a="inntektFieldArray",dL=e=>e.inntektskategori&&e.inntektskategori!==hn.UDEFINERT?e.inntektskategori:"",oL=(e,n,r)=>{var t,i,s,a,l;const o=(t=e.arbeidsforhold)!=null&&t.arbeidsgiverIdent?n[e.arbeidsforhold.arbeidsgiverIdent]:void 0;return o?yt(o,(l=e.arbeidsforhold)==null?void 0:l.eksternArbeidsforholdId):(i=e.arbeidsforhold)!=null&&i.arbeidsforholdType?(s=r[be.OPPTJENING_AKTIVITET_TYPE].find(k=>{var u;return k.kode===((u=e.arbeidsforhold)==null?void 0:u.arbeidsforholdType)}))==null?void 0:s.navn:(a=r[be.AKTIVITET_STATUS].find(k=>k.kode===e.aktivitetStatus))==null?void 0:a.navn},zc=(e,n,r)=>({andel:oL(e,n,r)||"",aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,nyAndel:!1,inntektskategori:dL(e),lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler===!0}),gL=(e,n)=>e?e.find(r=>r.andelsnr===n.andelsnr):void 0,uL=(e,n)=>e?e.find(r=>r.andelsnr===n.andelsnr):void 0,kL=(e,n)=>{const r=gL(n.arbeidstakerOgFrilanserISammeOrganisasjonListe,e);return r&&(r.inntektPrMnd===null||r.inntektPrMnd===void 0)},Hc=e=>e.aktivitetStatus&&e.aktivitetStatus===R.ARBEIDSTAKER,Jc=e=>e.aktivitetStatus&&e.aktivitetStatus===R.FRILANSER,mL=(e,n)=>n?Jc(e)&&n[Ar]:!1,fL=e=>e[Nr],vL=(e,n,r)=>r.arbeidsforholdMedLønnsendringUtenIM&&uL(r.arbeidsforholdMedLønnsendringUtenIM,n)&&e[Ia],cL=(e,n,r)=>Hc(e)&&vL(n,e,r),pL=(e,n)=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&Jc(e),hL=(e,n)=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&Hc(e)&&kL(e,n),bL=(e,n,r,t)=>Yc(e,r.vurderMottarYtelse,t)[n.andelsnr],jL=(e,n)=>e.arbeidsforholdType&&e.arbeidsforholdType===Fn.ETTERLONN_SLUTTPAKKE?n[Tr]:!1,qc=(e,n)=>n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(r=>r.arbeidsforhold&&r.arbeidsforhold.arbeidsgiverIdent===e.arbeidsgiverId&&r.arbeidsforhold.organisasjonstype&&r.arbeidsforhold.organisasjonstype===ui.KUNSTIG)!==void 0,xL=e=>!!e.faktaOmBeregningTilfeller&&e.faktaOmBeregningTilfeller.find(n=>n===P.FASTSETT_BG_KUN_YTELSE)!==void 0,IL=(e,n,r)=>t=>!!(fL(e)||bL(e,t,n,r)||cL(t,e,n)||pL(t,n)||hL(t,n)||qc(t,r)||Zv(t,r)||jL(t,e)),AL=(e,n,r)=>t=>!!(IL(e,n,r)(t)||mL(t,e)),Sa=e=>!!e&&e[ut]===!0,TL=e=>e&&e.some(n=>n.definisjon===Re.OVERSTYRING_AV_BEREGNINGSGRUNNLAG),Wc=e=>Sa(e),ok=e=>e.erOverstyrtInntekt||TL(e.avklaringsbehov),Zc=(e,n,r)=>t=>xL(n)||AL(e,n,r)(t),EL=(e,n,r)=>t=>Sa(e)||Zc(e,n,r)(t),ft=(e,n)=>r=>EL(e,n.faktaOmBeregning,n)(r),yL=e=>n=>qc(n,e),_L=e=>yL(e),SL=(e,n,r)=>({...zc(e,n,r),arbeidsforholdId:e.arbeidsforhold?e.arbeidsforhold.arbeidsforholdId:void 0,arbeidsperiodeFom:e.arbeidsforhold?e.arbeidsforhold.startdato:"",arbeidsperiodeTom:e.arbeidsforhold?e.arbeidsforhold.opphoersdato:"",arbeidsforholdType:e.arbeidsforhold?e.arbeidsforhold.arbeidsforholdType:void 0,aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,arbeidsgiverId:e.arbeidsforhold?e.arbeidsforhold.arbeidsgiverIdent:void 0,skalKunneEndreAktivitet:e.skalKunneEndreAktivitet,fastsattBelop:e.fastsattBelop||e.fastsattBelop===0?q(e.fastsattBelop):"",belopReadOnly:e.belopReadOnly||e.belopReadOnly===0?q(e.belopReadOnly):"",refusjonskrav:e.refusjonskrav||e.refusjonskrav===0?q(e.refusjonskrav):""}),FL=(e,n)=>e.andelsinfo===n.andelsinfo?e.inntektskategori===n.inntektskategori?0:e.inntektskategori>n.inntektskategori?1:-1:e.andelsinfo>n.andelsinfo?1:-1,NL=(e,n)=>{const{nyAndel:r,andel:t,inntektskategori:i,aktivitetStatus:s,arbeidsforholdId:a}=e;if(r){if(!Number.isNaN(Number(t))){const l=n.filter(o=>o.andelsnr===parseFloat(t));if(l.length>0)return{andelsinfo:l[0].andel,inntektskategori:i}}return Rs[t]?{andelsinfo:t,inntektskategori:i}:{andelsinfo:t,inntektskategori:i}}return Ps[s]?{andelsinfo:Ps[s],inntektskategori:i}:{andelsinfo:t,inntektskategori:i,arbeidsforholdId:a}},RL=e=>e.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.UlikeAndeler"}),PL=(e,n)=>n.andelsinfo===e.andelsinfo&&n.inntektskategori===e.inntektskategori&&e.arbeidsforholdId===n.arbeidsforholdId,Xc=(e,n,r)=>{const t=e.map(i=>n(i,e)).slice().sort((i,s)=>FL(i,s));for(let i=0;i<t.length-1;i+=1)if(PL(t[i],t[i+1]))return RL(r);return null},BL=(e,n)=>Xc(e,NL,n),OL=e=>e.formatMessage({id:"BeregningInfoPanel.Validation.MinstEnFastsatt"}),$L=(e,n)=>e.some(({fastsattBelop:r})=>r!==null&&r!==""&&r!==void 0)?null:OL(n),VL="_row_vbpg7_1",DL="_slettIkon_vbpg7_10",GL="_rightAlign_vbpg7_13",LL="_rightAlignInput_vbpg7_16",ML="_inntektTable_vbpg7_24",KL="_buttonRow_vbpg7_59",wL="_addPeriode_vbpg7_62",UL="_customLink_vbpg7_63",CL="_removeButton_vbpg7_64",YL="_addCircleIcon_vbpg7_72",zL="_imageText_vbpg7_73",HL="_storBredde_vbpg7_78",JL="_mediumBredde_vbpg7_81",qL="_flexColumn3_vbpg7_84",fn={row:VL,slettIkon:DL,rightAlign:GL,rightAlignInput:LL,inntektTable:ML,buttonRow:KL,addPeriode:wL,customLink:UL,removeButton:CL,addCircleIcon:YL,imageText:zL,storBredde:HL,mediumBredde:JL,flexColumn3:qL},WL=(e,n)=>{var r;return{andel:(r=n[be.AKTIVITET_STATUS].find(t=>t.kode===e.filter(i=>i===R.BRUKERS_ANDEL)[0]))==null?void 0:r.navn,fastsattBelop:"",inntektskategori:"",nyAndel:!0,lagtTilAvSaksbehandler:!0}},ZL=e=>e.map(n=>h.jsx("option",{value:n.kode,children:n.navn},n.kode)),XL=e=>{let n=0;return e.forEach(r=>{n+=r.fastsattBelop?me(r.fastsattBelop):0}),n>0?q(n):""};function QL(e,n,r){return(n[e].nyAndel||n[e].lagtTilAvSaksbehandler)&&!r}const eM=(e,n,r,t,i,s,a)=>e.map((l,o)=>h.jsxs(nn,{className:fn.row,children:[h.jsx(W,{children:h.jsx(m,{id:"BeregningInfoPanel.FordelingBG.Ytelse"})}),h.jsx(W,{className:fn.rightAlignInput,children:h.jsx(xe,{name:`${s}.${o}.fastsattBelop`,className:fn.mediumBredde,parse:Ne,readOnly:r,isEdited:n,validate:r?[]:[X,ln(178956970)],label:i.formatMessage({id:"BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn"},{andel:`ytelse ${o+1}`}),hideLabel:!0})}),h.jsx(W,{className:fn.rightAlign,children:h.jsx(pt,{label:i.formatMessage({id:"BeregningInfoPanel.FordelingBG.InntektskategoriMedAndelnavn"},{andel:`ytelse ${o+1}`}),name:`${s}.${o}.inntektskategori`,className:fn.storBredde,selectValues:ZL(t),readOnly:r,validate:r?[]:[X],hideLabel:!0})}),h.jsx(W,{children:QL(o,e,r)&&h.jsx(se,{icon:h.jsx(Wn,{"aria-hidden":!0,className:fn.slettIkon}),onClick:()=>a(o),type:"button",variant:"tertiary"})})]},l.id)),nM=e=>h.jsxs(nn,{children:[h.jsx(W,{children:h.jsx(m,{id:"BeregningInfoPanel.FordelingBG.Sum"})}),h.jsx(W,{className:fn.rightAlign,children:h.jsx(ke,{children:e})}),h.jsx(W,{})]},"bruttoBGSummaryRow"),rM=()=>["BeregningInfoPanel.FordelingBG.Andel","BeregningInfoPanel.FordelingBG.Fordeling","BeregningInfoPanel.FordelingBG.Inntektskategori"],tM=e=>e[be.INNTEKTSKATEGORI].slice().sort((n,r)=>n.navn.localeCompare(r.navn)),iM=e=>{const{andel:n,inntektskategori:r}=e;return{andelsinfo:n,inntektskategori:r}},sM=(e,n)=>Xc(e,iM,n)||null,Qc=({name:e,readOnly:n,isAksjonspunktClosed:r,kodeverkSamling:t})=>{var i;const s=te(),{control:a}=je(),l=K.useContext(Ke),o=`${_n}.${l}.${e}`,{fields:k,append:u,remove:f}=ze({control:a,name:o}),c=(i=t[be.AKTIVITET_STATUS])==null?void 0:i.map(O=>O.kode),b=tM(t),x=Mn({name:o,control:a}),T=XL(x)||0,N=eM(k,r,n,b,s,o,f);N.push(nM(T));const S=sM(x,s),B=`${o}.skjemagruppe`,y=Pr(B,S);return h.jsxs("div",{children:[h.jsx(kn,{headerTextCodes:rM(),noHover:!0,classNameTable:fn.inntektTable,children:N}),!n&&h.jsx(L,{className:fn.buttonRow,children:h.jsx(E,{className:fn.flexColumn3,children:h.jsx(se,{icon:h.jsx(ct,{"aria-hidden":!0,className:fn.addCircleIcon}),onClick:()=>u(WL(c,t)),type:"button",variant:"tertiary",children:h.jsx(ke,{className:fn.imageText,children:h.jsx(m,{id:"BeregningInfoPanel.FordelingBG.LeggTilAndel"})})})})}),h.jsx(I,{eightPx:!0}),y&&h.jsx(Un,{children:y})]})},_o="besteberegningField",Ft=({readOnly:e,isAksjonspunktClosed:n,brukersAndelFieldArrayName:r,skalViseInntektstabell:t,kodeverkSamling:i})=>{const{getValues:s}=je(),a=K.useContext(Ke),l=s(`${_n}.${a}`)[_o],o=te();return h.jsxs("div",{children:[h.jsx(pe,{name:`vurderFaktaBeregningForm.${a}.besteberegningField`,isReadOnly:e,label:h.jsx(m,{id:"KunYtelsePanel.HarBesteberegning"}),radios:[{value:"true",label:o.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:o.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:e?[]:[X],parse:On,isHorizontal:!0}),l!=null&&h.jsxs(_d,{alignOffset:l?0:60,children:[h.jsxs(L,{children:[h.jsx(E,{className:Ir.flexColumn9,children:h.jsx(w,{size:"small",children:h.jsx(m,{id:"KunYtelsePanel.OverskriftBesteberegning"})})}),l&&h.jsx(E,{className:Ir.flexColumn3,children:h.jsx("a",{className:Ir.navetLink,href:ma,target:"_blank",rel:"noopener noreferrer",children:h.jsx(m,{id:"BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet"})})})]}),t&&h.jsx(L,{children:h.jsx(E,{className:Ir.flexColumn12,children:h.jsx(Qc,{name:r,readOnly:e,isAksjonspunktClosed:n,kodeverkSamling:i})})})]})]})};Ft.defaultProps={erBesteberegning:void 0,skalViseInntektstabell:!0};Ft.buildInitialValues=e=>({[_o]:e.erBesteberegning});Ft.transformValues=e=>e[_o];const aM="_flexColumn9_csgl6_1",lM={flexColumn9:aM},dM=({readOnly:e,brukersAndelFieldArrayName:n,kodeverkSamling:r,isAksjonspunktClosed:t})=>h.jsxs(Tm,{children:[h.jsx(L,{children:h.jsx(E,{className:lM.flexColumn9,children:h.jsx(w,{size:"small",children:h.jsx(m,{id:"KunYtelsePanel.Overskrift"})})})}),h.jsx(Qc,{name:n,readOnly:e,isAksjonspunktClosed:t,kodeverkSamling:r})]}),ai="brukersAndelBG",Cr=({readOnly:e,faktaOmBeregning:n,isAksjonspunktClosed:r,skalViseInntektstabell:t,kodeverkSamling:i})=>{const{kunYtelse:s}=n,a=s.fodendeKvinneMedDP;return h.jsxs("div",{children:[a&&h.jsx(Ft,{readOnly:e,isAksjonspunktClosed:r,brukersAndelFieldArrayName:ai,skalViseInntektstabell:t,kodeverkSamling:i}),!a&&t&&h.jsx(dM,{readOnly:e,brukersAndelFieldArrayName:ai,isAksjonspunktClosed:r,kodeverkSamling:i})]})};Cr.defaultProps={skalViseInntektstabell:!0};Cr.buildInitialValues=(e,n,r,t)=>{if(!e||!e.andeler||e.andeler.length===0)return{};const i=e.andeler.map(a=>{const l=n.find(o=>o.andelsnr===a.andelsnr);if(!l)throw new Error(`Finner ikke faktaAndel med andelsnr ${a.andelsnr}`);return{...zc(l,r,t),fastsattBelop:q(a.fastsattBelopPrMnd)||""}}),s={[ai]:i};return e.fodendeKvinneMedDP?{...Ft.buildInitialValues(e),...s}:s};Cr.summerFordeling=e=>e[ai].map(({fastsattBelop:n})=>n?me(n):0).reduce((n,r)=>n+r,0);Cr.transformValues=(e,n)=>({kunYtelseFordeling:{andeler:e[ai].map(r=>({andelsnr:r.andelsnr,fastsattBeløp:me(r.fastsattBelop),inntektskategori:r.inntektskategori,nyAndel:r.nyAndel,lagtTilAvSaksbehandler:r.lagtTilAvSaksbehandler})),skalBrukeBesteberegning:n.fodendeKvinneMedDP?Ft.transformValues(e):null}});const{FASTSETT_BG_KUN_YTELSE:Qs,VURDER_BESTEBEREGNING:oM}=P,gM=(e,n,r,t,i,s)=>{n.includes(Qs)&&e.push(h.jsx(K.Fragment,{children:h.jsx(Cr,{readOnly:r,isAksjonspunktClosed:t,faktaOmBeregning:i,kodeverkSamling:s})},"FASTSETT_BG_KUN_YTELSE"))},uM=(e,n,r)=>{if(r.includes(Qs)){const t=Cr.transformValues(e,n),i=[Qs];return n.fodendeKvinneMedDP&&i.push(oM),{faktaOmBeregningTilfeller:i,...t}}return{}},kM=(e,n,r,t,i)=>n&&n.includes(Qs)?Cr.buildInitialValues(e,r,t,i):{},So="erSNNyIArbeidslivet",$i=({readOnly:e})=>{const n=K.useContext(Ke),r=te();return h.jsx("div",{children:h.jsx(pe,{label:h.jsx(_,{children:h.jsx(m,{id:"BeregningInfoPanel.NyIArbeidslivet.SelvstendigNaeringsdrivende"})}),name:`vurderFaktaBeregningForm.${n}.${So}`,validate:[X],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:On,isHorizontal:!0})})};$i.buildInitialValues=e=>{var n;const r={};if(!e||!e.beregningsgrunnlagPeriode)return r;const t=e.beregningsgrunnlagPeriode.map(i=>i.beregningsgrunnlagPrStatusOgAndel).flat().filter(i=>(i==null?void 0:i.aktivitetStatus)===R.SELVSTENDIG_NAERINGSDRIVENDE);return t.length>0&&(r[So]=(n=t[0])==null?void 0:n.erNyIArbeidslivet),r};$i.transformValues=e=>({vurderNyIArbeidslivet:{erNyIArbeidslivet:e[So]}});const mM="BeregningInfoPanel.TidsbegrensetArbFor.Arbeidsforhold",Fo=e=>e&&e.arbeidsforhold?`${e.arbeidsforhold.arbeidsgiverIdent}(${e.arbeidsforhold.arbeidsforholdId})(${e.andelsnr})`:"",gk=(e,n)=>{const r=n[e.arbeidsgiverIdent];return yt(r,e.eksternArbeidsforholdId)},Vi=({readOnly:e,faktaOmBeregning:n,arbeidsgiverOpplysningerPerId:r})=>{const t=n.kortvarigeArbeidsforhold,i=K.useContext(Ke),s=te();return h.jsx("div",{children:t.map(a=>h.jsx("div",{children:h.jsx(pe,{label:h.jsx(_,{children:h.jsx(m,{id:mM,values:{navn:gk(a.arbeidsforhold,r),fom:A(a.arbeidsforhold.startdato).format(ie),tom:A(a.arbeidsforhold.opphoersdato).format(ie)}})}),name:`vurderFaktaBeregningForm.${i}.tidsbegrensetValues.${Fo(a)}`,isReadOnly:e,radios:[{value:"true",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[X],parse:On,isHorizontal:!0})},`fastsettTidsbegrensedeForhold_${gk(a.arbeidsforhold,r)}`))})};Vi.buildInitialValues=e=>{const n={};return e&&e.forEach(r=>{r.erTidsbegrensetArbeidsforhold!==void 0&&(n[Fo(r)]=r.erTidsbegrensetArbeidsforhold)}),n};Vi.transformValues=(e,n)=>{const r=[];return n.forEach(t=>{const i=Fo(t),s=e.tidsbegrensetValues[i],a={andelsnr:t.andelsnr,tidsbegrensetArbeidsforhold:s,opprinneligVerdi:t.erTidsbegrensetArbeidsforhold};r.push(a)}),{vurderTidsbegrensetArbeidsforhold:{fastsatteArbeidsforhold:r}}};const No="vurderMilitær",Di=({readOnly:e})=>{const n=K.useContext(Ke),r=te();return h.jsx("div",{children:h.jsx(pe,{label:h.jsx(_,{children:h.jsx(m,{id:"BeregningInfoPanel.VurderMilitaer.HarSøkerMilitærinntekt"})}),name:`vurderFaktaBeregningForm.${n}.${No}`,isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[X],parse:On,isHorizontal:!0})})};Di.buildInitialValues=e=>{const n={};return!e||!e.vurderMilitaer||(n[No]=e.vurderMilitaer.harMilitaer),n};Di.transformValues=e=>({vurderMilitaer:{harMilitaer:e[No]}});const fM=[P.VURDER_NYOPPSTARTET_FL,P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON],vM=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForArbeid",cM=(e,n,r)=>{var t;const i=r[e.arbeidsgiverIdent];let s;return i?s=yt(i,e.eksternArbeidsforholdId):s=e.arbeidsforholdType?(t=n[be.OPPTJENING_AKTIVITET_TYPE].find(a=>a.kode===e.arbeidsforholdType))==null?void 0:t.navn:"",h.jsx(m,{id:vM(),values:{arbeid:s}})},pM=(e,n,r,t,i,s)=>h.jsx("div",{children:h.jsx(pe,{label:h.jsx(_,{children:cM(e.arbeidsforhold,r,t)}),name:`vurderFaktaBeregningForm.${i}.vurderMottarYtelseValues.${kt(e)}`,isReadOnly:n,radios:[{value:"true",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:On,validate:n?[]:[X],isHorizontal:!0})},kt(e)),hM=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilansUtenFrilans",bM=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilans",jM=e=>e.some(n=>fM.includes(n))?hM():bM(),Gi=({readOnly:e,beregningsgrunnlag:n,tilfeller:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i})=>{const s=K.useContext(Ke),a=n.faktaOmBeregning?n.faktaOmBeregning.vurderMottarYtelse:void 0,l=a&&a.erFrilans,o=a&&a.arbeidstakerAndelerUtenIM?a.arbeidstakerAndelerUtenIM:[],k=te();return h.jsxs("div",{children:[l&&h.jsx("div",{children:h.jsx(pe,{label:h.jsx("div",{children:h.jsx(_,{children:h.jsx(m,{id:jM(r)})})},mt()),name:`vurderFaktaBeregningForm.${s}.vurderMottarYtelseValues.${mt()}`,isReadOnly:e,radios:[{value:"true",label:k.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:k.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:On,validate:e?[]:[X],isHorizontal:!0})}),o.map(u=>h.jsx(h.Fragment,{children:pM(u,e,t,i,s,k)}))]})},xM=(e,n,r,t,i,s)=>{if(n===null)return{};if(lL(e,r.vurderMottarYtelse)){const a=[],l=Yc(e,r.vurderMottarYtelse,t);return r.vurderMottarYtelse.arbeidstakerAndelerUtenIM.forEach(o=>{if(l[o.andelsnr]&&!i.includes(o.andelsnr)){const k=n.find(u=>u.andelsnr===o.andelsnr).fastsattBelop;(k||k===0)&&(a.push({andelsnr:o.andelsnr,fastsattBeløp:me(k)}),i.push(o.andelsnr))}}),a.length>0?(s.push(P.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING),{fastsattUtenInntektsmelding:{andelListe:a}}):{}}return{}},IM=(e,n,r,t,i)=>{if(n===null)return{};if(e.vurderMottarYtelseValues[mt()]){const s=r.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(a=>a.aktivitetStatus===R.FRILANSER);if(!t.includes(s.andelsnr)&&Cc(e)){const a=n.find(l=>l.andelsnr===s.andelsnr);return t.push(s.andelsnr),i.push(P.FASTSETT_MAANEDSINNTEKT_FL),{fastsettMaanedsinntektFL:{maanedsinntekt:me(a.fastsattBelop)}}}return{}}return{}},AM=(e,n,r)=>{const t=n.vurderMottarYtelse.arbeidstakerAndelerUtenIM?n.vurderMottarYtelse.arbeidstakerAndelerUtenIM:[];return r.push(P.VURDER_MOTTAR_YTELSE),{mottarYtelse:{frilansMottarYtelse:e.vurderMottarYtelseValues[mt()],arbeidstakerUtenIMMottarYtelse:t.map(i=>({andelsnr:i.andelsnr,mottarYtelse:e.vurderMottarYtelseValues[kt(i)]}))}}};Gi.buildInitialValues=e=>{const n={};if(!e)return n;e.erFrilans&&(n[mt()]=e.frilansMottarYtelse);const r=e.arbeidstakerAndelerUtenIM?e.arbeidstakerAndelerUtenIM:[];return r.length<1||r.forEach(t=>{n[kt(t)]=t.mottarYtelse}),n};Gi.transformValues=(e,n,r,t,i)=>{const s=[];return(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).map(a=>a).includes(P.VURDER_MOTTAR_YTELSE)?{...AM(e,r,s),...xM(e,n,r,t,i,s),...IM(e,n,t,i,s),faktaOmBeregningTilfeller:s}:{}};const TM="_buttonRow_11vqq_1",EM="_addPeriode_11vqq_4",yM="_customLink_11vqq_5",_M="_removeButton_11vqq_6",SM="_addCircleIcon_11vqq_14",FM="_imageText_11vqq_15",NM="_flexColumn_11vqq_20",os={buttonRow:TM,addPeriode:EM,customLink:yM,removeButton:_M,addCircleIcon:SM,imageText:FM,flexColumn:NM},RM=e=>({andel:e.filter(({kode:n})=>n===R.DAGPENGER)[0].navn,aktivitetStatus:R.DAGPENGER,fastsattBelop:"",inntektskategori:hn.DAGPENGER,nyAndel:!0,skalKunneEndreAktivitet:!0,lagtTilAvSaksbehandler:!0}),uk=({leggTilAndel:e,kodeverkSamling:n})=>{const r=n[be.AKTIVITET_STATUS];return h.jsx(L,{className:os.buttonRow,children:h.jsx(E,{className:os.flexColumn,children:h.jsx(se,{icon:h.jsx(ct,{"aria-hidden":!0,className:os.addCircleIcon}),onClick:()=>e(RM(r)),type:"button",variant:"tertiary",children:h.jsx(ke,{className:os.imageText,children:h.jsx(m,{id:"BeregningInfoPanel.FordelingBG.LeggTilDagpengerAndel"})})})})})},PM="_slettIkon_1j5jk_1",BM="_rightAlign_1j5jk_4",OM="_rightAlignInput_1j5jk_7",$M="_inntektTable_1j5jk_21",VM="_buttonRow_1j5jk_72",DM="_addPeriode_1j5jk_75",GM="_customLink_1j5jk_76",LM="_removeButton_1j5jk_77",MM="_addCircleIcon_1j5jk_80",KM="_imageText_1j5jk_81",wM="_readOnlyContainer_1j5jk_86",UM="_readOnlyContent_1j5jk_89",CM="_storBredde_1j5jk_94",YM="_mediumBredde_1j5jk_97",zM="_litenBredde_1j5jk_100",sn={slettIkon:PM,rightAlign:BM,rightAlignInput:OM,inntektTable:$M,buttonRow:VM,addPeriode:DM,customLink:GM,removeButton:LM,addCircleIcon:MM,imageText:KM,readOnlyContainer:wM,readOnlyContent:UM,storBredde:CM,mediumBredde:YM,litenBredde:zM},HM=(e,n)=>{const r=[];return r.push("BeregningInfoPanel.FordelingBG.Andel"),e&&r.push("BeregningInfoPanel.FordelingBG.Arbeidsperiode"),r.push("BeregningInfoPanel.FordelingBG.Fordeling"),n&&r.push("BeregningInfoPanel.FordelingBG.Refusjonskrav"),r.push("BeregningInfoPanel.FordelingBG.Inntektskategori"),r},JM=e=>e.map(n=>h.jsx("option",{value:n.kode,children:n.navn},n.kode)),qM=e=>e[be.INNTEKTSKATEGORI].slice().sort((n,r)=>n.navn.localeCompare(r.navn)),WM=({field:e,skalVisePeriode:n,skalViseRefusjon:r,skalViseSletteknapp:t,readOnly:i,isAksjonspunktClosed:s,removeAndel:a,beregningsgrunnlag:l,kodeverkSamling:o,rowName:k,skalFastsetteInntektForAndel:u})=>{const f=te(),{getValues:c}=je(),b=K.useContext(Ke),x=c(`vurderFaktaBeregningForm.${b}`),T=ft(x,l)(e),N=_L(l)(e),S=qM(o),B=e.arbeidsperiodeFom||e.arbeidsperiodeTom;return h.jsxs(nn,{children:[h.jsx(W,{children:h.jsx(xe,{name:`${k}.andel`,className:sn.storBredde,readOnly:!0})}),h.jsx(W,{children:n&&B&&h.jsx(xm,{value:h.jsx(Ye,{dateStringFom:e.arbeidsperiodeFom,dateStringTom:e.arbeidsperiodeTom})})}),T&&h.jsx(W,{className:sn.rightAlignInput,children:h.jsx(xe,{label:f.formatMessage({id:"BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn"},{andel:e.andel}),name:`${k}.fastsattBelop`,parse:Ne,className:sn.mediumBredde,readOnly:i,isEdited:s,validate:u(e)?[X,ln(178956970)]:[],hideLabel:!0})}),!T&&h.jsx(W,{className:sn.rightAlign,children:h.jsx(xe,{name:`${k}.belopReadOnly`,className:sn.mediumBredde,parse:Ne,readOnly:!0})}),r&&h.jsx(W,{className:sn.rightAlign,children:h.jsx(xe,{name:`${k}.refusjonskrav`,className:sn.litenBredde,readOnly:!0,parse:Ne})}),h.jsx(W,{className:sn.rightAlign,children:h.jsx(pt,{label:f.formatMessage({id:"BeregningInfoPanel.FordelingBG.Inntektskategori"}),name:`${k}.inntektskategori`,className:sn.storBredde,selectValues:JM(S),validate:i?[]:[X],readOnly:i||!N,hideLabel:!0})}),h.jsx(W,{children:t&&h.jsx(se,{icon:h.jsx(Wn,{"aria-hidden":!0,className:sn.slettIkon}),onClick:()=>a(),type:"button",variant:"tertiary"})})]})},ZM=(e,n,r)=>{let t=0;return e.forEach(i=>{const s=ft(n,r)(i)?i.fastsattBelop:i.belopReadOnly;t+=s?me(s):0}),t>0?t:0},XM=({skalVisePeriode:e,skalViseRefusjon:n,readOnly:r,beregningsgrunnlag:t})=>{const{control:i,getValues:s}=je(),a=K.useContext(Ke),l=s(`vurderFaktaBeregningForm.${a}`),o=Mn({control:i,name:`vurderFaktaBeregningForm.${a}.inntektFieldArray`}),k=ZM(o,l,t)||0;return h.jsxs(nn,{children:[h.jsx(W,{children:h.jsx(m,{id:"BeregningInfoPanel.FordelingBG.Sum"})}),e&&h.jsx(W,{}),h.jsx(W,{className:sn.rightAlign,children:h.jsx("div",{className:sn.readOnlyContainer,children:h.jsx(_,{"data-testid":"sum",className:r?sn.readOnlyContent:"",children:q(k)})})}),n&&h.jsx(W,{}),h.jsx(W,{})]})},QM=e=>({andel:e.find(({kode:n})=>n===R.DAGPENGER).navn,aktivitetStatus:R.DAGPENGER,fastsattBelop:"",inntektskategori:hn.DAGPENGER,nyAndel:!0,skalKunneEndreAktivitet:!1,lagtTilAvSaksbehandler:!0}),e3=e=>({andel:e.find(({kode:n})=>n===R.MILITAER_ELLER_SIVIL).navn,aktivitetStatus:R.MILITAER_ELLER_SIVIL,fastsattBelop:"",inntektskategori:hn.ARBEIDSTAKER,nyAndel:!0,skalKunneEndreAktivitet:!1,lagtTilAvSaksbehandler:!0}),n3=(e,n,r)=>n[e].skalKunneEndreAktivitet===!0&&!r,ud=e=>{let n=!1;return e.forEach(r=>{r.refusjonskrav!==""&&r.refusjonskrav!==null&&r.refusjonskrav!==void 0&&(n=!0)}),n},kd=e=>{let n=!1;return e.forEach(r=>{r.arbeidsgiverId!==""&&(n=!0)}),n},r3=(e,n)=>()=>{n(e)},t3=(e,n,r)=>h.jsx(XM,{readOnly:n,skalVisePeriode:kd(e),skalViseRefusjon:ud(e),beregningsgrunnlag:r},"summaryRow"),ep=(e,n)=>{let r=-1;return e.forEach((t,i)=>{t.aktivitetStatus===n&&(r=i)}),r},kk=e=>ep(e,R.DAGPENGER)!==-1,np=(e,n,r,t,i,s,a,l)=>{const o=ep(e,n);if(o!==-1){const k=e[o];t(k)&&a(o)}o===-1&&r&&l({...i,kanRedigereInntekt:s()(i)})},i3=(e,n,r,t,i,s,a)=>{np(e,R.DAGPENGER,n,l=>!n&&!t&&l.lagtTilAvSaksbehandler,QM(r),i,s,a)},s3=(e,n,r,t,i,s)=>{np(e,R.MILITAER_ELLER_SIVIL,n===!0,()=>n===!1,e3(r),t,i,s)},a3=(e,n)=>$L(e,n)??null,l3=(e,n,r)=>n&&n.length>0?null:BL(e.inntektFieldArray,r)||(Sa(e)?a3(e.inntektFieldArray,r):null),Nt=({readOnly:e,skalKunneLeggeTilDagpengerManuelt:n,beregningsgrunnlag:r,isAksjonspunktClosed:t,kodeverkSamling:i})=>{var s,a;const{getValues:l,control:o,formState:k}=je(),{errors:u}=k,f=K.useContext(Ke),c=`vurderFaktaBeregningForm.${f}.inntektFieldArray`,{fields:b,remove:x,append:T,update:N}=ze({control:o,name:c}),S=Mn({control:o,name:`vurderFaktaBeregningForm.${f}`}),B=Mn({control:o,name:`vurderFaktaBeregningForm.${f}.vurderbesteberegningField`}),y=Mn({control:o,name:`vurderFaktaBeregningForm.${f}.vurderMilitær`}),O=te(),$=j.useCallback(()=>ft(S,r),[S,r]);j.useEffect(()=>{const C=l(`vurderFaktaBeregningForm.${f}.inntektFieldArray`),Z=i[be.AKTIVITET_STATUS];s3(C,y,Z,$,x,T),i3(C,B,Z,n,$,x,T)},[B,y,n]);const D=(C,Z)=>{N(C,{...b[C],kanRedigereInntekt:Z})};j.useEffect(()=>{b.forEach((C,Z)=>{const H=C.kanRedigereInntekt,ae=ft(S,r)(C);!(!B&&!n&&C.lagtTilAvSaksbehandler)&&H!==ae&&D(Z,ae)})},[S]);const Y=(a=(s=u==null?void 0:u.vurderFaktaBeregningForm)==null?void 0:s[f])==null?void 0:a.inntektFieldArray,ne=l3(S,Y,O),ee=`${c}.skjemagruppe`,U=Pr(ee,ne),V=b.map((C,Z)=>h.jsx(WM,{field:C,skalVisePeriode:kd(b),skalViseRefusjon:ud(b),skalViseSletteknapp:n3(Z,b,e),readOnly:e,removeAndel:r3(Z,x),beregningsgrunnlag:r,isAksjonspunktClosed:t,kodeverkSamling:i,rowName:`${c}.${Z}`,skalFastsetteInntektForAndel:Zc(S,r.faktaOmBeregning,r)},C.id));return V.length===0?n?h.jsxs("div",{children:[!e&&!kk(b)&&h.jsx(uk,{leggTilAndel:T,kodeverkSamling:i}),h.jsx(I,{eightPx:!0}),U&&h.jsx(Un,{children:U})]}):null:(V.push(t3(b,e,r)),h.jsxs("div",{children:[h.jsx(kn,{headerTextCodes:HM(kd(b),ud(b)),noHover:!0,classNameTable:sn.inntektTable,children:V}),!e&&n&&!kk(b)&&h.jsx(uk,{leggTilAndel:T,kodeverkSamling:i}),h.jsx(I,{eightPx:!0}),U&&h.jsx(Un,{children:U})]}))};Nt.defaultProps={skalKunneLeggeTilDagpengerManuelt:!1};Nt.transformValues=e=>e?e.filter(({kanRedigereInntekt:n})=>n).filter(({fastsattBelop:n})=>n!==null&&n!=="").map(n=>({andelsnr:n.andelsnr,fastsattBelop:me(n.fastsattBelop),inntektskategori:n.inntektskategori,nyAndel:n.nyAndel,lagtTilAvSaksbehandler:n.lagtTilAvSaksbehandler,aktivitetStatus:n.aktivitetStatus,arbeidsforholdId:n.arbeidsforholdId,arbeidsgiverId:n.arbeidsgiverId})):null;Nt.buildInitialValues=(e,n,r)=>!e||e.length===0?[]:e.map(t=>SL(t,n,r));const d3=e=>e.arbeidsforhold&&e.arbeidsforhold.organisasjonstype&&e.arbeidsforhold.organisasjonstype===ui.KUNSTIG,o3=(e,n)=>e.includes(P.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING)?n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(d3)!==void 0:!1,g3=(e,n)=>n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(r=>r.andelsnr===e.andelsnr&&r.arbeidsforhold&&r.arbeidsforhold.organisasjonstype&&r.arbeidsforhold.organisasjonstype===ui.KUNSTIG)!==void 0,u3=(e,n,r,t,i)=>{const s=r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[];if(!s.map(o=>o).includes(P.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING)&&!s.map(o=>o).includes(P.VURDER_LONNSENDRING))return{};if(!n)return{};const a=n.filter(o=>!i.includes(o.andelsnr)).filter(o=>Zv(o,t,o.arbeidsforholdId)||g3(o,t)||g$(o,r,e));a.forEach(o=>i.push(o.andelsnr));const l=a.map(o=>({andelsnr:o.andelsnr,fastsattBeløp:me(o.fastsattBelop),inntektskategori:o.inntektskategori}));return l.length>0?{faktaOmBeregningTilfeller:[P.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING],fastsattUtenInntektsmelding:{andelListe:l}}:{}},k3=(e,n,r)=>{if((n.faktaOmBeregningTilfeller?n.faktaOmBeregningTilfeller:[]).map(t=>t).includes(P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON)&&e){const t=e.filter(i=>!r.includes(i.andelsnr)).filter(i=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe.map(({andelsnr:s})=>s).includes(i.andelsnr)).map(i=>({andelsnr:i.andelsnr,arbeidsinntekt:i.fastsattBelop}));if(n.frilansAndel&&!r.includes(n.frilansAndel.andelsnr)){const i=e.find(s=>s.andelsnr===n.frilansAndel.andelsnr);t.push({andelsnr:n.frilansAndel.andelsnr,arbeidsinntekt:i.fastsattBelop})}if(t.forEach(i=>r.push(i.andelsnr)),t.length>0)return{faktaOmBeregningTilfeller:[P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON],vurderATogFLiSammeOrganisasjon:{vurderATogFLiSammeOrganisasjonAndelListe:t}}}return{faktaOmBeregningTilfeller:[]}},m3=e=>e.faktaOmBeregning.faktaOmBeregningTilfeller?e.faktaOmBeregning.faktaOmBeregningTilfeller.map(n=>n).includes(P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON):!1,f3=({beregningsgrunnlag:e,manglerInntektsmelding:n})=>m3(e)?n?h.jsx(_,{children:h.jsx(m,{id:"BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrgUtenIM"})}):h.jsx(_,{children:h.jsx(m,{id:"BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrg"})}):null,v3=(e,n)=>{const r=i=>ft(e,n)(i),t=e[_a];return t?t.filter(i=>i.aktivitetStatus===R.ARBEIDSTAKER).map(r).includes(!0):!1},c3=(e,n)=>{const r=i=>ft(e,n)(i),t=e[_a];return t?t.filter(i=>i.aktivitetStatus===R.FRILANSER).map(r).includes(!0):!1},p3=e=>{const{faktaOmBeregning:n}=e;return n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&n.arbeidstakerOgFrilanserISammeOrganisasjonListe.length>0?n.arbeidstakerOgFrilanserISammeOrganisasjonListe.find(r=>!r.inntektPrMnd)!==void 0:!1},h3=e=>!e.includes(P.FASTSETT_BG_KUN_YTELSE),b3=(e,n,r,t)=>t?"BeregningInfoPanel.KunstigArbeidsforhold.FastsettKunstigArbeidsforhold":e?"KunYtelsePanel.OverskriftBesteberegning":n?r?"BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLAlleOppdrag":"BeregningInfoPanel.VurderOgFastsettATFL.FastsettFrilans":r?"BeregningInfoPanel.VurderOgFastsettATFL.FastsettArbeidsinntekt":"",j3=(e,n,r,t,i)=>h.jsx(Nt,{readOnly:e,skalKunneLeggeTilDagpengerManuelt:i,beregningsgrunnlag:n,kodeverkSamling:t,isAksjonspunktClosed:r}),Li=({readOnly:e,isAksjonspunktClosed:n,tilfeller:r,beregningsgrunnlag:t,avklaringsbehov:i,kodeverkSamling:s,erOverstyrer:a,arbeidsgiverOpplysningerPerId:l,updateOverstyring:o})=>{const{getValues:k}=je(),u=K.useContext(Ke),f=k(`vurderFaktaBeregningForm.${u}`),c=j.useMemo(()=>Wc(f),[f,t,i]),b=j.useMemo(()=>v3(f,t),[f,t]),x=j.useMemo(()=>c3(f,t),[f,t]),T=f[Nr]===!0,N=j.useMemo(()=>p3(t),[t]),S=j.useMemo(()=>h3(r),[r]),B=j.useMemo(()=>o3(r,t),[r,t]);return h.jsx("div",{children:h.jsxs(xa,{tabell:j3(e,t,n,s,c),skalViseTabell:S,hjelpeTekstId:b3(T,x,b,B),readOnly:e,erOverstyrer:a,avklaringsbehov:i,updateOverstyring:o,erOverstyrt:c,children:[h.jsx(f3,{beregningsgrunnlag:t,manglerInntektsmelding:N}),r.includes(P.VURDER_LONNSENDRING)&&h.jsx(Ni,{readOnly:e}),r.includes(P.VURDER_ETTERLONN_SLUTTPAKKE)&&h.jsx(Oi,{readOnly:e}),r.includes(P.VURDER_NYOPPSTARTET_FL)&&h.jsx(Ri,{readOnly:e}),r.includes(P.VURDER_MOTTAR_YTELSE)&&h.jsx(Gi,{readOnly:e,isAksjonspunktClosed:n,tilfeller:r,beregningsgrunnlag:t,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:l}),r.includes(P.VURDER_BESTEBEREGNING)&&!r.includes(P.FASTSETT_BG_KUN_YTELSE)&&h.jsx(Fi,{readOnly:e,erOverstyrt:c})]},"inntektstabell")})};Li.buildInitialValues=(e,n,r,t)=>{if(!e)return{};const i=e.andelerForFaktaOmBeregning;return i.length===0?{}:{[_a]:Nt.buildInitialValues(i,r,t),...xa.buildInitialValues(n)}};const hr=(e,n)=>({...e,...n,faktaOmBeregningTilfeller:n.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller.concat(n.faktaOmBeregningTilfeller):e.faktaOmBeregningTilfeller}),x3=(e,n,r,t)=>{if(Sa(e)){const i=r.filter(s=>!t.includes(s.andelsnr)).filter(s=>s.fastsattBelop!=null).map(s=>({andelsnr:s.andelsnr,nyAndel:s.nyAndel,aktivitetStatus:s.aktivitetStatus,lagtTilAvSaksbehandler:s.lagtTilAvSaksbehandler,fastsatteVerdier:{fastsattBeløp:s.fastsattBelop,inntektskategori:s.inntektskategori}}));return{fakta:n,overstyrteAndeler:i}}return{fakta:n}},I3=(e,n,r,t,i)=>{const s=t.faktaOmBeregningTilfeller?t.faktaOmBeregningTilfeller.map(l=>l):[];let a={faktaOmBeregningTilfeller:[]};if(s.length>0){a=hr(a,e$(t)(e,n));const l=e[Nr]===!0;a=hr(a,Ri.transformValues(e,l?null:n,t,r)),a=hr(a,Oi.transformValues(e,l?null:n,t,r)),a=hr(a,Ni.transformValues(e,t)),a=hr(a,Gi.transformValues(e,l?null:n,t,i,r)),a=hr(a,k3(l?null:n,t,r)),a=hr(a,u3(e,l?null:n,t,i,r))}return a};Li.transformValues=(e,n)=>r=>{const t=Nt.transformValues(r[_a]),i=[],s=I3(r,t,i,e,n);return x3(r,s,t,i)};const{VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT:A3}=P,T3="erKravGyldig_",Ro=e=>T3+e,E3=(e,n,r,t)=>e.map(i=>{const{arbeidsgiverIdent:s}=i,a=r[s],l=a?yt(a):s,o=te();return h.jsxs(K.Fragment,{children:[h.jsx(I,{twentyPx:!0}),h.jsx(pe,{label:h.jsx(m,{id:"VurderRefusjonForm.ErRefusjonskravGyldig",values:{arbeidsgiverVisningsnavn:l}}),name:`vurderFaktaBeregningForm.${t}.vurderRefusjonValues.${Ro(s)}`,validate:[X],isReadOnly:n,radios:[{value:"true",label:o.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:o.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:On,isHorizontal:!0})]},s)}),Mi=({readOnly:e,faktaOmBeregning:n,arbeidsgiverOpplysningerPerId:r})=>{const t=K.useContext(Ke),i=n==null?void 0:n.refusjonskravSomKommerForSentListe;return h.jsx(h.Fragment,{children:E3(i,e,r,t)})};Mi.transformValues=e=>n=>e.length===0?{}:{refusjonskravGyldighet:e.map(({arbeidsgiverIdent:r})=>({arbeidsgiverId:r,skalUtvideGyldighet:n.vurderRefusjonValues[Ro(r)]}))};Mi.buildInitialValues=(e,n)=>{const r={};return!e.includes(A3)||n.length===0?r:(n.forEach(({arbeidsgiverIdent:t,erRefusjonskravGyldig:i})=>{r[Ro(t)]=i}),{...r})};const{VURDER_FAKTA_FOR_ATFL_SN:y3}=Re,vr=e=>{if(!e.faktaOmBeregning)throw new Error("Mangler fakta om beregning, ugyldig tilstand");return e.faktaOmBeregning},mk=e=>{var n;return((n=vr(e))==null?void 0:n.kortvarigeArbeidsforhold)||void 0},fk=e=>{var n;return((n=vr(e))==null?void 0:n.kunYtelse)||void 0},rp=e=>{var n;return((n=vr(e))==null?void 0:n.faktaOmBeregningTilfeller)||[]},vk=e=>{var n;return((n=vr(e))==null?void 0:n.vurderMottarYtelse)||void 0},_3=e=>{var n;return((n=vr(e))==null?void 0:n.vurderBesteberegning)||void 0},S3=e=>{var n;return((n=vr(e))==null?void 0:n.refusjonskravSomKommerForSentListe)||[]},ck=e=>e?h.jsx(I,{twentyPx:!0}):null,F3=(e,n,r,t,i,s,a)=>{const{avklaringsbehov:l}=r,o=rp(r),k=vr(r),u=[];let f=!1;return o.forEach(c=>{c===P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD&&(f=!0,u.push(h.jsx(K.Fragment,{children:h.jsx(Vi,{readOnly:e,faktaOmBeregning:k,arbeidsgiverOpplysningerPerId:s})},c))),c===P.VURDER_SN_NY_I_ARBEIDSLIVET&&(f=!0,u.push(h.jsxs(K.Fragment,{children:[ck(f),h.jsx($i,{readOnly:e})]},c))),c===P.VURDER_MILITÆR_SIVILTJENESTE&&(f=!0,u.push(h.jsx(K.Fragment,{children:h.jsx(Di,{readOnly:e})},c))),c===P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT&&(f=!0,u.push(h.jsx(K.Fragment,{children:h.jsx(Mi,{readOnly:e,arbeidsgiverOpplysningerPerId:s,faktaOmBeregning:k})},c)))}),gM(u,o,e,n,k,t),u.push(h.jsxs(K.Fragment,{children:[ck(!0),h.jsx(Li,{readOnly:e,isAksjonspunktClosed:n,tilfeller:o,beregningsgrunnlag:r,kodeverkSamling:t,erOverstyrer:i,avklaringsbehov:l,arbeidsgiverOpplysningerPerId:s,updateOverstyring:a})]},"VurderOgFastsettATFL")),u},N3=({readOnly:e,isAksjonspunktClosed:n,beregningsgrunnlag:r,kodeverkSamling:t,erOverstyrer:i,arbeidsgiverOpplysningerPerId:s,updateOverstyring:a})=>h.jsx("div",{children:F3(e,n,r,t,i,s,a).map(l=>l)}),R3=(e,n)=>r=>uM(r,e.kunYtelse,n),P3=(e,n)=>(e.faktaOmBeregningTilfeller.push(P.VURDER_SN_NY_I_ARBEIDSLIVET),{...e,...$i.transformValues(n)}),B3=e=>(n,r)=>(n.faktaOmBeregningTilfeller.push(P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD),{...n,...Vi.transformValues(r,e)}),O3=(e,n)=>(e.faktaOmBeregningTilfeller.push(P.VURDER_MILITÆR_SIVILTJENESTE),{...e,...Di.transformValues(n)}),$3=e=>(n,r)=>(n.faktaOmBeregningTilfeller.push(P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT),{...n,...Mi.transformValues(e.refusjonskravSomKommerForSentListe)(r)}),V3=(e,n,r,t,i)=>(s,a)=>{let l={...s};return e.forEach(o=>{o===P.VURDER_SN_NY_I_ARBEIDSLIVET&&(l=n(l,a)),o===P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD&&(l=r(l,a)),o===P.VURDER_MILITÆR_SIVILTJENESTE&&(l=t(l,a)),o===P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT&&(l=i(l,a))}),l},D3=(e,n,r)=>t=>e.includes(P.FASTSETT_BG_KUN_YTELSE)?{fakta:n(t)}:{...r(t)},G3=(e,n,r,t,i)=>{const s=D3(e,R3(t,e),Li.transformValues(t,i))(n);return{fakta:V3(e,P3,B3(r),O3,$3(t))(s.fakta,n),overstyrteAndeler:s.overstyrteAndeler}},L3=e=>{const{tilfeller:n,kortvarigeArbeidsforhold:r,faktaOmBeregning:t,beregningsgrunnlag:i}=e;return G3(n,e,r,t,i)},M3=e=>e?e.find(n=>n.definisjon===y3):void 0,K3=(e,n,r)=>{const t=rp(e),i=vr(e);return{beregningsgrunnlag:e,tilfeller:t,faktaOmBeregning:i,kortvarigeArbeidsforhold:mk(e),vurderMottarYtelse:vk(e),kunYtelse:fk(e),tidsbegrensetValues:Vi.buildInitialValues(mk(e)),vurderMottarYtelseValues:Gi.buildInitialValues(vk(e)),vurderRefusjonValues:Mi.buildInitialValues(t,S3(e)),...Di.buildInitialValues(i),...$i.buildInitialValues(e),...Ni.buildInitialValues(e),...Ri.buildInitialValues(e),...Oi.buildInitialValues(e,M3(e.avklaringsbehov)),...Fi.buildInitialValues(e.avklaringsbehov,_3(e),t,ok(e)),...Li.buildInitialValues(i,ok(e),r,n),...kM(fk(e),t,i.andelerForFaktaOmBeregning,r,n)}},{VURDER_FAKTA_FOR_ATFL_SN:md,OVERSTYRING_AV_BEREGNINGSGRUNNLAG:fd}=Re,ea=(e,n)=>n.some(r=>r.definisjon===e&&r.kanLoses),w3=(e,n)=>e||ea(md,n),pk=(e,n)=>{const r=e[ut];if(n&&!r&&ea(fd,e.avklaringsbehov||[]))return{periode:e.periode,avbrutt:!0,begrunnelse:void 0};if(!w3(!!r,e.avklaringsbehov||[]))throw new Error("Feil: Kjører submit uten aksjonspunkt og uten overstyringsrolle");return{...L3(e),begrunnelse:e.begrunnelseFaktaTilfeller,periode:e.periode}},U3=(e,n=!0)=>{const r=e[_n],t=r.filter(a=>a.erTilVurdering).filter(a=>a[ut]||ea(fd,a.avklaringsbehov||[])).map(a=>pk(a,!0)).filter(a=>a),i=r.filter(a=>a.erTilVurdering).filter(a=>(!a[ut]||n)&&ea(md,a.avklaringsbehov||[])).map(a=>pk(a,!1)).filter(a=>a),s=[];if(t.length>0){const a=t.filter(({begrunnelse:o})=>o!==null).map(({begrunnelse:o})=>o).reduce((o,k)=>o===""?k:`${o} ${k}`,""),l={kode:fd,begrunnelse:a!==""?a:null,grunnlag:t};s.push(l)}if(i.length>0){const a=i.map(({begrunnelse:o})=>o).reduce((o,k)=>o===""?k:`${o} ${k}`,""),l={kode:md,begrunnelse:a,grunnlag:i};s.push(l)}return s},{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:tp,VURDER_FAKTA_FOR_ATFL_SN:Es}=Re,ip="begrunnelseFaktaTilfeller",tt=(e,n)=>n.some(r=>r.definisjon===e),C3=(e,n,r)=>e&&n&&!r,Y3=(e,n)=>tt(Es,n)||tt(tp,n)?!e:!0,Il=e=>{const n=e.filter(r=>r.definisjon===Re.VURDER_FAKTA_FOR_ATFL_SN||r.definisjon===Re.OVERSTYRING_AV_BEREGNINGSGRUNNLAG);return n.length===0?!1:n.some(r=>!rn(r.status))},z3=()=>{const e=[];return e.push(h.jsx(m,{id:"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning"},"VurderFaktaForBeregningen")),e},hk=(e,n)=>{const r=n(`${_n}.${e}`);return Wc(r)},bk=(e,n)=>{var r,t;return!!((t=(r=n.vurderFaktaBeregningForm)==null?void 0:r[e])!=null&&t.begrunnelseFaktaTilfeller)},H3=({beregningsgrunnlag:e,erOverstyrer:n,readOnly:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,submittable:s,updateOverstyring:a,vilkarsperiode:l,verdiForAvklarAktivitetErEndret:o,submitDisabled:k})=>{const{getValues:u,formState:{errors:f,isDirty:c}}=je(),b=K.useContext(qv),x=K.useContext(Wv),T=K.useContext(Ke),N=T===x;K.useEffect(()=>{b(f)},[JSON.stringify(f)]);const{avklaringsbehov:S}=e,B=l.vurderesIBehandlingen;return h.jsxs("div",{style:{display:N?"block":"none"},children:[tt(Es,S)&&h.jsx(gi,{children:Il(S)?null:z3()}),h.jsx(I,{twentyPx:!0}),h.jsx(N3,{readOnly:r||!B,isAksjonspunktClosed:Il(S),beregningsgrunnlag:e,kodeverkSamling:t,erOverstyrer:n,arbeidsgiverOpplysningerPerId:i,updateOverstyring:a}),h.jsx(I,{twentyPx:!0}),(tt(Es,S)||tt(tp,S)||hk(T,u))&&h.jsxs(h.Fragment,{children:[(tt(Es,S)||hk(T,u))&&h.jsx(Kr,{name:`${_n}.${T}.${ip}`,isSubmittable:s,isReadOnly:r||!B,hasBegrunnelse:ko(S)!==void 0}),h.jsx(I,{twentyPx:!0}),h.jsx(Uv,{isDisabled:!!o,isSubmittable:C3(s&&Y3(o,S)&&!Il(S),!0,bk(T,f)),isReadOnly:r||!B,isDirty:c,isSubmitting:k,hasEmptyRequiredFields:bk(T,f)})]})]},T)},{VURDER_FAKTA_FOR_ATFL_SN:sp,AVKLAR_AKTIVITETER:J3,OVERSTYRING_AV_BEREGNINGSGRUNNLAG:na,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:q3}=Re,W3=e=>e.some(n=>n.definisjon===na)?e.find(n=>n.definisjon===na&&n.begrunnelse!==null):e.find(n=>n.definisjon===sp&&n.begrunnelse!==null),jk=(e,n)=>n.some(r=>r.definisjon===e&&rn(r.status)),Z3=(e,n,r,t)=>({[_n]:e.map(i=>{var s;const a=t.perioder.find(l=>l.periode.fom===i.vilkårsperiodeFom);if(!a)throw new Error(`Finner ikke vilkårsperiode med fom ${i.vilkårsperiodeFom}`);return{avklaringsbehov:i.avklaringsbehov,erTilVurdering:a.vurderesIBehandlingen&&!a.erForlengelse,periode:a.periode,...Kr.buildInitialValues((s=W3(i.avklaringsbehov))==null?void 0:s.begrunnelse,ip),...K3(i,n,r)}})}),X3=[sp,na],Q3=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.vilkårsperiodeFom);return(r==null?void 0:r.erForlengelse)===!0},eK=({beregningsgrunnlag:e,submittable:n,readOnly:r,kodeverkSamling:t,erOverstyrer:i,arbeidsgiverOpplysningerPerId:s,aktivtBeregningsgrunnlagIndeks:a,submitCallback:l,setFormData:o,formData:k,vilkar:u,avklarAktiviteterErEndret:f,skalKunneAvbryteOverstyring:c})=>{const b=f,x=e.flatMap(H=>H.avklaringsbehov),T=Qe({defaultValues:k||Z3(e,t,s,u)}),{control:N,formState:S,trigger:B,getValues:y,watch:O}=T,{fields:$,update:D}=ze({name:_n,control:N}),{errors:Y,isSubmitted:ne}=S,[ee,U]=j.useState(!1),V=O(_n);j.useEffect(()=>{ne&&B()},[JSON.stringify(V)]);const C=(H,ae)=>{const ye=y(`${_n}.${H}`);D(H,{...ye,[ut]:ae})},Z=H=>{Object.keys(Y).length===0&&(U(!0),l(U3(H,c)))};return jk(J3,x)||jk(q3,x)?null:h.jsx(Wv.Provider,{value:a,children:h.jsx(en,{formMethods:T,onSubmit:H=>{Z(H)},setDataOnUnmount:o,children:$.map((H,ae)=>{const ye=Fe=>X3.some(Ie=>Ie===Fe.definisjon),we=Fe=>Fe.kanLoses,Be=x.filter(Fe=>ye(Fe)&&we(Fe)),nr=r||Q3(e[ae],u.perioder)||cn(na,x)&&!i||Be.length===0&&!i,Vn=u.perioder.find(Fe=>Fe.periode.fom===e[ae].vilkårsperiodeFom);if(!Vn)throw new Error(`Filler ikke vilkårsperiode med fom ${e[ae].vilkårsperiodeFom}`);return h.jsx(Ke.Provider,{value:ae,children:h.jsx(H3,{vilkarsperiode:Vn,beregningsgrunnlag:e[ae],erOverstyrer:i,readOnly:nr,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:s,submittable:n,updateOverstyring:C,submitDisabled:ee,verdiForAvklarAktivitetErEndret:b},H.id)},H.id)})})})},{VURDER_FAKTA_FOR_ATFL_SN:nK,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:ap,AVKLAR_AKTIVITETER:rK}=Re,tK=[ap,rK],iK=({readOnly:e,avklaringsbehov:n,submittable:r,submitCallback:t,aktivtBeregningsgrunnlagIndeks:i,beregningsgrunnlag:s,erOverstyrer:a,skalKunneOverstyreAktiviteter:l,kodeverkSamling:o,arbeidsgiverOpplysningerPerId:k,setFormData:u,formData:f,vilkar:c,skalKunneAvbryteOverstyring:b})=>{const x=n.filter(B=>tK.some(y=>y===B.definisjon)&&B.kanLoses),T=e||(x.length===0||cn(ap,n))&&!a,[N,S]=j.useState(!1);return h.jsxs("div",{children:[h.jsx(JO,{readOnly:T,harAndreAvklaringsbehovIPanel:cn(nK,n),submitCallback:t,submittable:r,erOverstyrer:a&&l,kodeverkSamling:o,aktivtBeregningsgrunnlagIndeks:i,beregningsgrunnlag:s,arbeidsgiverOpplysningerPerId:k,setFormData:u,formData:f&&ii in f?f:void 0,vilkår:c,setAvklarAktiviteterErEndret:S}),h.jsx(I,{thirtyTwoPx:!0}),h.jsx(eK,{submitCallback:t,submittable:r,kodeverkSamling:o,beregningsgrunnlag:s,erOverstyrer:a,readOnly:e,arbeidsgiverOpplysningerPerId:k,aktivtBeregningsgrunnlagIndeks:i,setFormData:u,formData:f&&_n in f?f:void 0,vilkar:c,avklarAktiviteterErEndret:N,skalKunneAvbryteOverstyring:b})]})},sK=Me(uo),{VURDER_FAKTA_FOR_ATFL_SN:aK,AVKLAR_AKTIVITETER:lK}=Re,dK=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.vilkårsperiodeFom);return(r==null?void 0:r.erForlengelse)===!0},oK=(e,n)=>{const r=e.vilkårsperiodeFom,t=n.find(({periode:i})=>i.fom===r);if(t){const{fom:i,tom:s}=t.periode;return s!==null?`${A(i).format(ie)} - ${A(s).format(ie)}`:`${A(i).format(ie)} - `}return`${A(r).format(ie)}`},gK=e=>{if(e){const n=e.some(t=>t.definisjon===aK&&t.kanLoses),r=e.some(t=>t.definisjon===lK&&t.kanLoses);return n||r}return!1},uK=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.skjaeringstidspunktBeregning);return gK(e.avklaringsbehov)&&(r==null?void 0:r.vurderesIBehandlingen)&&!r.erForlengelse},kK=({beregningsgrunnlag:e=[],kodeverkSamling:n,submitCallback:r,readOnly:t,submittable:i,erOverstyrer:s,skalKunneOverstyreAktiviteter:a=!0,arbeidsgiverOpplysningerPerId:l,formData:o,setFormData:k,vilkar:u,skalKunneAvbryteOverstyring:f=!1})=>{const[c,b]=j.useState(0),[x,T]=j.useState(void 0);if(e.length===0||!u)return h.jsx(h.Fragment,{children:"Har ikke beregningsgrunnlag."});const N=e.length>1,S=e[c].avklaringsbehov,B=u.perioder,y=O=>{var $;return!!(($=x==null?void 0:x[`${_n}`])!=null&&$[O])};return h.jsxs(Ze,{value:sK,children:[N&&h.jsx("div",{className:sO.tabsContainer,children:h.jsx(Hn,{value:c.toString(),onChange:O=>b(Number(O)),children:h.jsx(Hn.List,{children:e.map((O,$)=>h.jsx(Hn.Tab,{value:$.toString(),label:oK(O,B),className:uK(O,B)?"harAksjonspunkt":"",icon:$!==c&&y($)&&h.jsx(Br,{width:20,height:20,color:"Orange"})},O.skjaeringstidspunktBeregning))})})}),h.jsx(qv.Provider,{value:T,children:h.jsx(iK,{aktivtBeregningsgrunnlagIndeks:c,beregningsgrunnlag:e,kodeverkSamling:n,avklaringsbehov:S,submitCallback:r,readOnly:t||dK(e[c],B),submittable:i,erOverstyrer:s,skalKunneOverstyreAktiviteter:a,arbeidsgiverOpplysningerPerId:l,setFormData:k,formData:o,vilkar:u,skalKunneAvbryteOverstyring:f})})]})};const mK=e=>{switch(e){case Re.AVKLAR_AKTIVITETER:return ue.AVKLAR_AKTIVITETER;case Re.OVERSTYRING_AV_BEREGNINGSAKTIVITETER:return ue.OVERSTYRING_AV_BEREGNINGSAKTIVITETER;case Re.VURDER_FAKTA_FOR_ATFL_SN:return ue.VURDER_FAKTA_FOR_ATFL_SN;case Re.OVERSTYRING_AV_BEREGNINGSGRUNNLAG:return ue.OVERSTYRING_AV_BEREGNINGSGRUNNLAG;default:throw new Error(`Ukjent avklaringspunkt ${e}`)}},xk=e=>n=>{const t=(Array.isArray(n)?n:[n]).map(i=>({kode:mK(i.kode),...i.grunnlag[0]}));return e(t)},fK=(e,n)=>({avslagKode:n.avslagKode,vurderesIBehandlingen:!0,merknadParametere:{},periode:{fom:e?e.skjaeringstidspunktBeregning:"",tom:Xe},vilkarStatus:n.vilkarStatus}),Ik=(e,n)=>{if(!e)return null;const r=e.find(i=>i.vilkarType&&i.vilkarType===_r.BEREGNINGSGRUNNLAGVILKARET);return!r||!n?null:{...r,perioder:[fK(n,r)]}},Ak=e=>e?[{...e,vilkårsperiodeFom:e.skjaeringstidspunktBeregning}]:[],Tk=[ue.VURDER_FAKTA_FOR_ATFL_SN,ue.AVKLAR_AKTIVITETER,ue.OVERSTYRING_AV_BEREGNINGSAKTIVITETER,ue.OVERSTYRING_AV_BEREGNINGSGRUNNLAG],Ek=[ue.OVERSTYRING_AV_BEREGNINGSAKTIVITETER,ue.OVERSTYRING_AV_BEREGNINGSGRUNNLAG],yk=[Je.BEREGNINGSGRUNNLAG],_k=({arbeidsgiverOpplysningerPerId:e,rettigheter:n,...r})=>window.location.href.includes("fpsak.intern.nav.no")?$e.jsx(Sr,{...r,panelEndepunkter:yk,aksjonspunktKoder:Tk,overstyringApKoder:Ek,faktaPanelKode:yr.BEREGNING,faktaPanelMenyTekst:te().formatMessage({id:"BeregningInfoPanel.Title"}),skalPanelVisesIMeny:()=>yl.hasPath(Je.BEREGNINGSGRUNNLAG.name),renderPanel:s=>{var a;return $e.jsx(kK,{...s,kodeverkSamling:s.alleKodeverk,vilkar:Ik((a=r.behandling)==null?void 0:a.vilkår,s.beregningsgrunnlag),beregningsgrunnlag:Ak(s.beregningsgrunnlag),submitCallback:xk(s.submitCallback),arbeidsgiverOpplysningerPerId:e,erOverstyrer:n.kanOverstyreAccess.isEnabled,skalKunneOverstyreAktiviteter:!0})}}):$e.jsx(Sr,{...r,panelEndepunkter:yk,aksjonspunktKoder:Tk,overstyringApKoder:Ek,faktaPanelKode:yr.BEREGNING,faktaPanelMenyTekst:te().formatMessage({id:"BeregningInfoPanel.Title"}),skalPanelVisesIMeny:()=>yl.hasPath(Je.BEREGNINGSGRUNNLAG.name),renderPanel:s=>{var a;return $e.jsx(rO,{...s,kodeverkSamling:s.alleKodeverk,vilkar:Ik((a=r.behandling)==null?void 0:a.vilkår,s.beregningsgrunnlag),beregningsgrunnlag:Ak(s.beregningsgrunnlag),submitCallback:xk(s.submitCallback),arbeidsgiverOpplysningerPerId:e,erOverstyrer:n.kanOverstyreAccess.isEnabled,skalKunneOverstyreAktiviteter:!0})}});try{_k.displayName="BeregningFaktaInitPanel",_k.__docgenInfo={description:"BeregningFaktaInitPanel",displayName:"BeregningFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},rettigheter:{defaultValue:null,description:"",name:"rettigheter",required:!0,type:{name:"AksessRettigheter"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}function vK(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lp={exports:{}},Ut={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sk;function cK(){if(Sk)return Ut;Sk=1;var e=K,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,o,k){var u,f={},c=null,b=null;k!==void 0&&(c=""+k),o.key!==void 0&&(c=""+o.key),o.ref!==void 0&&(b=o.ref);for(u in o)t.call(o,u)&&!s.hasOwnProperty(u)&&(f[u]=o[u]);if(l&&l.defaultProps)for(u in o=l.defaultProps,o)f[u]===void 0&&(f[u]=o[u]);return{$$typeof:n,type:l,key:c,ref:b,props:f,_owner:i.current}}return Ut.Fragment=r,Ut.jsx=a,Ut.jsxs=a,Ut}lp.exports=cK();var F=lp.exports,vd=(e=>(e.BRUK_PERMISJON="BRUK_PERMISJON",e.IKKE_BRUK_PERMISJON="IKKE_BRUK_PERMISJON",e))(vd||{});const pK="_inline_1gq7u_1",hK="_topPadding_1gq7u_5",bK="_phoneIcon_1gq7u_9",jK="_docIcon_1gq7u_15",Jr={inline:pK,topPadding:hK,phoneIcon:bK,docIcon:jK},xK=({saksnummer:e,inntektsmelding:n})=>F.jsxs(F.Fragment,{children:[F.jsx(I,{eightPx:!0}),F.jsxs(Se,{children:[F.jsxs(L,{children:[F.jsx(E,{children:F.jsx(w,{size:"small",children:F.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Inntektsmelding"})})}),F.jsx(E,{className:Jr.topPadding,children:F.jsx(_,{size:"small",children:q(n.inntektPrMnd)})})]}),F.jsx(I,{eightPx:!0}),F.jsxs(L,{children:[F.jsx(E,{children:F.jsx(w,{size:"small",children:F.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjon"})})}),F.jsx(E,{className:Jr.topPadding,children:F.jsx(_,{size:"small",children:F.jsx(m,{id:n.refusjonPrMnd?"InntektsmeldingOpplysningerPanel.Ja":"InntektsmeldingOpplysningerPanel.Nei"})})})]}),F.jsx(I,{eightPx:!0}),n.refusjonPrMnd&&F.jsxs(F.Fragment,{children:[F.jsxs(L,{children:[F.jsx(E,{children:F.jsx(w,{size:"small",children:F.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjonsbeløp"})})}),F.jsx(E,{className:Jr.topPadding,children:F.jsx(_,{size:"small",children:q(n.refusjonPrMnd)})})]}),F.jsx(I,{eightPx:!0})]}),F.jsxs(li,{href:cm(e,n.journalpostId,n.dokumentId),target:"_blank",children:[F.jsx("span",{children:F.jsx(_,{size:"small",className:Jr.inline,children:F.jsx(m,{id:"InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding"})})}),F.jsx(Rm,{className:Jr.docIcon})]}),F.jsx(I,{sixteenPx:!0}),F.jsxs(L,{children:[F.jsx(E,{children:F.jsx(Pm,{className:Jr.phoneIcon})}),F.jsxs(E,{children:[F.jsx(L,{children:F.jsx(E,{children:F.jsx(w,{size:"small",children:F.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Kontaktinfo"})})})}),F.jsx(L,{children:F.jsx(E,{children:F.jsx(ke,{children:n.kontaktpersonNavn})})}),F.jsx(L,{children:F.jsx(E,{children:F.jsx(ke,{children:F.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Tlf",values:{nr:n.kontaktpersonNummer}})})})})]})]})]}),F.jsx(I,{thirtyTwoPx:!0})]});var dp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var t=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var a=typeof s;if(a==="string"||a==="number")t.push(this&&this[s]||s);else if(Array.isArray(s))t.push(r.apply(this,s));else if(a==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){t.push(s.toString());continue}for(var l in s)n.call(s,l)&&s[l]&&t.push(this&&this[l]||l)}}}return t.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(dp);var IK=dp.exports;const AK=vK(IK),TK="_boks_kspkv_1",EK="_aksjonspunkt_kspkv_9",yK="_harBorderTop_kspkv_13",op={boks:TK,aksjonspunkt:EK,harBorderTop:yK},_K=AK.bind(op),SK=({harÅpentAksjonspunkt:e,harBorderTop:n,children:r})=>F.jsx("div",{className:_K(op.boks,{aksjonspunkt:e,harBorderTop:n}),children:r}),FK="_maanedBredde_pqnhm_1",NK="_aarBredde_pqnhm_5",RK="_belopBredde_pqnhm_9",PK="_inline_pqnhm_13",BK="_arrow_pqnhm_17",qr={maanedBredde:FK,aarBredde:NK,belopBredde:RK,inline:PK,arrow:BK},OK=(e,n)=>{const r=A(e).startOf("month"),t=r.subtract(12,"month"),i=[];for(let s=r;s.isAfter(t);s=s.subtract(1,"month")){const a=s.format(Le),l=n.find(o=>A(o.fom).startOf("month").format(Le)===a);i.push({beløp:(l==null?void 0:l.beløp)||0,fom:a})}return i},$K=({inntektsposter:e,skjæringstidspunkt:n})=>{const[r,t]=j.useState(!1),i=j.useMemo(()=>OK(n,e),[e]);return F.jsxs(F.Fragment,{children:[e.length>0&&F.jsxs(F.Fragment,{children:[F.jsx(w,{size:"small",children:F.jsx(m,{id:"InntektsposterPanel.Inntekter"})}),F.jsx(Se,{children:i.filter((s,a)=>r?!0:a<3).map(s=>F.jsxs(L,{children:[F.jsx(E,{className:qr.maanedBredde,children:F.jsx(_,{size:"small",children:F.jsx(m,{id:`InntektsposterPanel.${A(s.fom).month()+1}`})})}),F.jsx(E,{className:qr.aarBredde,children:F.jsx(_,{size:"small",children:A(s.fom).year()})}),F.jsx(E,{className:qr.belopBredde,children:F.jsx(dt,{children:F.jsx(_,{size:"small",children:q(s.beløp)})})})]},s.fom))}),F.jsxs(li,{onClick:s=>{s.preventDefault(),t(!r)},href:"",children:[F.jsx("span",{children:F.jsx(_,{size:"small",className:qr.inline,children:F.jsx(m,{id:r?"InntektsposterPanel.FaerreManeder":"InntektsposterPanel.TidligereManeder"})})}),r?F.jsx(Ed,{className:qr.arrow}):F.jsx(da,{className:qr.arrow})]})]}),e.length===0&&F.jsx(w,{size:"small",children:F.jsx(m,{id:"InntektsposterPanel.IngenInntekt"})})]})},VK="_body_hrlo3_1",DK="_hjelpetekst_hrlo3_5",GK="_firstCol_hrlo3_9",LK="_secCol_hrlo3_13",MK="_thirdCol_hrlo3_17",KK="_fourthCol_hrlo3_21",wK="_topPadding_hrlo3_25",UK="_image_hrlo3_29",CK="_hjelpetekstInnhold_hrlo3_33",YK="_exclamationmarkIcon_hrlo3_38",zK="_checkmarkIcon_hrlo3_45",dn={body:VK,hjelpetekst:DK,firstCol:GK,secCol:LK,thirdCol:MK,fourthCol:KK,topPadding:wK,image:UK,hjelpetekstInnhold:CK,exclamationmarkIcon:YK,checkmarkIcon:zK},HK="arbeidsforhold",JK=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent&&(!n.internArbeidsforholdId||n.internArbeidsforholdId===e.internArbeidsforholdId),qK=e=>{const n=Math.ceil(e.length/25),r=Array.from({length:n},(t,i)=>e.slice(i*25,i*25+25));return F.jsx("p",{children:r.join("-")})},WK=({index:e,fieldId:n,saksnummer:r,sorterteArbeidsforhold:t,arbeidOgInntekt:i,arbeidsgiverOpplysningerPerId:s,isReadOnly:a,harÅpentAksjonspunkt:l,skjæringstidspunkt:o,alleKodeverk:k})=>{var u;const f=te(),{inntektsmeldinger:c,inntekter:b}=i,x=t[e],T=c.find(Y=>JK(x,Y)),N=(u=b.find(Y=>Y.arbeidsgiverIdent===x.arbeidsgiverIdent))==null?void 0:u.inntekter,S=t.filter(Y=>Y.arbeidsgiverIdent===x.arbeidsgiverIdent).length>1,B=s[x.arbeidsgiverIdent],y=j.useRef(null),[O,$]=j.useState(!1),D=j.useCallback(()=>$(Y=>!Y),[]);return F.jsx(SK,{harÅpentAksjonspunkt:l,harBorderTop:e===0,children:F.jsx(Se,{children:F.jsxs(L,{children:[F.jsxs(E,{children:[!l&&F.jsx(Td,{title:f.formatMessage({id:"ArbeidsforholdFieldArray.Ok"}),className:dn.checkmarkIcon}),l&&F.jsx(Br,{title:f.formatMessage({id:"ArbeidsforholdFieldArray.Aksjonspunkt"}),className:dn.exclamationmarkIcon})]}),F.jsxs(E,{className:dn.body,children:[F.jsxs(Se,{children:[F.jsxs(L,{children:[F.jsxs(E,{className:dn.firstCol,children:[F.jsx(w,{size:"small",children:B.navn}),x.arbeidsgiverIdent&&F.jsxs(ke,{children:["(",B.erPrivatPerson&&B.fødselsdato?F.jsx(De,{dateString:B.fødselsdato}):x.arbeidsgiverIdent,")"]})]}),F.jsxs(E,{className:dn.secCol,children:[F.jsx(w,{size:"small",children:F.jsx(m,{id:"ArbeidsforholdFieldArray.Periode"})}),F.jsxs(_,{size:"small",children:[x&&F.jsx(Ye,{dateStringFom:x.fom,dateStringTom:x.tom!==Xe?x.tom:void 0}),!x&&"-"]})]}),F.jsxs(E,{className:dn.thirdCol,children:[F.jsx(w,{size:"small",children:F.jsx(m,{id:"ArbeidsforholdFieldArray.Kilde"})}),F.jsx(_,{size:"small",children:F.jsx(m,{id:x?"ArbeidsforholdFieldArray.AaRegisteret":"ArbeidsforholdFieldArray.Inntektsmelding"})})]}),F.jsxs(E,{className:dn.fourthCol,children:[F.jsx(w,{size:"small",children:F.jsx(m,{id:"ArbeidsforholdFieldArray.InntektsmeldingMottatt"})}),F.jsxs(_,{size:"small",children:[(T==null?void 0:T.motattDato)&&F.jsx(De,{dateString:T.motattDato}),!(T!=null&&T.motattDato)&&F.jsx(m,{id:"ArbeidsforholdFieldArray.IkkeMottatt"})]})]})]}),F.jsx(I,{sixteenPx:!0}),F.jsxs(L,{children:[F.jsxs(E,{className:dn.firstCol,children:[S&&x.eksternArbeidsforholdId&&F.jsxs(F.Fragment,{children:[F.jsxs(L,{children:[F.jsx(E,{children:F.jsx(w,{size:"small",children:F.jsx(m,{id:"ArbeidsforholdFieldArray.Id"})})}),F.jsxs(E,{className:dn.topPadding,children:[x.eksternArbeidsforholdId.length<50&&F.jsx(_,{size:"small",children:x.eksternArbeidsforholdId}),x.eksternArbeidsforholdId.length>=50&&F.jsx(Fh,{content:qK(x.eksternArbeidsforholdId),alignBottom:!0,children:F.jsx(_,{size:"small",children:`${x.eksternArbeidsforholdId.substring(0,50)}...`})})]})]}),F.jsx(I,{eightPx:!0})]}),x.stillingsprosent&&F.jsxs(F.Fragment,{children:[F.jsxs(L,{children:[F.jsx(E,{children:F.jsx(w,{size:"small",children:F.jsx(m,{id:"ArbeidsforholdFieldArray.Stillingsprosent"})})}),F.jsx(E,{className:dn.topPadding,children:F.jsx(_,{size:"small",children:`${x.stillingsprosent}%`})})]}),F.jsx(I,{eightPx:!0})]}),T&&F.jsx(xK,{saksnummer:r,inntektsmelding:T}),!T&&N&&F.jsxs(F.Fragment,{children:[F.jsx(I,{thirtyTwoPx:!0}),F.jsx($K,{inntektsposter:N,skjæringstidspunkt:o}),F.jsx(I,{thirtyTwoPx:!0})]})]}),F.jsx(E,{children:x.permisjonOgMangel&&F.jsxs(F.Fragment,{children:[F.jsx(w,{size:"small",children:`${Ns(k,Zn.PERMISJONSBESKRIVELSE_TYPE,x.permisjonOgMangel.type)} 100%`}),F.jsx(_,{size:"small",children:F.jsx(Ye,{dateStringFom:x.permisjonOgMangel.permisjonFom,dateStringTom:void 0})})]})})]})]}),F.jsx(pe,{name:`${HK}.${e}.permisjonStatus`,label:F.jsx(Se,{children:F.jsxs(L,{children:[F.jsx(E,{children:F.jsx(m,{id:"ArbeidsforholdFieldArray.SkalArbeidsforholdetTasMed"})}),F.jsxs(E,{className:dn.image,children:[F.jsx(se,{ref:y,type:"button",variant:"tertiary",onClick:D,icon:F.jsx(Fd,{title:f.formatMessage({id:"ArbeidsforholdFieldArray.AltHjelpetekst"})})}),F.jsx(lt,{open:O,onClose:D,anchorEl:y.current,className:dn.hjelpetekst,children:F.jsxs(lt.Content,{className:dn.hjelpetekstInnhold,children:[F.jsx(_,{children:F.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel1"})}),F.jsx(I,{eightPx:!0}),F.jsx(_,{children:F.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel2"})}),F.jsx(I,{eightPx:!0}),F.jsx(_,{children:F.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel3"})}),F.jsx(I,{eightPx:!0}),F.jsx(_,{children:F.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel4"})})]})})]})]})}),validate:[X],isReadOnly:a,radios:[{label:f.formatMessage({id:T?"ArbeidsforholdFieldArray.TaMedArbeidsforhold":"ArbeidsforholdFieldArray.TaMedArbeidsforholdIkkeInntektsmelding"}),value:vd.IKKE_BRUK_PERMISJON},{label:f.formatMessage({id:"ArbeidsforholdFieldArray.IkkeTaMedArbeidsforhold"}),value:vd.BRUK_PERMISJON}]}),F.jsx(I,{fourPx:!0})]})]})})},n)},ZK="arbeidsforhold",XK=({saksnummer:e,sorterteArbeidsforhold:n,arbeidOgInntekt:r,arbeidsgiverOpplysningerPerId:t,isReadOnly:i,harÅpentAksjonspunkt:s,skjæringstidspunkt:a,alleKodeverk:l})=>{const{control:o}=je(),{fields:k}=ze({control:o,name:ZK});return F.jsx(F.Fragment,{children:k.map((u,f)=>F.jsx(WK,{fieldId:u.id,index:f,saksnummer:e,sorterteArbeidsforhold:n,arbeidOgInntekt:r,arbeidsgiverOpplysningerPerId:t,isReadOnly:i,harÅpentAksjonspunkt:s,skjæringstidspunkt:a,alleKodeverk:l},u.id))})},QK=Rn(3),e5=Pn(1500),n5=e=>(n,r)=>e[n.arbeidsgiverIdent].navn.localeCompare(e[r.arbeidsgiverIdent].navn),r5=({saksnummer:e,aksjonspunkter:n,readOnly:r,arbeidOgInntekt:t,arbeidsgiverOpplysningerPerId:i,formData:s,setFormData:a,lagreCallback:l,alleKodeverk:o})=>{const k=j.useMemo(()=>({inntektsmeldinger:t.inntektsmeldinger,arbeidsforhold:t.arbeidsforhold.filter(T=>{var N;return(N=T.permisjonOgMangel)==null?void 0:N.årsak}),inntekter:t.inntekter,skjæringstidspunkt:t.skjæringstidspunkt}),[t]),{arbeidsforhold:u}=k,f=j.useMemo(()=>[...u].sort(n5(i)),[u,i]),c=j.useMemo(()=>({arbeidsforhold:f.map(T=>{var N;return{permisjonStatus:(N=T.permisjonOgMangel)==null?void 0:N.permisjonStatus}}),begrunnelse:n[0].begrunnelse}),[f]),b=Qe({defaultValues:s||c});j.useEffect(()=>()=>{a(b.getValues())},[b.getValues()]);const x=n.some(T=>T.status===at.OPPRETTET);return F.jsxs(F.Fragment,{children:[F.jsx(Se,{children:F.jsxs(L,{spaceBetween:!0,children:[F.jsx(E,{children:F.jsx(oe,{size:"small",children:F.jsx(m,{id:"PermisjonFaktaPanel.Overskrift"})})}),F.jsx(E,{children:F.jsx(_,{size:"small",children:F.jsx(m,{id:"PermisjonFaktaPanel.Skjaringstidspunkt",values:{skjæringspunktDato:We(k.skjæringstidspunkt)}})})})]})}),F.jsx(I,{thirtyTwoPx:!0}),x&&F.jsx(gi,{children:F.jsx(m,{id:"PermisjonFaktaPanel.PermisjonUtenSluttdato"})}),F.jsx(I,{thirtyTwoPx:!0}),F.jsxs(en,{formMethods:b,onSubmit:T=>l({kode:ue.VURDER_ARBEIDSFORHOLD_PERMISJON,arbeidsforhold:T.arbeidsforhold.map((N,S)=>({internArbeidsforholdId:f[S].internArbeidsforholdId,arbeidsgiverIdent:f[S].arbeidsgiverIdent,permisjonStatus:N.permisjonStatus})),begrunnelse:T.begrunnelse}),children:[F.jsx(XK,{saksnummer:e,sorterteArbeidsforhold:f,arbeidOgInntekt:k,arbeidsgiverOpplysningerPerId:i,isReadOnly:r,harÅpentAksjonspunkt:x,skjæringstidspunkt:k.skjæringstidspunkt,alleKodeverk:o}),F.jsx(I,{thirtyTwoPx:!0}),F.jsx(un,{label:F.jsx(w,{size:"small",children:F.jsx(m,{id:"PermisjonFaktaPanel.Begrunn"})}),name:"begrunnelse",validate:[X,QK,e5,Nn],maxLength:1500,readOnly:r}),F.jsx(I,{sixteenPx:!0}),!r&&F.jsx(se,{size:"small",variant:"primary",disabled:!b.formState.isDirty||b.formState.isSubmitting,loading:b.formState.isSubmitting,children:F.jsx(m,{id:"PermisjonFaktaPanel.Bekreft"})})]})]})},t5={"PermisjonFaktaPanel.Overskrift":"Fakta om permisjon","PermisjonFaktaPanel.Arbeidsforhold":"Arbeidsforhold","PermisjonFaktaPanel.Skjaringstidspunkt":"Skjæringstidspunkt for opptjening: {skjæringspunktDato}","PermisjonFaktaPanel.Bekreft":"Bekreft og fortsett","PermisjonFaktaPanel.PermisjonUtenSluttdato":"Vi fant en permisjon uten sluttdato. Vurder om arbeidsforholdet skal tas med.","PermisjonFaktaPanel.Begrunn":"Begrunn valget","ArbeidsforholdFieldArray.Periode":"Periode","ArbeidsforholdFieldArray.Kilde":"Kilde","ArbeidsforholdFieldArray.InntektsmeldingMottatt":"Inntektsmelding","ArbeidsforholdFieldArray.Saksbehandler":"Saksbehandler","ArbeidsforholdFieldArray.AaRegisteret":"A-inntekt","ArbeidsforholdFieldArray.Inntektsmelding":"Inntektsmelding","ArbeidsforholdFieldArray.Aksjonspunkt":"Åpent aksjonspunkt","ArbeidsforholdFieldArray.Ok":"Arbeidsforhold er OK","ArbeidsforholdFieldArray.HjelpetekstDel1":"Søker er registrert med permisjon eller permittering uten sluttdato fra arbeidsforholdet sitt i AA-reg. Vurder om dette arbeidsforholdet skal være med i beregningen. Dersom det fjernes vil det bli borte fra beregningen og eventuell mottatt inntektsmelding vil ikke brukes. Tas det med, vil det brukes i beregningen og bli med videre i behandlingen.","ArbeidsforholdFieldArray.HjelpetekstDel2":"Dersom arbeidsforholdet tas med og det trengs inntektsmelding, må dette innhentes.","ArbeidsforholdFieldArray.HjelpetekstDel3":"Permisjoner eller permitteringer med en sluttdato tas automatisk med. Du trenger ikke etterspørre inntektsmeldinger.","ArbeidsforholdFieldArray.HjelpetekstDel4":"Mottas det inntektsmelding med refusjonskrav vil denne brukes i behandlingen.","ArbeidsforholdFieldArray.Id":"ID","ArbeidsforholdFieldArray.Stillingsprosent":"Stillingsprosent","ArbeidsforholdFieldArray.SkalArbeidsforholdetTasMed":"Skal arbeidsforholdet tas med?","ArbeidsforholdFieldArray.TaMedArbeidsforhold":"Fjern permisjonen og ta med arbeidsforholdet","ArbeidsforholdFieldArray.TaMedArbeidsforholdIkkeInntektsmelding":"Fjern permisjonen og ta med arbeidsforholdet. Vurder om inntektsmelding må innhentes","ArbeidsforholdFieldArray.IkkeTaMedArbeidsforhold":"Ikke ta med arbeidsforholdet","ArbeidsforholdFieldArray.IkkeMottatt":"Ikke mottatt","ArbeidsforholdFieldArray.AltHjelpetekst":"Hjelpetekst","InntektsmeldingOpplysningerPanel.Inntektsmelding":"Inntektsmelding","InntektsmeldingOpplysningerPanel.Refusjon":"Refusjon","InntektsmeldingOpplysningerPanel.Ja":"Ja","InntektsmeldingOpplysningerPanel.Nei":"Nei","InntektsmeldingOpplysningerPanel.Refusjonsbeløp":"Refusjonsbeløp","InntektsmeldingOpplysningerPanel.Kontaktinfo":"Kontaktinfo","InntektsmeldingOpplysningerPanel.Tlf":"Tlf. {nr}","InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding":"Åpne inntektsmelding (PDF)","InntektsposterPanel.Inntekter":"Inntekter (fra A-inntekt)","InntektsposterPanel.1":"Jan","InntektsposterPanel.2":"Feb","InntektsposterPanel.3":"Mars","InntektsposterPanel.4":"Apr","InntektsposterPanel.5":"Mai","InntektsposterPanel.6":"Jun","InntektsposterPanel.7":"Jul","InntektsposterPanel.8":"Aug","InntektsposterPanel.9":"Sep","InntektsposterPanel.10":"Okt","InntektsposterPanel.11":"Nov","InntektsposterPanel.12":"Des","InntektsposterPanel.TidligereManeder":"Tidligere måneder ","InntektsposterPanel.FaerreManeder":"Siste måneder ","InntektsposterPanel.IngenInntekt":"Ingen inntekt registrert på bruker i A-inntekt"},i5=Me(t5),gp=({saksnummer:e,submitCallback:n,aksjonspunkter:r,readOnly:t,formData:i,setFormData:s,arbeidOgInntekt:a,arbeidsgiverOpplysningerPerId:l,alleKodeverk:o})=>F.jsx(Ze,{value:i5,children:F.jsx(r5,{saksnummer:e,aksjonspunkter:r,readOnly:t,formData:i,lagreCallback:n,setFormData:s,arbeidOgInntekt:a,arbeidsgiverOpplysningerPerId:l,alleKodeverk:o})});gp.__docgenInfo={description:"",methods:[],displayName:"pt"};const Fk=[ue.VURDER_ARBEIDSFORHOLD_PERMISJON],s5=[Je.ARBEID_OG_INNTEKT],Nk=({saksnummer:e,arbeidsgiverOpplysningerPerId:n,...r})=>$e.jsx(Sr,{...r,panelEndepunkter:s5,aksjonspunktKoder:Fk,faktaPanelKode:yr.PERMISJON,faktaPanelMenyTekst:te().formatMessage({id:"PermisjonFaktaInitPanel.Title"}),skalPanelVisesIMeny:()=>!!r.behandling.aksjonspunkt.some(t=>t.definisjon===Fk[0]),renderPanel:t=>$e.jsx(gp,{saksnummer:e,arbeidsgiverOpplysningerPerId:n,...t})});try{Nk.displayName="PermisjonFaktaInitPanel",Nk.__docgenInfo={description:"",displayName:"PermisjonFaktaInitPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}var up={exports:{}},Ct={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rk;function a5(){if(Rk)return Ct;Rk=1;var e=K,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,o,k){var u,f={},c=null,b=null;k!==void 0&&(c=""+k),o.key!==void 0&&(c=""+o.key),o.ref!==void 0&&(b=o.ref);for(u in o)t.call(o,u)&&!s.hasOwnProperty(u)&&(f[u]=o[u]);if(l&&l.defaultProps)for(u in o=l.defaultProps,o)f[u]===void 0&&(f[u]=o[u]);return{$$typeof:n,type:l,key:c,ref:b,props:f,_owner:i.current}}return Ct.Fragment=r,Ct.jsx=a,Ct.jsxs=a,Ct}up.exports=a5();var Q=up.exports;const lr={BEKREFTET_GODKJENT:"BEKREFTET_GODKJENT",BEKREFTET_AVVIST:"BEKREFTET_AVVIST",ANTATT_GODKJENT:"ANTATT_GODKJENT",ANTATT_AVVIST:"ANTATT_AVVIST"},l5="_godkjentImage_1bp9b_1",d5="_avslattImage_1bp9b_7",o5="_margin_1bp9b_13",g5="_fix_1bp9b_17",Yt={godkjentImage:l5,avslattImage:d5,margin:o5,fix:g5},u5="MELLOMLIGGENDE_PERIODE",k5=e=>e===lr.BEKREFTET_AVVIST||e===lr.ANTATT_AVVIST?"OpptjeningVilkarView.Avslatt":"OpptjeningVilkarView.Godkjent",Pk=e=>e===lr.BEKREFTET_GODKJENT||e===lr.ANTATT_GODKJENT||e===u5,m5=({fastsattOpptjeningAktivitet:e,lukkPeriode:n,velgNestePeriode:r,velgForrigePeriode:t})=>{const i=te();return Q.jsxs(Sd,{border:!0,children:[Q.jsx(Se,{children:Q.jsxs(L,{spaceBetween:!0,children:[Q.jsx(E,{children:Q.jsx(w,{size:"small",children:Q.jsx(m,{id:"OpptjeningVilkarView.DetailsForSelectedPeriod"})})}),Q.jsxs(E,{className:Yt.fix,children:[Q.jsx(se,{className:Yt.margin,size:"xsmall",icon:Q.jsx(aa,{"aria-hidden":!0}),onClick:t,variant:"secondary-neutral",type:"button",title:i.formatMessage({id:"TimeLineData.prevPeriod"}),children:Q.jsx(m,{id:"TimeLineData.prevPeriodShort"})}),Q.jsx(se,{className:Yt.margin,size:"xsmall",icon:Q.jsx(la,{"aria-hidden":!0}),onClick:r,variant:"secondary-neutral",type:"button",title:i.formatMessage({id:"TimeLineData.nextPeriod"}),iconPosition:"right",children:Q.jsx(m,{id:"TimeLineData.nextPeriodShort"})}),Q.jsx(se,{size:"xsmall",icon:Q.jsx(Wn,{"aria-hidden":!0}),onClick:n,variant:"tertiary-neutral",type:"button",title:i.formatMessage({id:"TimeLineData.lukkPeriode"})})]})]})}),Q.jsx(I,{sixteenPx:!0}),Q.jsx(_,{size:"small",children:Q.jsx(Ye,{dateStringFom:e.fom,dateStringTom:e.tom})}),Q.jsx(I,{sixteenPx:!0}),Q.jsxs(ge,{children:[Pk(e.klasse)&&Q.jsx(Td,{className:Yt.godkjentImage}),!Pk(e.klasse)&&Q.jsx(Wn,{className:Yt.avslattImage}),Q.jsx(m,{id:k5(e.klasse)})]})]})},f5={danger:Q.jsx(bm,{}),success:Q.jsx(Id,{}),info:Q.jsx(nb,{})},v5=e=>e===lr.BEKREFTET_AVVIST||e===lr.ANTATT_AVVIST?"danger":e===lr.BEKREFTET_GODKJENT||e===lr.ANTATT_GODKJENT?"success":"info",c5=e=>e.map(n=>({start:A(n.fom).toDate(),end:A(n.tom).toDate(),status:v5(n.klasse),opptjeningsperiode:n})),p5=e=>e==="info"?"OpptjeningTimeLineLight.MellomliggendePeriode":e==="success"?"OpptjeningTimeLineLight.Godkjent":"OpptjeningTimeLineLight.Avslatt",h5=({opptjeningPeriods:e,opptjeningFomDate:n,opptjeningTomDate:r})=>{const t=te(),i=j.useMemo(()=>[...e].sort((c,b)=>A(c.fom).diff(A(b.fom))),[e]),s=j.useMemo(()=>c5(i),[i]),[a,l]=j.useState(),o=c=>{const b=s.find(x=>{var T;return((T=x.opptjeningsperiode)==null?void 0:T.fom)===c});b&&l(b)},k=j.useCallback(()=>{l(void 0)},[]),u=j.useCallback(()=>{if(s){const c=s.findIndex(b=>{var x,T;return((x=b.opptjeningsperiode)==null?void 0:x.fom)===((T=a==null?void 0:a.opptjeningsperiode)==null?void 0:T.fom)})+1;c<s.length&&l(s[c])}},[s,a,l]),f=j.useCallback(()=>{if(s){const c=s.findIndex(b=>{var x,T;return((x=b.opptjeningsperiode)==null?void 0:x.fom)===((T=a==null?void 0:a.opptjeningsperiode)==null?void 0:T.fom)})-1;c>=0&&l(s[c])}},[s,a,l]);return Q.jsxs(Q.Fragment,{children:[Q.jsx(I,{twentyPx:!0}),Q.jsxs(qe,{startDate:A(n).subtract(1,"months").toDate(),endDate:A(r).add(10,"days").toDate(),children:[Q.jsxs(qe.Pin,{date:A(n).toDate(),children:[Q.jsx(w,{size:"small",children:Q.jsx(m,{id:"OpptjeningTimeLineLight.StartDato"})}),Q.jsx(_,{size:"small",children:Q.jsx(De,{dateString:n})})]}),Q.jsxs(qe.Pin,{date:A(r).toDate(),children:[Q.jsx(w,{size:"small",children:Q.jsx(m,{id:"OpptjeningTimeLineLight.SluttDato"})}),Q.jsx(_,{size:"small",children:Q.jsx(De,{dateString:r})})]}),Q.jsx(qe.Row,{label:"",children:s.map(c=>{var b,x,T;return Q.jsx(qe.Period,{start:c.start,end:c.end,status:c.status,onSelectPeriod:()=>{var N;return o((N=c.opptjeningsperiode)==null?void 0:N.fom)},isActive:((b=a==null?void 0:a.opptjeningsperiode)==null?void 0:b.fom)===((x=c.opptjeningsperiode)==null?void 0:x.fom),icon:f5[c.status],title:t.formatMessage({id:p5(c.status)})},(T=c.opptjeningsperiode)==null?void 0:T.fom)})})]}),Q.jsx(I,{sixteenPx:!0}),(a==null?void 0:a.opptjeningsperiode)&&Q.jsx(m5,{fastsattOpptjeningAktivitet:a.opptjeningsperiode,lukkPeriode:k,velgNestePeriode:u,velgForrigePeriode:f})]})},kp=({months:e,days:n,fastsattOpptjeningActivities:r=[],opptjeningFomDate:t,opptjeningTomDate:i})=>Q.jsxs(Q.Fragment,{children:[Q.jsx(_,{size:"small",children:Q.jsx(m,{id:"OpptjeningVilkarView.MonthsAndDays",values:{months:e,days:n}})}),Q.jsx(I,{eightPx:!0}),Q.jsx(_,{size:"small",children:Q.jsx(Ye,{dateStringFom:t,dateStringTom:i})}),Q.jsx(I,{sixteenPx:!0}),r.length>0&&Q.jsx(h5,{opptjeningPeriods:r,opptjeningFomDate:t,opptjeningTomDate:i})]}),b5=(e,n,r)=>({...Nd.buildInitialValues(e,n,r),...bt.buildInitialValues(e)}),j5=e=>({...Nd.transformValues(e),...bt.transformValues(e),kode:ue.VURDER_OPPTJENINGSVILKARET}),x5=({isApOpen:e,readOnlySubmitButton:n,readOnly:r,lovReferanse:t,aksjonspunkter:i,behandlingsresultat:s,status:a,fastsattOpptjening:l,submitCallback:o,erIkkeGodkjentAvBeslutter:k,formData:u,setFormData:f,erSvpFagsak:c})=>{const b=te(),x=j.useMemo(()=>b5(i,a,s),[s,i,a]),T=Qe({defaultValues:u||x}),N=i.some($=>$.status===at.OPPRETTET)?void 0:jm.OPPFYLT===a,S=j.useCallback($=>o(j5($)),[o]),B=j.useCallback((...$)=>Q.jsx("b",{children:$}),[]),y=j.useCallback($=>{var D;return((D=l.fastsattOpptjeningAktivitetList)==null?void 0:D.length)===0&&$===!0?b.formatMessage({id:"OpptjeningVilkarAksjonspunktPanel.KanIkkeVelgeOppfylt"}):null},[]),O=j.useCallback(()=>Q.jsxs(Q.Fragment,{children:[Q.jsx(I,{sixteenPx:!0}),Q.jsx(kp,{months:l.opptjeningperiode.måneder,days:l.opptjeningperiode.dager,fastsattOpptjeningActivities:l.fastsattOpptjeningAktivitetList,opptjeningFomDate:l.opptjeningFom,opptjeningTomDate:l.opptjeningTom})]}),[l]);return Q.jsx(en,{formMethods:T,onSubmit:S,setDataOnUnmount:f,children:Q.jsxs(Yh,{title:b.formatMessage({id:"OpptjeningVilkarAksjonspunktPanel.Opptjeningsvilkaret"}),isAksjonspunktOpen:e,readOnlySubmitButton:n,readOnly:r,lovReferanse:t,originalErVilkarOk:N,erIkkeGodkjentAvBeslutter:k,isDirty:T.formState.isDirty,isSubmitting:T.formState.isSubmitting,rendreFakta:O,children:[Q.jsx(w,{size:"small",children:Q.jsx(m,{id:c?"OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilSvangerskapspenger":"OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilForeldrepenger"})}),Q.jsx(Nd,{readOnly:r,customVilkarOppfyltText:Q.jsx(m,{id:c?"OpptjeningVilkarAksjonspunktPanel.ErOppfyltSvp":"OpptjeningVilkarAksjonspunktPanel.ErOppfylt"}),customVilkarIkkeOppfyltText:Q.jsx(m,{id:c?"OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfyltSvp":"OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfylt",values:{b:B}}),validatorsForRadioOptions:[y]}),Q.jsx(I,{sixteenPx:!0}),Q.jsx(bt,{readOnly:r})]})})},I5=({behandlingsresultat:e,fastsattOpptjening:n,isAksjonspunktOpen:r,aksjonspunkter:t,status:i,lovReferanse:s,readOnlySubmitButton:a,readOnly:l,submitCallback:o,erIkkeGodkjentAvBeslutter:k,formData:u,setFormData:f,erSvpFagsak:c})=>t.length>0?Q.jsx(x5,{submitCallback:o,isApOpen:r,readOnly:l,readOnlySubmitButton:a,behandlingsresultat:e,aksjonspunkter:t,status:i,lovReferanse:s,fastsattOpptjening:n,erIkkeGodkjentAvBeslutter:k,formData:u,setFormData:f,erSvpFagsak:c}):Q.jsx(kp,{months:n.opptjeningperiode.måneder,days:n.opptjeningperiode.dager,fastsattOpptjeningActivities:n.fastsattOpptjeningAktivitetList,opptjeningFomDate:n.opptjeningFom,opptjeningTomDate:n.opptjeningTom}),A5={"OpptjeningVilkarView.Oppfylt":"Vilkåret er oppfylt","OpptjeningVilkarView.Godkjent":"Godkjent","OpptjeningVilkarView.Avslatt":"Avslått","OpptjeningVilkarView.Months":"måneder","OpptjeningVilkarView.Weeks":"uker","OpptjeningVilkarView.Days":"dager","OpptjeningVilkarView.MonthsAndDays":"{months} måneder og {days} dager aktivitet i opptjeningsperioden","OpptjeningVilkarView.DetailsForSelectedPeriod":"Detaljer for valgt periode","OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilForeldrepenger":"Opptjent rett til foreldrepenger","OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilSvangerskapspenger":"Opptjent rett til svangerskapspenger","OpptjeningVilkarAksjonspunktPanel.ErOppfylt":"Søker har oppfylt krav om 6 mnd opptjening, vilkåret er oppfylt.","OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfylt":"Søker har ikke oppfylt krav om 6 mnd opptjening, vilkåret er <b>ikke</b> oppfylt.","OpptjeningVilkarAksjonspunktPanel.ErOppfyltSvp":"Søker har oppfylt krav om 4 uker opptjening, vilkåret er oppfylt.","OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfyltSvp":"Søker har ikke oppfylt krav om 4 uker mnd opptjening, vilkåret er <b>ikke</b> oppfylt.","OpptjeningVilkarAksjonspunktPanel.Opptjeningsvilkaret":"Opptjening","OpptjeningVilkarAksjonspunktPanel.KanIkkeVelgeOppfylt":"Du kan ikke velge at opptjeningsvilkåret er oppfylt, fordi det ikke finnes noen aktiviteter å beregne inntekten fra. Kontakt bruker for å avklare om bruker har noen opptjening.","OpptjeningTimeLineLight.StartDato":"Start opptjeningsperiode","OpptjeningTimeLineLight.SluttDato":"Slutt opptjeningsperiode","OpptjeningTimeLineLight.MellomliggendePeriode":"Mellomliggende periode","OpptjeningTimeLineLight.Godkjent":"Godkjent","OpptjeningTimeLineLight.Avslatt":"Avslått","TimeLineNavigation.openData":"Åpne info om første periode","TimeLineData.nextPeriod":"Neste periode","TimeLineData.prevPeriod":"Forrige periode","Timeline.openData":"Åpne info om første periode","TimeLineData.lukkPeriode":"Lukk periode","TimeLineData.nextPeriodShort":"Neste","TimeLineData.prevPeriodShort":"Forrige","ShowVilkarStatus.Check":"Informasjonen er utfylt"},T5=Me(A5),E5=({behandling:e,opptjening:n,aksjonspunkter:r,status:t,lovReferanse:i,submitCallback:s,isReadOnly:a,isAksjonspunktOpen:l,readOnlySubmitButton:o,alleMerknaderFraBeslutter:k,formData:u,setFormData:f,erSvpFagsak:c=!1})=>Q.jsx(Ze,{value:T5,children:Q.jsx(I5,{behandlingsresultat:e.behandlingsresultat,fastsattOpptjening:n.fastsattOpptjening,status:t,lovReferanse:i,aksjonspunkter:r,submitCallback:s,readOnly:a,isAksjonspunktOpen:l,readOnlySubmitButton:o,erIkkeGodkjentAvBeslutter:r.some(b=>{var x;return(x=k[b.definisjon])==null?void 0:x.notAccepted}),formData:u,setFormData:f,erSvpFagsak:c})});E5.__docgenInfo={description:"",methods:[],displayName:"yt",props:{erSvpFagsak:{defaultValue:{value:"!1",computed:!1},required:!1}}};const Bk=ue.OVERSTYR_LØPENDE_MEDLEMSKAPSVILKAR,Al=[_r.MEDLEMSKAPSVILKÅRET_LØPENDE],Ok=({rettigheter:e,...n})=>{const{behandling:r}=n,[t,i]=j.useState(!1),s=j.useCallback(()=>i(!t),[t]);return j.useEffect(()=>{i(!1)},[r.versjon]),$e.jsx(Rd,{...n,aksjonspunktKoder:[Bk],vilkarKoder:Al,prosessPanelKode:Ad.FORTSATTMEDLEMSKAP,prosessPanelMenyTekst:te().formatMessage({id:"Behandlingspunkt.FortsattMedlemskap"}),skalPanelVisesIMeny:a=>Em(a.aksjonspunkter,Al,a.vilkar),erOverstyrt:t,renderPanel:a=>$e.jsx(Ph,{aksjonspunkter:a==null?void 0:a.aksjonspunkter,aksjonspunktKode:Bk,vilkar:a.vilkar,vilkarKoder:Al,panelTekstKode:"Behandlingspunkt.FortsattMedlemskap",erMedlemskapsPanel:!1,toggleOverstyring:s,erOverstyrt:t,overrideReadOnly:a.isReadOnly,kanOverstyreAccess:e.kanOverstyreAccess})})};try{Ok.displayName="FortsattMedlemskapProsessStegInitPanel",Ok.__docgenInfo={description:"",displayName:"FortsattMedlemskapProsessStegInitPanel",props:{rettigheter:{defaultValue:null,description:"",name:"rettigheter",required:!0,type:{name:"AksessRettigheter"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}var ce=(e=>(e.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS="FASTSETT_BG_AT_FL",e.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE="VURDER_VARIG_ENDRT_NYOPPSTR_NAERNG_SN",e.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON="VURDER_VARIG_ENDRT_ARB_SITSJN_MDL_INAKTV",e.FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE="FASTSETT_BG_SN",e.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD="FASTSETT_BG_TB_ARB",e.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET="FASTSETT_BG_SN_NY_I_ARB_LIVT",e.VURDER_GRADERING_UTEN_BEREGNINGSGRUNNLAG="VURDER_GRADERING_UTEN_BG",e))(ce||{}),y5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fp={exports:{}},zt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $k;function _5(){if($k)return zt;$k=1;var e=K,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,o,k){var u,f={},c=null,b=null;k!==void 0&&(c=""+k),o.key!==void 0&&(c=""+o.key),o.ref!==void 0&&(b=o.ref);for(u in o)t.call(o,u)&&!s.hasOwnProperty(u)&&(f[u]=o[u]);if(l&&l.defaultProps)for(u in o=l.defaultProps,o)f[u]===void 0&&(f[u]=o[u]);return{$$typeof:n,type:l,key:c,ref:b,props:f,_owner:i.current}}return zt.Fragment=r,zt.jsx=a,zt.jsxs=a,zt}fp.exports=_5();var d=fp.exports,vp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var t=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var a=typeof s;if(a==="string"||a==="number")t.push(this&&this[s]||s);else if(Array.isArray(s))t.push(r.apply(this,s));else if(a==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){t.push(s.toString());continue}for(var l in s)n.call(s,l)&&s[l]&&t.push(this&&this[l]||l)}}}return t.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(vp);var S5=vp.exports;const F5=mp(S5),N5="_contentContainer_1rz2h_1",R5="_sideMenuContainer_1rz2h_4",P5="_mainContainer--withSideMenu_1rz2h_7",B5="_advarselIkon_1rz2h_11",ys={contentContainer:N5,sideMenuContainer:R5,"mainContainer--withSideMenu":"_mainContainer--withSideMenu_1rz2h_7",mainContainerWithSideMenu:P5,advarselIkon:B5},cp={"Beregningsgrunnlag.Title.Beregning":"Grunnlag for beregning","Beregningsgrunnlag.Title.Fastsettelse":"Fastsettelse","Beregningsgrunnlag.Title":"Beregning","Beregningsgrunnlag.Avslagsårsak.IkkeTilstrekkeligInntektsgrunnlag":"Ikke tilstrekkelig inntektsgrunnlag","Beregningsgrunnlag.HarIkkeBeregningsregler":"Har ikke beregningsregler (trer i kraft 1 jan. 2019). Sak overført til Infotrygd.","Beregningsgrunnlag.Helptext.Arbeidstaker":"Det er mer enn 25% avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget","Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.Nyoppstartet":"Søker har nyoppstartet næring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt","Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.VarigEndring":"Søker har oppgitt varig endring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.Helptext.VarigEndretArbeidssituasjon":"Varig endret arbeidssituasjon.","Beregningsgrunnlag.Helptext.TidsbegrensetArbeidsforhold":"Det er mer enn 25 % avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget, og det er tidsbegrenset arbeidsforhold","Beregningsgrunnlag.Helptext.NyIArbeidslivetSN":"Søker er ny i arbeidslivet","Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt":"Beregnet årsinntekt","Beregningsgrunnlag.Avviksopplysninger.ATFL.Tittel":"Avviksberegning for arbeidstaker og frilans","Beregningsgrunnlag.Avviksopplysninger.SN.Tittel":"Avviksberegning for næring","Beregningsgrunnlag.Avviksopplysninger.MIDL.Tittel":"Avviksberegning for midlertidig inaktiv","Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt.Naring":"Pensjonsgivende inntekt","Beregningsgrunnlag.Avviksopplysninger.RapportertAarsinntekt":"Sammenligningsgrunnlag","Beregningsgrunnlag.Avviksopplysninger.SamletInntekt":"Samlet inntekt","Beregningsgrunnlag.Avviksopplysninger.BeregnetAvvik":"Beregnet avvik ","Beregningsgrunnlag.Avviksopplysninger.SN.NyIArbeidslivet":"Søker er ny i arbeidslivet. Det foretas derfor ingen avviksvurdering.","Beregningsgrunnlag.Avviksopplysninger.AT.KobinasjonsStatusATFLSN":"Det regnes ikke avvik på arbeids- og frilansinntekt for kombinasjonen arbeid, frilans og selvstendig næringsdrivende i beregningsgrunnlag der skjæringstidspunkt er før 01.01.2023","Beregningsgrunnlag.Avviksopplysninger.AAP":"Det foretas ikke avviksvurdering på AAP","Beregningsgrunnlag.Avviksopplysninger.Dagpenger":"Det foretas ikke avviksvurdering på Dagpenger","Beregningsgrunnlag.Avviksopplysninger.Besteberegning":"Det foretas ingen avviksvurdering når søker har besteberegning på dagpenger","Beregningsgrunnlag.Avviksopplysninger.Miletar":"Det regnes ikke avvik ved militær- eller siviltjeneste.","Beregningsgrunnlag.Avviksopplysninger.AvvikProsent":"{avvik}%","Beregningsgrunnlag.Skjeringstidspunkt.SkjeringForBeregning":"Skjæringstidspunkt for beregning","Beregningsgrunnlag.Skjeringstidspunkt.LonnsendringSisteTreMan":"Søker har hatt lønnsendring i løpet av de siste tre månedene","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.manueltBehandlet":"Bruker har hatt lønnsendring {datoer}. Inntekt er fastsatt manuelt.","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.delvisMåned":"Bruker har hatt lønnsendring {datoer}. Dette betyr at rapportert inntekt for {måned} er en kombinasjon av ny og gammel inntekt. Ny inntekt er beregnet ved først å finne gammel inntekt fra rapportert inntekt i {forrigeMåned} og deretter regne oss fram til ny inntekt ved å bruke forholdet mellom dagene før og etter lønnsendringen.","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullEnMåned":"Bruker har hatt lønnsendring {datoer}. Ny inntekt er beregnet ved å bruke rapportert inntekt i {nesteMåned}.","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullToMåned":"Bruker har hatt lønnsendring {datoer}. Ny inntekt er beregnet ved å bruke snittet av rapportert inntekt i {nesteMåned} og {sisteMåned}.","Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt":"Arbeidsinntekt","Beregningsgrunnlag.AarsinntektPanel.Pensjonsgivendeinntekt":"Pensjonsgivende inntekt","Beregningsgrunnlag.AarsinntektPanel.SN.TreSisteÅr":"3 siste år fra skatt","Beregningsgrunnlag.AarsinntektPanel.SN.ATFL":"Arbeid/frilans","Beregningsgrunnlag.AarsinntektPanel.SN.Næring":"Næring","Beregningsgrunnlag.AarsinntektPanel.SN.Sum":"Sum","Beregningsgrunnlag.AarsinntektPanel.SN.Gjustert":"G-justert","Beregningsgrunnlag.AarsinntektPanel.SN.sisteTreAar":"3 siste ferdigliknede år fra skatteetaten","Beregningsgrunnlag.AarsinntektPanel.SN.GsnittSum":"Gjennomsnittlig pensjonsgivende inntekt","Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar":"Beregnet År","Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned":"Måned","Beregningsgrunnlag.AarsinntektPanel.Frilansinntekt":"Frilansinntekt","Beregningsgrunnlag.AarsinntektPanel.FrilansStartDato2":"Søker har vært frilans fra ","Beregningsgrunnlag.AarsinntektPanel.InnrapportertFrilans":"Innrapportert i a-ordningen siste 3 mnd","Beregningsgrunnlag.AarsinntektPanel.Militær":"Militær- eller sivilforsvarstjeneste","Beregningsgrunnlag.AarsinntektPanel.Pensjonsgivende":"Pensjonsgivende inntekt","Beregningsgrunnlag.AarsinntektPanel.TotaltArbeidsinntekt":"Totalt","Beregningsgrunnlag.AarsinntektPanel.TotalPensjonsGivende":"Total","Beregningsgrunnlag.AarsinntektPanel.Tidsbegrenset":"Tidsbegrenset","Beregningsgrunnlag.AarsinntektPanel.SnittPensjonsGivende":"Gjennomsnittlig pensjonsgivende inntekt","Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringNyoppstartet":"Vurder om det er varig endring i næringen og/eller arbeidssituasjonen, som gjør at inntekten skal fastsettes skjønnsmessig","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndring":"Søker har opplyst varig endring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerNyoppstartet":"Søker har nyoppstartet næring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.AksjonspunktBehandler.TittelATAvvik":"Fastsett årsinntekt skjønnsmessig for arbeidstaker","Beregningsgrunnlag.AksjonspunktBehandler.TittelFLAvvik":"Fastsett årsinntekt skjønnsmessig for frilans","Beregningsgrunnlag.AksjonspunktBehandler.TittelATFLAvvik":"Fastsett årsinntekt skjønnsmessig for arbeidstaker og frilans","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFL":"Det er mer enn 25% avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget.","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFLTidsbegrenset":"Det er mer enn 25 % avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget, og det er tidsbegrenset arbeidsforhold.","Beregningsgrunnlag.AksjonspunktBehandler.TittelSNNyIArb":"Søker er ny i arbeidslivet, gjør en skjønnsmessig vurdering av næringsinntekten","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerSNNyIArb":"Søker har oppgitt å være ny i arbeidslivet (blitt yrkesaktiv siste tre år).","Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringArbeid":"Vurder om det er varig endring i arbeidssituasjonen, som gjør at inntekten skal fastsettes skjønnsmessig","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndringArbeid":"Det er er mer enn 25 % avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringNæring":"Har søker hatt varig endret næring og/eller arbeidssituasjon? ","Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringArbeid":"Har søker hatt varig endret arbeidssituasjon? ","Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelNyoppstartetNæring":"Har søker nyoppstartet næring? ","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandler":"Skjønnsmessig fastsettelse av årsinntekt ved avvik","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerTB.SumPeriode":"Total årsintekt pr periode","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandler.OmberegnetAar":"Beregnet År","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerFL":"Frilansinntekt fastsettes til","Beregningsgrunnlag.AarsinntektPanel.Naturalytelse2":"Naturalytelser","Beregningsgrunnlag.NaeringsOpplysningsPanel.Overskrift":"Opplysninger om næring fra søknad","Beregningsgrunnlag.NaeringsOpplysningsPanel.OppgittAar":"Oppgitt år","Beregningsgrunnlag.NaeringsOpplysningsPanel.VarigEndret":"Søker har oppgitt varig endring fra <b>{dato}</b>","Beregningsgrunnlag.NaeringsOpplysningsPanel.Nyoppstaret":"Søker har oppgitt nyoppstartet fra <b>{dato}</b>","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.JORDBRUK_SKOGBRUK":"Jordbruk / Skogbruk","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.DAGMAMMA":"Dagmamma i eget hjem / familiebarnehage","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FISKE":"Fiske","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FRILANSER":"Frilanser","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.ANNEN":"Annen næringsvirksomhet","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.UDEFINERT":"Ikke definert","Beregningsgrunnlag.Forms.Vurdering":"Vurdering","Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag":"Vurdering av fastsatt beregningsgrunnlag","Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst":"Forklar hvordan du har kommet frem til beregningsgrunnlaget og hvilke vurderinger du har gjort. Beskriv hvorfor det er avvik og hvilken inntekt som kan legges til grunn. Dette skal gjøres i henhold til lovhjemmel.","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IngenEndring":"Ingen varig endring eller nyoppstartet næring","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.EndretNaering":"Varig endring eller nyoppstartet næring","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeNyoppstartet":"Næringsvirksomhet er ikke nyoppstartet","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeVarigEndring":"Ingen varig endring","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndring":"Varig endring - årsinntekt må fastsettes.","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.Nyoppstartet":"Nyoppstartet næring - Årsinntekt må fastsettes.","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.BruttoBerGr2":"Næringsinntekt fastsettes til","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndretInntektFastsettesTil":"Varig endret årsinntekt fastsettes til","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.SumTittel":"Rapportert årsinntekt","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Tittel":"Sammenligningsgrunnlag fra a-ordningen","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ingress":"Inntekt og ytelser etter kap 8, 9 og 14 de 12 siste månedene","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Arbeid":"Arbeid","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Frilans":"Frilans","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ytelse":"Ytelse","Beregningsgrunnlag.TilstottendeYtelse.Tittel":"Tilstøtende ytelse","Beregningsgrunnlag.TilstottendeYtelse.TittelNav":"Ytelser fra NAV","Beregningsgrunnlag.TilstottendeYtelse.Dagpenger":"Dagpenger","Beregningsgrunnlag.TilstottendeYtelse.SykepengerAvDagpenger":"Sykepenger basert på dagpenger","Beregningsgrunnlag.TilstottendeYtelse.PleiepengerAvDagpenger":"Pleiepenger basert på dagpenger","Beregningsgrunnlag.TilstottendeYtelse.AAP":"Arbeidsavklaringspenger","Beregningsgrunnlag.TilstottendeYtelse.Besteberegning":"Satt ut fra besteberegning","Beregningsgrunnlag.YtelserFraInfotrygd.Ytelse2":"Ytelse fra NAV","Beregningsgrunnlag.YtelserFraInfotrygd.YtelseNavn":"Ytelse","Beregningsgrunnlag.BeregningTable.Periode":"Periode {fom} - {tom}","Beregningsgrunnlag.BeregningTable.Tittel":"Beregning av dagsats","Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfylt2":"Beløpet er under 1/2 G (G = {grunnbeløp}) - søker har ikke rett til ytelse","Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfyltMidlertidigInaktiv":"Beløpet er under 1 G (G = {grunnbeløp}) - søker har ikke rett til ytelse","Beregningsgrunnlag.Gradering.Beskrivelse":"Saksbehandler har tidligere vurdert om fordeling av inntekt er korrekt grunnet en andel uten utbetaling som skal graderes.","Besteberegning.ResultatGrunnlag.BruttoBeregningsgrunnlag":"Beregnet","Besteberegning.ResultatGrunnlag.BeregningEtterBesteberegning":"§14-7, 3. ledd","Besteberegning.ResultatGrunnlag.BrukerOmfattesAvBesteberegning":"Søker omfattes av §14-7, 3. ledd.","Besteberegning.ResultatGrunnlag.BeregningEtterKap8":"§14-7, 1. ledd","Besteberegning.ResultatGrunnlag.Kap1473GirBesteBeregning":"Beregning etter §14-7, 3. ledd gir beste beregning.","Besteberegning.ResultatGrunnlag.Kap1471GirBesteBeregning":"Beregning etter §14-7, 1. ledd gir beste beregning.","SubmitButton.ConfirmInformation":"Bekreft og fortsett","Malform.Beskrivelse":"Foretrukket språk","HelpText.Aksjonspunkt":"Aksjonspunkt","Behandling.EditedField":"Saksbehandler har endret feltets verdi","Beregningsgrunnlag.Beregningsresultat.Periode":"Periode {fom} - {tom}","Beregningsgrunnlag.Beregningsresultat.Arbeid":"Fastsatt årsinntekt arbeid","Beregningsgrunnlag.Beregningsresultat.Frilans":"Fastsatt årsinntekt frilans","Beregningsgrunnlag.Beregningsresultat.Næring":"Fastsatt årsinntekt næring","Beregningsgrunnlag.Beregningsresultat.Dagpenger":"Fastsatt årsinntekt dagpenger","Beregningsgrunnlag.Beregningsresultat.SykepengerAvDagpenger":"Fastsatt årsinntekt sykepenger av dagpenger","Beregningsgrunnlag.Beregningsresultat.PleiepengerAvDagpenger":"Fastsatt årsinntekt pleiepenger av dagpenger","Beregningsgrunnlag.Beregningsresultat.Arbeidsavklaringspenger":"Fastsatt årsinntekt arbeidsavklaringspenger","Beregningsgrunnlag.Beregningsresultat.Militær":"Fastsatt årsinntekt militær","Beregningsgrunnlag.Beregningsresultat.BrukersAndel":"Fastsatt årsinntekt brukers andel","Beregningsgrunnlag.Beregningsresultat.Ytelse":"Fastsatt årsinntekt ytelse","Beregningsgrunnlag.Beregningsresultat.IkkeBeregnet":"Ikke beregnet","Beregningsgrunnlag.Beregningsresultat.Naturalytelser":"Naturalytelser","Beregningsgrunnlag.Beregningsresultat.TotalÅrsinntekt":"Total årsinntekt","Beregningsgrunnlag.Beregningsresultat.Avkortet":"Årsinntekt redusert til 6G på skjæringstidspunktet","Beregningsgrunnlag.Beregningsresultat.Redusert":"Årsinntekt redusert til 80% dekningsgrad","Beregningsgrunnlag.Beregningsresultat.Dagsats":"Dagsats (årsinntekt/260 dager)","Beregningsgrunnlag.Søknad.Tittel":"Opplysninger fra søknad","Beregningsgrunnlag.Søknad.LøpendeFL":"Oppgitt frilansinntekt i søknadsperioden","Beregningsgrunnlag.Søknad.LøpendeSN":"Oppgitt næringsinntekt i søknadsperioden","Beregningsgrunnlag.Søknad.SøktYtelseSN":"Bruker har søkt inntektskompensasjon for næringsinntekt i perioden {fom} - {tom}","Beregningsgrunnlag.Frisinn.Resultat":"Grunnlag for dagsats","Beregningsgrunnlag.Frisinn.Inntektstak":"Inntektstak ({grenseverdi} - {annenInntekt})","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagFL":"Beregningsgrunnlag frilans","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagSN":"Beregningsgrunnlag næring","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertFL":"Redusert til {grad}% beregningsgrunnlag frilans","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertSN":"Redusert til {grad}% beregningsgrunnlag næring","Beregningsgrunnlag.Frisinn.Tittel":"FRISINN","Beregningsgrunnlag.Frisinn.InntektFL":"Frilansinntekt","Beregningsgrunnlag.Frisinn.InntektSN":"Næringsinntekt","Beregningsgrunnlag.Frisinn.InntektAT":"Arbeidstakerinntekt","Beregningsgrunnlag.Søknad.Inntektsopplysninger":"Opplysninger om inntekt","Beregningsgrunnlag.Resultat.Dagsats":"Dagsats","Beregningsgrunnlag.Frisinn.InntektstakOpplysninger":"Opplysninger om inntektstak","Beregningsgrunnlag.Frisinn.InntektstakOpplysningerPeriode":"Opplysninger om inntektstak i perioden {fom} - {tom}"},O5="_readOnlyBlokk_3qjl7_1",$5={readOnlyBlokk:O5},V5=({avklaringsbehov:e})=>!e||!e.begrunnelse?null:d.jsxs(d.Fragment,{children:[d.jsx(w,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Gradering.Beskrivelse"})}),d.jsx(I,{sixteenPx:!0}),d.jsxs(_,{size:"small",className:$5.readOnlyBlokk,children:[e.begrunnelse," ",d.jsx(ht,{})]})]}),D5=e=>e.overstyrtPrAar||e.overstyrtPrAar===0?e.overstyrtPrAar:e.beregnetPrAar||e.beregnetPrAar===0?e.beregnetPrAar:0,G5=e=>e&&e.beregningsgrunnlagPrStatusOgAndel?e.beregningsgrunnlagPrStatusOgAndel.map(n=>D5(n)).reduce((n,r)=>n+r,0):0,L5=e=>e.flatMap(n=>n.inntekter).map(({inntekt:n})=>n).reduce((n,r)=>n+r,0)*2,Vk=(e,n)=>e>n,M5=[d.jsx("div",{},"TomKolNøkkel"),d.jsxs(w,{size:"small",children:[" ",d.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BeregningEtterKap8"})," "]},"Kap8Nøkkel"),d.jsxs(w,{size:"small",children:[" ",d.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BeregningEtterBesteberegning"})," "]},"BBNøkkel")],K5=({periode:e,besteMåneder:n})=>{if(!n||n.length<1)return null;const r=G5(e),t=L5(n);return d.jsxs("div",{children:[d.jsx(L,{children:d.jsx(E,{children:d.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BrukerOmfattesAvBesteberegning"})})}),d.jsx(I,{twentyPx:!0}),d.jsx(L,{children:d.jsx(E,{children:d.jsx(kn,{headerColumnContent:M5,noHover:!0,children:d.jsxs(nn,{children:[d.jsx(W,{children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BruttoBeregningsgrunnlag"})})}),d.jsx(W,{children:d.jsx(_,{size:"small",children:q(r)})}),d.jsx(W,{children:d.jsx(_,{size:"small",children:q(t)})})]})})})}),d.jsx(L,{children:d.jsx(E,{children:d.jsxs(_,{size:"small",children:[Vk(r,t)&&d.jsx(m,{id:"Besteberegning.ResultatGrunnlag.Kap1471GirBesteBeregning"}),!Vk(r,t)&&d.jsx(m,{id:"Besteberegning.ResultatGrunnlag.Kap1473GirBesteBeregning"})]})})})]})},w5="_avsnittOverskrift_3qwr0_1",U5="_venstreKolonne_3qwr0_5",C5="_hoyreKolonne_3qwr0_8",Y5="_panelLeft_3qwr0_11",z5="_panelRight_3qwr0_21",H5="_storSpace_3qwr0_32",J5="_semiBoldText_3qwr0_35",q5="_næringEndringBeskrivelse_3qwr0_38",W5="_redError_3qwr0_41",Z5="_tabellAktivitet_3qwr0_44",X5="_tabellInntekt_3qwr0_54",Q5="_næringOpplysningNavn_3qwr0_66",ew="_næringOpplysningInntekt_3qwr0_69",nw="_næringOpplysningOrgnr_3qwr0_73",rw="_næringOpplysningDato_3qwr0_76",tw="_heldekkendeKol_3qwr0_79",iw="_tagMargin_3qwr0_85",sw="_colDivider_3qwr0_88",aw="_noPaddingRight_3qwr0_92",lw="_arbeidPanelSkille_3qwr0_95",z={avsnittOverskrift:w5,venstreKolonne:U5,hoyreKolonne:C5,panelLeft:Y5,panelRight:z5,storSpace:H5,semiBoldText:J5,næringEndringBeskrivelse:"_næringEndringBeskrivelse_3qwr0_38",naeringEndringBeskrivelse:q5,redError:W5,tabellAktivitet:Z5,tabellInntekt:X5,næringOpplysningNavn:"_næringOpplysningNavn_3qwr0_66",naeringOpplysningNavn:Q5,næringOpplysningInntekt:"_næringOpplysningInntekt_3qwr0_69",naeringOpplysningInntekt:ew,næringOpplysningOrgnr:"_næringOpplysningOrgnr_3qwr0_73",naeringOpplysningOrgnr:nw,næringOpplysningDato:"_næringOpplysningDato_3qwr0_76",naeringOpplysningDato:rw,heldekkendeKol:tw,tagMargin:iw,colDivider:sw,noPaddingRight:aw,arbeidPanelSkille:lw};var pp={exports:{}};(function(e,n){(function(r,t){e.exports=t(A)})(y5,function(r){function t(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var i=t(r),s={name:"nb",weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),ordinal:function(a){return a+"."},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"}};return i.default.locale(s,null,!0),s})})(pp);var dw=pp.exports;const cd=mp(dw),Dk=e=>e?`...${e.substring(e.length-4,e.length)}`:"",Fa=(e,n)=>{const{navn:r,fødselsdato:t,erPrivatPerson:i,identifikator:s}=e;return i?t?`${r} (${A(t).format(ie)})${Dk(n)}`:r:s?`${r} (${s})${Dk(n)}`:r},Gk=(e,n)=>{var r;return e.arbeidsforhold&&e.arbeidsforhold.arbeidsforholdType&&((r=n[be.OPPTJENING_AKTIVITET_TYPE].find(t=>{var i;return t.kode===((i=e.arbeidsforhold)==null?void 0:i.arbeidsforholdType)}))==null?void 0:r.navn)||""},pd=(e,n,r)=>{if(e.arbeidsforhold&&e.arbeidsforhold.arbeidsgiverIdent){const t=n[e.arbeidsforhold.arbeidsgiverIdent];return t?Fa(t,e.arbeidsforhold.eksternArbeidsforholdId):Gk(e,r)}return Gk(e,r)},Ht=e=>A(e).locale(cd).format("MMMM");function gs(e,n,r){const t=e.filter(i=>i.lønnsendringscenario===n).map(i=>`i ${Fa(r[i.arbeidsforhold.arbeidsgiverIdent],void 0)}
      ${A(i.sisteLønnsendringsdato).format(ie)}`);return t.reduce((i,s,a)=>a===0?s:a<t.length-2?`${i}, ${s}`:`${i} og ${s}`,"")}const ow=(e,n,r,t)=>{switch(e){case rr.MANUELT_BEHANDLET:return d.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.manueltBehandlet",values:{datoer:gs(r,rr.MANUELT_BEHANDLET,t)}});case rr.DELVIS_MÅNEDSINNTEKT_SISTE_MND:return d.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.delvisMåned",values:{datoer:gs(r,rr.DELVIS_MÅNEDSINNTEKT_SISTE_MND,t),måned:Ht(A(n).subtract(1,"month").format(Pt)),forrigeMåned:Ht(A(n).subtract(2,"month").format(Pt))}});case rr.FULL_MÅNEDSINNTEKT_EN_MND:return d.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullEnMåned",values:{datoer:gs(r,rr.FULL_MÅNEDSINNTEKT_EN_MND,t),nesteMåned:Ht(A(n).subtract(1,"month").format(Pt))}});case rr.FULL_MÅNEDSINNTEKT_TO_MND:return d.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullToMåned",values:{datoer:gs(r,rr.FULL_MÅNEDSINNTEKT_TO_MND,t),sisteMåned:Ht(A(n).subtract(1,"month").format(Pt)),nesteMåned:Ht(A(n).subtract(2,"month").format(Pt))}});default:return null}};function gw(e,n,r){return ah(e.map(t=>t.lønnsendringscenario)).map(t=>d.jsxs(d.Fragment,{children:[ow(t,n,e,r),d.jsx("br",{}),d.jsx(I,{sixteenPx:!0})]}))}const uw=({skjeringstidspunktDato:e,saksopplysninger:n,arbeidsgiverOpplysningerPerId:r})=>{const t=[];return n&&n.lønnsendringSaksopplysning&&n.lønnsendringSaksopplysning.length>0&&t.push({textId:"Beregningsgrunnlag.Skjeringstidspunkt.LonnsendringSisteTreMan",readMoreContent:gw(n.lønnsendringSaksopplysning,e,r)}),d.jsx(Nh,{saksopplysninger:t})},kw=e=>{switch(e){case R.SELVSTENDIG_NAERINGSDRIVENDE:return"alt2";case R.FRILANSER:return"alt1";case R.ARBEIDSTAKER:return"alt3";default:return"neutral"}},mw=(e,n)=>{const r=[];return e.filter((t,i,s)=>i===s.findIndex(a=>a===t)).forEach(t=>{var i;const s=((i=n[be.AKTIVITET_STATUS].find(a=>a.kode===t))==null?void 0:i.navn)||"";r.push({visningsNavn:s,kode:t,tagType:kw(t)})}),r.sort((t,i)=>t.visningsNavn>i.visningsNavn?1:-1),d.jsx(L,{children:r.map(t=>d.jsx(E,{className:z.tagRad,children:d.jsx(sa,{variant:t.tagType,title:t.visningsNavn,className:z.tagMargin,children:t.visningsNavn})},t.visningsNavn))})},fw=({skjeringstidspunktDato:e,aktivitetStatusList:n,kodeverkSamling:r,saksopplysninger:t,arbeidsgiverOpplysningerPerId:i})=>d.jsxs("div",{className:z.panelLeft,children:[mw(n,r),d.jsx(I,{sixteenPx:!0}),d.jsxs(Se,{children:[d.jsxs(L,{children:[d.jsx(E,{children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.SkjeringForBeregning"})})}),d.jsx(E,{children:d.jsx(_,{size:"small",className:z.semiBoldText,children:d.jsx(De,{dateString:e})})})]}),!!t&&!!t.lønnsendringSaksopplysning&&t.lønnsendringSaksopplysning.length>0&&d.jsxs(d.Fragment,{children:[d.jsx(I,{sixteenPx:!0}),d.jsx(L,{children:d.jsx(E,{children:d.jsx(uw,{arbeidsgiverOpplysningerPerId:i,skjeringstidspunktDato:e,saksopplysninger:t})})})]})]})]}),vw=({bruttoPrAar:e})=>e||e===0?d.jsxs(d.Fragment,{children:[d.jsx(L,{children:d.jsxs(E,{children:[d.jsx(oe,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.YtelserFraInfotrygd.Ytelse2"})}),d.jsx(I,{eightPx:!0})]})}),d.jsxs(L,{children:[d.jsx(E,{className:z.tabellAktivitet}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(ke,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(ke,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),d.jsxs(L,{children:[d.jsx(E,{className:z.tabellAktivitet,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.YtelserFraInfotrygd.YtelseNavn"})})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(_,{size:"small",children:q(e/12)})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(w,{size:"small",children:q(e)})})]})]}):null,cw=[],pw=(e,n,r)=>{var t,i,s;const a=r.find(f=>f.år===e),l=a&&((t=a.inntekter.find(f=>f.pgiType===qo.NÆRING))==null?void 0:t.beløp)||0,o=a&&((i=a.inntekter.find(f=>f.pgiType===qo.LØNN))==null?void 0:i.beløp)||0,k=l+o,u=(s=n.find(f=>f.årstall===e))==null?void 0:s.beløp;return d.jsxs(re.Row,{shadeOnHover:!0,children:[d.jsx(re.DataCell,{children:e}),d.jsx(re.DataCell,{align:"right",children:q(o)}),d.jsx(re.DataCell,{align:"right",children:q(l)}),d.jsx(re.DataCell,{align:"right",children:q(k)}),d.jsx(re.DataCell,{align:"right",children:q(u)})]},e)},hw=(e,n)=>e.map(r=>r.årstall).sort((r,t)=>r-t).reverse().map(r=>pw(r,e,n)),bw=e=>d.jsxs(re.Row,{shadeOnHover:!0,children:[d.jsx(re.DataCell,{children:d.jsx(w,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.GsnittSum"})})}),d.jsx(re.DataCell,{}),d.jsx(re.DataCell,{}),d.jsx(re.DataCell,{}),d.jsx(re.DataCell,{align:"right",children:d.jsx(w,{children:q(e)})})]},"PGI-Oppsumert"),jw=({alleAndeler:e,inntektsgrunnlag:n})=>{const r=e.find(a=>a.aktivitetStatus===R.SELVSTENDIG_NAERINGSDRIVENDE||a.aktivitetStatus===R.BRUKERS_ANDEL),t=(n==null?void 0:n.pgiGrunnlag)||cw;if(!r||!r.pgiSnitt||!r.pgiVerdier)return null;const{pgiVerdier:i,pgiSnitt:s}=r;return d.jsxs(d.Fragment,{children:[d.jsx(oe,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Pensjonsgivendeinntekt"})}),d.jsxs(re,{children:[d.jsx(re.Header,{children:d.jsxs(re.Row,{children:[d.jsx(re.HeaderCell,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.TreSisteÅr"})}),d.jsx(re.HeaderCell,{align:"right",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.ATFL"})}),d.jsx(re.HeaderCell,{align:"right",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.Næring"})}),d.jsx(re.HeaderCell,{align:"right",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.Sum"})}),d.jsx(re.HeaderCell,{align:"right",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.Gjustert"})})]})}),d.jsxs(re.Body,{children:[hw(i,t),bw(s)]})]})]})},xw="_colDevider_1att7_1",Iw={colDevider:xw},wn=({prosentBredde:e})=>{const n=`${e}%`;return d.jsx(L,{children:d.jsx("div",{style:{width:n},children:d.jsx(E,{children:d.jsx("div",{className:Iw.colDevider})})})})},Aw=e=>e.aktivitetStatus===R.DAGPENGER?"Beregningsgrunnlag.TilstottendeYtelse.Dagpenger":e.aktivitetStatus===R.SYKEPENGER_AV_DAGPENGER?"Beregningsgrunnlag.TilstottendeYtelse.SykepengerAvDagpenger":e.aktivitetStatus===R.PLEIEPENGER_AV_DAGPENGER?"Beregningsgrunnlag.TilstottendeYtelse.PleiepengerAvDagpenger":e.aktivitetStatus===R.ARBEIDSAVKLARINGSPENGER?"Beregningsgrunnlag.TilstottendeYtelse.AAP":"",Tw=e=>e===R.DAGPENGER,Ew=({alleAndeler:e,relevanteStatuser:n,gjelderBesteberegning:r})=>{const t=e.filter(s=>Fm(s.aktivitetStatus)),i=t.length>1;return d.jsxs(d.Fragment,{children:[n.isKombinasjonsstatus&&d.jsxs(d.Fragment,{children:[d.jsx(I,{eightPx:!0}),d.jsx(oe,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.TilstottendeYtelse.TittelNav"})}),d.jsx(I,{eightPx:!0})]}),d.jsxs(L,{children:[d.jsx(E,{className:z.tabellAktivitet}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(ke,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(ke,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),d.jsx(wn,{prosentBredde:100}),t.map(s=>d.jsxs("div",{children:[d.jsxs(L,{children:[d.jsx(E,{className:z.tabellAktivitet,children:d.jsx(w,{size:"small",children:d.jsx(m,{id:Aw(s)})})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(_,{size:"small",children:q(s.beregnetPrAar?s.beregnetPrAar/12:0)})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(_,{size:"small",className:i?"":z.semiBoldText,children:q(s.beregnetPrAar)})})]}),d.jsx(wn,{prosentBredde:100}),r&&Tw(s.aktivitetStatus)&&d.jsx(L,{children:d.jsx(E,{children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.TilstottendeYtelse.Besteberegning"})})})})]},s.aktivitetStatus))]})},yw=({alleAndeler:e})=>{const n=e.filter(t=>t.aktivitetStatus===R.MILITAER_ELLER_SIVIL),r=n&&n.length>0?n[0].beregnetPrAar:"";return d.jsxs(d.Fragment,{children:[d.jsx(L,{children:d.jsx(E,{children:d.jsx(oe,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Militær"})})})}),d.jsx(I,{eightPx:!0}),d.jsx(L,{children:d.jsx(E,{children:d.jsx(w,{size:"small",children:q(r)})})})]})},_w="_aksjonspunktBehandlerBorder_6jbny_1",Sw="_aksjonspunktBehandlerHeader_6jbny_10",Fw="_aksjonspunktBehandlerImageCol_6jbny_18",Nw="_aksjonspunktBehandlerTextCol_6jbny_24",Rw="_aksjonspunktBehandlerNoBorder_6jbny_27",Pw="_aksjonspunktBehandlerContainer_6jbny_30",Bw="_verticalLine_6jbny_40",Ow="_verticalAlignMiddle_6jbny_47",$w="_inputPadding_6jbny_54",Vw="_inntektTableTB_6jbny_65",Dw="_inntektTableTB_6jbny_65",Gw="_rowSpacer_6jbny_69",Lw="_textAreaWrapper_6jbny_109",Mw="_textAreaWrapperHeigh_6jbny_112",Kw="_dynamiskKolonne_6jbny_119",ww="_textAreaStyle_6jbny_123",Uw="_bredde_6jbny_126",Cw="_atflAvvikAktivitet_6jbny_129",Yw="_atflAvvikInntekt_6jbny_133",zw="_atflEditedIcon_6jbny_136",Hw="_breddeInntekt_6jbny_139",Jw="_warningIcon_6jbny_142",ve={aksjonspunktBehandlerBorder:_w,aksjonspunktBehandlerHeader:Sw,aksjonspunktBehandlerImageCol:Fw,aksjonspunktBehandlerTextCol:Nw,aksjonspunktBehandlerNoBorder:Rw,aksjonspunktBehandlerContainer:Pw,verticalLine:Bw,verticalAlignMiddle:Ow,inputPadding:$w,inntektTableTB:Vw,inntektTableTb:Dw,rowSpacer:Gw,textAreaWrapper:Lw,textAreaWrapperHeigh:Mw,dynamiskKolonne:Kw,textAreaStyle:ww,bredde:Uw,atflAvvikAktivitet:Cw,atflAvvikInntekt:Yw,atflEditedIcon:zw,breddeInntekt:Hw,warningIcon:Jw},Lk="inntektField",hp=e=>!!e.periodeAarsaker&&e.periodeAarsaker.map(n=>n).includes(yn.ARBEIDSFORHOLD_AVSLUTTET),Po=e=>{let n=0;for(;n<e.length&&!hp(e[n]);)n+=1;const r={...e[n]};return r.beregningsgrunnlagPeriodeTom=e[e.length-1].beregningsgrunnlagPeriodeTom,r},qw=e=>{const n=[];let r=0;for(;r<e.length;){const t={...e[r]};for(r+=1;r<e.length&&!hp(e[r]);)r+=1;t.beregningsgrunnlagPeriodeTom=e[r-1].beregningsgrunnlagPeriodeTom,n.push(t)}return n},Na=(e,n)=>e.arbeidsforhold?`${Lk}_${e.arbeidsforhold.arbeidsforholdId}_${e.andelsnr}_${n.beregningsgrunnlagPeriodeFom}`:`${Lk}_${e.andelsnr}_${n.beregningsgrunnlagPeriodeFom}`,Ki=e=>e.beregningsgrunnlagPrStatusOgAndel?e.beregningsgrunnlagPrStatusOgAndel.filter(n=>n.aktivitetStatus===R.ARBEIDSTAKER&&n.erTilkommetAndel!==!0):[],Bo=e=>{const n=e!=null&&e.arbeidsforholdId?e==null?void 0:e.arbeidsforholdId:"";return e?`${e.arbeidsgiverIdent}${n}`:""},Ww=e=>{const n={};return Ki(e).forEach(r=>{n[Bo(r.arbeidsforhold)]=q(r.beregnetPrAar)}),n},Zw=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?r[e.arbeidsgiverIdent]:null;return i?Fa(i,e.eksternArbeidsforholdId):e.arbeidsforholdType?(t=n[be.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn:""},hd=()=>({erTidsbegrenset:!0,isEditable:!1,tabellInnhold:"",inputfieldKey:""}),Xw=(e,n,r)=>{const t=Ww(e),i=Ki(e),s={};return i.forEach(a=>{if(!a.arbeidsforhold)return;const l=Bo(a.arbeidsforhold),o=hd();o.tabellInnhold=Zw(a.arbeidsforhold,n,r),o.erTidsbegrenset=a.erTidsbegrensetArbeidsforhold!==void 0?a.erTidsbegrensetArbeidsforhold:!1,s[l]=[o];const k=hd();k.erTidsbegrenset=!1,k.tabellInnhold=t[l]||"",s[l].push(k)}),s},Qw=(e,n,r)=>{const t={...Po(e)},i=Xw(e[0],n,r);return Ki(t).forEach(s=>{const a=Bo(s.arbeidsforhold),l=hd();l.tabellInnhold=s.overstyrtPrAar!==void 0&&s.overstyrtPrAar!==null?q(s.overstyrtPrAar):"",l.erTidsbegrenset=!1,l.isEditable=!0,l.inputfieldKey=Na(s,t),i[a].push(l)}),i},eU=e=>d.jsxs("tr",{id:"bruttoPrPeriodeRad",children:[d.jsx("td",{colSpan:2,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerTB.SumPeriode"})})},"bruttoTittel"),e.map(n=>d.jsx("td",{colSpan:2,children:d.jsx(_,{size:"small",className:z.semiBoldText,children:q(n.brutto)})},n.periodeFom))]},"bruttoPrPeriodeRad"),nU=e=>d.jsxs("tr",{children:[d.jsx("td",{}),e.map(n=>{const r=n.periodeFom;return d.jsx("td",{colSpan:2,children:d.jsx(ke,{children:We(r)})},`periodeittel${r}`)}),d.jsx("td",{})]},"PeriodeHeaderRad"),rU=(e,n,r,t,i,s)=>{const a=[];return a.push(nU(t)),a.push(d.jsxs("tr",{children:[d.jsx("td",{colSpan:2},"ombergenetAarBlank"),t.map((l,o)=>d.jsx(K.Fragment,{children:d.jsx("td",{colSpan:2,children:d.jsx(ke,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandler.OmberegnetAar"},`Tittel_${l.periodeFom}`)})},`Col_Tittel_${l.periodeFom}`)},`PeriodeWrapper${o+1}`))]},"Tabletop")),Object.keys(e).forEach(l=>{const o=e[l];a.push(d.jsx("tr",{children:o.map(k=>k.isEditable?d.jsx(K.Fragment,{children:d.jsx("td",{colSpan:2,children:d.jsx("div",{className:r&&n?ve.adjustedField:void 0,children:d.jsx(xe,{name:`${s}.${i}.${k.inputfieldKey}`,validate:[X,ln(178956970)],readOnly:n,isEdited:n&&r,parse:Ne,className:ve.breddeInntekt})})},`Col-${k.inputfieldKey}`)},`key${k.inputfieldKey}`):d.jsx("td",{colSpan:2,children:d.jsx(_,{size:"small",children:k.tabellInnhold})},k.tabellInnhold))},l))}),a.push(d.jsx("tr",{className:ve.rowSpacer,children:d.jsx("td",{})},"sdeparator")),a.push(eU(t)),a},tU=e=>{const n=e[0];return{brutto:(n.beregningsgrunnlagPrStatusOgAndel?n.beregningsgrunnlagPrStatusOgAndel.filter(r=>r.aktivitetStatus===R.ARBEIDSTAKER).map(r=>r.beregnetPrAar):[]).reduce((r,t)=>r+t),periodeFom:n.beregningsgrunnlagPeriodeFom,periodeTom:n.beregningsgrunnlagPeriodeTom}},iU=(e,n,r,t)=>{const i=[];if(e.length<1)return i;const s=Po(e);i.push(tU(e));const a=Ki(s).map(l=>{const o=Na(l,s),k=n.watch(`${t}.${r}.${o}`);return k===void 0||k===""?0:me(k)}).reduce((l,o)=>l+o);return i.push({brutto:a,periodeFom:s.beregningsgrunnlagPeriodeFom,periodeTom:s.beregningsgrunnlagPeriodeTom}),i},wi=({readOnly:e,allePerioder:n,kodeverkSamling:r,arbeidsgiverOpplysningerPerId:t,fieldIndex:i,formName:s})=>{const a=Qw(n,r,t),l=n.some(u=>{var f;return(f=u.beregningsgrunnlagPrStatusOgAndel)==null?void 0:f.some(c=>c.aktivitetStatus===R.ARBEIDSTAKER&&(!!c.overstyrtPrAar||c.overstyrtPrAar===0))}),o=je(),k=iU(n,o,i,s);return d.jsx("table",{className:ve.inntektTableTB,children:d.jsx("tbody",{children:rU(a,e,l,k,i,s)})})};wi.buildInitialValues=e=>{const n={};return qw(e).forEach(r=>{(r.beregningsgrunnlagPrStatusOgAndel?r.beregningsgrunnlagPrStatusOgAndel.filter(t=>t.aktivitetStatus===R.ARBEIDSTAKER):[]).forEach(t=>{const i=q(t.overstyrtPrAar);n[Na(t,r)]=i||""})}),n};wi.transformValues=(e,n)=>{const r=Po(n),t=Ki(r),i=[];return t.forEach(s=>{const a=me(e[Na(s,r)]);i.push({andelsnr:s.andelsnr,bruttoFastsattInntekt:a})}),[{periodeFom:r.beregningsgrunnlagPeriodeFom,periodeTom:r.beregningsgrunnlagPeriodeTom,fastsatteTidsbegrensedeAndeler:i}]};const sU=e=>e.overstyrtPrAar!==null&&e.overstyrtPrAar!==void 0?!0:e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,bp=e=>e?e.filter(n=>n.aktivitetStatus===R.ARBEIDSTAKER).filter(n=>n.skalFastsetteGrunnlag===!0).filter(n=>sU(n)):[],aU=(e,n,r,t,i,s)=>e.map((a,l)=>d.jsxs(L,{className:ve.verticalAlignMiddle,children:[d.jsx(E,{className:ve.atflAvvikAktivitet,children:d.jsx(_,{size:"small",children:pd(a,t,n)})}),d.jsx(E,{className:ve.atflAvvikInntekt,children:d.jsx("div",{id:"readOnlyWrapper",className:r?ve.inputPadding:void 0,children:d.jsx(xe,{name:`${s}.${i}.inntekt${l}`,validate:[X,ln(178956970)],readOnly:r,parse:Ne,className:ve.breddeInntekt,isEdited:r&&(!!a.overstyrtPrAar||a.overstyrtPrAar===0)})})})]},`index${l+1}`)),Oo=({readOnly:e,alleAndelerIForstePeriode:n,kodeverkSamling:r,arbeidsgiverOpplysningerPerId:t,fieldIndex:i,formName:s})=>{const a=bp(n);return d.jsx(d.Fragment,{children:aU(a,r,e,t,i,s)})};Oo.transformValues=(e,n)=>{let r=[];return n.find(t=>t.aktivitetStatus===R.ARBEIDSTAKER)&&(r=bp(n).map(({andelsnr:t},i)=>{const s=e[`inntekt${i}`];if(!t)throw new Error("Forventer andelsnr på andeler som skal fastsettes.");return{inntekt:s===void 0||s===""?0:me(s),andelsnr:t}})),r};const lU=({alleAndeler:e})=>{var n;const r=e.find(s=>!s.erTilkommetAndel&&s.aktivitetStatus===R.FRILANSER);if(!r)return null;const t=r.beregnetPrAar,i=(n=r.arbeidsforhold)==null?void 0:n.startdato;return d.jsxs(d.Fragment,{children:[d.jsx(oe,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Frilansinntekt"})}),d.jsx(I,{fourPx:!0}),d.jsxs(L,{className:z.rows,children:[d.jsx(E,{className:z.tabellAktivitet,children:i&&d.jsxs(_,{size:"small",children:[d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.FrilansStartDato2"}),d.jsx("span",{className:z.semiBoldText,children:d.jsx(De,{dateString:i})})]})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(ke,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(ke,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),d.jsx(wn,{prosentBredde:100}),d.jsxs(L,{className:z.rows,children:[d.jsx(E,{className:z.tabellAktivitet,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.InnrapportertFrilans"})})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(_,{size:"small",children:t?q(t/12):0})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(w,{size:"small",children:t?q(t):0})})]})]})},dU=({option:e,style:n,height:r})=>{const t=j.useRef(null);return j.useEffect(()=>{let i;t.current!==null&&(i=ph(t.current));const s=()=>{i==null||i.resize()};return window.addEventListener("resize",s),()=>{i==null||i.dispose(),window.removeEventListener("resize",s)}},[]),j.useEffect(()=>{if(t.current!==null){const i=hh(t.current);i&&(i.setOption(e),(i==null?void 0:i.getWidth())===0&&(i==null||i.resize()))}},[t.current,e]),d.jsx("div",{ref:t,style:{width:"auto",height:r,...n}})},oU="_lesMer_1gsng_1",gU="_sammenligningGrafOppsummeringType_1gsng_4",uU="_sammenligningGrafOppsummeringInntekt_1gsng_7",Wr={lesMer:oU,sammenligningGrafOppsummeringType:gU,sammenligningGrafOppsummeringInntekt:uU},kU=[],mU="#99bdcd",fU="#c1b5d0",vU="#C6C2BF",cU=(e,n)=>{const r=e.flatMap(s=>s.inntekter).filter(s=>s.inntektAktivitetType===Jn.ARBEID).map(({beløp:s})=>s).reduce((s,a)=>s+a,0),t=e.flatMap(s=>s.inntekter).filter(s=>s.inntektAktivitetType===Jn.FRILANS).map(({beløp:s})=>s).reduce((s,a)=>s+a,0),i=e.flatMap(s=>s.inntekter).filter(s=>s.inntektAktivitetType===Jn.YTELSE).map(({beløp:s})=>s).reduce((s,a)=>s+a,0);return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:z.storSpace}),d.jsx(L,{children:d.jsx(E,{children:d.jsx(w,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.SumTittel"})})})}),n.harArbeidsinntekt&&d.jsxs(d.Fragment,{children:[d.jsxs(L,{children:[d.jsx(E,{className:Wr.sammenligningGrafOppsummeringType,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Arbeid"})})}),d.jsx(E,{className:Wr.sammenligningGrafOppsummeringInntekt,children:d.jsx(_,{size:"small",children:q(r)})})]}),d.jsx(wn,{prosentBredde:20})]}),n.harFrilansinntekt&&d.jsxs(d.Fragment,{children:[d.jsxs(L,{children:[d.jsx(E,{className:Wr.sammenligningGrafOppsummeringType,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Frilans"})})}),d.jsx(E,{className:Wr.sammenligningGrafOppsummeringInntekt,children:d.jsx(_,{size:"small",children:q(t)})})]}),d.jsx(wn,{prosentBredde:20})]}),n.harYtelseinntekt&&d.jsxs(d.Fragment,{children:[d.jsxs(L,{children:[d.jsx(E,{className:Wr.sammenligningGrafOppsummeringType,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ytelse"})})}),d.jsx(E,{className:Wr.sammenligningGrafOppsummeringInntekt,children:d.jsx(_,{size:"small",children:q(i)})})]}),d.jsx(wn,{prosentBredde:20})]})]})},pU=(e,n)=>!e||e.length===0?0:n?e.filter(r=>r.inntektAktivitetType===n).reduce((r,t)=>r+t.beløp,0):e.reduce((r,t)=>r+t.beløp,0),Tl=(e,n,r)=>{const t=[];for(let i=0;i<12;i+=1){const s=A(n,Le).add(i,"M").format("YYYYMM"),a=e.find(o=>A(o.fom,Le).format("YYYYMM")===s),l=pU((a==null?void 0:a.inntekter)||[],r);t.push([l,s])}return t},hU=()=>d.jsxs(d.Fragment,{children:[d.jsx(L,{children:d.jsx(E,{children:d.jsx(oe,{size:"small",className:z.avsnittOverskrift,children:d.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Tittel"})})})},"SamenenligningsGrunnlagOverskrift"),d.jsx(I,{eightPx:!0}),d.jsx(L,{children:d.jsx(E,{children:d.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ingress"})})})]}),El=(e,n)=>e.flatMap(r=>r.inntekter).some(r=>r.inntektAktivitetType===n),bU=e=>({harFrilansinntekt:El(e,Jn.FRILANS),harArbeidsinntekt:El(e,Jn.ARBEID),harYtelseinntekt:El(e,Jn.YTELSE)}),jU=({sammenligningsGrunnlagInntekter:e,sammenligningsgrunnlag:n})=>{const r=te(),t=(e==null?void 0:e.måneder)||kU,i=j.useMemo(()=>bU(t),[t]),s=n&&n.length>0?n[0].sammenligningsgrunnlagFom:void 0,a=j.useMemo(()=>i.harArbeidsinntekt&&s?Tl(t,s,Jn.ARBEID):[],[i.harArbeidsinntekt,t,s]),l=j.useMemo(()=>i.harFrilansinntekt&&s?Tl(t,s,Jn.FRILANS):[],[i.harArbeidsinntekt,t,s]),o=j.useMemo(()=>i.harYtelseinntekt&&s?Tl(t,s,Jn.YTELSE):[],[i.harArbeidsinntekt,t,s]),k=j.useCallback(b=>b.value[0]>5e3?q(b.value[0])||"":b.value[0]===0?"":"..",[]);if(!t||t.length===0||!n||n.length<1)return null;const u=r.formatMessage({id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Arbeid"}),f=r.formatMessage({id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Frilans"}),c=r.formatMessage({id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ytelse"});return d.jsxs(d.Fragment,{children:[d.jsx(Ge,{size:"medium",header:hU(),defaultOpen:!0,children:d.jsx(dU,{option:{tooltip:{trigger:"axis",formatter:b=>{const x=b,T=x[0].data,N=A(T[1]),S=N.locale(cd).format("MMM"),B=N.format("YYYY"),y=`${S.charAt(0).toUpperCase()+S.slice(1)} ${B}`,O=x.reduce(($,D)=>{const Y=D.data;return $.concat(`${(D.marker||"")+(D.seriesName||"")}: ${q(Y[0])}`)},[]).join("<br/>");return`${y}<br />${O}`},axisPointer:{type:"shadow"}},legend:{data:[u,f,c]},grid:{left:"1%",right:"5%",bottom:"0%",containLabel:!0},xAxis:{type:"value",axisLabel:{formatter:b=>q(b)||"",margin:12}},yAxis:{type:"category",boundaryGap:!1,axisLabel:{formatter:b=>{const x=A(b),T=x.format("MM")==="01"||x.format("MM")==="12",N=x.locale(cd).format("MMM"),S=x.format("YYYY"),B=N.charAt(0).toUpperCase()+N.slice(1,3);return T?`${B}
${S}`:B}}},series:[{name:u,type:"bar",stack:"total",label:{show:!0,fontSize:"11",formatter:k},emphasis:{focus:"series"},data:a},{name:f,type:"bar",stack:"total",label:{show:!0,fontSize:"11",formatter:k},emphasis:{focus:"series"},data:l},{name:c,type:"bar",stack:"total",label:{show:!0,fontSize:"11",formatter:k},emphasis:{focus:"series"},data:o}],color:[mU,fU,vU]},height:350})}),cU(t,i)]})},jp=e=>!e.arbeidsforhold||!e.arbeidsforhold.arbeidsgiverIdent?"N/A":e.arbeidsforhold.arbeidsforholdId?e.arbeidsforhold.arbeidsgiverIdent+e.arbeidsforhold.arbeidsforholdId:e.arbeidsforhold.arbeidsgiverIdent,xU=(e,n)=>{if(!e.arbeidsforhold||!e.arbeidsforhold.arbeidsgiverIdent)return"Ukjent arbeidsforhold";const r=n[e.arbeidsforhold.arbeidsgiverIdent];return Fa(r,e.arbeidsforhold.eksternArbeidsforholdId)},xp=e=>e.beregningsgrunnlagPrStatusOgAndel?e.beregningsgrunnlagPrStatusOgAndel:[],IU=(e,n)=>{const r=xU(e,n),t=jp(e);return{visningsnavn:r,nøkkel:t,naturalytelseEndringer:[]}},AU=e=>{var n;return!!((n=e.arbeidsforhold)!=null&&n.naturalytelseBortfaltPrÅr)},TU=(e,n)=>{if(!e||e.length<1)return[];const r=[];return e.forEach(t=>{xp(t).filter(i=>AU(i)).map(i=>IU(i,n)).forEach(i=>{r.some(({nøkkel:s})=>s===i.nøkkel)||r.push(i)})}),r},EU=(e,n)=>{const r=xp(e).find(t=>jp(t)===n);return(r&&r.arbeidsforhold?r.arbeidsforhold.naturalytelseBortfaltPrÅr:0)||0},yU=(e,n)=>{const r=[];return n.forEach(t=>{const i=EU(t,e.nøkkel);i&&r.push({fom:t.beregningsgrunnlagPeriodeFom||"",tom:t.beregningsgrunnlagPeriodeTom||"",beløpPrÅr:i,beløpPrMåned:i/12})}),r},_U=e=>{if(!e||e.length<2)return e;e.sort((t,i)=>A(t.fom).diff(A(i.fom)));const n=[];let r=A(e[0].fom);return e.forEach(t=>{if(!A(t.fom).isBefore(r)){const i=e.find(s=>A(s.fom).isAfter(t.fom)&&s.beløpPrÅr!==t.beløpPrÅr);if(i){const s=A(i.fom).subtract(1,"d");n.push({tom:s.format(Le),fom:t.fom,beløpPrÅr:t.beløpPrÅr,beløpPrMåned:t.beløpPrMåned}),r=s}else r=A(Xe),n.push({tom:"",fom:t.fom,beløpPrÅr:t.beløpPrÅr,beløpPrMåned:t.beløpPrMåned})}}),n},SU=(e,n)=>{const r=TU(e,n);return r.forEach(t=>{const i=yU(t,e);_U(i).forEach(s=>t.naturalytelseEndringer.push(s))}),!r||r.length<1?void 0:{rader:r}},FU=e=>e.tom?`${We(e.fom)} - ${We(e.tom)}`:`${We(e.fom)} -`,NU=e=>e.rader.map(n=>d.jsxs("div",{children:[d.jsx(L,{children:d.jsx(E,{className:z.noPaddingRight,children:d.jsx(w,{size:"small",children:n.visningsnavn})})}),n.naturalytelseEndringer.map(r=>d.jsxs(L,{children:[d.jsx(E,{className:z.tabellAktivitet,children:d.jsx(_,{size:"small",children:FU(r)})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(_,{size:"small",children:q(r.beløpPrMåned)})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(w,{size:"small",children:q(r.beløpPrÅr)})})]},n.nøkkel+r.fom))]},n.nøkkel)),RU=({allePerioder:e,arbeidsgiverOpplysningerPerId:n})=>{const r=j.useMemo(()=>SU(e,n),[e]);return r?d.jsxs(d.Fragment,{children:[d.jsx(I,{thirtyTwoPx:!0}),d.jsx(w,{size:"small",className:z.avsnittOverskrift,children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Naturalytelse2"})}),d.jsxs(L,{children:[d.jsx(E,{className:z.tabellAktivitet}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(ke,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(ke,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),NU(r)]}):null},PU=e=>e.overstyrtPrAar!==null&&e.overstyrtPrAar!==void 0?!0:e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,Ip=e=>e?e.filter(n=>n.aktivitetStatus===R.ARBEIDSTAKER).filter(n=>PU(n)):[],BU=e=>{const n=[];return Object.prototype.hasOwnProperty.call(e,"startdato")&&e.startdato&&n.push(We(e.startdato)),Object.prototype.hasOwnProperty.call(e,"opphoersdato")&&e.opphoersdato&&(n.push("-"),n.push(We(e.opphoersdato))),n.join(" ")},OU=e=>{const n=[""];return Object.prototype.hasOwnProperty.call(e,"stillingsNavn")&&e.stillingsNavn&&n.push(e.stillingsNavn),Object.prototype.hasOwnProperty.call(e,"stillingsProsent")&&e.stillingsProsent&&n.push(`${e.stillingsProsent}%`),n.length!==0?n.join(" "):" "},Mk=e=>e.beregnetPrAar?e.beregnetPrAar:0,$U=(e,n,r)=>{const t=e.reduce((a,l)=>a+Mk(l),0),i=t?t/12:0,s=e.map((a,l)=>{var o,k,u;return d.jsxs(K.Fragment,{children:[d.jsxs(Se,{children:[d.jsxs(L,{children:[d.jsx(E,{className:z.tabellAktivitet,children:d.jsx(w,{size:"small",className:z.semiBoldText,children:pd(a,r,n)},`ColLableTxt${l+1}`)}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(_,{children:q(Mk(a)/12)},`ColBrgMndTxt${(o=a.arbeidsforhold)==null?void 0:o.arbeidsgiverIdent}`)}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(w,{children:q(a.beregnetPrAar)},`ColBrgAarTxt${(k=a.arbeidsforhold)==null?void 0:k.arbeidsgiverIdent}`)})]}),d.jsxs(L,{children:[a.arbeidsforhold&&a.arbeidsforhold.stillingsNavn&&d.jsx(E,{children:d.jsx(_,{children:OU(a.arbeidsforhold)})}),a.arbeidsforhold&&a.arbeidsforhold.startdato&&d.jsx(E,{children:d.jsx(ke,{children:BU(a.arbeidsforhold)})}),a.erTidsbegrensetArbeidsforhold&&d.jsx(E,{children:d.jsx(ke,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Tidsbegrenset"})})})]},`indexD${(u=a.arbeidsforhold)==null?void 0:u.arbeidsgiverIdent}`)]}),d.jsx(I,{eightPx:!0}),d.jsx(wn,{prosentBredde:100})]},`ArbInntektWrapper${pd(a,r,n)}${l+1}`)});if(e.length>1){const a=d.jsx(Se,{children:d.jsxs(L,{children:[d.jsx(E,{className:z.tabellAktivitet,children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.TotaltArbeidsinntekt"})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(_,{children:q(i)})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(w,{children:q(t)})})]})},"SummaryRow");s.push(a)}return s},Ra=({alleAndelerIFørstePeriode:e,allePerioder:n,arbeidsgiverOpplysningerPerId:r,kodeverkSamling:t})=>{const i=Ip(e);return!i||i.length===0?null:d.jsxs(d.Fragment,{children:[d.jsx(L,{children:d.jsx(E,{children:d.jsx(oe,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt"})})})}),d.jsx(Se,{children:d.jsxs(L,{children:[d.jsx(E,{className:z.tabellAktivitet}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(ke,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(ke,{children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]})}),d.jsx(wn,{prosentBredde:100}),$U(i,t,r),d.jsx(RU,{allePerioder:n,arbeidsgiverOpplysningerPerId:r})]})};Ra.defaultProps={allePerioder:void 0};Ra.buildInitialValues=e=>{const n=Ip(e),r={};return n.forEach((t,i)=>{r[`inntekt${i}`]=q(t.overstyrtPrAar)||""}),r};const VU="_lesMer_1w256_1",DU="_overskrift_1w256_4",GU="_merTekstBorder_1w256_9",LU={lesMer:VU,overskrift:DU,merTekstBorder:GU},MU=e=>{const n=e==null?void 0:e.virksomhetType;if(!n)return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.UDEFINERT";switch(n){case"JORDBRUK_SKOGBRUK":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.JORDBRUK_SKOGBRUK";case"DAGMAMMA":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.DAGMAMMA";case"FISKE":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FISKE";case"FRILANSER":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FRILANSER";case"ANNEN":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.ANNEN";default:return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.UDEFINERT"}},Kk=e=>{const{oppstartsdato:n,opphørsdato:r}=e;if(n)return r?`${We(n)}-${We(r)} `:`${We(n)}-`},KU=e=>{const{regnskapsførerNavn:n,regnskapsførerTlf:r}=e;if(n)return r?`${n}-${r} `:`${n}-`},wU=(e,n)=>{const r=n[e.orgnr];return r?r.navn:"Ukjent bedriftsnavn"},UU=e=>{const{oppstartsdato:n,erVarigEndret:r,endringsdato:t}=e,i=r?"Beregningsgrunnlag.NaeringsOpplysningsPanel.VarigEndret":"Beregningsgrunnlag.NaeringsOpplysningsPanel.Nyoppstaret",s=r?t:n;return s?d.jsx(w,{size:"small",className:z.semiBoldText,children:d.jsx(m,{id:i,values:{dato:We(s),b:a=>d.jsx("b",{children:a})}})}):null},CU=e=>{const{erNyoppstartet:n,erVarigEndret:r}=e;return!!r||!!n},YU=e=>e.begrunnelse&&e.begrunnelse!==""?d.jsx(_,{size:"small",className:LU.merTekstBorder,children:e.begrunnelse}):null,zU=e=>!!e.oppgittInntekt||e.oppgittInntekt===0,HU=({alleAndelerIForstePeriode:e,arbeidsgiverOpplysningerPerId:n})=>{const r=e.find(t=>t.aktivitetStatus===R.SELVSTENDIG_NAERINGSDRIVENDE);return r!=null&&r.næringer?d.jsxs(d.Fragment,{children:[d.jsxs(L,{children:[d.jsx(E,{className:z.tabellAktivitet,children:d.jsx(oe,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.NaeringsOpplysningsPanel.Overskrift"})})}),d.jsx(E,{className:z.tabellAktivitet}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(ke,{children:d.jsx(m,{id:"Beregningsgrunnlag.NaeringsOpplysningsPanel.OppgittAar"})})})]}),d.jsx(wn,{prosentBredde:100}),r.næringer.map(t=>d.jsxs(K.Fragment,{children:[d.jsxs(L,{children:[d.jsx(E,{className:z.næringOpplysningNavn,children:d.jsx(w,{size:"small",className:z.semiBoldText,children:wU(t,n)})}),d.jsx(E,{className:z.næringOpplysningInntekt,children:zU(t)&&d.jsx(w,{size:"small",children:q(t.oppgittInntekt)})})]}),d.jsxs(L,{children:[d.jsx(E,{className:z.næringOpplysningOrgnr,children:d.jsx(_,{size:"small",children:t&&t.orgnr?t.orgnr:""})}),d.jsx(E,{className:z.næringOpplysningDato,children:Kk(t)&&d.jsx(_,{size:"small",children:Kk(t)})})]},`NaringsDetaljer${t.orgnr}`),d.jsx(L,{children:d.jsx(E,{children:d.jsx(_,{size:"small",children:d.jsx(m,{id:MU(t)})})})}),d.jsx(L,{children:d.jsx(E,{children:t.regnskapsførerNavn&&d.jsx(_,{size:"small",children:KU(t)})})},`RevisorRad${t.orgnr}`),CU(t)&&d.jsxs(d.Fragment,{children:[d.jsx(wn,{prosentBredde:100}),d.jsx(I,{twentyPx:!0}),UU(t),d.jsx(I,{eightPx:!0}),d.jsx(L,{className:z.næringEndringBeskrivelse,children:d.jsx(E,{children:YU(t)})})]})]},`NaringsWrapper${t.orgnr}`))]}):null},{FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:JU,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:qU}=ce,WU=e=>e&&e.find(n=>n.definisjon===JU||n.definisjon===qU),ZU=e=>e&&e.length>0?e[0].beregningsgrunnlagPrStatusOgAndel||[]:[],br=d.jsx("div",{className:z.storSpace}),XU=(e,n,r,t,i,s,a,l)=>d.jsxs("div",{className:z.panelLeft,children:[n.isArbeidstaker&&d.jsx(Ra,{alleAndelerIFørstePeriode:e,allePerioder:r,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:s}),n.isFrilanser&&d.jsxs(d.Fragment,{children:[br,d.jsx(lU,{alleAndeler:e})]}),n.harDagpengerEllerAAP&&d.jsxs("div",{children:[br,d.jsx(Ew,{alleAndeler:e,relevanteStatuser:n,gjelderBesteberegning:t})]}),n.isMilitaer&&d.jsxs(d.Fragment,{children:[br,d.jsx(yw,{alleAndeler:e})]}),n.harAndreTilstotendeYtelser&&d.jsxs(d.Fragment,{children:[br,d.jsx(vw,{bruttoPrAar:r[0].bruttoPrAar})]}),(n.isSelvstendigNaeringsdrivende||n.isMidlertidigInaktiv)&&d.jsxs(d.Fragment,{children:[br,d.jsx(jw,{alleAndeler:e,inntektsgrunnlag:l}),br,d.jsx(HU,{alleAndelerIForstePeriode:e,arbeidsgiverOpplysningerPerId:s})]}),(n.isFrilanser||n.isArbeidstaker)&&l&&a&&d.jsxs(d.Fragment,{children:[br,d.jsx(jU,{sammenligningsGrunnlagInntekter:l,sammenligningsgrunnlag:a})]})]}),ur=({relevanteStatuser:e,allePerioder:n,gjelderBesteberegning:r,kodeverkSamling:t,sammenligningsGrunnlagInntekter:i,arbeidsgiverOpplysningerPerId:s,sammenligningsgrunnlag:a})=>{if(!n)return null;const l=ZU(n);return XU(l,e,n,r,t,s,a,i)};ur.defaultProps={allePerioder:void 0,sammenligningsGrunnlagInntekter:void 0};ur.buildInitialValues=e=>{const n=WU(e);return{ATFLVurdering:n&&n.begrunnelse?n.begrunnelse:""}};ur.transformATFLValues=(e,n)=>({begrunnelse:e.ATFLVurdering,inntektPrAndelList:Oo.transformValues(e,n),inntektFrilanser:e.inntektFrilanser!==void 0?me(e.inntektFrilanser):null});ur.transformATFLTidsbegrensetValues=(e,n)=>({begrunnelse:e.ATFLVurdering,fastsatteTidsbegrensedePerioder:wi.transformValues(e,n),frilansInntekt:e.inntektFrilanser!==void 0?me(e.inntektFrilanser):null});const{VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:Ap,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:$o,FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:Tp,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:Ep,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:yp}=ce,QU=(e,n)=>{switch(e.definisjon){case Ap:return n.find(r=>r.sammenligningsgrunnlagType===Ae.ATFLSN||r.sammenligningsgrunnlagType===Ae.SN);case $o:return n.find(r=>r.sammenligningsgrunnlagType===Ae.MIDLERTIDIG_INAKTIV);case Tp:case Ep:return n.find(r=>r.sammenligningsgrunnlagType===Ae.ATFLSN||r.sammenligningsgrunnlagType===Ae.AT_FL||r.sammenligningsgrunnlagType===Ae.AT||r.sammenligningsgrunnlagType===Ae.FL);case yp:return;default:return}},eC=(e,n)=>{const r=QU(e,n),t=r&&r.avvikProsent?r.avvikProsent:0;return Number(t.toFixed(1))},wk=e=>e&&e.length>0,nC=e=>e.sammenligningsgrunnlagPrStatus?e.sammenligningsgrunnlagPrStatus:[],rC={[Tp]:"Beregningsgrunnlag.Helptext.Arbeidstaker",[Ep]:"Beregningsgrunnlag.Helptext.TidsbegrensetArbeidsforhold",[yp]:"Beregningsgrunnlag.Helptext.NyIArbeidslivetSN",[$o]:"Beregningsgrunnlag.Helptext.VarigEndretArbeidssituasjon"},tC=(e,n)=>e.definisjon===Ap?n?"Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.VarigEndring":"Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.Nyoppstartet":rC[e.definisjon],iC=(e,n,r)=>{var t;const i=r.find(a=>a.aktivitetStatus===R.SELVSTENDIG_NAERINGSDRIVENDE),s=!!((t=i==null?void 0:i.næringer)!=null&&t.some(a=>a.erVarigEndret===!0));return d.jsxs("div",{children:[d.jsx(gi,{children:e.map(a=>d.jsx(w,{children:d.jsx(m,{id:tC(a,s||a.definisjon===$o),values:{verdi:eC(a,n),b:l=>d.jsx("b",{children:l}),br:d.jsx("br",{})}})},a.definisjon))}),d.jsx(I,{thirtyTwoPx:!0})]})},sC=({avklaringsbehov:e,beregningsgrunnlag:n})=>{const r=n.beregningsgrunnlagPeriode?n.beregningsgrunnlagPeriode[0]:void 0,t=r&&r.beregningsgrunnlagPrStatusOgAndel?r.beregningsgrunnlagPrStatusOgAndel:[],i=e.filter(a=>rn(a.status));if(!(wk(i)&&wk(t)))return null;const s=nC(n);return d.jsxs(d.Fragment,{children:[d.jsx(I,{eightPx:!0}),iC(i,s,t)]})},aC="_aksjonspunktBehandlerBorder_o9hgh_1",lC="_aksjonspunktBehandlerContainer_o9hgh_6",dC="_verticalLine_o9hgh_16",oC="_verticalAlignMiddle_o9hgh_23",gC="_inputPadding_o9hgh_27",uC="_inntektTableTB_o9hgh_35",kC="_inntektTableTB_o9hgh_35",mC="_rowSpacer_o9hgh_39",fC="_textAreaWrapper_o9hgh_71",vC="_textAreaWrapperHeigh_o9hgh_74",cC="_dynamiskKolonne_o9hgh_81",pC={aksjonspunktBehandlerBorder:aC,aksjonspunktBehandlerContainer:lC,verticalLine:dC,verticalAlignMiddle:oC,inputPadding:gC,inntektTableTB:uC,inntektTableTb:kC,rowSpacer:mC,textAreaWrapper:fC,textAreaWrapperHeigh:vC,dynamiskKolonne:cC},Uk=(e,n,r)=>d.jsx(L,{children:d.jsx(E,{children:d.jsx(_,{size:"small",children:d.jsx(m,{id:e,values:{fom:A(n).format(ie),tom:A(r).format(ie)}})})})}),hC=e=>{const n=e.frisinnAndeler.find(t=>t.statusSøktFor===R.SELVSTENDIG_NAERINGSDRIVENDE),r=e.frisinnAndeler.find(t=>t.statusSøktFor===R.FRILANSER);return d.jsxs("div",{children:[r&&Uk("Beregningsgrunnlag.Søknad.SøktYtelseFL",e.fom,e.tom),n&&Uk("Beregningsgrunnlag.Søknad.SøktYtelseSN",e.fom,e.tom)]},e.fom)},bC=({beregningsgrunnlag:e})=>{const n=e.ytelsesspesifiktGrunnlag,{frisinnPerioder:r}=n;return d.jsxs("div",{children:[d.jsx(L,{children:d.jsx(E,{children:d.jsx(w,{size:"small",className:z.avsnittOverskrift,children:d.jsx(m,{id:"Beregningsgrunnlag.Søknad.Tittel"})})})}),d.jsx(I,{eightPx:!0}),Array.isArray(r)&&r.map(t=>hC(t)),d.jsx(I,{sixteenPx:!0})]})},Ck=(e,n)=>{if(!e)return 0;const r=e.filter(t=>t.aktivitetStatus===n).map(({bruttoPrAar:t})=>t||0).reduce((t,i)=>t+i,0);return!r||r===0?0:r},_p=e=>e.month()===2&&e.year()===2020,jC=e=>{const n=A(e.tom);return _p(n)},Sp=(e,n,r)=>{const{frisinnPerioder:t}=r;if(!Array.isArray(t))return null;const i=A(n.beregningsgrunnlagPeriodeFom);if(_p(i)&&t.some(l=>jC(l))){const l=A("2020-04-30"),o=t.find(k=>A(k.tom).isSame(l,"day"));return o?o.frisinnAndeler.filter(k=>k.statusSøktFor===e):null}const s=A(n.beregningsgrunnlagPeriodeTom).endOf("month"),a=t.find(l=>!A(l.fom).isBefore(i)&&A(l.tom).isSame(s,"day"));return a?a.frisinnAndeler.filter(l=>l.statusSøktFor===e):null},vt=(e,n,r)=>{const t=Sp(e,n,r);return!!t&&t.length>0},pn=(e,n,r)=>{if(!e||!n||!r)return 0;if(vt(e,r,n.ytelsesspesifiktGrunnlag)){const t=n.beregningsgrunnlagPeriode[0];return Ck(t.beregningsgrunnlagPrStatusOgAndel||[],e)}return Ck(r.beregningsgrunnlagPrStatusOgAndel||[],e)},Yk=(e,n,r)=>{const t=Sp(e,n,r);if(!t||t.length<1)return 0;const i=t.map(({oppgittInntekt:s})=>s).reduce((s,a)=>s+a,0);return!i||i===0?0:i},Fp=e=>{const{frisinnPerioder:n,behandlingÅrsaker:r}=e;if(!Array.isArray(n))return[];if(r&&n.length>1&&r.some(t=>t===Gh.RE_ENDRING_FRA_BRUKER)){const t=[...n].sort((a,l)=>a.fom.localeCompare(l.fom)),i=t[t.length-1],s=A(i.tom);return s.month()===3&&s.year()===2020?t.filter(a=>A(a.fom).month()===3||A(a.fom).month()===2):t.filter(a=>A(a.fom).month()===s.month()&&A(a.fom).year()===s.year())}return n},xC=(e,n)=>{let r=null;return n!==Xe&&(r=n),d.jsx(m,{id:"Beregningsgrunnlag.BeregningTable.Periode",values:{fom:A(e).format(ie),tom:r?A(r).format(ie):""}},`fom-tom${e}${r}`)},Np=(e,n)=>{const r=e.beregningsgrunnlagPeriodeFom,t=e.beregningsgrunnlagPeriodeTom,i=n.frisinnPerioder,s=Array.isArray(i)&&i.find(a=>!A(r).isBefore(a.fom)&&!A(t).isAfter(a.tom));return s?s.frisinnAndeler:[]},zk=(e,n)=>d.jsxs(L,{children:[d.jsx(E,{className:z.tabellAktivitet,children:d.jsx(m,{id:e})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(_,{size:"small",children:q(n)})})]}),Hk=(e,n,r,t,i)=>{const s=i/100,a=n*s;return d.jsxs(d.Fragment,{children:[d.jsxs(L,{children:[d.jsx(E,{className:z.tabellAktivitet,children:d.jsx(m,{id:e,values:{grad:i}})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(_,{size:"small",children:q(a)})})]}),!!t||t===0&&d.jsxs(L,{children:[d.jsx(E,{className:z.tabellAktivitet,children:d.jsx(m,{id:r})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(_,{size:"small",children:q(t)})})]})]})},us=e=>e||e===0,IC=e=>{const n=A(e);return n.isBefore(A("2020-11-01","YYYY-MM-DD"))?80:n.isBefore(A("2022-01-01","YYYY-MM-DD"))?60:70},AC=(e,n,r,t)=>{const i=Np(e,n);if(!i||i.length<1)return null;const s=i.some(u=>u.statusSøktFor===R.FRILANSER)?r:null,a=i.some(u=>u.statusSøktFor===R.SELVSTENDIG_NAERINGSDRIVENDE)?t:null,l=Yk(R.FRILANSER,e,n),o=Yk(R.SELVSTENDIG_NAERINGSDRIVENDE,e,n),k=IC(e.beregningsgrunnlagPeriodeFom);return d.jsxs(d.Fragment,{children:[us(s)&&zk("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagFL",s||0),us(s)&&Hk("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertFL",s||0,"Beregningsgrunnlag.Søknad.LøpendeFL",l,k),us(a)&&zk("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagSN",a||0),us(a)&&Hk("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertSN",a||0,"Beregningsgrunnlag.Søknad.LøpendeSN",o,k),d.jsx(L,{children:d.jsx(E,{children:d.jsx("div",{className:z.colDevider})})}),d.jsxs(L,{children:[d.jsx(E,{className:z.tabellAktivitet,children:d.jsx(ke,{children:d.jsx(m,{id:"Beregningsgrunnlag.Resultat.Dagsats"})})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(_,{size:"small",children:q(e.dagsats)})})]})]})},TC=({bgperiode:e,ytelsegrunnlag:n,frilansGrunnlag:r,næringGrunnlag:t})=>{const i=Np(e,n);if(!i||i.length<1)return null;const s=r>=0?r:0,a=t>=0?t:0;return d.jsxs("div",{children:[d.jsx(I,{eightPx:!0}),d.jsx(L,{children:d.jsx(E,{children:d.jsx(w,{size:"small",children:xC(e.beregningsgrunnlagPeriodeFom,e.beregningsgrunnlagPeriodeTom)})})}),AC(e,n,s,a)]})},Rp=e=>e.grunnbeløp?e.grunnbeløp*6:0,EC=(e,n)=>{if(!vt(R.FRILANSER,n,e.ytelsesspesifiktGrunnlag))return 0;let r=Rp(e);const t=pn(R.ARBEIDSTAKER,e,n);if(r-=t,!vt(R.SELVSTENDIG_NAERINGSDRIVENDE,n,e.ytelsesspesifiktGrunnlag)){const s=pn(R.SELVSTENDIG_NAERINGSDRIVENDE,e,n);r-=s}const i=pn(R.FRILANSER,e,n);return i>r?r:i},yC=(e,n)=>{if(!vt(R.SELVSTENDIG_NAERINGSDRIVENDE,n,e.ytelsesspesifiktGrunnlag))return 0;let r=Rp(e);const t=pn(R.ARBEIDSTAKER,e,n);r-=t;const i=pn(R.FRILANSER,e,n);r-=i;const s=pn(R.SELVSTENDIG_NAERINGSDRIVENDE,e,n);return s>r?r:s},_C=(e,n)=>{const r=A(e.beregningsgrunnlagPeriodeFom),t=A(e.beregningsgrunnlagPeriodeTom);return Array.isArray(n)&&n.some(i=>!A(i.fom).isBefore(r)&&!A(i.tom).isAfter(t))},SC=({beregningsgrunnlag:e})=>{const n=Fp(e.ytelsesspesifiktGrunnlag),r=Array.isArray(e.beregningsgrunnlagPeriode)?e.beregningsgrunnlagPeriode.filter(t=>_C(t,n)):[];return d.jsxs("div",{children:[d.jsx(L,{children:d.jsx(E,{children:d.jsx(w,{size:"small",className:z.avsnittOverskrift,children:d.jsx(m,{id:"Beregningsgrunnlag.Frisinn.Resultat"})})})}),r.map(t=>d.jsx("div",{children:d.jsx(TC,{bgperiode:t,ytelsegrunnlag:e.ytelsesspesifiktGrunnlag,frilansGrunnlag:EC(e,t),næringGrunnlag:yC(e,t)},t.beregningsgrunnlagPeriodeFom)},t.beregningsgrunnlagPeriodeFom))]})},FC=({beregningsgrunnlag:e})=>{if(e.beregningsgrunnlagPeriode.length<2)return null;const n=e.beregningsgrunnlagPeriode.sort((a,l)=>a.beregningsgrunnlagPeriodeFom.localeCompare(l.beregningsgrunnlagPeriodeFom)),r=n[n.length-2],t=pn(R.SELVSTENDIG_NAERINGSDRIVENDE,e,r),i=pn(R.FRILANSER,e,r),s=pn(R.ARBEIDSTAKER,e,r);return d.jsxs("div",{children:[d.jsx(L,{children:d.jsx(E,{children:d.jsx(w,{size:"small",className:z.avsnittOverskrift,children:d.jsx(m,{id:"Beregningsgrunnlag.Søknad.Inntektsopplysninger"})})})}),d.jsxs(L,{children:[d.jsx(E,{className:z.tabellAktivitet,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektAT"})})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(w,{size:"small",children:q(s)})})]}),d.jsxs(L,{children:[d.jsx(E,{className:z.tabellAktivitet,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektFL"})})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(w,{size:"small",children:q(i)})})]}),d.jsxs(L,{children:[d.jsx(E,{className:z.tabellAktivitet,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektSN"})})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(w,{size:"small",children:q(t)})})]})]})},NC=A("2020-04-01"),RC=(e,n,r)=>d.jsxs(L,{children:[d.jsx(E,{className:z.tabellAktivitet,children:d.jsx(m,{id:"Beregningsgrunnlag.Frisinn.Inntektstak",values:{grenseverdi:q(e),annenInntekt:q(n)}})}),d.jsx(E,{className:z.tabellInntekt,children:d.jsx(_,{size:"small",children:q(r)})})]}),PC=(e,n)=>{if(!Array.isArray(n))return!1;const r=A(e.beregningsgrunnlagPeriodeFom),t=A(e.beregningsgrunnlagPeriodeTom);return n.some(i=>!A(i.fom).isBefore(r)&&!A(i.tom).isAfter(t))},BC=(e,n)=>{const r=[];return Array.isArray(e)&&e.forEach(t=>{if(PC(t,n)){const i=A(t.beregningsgrunnlagPeriodeTom),s=A(t.beregningsgrunnlagPeriodeTom).endOf("month");i.isAfter(NC)&&i.isSame(s,"day")&&t.beregningsgrunnlagPeriodeTom!==Xe&&r.push(t)}}),r},OC=(e,n)=>{const r=A(n.beregningsgrunnlagPeriodeFom),t=A(e.fom);return r.year()===t.year()&&r.month()===t.month()&&t.isBefore(r)},$C=(e,n)=>{const r=e.ytelsesspesifiktGrunnlag,t=pn(R.ARBEIDSTAKER,e,n),i=e.grunnbeløp*6;let s=t;if(!vt(R.FRILANSER,n,r)){const u=pn(R.FRILANSER,e,n);s+=u}if(!vt(R.SELVSTENDIG_NAERINGSDRIVENDE,n,r)){const u=pn(R.SELVSTENDIG_NAERINGSDRIVENDE,e,n);s+=u}const a=i>s?i-s:0,l=n.beregningsgrunnlagPeriodeTom,o=Array.isArray(r.frisinnPerioder)&&r.frisinnPerioder.find(u=>OC(u,n)),k=o?o.fom:n.beregningsgrunnlagPeriodeFom;return d.jsxs(d.Fragment,{children:[d.jsx(L,{children:d.jsx(E,{children:d.jsx(w,{size:"small",className:z.avsnittOverskrift,children:d.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektstakOpplysningerPeriode",values:{fom:A(k).format(ie),tom:l?A(l).format(ie):""}},`fom-tom${k}${l}`)})})}),d.jsx(I,{eightPx:!0}),RC(i,s,a),d.jsx(I,{sixteenPx:!0})]})},VC=({beregningsgrunnlag:e})=>{const n=Fp(e.ytelsesspesifiktGrunnlag),r=BC(e.beregningsgrunnlagPeriode,n);return d.jsx(d.Fragment,{children:r.map(t=>d.jsx("div",{children:$C(e,t)},t.beregningsgrunnlagPeriodeFom))})},DC=e=>e.beregningsgrunnlagPeriode.some(n=>n.dagsats||n.dagsats===0),GC=({beregningsgrunnlag:e})=>d.jsxs("div",{className:pC.aksjonspunktBehandlerContainer,children:[d.jsx(ke,{children:d.jsx(m,{id:"Beregningsgrunnlag.Frisinn.Tittel"})}),d.jsx(I,{sixteenPx:!0}),d.jsx(bC,{beregningsgrunnlag:e}),d.jsx(I,{sixteenPx:!0}),d.jsx(FC,{beregningsgrunnlag:e}),d.jsx(I,{sixteenPx:!0}),DC(e)&&d.jsxs(d.Fragment,{children:[d.jsx(VC,{beregningsgrunnlag:e}),d.jsx(I,{sixteenPx:!0}),d.jsx(SC,{beregningsgrunnlag:e})]})]}),LC=e=>d.jsx(GC,{beregningsgrunnlag:e}),MC=({beregningsgrunnlag:e})=>{const n=e.ytelsesspesifiktGrunnlag;return n&&n.ytelsetype===Nm.FRISINN?LC(e):null},KC=({relevanteStatuser:e,erManueltBesteberegnet:n,erNyIArbeidslivet:r,sammenligningsgrunnlag:t})=>{if(r)return d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.SN.NyIArbeidslivet"})});if(!t||t.length<1)return null;const i=(e.isArbeidstaker||e.isFrilanser)&&e.isSelvstendigNaeringsdrivende,s=t.filter(l=>l.sammenligningsgrunnlagType===Ae.AT_FL||l.sammenligningsgrunnlagType===Ae.AT||l.sammenligningsgrunnlagType===Ae.FL),a=i&&s.length===0;return n?d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.Besteberegning"})}):d.jsxs(d.Fragment,{children:[e.isMilitaer&&d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.Miletar"})}),e.isAAP&&d.jsxs(L,{children:[d.jsx(E,{children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.AAP"})})}),d.jsx(I,{eightPx:!0})]}),e.isDagpenger&&d.jsxs(d.Fragment,{children:[d.jsx(L,{children:d.jsx(E,{children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.Dagpenger"})})})}),d.jsx(I,{eightPx:!0})]}),a&&d.jsxs(L,{children:[d.jsx(E,{children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.AT.KobinasjonsStatusATFLSN"})})}),d.jsx(I,{eightPx:!0})]})]})},wC="_colLable_di1r8_1",UC="_colValue_di1r8_8",CC="_avvikLinjeRad_di1r8_16",YC="_linjeSkille_di1r8_21",zC="_linjeSkilleTykk_di1r8_27",HC="_colLine_di1r8_33",JC="_colAvvik_di1r8_36",qC="_colBorderTopLeft_di1r8_45",WC="_colBorderTop_di1r8_45",ZC="_colNoBorderTop_di1r8_58",XC="_beregnetLuftOver_di1r8_61",An={colLable:wC,colValue:UC,avvikLinjeRad:CC,linjeSkille:YC,linjeSkilleTykk:zC,colLine:HC,colAvvik:JC,colBorderTopLeft:qC,colBorderTop:WC,colNoBorderTop:ZC,beregnetLuftOver:XC},Jk=d.jsx(L,{children:d.jsx(E,{children:d.jsx("div",{className:An.linjeSkille})})}),QC=({beregnetAarsinntekt:e,sammenligningsgrunnlag:n,erPGI:r})=>{const{differanseBeregnet:t,rapportertPrAar:i,avvikProsent:s}=n,a=parseFloat(s.toFixed(1)),l=r?"Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt.Naring":"Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt",o=r?"Beregningsgrunnlag.Avviksopplysninger.SamletInntekt":"Beregningsgrunnlag.Avviksopplysninger.RapportertAarsinntekt";return d.jsxs(d.Fragment,{children:[Jk,d.jsxs(L,{children:[d.jsx(E,{className:An.colLable,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:l})})}),d.jsx(E,{className:An.colValue,children:d.jsx(_,{size:"small",children:e||e===0?q(e):"-"})}),d.jsx(E,{className:An.colAvvik})]}),Jk,d.jsxs(L,{children:[d.jsx(E,{className:An.colLable,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:o})})}),d.jsx(E,{className:An.colValue,children:d.jsx(_,{size:"small",children:q(i)})}),d.jsx(E,{className:An.colAvvik})]}),d.jsx(L,{children:d.jsx(E,{children:d.jsx("div",{className:An.linjeSkilleTykk})})}),d.jsxs(L,{children:[d.jsx(E,{className:An.colLable,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.BeregnetAvvik"})})}),d.jsx(E,{className:An.colValue,children:d.jsx(_,{size:"small",children:q(t===void 0?0:t)})}),d.jsx(E,{className:An.colAvvik,children:d.jsx(_,{size:"small",className:`${a>25?z.redError:""} ${z.semiBoldText}`,children:d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.AvvikProsent",values:{avvik:a}})})})]})]})},e4=e=>e.some(n=>n.aktivitetStatus===R.FRILANSER&&(n.overstyrtPrAar||n.overstyrtPrAar===0)),Vo=({readOnly:e,fieldIndex:n,formName:r,alleAndelerIForstePeriode:t})=>d.jsxs(L,{className:ve.verticalAlignMiddle,children:[d.jsx(E,{className:ve.atflAvvikAktivitet,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerFL"})})}),d.jsx(E,{className:ve.atflAvvikInntekt,children:d.jsx("div",{id:"readOnlyWrapper",className:e?ve.inputPadding:void 0,children:d.jsx(xe,{name:`${r}.${n}.inntektFrilanser`,validate:[X,ln(178956970)],readOnly:e,parse:Ne,className:ve.breddeInntekt,isEdited:e&&e4(t)})})})]});Vo.buildInitialValues=e=>{const n=e.length>0?q(e[0].overstyrtPrAar):void 0;return n?{inntektFrilanser:n}:{}};const n4=Pn(1500),r4=Rn(3),Do="fastsettBeregningsgrnunnlagSNBegrunnelse",Go="bruttoBeregningsgrunnlag",{FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:t4}=ce,Rt=({readOnly:e,isAksjonspunktClosed:n,erNyArbLivet:r,fieldIndex:t,formName:i})=>{const s=te();return d.jsxs(d.Fragment,{children:[r&&d.jsxs(d.Fragment,{children:[d.jsxs(L,{className:ve.verticalAlignMiddle,children:[d.jsx(E,{className:ve.dynamiskKolonne,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.BruttoBerGr2"})})}),d.jsx(E,{children:d.jsx("div",{id:"readOnlyWrapper",className:e?ve.inputPadding:void 0,children:d.jsx(xe,{name:`${i}.${t}.${Go}`,validate:[X,ln(178956970)],parse:Ne,className:ve.breddeInntekt,isEdited:e&&n,readOnly:e})})})]}),d.jsx(I,{eightPx:!0})]}),d.jsx(I,{sixteenPx:!0}),d.jsx(L,{children:d.jsx(E,{children:d.jsx("div",{id:"readOnlyWrapper",className:e?ve.verticalLine:ve.textAreaWrapperHeigh,children:d.jsx(un,{name:`${i}.${t}.${Do}`,label:d.jsx(m,{id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag"}),validate:[X,n4,r4,Nn],isEdited:e&&n,maxLength:1500,readOnly:e,description:s.formatMessage({id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst"}),parse:a=>a.toString().replaceAll("‑","-").replaceAll("	"," ")})})})})]})};Rt.buildInitialValuesNyIArbeidslivet=(e,n)=>{const r=e.find(i=>i.aktivitetStatus===R.SELVSTENDIG_NAERINGSDRIVENDE),t=n.find(i=>i.definisjon===t4);return{[Go]:r?q(r.overstyrtPrAar):void 0,[Do]:t&&t.begrunnelse?t.begrunnelse:void 0}};Rt.transformValuesNyIArbeidslivet=e=>({begrunnelse:e[Do],bruttoBeregningsgrunnlag:me(e[Go])});const i4=Pn(1500),s4=Rn(3),Lo="varigEndringNyoppstartetBegrunnelse",Mo="erVarigEndret",Ko="bruttoBeregningsgrunnlag",{VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:a4,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:l4}=ce,d4=e=>e?d.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndretInntektFastsettesTil"}):d.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.BruttoBerGr2"}),Ui=({readOnly:e,erVarigEndring:n,erVarigEndretArbeidssituasjon:r,erNyoppstartet:t,fieldIndex:i,formName:s,isAksjonspunktClosed:a})=>{let l=d.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IngenEndring"}),o=d.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.EndretNaering"});t&&!n&&(l=d.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeNyoppstartet"}),o=d.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.Nyoppstartet"})),n&&!t&&(l=d.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeVarigEndring"}),o=d.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndring"}));let k="Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringNæring";r&&(k="Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringArbeid"),t&&(k="Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelNyoppstartetNæring");const u=te(),f=je().watch(s)[i].erVarigEndret,c=[{value:"false",label:l},{value:"true",label:o}];return d.jsxs(d.Fragment,{children:[d.jsx(L,{children:d.jsx(E,{children:d.jsx(pe,{name:`${s}.${i}.${Mo}`,validate:[X],label:u.formatMessage({id:k}),isHorizontal:!1,isReadOnly:e,isEdited:e&&a,radios:c,isTrueOrFalseSelection:!0})})}),f&&d.jsxs(d.Fragment,{children:[d.jsxs(L,{className:ve.verticalAlignMiddle,children:[d.jsx(E,{className:ve.dynamiskKolonne,children:d.jsx(_,{size:"small",children:d4(r)})}),d.jsx(E,{children:d.jsx("div",{id:"readOnlyWrapper",className:e?ve.inputPadding:void 0,children:d.jsx(xe,{name:`${s}.${i}.${Ko}`,validate:[X,ln(178956970)],parse:Ne,className:ve.breddeInntekt,readOnly:e,isEdited:e&&a})})})]}),d.jsx(I,{sixteenPx:!0})]}),d.jsxs(d.Fragment,{children:[d.jsx(I,{sixteenPx:!0}),d.jsx(L,{children:d.jsx(E,{children:d.jsx(un,{name:`${s}.${i}.${Lo}`,label:d.jsx(m,{id:"Beregningsgrunnlag.Forms.Vurdering"}),validate:[X,i4,s4,Nn],maxLength:1500,readOnly:e,description:u.formatMessage({id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst"}),parse:b=>b.toString().replaceAll("‑","-").replaceAll("	"," ")})})})]})]})};Ui.buildInitialValues=(e,n)=>{const r=e.find(i=>i.aktivitetStatus===R.SELVSTENDIG_NAERINGSDRIVENDE||i.aktivitetStatus===R.BRUKERS_ANDEL),t=n.find(i=>i.definisjon===a4||i.definisjon===l4);if(t){const i=rn(t.status)?void 0:e[0].overstyrtPrAar!==null&&e[0].overstyrtPrAar!==void 0;return{[Mo]:i,[Lo]:t.begrunnelse?t.begrunnelse:"",[Ko]:r?q(r.overstyrtPrAar):void 0}}return{}};Ui.transformValues=e=>{const n=e[Mo];return{begrunnelse:e[Lo],erVarigEndretNaering:n,erVarigEndret:n,bruttoBeregningsgrunnlag:n?me(e[Ko]):void 0}};const{FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:wo,VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:o4,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:Pp}=ce,Bp=(e,n)=>n.some(r=>r.definisjon===e),g4=e=>e&&(e.definisjon===o4||e.definisjon===wo||e.definisjon===Pp),dr=({readOnly:e,avklaringsbehov:n,erNyArbLivet:r,erVarigEndring:t,erNyoppstartet:i,fieldIndex:s,formName:a})=>{if(!g4(n))return null;const l=n?!rn(n.status):!1;return r?d.jsx(Rt,{readOnly:e,isAksjonspunktClosed:l,erNyArbLivet:r,fieldIndex:s,formName:a}):d.jsx(Ui,{readOnly:e,erVarigEndring:t,erVarigEndretArbeidssituasjon:n.definisjon===Pp,erNyoppstartet:i,fieldIndex:s,formName:a,isAksjonspunktClosed:l})};dr.defaultProps={erNyArbLivet:!1,erVarigEndring:!1,erNyoppstartet:!1};dr.buildInitialValues=(e,n)=>Bp(wo,n)?Rt.buildInitialValuesNyIArbeidslivet(e,n):{...Ui.buildInitialValues(e,n)};dr.transformValues=(e,n)=>Bp(wo,n)?Rt.transformValuesNyIArbeidslivet(e):Ui.transformValues(e);const u4=Me(cp),k4=(e,n,r,t)=>!e&&!r||n?!0:t===void 0?!e:!e&&t||t,m4=({isReadOnly:e,isSubmittable:n,isSubmitting:r,isDirty:t,text:i,onClick:s,hasEmptyRequiredFields:a})=>e?null:d.jsx(se,{variant:"primary",size:"small",loading:r,disabled:k4(t,r,n,a),onClick:s||ia,type:s?"button":"submit",children:i||u4.formatMessage({id:"SubmitButton.ConfirmInformation"})}),{FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:f4,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:v4,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:c4,VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:p4,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:h4}=ce;var Rr=(e=>(e.ÅTTE_TRETTIFEM="8-35",e.ÅTTE_TRETTI="8-30",e))(Rr||{});const Uo=(e,n)=>Ae.SN===e||Ae.MIDLERTIDIG_INAKTIV===e||Ae.ATFLSN===e&&n!=null&&n.find(r=>Sm(r))?"8-35":"8-30",bd=e=>h4===e.definisjon||p4===e.definisjon||c4===e.definisjon?"8-35":f4===e.definisjon||v4===e.definisjon?"8-30":null,{VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:Op,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:$p,FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:Vp,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:Dp,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:Gp}=ce,b4=e=>{var n;const r=(e.beregningsgrunnlagPeriode&&e.beregningsgrunnlagPeriode.length>0?e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel||[]:[]).find(t=>t.aktivitetStatus&&t.aktivitetStatus===R.SELVSTENDIG_NAERINGSDRIVENDE);return(n=r==null?void 0:r.næringer)!=null&&n.some(t=>t.erNyoppstartet===!0)?"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerNyoppstartet":"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndring"},j4=(e,n)=>{switch(e.definisjon){case Op:return b4(n);case Gp:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerSNNyIArb";case $p:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndringArbeid";case Vp:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFL";case Dp:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFLTidsbegrenset";default:return"Ukjent aksjonspunkt"}},x4=e=>{const n=e.aktivitetStatus||[],r=n.some(i=>ym(i)),t=n.some(i=>_m(i));return r&&t?"Beregningsgrunnlag.AksjonspunktBehandler.TittelATFLAvvik":t?"Beregningsgrunnlag.AksjonspunktBehandler.TittelFLAvvik":"Beregningsgrunnlag.AksjonspunktBehandler.TittelATAvvik"},I4=(e,n)=>{switch(e.definisjon){case Op:return"Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringNyoppstartet";case Gp:return"Beregningsgrunnlag.AksjonspunktBehandler.TittelSNNyIArb";case $p:return"Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringArbeid";case Vp:case Dp:return x4(n);default:return"Ukjent aksjonspunkt"}},A4=({avklaringsbehov:e,beregningsgrunnlag:n,readOnly:r})=>e?d.jsxs("div",{className:r?ve.aksjonspunktBehandlerNoBorder:ve.aksjonspunktBehandlerHeader,children:[d.jsxs(L,{children:[!r&&d.jsx(E,{className:ve.aksjonspunktBehandlerImageCol,children:d.jsx(Br,{className:ve.warningIcon})}),d.jsx(E,{className:ve.aksjonspunktBehandlerTextCol,children:d.jsx(w,{children:d.jsx(m,{id:I4(e,n)})})})]}),d.jsx(I,{eightPx:!0}),d.jsxs(L,{children:[!r&&d.jsx(E,{className:ve.aksjonspunktBehandlerImageCol}),d.jsx(E,{className:ve.aksjonspunktBehandlerTextCol,children:d.jsx(_,{children:d.jsx(m,{id:j4(e,n)})})})]})]}):null,T4=Rn(3),E4=Pn(1500),{FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:qk,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:Wk,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:Zk,VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:Xk,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:Qk}=ce,y4="BeregningForm",ra=(e,n)=>bd(e)===n,_4=(e,n)=>!!e.find(r=>ra(r,n)),Co=e=>`${y4}_${e}`,em=(e,n)=>{if(!e||e.length<1)return!1;const r=e[0].beregningsgrunnlagPrStatusOgAndel?e[0].beregningsgrunnlagPrStatusOgAndel:[];return r==null?void 0:r.some(t=>t.aktivitetStatus===n&&t.skalFastsetteGrunnlag)},jd=e=>e&&e.length>0?e[0].beregningsgrunnlagPrStatusOgAndel?e[0].beregningsgrunnlagPrStatusOgAndel:[]:[],S4=e=>e.some(({periodeAarsaker:n})=>n&&n.some(r=>r===yn.ARBEIDSFORHOLD_AVSLUTTET)),F4=(e,n)=>e.perioder.find(({periode:r})=>r.fom===n),N4=(e,n)=>{if(!e||!e.beregningsgrunnlagPeriode)return{};const r=e.beregningsgrunnlagPeriode,t=e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel||[],i=t.filter(k=>k.aktivitetStatus===R.ARBEIDSTAKER),s=t.filter(k=>k.aktivitetStatus===R.FRILANSER),a=t.filter(k=>k.aktivitetStatus===R.SELVSTENDIG_NAERINGSDRIVENDE||k.aktivitetStatus===R.BRUKERS_ANDEL),l={...ur.buildInitialValues(e.avklaringsbehov),...wi.buildInitialValues(r),...Vo.buildInitialValues(s),...Ra.buildInitialValues(i)},o={...dr.buildInitialValues(a,e.avklaringsbehov)};return n?n.sammenligningsgrunnlagType===Ae.ATFLSN?{...l,...o}:n.sammenligningsgrunnlagType===Ae.AT_FL?{...l}:n.sammenligningsgrunnlagType===Ae.SN?{...o}:n.sammenligningsgrunnlagType===Ae.MIDLERTIDIG_INAKTIV?{...o}:{}:{...Rt.buildInitialValuesNyIArbeidslivet(a,e.avklaringsbehov)}},R4=(e,n,r,t)=>{let i={};return r&&(i=N4(e,t)),{...i,periode:n.periode,erTilVurdering:n.vurderesIBehandlingen&&!n.erForlengelse,gjeldendeAvklaringsbehov:r?[r]:[],skjæringstidspunkt:e.skjaeringstidspunktBeregning,allePerioder:e.beregningsgrunnlagPeriode}},P4=(e,n,r,t)=>({[r]:e.map(i=>{var s;return R4(i,F4(n,i.vilkårsperiodeFom),i.avklaringsbehov.find(a=>ra(a,t)),(s=i.sammenligningsgrunnlagPrStatus)==null?void 0:s.find(a=>Uo(a.sammenligningsgrunnlagType,i.aktivitetStatus)===t))})}),B4=(e,n,r,t,i)=>{const s=jd(n).find(k=>k.aktivitetStatus&&k.aktivitetStatus===R.SELVSTENDIG_NAERINGSDRIVENDE),a=s&&s.erNyIArbeidslivet,l=r.definisjon===ce.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON||s&&s.næringer&&s.næringer.some(k=>k.erVarigEndret===!0),o=s&&s.næringer&&s.næringer.some(k=>k.erNyoppstartet===!0);return!a&&!o&&!l?null:d.jsxs(d.Fragment,{children:[d.jsx(I,{eightPx:!0}),d.jsx(dr,{readOnly:e,avklaringsbehov:r,erNyArbLivet:a,erVarigEndring:l,erNyoppstartet:o,fieldIndex:t,formName:i})]})},O4=(e,n,r,t,i,s,a)=>{const l=S4(n),o=em(n,R.FRILANSER),k=em(n,R.ARBEIDSTAKER);return d.jsxs(d.Fragment,{children:[d.jsx(I,{eightPx:!0}),l&&d.jsx(wi,{readOnly:t,formName:a,allePerioder:n,kodeverkSamling:e,arbeidsgiverOpplysningerPerId:r,fieldIndex:s}),!l&&k&&d.jsx(Oo,{readOnly:t,alleAndelerIForstePeriode:jd(n),kodeverkSamling:e,arbeidsgiverOpplysningerPerId:r,fieldIndex:s,formName:a}),o&&d.jsx(Vo,{readOnly:t,fieldIndex:s,formName:a,alleAndelerIForstePeriode:jd(n)}),d.jsx(I,{sixteenPx:!0}),d.jsx(L,{children:d.jsx(E,{children:d.jsx(un,{name:`${a}.${s}.ATFLVurdering`,label:d.jsx(m,{id:"Beregningsgrunnlag.Forms.Vurdering"}),validate:[X,E4,T4,Nn],maxLength:1500,readOnly:t,className:ve.textAreaStyle,description:i.formatMessage({id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst"}),parse:u=>u.toString().replaceAll("‑","-").replaceAll("	"," ")})})})]})},$4=(e,n)=>(n.aksjonspunkter.forEach(r=>{const t=e.find(i=>i.kode===r.kode);t!==void 0?(t.grunnlag.push({periode:n.periode,...r.aksjonspunktData}),t.begrunnelse=`${t.begrunnelse} ${r.aksjonspunktData.begrunnelse}`):e.push({kode:r.kode,begrunnelse:r.aksjonspunktData.begrunnelse,grunnlag:[{periode:n.periode,...r.aksjonspunktData}]})}),e),Jt=(e,n)=>n!=null&&n.some(r=>r.definisjon===e),V4=e=>{const{allePerioder:n}=e;if(n.length<1)throw new Error("Ingen beregningsgrunnlagperioder, ugyldig tilstand");n.sort((t,i)=>!t.beregningsgrunnlagPeriodeFom||!i.beregningsgrunnlagPeriodeFom?0:t.beregningsgrunnlagPeriodeFom.localeCompare(i.beregningsgrunnlagPeriodeFom));const r=n[0].beregningsgrunnlagPrStatusOgAndel||[];if(Jt(qk,e.gjeldendeAvklaringsbehov))return[{kode:qk,aksjonspunktData:ur.transformATFLValues(e,r)}];if(Jt(Xk,e.gjeldendeAvklaringsbehov))return[{kode:Xk,aksjonspunktData:dr.transformValues(e,e.gjeldendeAvklaringsbehov)}];if(Jt(Qk,e.gjeldendeAvklaringsbehov))return[{kode:Qk,aksjonspunktData:dr.transformValues(e,e.gjeldendeAvklaringsbehov)}];if(Jt(Zk,e.gjeldendeAvklaringsbehov))return[{kode:Zk,aksjonspunktData:dr.transformValues(e,e.gjeldendeAvklaringsbehov)}];if(Jt(Wk,e.gjeldendeAvklaringsbehov))return[{kode:Wk,aksjonspunktData:ur.transformATFLTidsbegrensetValues(e,n)}];throw new Error("Må submitte et aksjonspunkt")},D4=(e,n)=>e[Co(n)].filter(r=>r.erTilVurdering).map(r=>({periode:r.periode,aksjonspunkter:V4(r)})).reduce($4,[]),G4=({readOnly:e,readOnlySubmitButton:n,kodeverkSamling:r,arbeidsgiverOpplysningerPerId:t,beregningsgrunnlagListe:i,vilkår:s,submitCallback:a,formData:l,setFormData:o,aktivIndex:k,lovparagraf:u,finnesFormSomSubmittes:f,setSubmitting:c})=>{const b=te(),x=(V,C)=>{c(!0),a(D4(V,C))},T=i.filter(V=>_4(V.avklaringsbehov,u)),N=Co(u),S=Qe({defaultValues:l||P4(T,s,N,u)}),{formState:{dirtyFields:B},control:y,trigger:O}=S,{fields:$}=ze({name:N,control:y}),D=j.useRef(null);j.useEffect(()=>{var V,C;f&&(V=B[N])!=null&&V[k]&&O(),i[k].avklaringsbehov.some(Z=>ra(Z,u)&&Z.status===ga.OPPRETTET)&&((C=D==null?void 0:D.current)==null||C.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}))},[k]);const Y=d.jsx(L,{children:d.jsx(E,{children:d.jsx(m4,{isReadOnly:e,isSubmittable:!n,isDirty:S.formState.isDirty,isSubmitting:f})})}),ne=V=>V.find(C=>ra(C,u)),ee=(V,C)=>{const Z=ne(C);return u===Rr.ÅTTE_TRETTI&&Z?O4(r,T[V].beregningsgrunnlagPeriode,t,e,b,V,N):u===Rr.ÅTTE_TRETTIFEM&&Z?B4(e,T[V].beregningsgrunnlagPeriode,Z,V,N):null},U=i[k].vilkårsperiodeFom;return d.jsx("div",{ref:D,children:d.jsx(en,{formMethods:S,onSubmit:V=>x(V,u),setDataOnUnmount:o,children:$.map((V,C)=>d.jsxs("div",{style:{display:T[C].vilkårsperiodeFom===U?"block":"none"},children:[d.jsx(A4,{readOnly:e,avklaringsbehov:ne(T[C].avklaringsbehov),beregningsgrunnlag:T[C]}),d.jsxs("div",{className:e?ve.aksjonspunktBehandlerNoBorder:ve.aksjonspunktBehandlerBorder,children:[ee(C,T[C].avklaringsbehov),d.jsx(I,{sixteenPx:!0}),Y,d.jsx(I,{sixteenPx:!0})]})]},V.id))})})},L4=e=>e.overstyrtPrAar!==null&&e.overstyrtPrAar!==void 0?!0:e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,M4=(e,n)=>e?e.filter(r=>n.includes(r.aktivitetStatus)).filter(r=>L4(r)):[],nm=e=>e||0,K4=e=>e.beregnetPrAar?e.beregnetPrAar:0,rm=(e,n)=>{const r=M4(e,n);if(r){const t=r.reduce((a,l)=>a+K4(l),0),i=r.reduce((a,l)=>{var o;return a+nm((o=l==null?void 0:l.arbeidsforhold)==null?void 0:o.naturalytelseBortfaltPrÅr)},0),s=r.reduce((a,l)=>{var o;return a+nm((o=l==null?void 0:l.arbeidsforhold)==null?void 0:o.naturalytelseTilkommetPrÅr)},0);return t+i-s}return 0},w4=(e,n)=>{const r=d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.ATFL.Tittel"}),t=d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.SN.Tittel"});switch(e.sammenligningsgrunnlagType){case Ae.AT:case Ae.FL:case Ae.AT_FL:return r;case Ae.SN:return t;case Ae.ATFLSN:return n===Rr.ÅTTE_TRETTIFEM?t:r;case Ae.MIDLERTIDIG_INAKTIV:return d.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.MIDL.Tittel"});default:throw new Error(`Ukjent sammenligningstype ${e.sammenligningsgrunnlagType}`)}},tm=(e,n)=>{const r=n.find(t=>(t.aktivitetStatus===R.SELVSTENDIG_NAERINGSDRIVENDE||t.aktivitetStatus===R.BRUKERS_ANDEL)&&!t.erTilkommetAndel);return e.sammenligningsgrunnlagType===Ae.SN&&r?{inntekt:r.pgiSnitt||0,erPGI:!0}:e.sammenligningsgrunnlagType===Ae.MIDLERTIDIG_INAKTIV&&r?{inntekt:r.pgiSnitt||0,erPGI:!0}:e.sammenligningsgrunnlagType===Ae.ATFLSN?r?{inntekt:r.pgiSnitt||0,erPGI:!0}:{inntekt:rm(n,[R.ARBEIDSTAKER,R.FRILANSER]),erPGI:!1}:{inntekt:rm(n,[R.ARBEIDSTAKER,R.FRILANSER]),erPGI:!1}};function im(e,n,r){const t={...e};return t[n]?t[n].push(r):t[n]=[r],t}const U4=e=>e.reduce((n,r)=>{let t={...n};return r.avklaringsbehov.find(i=>i.definisjon===ce.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET)&&(t=im(t,Rr.ÅTTE_TRETTIFEM,r)),!r.sammenligningsgrunnlagPrStatus||r.sammenligningsgrunnlagPrStatus.length===0||r.sammenligningsgrunnlagPrStatus.forEach(i=>{const s=Uo(i.sammenligningsgrunnlagType,r.aktivitetStatus);t=im(t,s,r)}),t},{}),C4=({readOnly:e,readOnlySubmitButton:n,kodeverkSamling:r,relevanteStatuser:t,arbeidsgiverOpplysningerPerId:i,gjelderBesteberegning:s,sammenligningsgrunnlag:a,beregningsgrunnlagListe:l,vilkår:o,submitCallback:k,formData:u,setFormData:f,aktivIndex:c})=>{var b;const x=U4(l),[T,N]=j.useState(!1),S=d.jsx(KC,{sammenligningsgrunnlag:a,relevanteStatuser:t,erManueltBesteberegnet:s,erNyIArbeidslivet:!!((b=l[c].beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel)!=null&&b.find(y=>y.erNyIArbeidslivet))}),B=y=>{var O;if(x[y]&&x[y].length>0){const $=x[y],D=l[c].vilkårsperiodeFom,Y=$.find(Z=>Z.vilkårsperiodeFom===D),ne=Y?(O=Y.sammenligningsgrunnlagPrStatus)==null?void 0:O.find(Z=>Uo(Z.sammenligningsgrunnlagType,Y==null?void 0:Y.aktivitetStatus)===y):void 0,ee=!!x[y].find(Z=>!!Z.avklaringsbehov.find(H=>bd(H)===y)),U=Y&&!!Y.avklaringsbehov.find(Z=>bd(Z)===y),V=(Y==null?void 0:Y.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel)||[],C=Co(y);return d.jsxs("div",{children:[!!ne&&d.jsxs(d.Fragment,{children:[d.jsx(oe,{size:"xsmall",children:w4(ne,y)}),d.jsx(QC,{sammenligningsgrunnlag:ne,beregnetAarsinntekt:tm(ne,V).inntekt,erPGI:tm(ne,V).erPGI}),d.jsx("div",{className:z.storSpace})]}),ee&&d.jsxs("div",{style:{display:U?"block":"none"},children:[d.jsx(G4,{readOnly:e,lovparagraf:y,kodeverkSamling:r,readOnlySubmitButton:n,arbeidsgiverOpplysningerPerId:i,beregningsgrunnlagListe:l,vilkår:o,submitCallback:k,formData:u&&C in u?u:void 0,setFormData:f,aktivIndex:c,finnesFormSomSubmittes:T,setSubmitting:N}),d.jsx("div",{className:z.storSpace})]})]})}return null};return d.jsxs("div",{className:z.panelRight,children:[S,d.jsx(I,{twentyPx:!0}),B(Rr.ÅTTE_TRETTI),B(Rr.ÅTTE_TRETTIFEM)]})},Y4="_kolBeskrivelse_1czvx_1",z4="_kolVerdi_1czvx_4",H4="_radNoBorder_1czvx_9",J4="_radDobbelLinje_1czvx_14",q4="_radEnkelLinje_1czvx_20",W4="_radTykkLinje_1czvx_24",Z4="_kolVerdiRød_1czvx_28",X4="_kolAvslagIkon_1czvx_31",Q4="_kolAvslagTekst_1czvx_34",e7="_avslåttIkon_1czvx_38",_e={kolBeskrivelse:Y4,kolVerdi:z4,radNoBorder:H4,radDobbelLinje:J4,radEnkelLinje:q4,radTykkLinje:W4,kolVerdiRød:"_kolVerdiRød_1czvx_28",kolVerdiRod:Z4,kolAvslagIkon:X4,kolAvslagTekst:Q4,avslåttIkon:"_avslåttIkon_1czvx_38",avslattIkon:e7},n7=260,Lp={[R.ARBEIDSTAKER]:{rekkefølgePri:1,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Arbeid"},[R.FRILANSER]:{rekkefølgePri:2,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Frilans"},[R.DAGPENGER]:{rekkefølgePri:3,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Dagpenger"},[R.SYKEPENGER_AV_DAGPENGER]:{rekkefølgePri:3,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.SykepengerAvDagpenger"},[R.PLEIEPENGER_AV_DAGPENGER]:{rekkefølgePri:3,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.PleiepengerAvDagpenger"},[R.ARBEIDSAVKLARINGSPENGER]:{rekkefølgePri:4,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Arbeidsavklaringspenger"},[R.KUN_YTELSE]:{rekkefølgePri:5,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Ytelse"},[R.MILITAER_ELLER_SIVIL]:{rekkefølgePri:6,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Militær"},[R.BRUKERS_ANDEL]:{rekkefølgePri:7,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.BrukersAndel"},[R.SELVSTENDIG_NAERINGSDRIVENDE]:{rekkefølgePri:8,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Næring"}},sm=e=>{var n;return((n=Lp[e.status])==null?void 0:n.rekkefølgePri)||100},r7=e=>{var n;return((n=Lp[e.status])==null?void 0:n.beskrivelseId)||"Ukjent andel"},t7=()=>d.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.IkkeBeregnet"}),i7=e=>e.reduce((n,r)=>(r.inntektPlussNaturalytelse||0)+n,0),s7=(e,n)=>(n==null?void 0:n.ytelsetype)!==Nm.FORELDREPENGER&&e.avkortetPrÅr?Math.round(e.avkortetPrÅr/n7):e.dagsats||0,Er=()=>d.jsx("div",{className:_e.radEnkelLinje}),a7=(e,n)=>d.jsxs(Se,{children:[d.jsx(I,{twentyPx:!0}),d.jsxs(L,{children:[d.jsx(E,{className:_e.avslåttIkon,children:d.jsx(Rh,{})}),d.jsx(E,{className:_e.kolAvslagTekst,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:n?"Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfyltMidlertidigInaktiv":"Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfylt2",values:{grunnbeløp:q(e),b:r=>d.jsx("b",{children:r})}})})})]})]}),l7=e=>!!e.aktivitetStatus&&e.aktivitetStatus.some(n=>n===R.MIDLERTIDIG_INAKTIV),d7=(e,n,r,t)=>{const i=e.andeler.reduce((u,f)=>(f.inntektPlussNaturalytelse||0)+u,0);if(n.vilkarStatus===Jo.IKKE_VURDERT)return null;if(n.vilkarStatus===Jo.IKKE_OPPFYLT)return a7(r.grunnbeløp,l7(r));const s=r.grunnbeløp*6,a=i>s,l=r.dekningsgrad!==Dh.HUNDRE,o=s7(e,r.ytelsesspesifiktGrunnlag),k=t&&(a||l);return d.jsxs(Se,{children:[k&&d.jsx(I,{fourtyPx:!0}),a&&d.jsxs(d.Fragment,{children:[Er(),d.jsxs(L,{className:_e.radNoBorder,children:[d.jsx(E,{className:_e.kolBeskrivelse,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Avkortet"})})}),d.jsx(E,{className:_e.kolVerdi,children:d.jsx(_,{size:"small",children:q(e.avkortetPrÅr)})})]}),Er()]}),l&&d.jsxs(d.Fragment,{children:[!a&&t&&d.jsx(d.Fragment,{children:Er()}),d.jsxs(L,{className:_e.radNoBorder,children:[d.jsx(E,{className:_e.kolBeskrivelse,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Redusert"})})}),d.jsx(E,{className:_e.kolVerdi,children:d.jsx(_,{size:"small",children:q(e.redusertPrÅr)})})]}),Er()]}),d.jsx(I,{fourtyPx:!0}),d.jsxs(L,{className:_e.radNoBorder,children:[d.jsx(E,{className:_e.kolBeskrivelse,children:d.jsx(w,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Dagsats"})})}),d.jsx(E,{className:_e.kolVerdi,children:d.jsx(w,{size:"medium",children:o})})]}),d.jsx("div",{className:_e.radDobbelLinje})]})},o7=({tabellData:e,skalVisePeriode:n,vilkårsperiode:r,beregningsgrunnlag:t})=>{const i=e.andeler.length>1&&!e.andeler.some(l=>!l.erFerdigBeregnet);e.andeler.sort((l,o)=>sm(l)-sm(o));const s=e.andeler.length>1,a=e.andeler.every(l=>l.erFerdigBeregnet);return d.jsxs(d.Fragment,{children:[n&&d.jsxs(d.Fragment,{children:[d.jsx(L,{children:d.jsx(E,{children:d.jsx(oe,{size:"xsmall",children:d.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Periode",values:{fom:A(e.fom).format(ie),tom:e.tom?A(e.tom).format(ie):""}})})})}),d.jsx(I,{eightPx:!0})]}),e.andeler.map((l,o)=>d.jsxs(K.Fragment,{children:[o===0&&d.jsx(d.Fragment,{children:Er()}),d.jsxs(L,{className:_e.radNoBorder,children:[d.jsx(E,{className:_e.kolBeskrivelse,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:r7(l)})})}),d.jsx(E,{className:_e.kolVerdi,children:d.jsx(_,{size:"small",className:l.erFerdigBeregnet?"":_e.kolVerdiRød,children:l.erFerdigBeregnet?q(l.inntekt):t7()})})]}),!!l.bortfaltNaturalytelse&&d.jsxs(d.Fragment,{children:[Er(),d.jsxs(L,{className:_e.radNoBorder,children:[d.jsx(E,{className:_e.kolBeskrivelse,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Naturalytelser"})})}),d.jsx(E,{className:_e.kolVerdi,children:d.jsx(_,{size:"small",children:q(l.bortfaltNaturalytelse)})})]})]}),Er()]},l.status)),i&&d.jsxs(d.Fragment,{children:[d.jsxs(L,{className:_e.radNoBorder,children:[d.jsx(E,{className:_e.kolBeskrivelse,children:d.jsx(_,{size:"small",children:d.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.TotalÅrsinntekt"})})}),d.jsx(E,{className:_e.kolVerdi,children:d.jsx(_,{size:"small",children:q(i7(e.andeler))})})]}),d.jsx("div",{className:_e.radTykkLinje})]}),a&&d.jsx(d.Fragment,{children:d7(e,r,t,s)})]})},g7=[yn.ARBEIDSFORHOLD_AVSLUTTET,yn.NATURALYTELSE_TILKOMMER,yn.NATURALYTELSE_BORTFALT],u7=e=>e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,k7=e=>e.besteberegningPrAar||e.besteberegningPrAar===0?e.besteberegningPrAar:e.overstyrtPrAar||e.overstyrtPrAar===0?e.overstyrtPrAar:e.beregnetPrAar||0,m7=(e,n)=>{switch(e){case R.ARBEIDSTAKER:case R.FRILANSER:return n.find(r=>r.definisjon===ce.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS||r.definisjon===ce.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD);case R.SELVSTENDIG_NAERINGSDRIVENDE:return n.find(r=>r.definisjon===ce.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET||r.definisjon===ce.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE);case R.BRUKERS_ANDEL:return n.find(r=>r.definisjon===ce.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON);default:return}},f7=e=>{var n,r;const t=(n=e==null?void 0:e.arbeidsforhold)==null?void 0:n.naturalytelseBortfaltPrÅr,i=((r=e==null?void 0:e.arbeidsforhold)==null?void 0:r.naturalytelseTilkommetPrÅr)||0;return t?t-i:0},v7=e=>{const{beregnetPrAar:n,pgiSnitt:r}=e;return!!n||n===0||!!r||r===0},c7=(e,n)=>{const r=e.filter(s=>u7(s)),t={};r.forEach(s=>{const a=t[s.aktivitetStatus];a?a.push(s):t[s.aktivitetStatus]=[s]});const i=[];return Object.keys(t).forEach(s=>{const a=t[s],l=m7(s,n),o=a.every(x=>v7(x)),k=a.reduce((x,T)=>k7(T)+x,0),u=a.reduce((x,T)=>f7(T)+x,0),f=(k||0)+(u||0),c=!!l&&rn(l.status),b=o&&!c;i.push({inntekt:k,bortfaltNaturalytelse:u,inntektPlussNaturalytelse:f,erFerdigBeregnet:b,status:s})}),i},p7=e=>e.some(n=>g7.includes(n)),h7=e=>{const{beregningsgrunnlagPeriode:n}=e,r=n.filter(i=>i.beregningsgrunnlagPeriodeFom===e.skjaeringstidspunktBeregning||!!i.periodeAarsaker&&p7(i.periodeAarsaker)).map(i=>i.beregningsgrunnlagPeriodeFom).sort((i,s)=>new Date(i).getTime()-new Date(s).getTime()),t=[];for(let i=0;i<r.length;i+=1){const s=r[i],a=i+1<r.length?A(r[i+1]).subtract(1,"day").format(Le).toString():void 0,l=n.find(b=>b.beregningsgrunnlagPeriodeFom===s),o=(l==null?void 0:l.periodeAarsaker)||[],k=c7((l==null?void 0:l.beregningsgrunnlagPrStatusOgAndel)||[],e.avklaringsbehov),u=l==null?void 0:l.redusertPrAar,f=l==null?void 0:l.avkortetPrAar,c=l==null?void 0:l.dagsats;t.push({fom:s,tom:a,årsak:o,andeler:k,redusertPrÅr:u,avkortetPrÅr:f,dagsats:c})}return t},b7=({beregningsgrunnlag:e,vilkårsperiode:n})=>{const r=j.useMemo(()=>h7(e),[e]),t=r.length>1;return d.jsxs("div",{className:z.panelRight,children:[d.jsx(oe,{size:"small",className:z.avsnittOverskrift,children:d.jsx(m,{id:"Beregningsgrunnlag.BeregningTable.Tittel"})}),d.jsx(I,{eightPx:!0}),r.map(i=>d.jsxs("div",{children:[d.jsx(o7,{tabellData:i,skalVisePeriode:t,vilkårsperiode:n,beregningsgrunnlag:e}),d.jsx(I,{fourtyPx:!0})]},i.fom))]})},j7=e=>e&&e.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller.some(n=>n===P.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE):!1,x7=e=>!!(e!=null&&e.besteberegninggrunnlag),I7=e=>e[0].beregningsgrunnlagPrStatusOgAndel?e[0].beregningsgrunnlagPrStatusOgAndel.filter(n=>n.erTilkommetAndel!==!0).map(n=>n.aktivitetStatus):[],A7=({readOnly:e,valgtBeregningsgrunnlag:n,relevanteStatuser:r,readOnlySubmitButton:t,kodeverkSamling:i,vilkarPeriode:s,arbeidsgiverOpplysningerPerId:a,gjeldendeAvklaringsbehov:l,alleBeregningsgrunnlag:o,vilkår:k,submitCallback:u,formData:f,setFormData:c,aktivIndex:b})=>{var x;const{skjaeringstidspunktBeregning:T,beregningsgrunnlagPeriode:N,faktaOmBeregning:S,ytelsesspesifiktGrunnlag:B}=n,y=j7(S),O=x7(B),$=d.jsx("div",{className:z.storSpace}),D=I7(N),Y=l&&l.length>0;return d.jsxs(d.Fragment,{children:[Y&&d.jsxs(d.Fragment,{children:[d.jsx(I,{eightPx:!0}),d.jsx(sC,{avklaringsbehov:l,beregningsgrunnlag:n})]}),d.jsxs(L,{children:[d.jsxs(E,{className:z.venstreKolonne,children:[d.jsx(oe,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.Title.Beregning"})}),d.jsx(I,{sixteenPx:!0}),d.jsx(fw,{kodeverkSamling:i,aktivitetStatusList:D,skjeringstidspunktDato:T,saksopplysninger:n.faktaOmBeregning?n.faktaOmBeregning.saksopplysninger:void 0,arbeidsgiverOpplysningerPerId:a}),$,r.skalViseBeregningsgrunnlag&&d.jsx(ur,{relevanteStatuser:r,allePerioder:N,gjelderBesteberegning:y,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:a,sammenligningsGrunnlagInntekter:n.inntektsgrunnlag,sammenligningsgrunnlag:n.sammenligningsgrunnlagPrStatus}),O&&d.jsxs(d.Fragment,{children:[$,d.jsx(K5,{besteMåneder:(x=B==null?void 0:B.besteberegninggrunnlag)==null?void 0:x.besteMåneder,periode:N[0]})]})]}),d.jsxs(E,{className:z.hoyreKolonne,children:[d.jsx(oe,{size:"medium",className:z.panelRight,children:d.jsx(m,{id:"Beregningsgrunnlag.Title.Fastsettelse"})}),d.jsx(I,{sixteenPx:!0}),d.jsx(C4,{readOnly:e,readOnlySubmitButton:t,kodeverkSamling:i,relevanteStatuser:r,arbeidsgiverOpplysningerPerId:a,gjelderBesteberegning:y,sammenligningsgrunnlag:n.sammenligningsgrunnlagPrStatus||[],beregningsgrunnlagListe:o,vilkår:k,submitCallback:u,formData:f,setFormData:c,aktivIndex:b}),d.jsxs(d.Fragment,{children:[d.jsx(I,{sixteenPx:!0}),d.jsx(MC,{beregningsgrunnlag:n})]}),s&&d.jsx(b7,{beregningsgrunnlag:n,vilkårsperiode:s})]})]})]})},T7=[ce.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE,ce.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON,ce.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS,ce.FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE,ce.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD,ce.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET],E7=e=>e.avklaringsbehov.filter(n=>T7.some(r=>r===n.definisjon)),y7=e=>({isArbeidstaker:e.some(n=>ym(n)),isFrilanser:e.some(n=>_m(n)),isSelvstendigNaeringsdrivende:e.some(n=>Sm(n)),isMidlertidigInaktiv:e.some(n=>n===R.MIDLERTIDIG_INAKTIV),harAndreTilstotendeYtelser:e.some(n=>Oh(n)),harDagpengerEllerAAP:e.some(n=>Fm(n)),isAAP:e.some(n=>n===R.ARBEIDSAVKLARINGSPENGER),isDagpenger:e.some(n=>n===R.DAGPENGER||n===R.SYKEPENGER_AV_DAGPENGER),skalViseBeregningsgrunnlag:e.length>0,isKombinasjonsstatus:e.some(n=>$h(n))||e.length>1,isMilitaer:e.some(n=>Vh(n))}),_7=e=>e?e.find(n=>n.definisjon===ce.VURDER_GRADERING_UTEN_BEREGNINGSGRUNNLAG):void 0,am=(e,n)=>e.perioder.find(({periode:r})=>r.fom===n),S7=({aktivtBeregningsgrunnlagIndeks:e,beregningsgrunnlagListe:n,submitCallback:r,readOnly:t,readOnlySubmitButton:i,vilkar:s,kodeverkSamling:a,arbeidsgiverOpplysningerPerId:l,formData:o,setFormData:k})=>{const u=n[e],f=y7(u.aktivitetStatus),c=_7(u.avklaringsbehov);function b(x){const T=am(s,x.vilkårsperiodeFom);return T.vurderesIBehandlingen&&!T.erForlengelse}return d.jsxs(d.Fragment,{children:[d.jsx(A7,{readOnly:t||!b(n[e]),valgtBeregningsgrunnlag:n[e],gjeldendeAvklaringsbehov:E7(n[e]),relevanteStatuser:f,readOnlySubmitButton:i,kodeverkSamling:a,vilkarPeriode:am(s,n[e].vilkårsperiodeFom),arbeidsgiverOpplysningerPerId:l,alleBeregningsgrunnlag:n,vilkår:s,submitCallback:r,formData:o,setFormData:k,aktivIndex:e}),c&&d.jsx(V5,{avklaringsbehov:c})]})},F7=[ce.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE,ce.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS,ce.FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE,ce.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD,ce.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET,ce.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON],N7=[],R7=F5.bind(ys),lm=Me(cp),P7=e=>{var n;const r=(n=e==null?void 0:e.perioder)==null?void 0:n.some(t=>t.avslagKode==="1043");return d.jsxs(d.Fragment,{children:[d.jsx(oe,{size:"medium",children:d.jsx(m,{id:"Beregningsgrunnlag.Title"})}),d.jsx(I,{eightPx:!0}),d.jsx(L,{children:d.jsx(E,{children:d.jsx(m,{id:r?"Beregningsgrunnlag.Avslagsårsak.IkkeTilstrekkeligInntektsgrunnlag":"Beregningsgrunnlag.HarIkkeBeregningsregler"})})})]})},B7=(e,n)=>{const r=n.vilkårsperiodeFom;return(e&&e.perioder?e.perioder.filter(t=>t.vurderesIBehandlingen&&!t.erForlengelse):[]).some(t=>t.periode.fom===r)},O7=e=>e.avklaringsbehov.some(n=>F7.some(r=>r===n.definisjon)&&n.kanLoses),$7=(e,n)=>e.map(r=>({skalVurderes:B7(n,r),harAvklaringsbehov:O7(r),stp:A(r.skjaeringstidspunktBeregning).format(ie)})),V7=({beregningsgrunnlagListe:e,submitCallback:n,isReadOnly:r,readOnlySubmitButton:t,beregningsgrunnlagsvilkar:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:a,formData:l,setFormData:o})=>{const k=e||N7,u=k.length>1;k.sort((T,N)=>T.skjaeringstidspunktBeregning.localeCompare(N.skjaeringstidspunktBeregning));const[f,c]=j.useState(0),b=$7(k,i),x=R7("mainContainer",{"mainContainer--withSideMenu":u});return j.useEffect(()=>{const T=b.findIndex(N=>N.skalVurderes&&N.harAvklaringsbehov);T>-1&&c(T)},[e]),e.length===0||e.length===1&&!e[0].aktivitetStatus?d.jsx(Ze,{value:lm,children:P7(i)}):d.jsx(Ze,{value:lm,children:d.jsxs("div",{className:x,children:[u&&d.jsx("div",{className:ys.sideMenuContainer,children:d.jsx(Ch,{links:b.map((T,N)=>({icon:T.skalVurderes&&T.harAvklaringsbehov?d.jsx(Br,{className:ys.advarselIkon}):null,active:f===N,label:`${T.stp}`})),onClick:c,theme:"arrow"})}),d.jsx("div",{className:ys.contentContainer,children:d.jsx(S7,{aktivtBeregningsgrunnlagIndeks:f,beregningsgrunnlagListe:k,submitCallback:n,readOnly:r,readOnlySubmitButton:t,vilkar:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:a,setFormData:o,formData:l})})]})})};const D7=e=>{switch(e){case ce.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:return ue.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS;case ce.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:return ue.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD;case ce.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:return ue.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET;case ce.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:return ue.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE;default:throw new Error(`Ukjent avklaringspunkt ${e}`)}},G7=e=>n=>{const t=(Array.isArray(n)?n:[n]).map(i=>({kode:D7(i.kode),...i.grunnlag[0]}));return e(t)},L7=(e,n)=>({avslagKode:n.avslagKode,vurderesIBehandlingen:!0,merknadParametere:{},periode:{fom:e?e.skjaeringstidspunktBeregning:"",tom:Xe},vilkarStatus:n.vilkarStatus}),M7=(e,n)=>{const r=e.find(i=>i.vilkarType&&i.vilkarType===_r.BEREGNINGSGRUNNLAGVILKARET);return!r||!n?null:{...r,perioder:[L7(n,r)]}},K7=e=>e?[{...e,vilkårsperiodeFom:e.skjaeringstidspunktBeregning}]:[],w7=[ue.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS,ue.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE,ue.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD,ue.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET],U7=[_r.BEREGNINGSGRUNNLAGVILKARET],C7=[Je.BEREGNINGSGRUNNLAG],dm=({arbeidsgiverOpplysningerPerId:e,...n})=>$e.jsx(Rd,{...n,panelEndepunkter:C7,aksjonspunktKoder:w7,vilkarKoder:U7,prosessPanelKode:Ad.BEREGNINGSGRUNNLAG,prosessPanelMenyTekst:te().formatMessage({id:"Behandlingspunkt.Beregning"}),skalPanelVisesIMeny:()=>!0,renderPanel:r=>$e.jsx(V7,{...r,kodeverkSamling:r.alleKodeverk,beregningsgrunnlagsvilkar:M7(r.vilkar,r.beregningsgrunnlag),beregningsgrunnlagListe:K7(r.beregningsgrunnlag),arbeidsgiverOpplysningerPerId:e,submitCallback:G7(r.submitCallback)})});try{dm.displayName="BeregningsgrunnlagProsessStegInitPanel",dm.__docgenInfo={description:"",displayName:"BeregningsgrunnlagProsessStegInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}var Mp={exports:{}},qt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function Y7(){if(om)return qt;om=1;var e=K,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,o,k){var u,f={},c=null,b=null;k!==void 0&&(c=""+k),o.key!==void 0&&(c=""+o.key),o.ref!==void 0&&(b=o.ref);for(u in o)t.call(o,u)&&!s.hasOwnProperty(u)&&(f[u]=o[u]);if(l&&l.defaultProps)for(u in o=l.defaultProps,o)f[u]===void 0&&(f[u]=o[u]);return{$$typeof:n,type:l,key:c,ref:b,props:f,_owner:i.current}}return qt.Fragment=r,qt.jsx=a,qt.jsxs=a,qt}Mp.exports=Y7();var G=Mp.exports;const z7=(e,n)=>e.filter(r=>r.opptjeningsår===n),Kp=e=>e.aktivitetStatus+e.arbeidsgiverId,H7=(e,n,r)=>{const t=e.arbeidsgiverId?n[e.arbeidsgiverId]:void 0;return t?t.erPrivatPerson?t.fødselsdato?`${t.navn} (${A(t.fødselsdato).format(ie)})`:t.navn:t.identifikator?`${t.navn} (${t.identifikator})`:t.navn:e.aktivitetStatus?Im(r)(e.aktivitetStatus,Zn.AKTIVITET_STATUS):""},J7=(e,n,r)=>({identifikator:Kp(e),visningsnavn:H7(e,n,r),utbetaltTilSøker:e.erBrukerMottaker?e.årsbeløp:0,utbetaltIRefusjon:e.erBrukerMottaker?0:e.årsbeløp}),q7=(e,n,r)=>{const t=[];return e.forEach(i=>{const s=i.erBrukerMottaker?i.årsbeløp:0,a=i.erBrukerMottaker?0:i.årsbeløp,l=Kp(i),o=t.find(k=>k.identifikator===l);o?(o.utbetaltTilSøker+=s,o.utbetaltIRefusjon+=a):t.push(J7(i,n,r))}),t},W7=["TilkjentYtelse.Feriepenger.AndelNavn","TilkjentYtelse.Feriepenger.GrunnlagRefusjon","TilkjentYtelse.Feriepenger.GrunnlagSøker"],Z7=({alleAndeler:e,opptjeningsår:n,alleKodeverk:r,arbeidsgiverOpplysningerPerId:t})=>{const i=!e||e.length<1,s=j.useMemo(()=>i?void 0:z7(e,n),[e,n]),a=j.useMemo(()=>s?q7(s,t,r):[],[s]);return i?null:G.jsxs(G.Fragment,{children:[G.jsx(w,{size:"small",children:G.jsx(m,{id:"TilkjentYtelse.Feriepenger.Opptjeningsår",values:{år:n}})}),G.jsx(kn,{headerTextCodes:W7,children:a.map(l=>G.jsxs(nn,{children:[G.jsx(W,{children:G.jsx(_,{size:"small",children:l.visningsnavn})}),G.jsx(W,{children:G.jsx(_,{size:"small",children:l.utbetaltIRefusjon})}),G.jsx(W,{children:G.jsx(_,{size:"small",children:l.utbetaltTilSøker})})]},l.identifikator))})]})},X7=e=>{const n=e.map(r=>r.opptjeningsår).sort((r,t)=>r-t);return[...new Set(n)]},Q7=()=>G.jsx(oe,{size:"small",children:G.jsx(m,{id:"TilkjentYtelse.Feriepenger.Tittel"})}),eY=({feriepengegrunnlag:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r,erPanelÅpent:t,togglePanel:i})=>{const{andeler:s}=e,a=!s||s.length<1,l=j.useMemo(()=>a?[]:X7(s),[s]);return a?null:G.jsx(He,{children:G.jsxs(He.Item,{open:t,children:[G.jsx(He.Header,{onClick:i,children:Q7()}),G.jsx(He.Content,{children:l.map(o=>G.jsxs("div",{children:[G.jsx(I,{sixteenPx:!0},`spacer_${o}`),G.jsx(Z7,{alleAndeler:s,opptjeningsår:o,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r},`tabell_${o}`)]},`div_${o}`))})]})})},nY=({feriepengegrunnlag:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r})=>{const[t,i]=j.useState(!1);return G.jsx(eY,{feriepengegrunnlag:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r,erPanelÅpent:t,togglePanel:()=>i(!t)})},rY="_detailsPeriode_1r02x_1",tY="_margin_1r02x_9",iY="_fix_1r02x_13",ks={detailsPeriode:rY,margin:tY,fix:iY},sY=e=>e?`...${e.substring(e.length-4,e.length)}`:"",aY=(e,n,r)=>{const t=r[e.arbeidsgiverReferanse];return!t||!t.navn?e.arbeidsforholdType?n(e.arbeidsforholdType,Zn.OPPTJENING_AKTIVITET_TYPE):"":t.erPrivatPerson?`${t.navn} (${t.fødselsdato})`:`${t.navn} (${t.identifikator})${sY(e.eksternArbeidsforholdId)}`},lY=(e=!1)=>e?["TilkjentYtelse.PeriodeData.Andel","TilkjentYtelse.PeriodeData.Utbetalingsgrad","TilkjentYtelse.PeriodeData.Refusjon","TilkjentYtelse.PeriodeData.TilSoker","TilkjentYtelse.PeriodeData.SisteUtbDato"]:["TilkjentYtelse.PeriodeData.Andel","TilkjentYtelse.PeriodeData.KontoType","TilkjentYtelse.PeriodeData.Gradering","TilkjentYtelse.PeriodeData.Utbetalingsgrad","TilkjentYtelse.PeriodeData.Refusjon","TilkjentYtelse.PeriodeData.TilSoker","TilkjentYtelse.PeriodeData.SisteUtbDato"],dY=(e,n,r)=>{switch(e.aktivitetStatus){case sr.ARBEIDSTAKER:return aY(e,n,r);case sr.FRILANSER:return G.jsx(m,{id:"TilkjentYtelse.PeriodeData.Frilans"});case sr.SELVSTENDIG_NAERINGSDRIVENDE:return G.jsx(m,{id:"TilkjentYtelse.PeriodeData.SelvstendigNaeringsdrivende"});case sr.DAGPENGER:return G.jsx(m,{id:"TilkjentYtelse.PeriodeData.Dagpenger"});case sr.ARBEIDSAVKLARINGSPENGER:return G.jsx(m,{id:"TilkjentYtelse.PeriodeData.AAP"});case sr.MILITAER_ELLER_SIVIL:return G.jsx(m,{id:"TilkjentYtelse.PeriodeData.Militaer"});case sr.BRUKERS_ANDEL:return G.jsx(m,{id:"TilkjentYtelse.PeriodeData.BrukersAndel"});default:return""}},oY=e=>{if(e===void 0)return null;const n=e.uttak&&e.uttak.gradering===!0?"TilkjentYtelse.PeriodeData.Ja":"TilkjentYtelse.PeriodeData.Nei";return G.jsx(m,{id:n})},gY=({selectedItemData:e,callbackForward:n,callbackBackward:r,alleKodeverk:t,isSoknadSvangerskapspenger:i,arbeidsgiverOpplysningerPerId:s,lukkPeriode:a})=>{const l=lh(e.fom,e.tom),o=te(),k=Im(t),u=j.useCallback((...f)=>G.jsx("b",{children:f}),[]);return G.jsxs(Sd,{border:!0,children:[G.jsxs(Se,{children:[G.jsxs(L,{spaceBetween:!0,children:[G.jsx(E,{children:G.jsx(w,{size:"small",children:G.jsx(m,{id:"TilkjentYtelse.PeriodeData.Detaljer"})})}),G.jsxs(E,{className:ks.fix,children:[G.jsx(se,{className:ks.margin,size:"xsmall",icon:G.jsx(aa,{"aria-hidden":!0}),onClick:r,variant:"secondary-neutral",type:"button",title:o.formatMessage({id:"Timeline.prevPeriod"}),children:G.jsx(m,{id:"Timeline.prevPeriodShort"})}),G.jsx(se,{className:ks.margin,size:"xsmall",icon:G.jsx(la,{"aria-hidden":!0}),onClick:n,variant:"secondary-neutral",type:"button",title:o.formatMessage({id:"Timeline.nextPeriod"}),iconPosition:"right",children:G.jsx(m,{id:"Timeline.nextPeriodShort"})}),G.jsx(se,{size:"xsmall",icon:G.jsx(Wn,{"aria-hidden":!0}),onClick:a,variant:"tertiary-neutral",type:"button",title:o.formatMessage({id:"Timeline.lukkPeriode"})})]})]}),G.jsx(I,{sixteenPx:!0}),G.jsxs("div",{className:ks.detailsPeriode,children:[G.jsxs(L,{spaceBetween:!0,children:[G.jsx(E,{children:G.jsx(w,{size:"small",children:G.jsx(m,{id:"TilkjentYtelse.PeriodeData.Periode",values:{fomVerdi:A(e.fom).format(ie).toString(),tomVerdi:A(e.tom).format(ie).toString()}})})}),G.jsx(E,{children:G.jsx(_,{size:"small",children:l.formattedString})})]}),G.jsx(I,{eightPx:!0}),G.jsx(L,{children:G.jsx(E,{children:G.jsx(m,{id:"TilkjentYtelse.PeriodeData.Dagsats",values:{dagsatsVerdi:e.dagsats,b:u}})})})]})]}),G.jsx(I,{sixteenPx:!0}),e.andeler&&e.andeler.length!==0&&G.jsx(kn,{headerTextCodes:lY(i),children:e.andeler.map((f,c)=>G.jsxs(nn,{children:[G.jsx(W,{children:dY(f,k,s)}),!i&&G.jsx(W,{children:G.jsx(_,{size:"small",children:Ih[f.uttak.stonadskontoType]})}),!i&&G.jsx(W,{children:G.jsx(_,{size:"small",children:oY(f)})}),G.jsx(W,{children:G.jsx(_,{size:"small",children:f.utbetalingsgrad?f.utbetalingsgrad:""})}),G.jsx(W,{children:G.jsx(_,{size:"small",children:f.aktivitetStatus===sr.ARBEIDSTAKER&&f.refusjon?f.refusjon:""})}),G.jsx(W,{children:G.jsx(_,{size:"small",children:f.tilSoker?f.tilSoker:""})}),G.jsx(W,{children:G.jsx(_,{size:"small",children:f.sisteUtbetalingsdato?A(f.sisteUtbetalingsdato).format(ie):""})})]},`index${c+1}`))})]})},uY="_space_ckypy_1",kY="_margin_ckypy_5",mY="_readOnlyBlokk_ckypy_9",Xr={space:uY,margin:kY,readOnlyBlokk:mY},fY=e=>(e.andeler||[]).filter(n=>n.uttak&&n.uttak.gradering===!0).length>0,vY=e=>{const n=e.gjeldende||e.oppgitt;return n.soknadType===Ah.FODSEL?n.avklartBarn&&n.avklartBarn.length>0?{dato:n.avklartBarn[0].fodselsdato,textId:"TilkjentYtelse.Fodselsdato"}:{dato:n.termindato,textId:"TilkjentYtelse.Termindato"}:n.omsorgsovertakelseDato?{dato:n.omsorgsovertakelseDato,textId:"TilkjentYtelse.Omsorgsovertakelsesdato"}:{dato:n.adopsjonFodelsedatoer?n.adopsjonFodelsedatoer[0]:void 0,textId:"TilkjentYtelse.Fodselsdato"}},cY=(e=[])=>e.filter(n=>n.andeler&&n.andeler[0]&&n.dagsats).map((n,r)=>({erGradert:fY(n),start:A(n.fom).toDate(),end:A(n.tom).add(1,"days").toDate(),id:r,periode:n})),pY=(e,n)=>{var r;return((r=n[Zn.RELASJONSROLLE_TYPE].find(t=>t.kode===e.relasjonsRolleType))==null?void 0:r.navn)||""},hY=(e,n)=>{const r=A(e);return r.isBefore(n)?n.subtract(5,"days"):r},bY=({beregningsresultatPeriode:e,soknadDate:n,familieHendelseSamling:r,hovedsokerKjonnKode:t,alleKodeverk:i,arbeidsgiverOpplysningerPerId:s,fagsak:a})=>{const l=te(),[o,k]=j.useState(),u=j.useMemo(()=>cY(e),[e]),f=j.useCallback(()=>{k(null)},[]),c=j.useCallback(()=>{const U=u.findIndex(V=>V.id===(o==null?void 0:o.id))+1;U<u.length&&k(u[U])},[u,o,k]),b=j.useCallback(()=>{const U=u.findIndex(V=>V.id===(o==null?void 0:o.id))-1;U>=0&&k(u[U])},[u,o,k]),x=j.useCallback(U=>{k(u.find(V=>V.id===U))},[k,u]),T=A(u[0].start),N=A(u[u.length-1].end),[S,B]=j.useState(T),[y,O]=j.useState(N),$=()=>{S.subtract(1,"month").isBefore(T)||(B(S.subtract(1,"month")),O(y.subtract(1,"month")))},D=()=>{y.add(1,"month").isAfter(N)||(B(S.add(1,"month")),O(y.add(1,"month")))},Y=()=>{S.add(3,"month").isAfter(y)||(B(S.add(1,"month")),O(y.subtract(1,"month")))},ne=()=>{y.add(1,"month").diff(S.subtract(1,"month"),"months")<36&&(B(S.subtract(1,"month")),O(y.add(1,"month")))},ee=j.useMemo(()=>vY(r),[r]);return G.jsxs(G.Fragment,{children:[G.jsxs(qe,{startDate:S.toDate(),endDate:y.add(1,"days").toDate(),children:[G.jsxs(qe.Pin,{date:A(n).toDate(),children:[G.jsx(_,{children:G.jsx(m,{id:"TilkjentYtelse.Soknadsdato"})}),G.jsx(_,{children:G.jsx(De,{dateString:n})})]}),ee.dato&&G.jsxs(qe.Pin,{date:hY(ee.dato,S).toDate(),children:[G.jsx(_,{children:G.jsx(m,{id:ee.textId})}),G.jsx(_,{children:G.jsx(De,{dateString:ee.dato})})]}),G.jsx(qe.Row,{label:pY(a,i),icon:t===bh.KVINNE?G.jsx(jh,{width:20,height:20,color:"var(--a-red-200)"}):G.jsx(Kh,{width:20,height:20,color:"var(--a-blue-600)"}),children:u.map(U=>G.jsx(qe.Period,{start:U.start,end:U.end,status:"success",onSelectPeriod:()=>x(U.id),isActive:(o==null?void 0:o.id)===U.id,icon:U.erGradert?G.jsx(ub,{"aria-hidden":!0}):G.jsx(Id,{"aria-hidden":!0}),title:U.erGradert?l.formatMessage({id:"TilkjentYtelse.GradertPeriode"}):""},U.id))})]}),G.jsx(I,{twentyPx:!0}),G.jsxs(dt,{children:[G.jsx(se,{className:Xr.margin,size:"small",icon:G.jsx(wh,{"aria-hidden":!0}),onClick:Y,variant:"primary-neutral",type:"button",title:l.formatMessage({id:"TilkjentYtelse.ZoomInn"})}),G.jsx(se,{className:Xr.margin,size:"small",icon:G.jsx(Uh,{"aria-hidden":!0}),onClick:ne,variant:"primary-neutral",type:"button",title:l.formatMessage({id:"TilkjentYtelse.ZoomUt"})}),G.jsx(se,{className:Xr.margin,size:"small",icon:G.jsx(aa,{"aria-hidden":!0}),onClick:$,variant:"primary-neutral",type:"button",title:l.formatMessage({id:"TilkjentYtelse.ScrollTilVenstre"})}),G.jsx(se,{className:Xr.margin,size:"small",icon:G.jsx(la,{"aria-hidden":!0}),onClick:D,variant:"primary-neutral",type:"button",title:l.formatMessage({id:"TilkjentYtelse.ScrollTilHogre"})})]}),G.jsx("div",{className:Xr.space}),o&&G.jsxs(G.Fragment,{children:[G.jsx(I,{eightPx:!0}),G.jsx(gY,{alleKodeverk:i,selectedItemData:o.periode,callbackForward:c,callbackBackward:b,isSoknadSvangerskapspenger:a.fagsakYtelseType===xh.SVANGERSKAPSPENGER,arbeidsgiverOpplysningerPerId:s,lukkPeriode:f})]})]})},jY=e=>{var n;return e?(n=e.find(r=>r.definisjon===ue.VURDER_TILBAKETREKK))==null?void 0:n.begrunnelse:void 0},xY=({beregningresultat:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r,feriepengegrunnlag:t,familieHendelseSamling:i,personoversikt:s,soknad:a,aksjonspunkter:l,fagsak:o})=>{var k,u;const f=j.useMemo(()=>jY(l),[l]),c=(k=a.søknadsfrist)!=null&&k.mottattDato?(u=a.søknadsfrist)==null?void 0:u.mottattDato:a.mottattDato;return G.jsxs(G.Fragment,{children:[G.jsx(oe,{size:"small",children:G.jsx(m,{id:"TilkjentYtelse.Title"})}),G.jsx(I,{thirtyTwoPx:!0}),e&&G.jsx(bY,{beregningsresultatPeriode:e.perioder,soknadDate:c,familieHendelseSamling:i,hovedsokerKjonnKode:s!=null&&s.bruker?s.bruker.kjønn:void 0,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r,fagsak:o}),t&&G.jsxs(G.Fragment,{children:[G.jsx(I,{thirtyTwoPx:!0}),G.jsx(nY,{feriepengegrunnlag:t,arbeidsgiverOpplysningerPerId:r,alleKodeverk:n}),G.jsx(I,{thirtyTwoPx:!0})]}),f&&G.jsxs(G.Fragment,{children:[G.jsx(w,{children:G.jsx(m,{id:"TilkjentYtelse.VurderTilbaketrekk.Beskrivelse"})}),G.jsx(I,{sixteenPx:!0}),G.jsxs(_,{className:Xr.readOnlyBlokk,children:[f," ",G.jsx(ht,{})]})]})]})},IY={"TilkjentYtelse.Title":"Tilkjent ytelse","TilkjentYtelse.VurderTilbaketrekk.Beskrivelse":"Saksbehandler har vurdert om ytelsen skal endres fra direkte utbetaling til refusjon til arbeidsgiver, og tilbakekreves fra bruker, eller om det er en sak mellom arbeidstaker og arbeidsgiver.","TilkjentYtelse.Stonadinfo.Stonadsdager":"Stønadsdager","TilkjentYtelse.PeriodeData.Detaljer":"Detaljer for valgt periode","TilkjentYtelse.PeriodeData.UkerDager":"{weeks} uker {days} dager","TilkjentYtelse.PeriodeData.Godkjent":"Godkjent","TilkjentYtelse.PeriodeData.Dagsats":"Utbetalt dagsats: <b>{dagsatsVerdi}</b>","TilkjentYtelse.PeriodeData.Andel":"Andel","TilkjentYtelse.PeriodeData.KontoType":"Stønadskonto","TilkjentYtelse.PeriodeData.Gradering":"Gradering","TilkjentYtelse.PeriodeData.Utbetalingsgrad":"Utb.grad","TilkjentYtelse.PeriodeData.Refusjon":"Utbetalt refusjon","TilkjentYtelse.PeriodeData.TilSoker":"Utbetalt til søker","TilkjentYtelse.PeriodeData.SisteUtbDato":"Siste innvilgede utb.dato","TilkjentYtelse.PeriodeData.Periode":"{fomVerdi} - {tomVerdi}","TilkjentYtelse.PeriodeData.Ja":"Ja","TilkjentYtelse.PeriodeData.Nei":"Nei","TilkjentYtelse.PeriodeData.SelvstendigNaeringsdrivende":"Selvstendig næringsdrivende","TilkjentYtelse.PeriodeData.Frilans":"Frilanser","TilkjentYtelse.PeriodeData.Militaer":"Militær","TilkjentYtelse.PeriodeData.Dagpenger":"Dagpenger","TilkjentYtelse.PeriodeData.AAP":"Arbeidsavklaringspenger","TilkjentYtelse.PeriodeData.BrukersAndel":"Brukers andel","TilkjentYtelse.Feriepenger.Tittel":"Feriepengegrunnlag","TilkjentYtelse.Feriepenger.Opptjeningsår":"Opptjent i {år}","TilkjentYtelse.Feriepenger.AndelNavn":"Andel","TilkjentYtelse.Feriepenger.GrunnlagSøker":"Beløp til søker","TilkjentYtelse.Feriepenger.GrunnlagRefusjon":"Beløp til arbeidsgiver","TilkjentYtelse.Soknadsdato":"Søknadsdato","TilkjentYtelse.Fodselsdato":"Fødselsdato","TilkjentYtelse.Termindato":"Termindato","TilkjentYtelse.GradertPeriode":"Gradert periode","TilkjentYtelse.ZoomInn":"Zoom inn","TilkjentYtelse.ZoomUt":"Zoom ut","TilkjentYtelse.ScrollTilVenstre":"Scroll til venstre","TilkjentYtelse.ScrollTilHogre":"Scroll til høyre","TilkjentYtelse.Omsorgsovertakelsesdato":"Omsorgsovertakelsesdato","Timeline.lukkPeriode":"Lukk periode","Malform.Beskrivelse":"Foretrukket språk","Timeline.closeData":"Lukke info om periode","Timeline.nextPeriod":"Neste periode","Timeline.nextPeriodShort":"Neste","Timeline.prevPeriod":"Forrige periode","Timeline.prevPeriodShort":"Forrige","Timeline.tooltip.dagsats":"Dagsats: {dagsats}kr","Timeline.tooltip.start":"Start","Timeline.tooltip.slutt":"Slutt","Timeline.tooltip.periodetype":"Periodetype","Timeline.tooltip.utsettelsePeriode":"Utsettelse","Timeline.TidspunktFamiliehendelse":"Tidspunkt for familiehendelse","Timeline.OppfyltPeriode":"Oppfylt periode","Timeline.IkkeOppfyltPeriode":"Ikke oppfylt periode","Timeline.TidspunktMotakSoknad":"Tidspunkt for mottatt søknad","Timeline.BelopTilbakereves":"Beløp tilbakekreves","Timeline.IngenTilbakekreving":"Ingen tilbakekreving","Timeline.IkkeAvklartPeriode":"Uavklart periode","Timeline.TidspunktRevurdering":"Startpunkt for revurdering","Timeline.GradertPeriode":"Gradert periode","Timeline.ManueltAvklart":"Manuelt avklart periode"},AY=Me(IY),TY=({beregningresultat:e,familiehendelse:n,personoversikt:r,soknad:t,fagsak:i,aksjonspunkter:s,alleKodeverk:a,arbeidsgiverOpplysningerPerId:l,feriepengegrunnlag:o})=>G.jsx(Ze,{value:AY,children:G.jsx(xY,{beregningresultat:e,familieHendelseSamling:n,personoversikt:r,soknad:t,fagsak:i,aksjonspunkter:s,alleKodeverk:a,arbeidsgiverOpplysningerPerId:l,feriepengegrunnlag:o})});TY.__docgenInfo={description:"",methods:[],displayName:"Ur"};var wp={exports:{}},Wt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function EY(){if(gm)return Wt;gm=1;var e=K,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,o,k){var u,f={},c=null,b=null;k!==void 0&&(c=""+k),o.key!==void 0&&(c=""+o.key),o.ref!==void 0&&(b=o.ref);for(u in o)t.call(o,u)&&!s.hasOwnProperty(u)&&(f[u]=o[u]);if(l&&l.defaultProps)for(u in o=l.defaultProps,o)f[u]===void 0&&(f[u]=o[u]);return{$$typeof:n,type:l,key:c,ref:b,props:f,_owner:i.current}}return Wt.Fragment=r,Wt.jsx=a,Wt.jsxs=a,Wt}wp.exports=EY();var de=wp.exports;const yY="_panel_d5cml_1",_Y="_hyphen_d5cml_9",SY="_marginTop_d5cml_19",FY="_marginBottom_d5cml_23",NY="_colWidth_d5cml_27",ir={panel:yY,hyphen:_Y,marginTop:SY,marginBottom:FY,colWidth:NY},RY=(e,n)=>e&&n!==void 0,PY=(e,n,r)=>{const t=r==null?void 0:r.mottattDato;return{gyldigSenFremsetting:e[0].status===ga.OPPRETTET?void 0:t!==n,ansesMottatt:t,...bt.buildInitialValues(e)}},BY=e=>({harGyldigGrunn:e.gyldigSenFremsetting,ansesMottattDato:e.ansesMottatt,kode:ue.VURDER_SOKNADSFRIST_FORELDREPENGER,...bt.transformValues(e)}),OY=({aksjonspunkter:e,readOnly:n,readOnlySubmitButton:r,mottattDato:t,søknadsfrist:i,isApOpen:s,submitCallback:a,formData:l,setFormData:o})=>{const k=j.useMemo(()=>PY(e,t,i),[e,t,i]),u=Qe({defaultValues:l||k}),f=u.watch("gyldigSenFremsetting"),c=i==null?void 0:i.søknadsperiodeStart,b=i==null?void 0:i.søknadsperiodeSlutt,x=i==null?void 0:i.utledetSøknadsfrist;return de.jsxs(en,{formMethods:u,onSubmit:T=>a(BY(T)),setDataOnUnmount:o,children:[de.jsx(oe,{size:"small",children:de.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Soknadsfrist"})}),de.jsx(I,{twentyPx:!0}),de.jsx(oa,{isAksjonspunktOpen:s,children:[de.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.AksjonspunktHelpText",values:{numberOfDays:i==null?void 0:i.dagerOversittetFrist,soknadsfristdato:x?Qr(x).format(ie):""}},"VurderSoknadsfristForeldrepengerForm")]}),de.jsx(I,{twentyPx:!0}),de.jsx(Se,{children:de.jsxs(L,{children:[de.jsx(E,{className:ir.colWidth,children:de.jsxs(Sd,{className:ir.panel,children:[de.jsx(w,{size:"small",children:de.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Vurder"})}),de.jsxs("ul",{className:ir.hyphen,children:[de.jsx("li",{children:de.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Punkt1"})}),de.jsx("li",{children:de.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Punkt2"})}),de.jsx("li",{children:de.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Punkt3"})})]})]})}),de.jsx(E,{className:ir.colWidth,children:de.jsx(Se,{children:de.jsxs(L,{className:ir.marginBottom,children:[de.jsxs(E,{className:ir.colWidth,children:[de.jsx(ke,{children:de.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.SoknadMottatt"})}),t&&de.jsx(_,{size:"small",children:Qr(t).format(ie)})]}),c&&b&&de.jsxs(E,{className:ir.colWidth,children:[de.jsx(ke,{children:de.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.SoknadPeriode"})}),de.jsx(_,{size:"small",children:`${Qr(c).format(ie)} - ${Qr(b).format(ie)}`})]})]})})})]})}),de.jsxs("div",{className:ir.marginTop,children:[de.jsx(bt,{readOnly:n}),de.jsx(I,{sixteenPx:!0}),de.jsx(pe,{name:"gyldigSenFremsetting",validate:[X],isReadOnly:n,isHorizontal:!0,isEdited:RY(e.length>0,f),isTrueOrFalseSelection:!0,radios:[{value:"true",label:de.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.GyldigGrunn"})},{value:"false",label:de.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.IkkeGyldigGrunn"})}]}),f&&de.jsxs(de.Fragment,{children:[de.jsx(I,{sixteenPx:!0}),de.jsx(_d,{children:de.jsx(or,{name:"ansesMottatt",isReadOnly:n,label:de.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.NyMottattDato"}),validate:[X,Sn,Th]})})]}),de.jsx(I,{twentyPx:!0}),de.jsx(zh,{isReadOnly:n,isSubmittable:!r,isSubmitting:u.formState.isSubmitting,isDirty:u.formState.isDirty})]})]})},$Y={"VurderSoknadsfristForeldrepengerForm.Soknadsfrist":"Søknadsfrist","VurderSoknadsfristForeldrepengerForm.AksjonspunktHelpText":"Søknad ble mottatt {numberOfDays} dager etter søknadsfrist ({soknadsfristdato})","VurderSoknadsfristForeldrepengerForm.SoknadMottatt":"Søknad mottatt dato","VurderSoknadsfristForeldrepengerForm.SoknadPeriode":"Søknadsperiode","VurderSoknadsfristForeldrepengerForm.Begrunnelse":"Begrunnelse fra søknaden","VurderSoknadsfristForeldrepengerForm.Vurder":"Vurder følgende","VurderSoknadsfristForeldrepengerForm.Punkt1":"Har det vært fristavbrytende kontakt?","VurderSoknadsfristForeldrepengerForm.Punkt2":"Har NAV gitt misvisende opplysninger?","VurderSoknadsfristForeldrepengerForm.Punkt3":"Har søker åpenbart ikke vært i stand til å sette frem krav?","VurderSoknadsfristForeldrepengerForm.GyldigGrunn":"Gyldig grunn for sen fremsetting av søknaden","VurderSoknadsfristForeldrepengerForm.IkkeGyldigGrunn":"Ingen gyldig grunn for sen fremsetting av søknaden","VurderSoknadsfristForeldrepengerForm.NyMottattDato":"Dato for når søknaden kan anses som mottatt"},VY=Me($Y),Up=({soknad:e,aksjonspunkter:n,submitCallback:r,isReadOnly:t,readOnlySubmitButton:i,isAksjonspunktOpen:s,formData:a,setFormData:l})=>de.jsx(Ze,{value:VY,children:de.jsx(OY,{mottattDato:e.mottattDato,søknadsfrist:e.søknadsfrist,aksjonspunkter:n,submitCallback:r,readOnly:t,readOnlySubmitButton:i,isApOpen:s,formData:a,setFormData:l})});Up.__docgenInfo={description:"",methods:[],displayName:"st"};const DY=[ue.VURDER_SOKNADSFRIST_FORELDREPENGER],GY=[Je.SOKNAD],um=e=>$e.jsx(Rd,{...e,panelEndepunkter:GY,aksjonspunktKoder:DY,prosessPanelKode:Ad.SOEKNADSFRIST,prosessPanelMenyTekst:te().formatMessage({id:"Behandlingspunkt.Soknadsfristvilkaret"}),skalPanelVisesIMeny:n=>Em(n.aksjonspunkter),renderPanel:n=>$e.jsx(Up,{...n})});try{um.displayName="SoknadsfristProsessStegInitPanel",um.__docgenInfo={description:"",displayName:"SoknadsfristProsessStegInitPanel",props:{behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}export{ig as A,_k as B,fb as F,ub as H,Ag as O,Nk as P,um as S,TY as U,eg as a,jg as b,dm as c,Ok as d,nb as e,E5 as y};
//# sourceMappingURL=SoknadsfristProsessStegInitPanel-e6988bfa.js.map
