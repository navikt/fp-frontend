import{j as e,c as q,a as h,H as O,D as Ye,b as B,q as Ne,L as _,B as K,t as ye,P as je,p as $e,M as Ae,h as Oe}from"./index.es-A03uEnnB.js";import{r as v}from"./index-DogsOklH.js";import{I as Je,b as De,Y,x as M,H as We,W as G}from"./index.es-tCBKjOwM.js";import{a4 as Fe,f as Be,O as Me,H as c,b as ne,a as x,T as S,w as Re,n as z,K as b,G as Ee,a5 as Le,r as R,B as P,P as I,Z as Ze,a2 as D,a6 as Qe,a3 as Te}from"./AppIndex.stories-9D0ZhgcO.js";import{P as qe,b as he,a as Xe}from"./OverstyringPanel-OW78BPMl.js";import{F as i,g,V as w,c as Ie,T as ea,a as He,M as Ge,B as $}from"./index.es-OKiL-FzI.js";import{P as ee,u as Ue}from"./ProsessDefaultInitPanel-wgolIv1g.js";import{G as Ce}from"./index.es-BOI86wv2.js";import{K as aa}from"./KlageBehandlingModal-b4Bo_GQ9.js";import{v as ra}from"./validerApKodeOgHentApEnum-YRoaYZ9u.js";import{F as na}from"./FatterVedtakStatusModal-1emnnJbn.js";import{V as ta}from"./VergeFaktaInitPanel-MkhEs79b.js";import{B as la}from"./BehandlingContainer-99F2e1F2.js";import"./index-MroJ3egt.js";import"./useGlobalStateRestApiData-sxbcRliq.js";import"./extends-dGVwEr9R.js";import"./iframe-dnaOJvlF.js";import"../sb-preview/runtime.js";import"./SettPaVentReadOnlyModal-lG6aqqZ0.js";import"./nb_NO-gZ1VBSkh.js";import"./BehandlingHenlagtPanel-kfQgpooK.js";import"./bind-QtGvNzfd.js";const p={STADFESTE_YTELSESVEDTAK:"STADFESTE_YTELSESVEDTAK",MEDHOLD_I_KLAGE:"MEDHOLD_I_KLAGE",OPPHEVE_YTELSESVEDTAK:"OPPHEVE_YTELSESVEDTAK",AVVIS_KLAGE:"AVVIS_KLAGE",HJEMSENDE_UTEN_Å_OPPHEVE:"HJEMSENDE_UTEN_Å_OPPHEVE"},N={DELVIS_MEDHOLD_I_KLAGE:"DELVIS_MEDHOLD_I_KLAGE",GUNST_MEDHOLD_I_KLAGE:"GUNST_MEDHOLD_I_KLAGE",UGUNST_MEDHOLD_I_KLAGE:"UGUNST_MEDHOLD_I_KLAGE",UDEFINERT:"-"},sa={"Klage.LovhjemmelNFP":"Fvl §§ 28, 31, 32, 33 og ftrl § 21-12","Klage.LovhjemmelKA":"Fvl §§  28, 31, 32, 34 og ftrl § 21-12","Klage.Formkrav.VelgVedtak":"Vedtaket som er påklagd","Klage.Formkrav.Title":"Vurder formkrav","Klage.Formkrav.HelpText":"Vurder om klagen oppfyller formkravene","Klage.Formkrav.IkkePåklagdVedtak":"Ikke påklagd et vedtak","Klage.Formkrav.ErKlagerPart":"Er klager part i saken?","Klage.Formkrav.ErKonkret":"Klages det på konkrete elementer i vedtaket?","Klage.Formkrav.ErFristOverholdt":"Er klagefristen overholdt?","Klage.Formkrav.ErSignert":"Er klagen signert?","Klage.Formkrav.KabalText":"Fortsett klagebehandlingen i KABAL: Kryss av, velg hjemmel og trykk send","Klage.Formkrav.SeKabalText":"Klagen behandles i KABAL","Klage.Formkrav.SendTilKabal":"Send til KABAL","Klage.Formkrav.Hjemmel":"Hjemmel","Klage.Formkrav.Ja":"Ja","Klage.Formkrav.Nei":"Nei","Klage.Formkrav.Vurdering":"Vurdering","FormkravKlageFormNfp.Fritekst":"Fritekst","TempsaveKlageButton.TempSaveButton":"Lagre","Malform.Beskrivelse":"Foretrukket språk"},ia="_selectBredde_19ro0_1",da="_textField_19ro0_4",oa={selectBredde:ia,textField:da},H="ikkePaklagdVedtak",L=a=>a.erKlagerPart===!1||a.erFristOverholdt===!1||a.erKonkret===!1||a.erSignert===!1||a.vedtak===H,ze=(a,r)=>a.find(t=>t.uuid===r),xe=(a,r)=>{const t=ze(a,r);return!!t&&(t.type===Fe.TILBAKEKREVING||t.type===Fe.TILBAKEKREVING_REVURDERING)},we=(a,r)=>{const t=xe(a,r),l=ze(a,r);return l&&t?{tilbakekrevingUuid:l.uuid,tilbakekrevingVedtakDato:l.avsluttet,tilbakekrevingBehandlingType:l.type}:void 0},ua=(a,r,t,l)=>({kode:l,begrunnelse:a.begrunnelse,behandlingUuid:r,erKlagerPart:a.erKlagerPart,erFristOverholdt:a.erFristOverholdt,erKonkret:a.erKonkret,erSignert:a.erSignert,erTilbakekreving:xe(t,a.vedtak),klageTilbakekreving:we(t,a.vedtak),paKlagdBehandlingUuid:a.vedtak===H?void 0:a.vedtak,fritekstTilBrev:L(a)?a.fritekstTilBrev:void 0}),J=({behandlingUuid:a,saveKlage:r,avsluttedeBehandlinger:t,spinner:l,aksjonspunktCode:n,readOnly:s,handleSubmit:m})=>s?null:e.jsx(q,{size:"small",variant:"primary",loading:l,onClick:m(u=>r(ua(u,a,t,n))),type:"button",children:e.jsx(i,{id:"TempsaveKlageButton.TempSaveButton"})});J.defaultProps={spinner:!1,readOnly:!1};try{L.displayName="skalLagreFritekstfelt",L.__docgenInfo={description:"",displayName:"skalLagreFritekstfelt",props:{erKlagerPart:{defaultValue:null,description:"",name:"erKlagerPart",required:!1,type:{name:"boolean"}},erFristOverholdt:{defaultValue:null,description:"",name:"erFristOverholdt",required:!1,type:{name:"boolean"}},erKonkret:{defaultValue:null,description:"",name:"erKonkret",required:!1,type:{name:"boolean"}},erSignert:{defaultValue:null,description:"",name:"erSignert",required:!1,type:{name:"boolean"}},begrunnelse:{defaultValue:null,description:"",name:"begrunnelse",required:!1,type:{name:"string"}},vedtak:{defaultValue:null,description:"",name:"vedtak",required:!1,type:{name:"string"}},fritekstTilBrev:{defaultValue:null,description:"",name:"fritekstTilBrev",required:!1,type:{name:"string"}}}}}catch{}try{J.displayName="TempsaveKlageButton",J.__docgenInfo={description:"",displayName:"TempsaveKlageButton",props:{behandlingUuid:{defaultValue:null,description:"",name:"behandlingUuid",required:!0,type:{name:"string"}},aksjonspunktCode:{defaultValue:null,description:"",name:"aksjonspunktCode",required:!0,type:{name:"string"}},avsluttedeBehandlinger:{defaultValue:null,description:"",name:"avsluttedeBehandlinger",required:!0,type:{name:"AvsluttetBehandling[]"}},saveKlage:{defaultValue:null,description:"",name:"saveKlage",required:!0,type:{name:"(data: FormkravMellomlagretDataType) => Promise<any>"}},spinner:{defaultValue:{value:"false"},description:"",name:"spinner",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},handleSubmit:{defaultValue:null,description:"",name:"handleSubmit",required:!0,type:{name:"UseFormHandleSubmit<FormValues>"}}}}}catch{}const te=a=>a!=null&&a.paKlagdBehandlingUuid?`${a.paKlagdBehandlingUuid}`:H,ga=(a,r,t)=>[e.jsx("option",{value:H,children:r.formatMessage({id:"Klage.Formkrav.IkkePåklagdVedtak"})},"formkrav")].concat([...a].sort((n,s)=>z(n.avsluttet).diff(z(s.avsluttet))).map(n=>e.jsx("option",{value:`${n.uuid}`,children:`${t(n.type,b.BEHANDLING_TYPE)} ${z(n.avsluttet).format(Ne)}`},n.uuid))),ma=a=>a===c.VURDERING_AV_FORMKRAV_KLAGE_NFP?"Klage.LovhjemmelNFP":"Klage.LovhjemmelKA",pa=a=>{const r=a?a.klageFormkravResultatNFP:null,t=a?a.klageVurderingResultatNFP:null;return{vedtak:r?te(r):"",begrunnelse:r?r.begrunnelse:void 0,erKlagerPart:r?r.erKlagerPart:void 0,erKonkret:r?r.erKlageKonkret:void 0,erFristOverholdt:r?r.erKlagefirstOverholdt:void 0,erSignert:r?r.erSignert:void 0,fritekstTilBrev:t?t.fritekstTilBrev:void 0}},ka=(a,r)=>({erKlagerPart:a.erKlagerPart,erFristOverholdt:a.erFristOverholdt,erKonkret:a.erKonkret,erSignert:a.erSignert,begrunnelse:a.begrunnelse,kode:c.VURDERING_AV_FORMKRAV_KLAGE_NFP,vedtakBehandlingUuid:a.vedtak===H?void 0:a.vedtak,erTilbakekreving:xe(r,a.vedtak),tilbakekrevingInfo:we(r,a.vedtak),fritekstTilBrev:L(a)?a.fritekstTilBrev:void 0}),le=({behandlingUuid:a,readOnly:r,klageVurdering:t,readOnlySubmitButton:l,alleKodeverk:n,avsluttedeBehandlinger:s,submitCallback:m,lagreFormkravVurdering:u,formData:f,setFormData:k})=>{const d=h(),o=Ee(n),V=ga(s,d,o),A=v.useMemo(()=>pa(t),[t]),j=Be({defaultValues:f||A}),F=j.watch();return e.jsxs(Me,{formMethods:j,onSubmit:y=>m(ka(y,s)),setDataOnUnmount:k,children:[e.jsx(O,{size:"small",children:d.formatMessage({id:"Klage.Formkrav.Title"})}),e.jsx(g,{fourPx:!0}),e.jsx(Ye,{children:d.formatMessage({id:ma(c.VURDERING_AV_FORMKRAV_KLAGE_NFP)})}),e.jsx(g,{sixteenPx:!0}),e.jsxs(w,{gap:"6",children:[e.jsx(Ie,{isAksjonspunktOpen:!l,children:[e.jsx(i,{id:"Klage.Formkrav.HelpText"},c.VURDERING_AV_FORMKRAV_KLAGE_NFP)]}),e.jsx(w,{gap:"6",children:e.jsxs(B,{gap:"10",children:[e.jsx("div",{children:e.jsx(ne,{readOnly:r,validate:[x],name:"vedtak",label:d.formatMessage({id:"Klage.Formkrav.VelgVedtak"}),selectValues:V,className:oa.selectBredde})}),e.jsxs(w,{gap:"5",children:[e.jsxs(B,{gap:"4",children:[e.jsx(S,{name:"erKlagerPart",label:d.formatMessage({id:"Klage.Formkrav.ErKlagerPart"}),validate:[x],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:d.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:d.formatMessage({id:"Klage.Formkrav.Nei"})}]}),e.jsx(S,{name:"erKonkret",label:d.formatMessage({id:"Klage.Formkrav.ErKonkret"}),validate:[x],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:d.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:d.formatMessage({id:"Klage.Formkrav.Nei"})}]})]}),e.jsxs(B,{gap:"4",children:[e.jsx(S,{name:"erFristOverholdt",label:d.formatMessage({id:"Klage.Formkrav.ErFristOverholdt"}),validate:[x],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:d.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:d.formatMessage({id:"Klage.Formkrav.Nei"})}]}),e.jsx(S,{name:"erSignert",label:d.formatMessage({id:"Klage.Formkrav.ErSignert"}),validate:[x],isReadOnly:r,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:d.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:d.formatMessage({id:"Klage.Formkrav.Nei"})}]})]})]})]})}),e.jsx(qe,{readOnly:r}),L(F)&&e.jsx(Re,{name:"fritekstTilBrev",label:d.formatMessage({id:"FormkravKlageFormNfp.Fritekst"}),maxLength:1e5,readOnly:r,parse:y=>y.toString().replaceAll("‑","-")}),e.jsxs(B,{justify:"space-between",children:[e.jsx(he,{isReadOnly:r,isSubmittable:!l,isSubmitting:j.formState.isSubmitting,isDirty:j.formState.isDirty}),e.jsx(J,{behandlingUuid:a,saveKlage:u,avsluttedeBehandlinger:s,handleSubmit:j.handleSubmit,readOnly:r,aksjonspunktCode:c.VURDERING_AV_FORMKRAV_KLAGE_NFP})]})]})]})};try{te.displayName="getPaKlagdVedtak",te.__docgenInfo={description:"",displayName:"getPaKlagdVedtak",props:{avvistArsaker:{defaultValue:null,description:"",name:"avvistArsaker",required:!0,type:{name:"string[]"}},paKlagdBehandlingUuid:{defaultValue:null,description:"",name:"paKlagdBehandlingUuid",required:!0,type:{name:"string"}},paklagdBehandlingType:{defaultValue:null,description:"",name:"paklagdBehandlingType",required:!0,type:{name:"string"}},begrunnelse:{defaultValue:null,description:"",name:"begrunnelse",required:!0,type:{name:"string"}},erKlagerPart:{defaultValue:null,description:"",name:"erKlagerPart",required:!0,type:{name:"boolean"}},erKlageKonkret:{defaultValue:null,description:"",name:"erKlageKonkret",required:!0,type:{name:"boolean"}},erKlagefirstOverholdt:{defaultValue:null,description:"",name:"erKlagefirstOverholdt",required:!0,type:{name:"boolean"}},erSignert:{defaultValue:null,description:"",name:"erSignert",required:!0,type:{name:"boolean"}}}}}catch{}try{le.displayName="FormkravKlageFormNfp",le.__docgenInfo={description:`FormkravklageformNfp

Setter opp aksjonspunktet for formkrav klage (NFP).`,displayName:"FormkravKlageFormNfp",props:{behandlingUuid:{defaultValue:null,description:"",name:"behandlingUuid",required:!0,type:{name:"string"}},klageVurdering:{defaultValue:null,description:"",name:"klageVurdering",required:!0,type:{name:"Readonly<{ klageVurderingResultatNK?: Readonly<{ klageVurdertAv: string; klageVurdering?: string | undefined; fritekstTilBrev?: string | undefined; klageMedholdArsak?: string | undefined; klageVurderingOmgjoer?: string | undefined; klageHjemmel?: string | undefined; begrunnelse?: string | undefined; }> | undefined; ..."}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(data: KlageFormkravAp) => Promise<void>"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!1,type:{name:"boolean"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},avsluttedeBehandlinger:{defaultValue:null,description:"",name:"avsluttedeBehandlinger",required:!0,type:{name:"AvsluttetBehandling[]"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},lagreFormkravVurdering:{defaultValue:null,description:"",name:"lagreFormkravVurdering",required:!0,type:{name:"(data: FormkravMellomlagretDataType) => Promise<any>"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"FormValues"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: FormValues) => void"}}}}}catch{}const se=({klageVurdering:a,alleKodeverk:r,avsluttedeBehandlinger:t})=>{var f;const l=h(),{klageFormkravResultatKA:n,underBehandlingKabal:s,behandletAvKabal:m}=a;let u=l.formatMessage({id:"Klage.Formkrav.IkkePåklagdVedtak"});if(n!=null&&n.paKlagdBehandlingUuid){const k=t.find(d=>d.uuid===n.paKlagdBehandlingUuid);k&&(u=`${(f=r[Je.BEHANDLING_TYPE].find(o=>o.kode===k.type))==null?void 0:f.navn} ${z(k.avsluttet).format(Ne)}`)}return e.jsxs(e.Fragment,{children:[e.jsx(O,{size:"small",children:e.jsx(i,{id:"Klage.Formkrav.Title"})}),e.jsx(g,{sixteenPx:!0}),s&&e.jsxs(e.Fragment,{children:[e.jsx(O,{size:"small",children:e.jsx(i,{id:"Klage.Formkrav.SeKabalText"})}),e.jsx(g,{sixteenPx:!0})]}),!s&&!m&&e.jsxs(e.Fragment,{children:[e.jsx(_,{size:"small",children:e.jsx(i,{id:"Klage.Formkrav.VelgVedtak"})}),e.jsx(g,{fourPx:!0}),e.jsx(K,{size:"small",children:u}),e.jsx(g,{sixteenPx:!0}),e.jsx(_,{size:"small",children:e.jsx(i,{id:"Klage.Formkrav.ErKlagerPart"})}),e.jsx(g,{fourPx:!0}),e.jsx(K,{size:"small",children:n!=null&&n.erKlagerPart?e.jsx(i,{id:"Klage.Formkrav.Ja"}):e.jsx(i,{id:"Klage.Formkrav.Nei"})}),e.jsx(g,{sixteenPx:!0}),e.jsx(_,{size:"small",children:e.jsx(i,{id:"Klage.Formkrav.ErKonkret"})}),e.jsx(g,{fourPx:!0}),e.jsx(K,{size:"small",children:n!=null&&n.erKlageKonkret?e.jsx(i,{id:"Klage.Formkrav.Ja"}):e.jsx(i,{id:"Klage.Formkrav.Nei"})}),e.jsx(g,{sixteenPx:!0}),e.jsx(_,{size:"small",children:e.jsx(i,{id:"Klage.Formkrav.ErFristOverholdt"})}),e.jsx(g,{fourPx:!0}),e.jsx(K,{size:"small",children:n!=null&&n.erKlagefirstOverholdt?e.jsx(i,{id:"Klage.Formkrav.Ja"}):e.jsx(i,{id:"Klage.Formkrav.Nei"})}),e.jsx(g,{sixteenPx:!0}),e.jsx(_,{size:"small",children:e.jsx(i,{id:"Klage.Formkrav.ErSignert"})}),e.jsx(g,{fourPx:!0}),e.jsx(K,{size:"small",children:n!=null&&n.erSignert?e.jsx(i,{id:"Klage.Formkrav.Ja"}):e.jsx(i,{id:"Klage.Formkrav.Nei"})}),e.jsx(g,{sixteenPx:!0}),e.jsx(_,{size:"small",children:e.jsx(i,{id:"Klage.Formkrav.Vurdering"})}),e.jsx(g,{fourPx:!0}),e.jsx(K,{size:"small",children:n==null?void 0:n.begrunnelse})]})]})};try{se.displayName="FormkravKlageKa",se.__docgenInfo={description:`FormkravKlageKa

Readonly panel for formkrav klage (KA).`,displayName:"FormkravKlageKa",props:{klageVurdering:{defaultValue:null,description:"",name:"klageVurdering",required:!0,type:{name:"Readonly<{ klageVurderingResultatNK?: Readonly<{ klageVurdertAv: string; klageVurdering?: string | undefined; fritekstTilBrev?: string | undefined; klageMedholdArsak?: string | undefined; klageVurderingOmgjoer?: string | undefined; klageHjemmel?: string | undefined; begrunnelse?: string | undefined; }> | undefined; ..."}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},avsluttedeBehandlinger:{defaultValue:null,description:"",name:"avsluttedeBehandlinger",required:!0,type:{name:"AvsluttetBehandling[]"}}}}}catch{}const ca=ye(sa),W=({behandling:a,klageVurdering:r={},avsluttedeBehandlinger:t,aksjonspunkter:l,submitCallback:n,isReadOnly:s,readOnlySubmitButton:m,alleKodeverk:u,formData:f,setFormData:k,lagreFormkravVurdering:d})=>e.jsxs(je,{value:ca,children:[l.some(o=>o.definisjon===c.VURDERING_AV_FORMKRAV_KLAGE_NFP)&&e.jsx(le,{behandlingUuid:a.uuid,klageVurdering:r,submitCallback:n,readOnly:s,readOnlySubmitButton:m,alleKodeverk:u,avsluttedeBehandlinger:t,lagreFormkravVurdering:d,formData:f,setFormData:k}),r.klageFormkravResultatKA&&e.jsx(se,{klageVurdering:r,alleKodeverk:u,avsluttedeBehandlinger:t})]});try{W.displayName="FormkravProsessIndex",W.__docgenInfo={description:"",displayName:"FormkravProsessIndex",props:{klageVurdering:{defaultValue:{value:"{}"},description:"",name:"klageVurdering",required:!1,type:{name:"Readonly<{ klageVurderingResultatNK?: Readonly<{ klageVurdertAv: string; klageVurdering?: string; fritekstTilBrev?: string; klageMedholdArsak?: string | undefined; klageVurderingOmgjoer?: string | undefined; klageHjemmel?: string | undefined; begrunnelse?: string | undefined; }> | undefined; ..."}},avsluttedeBehandlinger:{defaultValue:null,description:"",name:"avsluttedeBehandlinger",required:!0,type:{name:"AvsluttetBehandling[]"}},lagreFormkravVurdering:{defaultValue:null,description:"",name:"lagreFormkravVurdering",required:!0,type:{name:"(data: FormkravMellomlagretDataType) => Promise<void>"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},vilkar:{defaultValue:null,description:"",name:"vilkar",required:!0,type:{name:"Readonly<{ vilkarType: string; vilkarStatus: string; avslagKode?: string | undefined; lovReferanse?: string | undefined; overstyrbar: boolean; }>[]"}},isAksjonspunktOpen:{defaultValue:null,description:"",name:"isAksjonspunktOpen",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const fa=[c.VURDERING_AV_FORMKRAV_KLAGE_NFP],va=[P.KLAGE_VURDERING],ie=({alleBehandlinger:a,...r})=>{const t=h(),l=v.useMemo(()=>a.filter(s=>s.status===De.AVSLUTTET).filter(s=>(s.type!==Y.KLAGE||Le(s.resultatType))&&s.type!==Y.ANKE),[a]),{startRequest:n}=R.useRestApiRunner(P.SAVE_FORMKRAV_VURDERING);return e.jsx(ee,{...r,panelEndepunkter:va,aksjonspunktKoder:fa,prosessPanelKode:I.FORMKRAV_KLAGE_NAV_FAMILIE_OG_PENSJON,prosessPanelMenyTekst:t.formatMessage({id:"Behandlingspunkt.FormkravKlageNFP"}),skalPanelVisesIMeny:()=>!0,renderPanel:s=>e.jsx(W,{avsluttedeBehandlinger:l,lagreFormkravVurdering:n,...s})})};try{ie.displayName="FormKravFamOgPensjonProsessStegInitPanel",ie.__docgenInfo={description:"",displayName:"FormKravFamOgPensjonProsessStegInitPanel",props:{alleBehandlinger:{defaultValue:null,description:"",name:"alleBehandlinger",required:!0,type:{name:"{ uuid: string; type: string; status: string; opprettet: string; avsluttet?: string | undefined; resultatType?: string | undefined; }[]"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const Ka={"Klage.ResolveKlage.Title":"Behandle klage","Klage.ResolveKlage.HelpText":"Vurder om klagen skal tas til følge","Klage.ResolveKlage.KeepVedtakNk":"Stadfest vedtaket","Klage.ResolveKlage.KeepVedtakNfp":"Oppretthold vedtaket","Klage.ResolveKlage.ChangeVedtak":"Omgjør vedtaket","Klage.ResolveKlage.Hjemmel":"Hjemmel","Klage.Behandle.Omgjort":"Til gunst","Klage.Behandle.DelvisOmgjort":"Delvis omgjør, til gunst","Klage.Behandle.Hjemsendt":"Hjemsend vedtaket","Klage.Behandle.Ugunst":"Til ugunst","Klage.ResolveKlage.NullifyVedtak":"Opphev og hjemsend vedtaket","Klage.Behandle.Bekreft":"Bekreft og fortsett","Klage.Modal.Overskrift":"Oppsummering","Klage.Modal.SendTilKlageinstans":"Du vil nå sende klagen over til NAV Klageinstans","Klage.Modal.Oppretthold":"Oppretthold vedtaket","Klage.Modal.Hjemmel":"Lovhjemmel {hjemmel}","Klage.Modal.Valg":"Du har valgt:","Klage.Modal.Avbryt":"Avbryt","Klage.ResolveKlage.Cause":"Årsak","Klage.ResolveKlage.TempSaveButton":"Lagre","KlageVurderingRadioOptionsKa.VurderingForKlage":"Vurdering","FritekstKlageBrevTextField.Fritekst":"Fritekst til brev","BehandleKlageFormNfp.BegrunnelseForKlage":"Begrunnelse","PreviewKlageLink.ForhandvisBrev":"Forhåndsvis brev","KlageVurderingRadioOptionsKa.Begrunnelse":"Begrunnelse","Malform.Beskrivelse":"Foretrukket språk"},de=({klageVurdering:a,alleKodeverk:r})=>{var k,d;const t=h(),{begrunnelse:l,fritekstTilBrev:n,klageVurdering:s,klageMedholdArsak:m,klageVurderingOmgjoer:u}=a.klageVurderingResultatNK||{},f=r[b.KLAGE_MEDHOLD_ARSAK];return e.jsxs(e.Fragment,{children:[e.jsx(O,{size:"small",children:t.formatMessage({id:"Klage.ResolveKlage.Title"})}),e.jsx(g,{sixteenPx:!0}),e.jsx(_,{size:"small",children:e.jsx(i,{id:"KlageVurderingRadioOptionsKa.VurderingForKlage"})}),e.jsxs(K,{size:"small",children:[s===p.STADFESTE_YTELSESVEDTAK&&e.jsx(i,{id:"Klage.ResolveKlage.KeepVedtakNk"}),s===p.MEDHOLD_I_KLAGE&&e.jsx(i,{id:"Klage.ResolveKlage.ChangeVedtak"}),s===p.HJEMSENDE_UTEN_Å_OPPHEVE&&e.jsx(i,{id:"Klage.Behandle.Hjemsendt"}),s===p.OPPHEVE_YTELSESVEDTAK&&e.jsx(i,{id:"Klage.ResolveKlage.NullifyVedtak"})]}),e.jsx(g,{sixteenPx:!0}),s===p.MEDHOLD_I_KLAGE&&e.jsxs(e.Fragment,{children:[e.jsx(_,{size:"small",children:e.jsx(i,{id:"Klage.ResolveKlage.Cause"})}),e.jsx(K,{size:"small",children:(k=f.find(o=>o.kode===m))==null?void 0:k.navn}),e.jsx(g,{sixteenPx:!0}),e.jsxs(K,{size:"small",children:[u===N.GUNST_MEDHOLD_I_KLAGE&&e.jsx(i,{id:"Klage.Behandle.Omgjort"}),u===N.UGUNST_MEDHOLD_I_KLAGE&&e.jsx(i,{id:"Klage.Behandle.Ugunst"}),u===N.DELVIS_MEDHOLD_I_KLAGE&&e.jsx(i,{id:"Klage.Behandle.DelvisOmgjort"})]}),e.jsx(g,{sixteenPx:!0})]}),(s===p.OPPHEVE_YTELSESVEDTAK||s===p.HJEMSENDE_UTEN_Å_OPPHEVE)&&e.jsxs(e.Fragment,{children:[e.jsx(_,{size:"small",children:e.jsx(i,{id:"Klage.ResolveKlage.Cause"})}),e.jsx(K,{size:"small",children:(d=f.find(o=>o.kode===m))==null?void 0:d.navn}),e.jsx(g,{sixteenPx:!0})]}),e.jsx(_,{size:"small",children:e.jsx(i,{id:"FritekstKlageBrevTextField.Fritekst"})}),e.jsx(K,{size:"small",children:n}),e.jsx(g,{sixteenPx:!0}),e.jsx(_,{size:"small",children:e.jsx(i,{id:"KlageVurderingRadioOptionsKa.Begrunnelse"})}),e.jsx(K,{size:"small",children:l}),e.jsx(g,{sixteenPx:!0})]})};try{de.displayName="BehandleKlageFormKa",de.__docgenInfo={description:`BehandleklageformNfp

Setter opp readonly-panel for behandling av klage (KA).`,displayName:"BehandleKlageFormKa",props:{alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},klageVurdering:{defaultValue:null,description:"",name:"klageVurdering",required:!0,type:{name:"Readonly<{ klageVurderingResultatNK?: Readonly<{ klageVurdertAv: string; klageVurdering?: string | undefined; fritekstTilBrev?: string | undefined; klageMedholdArsak?: string | undefined; klageVurderingOmgjoer?: string | undefined; klageHjemmel?: string | undefined; begrunnelse?: string | undefined; }> | undefined; ..."}}}}}catch{}const Va="_previewLink_1xd5p_1",_a="_select_1xd5p_7",ya="_selectReadOnly_1xd5p_10",ja="_confirmVilkarForm_1xd5p_14",Ea="_panel_1xd5p_17",ha="_fritekstTilBrevTextArea_1xd5p_20",xa="_explanationTextarea_1xd5p_23",U={previewLink:Va,select:_a,selectReadOnly:ya,confirmVilkarForm:ja,panel:Ea,fritekstTilBrevTextArea:ha,explanationTextarea:xa},oe=({readOnly:a,medholdReasons:r,alleHjemmlerMedNavn:t,klageVurdering:l})=>{const n=h(),s=r.map(u=>e.jsx("option",{value:u.kode,children:u.navn},u.kode)),m=t.map(u=>e.jsx("option",{value:u.kode,children:u.navn},u.kode));return e.jsxs(e.Fragment,{children:[e.jsx(S,{name:"klageVurdering",validate:[x],isReadOnly:a,isHorizontal:!0,radios:[{value:p.MEDHOLD_I_KLAGE,label:n.formatMessage({id:"Klage.ResolveKlage.ChangeVedtak"})},{value:p.STADFESTE_YTELSESVEDTAK,label:n.formatMessage({id:"Klage.ResolveKlage.KeepVedtakNfp"})}]}),l===p.MEDHOLD_I_KLAGE&&e.jsxs(e.Fragment,{children:[e.jsx(g,{sixteenPx:!0}),e.jsxs(ea,{children:[e.jsx(ne,{readOnly:a,name:"klageMedholdArsak",selectValues:s,className:a?U.selectReadOnly:U.select,label:n.formatMessage({id:"Klage.ResolveKlage.Cause"}),validate:[x]}),e.jsx(g,{sixteenPx:!0}),e.jsx(S,{name:"klageVurderingOmgjoer",validate:[x],isReadOnly:a,radios:[{value:N.GUNST_MEDHOLD_I_KLAGE,label:n.formatMessage({id:"Klage.Behandle.Omgjort"})},{value:N.UGUNST_MEDHOLD_I_KLAGE,label:n.formatMessage({id:"Klage.Behandle.Ugunst"})},{value:N.DELVIS_MEDHOLD_I_KLAGE,label:n.formatMessage({id:"Klage.Behandle.DelvisOmgjort"})}]})]})]}),e.jsx(g,{sixteenPx:!0}),e.jsx(ne,{readOnly:a,name:"klageHjemmel",selectValues:m,className:a?U.selectReadOnly:U.select,label:n.formatMessage({id:"Klage.ResolveKlage.Hjemmel"}),validate:[x]}),e.jsx(g,{sixteenPx:!0})]})};try{oe.displayName="KlageVurderingRadioOptionsNfp",oe.__docgenInfo={description:"",displayName:"KlageVurderingRadioOptionsNfp",props:{readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},medholdReasons:{defaultValue:null,description:"",name:"medholdReasons",required:!0,type:{name:"Readonly<{ kode: string; navn: string; kodeverk: string; }>[]"}},alleHjemmlerMedNavn:{defaultValue:null,description:"",name:"alleHjemmlerMedNavn",required:!0,type:{name:"Readonly<{ kode: string; navn: string; kodeverk: string; }>[]"}},klageVurdering:{defaultValue:null,description:"",name:"klageVurdering",required:!1,type:{name:"string"}}}}}catch{}const Pa="_fritekstTilBrevTextArea_n72am_1",Aa={fritekstTilBrevTextArea:Pa},Z=({sprakkode:a,readOnly:r})=>e.jsx("div",{className:Aa.fritekstTilBrevTextArea,children:e.jsx(Re,{name:"fritekstTilBrev",label:h().formatMessage({id:"FritekstKlageBrevTextField.Fritekst"}),validate:[x,Ze],readOnly:r,maxLength:1e5,badges:[{type:"info",titleText:$e(a)}],parse:t=>t.toString().replaceAll("‑","-").replaceAll("	"," ")})});Z.defaultProps={readOnly:!0};try{Z.displayName="FritekstKlageBrevTextField",Z.__docgenInfo={description:"",displayName:"FritekstKlageBrevTextField",props:{sprakkode:{defaultValue:null,description:"",name:"sprakkode",required:!0,type:{name:"string"}},readOnly:{defaultValue:{value:"true"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}}}}}catch{}const Fa="_previewLink_hcaux_1",Ta={previewLink:Fa},ba=(a,r)=>{switch(r){case p.STADFESTE_YTELSESVEDTAK:return a?D.KLAGE_STADFESTET:D.KLAGE_OVERSENDT;case p.OPPHEVE_YTELSESVEDTAK:return D.KLAGE_HJEMSENDT;case p.HJEMSENDE_UTEN_Å_OPPHEVE:return D.KLAGE_HJEMSENDT;case p.MEDHOLD_I_KLAGE:return D.KLAGE_OMGJORING;default:return}},Sa=(a,r)=>({fritekst:r||"",dokumentMal:ba(!1,a),erOpphevetKlage:a===p.OPPHEVE_YTELSESVEDTAK}),ue=({previewCallback:a,fritekstTilBrev:r,klageVurdering:t})=>{const l=n=>{a(Sa(t,r)),n.preventDefault()};return e.jsx("a",{href:"",onClick:n=>{l(n)},onKeyDown:n=>n.key==="Enter"?l(n):null,className:Ce(Ta.previewLink,"lenke lenke--frittstaende"),children:e.jsx(i,{id:"PreviewKlageLink.ForhandvisBrev"})})};try{ue.displayName="PreviewKlageLink",ue.__docgenInfo={description:"",displayName:"PreviewKlageLink",props:{previewCallback:{defaultValue:null,description:"",name:"previewCallback",required:!0,type:{name:"(data: BrevData) => Promise<any>"}},fritekstTilBrev:{defaultValue:null,description:"",name:"fritekstTilBrev",required:!1,type:{name:"string"}},klageVurdering:{defaultValue:null,description:"",name:"klageVurdering",required:!1,type:{name:"string"}}}}}catch{}const Na=(a,r)=>({kode:r,klageMedholdArsak:a.klageVurdering===p.MEDHOLD_I_KLAGE||a.klageVurdering===p.OPPHEVE_YTELSESVEDTAK?a.klageMedholdArsak:void 0,klageVurderingOmgjoer:a.klageVurdering===p.MEDHOLD_I_KLAGE?a.klageVurderingOmgjoer:void 0,klageHjemmel:a.klageHjemmel,fritekstTilBrev:a.fritekstTilBrev,begrunnelse:a.begrunnelse,klageVurdering:a.klageVurdering}),Q=({saveKlage:a,spinner:r,aksjonspunktCode:t,readOnly:l,handleSubmit:n})=>l?null:e.jsx(q,{size:"small",variant:"primary",loading:r,onClick:n(s=>a(Na(s,t))),type:"button",children:e.jsx(i,{id:"Klage.ResolveKlage.TempSaveButton"})});Q.defaultProps={spinner:!1,readOnly:!1};try{Q.displayName="TempsaveKlageButton",Q.__docgenInfo={description:"",displayName:"TempsaveKlageButton",props:{aksjonspunktCode:{defaultValue:null,description:"",name:"aksjonspunktCode",required:!0,type:{name:"string"}},saveKlage:{defaultValue:null,description:"",name:"saveKlage",required:!0,type:{name:"(data: TransformedValues) => Promise<any>"}},spinner:{defaultValue:{value:"false"},description:"",name:"spinner",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},handleSubmit:{defaultValue:null,description:"",name:"handleSubmit",required:!0,type:{name:"UseFormHandleSubmit<KlageFormType>"}}}}}catch{}const Oa="_confirmVilkarForm_13k5i_1",Da={confirmVilkarForm:Oa},ge=({erModalÅpen:a,lukkModal:r,isSubmittable:t,isSubmitting:l,isDirty:n,readOnly:s,valgtHjemmel:m})=>{const u=h();return e.jsx(Ae,{width:"500px",open:a,"aria-label":u.formatMessage({id:"Klage.Modal.Overskrift"}),onClose:r,children:e.jsx(Ae.Body,{children:e.jsxs(w,{gap:"3",children:[e.jsxs("div",{children:[e.jsx(_,{size:"medium",children:e.jsx(i,{id:"Klage.Modal.Overskrift"})}),e.jsx(g,{fourPx:!0}),e.jsx(K,{children:e.jsx(i,{id:"Klage.Modal.SendTilKlageinstans"})}),e.jsx(g,{sixteenPx:!0}),e.jsx(K,{children:e.jsx(i,{id:"Klage.Modal.Valg"})}),e.jsx(g,{eightPx:!0}),e.jsx(K,{children:e.jsx(i,{id:"Klage.Modal.Oppretthold"})}),e.jsx(g,{fourPx:!0}),m&&e.jsx(K,{children:e.jsx(i,{id:"Klage.Modal.Hjemmel",values:{hjemmel:m}})}),e.jsx(g,{fourPx:!0})]}),e.jsx("div",{children:e.jsxs(B,{gap:"2",children:[e.jsx(he,{isReadOnly:s,isSubmittable:t,isSubmitting:l,isDirty:n}),e.jsx(q,{size:"small",variant:"primary",onClick:r,autoFocus:!0,type:"button",children:e.jsx(i,{id:"Klage.Modal.Avbryt"})})]})})]})})})};try{ge.displayName="BekreftOgSubmitKlageModal",ge.__docgenInfo={description:"",displayName:"BekreftOgSubmitKlageModal",props:{erModalÅpen:{defaultValue:null,description:"",name:"erModalÅpen",required:!0,type:{name:"boolean"}},lukkModal:{defaultValue:null,description:"",name:"lukkModal",required:!0,type:{name:"() => void"}},isSubmittable:{defaultValue:null,description:"",name:"isSubmittable",required:!0,type:{name:"boolean"}},isSubmitting:{defaultValue:null,description:"",name:"isSubmitting",required:!0,type:{name:"boolean"}},isDirty:{defaultValue:null,description:"",name:"isDirty",required:!0,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},valgtHjemmel:{defaultValue:null,description:"",name:"valgtHjemmel",required:!1,type:{name:"string"}}}}}catch{}const Ba=a=>({klageMedholdArsak:a.klageVurdering===p.MEDHOLD_I_KLAGE?a.klageMedholdArsak:void 0,klageVurderingOmgjoer:a.klageVurdering===p.MEDHOLD_I_KLAGE?a.klageVurderingOmgjoer:void 0,klageHjemmel:a.klageHjemmel,klageVurdering:a.klageVurdering,fritekstTilBrev:a.fritekstTilBrev,begrunnelse:a.begrunnelse,kode:c.BEHANDLE_KLAGE_NFP}),C=a=>{if(a&&a!=="-")return a},Ma=(a,r)=>a.filter(({kode:t})=>r.includes(t)).sort((t,l)=>t.kode.localeCompare(l.kode)),Ra=a=>a.map(r=>r),La=a=>({klageMedholdArsak:C(a==null?void 0:a.klageMedholdArsak),klageVurderingOmgjoer:C(a==null?void 0:a.klageVurderingOmgjoer),klageHjemmel:C(a==null?void 0:a.klageHjemmel),klageVurdering:C(a==null?void 0:a.klageVurdering),begrunnelse:a?a.begrunnelse:void 0,fritekstTilBrev:a?a.fritekstTilBrev:void 0}),me=({readOnly:a,klageVurdering:r,previewCallback:t,saveKlage:l,readOnlySubmitButton:n,sprakkode:s,alleAktuelleHjemler:m,alleKodeverk:u,submitCallback:f,formData:k,setFormData:d})=>{var Pe;const o=Ma(u[b.KLAGE_HJEMMEL],Ra(m)),V=h(),[A,j]=v.useState(!1),F=v.useMemo(()=>La(r.klageVurderingResultatNFP),[r]),y=Be({defaultValues:k||F}),E=y.watch(),ae=v.useCallback(()=>{j(!1)},[]),T=v.useCallback(()=>{j(!0)},[]);return e.jsxs(Me,{formMethods:y,onSubmit:re=>f(Ba(re)),setDataOnUnmount:d,children:[e.jsx(O,{size:"small",children:V.formatMessage({id:"Klage.ResolveKlage.Title"})}),e.jsx(g,{fourPx:!0}),e.jsx(Ie,{isAksjonspunktOpen:!n,children:[e.jsx(i,{id:"Klage.ResolveKlage.HelpText"},c.BEHANDLE_KLAGE_NFP)]}),e.jsx(oe,{readOnly:a,klageVurdering:E.klageVurdering,medholdReasons:u[b.KLAGE_MEDHOLD_ARSAK],alleHjemmlerMedNavn:o}),e.jsxs("div",{className:Da.confirmVilkarForm,children:[e.jsx(qe,{readOnly:a,text:V.formatMessage({id:"BehandleKlageFormNfp.BegrunnelseForKlage"})}),e.jsx(g,{sixteenPx:!0}),e.jsx(Z,{sprakkode:s,readOnly:a}),e.jsx(g,{sixteenPx:!0}),e.jsx(He,{children:e.jsxs(Ge,{spaceBetween:!0,children:[e.jsxs($,{children:[E.klageVurdering===p.STADFESTE_YTELSESVEDTAK&&e.jsxs(e.Fragment,{children:[e.jsx(q,{variant:"primary",type:"button",size:"small",onClick:()=>T(),disabled:a,children:e.jsx(i,{id:"Klage.Behandle.Bekreft"})}),e.jsx(ge,{erModalÅpen:A,lukkModal:ae,valgtHjemmel:(Pe=o.find(re=>re.kode===E.klageHjemmel))==null?void 0:Pe.navn,readOnly:a,isSubmittable:!n,isSubmitting:y.formState.isSubmitting,isDirty:y.formState.isDirty})]}),E.klageVurdering!==p.STADFESTE_YTELSESVEDTAK&&e.jsx(he,{isReadOnly:a,isSubmittable:!n,isSubmitting:y.formState.isSubmitting,isDirty:y.formState.isDirty}),!a&&E.klageVurdering&&E.fritekstTilBrev&&E.fritekstTilBrev.length>2&&e.jsx(ue,{previewCallback:t,fritekstTilBrev:E.fritekstTilBrev,klageVurdering:E.klageVurdering})]}),e.jsx($,{children:e.jsx(Q,{saveKlage:l,handleSubmit:y.handleSubmit,readOnly:a,aksjonspunktCode:c.BEHANDLE_KLAGE_NFP})})]})})]})]})};try{me.displayName="BehandleKlageFormNfp",me.__docgenInfo={description:`BehandleklageformNfp

Presentasjonskomponent. Setter opp aksjonspunktet for behandling av klage (NFP).`,displayName:"BehandleKlageFormNfp",props:{previewCallback:{defaultValue:null,description:"",name:"previewCallback",required:!0,type:{name:"(data: BrevData) => Promise<any>"}},saveKlage:{defaultValue:null,description:"",name:"saveKlage",required:!0,type:{name:"(data: TransformedValues) => Promise<any>"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!1,type:{name:"boolean"}},sprakkode:{defaultValue:null,description:"",name:"sprakkode",required:!0,type:{name:"string"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},klageVurdering:{defaultValue:null,description:"",name:"klageVurdering",required:!0,type:{name:"Readonly<{ klageVurderingResultatNK?: Readonly<{ klageVurdertAv: string; klageVurdering?: string | undefined; fritekstTilBrev?: string | undefined; klageMedholdArsak?: string | undefined; klageVurderingOmgjoer?: string | undefined; klageHjemmel?: string | undefined; begrunnelse?: string | undefined; }> | undefined; ..."}},alleAktuelleHjemler:{defaultValue:null,description:"",name:"alleAktuelleHjemler",required:!0,type:{name:"string[]"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(data: KlageVurderingResultatAp) => Promise<void>"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"KlageFormType"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: KlageFormType) => void"}}}}}catch{}const qa=ye(Ka),pe=({behandling:a,klageVurdering:r,alleKodeverk:t,saveKlage:l,submitCallback:n,isReadOnly:s,previewCallback:m,readOnlySubmitButton:u,aksjonspunkter:f,formData:k,setFormData:d})=>e.jsxs(je,{value:qa,children:[r.klageVurderingResultatNK&&e.jsx(de,{klageVurdering:r,alleKodeverk:t}),f.some(o=>o.definisjon===c.BEHANDLE_KLAGE_NFP)&&e.jsx(me,{sprakkode:a.sprakkode,klageVurdering:r,saveKlage:l,submitCallback:n,readOnly:s,previewCallback:m,readOnlySubmitButton:u,alleKodeverk:t,alleAktuelleHjemler:r.aktuelleHjemler?r.aktuelleHjemler:[],formData:k,setFormData:d})]});try{pe.displayName="KlagevurderingProsessIndex",pe.__docgenInfo={description:"",displayName:"KlagevurderingProsessIndex",props:{klageVurdering:{defaultValue:null,description:"",name:"klageVurdering",required:!0,type:{name:"Readonly<{ klageVurderingResultatNK?: Readonly<{ klageVurdertAv: string; klageVurdering?: string | undefined; fritekstTilBrev?: string | undefined; klageMedholdArsak?: string | undefined; klageVurderingOmgjoer?: string | undefined; klageHjemmel?: string | undefined; begrunnelse?: string | undefined; }> | undefined; ..."}},previewCallback:{defaultValue:null,description:"",name:"previewCallback",required:!0,type:{name:"(data: BrevData) => Promise<any>"}},saveKlage:{defaultValue:null,description:"",name:"saveKlage",required:!0,type:{name:"(data: TransformedValues) => Promise<any>"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},vilkar:{defaultValue:null,description:"",name:"vilkar",required:!0,type:{name:"Readonly<{ vilkarType: string; vilkarStatus: string; avslagKode?: string | undefined; lovReferanse?: string | undefined; overstyrbar: boolean; }>[]"}},isAksjonspunktOpen:{defaultValue:null,description:"",name:"isAksjonspunktOpen",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const Ia=(a,r,t)=>l=>{const n={...l,behandlingUuid:t.uuid,fagsakYtelseType:r.fagsakYtelseType};return a(n).then(s=>Oe(s))},Ha=(a,r)=>t=>{const l={behandlingUuid:r.uuid,...t};return a(l)},Ga=(a,r,t)=>l=>{const n=l.some(s=>s.kode===c.BEHANDLE_KLAGE_NFP&&s.klageVurdering===p.STADFESTE_YTELSESVEDTAK);return n&&r(!1),()=>{n?a(!0):t&&t("default","default")}},Ua=[P.KLAGE_VURDERING],X=({fagsak:a,setSkalOppdatereEtterBekreftelseAvAp:r,opneSokeside:t,oppdaterProsessStegOgFaktaPanelIUrl:l,aksjonspunktKoder:n,prosessPanelKode:s,prosessPanelMenyTekst:m,...u})=>{const[f,k]=v.useState(!1),d=Ue(),o=r?Ga(k,r,l):void 0,{startRequest:V}=R.useRestApiRunner(P.PREVIEW_MESSAGE),A=v.useCallback(Ia(V,a,d.behandling),[d.behandling.versjon]),{startRequest:j}=R.useRestApiRunner(P.SAVE_KLAGE_VURDERING),F=v.useCallback(Ha(j,d.behandling),[d.behandling.versjon]);return e.jsx(ee,{...u,panelEndepunkter:Ua,aksjonspunktKoder:n,prosessPanelKode:s,prosessPanelMenyTekst:m,skalPanelVisesIMeny:()=>!0,lagringSideEffekter:o,renderPanel:y=>e.jsxs(e.Fragment,{children:[e.jsx(aa,{visModal:f,lukkModal:()=>{k(!1),t&&t()}}),e.jsx(pe,{previewCallback:A,saveKlage:F,...y})]})})};try{X.displayName="VurderingFellesProsessStegInitPanel",X.__docgenInfo={description:"",displayName:"VurderingFellesProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 10 more ...; notater: Saksnotat[]; }>"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!1,type:{name:"((skalHenteFagsak: boolean) => void)"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!1,type:{name:"(() => void)"}},oppdaterProsessStegOgFaktaPanelIUrl:{defaultValue:null,description:"",name:"oppdaterProsessStegOgFaktaPanelIUrl",required:!1,type:{name:"((punktnavn?: string, faktanavn?: string) => void) | undefined"}},aksjonspunktKoder:{defaultValue:null,description:"",name:"aksjonspunktKoder",required:!1,type:{name:"string[]"}},prosessPanelKode:{defaultValue:null,description:"",name:"prosessPanelKode",required:!0,type:{name:"enum",value:[{value:'"default"'},{value:'"inngangsvilkar"'},{value:'"behandle_innsyn"'},{value:'"beregning"'},{value:'"beregningsgrunnlag"'},{value:'"klage_nav_familie_og_pensjon"'},{value:'"klage_nav_klageinstans"'},{value:'"formkrav_klage_nav_klageinstans"'},{value:'"formkrav_klage_nav_familie_og_pensjon"'},{value:'"fortsattmedlemskap"'},{value:'"opplysningsplikt"'},{value:'"soeknadsfrist"'},{value:'"tilbakekreving"'},{value:'"foreldelse"'},{value:'"tilkjent_ytelse"'},{value:'"varsel"'},{value:'"vedtak"'},{value:'"uttak"'},{value:'"simulering"'},{value:'"resultat"'},{value:'"ankebehandling"'},{value:'"ankemerknader"'},{value:'"ankeresultat"'}]}},prosessPanelMenyTekst:{defaultValue:null,description:"",name:"prosessPanelMenyTekst",required:!0,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const Ca=[c.BEHANDLE_KLAGE_NFP],ke=({fagsak:a,setSkalOppdatereEtterBekreftelseAvAp:r,opneSokeside:t,oppdaterProsessStegOgFaktaPanelIUrl:l,...n})=>e.jsx(X,{...n,fagsak:a,setSkalOppdatereEtterBekreftelseAvAp:r,opneSokeside:t,oppdaterProsessStegOgFaktaPanelIUrl:l,aksjonspunktKoder:Ca,prosessPanelKode:I.KLAGE_NAV_FAMILIE_OG_PENSJON,prosessPanelMenyTekst:h().formatMessage({id:"Behandlingspunkt.CheckKlageNFP"})});try{ke.displayName="VurderingFamOgPensjonProsessStegInitPanel",ke.__docgenInfo={description:"",displayName:"VurderingFamOgPensjonProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 10 more ...; notater: Saksnotat[]; }>"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!0,type:{name:"(skalHenteFagsak: boolean) => void"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!0,type:{name:"() => void"}},oppdaterProsessStegOgFaktaPanelIUrl:{defaultValue:null,description:"",name:"oppdaterProsessStegOgFaktaPanelIUrl",required:!0,type:{name:"(punktnavn?: string | undefined, faktanavn?: string | undefined) => void"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const za=[c.VURDER_FORMKRAV_NK],wa=[P.KLAGE_VURDERING],ce=({alleBehandlinger:a,...r})=>{const t=h(),l=v.useMemo(()=>a.filter(s=>s.status===De.AVSLUTTET).filter(s=>(s.type!==Y.KLAGE||Le(s.resultatType))&&s.type!==Y.ANKE),[a]),{startRequest:n}=R.useRestApiRunner(P.SAVE_FORMKRAV_VURDERING);return e.jsx(ee,{...r,panelEndepunkter:wa,aksjonspunktKoder:za,prosessPanelKode:I.FORMKRAV_KLAGE_NAV_KLAGEINSTANS,prosessPanelMenyTekst:t.formatMessage({id:"Behandlingspunkt.FormkravKlageKA"}),skalPanelVisesIMeny:()=>!0,renderPanel:s=>e.jsx(W,{avsluttedeBehandlinger:l,lagreFormkravVurdering:n,...s})})};try{ce.displayName="FormKravKlageInstansProsessStegInitPanel",ce.__docgenInfo={description:"",displayName:"FormKravKlageInstansProsessStegInitPanel",props:{alleBehandlinger:{defaultValue:null,description:"",name:"alleBehandlinger",required:!0,type:{name:"{ uuid: string; type: string; status: string; opprettet: string; avsluttet?: string | undefined; resultatType?: string | undefined; }[]"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const Ya=[c.BEHANDLE_KLAGE_NK],fe=({fagsak:a,...r})=>e.jsx(X,{...r,aksjonspunktKoder:Ya,fagsak:a,prosessPanelKode:I.KLAGE_NAV_KLAGEINSTANS,prosessPanelMenyTekst:h().formatMessage({id:"Behandlingspunkt.CheckKlageNK"})});try{fe.displayName="VurderingKlageInstansProsessStegInitPanel",fe.__docgenInfo={description:"",displayName:"VurderingKlageInstansProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 10 more ...; notater: Saksnotat[]; }>"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const $a="_mainButton_lcisw_1",Ja={mainButton:$a},ve=({behandlingPaaVent:a,previewVedtakCallback:r,readOnly:t,lagreVedtak:l,isSubmitting:n})=>{const s=v.useCallback(m=>{m.preventDefault(),r()},[]);return e.jsx(He,{children:e.jsxs(Ge,{children:[!t&&e.jsx($,{children:e.jsx(q,{variant:"primary",size:"small",className:Ja.mainButton,onClick:l,disabled:a||n,loading:n,type:"button",children:e.jsx(i,{id:"VedtakKlageForm.TilGodkjenning"})})}),e.jsx($,{children:e.jsx("a",{href:"",onClick:s,onKeyDown:m=>m.key==="Enter"?s(m):null,className:Ce("lenke lenke--frittstaende"),children:e.jsx(i,{id:"VedtakKlageForm.ForhandvisBrev"})})})]})})};try{ve.displayName="VedtakKlageSubmitPanel",ve.__docgenInfo={description:"",displayName:"VedtakKlageSubmitPanel",props:{previewVedtakCallback:{defaultValue:null,description:"",name:"previewVedtakCallback",required:!0,type:{name:"() => Promise<any>"}},behandlingPaaVent:{defaultValue:null,description:"",name:"behandlingPaaVent",required:!0,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},lagreVedtak:{defaultValue:null,description:"",name:"lagreVedtak",required:!0,type:{name:"() => void"}},isSubmitting:{defaultValue:null,description:"",name:"isSubmitting",required:!0,type:{name:"boolean"}}}}}catch{}const Wa={GUNST_MEDHOLD_I_KLAGE:"VedtakKlageForm.KlageOmgjortGunst",UGUNST_MEDHOLD_I_KLAGE:"VedtakKlageForm.KlageOmgjortUgunst",DELVIS_MEDHOLD_I_KLAGE:"VedtakKlageForm.KlageOmgjortDelvis"},Za=a=>()=>a({gjelderVedtak:!0}),Qa=a=>{if(a){if(a.klageFormkravResultatKA&&a.klageVurderingResultatNK)return a.klageFormkravResultatKA.avvistArsaker;if(a.klageFormkravResultatNFP)return a.klageFormkravResultatNFP.avvistArsaker}return[]},Xa=(a,r)=>{var l,n;const t=Ee(r);if(a){if((l=a.klageVurderingResultatNK)!=null&&l.klageMedholdArsak)return t(a.klageVurderingResultatNK.klageMedholdArsak,b.KLAGE_MEDHOLD_ARSAK);if((n=a.klageVurderingResultatNFP)!=null&&n.klageMedholdArsak)return t(a.klageVurderingResultatNFP.klageMedholdArsak,b.KLAGE_MEDHOLD_ARSAK)}return null},er=a=>{const r=a.klageVurderingResultatNK?a.klageVurderingResultatNK:a.klageVurderingResultatNFP;switch(r==null?void 0:r.klageVurdering){case p.AVVIS_KLAGE:return"VedtakKlageForm.KlageAvvist";case p.STADFESTE_YTELSESVEDTAK:return"VedtakKlageForm.KlageStadfestet";case p.OPPHEVE_YTELSESVEDTAK:return"VedtakKlageForm.YtelsesvedtakOpphevet";case p.HJEMSENDE_UTEN_Å_OPPHEVE:return"VedtakKlageForm.HjemmsendUtenOpphev";case p.MEDHOLD_I_KLAGE:return Wa[(r==null?void 0:r.klageVurderingOmgjoer)||""];default:return"VedtakKlageForm.IkkeFastsatt"}},Ke=({submitCallback:a,klageVurdering:r,behandlingsresultat:t,readOnly:l,aksjonspunkter:n,previewVedtakCallback:s,behandlingPaaVent:m,alleKodeverk:u})=>{const f=v.useMemo(()=>Qa(r),[r]),k=v.useMemo(()=>Xa(r,u),[r]),d=v.useMemo(()=>er(r),[r]),o=r.klageVurderingResultatNK?r.klageVurderingResultatNK:r.klageVurderingResultatNFP,V=Qe(t.type),[A,j]=v.useState(!1),F=v.useCallback(()=>{j(!0);const ae=n.filter(T=>T.status===Xe.OPPRETTET).map(T=>T.definisjon).map(T=>({kode:ra(T,c.FORESLA_VEDTAK,c.FORESLA_VEDTAK_MANUELT,c.VEDTAK_UTEN_TOTRINNSKONTROLL)}));a(ae).then(()=>j(!1))},[n]),y=Ee(u);return e.jsxs(e.Fragment,{children:[e.jsx(O,{size:"small",children:e.jsx(i,{id:"VedtakKlageForm.Header"})}),e.jsx(g,{twentyPx:!0}),e.jsx(_,{size:"small",children:e.jsx(i,{id:"VedtakKlageForm.Resultat"})}),d&&e.jsx(K,{size:"small",children:e.jsx(i,{id:d})}),e.jsx(g,{sixteenPx:!0}),t.type===Te.KLAGE_AVVIST&&e.jsxs(e.Fragment,{children:[e.jsx(_,{size:"small",children:e.jsx(i,{id:"VedtakKlageForm.ArsakTilAvvisning"})}),f.map(E=>e.jsx(K,{size:"small",children:y(E,b.KLAGE_AVVIST_AARSAK)},E)),e.jsx(g,{sixteenPx:!0})]}),V&&e.jsxs(e.Fragment,{children:[e.jsx(_,{size:"small",children:e.jsx(i,{id:"VedtakKlageForm.ArsakTilOmgjoring"})}),k,e.jsx(g,{sixteenPx:!0})]}),t.type===Te.KLAGE_YTELSESVEDTAK_OPPHEVET&&e.jsxs(e.Fragment,{children:[e.jsx(_,{size:"small",children:e.jsx(i,{id:"VedtakKlageForm.ArsakTilOppheving"})}),k,e.jsx(g,{sixteenPx:!0})]}),(o==null?void 0:o.klageVurdertAv)==="NFP"&&e.jsx(ve,{previewVedtakCallback:Za(s),readOnly:l,behandlingPaaVent:m,lagreVedtak:F,isSubmitting:A})]})};try{Ke.displayName="VedtakKlageForm",Ke.__docgenInfo={description:"VedtakKlageForm",displayName:"VedtakKlageForm",props:{behandlingsresultat:{defaultValue:null,description:"",name:"behandlingsresultat",required:!0,type:{name:"Readonly<{ id: number; type: string; avslagsarsak?: string | undefined; avslagsarsakFritekst?: string | undefined; rettenTil?: string | undefined; konsekvenserForYtelsen?: string[] | undefined; ... 4 more ...; skjæringstidspunkt?: { ...; } | undefined; }>"}},behandlingPaaVent:{defaultValue:null,description:"",name:"behandlingPaaVent",required:!0,type:{name:"boolean"}},klageVurdering:{defaultValue:null,description:"",name:"klageVurdering",required:!0,type:{name:"Readonly<{ klageVurderingResultatNK?: Readonly<{ klageVurdertAv: string; klageVurdering?: string | undefined; fritekstTilBrev?: string | undefined; klageMedholdArsak?: string | undefined; klageVurderingOmgjoer?: string | undefined; klageHjemmel?: string | undefined; begrunnelse?: string | undefined; }> | undefined; ..."}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(data: AksjonspunktData) => Promise<void>"}},previewVedtakCallback:{defaultValue:null,description:"",name:"previewVedtakCallback",required:!0,type:{name:"(data: ForhandsvisData) => Promise<any>"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}}}}}catch{}const ar={"VedtakKlageForm.ArsakTilAvslag":"Årsak til avslag","VedtakKlageForm.ResultatOpprettholdVedtak":"Vedtaket er stadfestet","VedtakKlageForm.ResultatKlageMedhold":"Vedtaket er omgjort","VedtakKlageForm.Resultat":"Resultat av klage","VedtakKlageForm.ArsakTilAvvisning":"Årsak til avvisning","VedtakKlageForm.ArsakTilOmgjoring":"Årsak til omgjøring","VedtakKlageForm.ArsakTilOppheving":"Årsak til oppheving","VedtakKlageForm.EngangsstonadIkkeInnvilget":"Engangsstønad er avslått","VedtakKlageForm.ResultatKlageAvvist":"Klagen er avvist","VedtakKlageForm.ResultatKlageYtelsesvedtakOpphevet":"Vedtaket er opphevet","VedtakKlageForm.TilGodkjenning":"Til godkjenning","VedtakKlageForm.ForhandvisBrev":"Forhåndsvis vedtaksbrev","VedtakKlageForm.ArsakTilMedhold":"Årsak","VedtakKlageForm.KlageOmgjortGunst":"Vedtaket er omgjort til gunst","VedtakKlageForm.KlageOmgjortUgunst":"Vedtaket er omgjort til ugunst","VedtakKlageForm.KlageOmgjortDelvis":"Vedtaket er delvis omgjort til gunst","VedtakKlageForm.HjemmsendUtenOpphev":"Vedtaket er hjemsendt","VedtakKlageForm.IkkeFastsatt":"Ikke fastsatt","VedtakKlageForm.Header":"Resultat","VedtakKlageForm.KlageAvvist":"Avvist fordi klagen ikke oppfyller formkravene","VedtakKlageForm.KlageStadfestet":"Vedtaket er stadfestet","VedtakKlageForm.YtelsesvedtakOpphevet":"Vedtak er opphevet og hjemsendt"},rr=ye(ar),Ve=({behandling:a,klageVurdering:r,aksjonspunkter:t,submitCallback:l,previewVedtakCallback:n,isReadOnly:s,alleKodeverk:m})=>{if(!a.behandlingsresultat)throw new Error(`behandlingsresultat finnes ikke for behandling ${a.uuid}`);return e.jsx(je,{value:rr,children:e.jsx(Ke,{behandlingsresultat:a.behandlingsresultat,behandlingPaaVent:a.behandlingPaaVent,klageVurdering:r,aksjonspunkter:t,submitCallback:l,previewVedtakCallback:n,readOnly:s,alleKodeverk:m})})};try{Ve.displayName="VedtakKlageProsessIndex",Ve.__docgenInfo={description:"",displayName:"VedtakKlageProsessIndex",props:{klageVurdering:{defaultValue:null,description:"",name:"klageVurdering",required:!0,type:{name:"Readonly<{ klageVurderingResultatNK?: Readonly<{ klageVurdertAv: string; klageVurdering?: string | undefined; fritekstTilBrev?: string | undefined; klageMedholdArsak?: string | undefined; klageVurderingOmgjoer?: string | undefined; klageHjemmel?: string | undefined; begrunnelse?: string | undefined; }> | undefined; ..."}},previewVedtakCallback:{defaultValue:null,description:"",name:"previewVedtakCallback",required:!0,type:{name:"(data: ForhandsvisData) => Promise<any>"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},vilkar:{defaultValue:null,description:"",name:"vilkar",required:!0,type:{name:"Readonly<{ vilkarType: string; vilkarStatus: string; avslagKode?: string | undefined; lovReferanse?: string | undefined; overstyrbar: boolean; }>[]"}},isAksjonspunktOpen:{defaultValue:null,description:"",name:"isAksjonspunktOpen",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const nr=(a,r,t)=>l=>{const n={...l,behandlingUuid:t.uuid,fagsakYtelseType:r.fagsakYtelseType};return a(n).then(s=>Oe(s))},be=(a,r=[])=>{const t=r.some(n=>n.status===We.OPPRETTET);if(r.length===0||t)return M.IKKE_VURDERT;const l=a==null?void 0:a.type;return l===G.HENLAGT_KLAGE_TRUKKET||l===G.HENLAGT_FEILOPPRETTET?M.IKKE_VURDERT:l===G.KLAGE_AVVIST||l===G.KLAGE_YTELSESVEDTAK_OPPHEVET?M.IKKE_OPPFYLT:M.OPPFYLT},tr=(a,r)=>()=>(r(!1),()=>{a(!0)}),lr=[c.FORESLA_VEDTAK,c.FATTER_VEDTAK,c.FORESLA_VEDTAK_MANUELT,c.VEDTAK_UTEN_TOTRINNSKONTROLL],sr=[P.KLAGE_VURDERING],_e=({fagsak:a,setSkalOppdatereEtterBekreftelseAvAp:r,opneSokeside:t,...l})=>{const n=h(),[s,m]=v.useState(!1),u=Ue(),f=tr(m,r),{startRequest:k}=R.useRestApiRunner(P.PREVIEW_MESSAGE),d=v.useCallback(nr(k,a,u.behandling),[u.behandling.versjon]),{aksjonspunkt:o}=l.behandling;return e.jsx(ee,{...l,panelEndepunkter:sr,aksjonspunktKoder:lr,prosessPanelKode:I.KLAGE_RESULTAT,prosessPanelMenyTekst:n.formatMessage({id:"Behandlingspunkt.ResultatKlage"}),skalPanelVisesIMeny:()=>!0,hentOverstyrtStatus:V=>be(V.behandling.behandlingsresultat,o),lagringSideEffekter:f,hentSkalMarkeresSomAktiv:V=>be(V.behandling.behandlingsresultat,o)!==M.IKKE_VURDERT,renderPanel:V=>e.jsxs(e.Fragment,{children:[e.jsx(na,{visModal:s,lukkModal:()=>{m(!1),t()},tekst:n.formatMessage({id:"FatterVedtakStatusModal.KlagenErFerdigbehandlet"})}),e.jsx(Ve,{previewVedtakCallback:d,...V})]})})};try{_e.displayName="KlageresultatProsessStegInitPanel",_e.__docgenInfo={description:"",displayName:"KlageresultatProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; }>"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!0,type:{name:"(skalHenteFagsak: boolean) => void"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!0,type:{name:"() => void"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const Se=({behandling:a,fagsak:r,valgtProsessSteg:t,valgtFaktaSteg:l,oppdaterProsessStegOgFaktaPanelIUrl:n,opneSokeside:s,setSkalOppdatereEtterBekreftelseAvAp:m,alleBehandlinger:u})=>{const f=v.useCallback(o=>e.jsx(ta,{...o}),[]),k=v.useMemo(()=>u.filter(o=>!o.behandlingHenlagt).map(o=>{var V;return{uuid:o.uuid,type:o.type,status:o.status,opprettet:o.opprettet,avsluttet:o.avsluttet,resultatType:(V=o.behandlingsresultat)==null?void 0:V.type}}),[u]),d=v.useCallback(o=>e.jsxs(e.Fragment,{children:[e.jsx(ie,{...o,alleBehandlinger:k}),e.jsx(ke,{...o,fagsak:r,opneSokeside:s,setSkalOppdatereEtterBekreftelseAvAp:m,oppdaterProsessStegOgFaktaPanelIUrl:n}),e.jsx(ce,{...o,alleBehandlinger:k}),e.jsx(fe,{...o,fagsak:r}),e.jsx(_e,{...o,fagsak:r,opneSokeside:s,setSkalOppdatereEtterBekreftelseAvAp:m})]}),[k,r,s,m,n]);return e.jsx(la,{behandling:a,valgtProsessSteg:t,valgtFaktaSteg:l,oppdaterProsessStegOgFaktaPanelIUrl:n,hentFaktaPaneler:f,hentProsessPaneler:d})};try{Se.displayName="KlagePaneler",Se.__docgenInfo={description:"",displayName:"KlagePaneler",props:{behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 10 more ...; notater: Saksnotat[]; }>"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},oppdaterProsessStegOgFaktaPanelIUrl:{defaultValue:null,description:"",name:"oppdaterProsessStegOgFaktaPanelIUrl",required:!0,type:{name:"(punktnavn?: string | undefined, faktanavn?: string | undefined) => void"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!0,type:{name:"() => void"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!0,type:{name:"(skalHenteFagsak: boolean) => void"}},alleBehandlinger:{defaultValue:null,description:"",name:"alleBehandlinger",required:!0,type:{name:"BehandlingAppKontekst[]"}}}}}catch{}export{Se as default};
