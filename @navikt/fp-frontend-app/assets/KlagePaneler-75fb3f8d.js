import{t as ne,P as ie,b as F,R as _e,v as b,_ as V,C as h,a as Ge,j as _,s as He,x as Ee,e as xe}from"./index.es-b772bb8b.js";import{R as de,r as j}from"./index-6d8bab86.js";import{I as Ue,b as je,Y,x as G,H as Ce,W as $}from"./index.es-bf42e136.js";import{a2 as E,D as Ve,O as he,s as z,S as Q,r as y,T as O,J as S,aC as ke,al as oe,aD as Pe,ae as U,a5 as T,aE as f,aF as R,w as $e,Z as qe,af as L,a4 as ee,aG as we,a6 as ze,ag as me}from"./AppIndex.stories-b9ab4957.js";import{H as Fe,l as Ae,D as Ye}from"./index.es-de396e42.js";import{w as p,b as v,A as ye,U as J,Y as H,z as A,N as Je}from"./index.es-75a29dae.js";import{P as Z,u as Se}from"./ProsessDefaultInitPanel-e88558e9.js";import{G as Te}from"./index.es-00777438.js";import{K as We}from"./KlageBehandlingModal-6a36f027.js";import{F as Ze}from"./FatterVedtakStatusModal-b8198490.js";import{V as Xe}from"./VergeFaktaInitPanel-c35b4222.js";import{B as Qe}from"./BehandlingContainer-3edf2211.js";import"./index.es-e052dc32.js";import"./extends-98964cd2.js";import"./iframe-cb257c9f.js";import"../sb-preview/runtime.js";import"./SettPaVentReadOnlyModal-e430d18f.js";import"./nb_NO-2dbbfd6c.js";import"./BehandlingHenlagtPanel-e4379e4a.js";var Oe={exports:{}},M={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pe;function ea(){if(pe)return M;pe=1;var e=de,a=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function k(o,i,m){var g,u={},c=null,x=null;m!==void 0&&(c=""+m),i.key!==void 0&&(c=""+i.key),i.ref!==void 0&&(x=i.ref);for(g in i)n.call(i,g)&&!d.hasOwnProperty(g)&&(u[g]=i[g]);if(o&&o.defaultProps)for(g in i=o.defaultProps,i)u[g]===void 0&&(u[g]=i[g]);return{$$typeof:a,type:o,key:c,ref:x,props:u,_owner:l.current}}return M.Fragment=t,M.jsx=k,M.jsxs=k,M}Oe.exports=ea();var r=Oe.exports;const aa={"Klage.LovhjemmelNFP":"Fvl §§ 28, 31, 32, 33 og ftrl § 21-12","Klage.LovhjemmelKA":"Fvl §§  28, 31, 32, 34 og ftrl § 21-12","Klage.Formkrav.VelgVedtak":"Vedtaket som er påklagd","Klage.Formkrav.Title":"Vurder formkrav","Klage.Formkrav.HelpText":"Vurder om klagen oppfyller formkravene","Klage.Formkrav.IkkePåklagdVedtak":"Ikke påklagd et vedtak","Klage.Formkrav.ErKlagerPart":"Er klager part i saken?","Klage.Formkrav.ErKonkret":"Klages det på konkrete elementer i vedtaket?","Klage.Formkrav.ErFristOverholdt":"Er klagefristen overholdt?","Klage.Formkrav.ErSignert":"Er klagen signert?","Klage.Formkrav.KabalText":"Fortsett klagebehandlingen i KABAL: Kryss av, velg hjemmel og trykk send","Klage.Formkrav.SeKabalText":"Klagen behandles i KABAL","Klage.Formkrav.SendTilKabal":"Send til KABAL","Klage.Formkrav.Hjemmel":"Hjemmel","Klage.Formkrav.Ja":"Ja","Klage.Formkrav.Nei":"Nei","Klage.Formkrav.Vurdering":"Vurdering","Malform.Beskrivelse":"Foretrukket språk"},ra="_confirmVilkarForm_68qsj_1",la="_selectBredde_68qsj_4",ta="_col_68qsj_7",q={confirmVilkarForm:ra,selectBredde:la,col:ta},ge="ikkePaklagdVedtak",sa=e=>e!=null&&e.paKlagdBehandlingUuid?`${e.paKlagdBehandlingUuid}`:ge,na=(e,a,t)=>[r.jsx("option",{value:ge,children:a.formatMessage({id:"Klage.Formkrav.IkkePåklagdVedtak"})},"formkrav")].concat([...e].sort((n,l)=>z(n.avsluttet).diff(z(l.avsluttet))).map(n=>r.jsx("option",{value:`${n.uuid}`,children:`${t(n.type,S.BEHANDLING_TYPE)} ${z(n.avsluttet).format(_e)}`},n.uuid))),ia=e=>e===E.VURDERING_AV_FORMKRAV_KLAGE_NFP?"Klage.LovhjemmelNFP":"Klage.LovhjemmelKA",da=({readOnly:e,readOnlySubmitButton:a,aksjonspunktCode:t,avsluttedeBehandlinger:n,alleKodeverk:l,isSubmitting:d,isDirty:k})=>{const o=F(),i=oe(l),m=na(n,o,i);return r.jsxs(r.Fragment,{children:[r.jsx(b,{size:"small",children:o.formatMessage({id:"Klage.Formkrav.Title"})}),r.jsx(v,{fourPx:!0}),r.jsx(Ge,{children:o.formatMessage({id:ia(t)})}),r.jsx(v,{fourPx:!0}),r.jsx(ye,{isAksjonspunktOpen:!a,children:[r.jsx(p,{id:"Klage.Formkrav.HelpText"},t)]}),r.jsx(v,{sixteenPx:!0}),r.jsx(J,{children:r.jsxs(H,{children:[r.jsx(A,{className:q.col,children:r.jsx(Fe,{readOnly:e})}),r.jsxs(A,{className:q.col,children:[r.jsx(Q,{readOnly:e,validate:[y],name:"vedtak",label:o.formatMessage({id:"Klage.Formkrav.VelgVedtak"}),selectValues:m,className:q.selectBredde}),r.jsx(v,{sixteenPx:!0}),r.jsx(J,{children:r.jsxs(H,{children:[r.jsx(A,{children:r.jsx(O,{name:"erKlagerPart",label:o.formatMessage({id:"Klage.Formkrav.ErKlagerPart"}),validate:[y],isReadOnly:e,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:o.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:o.formatMessage({id:"Klage.Formkrav.Nei"})}]})}),r.jsx(v,{sixteenPx:!0}),r.jsx(A,{children:r.jsx(O,{name:"erKonkret",label:o.formatMessage({id:"Klage.Formkrav.ErKonkret"}),validate:[y],isReadOnly:e,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:o.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:o.formatMessage({id:"Klage.Formkrav.Nei"})}]})})]})}),r.jsx(v,{sixteenPx:!0}),r.jsxs(H,{children:[r.jsx(A,{children:r.jsx(O,{name:"erFristOverholdt",label:o.formatMessage({id:"Klage.Formkrav.ErFristOverholdt"}),validate:[y],isReadOnly:e,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:o.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:o.formatMessage({id:"Klage.Formkrav.Nei"})}]})}),r.jsx(v,{sixteenPx:!0}),r.jsx(A,{children:r.jsx(O,{name:"erSignert",label:o.formatMessage({id:"Klage.Formkrav.ErSignert"}),validate:[y],isReadOnly:e,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:o.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:o.formatMessage({id:"Klage.Formkrav.Nei"})}]})})]})]})]})}),r.jsx("div",{className:q.confirmVilkarForm,children:r.jsx(Ae,{isReadOnly:e,isSubmittable:!a,isSubmitting:d,isDirty:k})})]})},oa=e=>{const a=e?e.klageFormkravResultatNFP:null;return{vedtak:a?sa(a):"",begrunnelse:a?a.begrunnelse:void 0,erKlagerPart:a?a.erKlagerPart:void 0,erKonkret:a?a.erKlageKonkret:void 0,erFristOverholdt:a?a.erKlagefirstOverholdt:void 0,erSignert:a?a.erSignert:void 0}},Re=(e,a)=>e.find(t=>t.uuid===a),be=(e,a)=>{const t=Re(e,a);return!!t&&(t.type===ke.TILBAKEKREVING||t.type===ke.TILBAKEKREVING_REVURDERING)},ga=(e,a)=>{const t=be(e,a),n=Re(e,a);return n&&t?{tilbakekrevingUuid:n.uuid,tilbakekrevingVedtakDato:n.avsluttet,tilbakekrevingBehandlingType:n.type}:void 0},ua=(e,a)=>({erKlagerPart:e.erKlagerPart,erFristOverholdt:e.erFristOverholdt,erKonkret:e.erKonkret,erSignert:e.erSignert,begrunnelse:e.begrunnelse,kode:E.VURDERING_AV_FORMKRAV_KLAGE_NFP,vedtakBehandlingUuid:e.vedtak===ge?void 0:e.vedtak,erTilbakekreving:be(a,e.vedtak),tilbakekrevingInfo:ga(a,e.vedtak)}),ka=({readOnly:e,klageVurdering:a,readOnlySubmitButton:t,alleKodeverk:n,avsluttedeBehandlinger:l,submitCallback:d,formData:k,setFormData:o})=>{const i=j.useMemo(()=>oa(a),[a]),m=Ve({defaultValues:k||i});return r.jsx(he,{formMethods:m,onSubmit:g=>d(ua(g,l)),setDataOnUnmount:o,children:r.jsx(da,{readOnly:e,readOnlySubmitButton:t,aksjonspunktCode:E.VURDERING_AV_FORMKRAV_KLAGE_NFP,alleKodeverk:n,avsluttedeBehandlinger:l,isSubmitting:m.formState.isSubmitting,isDirty:m.formState.isDirty})})},ma=({klageVurdering:e,alleKodeverk:a,avsluttedeBehandlinger:t})=>{var n;const l=F(),{klageFormkravResultatKA:d,underBehandlingKabal:k,behandletAvKabal:o}=e;let i=l.formatMessage({id:"Klage.Formkrav.IkkePåklagdVedtak"});if(d!=null&&d.paKlagdBehandlingUuid){const m=t.find(g=>g.uuid===d.paKlagdBehandlingUuid);m&&(i=`${(n=a[Ue.BEHANDLING_TYPE].find(g=>g.kode===m.type))==null?void 0:n.navn} ${z(m.avsluttet).format(_e)}`)}return r.jsxs(r.Fragment,{children:[r.jsx(b,{size:"small",children:r.jsx(p,{id:"Klage.Formkrav.Title"})}),r.jsx(v,{sixteenPx:!0}),k&&r.jsxs(r.Fragment,{children:[r.jsx(b,{size:"small",children:r.jsx(p,{id:"Klage.Formkrav.SeKabalText"})}),r.jsx(v,{sixteenPx:!0})]}),!k&&!o&&r.jsxs(r.Fragment,{children:[r.jsx(V,{size:"small",children:r.jsx(p,{id:"Klage.Formkrav.VelgVedtak"})}),r.jsx(v,{fourPx:!0}),r.jsx(h,{size:"small",children:i}),r.jsx(v,{sixteenPx:!0}),r.jsx(V,{size:"small",children:r.jsx(p,{id:"Klage.Formkrav.ErKlagerPart"})}),r.jsx(v,{fourPx:!0}),r.jsx(h,{size:"small",children:d!=null&&d.erKlagerPart?r.jsx(p,{id:"Klage.Formkrav.Ja"}):r.jsx(p,{id:"Klage.Formkrav.Nei"})}),r.jsx(v,{sixteenPx:!0}),r.jsx(V,{size:"small",children:r.jsx(p,{id:"Klage.Formkrav.ErKonkret"})}),r.jsx(v,{fourPx:!0}),r.jsx(h,{size:"small",children:d!=null&&d.erKlageKonkret?r.jsx(p,{id:"Klage.Formkrav.Ja"}):r.jsx(p,{id:"Klage.Formkrav.Nei"})}),r.jsx(v,{sixteenPx:!0}),r.jsx(V,{size:"small",children:r.jsx(p,{id:"Klage.Formkrav.ErFristOverholdt"})}),r.jsx(v,{fourPx:!0}),r.jsx(h,{size:"small",children:d!=null&&d.erKlagefirstOverholdt?r.jsx(p,{id:"Klage.Formkrav.Ja"}):r.jsx(p,{id:"Klage.Formkrav.Nei"})}),r.jsx(v,{sixteenPx:!0}),r.jsx(V,{size:"small",children:r.jsx(p,{id:"Klage.Formkrav.ErSignert"})}),r.jsx(v,{fourPx:!0}),r.jsx(h,{size:"small",children:d!=null&&d.erSignert?r.jsx(p,{id:"Klage.Formkrav.Ja"}):r.jsx(p,{id:"Klage.Formkrav.Nei"})}),r.jsx(v,{sixteenPx:!0}),r.jsx(V,{size:"small",children:r.jsx(p,{id:"Klage.Formkrav.Vurdering"})}),r.jsx(v,{fourPx:!0}),r.jsx(h,{size:"small",children:d==null?void 0:d.begrunnelse})]})]})},pa=ne(aa),ue=({klageVurdering:e={},avsluttedeBehandlinger:a,aksjonspunkter:t,submitCallback:n,isReadOnly:l,readOnlySubmitButton:d,alleKodeverk:k,formData:o,setFormData:i})=>r.jsxs(ie,{value:pa,children:[t.some(m=>m.definisjon===E.VURDERING_AV_FORMKRAV_KLAGE_NFP)&&r.jsx(ka,{klageVurdering:e,submitCallback:n,readOnly:l,readOnlySubmitButton:d,alleKodeverk:k,avsluttedeBehandlinger:a,formData:o,setFormData:i}),e.klageFormkravResultatKA&&r.jsx(ma,{klageVurdering:e,alleKodeverk:k,avsluttedeBehandlinger:a})]});ue.__docgenInfo={description:"",methods:[],displayName:"vt",props:{klageVurdering:{defaultValue:{value:"{}",computed:!1},required:!1}}};const va=[E.VURDERING_AV_FORMKRAV_KLAGE_NFP],Ka=[T.KLAGE_VURDERING],ae=({alleBehandlinger:e,...a})=>{const t=F(),n=j.useMemo(()=>e.filter(l=>l.status===je.AVSLUTTET).filter(l=>(l.type!==Y.KLAGE||Pe(l.resultatType))&&l.type!==Y.ANKE),[e]);return _.jsx(Z,{...a,panelEndepunkter:Ka,aksjonspunktKoder:va,prosessPanelKode:U.FORMKRAV_KLAGE_NAV_FAMILIE_OG_PENSJON,prosessPanelMenyTekst:t.formatMessage({id:"Behandlingspunkt.FormkravKlageNFP"}),skalPanelVisesIMeny:()=>!0,renderPanel:l=>_.jsx(ue,{avsluttedeBehandlinger:n,...l})})};try{ae.displayName="FormKravFamOgPensjonProsessStegInitPanel",ae.__docgenInfo={description:"",displayName:"FormKravFamOgPensjonProsessStegInitPanel",props:{alleBehandlinger:{defaultValue:null,description:"",name:"alleBehandlinger",required:!0,type:{name:"{ uuid: string; type: string; status: string; opprettet: string; avsluttet?: string | undefined; resultatType?: string | undefined; }[]"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}var Ne={exports:{}},I={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ve;function ca(){if(ve)return I;ve=1;var e=de,a=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function k(o,i,m){var g,u={},c=null,x=null;m!==void 0&&(c=""+m),i.key!==void 0&&(c=""+i.key),i.ref!==void 0&&(x=i.ref);for(g in i)n.call(i,g)&&!d.hasOwnProperty(g)&&(u[g]=i[g]);if(o&&o.defaultProps)for(g in i=o.defaultProps,i)u[g]===void 0&&(u[g]=i[g]);return{$$typeof:a,type:o,key:c,ref:x,props:u,_owner:l.current}}return I.Fragment=t,I.jsx=k,I.jsxs=k,I}Ne.exports=ca();var s=Ne.exports;const fa={"Klage.ResolveKlage.Title":"Behandle klage","Klage.ResolveKlage.HelpText":"Vurder om klagen skal tas til følge","Klage.ResolveKlage.KeepVedtakNk":"Stadfest vedtaket","Klage.ResolveKlage.KeepVedtakNfp":"Oppretthold vedtaket","Klage.ResolveKlage.ChangeVedtak":"Omgjør vedtaket","Klage.ResolveKlage.Hjemmel":"Hjemmel","Klage.Behandle.Omgjort":"Til gunst","Klage.Behandle.DelvisOmgjort":"Delvis omgjør, til gunst","Klage.Behandle.Hjemsendt":"Hjemsend vedtaket","Klage.Behandle.Ugunst":"Til ugunst","Klage.ResolveKlage.NullifyVedtak":"Opphev og hjemsend vedtaket","Klage.ResolveKlage.Cause":"Årsak","Klage.ResolveKlage.TempSaveButton":"Lagre","KlageVurderingRadioOptionsKa.VurderingForKlage":"Vurdering","FritekstKlageBrevTextField.Fritekst":"Fritekst til brev","BehandleKlageFormNfp.BegrunnelseForKlage":"Begrunnelse","PreviewKlageLink.ForhandvisBrev":"Forhåndsvis brev","KlageVurderingRadioOptionsKa.Begrunnelse":"Begrunnelse","Malform.Beskrivelse":"Foretrukket språk"},_a=({klageVurdering:e,alleKodeverk:a})=>{var t,n;const l=F(),{begrunnelse:d,fritekstTilBrev:k,klageVurdering:o,klageMedholdArsak:i,klageVurderingOmgjoer:m}=e.klageVurderingResultatNK||{},g=a[S.KLAGE_MEDHOLD_ARSAK];return s.jsxs(s.Fragment,{children:[s.jsx(b,{size:"small",children:l.formatMessage({id:"Klage.ResolveKlage.Title"})}),s.jsx(v,{sixteenPx:!0}),s.jsx(V,{size:"small",children:s.jsx(p,{id:"KlageVurderingRadioOptionsKa.VurderingForKlage"})}),s.jsxs(h,{size:"small",children:[o===f.STADFESTE_YTELSESVEDTAK&&s.jsx(p,{id:"Klage.ResolveKlage.KeepVedtakNk"}),o===f.MEDHOLD_I_KLAGE&&s.jsx(p,{id:"Klage.ResolveKlage.ChangeVedtak"}),o===f.HJEMSENDE_UTEN_Å_OPPHEVE&&s.jsx(p,{id:"Klage.Behandle.Hjemsendt"}),o===f.OPPHEVE_YTELSESVEDTAK&&s.jsx(p,{id:"Klage.ResolveKlage.NullifyVedtak"})]}),s.jsx(v,{sixteenPx:!0}),o===f.MEDHOLD_I_KLAGE&&s.jsxs(s.Fragment,{children:[s.jsx(V,{size:"small",children:s.jsx(p,{id:"Klage.ResolveKlage.Cause"})}),s.jsx(h,{size:"small",children:(t=g.find(u=>u.kode===i))==null?void 0:t.navn}),s.jsx(v,{sixteenPx:!0}),s.jsxs(h,{size:"small",children:[m===R.GUNST_MEDHOLD_I_KLAGE&&s.jsx(p,{id:"Klage.Behandle.Omgjort"}),m===R.UGUNST_MEDHOLD_I_KLAGE&&s.jsx(p,{id:"Klage.Behandle.Ugunst"}),m===R.DELVIS_MEDHOLD_I_KLAGE&&s.jsx(p,{id:"Klage.Behandle.DelvisOmgjort"})]}),s.jsx(v,{sixteenPx:!0})]}),(o===f.OPPHEVE_YTELSESVEDTAK||o===f.HJEMSENDE_UTEN_Å_OPPHEVE)&&s.jsxs(s.Fragment,{children:[s.jsx(V,{size:"small",children:s.jsx(p,{id:"Klage.ResolveKlage.Cause"})}),s.jsx(h,{size:"small",children:(n=g.find(u=>u.kode===i))==null?void 0:n.navn}),s.jsx(v,{sixteenPx:!0})]}),s.jsx(V,{size:"small",children:s.jsx(p,{id:"FritekstKlageBrevTextField.Fritekst"})}),s.jsx(h,{size:"small",children:k}),s.jsx(v,{sixteenPx:!0}),s.jsx(V,{size:"small",children:s.jsx(p,{id:"KlageVurderingRadioOptionsKa.Begrunnelse"})}),s.jsx(h,{size:"small",children:d}),s.jsx(v,{sixteenPx:!0})]})},Ea="_previewLink_1xd5p_1",xa="_select_1xd5p_7",ja="_selectReadOnly_1xd5p_10",Va="_confirmVilkarForm_1xd5p_14",ha="_panel_1xd5p_17",Pa="_fritekstTilBrevTextArea_1xd5p_20",Fa="_explanationTextarea_1xd5p_23",w={previewLink:Ea,select:xa,selectReadOnly:ja,confirmVilkarForm:Va,panel:ha,fritekstTilBrevTextArea:Pa,explanationTextarea:Fa},Aa=(e,a)=>e.filter(({kode:t})=>a.includes(t)).sort((t,n)=>t.kode.localeCompare(n.kode)),ya=e=>e.map(a=>a),Sa=({readOnly:e,medholdReasons:a,alleHjemler:t,alleAktuelleHjemler:n,klageVurdering:l})=>{const d=F(),k=a.map(i=>s.jsx("option",{value:i.kode,children:i.navn},i.kode)),o=Aa(t,ya(n)).map(i=>s.jsx("option",{value:i.kode,children:i.navn},i.kode));return s.jsxs(s.Fragment,{children:[s.jsx(O,{name:"klageVurdering",validate:[y],isReadOnly:e,isHorizontal:!0,radios:[{value:f.MEDHOLD_I_KLAGE,label:d.formatMessage({id:"Klage.ResolveKlage.ChangeVedtak"})},{value:f.STADFESTE_YTELSESVEDTAK,label:d.formatMessage({id:"Klage.ResolveKlage.KeepVedtakNfp"})}]}),l===f.MEDHOLD_I_KLAGE&&s.jsxs(s.Fragment,{children:[s.jsx(v,{sixteenPx:!0}),s.jsxs(Je,{children:[s.jsx(Q,{readOnly:e,name:"klageMedholdArsak",selectValues:k,className:e?w.selectReadOnly:w.select,label:d.formatMessage({id:"Klage.ResolveKlage.Cause"}),validate:[y]}),s.jsx(v,{sixteenPx:!0}),s.jsx(O,{name:"klageVurderingOmgjoer",validate:[y],isReadOnly:e,radios:[{value:R.GUNST_MEDHOLD_I_KLAGE,label:d.formatMessage({id:"Klage.Behandle.Omgjort"})},{value:R.UGUNST_MEDHOLD_I_KLAGE,label:d.formatMessage({id:"Klage.Behandle.Ugunst"})},{value:R.DELVIS_MEDHOLD_I_KLAGE,label:d.formatMessage({id:"Klage.Behandle.DelvisOmgjort"})}]})]})]}),s.jsx(v,{sixteenPx:!0}),s.jsx(Q,{readOnly:e,name:"klageHjemmel",selectValues:o,className:e?w.selectReadOnly:w.select,label:d.formatMessage({id:"Klage.ResolveKlage.Hjemmel"}),validate:[y]}),s.jsx(v,{sixteenPx:!0})]})},Ta="_fritekstTilBrevTextArea_n72am_1",Oa={fritekstTilBrevTextArea:Ta},De=({sprakkode:e,readOnly:a})=>s.jsx("div",{className:Oa.fritekstTilBrevTextArea,children:s.jsx($e,{name:"fritekstTilBrev",label:F().formatMessage({id:"FritekstKlageBrevTextField.Fritekst"}),validate:[y,qe],readOnly:a,maxLength:1e5,badges:[{type:"info",titleText:He(e)}],parse:t=>t.toString().replaceAll("‑","-").replaceAll("	"," ")})});De.defaultProps={readOnly:!0};const Ra="_previewLink_hcaux_1",ba={previewLink:Ra},Na=(e,a)=>{switch(a){case f.STADFESTE_YTELSESVEDTAK:return e?L.KLAGE_STADFESTET:L.KLAGE_OVERSENDT;case f.OPPHEVE_YTELSESVEDTAK:return L.KLAGE_HJEMSENDT;case f.HJEMSENDE_UTEN_Å_OPPHEVE:return L.KLAGE_HJEMSENDT;case f.MEDHOLD_I_KLAGE:return L.KLAGE_OMGJORING;default:return}},Da=(e,a)=>({fritekst:a||"",dokumentMal:Na(!1,e),erOpphevetKlage:e===f.OPPHEVE_YTELSESVEDTAK}),La=({previewCallback:e,fritekstTilBrev:a,klageVurdering:t})=>{const n=l=>{e(Da(t,a)),l.preventDefault()};return s.jsx("a",{href:"",onClick:l=>{n(l)},onKeyDown:l=>l.key==="Enter"?n(l):null,className:Te(ba.previewLink,"lenke lenke--frittstaende"),children:s.jsx(p,{id:"PreviewKlageLink.ForhandvisBrev"})})},Ma=(e,a)=>({kode:a,klageMedholdArsak:e.klageVurdering===f.MEDHOLD_I_KLAGE||e.klageVurdering===f.OPPHEVE_YTELSESVEDTAK?e.klageMedholdArsak:void 0,klageVurderingOmgjoer:e.klageVurdering===f.MEDHOLD_I_KLAGE?e.klageVurderingOmgjoer:void 0,klageHjemmel:e.klageHjemmel,fritekstTilBrev:e.fritekstTilBrev,begrunnelse:e.begrunnelse,klageVurdering:e.klageVurdering}),Le=({saveKlage:e,spinner:a,aksjonspunktCode:t,readOnly:n,handleSubmit:l})=>n?null:s.jsx(Ee,{size:"small",variant:"primary",loading:a,onClick:l(d=>e(Ma(d,t))),type:"button",children:s.jsx(p,{id:"Klage.ResolveKlage.TempSaveButton"})});Le.defaultProps={spinner:!1,readOnly:!1};const Ia="_confirmVilkarForm_13k5i_1",Ba={confirmVilkarForm:Ia},Ga=e=>({klageMedholdArsak:e.klageVurdering===f.MEDHOLD_I_KLAGE?e.klageMedholdArsak:void 0,klageVurderingOmgjoer:e.klageVurdering===f.MEDHOLD_I_KLAGE?e.klageVurderingOmgjoer:void 0,klageHjemmel:e.klageHjemmel,klageVurdering:e.klageVurdering,fritekstTilBrev:e.fritekstTilBrev,begrunnelse:e.begrunnelse,kode:E.BEHANDLE_KLAGE_NFP}),Ha=e=>({klageMedholdArsak:e?e.klageMedholdArsak:"",klageVurderingOmgjoer:e?e.klageVurderingOmgjoer:void 0,klageHjemmel:e?e.klageHjemmel:"",klageVurdering:e?e.klageVurdering:void 0,begrunnelse:e?e.begrunnelse:void 0,fritekstTilBrev:e?e.fritekstTilBrev:void 0}),Ua=({readOnly:e,klageVurdering:a,previewCallback:t,saveKlage:n,readOnlySubmitButton:l,sprakkode:d,alleAktuelleHjemler:k,alleKodeverk:o,submitCallback:i,formData:m,setFormData:g})=>{const u=F(),c=j.useMemo(()=>Ha(a.klageVurderingResultatNFP),[a]),x=Ve({defaultValues:m||c}),P=x.watch();return s.jsxs(he,{formMethods:x,onSubmit:N=>i(Ga(N)),setDataOnUnmount:g,children:[s.jsx(b,{size:"small",children:u.formatMessage({id:"Klage.ResolveKlage.Title"})}),s.jsx(v,{fourPx:!0}),s.jsx(ye,{isAksjonspunktOpen:!l,children:[s.jsx(p,{id:"Klage.ResolveKlage.HelpText"},E.BEHANDLE_KLAGE_NFP)]}),s.jsx(Sa,{readOnly:e,klageVurdering:P.klageVurdering,medholdReasons:o[S.KLAGE_MEDHOLD_ARSAK],alleHjemler:o[S.KLAGE_HJEMMEL],alleAktuelleHjemler:k}),s.jsxs("div",{className:Ba.confirmVilkarForm,children:[s.jsx(Fe,{readOnly:e,text:u.formatMessage({id:"BehandleKlageFormNfp.BegrunnelseForKlage"})}),s.jsx(v,{sixteenPx:!0}),s.jsx(De,{sprakkode:d,readOnly:e}),s.jsx(v,{sixteenPx:!0}),s.jsx(J,{children:s.jsxs(H,{spaceBetween:!0,children:[s.jsxs(A,{children:[s.jsx(Ae,{isReadOnly:e,isSubmittable:!l,isSubmitting:x.formState.isSubmitting,isDirty:x.formState.isDirty}),!e&&P.klageVurdering&&P.fritekstTilBrev&&P.fritekstTilBrev.length>2&&s.jsx(La,{previewCallback:t,fritekstTilBrev:P.fritekstTilBrev,klageVurdering:P.klageVurdering})]}),s.jsx(A,{children:s.jsx(Le,{saveKlage:n,handleSubmit:x.handleSubmit,readOnly:e,aksjonspunktCode:E.BEHANDLE_KLAGE_NFP})})]})})]})]})},Ca=ne(fa),Me=({behandling:e,klageVurdering:a,alleKodeverk:t,saveKlage:n,submitCallback:l,isReadOnly:d,previewCallback:k,readOnlySubmitButton:o,aksjonspunkter:i,formData:m,setFormData:g})=>s.jsxs(ie,{value:Ca,children:[a.klageVurderingResultatNK&&s.jsx(_a,{klageVurdering:a,alleKodeverk:t}),i.some(u=>u.definisjon===E.BEHANDLE_KLAGE_NFP)&&s.jsx(Ua,{sprakkode:e.sprakkode,klageVurdering:a,saveKlage:n,submitCallback:l,readOnly:d,previewCallback:k,readOnlySubmitButton:o,alleKodeverk:t,alleAktuelleHjemler:a.aktuelleHjemler?a.aktuelleHjemler:[],formData:m,setFormData:g})]});Me.__docgenInfo={description:"",methods:[],displayName:"Kt"};const $a=(e,a,t)=>n=>{const l={...n,behandlingUuid:t.uuid,fagsakYtelseType:a.fagsakYtelseType};return e(l).then(d=>xe(d))},qa=(e,a)=>t=>{const n={behandlingUuid:a.uuid,...t};return e(n)},wa=(e,a,t)=>n=>{const l=n.some(d=>d.kode===E.BEHANDLE_KLAGE_NFP&&d.klageVurdering===f.STADFESTE_YTELSESVEDTAK);return l&&a(!1),()=>{l?e(!0):t&&t("default","default")}},za=[T.KLAGE_VURDERING],W=({fagsak:e,setSkalOppdatereEtterBekreftelseAvAp:a,opneSokeside:t,oppdaterProsessStegOgFaktaPanelIUrl:n,aksjonspunktKoder:l,prosessPanelKode:d,prosessPanelMenyTekst:k,...o})=>{const[i,m]=j.useState(!1),g=Se(),u=a?wa(m,a,n):void 0,{startRequest:c}=ee.useRestApiRunner(T.PREVIEW_MESSAGE),x=j.useCallback($a(c,e,g.behandling),[g.behandling.versjon]),{startRequest:P}=ee.useRestApiRunner(T.SAVE_KLAGE_VURDERING),N=j.useCallback(qa(P,g.behandling),[g.behandling.versjon]);return _.jsx(Z,{...o,panelEndepunkter:za,aksjonspunktKoder:l,prosessPanelKode:d,prosessPanelMenyTekst:k,skalPanelVisesIMeny:()=>!0,lagringSideEffekter:u,renderPanel:X=>_.jsxs(_.Fragment,{children:[_.jsx(We,{visModal:i,lukkModal:()=>{m(!1),t&&t()}}),_.jsx(Me,{previewCallback:x,saveKlage:N,...X})]})})};try{W.displayName="VurderingFellesProsessStegInitPanel",W.__docgenInfo={description:"",displayName:"VurderingFellesProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!1,type:{name:"((skalHenteFagsak: boolean) => void)"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!1,type:{name:"(() => void)"}},oppdaterProsessStegOgFaktaPanelIUrl:{defaultValue:null,description:"",name:"oppdaterProsessStegOgFaktaPanelIUrl",required:!1,type:{name:"((punktnavn?: string, faktanavn?: string) => void) | undefined"}},aksjonspunktKoder:{defaultValue:null,description:"",name:"aksjonspunktKoder",required:!1,type:{name:"string[]"}},prosessPanelKode:{defaultValue:null,description:"",name:"prosessPanelKode",required:!0,type:{name:"enum",value:[{value:'"default"'},{value:'"inngangsvilkar"'},{value:'"behandle_innsyn"'},{value:'"beregning"'},{value:'"beregningsgrunnlag"'},{value:'"klage_nav_familie_og_pensjon"'},{value:'"klage_nav_klageinstans"'},{value:'"formkrav_klage_nav_klageinstans"'},{value:'"formkrav_klage_nav_familie_og_pensjon"'},{value:'"fortsattmedlemskap"'},{value:'"opplysningsplikt"'},{value:'"soeknadsfrist"'},{value:'"tilbakekreving"'},{value:'"foreldelse"'},{value:'"tilkjent_ytelse"'},{value:'"varsel"'},{value:'"vedtak"'},{value:'"uttak"'},{value:'"simulering"'},{value:'"resultat"'},{value:'"ankebehandling"'},{value:'"ankemerknader"'},{value:'"ankeresultat"'}]}},prosessPanelMenyTekst:{defaultValue:null,description:"",name:"prosessPanelMenyTekst",required:!0,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const Ya=[E.BEHANDLE_KLAGE_NFP],re=({fagsak:e,setSkalOppdatereEtterBekreftelseAvAp:a,opneSokeside:t,oppdaterProsessStegOgFaktaPanelIUrl:n,...l})=>_.jsx(W,{...l,fagsak:e,setSkalOppdatereEtterBekreftelseAvAp:a,opneSokeside:t,oppdaterProsessStegOgFaktaPanelIUrl:n,aksjonspunktKoder:Ya,prosessPanelKode:U.KLAGE_NAV_FAMILIE_OG_PENSJON,prosessPanelMenyTekst:F().formatMessage({id:"Behandlingspunkt.CheckKlageNFP"})});try{re.displayName="VurderingFamOgPensjonProsessStegInitPanel",re.__docgenInfo={description:"",displayName:"VurderingFamOgPensjonProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!0,type:{name:"(skalHenteFagsak: boolean) => void"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!0,type:{name:"() => void"}},oppdaterProsessStegOgFaktaPanelIUrl:{defaultValue:null,description:"",name:"oppdaterProsessStegOgFaktaPanelIUrl",required:!0,type:{name:"(punktnavn?: string | undefined, faktanavn?: string | undefined) => void"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const Ja=[E.VURDER_FORMKRAV_NK],Wa=[T.KLAGE_VURDERING],le=({alleBehandlinger:e,...a})=>{const t=F(),n=j.useMemo(()=>e.filter(l=>l.status===je.AVSLUTTET).filter(l=>(l.type!==Y.KLAGE||Pe(l.resultatType))&&l.type!==Y.ANKE),[e]);return _.jsx(Z,{...a,panelEndepunkter:Wa,aksjonspunktKoder:Ja,prosessPanelKode:U.FORMKRAV_KLAGE_NAV_KLAGEINSTANS,prosessPanelMenyTekst:t.formatMessage({id:"Behandlingspunkt.FormkravKlageKA"}),skalPanelVisesIMeny:()=>!0,renderPanel:l=>_.jsx(ue,{avsluttedeBehandlinger:n,...l})})};try{le.displayName="FormKravKlageInstansProsessStegInitPanel",le.__docgenInfo={description:"",displayName:"FormKravKlageInstansProsessStegInitPanel",props:{alleBehandlinger:{defaultValue:null,description:"",name:"alleBehandlinger",required:!0,type:{name:"{ uuid: string; type: string; status: string; opprettet: string; avsluttet?: string | undefined; resultatType?: string | undefined; }[]"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const Za=[E.BEHANDLE_KLAGE_NK],te=({fagsak:e,...a})=>_.jsx(W,{...a,aksjonspunktKoder:Za,fagsak:e,prosessPanelKode:U.KLAGE_NAV_KLAGEINSTANS,prosessPanelMenyTekst:F().formatMessage({id:"Behandlingspunkt.CheckKlageNK"})});try{te.displayName="VurderingKlageInstansProsessStegInitPanel",te.__docgenInfo={description:"",displayName:"VurderingKlageInstansProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}var Ie={exports:{}},B={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ke;function Xa(){if(Ke)return B;Ke=1;var e=de,a=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function k(o,i,m){var g,u={},c=null,x=null;m!==void 0&&(c=""+m),i.key!==void 0&&(c=""+i.key),i.ref!==void 0&&(x=i.ref);for(g in i)n.call(i,g)&&!d.hasOwnProperty(g)&&(u[g]=i[g]);if(o&&o.defaultProps)for(g in i=o.defaultProps,i)u[g]===void 0&&(u[g]=i[g]);return{$$typeof:a,type:o,key:c,ref:x,props:u,_owner:l.current}}return B.Fragment=t,B.jsx=k,B.jsxs=k,B}Ie.exports=Xa();var K=Ie.exports;const Qa="_mainButton_lcisw_1",er={mainButton:Qa},ar=({behandlingPaaVent:e,previewVedtakCallback:a,readOnly:t,lagreVedtak:n,isSubmitting:l})=>{const d=j.useCallback(k=>{k.preventDefault(),a()},[]);return K.jsx(J,{children:K.jsxs(H,{children:[!t&&K.jsx(A,{children:K.jsx(Ee,{variant:"primary",size:"small",className:er.mainButton,onClick:n,disabled:e||l,loading:l,type:"button",children:K.jsx(p,{id:"VedtakKlageForm.TilGodkjenning"})})}),K.jsx(A,{children:K.jsx("a",{href:"",onClick:d,onKeyDown:k=>k.key==="Enter"?d(k):null,className:Te("lenke lenke--frittstaende"),children:K.jsx(p,{id:"VedtakKlageForm.ForhandvisBrev"})})})]})})},rr={GUNST_MEDHOLD_I_KLAGE:"VedtakKlageForm.KlageOmgjortGunst",UGUNST_MEDHOLD_I_KLAGE:"VedtakKlageForm.KlageOmgjortUgunst",DELVIS_MEDHOLD_I_KLAGE:"VedtakKlageForm.KlageOmgjortDelvis"},lr=e=>()=>e({gjelderVedtak:!0}),tr=e=>{if(e){if(e.klageFormkravResultatKA&&e.klageVurderingResultatNK)return e.klageFormkravResultatKA.avvistArsaker;if(e.klageFormkravResultatNFP)return e.klageFormkravResultatNFP.avvistArsaker}return[]},sr=(e,a)=>{var t,n;const l=oe(a);if(e){if((t=e.klageVurderingResultatNK)!=null&&t.klageMedholdArsak)return l(e.klageVurderingResultatNK.klageMedholdArsak,S.KLAGE_MEDHOLD_ARSAK);if((n=e.klageVurderingResultatNFP)!=null&&n.klageMedholdArsak)return l(e.klageVurderingResultatNFP.klageMedholdArsak,S.KLAGE_MEDHOLD_ARSAK)}return null},nr=e=>{const a=e.klageVurderingResultatNK?e.klageVurderingResultatNK:e.klageVurderingResultatNFP;switch(a==null?void 0:a.klageVurdering){case f.AVVIS_KLAGE:return"VedtakKlageForm.KlageAvvist";case f.STADFESTE_YTELSESVEDTAK:return"VedtakKlageForm.KlageStadfestet";case f.OPPHEVE_YTELSESVEDTAK:return"VedtakKlageForm.YtelsesvedtakOpphevet";case f.HJEMSENDE_UTEN_Å_OPPHEVE:return"VedtakKlageForm.HjemmsendUtenOpphev";case f.MEDHOLD_I_KLAGE:return rr[(a==null?void 0:a.klageVurderingOmgjoer)||""];default:return"VedtakKlageForm.IkkeFastsatt"}},ir=({submitCallback:e,klageVurdering:a,behandlingsresultat:t,readOnly:n,aksjonspunkter:l,previewVedtakCallback:d,behandlingPaaVent:k,alleKodeverk:o})=>{const i=j.useMemo(()=>tr(a),[a]),m=j.useMemo(()=>sr(a,o),[a]),g=j.useMemo(()=>nr(a),[a]),u=a.klageVurderingResultatNK?a.klageVurderingResultatNK:a.klageVurderingResultatNFP,c=we(t.type),[x,P]=j.useState(!1),N=j.useCallback(()=>{P(!0);const C=l.filter(D=>D.status===ze.OPPRETTET).map(D=>D.definisjon).map(D=>({kode:Ye(D,E.FORESLA_VEDTAK,E.FORESLA_VEDTAK_MANUELT,E.VEDTAK_UTEN_TOTRINNSKONTROLL)}));e(C).then(()=>P(!1))},[l]),X=oe(o);return K.jsxs(K.Fragment,{children:[K.jsx(b,{size:"small",children:K.jsx(p,{id:"VedtakKlageForm.Header"})}),K.jsx(v,{twentyPx:!0}),K.jsx(V,{size:"small",children:K.jsx(p,{id:"VedtakKlageForm.Resultat"})}),g&&K.jsx(h,{size:"small",children:K.jsx(p,{id:g})}),K.jsx(v,{sixteenPx:!0}),t.type===me.KLAGE_AVVIST&&K.jsxs(K.Fragment,{children:[K.jsx(V,{size:"small",children:K.jsx(p,{id:"VedtakKlageForm.ArsakTilAvvisning"})}),i.map(C=>K.jsx(h,{size:"small",children:X(C,S.KLAGE_AVVIST_AARSAK)},C)),K.jsx(v,{sixteenPx:!0})]}),c&&K.jsxs(K.Fragment,{children:[K.jsx(V,{size:"small",children:K.jsx(p,{id:"VedtakKlageForm.ArsakTilOmgjoring"})}),m,K.jsx(v,{sixteenPx:!0})]}),t.type===me.KLAGE_YTELSESVEDTAK_OPPHEVET&&K.jsxs(K.Fragment,{children:[K.jsx(V,{size:"small",children:K.jsx(p,{id:"VedtakKlageForm.ArsakTilOppheving"})}),m,K.jsx(v,{sixteenPx:!0})]}),(u==null?void 0:u.klageVurdertAv)==="NFP"&&K.jsx(ar,{previewVedtakCallback:lr(d),readOnly:n,behandlingPaaVent:k,lagreVedtak:N,isSubmitting:x})]})},dr={"VedtakKlageForm.ArsakTilAvslag":"Årsak til avslag","VedtakKlageForm.ResultatOpprettholdVedtak":"Vedtaket er stadfestet","VedtakKlageForm.ResultatKlageMedhold":"Vedtaket er omgjort","VedtakKlageForm.Resultat":"Resultat av klage","VedtakKlageForm.ArsakTilAvvisning":"Årsak til avvisning","VedtakKlageForm.ArsakTilOmgjoring":"Årsak til omgjøring","VedtakKlageForm.ArsakTilOppheving":"Årsak til oppheving","VedtakKlageForm.EngangsstonadIkkeInnvilget":"Engangsstønad er avslått","VedtakKlageForm.ResultatKlageAvvist":"Klagen er avvist","VedtakKlageForm.ResultatKlageYtelsesvedtakOpphevet":"Vedtaket er opphevet","VedtakKlageForm.TilGodkjenning":"Til godkjenning","VedtakKlageForm.ForhandvisBrev":"Forhåndsvis vedtaksbrev","VedtakKlageForm.ArsakTilMedhold":"Årsak","VedtakKlageForm.KlageOmgjortGunst":"Vedtaket er omgjort til gunst","VedtakKlageForm.KlageOmgjortUgunst":"Vedtaket er omgjort til ugunst","VedtakKlageForm.KlageOmgjortDelvis":"Vedtaket er delvis omgjort til gunst","VedtakKlageForm.HjemmsendUtenOpphev":"Vedtaket er hjemsendt","VedtakKlageForm.IkkeFastsatt":"Ikke fastsatt","VedtakKlageForm.Header":"Resultat","VedtakKlageForm.KlageAvvist":"Avvist fordi klagen ikke oppfyller formkravene","VedtakKlageForm.KlageStadfestet":"Vedtaket er stadfestet","VedtakKlageForm.YtelsesvedtakOpphevet":"Vedtak er opphevet og hjemsendt"},or=ne(dr),Be=({behandling:e,klageVurdering:a,aksjonspunkter:t,submitCallback:n,previewVedtakCallback:l,isReadOnly:d,alleKodeverk:k})=>{if(!e.behandlingsresultat)throw new Error(`behandlingsresultat finnes ikke for behandling ${e.uuid}`);return K.jsx(ie,{value:or,children:K.jsx(ir,{behandlingsresultat:e.behandlingsresultat,behandlingPaaVent:e.behandlingPaaVent,klageVurdering:a,aksjonspunkter:t,submitCallback:n,previewVedtakCallback:l,readOnly:d,alleKodeverk:k})})};Be.__docgenInfo={description:"",methods:[],displayName:"Xr"};const gr=(e,a,t)=>n=>{const l={...n,behandlingUuid:t.uuid,fagsakYtelseType:a.fagsakYtelseType};return e(l).then(d=>xe(d))},ce=(e,a=[])=>{const t=a.some(l=>l.status===Ce.OPPRETTET);if(a.length===0||t)return G.IKKE_VURDERT;const n=e==null?void 0:e.type;return n===$.HENLAGT_KLAGE_TRUKKET||n===$.HENLAGT_FEILOPPRETTET?G.IKKE_VURDERT:n===$.KLAGE_AVVIST||n===$.KLAGE_YTELSESVEDTAK_OPPHEVET?G.IKKE_OPPFYLT:G.OPPFYLT},ur=(e,a)=>()=>(a(!1),()=>{e(!0)}),kr=[E.FORESLA_VEDTAK,E.FATTER_VEDTAK,E.FORESLA_VEDTAK_MANUELT,E.VEDTAK_UTEN_TOTRINNSKONTROLL],mr=[T.KLAGE_VURDERING],se=({fagsak:e,setSkalOppdatereEtterBekreftelseAvAp:a,opneSokeside:t,...n})=>{const l=F(),[d,k]=j.useState(!1),o=Se(),i=ur(k,a),{startRequest:m}=ee.useRestApiRunner(T.PREVIEW_MESSAGE),g=j.useCallback(gr(m,e,o.behandling),[o.behandling.versjon]),{aksjonspunkt:u}=n.behandling;return _.jsx(Z,{...n,panelEndepunkter:mr,aksjonspunktKoder:kr,prosessPanelKode:U.KLAGE_RESULTAT,prosessPanelMenyTekst:l.formatMessage({id:"Behandlingspunkt.ResultatKlage"}),skalPanelVisesIMeny:()=>!0,hentOverstyrtStatus:c=>ce(c.behandling.behandlingsresultat,u),lagringSideEffekter:i,hentSkalMarkeresSomAktiv:c=>ce(c.behandling.behandlingsresultat,u)!==G.IKKE_VURDERT,renderPanel:c=>_.jsxs(_.Fragment,{children:[_.jsx(Ze,{visModal:d,lukkModal:()=>{k(!1),t()},tekst:l.formatMessage({id:"FatterVedtakStatusModal.KlagenErFerdigbehandlet"})}),_.jsx(Be,{previewVedtakCallback:g,...c})]})})};try{se.displayName="KlageresultatProsessStegInitPanel",se.__docgenInfo={description:"",displayName:"KlageresultatProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; }>"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!0,type:{name:"(skalHenteFagsak: boolean) => void"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!0,type:{name:"() => void"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const fe=({behandling:e,fagsak:a,valgtProsessSteg:t,valgtFaktaSteg:n,oppdaterProsessStegOgFaktaPanelIUrl:l,opneSokeside:d,setSkalOppdatereEtterBekreftelseAvAp:k,alleBehandlinger:o})=>{const i=j.useCallback(u=>_.jsx(Xe,{...u}),[]),m=j.useMemo(()=>o.filter(u=>!u.behandlingHenlagt).map(u=>{var c;return{uuid:u.uuid,type:u.type,status:u.status,opprettet:u.opprettet,avsluttet:u.avsluttet,resultatType:(c=u.behandlingsresultat)==null?void 0:c.type}}),[o]),g=j.useCallback(u=>_.jsxs(_.Fragment,{children:[_.jsx(ae,{...u,alleBehandlinger:m}),_.jsx(re,{...u,fagsak:a,opneSokeside:d,setSkalOppdatereEtterBekreftelseAvAp:k,oppdaterProsessStegOgFaktaPanelIUrl:l}),_.jsx(le,{...u,alleBehandlinger:m}),_.jsx(te,{...u,fagsak:a}),_.jsx(se,{...u,fagsak:a,opneSokeside:d,setSkalOppdatereEtterBekreftelseAvAp:k})]}),[m,a,d,k,l]);return _.jsx(Qe,{behandling:e,valgtProsessSteg:t,valgtFaktaSteg:n,oppdaterProsessStegOgFaktaPanelIUrl:l,hentFaktaPaneler:i,hentProsessPaneler:g})};try{fe.displayName="KlagePaneler",fe.__docgenInfo={description:"",displayName:"KlagePaneler",props:{behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},oppdaterProsessStegOgFaktaPanelIUrl:{defaultValue:null,description:"",name:"oppdaterProsessStegOgFaktaPanelIUrl",required:!0,type:{name:"(punktnavn?: string | undefined, faktanavn?: string | undefined) => void"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!0,type:{name:"() => void"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!0,type:{name:"(skalHenteFagsak: boolean) => void"}},alleBehandlinger:{defaultValue:null,description:"",name:"alleBehandlinger",required:!0,type:{name:"BehandlingAppKontekst[]"}}}}}catch{}export{fe as default};
//# sourceMappingURL=KlagePaneler-75fb3f8d.js.map
