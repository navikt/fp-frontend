import{a8 as bi,ak as Nk,al as Ek,am as yk,u as xn,t as Ve,P as Qe,v as je,w as m,d as q,h as qe,k as Ge,m as z,U as A,X as Ys,a1 as Ye,an as Ce,V as Re,J as I,B as ao,_ as $,N as Pe,j as _e,x as ie,e as Zn,aa as Sk,a4 as lo,C as Sr,a as me,E as se,o as S,A as p,D as Us,O as sn,ab as $e,F as hi,a7 as Pk,T as C,Z as hr,y as Za,a3 as oo,p as Hs,n as Zs,M as x,L as te,ao as Js,W as kt,ap as Le,a0 as fe,l as Ja,Q as go,ae as uo,aq as ko,I as ri,c as Ii,ar as _k,as as mo,at as Wa,Y as co,i as Ws,au as Mk,av as Rk,aw as Gr,S as Ok}from"./index.es-53b354a9.js";import{bG as le,bH as Dk,l as fr,$ as ae,aj as Pr,a2 as Ke,a3 as Jn,aM as Bk,bI as Fk,t as En,bJ as ti,aB as Ai,n as He,F as Ze,T as Ae,r as Q,j as Wn,b as Bn,R as fo,P as Xe,Z as fn,aZ as ii,a6 as mt,a5 as po,w as Ne,bK as Ir,k as pn,I as jn,h as jo,i as vo,y as Qs,a1 as Dt,al as bo,bL as br,c as ln,u as Se,bM as $k,bN as vn,e as qs,bO as Lk,aI as xi,bP as Vk,bQ as Qa,az as Ti,bR as Gk,O as Ni,aw as _r,bS as Ck,ak as Qn,bT as be,b7 as zk,ax as ho,ay as Xs,a as Io,bU as st,bV as wk,a9 as ea,aq as xe,bW as Kk,bX as Yk,bY as Uk,a_ as Hk,M as Zk,b3 as Jk,bZ as Rn,an as Wk,ag as Ao,_ as Qk}from"./AppIndex.stories-91c440ad.js";import{r as b,R as J}from"./index-2ef1385a.js";import{F as Mr}from"./VergeFaktaInitPanel-672bf9b4.js";import{v as lr,E as dn,A as D,s as $n,I as ye,R as ps,q as mn,N as qk,B as W,H as na,M as Ar,Q as ra,_ as qa,k as xo,a as To,n as No,p as Xk,y as Eo,i as em,e as nm,z as yo,C as pe,J as Nn,x as Xa,w as rm,g as Pn,c as el,X as tm}from"./index.es-74e3f685.js";import{v as im}from"./v4-a960c1f4.js";import{x as sm,e as Fe,m as Ei,a as yi,_ as am,y as lm,b as dm,k as om,g as gm}from"./SilhouetteFill-e925668b.js";import{D as dt,s as um}from"./index.es-e68eea64.js";import{b as km,K as ta,J as Rr,n as So}from"./index.es-d190e5e6.js";import{s as Po,O as mm}from"./index.es-31439dfc.js";import{P as ia}from"./ProsessDefaultInitPanel-cbe65cb7.js";const sa=b.createContext({variant:"default",headingSize:"small",size:"medium",openItems:[]});var cm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const aa=b.createContext(null),fm=b.forwardRef((e,n)=>{var{children:r,className:t,open:i,defaultOpen:s=!1,onClick:l,id:d}=e,o=cm(e,["children","className","open","defaultOpen","onClick","id"]);const[u,k]=b.useState(s),f=b.useContext(sa),[v,h]=b.useState(s),T=b.useRef(!(i||s)),E=()=>{if(i===void 0){const P=!v;h(P),k(P)}else k(!i);T.current=!0};return J.createElement("div",Object.assign({className:bi("navds-accordion__item",t,{"navds-accordion__item--open":i??u,"navds-accordion__item--neutral":(f==null?void 0:f.variant)==="neutral","navds-accordion__item--no-animation":!T.current}),ref:n},o),J.createElement(aa.Provider,{value:{open:i??u,toggleOpen:E}},r))}),pm=fm;var jm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const vm=b.forwardRef((e,n)=>{var{children:r,className:t}=e,i=jm(e,["children","className"]);const s=b.useContext(aa);return s===null?(console.error("<Accordion.Content> has to be used within an <Accordion.Item>"),null):J.createElement(Nk,Object.assign({},i,{as:"div",ref:n,className:bi("navds-accordion__content",{"navds-accordion__content--closed":!s.open},t)}),r)}),bm=vm;var hm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Im=b.forwardRef((e,n)=>{var r,{children:t,className:i,onClick:s}=e,l=hm(e,["children","className","onClick"]);const d=b.useContext(aa),o=b.useContext(sa);return o===null||d===null?(console.error("<Accordion.Header> has to be used within an <Accordion.Item>, which in turn must be within an <Accordion>"),null):J.createElement("button",Object.assign({ref:n},l,{className:bi("navds-accordion__header",i),onClick:u=>{d.toggleOpen(),s&&s(u)},"aria-expanded":d.open,type:"button"}),J.createElement("div",{className:"navds-accordion__icon-wrapper"},J.createElement(Ek,{className:"navds-accordion__header-chevron",title:"Vis mer","aria-hidden":!0})),J.createElement(yk,{size:(r=o.headingSize)!==null&&r!==void 0?r:"small",as:"span",className:"navds-accordion__header-content"},t))}),Am=Im;var xm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Si=b.forwardRef((e,n)=>{var{className:r,variant:t="default",headingSize:i="small",size:s="medium",indent:l=!0}=e,d=xm(e,["className","variant","headingSize","size","indent"]);return J.createElement(sa.Provider,{value:{variant:t,headingSize:i,size:s}},J.createElement("div",Object.assign({},d,{className:bi("navds-accordion",r,`navds-accordion--${s}`,{"navds-accordion--indent":l}),ref:n})))});Si.Header=Am;Si.Content=bm;Si.Item=pm;const Be=Si;var Tm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Nm=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Tm(e,["title","titleId"]);let s=xn();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.545 2.404a.75.75 0 0 1 .505-.152.757.757 0 0 1 .05-.002H19a.75.75 0 0 1 .75.75v18a.75.75 0 0 1-1.5 0V3.75H10.6l5.597 1.526A.75.75 0 0 1 16.75 6v15a.75.75 0 0 1-1.5 0V6.573l-9.5-2.591V21a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .295-.596ZM12.75 11.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z",fill:"currentColor"}))}),Em=Nm;var ym=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Sm=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=ym(e,["title","titleId"]);let s=xn();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.311 4.619a8.253 8.253 0 0 0 2.051 15.469v-.326c0-1.26-.985-2.25-2.414-2.25-.808 0-1.546-.197-2.079-.718-.535-.524-.733-1.249-.733-2.024 0-1.203.638-2.164 1.492-2.799.845-.629 1.942-.974 3.008-.974.736 0 1.381.187 1.899.342l.04.012c.534.16.888.267 1.225.267.003 0 .008 0 .02-.005a.268.268 0 0 0 .065-.038.976.976 0 0 0 .23-.281c.17-.29.27-.669.27-.965 0-.013-.014-.124-.191-.332a3.45 3.45 0 0 0-.713-.599 5.375 5.375 0 0 0-.876-.467 3.096 3.096 0 0 0-.307-.11c-.02.044-.044.1-.07.169-.031.08-.06.163-.093.257v.001h-.001c-.032.09-.067.192-.105.288-.061.16-.176.444-.383.65a.868.868 0 0 1-.828.242.964.964 0 0 1-.52-.351 2.938 2.938 0 0 1-.288-.497l-.023-.046a3.321 3.321 0 0 0-.144-.269.428.428 0 0 0-.13.05.903.903 0 0 0-.222.208 4.357 4.357 0 0 0-.054.066 4.055 4.055 0 0 1-.319.365 1.268 1.268 0 0 1-.888.376c-.34 0-.735-.074-1.076-.32-.36-.26-.577-.652-.644-1.116-.079-.548.155-1.12.403-1.559A6.565 6.565 0 0 1 6.97 5.97c.172-.172.355-.33.513-.467l.101-.087c.189-.165.349-.311.493-.48a2.58 2.58 0 0 0 .234-.317Zm1.86-.665c-.21.882-.548 1.484-.956 1.96a6.14 6.14 0 0 1-.646.633l-.122.105c-.155.135-.287.249-.417.378-.331.332-.62.705-.811 1.043a2.175 2.175 0 0 0-.193.43.786.786 0 0 0-.03.134.221.221 0 0 0-.001.043.3.3 0 0 0 .029.104c.004.007.006.008.007.009.005.003.032.02.095.03.02-.022.039-.046.065-.079l.152-.187c.135-.16.33-.37.61-.535.29-.17.636-.272 1.047-.272.453 0 .758.264.927.461.064-.14.144-.29.245-.424.17-.225.48-.505.952-.505.331 0 .722.125 1.053.262.36.149.757.356 1.13.601.368.243.74.54 1.027.878.277.325.552.774.552 1.306 0 .57-.175 1.21-.477 1.724-.286.486-.817 1.065-1.61 1.065-.566 0-1.123-.169-1.581-.308l-.115-.034c-.517-.156-.973-.28-1.467-.28-.762 0-1.54.253-2.113.679-.565.42-.887.97-.887 1.595 0 .537.135.808.283.952.15.147.443.29 1.03.29 2.18 0 3.913 1.588 3.913 3.75v.487l.138.001a8.22 8.22 0 0 0 3.416-.738.426.426 0 0 0 .058-.149c.015-.084.02-.236-.009-.63v-.006l-.01-.113c-.01-.135-.027-.327-.027-.5 0-.754.396-1.3.892-1.856.108-.124.184-.216.237-.287-.075-.048-.162-.1-.262-.161l-.003-.003a16.024 16.024 0 0 1-.45-.28c-.308-.203-.667-.464-.954-.79-.29-.332-.55-.782-.55-1.345 0-.624.28-1.216.66-1.645.376-.424.946-.793 1.613-.793.845 0 1.397.465 1.691.713.037.031.07.06.1.082l.007.006.169.138c.207.168.365.297.49.394.209-.139.56-.337 1.024-.337h.158a8.25 8.25 0 0 0-10.08-7.996Zm9.952 9.496a8.249 8.249 0 0 1-3.164 5.144l-.015-.181c-.009-.108-.016-.192-.016-.299 0-.158.047-.338.513-.86l.003-.003c.44-.5.726-.897.726-1.469 0-.372-.23-.618-.322-.71a2.508 2.508 0 0 0-.377-.296c-.119-.079-.253-.16-.38-.238l-.018-.011a14.821 14.821 0 0 1-.408-.255c-.274-.18-.498-.353-.649-.525-.147-.168-.178-.28-.178-.355 0-.185.094-.437.283-.65.192-.217.384-.288.49-.288.274 0 .403.104.711.353l.144.115.157.128c.261.213.473.385.634.507.097.072.198.145.298.202.071.041.262.148.506.148a.95.95 0 0 0 .38-.082c.083-.036.154-.08.202-.11l.132-.092.006-.005.098-.069c.131-.089.184-.099.213-.099h.03ZM2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm6.53-2.821a.03.03 0 0 0-.004-.005l.001.002.004.003Z",fill:"currentColor"}))}),Pm=Sm;var _m=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Mm=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=_m(e,["title","titleId"]);let s=xn();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 3.25a.25.25 0 0 1 .25.25v4c0 .69.56 1.25 1.25 1.25h4a.25.25 0 0 1 .25.25v10.5c0 .69-.56 1.25-1.25 1.25h-11c-.69 0-1.25-.56-1.25-1.25v-15c0-.69.56-1.25 1.25-1.25H13Zm2.177.866a.25.25 0 0 0-.427.177V7c0 .138.112.25.25.25h2.707a.25.25 0 0 0 .177-.427l-2.707-2.707Z",fill:"currentColor"}))}),_o=Mm;var Rm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Om=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Rm(e,["title","titleId"]);let s=xn();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.525 2.167c-.754-.12-1.61.093-2.525.826-.914-.732-1.768-.947-2.522-.829-.835.132-1.354.65-1.503.8l-.005.006-.006.006c-.15.149-.669.667-.8 1.502-.141.898.19 1.937 1.306 3.052l3 3a.75.75 0 0 0 1.06 0l3-3c1.116-1.116 1.445-2.158 1.303-3.055-.133-.836-.651-1.354-.797-1.5l-.006-.005-.005-.006c-.146-.146-.664-.664-1.5-.797ZM9.03 4.03c.113-.112.341-.33.682-.384.289-.046.873 0 1.758.884a.75.75 0 0 0 1.06 0c.884-.884 1.47-.928 1.76-.881.343.054.572.273.68.381.107.108.327.337.381.68.046.29.003.876-.881 1.76L12 8.94 9.53 6.47C8.645 5.584 8.6 5 8.646 4.712c.053-.34.272-.57.384-.682ZM21.75 15.22c0-1.797-1.918-2.943-3.5-2.092l-2.633 1.416a2.477 2.477 0 0 0-.668-1.513c-.466-.49-1.138-.78-1.949-.78h-3c-.095 0-.259-.045-.535-.178-.105-.05-.208-.104-.321-.164l-.084-.044a6.302 6.302 0 0 0-.456-.22c-.563-.238-1.386-.394-2.604-.394-1.754 0-2.753.755-3.268 1.614a3.467 3.467 0 0 0-.482 1.614V14.5L3 14.5h-.75V19c0 .323.207.61.513.712l3 1A.75.75 0 0 0 6 20.75h9.298a2.75 2.75 0 0 0 1.718-.603l3.843-3.073c.563-.451.891-1.134.891-1.855ZM13 17.25c.518 0 .98-.118 1.366-.331l4.595-2.47a.875.875 0 0 1 .96 1.453l-3.842 3.074a1.25 1.25 0 0 1-.78.274H6.121l-2.372-.79v-3.958l.003-.045a1.968 1.968 0 0 1 .265-.82c.235-.392.736-.887 1.982-.887 1.11 0 1.711.145 2.02.276.097.04.207.096.346.168l.073.038c.114.06.245.129.375.192.303.146.729.326 1.186.326h3c.439 0 .705.148.863.314a.992.992 0 0 1 .262.686c0 .263-.094.51-.262.686-.158.166-.424.314-.863.314h-3a.75.75 0 0 0 0 1.5h3Z",fill:"currentColor"}))}),Cr=Om;var Dm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Bm=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Dm(e,["title","titleId"]);let s=xn();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.998 6.75a1.248 1.248 0 1 0 0 2.495 1.248 1.248 0 0 0 0-2.495ZM5.25 7.998a2.748 2.748 0 1 1 5.495 0 2.748 2.748 0 0 1-5.495 0Zm.22 10.532a.75.75 0 0 1 0-1.06l12-12a.75.75 0 1 1 1.06 1.06l-12 12a.75.75 0 0 1-1.06 0Zm9.28-2.532a1.248 1.248 0 1 1 2.495 0 1.248 1.248 0 0 1-2.495 0Zm1.248-2.748a2.748 2.748 0 1 0 0 5.495 2.748 2.748 0 0 0 0-5.495Z",fill:"currentColor"}))}),Fm=Bm;var $m=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Lm=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=$m(e,["title","titleId"]);let s=xn();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.75a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5ZM8.75 5.5a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0Zm-1 7.5c0-1.987 1.912-3.75 4.25-3.75s4.25 1.763 4.25 3.75v8a.75.75 0 0 1-1.5 0v-8c0-1.013-1.088-2.25-2.75-2.25S9.25 11.987 9.25 13v1.75H8.5c-.793 0-1.32.287-1.664.719-.364.454-.586 1.145-.586 2.031 0 .886.222 1.577.586 2.032.345.431.871.718 1.664.718a.75.75 0 0 1 0 1.5c-1.207 0-2.18-.463-2.836-1.282-.636-.795-.914-1.854-.914-2.968 0-1.114.278-2.173.914-2.969.513-.64 1.222-1.064 2.086-1.217V13Zm2.634 3.116a1.25 1.25 0 0 0-1.768 1.768l1 1 .884.884.884-.884 1-1a1.25 1.25 0 0 0-1.768-1.768l-.116.116-.116-.116Z",fill:"currentColor"}))}),Vm=Lm;var Gm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Cm=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Gm(e,["title","titleId"]);let s=xn();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.116 2.823a1.25 1.25 0 0 1 1.768 0l3.793 3.793a1.25 1.25 0 0 1 0 1.768L10.06 10 14 13.94l1.616-1.617a1.25 1.25 0 0 1 1.768 0l3.793 3.793a1.25 1.25 0 0 1 0 1.768l-2.781 2.78a2.606 2.606 0 0 1-2.811.578A23.025 23.025 0 0 1 2.758 8.415a2.606 2.606 0 0 1 .577-2.81l2.781-2.782Z",fill:"currentColor"}))}),Mo=Cm;var zm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const wm=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=zm(e,["title","titleId"]);let s=xn();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 3.75c-.14 0-.25.112-.25.249V9c0 1.15.23 1.956.546 2.526.315.567.738.94 1.193 1.193.94.522 2.01.531 2.511.531.5 0 1.572-.009 2.51-.53a3.008 3.008 0 0 0 1.194-1.194c.317-.57.546-1.376.546-2.526V3.999A.249.249 0 0 0 14 3.75h-2a.75.75 0 0 1 0-1.5h2c.965 0 1.75.781 1.75 1.749V9c0 1.35-.27 2.419-.735 3.255a4.506 4.506 0 0 1-1.776 1.776c-.883.49-1.819.646-2.489.696V19.5a.75.75 0 0 0 1.5 0V19c0-1.288.886-2.37 2.082-2.668a2.751 2.751 0 1 1 .07 1.57A1.25 1.25 0 0 0 13.75 19v.5a2.25 2.25 0 0 1-4.5 0v-4.773c-.67-.05-1.606-.206-2.49-.696a4.507 4.507 0 0 1-1.775-1.776C4.521 11.419 4.25 10.35 4.25 9V3.999c0-.968.785-1.749 1.75-1.749h2a.75.75 0 0 1 0 1.5H6ZM15.75 17a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0Z",fill:"currentColor"}))}),Km=wm;var Ym=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Um=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Ym(e,["title","titleId"]);let s=xn();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 4.75c-.69 0-1.25.56-1.25 1.25v.25h6.5V6c0-.69-.56-1.25-1.25-1.25h-4Zm6.75 1.5V6A2.75 2.75 0 0 0 14 3.25h-4A2.75 2.75 0 0 0 7.25 6v.25H4.5a.75.75 0 0 0 0 1.5h.805l.876 11.384a1.75 1.75 0 0 0 1.745 1.616h8.148a1.75 1.75 0 0 0 1.745-1.616l.875-11.384h.806a.75.75 0 0 0 0-1.5h-2.75Zm-6 4.25a.75.75 0 0 0-1.5 0v6a.75.75 0 0 0 1.5 0v-6ZM14 9.75a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 .75-.75Z",fill:"currentColor"}))}),Hm=Um;var Zm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Jm=b.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Zm(e,["title","titleId"]);let s=xn();return s=r?t||"title-"+s:void 0,b.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?b.createElement("title",{id:s},r):null,b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.67 2.665a.75.75 0 0 0-.867-.389L4.9 5.25H4A1.75 1.75 0 0 0 2.25 7v11c0 .966.784 1.75 1.75 1.75h15A1.75 1.75 0 0 0 20.75 18v-2.418c.591-.281 1-.884 1-1.582v-3c0-.698-.409-1.3-1-1.582V7A1.75 1.75 0 0 0 19 5.25h-1.037l-1.292-2.585Zm-.384 2.585-.682-1.365L10.6 5.25h5.687ZM3.75 7A.25.25 0 0 1 4 6.75h15a.25.25 0 0 1 .25.25v2.25h-3.897V10v-.75h-.02a1.944 1.944 0 0 0-.138.007 3.52 3.52 0 0 0-1.37.393 2.856 2.856 0 0 0-1.093 1.006c-.305.486-.482 1.097-.482 1.844 0 .747.177 1.358.482 1.844.304.483.706.8 1.093 1.006a3.518 3.518 0 0 0 1.508.4H15.352v-.749.749h3.898V18a.25.25 0 0 1-.25.25H4a.25.25 0 0 1-.25-.25V7Zm11.603 3.75H20a.25.25 0 0 1 .25.25v3a.25.25 0 0 1-.25.25h-4.647a1.985 1.985 0 0 1-.237-.027 2.023 2.023 0 0 1-.588-.198 1.356 1.356 0 0 1-.525-.478c-.136-.218-.253-.544-.253-1.047 0-.503.117-.83.253-1.047.138-.22.323-.371.525-.478a2.023 2.023 0 0 1 .825-.225Zm-.603 1.75a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 0 1.5h-.01a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))}),zr=Jm;var Ro={exports:{}},wr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nl;function Wm(){if(nl)return wr;nl=1;var e=J,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,f={},v=null,h=null;u!==void 0&&(v=""+u),o.key!==void 0&&(v=""+o.key),o.ref!==void 0&&(h=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(f[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)f[k]===void 0&&(f[k]=o[k]);return{$$typeof:n,type:d,key:v,ref:h,props:f,_owner:i.current}}return wr.Fragment=r,wr.jsx=l,wr.jsxs=l,wr}Ro.exports=Wm();var G=Ro.exports;const Qm=({headerColumnContent:e})=>G.jsx(qe,{headerColumnContent:e,noHover:!0,children:G.jsxs(Ge,{children:[G.jsx(z,{children:G.jsx(A,{size:"small",children:G.jsx(m,{id:"PersonArbeidsforholdTable.IngenArbeidsforholdRegistrert"})})}),G.jsx(z,{}),G.jsx(z,{}),G.jsx(z,{}),G.jsx(z,{}),G.jsx(z,{})]})}),qm="_image_awjuc_1",Xm={image:qm},rl=[G.jsx(m,{id:"PersonArbeidsforholdTable.Arbeidsforhold",values:{br:G.jsx("br",{})}},1),G.jsx(m,{id:"PersonArbeidsforholdTable.Periode",values:{br:G.jsx("br",{})}},2),G.jsx(m,{id:"PersonArbeidsforholdTable.Kilde",values:{br:G.jsx("br",{})}},3),G.jsx(m,{id:"PersonArbeidsforholdTable.Stillingsprosent",values:{br:G.jsx("br",{})}},4),G.jsx(m,{id:"PersonArbeidsforholdTable.MottattDato",values:{br:G.jsx("br",{})}},5),G.jsx("div",{},6)],ec=(e,n)=>e.saksbehandlersVurdering===le.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?n.formatMessage({id:"PersonArbeidsforholdTable.Inntektsmelding"}):e.saksbehandlersVurdering===le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER?n.formatMessage({id:"PersonArbeidsforholdTable.Saksbehandler"}):n.formatMessage({id:"PersonArbeidsforholdTable.AaRegisteret"}),si=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent&&(!n.internArbeidsforholdId||n.internArbeidsforholdId===e.internArbeidsforholdId),nc=e=>e?`...${e.substring(e.length-4,e.length)}`:"",rc=(e,n,r)=>{const t=r[e.arbeidsgiverIdent],i=t==null?void 0:t.navn;return e.saksbehandlersVurdering===le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER?i:n.filter(s=>s.arbeidsgiverIdent===e.arbeidsgiverIdent).length>1?`${i}(${t.identifikator})${nc(e.eksternArbeidsforholdId)}`:`${i}(${t.identifikator})`},tc=(e,n)=>{const r=n[e.arbeidsgiverIdent];return`${e.eksternArbeidsforholdId}${e.arbeidsgiverIdent}${r.identifikator}`},ic=({alleArbeidsforhold:e,selectedId:n,selectArbeidsforholdCallback:r,arbeidsgiverOpplysningerPerId:t,inntektsmeldinger:i})=>{const s=q();return e.length===0?G.jsx(Qm,{headerColumnContent:rl}):G.jsx(qe,{headerColumnContent:rl,children:e&&e.map(l=>{var d;const o=l.stillingsprosent!==void 0&&l.stillingsprosent!==null?`${l.stillingsprosent.toFixed(2)} %`:"",u=rc(l,e,t),k=(d=i.find(f=>si(l,f)))==null?void 0:d.motattDato;return G.jsxs(Ge,{model:l,onMouseDown:r,onKeyDown:r,isSelected:l.arbeidsgiverIdent===n,children:[G.jsx(z,{children:G.jsx(A,{size:"small",children:Ys(u)})}),G.jsx(z,{children:G.jsx(A,{size:"small",children:G.jsx(Ye,{dateStringFom:l.fom,dateStringTom:l.tom!==Ce?l.tom:void 0})})}),G.jsx(z,{children:G.jsx(A,{size:"small",children:ec(l,s)})}),G.jsx(z,{children:G.jsx(A,{size:"small",children:o})}),G.jsx(z,{children:k&&G.jsx(A,{size:"small",children:G.jsx(Re,{dateString:k})})}),G.jsx(z,{children:(l.saksbehandlersVurdering===le.BRUK||l.saksbehandlersVurdering===le.FORTSETT_UTEN_INNTEKTSMELDING)&&G.jsx(Dk,{className:Xm.image,title:s.formatMessage({id:"PersonArbeidsforholdTable.ErIBruk"})})})]},tc(l,t))})})},sc=({arbeidsforhold:e})=>e.permisjonOgMangel?G.jsxs(G.Fragment,{children:[G.jsx(I,{sixteenPx:!0}),G.jsx($,{size:"small",children:G.jsx(m,{id:"PermisjonPeriode.Permisjon"})}),G.jsx(A,{size:"small",children:G.jsx(Ye,{dateStringFom:e.permisjonOgMangel.permisjonFom,dateStringTom:e.permisjonOgMangel.permisjonTom?e.permisjonOgMangel.permisjonTom:""})}),G.jsx(I,{sixteenPx:!0})]}):null;var js=(e=>(e.BRUK_PERMISJON="BRUK_PERMISJON",e.IKKE_BRUK_PERMISJON="IKKE_BRUK_PERMISJON",e))(js||{});const ac=e=>e.saksbehandlersVurdering===le.BRUK_MED_OVERSTYRT_PERIODE||e.saksbehandlersVurdering===le.BRUK_MED_OVERSTYRT_PERIODE?e.tom:void 0,lc=e=>e.permisjonOgMangel?"ArbeidsforholdDetail.ArbeidsforholdErAktivtOgHarPermisjonMenSoekerErIkkePermisjon":e.saksbehandlersVurdering===le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER?"ArbeidsforholdDetail.OppdaterArbeidsforhold":"ArbeidsforholdDetail.ArbeidsforholdErAktivt",dc=({valgtArbeidsforhold:e})=>{var n,r;const t=e.saksbehandlersVurdering===le.BRUK,i=e.saksbehandlersVurdering===le.FORTSETT_UTEN_INNTEKTSMELDING,s=e.saksbehandlersVurdering===le.BRUK_MED_OVERSTYRT_PERIODE,l=e.saksbehandlersVurdering===le.IKKE_OPPRETT_BASERT_PÅ_INNTEKTSMELDING,d=e.saksbehandlersVurdering===le.OPPRETT_BASERT_PÅ_INNTEKTSMELDING,o=e.saksbehandlersVurdering===le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER,u=((n=e.permisjonOgMangel)==null?void 0:n.permisjonStatus)===js.BRUK_PERMISJON,k=((r=e.permisjonOgMangel)==null?void 0:r.permisjonStatus)===js.IKKE_BRUK_PERMISJON,f=ac(e);return G.jsxs(G.Fragment,{children:[G.jsx(I,{thirtyTwoPx:!0}),G.jsxs(ao,{children:[G.jsx(je,{size:"small",children:G.jsx(m,{id:"ArbeidsforholdDetail.Header"})}),G.jsx(sc,{arbeidsforhold:e}),s&&G.jsxs(G.Fragment,{children:[G.jsx(A,{size:"small",children:G.jsx(m,{id:"ArbeidsforholdDetail.ArbeidsforholdetErIkkeAktivt"})}),G.jsx(A,{size:"small",children:G.jsx(m,{id:"ArbeidsforholdDetail.ArbeidsforholdetAktivTomDato"})}),G.jsxs(A,{size:"small",children:[f&&G.jsx(Re,{dateString:f}),!f&&"-"]})]}),t&&u&&G.jsx(A,{size:"small",children:G.jsx(m,{id:"ArbeidsforholdDetail.SokerErIPermisjon"})}),d&&G.jsx(A,{size:"small",children:G.jsx(m,{id:"ArbeidsforholdDetail.OppdatertGittIm"})}),(o||(t||i)&&(!e.permisjonOgMangel||k))&&G.jsxs(G.Fragment,{children:[G.jsx(A,{size:"small",children:G.jsx(m,{id:lc(e)})}),G.jsx(I,{sixteenPx:!0}),i&&G.jsx(A,{size:"small",children:G.jsx(m,{id:"ArbeidsforholdDetail.BenyttAInntektIBeregningsgrunnlag"})}),!i&&!o&&G.jsx(A,{size:"small",children:G.jsx(m,{id:"ArbeidsforholdDetail.AvslaYtelseManglendeOpplysninger"})})]}),l&&G.jsx(A,{size:"small",children:G.jsx(m,{id:l?"ArbeidsforholdDetail.FjernArbeidsforholdet":"ArbeidsforholdDetail.IMIkkeRelevant"})}),G.jsx(I,{sixteenPx:!0}),G.jsx($,{size:"small",children:G.jsx(m,{id:"ArbeidsforholdDetail.Begrunnelse"})}),G.jsx(A,{size:"small",children:e.begrunnelse})]})]})},tl=(e,n)=>n.some(r=>si(e,r)),oc=(e,n)=>(r,t)=>{var i,s;const l=e[r.arbeidsgiverIdent],d=e[t.arbeidsgiverIdent];if(l&&d){const k=l.navn.localeCompare(d.navn);if(k!==0)return k}const o=tl(r,n),u=tl(t,n);if(o&&u){const k=(i=n.find(v=>si(r,v)))==null?void 0:i.motattDato,f=(s=n.find(v=>si(t,v)))==null?void 0:s.motattDato;return fr(f,Pe).diff(fr(k,Pe))}return o?-1:u?1:r.arbeidsgiverIdent.localeCompare(t.arbeidsgiverIdent)},gc=({arbeidOgInntekt:e,arbeidsgiverOpplysningerPerId:n})=>{const[r,t]=b.useState(),i=b.useCallback((o,u,k)=>{const f=!!(k!=null&&k.saksbehandlersVurdering);t(f?k:void 0)},[t]),{arbeidsforhold:s,inntektsmeldinger:l}=e,d=b.useMemo(()=>s.slice().sort(oc(n,l)),[n]);return G.jsxs(G.Fragment,{children:[G.jsx(je,{size:"small",children:G.jsx(m,{id:"ArbeidsforholdInfoPanel.ArbeidsforholdHeader"})}),G.jsx(ic,{selectedId:r==null?void 0:r.arbeidsgiverIdent,alleArbeidsforhold:d,selectArbeidsforholdCallback:i,arbeidsgiverOpplysningerPerId:n,inntektsmeldinger:l}),r&&G.jsx(dc,{valgtArbeidsforhold:r})]})},uc={"ArbeidsforholdInfoPanel.ArbeidsforholdHeader":"Arbeidsforhold som er aktive ved permisjonsstart","PersonArbeidsforholdTable.Arbeidsforhold":"{br}Arbeidsforhold","PersonArbeidsforholdTable.Periode":"{br}Periode","PersonArbeidsforholdTable.Kilde":"{br}Kilde","PersonArbeidsforholdTable.Stillingsprosent":"{br}Stillingsprosent","PersonArbeidsforholdTable.MottattDato":"Inntektsmeld.{br}mottatt dato","PersonArbeidsforholdTable.ErIBruk":"Arbeidsforhold skal brukes","PersonArbeidsforholdTable.IngenArbeidsforhold":"Det finnes ingen arbeidsforhold","PersonArbeidsforholdTable.IngenArbeidsforholdRegistrert":"Ingen arbeidsforhold registrert","PersonArbeidsforholdTable.LeggTilArbeidsforhold":"Legg til arbeidsforhold","ArbeidsforholdDetail.Header":"Detaljer","ArbeidsforholdDetail.ArbeidsforholdErAktivt":"Arbeidsforholdet er aktivt og skal benyttes i behandlingen. Nødvendig inntektsmelding er ikke mottatt.","ArbeidsforholdDetail.OppdaterArbeidsforhold":"Arbeidsforhold er manuelt opprettet av saksbehandler","ArbeidsforholdDetail.ArbeidsforholdErAktivtOgHarPermisjonMenSoekerErIkkePermisjon":"Søker er ikke i permisjon. Arbeidsforholdet er aktivt og skal benyttes i behandlingen.","ArbeidsforholdDetail.FjernArbeidsforholdet":"Fjern arbeidsforholdet for denne behandlingen","ArbeidsforholdDetail.IMIkkeRelevant":"Inntektsmeldingen er ikke relevant, gå videre uten disse opplysningene","ArbeidsforholdDetail.ArbeidsforholdetErIkkeAktivt":"Arbeidsforholdet er ikke aktivt. Inntektsmelding er ikke nødvendig.","ArbeidsforholdDetail.ArbeidsforholdetAktivTomDato":"Arbeidsforhold aktivt tom. dato","ArbeidsforholdDetail.AvslaYtelseManglendeOpplysninger":"Ytelsen kan avslås på grunn av manglende opplysninger.","ArbeidsforholdDetail.BenyttAInntektIBeregningsgrunnlag":"Fortsett behandling uten inntektsmelding, inntekt fra A-inntekt benyttes i beregningsgrunnlaget.","ArbeidsforholdDetail.Begrunnelse":"Begrunn endringene","ArbeidsforholdDetail.SokerErIPermisjon":"Søker er i permisjon. Inntektsmelding er ikke nødvendig.","ArbeidsforholdDetail.OppdatertGittIm":"Arbeidsforholdet er opprettet basert på motatt inntektsmelding","PersonArbeidsforholdTable.Inntektsmelding":"Inntektsmelding","PersonArbeidsforholdTable.Saksbehandler":"Saksbehandler","PersonArbeidsforholdTable.AaRegisteret":"AA-Registeret","PermisjonPeriode.Permisjon":"Permisjon","PermisjonPeriode.Permisjoner":"Permisjoner"},kc=Ve(uc),Oo=({arbeidOgInntekt:e,arbeidsgiverOpplysningerPerId:n})=>G.jsx(Qe,{value:kc,children:G.jsx(gc,{arbeidOgInntekt:e,arbeidsgiverOpplysningerPerId:n})});Oo.__docgenInfo={description:"",methods:[],displayName:"ot"};const il=[ae.AVKLAR_ARBEIDSFORHOLD],mc=[Ke.ARBEID_OG_INNTEKT],sl=({arbeidsgiverOpplysningerPerId:e,...n})=>_e.jsx(Mr,{...n,panelEndepunkter:mc,aksjonspunktKoder:il,faktaPanelKode:Pr.ARBEIDSFORHOLD,faktaPanelMenyTekst:q().formatMessage({id:"ArbeidsforholdInfoPanel.Title"}),skalPanelVisesIMeny:()=>!!n.behandling&&n.behandling.aksjonspunkt&&n.behandling.aksjonspunkt.some(r=>il.some(t=>t===r.definisjon)),renderPanel:r=>_e.jsx(Oo,{arbeidsgiverOpplysningerPerId:e,...r})});try{sl.displayName="ArbeidsforholdFaktaInitPanel",sl.__docgenInfo={description:`ArbeidsforholdFaktaInitPanel

Dette faktapanelet skal alltid vises`,displayName:"ArbeidsforholdFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}function cc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Do={exports:{}},Kr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var al;function fc(){if(al)return Kr;al=1;var e=J,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,f={},v=null,h=null;u!==void 0&&(v=""+u),o.key!==void 0&&(v=""+o.key),o.ref!==void 0&&(h=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(f[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)f[k]===void 0&&(f[k]=o[k]);return{$$typeof:n,type:d,key:v,ref:h,props:f,_owner:i.current}}return Kr.Fragment=r,Kr.jsx=l,Kr.jsxs=l,Kr}Do.exports=fc();var g=Do.exports,Bo={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var t=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var l=typeof s;if(l==="string"||l==="number")t.push(this&&this[s]||s);else if(Array.isArray(s))t.push(r.apply(this,s));else if(l==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){t.push(s.toString());continue}for(var d in s)n.call(s,d)&&s[d]&&t.push(this&&this[d]||d)}}}return t.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Bo);var pc=Bo.exports;const jc=cc(pc),la=b.createContext({isDirty:!1,setDirty:()=>{}}),vc=({children:e})=>{const[n,r]=b.useState(!1),t=b.useMemo(()=>({isDirty:n,setDirty:r}),[n,r]);return g.jsx(la.Provider,{value:t,children:e})},da=e=>{const n=b.useContext(la);b.useEffect(()=>{n.setDirty(e)},[e])},bc=()=>b.useContext(la).isDirty,cr="342352362",hc=pn(3),Ic=jn(1500),Ac=jo(1),xc=vo(100),Tc=e=>n=>{const r=e("fom");return n&&r?Qs(r)(n):null},Fo=({behandlingUuid:e,isReadOnly:n,registrerArbeidsforhold:r,radData:t,lukkArbeidsforholdRad:i,erOverstyrt:s,oppdaterTabell:l,erNyttArbeidsforhold:d=!1})=>{const o=q(),[u,k]=b.useState(!1),f=b.useMemo(()=>{var P,y,B,M,F;return{fom:(P=t==null?void 0:t.avklaring)==null?void 0:P.fom,tom:(y=t==null?void 0:t.avklaring)==null?void 0:y.tom,stillingsprosent:(B=t==null?void 0:t.avklaring)==null?void 0:B.stillingsprosent,begrunnelse:(M=t==null?void 0:t.avklaring)==null?void 0:M.begrunnelse,arbeidsgiverNavn:(F=t==null?void 0:t.avklaring)==null?void 0:F.arbeidsgiverNavn}},[t]),v=He({defaultValues:f});da(v.formState.isDirty);const h=b.useCallback(()=>{i(),v.reset(f)},[i]),T=b.useCallback(P=>{const y={behandlingUuid:e,arbeidsgiverIdent:cr,vurdering:le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER,...P};r(y).then(()=>{l(B=>{const M={arbeidsgiverIdent:cr,arbeidsgiverNavn:P.arbeidsgiverNavn,avklaring:{fom:P.fom,tom:P.tom,stillingsprosent:P.stillingsprosent,arbeidsgiverNavn:P.arbeidsgiverNavn,begrunnelse:P.begrunnelse,saksbehandlersVurdering:le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER}},F=B.findIndex(O=>O.arbeidsgiverIdent===cr);return F===-1?B.concat(M):B.map((O,L)=>L===F?M:O)}),v.reset(P),d&&i()})},[e,l]),E=b.useCallback(()=>{const P=v.getValues(),y={behandlingUuid:e,arbeidsgiverIdent:cr,vurdering:le.FJERN_FRA_BEHANDLINGEN,...P};r(y).then(()=>{l(B=>B.filter(M=>M.arbeidsgiverIdent!==cr)),d&&i()})},[v]);return g.jsxs(g.Fragment,{children:[!t&&g.jsxs(g.Fragment,{children:[g.jsx(je,{size:"small",children:g.jsx(m,{id:"LeggTilArbeidsforholdForm.LeggTilArbeidsforhold"})}),g.jsx(I,{sixteenPx:!0})]}),g.jsx(I,{eightPx:!0}),g.jsxs(Ze,{formMethods:v,onSubmit:T,children:[g.jsx(se,{children:g.jsxs(S,{children:[s&&g.jsxs(g.Fragment,{children:[g.jsx(p,{children:g.jsx(Ae,{name:"arbeidsgiverNavn",label:g.jsx(m,{id:"LeggTilArbeidsforholdForm.Arbeidsgiver"}),validate:[Q],readOnly:n||!s})}),g.jsx(p,{children:g.jsx(Wn,{name:"fom",label:g.jsx(m,{id:"LeggTilArbeidsforholdForm.PeriodeFra"}),validate:[Q,Bn],isReadOnly:n||!s})}),g.jsx(p,{children:g.jsx(Wn,{name:"tom",label:g.jsx(m,{id:"LeggTilArbeidsforholdForm.PeriodeTil"}),validate:[Bn,Tc(v.getValues)],isReadOnly:n||!s})})]}),g.jsx(p,{children:g.jsx(Ae,{name:"stillingsprosent",label:g.jsx(m,{id:"LeggTilArbeidsforholdForm.Stillingsprosent"}),parse:P=>{const y=parseInt(P.toString(),10);return Number.isNaN(y)?P:y},validate:[Q,fo,Ac,xc],readOnly:n||!s,maxLength:3})})]})}),g.jsx(I,{twentyPx:!0}),g.jsx(Xe,{label:g.jsx(m,{id:"LeggTilArbeidsforholdForm.Begrunn"}),name:"begrunnelse",validate:[Q,hc,Ic,fn],maxLength:1500,readOnly:n||!s}),g.jsx(I,{twentyPx:!0}),s&&g.jsx(se,{children:g.jsxs(S,{spaceBetween:!0,children:[g.jsx(p,{children:g.jsx(se,{children:g.jsxs(S,{children:[g.jsx(p,{children:g.jsx(ie,{size:"small",variant:"secondary",loading:v.formState.isSubmitting,disabled:!v.formState.isDirty||v.formState.isSubmitting,children:g.jsx(m,{id:"LeggTilArbeidsforholdForm.Lagre"})})}),g.jsx(p,{children:g.jsx(ie,{size:"small",variant:"tertiary",loading:!1,disabled:v.formState.isSubmitting,onClick:h,type:"button",children:g.jsx(m,{id:"LeggTilArbeidsforholdForm.Avbryt"})})})]})})}),t&&g.jsx(p,{children:g.jsx(ie,{size:"small",variant:"tertiary",loading:!1,disabled:v.formState.isSubmitting,onClick:()=>k(!0),type:"button",icon:g.jsx(Hm,{"aria-hidden":!0}),children:g.jsx(m,{id:"LeggTilArbeidsforholdForm.Slett"})})})]})}),g.jsx(I,{fourtyPx:!0})]}),u&&g.jsx(Pk,{text:o.formatMessage({id:"NyttArbeidsforholdForm.VilDuSlette"}),submit:E,cancel:()=>k(!1),showModal:!0})]})},$o="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjZweCIgaGVpZ2h0PSIyNnB4IiB2aWV3Qm94PSIwIDAgMjYgMjYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjIgKDU3NTE5KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5oamVscGV0ZWtzdC9pa29uL05vcm1hbCBDb3B5PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggZD0iTTEzLDI2IEM1LjgzMTkxMzA0LDI2IDAsMjAuMTY4MDg3IDAsMTMgQzAsNS44MzE5MTMwNCA1LjgzMTkxMzA0LDAgMTMsMCBDMjAuMTY4MDg3LDAgMjYsNS44MzE5MTMwNCAyNiwxMyBDMjYsMjAuMTY4MDg3IDIwLjE2ODA4NywyNiAxMywyNiBaIE0xMywxLjEzMDQzNDc4IEM2LjQ1NDc4MjYxLDEuMTMwNDM0NzggMS4xMzA0MzQ3OCw2LjQ1NDc4MjYxIDEuMTMwNDM0NzgsMTMgQzEuMTMwNDM0NzgsMTkuNTQ1MjE3NCA2LjQ1NDc4MjYxLDI0Ljg2OTU2NTIgMTMsMjQuODY5NTY1MiBDMTkuNTQ1MjE3NCwyNC44Njk1NjUyIDI0Ljg2OTU2NTIsMTkuNTQ1MjE3NCAyNC44Njk1NjUyLDEzIEMyNC44Njk1NjUyLDYuNDU0NzgyNjEgMTkuNTQ1MjE3NCwxLjEzMDQzNDc4IDEzLDEuMTMwNDM0NzggWiBNMTMsMTcuNTIxNzM5MSBDMTIuNjg4LDE3LjUyMTczOTEgMTIuNDM0NzgyNiwxNy4yNjg1MjE3IDEyLjQzNDc4MjYsMTYuOTU2NTIxNyBMMTIuNDM0NzgyNiwxMy41NjUyMTc0IEMxMi40MzQ3ODI2LDEzLjI1MzIxNzQgMTIuNjg4LDEzIDEzLDEzIEMxNC41NTc3MzkxLDEzIDE1LjgyNjA4NywxMS43MzE2NTIyIDE1LjgyNjA4NywxMC4xNzM5MTMgQzE1LjgyNjA4Nyw4LjYxNjE3MzkxIDE0LjU1NzczOTEsNy4zNDc4MjYwOSAxMyw3LjM0NzgyNjA5IEMxMS40NDIyNjA5LDcuMzQ3ODI2MDkgMTAuMTczOTEzLDguNjE2MTczOTEgMTAuMTczOTEzLDEwLjE3MzkxMyBDMTAuMTczOTEzLDEwLjQ4NTkxMyA5LjkyMDY5NTY1LDEwLjczOTEzMDQgOS42MDg2OTU2NSwxMC43MzkxMzA0IEM5LjI5NjY5NTY1LDEwLjczOTEzMDQgOS4wNDM0NzgyNiwxMC40ODU5MTMgOS4wNDM0NzgyNiwxMC4xNzM5MTMgQzkuMDQzNDc4MjYsNy45OTIxNzM5MSAxMC44MTgyNjA5LDYuMjE3MzkxMyAxMyw2LjIxNzM5MTMgQzE1LjE4MTczOTEsNi4yMTczOTEzIDE2Ljk1NjUyMTcsNy45OTIxNzM5MSAxNi45NTY1MjE3LDEwLjE3MzkxMyBDMTYuOTU2NTIxNywxMi4xNjM0NzgzIDE1LjQ4MDE3MzksMTMuODE1MDQzNSAxMy41NjUyMTc0LDE0LjA5MDg2OTYgTDEzLjU2NTIxNzQsMTYuOTU2NTIxNyBDMTMuNTY1MjE3NCwxNy4yNjg1MjE3IDEzLjMxMiwxNy41MjE3MzkxIDEzLDE3LjUyMTczOTEgWiBNMTMsMjAuOTEzMDQzNSBDMTIuMzc1Njc4MSwyMC45MTMwNDM1IDExLjg2OTU2NTIsMjAuNDA2OTMwNiAxMS44Njk1NjUyLDE5Ljc4MjYwODcgQzExLjg2OTU2NTIsMTkuMTU4Mjg2OCAxMi4zNzU2NzgxLDE4LjY1MjE3MzkgMTMsMTguNjUyMTczOSBDMTMuNjI0MzIxOSwxOC42NTIxNzM5IDE0LjEzMDQzNDgsMTkuMTU4Mjg2OCAxNC4xMzA0MzQ4LDE5Ljc4MjYwODcgQzE0LjEzMDQzNDgsMjAuNDA2OTMwNiAxMy42MjQzMjE5LDIwLjkxMzA0MzUgMTMsMjAuOTEzMDQzNSBaIiBpZD0icGF0aC0xIj48L3BhdGg+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iVXR0YWtzcGVyaW9kZXIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJPdmVybGF5LWZvcmtsYXJpbmciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC05MjEuMDAwMDAwLCAtNTYxLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0idXR0YWstY29weS0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NS4wMDAwMDAsIDQyMi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJoamVscGV0ZWtzdC9pa29uL05vcm1hbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODU2LjAwMDAwMCwgMTM5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJpY29uL2xpbmUvYWxlcnRzLy1oZWxwLWNpcmNsZSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxtYXNrIGlkPSJtYXNrLTIiIGZpbGw9IndoaXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvbWFzaz4KICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSBpZD0iTWFzayIgZmlsbD0iIzAwNjdDNSIgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJY4pqZ77iPLy1pbnRlcmFrc2pvbnNmYXJnZS8taW50ZXJha3Nqb24iIG1hc2s9InVybCgjbWFzay0yKSIgZmlsbD0iIzAwNjdDNSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLTMiIHg9IjAiIHk9IjAiIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=",Lo="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjZweCIgaGVpZ2h0PSIyNnB4IiB2aWV3Qm94PSIwIDAgMjYgMjYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjIgKDU3NTE5KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5oamVscGV0ZWtzdC9pa29uL05vcm1hbDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGQ9Ik0xMywwIEMyMC4xNjczMzMzLDAgMjYsNS44MzE1ODMzMyAyNiwxMyBDMjYsMjAuMTY4NDE2NyAyMC4xNjczMzMzLDI2IDEzLDI2IEM1LjgzMTU4MzMzLDI2IDAsMjAuMTY4NDE2NyAwLDEzIEMwLDUuODMxNTgzMzMgNS44MzE1ODMzMywwIDEzLDAgWiBNMTMsMjAuNTgzMzMzMyBDMTMuNTk2OTE2NywyMC41ODMzMzMzIDE0LjA4MzMzMzMsMjAuMDk5MDgzMyAxNC4wODMzMzMzLDE5LjUgQzE0LjA4MzMzMzMsMTguOTAyIDEzLjU5NjkxNjcsMTguNDE2NjY2NyAxMywxOC40MTY2NjY3IEMxMi40MDA5MTY3LDE4LjQxNjY2NjcgMTEuOTE2NjY2NywxOC45MDIgMTEuOTE2NjY2NywxOS41IEMxMS45MTY2NjY3LDIwLjA5OTA4MzMgMTIuNDAwOTE2NywyMC41ODMzMzMzIDEzLDIwLjU4MzMzMzMgWiBNMTMuNTQxNjY2NywxNC4wNDU0MTY3IEMxNS4zNzU3NSwxMy43ODEwODMzIDE2Ljc5MTY2NjcsMTIuMTk4MzMzMyAxNi43OTE2NjY3LDEwLjI5MTY2NjcgQzE2Ljc5MTY2NjcsOC4yMDA4MzMzMyAxNS4wOTA4MzMzLDYuNSAxMyw2LjUgQzEwLjkwODA4MzMsNi41IDkuMjA4MzMzMzMsOC4yMDA4MzMzMyA5LjIwODMzMzMzLDEwLjI5MTY2NjcgQzkuMjA4MzMzMzMsMTAuNTkwNjY2NyA5LjQ1MSwxMC44MzMzMzMzIDkuNzUsMTAuODMzMzMzMyBDMTAuMDQ3OTE2NywxMC44MzMzMzMzIDEwLjI5MTY2NjcsMTAuNTkwNjY2NyAxMC4yOTE2NjY3LDEwLjI5MTY2NjcgQzEwLjI5MTY2NjcsOC43OTc3NSAxMS41MDYwODMzLDcuNTgzMzMzMzMgMTMsNy41ODMzMzMzMyBDMTQuNDkyODMzMyw3LjU4MzMzMzMzIDE1LjcwODMzMzMsOC43OTc3NSAxNS43MDgzMzMzLDEwLjI5MTY2NjcgQzE1LjcwODMzMzMsMTEuNzg1NTgzMyAxNC40OTI4MzMzLDEzIDEzLDEzIEMxMi43MDEsMTMgMTIuNDU4MzMzMywxMy4yNDI2NjY3IDEyLjQ1ODMzMzMsMTMuNTQxNjY2NyBMMTIuNDU4MzMzMywxNi43OTE2NjY3IEMxMi40NTgzMzMzLDE3LjA5MDY2NjcgMTIuNzAxLDE3LjMzMzMzMzMgMTMsMTcuMzMzMzMzMyBDMTMuMjk3OTE2NywxNy4zMzMzMzMzIDEzLjU0MTY2NjcsMTcuMDkwNjY2NyAxMy41NDE2NjY3LDE2Ljc5MTY2NjcgTDEzLjU0MTY2NjcsMTQuMDQ1NDE2NyBaIiBpZD0icGF0aC0xIj48L3BhdGg+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iVXR0YWtzcGVyaW9kZXIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJPdmVybGF5LWZvcmtsYXJpbmciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC05NjcuMDAwMDAwLCAtNTYxLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0idXR0YWstY29weS0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NS4wMDAwMDAsIDQyMi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJoamVscGV0ZWtzdC9pa29uL2hvdmVyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MDIuMDAwMDAwLCAxMzkuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9Imljb24vbGluZS9hbGVydHMvLWhlbHAtY2lyY2xlLWNvcHkiPgogICAgICAgICAgICAgICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgICAgICAgICA8L21hc2s+CiAgICAgICAgICAgICAgICAgICAgICAgIDx1c2UgaWQ9Ik1hc2siIGZpbGw9IiMwMDY3QzUiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iWOKame+4jy8taW50ZXJha3Nqb25zZmFyZ2UvLWludGVyYWtzam9uIiBtYXNrPSJ1cmwoI21hc2stMikiIGZpbGw9IiMwMDY3QzUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS0zIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjYiIGhlaWdodD0iMjYiPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",Nc="_inline_glms2_1",Ec="_textMargin_glms2_5",yc="_docIcon_glms2_9",Sc="_phoneIcon_glms2_14",Tn={inline:Nc,textMargin:Ec,docIcon:yc,phoneIcon:Sc},ai=({saksnummer:e,arbeidsforhold:n,inntektsmelding:r,skalViseArbeidsforholdId:t,alleKodeverk:i})=>g.jsxs(g.Fragment,{children:[g.jsx(I,{eightPx:!0}),g.jsxs(se,{children:[t&&g.jsxs(g.Fragment,{children:[g.jsxs(S,{children:[g.jsx(p,{children:g.jsx($,{size:"small",children:g.jsx(m,{id:"InntektsmeldingOpplysningerPanel.ArbeidsforholdId"})})}),g.jsx(p,{className:Tn.textMargin,children:g.jsx(A,{size:"small",children:r.eksternArbeidsforholdId})})]}),g.jsx(I,{eightPx:!0})]}),n&&g.jsxs(g.Fragment,{children:[g.jsxs(S,{children:[g.jsx(p,{children:g.jsx($,{size:"small",children:g.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Stillingsprosent"})})}),g.jsx(p,{className:Tn.textMargin,children:g.jsx(A,{size:"small",children:n.stillingsprosent?`${n.stillingsprosent}%`:"-"})})]}),n.permisjonOgMangel&&g.jsxs(g.Fragment,{children:[g.jsx(I,{eightPx:!0}),g.jsxs(S,{children:[g.jsx(p,{children:g.jsx($,{size:"small",children:ii(i,En.PERMISJONSBESKRIVELSE_TYPE,n.permisjonOgMangel.type)})}),g.jsx(p,{className:Tn.textMargin,children:g.jsx(A,{size:"small",children:g.jsx(Ye,{dateStringFom:n.permisjonOgMangel.permisjonFom,dateStringTom:n.permisjonOgMangel.permisjonTom})})})]})]}),g.jsx(I,{eightPx:!0})]}),g.jsxs(S,{children:[g.jsx(p,{children:g.jsx($,{size:"small",children:g.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Inntektsmelding"})})}),g.jsx(p,{className:Tn.textMargin,children:g.jsx(A,{size:"small",children:C(r.inntektPrMnd)})})]}),g.jsx(I,{eightPx:!0}),g.jsxs(S,{children:[g.jsx(p,{children:g.jsx($,{size:"small",children:g.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjon"})})}),g.jsx(p,{className:Tn.textMargin,children:g.jsx(A,{size:"small",children:g.jsx(m,{id:r.refusjonPrMnd?"InntektsmeldingOpplysningerPanel.Ja":"InntektsmeldingOpplysningerPanel.Nei"})})})]}),g.jsx(I,{eightPx:!0}),r.refusjonPrMnd!==void 0&&r.refusjonPrMnd!==null&&g.jsxs(g.Fragment,{children:[g.jsxs(S,{children:[g.jsx(p,{children:g.jsx($,{size:"small",children:g.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjonsbeløp"})})}),g.jsx(p,{className:Tn.textMargin,children:g.jsx(A,{size:"small",children:C(r.refusjonPrMnd)})})]}),g.jsx(I,{eightPx:!0})]}),g.jsxs(mt,{href:po(e,r.journalpostId,r.dokumentId),target:"_blank",children:[g.jsx("span",{children:g.jsx(A,{size:"small",className:Tn.inline,children:g.jsx(m,{id:"InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding"})})}),g.jsx(_o,{className:Tn.docIcon})]}),g.jsx(I,{sixteenPx:!0}),g.jsxs(S,{children:[g.jsx(p,{children:g.jsx(Mo,{className:Tn.phoneIcon})}),g.jsxs(p,{children:[g.jsx(S,{children:g.jsx(p,{children:g.jsx($,{size:"small",children:g.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Kontaktinfo"})})})}),g.jsx(S,{children:g.jsx(p,{children:g.jsx(me,{size:"small",children:r.kontaktpersonNavn})})}),g.jsx(S,{children:g.jsx(p,{children:g.jsx(me,{size:"small",children:g.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Tlf",values:{nr:r.kontaktpersonNummer}})})})})]})]})]}),g.jsx(I,{thirtyTwoPx:!0})]}),Pc="_hjelpetekst_y28dx_1",_c="_alertStripe_y28dx_5",Mc="_image_y28dx_9",Rc="_hjelpetekstInnhold_y28dx_15",Bt={hjelpetekst:Pc,alertStripe:_c,image:Mc,hjelpetekstInnhold:Rc},Oc=pn(3),Dc=jn(1500),Bc=jo(1),Fc=vo(100),$c=e=>n=>n?Qs(e("fom"))(n):null,Lc=({saksnummer:e,behandlingUuid:n,arbeidsgiverNavn:r,inntektsmelding:t,radData:i,isReadOnly:s,registrerArbeidsforhold:l,lagreVurdering:d,lukkArbeidsforholdRad:o,oppdaterTabell:u,skalViseArbeidsforholdId:k})=>{const f=q(),v=b.useMemo(()=>{var O,L,U,re,ne;return{saksbehandlersVurdering:(O=i.avklaring)==null?void 0:O.saksbehandlersVurdering,begrunnelse:(L=i.avklaring)==null?void 0:L.begrunnelse,fom:(U=i.avklaring)==null?void 0:U.fom,tom:(re=i.avklaring)==null?void 0:re.tom,stillingsprosent:(ne=i.avklaring)==null?void 0:ne.stillingsprosent}},[i]),h=He({defaultValues:v});da(h.formState.isDirty);const T=h.watch("saksbehandlersVurdering"),E=b.useCallback(()=>{o(),h.reset(v)},[v,o]),P=b.useCallback(O=>{const L=()=>{u(U=>U.map(re=>{if(t.arbeidsgiverIdent===re.arbeidsgiverIdent){const ne=O.saksbehandlersVurdering===le.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?{arbeidsgiverIdent:t.arbeidsgiverIdent,fom:O.fom,tom:O.tom,stillingsprosent:O.stillingsprosent,begrunnelse:O.begrunnelse,saksbehandlersVurdering:O.saksbehandlersVurdering}:void 0;return{...i,avklaring:ne||{begrunnelse:O.begrunnelse,saksbehandlersVurdering:O.saksbehandlersVurdering}}}return re}))};O.saksbehandlersVurdering===le.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?l({behandlingUuid:n,internArbeidsforholdRef:t.internArbeidsforholdId,arbeidsgiverNavn:r,arbeidsgiverIdent:t.arbeidsgiverIdent,vurdering:le.OPPRETT_BASERT_PÅ_INNTEKTSMELDING,begrunnelse:O.begrunnelse,fom:O.fom,tom:O.tom,stillingsprosent:O.stillingsprosent}).then(L).finally(()=>h.reset(O)):d({behandlingUuid:n,vurdering:O.saksbehandlersVurdering,begrunnelse:O.begrunnelse,arbeidsgiverIdent:t.arbeidsgiverIdent,internArbeidsforholdRef:t.internArbeidsforholdId}).then(L).finally(()=>h.reset(O))},[t,u]),y=b.useRef(null),[B,M]=b.useState(!1),F=b.useCallback(()=>M(O=>!O),[]);return g.jsxs(g.Fragment,{children:[g.jsx(ai,{saksnummer:e,inntektsmelding:t,skalViseArbeidsforholdId:k}),g.jsx(I,{fourtyPx:!0}),g.jsx("div",{className:Bt.alertStripe,children:g.jsx(Zn,{variant:"info",children:g.jsx(m,{id:"ManglendeOpplysningerForm.ErMottattMenIkkeReg"})})}),g.jsx(I,{thirtyTwoPx:!0}),g.jsxs(Ze,{formMethods:h,onSubmit:P,children:[g.jsx(Ne,{name:"saksbehandlersVurdering",label:g.jsx(se,{children:g.jsxs(S,{children:[g.jsx(p,{children:g.jsx(m,{id:"ManglendeOpplysningerForm.SkalBrukeInntekstmelding"})}),g.jsxs(p,{children:[g.jsx(hr,{src:$o,srcHover:Lo,ref:y,onClick:F,onKeyDown:F,tabIndex:0,alt:f.formatMessage({id:"ManglendeOpplysningerForm.AltHjelpetekst"}),className:Bt.image}),g.jsx(Ir,{open:B,onClose:F,anchorEl:y.current,className:Bt.hjelpetekst,children:g.jsx(Ir.Content,{className:Bt.hjelpetekstInnhold,children:g.jsx(A,{children:g.jsx(m,{id:"ManglendeOpplysningerForm.Hjelpetekst"})})})})]})]})}),validate:[Q],isReadOnly:s,radios:[{label:f.formatMessage({id:"ManglendeOpplysningerForm.TarKontakt"}),value:le.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_ARBEIDSFORHOLD},{label:f.formatMessage({id:"ManglendeOpplysningerForm.GåVidere"}),value:le.IKKE_OPPRETT_BASERT_PÅ_INNTEKTSMELDING},{label:f.formatMessage({id:"ManglendeOpplysningerForm.OpprettArbeidsforhold"}),value:le.OPPRETT_BASERT_PÅ_INNTEKTSMELDING}]}),T===le.OPPRETT_BASERT_PÅ_INNTEKTSMELDING&&g.jsxs(g.Fragment,{children:[g.jsxs(se,{children:[g.jsx(I,{eightPx:!0}),g.jsxs(S,{children:[g.jsx(p,{children:g.jsx(Wn,{name:"fom",label:g.jsx(m,{id:"ManglendeOpplysningerForm.PeriodeFra"}),validate:[Q,Bn],isReadOnly:s})}),g.jsx(p,{children:g.jsx(Wn,{name:"tom",label:g.jsx(m,{id:"ManglendeOpplysningerForm.PeriodeTil"}),validate:[Bn,$c(h.getValues)],isReadOnly:s})}),g.jsx(p,{children:g.jsx(Ae,{name:"stillingsprosent",label:g.jsx(m,{id:"ManglendeOpplysningerForm.Stillingsprosent"}),parse:O=>{const L=parseInt(O,10);return Number.isNaN(L)?O:L},validate:[Q,fo,Bc,Fc],readOnly:s,maxLength:3})})]})]}),g.jsx(I,{fourPx:!0})]}),g.jsx(I,{sixteenPx:!0}),g.jsx(Xe,{label:g.jsx(m,{id:"ManglendeOpplysningerForm.Begrunn"}),name:"begrunnelse",validate:[Q,Oc,Dc,fn],maxLength:1500,readOnly:s}),g.jsx(I,{twentyPx:!0}),!s&&g.jsx(se,{children:g.jsxs(S,{children:[g.jsx(p,{children:g.jsx(ie,{size:"small",variant:"secondary",loading:h.formState.isSubmitting,disabled:!h.formState.isDirty||h.formState.isSubmitting,children:g.jsx(m,{id:"ManglendeOpplysningerForm.Lagre"})})}),g.jsx(p,{children:g.jsx(ie,{size:"small",variant:"tertiary",loading:!1,disabled:h.formState.isSubmitting,onClick:E,type:"button",children:g.jsx(m,{id:"ManglendeOpplysningerForm.Avbryt"})})})]})}),g.jsx(I,{fourtyPx:!0})]})]})},Vc="_inline_10adz_1",Gc="_aksjonpunktImage_10adz_5",Cc="_arrow_10adz_12",zc="_ikkeMottatt_10adz_18",wc="_forsteKolonne_10adz_22",Kc="_sisteKolonne_10adz_26",Yc="_skiller_10adz_30",Uc="_textMargin_10adz_34",De={inline:Vc,aksjonpunktImage:Gc,arrow:Cc,ikkeMottatt:zc,forsteKolonne:wc,sisteKolonne:Kc,skiller:Yc,textMargin:Uc},Hc=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent&&(!n.internArbeidsforholdId||n.internArbeidsforholdId===e.internArbeidsforholdId),Zc=(e,n)=>{const r=e.some(i=>i.internArbeidsforholdId),t=e.some(i=>!i.internArbeidsforholdId);if(r&&t)throw Error("Har inntektsmelding både med og uten id");return e.find(i=>!i.internArbeidsforholdId||i.internArbeidsforholdId===n)},Jc=e=>{const n=Math.ceil(e.length/25),r=Array.from({length:n},(t,i)=>e.slice(i*25,i*25+25));return g.jsx("p",{children:r.join("-")})},Vo=({saksnummer:e,arbeidsforholdForRad:n,inntektsmeldingerForRad:r,alleKodeverk:t})=>{const i=q(),[s,l]=b.useState({}),d=n.length===1,o=d?Zc(r,n[0].internArbeidsforholdId):void 0;return g.jsxs(g.Fragment,{children:[!d&&g.jsxs(g.Fragment,{children:[g.jsx(I,{eightPx:!0}),g.jsx(Za,{dividerParagraf:!0,className:De.skiller}),g.jsx(I,{sixteenPx:!0}),n.map(u=>{const k=r.find(f=>Hc(u,f));return g.jsxs(J.Fragment,{children:[g.jsx(se,{children:g.jsxs(S,{spaceBetween:!0,children:[g.jsx(p,{className:De.forsteKolonne,children:g.jsxs(se,{children:[g.jsxs(S,{children:[g.jsx(p,{children:g.jsx($,{size:"small",children:g.jsx(m,{id:"ArbeidsforholdInformasjonPanel.ArbeidsforholdId"})})}),g.jsxs(p,{children:[u.eksternArbeidsforholdId&&u.eksternArbeidsforholdId.length<50&&g.jsx("div",{className:De.textMargin,children:g.jsx(A,{size:"small",children:u.eksternArbeidsforholdId})}),u.eksternArbeidsforholdId&&u.eksternArbeidsforholdId.length>=50&&g.jsx(oo,{content:Jc(u.eksternArbeidsforholdId),alignBottom:!0,children:g.jsx(A,{size:"small",children:`${u.eksternArbeidsforholdId.substring(0,50)}...`})}),!u.eksternArbeidsforholdId&&g.jsx(A,{size:"small",children:"-"})]})]}),g.jsx(I,{fourPx:!0}),g.jsxs(S,{children:[g.jsx(p,{children:g.jsx($,{size:"small",children:g.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Periode"})})}),g.jsx(p,{className:De.textMargin,children:g.jsx(A,{size:"small",children:g.jsx(Ye,{dateStringFom:u.fom,dateStringTom:u.tom!==Ce?u.tom:void 0})})})]}),g.jsx(I,{fourPx:!0}),g.jsxs(S,{children:[g.jsx(p,{children:g.jsx($,{size:"small",children:g.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Stillingsprosent"})})}),g.jsx(p,{className:De.textMargin,children:g.jsx(A,{size:"small",children:`${u.stillingsprosent}%`})})]}),u.permisjonOgMangel&&g.jsxs(g.Fragment,{children:[g.jsx(I,{fourPx:!0}),g.jsxs(S,{children:[g.jsx(p,{children:g.jsx($,{size:"small",children:ii(t,En.PERMISJONSBESKRIVELSE_TYPE,u.permisjonOgMangel.type)})}),g.jsx(p,{className:De.textMargin,children:g.jsx(A,{size:"small",children:g.jsx(Ye,{dateStringFom:u.permisjonOgMangel.permisjonFom,dateStringTom:u.permisjonOgMangel.permisjonTom})})})]})]}),k&&g.jsxs(g.Fragment,{children:[s[u.internArbeidsforholdId]&&g.jsx(ai,{saksnummer:e,inntektsmelding:k,skalViseArbeidsforholdId:!1}),g.jsx(I,{fourPx:!0}),g.jsxs(mt,{onClick:f=>{f.preventDefault(),l(v=>{const h=v[u.internArbeidsforholdId];return{...v,[u.internArbeidsforholdId]:h===void 0||h===!1}})},href:"",children:[g.jsx("span",{children:g.jsx(A,{size:"small",className:De.inline,children:g.jsx(m,{id:s[u.internArbeidsforholdId]?"ArbeidsforholdInformasjonPanel.LukkeImInfo":"ArbeidsforholdInformasjonPanel.ApneImInfo"})})}),s[u.internArbeidsforholdId]?g.jsx(Hs,{className:De.arrow}):g.jsx(Zs,{className:De.arrow})]})]})]})}),k&&g.jsx(p,{className:De.sisteKolonne,children:g.jsxs(sn,{children:[g.jsx($,{size:"small",children:g.jsx(m,{id:"ArbeidsforholdInformasjonPanel.ImMottatt"})}),g.jsx(I,{fourPx:!0}),g.jsx(sn,{children:g.jsx(A,{size:"small",children:g.jsx(Re,{dateString:k.motattDato})})})]})}),!k&&g.jsx(p,{className:De.sisteKolonne,children:g.jsxs(sn,{children:[g.jsx(Sr,{className:De.aksjonpunktImage,title:i.formatMessage({id:"ArbeidsforholdRad.Aksjonspunkt"})}),g.jsx("div",{className:De.ikkeMottatt,children:g.jsx($,{size:"small",children:g.jsx(m,{id:"ArbeidsforholdInformasjonPanel.ImIkkeMottatt"})})})]})})]})}),g.jsx(I,{sixteenPx:!0}),g.jsx(Za,{dividerParagraf:!0,className:De.skiller}),g.jsx(I,{sixteenPx:!0})]},`${u.arbeidsgiverIdent}${u.internArbeidsforholdId}`)})]}),g.jsx(I,{eightPx:!0}),d&&!!o&&g.jsx(ai,{saksnummer:e,arbeidsforhold:n[0],inntektsmelding:o,skalViseArbeidsforholdId:r.length>1,alleKodeverk:t}),d&&r.length===0&&g.jsxs(g.Fragment,{children:[g.jsxs(S,{children:[g.jsx(p,{children:g.jsx($,{size:"small",children:g.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Stillingsprosent"})})}),g.jsx(p,{className:De.textMargin,children:g.jsx(A,{size:"small",children:`${n[0].stillingsprosent}%`})})]}),n[0].permisjonOgMangel&&g.jsxs(g.Fragment,{children:[g.jsx(I,{eightPx:!0}),g.jsxs(S,{children:[g.jsx(p,{children:g.jsx($,{size:"small",children:ii(t,En.PERMISJONSBESKRIVELSE_TYPE,n[0].permisjonOgMangel.type)})}),g.jsx(p,{children:g.jsx(A,{size:"small",children:g.jsx(Ye,{dateStringFom:n[0].permisjonOgMangel.permisjonFom,dateStringTom:n[0].permisjonOgMangel.permisjonTom})})})]})]})]})]})},Wc="_maanedBredde_jfk8a_1",Qc="_aarBredde_jfk8a_5",qc="_belopBredde_jfk8a_9",Xc="_inline_jfk8a_13",ef="_arrow_jfk8a_17",dr={maanedBredde:Wc,aarBredde:Qc,belopBredde:qc,inline:Xc,arrow:ef},nf=[],rf=(e,n)=>{const r=x(e).subtract(1,"month").startOf("month"),t=r.subtract(12,"month"),i=[];for(let s=r;s.isAfter(t);s=s.subtract(1,"month")){const l=s.format(Pe),d=n.find(o=>x(o.fom).startOf("month").format(Pe)===l);i.push({beløp:(d==null?void 0:d.beløp)||0,fom:l})}return i},Go=({saksnummer:e,skjæringspunktDato:n,inntektsposter:r=[],arbeidsforholdForRad:t,inntektsmeldingerForRad:i=nf,alleKodeverk:s})=>{const[l,d]=b.useState(!1),o=b.useMemo(()=>rf(n,r),[r]),u=t.length===1,k=r.length>0&&r.some(f=>f.beløp>0);return g.jsxs(g.Fragment,{children:[g.jsx(Vo,{saksnummer:e,arbeidsforholdForRad:t,inntektsmeldingerForRad:i,alleKodeverk:s}),g.jsx(I,{thirtyTwoPx:!0}),k&&g.jsxs(g.Fragment,{children:[g.jsx($,{size:"small",children:g.jsx(m,{id:u?"ArbeidsforholdInformasjonPanel.Inntekter":"ArbeidsforholdInformasjonPanel.TotaltInntekter"})}),g.jsx(I,{fourPx:!0}),g.jsx(se,{children:o.filter((f,v)=>l?!0:v<3).map(f=>g.jsxs(S,{children:[g.jsx(p,{className:dr.maanedBredde,children:g.jsx(A,{size:"small",children:g.jsx(m,{id:`ArbeidsforholdInformasjonPanel.${x(f.fom).month()+1}`})})}),g.jsx(p,{className:dr.aarBredde,children:g.jsx(A,{size:"small",children:x(f.fom).year()})}),g.jsx(p,{className:dr.belopBredde,children:g.jsx(sn,{children:g.jsx(A,{size:"small",children:C(f.beløp)})})})]},f.fom))}),g.jsx(I,{fourPx:!0}),g.jsxs(mt,{onClick:f=>{f.preventDefault(),d(!l)},href:"",children:[g.jsx("span",{children:g.jsx(A,{size:"small",className:dr.inline,children:g.jsx(m,{id:l?"ArbeidsforholdInformasjonPanel.FaerreManeder":"ArbeidsforholdInformasjonPanel.TidligereManeder"})})}),l?g.jsx(Hs,{className:dr.arrow}):g.jsx(Zs,{className:dr.arrow})]})]}),!k&&g.jsx($,{size:"small",children:g.jsx(m,{id:"ArbeidsforholdInformasjonPanel.IngenInntekt"})}),g.jsx(I,{thirtyTwoPx:!0})]})},tf="_radioHeader_k32bv_1",sf="_alertStripe_k32bv_5",af="_image_k32bv_9",lf="_hjelpetekst_k32bv_15",df="_hjelpetekstInnhold_k32bv_19",Yr={radioHeader:tf,alertStripe:sf,image:af,hjelpetekst:lf,hjelpetekstInnhold:df},of=pn(3),gf=jn(1500),uf=({saksnummer:e,behandlingUuid:n,skjæringspunktDato:r,inntektsposter:t=[],arbeidsforholdForRad:i,inntektsmeldingerForRad:s,radData:l,isReadOnly:d,lagreVurdering:o,lukkArbeidsforholdRad:u,oppdaterTabell:k,alleKodeverk:f})=>{const v=q(),h=b.useMemo(()=>{var L,U;return{saksbehandlersVurdering:(L=l.avklaring)==null?void 0:L.saksbehandlersVurdering,begrunnelse:(U=l.avklaring)==null?void 0:U.begrunnelse}},[l]),T=He({defaultValues:h});da(T.formState.isDirty);const E=i.length===1,P=b.useCallback(()=>{u(),T.reset(h)},[u,h]),y=b.useCallback(L=>{const U={behandlingUuid:n,vurdering:L.saksbehandlersVurdering,arbeidsgiverIdent:l.arbeidsgiverIdent,internArbeidsforholdRef:E?i[0].internArbeidsforholdId:void 0,begrunnelse:L.begrunnelse};o(U).then(()=>{k(re=>re.map(ne=>ne.arbeidsgiverIdent===l.arbeidsgiverIdent?{...l,avklaring:{begrunnelse:L.begrunnelse,saksbehandlersVurdering:L.saksbehandlersVurdering}}:ne))}).finally(()=>T.reset(L))},[i,l,k]),B=b.useRef(null),[M,F]=b.useState(!1),O=b.useCallback(()=>F(L=>!L),[]);return g.jsxs(g.Fragment,{children:[g.jsx(Go,{saksnummer:e,skjæringspunktDato:r,inntektsposter:t,arbeidsforholdForRad:i,inntektsmeldingerForRad:s,alleKodeverk:f}),g.jsxs(Ze,{formMethods:T,onSubmit:y,children:[!E&&s.length>0&&g.jsxs("div",{className:Yr.alertStripe,children:[g.jsx(Zn,{variant:"info",children:g.jsx(m,{id:"InntektsmeldingInnhentesForm.InnehentAlle"})}),g.jsx(I,{sixteenPx:!0})]}),g.jsx(Ne,{name:"saksbehandlersVurdering",label:g.jsx(se,{children:g.jsxs(S,{children:[g.jsx(p,{className:Yr.radioHeader,children:g.jsx(m,{id:"InntektsmeldingInnhentesForm.MåInnhentes"})}),g.jsxs(p,{children:[g.jsx(hr,{src:$o,srcHover:Lo,ref:B,onClick:O,onKeyDown:O,tabIndex:0,alt:v.formatMessage({id:"InntektsmeldingInnhentesForm.AltHjelpetekst"}),className:Yr.image}),g.jsx(Ir,{open:M,onClose:O,anchorEl:B.current,className:Yr.hjelpetekst,children:g.jsxs(Ir.Content,{className:Yr.hjelpetekstInnhold,children:[g.jsx(A,{children:g.jsx(m,{id:"InntektsmeldingInnhentesForm.HjelpetekstDel1"})}),g.jsx(I,{eightPx:!0}),g.jsx(A,{children:g.jsx(m,{id:"InntektsmeldingInnhentesForm.HjelpetekstDel2"})}),g.jsx(I,{eightPx:!0}),g.jsx(A,{children:g.jsx(m,{id:"InntektsmeldingInnhentesForm.HjelpetekstDel3"})})]})})]})]})}),validate:[Q],isReadOnly:d,radios:[{label:v.formatMessage({id:"InntektsmeldingInnhentesForm.TarKontakt"}),value:le.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_INNTEKTSMELDING},{label:v.formatMessage({id:"InntektsmeldingInnhentesForm.GåVidere"}),value:le.FORTSETT_UTEN_INNTEKTSMELDING}]}),g.jsx(I,{sixteenPx:!0}),g.jsx(Xe,{label:g.jsx(m,{id:E?"InntektsmeldingInnhentesForm.Begrunn":"InntektsmeldingInnhentesForm.Kommentar"}),name:"begrunnelse",validate:[Q,of,gf,fn],maxLength:1500,readOnly:d}),g.jsx(I,{twentyPx:!0}),!d&&g.jsx(se,{children:g.jsxs(S,{children:[g.jsx(p,{children:g.jsx(ie,{size:"small",variant:"secondary",loading:T.formState.isSubmitting,disabled:!T.formState.isDirty||T.formState.isSubmitting,children:g.jsx(m,{id:"InntektsmeldingInnhentesForm.Lagre"})})}),g.jsx(p,{children:g.jsx(ie,{size:"small",variant:"tertiary",loading:!1,disabled:T.formState.isSubmitting,onClick:P,type:"button",children:g.jsx(m,{id:"InntektsmeldingInnhentesForm.Avbryt"})})})]})}),g.jsx(I,{fourtyPx:!0})]})]})},kf="_ikon_1mrt8_1",mf="_colTopPadding_1mrt8_5",cf="_imageColTopPadding_1mrt8_9",ff="_exclamationmarkIcon_1mrt8_13",pf="_checkmarkIcon_1mrt8_20",wn={ikon:kf,colTopPadding:mf,imageColTopPadding:cf,exclamationmarkIcon:ff,checkmarkIcon:pf},jf=jc.bind(wn),vf=(e,n)=>e?"ArbeidsforholdRad.Saksbehandler":n?"ArbeidsforholdRad.AaRegisteret":"ArbeidsforholdRad.Inntektsmelding",bf=(e,n)=>{if((n==null?void 0:n.saksbehandlersVurdering)===le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER||(n==null?void 0:n.saksbehandlersVurdering)===le.OPPRETT_BASERT_PÅ_INNTEKTSMELDING)return{fom:n==null?void 0:n.fom,tom:n==null?void 0:n.tom};const r=e.reduce((t,i)=>({fom:t.fom&&x(t.fom).isBefore(i.fom)?t.fom:i.fom,tom:t.tom&&x(t.tom).isAfter(i.tom)?t.tom:i.tom}),{fom:void 0,tom:void 0});return r.fom?r:void 0},hf=(e,n)=>{const r=e.some(s=>s.internArbeidsforholdId),t=e.some(s=>!s.internArbeidsforholdId);if(r&&t)throw Error("Har inntektsmelding både med og uten id");const i=e.find(s=>!s.internArbeidsforholdId||!n||s.internArbeidsforholdId===n);if(!i)throw Error(`Finner ingen inntektsmelding for arbeidsforhold id ${n}`);return i},If=({saksnummer:e,behandlingUuid:n,arbeidOgInntekt:r,radData:t,isReadOnly:i,erOverstyrt:s,oppdaterTabell:l,registrerArbeidsforhold:d,lagreVurdering:o,toggleÅpenRad:u,erRadÅpen:k,alleKodeverk:f})=>{var v;const h=q(),{arbeidsgiverNavn:T,arbeidsgiverIdent:E,årsak:P,avklaring:y,arbeidsgiverFødselsdato:B}=t,M=b.useMemo(()=>r.arbeidsforhold.filter(X=>X.arbeidsgiverIdent===E),[r,E]),F=b.useMemo(()=>r.inntektsmeldinger.filter(X=>X.arbeidsgiverIdent===E),[r,E]),O=(y==null?void 0:y.saksbehandlersVurdering)===le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER,L=M.length>0&&F.length>0&&!P,U=P===ti.MANGLENDE_INNTEKTSMELDING,re=P===ti.INNTEKTSMELDING_UTEN_ARBEIDSFORHOLD,ne=!!P&&!(y!=null&&y.saksbehandlersVurdering),Z=M.length>0&&F.length===0&&!P&&!O,K=M.length===0&&F.length>0&&!P,w=b.useMemo(()=>bf(M,t.avklaring),[O,M,t.avklaring]),H=(v=r.inntekter.find(X=>X.arbeidsgiverIdent===E))==null?void 0:v.inntekter;return g.jsxs(Sk,{alignWithColumn:1,content:g.jsxs(g.Fragment,{children:[O&&g.jsx(Fo,{behandlingUuid:n,isReadOnly:!1,registrerArbeidsforhold:d,radData:t,arbeidsforhold:M[0],lukkArbeidsforholdRad:u,erOverstyrt:s,oppdaterTabell:l}),L&&g.jsx(Vo,{saksnummer:e,arbeidsforholdForRad:M,inntektsmeldingerForRad:F,alleKodeverk:f}),K&&g.jsx(ai,{saksnummer:e,arbeidsforhold:M.length>0?M[0]:void 0,inntektsmelding:hf(F,M.length>0?M[0].internArbeidsforholdId:void 0),skalViseArbeidsforholdId:!1,alleKodeverk:f}),U&&g.jsx(uf,{saksnummer:e,behandlingUuid:n,skjæringspunktDato:r.skjæringstidspunkt,inntektsposter:H,isReadOnly:i,arbeidsforholdForRad:M,inntektsmeldingerForRad:F,radData:t,lagreVurdering:o,lukkArbeidsforholdRad:u,oppdaterTabell:l,alleKodeverk:f}),re&&g.jsx(Lc,{saksnummer:e,behandlingUuid:n,arbeidsgiverNavn:T,inntektsmelding:F[0],radData:t,isReadOnly:i,registrerArbeidsforhold:d,lagreVurdering:o,lukkArbeidsforholdRad:u,oppdaterTabell:l,skalViseArbeidsforholdId:F.length>1}),Z&&g.jsx(Go,{saksnummer:e,skjæringspunktDato:r.skjæringstidspunkt,inntektsposter:H,arbeidsforholdForRad:M,alleKodeverk:f})]}),showContent:k,toggleContent:u,isApLeftBorder:ne,children:[g.jsxs(z,{className:jf("ikon",k?"imageColTopPadding":void 0),children:[!ne&&g.jsx(lo,{title:h.formatMessage({id:"ArbeidsforholdRad.Ok"}),className:wn.checkmarkIcon}),ne&&g.jsx(Sr,{title:h.formatMessage({id:"ArbeidsforholdRad.Aksjonspunkt"}),className:wn.exclamationmarkIcon})]}),g.jsxs(z,{className:k?wn.colTopPadding:void 0,children:[k&&g.jsxs(g.Fragment,{children:[g.jsx($,{size:"small",children:T}),g.jsxs(me,{size:"small",children:["(",B?g.jsx(Re,{dateString:B}):E,")"]})]}),!k&&g.jsx(A,{size:"small",children:T})]}),g.jsx(z,{className:k?wn.colTopPadding:void 0,children:g.jsxs(A,{children:[w&&w.fom&&g.jsx(Ye,{dateStringFom:w.fom,dateStringTom:w.tom!==Ce?w.tom:void 0}),!w&&"-"]})}),g.jsx(z,{className:k?wn.colTopPadding:void 0,children:g.jsx(A,{children:g.jsx(m,{id:vf(O,M.length>0)})})}),g.jsx(z,{className:k?wn.colTopPadding:void 0,children:g.jsxs(A,{children:[M.length<2&&F.length===1&&g.jsx(Re,{dateString:F[0].motattDato}),!U&&M.length>1&&F.length===M.length&&g.jsx(m,{id:"ArbeidsforholdRad.Mottatt"}),(O||U&&F.length<M.length)&&g.jsx(m,{id:"ArbeidsforholdRad.IkkeMottatt"})]})})]})},Af="_leggTilImage_2poz8_1",xf="_alertStripe_2poz8_5",Tf={leggTilImage:Af,alertStripe:xf},Nf=(e,n)=>{const r=e.some(l=>l.årsak===ti.MANGLENDE_INNTEKTSMELDING),t=e.some(l=>l.årsak===ti.INNTEKTSMELDING_UTEN_ARBEIDSFORHOLD),i=(n==null?void 0:n.status)===Jn.OPPRETTET,s=[];return i&&r&&s.push("ArbeidOgInntektFaktaPanel.InnhentManglendeInntektsmelding"),i&&t&&s.push("ArbeidOgInntektFaktaPanel.AvklarManglendeOpplysninger"),s},Ef=({behandling:e,aksjonspunkt:n,readOnly:r,arbeidOgInntekt:t,registrerArbeidsforhold:i,erOverstyrer:s,tabellData:l,settÅpneRadIndexer:d,setErOverstyrt:o,oppdaterTabell:u})=>{const k=q(),{arbeidsforhold:f,inntektsmeldinger:v}=t,[h,T]=b.useState(!1),[E,P]=b.useState(!1),y=b.useCallback(()=>{o(!0),T(!0);const O=l.findIndex(L=>{var U;return((U=L.avklaring)==null?void 0:U.saksbehandlersVurdering)===le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER});O!==-1&&d([O])},[l,d]),B=b.useMemo(()=>Nf(l,n),[e.versjon]),M=l.every(O=>O.arbeidsgiverIdent!==cr),F=(n==null?void 0:n.status)===Jn.OPPRETTET;return g.jsxs(g.Fragment,{children:[g.jsx(se,{children:g.jsxs(S,{spaceBetween:!0,children:[g.jsx(p,{children:g.jsx(se,{children:g.jsxs(S,{children:[g.jsx(p,{children:g.jsx(je,{size:"small",children:g.jsx(m,{id:"ArbeidOgInntektFaktaPanel.Overskrift"})})}),s&&F&&!r&&g.jsx(p,{children:g.jsx(Us,{onClick:y})})]})})}),g.jsx(p,{children:g.jsx(sn,{children:g.jsx(A,{size:"small",children:g.jsx(m,{id:"ArbeidOgInntektFaktaPanel.Skjaringstidspunkt",values:{skjæringspunktDato:$e(t.skjæringstidspunkt)}})})})})]})}),g.jsx(I,{thirtyTwoPx:!0}),B.length>0&&g.jsx(hi,{children:B.map(O=>k.formatMessage({id:O})).join(" ")}),f.length===0&&v.length===0&&s&&g.jsx("div",{className:Tf.alertStripe,children:g.jsx(Zn,{variant:"info",children:g.jsx(m,{id:"ArbeidOgInntektFaktaPanel.IngenArbeidsforhold"})})}),g.jsx(I,{sixteenPx:!0}),h&&M&&!E&&g.jsxs(g.Fragment,{children:[g.jsx(I,{twentyPx:!0}),g.jsx(ie,{size:"small",variant:"tertiary",icon:g.jsx(Ai,{"aria-hidden":!0}),onClick:()=>P(!0),children:g.jsx(m,{id:"ArbeidOgInntektFaktaPanel.LeggTilArbeidsforhold"})}),g.jsx(I,{thirtyTwoPx:!0})]}),g.jsx(I,{thirtyTwoPx:!0}),E&&g.jsxs(g.Fragment,{children:[g.jsx(Fo,{behandlingUuid:e.uuid,isReadOnly:!1,registrerArbeidsforhold:i,lukkArbeidsforholdRad:()=>P(!1),oppdaterTabell:u,erOverstyrt:!0,erNyttArbeidsforhold:!0}),g.jsx(I,{fourtyPx:!0})]})]})},yf="_alertStripe_z95u6_1",Sf={alertStripe:yf},Pf=["EMPTY1","ArbeidOgInntektFaktaPanel.Arbeidsforhold","ArbeidOgInntektFaktaPanel.Periode","ArbeidOgInntektFaktaPanel.Kilde","ArbeidOgInntektFaktaPanel.InntektsmeldingMottatt","EMPTY2"],_f=(e,n)=>{const r=e.årsak,t=n.årsak;return r&&!t?-1:t&&!r?1:e.arbeidsgiverNavn.localeCompare(n.arbeidsgiverNavn)},ll=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent,Mf=(e,n)=>{const r={saksbehandlersVurdering:e.saksbehandlersVurdering,begrunnelse:e.begrunnelse};return e.saksbehandlersVurdering===le.MANUELT_OPPRETTET_AV_SAKSBEHANDLER||e.saksbehandlersVurdering===le.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?{...r,arbeidsgiverNavn:n,fom:e.fom,tom:e.tom,stillingsprosent:e.stillingsprosent}:r},Rf=e=>e.årsak?-1:1,Of=(e,n)=>{const{arbeidsforhold:r,inntektsmeldinger:t}=e,i=[...r.sort(Rf)].reduce((l,d)=>{var o;if(l.find(v=>v.arbeidsgiverIdent===d.arbeidsgiverIdent))return l;const u=n[d.arbeidsgiverIdent],k=u.navn,f=d.årsak?d.årsak:(o=t.find(v=>ll(d,v)))==null?void 0:o.årsak;return l.concat({arbeidsgiverIdent:d.arbeidsgiverIdent,arbeidsgiverNavn:k,arbeidsgiverFødselsdato:u.erPrivatPerson?u.fødselsdato:void 0,årsak:f,avklaring:d.saksbehandlersVurdering?Mf(d,k):void 0})},[]),s=t.filter(l=>!r.some(d=>ll(d,l))).map(l=>({arbeidsgiverIdent:l.arbeidsgiverIdent,internArbeidsforholdId:l.internArbeidsforholdId,arbeidsgiverNavn:n[l.arbeidsgiverIdent].navn,arbeidsgiverFødselsdato:n[l.arbeidsgiverIdent].erPrivatPerson?n[l.arbeidsgiverIdent].fødselsdato:void 0,årsak:l.årsak,avklaring:l.saksbehandlersVurdering?{saksbehandlersVurdering:l.saksbehandlersVurdering,begrunnelse:l.begrunnelse}:void 0}));return i.concat(s).sort(_f)},dl=e=>{const n=e.findIndex(r=>r.årsak&&!r.avklaring);return n!==-1?[n]:[]},Df=({saksnummer:e,behandling:n,aksjonspunkt:r,readOnly:t,arbeidOgInntekt:i,arbeidsgiverOpplysningerPerId:s,registrerArbeidsforhold:l,lagreVurdering:d,formData:o,setFormData:u,erOverstyrer:k,lagreCallback:f,settBehandlingPåVentCallback:v,alleKodeverk:h,åpneForNyVurdering:T})=>{const[E,P]=b.useState(!1),[y,B]=b.useState(!1),[M,F]=b.useState(!1),[O,L]=b.useState(o||Of(i,s)),[U,re]=b.useState(dl(O)),ne=bc();b.useEffect(()=>()=>{u(O)},[O]);const Z=b.useCallback(ke=>{U.some(ve=>ve===ke)?re(U.filter(ve=>ve!==ke)):re(U.concat(ke))},[U,re]),K=b.useRef(null),w=b.useCallback(ke=>{var ve;L(ke),re(dl(ke(O))),(ve=K==null?void 0:K.current)==null||ve.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[O]),H=b.useCallback(()=>{P(!0),f({kode:ae.VURDER_ARBEIDSFORHOLD_INNTEKTSMELDING})},[n.versjon]),X=b.useCallback(()=>{P(!0),T()},[n.versjon]),ue=b.useCallback(ke=>{P(!0),B(!1);const{frist:ve,ventearsak:nn}=ke;nn&&v({frist:ve,ventearsak:nn})},[n.versjon]),oe=O.some(ke=>{var ve,nn;return((ve=ke.avklaring)==null?void 0:ve.saksbehandlersVurdering)===le.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_INNTEKTSMELDING||((nn=ke.avklaring)==null?void 0:nn.saksbehandlersVurdering)===le.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_ARBEIDSFORHOLD}),ce=O.every(ke=>!ke.årsak||ke.årsak&&ke.avklaring),ze=(r==null?void 0:r.status)===Jn.UTFORT,sr=(r==null?void 0:r.status)===Jn.OPPRETTET,ar=!t&&(ze||k&&r===void 0),en=!t&&sr&&ce&&!ne&&oe,he=!t&&sr&&ce&&!ne&&!oe;return g.jsxs(g.Fragment,{children:[g.jsx(Ef,{behandling:n,aksjonspunkt:r,readOnly:t,arbeidOgInntekt:i,registrerArbeidsforhold:l,erOverstyrer:k,tabellData:O,settÅpneRadIndexer:re,setErOverstyrt:F,oppdaterTabell:w}),g.jsx(qe,{ref:K,headerTextCodes:Pf,noHover:!0,hasGrayHeader:!0,children:O.map((ke,ve)=>g.jsx(If,{arbeidOgInntekt:i,saksnummer:e,behandlingUuid:n.uuid,radData:ke,isReadOnly:t||ze,registrerArbeidsforhold:l,lagreVurdering:d,toggleÅpenRad:()=>Z(ve),erOverstyrt:M,oppdaterTabell:w,erRadÅpen:U.includes(ve),alleKodeverk:h},`${ke.arbeidsgiverNavn}${ke.arbeidsgiverIdent}${ve}`))}),g.jsx(I,{sixteenPx:!0}),en&&g.jsxs(g.Fragment,{children:[g.jsx(ie,{size:"small",variant:"primary",disabled:E,onClick:()=>B(!0),type:"button",children:g.jsx(m,{id:"ArbeidOgInntektFaktaPanel.SettPaVent"})}),g.jsx(Bk,{submitCallback:ue,cancelEvent:()=>B(!1),defaultVenteårsak:Fk.VENT_OPDT_INNTEKTSMELDING,hasManualPaVent:!0,ventearsaker:h[En.VENT_AARSAK],erTilbakekreving:!1,showModal:y})]}),he&&g.jsx(ie,{size:"small",variant:"primary",disabled:E,loading:E,onClick:H,type:"button",children:g.jsx(m,{id:"ArbeidOgInntektFaktaPanel.Bekreft"})}),ar&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:Sf.alertStripe,children:g.jsx(Zn,{variant:"info",children:g.jsx(m,{id:"ArbeidOgInntektFaktaPanel.ApneForNyRevurderingForklaring"})})}),g.jsx(I,{sixteenPx:!0}),g.jsx(ie,{size:"small",variant:"secondary",disabled:E,loading:E,onClick:X,type:"button",children:g.jsx(m,{id:"ArbeidOgInntektFaktaPanel.ApneForNyVurdering"})})]})]})},Bf={"ArbeidOgInntektFaktaPanel.Overskrift":"Fakta om arbeid og inntekt","ArbeidOgInntektFaktaPanel.Arbeidsforhold":"Arbeidsforhold","ArbeidOgInntektFaktaPanel.Periode":"Periode","ArbeidOgInntektFaktaPanel.Kilde":"Kilde","ArbeidOgInntektFaktaPanel.InntektsmeldingMottatt":"Inntektsmelding","ArbeidOgInntektFaktaPanel.InnhentManglendeInntektsmelding":"Innhent manglende inntektsmeldinger.","ArbeidOgInntektFaktaPanel.AvklarManglendeOpplysninger":"Avklar manglende opplysninger.","ArbeidOgInntektFaktaPanel.IngenArbeidsforhold":"Ingen arbeidsforhold eller inntektsmeldinger registrert på bruker. Det er kun unntaksvis at det skal opprettes manuelle arbeidsforhold. Det kan være i saker søker er ambassadepersonell, utenlandske ansatte eller fisker. Hvis det er andre arbeidsforhold må du kontakte arbeidsgiver eller søker for riktig registrering i AA-reg.","ArbeidOgInntektFaktaPanel.Skjaringstidspunkt":"Skjæringstidspunkt for opptjening: {skjæringspunktDato}","ArbeidOgInntektFaktaPanel.SettPaVent":"Sett på vent","ArbeidOgInntektFaktaPanel.Bekreft":"Bekreft og fortsett","ArbeidOgInntektFaktaPanel.LeggTilArbeidsforhold":" Legg til arbeidsforhold","ArbeidOgInntektFaktaPanel.ApneForNyVurdering":"Åpne for ny vurdering","ArbeidOgInntektFaktaPanel.ApneForNyRevurderingForklaring":'Ved å bruke "Åpne for ny vurdering" kan du endre valg som er gjort i dette panelet. Det som er gjort senere i saken, må gjøres på ny.',"ArbeidsforholdRad.Saksbehandler":"Saksbehandler","ArbeidsforholdRad.AaRegisteret":"A-ordningen","ArbeidsforholdRad.Inntektsmelding":"Inntektsmelding","ArbeidsforholdRad.Aksjonspunkt":"Åpent aksjonspunkt","ArbeidsforholdRad.Ok":"Arbeidsforhold er OK","ArbeidsforholdRad.Mottatt":"Mottatt","ArbeidsforholdRad.IkkeMottatt":"Ikke mottatt","InntektsmeldingInnhentesForm.MåInnhentes":"Må inntektsmelding innhentes?","InntektsmeldingInnhentesForm.TarKontakt":"Jeg tar kontakt med søker eller arbeidsgiver for å innhente inntektsmelding","InntektsmeldingInnhentesForm.GåVidere":"Gå videre uten inntektsmelding","InntektsmeldingInnhentesForm.Begrunn":"Begrunn valget","InntektsmeldingInnhentesForm.Kommentar":"Kommentar","InntektsmeldingInnhentesForm.Lagre":"Lagre","InntektsmeldingInnhentesForm.Avbryt":"Avbryt","InntektsmeldingInnhentesForm.AltHjelpetekst":"Hjelpetekst","InntektsmeldingInnhentesForm.HjelpetekstDel1":"Vi trenger inntektsmelding for å behandle saken. Kontakt arbeidsgiveren per telefon. Hvis kontaktinformasjonen til arbeidsgiver er vanskelig å finne, kontakt bruker først.","InntektsmeldingInnhentesForm.HjelpetekstDel2":"Det er kun unntaksvis at en sak skal behandles uten inntektsmelding, f.eks. at man etter gjentatte ganger ikke oppnår kontakt. Refusjon til arbeidsgiver er ikke mulig uten en inntektsmelding.","InntektsmeldingInnhentesForm.HjelpetekstDel3":"Dersom det er flere arbeidsforhold i samme virksomhet må det sendes en inntektsmelding som gjelder samlet for alle, eller én per arbeidsforhold med arbeidsforholdsID.","InntektsmeldingInnhentesForm.InnehentAlle":"Ved flere arbeidsforhold i samme virksomhet, skal alle inntektsmeldinger innhentes. Mottas ikke alle, må du vurdere om du skal gå videre uten alle inntektsmeldingene. Gjør du det, fjernes arbeidsforholdet (ene) fra beregningen.","InntektsmeldingOpplysningerPanel.Stillingsprosent":"Stillingsprosent","InntektsmeldingOpplysningerPanel.Inntektsmelding":"Inntektsmelding","InntektsmeldingOpplysningerPanel.Refusjon":"Refusjon","InntektsmeldingOpplysningerPanel.Ja":"Ja","InntektsmeldingOpplysningerPanel.Nei":"Nei","InntektsmeldingOpplysningerPanel.Refusjonsbeløp":"Refusjonsbeløp","InntektsmeldingOpplysningerPanel.Kontaktinfo":"Kontaktinfo","InntektsmeldingOpplysningerPanel.Tlf":"Tlf. {nr}","InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding":"Åpne inntektsmelding (PDF)","InntektsmeldingOpplysningerPanel.ArbeidsforholdId":"ID","ManglendeOpplysningerForm.ErMottattMenIkkeReg":"Inntektsmelding er mottatt, men arbeidsforholdet er ikke registrert i A-ordningen","ManglendeOpplysningerForm.SkalBrukeInntekstmelding":"Skal vi bruke denne inntektsmeldingen?","ManglendeOpplysningerForm.TarKontakt":"Jeg kontakter arbeidsgiver","ManglendeOpplysningerForm.GåVidere":"Se bort fra inntektsmeldingen","ManglendeOpplysningerForm.OpprettArbeidsforhold":"Opprett arbeidsforhold basert på inntektsmeldingen","ManglendeOpplysningerForm.Begrunn":"Begrunn valget","ManglendeOpplysningerForm.PeriodeFra":"Periode fra","ManglendeOpplysningerForm.PeriodeTil":"Periode til","ManglendeOpplysningerForm.Stillingsprosent":"Stillingsprosent","ManglendeOpplysningerForm.Lagre":"Lagre","ManglendeOpplysningerForm.Avbryt":"Avbryt","ManglendeOpplysningerForm.AltHjelpetekst":"Hjelpetekst","ManglendeOpplysningerForm.Hjelpetekst":"Det er kun unntaksvis at det skal opprettes manuelle arbeidsforhold basert på en inntektsmelding. Det kan være i saker hvor søker er ambassadepersonell, utenlandske ansatte eller fisker. Hvis det er andre arbeidsforhold må du kontakte arbeidsgiver eller søker for riktig registrering i AA-reg.","ArbeidsforholdInformasjonPanel.ArbeidsforholdId":"ID","ArbeidsforholdInformasjonPanel.Stillingsprosent":"Stillingsprosent","ArbeidsforholdInformasjonPanel.Periode":"Periode","ArbeidsforholdInformasjonPanel.ImMottatt":"Inntektsmelding mottatt","ArbeidsforholdInformasjonPanel.ImIkkeMottatt":"Ikke mottatt inntektsmelding","ArbeidsforholdInformasjonPanel.Inntekter":"Inntekter (fra A-ordningen)","ArbeidsforholdInformasjonPanel.TotaltInntekter":"Inntekter totalt fra virksomheten (fra A-ordningen)","ArbeidsforholdInformasjonPanel.1":"Jan","ArbeidsforholdInformasjonPanel.2":"Feb","ArbeidsforholdInformasjonPanel.3":"Mars","ArbeidsforholdInformasjonPanel.4":"Apr","ArbeidsforholdInformasjonPanel.5":"Mai","ArbeidsforholdInformasjonPanel.6":"Jun","ArbeidsforholdInformasjonPanel.7":"Jul","ArbeidsforholdInformasjonPanel.8":"Aug","ArbeidsforholdInformasjonPanel.9":"Sep","ArbeidsforholdInformasjonPanel.10":"Okt","ArbeidsforholdInformasjonPanel.11":"Nov","ArbeidsforholdInformasjonPanel.12":"Des","ArbeidsforholdInformasjonPanel.TidligereManeder":"Tidligere måneder ","ArbeidsforholdInformasjonPanel.FaerreManeder":"Siste måneder ","ArbeidsforholdInformasjonPanel.IngenInntekt":"Ingen inntekt registrert på bruker i A-ordningen siste seks mnd.","ArbeidsforholdInformasjonPanel.ÅpneInntektsmelding":"Åpne inntektsmelding (PDF)","ArbeidsforholdInformasjonPanel.ApneImInfo":"Vis mer","ArbeidsforholdInformasjonPanel.LukkeImInfo":"Vis mindre","LeggTilArbeidsforholdForm.LeggTilArbeidsforhold":"Legg til arbeidsforhold","LeggTilArbeidsforholdForm.Arbeidsgiver":"Navn på arbeidsgiver","LeggTilArbeidsforholdForm.PeriodeFra":"Periode fra","LeggTilArbeidsforholdForm.PeriodeTil":"Periode til","LeggTilArbeidsforholdForm.Stillingsprosent":"Stillingsprosent","LeggTilArbeidsforholdForm.Begrunn":"Begrunn endringene","LeggTilArbeidsforholdForm.Lagre":"Lagre","LeggTilArbeidsforholdForm.Avbryt":"Avbryt","LeggTilArbeidsforholdForm.Slett":"Slett","NyttArbeidsforholdForm.VilDuSlette":"Vil du slette arbeidsforholdet?","ExpandableTableRow.Apne":"Åpne rad","ExpandableTableRow.Lukke":"Lukk rad"},Ff=Ve(Bf),Co=({saksnummer:e,behandling:n,submitCallback:r,aksjonspunkter:t,readOnly:i,formData:s,setFormData:l,arbeidOgInntekt:d,arbeidsgiverOpplysningerPerId:o,registrerArbeidsforhold:u,lagreVurdering:k,erOverstyrer:f,settBehandlingPåVentCallback:v,alleKodeverk:h,åpneForNyVurdering:T})=>g.jsx(Qe,{value:Ff,children:g.jsx(vc,{children:g.jsx(Df,{saksnummer:e,behandling:n,aksjonspunkt:t.length>0?t[0]:void 0,readOnly:i,formData:s,lagreCallback:r,setFormData:l,arbeidOgInntekt:d,arbeidsgiverOpplysningerPerId:o,registrerArbeidsforhold:u,lagreVurdering:k,erOverstyrer:f,settBehandlingPåVentCallback:v,alleKodeverk:h,åpneForNyVurdering:T})})});Co.__docgenInfo={description:"",methods:[],displayName:"Es"};const $f=[ae.VURDER_ARBEIDSFORHOLD_INNTEKTSMELDING],Lf=[Ke.ARBEID_OG_INNTEKT],ol=({saksnummer:e,behandlingUuid:n,arbeidsgiverOpplysningerPerId:r,rettigheter:t,hentOgSettBehandling:i,...s})=>{const l=q(),{startRequest:d}=Dt.useRestApiRunner(Ke.ARBEID_OG_INNTEKT_REGISTRER_ARBEIDSFORHOLD),{startRequest:o}=Dt.useRestApiRunner(Ke.ARBEID_OG_INNTEKT_LAGRE_VURDERING),{startRequest:u}=Dt.useRestApiRunner(Ke.BEHANDLING_ON_HOLD),{startRequest:k}=Dt.useRestApiRunner(Ke.ARBEID_OG_INNTEKT_ÅPNE_FOR_NY_VURDERING),f=b.useCallback(()=>{k({behandlingUuid:n,behandlingVersjon:s.behandling.versjon}).then(()=>i())},[s.behandling.versjon]),v=b.useCallback(h=>u({frist:h.frist||"",ventearsak:h.ventearsak,behandlingUuid:n,behandlingVersjon:s.behandling.versjon}).then(()=>i()),[s.behandling.versjon]);return _e.jsx(Mr,{...s,panelEndepunkter:Lf,aksjonspunktKoder:$f,faktaPanelKode:Pr.ARBEID_OG_INNTEKT,faktaPanelMenyTekst:l.formatMessage({id:"ArbeidOgInntektInfoPanel.Title"}),skalPanelVisesIMeny:()=>bo.hasPath(Ke.ARBEID_OG_INNTEKT.name)&&!s.behandling.aksjonspunkt.some(h=>ae.AVKLAR_ARBEIDSFORHOLD===h.definisjon),renderPanel:h=>_e.jsx(Co,{saksnummer:e,arbeidsgiverOpplysningerPerId:r,erOverstyrer:t.kanOverstyreAccess.isEnabled,registrerArbeidsforhold:d,lagreVurdering:o,settBehandlingPåVentCallback:v,åpneForNyVurdering:f,...h})})};try{ol.displayName="ArbeidOgInntektFaktaInitPanel",ol.__docgenInfo={description:"",displayName:"ArbeidOgInntektFaktaInitPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},behandlingUuid:{defaultValue:null,description:"",name:"behandlingUuid",required:!0,type:{name:"string"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},rettigheter:{defaultValue:null,description:"",name:"rettigheter",required:!0,type:{name:"AksessRettigheter"}},hentOgSettBehandling:{defaultValue:null,description:"",name:"hentOgSettBehandling",required:!0,type:{name:"() => void"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}var Ue=(e=>(e.FORDEL_BEREGNINGSGRUNNLAG="FORDEL_BG",e.VURDER_REFUSJON_BERGRUNN="VURDER_REFUSJONSKRAV",e.VURDER_NYTT_INNTKTSFRHLD="VURDER_NYTT_INNTKTSFRHLD",e))(Ue||{}),Vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wo={exports:{}},Ur={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gl;function Gf(){if(gl)return Ur;gl=1;var e=J,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,f={},v=null,h=null;u!==void 0&&(v=""+u),o.key!==void 0&&(v=""+o.key),o.ref!==void 0&&(h=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(f[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)f[k]===void 0&&(f[k]=o[k]);return{$$typeof:n,type:d,key:v,ref:h,props:f,_owner:i.current}}return Ur.Fragment=r,Ur.jsx=l,Ur.jsxs=l,Ur}wo.exports=Gf();var c=wo.exports;const at=e=>e?`...${e.substring(e.length-4,e.length)}`:"",ct=(e,n)=>{const{navn:r,fødselsdato:t,erPrivatPerson:i,identifikator:s}=e;return i?t?`${r} (${x(t).format(te)})${at(n)}`:r:s?`${r} (${s})${at(n)}`:r},vs=(e,n)=>{var r,t;const i=((r=e.arbeidsgiver)==null?void 0:r.arbeidsgiverOrgnr)||((t=e.arbeidsgiver)==null?void 0:t.arbeidsgiverAktørId);if(!i||!n[i])return"";const s=n[i];return s.erPrivatPerson?s.fødselsdato?`${s.navn} (${x(s.fødselsdato).format(te)})${at(e.eksternArbeidsforholdRef)}`:`${s.navn}${at(e.eksternArbeidsforholdRef)}`:`${s.navn} (${i})${at(e.eksternArbeidsforholdRef)}`},Cf="_tabell_u17gc_1",zf="_fadein_u17gc_1",wf="_correctPadding_u17gc_9",Kf="_flexColumn12_u17gc_12",Yf="_flexColumn9_u17gc_15",Uf="_flexColumn3_u17gc_18",li={tabell:Cf,fadein:zf,correctPadding:wf,flexColumn12:Kf,flexColumn9:Yf,flexColumn3:Uf},Hf=(e,n)=>e.map(r=>c.jsx(S,{className:li.correctPadding,children:c.jsx(p,{children:r&&r.erTildeltRefusjon?c.jsx(A,{size:"small",children:n}):c.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Direkteutbetaling"})})},`${n}_(${r.fom}_(${r.erTildeltRefusjon})`)),Zf=e=>{if(!e)return;const n=e.tom===Ce?void 0:e.tom;return c.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Periode",values:{fom:$e(e.fom),tom:n?$e(n):""}})},Jf=e=>e.map(n=>c.jsx(S,{className:li.correctPadding,children:c.jsx(p,{children:Zf(n)})},`${n.fom}_(${n.erTildeltRefusjon})`)),Wf=({refusjonAndel:e,arbeidsgiverOpplysningerPerId:n})=>c.jsxs(Ge,{children:[c.jsx(z,{children:vs(e,n)}),c.jsx(z,{children:Hf(e.tidligereUtbetalinger||[],vs(e,n))}),c.jsx(z,{children:Jf(e.tidligereUtbetalinger||[])})]}),Qf=e=>e.arbeidsgiver?e.arbeidsgiver.arbeidsgiverAktørId?`${e.arbeidsgiver.arbeidsgiverAktørId}${e.internArbeidsforholdRef})`:`${e.arbeidsgiver.arbeidsgiverOrgnr}${e.internArbeidsforholdRef})`:`${e.aktivitetStatus}${e.internArbeidsforholdRef})`,qf=({beregningsgrunnlag:e,arbeidsgiverOpplysningerPerId:n})=>{var r;const t=((r=e.refusjonTilVurdering)==null?void 0:r.andeler)||[];return c.jsx(S,{children:c.jsx(p,{className:li.flexColumn9,children:c.jsx(qe,{headerTextCodes:["BeregningInfoPanel.RefusjonBG.Aktivitet","BeregningInfoPanel.RefusjonBG.TidligereUtb","BeregningInfoPanel.RefusjonBG.GjeldendeFra"],noHover:!0,classNameTable:li.tabell,children:t.map(i=>c.jsx(Wf,{arbeidsgiverOpplysningerPerId:n,refusjonAndel:i},Qf(i)))})})})},Xf="_marginTopp_pc86y_1",ep="_bredde_pc86y_4",np="_flexColumn9_pc86y_7",rp="_flexColumn3_pc86y_10",_n={marginTopp:Xf,bredde:ep,flexColumn9:np,flexColumn3:rp},tp="REFUSJON_ENDRING_DATO",ip="DELVIS_REFUSJON_FØR_START_BELØP",Ko=(e,n)=>n.arbeidsgiver?n.arbeidsgiver.arbeidsgiverOrgnr?`${e}${n.arbeidsgiver.arbeidsgiverOrgnr}${n.internArbeidsforholdRef}`:`${e}${n.arbeidsgiver.arbeidsgiverAktørId}${n.internArbeidsforholdRef}`:`${e}${n.aktivitetStatus}${n.internArbeidsforholdRef})`,di=e=>Ko(tp,e),oa=e=>Ko(ip,e),sp=(e,n)=>n?new Date(n).getTime()===new Date(e).getTime():!1,ft=({refusjonAndel:e,readOnly:n,erAksjonspunktÅpent:r,arbeidsgiverOpplysningerPerId:t,skjæringstidspunkt:i,vilkårperiodeFieldIndex:s})=>{const l=vs(e,t),d=e.skalKunneFastsetteDelvisRefusjon?"BeregningInfoPanel.RefusjonBG.TidligereRefusjon":"BeregningInfoPanel.RefusjonBG.IngenTidligereRefusjon",o=Se().watch(`VURDER_REFUSJON_BERGRUNN_FORM.${s}.${di(e)}`),u=sp(i,o),k=b.useCallback(f=>c.jsx("b",{children:f}),[]);return c.jsxs(c.Fragment,{children:[c.jsx(S,{children:c.jsx(p,{className:_n.flexColumn9,children:c.jsx(m,{id:d,values:{ag:l,dato:$e(e.nyttRefusjonskravFom),b:k}})})}),c.jsxs(S,{children:[c.jsx(p,{className:_n.flexColumn3,children:c.jsx(A,{size:"small",className:_n.marginTopp,children:c.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.RefusjonFra"})})}),c.jsx(p,{className:_n.flexColumn3,children:c.jsx(Wn,{name:`VURDER_REFUSJON_BERGRUNN_FORM.${s}.${di(e)}`,isReadOnly:n,validate:n?[]:[Q,Bn,Qs(e.tidligsteMuligeRefusjonsdato)],isEdited:!!e.fastsattNyttRefusjonskravFom&&!r})})]}),e.skalKunneFastsetteDelvisRefusjon&&!u&&e.maksTillattDelvisRefusjonPrMnd&&c.jsxs(S,{children:[c.jsx(p,{className:_n.flexColumn3,children:c.jsx(A,{size:"small",className:_n.marginTopp,children:c.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.DelvisPrMnd"})})}),c.jsx(p,{className:_n.flexColumn3,children:c.jsx(Ae,{name:`VURDER_REFUSJON_BERGRUNN_FORM.${s}.${oa(e)}`,className:_n.bredde,validate:n?[]:[Q,$k(1),vn(e.maksTillattDelvisRefusjonPrMnd)],parse:Le,readOnly:n,isEdited:!!e.fastsattDelvisRefusjonPrMnd&&!r})})]})]})};ft.buildInitialValues=e=>{const n={};return n[di(e)]=e.fastsattNyttRefusjonskravFom||"",n[oa(e)]=C(e.fastsattDelvisRefusjonPrMnd)||"",n};ft.transformValues=(e,n,r)=>{var t,i;const s=di(n),l=e[s];let d;if(n.skalKunneFastsetteDelvisRefusjon&&l!==r){const o=oa(n);d=fe(e[o])}return{arbeidsgiverOrgnr:(t=n.arbeidsgiver)==null?void 0:t.arbeidsgiverOrgnr,arbeidsgiverAktoerId:(i=n.arbeidsgiver)==null?void 0:i.arbeidsgiverAktørId,internArbeidsforholdRef:n.internArbeidsforholdRef,fastsattRefusjonFom:l,delvisRefusjonPrMndFørStart:d}};const ap="_begrunnelseTextField_1wq9u_1",lp="_explanationTextarea_1wq9u_4",dp="_explanationTextareaReadOnly_1wq9u_7",Ci={begrunnelseTextField:ap,explanationTextarea:lp,explanationTextareaReadOnly:dp},ga={"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.EndringYtelse":"Endring i søkt ytelse for {arbeidsforhold}. ","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.Refusjon":"Nytt refusjonskrav hos {arbeidsforhold}. ","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.Gradering":"Søkt gradering hos {arbeidsforhold}. ","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.Permisjon":"Permisjon avsluttet hos {arbeidsforhold}","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.FastsetÅrsbeløp":"Fastsett årsbeløp for ny fordeling av beregningsgrunnlaget.","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.TilkommetAktivitet":"<b>Tilkommet aktivitet</b> {br} Vurder om beregningsgrunnlaget skal flyttes til ny aktivitet eller fordeles mellom aktivitetene.","FordelBeregningsgrunnlag.Validation.KanIkkeHaNullIBeregningsgrunnlag":"Fastsatt beløp for gradert andel må være høyere enn 0.","BeregningInfoPanel.FordelingBG.LeggTilAndel":"Legg til aktivitet","BeregningInfoPanel.FordelingBG.Ytelse":"Ytelse","BeregningInfoPanel.FordelBG.PeriodeFom":"{fom} - ","BeregningInfoPanel.FordelBG.PeriodeFomOgTom":"{fom} - {tom}","BeregningInfoPanel.FordelBG.Andel":"Aktivitet","BeregningInfoPanel.FordelBG.AndelIArbeid":"Andel i arbeid","BeregningInfoPanel.FordelBG.Refusjonskrav":"Ref.krav","BeregningInfoPanel.FordelBG.Fordeling":"Ny fordeling","BeregningInfoPanel.FordelBG.Inntektskategori":"Inntektskategori","BeregningInfoPanel.FordelBG.Sum":"Sum","BeregningInfoPanel.FordelBG.Validation.LikFordeling":"Summen må være lik {fordeling}","BeregningInfoPanel.FordelBG.Validation.TotalRefusjonSkalIkkeOverstige":"Total refusjon må vere lavere enn {seksG}","BeregningInfoPanel.FordelBG.Validation.TotalFordelingLavereEnn":"Total fordeling for følgende andeler må være lavere enn {seksG}: {andelsliste}","BeregningInfoPanel.FordelBG.Validation.UlikeAndeler":"Andeler for samme aktivitet må ha ulik inntektskategori","BeregningInfoPanel.FordelBG.Validation.IkkjeHogereRefusjonEnnInntektsmelding":"Total refusjon for {arbeidsgiver} kan ikke være høyere enn beløpet fra inntektsmeldingen.","BeregningInfoPanel.FordelBG.Inntekt":"Inntekt","BeregningInfoPanel.FordelBG.Beregningsgrunnlag":"Grunnlag","BeregningInfoPanel.RefusjonBG.Tittel":"Endring i refusjon","BeregningInfoPanel.RefusjonBG.Aktivitet":"Aktivitet","BeregningInfoPanel.RefusjonBG.TidligereUtb":"Tidligere utbetalinger","BeregningInfoPanel.RefusjonBG.GjeldendeFra":"Gjelder fra","BeregningInfoPanel.RefusjonBG.Direkteutbetaling":"Direkte utbetaling","BeregningInfoPanel.RefusjonBG.Periode":"{fom} - {tom}","BeregningInfoPanel.RefusjonBG.IngenTidligereRefusjon":"<b>{ag}</b> krever refusjon fra og med {dato}","BeregningInfoPanel.RefusjonBG.TidligereRefusjon":"<b>{ag}</b> krever refusjon fra og med {dato}. Det er tidligere innvilget et lavere refusjonsbeløp","BeregningInfoPanel.RefusjonBG.RefusjonFra":"Refusjonsbeløpet skal gjelde fra og med","BeregningInfoPanel.RefusjonBG.Aksjonspunkt":"Nytt refusjonskrav overlapper tidligere utbetalinger. Sett endringsdato for ny refusjon.","BeregningInfoPanel.RefusjonBG.DelvisPrMnd":"Før denne datoen skal refusjonsbeløpet per måned være","BeregningInfoPanel.TilkommetAktivitet.Aktivitet":"Aktivitet","BeregningInfoPanel.TilkommetAktivitet.Periode":"Inntektsperiode","BeregningInfoPanel.TilkommetAktivitet.Årsinntekt":"Årsinntekt","BeregningInfoPanel.TilkommetAktivitet.RedusererUtbetaling":"Reduserer inntektstap","BeregningInfoPanel.TilkommetAktivitet.Ja":"Ja","BeregningInfoPanel.TilkommetAktivitet.Nei":"Nei","BeregningInfoPanel.TilkommetAktivitet.VurderTekstNæring":"Har søker inntekt fra den nye næringsaktiviteten som reduserer søkers inntektstap?","BeregningInfoPanel.TilkommetAktivitet.VurderTekstFrilans":"Har søker inntekt fra den nye frilanseraktiviteten som reduserer søkers inntektstap?","BeregningInfoPanel.TilkommetAktivitet.VurderTekstArbeid":"Har søker inntekt fra {arbeidsforhold} som reduserer søkers inntektstap?","BeregningInfoPanel.TilkommetAktivitet.Fastsett":"Fastsett årsinntekt","BeregningInfoPanel.TilkommetAktivitet.LesMer":"Hvordan fastsette årsinntekten?","BeregningInfoPanel.TilkommetAktivitet.LesMerArbeid":"Kontakt bruker for å dokumentere inntekten i det nye arbeidsforholdet. Enten ved å be arbeidsgiver sende inn inntektsmelding eller så kan bruker selv dokumenterer inntekten med arbeidskontrakt, lønnsslipper eller lignende. {br}{br}Dersom arbeidsforholdet har vart så lenge at utbetalt lønn er rapportert i a-ordningen, kan § 8-28 filtret benyttes for å fastsette årsinntekten. Hvis mulig,  benytt de 3 siste månedene og regn om til årsinntekt. Dersom arbeidsforholdet har vart kortere, kan du benytte en kortere periode.","BeregningInfoPanel.TilkommetAktivitet.LesMerFrilans":"Kontakt bruker for å dokumentere hva inntekten utgjør hvis det ikke er rapportert inntekt fra frilansoppdrag i a-ordningen. {br}{br}Hvis oppdraget har vart så lenge at inntekten er rapportert i a-ordningen, kan § 8-28 filtret benyttes for å fastsette årsinntekten. Benytt de 3 siste månedene hvis mulig og regn om til årsinntekt. Hvis oppdraget har vart kortere, kan du benytte en kortere periode.","BeregningInfoPanel.TilkommetAktivitet.LesMerNæring":"Benytt opplysninger oppgitt av bruker i søknaden, eller be bruker sannsynliggjøre forventet inntekt.","BeregningInfoPanel.TilkommetAktivitet.Alert":"Utgangspunktet er at all tilkommet aktivitet med inntekt skal føre til reduksjon i utbetaling. Det kan likevel være feil eller mangler i opplysningene fra AA-registeret. F. eks. internt bytte av org. nummer pga. endret lønns- og personalsystem eller manglende registrert sluttdato i gammel stilling ved overgang til ny stilling. Gjør derfor en konkret vurdering av hvorfor tilkommet aktivitet og inntekt ikke skal føre til reduksjon.","FaktaBegrunnelseTextField.BegrunnEndringene":"Begrunn endringene","SubmitButton.ConfirmInformation":"Bekreft og fortsett","HelpText.Aksjonspunkt.BehandletAksjonspunkt":"Behandlet aksjonspunkt: ","TilkommetAktivitet.AksjonspunktAlert":"Inntekter som kommer til underveis i en løpende pleiepengeperiode er ikke en del av søkers beregningsgrunnlag. Dersom inntekten reduserer søkers inntektstap, må det vurderes om pleiepengene skal graderes mot den nye inntekten.","TilkommetAktivitet.AksjonspunktHelpText":"Vurder om pleiepengene skal reduseres på grunn av den nye inntekten.","TilkommetAktivitet.Heading":"Perioder med ny aktivitet","TilkommetAktivitet.Modal.Knapp":"Del opp periode","TilkommetAktivitet.Modal.Tittel":"Del opp periode","TilkommetAktivitet.Modal.Select":"Hvilken periode ønsker du å dele opp?","TilkommetAktivitet.Modal.DatoValg":"Opprett ny vurdering fra","TilkommetAktivitet.Modal.Resultat":"Nye perioder til vurdering:","TilkommetAktivitet.Modal.Placeholder":"Velg periode","TilkommetAktivitet.Modal.Periode":"{fom} - {tom}","TilkommetAktivitet.Modal.DelOppKnapp":"Del opp periode","TilkommetAktivitet.Modal.AvbrytKnapp":"Avbryt","TilkommetAktivitet.AlertHeading.FlereStatuser":"Søker har nye aktiviteter","TilkommetAktivitet.AlertHeading.SelvstendigNæringsdrivende":"Søker har opplyst om ny inntekt som selvstendig næringsdrivende.","TilkommetAktivitet.AlertHeading.Frilans":"Søker har en ny frilansaktivitet i AA-registeret.","TilkommetAktivitet.AlertHeading.Arbeidsforhold":"Søker har et nytt arbeidsforhold i AA-registeret","Fordeling.VurdertTidligere":"Vurdert i en tidligere behandling","BeregningInfoPanel.TilkommetAktivitet.TomTekst":" "},ul=Ve(ga),op=pn(3),gp=jn(1500),Or=({isReadOnly:e,isSubmittable:n,hasBegrunnelse:r,label:t,hasVurderingText:i,name:s})=>{const l=i?"FaktaBegrunnelseTextField.Vurdering":"FaktaBegrunnelseTextField.BegrunnEndringene",d=t||ul.formatMessage({id:l});return c.jsx(Qe,{value:ul,children:(n||r)&&c.jsx("div",{className:Ci.begrunnelseTextField,children:c.jsx(Xe,{name:s,label:e?"":d,validate:e?[]:[Q,op,gp,fn],className:e?Ci.explanationTextareaReadOnly:Ci.explanationTextarea,maxLength:1500,readOnly:e})})})};Or.defaultProps={name:"begrunnelse",hasVurderingText:!1};const up=e=>e&&e.begrunnelse?e.begrunnelse:"";Or.buildInitialValues=(e,n="begrunnelse")=>({[n]:Ys(up(e))});Or.transformValues=(e,n="begrunnelse")=>({begrunnelse:e[n]});const kp=Ve(ga),mp=(e,n,r)=>!r||n?!0:!e,Pi=({isReadOnly:e,isSubmittable:n,onClick:r,isSubmitting:t,isDirty:i})=>e?null:c.jsx(ie,{size:"small",loading:t,disabled:mp(i,t,n),onClick:r||qs,type:r?"button":"submit",children:kp.formatMessage({id:"SubmitButton.ConfirmInformation"})}),kl="VURDER_REFUSJON_BERGRUNN_FORM",{VURDER_REFUSJON_BERGRUNN:cp}=Ue,Yo=e=>e?e.find(n=>n.definisjon===cp):void 0,fp=e=>e.arbeidsgiver?e.arbeidsgiver.arbeidsgiverAktørId?`${e.arbeidsgiver.arbeidsgiverAktørId}${e.internArbeidsforholdRef})`:`${e.arbeidsgiver.arbeidsgiverOrgnr}${e.internArbeidsforholdRef})`:`${e.aktivitetStatus}${e.internArbeidsforholdRef})`,pp=(e,n)=>{var r;const t=((r=e.refusjonTilVurdering)==null?void 0:r.andeler)||[],i=Yo(e.avklaringsbehov);let s={beregningsgrunnlagId:e.beregningsgrunnlagId,periode:n.periode,begrunnelse:i&&i.begrunnelse?i.begrunnelse:void 0};return t.forEach(l=>{s={...s,...ft.buildInitialValues(l)}}),s},jp=(e,n)=>{var r;const t=(((r=n.refusjonTilVurdering)==null?void 0:r.andeler)||[]).map(i=>ft.transformValues(e,i,n.skjaeringstidspunktBeregning));return{periode:e.periode,begrunnelse:e.begrunnelse,fastsatteAndeler:t}},vp=({submittable:e,readOnly:n,beregningsgrunnlag:r,arbeidsgiverOpplysningerPerId:t,vilkårperiodeFieldIndex:i})=>{var s;const l=n&&!r.avklaringsbehov.some(v=>v.definisjon===Ue.VURDER_REFUSJON_BERGRUNN),d=((s=r.refusjonTilVurdering)==null?void 0:s.andeler)||[],o=Yo(r.avklaringsbehov),u=o?dn(o.status):!1,k=Se(),f=k.watch(`VURDER_REFUSJON_BERGRUNN_FORM.${i}.begrunnelse`);return c.jsxs(c.Fragment,{children:[c.jsx(kt,{isAksjonspunktOpen:u,children:[c.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Aksjonspunkt"},"aksjonspunktText")]}),c.jsx(I,{sixteenPx:!0}),c.jsx(je,{size:"small",children:c.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Tittel"})}),c.jsx(I,{sixteenPx:!0}),c.jsx(qf,{beregningsgrunnlag:r,arbeidsgiverOpplysningerPerId:t}),d.map(v=>c.jsx(ft,{refusjonAndel:v,readOnly:l,erAksjonspunktÅpent:u,arbeidsgiverOpplysningerPerId:t,skjæringstidspunkt:r.skjaeringstidspunktBeregning,formName:kl,vilkårperiodeFieldIndex:i},fp(v))),c.jsx(I,{twentyPx:!0}),c.jsx(Or,{name:`${kl}.${i}.begrunnelse`,isSubmittable:e,isReadOnly:l,hasBegrunnelse:!!f}),c.jsx(I,{twentyPx:!0}),c.jsx(Pi,{isSubmittable:e,isReadOnly:l,isSubmitting:k.formState.isSubmitting,isDirty:k.formState.isDirty}),c.jsx(I,{sixteenPx:!0})]})};function pt(e,n){const r=e.find(t=>t.periode.fom===n);if(!r)throw Error(`Mangler vilkårsperiode for vilkårsperiodeFom ${n}`);return r}function er(e,n){return pt(e,n).vurderesIBehandlingen}const oi="VURDER_REFUSJON_BERGRUNN_FORM",{VURDER_REFUSJON_BERGRUNN:bp}=Ue,hp=(e,n)=>({[oi]:e.map(r=>pp(r,pt(n,r.vilkårsperiodeFom)))}),Ip=(e,n)=>{const r=n.find(t=>t.vilkårsperiodeFom===e);if(!r)throw Error(`Mangler beregningsgrunnlag for vilkårsperiodeFom ${e}`);return r},Ap=(e,n,r)=>{const t=e[oi].filter(i=>er(r,i.periode.fom)).map(i=>jp(i,Ip(i.periode.fom,n)));return{begrunnelse:t.map(i=>i.begrunnelse).reduce((i,s)=>i!==null?`${i} ${s}`:s),grunnlag:t,kode:bp}},xp=({aktivtBeregningsgrunnlagIndeks:e,submittable:n,readOnly:r,beregningsgrunnlagListe:t,vilkarperioder:i,arbeidsgiverOpplysningerPerId:s,setFormData:l,formData:d,submitCallback:o,setRefusjonFormIsDirty:u})=>{const k=He({defaultValues:d!=null&&d.VURDER_REFUSJON_BERGRUNN_FORM?d:hp(t,i)}),{formState:{dirtyFields:f,isSubmitted:v,errors:h,isDirty:T},control:E,trigger:P}=k;b.useEffect(()=>{u(T)},[T]),b.useEffect(()=>{var B;v&&(B=f[oi])!=null&&B[e]&&P()},[e]);const{fields:y}=ln({name:oi,control:E});return c.jsx(Js,{errorMessage:"Noe gikk galt ved visning av refusjon",children:c.jsx(Ze,{formMethods:k,onSubmit:B=>{Object.keys(h).length===0&&o(Ap(B,t,i))},setDataOnUnmount:l,children:y.map(B=>{const M=t.findIndex(F=>F.beregningsgrunnlagId===B.beregningsgrunnlagId);return c.jsx("div",{style:{display:M===e?"block":"none"},children:c.jsx(vp,{submittable:n,readOnly:r||!er(i,t[M].vilkårsperiodeFom),beregningsgrunnlag:t[M],arbeidsgiverOpplysningerPerId:s,vilkårperiodeFieldIndex:M})},B.id)})})})},{FORDEL_BEREGNINGSGRUNNLAG:Tp}=Ue,Np=(e,n)=>n.some(r=>r.definisjon===e),Ep=(e,n,r,t)=>{const i=[];return t.length===0&&n.length===0&&e.length===0&&r.length===0||i.push(c.jsx(m,{id:"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.TilkommetAktivitet",values:{b:(...s)=>c.jsx("b",{children:s}),br:c.jsx("br",{})}},"EndringBeregningsgrunnlagFastsetÅrsbeløp")),i},yp=e=>e.map(({erRefusjon:n})=>n).includes(!0)||e.map(({erGradering:n})=>n).includes(!0),Sp=e=>{const n=e.filter(({perioderMedGraderingEllerRefusjon:s})=>s==null?void 0:s.map(({erGradering:l})=>l).includes(!0)),r=e.filter(({perioderMedGraderingEllerRefusjon:s})=>s==null?void 0:s.map(({erRefusjon:l})=>l).includes(!0)),t=e.filter(({permisjon:s})=>s!=null).filter(({perioderMedGraderingEllerRefusjon:s})=>yp(s||[])),i=e.filter(({perioderMedGraderingEllerRefusjon:s})=>s==null?void 0:s.map(({erSøktYtelse:l})=>l).includes(!0));return Ep(n,r,t,i)},Pp=e=>{var n,r;const t=((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.arbeidsforholdTilFordeling)||[];return Np(Tp,e.avklaringsbehov)?Sp(t):[]},_p=({isAksjonspunktClosed:e,beregningsgrunnlag:n})=>{const r=Pp(n);return c.jsx(kt,{isAksjonspunktOpen:!e,children:r})};var Uo={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var t=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var l=typeof s;if(l==="string"||l==="number")t.push(this&&this[s]||s);else if(Array.isArray(s))t.push(r.apply(this,s));else if(l==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){t.push(s.toString());continue}for(var d in s)n.call(s,d)&&s[d]&&t.push(this&&this[d]||d)}}}return t.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Uo);var Mp=Uo.exports;const Ho=zo(Mp),Zo=" - ",Jo=e=>e==null,Rp=e=>{if(e.length===0)return"";if(e.length===1)return`${parseFloat(e[0]).toFixed(2)}`;const n=Math.min(...e),r=Math.max(...e);return`${n}${Zo}${r}`},Op=e=>e.inntektskategori&&e.inntektskategori!==$n.UDEFINERT?e.inntektskategori:"",Dp=(e,n,r,t)=>{var i,s;if(!e.aktivitetStatus||e.aktivitetStatus===D.UDEFINERT)return"";if(e.aktivitetStatus===D.ARBEIDSTAKER&&e.arbeidsforhold){const l=e.arbeidsforhold.arbeidsgiverIdent?t[e.arbeidsforhold.arbeidsgiverIdent]:void 0;return l?ct(l,e.arbeidsforhold.eksternArbeidsforholdId):e.arbeidsforhold.arbeidsforholdType&&((i=r[ye.OPPTJENING_AKTIVITET_TYPE].find(d=>{var o;return d.kode===((o=e.arbeidsforhold)==null?void 0:o.arbeidsforholdType)}))==null?void 0:i.kode)||""}return n&&e.aktivitetStatus===D.BRUKERS_ANDEL?"Ytelse":((s=r[ye.AKTIVITET_STATUS].find(l=>l.kode===e.aktivitetStatus))==null?void 0:s.navn)||""},Bp=e=>Jo(e)?void 0:e,ml=e=>C(e)||"",Fp=(e,n,r)=>e!==void 0?ml(e):r&&!Jo(n)?ml(n):"",$p=e=>({arbeidsgiverNavn:e.arbeidsforhold&&e.arbeidsforhold.arbeidsgiverNavn?e.arbeidsforhold.arbeidsgiverNavn:"",arbeidsgiverId:e.arbeidsforhold&&e.arbeidsforhold.arbeidsgiverIdent?e.arbeidsforhold.arbeidsgiverIdent:"",eksternArbeidsforholdId:e.arbeidsforhold&&e.arbeidsforhold.eksternArbeidsforholdId?e.arbeidsforhold.eksternArbeidsforholdId:"",arbeidsforholdId:e.arbeidsforhold&&e.arbeidsforhold.arbeidsforholdId?e.arbeidsforhold.arbeidsforholdId:"",arbeidsperiodeFom:e.arbeidsforhold?e.arbeidsforhold.startdato:"",arbeidsperiodeTom:e.arbeidsforhold&&e.arbeidsforhold.opphoersdato!==null?e.arbeidsforhold.opphoersdato:"",arbeidsforholdType:e.arbeidsforholdType}),Lp=(e,n,r,t)=>({andel:Dp(e,n,r,t),aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,nyAndel:!1,kilde:e.kilde==null?void 0:e.kilde,lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler===!0,inntektskategori:Op(e),forrigeInntektskategori:!e.inntektskategori||e.inntektskategori===$n.UDEFINERT?void 0:e.inntektskategori}),Wo=(e,n,r,t,i)=>{if(n.skalRedigereInntekt){const s=t(`FORDEL_BEREGNING_FORM.${e}.${r}.${i}.fastsattBelop`);return s?fe(s):0}return n.readOnlyBelop?fe(n.readOnlyBelop):0},Vp=e=>e?Number(fe(e)):0,Gp=e=>e.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.UlikeAndeler"}),Cp=(e,n)=>e.inntektskategori===n.inntektskategori&&e.arbeidsgiverIdent===n.arbeidsgiverIdent&&e.aktivitetstatus===n.aktivitetstatus&&e.arbeidsforholdId===n.arbeidsforholdId,zp=(e,n)=>e.some(r=>Cp(n,r)),wp=(e,n)=>{const r=e.find(t=>t.andelsnr===n);if(!r)throw new Error(`Finner ikke field med andelsnr ${n}`);return r},Kp=(e,n,r,t)=>{const i=[];return t.forEach((s,l)=>{if(s.nyAndel&&(s.andelsnrRef||s.andelsnrRef===0)){const d=wp(t,s.andelsnrRef);i.push({erNyAndel:s.nyAndel,aktivitetstatus:s.aktivitetStatus,inntektskategori:n(`FORDEL_BEREGNING_FORM.${e}.${r}.${l}.inntektskategori`),arbeidsgiverIdent:d.arbeidsgiverId,arbeidsforholdId:d.arbeidsforholdId})}else i.push({erNyAndel:s.nyAndel,aktivitetstatus:s.aktivitetStatus,inntektskategori:s.inntektskategori,arbeidsgiverIdent:s.arbeidsgiverId,arbeidsforholdId:s.arbeidsforholdId})}),i},Yp=(e,n,r,t,i)=>{const s=Kp(e,n,r,t),l=[];let d=!1;return s.forEach(o=>{zp(l,o)&&(d=!0),l.push(o)}),d?Gp(i):void 0},Up=(e,n)=>(!!e.refusjonskravFraInntektsmelding||e.refusjonskravFraInntektsmelding===0)&&(!!n.refusjonskravFraInntektsmelding||n.refusjonskravFraInntektsmelding===0)&&n.refusjonskravFraInntektsmelding<e.refusjonskravFraInntektsmelding,Hp=(e,n,r,t,i,s)=>{const l=s.findIndex(({arbeidsforholdId:o,arbeidsgiverId:u})=>o===t.arbeidsforholdId&&u===t.arbeidsgiverId),d=n(`FORDEL_BEREGNING_FORM.${e}.${r}.${i}.refusjonskrav`);if(l>=0){const o=s[l];Up(t,o)&&(o.refusjonskravFraInntektsmelding=t.refusjonskravFraInntektsmelding),d!=null&&(o.totalRefusjon+=Number(fe(d)))}else{const{refusjonskravFraInntektsmelding:o,arbeidsforholdId:u,arbeidsgiverNavn:k,arbeidsgiverId:f,eksternArbeidsforholdId:v}=t;let h=0;d!=null&&(h=Number(fe(d))),s.push({arbeidsforholdId:u,eksternArbeidsforholdId:v,arbeidsgiverNavn:k,arbeidsgiverId:f,refusjonskravFraInntektsmelding:o,totalRefusjon:h})}},Zp=(e,n,r,t)=>{const i=[];return t.forEach((s,l)=>{s.arbeidsforholdId!==""&&Hp(e,n,r,s,l,i)}),i},Jp=(e,n)=>n.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.IkkjeHogereRefusjonEnnInntektsmelding"},{arbeidsgiver:e}),Wp=(e,n,r,t,i,s)=>{const l=Zp(e,t,r,n).filter(d=>(d.refusjonskravFraInntektsmelding||d.refusjonskravFraInntektsmelding===0)&&d.totalRefusjon>d.refusjonskravFraInntektsmelding);if(l.length>0){const d=l[0].arbeidsgiverId?i[l[0].arbeidsgiverId]:void 0;let o;return d?o=ct(d,l[0].eksternArbeidsforholdId):o=l[0].arbeidsgiverNavn||"",Jp(o,s)}},Qp=(e,n)=>e?n.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.LikFordeling"},{fordeling:e}):void 0,qp=e=>e.formatMessage({id:"FordelBeregningsgrunnlag.Validation.KanIkkeHaNullIBeregningsgrunnlag"}),Xp=(e,n)=>e?n.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.TotalRefusjonSkalIkkeOverstige"},{seksG:e}):void 0,ej=(e,n,r)=>e>=Math.round(n)?Xp(C(n),r):void 0,Qo=(e,n,r)=>r.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.TotalFordelingLavereEnn"},{seksG:e,andelsliste:n}),qo=(e,n,r,t,i)=>e>=Math.round(n)?t(C(n),r,i):void 0,nj=(e,n,r)=>e!==Math.round(n)?Qp(C(Math.round(n)),r):void 0,rj=(e,n,r,t,i,s,l)=>{const d=!r.arbeidsperiodeTom||Ck(r.arbeidsperiodeTom,t);if(!r.andelIArbeid||!d)return!1;const o=i(`FORDEL_BEREGNING_FORM.${e}.${s}.${l}.fastsattBelop`),u=o?fe(o):0;return!Number.isNaN(Number(r.andelIArbeid))&&Number(r.andelIArbeid)>0&&u<=0?!0:r.andelIArbeid.split(Zo).filter(k=>Number(k)>0).length>0&&u===0},tj=(e,n,r,t,i,s)=>t.some((l,d)=>rj(e,s,l,i,n,r,d))?qp(s):void 0,ij=(e,n,r,t,i,s)=>{const l=t.map((d,o)=>Wo(e,d,r,n,o)).reduce((d,o)=>d+o,0);return i!=null?nj(l,i,s):void 0},cl=(e,n,r,t,i)=>{const s=i(`FORDEL_BEREGNING_FORM.${e}.${r}.${t}.refusjonskrav`);return Vp(s)},sj=(e,n,r,t,i,s)=>{const l=!!n.find((u,k)=>u.andelIArbeid!=="0.00"&&cl(e,u,r,k,t)===0),d=n.map((u,k)=>cl(e,u,r,k,t)).reduce((u,k)=>u+k,0),o=6*i;return l?ej(d,o,s):void 0},Xo=(e,n)=>{const r=e.map(t=>{var i;return((i=n[ye.AKTIVITET_STATUS].find(s=>s.kode===t))==null?void 0:i.navn)||""});return r.sort((t,i)=>t.localeCompare(i)),[...new Set(r)].join(", ")},eg=(e,n,r,t,i)=>t.map((s,l)=>s.aktivitetStatus&&!i.includes(s.aktivitetStatus)?0:Wo(e,s,r,n,l)).reduce((s,l)=>s+l,0),aj=(e,n,r,t,i,s,l)=>{const d=[D.ARBEIDSTAKER],o=eg(e,n,r,t,d),u=Xo(d,s);return qo(o,i,u,Qo,l)},lj=(e,n,r,t,i,s,l)=>{const d=[D.ARBEIDSTAKER,D.FRILANSER,D.DAGPENGER,D.ARBEIDSAVKLARINGSPENGER],o=t.map(f=>f.aktivitetStatus).filter(f=>!!f&&d.includes(f)),u=eg(e,n,r,t,o),k=Xo(o,s);return qo(u,i,k,Qo,l)},dj=(e,n,r,t,i,s,l)=>{const d=!!t.find(u=>u.andelIArbeid!=="0.00"&&u.aktivitetStatus===D.FRILANSER),o=6*s;if(d)return aj(e,n,r,t,o,l,i);if(t.find(u=>u.andelIArbeid!=="0.00"&&u.aktivitetStatus===D.SELVSTENDIG_NAERINGSDRIVENDE))return lj(e,n,r,t,o,l,i)},oj=(e,n)=>e.arbeidsforholdId===null?n.map(({arbeidsgiverIdent:r})=>r).includes(e.arbeidsgiverIdent):n.map(({arbeidsforholdId:r})=>r).includes(e.arbeidsforholdId),gj=(e,n)=>{var r;const t=e.find(i=>{var s,l;return!!i.arbeidsforhold&&i.arbeidsforhold.arbeidsgiverIdent===((s=n.arbeidsforhold)==null?void 0:s.arbeidsgiverIdent)&&i.arbeidsforhold.arbeidsforholdId===((l=n.arbeidsforhold)==null?void 0:l.arbeidsforholdId)});if(!t)throw new Error(`Finner ikke forventet andel med arbeidsgiverId ${(r=n.arbeidsforhold)==null?void 0:r.arbeidsgiverIdent}`);return t},uj=(e,n)=>{const r=[];return e===void 0||e.forEach(t=>{if(t.arbeidsforhold&&!oj(t.arbeidsforhold,r)){const i=gj(n,t),s={andelsnr:t.andelsnr,nyttArbeidsforhold:t.nyttArbeidsforhold,beregningsperiodeTom:i.beregningsperiodeTom,beregningsperiodeFom:i.beregningsperiodeFom,...t.arbeidsforhold};r.push(s)}}),r},kj=e=>e.length>0?e.flatMap(n=>n.fordelBeregningsgrunnlagAndeler||[]):[],mj=e=>e.length>0?e.flatMap(n=>n.beregningsgrunnlagPrStatusOgAndel||[]):[],cj=(e,n)=>uj(kj(e),mj(n)),fj=e=>{var n,r;const t=((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.fordelBeregningsgrunnlagPerioder)||[],i=e.beregningsgrunnlagPeriode;return cj(t,i)},pj="_container_1tnrv_1",jj="_buttonRemove_1tnrv_5",vj="_buttonRow_1tnrv_16",bj="_rightAlignInput_1tnrv_19",hj="_slettIkon_1tnrv_29",Ij="_deleteBtn_1tnrv_36",Aj="_notLastRow_1tnrv_39",xj="_divider_1tnrv_43",Tj="_dividerTop_1tnrv_46",Nj="_sumRow_1tnrv_49",Ej="_fordelingForrige_1tnrv_52",yj="_refusjon_1tnrv_55",Sj="_nyFordeling_1tnrv_62",Pj="_periodeColumn_1tnrv_69",_j="_addCircleIcon_1tnrv_72",Mj="_imageText_1tnrv_78",Rj="_addPeriode_1tnrv_83",Oj="_customLink_1tnrv_84",Dj="_removeButton_1tnrv_85",Bj="_inntektTable_1tnrv_88",Fj="_shortLeftAligned_1tnrv_137",$j="_wordwrap_1tnrv_142",Lj="_litenBredde_1tnrv_145",Vj="_storBredde_1tnrv_148",Gj="_flexColumn3_1tnrv_151",Cj="_benyttCheckbox_1tnrv_154",Ee={container:pj,buttonRemove:jj,buttonRow:vj,rightAlignInput:bj,slettIkon:hj,deleteBtn:Ij,notLastRow:Aj,divider:xj,dividerTop:Tj,sumRow:Nj,fordelingForrige:Ej,refusjon:yj,nyFordeling:Sj,periodeColumn:Pj,addCircleIcon:_j,imageText:Mj,addPeriode:Rj,customLink:Oj,removeButton:Dj,inntektTable:Bj,shortLeftAligned:Fj,wordwrap:$j,litenBredde:Lj,storBredde:Vj,flexColumn3:Gj,benyttCheckbox:Cj},zj=e=>({nyAndel:!0,kilde:"SAKSBEHANDLER_FORDELING",fastsattBelop:C(0),lagtTilAvSaksbehandler:!0,refusjonskravFraInntektsmelding:0,belopFraInntektsmelding:null,skalRedigereInntekt:!e}),ng=(e,n,r)=>{var t;return!e.arbeidsgiverIdent||!r[e.arbeidsgiverIdent]?e.arbeidsforholdType&&((t=n[ye.OPPTJENING_AKTIVITET_TYPE].find(i=>i.kode===e.arbeidsforholdType))==null?void 0:t.navn)||"":ct(r[e.arbeidsgiverIdent],e.eksternArbeidsforholdId)},wj=(e,n,r)=>e.map(t=>c.jsx("option",{value:t.andelsnr.toString(),children:ng(t,n,r)},t.andelsnr)),Kj=(e,n,r,t)=>{const i=e.map(s=>c.jsx("option",{value:s.andelsnr.toString(),children:ng(s,r,t)},s.andelsnr));return i.push(c.jsx("option",{value:ps.BRUKERS_ANDEL,children:n.formatMessage({id:"BeregningInfoPanel.FordelingBG.Ytelse"})},ps.BRUKERS_ANDEL)),i},Yj=e=>e.map(n=>c.jsx("option",{value:n.kode,children:n.navn},n.kode)),rg=e=>e>0&&C(e)||"",Uj=(e,n,r,t)=>{let i=0,s=0;for(s;s<r.length;s+=1){const l=r[s],d=fe(t(`FORDEL_BEREGNING_FORM.${e}.${n}.${s}.fastsattBelop`));l.skalRedigereInntekt?i+=d||0:i+=l.readOnlyBelop?d:0}return rg(i)},Hj=e=>{let n=0,r=0;for(r;r<e.length;r+=1){const t=e[r];t.beregningsgrunnlagPrAar&&(n+=t.beregningsgrunnlagPrAar?Number(fe(t.beregningsgrunnlagPrAar)):0)}return rg(n)},Zj=e=>e.inntektskategori?qk(e.inntektskategori)||$n.FRILANSER===e.inntektskategori:!1,Jj=(e,n)=>{const r=Number(n);return e.find(t=>t.andelsnr===r)},Wj=(e,n)=>{var r;const t=Number(n);return(r=e.find(i=>i.andelsnr===t))==null?void 0:r.aktivitetStatus},Qj=(e,n,r,t,i)=>{const s=e[n],l=Jj(r,t);l&&(s.arbeidsforholdId=l.arbeidsforholdId,s.arbeidsgiverNavn=l.arbeidsgiverNavn,s.arbeidsgiverId=l.arbeidsgiverIdent,s.arbeidsperiodeFom=l.startdato,s.arbeidsperiodeTom=l.opphoersdato,s.andelsnrRef=l.andelsnr,s.aktivitetStatus=Wj(e,t),s.nyttArbeidsforhold=l.nyttArbeidsforhold,s.arbeidsforholdType=l.arbeidsforholdType,s.beregningsperiodeTom=l.beregningsperiodeTom,s.beregningsperiodeFom=l.beregningsperiodeFom,i(n,s))},qj=(e,n,r,t,i,s,l)=>c.jsxs(c.Fragment,{children:[!e[n].nyAndel&&c.jsx(Ae,{name:`${l(n)}.andel`,className:Ee.storBredde,readOnly:!0}),e[n].nyAndel&&c.jsx(Ni,{name:`${l(n)}.andel`,className:Ee.storBredde,label:"",selectValues:r,readOnly:t,validate:[Q],onChange:d=>Qj(e,n,i,d.target.value,s)})]}),Xj=(e,n,r,t)=>n?c.jsx(z,{children:c.jsx(sn,{children:c.jsx(Ae,{name:`${t}.readOnlyBelop`,className:Ee.litenBredde,parse:Le,readOnly:!0,isEdited:!1})})}):c.jsx(z,{className:Ee.rightAlignInput,children:c.jsx(sn,{children:c.jsx(Ae,{name:`${t}.fastsattBelop`,parse:Le,readOnly:e,validate:[Q,vn(178956970)],isEdited:r&&!n,className:Ee.litenBredde})})}),ev=(e,n,r)=>(n[e].nyAndel||n[e].lagtTilAvSaksbehandler)&&!r,nv=(e,n,r,t,i,s,l)=>c.jsxs(z,{children:[qj(e,n,r,t,i,s,l),!Zj(e[n])&&c.jsx("div",{className:Ee.wordwrap,children:c.jsx(Ae,{name:`${l(n)}.arbeidsperiodeFom - ${l(n)}.arbeidsperiodeTom`,readOnly:!0})})]}),rv=(e,n)=>e?c.jsx(z,{children:c.jsx(Ae,{name:`${n}.andelIArbeid`,readOnly:!0,className:Ee.litenBredde,normalizeOnBlur:r=>Number.isNaN(r)?r:parseFloat(r.toString()).toFixed(2)})}):null,tv=(e,n,r,t)=>c.jsx(z,{className:e||!n[r].skalKunneEndreRefusjon?void 0:Ee.rightAlignInput,children:c.jsx(sn,{children:c.jsx(Ae,{name:`${t(r)}.refusjonskrav`,readOnly:e||!n[r].skalKunneEndreRefusjon,parse:Le,className:Ee.litenBredde,validate:n[r].skalKunneEndreRefusjon?[Q,vn(178956970)]:[]})})}),iv=e=>c.jsx(z,{children:c.jsx(Ae,{name:`${e}.beregningsgrunnlagPrAar`,className:Ee.litenBredde,readOnly:!0,parse:Le})}),sv=(e,n,r)=>c.jsx(z,{className:e?Ee.shortLeftAligned:void 0,children:c.jsx(sn,{children:c.jsx(Ni,{label:"",name:`${n}.inntektskategori`,className:Ee.storBredde,validate:e?[]:[Q],selectValues:Yj(r),readOnly:e})})}),av=(e,n,r,t)=>c.jsx(z,{children:ev(n,e,r)&&c.jsx(ie,{icon:c.jsx(_r,{"aria-hidden":!0,className:Ee.slettIkon}),onClick:()=>t(n),type:"button",variant:"tertiary"})}),lv=(e,n,r)=>c.jsxs(Ge,{children:[c.jsx(z,{children:c.jsx(m,{id:"BeregningInfoPanel.FordelBG.Sum"})}),r&&c.jsx(z,{}),c.jsx(z,{}),c.jsx(z,{children:c.jsx($,{size:"small",children:n})}),c.jsx(z,{children:c.jsx($,{size:"small",children:e})}),c.jsx(z,{}),c.jsx(z,{})]},"bruttoBGSummaryRow"),dv=e=>{const n=[];return n.push("BeregningInfoPanel.FordelBG.Andel"),e&&n.push("BeregningInfoPanel.FordelBG.AndelIArbeid"),n.push("BeregningInfoPanel.FordelBG.Refusjonskrav"),n.push("BeregningInfoPanel.FordelBG.Beregningsgrunnlag"),n.push("BeregningInfoPanel.FordelBG.Fordeling"),n.push("BeregningInfoPanel.FordelBG.Inntektskategori"),n},ov=e=>{var n,r;return(((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.arbeidsforholdTilFordeling)||[]).some(t=>{var i;return(i=t.perioderMedGraderingEllerRefusjon)==null?void 0:i.some(s=>s.erGradering)})},gv=({fieldName:e,readOnly:n,skalIkkeRedigereInntekt:r,isAksjonspunktClosed:t,arbeidsgiverOpplysningerPerId:i,kodeverkSamling:s,beregningsgrunnlag:l,skalKunneEndreRefusjon:d,sumIPeriode:o,periodeFom:u,vilkårperiodeFieldIndex:k,setFieldArrayToRepeat:f,fieldArrayToRepeat:v})=>{const{control:h,watch:T,getValues:E}=Se(),P=`FORDEL_BEREGNING_FORM.${k}.${e}`,{fields:y,append:B,remove:M,update:F}=ln({control:h,name:`FORDEL_BEREGNING_FORM.${k}.${e}`});b.useEffect(()=>{v&&v!==P&&!n&&!r&&E(v).forEach(he=>{var ke;const ve=y.findIndex(nn=>nn.andel===he.andel&&(nn.inntektskategori===he.inntektskategori||!nn.inntektskategori&&!he.lagtTilAvSaksbehandler&&!nn.lagtTilAvSaksbehandler));if(ve>-1){const nn={...y[ve],fastsattBelop:he.fastsattBelop,refusjonskrav:d?he.refusjonskrav:(ke=y[ve])==null?void 0:ke.refusjonskrav,inntektskategori:he.inntektskategori};F(ve,nn)}})},[v]);const O=!!l.aktivitetStatus&&l.aktivitetStatus.some(he=>he===D.KUN_YTELSE),L=fj(l),U=Uj(k,e,y,T),re=Hj(y),ne=ov(l),Z=s[ye.INNTEKTSKATEGORI],K=q(),w=O?Kj(L,K,s,i):wj(L,s,i),H=he=>`FORDEL_BEREGNING_FORM.${k}.${e}.${he}`,X=y.map((he,ke)=>{const ve=n||r;return c.jsxs(Ge,{children:[nv(y,ke,w,ve,L,F,H),rv(ne,H(ke)),tv(ve,y,ke,H),iv(H(ke)),Xj(n,r,t,H(ke)),sv(ve,H(ke),Z),av(y,ke,ve,M)]},he.id)});X.push(lv(U,re,ne));const ue=[],oe=he=>{he&&ue.push(he)};!n&&y.some(he=>!!he.skalRedigereInntekt||!!he.skalKunneEndreRefusjon)&&(oe(Yp(k,E,e,y,K)),oe(ij(k,E,e,y,o,K)),ne&&(oe(tj(k,E,e,y,u,K)),oe(dj(k,E,e,y,K,l.grunnbeløp,s))),d&&(oe(sj(k,y,e,E,l.grunnbeløp,K)),oe(Wp(k,y,e,E,i,K))));const ce=`FORDEL_BEREGNING_FORM.${k}.${e}.skjemagruppe`,ze=ue.filter(he=>!!he),sr=ze.length>0?ze[0]:void 0,ar=Ti(ce,sr),en=()=>{f(P===v?"":P)};return c.jsxs("div",{children:[c.jsx(qe,{headerTextCodes:dv(ne),noHover:!0,classNameTable:Ee.inntektTable,children:X}),!n&&!r&&c.jsx(S,{className:Ee.buttonRow,children:c.jsx(p,{className:Ee.flexColumn3,children:c.jsx(ie,{icon:c.jsx(Ai,{"aria-hidden":!0,className:Ee.addCircleIcon}),onClick:()=>B(zj(r)),type:"button",variant:"tertiary",children:c.jsx(me,{className:Ee.imageText,children:c.jsx(m,{id:"BeregningInfoPanel.FordelingBG.LeggTilAndel"})})})})}),!n&&!r&&c.jsx(Gk,{className:Ee.benyttCheckbox,checked:P===v,onChange:en,children:"Benytt for alle perioder"}),ar&&c.jsx(dt,{children:ar})]})},uv="_statusOk_1qsx9_1",tg={statusOk:uv},kv="_vurdertIForrigeIcon_1q86k_1",mv={vurdertIForrigeIcon:kv},cv=Ho.bind(mv),ig=({className:e=""})=>{const n=q();return c.jsx("span",{"data-testid":"vurdertIForrigeIcon",className:cv("vurdertIForrigeIcon",e),children:c.jsx(xi,{size:"small",variant:"neutral",children:n.formatMessage({id:"Fordeling.VurdertTidligere"})})})},fv=Ho.bind(tg),zi=e=>e?x(e,Pe).format(te):"-",pv=(e,n)=>n?c.jsx($,{size:"small",children:c.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFomOgTom",values:{fom:zi(e),tom:zi(n)}})}):c.jsx($,{size:"small",children:c.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFom",values:{fom:zi(e)}})}),jv=e=>e.bortfaltNaturalytelse?e.bortfaltNaturalytelse:0,vv=e=>{const n=jv(e);return e.besteberegningPrAar!==void 0&&e.besteberegningPrAar!==null?e.besteberegningPrAar+n:e.overstyrtPrAar!==void 0&&e.overstyrtPrAar!==null?e.overstyrtPrAar+n:e.beregnetPrAar!==void 0&&e.beregnetPrAar!==null?e.beregnetPrAar+n:0},bv=(e,n)=>{var r;return(((r=e.find(t=>t.beregningsgrunnlagPeriodeFom===n))==null?void 0:r.beregningsgrunnlagPrStatusOgAndel)||[]).map(t=>vv(t)).reduce((t,i)=>t+i,0)},ua=({readOnly:e,erVurdertTidligere:n,isAksjonspunktClosed:r,open:t,showPanel:i,beregningsgrunnlag:s,kodeverkSamling:l,arbeidsgiverOpplysningerPerId:d,fordelBGFieldArrayName:o,fordelingsperiode:u,fieldIndex:k,setFieldArrayToRepeat:f,fieldArrayToRepeat:v})=>u.fom?c.jsx(Be,{className:e?tg.statusOk:fv(`fordelBeregningsgrunnlagPeriode--${u.fom}`),children:c.jsxs(Be.Item,{open:t,children:[c.jsxs(Be.Header,{onClick:()=>i(u.fom),children:[pv(u.fom,u.tom)," ",n?c.jsx(ig,{}):""]}),c.jsx(Be.Content,{children:c.jsx(gv,{fieldName:o,readOnly:e,sumIPeriode:bv(s.beregningsgrunnlagPeriode,u.fom),skalIkkeRedigereInntekt:!u.skalRedigereInntekt,skalKunneEndreRefusjon:!!u.skalKunneEndreRefusjon,periodeFom:u.fom,isAksjonspunktClosed:r,kodeverkSamling:l,beregningsgrunnlag:s,arbeidsgiverOpplysningerPerId:d,vilkårperiodeFieldIndex:k,setFieldArrayToRepeat:f,fieldArrayToRepeat:v})})]})}):null,hv=(e,n)=>{const r=(n.beregningsgrunnlagPrStatusOgAndel||[]).find(t=>t.andelsnr===e.andelsnr);if(!r)throw Error(`Finner ikke matchende andel med andelsnr ${e.andelsnr}`);return r},Iv=(e,n)=>{var r;const t=(r=e.arbeidsforhold)==null?void 0:r.startdato;return!!t&&!x(t).isBefore(x(n))},fl=e=>{if(!e)return;const n=e.bortfaltNaturalytelse===null||e.bortfaltNaturalytelse===void 0?0:e.bortfaltNaturalytelse,r=e.tilkommetNaturalytelse===null||e.tilkommetNaturalytelse===void 0?0:e.tilkommetNaturalytelse;if(e.besteberegningPrAar||e.besteberegningPrAar===0)return C(e.besteberegningPrAar+n-r);if(e.overstyrtPrAar||e.overstyrtPrAar===0)return C(e.overstyrtPrAar+n-r);if(e.beregnetPrAar||e.beregnetPrAar===0)return C(e.beregnetPrAar+n-r)},Av=e=>(e.fordelingForrigeBehandlingPrAar||e.fordelingForrigeBehandlingPrAar===0?C(e.fordelingForrigeBehandlingPrAar):"")||"";ua.buildInitialValues=(e,n,r,t,i,s)=>!e||!e.fordelBeregningsgrunnlagAndeler?[]:e.fordelBeregningsgrunnlagAndeler.map(l=>{const d=hv(l,n);return{...Lp(l,t,i,s),...$p(l),andelIArbeid:Rp(l.andelIArbeid||[]),fordelingForrigeBehandling:Av(l),fastsattBelop:Fp(l.fordeltPrAar,d.bruttoPrAar,!!e.skalPreutfyllesMedBeregningsgrunnlag),readOnlyBelop:fl(d),refusjonskrav:l.refusjonskravPrAar!==null&&l.refusjonskravPrAar!==void 0?C(l.refusjonskravPrAar):"",skalKunneEndreRefusjon:e.skalKunneEndreRefusjon&&!l.lagtTilAvSaksbehandler&&l.refusjonskravFraInntektsmeldingPrAar?e.skalKunneEndreRefusjon:!1,belopFraInntektsmelding:l.belopFraInntektsmeldingPrAar,skalRedigereInntekt:!!e.skalRedigereInntekt,refusjonskravFraInntektsmelding:l.refusjonskravFraInntektsmeldingPrAar,nyttArbeidsforhold:l.nyttArbeidsforhold||Iv(d,r),beregningsgrunnlagPrAar:fl(d),forrigeRefusjonPrAar:l.refusjonskravPrAar,forrigeArbeidsinntektPrAar:Bp(l.fordeltPrAar),beregningsperiodeFom:d.beregningsperiodeFom,beregningsperiodeTom:d.beregningsperiodeTom}});const xv="_lessPadding_xotc9_1",Tv={lessPadding:xv};function pl(e,n){return n.tom!=null&&!x(n.tom).isBefore(x(e.fom))&&(e.tom==null||!x(n.tom).isAfter(x(e.tom)))}function Nv(e,n){return pl(e,n)||pl(n,e)}function yn(e,n){var r;return(r=e.fordelBeregningsgrunnlagAndeler)!=null&&r.some(t=>!t.inntektskategori||t.inntektskategori===$n.UDEFINERT)?!0:!n||n.length===0||n.some(t=>Nv(t,e))}const sg="fordelBGPeriode",ka=e=>sg+e,Ev=e=>({refusjonPrÅr:e.skalKunneEndreRefusjon&&e.refusjonskrav?fe(e.refusjonskrav):void 0,fastsattÅrsbeløpInklNaturalytelse:fe(e.fastsattBelop),inntektskategori:e.inntektskategori||""}),pr=(e,n)=>!!e.periodeAarsaker&&e.periodeAarsaker.includes(n),yv=e=>pr(e,mn.ENDRING_I_REFUSJONSKRAV)||pr(e,mn.REFUSJON_OPPHOERER)||pr(e,mn.GRADERING)||pr(e,mn.GRADERING_OPPHOERER),Sv=(e,n)=>{const r=n.indexOf(e);return n[r-1].bruttoPrAar===e.bruttoPrAar},Pv=(e,n)=>!e.arbeidsforhold&&!n.arbeidsforhold?!0:e.arbeidsforhold&&n.arbeidsforhold?e.arbeidsforhold.arbeidsgiverIdent===n.arbeidsforhold.arbeidsgiverIdent&&e.arbeidsforhold.arbeidsforholdId===n.arbeidsforhold.arbeidsforholdId:!1;function jl(e){const n=x(e.beregningsgrunnlagPeriodeFom).day()===6,r=x(e.beregningsgrunnlagPeriodeFom).day()===0,t=x(e.beregningsgrunnlagPeriodeTom).day()===6,i=x(e.beregningsgrunnlagPeriodeTom).day()===0;return(n||r)&&(t||i)}const _v=e=>{var n;return(n=e.andelIArbeid)==null?void 0:n.some(r=>r!==100)};function Mv(e){var n;return(n=e.fordelBeregningsgrunnlagAndeler)==null?void 0:n.some(r=>_v(r))}function Rv(e=[],n=[]){return e.sort((r,t)=>r-t),n.sort((r,t)=>r-t),e.join("_")!==n.join("-")}const Ov=(e,n)=>e.some(r=>{const t=n.find(i=>i.aktivitetStatus===r.aktivitetStatus&&i.inntektskategori===r.inntektskategori&&Pv(i,r));return!!(t===void 0||Rv(t.andelIArbeid,r.andelIArbeid)||t.refusjonskravPrAar!==r.refusjonskravPrAar)}),Dv=(e,n,r,t)=>{const i=e.fordelBeregningsgrunnlagAndeler||[],s=n.fordelBeregningsgrunnlagAndeler||[];if(i.length!==s.length)return!1;const l=t.indexOf(r),d=t[l-1];if(r.bruttoPrAar!==d.bruttoPrAar)return!1;const o=jl(r),u=jl(d),k=e.skalKunneEndreRefusjon||n.skalKunneEndreRefusjon;return(o||u)&&!k?!0:!Ov(i,s)},Bv=(e,n,r,t,i)=>{var s,l;const d=t[t.length-1];return((s=r.fordelBeregningsgrunnlagAndeler)==null?void 0:s.length)!==((l=d.fordelBeregningsgrunnlagAndeler)==null?void 0:l.length)||r.skalRedigereInntekt!==d.skalRedigereInntekt||yv(e)||yn(r,i)&&!yn(d,i)?!1:pr(e,mn.ARBEIDSFORHOLD_AVSLUTTET)?Sv(e,n):pr(e,mn.ENDRING_I_AKTIVITETER_SØKT_FOR)?Dv(r,d,e,n):!0},Fv=(e,n)=>{const r={...e.pop(),tom:n.tom};e.push(r)},$v=(e,n)=>(r,t)=>{if(r.length===0)return r.push({...t}),r;const i=e.find(s=>s.beregningsgrunnlagPeriodeFom===t.fom);if(i){if(Bv(i,e,t,r,n))return Fv(r,t),r;r.push({...t})}return r},Lv=e=>({fom:n,tom:r})=>(x(n).isSame(x(e.fom))||x(n).isAfter(e.fom))&&(e.tom===null||x(r).isSame(x(e.tom))||x(r).isBefore(x(e.tom))),Vv=e=>{if(e.nyAndel&&e.andel)return e.andel;if(!e.andelsnr)throw Error(`Forventer å finne andelsnr for submit på aktivitet ${e}`);return e.andelsnr},Gv=e=>({andelsnr:Vv(e),aktivitetStatus:e.aktivitetStatus,arbeidsgiverId:e.arbeidsgiverId!==""?e.arbeidsgiverId:void 0,arbeidsforholdId:e.arbeidsforholdId!==""?e.arbeidsforholdId:void 0,nyAndel:e.nyAndel,kilde:e.kilde,lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler,arbeidsforholdType:e.arbeidsforholdType,beregningsperiodeTom:e.beregningsperiodeTom,beregningsperiodeFom:e.beregningsperiodeFom,forrigeArbeidsinntektPrÅr:e.forrigeArbeidsinntektPrAar,forrigeRefusjonPrÅr:e.forrigeRefusjonPrAar,forrigeInntektskategori:e.forrigeInntektskategori,fastsatteVerdier:Ev(e)}),Cv=e=>{if(!e)throw Error("Fant ikke påkrevd felt før submit");return e},zv=(e,n,r,t)=>t.filter(Lv(r)).filter(i=>i.skalRedigereInntekt||i.skalKunneEndreRefusjon).map(i=>({andeler:e[ka(n)].map(Gv),fom:Cv(i.fom),tom:i.tom})),ma=(e,n,r)=>e.filter(t=>Mv(t)).reduce($v(n,r),[]),wv=(e,n)=>{const r=n.find(t=>t.beregningsgrunnlagPeriodeFom===e.fom);if(!r)throw Error(`Finner ikke matchende beregningsgrunnlagperiode for fordelingsperiode med fom ${e.fom}`);return r},Kv=(e,n,r,t)=>{const i=[],s=ma(e,r,t);for(let l=0;l<s.length;l+=1){const{skalRedigereInntekt:d}=s[l];d&&yn(s[l])&&zv(n,l,s[l],e).forEach(o=>i.push(o))}return i};function Yv(e,n){return yn(n,e.forlengelseperioder)}function Uv(e,n){var r;return!yn(e,n.forlengelseperioder)&&e.skalRedigereInntekt===!0&&!!e.fordelBeregningsgrunnlagAndeler&&((r=e.fordelBeregningsgrunnlagAndeler)==null?void 0:r.every(t=>t.fordeltPrAar!==null&&t.fordeltPrAar!==void 0))}const jt=({readOnly:e,perioder:n,isAksjonspunktClosed:r,bgPerioder:t,beregningsgrunnlag:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:l,fieldIndex:d})=>{const[o,u]=b.useState([]),[k,f]=b.useState("");b.useEffect(()=>{const h=n.filter(T=>Yv(i,T)).filter(T=>T.skalKunneEndreRefusjon||T.skalRedigereInntekt).filter(T=>!!T.fom).map(T=>T.fom||"");u(h)},[n]);const v=h=>{if(o.includes(h)){const T=o.filter(E=>E!==h);u(T)}else{const T=o.map(E=>E);T.push(h),u(T)}};return c.jsx(go,{className:Tv.lessPadding,children:ma(n,t,i.forlengelseperioder).map((h,T)=>c.jsxs(J.Fragment,{children:[c.jsx(I,{eightPx:!0}),c.jsx(ua,{readOnly:e||!yn(h,i.forlengelseperioder),erVurdertTidligere:Uv(h,i),fordelingsperiode:h,fordelBGFieldArrayName:ka(T),open:o?o.filter(E=>E===h.fom).length>0:!1,isAksjonspunktClosed:r,showPanel:v,beregningsgrunnlag:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:l,fieldIndex:d,setFieldArrayToRepeat:f,fieldArrayToRepeat:k}),c.jsx(I,{eightPx:!0})]},sg+h.fom))})};jt.transformValues=(e,n,r,t)=>({endretBeregningsgrunnlagPerioder:Kv(n,e,r,t)});jt.buildInitialValues=(e,n,r,t)=>{const i={};if(!e)return i;const s=!!n.aktivitetStatus&&n.aktivitetStatus.some(d=>d===D.KUN_YTELSE),l=n.beregningsgrunnlagPeriode;return ma(e,l,n.forlengelseperioder).forEach((d,o)=>{const u=wv(d,l);i[ka(o)]=ua.buildInitialValues(d,u,n.skjaeringstidspunktBeregning,s,r,t)}),i};const Hv=e=>{var n,r;return((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.fordelBeregningsgrunnlagPerioder)||[]},vt=({isAksjonspunktClosed:e,readOnly:n,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s})=>{const l=r.beregningsgrunnlagPeriode,d=Hv(r);return c.jsx(jt,{perioder:d,readOnly:n,isAksjonspunktClosed:e,bgPerioder:l,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s})};vt.buildInitialValues=(e,n,r,t)=>jt.buildInitialValues(e,n,r,t);vt.transformValues=(e,n,r,t)=>jt.transformValues(e,n,r,t);const{FORDEL_BEREGNINGSGRUNNLAG:bs}=Ue,Zv=(e,n)=>n.some(r=>r.definisjon===e),ag=e=>{const n=e.find(r=>r.definisjon===bs);if(!n)throw Error(`Fant ikke forventet avklaringsbehov ${bs}`);return n},Jv="begrunnelse",lg=e=>{var n,r;return((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.fordelBeregningsgrunnlagPerioder)||[]},Wv=(e,n)=>{if(!Zv(bs,n.avklaringsbehov))throw Error("har ikke aksjonspunkt for fordeling når transform values ble kalt");const r=n.beregningsgrunnlagPeriode;return{begrunnelse:e.begrunnelse,periode:e.periode,...vt.transformValues(e,lg(n),r,n.forlengelseperioder)}},Qv=(e,n,r,t)=>{const i=lg(e);return{beregningsgrunnlagId:e.beregningsgrunnlagId,periode:n.periode,...Or.buildInitialValues(ag(e.avklaringsbehov),Jv),...vt.buildInitialValues(i,e,t,r)}},qv=({readOnly:e,submittable:n,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s})=>{const l=ag(r.avklaringsbehov),d=!dn(l.status),o=Se(),u=o.watch(`FORDEL_BEREGNING_FORM.${s}.begrunnelse`);return c.jsxs(c.Fragment,{children:[c.jsx(_p,{isAksjonspunktClosed:d,beregningsgrunnlag:r}),c.jsx(I,{twentyPx:!0}),c.jsx(vt,{readOnly:e,isAksjonspunktClosed:d,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s}),c.jsx(I,{twentyPx:!0}),c.jsx(Or,{name:`FORDEL_BEREGNING_FORM.${s}.begrunnelse`,isSubmittable:n,isReadOnly:e,hasBegrunnelse:!!u}),c.jsx(I,{twentyPx:!0}),c.jsx(Pi,{isSubmittable:n,isReadOnly:e,isSubmitting:o.formState.isSubmitting,isDirty:o.formState.isDirty})]})},{FORDEL_BEREGNINGSGRUNNLAG:Xv}=Ue,gi="FORDEL_BEREGNING_FORM",eb=(e,n)=>{const r=n.find(t=>t.vilkårsperiodeFom===e);if(!r)throw Error(`Mangler beregningsgrunnlag for vilkårsperiodeFom ${e}`);return r},nb=(e,n,r)=>{const t=e[gi].filter(i=>er(r,i.periode.fom)).map(i=>Wv(i,eb(i.periode.fom,n)));return{begrunnelse:t.map(i=>i.begrunnelse).reduce((i,s)=>i!==null?`${i} ${s}`:s),grunnlag:t,kode:Xv}},rb=(e,n,r,t)=>({[gi]:e.filter(i=>i.avklaringsbehov.some(s=>s.definisjon===Ue.FORDEL_BEREGNINGSGRUNNLAG)).map(i=>Qv(i,pt(n,i.vilkårsperiodeFom),r,t))}),tb=({aktivtBeregningsgrunnlagIndeks:e,readOnly:n,submittable:r,submitCallback:t,beregningsgrunnlagListe:i,vilkårsperioder:s,kodeverkSamling:l,arbeidsgiverOpplysningerPerId:d,formData:o,setFormData:u,setFordelingFormIsDirty:k})=>{const f=He({defaultValues:o!=null&&o.FORDEL_BEREGNING_FORM?o:rb(i,s,d,l)}),{formState:{dirtyFields:v,isSubmitted:h,errors:T,isDirty:E},control:P,trigger:y}=f;b.useEffect(()=>{k(E)},[E]),b.useEffect(()=>{var M;h&&(M=v[gi])!=null&&M[e]&&y()},[e]);const{fields:B}=ln({name:gi,control:P});return c.jsx(Js,{errorMessage:"Noe gikk galt ved visning av fordeling",children:c.jsx(Ze,{formMethods:f,onSubmit:M=>{Object.keys(T).length===0&&t(nb(M,i,s))},setDataOnUnmount:u,children:B.map(M=>{const F=i.findIndex(O=>O.beregningsgrunnlagId===M.beregningsgrunnlagId);return c.jsx("div",{style:{display:F===e?"block":"none"},children:c.jsx(qv,{submittable:r,readOnly:n||!er(s,i[F].vilkårsperiodeFom),beregningsgrunnlag:i[F],arbeidsgiverOpplysningerPerId:d,kodeverkSamling:l,fieldIndex:F})},M.id)})})})};var dg={exports:{}};(function(e,n){(function(r,t){e.exports=t()})(Vf,function(){return function(r,t,i){t.prototype.isBetween=function(s,l,d,o){var u=i(s),k=i(l),f=(o=o||"()")[0]==="(",v=o[1]===")";return(f?this.isAfter(u,d):!this.isBefore(u,d))&&(v?this.isBefore(k,d):!this.isAfter(k,d))||(f?this.isBefore(u,d):!this.isAfter(u,d))&&(v?this.isAfter(k,d):!this.isBefore(k,d))}}})})(dg);var ib=dg.exports;const og=zo(ib);x.extend(og);const sb="2023-05-01";function ab(){return(e,n,r)=>r.findIndex(t=>t.skalRedusereUtbetaling===e.skalRedusereUtbetaling&&t.arbeidsforholdId===e.arbeidsforholdId&&t.arbeidsgiverId===e.arbeidsgiverId&&t.aktivitetStatus===e.aktivitetStatus&&t.bruttoInntektPrÅr===e.bruttoInntektPrÅr)===n}const lb=(e,n)=>{const r=e.pop();if(!r)return;const t=[...r.inntektsforholdListe];n.inntektsforholdListe.forEach(s=>t.push(s));const i={...r,inntektsforholdListe:t.filter(ab()),tom:n.tom};e.push(i)},db=(e,n)=>{const r=e.inntektsforholdListe||[],t=n.inntektsforholdListe||[];for(let i=0;i<r.length;i+=1){const s=r[i],l=t.find(d=>d.aktivitetStatus===s.aktivitetStatus&&d.arbeidsgiverId===s.arbeidsgiverId&&d.arbeidsforholdId===s.arbeidsforholdId);if(l===void 0)return!0;if(l.bruttoInntektPrÅr!==s.bruttoInntektPrÅr||l.skalRedusereUtbetaling!==s.skalRedusereUtbetaling)return!1}return!0},vl=(e,n)=>uo(e,n,!0)>2,ob=(e,n)=>{const r=n.tom,t=e.fom;return x(r).isBefore(x(t))?vl(r,t):vl(t,r)},gb=(e,n,r)=>{if(x(e.fom).isSame(x(sb)))return!1;const t=n[n.length-1],i=yn(e,r);return i&&!yn(t,r)||i&&ob(e,t)?!1:db(e,t)},ub=e=>(n,r)=>n.length===0?(n.push({...r}),n):gb(r,n,e)?(lb(n,r),n):(n.push({...r}),n),gg=(e,n)=>e.reduce(ub(n),[]);function hs(e,n){var r;return!yn(e,n.forlengelseperioder)&&!!e.inntektsforholdListe&&((r=e.inntektsforholdListe)==null?void 0:r.every(t=>t.skalRedusereUtbetaling!==null))}const ug=(e,n)=>{let r=null;return e.arbeidsgiverId!==null&&e.arbeidsgiverId!==void 0&&(r=n[e.arbeidsgiverId]),e.aktivitetStatus===D.ARBEIDSTAKER?r?ct(r,e.arbeidsforholdId):"Arbeidsforhold":e.aktivitetStatus===D.FRILANSER?"Frilanser":e.aktivitetStatus===D.SELVSTENDIG_NAERINGSDRIVENDE?"Selvstendig næringsdrivende":""},kb=(e,n)=>{let r=null;return e.arbeidsgiverIdent&&(r=n[e.arbeidsgiverIdent]),e.aktivitetStatus===D.ARBEIDSTAKER?r?ct(r,e.arbeidsforholdId):"Arbeidsforhold":e.aktivitetStatus===D.FRILANSER?"Frilanser":e.aktivitetStatus===D.SELVSTENDIG_NAERINGSDRIVENDE?"Selvstendig næringsdrivende":""},mb="_statusOk_1qsx9_1",bl={statusOk:mb},cb="_tilkommetAktivitet_1xjj3_1",fb="_aktivitetContainer_1xjj3_4",pb="_aktivitetTable_1xjj3_7",jb="_separator_1xjj3_12",vb="_aksjonspunktContainer_1xjj3_16",bb="_aksjonspunktContainerLukketAP_1xjj3_21",hb="_aksjonspunktContainerLukketAP_1xjj3_21",Ib="_bruttoInntektContainer_1xjj3_26",Ab="_bruttoInntektInput_1xjj3_29",xb="_bruttoInntektCurrency_1xjj3_32",Tb="_edited_1xjj3_37",Nb="_inntektsmeldingTag_1xjj3_40",Eb="_inntektColumn_1xjj3_43",yb="_tittelRad_1xjj3_47",Sb="_modalKnapp_1xjj3_50",Oe={tilkommetAktivitet:cb,aktivitetContainer:fb,aktivitetTable:pb,separator:jb,aksjonspunktContainer:vb,aksjonspunktContainerLukketAP:bb,aksjonspunktContainerLukketAp:hb,bruttoInntektContainer:Ib,bruttoInntektInput:Ab,bruttoInntektCurrency:xb,edited:Tb,inntektsmeldingTag:Nb,inntektColumn:Eb,tittelRad:yb,modalKnapp:Sb},Pb=e=>{if(!e)return"";let n=e.aktivitetStatus;return e.arbeidsgiverId&&(n+=e.arbeidsgiverId),e.arbeidsforholdId&&(n+=e.arbeidsforholdId),n},_b=({formName:e,bgIndex:n,periodeFieldIndex:r,readOnly:t,inntektsforholdFieldIndex:i,field:s,arbeidsgiverOpplysningerPerId:l})=>{const d=Se(),o=q(),u=d.watch(`${e}.${n}.perioder.${r}.inntektsforhold.${i}.skalRedusereUtbetaling`),k=()=>{switch(s.aktivitetStatus){case D.ARBEIDSTAKER:return c.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerArbeid",values:{br:c.jsx("br",{})}});case D.FRILANSER:return c.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerFrilans",values:{br:c.jsx("br",{})}});case D.SELVSTENDIG_NAERINGSDRIVENDE:return c.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerNæring"});default:return c.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerArbeid"})}},f=()=>s.aktivitetStatus===D.SELVSTENDIG_NAERINGSDRIVENDE?o.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.VurderTekstNæring"}):s.aktivitetStatus===D.FRILANSER?o.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.VurderTekstFrilans"}):o.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.VurderTekstArbeid"},{arbeidsforhold:kb(s,l)});return c.jsxs(c.Fragment,{children:[c.jsx(Ne,{label:f(),name:`${e}.${n}.perioder.${r}.inntektsforhold.${i}.skalRedusereUtbetaling`,radios:[{value:"true",label:o.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Ja"})},{value:"false",label:o.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Nei"})}],isReadOnly:t,validate:[Q],isTrueOrFalseSelection:!0}),u===!1&&c.jsxs(c.Fragment,{children:[c.jsx(I,{sixteenPx:!0}),c.jsx(Zn,{size:"small",variant:"info",children:o.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Alert"})})]}),u&&c.jsxs(c.Fragment,{children:[c.jsx(I,{sixteenPx:!0}),c.jsx($,{size:"small",children:c.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.Fastsett"})}),c.jsx(ko,{header:c.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMer"}),children:k()}),c.jsx(I,{eightPx:!0}),c.jsxs("div",{className:Oe.bruttoInntektContainer,children:[c.jsx(Ae,{name:`${e}.${n}.perioder.${r}.inntektsforhold.${i}.bruttoInntektPrÅr`,label:"Fastsett årsinntekt",hideLabel:!0,readOnly:t,className:Oe.bruttoInntektInput,parse:Le,validate:[Q,vn(178956970)]}),c.jsx("span",{className:Oe.bruttoInntektCurrency,children:"kr"})]})]})]})},hl=e=>!!e&&+e>0,Mb=({arbeidsgiverOpplysningerPerId:e,vurderInntektsforholdPeriode:n})=>{const r=q(),t=s=>{const l=[];return s.inntektsforholdListe.forEach(d=>{const o=hl(d.bruttoInntektPrÅr),u=hl(d.inntektFraInntektsmeldingPrÅr);l.push(c.jsxs(Ge,{children:[c.jsx(z,{children:c.jsx(A,{size:"small",children:ug(d,e)})}),c.jsx(z,{children:c.jsx(A,{size:"small",children:d.skalRedusereUtbetaling?r.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Ja"}):r.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Nei"})})}),(o||u)&&c.jsx(z,{children:c.jsxs(A,{size:"small",children:[o&&c.jsxs(c.Fragment,{children:[ri(d.bruttoInntektPrÅr||0),c.jsx(Ii,{})]}),u&&!o&&c.jsxs(c.Fragment,{children:[ri(d.inntektFraInntektsmeldingPrÅr||0),c.jsx(xi,{className:Oe.inntektsmeldingTag,variant:"neutral",size:"xsmall",children:"IM"})]})]})})]},Pb(d)))}),l},i=["BeregningInfoPanel.TilkommetAktivitet.Aktivitet","BeregningInfoPanel.TilkommetAktivitet.RedusererUtbetaling",n.inntektsforholdListe.some(s=>s.bruttoInntektPrÅr)?"BeregningInfoPanel.TilkommetAktivitet.Årsinntekt":"BeregningInfoPanel.TilkommetAktivitet.TomTekst"].map(s=>c.jsxs($,{size:"small",children:[c.jsx(m,{id:s})," "]},s));return c.jsx("div",{className:Oe.aktivitetContainer,children:c.jsx(qe,{headerColumnContent:i,noHover:!0,classNameTable:Oe.aktivitetTable,children:t(n)})})},Ft=e=>!!e&&+e>0,Rb=({formName:e,vurderInntektsforholdPeriode:n,bgIndex:r,periodeFieldIndex:t,readOnly:i,erAksjonspunktÅpent:s,submittable:l,arbeidsgiverOpplysningerPerId:d,skalViseBegrunnelse:o})=>{const{control:u,formState:k}=Se(),{fields:f}=ln({control:u,name:`VURDER_TILKOMMET_AKTIVITET_FORM.${r}.perioder.${t}.inntektsforhold`}),v=n.inntektsforholdListe.some(P=>Ft(P.bruttoInntektPrÅr)||Ft(P.inntektFraInntektsmeldingPrÅr)),h=n.inntektsforholdListe.some(P=>!!P.periode),T=["BeregningInfoPanel.TilkommetAktivitet.Aktivitet",v?"BeregningInfoPanel.TilkommetAktivitet.Årsinntekt":"BeregningInfoPanel.TilkommetAktivitet.TomTekst",h?"BeregningInfoPanel.TilkommetAktivitet.Periode":"BeregningInfoPanel.TilkommetAktivitet.TomTekst"].map(P=>c.jsxs($,{size:"small",children:[c.jsx(m,{id:P})," "]},P)),E=P=>{const y=[],{inntektsforholdListe:B}=P;return B.forEach(M=>{const F=Ft(M.bruttoInntektPrÅr),O=Ft(M.inntektFraInntektsmeldingPrÅr);y.push(c.jsxs(Ge,{children:[c.jsx(z,{children:c.jsx(A,{size:"small",children:ug(M,d)})}),(F||O||h)&&c.jsx(z,{className:Oe.inntektColumn,children:c.jsxs(A,{size:"small",children:[F&&!O&&c.jsxs(c.Fragment,{children:[ri(M.bruttoInntektPrÅr||0),c.jsx(Ii,{})]}),O&&c.jsxs(c.Fragment,{children:[ri(M.inntektFraInntektsmeldingPrÅr||0),c.jsx(xi,{className:Oe.inntektsmeldingTag,variant:"neutral",size:"xsmall",children:"IM"})]})]})}),M.periode&&c.jsx(z,{className:Oe.periodeColumn,children:c.jsx(A,{size:"small",children:c.jsx(Ye,{dateStringFom:M.periode.fom,dateStringTom:M.periode.tom})})})]},M.arbeidsgiverId||M.aktivitetStatus))}),y};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:Oe.aktivitetContainer,children:c.jsx(qe,{noHover:!0,headerColumnContent:T,classNameTable:Oe.aktivitetTable,children:E(n)})}),c.jsx(I,{sixteenPx:!0}),c.jsxs("div",{className:s?Oe.aksjonspunktContainer:Oe.aksjonspunktContainerLukketAP,children:[f.map((P,y)=>c.jsxs("div",{children:[c.jsx(_b,{formName:e,bgIndex:r,periodeFieldIndex:t,inntektsforholdFieldIndex:y,field:P,readOnly:i,arbeidsgiverOpplysningerPerId:d},P.id),y<n.inntektsforholdListe.length-1&&c.jsx(I,{fourtyPx:!0})]},P.id)),o&&c.jsxs(c.Fragment,{children:[c.jsx(I,{fourtyPx:!0}),c.jsx(Xe,{name:`${e}.${r}.begrunnelse`,label:"Begrunnelse",readOnly:i,validate:[Q]}),c.jsx(I,{sixteenPx:!0}),c.jsx(Pi,{isSubmittable:l,isReadOnly:i,isSubmitting:k.isSubmitting,isDirty:k.isDirty})]})]})]})},wi=e=>e?x(e,Pe).format(te):"-",Il=(e,n)=>!n||n===Ce?c.jsx($,{size:"medium",children:c.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFom",values:{fom:wi(e)}})}):c.jsx($,{size:"medium",children:c.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFomOgTom",values:{fom:wi(e),tom:wi(n)}})}),Ob=({beregningsgrunnlag:e,arbeidsgiverOpplysningerPerId:n,formName:r,bgIndex:t,readOnly:i,submittable:s,erAksjonspunktÅpent:l,fields:d})=>{const[o,u]=b.useState([]),[k,f]=b.useState([]),v=Se();b.useEffect(()=>{var y,B;const M=(B=(y=e.faktaOmFordeling)==null?void 0:y.vurderNyttInntektsforholdDto)==null?void 0:B.vurderInntektsforholdPerioder;if(M){const F=gg(M,e.forlengelseperioder);u(F);const O=F.filter(L=>!hs(L,e)).filter(L=>!!L.fom).map(L=>L.fom);f(O)}},[e]);const h=o.filter(y=>hs(y,e)),T=y=>{if(k.includes(y)){const B=k.filter(M=>M!==y);f(B)}else{const B=k.map(M=>M);B.push(y),f(B)}},E=y=>{const B=x(y),M=o.find(F=>!x(F.fom).isAfter(B)&&!x(F.tom).isBefore(B));if(!M)throw new Error(`Finner ikke periode som overlapper med fom ${y}`);return M},P=y=>()=>T(y);return!o||o.length<1?null:c.jsxs(c.Fragment,{children:[c.jsxs(Be,{className:bl.statusOk,children:[h.map(y=>c.jsxs(Be.Item,{open:k.filter(B=>B===y.fom).length>0,children:[c.jsxs(Be.Header,{onClick:P(y.fom),children:[Il(y.fom,y.tom)," ",c.jsx(ig,{})]}),c.jsx(Be.Content,{children:c.jsx(Mb,{arbeidsgiverOpplysningerPerId:n,vurderInntektsforholdPeriode:y})})]},y.fom)),d.map((y,B)=>c.jsxs(Be.Item,{open:k.filter(M=>M===y.fom).length>0,children:[c.jsx(Be.Header,{onClick:P(y.fom),children:Il(y.fom,y.tom)}),c.jsx(Be.Content,{children:c.jsx(Rb,{arbeidsgiverOpplysningerPerId:n,vurderInntektsforholdPeriode:E(y.fom),formName:r,bgIndex:t,periodeFieldIndex:B,readOnly:i,erAksjonspunktÅpent:l,submittable:s,skalViseBegrunnelse:d.length===1})})]},y.fom))]}),d.length>1&&c.jsxs("div",{className:bl.aktivitetContainer,children:[c.jsx(I,{fourtyPx:!0}),c.jsx(Xe,{name:`${r}.${t}.begrunnelse`,label:"Begrunnelse for alle perioder",readOnly:i,validate:[Q]}),c.jsx(I,{sixteenPx:!0}),c.jsx(Pi,{isSubmittable:s,isReadOnly:i,isSubmitting:v.formState.isSubmitting,isDirty:v.formState.isDirty})]})]})};function kg(e){var n,r,t="";if(typeof e=="string"||typeof e=="number")t+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(r=kg(e[n]))&&(t&&(t+=" "),t+=r);else for(n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function mg(){for(var e,n,r=0,t="";r<arguments.length;)(e=arguments[r++])&&(n=kg(e))&&(t&&(t+=" "),t+=n);return t}var Db=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Bb=b.forwardRef((e,n)=>{var{level:r="1",size:t,spacing:i=!1,className:s,as:l}=e,d=Db(e,["level","size","spacing","className","as"]);let o=l??`h${r}`;return J.createElement(o,Object.assign({},d,{ref:n,className:mg(s,"navds-heading",`navds-heading--${t}`,{"navds-typo--spacing":i})}))}),Fb=Bb;var $b=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Lb=b.forwardRef((e,n)=>{var{className:r,size:t="medium",spacing:i,as:s="label"}=e,l=$b(e,["className","size","spacing","as"]);return J.createElement(s,Object.assign({},l,{ref:n,className:mg(r,"navds-label",{"navds-label--small":t==="small","navds-typo--spacing":!!i})}))}),Vb=Lb,Gb="_datoRad_79wlf_1",Cb="_modal_79wlf_8",Ki={datoRad:Gb,modal:Cb},Al=e=>e===Ce?"":x(e).format(te),zb=({periode:e,forhåndsvisPeriodesplitt:n,setValgtDato:r})=>{const t=q(),[i,s]=b.useState(),l=b.useCallback(k=>{const f=x(k).format(Pe);if(r(f),f){const v=n(f);v.sort((h,T)=>x(h.fom).diff(x(T.fom))),s(v)}},[n]),d=[k=>!e||!x(k).isAfter(x(e.fom))||x(k).isAfter(x(e.tom))],{datepickerProps:o,inputProps:u}=Vk({today:new Date(e.fom),disableWeekends:!0,disabled:d,onDateChange:l});return c.jsxs(c.Fragment,{children:[c.jsx(p,{children:c.jsx(Qa,{...o,children:c.jsx(Qa.Input,{...u,label:t.formatMessage({id:"TilkommetAktivitet.Modal.DatoValg"}),size:"small"})})}),i&&c.jsxs(p,{children:[c.jsx(Vb,{children:c.jsx(m,{id:"TilkommetAktivitet.Modal.Resultat"})}),c.jsxs("ul",{children:[c.jsx("li",{children:c.jsx(m,{id:"TilkommetAktivitet.Modal.Periode",values:{fom:x(i[0].fom).format(te),tom:Al(i[0].tom)}})}),c.jsx("li",{children:c.jsx(m,{id:"TilkommetAktivitet.Modal.Periode",values:{fom:x(i[1].fom).format(te),tom:Al(i[1].tom)}})})]})]}),c.jsx(I,{sixteenPx:!0})]})},wb=e=>e?e.tom===Ce?!0:uo(e.fom,e.tom,!0)>1:!1,Kb=e=>e.map(n=>({fom:n.fom,tom:n.tom})),Yb=(e,n)=>{const r=x(e).format(te);if(n&&n!==Ce){const t=x(n).format(te);return r.concat(" - ",t)}return r.concat(" - ")},Ub=({fields:e,forhåndsvisPeriodesplitt:n,utførPeriodesplitt:r,skalViseModal:t,lukkModal:i})=>{const s=q(),[l,d]=b.useState(void 0),[o,u]=b.useState(void 0),k=b.useMemo(()=>Kb(e),[e]),f=b.useCallback(()=>{l&&o&&(r(l),i())},[e,l]),v=b.useCallback(T=>{const E=T.target.value,P=k.find(y=>y.fom===E);u(P||void 0)},[]),h=o&&wb(o);return t?c.jsx(Ja,{open:t,className:Ki.modal,onClose:i,shouldCloseOnOverlayClick:!1,children:c.jsx(Ja.Content,{children:c.jsx(se,{children:c.jsxs("div",{className:Ki.boks,children:[c.jsx(S,{children:c.jsx(p,{children:c.jsx(Fb,{size:"small",level:"3",children:c.jsx(m,{id:"TilkommetAktivitet.Modal.Tittel"})})})}),c.jsx(I,{sixteenPx:!0}),c.jsx(S,{children:c.jsx(p,{children:c.jsxs(Lk,{label:s.formatMessage({id:"TilkommetAktivitet.Modal.Select"}),onChange:v,children:[c.jsx("option",{value:void 0,children:"Velg periode"}),k.map(T=>c.jsx("option",{value:T.fom,children:Yb(T.fom,T.tom)},T.fom))]})})}),c.jsx(I,{sixteenPx:!0}),c.jsx(S,{className:Ki.datoRad,children:h&&c.jsx(zb,{forhåndsvisPeriodesplitt:n,periode:o,setValgtDato:d})}),c.jsx(I,{twentyPx:!0}),c.jsxs(S,{children:[c.jsx(p,{children:c.jsx(ie,{size:"small",variant:"primary",onClick:f,disabled:!l,autoFocus:!0,type:"button",children:c.jsx(m,{id:"TilkommetAktivitet.Modal.DelOppKnapp"})})}),c.jsx(p,{children:c.jsx(ie,{size:"small",variant:"secondary",onClick:i,disabled:!1,autoFocus:!0,type:"button",children:c.jsx(m,{id:"TilkommetAktivitet.Modal.AvbrytKnapp"})})})]})]})})})}):null},xl=(e,n)=>n==null?void 0:n.some(r=>r.inntektsforholdListe.some(t=>t.aktivitetStatus===e)),Hb=({formName:e,beregningsgrunnlag:n,bgIndex:r,readOnly:t,submittable:i,erAksjonspunktÅpent:s,arbeidsgiverOpplysningerPerId:l})=>{var d,o;const u=q(),[k,f]=b.useState(!1),{control:v,watch:h}=Se(),{fields:T,remove:E,insert:P}=ln({control:v,name:`VURDER_TILKOMMET_AKTIVITET_FORM.${r}.perioder`});T.sort((Z,K)=>x(Z.fom).diff(x(K.fom)));const y=(o=(d=n.faktaOmFordeling)==null?void 0:d.vurderNyttInntektsforholdDto)==null?void 0:o.vurderInntektsforholdPerioder,B=()=>{const Z=xl(D.SELVSTENDIG_NAERINGSDRIVENDE,y),K=xl(D.FRILANSER,y),w=y==null?void 0:y.flatMap(H=>H.inntektsforholdListe.map(X=>X.aktivitetStatus)).reduce((H,X)=>(H.some(ue=>ue===X)||H.push(X),H),[]);return(w?w.length:0)>1?u.formatMessage({id:"TilkommetAktivitet.AlertHeading.FlereStatuser"}):Z?u.formatMessage({id:"TilkommetAktivitet.AlertHeading.SelvstendigNæringsdrivende"}):K?u.formatMessage({id:"TilkommetAktivitet.AlertHeading.Frilans"}):u.formatMessage({id:"TilkommetAktivitet.AlertHeading.Arbeidsforhold"})},M=()=>s?c.jsxs(Zn,{size:"small",variant:"warning",children:[c.jsx(je,{size:"xsmall",level:"3",children:B()}),u.formatMessage({id:"TilkommetAktivitet.AksjonspunktHelpText"})]}):c.jsxs(c.Fragment,{children:[c.jsxs($,{size:"small",children:[u.formatMessage({id:"HelpText.Aksjonspunkt.BehandletAksjonspunkt"}),B()]}),c.jsx(A,{size:"small",children:u.formatMessage({id:"TilkommetAktivitet.AksjonspunktHelpText"})})]}),F=(Z,K,w,H)=>{const X=h(`${e}.${r}.perioder.${w}.inntektsforhold.${H}.skalRedusereUtbetaling`),ue=h(`${e}.${r}.perioder.${w}.inntektsforhold.${H}.bruttoInntektPrÅr`);return{aktivitetStatus:Z.aktivitetStatus,arbeidsgiverIdent:Z.arbeidsgiverIdent,arbeidsforholdId:Z.arbeidsforholdId,bruttoInntektPrÅr:K?ue:void 0,skalRedusereUtbetaling:K?X:void 0}},O=(Z,K,w)=>!x(Z).isAfter(x(w))&&!x(K).isBefore(x(w)),L=b.useCallback(Z=>{const K=T.find(ue=>O(ue.fom,ue.tom,Z));if(!K)throw new Error(`Finner ikke field somme inneholder dato ${Z}`);const w=x(Z).subtract(1,"day"),H={fom:x(K.fom).format(Pe),tom:w.format(Pe)},X={fom:x(Z).format(Pe),tom:K.tom};return[H,X]},[T]),U=b.useCallback(Z=>{const K=T.find(ce=>O(ce.fom,ce.tom,Z));if(!K)throw new Error(`Finner ikke field somme inneholder dato ${Z}`);const w=L(Z),H=T.indexOf(K),X=K.inntektsforhold||[],ue={inntektsforhold:X.map((ce,ze)=>F(ce,!0,H,ze)),fom:w[0].fom,tom:w[0].tom},oe={inntektsforhold:X.map((ce,ze)=>F(ce,!1,H,ze)),fom:w[1].fom,tom:w[1].tom};E(H),P(H,[ue,oe])},[T]),re=b.useCallback(()=>{f(!0)},[k]),ne=b.useCallback(()=>{f(!1)},[k]);return c.jsxs(c.Fragment,{children:[M(),!!y&&s&&c.jsxs(c.Fragment,{children:[c.jsx(I,{eightPx:!0}),c.jsx(Zn,{size:"small",variant:"info",title:"",children:u.formatMessage({id:"TilkommetAktivitet.AksjonspunktAlert"})})]}),c.jsx(I,{fourtyPx:!0}),c.jsx(se,{children:c.jsxs(S,{className:Oe.tittelRad,children:[c.jsx(p,{children:c.jsx(je,{size:"small",level:"3",children:u.formatMessage({id:"TilkommetAktivitet.Heading"})})}),c.jsx(p,{className:Oe.modalKnapp,children:c.jsx(ie,{variant:"tertiary",loading:!1,disabled:!1,onClick:re,size:"small",type:"button",icon:c.jsx(sm,{height:32,width:32}),children:u.formatMessage({id:"TilkommetAktivitet.Modal.Knapp"})})})]})}),k&&c.jsx(Ub,{fields:T,forhåndsvisPeriodesplitt:L,lukkModal:ne,skalViseModal:k,utførPeriodesplitt:U}),c.jsx(Ob,{beregningsgrunnlag:n,arbeidsgiverOpplysningerPerId:l,formName:e,fields:T,bgIndex:r,readOnly:t,erAksjonspunktÅpent:s,submittable:i})]})};x.extend(og);const{VURDER_NYTT_INNTKTSFRHLD:Is}=Ue,lt="VURDER_TILKOMMET_AKTIVITET_FORM",cg=e=>{const n=e.find(r=>r.definisjon===Is);if(!n)throw Error(`Fant ikke forventet avklaringsbehov ${Is}`);return n},Zb=(e,n)=>{const r=n.find(t=>t.vilkårsperiodeFom===e);if(!r)throw Error(`Mangler beregningsgrunnlag for vilkårsperiodeFom ${e}`);return r};function Jb(e){var n,r;const t=(r=(n=e.faktaOmFordeling)==null?void 0:n.vurderNyttInntektsforholdDto)==null?void 0:r.vurderInntektsforholdPerioder;if(!t)throw Error("vurderInntektsforholdPerioder skal være definert");return gg(t,e.forlengelseperioder).filter(i=>!hs(i,e))}const Wb=e=>({aktivitetStatus:e.aktivitetStatus,arbeidsgiverIdent:e.arbeidsgiverId,arbeidsforholdId:e.arbeidsforholdId,bruttoInntektPrÅr:C(e.bruttoInntektPrÅr),skalRedusereUtbetaling:e.skalRedusereUtbetaling}),Qb=e=>({fom:e.fom,tom:e.tom,inntektsforhold:e.inntektsforholdListe.map(n=>Wb(n))}),qb=(e,n)=>{const r=cg(e.avklaringsbehov),t=Jb(e);return{beregningsgrunnlagId:e.beregningsgrunnlagId,begrunnelse:r&&r.begrunnelse?r.begrunnelse:"",periode:pt(n,e.vilkårsperiodeFom).periode,perioder:t.map(i=>Qb(i))}},Xb=(e,n)=>({[`${lt}`]:e.filter(r=>r.avklaringsbehov.some(t=>t.definisjon===Ue.VURDER_NYTT_INNTKTSFRHLD)).map(r=>qb(r,n))}),eh=(e,n)=>{const r=x(e.fom).isBetween(n.fom,n.tom,"day","[]")||x(e.tom).isBetween(n.fom,n.tom,"day","[]"),t=x(n.fom).isBetween(e.fom,e.tom,"day","[]")||x(n.tom).isBetween(e.fom,e.tom,"day","[]");return r||t},nh=(e,n)=>n.inntektsforholdListe.some(r=>r.aktivitetStatus===e.aktivitetStatus&&r.arbeidsforholdId===e.arbeidsforholdId&&r.arbeidsgiverId===e.arbeidsgiverIdent),rh=(e,n)=>{var r,t;const i=e.perioder,s=(((t=(r=n.faktaOmFordeling)==null?void 0:r.vurderNyttInntektsforholdDto)==null?void 0:t.vurderInntektsforholdPerioder)||[]).flatMap(l=>i.filter(d=>eh(d,l)).map(d=>{const o=d.inntektsforhold.filter(u=>nh(u,l)).map(u=>{const k=!!u.skalRedusereUtbetaling,f=k?fe(u.bruttoInntektPrÅr):void 0;return{aktivitetStatus:u.aktivitetStatus,arbeidsgiverId:u.arbeidsgiverIdent,arbeidsforholdId:u.arbeidsforholdId,skalRedusereUtbetaling:k,bruttoInntektPrÅr:f}});return{fom:x(d.fom).isBefore(x(l.fom))?l.fom:d.fom,tom:x(d.tom).isAfter(x(l.tom))?l.tom:d.tom,tilkomneInntektsforhold:o}}));return{periode:e.periode,begrunnelse:e.begrunnelse,tilkomneInntektsforhold:s}},th=(e,n,r)=>{const t=e[lt].filter(i=>er(r,i.periode.fom)).map(i=>rh(i,Zb(i.periode.fom,n)));return{begrunnelse:t.map(i=>i.begrunnelse).reduce((i,s)=>i!==null?`${i} ${s}`:s),grunnlag:t,kode:Is}},ih=({aktivtBeregningsgrunnlagIndeks:e,formData:n,setFormData:r,beregningsgrunnlagListe:t,submitCallback:i,readOnly:s,submittable:l,vilkarperioder:d,arbeidsgiverOpplysningerPerId:o,setTilkommetAktivitetFormIsDirty:u})=>{const k=He({defaultValues:n!=null&&n.VURDER_TILKOMMET_AKTIVITET_FORM?n:Xb(t,d)}),{formState:{dirtyFields:f,isSubmitted:v,errors:h,isDirty:T},trigger:E,control:P}=k;b.useEffect(()=>{u(T)},[T]),b.useEffect(()=>{var O;v&&(O=f[lt])!=null&&O[e]&&E()},[e]);const{fields:y}=ln({name:lt,control:P}),B=t[e],M=cg(B.avklaringsbehov),F=M?dn(M.status):!1;return c.jsx(Js,{errorMessage:"Noe gikk galt ved visning av tilkommet aktivitet",children:c.jsx("div",{className:Oe.tilkommetAktivitet,children:c.jsx(Ze,{formMethods:k,onSubmit:O=>{Object.keys(h).length===0&&i(th(O,t,d))},setDataOnUnmount:r,children:y.map(O=>{const L=t.findIndex(U=>U.beregningsgrunnlagId===O.beregningsgrunnlagId);return c.jsx("div",{style:{display:L===e?"block":"none"},children:c.jsx(Hb,{formName:lt,beregningsgrunnlag:t[L],bgIndex:L,readOnly:s||!er(d,t[L].vilkårsperiodeFom),submittable:l,erAksjonspunktÅpent:F,arbeidsgiverOpplysningerPerId:o})},O.id)})})})})},{FORDEL_BEREGNINGSGRUNNLAG:sh,VURDER_REFUSJON_BERGRUNN:ah,VURDER_NYTT_INNTKTSFRHLD:lh}=Ue,dh=e=>e&&e.faktaOmFordeling?!!e.faktaOmFordeling.fordelBeregningsgrunnlag:!1,oh=e=>!!(e&&e.refusjonTilVurdering),gh=e=>e&&e.faktaOmFordeling?!!e.faktaOmFordeling.vurderNyttInntektsforholdDto:!1,Yi=(e,n)=>e&&n?e.find(r=>r.definisjon===n):void 0,uh=({aktivtBeregningsgrunnlagIndeks:e,readOnly:n,submitCallback:r,beregningsgrunnlagListe:t,vilkarperioder:i,kodeverkSamling:s,submittable:l,arbeidsgiverOpplysningerPerId:d,formData:o,setFormData:u})=>{const[k,f]=b.useState(!1),[v,h]=b.useState(!1),[T,E]=b.useState(!1),P=Yi(t[e].avklaringsbehov,sh),y=Yi(t[e].avklaringsbehov,ah),B=Yi(t[e].avklaringsbehov,lh),M=(!P||P.status!==lr.OPPRETTET)&&(!y||y.status!==lr.OPPRETTET)&&(!B||B.status!==lr.OPPRETTET),F=B&&gh(t[e]),O=!F||B.status!==lr.OPPRETTET,L=P&&dh(t[e])&&(O&&P.status===lr.OPPRETTET||M),U=y&&oh(t[e])&&(O&&!L&&y.status===lr.OPPRETTET||M);return c.jsxs(c.Fragment,{children:[U&&c.jsxs(c.Fragment,{children:[c.jsx(xp,{aktivtBeregningsgrunnlagIndeks:e,submittable:l&&!k&&!T,readOnly:n,submitCallback:r,beregningsgrunnlagListe:t,arbeidsgiverOpplysningerPerId:d,formData:o,setFormData:u,vilkarperioder:i,setRefusjonFormIsDirty:h}),c.jsx(I,{fourtyPx:!0})]}),F&&c.jsxs(c.Fragment,{children:[c.jsx(ih,{aktivtBeregningsgrunnlagIndeks:e,formData:o,setFormData:u,submittable:l&&!v&&!T,readOnly:n,submitCallback:r,beregningsgrunnlagListe:t,arbeidsgiverOpplysningerPerId:d,vilkarperioder:i,setTilkommetAktivitetFormIsDirty:f}),c.jsx(I,{fourtyPx:!0})]}),L&&c.jsx(tb,{aktivtBeregningsgrunnlagIndeks:e,submittable:l&&!k&&!v,readOnly:n,submitCallback:r,kodeverkSamling:s,beregningsgrunnlagListe:t,arbeidsgiverOpplysningerPerId:d,formData:o,setFormData:u,vilkårsperioder:i,setFordelingFormIsDirty:E})]})},kh=Ve(ga),{FORDEL_BEREGNINGSGRUNNLAG:mh,VURDER_REFUSJON_BERGRUNN:ch,VURDER_NYTT_INNTKTSFRHLD:fh}=Ue,ph=(e,n)=>{const r=pt(n,e.vilkårsperiodeFom);if(r){const{fom:t,tom:i}=r.periode;return i!==null?`${x(t).format(te)} - ${x(i).format(te)}`:`${x(t).format(te)} - `}return`${x(e.vilkårsperiodeFom).format(te)}`},As=e=>e.avklaringsbehov.some(n=>n.definisjon===ch||n.definisjon===mh||n.definisjon===fh),jh=(e,n)=>As(e)&&er(n,e.vilkårsperiodeFom),vh=({beregningsgrunnlagVilkår:e,beregningsgrunnlagListe:n,kodeverkSamling:r,submitCallback:t,readOnly:i,submittable:s,arbeidsgiverOpplysningerPerId:l,formData:d,setFormData:o})=>{const u=b.useMemo(()=>n.filter(h=>As(h)).map(h=>({...h,beregningsgrunnlagId:im()})),[JSON.stringify(n),JSON.stringify(As)]),[k,f]=b.useState(0);if(u.length===0)return null;const v=u.length>1;return c.jsxs(Qe,{value:kh,children:[v&&c.jsx(br,{value:k.toString(),onChange:h=>f(Number(h)),children:c.jsx(br.List,{children:u.map((h,T)=>c.jsx(br.Tab,{value:T.toString(),label:ph(h,e.perioder),className:jh(h,e.perioder)?"harAksjonspunkt":""},h.skjaeringstidspunktBeregning))})}),c.jsx(I,{eightPx:!0}),c.jsx(uh,{aktivtBeregningsgrunnlagIndeks:k,kodeverkSamling:r,submitCallback:t,readOnly:i,beregningsgrunnlagListe:u,vilkarperioder:e.perioder,submittable:s,arbeidsgiverOpplysningerPerId:l,formData:d,setFormData:o})]})};const bh=e=>{switch(e){case Ue.FORDEL_BEREGNINGSGRUNNLAG:return ae.FORDEL_BEREGNINGSGRUNNLAG;case Ue.VURDER_REFUSJON_BERGRUNN:return ae.VURDER_REFUSJON_BERGRUNN;default:throw new Error(`Ukjent avklaringspunkt ${e}`)}},hh=e=>n=>{const t=(Array.isArray(n)?n:[n]).map(i=>({kode:bh(i.kode),...i.grunnlag[0]}));return e(t)},Ih=(e,n)=>({avslagKode:n.avslagKode,vurderesIBehandlingen:!0,merknadParametere:{},periode:{fom:e?e.skjaeringstidspunktBeregning:"",tom:Ce},vilkarStatus:n.vilkarStatus}),Ah=(e,n)=>{if(!e)return null;const r=e.find(i=>i.vilkarType&&i.vilkarType===Qn.BEREGNINGSGRUNNLAGVILKARET);return!r||!n?null:{...r,perioder:[Ih(n,r)]}},xh=e=>e?[{...e,beregningsgrunnlagId:"1",vilkårsperiodeFom:e.skjaeringstidspunktBeregning}]:[],Tl=[ae.FORDEL_BEREGNINGSGRUNNLAG,ae.VURDER_REFUSJON_BERGRUNN],Th=[Ke.BEREGNINGSGRUNNLAG],Nl=({arbeidsgiverOpplysningerPerId:e,...n})=>_e.jsx(Mr,{...n,panelEndepunkter:Th,aksjonspunktKoder:Tl,faktaPanelKode:Pr.FORDELING,faktaPanelMenyTekst:q().formatMessage({id:"FordelBeregningsgrunnlag.Title"}),skalPanelVisesIMeny:()=>!!n.behandling&&!!n.behandling.aksjonspunkt&&!!n.behandling.aksjonspunkt.some(r=>Tl.some(t=>t===r.definisjon)),renderPanel:r=>_e.jsx(vh,{...r,kodeverkSamling:r.alleKodeverk,beregningsgrunnlagVilkår:Ah(r.behandling.vilkår,r.beregningsgrunnlag),beregningsgrunnlagListe:xh(r.beregningsgrunnlag),submitCallback:hh(r.submitCallback),arbeidsgiverOpplysningerPerId:e})});try{Nl.displayName="FordelingFaktaInitPanel",Nl.__docgenInfo={description:"FordelingFaktaInitPanel",displayName:"FordelingFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}var fg={exports:{}},Hr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El;function Nh(){if(El)return Hr;El=1;var e=J,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,f={},v=null,h=null;u!==void 0&&(v=""+u),o.key!==void 0&&(v=""+o.key),o.ref!==void 0&&(h=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(f[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)f[k]===void 0&&(f[k]=o[k]);return{$$typeof:n,type:d,key:v,ref:h,props:f,_owner:i.current}}return Hr.Fragment=r,Hr.jsx=l,Hr.jsxs=l,Hr}fg.exports=Nh();var R=fg.exports;const Eh=e=>mo(e,1),pg=(e,n)=>x(Eh(e)).isSame(n)?n:e,jg=(e,n,r)=>x(e).isBefore(n)?n:pg(e,r),vg=(e,n,r)=>x(e).isAfter(r)?r:pg(e,n),yh=e=>e===!1?"danger":e===!0?"success":"warning",Sh={[be.ARBEID]:R.jsx(zr,{width:20,height:20}),[be.AAP]:R.jsx(Cr,{width:20,height:20}),[be.DAGPENGER]:R.jsx(Cr,{width:20,height:20}),[be.FORELDREPENGER]:R.jsx(zk,{width:20,height:20}),[be.FRILANS]:R.jsx(zr,{width:20,height:20}),[be.MILITAR_ELLER_SIVILTJENESTE]:R.jsx(zr,{width:20,height:20}),[be.NARING]:R.jsx(zr,{width:20,height:20}),[be.OMSORGSPENGER]:R.jsx(Cr,{width:20,height:20}),[be.OPPLARINGSPENGER]:R.jsx(Cr,{width:20,height:20}),[be.PLEIEPENGER]:R.jsx(Cr,{width:20,height:20}),[be.SVANGERSKAPSPENGER]:R.jsx(Vm,{width:20,height:20}),[be.SYKEPENGER]:R.jsx(Km,{width:20,height:20}),[be.UTENLANDSK_ARBEIDSFORHOLD]:R.jsx(Pm,{width:20,height:20}),[be.ETTERLONN_SLUTTPAKKE]:R.jsx(zr,{width:20,height:20})},Ph={danger:R.jsx(ho,{}),success:R.jsx(Xs,{}),warning:R.jsx(am,{})},_h=(e,n,r,t,i)=>e.map((s,l)=>({id:l,start:x(jg(s.opptjeningFom,t,i)).toDate(),end:x(vg(s.opptjeningTom,t,i)).toDate(),radId:r.find(d=>d.aktivitetTypeKode===s.aktivitetType&&d.arbeidsforholdRef===s.arbeidsforholdRef&&d.arbeidsgiverReferanse===s.arbeidsgiverReferanse).id,status:yh(n[l].erGodkjent)})),Mh=(e,n,r)=>e.reduce((t,i)=>(t.some(s=>s.aktivitetType===i.aktivitetType&&s.arbeidsforholdRef===i.arbeidsforholdRef&&s.arbeidsgiverReferanse===i.arbeidsgiverReferanse)||t.push(i),t),[]).map((t,i)=>{const s=n.find(l=>l.kode===t.aktivitetType);return{id:i+1,label:s.kode===be.AAP?r.formatMessage({id:"OpptjeningTidslinje.Aap"}):s.navn,aktivitetTypeKode:t.aktivitetType,arbeidsforholdRef:t.arbeidsforholdRef,arbeidsgiverReferanse:t.arbeidsgiverReferanse}}),Rh=({opptjeningPerioder:e,formVerdierForAlleAktiviteter:n,opptjeningFomDato:r,opptjeningTomDato:t,valgtAktivitetIndex:i,opptjeningAktivitetTypes:s,setValgtAktivitetIndex:l})=>{const d=q(),o=b.useMemo(()=>Mh(e,s,d),[e]),u=b.useMemo(()=>_h(e,n,o,r,t),[n]),k=b.useCallback(f=>{const v=u.find(h=>h.id===f);v&&l(v.id)},[u,l]);return R.jsxs(Fe,{startDate:x(r).subtract(1,"months").toDate(),endDate:x(t).add(10,"days").toDate(),children:[R.jsxs(Fe.Pin,{date:x(r).toDate(),children:[R.jsx($,{size:"small",children:R.jsx(m,{id:"OpptjeningTidslinje.StartDato"})}),R.jsx(A,{size:"small",children:R.jsx(Re,{dateString:r})})]}),R.jsxs(Fe.Pin,{date:x(t).toDate(),children:[R.jsx($,{size:"small",children:R.jsx(m,{id:"OpptjeningTidslinje.SluttDato"})}),R.jsx(A,{size:"small",children:R.jsx(Re,{dateString:t})})]}),o.map(f=>R.jsx(Fe.Row,{label:f.label,icon:Sh[f.aktivitetTypeKode],children:u.filter(v=>v.radId===f.id).map(v=>R.jsx(Fe.Period,{start:v.start,end:v.end,status:v.status,icon:Ph[v.status],onSelectPeriod:()=>k(v.id),isActive:i===v.id,statusLabel:f.label},v.id))},f.id))]})},Oh="_colMargin_1gpz6_1",Ui={colMargin:Oh},Dh=[be.SYKEPENGER,be.FORELDREPENGER,be.PLEIEPENGER,be.SVANGERSKAPSPENGER,be.UTENLANDSK_ARBEIDSFORHOLD],Ht=(e,...n)=>e&&n.includes(e),Bh=e=>e?x(e,Pe).format(te):"-",Fh=e=>Ht(e,be.FRILANS)?"ActivityPanel.Oppdragsgiver":"ActivityPanel.Arbeidsgiver",$h=(e,n)=>{const r=n[e];if(!e||!r)return"-";if(r.erPrivatPerson){const t=Bh(r.fødselsdato);return`${r.navn} (${t})`}return r.identifikator?`${r.navn} (${r.identifikator})`:r.navn},Lh=e=>e.length>0?"ActivityPanel.FerdiglignetNæring":"ActivityPanel.IngenFerdiglignetNæring",Vh=({valgtAktivitetstype:e,arbeidsgiverReferanse:n,arbeidsgiverOpplysningerPerId:r,stillingsandel:t,naringRegistreringsdato:i,ferdiglignetNæring:s})=>R.jsxs(se,{children:[Ht(e,be.ARBEID,be.NARING,...Dh)&&R.jsxs(S,{children:[R.jsxs(p,{className:Ui.colMargin,children:[R.jsx(I,{eightPx:!0}),R.jsx($,{size:"small",children:R.jsx(m,{id:Fh(e)})}),R.jsx(A,{size:"small",children:$h(n,r)})]}),Ht(e,be.ARBEID)&&R.jsxs(p,{children:[R.jsx(I,{eightPx:!0}),R.jsx($,{size:"small",children:R.jsx(m,{id:"ActivityPanel.Stillingsandel"})}),R.jsx(A,{size:"small",children:t})]})]}),R.jsx(I,{eightPx:!0}),Ht(e,be.NARING)&&R.jsxs(R.Fragment,{children:[R.jsx(S,{children:R.jsxs(p,{children:[R.jsx($,{size:"small",children:R.jsx(m,{id:"ActivityPanel.Registreringsdato"})}),R.jsx(A,{size:"small",children:i?x(i).format(te):"-"})]})}),R.jsx(I,{eightPx:!0}),R.jsx(S,{children:R.jsx(p,{children:R.jsx($,{size:"small",children:R.jsx(m,{id:Lh(s)})})})}),s.sort((l,d)=>l.år<d.år?1:l.år>d.år?-1:0).map(l=>R.jsxs(S,{children:[R.jsx(p,{className:Ui.aarBredde,children:R.jsx(A,{size:"small",children:l.år})}),R.jsx(p,{className:Ui.belopBredde,children:R.jsx(sn,{children:R.jsx(A,{size:"small",children:C(l.beløp)})})})]},l.år))]})]}),Gh="_explanationTextarea_18tdb_1",Ch="_panel_18tdb_5",zh="_colMargin_18tdb_9",wh="_margin_18tdb_13",Kh="_fix_18tdb_17",Zr={explanationTextarea:Gh,panel:Ch,colMargin:zh,margin:wh,fix:Kh},Yh=pn(3),Uh=jn(1500),Zt=(e,n,r)=>e?!!n&&!r:!0,Hh=(e,n)=>{const r=_k(e,n);return r?r.months>=1?R.jsx(m,{id:"ActivityPanel.MonthsAndDays",values:{months:r.months,days:r.days}}):R.jsx(m,{id:"ActivityPanel.Days",values:{days:r.days}}):R.jsx("span",{})},Zh=(e,n,r,t)=>r||Zt(t,e,n)?"ActivityPanel.Begrunnelse":"ActivityPanel.BegrunnEndringene",Jh=({readOnly:e,opptjeningAktivitetTyper:n,avbrytAktivitet:r,velgNesteAktivitet:t,velgForrigeAktivitet:i,harAksjonspunkt:s,alleMerknaderFraBeslutter:l,arbeidsgiverOpplysningerPerId:d,valgtOpptjeningAktivitet:o,ferdiglignetNæring:u,oppdaterAktivitet:k,valgteFormValues:f,opptjeningFomDato:v,opptjeningTomDato:h,lukkPeriode:T})=>{var E;const P=q(),y=He({defaultValues:f}),{arbeidsgiverReferanse:B,erGodkjent:M,erEndret:F,aktivitetType:O,stillingsandel:L,naringRegistreringsdato:U}=o,re=jg(o.opptjeningFom,v,h),ne=vg(o.opptjeningTom,v,h),Z=b.useCallback((...K)=>R.jsx("b",{children:K}),[]);return R.jsx(Ze,{formMethods:y,onSubmit:K=>k(K),children:R.jsxs(ao,{className:Zr.panel,merknaderFraBeslutter:l[ae.VURDER_PERIODER_MED_OPPTJENING],children:[R.jsxs(se,{children:[R.jsxs(S,{spaceBetween:!0,children:[R.jsx(p,{children:R.jsx(je,{size:"small",children:R.jsx(m,{id:"ActivityPanel.Details"})})}),R.jsxs(p,{className:Zr.fix,children:[R.jsx(ie,{className:Zr.margin,size:"xsmall",icon:R.jsx(Ei,{"aria-hidden":!0}),onClick:i,variant:"secondary-neutral",type:"button",title:P.formatMessage({id:"Timeline.prevPeriod"}),children:R.jsx(m,{id:"Timeline.prevPeriodShort"})}),R.jsx(ie,{className:Zr.margin,size:"xsmall",icon:R.jsx(yi,{"aria-hidden":!0}),onClick:t,variant:"secondary-neutral",type:"button",title:P.formatMessage({id:"Timeline.nextPeriod"}),iconPosition:"right",children:R.jsx(m,{id:"Timeline.nextPeriodShort"})}),R.jsx(ie,{size:"xsmall",icon:R.jsx(_r,{"aria-hidden":!0}),onClick:T,variant:"tertiary-neutral",type:"button",title:P.formatMessage({id:"Timeline.lukkPeriode"})})]})]}),R.jsx(I,{sixteenPx:!0}),R.jsxs(S,{children:[R.jsxs(p,{className:Zr.colMargin,children:[R.jsx($,{size:"small",children:R.jsx(m,{id:"ActivityPanel.Period"})}),R.jsx(se,{children:R.jsxs(S,{children:[R.jsx(p,{children:R.jsx(A,{size:"small",children:`${x(re).format(te)} - ${x(ne).format(te)}`})}),R.jsx(p,{children:R.jsx(A,{size:"small",children:Hh(re,ne)})})]})})]}),R.jsxs(p,{children:[R.jsx($,{size:"small",children:R.jsx(m,{id:"ActivityPanel.Activity"})}),R.jsx(A,{size:"small",children:(E=n.find(K=>K.kode===O))==null?void 0:E.navn})]})]})]}),R.jsx(I,{eightPx:!0}),R.jsx(Vh,{valgtAktivitetstype:O,arbeidsgiverReferanse:B,arbeidsgiverOpplysningerPerId:d,stillingsandel:L,naringRegistreringsdato:U,ferdiglignetNæring:u}),!Zt(s,M,F)&&R.jsxs(R.Fragment,{children:[R.jsx(I,{twentyPx:!0}),R.jsx(Ne,{name:"erGodkjent",hideLegend:!0,validate:[Q],isReadOnly:e,isEdited:F,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:P.formatMessage({id:"ActivityPanel.Godkjent"}),value:"true"},{label:R.jsx(m,{id:"ActivityPanel.IkkeGodkjent",values:{b:Z}}),value:"false"}]})]}),R.jsx(I,{sixteenPx:!0}),R.jsx(Xe,{name:"begrunnelse",label:R.jsx(m,{id:Zh(M,F,e,s)}),validate:[Q,Yh,Uh,fn],maxLength:1500,readOnly:e||Zt(s,M,F)}),!Zt(s,M,F)&&R.jsxs(R.Fragment,{children:[R.jsx(I,{sixteenPx:!0}),R.jsx(se,{children:R.jsxs(S,{children:[R.jsx(p,{children:R.jsx(ie,{size:"small",variant:"primary",disabled:!y.formState.isDirty,children:R.jsx(m,{id:"ActivityPanel.Oppdater"})})}),R.jsx(p,{children:R.jsx(ie,{size:"small",variant:"secondary",onClick:r,type:"button",children:R.jsx(m,{id:"ActivityPanel.Avbryt"})})})]})})]})]})})},Wh="_container_ivkzi_1",Qh="_info_ivkzi_4",qh="_alertstripe__tekst_ivkzi_7",Xh="_alertstripe__tekst_ivkzi_7",eI="_pushRight_ivkzi_10",nI={container:Wh,info:Qh,alertstripe__tekst:qh,alertstripeTekst:Xh,pushRight:eI},rI=e=>{const n=[];e.some(t=>t.stillingsandel===0)&&n.push(R.jsx(m,{id:"OpptjeningFaktaForm.AktivitetenErTimeAvslonnet"},"AktivitetenErTimeAvslonnet"));const r=e.filter(t=>(t.erGodkjent===void 0||t.erGodkjent===null||t.begrunnelse)&&t.stillingsandel!==0);return r.length===1?n.push(R.jsx(m,{id:"OpptjeningFaktaForm.EttArbeidKanGodkjennes"},"EttArbeidKanGodkjennes")):r.length>1&&n.push(R.jsx(m,{id:"OpptjeningFaktaForm.FlereArbeidKanGodkjennes"},"FlereArbeidKanGodkjennes")),n},tI=e=>x(e).add(1,"days").format(Pe),iI=(e,n)=>[...e].sort((r,t)=>{const i=n.find(l=>l.kode===r.aktivitetType).navn,s=n.find(l=>l.kode===t.aktivitetType).navn;return i.localeCompare(s)}),yl=e=>mo(e,1),sI=(e,n)=>e.filter(r=>x(n.opptjeningFom).isBefore(yl(r.opptjeningTom))).filter(r=>x(r.opptjeningFom).isBefore(yl(n.opptjeningTom))),aI=({hasAksjonspunkt:e,hasOpenAksjonspunkter:n,opptjeningAktiviteter:r,opptjeningFomDato:t,opptjeningTomDato:i,readOnly:s,alleMerknaderFraBeslutter:l,alleKodeverk:d,arbeidsgiverOpplysningerPerId:o,fastsattOpptjening:u,ferdiglignetNæring:k,submitCallback:f,formData:v,setFormData:h})=>{const T=d[En.OPPTJENING_AKTIVITET_TYPE],E=b.useMemo(()=>r&&u?iI(sI(r,u),T):[],[r,u]),P=E.map(oe=>({erGodkjent:oe.erGodkjent,begrunnelse:oe.begrunnelse})),[y,B]=b.useState(v||P),M=E.findIndex(oe=>oe.erGodkjent===void 0),F=E.length>0?0:void 0,[O,L]=b.useState(M!==-1?M:F),[U,re]=b.useState(!1);b.useEffect(()=>()=>{h(y)},[y]),b.useEffect(()=>{const oe=y.findIndex(ce=>ce.erGodkjent===void 0);L(oe!==-1?oe:void 0)},[y]);const ne=b.useCallback(()=>{re(!0);const oe=E.map((ce,ze)=>({arbeidsforholdRef:ce.arbeidsforholdRef,arbeidsgiverReferanse:ce.arbeidsgiverReferanse,opptjeningFom:ce.opptjeningFom,opptjeningTom:ce.opptjeningTom,aktivitetType:ce.aktivitetType,erGodkjent:y[ze].erGodkjent,begrunnelse:y[ze].begrunnelse})).filter(ce=>ce.begrunnelse);f({opptjeningsaktiviteter:oe,kode:ae.VURDER_PERIODER_MED_OPPTJENING}).then(()=>re(!1))},[E,y]),Z=b.useCallback(()=>{O<E.length-1&&L(O+1)},[O]),K=b.useCallback(()=>{O>0&&L(O-1)},[O]),w=b.useCallback(oe=>{B(ce=>Object.assign([],ce,{[O]:oe}))},[B,O]),H=b.useCallback(()=>L(void 0),[]),X=b.useCallback(()=>{L(void 0)},[]),ue=y.some(oe=>oe.erGodkjent===null||oe.erGodkjent===void 0);return R.jsxs("div",{className:nI.container,children:[e&&R.jsxs(R.Fragment,{children:[R.jsx(kt,{isAksjonspunktOpen:n,children:rI(E)}),R.jsx(I,{twentyPx:!0})]}),R.jsx($,{size:"small",children:R.jsx(m,{id:"OpptjeningFaktaForm.Skjaringstidspunkt"})}),R.jsx(A,{size:"small",children:R.jsx(Re,{dateString:tI(i)})}),R.jsx(I,{twentyPx:!0}),R.jsx(Rh,{opptjeningPerioder:E,formVerdierForAlleAktiviteter:y,opptjeningAktivitetTypes:T,setValgtAktivitetIndex:L,valgtAktivitetIndex:O,opptjeningFomDato:t,opptjeningTomDato:i}),R.jsx(I,{fourtyPx:!0}),O!==void 0&&R.jsxs(R.Fragment,{children:[R.jsx(Jh,{valgtOpptjeningAktivitet:E[O],valgteFormValues:y[O],readOnly:s,opptjeningAktivitetTyper:T,avbrytAktivitet:H,oppdaterAktivitet:w,opptjeningFomDato:t,opptjeningTomDato:i,velgNesteAktivitet:Z,velgForrigeAktivitet:K,harAksjonspunkt:e,alleMerknaderFraBeslutter:l,alleKodeverk:d,arbeidsgiverOpplysningerPerId:o,ferdiglignetNæring:k,lukkPeriode:X},O),R.jsx(I,{twentyPx:!0})]}),e&&E.length>0&&R.jsx(ie,{size:"small",variant:"primary",onClick:ne,disabled:O!==void 0||U||s||ue,loading:U,type:"button",children:R.jsx(m,{id:"OpptjeningFaktaForm.Confirm"})})]})},lI={"OpptjeningFaktaForm.Skjaringstidspunkt":"Skjæringstidspunkt for opptjening","OpptjeningFaktaForm.EttArbeidKanGodkjennes":"Vurder om aktiviteten kan godkjennes","OpptjeningFaktaForm.FlereArbeidKanGodkjennes":"Vurder om aktivitetene kan godkjennes","OpptjeningFaktaForm.AktivitetenErTimeAvslonnet":"Arbeidet er timeavlønnet. Slå opp i A-ordningen for å vurdere opptjeningen","OpptjeningFaktaForm.DetErInnhentetDok":"Det er innhentet dokumentasjon på opptjening i utlandet","OpptjeningFaktaForm.DetErIkkeInnhentetDok":"Det er <b>ikke</b> innhentet dokumentasjon på opptjening i utlandet","OpptjeningFaktaForm.Confirm":"Bekreft og fortsett","ActivityPanel.Details":"Detaljer for valgt aktivitet","ActivityPanel.Period":"Periode","ActivityPanel.Activity":"Aktivitet","ActivityPanel.Godkjent":"Aktiviteten godkjennes","ActivityPanel.IkkeGodkjent":"Aktiviteten godkjennes <b>ikke</b>","ActivityPanel.BegrunnEndringene":"Begrunn endringene","ActivityPanel.Begrunnelse":"Begrunnelse","ActivityPanel.Oppdater":"Oppdater","ActivityPanel.Avbryt":"Avbryt","ActivityPanel.MonthsAndDays":"({months} mndr. {days} dager)","ActivityPanel.Days":"({days} dager)","ActivityPanel.Arbeidsgiver":"Arbeidsgiver","ActivityPanel.Oppdragsgiver":"Oppdragsgiver","ActivityPanel.Stillingsandel":"Stillingsandel","ActivityPanel.Registreringsdato":"Registreringsdato","ActivityPanel.FerdiglignetNæring":"Ferdiglignet næringsinntekt","ActivityPanel.IngenFerdiglignetNæring":"Ingen ferdiglignet næringsinntekt","OpptjeningTidslinje.StartDato":"Start opptjeningsperiode","OpptjeningTidslinje.SluttDato":"Slutt opptjeningsperiode","OpptjeningTidslinje.Aap":"AAP","Timeline.lukkPeriode":"Lukk periode","Timeline.nextPeriod":"Neste periode","Timeline.nextPeriodShort":"Neste","Timeline.prevPeriod":"Forrige periode","Timeline.prevPeriodShort":"Forrige","Timeline.openData":"Åpne info om første periode"},dI=Ve(lI),bg=({opptjening:e,aksjonspunkter:n,alleMerknaderFraBeslutter:r,alleKodeverk:t,harApneAksjonspunkter:i,submitCallback:s,readOnly:l,arbeidsgiverOpplysningerPerId:d,formData:o,setFormData:u})=>{const k=e?e.fastsattOpptjening:void 0,f=e?e.opptjeningAktivitetList:void 0,v=(e==null?void 0:e.ferdiglignetNæring)||[];return R.jsx(Qe,{value:dI,children:R.jsx(aI,{opptjeningFomDato:k?k.opptjeningFom:void 0,opptjeningTomDato:k?k.opptjeningTom:void 0,readOnly:l,hasOpenAksjonspunkter:i,hasAksjonspunkt:n[0]!==void 0,alleMerknaderFraBeslutter:r,alleKodeverk:t,arbeidsgiverOpplysningerPerId:d,opptjeningAktiviteter:f,fastsattOpptjening:k,ferdiglignetNæring:v,submitCallback:s,formData:o,setFormData:u})})};bg.__docgenInfo={description:"",methods:[],displayName:"ln"};const oI=[ae.VURDER_PERIODER_MED_OPPTJENING],gI=[Ke.OPPTJENING],Sl=({arbeidsgiverOpplysningerPerId:e,...n})=>_e.jsx(Mr,{...n,panelEndepunkter:gI,aksjonspunktKoder:oI,faktaPanelKode:Pr.OPPTJENINGSVILKARET,faktaPanelMenyTekst:q().formatMessage({id:"OpptjeningInfoPanel.KontrollerFaktaForOpptjening"}),skalPanelVisesIMeny:()=>!!n.behandling.vilkår&&n.behandling.vilkår.some(r=>r.vilkarType===Qn.OPPTJENINGSVILKARET)&&n.behandling.vilkår.some(r=>r.vilkarType===Qn.MEDLEMSKAPSVILKARET&&r.vilkarStatus===Io.OPPFYLT),renderPanel:r=>_e.jsx(bg,{arbeidsgiverOpplysningerPerId:e,...r})});try{Sl.displayName="OpptjeningsvilkaretFaktaInitPanel",Sl.__docgenInfo={description:"OpptjeningsvilkaretFaktaInitPanel",displayName:"OpptjeningsvilkaretFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}const hg="https://navno.sharepoint.com/:x:/s/fag-og-ytelser-familie-foreldrepenger/EaB60qfvI_JNlSDbhFXp6FoBIw3G260Wp6zOm78U6aFrng?e=3Jy3sn";var Te=(e=>(e.AVKLAR_AKTIVITETER="AVKLAR_AKTIVITETER",e.VURDER_FAKTA_FOR_ATFL_SN="VURDER_FAKTA_ATFL_SN",e.OVERSTYRING_AV_BEREGNINGSAKTIVITETER="OVST_BEREGNINGSAKTIVITETER",e.OVERSTYRING_AV_BEREGNINGSGRUNNLAG="OVST_INNTEKT",e))(Te||{}),Hi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ig={exports:{}},Jr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pl;function uI(){if(Pl)return Jr;Pl=1;var e=J,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,f={},v=null,h=null;u!==void 0&&(v=""+u),o.key!==void 0&&(v=""+o.key),o.ref!==void 0&&(h=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(f[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)f[k]===void 0&&(f[k]=o[k]);return{$$typeof:n,type:d,key:v,ref:h,props:f,_owner:i.current}}return Jr.Fragment=r,Jr.jsx=l,Jr.jsxs=l,Jr}Ig.exports=uI();var j=Ig.exports;const ca={"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning":"Vurder fakta for beregningen","BeregningInfoPanel.TidsbegrensetArbFor.Arbeidsforhold":"Er arbeidsforholdet i {navn} med varighet {fom} - {tom} tidsbegrenset?","BeregningInfoPanel.FormAlternativ.Ja":"Ja","BeregningInfoPanel.FormAlternativ.Nei":"Nei","BeregningInfoPanel.NyIArbeidslivet.SelvstendigNaeringsdrivende":"Søker er selvstendig næringsdrivende. Ble søker yrkesaktiv i løpet av de siste tre årene?","AvklarAktivitetPanel.Overskrift":"Aktiviteter i beregningsgrunnlaget","AvklarAktivitetPanel.ButtonText":"Oppdater","AvklarAktivitetPanel.OverstyrText":"Overstyr","AvklareAktiviteter.Avbryt":"Avbryt","VurderAktiviteterTabell.FullAAPKombinert.Overskrift":"Søker har full AAP (200%) sammen med andre aktiviteter. Skjæringstidspunkt for beregning {skjaeringstidspunkt}","VurderAktiviteterTabell.VentelonnVartpenger.Overskrift":"Søker har ventelønn eller vartpenger som siste aktivitet. Skjæringstidspunkt for beregning {skjaeringstidspunkt}","VurderAktiviteterTabell.Overstyrt.Overskrift":"Skjæringstidspunkt for beregning {skjaeringstidspunkt}","BeregningInfoPanel.VurderOgFastsettATFL.ErSokerNyoppstartetFL":"Startet søker som frilanser i løpet av de siste tre månedene?","BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrgUtenIM":"Søker er arbeidstaker og frilanser i samme virksomhet og det er ikke mottatt inntektsmelding(er).","BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrg":"Søker er arbeidstaker og frilanser i samme virksomhet.","BeregningInfoPanel.VurderOgFastsettATFL.FastsettFrilans":"Fastsett frilansinntekt","BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLAlleOppdrag":"Fastsett arbeidsinntekt og samlet frilansinntekt for alle oppdrag.","BeregningInfoPanel.VurderOgFastsettATFL.FastsettArbeidsinntekt":"Fastsett arbeidsinntekt","BeregningInfoPanel.VurderOgFastsettATFL.HarSokerEndring":"Har søker hatt lønnsendring i løpet av de siste tre månedene?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilansUtenFrilans":"Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for frilansaktiviteten?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilans":"Søker er frilanser. Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for frilansaktiviteten?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForArbeid":"Søker er arbeidstaker og det er ikke mottatt inntektsmelding. Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for arbeid i {arbeid}?","BeregningInfoPanel.VurderBestebergning.HarBesteberegning":"Søker har hatt dagpenger i opptjeningsperioden. Skal dette fordeles etter besteberegning?","InntektstabellPanel.Avbryt":"Avbryt overstyring","BeregningInfoPanel.FordelingBG.LeggTilAndel":"Legg til aktivitet","BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet":"Finn regneark på navet","BeregningInfoPanel.FordelingBG.Sum":"Sum","BeregningInfoPanel.FordelingBG.Andel":"Aktivitet","BeregningInfoPanel.FordelingBG.Arbeidsperiode":"Arbeidsperiode","BeregningInfoPanel.FordelingBG.Refusjonskrav":"Refusjonskrav","BeregningInfoPanel.FordelingBG.Fordeling":"Månedsinntekt","BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn":"Månedsinntekt for {andel}","BeregningInfoPanel.FordelingBG.InntektskategoriMedAndelnavn":"Inntektskategori for {andel}","BeregningInfoPanel.FordelingBG.Inntektskategori":"Inntektskategori","BeregningInfoPanel.FordelingBG.LeggTilDagpengerAndel":"Legg til dagpenger","BeregningInfoPanel.FordelingBG.FjernDagpenger":"Fjern dagpenger","BeregningInfoPanel.FordelingBG.Ytelse":"Ytelse","BeregningInfoPanel.FordelingBG.FjernAndel":"Fjern aktivitet","AvklareAktiviteter.OverstyrerAktivitetAdvarsel":"Overstyr hvilke aktiviteter og eventuelle inntektsmeldinger som skal benyttes i beregning.","VurderAktiviteterTabell.Header.Aktivitet":"Aktivitet","VurderAktiviteterTabell.Header.Periode":"Periode","VurderAktiviteterTabell.Header.Benytt":"Benytt","VurderAktiviteterTabell.Header.IkkeBenytt":"Ikke benytt","VurderAktiviteterTabell.Validation.MåHaMinstEnAktivitet":"Må ha minst én aktivitet for å kunne fastsette beregningsgrunnlag","BeregningInfoPanel.AksjonspunktHelpText.VurderAktiviteter":"Vurder hvilke aktiviteter som skal benyttes i beregningsgrunnlaget.","BeregningInfoPanel.KunstigArbeidsforhold.FastsettKunstigArbeidsforhold":"Det finnes ikke registerdata for arbeidsforholdet og det er ikke mottatt inntektsmelding. Fastsett månedsinntekt for arbeidsforholdet","KunYtelsePanel.Overskrift":"Søker har ytelse som eneste inntekt. Fastsett månedsbeløp for fordeling av beregningsgrunnlaget.","KunYtelsePanel.HarBesteberegning":"Søker har ytelse som eneste inntekt. Skal denne fordeles etter besteberegning?","KunYtelsePanel.OverskriftBesteberegning":"Fastsett månedsbeløp for brutto beregningsgrunnlag etter besteberegning","BeregningInfoPanel.FordelBG.Validation.UlikeAndeler":"Andeler for samme aktivitet må ha ulik inntektskategori","InntektstabellPanel.RapporterteInntekter":"Rapporterte inntekter","BeregningInfoPanel.EtterlønnSluttpakke.HarSøkerInntekt":"Har søker etterlønn eller sluttpakke?","BeregningInfoPanel.VurderMilitaer.HarSøkerMilitærinntekt":"Har søker vært i militær- eller sivilforsvarstjeneste i opptjeningsperioden?","VurderRefusjonForm.ErRefusjonskravGyldig":"{arbeidsgiverVisningsnavn} har minst ett refusjonskrav som har kommet for sent. Skal refusjonskrav som ikke har kommet innen fristen tas med i beregning?","BeregningInfoPanel.Validation.MinstEnFastsatt":"Må ha overstyrt inntekt for minst én aktivitet.","FaktaBegrunnelseTextField.BegrunnEndringene":"Begrunn endringene","SubmitButton.ConfirmInformation":"Bekreft og fortsett"},kI="_tabsContainer_1ojru_1",mI={tabsContainer:kI},ot="avklarAktiviteterForm",cn="vurderFaktaBeregningForm",tn=(e,n)=>n.some(r=>r.definisjon===e),cI=e=>e===na.OPPRETTET,fI="_begrunnelseTextField_1wq9u_1",pI="_explanationTextarea_1wq9u_4",jI="_explanationTextareaReadOnly_1wq9u_7",Zi={begrunnelseTextField:fI,explanationTextarea:pI,explanationTextareaReadOnly:jI},_l=Ve(ca),vI=pn(3),bI=jn(1500),nr=({isReadOnly:e,isSubmittable:n,hasBegrunnelse:r,label:t,hasVurderingText:i,name:s})=>{const l=i?"FaktaBegrunnelseTextField.Vurdering":"FaktaBegrunnelseTextField.BegrunnEndringene",d=t||_l.formatMessage({id:l});return j.jsx(Qe,{value:_l,children:(n||r)&&j.jsx("div",{className:Zi.begrunnelseTextField,children:j.jsx(Xe,{name:s,label:e?"":d,validate:e?[]:[Q,vI,bI,fn],className:e?Zi.explanationTextareaReadOnly:Zi.explanationTextarea,maxLength:1500,readOnly:e})})})};nr.defaultProps={name:"begrunnelse",hasVurderingText:!1};nr.buildInitialValues=(e,n="begrunnelse")=>({[n]:Ys(e)});nr.transformValues=(e,n="begrunnelse")=>({begrunnelse:e[n]});const hI=Ve(ca),II=(e,n,r,t)=>!e&&!r||n?!0:t===void 0?!e:!e&&t||t,Ag=({isReadOnly:e,isSubmittable:n,isSubmitting:r,isDirty:t,text:i,onClick:s,hasEmptyRequiredFields:l,isDisabled:d})=>e?null:j.jsx(ie,{size:"small",loading:r,disabled:II(t,r,n,l)||!!d,onClick:s||qs,type:s?"button":"submit",children:i||hI.formatMessage({id:"SubmitButton.ConfirmInformation"})}),{AVKLAR_AKTIVITETER:ui,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Ml}=Te,AI=(e,n)=>n.some(r=>r.definisjon===e&&r.kanLoses),xI=(e,n,r)=>(e||AI(ui,n))&&r,fa=e=>e.some(n=>n.definisjon===Ml||n.definisjon===ui)?e.find(n=>n.definisjon===Ml||n.definisjon===ui).begrunnelse:null,TI=(e,n)=>tn(ui,e)||n,NI=(e,n,r)=>e&&n&&!r,EI="_avsnittOverskrift_h44z2_1",yI={avsnittOverskrift:EI},Ji=e=>e?`...${e.substring(e.length-4,e.length)}`:"",Dr=(e,n)=>e.erPrivatPerson?e.fødselsdato?`${e.navn} (${x(e.fødselsdato).format(te)})${Ji(n)}`:`${e.navn}${Ji(n)}`:`${e.navn} (${e.identifikator})${Ji(n)}`,SI=(e,n)=>e.arbeidsforholdId?n+e.arbeidsforholdId:n,Rl=(e,n)=>e+n.fom.replace(".",""),We=e=>{if(e.arbeidsgiverIdent||e.aktørIdString){const n=SI(e,e.arbeidsgiverIdent?e.arbeidsgiverIdent:e.aktørIdString);return Rl(n,e)}return Rl(e.arbeidsforholdType,e)},PI=(e,n)=>e||n,Jt=(e,n,r,t,i)=>!n&&!r||e.arbeidsforholdType&&e.arbeidsforholdType===Ar.AAP?!1:n?PI(t,i):!0,_I=(e,n,r)=>{var t;const i=n[e.arbeidsgiverIdent];return i?Dr(i,e.eksternArbeidsforholdId):e.arbeidsforholdType?(t=r[ye.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn:""},MI=(e,n)=>x(e).isSame(x(n))||x(e).isBefore(x(n)),RI=(e,n,r,t)=>Jt(e,n,r,t,!1)?e.skalBrukes===void 0||e.skalBrukes===null?null:e.skalBrukes.toString():e.skalBrukes===!0||e.skalBrukes===null||e.skalBrukes===void 0?"true":"false",OI=(e,n,r,t,i,s)=>({beregningAktivitetNavn:_I(e,s,n),fom:e.fom,tom:e.tom,skalBrukes:RI(e,r,t,i)}),DI=(e,n,r,t)=>{const i=MI(r,t);return n.filter(s=>e.aktiviteterValues[We(s)].skalBrukes==="false"||e.aktiviteterValues[We(s)].tom!=null).map(s=>({oppdragsgiverOrg:s.aktørIdString?null:s.arbeidsgiverIdent,arbeidsforholdRef:s.arbeidsforholdId,fom:s.fom,tom:e.aktiviteterValues[We(s)].tom!=null?e.aktiviteterValues[We(s)].tom:s.tom,opptjeningAktivitetType:s.arbeidsforholdType?s.arbeidsforholdType:null,arbeidsgiverIdentifikator:s.arbeidsgiverIdent,skalBrukes:i?e.aktiviteterValues[We(s)].skalBrukes==="true":!0}))},BI=(e,n,r,t,i,s)=>{if(!e)return{};const l={};return e.forEach(d=>{l[We(d)]=OI(d,n,r,t,i,s)}),l},FI="_radios_bl769_1",$I="_navnKol_bl769_13",$t={radios:FI,navnKol:$I},LI=(e,n)=>x(e).isSame(x(n))||x(e).isBefore(x(n)),Ol=(e,n,r)=>{var t;const i=n[e.arbeidsgiverIdent];return i?Dr(i,e.eksternArbeidsforholdId):e.arbeidsforholdType?(t=r[ye.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn:""},VI=({readOnly:e,isAvklaringsbehovClosed:n,aktivitet:r,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:l,valgtSkjæringstidspunkt:d,ingenAktiviterErBrukt:o,arbeidsgiverOpplysningerPerId:u,fieldId:k})=>{const f=q(),v=LI(d,l),h=T=>{const E=Ol(r,u,t),P=`${Wa(r.fom)} til ${Wa(r.tom)}`;return`${T?"Benytt":"Ikke benytt"} ${E} ${P}`};return j.jsxs(Ge,{children:[j.jsx(z,{className:$t.navnKol,children:j.jsx(A,{children:Ol(r,u,t)})}),j.jsxs(z,{className:$t.rowalign,children:[!i&&j.jsx(A,{children:j.jsx(Ye,{dateStringFom:r.fom,dateStringTom:r.tom})}),i&&j.jsxs("div",{children:[j.jsx(Re,{dateString:r.fom})," -"," ",j.jsx(Wn,{name:`avklarAktiviteterForm.${k}.aktiviteterValues.${We(r)}.tom`,validate:[Q,Bn],isReadOnly:e})]})]}),j.jsx(z,{className:$t.radios,children:j.jsx(Ne,{name:`avklarAktiviteterForm.${k}.aktiviteterValues.${We(r)}.skalBrukes`,label:f.formatMessage({id:"VurderAktiviteterTabell.Header.Benytt"}),validate:[Q],isHorizontal:!0,isReadOnly:e||!Jt(r,i,s,v,o),radios:[{value:"true",label:h(!0)}],hideLegend:!0,hideRadioLabels:!0})}),j.jsx(z,{className:$t.radios,children:j.jsx(Ne,{name:`avklarAktiviteterForm.${k}.aktiviteterValues.${We(r)}.skalBrukes`,label:f.formatMessage({id:"VurderAktiviteterTabell.Header.IkkeBenytt"}),validate:[Q],isHorizontal:!0,isReadOnly:e||!Jt(r,i,s,v,o),radios:[{value:"false",label:h(!1)}],hideLegend:!0,hideRadioLabels:!0})}),n&&e&&j.jsx(z,{children:Jt(r,i,s,v,o)&&j.jsx(Ii,{})})]},We(r))},GI=(e,n,r)=>{const t=Bn(r)?"":x(r).format(te);if(n)return j.jsx(m,{id:"VurderAktiviteterTabell.Overstyrt.Overskrift",values:{skjaeringstidspunkt:t}});const i=e.some(l=>l.arbeidsforholdType&&l.arbeidsforholdType===Ar.AAP),s=e.some(l=>l.arbeidsforholdType&&l.arbeidsforholdType===Ar.VENTELØNN_VARTPENGER);return i?j.jsx(m,{id:"VurderAktiviteterTabell.FullAAPKombinert.Overskrift",values:{skjaeringstidspunkt:t}}):s?j.jsx(m,{id:"VurderAktiviteterTabell.VentelonnVartpenger.Overskrift",values:{skjaeringstidspunkt:t}}):""},CI=()=>["VurderAktiviteterTabell.Header.Aktivitet","VurderAktiviteterTabell.Header.Periode","VurderAktiviteterTabell.Header.Benytt","VurderAktiviteterTabell.Header.IkkeBenytt"],zI=({readOnly:e,isAvklaringsbehovClosed:n,aktiviteter:r,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:l,valgtSkjæringstidspunkt:d,ingenAktiviterErBrukt:o,arbeidsgiverOpplysningerPerId:u,fieldId:k})=>j.jsxs(j.Fragment,{children:[j.jsx($,{size:"small",children:GI(r,i,l)}),j.jsx(qe,{headerTextCodes:CI(),noHover:!0,children:r.map(f=>j.jsx(VI,{aktivitet:f,readOnly:e,isAvklaringsbehovClosed:n,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:l,valgtSkjæringstidspunkt:d,ingenAktiviterErBrukt:o,arbeidsgiverOpplysningerPerId:u,fieldId:k},`${f.arbeidsgiverIdent}-${f.fom}-${f.tom}`))})]}),xs=(e,n)=>e.aktiviteter.find(r=>{const t=We(r);return n.aktiviteterValues&&n.aktiviteterValues[t]?n.aktiviteterValues[t].skalBrukes!=="false":r.skalBrukes})!==void 0,wI=(e,n)=>{let r=0;for(;r<e.length&&x(n).isBefore(e[r].tom===void 0?null:e[r].tom);)r+=1;return r},Dl=(e,n,r)=>{const t=e.find(({tom:i})=>i===r);if(t===void 0){const i={tom:r,aktiviteter:[n]},s=wI(e,r);e.splice(s,0,i)}else t.aktiviteter.push(n)},KI=e=>{var n;return(n=e.avklarAktiviteter)==null?void 0:n.aktiviteterTomDatoMapping.some(r=>!r.aktiviteter.some(t=>!x(t.tom).isValid()))},YI=e=>{const n=e.avklarAktiviteter.aktiviteterTomDatoMapping,r=[],t=e.avklarAktiviteter.skjæringstidspunkt;return n.flatMap(({aktiviteter:i})=>i).forEach(i=>{const s={...i},l=e.aktiviteterValues[We(i)].tom;l&&l!==s.tom&&(s.tom=l),x(l).isSame(x(t).subtract(1,"days"))||x(l).isAfter(x(t).subtract(1,"days"))?Dl(r,s,t):Dl(r,s,x(l).add(1,"days").format("YYYY-MM-DD"))}),r},pa=(e,n,r)=>{const t=n&&!KI(n)?YI(n):e;return r?t:!n||xs(t[0],n)||t.length===1?[t[0]]:[t[0],t[1]]},xg=(e,n)=>{if(!(e===void 0||n===void 0))for(let r=0;r<n.length;r+=1){const{aktiviteter:t}=n[r];for(let i=0;i<t.length;i+=1)if(e.aktiviteterValues[We(t[i])].skalBrukes==="true")return n[r].tom}},rr=({readOnly:e,isAvklaringsbehovClosed:n,values:r,aktiviteterTomDatoMapping:t,erOverstyrt:i,harAvklaringsbehov:s,kodeverkSamling:l,arbeidsgiverOpplysningerPerId:d,fieldId:o})=>{const u=pa(t,r,i),k=xg(r,u);return j.jsx(j.Fragment,{children:u.map(f=>j.jsx(zI,{readOnly:e,isAvklaringsbehovClosed:n,aktiviteter:f.aktiviteter,erOverstyrt:i,harAvklaringsbehov:s,kodeverkSamling:l,tomDatoForAktivitetGruppe:f.tom,valgtSkjæringstidspunkt:k,ingenAktiviterErBrukt:k===void 0,arbeidsgiverOpplysningerPerId:d,fieldId:o},f.tom))})};rr.harIngenAktiviteter=(e,n,r)=>{const t=pa(n,e,r);return xs(t[0],e)?!1:t.length>1&&t[1].aktiviteter.length>0?!xs(t[1],e):!0};const UI=(e,n)=>x(e).isSame(x(n))||x(e).isBefore(x(n));rr.transformValues=(e,n,r)=>{const t=pa(n,e,r),i=xg(e,t);return t.flatMap(s=>DI(e,s.aktiviteter,i,s.tom))};const HI=e=>{if(e!==void 0)for(let n=0;n<e.length;n+=1){const{aktiviteter:r}=e[n];for(let t=0;t<r.length;t+=1)if(r[t].skalBrukes===!0||r[t].skalBrukes===null||r[t].skalBrukes===void 0)return e[n].tom}};rr.buildInitialValues=(e,n,r,t,i)=>{if(!e||e.length===0)return{};let s={};const l=HI(e);return e.forEach(d=>{s={...s,...BI(d.aktiviteter,n,r,t,UI(l,d.tom),i)}}),s};const{AVKLAR_AKTIVITETER:Wt,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Tg}=Te,ja="begrunnelseAvklareAktiviteter",Ng="manuellOverstyringBeregningAktiviteter",ZI=(e,n,r,t,i)=>{const s=tn(Wt,e),l=tn(Tg,e),d=fa(e);let o;return n&&n.aktiviteterTomDatoMapping&&(o=rr.buildInitialValues(n.aktiviteterTomDatoMapping,r,l,s,t)),{[Ng]:l,periode:i.periode,erTilVurdering:i.vurderesIBehandlingen&&!i.erForlengelse,avklaringsbehov:e,avklarAktiviteter:n,aktiviteterValues:o,...nr.buildInitialValues(d,ja)}},Bl=e=>{const n=e[Ng],r=xI(n,e.avklaringsbehov,e.erTilVurdering),{avklarAktiviteter:t}=e;return r?{beregningsaktivitetLagreDtoList:rr.transformValues(e,t.aktiviteterTomDatoMapping,n),periode:e.periode,begrunnelse:e[ja]}:null},JI=(e,n,r,t,i)=>rr.harIngenAktiviteter(e(`avklarAktiviteterForm.${n}`),r,t)?i.formatMessage({id:"VurderAktiviteterTabell.Validation.MåHaMinstEnAktivitet"}):null,WI=({avklarAktiviteter:e,avklaringsbehov:n,erOverstyrer:r,readOnly:t,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:s,submittable:l,fieldId:d,updateOverstyring:o,submitDisabled:u})=>{var k,f;const v=q(),{resetField:h,watch:T,getValues:E,formState:{isSubmitting:P,errors:y,dirtyFields:B}}=Se(),M=Object.keys(B).length>0,F=tn(Tg,n),O=E(`avklarAktiviteterForm.${d}`).manuellOverstyringBeregningAktiviteter,[L,U]=b.useState(F||O),re=!!((f=(k=y.avklarAktiviteterForm)==null?void 0:k[d])!=null&&f.begrunnelseAvklareAktiviteter),ne=X=>{X?U(!L):!X&&L&&U(!1),h(`avklarAktiviteterForm.${d}`,{keepDirty:!1}),h(`vurderAktiviteterSkjema.${d}`,{keepDirty:!1}),o(d,X)},Z=n.filter(X=>X.definisjon===Te.AVKLAR_AKTIVITETER||X.definisjon===Te.OVERSTYRING_AV_BEREGNINGSAKTIVITETER).filter(X=>cI(X.status)).length===0,K=JI(T,d,e.aktiviteterTomDatoMapping,O,v),w=`vurderAktiviteterSkjema.${d}`,H=Ti(w,K);return j.jsxs(j.Fragment,{children:[j.jsx(se,{children:j.jsxs(S,{children:[j.jsx(p,{children:j.jsx($,{size:"small",className:yI.avsnittOverskrift,"data-testid":"avklareAktiviteterHeading",children:j.jsx(m,{id:"AvklarAktivitetPanel.Overskrift"})})}),(r||F)&&j.jsx(p,{children:j.jsx(Us,{onClick:()=>ne(!0),erOverstyrt:L})})]})}),j.jsx(I,{sixteenPx:!0}),tn(Wt,n)&&j.jsx(kt,{isAksjonspunktOpen:!Z,children:[j.jsx(m,{id:"BeregningInfoPanel.AksjonspunktHelpText.VurderAktiviteter"},"VurderFaktaForBeregningen")]}),L&&j.jsx($,{size:"small",children:j.jsx(m,{id:"AvklareAktiviteter.OverstyrerAktivitetAdvarsel"})}),j.jsx(I,{twentyPx:!0}),e&&e.aktiviteterTomDatoMapping&&j.jsxs("div",{children:[j.jsx(rr,{aktiviteterTomDatoMapping:e.aktiviteterTomDatoMapping,readOnly:t,isAvklaringsbehovClosed:Z,erOverstyrt:L,kodeverkSamling:i,values:T(`avklarAktiviteterForm.${d}`),harAvklaringsbehov:tn(Wt,n),arbeidsgiverOpplysningerPerId:s,fieldId:d}),H&&j.jsx(dt,{children:H})]}),j.jsx(I,{twentyPx:!0}),TI(n,L)&&j.jsxs(j.Fragment,{children:[j.jsx(nr,{name:`avklarAktiviteterForm.${d}.${ja}`,isSubmittable:l,isReadOnly:t,hasBegrunnelse:fa(n)!==null}),(tn(Wt,n)||L)&&j.jsxs(j.Fragment,{children:[j.jsx(I,{twentyPx:!0}),j.jsx(se,{children:j.jsxs(S,{children:[j.jsx(p,{children:j.jsx(Ag,{text:v.formatMessage({id:L?"AvklarAktivitetPanel.OverstyrText":"AvklarAktivitetPanel.ButtonText"}),isSubmittable:NI(l,!0,re),isDirty:M,isSubmitting:u,isReadOnly:t||Z&&!M,hasEmptyRequiredFields:re})}),!!B&&M&&j.jsx(p,{children:j.jsx(ie,{variant:"secondary",loading:P,disabled:P,onClick:()=>ne(!1),size:"small",children:j.jsx(m,{id:"AvklareAktiviteter.Avbryt"})})})]})})]})]})]})},{OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Eg,AVKLAR_AKTIVITETER:yg}=Te,Fl="manuellOverstyringBeregningAktiviteter",QI=(e,n)=>e.perioder.find(({periode:r})=>r.fom===n),qI=(e,n)=>!tn(yg,e)&&!tn(Eg,e)&&!n,XI=e=>{const n=e[ot],r=n.filter(s=>s[Fl]).map(Bl).filter(s=>s),t=n.filter(s=>!s[Fl]).map(Bl).filter(s=>s),i=[];if(r.length>0){const s=r.map(({begrunnelse:d})=>d).reduce((d,o)=>d===""?o:`${d} ${o}`,""),l={kode:Eg,begrunnelse:s,grunnlag:r};i.push(l)}if(t.length>0){const s=t.map(({begrunnelse:d})=>d).reduce((d,o)=>d===""?o:`${d} ${o}`,""),l={kode:yg,begrunnelse:s,grunnlag:t};i.push(l)}return i},eA=(e,n,r,t)=>({[ot]:e.map(i=>ZI(i.avklaringsbehov,i.faktaOmBeregning.avklarAktiviteter,n,r,QI(t,i.vilkårsperiodeFom)))}),nA=({harAndreAvklaringsbehovIPanel:e,erOverstyrer:n,readOnly:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,submittable:s,submitCallback:l,beregningsgrunnlag:d,aktivtBeregningsgrunnlagIndeks:o,vilkår:u,setFormData:k,formData:f,setAvklarAktiviteterErEndret:v})=>{const h=He({defaultValues:f||eA(d,t,i,u)}),{formState:{dirtyFields:T,errors:E,isSubmitted:P},control:y,getValues:B,trigger:M,setValue:F}=h;b.useEffect(()=>{var K;(K=T.avklarAktiviteterForm)!=null&&K.some(w=>!!w)?v(!0):v(!1)},[T]),b.useEffect(()=>{var K;P&&(K=T.avklarAktiviteterForm)!=null&&K[o]&&M()},[o]);const O=d.flatMap(K=>K.avklaringsbehov),{fields:L}=ln({name:ot,control:y}),[U,re]=b.useState(!1),ne=(K,w)=>{const H=B(`avklarAktiviteterForm.${K}`);F(`${ot}.${K}`,{...H,manuellOverstyringBeregningAktiviteter:w},{shouldDirty:!0})};if(qI(O,n))return null;const Z=K=>{Object.keys(E).length===0&&(re(!0),l(XI(K)))};return j.jsxs(j.Fragment,{children:[j.jsx(Ze,{formMethods:h,onSubmit:K=>Z(K),setDataOnUnmount:k,children:L.map((K,w)=>o===w&&j.jsx(WI,{aktivtBeregningsgrunnlagIndeks:o,fieldId:w,avklarAktiviteter:d[w].faktaOmBeregning.avklarAktiviteter,avklaringsbehov:d[w].avklaringsbehov,erOverstyrer:n,readOnly:r,submittable:s,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,updateOverstyring:ne,submitDisabled:U},K.id))}),e&&j.jsx(I,{twentyPx:!0})]})},rA="_navetLink_15r5n_1",tA="_flexColumn12_15r5n_12",iA="_flexColumn9_15r5n_15",sA="_flexColumn3_15r5n_18",Kn={navetLink:rA,flexColumn12:tA,flexColumn9:iA,flexColumn3:sA},bn=e=>e==="true",Sg=J.createContext(null),Me=J.createContext(null),Pg=J.createContext(null),qn="vurderbesteberegningField",{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:aA}=Te,bt=({readOnly:e,erOverstyrt:n})=>{const r=J.useContext(Me),t=q(),i=e||n;return j.jsx("div",{children:j.jsxs(S,{children:[j.jsx(p,{className:Kn.flexColumn9,children:j.jsx(Ne,{label:j.jsx(A,{children:j.jsx(m,{id:"BeregningInfoPanel.VurderBestebergning.HarBesteberegning"})}),name:`vurderFaktaBeregningForm.${r}.${qn}`,isReadOnly:i,validate:i?[]:[Q],radios:[{value:"true",label:t.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:t.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:bn,isHorizontal:!0})}),j.jsx(p,{className:Kn.flexColumn3,children:j.jsx("a",{className:Kn.navetLink,href:hg,target:"_blank",rel:"noopener noreferrer",children:j.jsx(m,{id:"BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet"})})})]})})};bt.buildInitialValues=(e,n,r,t)=>r.includes(W.VURDER_BESTEBEREGNING)||r.includes(W.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE)?n?e.find(i=>i.definisjon===aA)!==void 0||t?{[qn]:!1}:{[qn]:n.skalHaBesteberegning}:{}:{};bt.transformValues=(e,n,r)=>{if(!n||!n.vurderBesteberegning)return{};if(!e[qn]||!r)return{besteberegningAndeler:{besteberegningAndelListe:[]}};const t=r.filter(({nyAndel:s})=>s!==!0).map(s=>({andelsnr:s.andelsnr,nyAndel:s.nyAndel,lagtTilAvSaksbehandler:s.lagtTilAvSaksbehandler,fastsatteVerdier:{fastsattBeløp:s.fastsattBelop,inntektskategori:s.inntektskategori}})),i=r.find(s=>s.nyAndel&&s.aktivitetStatus===D.DAGPENGER);return{besteberegningAndeler:{besteberegningAndelListe:t,nyDagpengeAndel:i?{fastsatteVerdier:{fastsattBeløp:i.fastsattBelop,inntektskategori:i.inntektskategori}}:null}}};const lA=e=>(n,r)=>{const t=e.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller:[];if(!(t.map(l=>l).includes(W.VURDER_BESTEBEREGNING)||t.map(l=>l).includes(W.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE)))return{};const i=bt.transformValues(n,e,r),s=[W.VURDER_BESTEBEREGNING];return i.besteberegningAndeler.besteberegningAndelListe.length>0&&s.push(W.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE),{faktaOmBeregningTilfeller:s,...i}},dA="_fadeinTabell_1d8wy_1",oA="_fadein_1d8wy_1",gA="_rightAligned_1d8wy_10",uA="_avsnittOverskrift_1d8wy_13",$l={fadeinTabell:dA,fadein:oA,rightAligned:gA,avsnittOverskrift:uA},xr="manuellOverstyringRapportertInntekt",{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:kA,AVKLAR_AKTIVITETER:mA}=Te,cA=(e,n)=>n.some(r=>r.definisjon===e),fA=(e,n)=>e&&!n.some(r=>r.definisjon===mA&&dn(r.status)),_i=({tabell:e,hjelpeTekstId:n,children:r,skalViseTabell:t,readOnly:i,avklaringsbehov:s,updateOverstyring:l,erOverstyrer:d,erOverstyrt:o})=>{const[u,k]=b.useState(o),f=J.useContext(Me),v=b.useMemo(()=>fA(d,s),[d,s]),h=()=>{k(!u),l(f,!u)};return j.jsxs(j.Fragment,{children:[r,j.jsxs("div",{className:$l.fadeinTabell,children:[j.jsx(I,{sixteenPx:!0}),t&&j.jsxs(j.Fragment,{children:[j.jsx(se,{children:j.jsxs(S,{children:[j.jsx(p,{children:j.jsx($,{size:"small",className:$l.avsnittOverskrift,children:j.jsx(m,{id:"InntektstabellPanel.RapporterteInntekter"})})}),(v||u)&&j.jsx(p,{children:j.jsx(Us,{onClick:h,erOverstyrt:i||u||cA(kA,s)})})]})}),j.jsx(I,{sixteenPx:!0}),n&&j.jsx($,{size:"small",children:j.jsx(m,{id:n})}),e,u&&!i&&j.jsx(ie,{size:"small",onClick:h,variant:"secondary",children:j.jsx(m,{id:"InntektstabellPanel.Avbryt"})})]})]})]})};_i.buildInitialValues=e=>({[xr]:e});_i.defaultProps={hjelpeTekstId:void 0,skalViseTabell:!0};const _g=(e,n,r)=>r===null?n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.filter(t=>t.aktivitetStatus===D.ARBEIDSTAKER).filter(t=>t.arbeidsforhold&&t.arbeidsforhold.arbeidsgiverIdent===e.arbeidsgiverId).filter(t=>t.arbeidsforhold&&t.arbeidsforhold.arbeidsforholdId!=null).length>0:!1,Mi="lonnsendringField",ht=({readOnly:e})=>{const n=J.useContext(Me),r=q();return j.jsx("div",{children:j.jsx(Ne,{label:j.jsx(A,{children:j.jsx(m,{id:"BeregningInfoPanel.VurderOgFastsettATFL.HarSokerEndring"})}),name:`vurderFaktaBeregningForm.${n}.lonnsendringField`,isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[Q],parse:bn,isHorizontal:!0})})},pA=e=>{const n=e.find(t=>t.lonnsendringIBeregningsperioden===!0)!==void 0,r=e.find(t=>t.lonnsendringIBeregningsperioden===!1)!==void 0;return n||(r?!1:void 0)};ht.buildInitialValues=e=>{const n={};if(!e||!e.beregningsgrunnlagPeriode)return n;const r=e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel;if(!r||r.length<1)return n;const t=r.filter(i=>i.aktivitetStatus===D.ARBEIDSTAKER);return!t||t.length<1||(n[Mi]=pA(t)),n};const jA=(e,n,r)=>r[Mi]&&!!n.arbeidsforholdMedLønnsendringUtenIM&&n.arbeidsforholdMedLønnsendringUtenIM.find(t=>t.andelsnr===e.andelsnr)!==void 0;ht.transformValues=(e,n)=>(n.faktaOmBeregningTilfeller?n.faktaOmBeregningTilfeller:[]).map(r=>r).includes(W.VURDER_LONNSENDRING)?{faktaOmBeregningTilfeller:[W.VURDER_LONNSENDRING],vurdertLonnsendring:{erLønnsendringIBeregningsperioden:e[Mi]}}:{};const Yn="NyoppstartetFLField",It=({readOnly:e})=>{const n=J.useContext(Me),r=q();return j.jsx("div",{children:j.jsx(Ne,{label:j.jsx(A,{children:j.jsx(m,{id:"BeregningInfoPanel.VurderOgFastsettATFL.ErSokerNyoppstartetFL"})}),name:`vurderFaktaBeregningForm.${n}.${Yn}`,validate:[Q],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:bn,isHorizontal:!0})})};It.buildInitialValues=e=>{const n={};if(e===void 0||e.beregningsgrunnlagPeriode===void 0)return n;const r=e.beregningsgrunnlagPeriode.map(t=>t.beregningsgrunnlagPrStatusOgAndel).flat().filter(t=>t.aktivitetStatus===D.FRILANSER);return r.length>0&&(n[Yn]=r[0].erNyoppstartet),n};It.transformValues=(e,n,r,t)=>{if(!(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).map(l=>l).includes(W.VURDER_NYOPPSTARTET_FL))return{};if(!n||n.length===0)return{faktaOmBeregningTilfeller:[W.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[Yn]}};const i=n.find(l=>l.aktivitetStatus===D.FRILANSER);if(!i)return{faktaOmBeregningTilfeller:[W.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[Yn]}};if(t.includes(i.andelsnr))return{faktaOmBeregningTilfeller:[W.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[Yn]}};t.push(i.andelsnr);const s={fastsettMaanedsinntektFL:{maanedsinntekt:i.fastsattBelop}};return{faktaOmBeregningTilfeller:[W.VURDER_NYOPPSTARTET_FL,W.FASTSETT_MAANEDSINNTEKT_FL],...s,vurderNyoppstartetFL:{erNyoppstartetFL:e[Yn]}}};var Lt=function(e){return e&&e.Math==Math&&e},hn=Lt(typeof globalThis=="object"&&globalThis)||Lt(typeof window=="object"&&window)||Lt(typeof self=="object"&&self)||Lt(typeof Hi=="object"&&Hi)||function(){return this}()||Hi||Function("return this")(),va={},Sn=function(e){try{return!!e()}catch{return!0}},vA=Sn,Ln=!vA(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),bA=Sn,ba=!bA(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),hA=ba,Vt=Function.prototype.call,ha=hA?Vt.bind(Vt):function(){return Vt.apply(Vt,arguments)},Mg={},Rg={}.propertyIsEnumerable,Og=Object.getOwnPropertyDescriptor,IA=Og&&!Rg.call({1:2},1);Mg.f=IA?function(e){var n=Og(this,e);return!!n&&n.enumerable}:Rg;var Dg=function(e,n){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:n}},Bg=ba,Fg=Function.prototype,Ts=Fg.call,AA=Bg&&Fg.bind.bind(Ts,Ts),on=Bg?AA:function(e){return function(){return Ts.apply(e,arguments)}},$g=on,xA=$g({}.toString),TA=$g("".slice),Ri=function(e){return TA(xA(e),8,-1)},NA=on,EA=Sn,yA=Ri,Wi=Object,SA=NA("".split),PA=EA(function(){return!Wi("z").propertyIsEnumerable(0)})?function(e){return yA(e)=="String"?SA(e,""):Wi(e)}:Wi,Lg=function(e){return e==null},_A=Lg,MA=TypeError,Vg=function(e){if(_A(e))throw MA("Can't call method on "+e);return e},RA=PA,OA=Vg,Oi=function(e){return RA(OA(e))},Ns=typeof document=="object"&&document.all,DA=typeof Ns>"u"&&Ns!==void 0,Gg={all:Ns,IS_HTMLDDA:DA},Cg=Gg,BA=Cg.all,gn=Cg.IS_HTMLDDA?function(e){return typeof e=="function"||e===BA}:function(e){return typeof e=="function"},Ll=gn,zg=Gg,FA=zg.all,Br=zg.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:Ll(e)||e===FA}:function(e){return typeof e=="object"?e!==null:Ll(e)},Qi=hn,$A=gn,LA=function(e){return $A(e)?e:void 0},Di=function(e,n){return arguments.length<2?LA(Qi[e]):Qi[e]&&Qi[e][n]},VA=on,GA=VA({}.isPrototypeOf),CA=typeof navigator<"u"&&String(navigator.userAgent)||"",wg=hn,qi=CA,Vl=wg.process,Gl=wg.Deno,Cl=Vl&&Vl.versions||Gl&&Gl.version,zl=Cl&&Cl.v8,kn,ki;zl&&(kn=zl.split("."),ki=kn[0]>0&&kn[0]<4?1:+(kn[0]+kn[1]));!ki&&qi&&(kn=qi.match(/Edge\/(\d+)/),(!kn||kn[1]>=74)&&(kn=qi.match(/Chrome\/(\d+)/),kn&&(ki=+kn[1])));var zA=ki,wl=zA,wA=Sn,KA=hn,YA=KA.String,Kg=!!Object.getOwnPropertySymbols&&!wA(function(){var e=Symbol();return!YA(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&wl&&wl<41}),UA=Kg,Yg=UA&&!Symbol.sham&&typeof Symbol.iterator=="symbol",HA=Di,ZA=gn,JA=GA,WA=Yg,QA=Object,Ug=WA?function(e){return typeof e=="symbol"}:function(e){var n=HA("Symbol");return ZA(n)&&JA(n.prototype,QA(e))},qA=String,XA=function(e){try{return qA(e)}catch{return"Object"}},ex=gn,nx=XA,rx=TypeError,Ia=function(e){if(ex(e))return e;throw rx(nx(e)+" is not a function")},tx=Ia,ix=Lg,sx=function(e,n){var r=e[n];return ix(r)?void 0:tx(r)},Xi=ha,es=gn,ns=Br,ax=TypeError,lx=function(e,n){var r,t;if(n==="string"&&es(r=e.toString)&&!ns(t=Xi(r,e))||es(r=e.valueOf)&&!ns(t=Xi(r,e))||n!=="string"&&es(r=e.toString)&&!ns(t=Xi(r,e)))return t;throw ax("Can't convert object to primitive value")},Hg={exports:{}},Kl=hn,dx=Object.defineProperty,Aa=function(e,n){try{dx(Kl,e,{value:n,configurable:!0,writable:!0})}catch{Kl[e]=n}return n},ox=hn,gx=Aa,Yl="__core-js_shared__",ux=ox[Yl]||gx(Yl,{}),xa=ux,Ul=xa;(Hg.exports=function(e,n){return Ul[e]||(Ul[e]=n!==void 0?n:{})})("versions",[]).push({version:"3.31.0",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Zg=Hg.exports,kx=Vg,mx=Object,Jg=function(e){return mx(kx(e))},cx=on,fx=Jg,px=cx({}.hasOwnProperty),tr=Object.hasOwn||function(e,n){return px(fx(e),n)},jx=on,vx=0,bx=Math.random(),hx=jx(1 .toString),Wg=function(e){return"Symbol("+(e===void 0?"":e)+")_"+hx(++vx+bx,36)},Ix=hn,Ax=Zg,Hl=tr,xx=Wg,Tx=Kg,Nx=Yg,jr=Ix.Symbol,rs=Ax("wks"),Ex=Nx?jr.for||jr:jr&&jr.withoutSetter||xx,At=function(e){return Hl(rs,e)||(rs[e]=Tx&&Hl(jr,e)?jr[e]:Ex("Symbol."+e)),rs[e]},yx=ha,Zl=Br,Jl=Ug,Sx=sx,Px=lx,_x=At,Mx=TypeError,Rx=_x("toPrimitive"),Ox=function(e,n){if(!Zl(e)||Jl(e))return e;var r=Sx(e,Rx),t;if(r){if(n===void 0&&(n="default"),t=yx(r,e,n),!Zl(t)||Jl(t))return t;throw Mx("Can't convert object to primitive value")}return n===void 0&&(n="number"),Px(e,n)},Dx=Ox,Bx=Ug,Qg=function(e){var n=Dx(e,"string");return Bx(n)?n:n+""},Fx=hn,Wl=Br,Es=Fx.document,$x=Wl(Es)&&Wl(Es.createElement),qg=function(e){return $x?Es.createElement(e):{}},Lx=Ln,Vx=Sn,Gx=qg,Xg=!Lx&&!Vx(function(){return Object.defineProperty(Gx("div"),"a",{get:function(){return 7}}).a!=7}),Cx=Ln,zx=ha,wx=Mg,Kx=Dg,Yx=Oi,Ux=Qg,Hx=tr,Zx=Xg,Ql=Object.getOwnPropertyDescriptor;va.f=Cx?Ql:function(e,n){if(e=Yx(e),n=Ux(n),Zx)try{return Ql(e,n)}catch{}if(Hx(e,n))return Kx(!zx(wx.f,e,n),e[n])};var Fr={},Jx=Ln,Wx=Sn,eu=Jx&&Wx(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),Qx=Br,qx=String,Xx=TypeError,Bi=function(e){if(Qx(e))return e;throw Xx(qx(e)+" is not an object")},eT=Ln,nT=Xg,rT=eu,Gt=Bi,ql=Qg,tT=TypeError,ts=Object.defineProperty,iT=Object.getOwnPropertyDescriptor,is="enumerable",ss="configurable",as="writable";Fr.f=eT?rT?function(e,n,r){if(Gt(e),n=ql(n),Gt(r),typeof e=="function"&&n==="prototype"&&"value"in r&&as in r&&!r[as]){var t=iT(e,n);t&&t[as]&&(e[n]=r.value,r={configurable:ss in r?r[ss]:t[ss],enumerable:is in r?r[is]:t[is],writable:!1})}return ts(e,n,r)}:ts:function(e,n,r){if(Gt(e),n=ql(n),Gt(r),nT)try{return ts(e,n,r)}catch{}if("get"in r||"set"in r)throw tT("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var sT=Ln,aT=Fr,lT=Dg,nu=sT?function(e,n,r){return aT.f(e,n,lT(1,r))}:function(e,n,r){return e[n]=r,e},ru={exports:{}},ys=Ln,dT=tr,tu=Function.prototype,oT=ys&&Object.getOwnPropertyDescriptor,Ta=dT(tu,"name"),gT=Ta&&function(){}.name==="something",uT=Ta&&(!ys||ys&&oT(tu,"name").configurable),kT={EXISTS:Ta,PROPER:gT,CONFIGURABLE:uT},mT=on,cT=gn,Ss=xa,fT=mT(Function.toString);cT(Ss.inspectSource)||(Ss.inspectSource=function(e){return fT(e)});var iu=Ss.inspectSource,pT=hn,jT=gn,Xl=pT.WeakMap,vT=jT(Xl)&&/native code/.test(String(Xl)),bT=Zg,hT=Wg,ed=bT("keys"),su=function(e){return ed[e]||(ed[e]=hT(e))},Na={},IT=vT,au=hn,AT=Br,xT=nu,ls=tr,ds=xa,TT=su,NT=Na,nd="Object already initialized",Ps=au.TypeError,ET=au.WeakMap,mi,gt,ci,yT=function(e){return ci(e)?gt(e):mi(e,{})},ST=function(e){return function(n){var r;if(!AT(n)||(r=gt(n)).type!==e)throw Ps("Incompatible receiver, "+e+" required");return r}};if(IT||ds.state){var In=ds.state||(ds.state=new ET);In.get=In.get,In.has=In.has,In.set=In.set,mi=function(e,n){if(In.has(e))throw Ps(nd);return n.facade=e,In.set(e,n),n},gt=function(e){return In.get(e)||{}},ci=function(e){return In.has(e)}}else{var or=TT("state");NT[or]=!0,mi=function(e,n){if(ls(e,or))throw Ps(nd);return n.facade=e,xT(e,or,n),n},gt=function(e){return ls(e,or)?e[or]:{}},ci=function(e){return ls(e,or)}}var PT={set:mi,get:gt,has:ci,enforce:yT,getterFor:ST},Ea=on,_T=Sn,MT=gn,Ct=tr,_s=Ln,RT=kT.CONFIGURABLE,OT=iu,lu=PT,DT=lu.enforce,BT=lu.get,rd=String,Qt=Object.defineProperty,FT=Ea("".slice),$T=Ea("".replace),LT=Ea([].join),VT=_s&&!_T(function(){return Qt(function(){},"length",{value:8}).length!==8}),GT=String(String).split("String"),CT=ru.exports=function(e,n,r){FT(rd(n),0,7)==="Symbol("&&(n="["+$T(rd(n),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(n="get "+n),r&&r.setter&&(n="set "+n),(!Ct(e,"name")||RT&&e.name!==n)&&(_s?Qt(e,"name",{value:n,configurable:!0}):e.name=n),VT&&r&&Ct(r,"arity")&&e.length!==r.arity&&Qt(e,"length",{value:r.arity});try{r&&Ct(r,"constructor")&&r.constructor?_s&&Qt(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var t=DT(e);return Ct(t,"source")||(t.source=LT(GT,typeof n=="string"?n:"")),e};Function.prototype.toString=CT(function(){return MT(this)&&BT(this).source||OT(this)},"toString");var zT=ru.exports,wT=gn,KT=Fr,YT=zT,UT=Aa,HT=function(e,n,r,t){t||(t={});var i=t.enumerable,s=t.name!==void 0?t.name:n;if(wT(r)&&YT(r,s,t),t.global)i?e[n]=r:UT(n,r);else{try{t.unsafe?e[n]&&(i=!0):delete e[n]}catch{}i?e[n]=r:KT.f(e,n,{value:r,enumerable:!1,configurable:!t.nonConfigurable,writable:!t.nonWritable})}return e},du={},ZT=Math.ceil,JT=Math.floor,WT=Math.trunc||function(e){var n=+e;return(n>0?JT:ZT)(n)},QT=WT,ou=function(e){var n=+e;return n!==n||n===0?0:QT(n)},qT=ou,XT=Math.max,eN=Math.min,nN=function(e,n){var r=qT(e);return r<0?XT(r+n,0):eN(r,n)},rN=ou,tN=Math.min,iN=function(e){return e>0?tN(rN(e),9007199254740991):0},sN=iN,ya=function(e){return sN(e.length)},aN=Oi,lN=nN,dN=ya,td=function(e){return function(n,r,t){var i=aN(n),s=dN(i),l=lN(t,s),d;if(e&&r!=r){for(;s>l;)if(d=i[l++],d!=d)return!0}else for(;s>l;l++)if((e||l in i)&&i[l]===r)return e||l||0;return!e&&-1}},oN={includes:td(!0),indexOf:td(!1)},gN=on,os=tr,uN=Oi,kN=oN.indexOf,mN=Na,id=gN([].push),gu=function(e,n){var r=uN(e),t=0,i=[],s;for(s in r)!os(mN,s)&&os(r,s)&&id(i,s);for(;n.length>t;)os(r,s=n[t++])&&(~kN(i,s)||id(i,s));return i},Sa=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],cN=gu,fN=Sa,pN=fN.concat("length","prototype");du.f=Object.getOwnPropertyNames||function(e){return cN(e,pN)};var uu={};uu.f=Object.getOwnPropertySymbols;var jN=Di,vN=on,bN=du,hN=uu,IN=Bi,AN=vN([].concat),xN=jN("Reflect","ownKeys")||function(e){var n=bN.f(IN(e)),r=hN.f;return r?AN(n,r(e)):n},sd=tr,TN=xN,NN=va,EN=Fr,yN=function(e,n,r){for(var t=TN(n),i=EN.f,s=NN.f,l=0;l<t.length;l++){var d=t[l];!sd(e,d)&&!(r&&sd(r,d))&&i(e,d,s(n,d))}},SN=Sn,PN=gn,_N=/#|\.prototype\./,xt=function(e,n){var r=RN[MN(e)];return r==DN?!0:r==ON?!1:PN(n)?SN(n):!!n},MN=xt.normalize=function(e){return String(e).replace(_N,".").toLowerCase()},RN=xt.data={},ON=xt.NATIVE="N",DN=xt.POLYFILL="P",BN=xt,gs=hn,FN=va.f,$N=nu,LN=HT,VN=Aa,GN=yN,CN=BN,zN=function(e,n){var r=e.target,t=e.global,i=e.stat,s,l,d,o,u,k;if(t?l=gs:i?l=gs[r]||VN(r,{}):l=(gs[r]||{}).prototype,l)for(d in n){if(u=n[d],e.dontCallGetSet?(k=FN(l,d),o=k&&k.value):o=l[d],s=CN(t?d:r+(i?".":"#")+d,e.forced),!s&&o!==void 0){if(typeof u==typeof o)continue;GN(u,o)}(e.sham||o&&o.sham)&&$N(u,"sham",!0),LN(l,d,u,e)}},wN=Ri,ku=Array.isArray||function(e){return wN(e)=="Array"},KN=TypeError,YN=9007199254740991,UN=function(e){if(e>YN)throw KN("Maximum allowed index exceeded");return e},HN=Ri,ZN=on,JN=function(e){if(HN(e)==="Function")return ZN(e)},ad=JN,WN=Ia,QN=ba,qN=ad(ad.bind),XN=function(e,n){return WN(e),n===void 0?e:QN?qN(e,n):function(){return e.apply(n,arguments)}},eE=ku,nE=ya,rE=UN,tE=XN,mu=function(e,n,r,t,i,s,l,d){for(var o=i,u=0,k=l?tE(l,d):!1,f,v;u<t;)u in r&&(f=k?k(r[u],u,n):r[u],s>0&&eE(f)?(v=nE(f),o=mu(e,n,f,v,o,s-1)-1):(rE(o+1),e[o]=f),o++),u++;return o},iE=mu,sE=At,aE=sE("toStringTag"),cu={};cu[aE]="z";var lE=String(cu)==="[object z]",dE=lE,oE=gn,qt=Ri,gE=At,uE=gE("toStringTag"),kE=Object,mE=qt(function(){return arguments}())=="Arguments",cE=function(e,n){try{return e[n]}catch{}},fE=dE?qt:function(e){var n,r,t;return e===void 0?"Undefined":e===null?"Null":typeof(r=cE(n=kE(e),uE))=="string"?r:mE?qt(n):(t=qt(n))=="Object"&&oE(n.callee)?"Arguments":t},pE=on,jE=Sn,fu=gn,vE=fE,bE=Di,hE=iu,pu=function(){},IE=[],ju=bE("Reflect","construct"),Pa=/^\s*(?:class|function)\b/,AE=pE(Pa.exec),xE=!Pa.exec(pu),Wr=function(e){if(!fu(e))return!1;try{return ju(pu,IE,e),!0}catch{return!1}},vu=function(e){if(!fu(e))return!1;switch(vE(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return xE||!!AE(Pa,hE(e))}catch{return!0}};vu.sham=!0;var TE=!ju||jE(function(){var e;return Wr(Wr.call)||!Wr(Object)||!Wr(function(){e=!0})||e})?vu:Wr,ld=ku,NE=TE,EE=Br,yE=At,SE=yE("species"),dd=Array,PE=function(e){var n;return ld(e)&&(n=e.constructor,NE(n)&&(n===dd||ld(n.prototype))?n=void 0:EE(n)&&(n=n[SE],n===null&&(n=void 0))),n===void 0?dd:n},_E=PE,ME=function(e,n){return new(_E(e))(n===0?0:n)},RE=zN,OE=iE,DE=Ia,BE=Jg,FE=ya,$E=ME;RE({target:"Array",proto:!0},{flatMap:function(e){var n=BE(this),r=FE(n),t;return DE(e),t=$E(n,0),t.length=OE(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}});var bu={},LE=gu,VE=Sa,GE=Object.keys||function(e){return LE(e,VE)},CE=Ln,zE=eu,wE=Fr,KE=Bi,YE=Oi,UE=GE;bu.f=CE&&!zE?Object.defineProperties:function(e,n){KE(e);for(var r=YE(n),t=UE(n),i=t.length,s=0,l;i>s;)wE.f(e,l=t[s++],r[l]);return e};var HE=Di,ZE=HE("document","documentElement"),JE=Bi,WE=bu,od=Sa,QE=Na,qE=ZE,XE=qg,ey=su,gd=">",ud="<",Ms="prototype",Rs="script",hu=ey("IE_PROTO"),us=function(){},Iu=function(e){return ud+Rs+gd+e+ud+"/"+Rs+gd},kd=function(e){e.write(Iu("")),e.close();var n=e.parentWindow.Object;return e=null,n},ny=function(){var e=XE("iframe"),n="java"+Rs+":",r;return e.style.display="none",qE.appendChild(e),e.src=String(n),r=e.contentWindow.document,r.open(),r.write(Iu("document.F=Object")),r.close(),r.F},zt,Xt=function(){try{zt=new ActiveXObject("htmlfile")}catch{}Xt=typeof document<"u"?document.domain&&zt?kd(zt):ny():kd(zt);for(var e=od.length;e--;)delete Xt[Ms][od[e]];return Xt()};QE[hu]=!0;var ry=Object.create||function(e,n){var r;return e!==null?(us[Ms]=JE(e),r=new us,us[Ms]=null,r[hu]=e):r=Xt(),n===void 0?r:WE.f(r,n)},ty=At,iy=ry,sy=Fr.f,Os=ty("unscopables"),Ds=Array.prototype;Ds[Os]==null&&sy(Ds,Os,{configurable:!0,value:iy(null)});var ay=function(e){Ds[Os][e]=!0},ly=ay;ly("flatMap");var dy=hn,oy=on,gy=function(e,n){return oy(dy[e].prototype[n])},uy=gy;uy("Array","flatMap");const Un="vurderEtterlønnSluttpakke",Tt=({readOnly:e})=>{const n=J.useContext(Me),r=q();return j.jsx("div",{children:j.jsx(Ne,{label:j.jsx(A,{children:j.jsx(m,{id:"BeregningInfoPanel.EtterlønnSluttpakke.HarSøkerInntekt"})}),name:`vurderFaktaBeregningForm.${n}.${Un}`,validate:[Q],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:bn,isHorizontal:!0})})};Tt.buildInitialValues=(e,n)=>{const r={};if(!e||!e.beregningsgrunnlagPeriode||!n)return{};const t=!dn(n.status),i=e.beregningsgrunnlagPeriode.flatMap(s=>s.beregningsgrunnlagPrStatusOgAndel).filter(({arbeidsforhold:s})=>s&&s.arbeidsforholdType===Ar.ETTERLONN_SLUTTPAKKE);return i.length>0&&(r[Un]=t?i[0].beregnetPrAar>0:void 0),r};const ky=e=>{if(!e.andelerForFaktaOmBeregning)return;const n=e.andelerForFaktaOmBeregning.find(r=>r.arbeidsforhold&&r.arbeidsforhold.arbeidsforholdType&&r.arbeidsforhold.arbeidsforholdType===Ar.ETTERLONN_SLUTTPAKKE);return n?n.andelsnr:void 0};Tt.transformValues=(e,n,r,t)=>{if(!(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).includes(W.VURDER_ETTERLONN_SLUTTPAKKE))return{};if(!n||n.length===0)return{faktaOmBeregningTilfeller:[W.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[Un]}};const i=ky(r);if(!i)return{};const s=n.find(d=>d.andelsnr===i);if(!s)return{faktaOmBeregningTilfeller:[W.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[Un]}};if(t.includes(s.andelsnr))return{faktaOmBeregningTilfeller:[W.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[Un]}};t.push(s.andelsnr);const l={fastsettEtterlønnSluttpakke:{fastsattPrMnd:s.fastsattBelop}};return{faktaOmBeregningTilfeller:[W.VURDER_ETTERLONN_SLUTTPAKKE,W.FASTSETT_ETTERLONN_SLUTTPAKKE],...l,vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[Un]}}};const Au="mottarYtelseField",my="_frilans",Tr=e=>Au+e.andelsnr,Nr=()=>Au+my,cy=(e,n)=>(n&&n.arbeidstakerAndelerUtenIM?n.arbeidstakerAndelerUtenIM:[]).map(r=>e.vurderMottarYtelseValues[Tr(r)]).find(r=>r)!==void 0,xu=e=>e.vurderMottarYtelseValues[Nr()],Tu=(e,n,r)=>{if(!n)return{};const t={};if((n.arbeidstakerAndelerUtenIM?n.arbeidstakerAndelerUtenIM:[]).forEach(s=>{const l=e.vurderMottarYtelseValues[Tr(s)];t[s.andelsnr]=l}),!r)return t;const i=r.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(s=>s.aktivitetStatus===D.FRILANSER);return i&&(t[i.andelsnr]=xu(e)),t},Fi="inntektFieldArray",fy=e=>e.inntektskategori&&e.inntektskategori!==$n.UDEFINERT?e.inntektskategori:"",py=e=>({arbeidsgiverId:e.arbeidsforhold?e.arbeidsforhold.arbeidsgiverIdent:null,arbeidsforholdId:e.arbeidsforhold?e.arbeidsforhold.arbeidsforholdId:null,arbeidsperiodeFom:e.arbeidsforhold?e.arbeidsforhold.startdato:"",arbeidsperiodeTom:e.arbeidsforhold?e.arbeidsforhold.opphoersdato:"",arbeidsforholdType:e.arbeidsforhold?e.arbeidsforhold.arbeidsforholdType:null}),jy=(e,n,r)=>{var t,i;const s=e.arbeidsforhold?n[e.arbeidsforhold.arbeidsgiverIdent]:void 0;return s?Dr(s,e.arbeidsforhold.eksternArbeidsforholdId):e.arbeidsforhold&&e.arbeidsforhold.arbeidsforholdType?(t=r[ye.OPPTJENING_AKTIVITET_TYPE].find(l=>l.kode===e.arbeidsforhold.arbeidsforholdType))==null?void 0:t.navn:(i=r[ye.AKTIVITET_STATUS].find(l=>l.kode===e.aktivitetStatus))==null?void 0:i.navn},Nu=(e,n,r)=>({andel:jy(e,n,r),aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,nyAndel:!1,inntektskategori:fy(e),lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler===!0}),vy=e=>({aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,arbeidsgiverId:e.arbeidsforhold?e.arbeidsforhold.arbeidsgiverIdent:null,arbeidsforholdType:e.arbeidsforhold?e.arbeidsforhold.arbeidsforholdType:null}),by=(e,n)=>e?e.find(r=>r.andelsnr===n.andelsnr):void 0,hy=(e,n)=>e?e.find(r=>r.andelsnr===n.andelsnr):void 0,Iy=(e,n)=>{const r=by(n.arbeidstakerOgFrilanserISammeOrganisasjonListe,e);return r&&(r.inntektPrMnd===null||r.inntektPrMnd===void 0)},Eu=e=>e.aktivitetStatus&&e.aktivitetStatus===D.ARBEIDSTAKER,yu=e=>e.aktivitetStatus&&e.aktivitetStatus===D.FRILANSER,Ay=(e,n)=>n?yu(e)&&n[Yn]:!1,xy=e=>e[qn],Ty=(e,n,r)=>r.arbeidsforholdMedLønnsendringUtenIM&&hy(r.arbeidsforholdMedLønnsendringUtenIM,n)&&e[Mi],Ny=(e,n,r)=>Eu(e)&&Ty(n,e,r),Ey=(e,n)=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&yu(e),yy=(e,n)=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&Eu(e)&&Iy(e,n),Sy=(e,n,r,t)=>Tu(e,r.vurderMottarYtelse,t)[n.andelsnr],Py=(e,n)=>e.arbeidsforholdType&&e.arbeidsforholdType===Ar.ETTERLONN_SLUTTPAKKE?n[Un]:!1,Su=(e,n)=>n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(r=>r.arbeidsforhold&&r.arbeidsforhold.arbeidsgiverIdent===e.arbeidsgiverId&&r.arbeidsforhold.organisasjonstype&&r.arbeidsforhold.organisasjonstype===ra.KUNSTIG)!==void 0,_y=e=>!!e.faktaOmBeregningTilfeller&&e.faktaOmBeregningTilfeller.find(n=>n===W.FASTSETT_BG_KUN_YTELSE)!==void 0,My=(e,n,r)=>t=>!!(xy(e)||Sy(e,t,n,r)||Ny(t,e,n)||Ey(t,n)||yy(t,n)||Su(t,r)||_g(t,r)||Py(t,e)),Ry=(e,n,r)=>t=>!!(My(e,n,r)(t)||Ay(t,e)),$i=e=>!!e&&e[xr]===!0,Oy=e=>e&&e.some(n=>n.definisjon===Te.OVERSTYRING_AV_BEREGNINGSGRUNNLAG),Pu=e=>$i(e),Dy=e=>e.erOverstyrtInntekt||Oy(e.avklaringsbehov),_u=(e,n,r)=>t=>_y(n)||Ry(e,n,r)(t),By=(e,n,r)=>t=>$i(e)||_u(e,n,r)(t),Er=(e,n)=>r=>By(e,n.faktaOmBeregning,n)(r),Fy=e=>n=>Su(n,e),$y=e=>Fy(e),Ly=(e,n,r)=>({...Nu(e,n,r),...py(e),...vy(e),skalKunneEndreAktivitet:e.skalKunneEndreAktivitet,fastsattBelop:e.fastsattBelop||e.fastsattBelop===0?C(e.fastsattBelop):"",belopReadOnly:e.belopReadOnly||e.belopReadOnly===0?C(e.belopReadOnly):"",refusjonskrav:e.refusjonskrav||e.refusjonskrav===0?C(e.refusjonskrav):""}),Vy=(e,n)=>e.andelsinfo===n.andelsinfo?e.inntektskategori===n.inntektskategori?0:e.inntektskategori>n.inntektskategori?1:-1:e.andelsinfo>n.andelsinfo?1:-1,Gy=(e,n)=>{const{nyAndel:r,andel:t,inntektskategori:i,aktivitetStatus:s,arbeidsforholdId:l}=e;if(r){if(!Number.isNaN(Number(t))){const d=n.filter(o=>o.andelsnr===parseFloat(t));if(d.length>0)return{andelsinfo:d[0].andel,inntektskategori:i}}return ps[t]?{andelsinfo:t,inntektskategori:i}:{andelsinfo:t,inntektskategori:i}}return qa[s]?{andelsinfo:qa[s],inntektskategori:i}:{andelsinfo:t,inntektskategori:i,arbeidsforholdId:l}},Cy=e=>e.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.UlikeAndeler"}),zy=(e,n)=>n.andelsinfo===e.andelsinfo&&n.inntektskategori===e.inntektskategori&&e.arbeidsforholdId===n.arbeidsforholdId,Mu=(e,n,r)=>{const t=e.map(i=>n(i,e)).slice().sort((i,s)=>Vy(i,s));for(let i=0;i<t.length-1;i+=1)if(zy(t[i],t[i+1]))return Cy(r);return null},wy=(e,n)=>Mu(e,Gy,n),Ky=e=>e.formatMessage({id:"BeregningInfoPanel.Validation.MinstEnFastsatt"}),Yy=(e,n)=>e.some(({fastsattBelop:r})=>r!==null&&r!==""&&r!==void 0)?null:Ky(n),Uy="_row_vbpg7_1",Hy="_slettIkon_vbpg7_10",Zy="_rightAlign_vbpg7_13",Jy="_rightAlignInput_vbpg7_16",Wy="_inntektTable_vbpg7_24",Qy="_buttonRow_vbpg7_59",qy="_addPeriode_vbpg7_62",Xy="_customLink_vbpg7_63",e0="_removeButton_vbpg7_64",n0="_addCircleIcon_vbpg7_72",r0="_imageText_vbpg7_73",t0="_storBredde_vbpg7_78",i0="_mediumBredde_vbpg7_81",s0="_flexColumn3_vbpg7_84",rn={row:Uy,slettIkon:Hy,rightAlign:Zy,rightAlignInput:Jy,inntektTable:Wy,buttonRow:Qy,addPeriode:qy,customLink:Xy,removeButton:e0,addCircleIcon:n0,imageText:r0,storBredde:t0,mediumBredde:i0,flexColumn3:s0},a0=(e,n)=>{var r;return{andel:(r=n[ye.AKTIVITET_STATUS].find(t=>t.kode===e.filter(i=>i===D.BRUKERS_ANDEL)[0]))==null?void 0:r.navn,fastsattBelop:"",inntektskategori:"",nyAndel:!0,lagtTilAvSaksbehandler:!0}},l0=e=>e.map(n=>j.jsx("option",{value:n.kode,children:n.navn},n.kode)),d0=e=>{let n=0;return e.forEach(r=>{n+=r.fastsattBelop?fe(r.fastsattBelop):0}),n>0?C(n):""};function o0(e,n,r){return(n[e].nyAndel||n[e].lagtTilAvSaksbehandler)&&!r}const g0=(e,n,r,t,i,s,l)=>e.map((d,o)=>j.jsxs(Ge,{className:rn.row,children:[j.jsx(z,{children:j.jsx(m,{id:"BeregningInfoPanel.FordelingBG.Ytelse"})}),j.jsx(z,{className:rn.rightAlignInput,children:j.jsx(Ae,{name:`${s}.${o}.fastsattBelop`,className:rn.mediumBredde,parse:Le,readOnly:r,isEdited:n,validate:r?[]:[Q,vn(178956970)],label:i.formatMessage({id:"BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn"},{andel:`ytelse ${o+1}`}),hideLabel:!0})}),j.jsx(z,{className:rn.rightAlign,children:j.jsx(Ni,{label:i.formatMessage({id:"BeregningInfoPanel.FordelingBG.InntektskategoriMedAndelnavn"},{andel:`ytelse ${o+1}`}),name:`${s}.${o}.inntektskategori`,className:rn.storBredde,selectValues:l0(t),readOnly:r,validate:r?[]:[Q],hideLabel:!0})}),j.jsx(z,{children:o0(o,e,r)&&j.jsx(ie,{icon:j.jsx(_r,{"aria-hidden":!0,className:rn.slettIkon}),onClick:()=>l(o),type:"button",variant:"tertiary"})})]},d.id)),u0=e=>j.jsxs(Ge,{children:[j.jsx(z,{children:j.jsx(m,{id:"BeregningInfoPanel.FordelingBG.Sum"})}),j.jsx(z,{className:rn.rightAlign,children:j.jsx(me,{children:e})}),j.jsx(z,{})]},"bruttoBGSummaryRow"),k0=()=>["BeregningInfoPanel.FordelingBG.Andel","BeregningInfoPanel.FordelingBG.Fordeling","BeregningInfoPanel.FordelingBG.Inntektskategori"],m0=e=>e[ye.INNTEKTSKATEGORI].slice().sort((n,r)=>n.navn.localeCompare(r.navn)),c0=e=>{const{andel:n,inntektskategori:r}=e;return{andelsinfo:n,inntektskategori:r}},f0=(e,n)=>Mu(e,c0,n)||null,Ru=({name:e,readOnly:n,isAksjonspunktClosed:r,kodeverkSamling:t})=>{var i;const s=q(),{control:l}=Se(),d=J.useContext(Me),o=`${cn}.${d}.${e}`,{fields:u,append:k,remove:f}=ln({control:l,name:o}),v=(i=t[ye.AKTIVITET_STATUS])==null?void 0:i.map(F=>F.kode),h=m0(t),T=st({name:o,control:l}),E=d0(T)||0,P=g0(u,r,n,h,s,o,f);P.push(u0(E));const y=f0(T,s),B=`${o}.skjemagruppe`,M=Ti(B,y);return j.jsxs("div",{children:[j.jsx(qe,{headerTextCodes:k0(),noHover:!0,classNameTable:rn.inntektTable,children:P}),!n&&j.jsx(S,{className:rn.buttonRow,children:j.jsx(p,{className:rn.flexColumn3,children:j.jsx(ie,{icon:j.jsx(Ai,{"aria-hidden":!0,className:rn.addCircleIcon}),onClick:()=>k(a0(v,t)),type:"button",variant:"tertiary",children:j.jsx(me,{className:rn.imageText,children:j.jsx(m,{id:"BeregningInfoPanel.FordelingBG.LeggTilAndel"})})})})}),j.jsx(I,{eightPx:!0}),M&&j.jsx(dt,{children:M})]})},_a="besteberegningField",$r=({readOnly:e,isAksjonspunktClosed:n,brukersAndelFieldArrayName:r,skalViseInntektstabell:t,kodeverkSamling:i})=>{const{getValues:s}=Se(),l=J.useContext(Me),d=s(`${cn}.${l}`)[_a],o=q();return j.jsxs("div",{children:[j.jsx(Ne,{name:`vurderFaktaBeregningForm.${l}.besteberegningField`,isReadOnly:e,label:j.jsx(m,{id:"KunYtelsePanel.HarBesteberegning"}),radios:[{value:"true",label:o.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:o.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:e?[]:[Q],parse:bn,isHorizontal:!0}),d!=null&&j.jsxs(co,{alignOffset:d?0:60,children:[j.jsxs(S,{children:[j.jsx(p,{className:Kn.flexColumn9,children:j.jsx($,{size:"small",children:j.jsx(m,{id:"KunYtelsePanel.OverskriftBesteberegning"})})}),d&&j.jsx(p,{className:Kn.flexColumn3,children:j.jsx("a",{className:Kn.navetLink,href:hg,target:"_blank",rel:"noopener noreferrer",children:j.jsx(m,{id:"BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet"})})})]}),t&&j.jsx(S,{children:j.jsx(p,{className:Kn.flexColumn12,children:j.jsx(Ru,{name:r,readOnly:e,isAksjonspunktClosed:n,kodeverkSamling:i})})})]})]})};$r.defaultProps={erBesteberegning:void 0,skalViseInntektstabell:!0};$r.buildInitialValues=e=>({[_a]:e.erBesteberegning});$r.transformValues=e=>e[_a];const p0="_flexColumn9_csgl6_1",j0={flexColumn9:p0},v0=({readOnly:e,brukersAndelFieldArrayName:n,kodeverkSamling:r,isAksjonspunktClosed:t})=>j.jsxs(go,{children:[j.jsx(S,{children:j.jsx(p,{className:j0.flexColumn9,children:j.jsx($,{size:"small",children:j.jsx(m,{id:"KunYtelsePanel.Overskrift"})})})}),j.jsx(Ru,{name:n,readOnly:e,isAksjonspunktClosed:t,kodeverkSamling:r})]}),ut="brukersAndelBG",ir=({readOnly:e,faktaOmBeregning:n,isAksjonspunktClosed:r,skalViseInntektstabell:t,kodeverkSamling:i})=>{const{kunYtelse:s}=n,l=s.fodendeKvinneMedDP;return j.jsxs("div",{children:[l&&j.jsx($r,{readOnly:e,isAksjonspunktClosed:r,brukersAndelFieldArrayName:ut,skalViseInntektstabell:t,kodeverkSamling:i}),!l&&t&&j.jsx(v0,{readOnly:e,brukersAndelFieldArrayName:ut,isAksjonspunktClosed:r,kodeverkSamling:i})]})};ir.defaultProps={skalViseInntektstabell:!0};ir.buildInitialValues=(e,n,r,t)=>{if(!e||!e.andeler||e.andeler.length===0)return{};const i=e.andeler.map(l=>{const d=n.find(o=>o.andelsnr===l.andelsnr);return{...Nu(d,r,t),fastsattBelop:l.fastsattBelopPrMnd||l.fastsattBelopPrMnd===0?C(l.fastsattBelopPrMnd):""}}),s={[ut]:i};return e.fodendeKvinneMedDP?{...$r.buildInitialValues(e),...s}:s};ir.summerFordeling=e=>e[ut].map(({fastsattBelop:n})=>n?fe(n):0).reduce((n,r)=>n+r,0);ir.transformValues=(e,n)=>({kunYtelseFordeling:{andeler:e[ut].map(r=>({andelsnr:r.andelsnr,fastsattBeløp:fe(r.fastsattBelop),inntektskategori:r.inntektskategori,nyAndel:r.nyAndel,lagtTilAvSaksbehandler:r.lagtTilAvSaksbehandler})),skalBrukeBesteberegning:n.fodendeKvinneMedDP?$r.transformValues(e):null}});const{FASTSETT_BG_KUN_YTELSE:fi,VURDER_BESTEBEREGNING:b0}=W,h0=(e,n,r,t,i,s)=>{n.includes(fi)&&e.push(j.jsx(J.Fragment,{children:j.jsx(ir,{readOnly:r,isAksjonspunktClosed:t,faktaOmBeregning:i,kodeverkSamling:s})},"FASTSETT_BG_KUN_YTELSE"))},I0=(e,n,r)=>{if(r.includes(fi)){const t=ir.transformValues(e,n),i=[fi];return n.fodendeKvinneMedDP&&i.push(b0),{faktaOmBeregningTilfeller:i,...t}}return{}},A0=(e,n,r,t,i)=>n&&n.includes(fi)?ir.buildInitialValues(e,r,t,i):{},Ma="erSNNyIArbeidslivet",Nt=({readOnly:e})=>{const n=J.useContext(Me),r=q();return j.jsx("div",{children:j.jsx(Ne,{label:j.jsx(A,{children:j.jsx(m,{id:"BeregningInfoPanel.NyIArbeidslivet.SelvstendigNaeringsdrivende"})}),name:`vurderFaktaBeregningForm.${n}.${Ma}`,validate:[Q],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:bn,isHorizontal:!0})})};Nt.buildInitialValues=e=>{const n={};if(!e||!e.beregningsgrunnlagPeriode)return n;const r=e.beregningsgrunnlagPeriode.map(t=>t.beregningsgrunnlagPrStatusOgAndel).flat().filter(t=>t.aktivitetStatus===D.SELVSTENDIG_NAERINGSDRIVENDE);return r.length>0&&(n[Ma]=r[0].erNyIArbeidslivet),n};Nt.transformValues=e=>({vurderNyIArbeidslivet:{erNyIArbeidslivet:e[Ma]}});const x0="BeregningInfoPanel.TidsbegrensetArbFor.Arbeidsforhold",Ra=e=>e&&e.arbeidsforhold?`${e.arbeidsforhold.arbeidsgiverIdent}(${e.arbeidsforhold.arbeidsforholdId})(${e.andelsnr})`:"",md=(e,n)=>{const r=n[e.arbeidsgiverIdent];return Dr(r,e.eksternArbeidsforholdId)},Et=({readOnly:e,faktaOmBeregning:n,arbeidsgiverOpplysningerPerId:r})=>{const t=n.kortvarigeArbeidsforhold,i=J.useContext(Me),s=q();return j.jsx("div",{children:t.map(l=>j.jsx("div",{children:j.jsx(Ne,{label:j.jsx(A,{children:j.jsx(m,{id:x0,values:{navn:md(l.arbeidsforhold,r),fom:x(l.arbeidsforhold.startdato).format(te),tom:x(l.arbeidsforhold.opphoersdato).format(te)}})}),name:`vurderFaktaBeregningForm.${i}.tidsbegrensetValues.${Ra(l)}`,isReadOnly:e,radios:[{value:"true",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[Q],parse:bn,isHorizontal:!0})},`fastsettTidsbegrensedeForhold_${md(l.arbeidsforhold,r)}`))})};Et.buildInitialValues=e=>{const n={};return e&&e.forEach(r=>{r.erTidsbegrensetArbeidsforhold!==void 0&&(n[Ra(r)]=r.erTidsbegrensetArbeidsforhold)}),n};Et.transformValues=(e,n)=>{const r=[];return n.forEach(t=>{const i=Ra(t),s=e.tidsbegrensetValues[i],l={andelsnr:t.andelsnr,tidsbegrensetArbeidsforhold:s,opprinneligVerdi:t.erTidsbegrensetArbeidsforhold};r.push(l)}),{vurderTidsbegrensetArbeidsforhold:{fastsatteArbeidsforhold:r}}};const Oa="vurderMilitær",yt=({readOnly:e})=>{const n=J.useContext(Me),r=q();return j.jsx("div",{children:j.jsx(Ne,{label:j.jsx(A,{children:j.jsx(m,{id:"BeregningInfoPanel.VurderMilitaer.HarSøkerMilitærinntekt"})}),name:`vurderFaktaBeregningForm.${n}.${Oa}`,isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[Q],parse:bn,isHorizontal:!0})})};yt.buildInitialValues=e=>{const n={};return!e||!e.vurderMilitaer||(n[Oa]=e.vurderMilitaer.harMilitaer),n};yt.transformValues=e=>({vurderMilitaer:{harMilitaer:e[Oa]}});const T0=[W.VURDER_NYOPPSTARTET_FL,W.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON],N0=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForArbeid",E0=(e,n,r)=>{var t;const i=r[e.arbeidsgiverIdent];let s;return i?s=Dr(i,e.eksternArbeidsforholdId):s=e.arbeidsforholdType?(t=n[ye.OPPTJENING_AKTIVITET_TYPE].find(l=>l.kode===e.arbeidsforholdType))==null?void 0:t.navn:"",j.jsx(m,{id:N0(),values:{arbeid:s}})},y0=(e,n,r,t,i,s)=>j.jsx("div",{children:j.jsx(Ne,{label:j.jsx(A,{children:E0(e.arbeidsforhold,r,t)}),name:`vurderFaktaBeregningForm.${i}.vurderMottarYtelseValues.${Tr(e)}`,isReadOnly:n,radios:[{value:"true",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:bn,validate:n?[]:[Q],isHorizontal:!0})},Tr(e)),S0=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilansUtenFrilans",P0=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilans",_0=e=>e.some(n=>T0.includes(n))?S0():P0(),St=({readOnly:e,beregningsgrunnlag:n,tilfeller:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i})=>{const s=J.useContext(Me),l=n.faktaOmBeregning?n.faktaOmBeregning.vurderMottarYtelse:void 0,d=l&&l.erFrilans,o=l&&l.arbeidstakerAndelerUtenIM?l.arbeidstakerAndelerUtenIM:[],u=q();return j.jsxs("div",{children:[d&&j.jsx("div",{children:j.jsx(Ne,{label:j.jsx("div",{children:j.jsx(A,{children:j.jsx(m,{id:_0(r)})})},Nr()),name:`vurderFaktaBeregningForm.${s}.vurderMottarYtelseValues.${Nr()}`,isReadOnly:e,radios:[{value:"true",label:u.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:u.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:bn,validate:e?[]:[Q],isHorizontal:!0})}),o.map(k=>j.jsx(j.Fragment,{children:y0(k,e,t,i,s,u)}))]})},M0=(e,n,r,t,i,s)=>{if(n===null)return{};if(cy(e,r.vurderMottarYtelse)){const l=[],d=Tu(e,r.vurderMottarYtelse,t);return r.vurderMottarYtelse.arbeidstakerAndelerUtenIM.forEach(o=>{if(d[o.andelsnr]&&!i.includes(o.andelsnr)){const u=n.find(k=>k.andelsnr===o.andelsnr).fastsattBelop;(u||u===0)&&(l.push({andelsnr:o.andelsnr,fastsattBeløp:fe(u)}),i.push(o.andelsnr))}}),l.length>0?(s.push(W.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING),{fastsattUtenInntektsmelding:{andelListe:l}}):{}}return{}},R0=(e,n,r,t,i)=>{if(n===null)return{};if(e.vurderMottarYtelseValues[Nr()]){const s=r.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(l=>l.aktivitetStatus===D.FRILANSER);if(!t.includes(s.andelsnr)&&xu(e)){const l=n.find(d=>d.andelsnr===s.andelsnr);return t.push(s.andelsnr),i.push(W.FASTSETT_MAANEDSINNTEKT_FL),{fastsettMaanedsinntektFL:{maanedsinntekt:fe(l.fastsattBelop)}}}return{}}return{}},O0=(e,n,r)=>{const t=n.vurderMottarYtelse.arbeidstakerAndelerUtenIM?n.vurderMottarYtelse.arbeidstakerAndelerUtenIM:[];return r.push(W.VURDER_MOTTAR_YTELSE),{mottarYtelse:{frilansMottarYtelse:e.vurderMottarYtelseValues[Nr()],arbeidstakerUtenIMMottarYtelse:t.map(i=>({andelsnr:i.andelsnr,mottarYtelse:e.vurderMottarYtelseValues[Tr(i)]}))}}};St.buildInitialValues=e=>{const n={};if(!e)return null;e.erFrilans&&(n[Nr()]=e.frilansMottarYtelse);const r=e.arbeidstakerAndelerUtenIM?e.arbeidstakerAndelerUtenIM:[];return r.length<1||r.forEach(t=>{n[Tr(t)]=t.mottarYtelse}),n};St.transformValues=(e,n,r,t,i)=>{const s=[];return(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).map(l=>l).includes(W.VURDER_MOTTAR_YTELSE)?{...O0(e,r,s),...M0(e,n,r,t,i,s),...R0(e,n,t,i,s),faktaOmBeregningTilfeller:s}:{}};const D0="_buttonRow_11vqq_1",B0="_addPeriode_11vqq_4",F0="_customLink_11vqq_5",$0="_removeButton_11vqq_6",L0="_addCircleIcon_11vqq_14",V0="_imageText_11vqq_15",G0="_flexColumn_11vqq_20",wt={buttonRow:D0,addPeriode:B0,customLink:F0,removeButton:$0,addCircleIcon:L0,imageText:V0,flexColumn:G0},C0=e=>({andel:e.filter(({kode:n})=>n===D.DAGPENGER)[0].navn,aktivitetStatus:D.DAGPENGER,fastsattBelop:"",inntektskategori:$n.DAGPENGER,nyAndel:!0,skalKunneEndreAktivitet:!0,lagtTilAvSaksbehandler:!0}),cd=({leggTilAndel:e,kodeverkSamling:n})=>{const r=n[ye.AKTIVITET_STATUS];return j.jsx(S,{className:wt.buttonRow,children:j.jsx(p,{className:wt.flexColumn,children:j.jsx(ie,{icon:j.jsx(Ai,{"aria-hidden":!0,className:wt.addCircleIcon}),onClick:()=>e(C0(r)),type:"button",variant:"tertiary",children:j.jsx(me,{className:wt.imageText,children:j.jsx(m,{id:"BeregningInfoPanel.FordelingBG.LeggTilDagpengerAndel"})})})})})},z0="_slettIkon_1j5jk_1",w0="_rightAlign_1j5jk_4",K0="_rightAlignInput_1j5jk_7",Y0="_inntektTable_1j5jk_21",U0="_buttonRow_1j5jk_72",H0="_addPeriode_1j5jk_75",Z0="_customLink_1j5jk_76",J0="_removeButton_1j5jk_77",W0="_addCircleIcon_1j5jk_80",Q0="_imageText_1j5jk_81",q0="_readOnlyContainer_1j5jk_86",X0="_readOnlyContent_1j5jk_89",eS="_storBredde_1j5jk_94",nS="_mediumBredde_1j5jk_97",rS="_litenBredde_1j5jk_100",we={slettIkon:z0,rightAlign:w0,rightAlignInput:K0,inntektTable:Y0,buttonRow:U0,addPeriode:H0,customLink:Z0,removeButton:J0,addCircleIcon:W0,imageText:Q0,readOnlyContainer:q0,readOnlyContent:X0,storBredde:eS,mediumBredde:nS,litenBredde:rS},tS=(e,n)=>{const r=[];return r.push("BeregningInfoPanel.FordelingBG.Andel"),e&&r.push("BeregningInfoPanel.FordelingBG.Arbeidsperiode"),r.push("BeregningInfoPanel.FordelingBG.Fordeling"),n&&r.push("BeregningInfoPanel.FordelingBG.Refusjonskrav"),r.push("BeregningInfoPanel.FordelingBG.Inntektskategori"),r},iS=e=>e.map(n=>j.jsx("option",{value:n.kode,children:n.navn},n.kode)),sS=e=>e[ye.INNTEKTSKATEGORI].slice().sort((n,r)=>n.navn.localeCompare(r.navn)),aS=({field:e,skalVisePeriode:n,skalViseRefusjon:r,skalViseSletteknapp:t,readOnly:i,isAksjonspunktClosed:s,removeAndel:l,beregningsgrunnlag:d,kodeverkSamling:o,rowName:u,skalFastsetteInntektForAndel:k})=>{const f=q(),{getValues:v}=Se(),h=J.useContext(Me),T=v(`vurderFaktaBeregningForm.${h}`),E=Er(T,d)(e),P=$y(d)(e),y=sS(o),B=e.arbeidsperiodeFom||e.arbeidsperiodeTom;return j.jsxs(Ge,{children:[j.jsx(z,{children:j.jsx(Ae,{name:`${u}.andel`,className:we.storBredde,readOnly:!0})}),j.jsx(z,{children:n&&B&&j.jsx(wk,{value:j.jsx(Ye,{dateStringFom:e.arbeidsperiodeFom,dateStringTom:e.arbeidsperiodeTom})})}),E&&j.jsx(z,{className:we.rightAlignInput,children:j.jsx(Ae,{label:f.formatMessage({id:"BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn"},{andel:e.andel}),name:`${u}.fastsattBelop`,parse:Le,className:we.mediumBredde,readOnly:i,isEdited:s,validate:k(e)?[Q,vn(178956970)]:[],hideLabel:!0})}),!E&&j.jsx(z,{className:we.rightAlign,children:j.jsx(Ae,{name:`${u}.belopReadOnly`,className:we.mediumBredde,parse:Le,readOnly:!0})}),r&&j.jsx(z,{className:we.rightAlign,children:j.jsx(Ae,{name:`${u}.refusjonskrav`,className:we.litenBredde,readOnly:!0,parse:Le})}),j.jsx(z,{className:we.rightAlign,children:j.jsx(Ni,{label:f.formatMessage({id:"BeregningInfoPanel.FordelingBG.Inntektskategori"}),name:`${u}.inntektskategori`,className:we.storBredde,selectValues:iS(y),validate:i?[]:[Q],readOnly:i||!P,hideLabel:!0})}),j.jsx(z,{children:t&&j.jsx(ie,{icon:j.jsx(_r,{"aria-hidden":!0,className:we.slettIkon}),onClick:()=>l(),type:"button",variant:"tertiary"})})]})},lS=(e,n,r)=>{let t=0;return e.forEach(i=>{const s=Er(n,r)(i)?i.fastsattBelop:i.belopReadOnly;t+=s?fe(s):0}),t>0?t:0},dS=({skalVisePeriode:e,skalViseRefusjon:n,readOnly:r,beregningsgrunnlag:t})=>{const{control:i,getValues:s}=Se(),l=J.useContext(Me),d=s(`vurderFaktaBeregningForm.${l}`),o=st({control:i,name:`vurderFaktaBeregningForm.${l}.inntektFieldArray`}),u=lS(o,d,t)||0;return j.jsxs(Ge,{children:[j.jsx(z,{children:j.jsx(m,{id:"BeregningInfoPanel.FordelingBG.Sum"})}),e&&j.jsx(z,{}),j.jsx(z,{className:we.rightAlign,children:j.jsx("div",{className:we.readOnlyContainer,children:j.jsx(A,{"data-testid":"sum",className:r?we.readOnlyContent:"",children:C(u)})})}),n&&j.jsx(z,{}),j.jsx(z,{})]})},oS=e=>({andel:e.find(({kode:n})=>n===D.DAGPENGER).navn,aktivitetStatus:D.DAGPENGER,fastsattBelop:"",inntektskategori:$n.DAGPENGER,nyAndel:!0,skalKunneEndreAktivitet:!1,lagtTilAvSaksbehandler:!0}),gS=e=>({andel:e.find(({kode:n})=>n===D.MILITAER_ELLER_SIVIL).navn,aktivitetStatus:D.MILITAER_ELLER_SIVIL,fastsattBelop:"",inntektskategori:$n.ARBEIDSTAKER,nyAndel:!0,skalKunneEndreAktivitet:!1,lagtTilAvSaksbehandler:!0}),uS=(e,n,r)=>n[e].skalKunneEndreAktivitet===!0&&!r,Bs=e=>{let n=!1;return e.forEach(r=>{r.refusjonskrav!==""&&r.refusjonskrav!==null&&r.refusjonskrav!==void 0&&(n=!0)}),n},Fs=e=>{let n=!1;return e.forEach(r=>{r.arbeidsgiverId!==""&&(n=!0)}),n},kS=(e,n)=>()=>{n(e)},mS=(e,n,r)=>j.jsx(dS,{readOnly:n,skalVisePeriode:Fs(e),skalViseRefusjon:Bs(e),beregningsgrunnlag:r},"summaryRow"),Ou=(e,n)=>{let r=-1;return e.forEach((t,i)=>{t.aktivitetStatus===n&&(r=i)}),r},fd=e=>Ou(e,D.DAGPENGER)!==-1,Du=(e,n,r,t,i,s,l,d)=>{const o=Ou(e,n);if(o!==-1){const u=e[o];t(u)&&l(o)}o===-1&&r&&d({...i,kanRedigereInntekt:s()(i)})},cS=(e,n,r,t,i,s,l)=>{Du(e,D.DAGPENGER,n,d=>!n&&!t&&d.lagtTilAvSaksbehandler,oS(r),i,s,l)},fS=(e,n,r,t,i,s)=>{Du(e,D.MILITAER_ELLER_SIVIL,n===!0,()=>n===!1,gS(r),t,i,s)},pS=(e,n)=>Yy(e,n)??null,jS=(e,n,r)=>n&&n.length>0?null:wy(e.inntektFieldArray,r)||($i(e)?pS(e.inntektFieldArray,r):null),Lr=({readOnly:e,skalKunneLeggeTilDagpengerManuelt:n,beregningsgrunnlag:r,isAksjonspunktClosed:t,kodeverkSamling:i})=>{var s,l;const{getValues:d,control:o,formState:u}=Se(),{errors:k}=u,f=J.useContext(Me),v=`vurderFaktaBeregningForm.${f}.inntektFieldArray`,{fields:h,remove:T,append:E,update:P}=ln({control:o,name:v}),y=st({control:o,name:`vurderFaktaBeregningForm.${f}`}),B=st({control:o,name:`vurderFaktaBeregningForm.${f}.vurderbesteberegningField`}),M=st({control:o,name:`vurderFaktaBeregningForm.${f}.vurderMilitær`}),F=q(),O=b.useCallback(()=>Er(y,r),[y,r]);b.useEffect(()=>{const w=d(`vurderFaktaBeregningForm.${f}.inntektFieldArray`),H=i[ye.AKTIVITET_STATUS];fS(w,M,H,O,T,E),cS(w,B,H,n,O,T,E)},[B,M,n]);const L=(w,H)=>{P(w,{...h[w],kanRedigereInntekt:H})};b.useEffect(()=>{h.forEach((w,H)=>{const X=w.kanRedigereInntekt,ue=Er(y,r)(w);!(!B&&!n&&w.lagtTilAvSaksbehandler)&&X!==ue&&L(H,ue)})},[y]);const U=(l=(s=k==null?void 0:k.vurderFaktaBeregningForm)==null?void 0:s[f])==null?void 0:l.inntektFieldArray,re=jS(y,U,F),ne=`${v}.skjemagruppe`,Z=Ti(ne,re),K=h.map((w,H)=>j.jsx(aS,{field:w,skalVisePeriode:Fs(h),skalViseRefusjon:Bs(h),skalViseSletteknapp:uS(H,h,e),readOnly:e,removeAndel:kS(H,T),beregningsgrunnlag:r,isAksjonspunktClosed:t,kodeverkSamling:i,rowName:`${v}.${H}`,skalFastsetteInntektForAndel:_u(y,r.faktaOmBeregning,r)},w.id));return K.length===0?n?j.jsxs("div",{children:[!e&&!fd(h)&&j.jsx(cd,{leggTilAndel:E,kodeverkSamling:i}),j.jsx(I,{eightPx:!0}),Z&&j.jsx(dt,{children:Z})]}):null:(K.push(mS(h,e,r)),j.jsxs("div",{children:[j.jsx(qe,{headerTextCodes:tS(Fs(h),Bs(h)),noHover:!0,classNameTable:we.inntektTable,children:K}),!e&&n&&!fd(h)&&j.jsx(cd,{leggTilAndel:E,kodeverkSamling:i}),j.jsx(I,{eightPx:!0}),Z&&j.jsx(dt,{children:Z})]}))};Lr.defaultProps={skalKunneLeggeTilDagpengerManuelt:!1};Lr.transformValues=e=>e?e.filter(({kanRedigereInntekt:n})=>n).filter(({fastsattBelop:n})=>n!==null&&n!=="").map(n=>({andelsnr:n.andelsnr,fastsattBelop:fe(n.fastsattBelop),inntektskategori:n.inntektskategori,nyAndel:n.nyAndel,lagtTilAvSaksbehandler:n.lagtTilAvSaksbehandler,aktivitetStatus:n.aktivitetStatus,arbeidsforholdId:n.arbeidsforholdId,arbeidsgiverId:n.arbeidsgiverId})):null;Lr.buildInitialValues=(e,n,r)=>!e||e.length===0?[]:e.map(t=>Ly(t,n,r));const vS=e=>e.arbeidsforhold&&e.arbeidsforhold.organisasjonstype&&e.arbeidsforhold.organisasjonstype===ra.KUNSTIG,bS=(e,n)=>e.includes(W.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING)?n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(vS)!==void 0:!1,hS=(e,n)=>n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(r=>r.andelsnr===e.andelsnr&&r.arbeidsforhold&&r.arbeidsforhold.organisasjonstype&&r.arbeidsforhold.organisasjonstype===ra.KUNSTIG)!==void 0,IS=(e,n,r,t,i)=>{const s=r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[];if(!s.map(o=>o).includes(W.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING)&&!s.map(o=>o).includes(W.VURDER_LONNSENDRING))return{};if(n===null)return{};const l=n.filter(o=>!i.includes(o.andelsnr)).filter(o=>_g(o,t,o.arbeidsforholdId)||hS(o,t)||jA(o,r,e));l.forEach(o=>i.push(o.andelsnr));const d=l.map(o=>({andelsnr:o.andelsnr,fastsattBeløp:fe(o.fastsattBelop),inntektskategori:o.inntektskategori}));return d.length>0?{faktaOmBeregningTilfeller:[W.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING],fastsattUtenInntektsmelding:{andelListe:d}}:{}},AS=(e,n,r)=>{if((n.faktaOmBeregningTilfeller?n.faktaOmBeregningTilfeller:[]).map(t=>t).includes(W.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON)&&e){const t=e.filter(i=>!r.includes(i.andelsnr)).filter(i=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe.map(({andelsnr:s})=>s).includes(i.andelsnr)).map(i=>({andelsnr:i.andelsnr,arbeidsinntekt:i.fastsattBelop}));if(n.frilansAndel&&!r.includes(n.frilansAndel.andelsnr)){const i=e.find(s=>s.andelsnr===n.frilansAndel.andelsnr);t.push({andelsnr:n.frilansAndel.andelsnr,arbeidsinntekt:i.fastsattBelop})}if(t.forEach(i=>r.push(i.andelsnr)),t.length>0)return{faktaOmBeregningTilfeller:[W.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON],vurderATogFLiSammeOrganisasjon:{vurderATogFLiSammeOrganisasjonAndelListe:t}}}return{faktaOmBeregningTilfeller:[]}},xS=e=>e.faktaOmBeregning.faktaOmBeregningTilfeller?e.faktaOmBeregning.faktaOmBeregningTilfeller.map(n=>n).includes(W.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON):!1,TS=({beregningsgrunnlag:e,manglerInntektsmelding:n})=>xS(e)?n?j.jsx(A,{children:j.jsx(m,{id:"BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrgUtenIM"})}):j.jsx(A,{children:j.jsx(m,{id:"BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrg"})}):null,NS=(e,n)=>{const r=i=>Er(e,n)(i),t=e[Fi];return t?t.filter(i=>i.aktivitetStatus===D.ARBEIDSTAKER).map(r).includes(!0):!1},ES=(e,n)=>{const r=i=>Er(e,n)(i),t=e[Fi];return t?t.filter(i=>i.aktivitetStatus===D.FRILANSER).map(r).includes(!0):!1},yS=e=>{const{faktaOmBeregning:n}=e;return n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&n.arbeidstakerOgFrilanserISammeOrganisasjonListe.length>0?n.arbeidstakerOgFrilanserISammeOrganisasjonListe.find(r=>!r.inntektPrMnd)!==void 0:!1},SS=e=>!e.includes(W.FASTSETT_BG_KUN_YTELSE),PS=(e,n,r,t)=>t?"BeregningInfoPanel.KunstigArbeidsforhold.FastsettKunstigArbeidsforhold":e?"KunYtelsePanel.OverskriftBesteberegning":n?r?"BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLAlleOppdrag":"BeregningInfoPanel.VurderOgFastsettATFL.FastsettFrilans":r?"BeregningInfoPanel.VurderOgFastsettATFL.FastsettArbeidsinntekt":"",_S=(e,n,r,t,i)=>j.jsx(Lr,{readOnly:e,skalKunneLeggeTilDagpengerManuelt:i,beregningsgrunnlag:n,kodeverkSamling:t,isAksjonspunktClosed:r}),Pt=({readOnly:e,isAksjonspunktClosed:n,tilfeller:r,beregningsgrunnlag:t,avklaringsbehov:i,kodeverkSamling:s,erOverstyrer:l,arbeidsgiverOpplysningerPerId:d,updateOverstyring:o})=>{const{getValues:u}=Se(),k=J.useContext(Me),f=u(`vurderFaktaBeregningForm.${k}`),v=b.useMemo(()=>Pu(f),[f,t,i]),h=b.useMemo(()=>NS(f,t),[f,t]),T=b.useMemo(()=>ES(f,t),[f,t]),E=f[qn]===!0,P=b.useMemo(()=>yS(t),[t]),y=b.useMemo(()=>SS(r),[r]),B=b.useMemo(()=>bS(r,t),[r,t]);return j.jsx("div",{children:j.jsxs(_i,{tabell:_S(e,t,n,s,v),skalViseTabell:y,hjelpeTekstId:PS(E,T,h,B),readOnly:e,erOverstyrer:l,avklaringsbehov:i,updateOverstyring:o,erOverstyrt:v,children:[j.jsx(TS,{beregningsgrunnlag:t,manglerInntektsmelding:P}),r.includes(W.VURDER_LONNSENDRING)&&j.jsx(ht,{readOnly:e}),r.includes(W.VURDER_ETTERLONN_SLUTTPAKKE)&&j.jsx(Tt,{readOnly:e}),r.includes(W.VURDER_NYOPPSTARTET_FL)&&j.jsx(It,{readOnly:e}),r.includes(W.VURDER_MOTTAR_YTELSE)&&j.jsx(St,{readOnly:e,isAksjonspunktClosed:n,tilfeller:r,beregningsgrunnlag:t,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:d}),r.includes(W.VURDER_BESTEBEREGNING)&&!r.includes(W.FASTSETT_BG_KUN_YTELSE)&&j.jsx(bt,{readOnly:e,erOverstyrt:v})]},"inntektstabell")})};Pt.buildInitialValues=(e,n,r,t)=>{if(!e)return{};const i=e.andelerForFaktaOmBeregning;return i.length===0?{}:{[Fi]:Lr.buildInitialValues(i,r,t),..._i.buildInitialValues(n)}};const Gn=(e,n)=>({...e,...n,faktaOmBeregningTilfeller:n.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller.concat(n.faktaOmBeregningTilfeller):e.faktaOmBeregningTilfeller}),MS=(e,n,r,t)=>{if($i(e)){const i=r.filter(s=>!t.includes(s.andelsnr)).filter(s=>s.fastsattBelop!=null).map(s=>({andelsnr:s.andelsnr,nyAndel:s.nyAndel,aktivitetStatus:s.aktivitetStatus,lagtTilAvSaksbehandler:s.lagtTilAvSaksbehandler,fastsatteVerdier:{fastsattBeløp:s.fastsattBelop,inntektskategori:s.inntektskategori}}));return{fakta:n,overstyrteAndeler:i}}return{fakta:n}},RS=(e,n,r,t,i)=>{const s=t.faktaOmBeregningTilfeller?t.faktaOmBeregningTilfeller.map(d=>d):[];let l={faktaOmBeregningTilfeller:[]};if(s.length>0){l=Gn(l,lA(t)(e,n));const d=e[qn]===!0;l=Gn(l,It.transformValues(e,d?null:n,t,r)),l=Gn(l,Tt.transformValues(e,d?null:n,t,r)),l=Gn(l,ht.transformValues(e,t)),l=Gn(l,St.transformValues(e,d?null:n,t,i,r)),l=Gn(l,AS(d?null:n,t,r)),l=Gn(l,IS(e,d?null:n,t,i,r))}return l};Pt.transformValues=(e,n)=>r=>{const t=Lr.transformValues(r[Fi]),i=[],s=RS(r,t,i,e,n);return MS(r,s,t,i)};const{VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT:OS}=W,DS="erKravGyldig_",Da=e=>DS+e,BS=(e,n,r,t)=>e.map(i=>{const{arbeidsgiverIdent:s}=i,l=r[s],d=l?Dr(l):s,o=q();return j.jsxs(J.Fragment,{children:[j.jsx(I,{twentyPx:!0}),j.jsx(Ne,{label:j.jsx(m,{id:"VurderRefusjonForm.ErRefusjonskravGyldig",values:{arbeidsgiverVisningsnavn:d}}),name:`vurderFaktaBeregningForm.${t}.vurderRefusjonValues.${Da(s)}`,validate:[Q],isReadOnly:n,radios:[{value:"true",label:o.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:o.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:bn,isHorizontal:!0})]},s)}),_t=({readOnly:e,faktaOmBeregning:n,arbeidsgiverOpplysningerPerId:r})=>{const t=J.useContext(Me),i=n==null?void 0:n.refusjonskravSomKommerForSentListe;return j.jsx(j.Fragment,{children:BS(i,e,r,t)})};_t.transformValues=e=>n=>e.length===0?{}:{refusjonskravGyldighet:e.map(({arbeidsgiverIdent:r})=>({arbeidsgiverId:r,skalUtvideGyldighet:n.vurderRefusjonValues[Da(r)]}))};_t.buildInitialValues=(e,n)=>{const r={};return!e.includes(OS)||n.length===0?r:(n.forEach(({arbeidsgiverIdent:t,erRefusjonskravGyldig:i})=>{r[Da(t)]=i}),{...r})};const{VURDER_FAKTA_FOR_ATFL_SN:FS}=Te,Vn=e=>e.faktaOmBeregning,$S=e=>{var n;return((n=Vn(e))==null?void 0:n.kortvarigeArbeidsforhold)||void 0},LS=e=>{var n;return((n=Vn(e))==null?void 0:n.kunYtelse)||void 0},Bu=e=>{var n;return((n=Vn(e))==null?void 0:n.faktaOmBeregningTilfeller)||[]},VS=e=>{var n;return((n=Vn(e))==null?void 0:n.vurderMottarYtelse)||void 0},GS=e=>{var n;return((n=Vn(e))==null?void 0:n.vurderBesteberegning)||void 0},CS=e=>{var n;return((n=Vn(e))==null?void 0:n.refusjonskravSomKommerForSentListe)||[]},pd=e=>e?j.jsx(I,{twentyPx:!0}):null,zS=(e,n,r,t,i,s,l)=>{const{avklaringsbehov:d}=r,o=Bu(r),u=Vn(r),k=[];let f=!1;return o.forEach(v=>{v===W.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD&&(f=!0,k.push(j.jsx(J.Fragment,{children:j.jsx(Et,{readOnly:e,faktaOmBeregning:u,arbeidsgiverOpplysningerPerId:s})},v))),v===W.VURDER_SN_NY_I_ARBEIDSLIVET&&(f=!0,k.push(j.jsxs(J.Fragment,{children:[pd(f),j.jsx(Nt,{readOnly:e})]},v))),v===W.VURDER_MILITÆR_SIVILTJENESTE&&(f=!0,k.push(j.jsx(J.Fragment,{children:j.jsx(yt,{readOnly:e})},v))),v===W.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT&&(f=!0,k.push(j.jsx(J.Fragment,{children:j.jsx(_t,{readOnly:e,arbeidsgiverOpplysningerPerId:s,faktaOmBeregning:u})},v)))}),h0(k,o,e,n,u,t),k.push(j.jsxs(J.Fragment,{children:[pd(!0),j.jsx(Pt,{readOnly:e,isAksjonspunktClosed:n,tilfeller:o,beregningsgrunnlag:r,kodeverkSamling:t,erOverstyrer:i,avklaringsbehov:d,arbeidsgiverOpplysningerPerId:s,updateOverstyring:l})]},"VurderOgFastsettATFL")),k},wS=({readOnly:e,isAksjonspunktClosed:n,beregningsgrunnlag:r,kodeverkSamling:t,erOverstyrer:i,arbeidsgiverOpplysningerPerId:s,updateOverstyring:l})=>j.jsx("div",{children:zS(e,n,r,t,i,s,l).map(d=>d)}),KS=(e,n)=>r=>I0(r,e.kunYtelse,n),YS=(e,n)=>(e.faktaOmBeregningTilfeller.push(W.VURDER_SN_NY_I_ARBEIDSLIVET),{...e,...Nt.transformValues(n)}),US=e=>(n,r)=>(n.faktaOmBeregningTilfeller.push(W.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD),{...n,...Et.transformValues(r,e)}),HS=(e,n)=>(e.faktaOmBeregningTilfeller.push(W.VURDER_MILITÆR_SIVILTJENESTE),{...e,...yt.transformValues(n)}),ZS=e=>(n,r)=>(n.faktaOmBeregningTilfeller.push(W.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT),{...n,..._t.transformValues(e.refusjonskravSomKommerForSentListe)(r)}),JS=(e,n,r,t,i)=>(s,l)=>{let d={...s};return e.forEach(o=>{o===W.VURDER_SN_NY_I_ARBEIDSLIVET&&(d=n(d,l)),o===W.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD&&(d=r(d,l)),o===W.VURDER_MILITÆR_SIVILTJENESTE&&(d=t(d,l)),o===W.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT&&(d=i(d,l))}),d},WS=(e,n,r)=>t=>e.includes(W.FASTSETT_BG_KUN_YTELSE)?{fakta:n(t)}:{...r(t)},QS=(e,n,r,t,i)=>{const s=WS(e,KS(t,e),Pt.transformValues(t,i))(n);return{fakta:JS(e,YS,US(r),HS,ZS(t))(s.fakta,n),overstyrteAndeler:s.overstyrteAndeler}},qS=e=>{const{tilfeller:n,kortvarigeArbeidsforhold:r,faktaOmBeregning:t,beregningsgrunnlag:i}=e;return QS(n,e,r,t,i)},XS=e=>e?e.find(n=>n.definisjon===FS):void 0,eP=e=>({tidsbegrensetValues:Et.buildInitialValues(e.kortvarigeArbeidsforhold),vurderMottarYtelseValues:St.buildInitialValues(e.vurderMottarYtelse),vurderRefusjonValues:_t.buildInitialValues(e.tilfeller,e.refusjonskravSomKommerForSentListe),...yt.buildInitialValues(e.faktaOmBeregning),...Nt.buildInitialValues(e.beregningsgrunnlag),...ht.buildInitialValues(e.beregningsgrunnlag),...It.buildInitialValues(e.beregningsgrunnlag),...Tt.buildInitialValues(e.beregningsgrunnlag,e.vurderFaktaAP),...bt.buildInitialValues(e.avklaringsbehov,e.vurderBesteberegning,e.tilfeller,e.erOverstyrt),...Pt.buildInitialValues(e.faktaOmBeregning,e.erOverstyrt,e.arbeidsgiverOpplysningerPerId,e.kodeverkSamling),...A0(e.kunYtelse,e.tilfeller,e.faktaOmBeregning.andelerForFaktaOmBeregning,e.arbeidsgiverOpplysningerPerId,e.kodeverkSamling)}),nP=e=>({beregningsgrunnlag:e.beregningsgrunnlag,kortvarigeArbeidsforhold:$S(e.beregningsgrunnlag),vurderFaktaAP:XS(e.beregningsgrunnlag.avklaringsbehov),kunYtelse:LS(e.beregningsgrunnlag),tilfeller:Bu(e.beregningsgrunnlag),vurderMottarYtelse:VS(e.beregningsgrunnlag),vurderBesteberegning:GS(e.beregningsgrunnlag),kodeverkSamling:e.kodeverkSamling,avklaringsbehov:e.beregningsgrunnlag.avklaringsbehov,faktaOmBeregning:Vn(e.beregningsgrunnlag),arbeidsgiverOpplysningerPerId:e.arbeidsgiverOpplysningerPerId,refusjonskravSomKommerForSentListe:CS(e.beregningsgrunnlag),erOverstyrt:Dy(e.beregningsgrunnlag)}),rP=e=>{const n=nP(e);return{tilfeller:n.tilfeller,kortvarigeArbeidsforhold:n.kortvarigeArbeidsforhold,faktaOmBeregning:n.faktaOmBeregning,beregningsgrunnlag:n.beregningsgrunnlag,vurderMottarYtelse:n.vurderMottarYtelse,kunYtelse:n.kunYtelse,...eP(n)}},{VURDER_FAKTA_FOR_ATFL_SN:$s,OVERSTYRING_AV_BEREGNINGSGRUNNLAG:Ls}=Te,pi=(e,n)=>n.some(r=>r.definisjon===e&&r.kanLoses),tP=(e,n)=>e||pi($s,n),jd=(e,n)=>{const r=e[xr];return n&&!r&&pi(Ls,e.avklaringsbehov)?{periode:e.periode,avbrutt:!0,begrunnelse:null}:tP(r,e.avklaringsbehov)?{...qS(e),begrunnelse:e.begrunnelseFaktaTilfeller,periode:e.periode}:null},iP=(e,n=!0)=>{const r=e[cn],t=r.filter(l=>l.erTilVurdering).filter(l=>l[xr]||pi(Ls,l.avklaringsbehov)).map(l=>jd(l,!0)).filter(l=>l),i=r.filter(l=>l.erTilVurdering).filter(l=>(!l[xr]||n)&&pi($s,l.avklaringsbehov)).map(l=>jd(l,!1)).filter(l=>l),s=[];if(t.length>0){const l=t.filter(({begrunnelse:o})=>o!==null).map(({begrunnelse:o})=>o).reduce((o,u)=>o===""?u:`${o} ${u}`,""),d={kode:Ls,begrunnelse:l!==""?l:null,grunnlag:t};s.push(d)}if(i.length>0){const l=i.map(({begrunnelse:o})=>o).reduce((o,u)=>o===""?u:`${o} ${u}`,""),d={kode:$s,begrunnelse:l,grunnlag:i};s.push(d)}return s},{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:Fu,VURDER_FAKTA_FOR_ATFL_SN:ei}=Te,$u="begrunnelseFaktaTilfeller",vr=(e,n)=>n.some(r=>r.definisjon===e),sP=(e,n,r)=>e&&n&&!r,aP=(e,n)=>vr(ei,n)||vr(Fu,n)?!e:!0,ks=e=>{const n=e.filter(r=>r.definisjon===Te.VURDER_FAKTA_FOR_ATFL_SN||r.definisjon===Te.OVERSTYRING_AV_BEREGNINGSGRUNNLAG);return n.length===0?!1:n.some(r=>!dn(r.status))},lP=()=>{const e=[];return e.push(j.jsx(m,{id:"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning"},"VurderFaktaForBeregningen")),e},vd=(e,n)=>{const r=n(`${cn}.${e}`);return Pu(r)},bd=(e,n)=>{var r,t;return!!((t=(r=n.vurderFaktaBeregningForm)==null?void 0:r[e])!=null&&t.begrunnelseFaktaTilfeller)},dP=({beregningsgrunnlag:e,erOverstyrer:n,readOnly:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,submittable:s,updateOverstyring:l,vilkarsperiode:d,verdiForAvklarAktivitetErEndret:o,submitDisabled:u})=>{const{getValues:k,formState:{errors:f,isDirty:v}}=Se(),h=J.useContext(Sg),T=J.useContext(Pg),E=J.useContext(Me),P=E===T;J.useEffect(()=>{h(f)},[JSON.stringify(f)]);const{avklaringsbehov:y}=e,B=d.vurderesIBehandlingen;return j.jsxs("div",{style:{display:P?"block":"none"},children:[vr(ei,y)&&j.jsx(hi,{children:ks(y)?null:lP()}),j.jsx(I,{twentyPx:!0}),j.jsx(wS,{readOnly:r||!B,isAksjonspunktClosed:ks(y),beregningsgrunnlag:e,kodeverkSamling:t,erOverstyrer:n,arbeidsgiverOpplysningerPerId:i,updateOverstyring:l}),j.jsx(I,{twentyPx:!0}),(vr(ei,y)||vr(Fu,y)||vd(E,k))&&j.jsxs(j.Fragment,{children:[(vr(ei,y)||vd(E,k))&&j.jsx(nr,{name:`${cn}.${E}.${$u}`,isSubmittable:s,isReadOnly:r||!B,hasBegrunnelse:fa(y)!==null}),j.jsx(I,{twentyPx:!0}),j.jsx(Ag,{isDisabled:!!o,isSubmittable:sP(s&&aP(o,y)&&!ks(y),!0,bd(E,f)),isReadOnly:r||!B,isDirty:v,isSubmitting:u,hasEmptyRequiredFields:bd(E,f)})]})]},E)},{VURDER_FAKTA_FOR_ATFL_SN:Lu,AVKLAR_AKTIVITETER:oP,OVERSTYRING_AV_BEREGNINGSGRUNNLAG:ji,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:gP}=Te,uP=e=>e.some(n=>n.definisjon===ji)?e.find(n=>n.definisjon===ji&&n.begrunnelse!==null):e.find(n=>n.definisjon===Lu&&n.begrunnelse!==null),hd=(e,n)=>n.some(r=>r.definisjon===e&&dn(r.status)),kP=(e,n,r)=>({[cn]:e.beregningsgrunnlag.map(t=>{var i;const s=r.perioder.find(l=>l.periode.fom===t.vilkårsperiodeFom);return{avklaringsbehov:t.avklaringsbehov,erTilVurdering:s.vurderesIBehandlingen&&!s.erForlengelse,periode:s.periode,...nr.buildInitialValues((i=uP(t.avklaringsbehov))==null?void 0:i.begrunnelse,$u),...rP({...e,avklaringsbehov:t.avklaringsbehov,beregningsgrunnlag:t})}})}),mP=[Lu,ji],cP=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.vilkårsperiodeFom);return(r==null?void 0:r.erForlengelse)===!0},fP=e=>{const{beregningsgrunnlag:n,submittable:r,readOnly:t,kodeverkSamling:i,erOverstyrer:s,arbeidsgiverOpplysningerPerId:l,aktivtBeregningsgrunnlagIndeks:d,submitCallback:o,setFormData:u,formData:k,vilkar:f,avklarAktiviteterErEndret:v,skalKunneAvbryteOverstyring:h}=e,T=v,E=n.flatMap(ue=>ue.avklaringsbehov),P=He({defaultValues:k||kP(e,E,f)}),{control:y,formState:B,trigger:M,getValues:F,watch:O}=P,{fields:L,update:U}=ln({name:cn,control:y}),{errors:re,isSubmitted:ne}=B,[Z,K]=b.useState(!1),w=O(cn);b.useEffect(()=>{ne&&M()},[JSON.stringify(w)]);const H=(ue,oe)=>{const ce=F(`${cn}.${ue}`);U(ue,{...ce,[xr]:oe})},X=ue=>{Object.keys(re).length===0&&(K(!0),o(iP(ue,h)))};return hd(oP,E)||hd(gP,E)?null:j.jsx(Pg.Provider,{value:d,children:j.jsx(Ze,{formMethods:P,onSubmit:ue=>{X(ue)},setDataOnUnmount:u,children:L.map((ue,oe)=>{const ce=en=>mP.some(he=>he===en.definisjon),ze=en=>en.kanLoses,sr=E.filter(en=>ce(en)&&ze(en)),ar=t||cP(n[oe],f.perioder)||tn(ji,E)&&!s||sr.length===0&&!s;return j.jsx(Me.Provider,{value:oe,children:j.jsx(dP,{vilkarsperiode:f.perioder.find(en=>en.periode.fom===n[oe].vilkårsperiodeFom),beregningsgrunnlag:n[oe],erOverstyrer:s,readOnly:ar,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:l,submittable:r,updateOverstyring:H,submitDisabled:Z,verdiForAvklarAktivitetErEndret:T},ue.id)},ue.id)})})})},{VURDER_FAKTA_FOR_ATFL_SN:pP,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Vu,AVKLAR_AKTIVITETER:jP}=Te,vP=[Vu,jP],bP=({readOnly:e,avklaringsbehov:n,submittable:r,submitCallback:t,aktivtBeregningsgrunnlagIndeks:i,beregningsgrunnlag:s,erOverstyrer:l,skalKunneOverstyreAktiviteter:d,kodeverkSamling:o,arbeidsgiverOpplysningerPerId:u,setFormData:k,formData:f,vilkar:v,skalKunneAvbryteOverstyring:h})=>{const T=n.filter(B=>vP.some(M=>M===B.definisjon)&&B.kanLoses),E=e||(T.length===0||tn(Vu,n))&&!l,[P,y]=b.useState(!1);return j.jsxs("div",{children:[j.jsx(nA,{readOnly:E,harAndreAvklaringsbehovIPanel:tn(pP,n),submitCallback:t,submittable:r,erOverstyrer:l&&d,kodeverkSamling:o,aktivtBeregningsgrunnlagIndeks:i,beregningsgrunnlag:s,arbeidsgiverOpplysningerPerId:u,setFormData:k,formData:f&&ot in f?f:void 0,vilkår:v,setAvklarAktiviteterErEndret:y}),j.jsx(I,{thirtyTwoPx:!0}),j.jsx(fP,{submitCallback:t,submittable:r,kodeverkSamling:o,beregningsgrunnlag:s,erOverstyrer:l,readOnly:e,arbeidsgiverOpplysningerPerId:u,aktivtBeregningsgrunnlagIndeks:i,setFormData:k,formData:f&&cn in f?f:void 0,vilkar:v,avklarAktiviteterErEndret:P,skalKunneAvbryteOverstyring:h})]})},hP=Ve(ca),{VURDER_FAKTA_FOR_ATFL_SN:IP,AVKLAR_AKTIVITETER:AP}=Te,xP=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.vilkårsperiodeFom);return(r==null?void 0:r.erForlengelse)===!0},TP=(e,n)=>{const r=e.vilkårsperiodeFom,t=n.find(({periode:i})=>i.fom===r);if(t){const{fom:i,tom:s}=t.periode;return s!==null?`${x(i).format(te)} - ${x(s).format(te)}`:`${x(i).format(te)} - `}return`${x(r).format(te)}`},NP=e=>{if(e){const n=e.some(t=>t.definisjon===IP&&t.kanLoses),r=e.some(t=>t.definisjon===AP&&t.kanLoses);return n||r}return!1},EP=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.skjaeringstidspunktBeregning);return NP(e.avklaringsbehov)&&(r==null?void 0:r.vurderesIBehandlingen)&&!r.erForlengelse},yP=({beregningsgrunnlag:e=[],kodeverkSamling:n,submitCallback:r,readOnly:t,submittable:i,erOverstyrer:s,skalKunneOverstyreAktiviteter:l=!0,arbeidsgiverOpplysningerPerId:d,formData:o,setFormData:u,vilkar:k,skalKunneAvbryteOverstyring:f=!1})=>{const[v,h]=b.useState(0),[T,E]=b.useState(void 0);if(e.length===0||!k)return j.jsx(j.Fragment,{children:"Har ikke beregningsgrunnlag."});const P=e.length>1,y=e[v].avklaringsbehov,B=k.perioder,M=F=>{var O;return!!((O=T==null?void 0:T[`${cn}`])!=null&&O[F])};return j.jsxs(Qe,{value:hP,children:[P&&j.jsx("div",{className:mI.tabsContainer,children:j.jsx(br,{value:v.toString(),onChange:F=>h(Number(F)),children:j.jsx(br.List,{children:e.map((F,O)=>j.jsx(br.Tab,{value:O.toString(),label:TP(F,B),className:EP(F,B)?"harAksjonspunkt":"",icon:O!==v&&M(O)&&j.jsx(Sr,{width:20,height:20,color:"Orange"})},F.skjaeringstidspunktBeregning))})})}),j.jsx(Sg.Provider,{value:E,children:j.jsx(bP,{aktivtBeregningsgrunnlagIndeks:v,beregningsgrunnlag:e,kodeverkSamling:n,avklaringsbehov:y,submitCallback:r,readOnly:t||xP(e[v],B),submittable:i,erOverstyrer:s,skalKunneOverstyreAktiviteter:l,arbeidsgiverOpplysningerPerId:d,setFormData:u,formData:o,vilkar:k,skalKunneAvbryteOverstyring:f})})]})};const SP=e=>{switch(e){case Te.AVKLAR_AKTIVITETER:return ae.AVKLAR_AKTIVITETER;case Te.OVERSTYRING_AV_BEREGNINGSAKTIVITETER:return ae.OVERSTYRING_AV_BEREGNINGSAKTIVITETER;case Te.VURDER_FAKTA_FOR_ATFL_SN:return ae.VURDER_FAKTA_FOR_ATFL_SN;case Te.OVERSTYRING_AV_BEREGNINGSGRUNNLAG:return ae.OVERSTYRING_AV_BEREGNINGSGRUNNLAG;default:throw new Error(`Ukjent avklaringspunkt ${e}`)}},PP=e=>n=>{const t=(Array.isArray(n)?n:[n]).map(i=>({kode:SP(i.kode),...i.grunnlag[0]}));return e(t)},_P=(e,n)=>({avslagKode:n.avslagKode,vurderesIBehandlingen:!0,merknadParametere:{},periode:{fom:e?e.skjaeringstidspunktBeregning:"",tom:Ce},vilkarStatus:n.vilkarStatus}),MP=(e,n)=>{if(!e)return null;const r=e.find(i=>i.vilkarType&&i.vilkarType===Qn.BEREGNINGSGRUNNLAGVILKARET);return!r||!n?null:{...r,perioder:[_P(n,r)]}},RP=e=>e?[{...e,vilkårsperiodeFom:e.skjaeringstidspunktBeregning}]:[],OP=[ae.VURDER_FAKTA_FOR_ATFL_SN,ae.AVKLAR_AKTIVITETER,ae.OVERSTYRING_AV_BEREGNINGSAKTIVITETER,ae.OVERSTYRING_AV_BEREGNINGSGRUNNLAG],DP=[ae.OVERSTYRING_AV_BEREGNINGSAKTIVITETER,ae.OVERSTYRING_AV_BEREGNINGSGRUNNLAG],BP=[Ke.BEREGNINGSGRUNNLAG],Id=({arbeidsgiverOpplysningerPerId:e,rettigheter:n,...r})=>_e.jsx(Mr,{...r,panelEndepunkter:BP,aksjonspunktKoder:OP,overstyringApKoder:DP,faktaPanelKode:Pr.BEREGNING,faktaPanelMenyTekst:q().formatMessage({id:"BeregningInfoPanel.Title"}),skalPanelVisesIMeny:()=>bo.hasPath(Ke.BEREGNINGSGRUNNLAG.name),renderPanel:t=>{var i;return _e.jsx(yP,{...t,kodeverkSamling:t.alleKodeverk,vilkar:MP((i=r.behandling)==null?void 0:i.vilkår,t.beregningsgrunnlag),beregningsgrunnlag:RP(t.beregningsgrunnlag),submitCallback:PP(t.submitCallback),arbeidsgiverOpplysningerPerId:e,erOverstyrer:n.kanOverstyreAccess.isEnabled,skalKunneOverstyreAktiviteter:!0})}});try{Id.displayName="BeregningFaktaInitPanel",Id.__docgenInfo={description:"BeregningFaktaInitPanel",displayName:"BeregningFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},rettigheter:{defaultValue:null,description:"",name:"rettigheter",required:!0,type:{name:"AksessRettigheter"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}function FP(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gu={exports:{}},Qr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad;function $P(){if(Ad)return Qr;Ad=1;var e=J,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,f={},v=null,h=null;u!==void 0&&(v=""+u),o.key!==void 0&&(v=""+o.key),o.ref!==void 0&&(h=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(f[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)f[k]===void 0&&(f[k]=o[k]);return{$$typeof:n,type:d,key:v,ref:h,props:f,_owner:i.current}}return Qr.Fragment=r,Qr.jsx=l,Qr.jsxs=l,Qr}Gu.exports=$P();var N=Gu.exports;const LP="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjZweCIgaGVpZ2h0PSIyNnB4IiB2aWV3Qm94PSIwIDAgMjYgMjYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjIgKDU3NTE5KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5oamVscGV0ZWtzdC9pa29uL05vcm1hbCBDb3B5PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggZD0iTTEzLDI2IEM1LjgzMTkxMzA0LDI2IDAsMjAuMTY4MDg3IDAsMTMgQzAsNS44MzE5MTMwNCA1LjgzMTkxMzA0LDAgMTMsMCBDMjAuMTY4MDg3LDAgMjYsNS44MzE5MTMwNCAyNiwxMyBDMjYsMjAuMTY4MDg3IDIwLjE2ODA4NywyNiAxMywyNiBaIE0xMywxLjEzMDQzNDc4IEM2LjQ1NDc4MjYxLDEuMTMwNDM0NzggMS4xMzA0MzQ3OCw2LjQ1NDc4MjYxIDEuMTMwNDM0NzgsMTMgQzEuMTMwNDM0NzgsMTkuNTQ1MjE3NCA2LjQ1NDc4MjYxLDI0Ljg2OTU2NTIgMTMsMjQuODY5NTY1MiBDMTkuNTQ1MjE3NCwyNC44Njk1NjUyIDI0Ljg2OTU2NTIsMTkuNTQ1MjE3NCAyNC44Njk1NjUyLDEzIEMyNC44Njk1NjUyLDYuNDU0NzgyNjEgMTkuNTQ1MjE3NCwxLjEzMDQzNDc4IDEzLDEuMTMwNDM0NzggWiBNMTMsMTcuNTIxNzM5MSBDMTIuNjg4LDE3LjUyMTczOTEgMTIuNDM0NzgyNiwxNy4yNjg1MjE3IDEyLjQzNDc4MjYsMTYuOTU2NTIxNyBMMTIuNDM0NzgyNiwxMy41NjUyMTc0IEMxMi40MzQ3ODI2LDEzLjI1MzIxNzQgMTIuNjg4LDEzIDEzLDEzIEMxNC41NTc3MzkxLDEzIDE1LjgyNjA4NywxMS43MzE2NTIyIDE1LjgyNjA4NywxMC4xNzM5MTMgQzE1LjgyNjA4Nyw4LjYxNjE3MzkxIDE0LjU1NzczOTEsNy4zNDc4MjYwOSAxMyw3LjM0NzgyNjA5IEMxMS40NDIyNjA5LDcuMzQ3ODI2MDkgMTAuMTczOTEzLDguNjE2MTczOTEgMTAuMTczOTEzLDEwLjE3MzkxMyBDMTAuMTczOTEzLDEwLjQ4NTkxMyA5LjkyMDY5NTY1LDEwLjczOTEzMDQgOS42MDg2OTU2NSwxMC43MzkxMzA0IEM5LjI5NjY5NTY1LDEwLjczOTEzMDQgOS4wNDM0NzgyNiwxMC40ODU5MTMgOS4wNDM0NzgyNiwxMC4xNzM5MTMgQzkuMDQzNDc4MjYsNy45OTIxNzM5MSAxMC44MTgyNjA5LDYuMjE3MzkxMyAxMyw2LjIxNzM5MTMgQzE1LjE4MTczOTEsNi4yMTczOTEzIDE2Ljk1NjUyMTcsNy45OTIxNzM5MSAxNi45NTY1MjE3LDEwLjE3MzkxMyBDMTYuOTU2NTIxNywxMi4xNjM0NzgzIDE1LjQ4MDE3MzksMTMuODE1MDQzNSAxMy41NjUyMTc0LDE0LjA5MDg2OTYgTDEzLjU2NTIxNzQsMTYuOTU2NTIxNyBDMTMuNTY1MjE3NCwxNy4yNjg1MjE3IDEzLjMxMiwxNy41MjE3MzkxIDEzLDE3LjUyMTczOTEgWiBNMTMsMjAuOTEzMDQzNSBDMTIuMzc1Njc4MSwyMC45MTMwNDM1IDExLjg2OTU2NTIsMjAuNDA2OTMwNiAxMS44Njk1NjUyLDE5Ljc4MjYwODcgQzExLjg2OTU2NTIsMTkuMTU4Mjg2OCAxMi4zNzU2NzgxLDE4LjY1MjE3MzkgMTMsMTguNjUyMTczOSBDMTMuNjI0MzIxOSwxOC42NTIxNzM5IDE0LjEzMDQzNDgsMTkuMTU4Mjg2OCAxNC4xMzA0MzQ4LDE5Ljc4MjYwODcgQzE0LjEzMDQzNDgsMjAuNDA2OTMwNiAxMy42MjQzMjE5LDIwLjkxMzA0MzUgMTMsMjAuOTEzMDQzNSBaIiBpZD0icGF0aC0xIj48L3BhdGg+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iVXR0YWtzcGVyaW9kZXIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJPdmVybGF5LWZvcmtsYXJpbmciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC05MjEuMDAwMDAwLCAtNTYxLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0idXR0YWstY29weS0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NS4wMDAwMDAsIDQyMi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJoamVscGV0ZWtzdC9pa29uL05vcm1hbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODU2LjAwMDAwMCwgMTM5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJpY29uL2xpbmUvYWxlcnRzLy1oZWxwLWNpcmNsZSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxtYXNrIGlkPSJtYXNrLTIiIGZpbGw9IndoaXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvbWFzaz4KICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSBpZD0iTWFzayIgZmlsbD0iIzAwNjdDNSIgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJY4pqZ77iPLy1pbnRlcmFrc2pvbnNmYXJnZS8taW50ZXJha3Nqb24iIG1hc2s9InVybCgjbWFzay0yKSIgZmlsbD0iIzAwNjdDNSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLTMiIHg9IjAiIHk9IjAiIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=",VP="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjZweCIgaGVpZ2h0PSIyNnB4IiB2aWV3Qm94PSIwIDAgMjYgMjYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjIgKDU3NTE5KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5oamVscGV0ZWtzdC9pa29uL05vcm1hbDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGQ9Ik0xMywwIEMyMC4xNjczMzMzLDAgMjYsNS44MzE1ODMzMyAyNiwxMyBDMjYsMjAuMTY4NDE2NyAyMC4xNjczMzMzLDI2IDEzLDI2IEM1LjgzMTU4MzMzLDI2IDAsMjAuMTY4NDE2NyAwLDEzIEMwLDUuODMxNTgzMzMgNS44MzE1ODMzMywwIDEzLDAgWiBNMTMsMjAuNTgzMzMzMyBDMTMuNTk2OTE2NywyMC41ODMzMzMzIDE0LjA4MzMzMzMsMjAuMDk5MDgzMyAxNC4wODMzMzMzLDE5LjUgQzE0LjA4MzMzMzMsMTguOTAyIDEzLjU5NjkxNjcsMTguNDE2NjY2NyAxMywxOC40MTY2NjY3IEMxMi40MDA5MTY3LDE4LjQxNjY2NjcgMTEuOTE2NjY2NywxOC45MDIgMTEuOTE2NjY2NywxOS41IEMxMS45MTY2NjY3LDIwLjA5OTA4MzMgMTIuNDAwOTE2NywyMC41ODMzMzMzIDEzLDIwLjU4MzMzMzMgWiBNMTMuNTQxNjY2NywxNC4wNDU0MTY3IEMxNS4zNzU3NSwxMy43ODEwODMzIDE2Ljc5MTY2NjcsMTIuMTk4MzMzMyAxNi43OTE2NjY3LDEwLjI5MTY2NjcgQzE2Ljc5MTY2NjcsOC4yMDA4MzMzMyAxNS4wOTA4MzMzLDYuNSAxMyw2LjUgQzEwLjkwODA4MzMsNi41IDkuMjA4MzMzMzMsOC4yMDA4MzMzMyA5LjIwODMzMzMzLDEwLjI5MTY2NjcgQzkuMjA4MzMzMzMsMTAuNTkwNjY2NyA5LjQ1MSwxMC44MzMzMzMzIDkuNzUsMTAuODMzMzMzMyBDMTAuMDQ3OTE2NywxMC44MzMzMzMzIDEwLjI5MTY2NjcsMTAuNTkwNjY2NyAxMC4yOTE2NjY3LDEwLjI5MTY2NjcgQzEwLjI5MTY2NjcsOC43OTc3NSAxMS41MDYwODMzLDcuNTgzMzMzMzMgMTMsNy41ODMzMzMzMyBDMTQuNDkyODMzMyw3LjU4MzMzMzMzIDE1LjcwODMzMzMsOC43OTc3NSAxNS43MDgzMzMzLDEwLjI5MTY2NjcgQzE1LjcwODMzMzMsMTEuNzg1NTgzMyAxNC40OTI4MzMzLDEzIDEzLDEzIEMxMi43MDEsMTMgMTIuNDU4MzMzMywxMy4yNDI2NjY3IDEyLjQ1ODMzMzMsMTMuNTQxNjY2NyBMMTIuNDU4MzMzMywxNi43OTE2NjY3IEMxMi40NTgzMzMzLDE3LjA5MDY2NjcgMTIuNzAxLDE3LjMzMzMzMzMgMTMsMTcuMzMzMzMzMyBDMTMuMjk3OTE2NywxNy4zMzMzMzMzIDEzLjU0MTY2NjcsMTcuMDkwNjY2NyAxMy41NDE2NjY3LDE2Ljc5MTY2NjcgTDEzLjU0MTY2NjcsMTQuMDQ1NDE2NyBaIiBpZD0icGF0aC0xIj48L3BhdGg+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iVXR0YWtzcGVyaW9kZXIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJPdmVybGF5LWZvcmtsYXJpbmciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC05NjcuMDAwMDAwLCAtNTYxLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0idXR0YWstY29weS0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NS4wMDAwMDAsIDQyMi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJoamVscGV0ZWtzdC9pa29uL2hvdmVyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MDIuMDAwMDAwLCAxMzkuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9Imljb24vbGluZS9hbGVydHMvLWhlbHAtY2lyY2xlLWNvcHkiPgogICAgICAgICAgICAgICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgICAgICAgICA8L21hc2s+CiAgICAgICAgICAgICAgICAgICAgICAgIDx1c2UgaWQ9Ik1hc2siIGZpbGw9IiMwMDY3QzUiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iWOKame+4jy8taW50ZXJha3Nqb25zZmFyZ2UvLWludGVyYWtzam9uIiBtYXNrPSJ1cmwoI21hc2stMikiIGZpbGw9IiMwMDY3QzUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS0zIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjYiIGhlaWdodD0iMjYiPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+";var Vs=(e=>(e.BRUK_PERMISJON="BRUK_PERMISJON",e.IKKE_BRUK_PERMISJON="IKKE_BRUK_PERMISJON",e))(Vs||{});const GP="_inline_1gq7u_1",CP="_topPadding_1gq7u_5",zP="_phoneIcon_1gq7u_9",wP="_docIcon_1gq7u_15",gr={inline:GP,topPadding:CP,phoneIcon:zP,docIcon:wP},KP=({saksnummer:e,inntektsmelding:n})=>N.jsxs(N.Fragment,{children:[N.jsx(I,{eightPx:!0}),N.jsxs(se,{children:[N.jsxs(S,{children:[N.jsx(p,{children:N.jsx($,{size:"small",children:N.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Inntektsmelding"})})}),N.jsx(p,{className:gr.topPadding,children:N.jsx(A,{size:"small",children:C(n.inntektPrMnd)})})]}),N.jsx(I,{eightPx:!0}),N.jsxs(S,{children:[N.jsx(p,{children:N.jsx($,{size:"small",children:N.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjon"})})}),N.jsx(p,{className:gr.topPadding,children:N.jsx(A,{size:"small",children:N.jsx(m,{id:n.refusjonPrMnd?"InntektsmeldingOpplysningerPanel.Ja":"InntektsmeldingOpplysningerPanel.Nei"})})})]}),N.jsx(I,{eightPx:!0}),n.refusjonPrMnd&&N.jsxs(N.Fragment,{children:[N.jsxs(S,{children:[N.jsx(p,{children:N.jsx($,{size:"small",children:N.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjonsbeløp"})})}),N.jsx(p,{className:gr.topPadding,children:N.jsx(A,{size:"small",children:C(n.refusjonPrMnd)})})]}),N.jsx(I,{eightPx:!0})]}),N.jsxs(mt,{href:po(e,n.journalpostId,n.dokumentId),target:"_blank",children:[N.jsx("span",{children:N.jsx(A,{size:"small",className:gr.inline,children:N.jsx(m,{id:"InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding"})})}),N.jsx(_o,{className:gr.docIcon})]}),N.jsx(I,{sixteenPx:!0}),N.jsxs(S,{children:[N.jsx(p,{children:N.jsx(Mo,{className:gr.phoneIcon})}),N.jsxs(p,{children:[N.jsx(S,{children:N.jsx(p,{children:N.jsx($,{size:"small",children:N.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Kontaktinfo"})})})}),N.jsx(S,{children:N.jsx(p,{children:N.jsx(me,{size:"small",children:n.kontaktpersonNavn})})}),N.jsx(S,{children:N.jsx(p,{children:N.jsx(me,{size:"small",children:N.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Tlf",values:{nr:n.kontaktpersonNummer}})})})})]})]})]}),N.jsx(I,{thirtyTwoPx:!0})]});var Cu={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var t=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var l=typeof s;if(l==="string"||l==="number")t.push(this&&this[s]||s);else if(Array.isArray(s))t.push(r.apply(this,s));else if(l==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){t.push(s.toString());continue}for(var d in s)n.call(s,d)&&s[d]&&t.push(this&&this[d]||d)}}}return t.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Cu);var YP=Cu.exports;const UP=FP(YP),HP="_boks_kspkv_1",ZP="_aksjonspunkt_kspkv_9",JP="_harBorderTop_kspkv_13",zu={boks:HP,aksjonspunkt:ZP,harBorderTop:JP},WP=UP.bind(zu),QP=({harÅpentAksjonspunkt:e,harBorderTop:n,children:r})=>N.jsx("div",{className:WP(zu.boks,{aksjonspunkt:e,harBorderTop:n}),children:r}),qP="_maanedBredde_pqnhm_1",XP="_aarBredde_pqnhm_5",e_="_belopBredde_pqnhm_9",n_="_inline_pqnhm_13",r_="_arrow_pqnhm_17",ur={maanedBredde:qP,aarBredde:XP,belopBredde:e_,inline:n_,arrow:r_},t_=(e,n)=>{const r=x(e).startOf("month"),t=r.subtract(12,"month"),i=[];for(let s=r;s.isAfter(t);s=s.subtract(1,"month")){const l=s.format(Pe),d=n.find(o=>x(o.fom).startOf("month").format(Pe)===l);i.push({beløp:(d==null?void 0:d.beløp)||0,fom:l})}return i},i_=({inntektsposter:e,skjæringstidspunkt:n})=>{const[r,t]=b.useState(!1),i=b.useMemo(()=>t_(n,e),[e]);return N.jsxs(N.Fragment,{children:[e.length>0&&N.jsxs(N.Fragment,{children:[N.jsx($,{size:"small",children:N.jsx(m,{id:"InntektsposterPanel.Inntekter"})}),N.jsx(se,{children:i.filter((s,l)=>r?!0:l<3).map(s=>N.jsxs(S,{children:[N.jsx(p,{className:ur.maanedBredde,children:N.jsx(A,{size:"small",children:N.jsx(m,{id:`InntektsposterPanel.${x(s.fom).month()+1}`})})}),N.jsx(p,{className:ur.aarBredde,children:N.jsx(A,{size:"small",children:x(s.fom).year()})}),N.jsx(p,{className:ur.belopBredde,children:N.jsx(sn,{children:N.jsx(A,{size:"small",children:C(s.beløp)})})})]},s.fom))}),N.jsxs(mt,{onClick:s=>{s.preventDefault(),t(!r)},href:"",children:[N.jsx("span",{children:N.jsx(A,{size:"small",className:ur.inline,children:N.jsx(m,{id:r?"InntektsposterPanel.FaerreManeder":"InntektsposterPanel.TidligereManeder"})})}),r?N.jsx(Hs,{className:ur.arrow}):N.jsx(Zs,{className:ur.arrow})]})]}),e.length===0&&N.jsx($,{size:"small",children:N.jsx(m,{id:"InntektsposterPanel.IngenInntekt"})})]})},s_="_body_by35r_1",a_="_hjelpetekst_by35r_5",l_="_firstCol_by35r_9",d_="_secCol_by35r_13",o_="_thirdCol_by35r_17",g_="_fourthCol_by35r_21",u_="_topPadding_by35r_25",k_="_image_by35r_29",m_="_hjelpetekstInnhold_by35r_35",c_="_exclamationmarkIcon_by35r_40",f_="_checkmarkIcon_by35r_47",Je={body:s_,hjelpetekst:a_,firstCol:l_,secCol:d_,thirdCol:o_,fourthCol:g_,topPadding:u_,image:k_,hjelpetekstInnhold:m_,exclamationmarkIcon:c_,checkmarkIcon:f_},p_="arbeidsforhold",j_=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent&&(!n.internArbeidsforholdId||n.internArbeidsforholdId===e.internArbeidsforholdId),v_=e=>{const n=Math.ceil(e.length/25),r=Array.from({length:n},(t,i)=>e.slice(i*25,i*25+25));return N.jsx("p",{children:r.join("-")})},b_=({index:e,fieldId:n,saksnummer:r,sorterteArbeidsforhold:t,arbeidOgInntekt:i,arbeidsgiverOpplysningerPerId:s,isReadOnly:l,harÅpentAksjonspunkt:d,skjæringstidspunkt:o,alleKodeverk:u})=>{var k;const f=q(),{inntektsmeldinger:v,inntekter:h}=i,T=t[e],E=v.find(U=>j_(T,U)),P=(k=h.find(U=>U.arbeidsgiverIdent===T.arbeidsgiverIdent))==null?void 0:k.inntekter,y=t.filter(U=>U.arbeidsgiverIdent===T.arbeidsgiverIdent).length>1,B=s[T.arbeidsgiverIdent],M=b.useRef(null),[F,O]=b.useState(!1),L=b.useCallback(()=>O(U=>!U),[]);return N.jsx(QP,{harÅpentAksjonspunkt:d,harBorderTop:e===0,children:N.jsx(se,{children:N.jsxs(S,{children:[N.jsxs(p,{children:[!d&&N.jsx(lo,{title:f.formatMessage({id:"ArbeidsforholdFieldArray.Ok"}),className:Je.checkmarkIcon}),d&&N.jsx(Sr,{title:f.formatMessage({id:"ArbeidsforholdFieldArray.Aksjonspunkt"}),className:Je.exclamationmarkIcon})]}),N.jsxs(p,{className:Je.body,children:[N.jsxs(se,{children:[N.jsxs(S,{children:[N.jsxs(p,{className:Je.firstCol,children:[N.jsx($,{size:"small",children:B.navn}),T.arbeidsgiverIdent&&N.jsxs(me,{size:"small",children:["(",B.erPrivatPerson?N.jsx(Re,{dateString:B.fødselsdato}):T.arbeidsgiverIdent,")"]})]}),N.jsxs(p,{className:Je.secCol,children:[N.jsx($,{size:"small",children:N.jsx(m,{id:"ArbeidsforholdFieldArray.Periode"})}),N.jsxs(A,{size:"small",children:[T&&N.jsx(Ye,{dateStringFom:T.fom,dateStringTom:T.tom!==Ce?T.tom:void 0}),!T&&"-"]})]}),N.jsxs(p,{className:Je.thirdCol,children:[N.jsx($,{size:"small",children:N.jsx(m,{id:"ArbeidsforholdFieldArray.Kilde"})}),N.jsx(A,{size:"small",children:N.jsx(m,{id:T?"ArbeidsforholdFieldArray.AaRegisteret":"ArbeidsforholdFieldArray.Inntektsmelding"})})]}),N.jsxs(p,{className:Je.fourthCol,children:[N.jsx($,{size:"small",children:N.jsx(m,{id:"ArbeidsforholdFieldArray.InntektsmeldingMottatt"})}),N.jsxs(A,{size:"small",children:[(E==null?void 0:E.motattDato)&&N.jsx(Re,{dateString:E.motattDato}),!(E!=null&&E.motattDato)&&N.jsx(m,{id:"ArbeidsforholdFieldArray.IkkeMottatt"})]})]})]}),N.jsx(I,{sixteenPx:!0}),N.jsxs(S,{children:[N.jsxs(p,{className:Je.firstCol,children:[y&&N.jsxs(N.Fragment,{children:[N.jsxs(S,{children:[N.jsx(p,{children:N.jsx($,{size:"small",children:N.jsx(m,{id:"ArbeidsforholdFieldArray.Id"})})}),N.jsxs(p,{className:Je.topPadding,children:[T.eksternArbeidsforholdId.length<50&&N.jsx(A,{size:"small",children:T.eksternArbeidsforholdId}),T.eksternArbeidsforholdId.length>=50&&N.jsx(oo,{content:v_(T.eksternArbeidsforholdId),alignBottom:!0,children:N.jsx(A,{size:"small",children:`${T.eksternArbeidsforholdId.substring(0,50)}...`})})]})]}),N.jsx(I,{eightPx:!0})]}),T.stillingsprosent&&N.jsxs(N.Fragment,{children:[N.jsxs(S,{children:[N.jsx(p,{children:N.jsx($,{size:"small",children:N.jsx(m,{id:"ArbeidsforholdFieldArray.Stillingsprosent"})})}),N.jsx(p,{className:Je.topPadding,children:N.jsx(A,{size:"small",children:`${T.stillingsprosent}%`})})]}),N.jsx(I,{eightPx:!0})]}),E&&N.jsx(KP,{saksnummer:r,inntektsmelding:E}),!E&&P&&N.jsxs(N.Fragment,{children:[N.jsx(I,{thirtyTwoPx:!0}),N.jsx(i_,{inntektsposter:P,skjæringstidspunkt:o}),N.jsx(I,{thirtyTwoPx:!0})]})]}),N.jsxs(p,{children:[N.jsx($,{size:"small",children:`${ii(u,En.PERMISJONSBESKRIVELSE_TYPE,T.permisjonOgMangel.type)} 100%`}),N.jsx(A,{size:"small",children:N.jsx(Ye,{dateStringFom:T.permisjonOgMangel.permisjonFom,dateStringTom:void 0})})]})]})]}),N.jsx(Ne,{name:`${p_}.${e}.permisjonStatus`,label:N.jsx(se,{children:N.jsxs(S,{children:[N.jsx(p,{children:N.jsx(m,{id:"ArbeidsforholdFieldArray.SkalArbeidsforholdetTasMed"})}),N.jsxs(p,{children:[N.jsx(hr,{src:LP,srcHover:VP,ref:M,onClick:L,onKeyDown:L,tabIndex:0,alt:f.formatMessage({id:"ArbeidsforholdFieldArray.AltHjelpetekst"}),className:Je.image}),N.jsx(Ir,{open:F,onClose:L,anchorEl:M.current,className:Je.hjelpetekst,children:N.jsxs(Ir.Content,{className:Je.hjelpetekstInnhold,children:[N.jsx(A,{children:N.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel1"})}),N.jsx(I,{eightPx:!0}),N.jsx(A,{children:N.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel2"})}),N.jsx(I,{eightPx:!0}),N.jsx(A,{children:N.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel3"})}),N.jsx(I,{eightPx:!0}),N.jsx(A,{children:N.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel4"})})]})})]})]})}),validate:[Q],isReadOnly:l,radios:[{label:f.formatMessage({id:E?"ArbeidsforholdFieldArray.TaMedArbeidsforhold":"ArbeidsforholdFieldArray.TaMedArbeidsforholdIkkeInntektsmelding"}),value:Vs.IKKE_BRUK_PERMISJON},{label:f.formatMessage({id:"ArbeidsforholdFieldArray.IkkeTaMedArbeidsforhold"}),value:Vs.BRUK_PERMISJON}]}),N.jsx(I,{fourPx:!0})]})]})})},n)},h_="arbeidsforhold",I_=({saksnummer:e,sorterteArbeidsforhold:n,arbeidOgInntekt:r,arbeidsgiverOpplysningerPerId:t,isReadOnly:i,harÅpentAksjonspunkt:s,skjæringstidspunkt:l,alleKodeverk:d})=>{const{control:o}=Se(),{fields:u}=ln({control:o,name:h_});return N.jsx(N.Fragment,{children:u.map((k,f)=>N.jsx(b_,{fieldId:k.id,index:f,saksnummer:e,sorterteArbeidsforhold:n,arbeidOgInntekt:r,arbeidsgiverOpplysningerPerId:t,isReadOnly:i,harÅpentAksjonspunkt:s,skjæringstidspunkt:l,alleKodeverk:d},k.id))})},A_=pn(3),x_=jn(1500),T_=e=>(n,r)=>e[n.arbeidsgiverIdent].navn.localeCompare(e[r.arbeidsgiverIdent].navn),N_=({saksnummer:e,aksjonspunkter:n,readOnly:r,arbeidOgInntekt:t,arbeidsgiverOpplysningerPerId:i,formData:s,setFormData:l,lagreCallback:d,alleKodeverk:o})=>{const u=b.useMemo(()=>({inntektsmeldinger:t.inntektsmeldinger,arbeidsforhold:t.arbeidsforhold.filter(E=>{var P;return(P=E.permisjonOgMangel)==null?void 0:P.årsak}),inntekter:t.inntekter,skjæringstidspunkt:t.skjæringstidspunkt}),[t]),{arbeidsforhold:k}=u,f=b.useMemo(()=>[...k].sort(T_(i)),[k,i]),v=b.useMemo(()=>({arbeidsforhold:f.map(E=>({permisjonStatus:E.permisjonOgMangel.permisjonStatus})),begrunnelse:n[0].begrunnelse}),[f]),h=He({defaultValues:s||v});b.useEffect(()=>()=>{l(void 0)},[]);const T=n.some(E=>E.status===Jn.OPPRETTET);return N.jsxs(N.Fragment,{children:[N.jsx(se,{children:N.jsxs(S,{spaceBetween:!0,children:[N.jsx(p,{children:N.jsx(je,{size:"small",children:N.jsx(m,{id:"PermisjonFaktaPanel.Overskrift"})})}),N.jsx(p,{children:N.jsx(A,{size:"small",children:N.jsx(m,{id:"PermisjonFaktaPanel.Skjaringstidspunkt",values:{skjæringspunktDato:$e(u.skjæringstidspunkt)}})})})]})}),N.jsx(I,{thirtyTwoPx:!0}),T&&N.jsx(hi,{children:N.jsx(m,{id:"PermisjonFaktaPanel.PermisjonUtenSluttdato"})}),N.jsx(I,{thirtyTwoPx:!0}),N.jsxs(Ze,{formMethods:h,onSubmit:E=>d({kode:ae.VURDER_ARBEIDSFORHOLD_PERMISJON,arbeidsforhold:E.arbeidsforhold.map((P,y)=>({internArbeidsforholdId:f[y].internArbeidsforholdId,arbeidsgiverIdent:f[y].arbeidsgiverIdent,permisjonStatus:P.permisjonStatus})),begrunnelse:E.begrunnelse}),children:[N.jsx(I_,{saksnummer:e,sorterteArbeidsforhold:f,arbeidOgInntekt:u,arbeidsgiverOpplysningerPerId:i,isReadOnly:r,harÅpentAksjonspunkt:T,skjæringstidspunkt:u.skjæringstidspunkt,alleKodeverk:o}),N.jsx(I,{thirtyTwoPx:!0}),N.jsx(Xe,{label:N.jsx($,{size:"small",children:N.jsx(m,{id:"PermisjonFaktaPanel.Begrunn"})}),name:"begrunnelse",validate:[Q,A_,x_,fn],maxLength:1500,readOnly:r}),N.jsx(I,{sixteenPx:!0}),!r&&N.jsx(ie,{size:"small",variant:"primary",disabled:!h.formState.isDirty||h.formState.isSubmitting,loading:h.formState.isSubmitting,children:N.jsx(m,{id:"PermisjonFaktaPanel.Bekreft"})})]})]})},E_={"PermisjonFaktaPanel.Overskrift":"Fakta om permisjon","PermisjonFaktaPanel.Arbeidsforhold":"Arbeidsforhold","PermisjonFaktaPanel.Skjaringstidspunkt":"Skjæringstidspunkt for opptjening: {skjæringspunktDato}","PermisjonFaktaPanel.Bekreft":"Bekreft og fortsett","PermisjonFaktaPanel.PermisjonUtenSluttdato":"Vi fant en permisjon uten sluttdato. Vurder om arbeidsforholdet skal tas med.","PermisjonFaktaPanel.Begrunn":"Begrunn valget","ArbeidsforholdFieldArray.Periode":"Periode","ArbeidsforholdFieldArray.Kilde":"Kilde","ArbeidsforholdFieldArray.InntektsmeldingMottatt":"Inntektsmelding","ArbeidsforholdFieldArray.Saksbehandler":"Saksbehandler","ArbeidsforholdFieldArray.AaRegisteret":"A-inntekt","ArbeidsforholdFieldArray.Inntektsmelding":"Inntektsmelding","ArbeidsforholdFieldArray.Aksjonspunkt":"Åpent aksjonspunkt","ArbeidsforholdFieldArray.Ok":"Arbeidsforhold er OK","ArbeidsforholdFieldArray.HjelpetekstDel1":"Søker er registrert med permisjon eller permittering uten sluttdato fra arbeidsforholdet sitt i AA-reg. Vurder om dette arbeidsforholdet skal være med i beregningen. Dersom det fjernes vil det bli borte fra beregningen og eventuell mottatt inntektsmelding vil ikke brukes. Tas det med, vil det brukes i beregningen og bli med videre i behandlingen.","ArbeidsforholdFieldArray.HjelpetekstDel2":"Dersom arbeidsforholdet tas med og det trengs inntektsmelding, må dette innhentes.","ArbeidsforholdFieldArray.HjelpetekstDel3":"Permisjoner eller permitteringer med en sluttdato tas automatisk med. Du trenger ikke etterspørre inntektsmeldinger.","ArbeidsforholdFieldArray.HjelpetekstDel4":"Mottas det inntektsmelding med refusjonskrav vil denne brukes i behandlingen.","ArbeidsforholdFieldArray.Id":"ID","ArbeidsforholdFieldArray.Stillingsprosent":"Stillingsprosent","ArbeidsforholdFieldArray.SkalArbeidsforholdetTasMed":"Skal arbeidsforholdet tas med?","ArbeidsforholdFieldArray.TaMedArbeidsforhold":"Fjern permisjonen og ta med arbeidsforholdet","ArbeidsforholdFieldArray.TaMedArbeidsforholdIkkeInntektsmelding":"Fjern permisjonen og ta med arbeidsforholdet. Vurder om inntektsmelding må innhentes","ArbeidsforholdFieldArray.IkkeTaMedArbeidsforhold":"Ikke ta med arbeidsforholdet","ArbeidsforholdFieldArray.IkkeMottatt":"Ikke mottatt","ArbeidsforholdFieldArray.AltHjelpetekst":"Hjelpetekst","InntektsmeldingOpplysningerPanel.Inntektsmelding":"Inntektsmelding","InntektsmeldingOpplysningerPanel.Refusjon":"Refusjon","InntektsmeldingOpplysningerPanel.Ja":"Ja","InntektsmeldingOpplysningerPanel.Nei":"Nei","InntektsmeldingOpplysningerPanel.Refusjonsbeløp":"Refusjonsbeløp","InntektsmeldingOpplysningerPanel.Kontaktinfo":"Kontaktinfo","InntektsmeldingOpplysningerPanel.Tlf":"Tlf. {nr}","InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding":"Åpne inntektsmelding (PDF)","InntektsposterPanel.Inntekter":"Inntekter (fra A-inntekt)","InntektsposterPanel.1":"Jan","InntektsposterPanel.2":"Feb","InntektsposterPanel.3":"Mars","InntektsposterPanel.4":"Apr","InntektsposterPanel.5":"Mai","InntektsposterPanel.6":"Jun","InntektsposterPanel.7":"Jul","InntektsposterPanel.8":"Aug","InntektsposterPanel.9":"Sep","InntektsposterPanel.10":"Okt","InntektsposterPanel.11":"Nov","InntektsposterPanel.12":"Des","InntektsposterPanel.TidligereManeder":"Tidligere måneder ","InntektsposterPanel.FaerreManeder":"Siste måneder ","InntektsposterPanel.IngenInntekt":"Ingen inntekt registrert på bruker i A-inntekt"},y_=Ve(E_),wu=({saksnummer:e,submitCallback:n,aksjonspunkter:r,readOnly:t,formData:i,setFormData:s,arbeidOgInntekt:l,arbeidsgiverOpplysningerPerId:d,alleKodeverk:o})=>N.jsx(Qe,{value:y_,children:N.jsx(N_,{saksnummer:e,aksjonspunkter:r,readOnly:t,formData:i,lagreCallback:n,setFormData:s,arbeidOgInntekt:l,arbeidsgiverOpplysningerPerId:d,alleKodeverk:o})});wu.__docgenInfo={description:"",methods:[],displayName:"At"};const xd=[ae.VURDER_ARBEIDSFORHOLD_PERMISJON],S_=[Ke.ARBEID_OG_INNTEKT],Td=({saksnummer:e,arbeidsgiverOpplysningerPerId:n,...r})=>_e.jsx(Mr,{...r,panelEndepunkter:S_,aksjonspunktKoder:xd,faktaPanelKode:Pr.PERMISJON,faktaPanelMenyTekst:q().formatMessage({id:"PermisjonFaktaInitPanel.Title"}),skalPanelVisesIMeny:()=>!!r.behandling.aksjonspunkt.some(t=>t.definisjon===xd[0]),renderPanel:t=>_e.jsx(wu,{saksnummer:e,arbeidsgiverOpplysningerPerId:n,...t})});try{Td.displayName="PermisjonFaktaInitPanel",Td.__docgenInfo={description:"",displayName:"PermisjonFaktaInitPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}var Ku={exports:{}},qr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd;function P_(){if(Nd)return qr;Nd=1;var e=J,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,f={},v=null,h=null;u!==void 0&&(v=""+u),o.key!==void 0&&(v=""+o.key),o.ref!==void 0&&(h=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(f[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)f[k]===void 0&&(f[k]=o[k]);return{$$typeof:n,type:d,key:v,ref:h,props:f,_owner:i.current}}return qr.Fragment=r,qr.jsx=l,qr.jsxs=l,qr}Ku.exports=P_();var Y=Ku.exports;const On={BEKREFTET_GODKJENT:"BEKREFTET_GODKJENT",BEKREFTET_AVVIST:"BEKREFTET_AVVIST",ANTATT_GODKJENT:"ANTATT_GODKJENT",ANTATT_AVVIST:"ANTATT_AVVIST"},__="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQzLjIgKDM5MDY5KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5jaGVjazwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJTeW1ib2xzIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iY2hlY2siIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0iIzA2ODkzQSI+CiAgICAgICAgICAgIDxnIGlkPSJjaGVjay0xIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJGaWxsZWRfVmVyc2lvbiI+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE1LjcxNzMzMzMsMC4xMjIgQzE1LjQxNiwtMC4wOTA2NjY2NjY3IDE1LjAwMDY2NjcsLTAuMDE4NjY2NjY2NyAxNC43ODg2NjY3LDAuMjgyNjY2NjY3IEw0LjkxMTMzMzMzLDE0LjMwMiBMMS4xMzgsMTAuNTI5MzMzMyBDMC44NzgsMTAuMjY4NjY2NyAwLjQ1NTMzMzMzMywxMC4yNjg2NjY3IDAuMTk1MzMzMzMzLDEwLjUyOTMzMzMgQy0wLjA2NTMzMzMzMzMsMTAuNzkwNjY2NyAtMC4wNjUzMzMzMzMzLDExLjIxMiAwLjE5NTMzMzMzMywxMS40NzIgTDQuNTI4NjY2NjcsMTUuODA1MzMzMyBDNC42NTQsMTUuOTMwNjY2NyA0LjgyNCwxNiA1LDE2IEM1LjIxMiwxNiA1LjQxOCwxNS44OTggNS41NDQ2NjY2NywxNS43MTczMzMzIEwxNS44NzgsMS4wNTA2NjY2NyBDMTYuMDksMC43NSAxNi4wMTgsMC4zMzMzMzMzMzMgMTUuNzE3MzMzMywwLjEyMiBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",M_="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMHB4IiB2aWV3Qm94PSIwIDAgMTIgMTAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ0LjEgKDQxNDU1KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BZGQgQ29weTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJSZWdpc3RyZXJlLXPDuGtuYWQtb2ctdmVyZ2UiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiPgogICAgICAgIDxnIGlkPSJSZWdpc3RyZXItc8O4a25hZC1pbm5oZW50LWluZm8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMTEuMDAwMDAwLCAtNTI4LjAwMDAwMCkiIHN0cm9rZT0iI0JBM0EyNiI+CiAgICAgICAgICAgIDxnIGlkPSJPcHBob2xkLWktTm9yZ2UiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY1LjAwMDAwMCwgMjYzLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9IkxlZ2ctdGlsIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMi4wMDAwMDAsIDI1OC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iRGVsZXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTIuMDAwMDAwLCA0LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOC4yNDY3NzY3MSwwLjkzMzIzOTY5MiBMNy43NTMyMjMyOSwxNS4wNjY3NjAzIiBpZD0iTGluZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC4wMDAwMDAsIDguMDAwMDAwKSByb3RhdGUoNDMuMDAwMDAwKSB0cmFuc2xhdGUoLTguMDAwMDAwLCAtOC4wMDAwMDApICI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUuMDY2NzYwMyw4LjI0Njc3NjcxIEwwLjkzMzIzOTY5Miw3Ljc1MzIyMzI5IiBpZD0iTGluZS1Db3B5LTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDguMDAwMDAwLCA4LjAwMDAwMCkgcm90YXRlKDQzLjAwMDAwMCkgdHJhbnNsYXRlKC04LjAwMDAwMCwgLTguMDAwMDAwKSAiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo=",R_="_image_1jqlq_1",O_="_margin_1jqlq_5",D_="_fix_1jqlq_9",Cn={image:R_,margin:O_,fix:D_},B_="MELLOMLIGGENDE_PERIODE",F_=e=>e===On.BEKREFTET_AVVIST||e===On.ANTATT_AVVIST?"OpptjeningVilkarView.Avslatt":"OpptjeningVilkarView.Godkjent",Ed=e=>e===On.BEKREFTET_GODKJENT||e===On.ANTATT_GODKJENT||e===B_,$_=({fastsattOpptjeningAktivitet:e,lukkPeriode:n,velgNestePeriode:r,velgForrigePeriode:t})=>{const i=q();return Y.jsxs(Ws,{border:!0,children:[Y.jsx(se,{children:Y.jsxs(S,{spaceBetween:!0,children:[Y.jsx(p,{children:Y.jsx($,{size:"small",children:Y.jsx(m,{id:"OpptjeningVilkarView.DetailsForSelectedPeriod"})})}),Y.jsxs(p,{className:Cn.fix,children:[Y.jsx(ie,{className:Cn.margin,size:"xsmall",icon:Y.jsx(Ei,{"aria-hidden":!0}),onClick:t,variant:"secondary-neutral",type:"button",title:i.formatMessage({id:"TimeLineData.prevPeriod"}),children:Y.jsx(m,{id:"TimeLineData.prevPeriodShort"})}),Y.jsx(ie,{className:Cn.margin,size:"xsmall",icon:Y.jsx(yi,{"aria-hidden":!0}),onClick:r,variant:"secondary-neutral",type:"button",title:i.formatMessage({id:"TimeLineData.nextPeriod"}),iconPosition:"right",children:Y.jsx(m,{id:"TimeLineData.nextPeriodShort"})}),Y.jsx(ie,{size:"xsmall",icon:Y.jsx(_r,{"aria-hidden":!0}),onClick:n,variant:"tertiary-neutral",type:"button",title:i.formatMessage({id:"TimeLineData.lukkPeriode"})})]})]})}),Y.jsx(I,{sixteenPx:!0}),Y.jsx(A,{size:"small",children:Y.jsx(Ye,{dateStringFom:e.fom,dateStringTom:e.tom})}),Y.jsx(I,{sixteenPx:!0}),Ed(e.klasse)&&Y.jsx("span",{className:Cn.image,children:Y.jsx(hr,{src:__,className:Cn.image})}),!Ed(e.klasse)&&Y.jsx("span",{className:Cn.image,children:Y.jsx(hr,{src:M_,className:Cn.image})}),Y.jsx(m,{id:F_(e.klasse)})]})},L_={danger:Y.jsx(ho,{}),success:Y.jsx(Xs,{}),info:Y.jsx(Em,{})},V_=e=>e===On.BEKREFTET_AVVIST||e===On.ANTATT_AVVIST?"danger":e===On.BEKREFTET_GODKJENT||e===On.ANTATT_GODKJENT?"success":"info",G_=e=>e.map(n=>({start:x(n.fom).toDate(),end:x(n.tom).toDate(),status:V_(n.klasse),opptjeningsperiode:n})),C_=e=>e==="info"?"OpptjeningTimeLineLight.MellomliggendePeriode":e==="success"?"OpptjeningTimeLineLight.Godkjent":"OpptjeningTimeLineLight.Avslatt",z_=({opptjeningPeriods:e,opptjeningFomDate:n,opptjeningTomDate:r})=>{const t=q(),i=b.useMemo(()=>[...e].sort((v,h)=>x(v.fom).diff(x(h.fom))),[e]),s=b.useMemo(()=>G_(i),[i]),[l,d]=b.useState(),o=v=>{const h=s.find(T=>{var E;return((E=T.opptjeningsperiode)==null?void 0:E.fom)===v});h&&d(h)},u=b.useCallback(()=>{d(void 0)},[]),k=b.useCallback(()=>{if(s){const v=s.findIndex(h=>{var T,E;return((T=h.opptjeningsperiode)==null?void 0:T.fom)===((E=l==null?void 0:l.opptjeningsperiode)==null?void 0:E.fom)})+1;v<s.length&&d(s[v])}},[s,l,d]),f=b.useCallback(()=>{if(s){const v=s.findIndex(h=>{var T,E;return((T=h.opptjeningsperiode)==null?void 0:T.fom)===((E=l==null?void 0:l.opptjeningsperiode)==null?void 0:E.fom)})-1;v>=0&&d(s[v])}},[s,l,d]);return Y.jsxs(Y.Fragment,{children:[Y.jsx(I,{twentyPx:!0}),Y.jsxs(Fe,{startDate:x(n).subtract(1,"months").toDate(),endDate:x(r).add(10,"days").toDate(),children:[Y.jsxs(Fe.Pin,{date:x(n).toDate(),children:[Y.jsx($,{size:"small",children:Y.jsx(m,{id:"OpptjeningTimeLineLight.StartDato"})}),Y.jsx(A,{size:"small",children:Y.jsx(Re,{dateString:n})})]}),Y.jsxs(Fe.Pin,{date:x(r).toDate(),children:[Y.jsx($,{size:"small",children:Y.jsx(m,{id:"OpptjeningTimeLineLight.SluttDato"})}),Y.jsx(A,{size:"small",children:Y.jsx(Re,{dateString:r})})]}),Y.jsx(Fe.Row,{label:"",children:s.map(v=>{var h,T,E;return Y.jsx(Fe.Period,{start:v.start,end:v.end,status:v.status,onSelectPeriod:()=>{var P;return o((P=v.opptjeningsperiode)==null?void 0:P.fom)},isActive:((h=l==null?void 0:l.opptjeningsperiode)==null?void 0:h.fom)===((T=v.opptjeningsperiode)==null?void 0:T.fom),icon:L_[v.status],title:t.formatMessage({id:C_(v.status)})},(E=v.opptjeningsperiode)==null?void 0:E.fom)})})]}),Y.jsx(I,{sixteenPx:!0}),(l==null?void 0:l.opptjeningsperiode)&&Y.jsx($_,{fastsattOpptjeningAktivitet:l.opptjeningsperiode,lukkPeriode:u,velgNestePeriode:k,velgForrigePeriode:f})]})},Yu=({months:e,days:n,fastsattOpptjeningActivities:r=[],opptjeningFomDate:t,opptjeningTomDate:i})=>Y.jsxs(Y.Fragment,{children:[Y.jsx(A,{size:"small",children:Y.jsx(m,{id:"OpptjeningVilkarView.MonthsAndDays",values:{months:e,days:n}})}),Y.jsx(I,{eightPx:!0}),Y.jsx(A,{size:"small",children:Y.jsx(Ye,{dateStringFom:t,dateStringTom:i})}),Y.jsx(I,{sixteenPx:!0}),r.length>0&&Y.jsx(z_,{opptjeningPeriods:r,opptjeningFomDate:t,opptjeningTomDate:i})]}),w_=(e,n,r)=>({...ta.buildInitialValues(e,n,r),...Rr.buildInitialValues(e)}),K_=e=>({...ta.transformValues(e),...Rr.transformValues(e),kode:ae.VURDER_OPPTJENINGSVILKARET}),Y_=({isApOpen:e,readOnlySubmitButton:n,readOnly:r,lovReferanse:t,aksjonspunkter:i,behandlingsresultat:s,status:l,fastsattOpptjening:d,submitCallback:o,erIkkeGodkjentAvBeslutter:u,formData:k,setFormData:f,erSvpFagsak:v})=>{const h=q(),T=b.useMemo(()=>w_(i,l,s),[s,i,l]),E=He({defaultValues:k||T}),P=i.some(O=>O.status===Jn.OPPRETTET)?void 0:Io.OPPFYLT===l,y=b.useCallback(O=>o(K_(O)),[o]),B=b.useCallback((...O)=>Y.jsx("b",{children:O}),[]),M=b.useCallback(O=>{var L;return((L=d.fastsattOpptjeningAktivitetList)==null?void 0:L.length)===0&&O===!0?h.formatMessage({id:"OpptjeningVilkarAksjonspunktPanel.KanIkkeVelgeOppfylt"}):null},[]),F=b.useCallback(()=>Y.jsxs(Y.Fragment,{children:[Y.jsx(I,{sixteenPx:!0}),Y.jsx(Yu,{months:d.opptjeningperiode.måneder,days:d.opptjeningperiode.dager,fastsattOpptjeningActivities:d.fastsattOpptjeningAktivitetList,opptjeningFomDate:d.opptjeningFom,opptjeningTomDate:d.opptjeningTom})]}),[d]);return Y.jsx(Ze,{formMethods:E,onSubmit:y,setDataOnUnmount:f,children:Y.jsxs(km,{title:h.formatMessage({id:"OpptjeningVilkarAksjonspunktPanel.Opptjeningsvilkaret"}),isAksjonspunktOpen:e,readOnlySubmitButton:n,readOnly:r,lovReferanse:t,originalErVilkarOk:P,erIkkeGodkjentAvBeslutter:u,isDirty:E.formState.isDirty,isSubmitting:E.formState.isSubmitting,rendreFakta:F,children:[Y.jsx($,{size:"small",children:Y.jsx(m,{id:v?"OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilSvangerskapspenger":"OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilForeldrepenger"})}),Y.jsx(ta,{readOnly:r,customVilkarOppfyltText:Y.jsx(m,{id:v?"OpptjeningVilkarAksjonspunktPanel.ErOppfyltSvp":"OpptjeningVilkarAksjonspunktPanel.ErOppfylt"}),customVilkarIkkeOppfyltText:Y.jsx(m,{id:v?"OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfyltSvp":"OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfylt",values:{b:B}}),validatorsForRadioOptions:[M]}),Y.jsx(I,{sixteenPx:!0}),Y.jsx(Rr,{readOnly:r})]})})},U_=({behandlingsresultat:e,fastsattOpptjening:n,isAksjonspunktOpen:r,aksjonspunkter:t,status:i,lovReferanse:s,readOnlySubmitButton:l,readOnly:d,submitCallback:o,erIkkeGodkjentAvBeslutter:u,formData:k,setFormData:f,erSvpFagsak:v})=>t.length>0?Y.jsx(Y_,{submitCallback:o,isApOpen:r,readOnly:d,readOnlySubmitButton:l,behandlingsresultat:e,aksjonspunkter:t,status:i,lovReferanse:s,fastsattOpptjening:n,erIkkeGodkjentAvBeslutter:u,formData:k,setFormData:f,erSvpFagsak:v}):Y.jsx(Yu,{months:n.opptjeningperiode.måneder,days:n.opptjeningperiode.dager,fastsattOpptjeningActivities:n.fastsattOpptjeningAktivitetList,opptjeningFomDate:n.opptjeningFom,opptjeningTomDate:n.opptjeningTom}),H_={"OpptjeningVilkarView.Oppfylt":"Vilkåret er oppfylt","OpptjeningVilkarView.Godkjent":"Godkjent","OpptjeningVilkarView.Avslatt":"Avslått","OpptjeningVilkarView.Months":"måneder","OpptjeningVilkarView.Weeks":"uker","OpptjeningVilkarView.Days":"dager","OpptjeningVilkarView.MonthsAndDays":"{months} måneder og {days} dager aktivitet i opptjeningsperioden","OpptjeningVilkarView.DetailsForSelectedPeriod":"Detaljer for valgt periode","OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilForeldrepenger":"Opptjent rett til foreldrepenger","OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilSvangerskapspenger":"Opptjent rett til svangerskapspenger","OpptjeningVilkarAksjonspunktPanel.ErOppfylt":"Søker har oppfylt krav om 6 mnd opptjening, vilkåret er oppfylt.","OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfylt":"Søker har ikke oppfylt krav om 6 mnd opptjening, vilkåret er <b>ikke</b> oppfylt.","OpptjeningVilkarAksjonspunktPanel.ErOppfyltSvp":"Søker har oppfylt krav om 4 uker opptjening, vilkåret er oppfylt.","OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfyltSvp":"Søker har ikke oppfylt krav om 4 uker mnd opptjening, vilkåret er <b>ikke</b> oppfylt.","OpptjeningVilkarAksjonspunktPanel.Opptjeningsvilkaret":"Opptjening","OpptjeningVilkarAksjonspunktPanel.KanIkkeVelgeOppfylt":"Du kan ikke velge at opptjeningsvilkåret er oppfylt, fordi det ikke finnes noen aktiviteter å beregne inntekten fra. Kontakt bruker for å avklare om bruker har noen opptjening.","OpptjeningTimeLineLight.StartDato":"Start opptjeningsperiode","OpptjeningTimeLineLight.SluttDato":"Slutt opptjeningsperiode","OpptjeningTimeLineLight.MellomliggendePeriode":"Mellomliggende periode","OpptjeningTimeLineLight.Godkjent":"Godkjent","OpptjeningTimeLineLight.Avslatt":"Avslått","TimeLineNavigation.openData":"Åpne info om første periode","TimeLineData.nextPeriod":"Neste periode","TimeLineData.prevPeriod":"Forrige periode","Timeline.openData":"Åpne info om første periode","TimeLineData.lukkPeriode":"Lukk periode","TimeLineData.nextPeriodShort":"Neste","TimeLineData.prevPeriodShort":"Forrige","ShowVilkarStatus.Check":"Informasjonen er utfylt"},Z_=Ve(H_),J_=({behandling:e,opptjening:n,aksjonspunkter:r,status:t,lovReferanse:i,submitCallback:s,isReadOnly:l,isAksjonspunktOpen:d,readOnlySubmitButton:o,alleMerknaderFraBeslutter:u,formData:k,setFormData:f,erSvpFagsak:v=!1})=>Y.jsx(Qe,{value:Z_,children:Y.jsx(U_,{behandlingsresultat:e.behandlingsresultat,fastsattOpptjening:n.fastsattOpptjening,status:t,lovReferanse:i,aksjonspunkter:r,submitCallback:s,readOnly:l,isAksjonspunktOpen:d,readOnlySubmitButton:o,erIkkeGodkjentAvBeslutter:r.some(h=>{var T;return(T=u[h.definisjon])==null?void 0:T.notAccepted}),formData:k,setFormData:f,erSvpFagsak:v})});J_.__docgenInfo={description:"",methods:[],displayName:"Ct",props:{erSvpFagsak:{defaultValue:{value:"!1",computed:!1},required:!1}}};const yd=ae.OVERSTYR_LØPENDE_MEDLEMSKAPSVILKAR,ms=[Qn.MEDLEMSKAPSVILKÅRET_LØPENDE],Sd=({rettigheter:e,...n})=>{const{behandling:r}=n,[t,i]=b.useState(!1),s=b.useCallback(()=>i(!t),[t]);return b.useEffect(()=>{i(!1)},[r.versjon]),_e.jsx(ia,{...n,aksjonspunktKoder:[yd],vilkarKoder:ms,prosessPanelKode:ea.FORTSATTMEDLEMSKAP,prosessPanelMenyTekst:q().formatMessage({id:"Behandlingspunkt.FortsattMedlemskap"}),skalPanelVisesIMeny:l=>Po(l.aksjonspunkter,ms,l.vilkar),erOverstyrt:t,renderPanel:l=>_e.jsx(mm,{aksjonspunkter:l==null?void 0:l.aksjonspunkter,aksjonspunktKode:yd,vilkar:l.vilkar,vilkarKoder:ms,panelTekstKode:"Behandlingspunkt.FortsattMedlemskap",erMedlemskapsPanel:!1,toggleOverstyring:s,erOverstyrt:t,overrideReadOnly:l.isReadOnly,kanOverstyreAccess:e.kanOverstyreAccess})})};try{Sd.displayName="FortsattMedlemskapProsessStegInitPanel",Sd.__docgenInfo={description:"",displayName:"FortsattMedlemskapProsessStegInitPanel",props:{rettigheter:{defaultValue:null,description:"",name:"rettigheter",required:!0,type:{name:"AksessRettigheter"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}var ge=(e=>(e.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS="FASTSETT_BG_AT_FL",e.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE="VURDER_VARIG_ENDRT_NYOPPSTR_NAERNG_SN",e.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON="VURDER_VARIG_ENDRT_ARB_SITSJN_MDL_INAKTV",e.FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE="FASTSETT_BG_SN",e.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD="FASTSETT_BG_TB_ARB",e.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET="FASTSETT_BG_SN_NY_I_ARB_LIVT",e.VURDER_GRADERING_UTEN_BEREGNINGSGRUNNLAG="VURDER_GRADERING_UTEN_BG",e))(ge||{}),W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hu={exports:{}},Xr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd;function Q_(){if(Pd)return Xr;Pd=1;var e=J,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,f={},v=null,h=null;u!==void 0&&(v=""+u),o.key!==void 0&&(v=""+o.key),o.ref!==void 0&&(h=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(f[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)f[k]===void 0&&(f[k]=o[k]);return{$$typeof:n,type:d,key:v,ref:h,props:f,_owner:i.current}}return Xr.Fragment=r,Xr.jsx=l,Xr.jsxs=l,Xr}Hu.exports=Q_();var a=Hu.exports,Zu={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var t=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var l=typeof s;if(l==="string"||l==="number")t.push(this&&this[s]||s);else if(Array.isArray(s))t.push(r.apply(this,s));else if(l==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){t.push(s.toString());continue}for(var d in s)n.call(s,d)&&s[d]&&t.push(this&&this[d]||d)}}}return t.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Zu);var q_=Zu.exports;const X_=Uu(q_),eM="_contentContainer_1rz2h_1",nM="_sideMenuContainer_1rz2h_4",rM="_mainContainer--withSideMenu_1rz2h_7",tM="_advarselIkon_1rz2h_11",ni={contentContainer:eM,sideMenuContainer:nM,"mainContainer--withSideMenu":"_mainContainer--withSideMenu_1rz2h_7",mainContainerWithSideMenu:rM,advarselIkon:tM},Ju={"Beregningsgrunnlag.Title.Beregning":"Grunnlag for beregning","Beregningsgrunnlag.Title.Fastsettelse":"Fastsettelse","Beregningsgrunnlag.Title":"Beregning","Beregningsgrunnlag.Avslagsårsak.IkkeTilstrekkeligInntektsgrunnlag":"Ikke tilstrekkelig inntektsgrunnlag","Beregningsgrunnlag.HarIkkeBeregningsregler":"Har ikke beregningsregler (trer i kraft 1 jan. 2019). Sak overført til Infotrygd.","Beregningsgrunnlag.Helptext.Arbeidstaker":"Det er mer enn 25% avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget","Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.Nyoppstartet":"Søker har nyoppstartet næring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt","Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.VarigEndring":"Søker har oppgitt varig endring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.Helptext.VarigEndretArbeidssituasjon":"Varig endret arbeidssituasjon.","Beregningsgrunnlag.Helptext.TidsbegrensetArbeidsforhold":"Det er mer enn 25 % avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget, og det er tidsbegrenset arbeidsforhold","Beregningsgrunnlag.Helptext.NyIArbeidslivetSN":"Søker er ny i arbeidslivet","Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt":"Beregnet årsinntekt","Beregningsgrunnlag.Avviksopplysninger.ATFL.Tittel":"Avviksberegning for arbeidstaker og frilans","Beregningsgrunnlag.Avviksopplysninger.SN.Tittel":"Avviksberegning for næring","Beregningsgrunnlag.Avviksopplysninger.MIDL.Tittel":"Avviksberegning for midlertidig inaktiv","Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt.Naring":"Pensjonsgivende inntekt","Beregningsgrunnlag.Avviksopplysninger.RapportertAarsinntekt":"Sammenligningsgrunnlag","Beregningsgrunnlag.Avviksopplysninger.SamletInntekt":"Samlet inntekt","Beregningsgrunnlag.Avviksopplysninger.BeregnetAvvik":"Beregnet avvik ","Beregningsgrunnlag.Avviksopplysninger.SN.NyIArbeidslivet":"Søker er ny i arbeidslivet. Det foretas derfor ingen avviksvurdering.","Beregningsgrunnlag.Avviksopplysninger.AT.KobinasjonsStatusATFLSN":"Det regnes ikke avvik på arbeids- og frilansinntekt for kombinasjonen arbeid, frilans og selvstendig næringsdrivende i beregningsgrunnlag der skjæringstidspunkt er før 01.01.2023","Beregningsgrunnlag.Avviksopplysninger.AAP":"Det foretas ikke avviksvurdering på AAP","Beregningsgrunnlag.Avviksopplysninger.Dagpenger":"Det foretas ikke avviksvurdering på Dagpenger","Beregningsgrunnlag.Avviksopplysninger.Besteberegning":"Det foretas ingen avviksvurdering når søker har besteberegning på dagpenger","Beregningsgrunnlag.Avviksopplysninger.Miletar":"Det regnes ikke avvik ved militær- eller siviltjeneste.","Beregningsgrunnlag.Avviksopplysninger.AvvikProsent":"{avvik}%","Beregningsgrunnlag.Skjeringstidspunkt.SkjeringForBeregning":"Skjæringstidspunkt for beregning","Beregningsgrunnlag.Skjeringstidspunkt.LonnsendringSisteTreMan":"Søker har hatt lønnsendring i løpet av de siste tre månedene","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.manueltBehandlet":"Bruker har hatt lønnsendring {datoer}. Inntekt er fastsatt manuelt.","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.delvisMåned":"Bruker har hatt lønnsendring {datoer}. Dette betyr at rapportert inntekt for {måned} er en kombinasjon av ny og gammel inntekt. Ny inntekt er beregnet ved først å finne gammel inntekt fra rapportert inntekt i {forrigeMåned} og deretter regne oss fram til ny inntekt ved å bruke forholdet mellom dagene før og etter lønnsendringen.","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullEnMåned":"Bruker har hatt lønnsendring {datoer}. Ny inntekt er beregnet ved å bruke rapportert inntekt i {nesteMåned}.","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullToMåned":"Bruker har hatt lønnsendring {datoer}. Ny inntekt er beregnet ved å bruke snittet av rapportert inntekt i {nesteMåned} og {sisteMåned}.","Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt":"Arbeidsinntekt","Beregningsgrunnlag.AarsinntektPanel.Pensjonsgivendeinntekt":"Pensjonsgivende inntekt","Beregningsgrunnlag.AarsinntektPanel.SN.TreSisteÅr":"3 siste år fra skatt","Beregningsgrunnlag.AarsinntektPanel.SN.ATFL":"Arbeid/frilans","Beregningsgrunnlag.AarsinntektPanel.SN.Næring":"Næring","Beregningsgrunnlag.AarsinntektPanel.SN.Sum":"Sum","Beregningsgrunnlag.AarsinntektPanel.SN.Gjustert":"G-justert","Beregningsgrunnlag.AarsinntektPanel.SN.sisteTreAar":"3 siste ferdigliknede år fra skatteetaten","Beregningsgrunnlag.AarsinntektPanel.SN.GsnittSum":"Gjennomsnittlig pensjonsgivende inntekt","Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar":"Beregnet År","Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned":"Måned","Beregningsgrunnlag.AarsinntektPanel.Frilansinntekt":"Frilansinntekt","Beregningsgrunnlag.AarsinntektPanel.FrilansStartDato2":"Søker har vært frilans fra ","Beregningsgrunnlag.AarsinntektPanel.InnrapportertFrilans":"Innrapportert i a-ordningen siste 3 mnd","Beregningsgrunnlag.AarsinntektPanel.Militær":"Militær- eller sivilforsvarstjeneste","Beregningsgrunnlag.AarsinntektPanel.Pensjonsgivende":"Pensjonsgivende inntekt","Beregningsgrunnlag.AarsinntektPanel.TotaltArbeidsinntekt":"Totalt","Beregningsgrunnlag.AarsinntektPanel.TotalPensjonsGivende":"Total","Beregningsgrunnlag.AarsinntektPanel.Tidsbegrenset":"Tidsbegrenset","Beregningsgrunnlag.AarsinntektPanel.SnittPensjonsGivende":"Gjennomsnittlig pensjonsgivende inntekt","Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringNyoppstartet":"Vurder om det er varig endring i næringen og/eller arbeidssituasjonen, som gjør at inntekten skal fastsettes skjønnsmessig","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndring":"Søker har opplyst varig endring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerNyoppstartet":"Søker har nyoppstartet næring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.AksjonspunktBehandler.TittelATAvvik":"Fastsett årsinntekt skjønnsmessig for arbeidstaker","Beregningsgrunnlag.AksjonspunktBehandler.TittelFLAvvik":"Fastsett årsinntekt skjønnsmessig for frilans","Beregningsgrunnlag.AksjonspunktBehandler.TittelATFLAvvik":"Fastsett årsinntekt skjønnsmessig for arbeidstaker og frilans","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFL":"Det er mer enn 25% avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget.","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFLTidsbegrenset":"Det er mer enn 25 % avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget, og det er tidsbegrenset arbeidsforhold.","Beregningsgrunnlag.AksjonspunktBehandler.TittelSNNyIArb":"Søker er ny i arbeidslivet, gjør en skjønnsmessig vurdering av næringsinntekten","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerSNNyIArb":"Søker har oppgitt å være ny i arbeidslivet (blitt yrkesaktiv siste tre år).","Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringArbeid":"Vurder om det er varig endring i arbeidssituasjonen, som gjør at inntekten skal fastsettes skjønnsmessig","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndringArbeid":"Det er er mer enn 25 % avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringNæring":"Har søker hatt varig endret næring og/eller arbeidssituasjon? ","Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringArbeid":"Har søker hatt varig endret arbeidssituasjon? ","Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelNyoppstartetNæring":"Har søker nyoppstartet næring? ","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandler":"Skjønnsmessig fastsettelse av årsinntekt ved avvik","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerTB.SumPeriode":"Total årsintekt pr periode","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandler.OmberegnetAar":"Beregnet År","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerFL":"Frilansinntekt fastsettes til","Beregningsgrunnlag.AarsinntektPanel.Naturalytelse2":"Naturalytelser","Beregningsgrunnlag.NaeringsOpplysningsPanel.Overskrift":"Opplysninger om næring fra søknad","Beregningsgrunnlag.NaeringsOpplysningsPanel.OppgittAar":"Oppgitt år","Beregningsgrunnlag.NaeringsOpplysningsPanel.VarigEndret":"Søker har oppgitt varig endring fra <b>{dato}</b>","Beregningsgrunnlag.NaeringsOpplysningsPanel.Nyoppstaret":"Søker har oppgitt nyoppstartet fra <b>{dato}</b>","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.JORDBRUK_SKOGBRUK":"Jordbruk / Skogbruk","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.DAGMAMMA":"Dagmamma i eget hjem / familiebarnehage","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FISKE":"Fiske","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FRILANSER":"Frilanser","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.ANNEN":"Annen næringsvirksomhet","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.UDEFINERT":"Ikke definert","Beregningsgrunnlag.Forms.Vurdering":"Vurdering","Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag":"Vurdering av fastsatt beregningsgrunnlag","Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst":"Forklar hvordan du har kommet frem til beregningsgrunnlaget og hvilke vurderinger du har gjort. Beskriv hvorfor det er avvik og hvilken inntekt som kan legges til grunn. Dette skal gjøres i henhold til lovhjemmel.","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IngenEndring":"Ingen varig endring eller nyoppstartet næring","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.EndretNaering":"Varig endring eller nyoppstartet næring","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeNyoppstartet":"Næringsvirksomhet er ikke nyoppstartet","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeVarigEndring":"Ingen varig endring","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndring":"Varig endring - årsinntekt må fastsettes.","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.Nyoppstartet":"Nyoppstartet næring - Årsinntekt må fastsettes.","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.BruttoBerGr2":"Næringsinntekt fastsettes til","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndretInntektFastsettesTil":"Varig endret årsinntekt fastsettes til","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.SumTittel":"Rapportert årsinntekt","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Tittel":"Sammenligningsgrunnlag fra a-ordningen","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ingress":"Inntekt og ytelser etter kap 8, 9 og 14 de 12 siste månedene","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Arbeid":"Arbeid","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Frilans":"Frilans","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ytelse":"Ytelse","Beregningsgrunnlag.TilstottendeYtelse.Tittel":"Tilstøtende ytelse","Beregningsgrunnlag.TilstottendeYtelse.TittelNav":"Ytelser fra NAV","Beregningsgrunnlag.TilstottendeYtelse.Dagpenger":"Dagpenger","Beregningsgrunnlag.TilstottendeYtelse.SykepengerAvDagpenger":"Sykepenger basert på dagpenger","Beregningsgrunnlag.TilstottendeYtelse.PleiepengerAvDagpenger":"Pleiepenger basert på dagpenger","Beregningsgrunnlag.TilstottendeYtelse.AAP":"Arbeidsavklaringspenger","Beregningsgrunnlag.TilstottendeYtelse.Besteberegning":"Satt ut fra besteberegning","Beregningsgrunnlag.YtelserFraInfotrygd.Ytelse2":"Ytelse fra NAV","Beregningsgrunnlag.YtelserFraInfotrygd.YtelseNavn":"Ytelse","Beregningsgrunnlag.BeregningTable.Periode":"Periode {fom} - {tom}","Beregningsgrunnlag.BeregningTable.Tittel":"Beregning av dagsats","Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfylt2":"Beløpet er under 1/2 G (G = {grunnbeløp}) - søker har ikke rett til ytelse","Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfyltMidlertidigInaktiv":"Beløpet er under 1 G (G = {grunnbeløp}) - søker har ikke rett til ytelse","Beregningsgrunnlag.Gradering.Beskrivelse":"Saksbehandler har tidligere vurdert om fordeling av inntekt er korrekt grunnet en andel uten utbetaling som skal graderes.","Besteberegning.ResultatGrunnlag.BruttoBeregningsgrunnlag":"Beregnet","Besteberegning.ResultatGrunnlag.BeregningEtterBesteberegning":"§14-7, 3. ledd","Besteberegning.ResultatGrunnlag.BrukerOmfattesAvBesteberegning":"Søker omfattes av §14-7, 3. ledd.","Besteberegning.ResultatGrunnlag.BeregningEtterKap8":"§14-7, 1. ledd","Besteberegning.ResultatGrunnlag.Kap1473GirBesteBeregning":"Beregning etter §14-7, 3. ledd gir beste beregning.","Besteberegning.ResultatGrunnlag.Kap1471GirBesteBeregning":"Beregning etter §14-7, 1. ledd gir beste beregning.","SubmitButton.ConfirmInformation":"Bekreft og fortsett","Malform.Beskrivelse":"Foretrukket språk","HelpText.Aksjonspunkt":"Aksjonspunkt","Behandling.EditedField":"Saksbehandler har endret feltets verdi","Beregningsgrunnlag.Beregningsresultat.Periode":"Periode {fom} - {tom}","Beregningsgrunnlag.Beregningsresultat.Arbeid":"Fastsatt årsinntekt arbeid","Beregningsgrunnlag.Beregningsresultat.Frilans":"Fastsatt årsinntekt frilans","Beregningsgrunnlag.Beregningsresultat.Næring":"Fastsatt årsinntekt næring","Beregningsgrunnlag.Beregningsresultat.Dagpenger":"Fastsatt årsinntekt dagpenger","Beregningsgrunnlag.Beregningsresultat.SykepengerAvDagpenger":"Fastsatt årsinntekt sykepenger av dagpenger","Beregningsgrunnlag.Beregningsresultat.PleiepengerAvDagpenger":"Fastsatt årsinntekt pleiepenger av dagpenger","Beregningsgrunnlag.Beregningsresultat.Arbeidsavklaringspenger":"Fastsatt årsinntekt arbeidsavklaringspenger","Beregningsgrunnlag.Beregningsresultat.Militær":"Fastsatt årsinntekt militær","Beregningsgrunnlag.Beregningsresultat.BrukersAndel":"Fastsatt årsinntekt brukers andel","Beregningsgrunnlag.Beregningsresultat.Ytelse":"Fastsatt årsinntekt ytelse","Beregningsgrunnlag.Beregningsresultat.IkkeBeregnet":"Ikke beregnet","Beregningsgrunnlag.Beregningsresultat.Naturalytelser":"Naturalytelser","Beregningsgrunnlag.Beregningsresultat.TotalÅrsinntekt":"Total årsinntekt","Beregningsgrunnlag.Beregningsresultat.Avkortet":"Årsinntekt redusert til 6G på skjæringstidspunktet","Beregningsgrunnlag.Beregningsresultat.Redusert":"Årsinntekt redusert til 80% dekningsgrad","Beregningsgrunnlag.Beregningsresultat.Dagsats":"Dagsats (årsinntekt/260 dager)","Beregningsgrunnlag.Søknad.Tittel":"Opplysninger fra søknad","Beregningsgrunnlag.Søknad.LøpendeFL":"Oppgitt frilansinntekt i søknadsperioden","Beregningsgrunnlag.Søknad.LøpendeSN":"Oppgitt næringsinntekt i søknadsperioden","Beregningsgrunnlag.Søknad.SøktYtelseSN":"Bruker har søkt inntektskompensasjon for næringsinntekt i perioden {fom} - {tom}","Beregningsgrunnlag.Frisinn.Resultat":"Grunnlag for dagsats","Beregningsgrunnlag.Frisinn.Inntektstak":"Inntektstak ({grenseverdi} - {annenInntekt})","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagFL":"Beregningsgrunnlag frilans","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagSN":"Beregningsgrunnlag næring","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertFL":"Redusert til {grad}% beregningsgrunnlag frilans","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertSN":"Redusert til {grad}% beregningsgrunnlag næring","Beregningsgrunnlag.Frisinn.Tittel":"FRISINN","Beregningsgrunnlag.Frisinn.InntektFL":"Frilansinntekt","Beregningsgrunnlag.Frisinn.InntektSN":"Næringsinntekt","Beregningsgrunnlag.Frisinn.InntektAT":"Arbeidstakerinntekt","Beregningsgrunnlag.Søknad.Inntektsopplysninger":"Opplysninger om inntekt","Beregningsgrunnlag.Resultat.Dagsats":"Dagsats","Beregningsgrunnlag.Frisinn.InntektstakOpplysninger":"Opplysninger om inntektstak","Beregningsgrunnlag.Frisinn.InntektstakOpplysningerPeriode":"Opplysninger om inntektstak i perioden {fom} - {tom}"},iM="_readOnlyBlokk_3qjl7_1",sM={readOnlyBlokk:iM},aM=({avklaringsbehov:e})=>!e||!e.begrunnelse?null:a.jsxs(a.Fragment,{children:[a.jsx($,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Gradering.Beskrivelse"})}),a.jsx(I,{sixteenPx:!0}),a.jsxs(A,{size:"small",className:sM.readOnlyBlokk,children:[e.begrunnelse," ",a.jsx(Ii,{})]})]}),lM=e=>e.overstyrtPrAar||e.overstyrtPrAar===0?e.overstyrtPrAar:e.beregnetPrAar||e.beregnetPrAar===0?e.beregnetPrAar:0,dM=e=>e&&e.beregningsgrunnlagPrStatusOgAndel?e.beregningsgrunnlagPrStatusOgAndel.map(n=>lM(n)).reduce((n,r)=>n+r,0):0,oM=e=>e.flatMap(n=>n.inntekter).map(({inntekt:n})=>n).reduce((n,r)=>n+r,0)*2,_d=(e,n)=>e>n,gM=[a.jsx("div",{},"TomKolNøkkel"),a.jsxs($,{size:"small",children:[" ",a.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BeregningEtterKap8"})," "]},"Kap8Nøkkel"),a.jsxs($,{size:"small",children:[" ",a.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BeregningEtterBesteberegning"})," "]},"BBNøkkel")],uM=({periode:e,besteMåneder:n})=>{if(!n||n.length<1)return null;const r=dM(e),t=oM(n);return a.jsxs("div",{children:[a.jsx(S,{children:a.jsx(p,{children:a.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BrukerOmfattesAvBesteberegning"})})}),a.jsx(I,{twentyPx:!0}),a.jsx(S,{children:a.jsx(p,{children:a.jsx(qe,{headerColumnContent:gM,noHover:!0,children:a.jsxs(Ge,{children:[a.jsx(z,{children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BruttoBeregningsgrunnlag"})})}),a.jsx(z,{children:a.jsx(A,{size:"small",children:C(r)})}),a.jsx(z,{children:a.jsx(A,{size:"small",children:C(t)})})]})})})}),a.jsx(S,{children:a.jsx(p,{children:a.jsxs(A,{size:"small",children:[_d(r,t)&&a.jsx(m,{id:"Besteberegning.ResultatGrunnlag.Kap1471GirBesteBeregning"}),!_d(r,t)&&a.jsx(m,{id:"Besteberegning.ResultatGrunnlag.Kap1473GirBesteBeregning"})]})})})]})},kM="_avsnittOverskrift_3qwr0_1",mM="_venstreKolonne_3qwr0_5",cM="_hoyreKolonne_3qwr0_8",fM="_panelLeft_3qwr0_11",pM="_panelRight_3qwr0_21",jM="_storSpace_3qwr0_32",vM="_semiBoldText_3qwr0_35",bM="_næringEndringBeskrivelse_3qwr0_38",hM="_redError_3qwr0_41",IM="_tabellAktivitet_3qwr0_44",AM="_tabellInntekt_3qwr0_54",xM="_næringOpplysningNavn_3qwr0_66",TM="_næringOpplysningInntekt_3qwr0_69",NM="_næringOpplysningOrgnr_3qwr0_73",EM="_næringOpplysningDato_3qwr0_76",yM="_heldekkendeKol_3qwr0_79",SM="_tagMargin_3qwr0_85",PM="_colDivider_3qwr0_88",_M="_noPaddingRight_3qwr0_92",MM="_arbeidPanelSkille_3qwr0_95",V={avsnittOverskrift:kM,venstreKolonne:mM,hoyreKolonne:cM,panelLeft:fM,panelRight:pM,storSpace:jM,semiBoldText:vM,næringEndringBeskrivelse:"_næringEndringBeskrivelse_3qwr0_38",naeringEndringBeskrivelse:bM,redError:hM,tabellAktivitet:IM,tabellInntekt:AM,næringOpplysningNavn:"_næringOpplysningNavn_3qwr0_66",naeringOpplysningNavn:xM,næringOpplysningInntekt:"_næringOpplysningInntekt_3qwr0_69",naeringOpplysningInntekt:TM,næringOpplysningOrgnr:"_næringOpplysningOrgnr_3qwr0_73",naeringOpplysningOrgnr:NM,næringOpplysningDato:"_næringOpplysningDato_3qwr0_76",naeringOpplysningDato:EM,heldekkendeKol:yM,tagMargin:SM,colDivider:PM,noPaddingRight:_M,arbeidPanelSkille:MM};var Wu={exports:{}};(function(e,n){(function(r,t){e.exports=t(x)})(W_,function(r){function t(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var i=t(r),s={name:"nb",weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),ordinal:function(l){return l+"."},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"}};return i.default.locale(s,null,!0),s})})(Wu);var RM=Wu.exports;const Gs=Uu(RM),Md=e=>e?`...${e.substring(e.length-4,e.length)}`:"",Li=(e,n)=>{const{navn:r,fødselsdato:t,erPrivatPerson:i,identifikator:s}=e;return i?t?`${r} (${x(t).format(te)})${Md(n)}`:r:s?`${r} (${s})${Md(n)}`:r},Rd=(e,n)=>{var r;return e.arbeidsforhold&&e.arbeidsforhold.arbeidsforholdType&&((r=n[ye.OPPTJENING_AKTIVITET_TYPE].find(t=>{var i;return t.kode===((i=e.arbeidsforhold)==null?void 0:i.arbeidsforholdType)}))==null?void 0:r.navn)||""},Cs=(e,n,r)=>{if(e.arbeidsforhold&&e.arbeidsforhold.arbeidsgiverIdent){const t=n[e.arbeidsforhold.arbeidsgiverIdent];return t?Li(t,e.arbeidsforhold.eksternArbeidsforholdId):Rd(e,r)}return Rd(e,r)},et=e=>x(e).locale(Gs).format("MMMM");function Kt(e,n,r){const t=e.filter(i=>i.lønnsendringscenario===n).map(i=>`i ${Li(r[i.arbeidsforhold.arbeidsgiverIdent],void 0)}
      ${x(i.sisteLønnsendringsdato).format(te)}`);return t.reduce((i,s,l)=>l===0?s:l<t.length-2?`${i}, ${s}`:`${i} og ${s}`,"")}const OM=(e,n,r,t)=>{switch(e){case Pn.MANUELT_BEHANDLET:return a.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.manueltBehandlet",values:{datoer:Kt(r,Pn.MANUELT_BEHANDLET,t)}});case Pn.DELVIS_MÅNEDSINNTEKT_SISTE_MND:return a.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.delvisMåned",values:{datoer:Kt(r,Pn.DELVIS_MÅNEDSINNTEKT_SISTE_MND,t),måned:et(x(n).subtract(1,"month").format(Gr)),forrigeMåned:et(x(n).subtract(2,"month").format(Gr))}});case Pn.FULL_MÅNEDSINNTEKT_EN_MND:return a.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullEnMåned",values:{datoer:Kt(r,Pn.FULL_MÅNEDSINNTEKT_EN_MND,t),nesteMåned:et(x(n).subtract(1,"month").format(Gr))}});case Pn.FULL_MÅNEDSINNTEKT_TO_MND:return a.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullToMåned",values:{datoer:Kt(r,Pn.FULL_MÅNEDSINNTEKT_TO_MND,t),sisteMåned:et(x(n).subtract(1,"month").format(Gr)),nesteMåned:et(x(n).subtract(2,"month").format(Gr))}});default:return null}};function DM(e,n,r){return Rk(e.map(t=>t.lønnsendringscenario)).map(t=>a.jsxs(a.Fragment,{children:[OM(t,n,e,r),a.jsx("br",{}),a.jsx(I,{sixteenPx:!0})]}))}const BM=({skjeringstidspunktDato:e,saksopplysninger:n,arbeidsgiverOpplysningerPerId:r})=>{const t=[];return n&&n.lønnsendringSaksopplysning&&n.lønnsendringSaksopplysning.length>0&&t.push({textId:"Beregningsgrunnlag.Skjeringstidspunkt.LonnsendringSisteTreMan",readMoreContent:DM(n.lønnsendringSaksopplysning,e,r)}),a.jsx(Mk,{saksopplysninger:t})},FM=e=>{switch(e){case D.SELVSTENDIG_NAERINGSDRIVENDE:return"alt2";case D.FRILANSER:return"alt1";case D.ARBEIDSTAKER:return"alt3";default:return"neutral"}},$M=(e,n)=>{const r=[];return e.filter((t,i,s)=>i===s.findIndex(l=>l===t)).forEach(t=>{var i;const s=((i=n[ye.AKTIVITET_STATUS].find(l=>l.kode===t))==null?void 0:i.navn)||"";r.push({visningsNavn:s,kode:t,tagType:FM(t)})}),r.sort((t,i)=>t.visningsNavn>i.visningsNavn?1:-1),a.jsx(S,{children:r.map(t=>a.jsx(p,{className:V.tagRad,children:a.jsx(xi,{variant:t.tagType,title:t.visningsNavn,className:V.tagMargin,children:t.visningsNavn})},t.visningsNavn))})},LM=({skjeringstidspunktDato:e,aktivitetStatusList:n,kodeverkSamling:r,saksopplysninger:t,arbeidsgiverOpplysningerPerId:i})=>a.jsxs("div",{className:V.panelLeft,children:[$M(n,r),a.jsx(I,{sixteenPx:!0}),a.jsxs(se,{children:[a.jsxs(S,{children:[a.jsx(p,{children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.SkjeringForBeregning"})})}),a.jsx(p,{children:a.jsx(A,{size:"small",className:V.semiBoldText,children:a.jsx(Re,{dateString:e})})})]}),!!t&&!!t.lønnsendringSaksopplysning&&t.lønnsendringSaksopplysning.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(I,{sixteenPx:!0}),a.jsx(S,{children:a.jsx(p,{children:a.jsx(BM,{arbeidsgiverOpplysningerPerId:i,skjeringstidspunktDato:e,saksopplysninger:t})})})]})]})]}),VM=({bruttoPrAar:e})=>e||e===0?a.jsxs(a.Fragment,{children:[a.jsx(S,{children:a.jsxs(p,{children:[a.jsx(je,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.YtelserFraInfotrygd.Ytelse2"})}),a.jsx(I,{eightPx:!0})]})}),a.jsxs(S,{children:[a.jsx(p,{className:V.tabellAktivitet}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(me,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(me,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),a.jsxs(S,{children:[a.jsx(p,{className:V.tabellAktivitet,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.YtelserFraInfotrygd.YtelseNavn"})})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(A,{size:"small",children:C(e/12)})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx($,{size:"small",children:C(e)})})]})]}):null,GM=[],CM=(e,n,r)=>{var t,i,s;const l=r.find(f=>f.år===e),d=l&&((t=l.inntekter.find(f=>f.pgiType===el.NÆRING))==null?void 0:t.beløp)||0,o=l&&((i=l.inntekter.find(f=>f.pgiType===el.LØNN))==null?void 0:i.beløp)||0,u=d+o,k=(s=n.find(f=>f.årstall===e))==null?void 0:s.beløp;return a.jsxs(xe.Row,{shadeOnHover:!0,children:[a.jsx(xe.DataCell,{children:e}),a.jsx(xe.DataCell,{align:"right",children:C(o)}),a.jsx(xe.DataCell,{align:"right",children:C(d)}),a.jsx(xe.DataCell,{align:"right",children:C(u)}),a.jsx(xe.DataCell,{align:"right",children:C(k)})]},e)},zM=(e,n)=>e.map(r=>r.årstall).sort((r,t)=>r-t).reverse().map(r=>CM(r,e,n)),wM=e=>a.jsxs(xe.Row,{shadeOnHover:!0,children:[a.jsx(xe.DataCell,{children:a.jsx($,{children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.GsnittSum"})})}),a.jsx(xe.DataCell,{}),a.jsx(xe.DataCell,{}),a.jsx(xe.DataCell,{}),a.jsx(xe.DataCell,{align:"right",children:a.jsx($,{children:C(e)})})]},"PGI-Oppsumert"),KM=({alleAndeler:e,inntektsgrunnlag:n})=>{const r=e.find(l=>l.aktivitetStatus===D.SELVSTENDIG_NAERINGSDRIVENDE||l.aktivitetStatus===D.BRUKERS_ANDEL),t=(n==null?void 0:n.pgiGrunnlag)||GM;if(!r||!r.pgiSnitt||!r.pgiVerdier)return null;const{pgiVerdier:i,pgiSnitt:s}=r;return a.jsxs(a.Fragment,{children:[a.jsx(je,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Pensjonsgivendeinntekt"})}),a.jsxs(xe,{children:[a.jsx(xe.Header,{children:a.jsxs(xe.Row,{children:[a.jsx(xe.HeaderCell,{children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.TreSisteÅr"})}),a.jsx(xe.HeaderCell,{align:"right",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.ATFL"})}),a.jsx(xe.HeaderCell,{align:"right",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.Næring"})}),a.jsx(xe.HeaderCell,{align:"right",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.Sum"})}),a.jsx(xe.HeaderCell,{align:"right",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.Gjustert"})})]})}),a.jsxs(xe.Body,{children:[zM(i,t),wM(s)]})]})]})},YM="_colDevider_1att7_1",UM={colDevider:YM},An=({prosentBredde:e})=>{const n=`${e}%`;return a.jsx(S,{children:a.jsx("div",{style:{width:n},children:a.jsx(p,{children:a.jsx("div",{className:UM.colDevider})})})})},HM=e=>e.aktivitetStatus===D.DAGPENGER?"Beregningsgrunnlag.TilstottendeYtelse.Dagpenger":e.aktivitetStatus===D.SYKEPENGER_AV_DAGPENGER?"Beregningsgrunnlag.TilstottendeYtelse.SykepengerAvDagpenger":e.aktivitetStatus===D.PLEIEPENGER_AV_DAGPENGER?"Beregningsgrunnlag.TilstottendeYtelse.PleiepengerAvDagpenger":e.aktivitetStatus===D.ARBEIDSAVKLARINGSPENGER?"Beregningsgrunnlag.TilstottendeYtelse.AAP":"",ZM=e=>e===D.DAGPENGER,JM=({alleAndeler:e,relevanteStatuser:n,gjelderBesteberegning:r})=>{const t=e.filter(s=>Eo(s.aktivitetStatus)),i=t.length>1;return a.jsxs(a.Fragment,{children:[n.isKombinasjonsstatus&&a.jsxs(a.Fragment,{children:[a.jsx(I,{eightPx:!0}),a.jsx(je,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.TilstottendeYtelse.TittelNav"})}),a.jsx(I,{eightPx:!0})]}),a.jsxs(S,{children:[a.jsx(p,{className:V.tabellAktivitet}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(me,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(me,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),a.jsx(An,{prosentBredde:100}),t.map(s=>a.jsxs("div",{children:[a.jsxs(S,{children:[a.jsx(p,{className:V.tabellAktivitet,children:a.jsx($,{size:"small",children:a.jsx(m,{id:HM(s)})})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(A,{size:"small",children:C(s.beregnetPrAar?s.beregnetPrAar/12:0)})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(A,{size:"small",className:i?"":V.semiBoldText,children:C(s.beregnetPrAar)})})]}),a.jsx(An,{prosentBredde:100}),r&&ZM(s.aktivitetStatus)&&a.jsx(S,{children:a.jsx(p,{children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.TilstottendeYtelse.Besteberegning"})})})})]},s.aktivitetStatus))]})},WM=({alleAndeler:e})=>{const n=e.filter(t=>t.aktivitetStatus===D.MILITAER_ELLER_SIVIL),r=n&&n.length>0?n[0].beregnetPrAar:"";return a.jsxs(a.Fragment,{children:[a.jsx(S,{children:a.jsx(p,{children:a.jsx(je,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Militær"})})})}),a.jsx(I,{eightPx:!0}),a.jsx(S,{children:a.jsx(p,{children:a.jsx($,{size:"small",children:C(r)})})})]})},QM="_aksjonspunktBehandlerBorder_6jbny_1",qM="_aksjonspunktBehandlerHeader_6jbny_10",XM="_aksjonspunktBehandlerImageCol_6jbny_18",eR="_aksjonspunktBehandlerTextCol_6jbny_24",nR="_aksjonspunktBehandlerNoBorder_6jbny_27",rR="_aksjonspunktBehandlerContainer_6jbny_30",tR="_verticalLine_6jbny_40",iR="_verticalAlignMiddle_6jbny_47",sR="_inputPadding_6jbny_54",aR="_inntektTableTB_6jbny_65",lR="_inntektTableTB_6jbny_65",dR="_rowSpacer_6jbny_69",oR="_textAreaWrapper_6jbny_109",gR="_textAreaWrapperHeigh_6jbny_112",uR="_dynamiskKolonne_6jbny_119",kR="_textAreaStyle_6jbny_123",mR="_bredde_6jbny_126",cR="_atflAvvikAktivitet_6jbny_129",fR="_atflAvvikInntekt_6jbny_133",pR="_atflEditedIcon_6jbny_136",jR="_breddeInntekt_6jbny_139",vR="_warningIcon_6jbny_142",de={aksjonspunktBehandlerBorder:QM,aksjonspunktBehandlerHeader:qM,aksjonspunktBehandlerImageCol:XM,aksjonspunktBehandlerTextCol:eR,aksjonspunktBehandlerNoBorder:nR,aksjonspunktBehandlerContainer:rR,verticalLine:tR,verticalAlignMiddle:iR,inputPadding:sR,inntektTableTB:aR,inntektTableTb:lR,rowSpacer:dR,textAreaWrapper:oR,textAreaWrapperHeigh:gR,dynamiskKolonne:uR,textAreaStyle:kR,bredde:mR,atflAvvikAktivitet:cR,atflAvvikInntekt:fR,atflEditedIcon:pR,breddeInntekt:jR,warningIcon:vR},Od="inntektField",Qu=e=>!!e.periodeAarsaker&&e.periodeAarsaker.map(n=>n).includes(mn.ARBEIDSFORHOLD_AVSLUTTET),Ba=e=>{let n=0;for(;n<e.length&&!Qu(e[n]);)n+=1;const r={...e[n]};return r.beregningsgrunnlagPeriodeTom=e[e.length-1].beregningsgrunnlagPeriodeTom,r},bR=e=>{const n=[];let r=0;for(;r<e.length;){const t={...e[r]};for(r+=1;r<e.length&&!Qu(e[r]);)r+=1;t.beregningsgrunnlagPeriodeTom=e[r-1].beregningsgrunnlagPeriodeTom,n.push(t)}return n},Vi=(e,n)=>e.arbeidsforhold?`${Od}_${e.arbeidsforhold.arbeidsforholdId}_${e.andelsnr}_${n.beregningsgrunnlagPeriodeFom}`:`${Od}_${e.andelsnr}_${n.beregningsgrunnlagPeriodeFom}`,Mt=e=>e.beregningsgrunnlagPrStatusOgAndel?e.beregningsgrunnlagPrStatusOgAndel.filter(n=>n.aktivitetStatus===D.ARBEIDSTAKER&&n.erTilkommetAndel!==!0):[],Fa=e=>{const n=e!=null&&e.arbeidsforholdId?e==null?void 0:e.arbeidsforholdId:"";return e?`${e.arbeidsgiverIdent}${n}`:""},hR=e=>{const n={};return Mt(e).forEach(r=>{n[Fa(r.arbeidsforhold)]=C(r.beregnetPrAar)}),n},IR=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?r[e.arbeidsgiverIdent]:null;return i?Li(i,e.eksternArbeidsforholdId):e.arbeidsforholdType?(t=n[ye.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn:""},zs=()=>({erTidsbegrenset:!0,isEditable:!1,tabellInnhold:"",inputfieldKey:""}),AR=(e,n,r)=>{const t=hR(e),i=Mt(e),s={};return i.forEach(l=>{if(!l.arbeidsforhold)return;const d=Fa(l.arbeidsforhold),o=zs();o.tabellInnhold=IR(l.arbeidsforhold,n,r),o.erTidsbegrenset=l.erTidsbegrensetArbeidsforhold!==void 0?l.erTidsbegrensetArbeidsforhold:!1,s[d]=[o];const u=zs();u.erTidsbegrenset=!1,u.tabellInnhold=t[d]||"",s[d].push(u)}),s},xR=(e,n,r)=>{const t={...Ba(e)},i=AR(e[0],n,r);return Mt(t).forEach(s=>{const l=Fa(s.arbeidsforhold),d=zs();d.tabellInnhold=s.overstyrtPrAar!==void 0&&s.overstyrtPrAar!==null?C(s.overstyrtPrAar):"",d.erTidsbegrenset=!1,d.isEditable=!0,d.inputfieldKey=Vi(s,t),i[l].push(d)}),i},TR=e=>a.jsxs("tr",{id:"bruttoPrPeriodeRad",children:[a.jsx("td",{colSpan:2,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerTB.SumPeriode"})})},"bruttoTittel"),e.map(n=>a.jsx("td",{colSpan:2,children:a.jsx(A,{size:"small",className:V.semiBoldText,children:C(n.brutto)})},n.periodeFom))]},"bruttoPrPeriodeRad"),NR=e=>a.jsxs("tr",{children:[a.jsx("td",{}),e.map(n=>{const r=n.periodeFom;return a.jsx("td",{colSpan:2,children:a.jsx(me,{size:"small",children:$e(r)})},`periodeittel${r}`)}),a.jsx("td",{})]},"PeriodeHeaderRad"),ER=(e,n,r,t,i,s)=>{const l=[];return l.push(NR(t)),l.push(a.jsxs("tr",{children:[a.jsx("td",{colSpan:2},"ombergenetAarBlank"),t.map((d,o)=>a.jsx(J.Fragment,{children:a.jsx("td",{colSpan:2,children:a.jsx(me,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandler.OmberegnetAar"},`Tittel_${d.periodeFom}`)})},`Col_Tittel_${d.periodeFom}`)},`PeriodeWrapper${o+1}`))]},"Tabletop")),Object.keys(e).forEach(d=>{const o=e[d];l.push(a.jsx("tr",{children:o.map(u=>u.isEditable?a.jsx(J.Fragment,{children:a.jsx("td",{colSpan:2,children:a.jsx("div",{className:r&&n?de.adjustedField:void 0,children:a.jsx(Ae,{name:`${s}.${i}.${u.inputfieldKey}`,validate:[Q,vn(178956970)],readOnly:n,parse:Le,className:de.breddeInntekt})})},`Col-${u.inputfieldKey}`)},`key${u.inputfieldKey}`):a.jsx("td",{colSpan:2,children:a.jsx(A,{size:"small",children:u.tabellInnhold})},u.tabellInnhold))},d))}),l.push(a.jsx("tr",{className:de.rowSpacer,children:a.jsx("td",{})},"sdeparator")),l.push(TR(t)),l},yR=e=>e?!dn(e.status):!1,SR=e=>{const n=e[0];return{brutto:(n.beregningsgrunnlagPrStatusOgAndel?n.beregningsgrunnlagPrStatusOgAndel.filter(r=>r.aktivitetStatus===D.ARBEIDSTAKER).map(r=>r.beregnetPrAar):[]).reduce((r,t)=>r+t),periodeFom:n.beregningsgrunnlagPeriodeFom,periodeTom:n.beregningsgrunnlagPeriodeTom}},PR=(e,n,r,t)=>{const i=[];if(e.length<1)return i;const s=Ba(e);i.push(SR(e));const l=Mt(s).map(d=>{const o=Vi(d,s),u=n.watch(`${t}.${r}.${o}`);return u===void 0||u===""?0:fe(u)}).reduce((d,o)=>d+o);return i.push({brutto:l,periodeFom:s.beregningsgrunnlagPeriodeFom,periodeTom:s.beregningsgrunnlagPeriodeTom}),i},Rt=({readOnly:e,allePerioder:n,avklaringsbehov:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s,formName:l})=>{const d=xR(n,t,i),o=yR(r),u=Se(),k=PR(n,u,s,l);return a.jsx("table",{className:de.inntektTableTB,children:a.jsx("tbody",{children:ER(d,e,o,k,s,l)})})};Rt.buildInitialValues=e=>{const n={};return bR(e).forEach(r=>{(r.beregningsgrunnlagPrStatusOgAndel?r.beregningsgrunnlagPrStatusOgAndel.filter(t=>t.aktivitetStatus===D.ARBEIDSTAKER):[]).forEach(t=>{const i=C(t.overstyrtPrAar);n[Vi(t,r)]=i||""})}),n};Rt.transformValues=(e,n)=>{const r=Ba(n),t=Mt(r),i=[];return t.forEach(s=>{const l=fe(e[Vi(s,r)]);i.push({andelsnr:s.andelsnr,bruttoFastsattInntekt:l})}),[{periodeFom:r.beregningsgrunnlagPeriodeFom,periodeTom:r.beregningsgrunnlagPeriodeTom,fastsatteTidsbegrensedeAndeler:i}]};const _R=e=>e.overstyrtPrAar!==null&&e.overstyrtPrAar!==void 0?!0:e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,qu=e=>e?e.filter(n=>n.aktivitetStatus===D.ARBEIDSTAKER).filter(n=>n.skalFastsetteGrunnlag===!0).filter(n=>_R(n)):[],MR=(e,n,r,t,i,s)=>e.map((l,d)=>a.jsxs(S,{className:de.verticalAlignMiddle,children:[a.jsx(p,{className:de.atflAvvikAktivitet,children:a.jsx(A,{size:"small",children:Cs(l,t,n)})}),a.jsx(p,{className:de.atflAvvikInntekt,children:a.jsx("div",{id:"readOnlyWrapper",className:r?de.inputPadding:void 0,children:a.jsx(Ae,{name:`${s}.${i}.inntekt${d}`,validate:[Q,vn(178956970)],readOnly:r,parse:Le,className:de.breddeInntekt,isEdited:r&&(!!l.overstyrtPrAar||l.overstyrtPrAar===0)})})})]},`index${d+1}`)),$a=({readOnly:e,alleAndelerIForstePeriode:n,kodeverkSamling:r,arbeidsgiverOpplysningerPerId:t,fieldIndex:i,formName:s})=>{const l=qu(n);return a.jsx(a.Fragment,{children:MR(l,r,e,t,i,s)})};$a.transformValues=(e,n)=>{let r=[];return n.find(t=>t.aktivitetStatus===D.ARBEIDSTAKER)&&(r=qu(n).map(({andelsnr:t},i)=>{const s=e[`inntekt${i}`];if(!t)throw new Error("Forventer andelsnr på andeler som skal fastsettes.");return{inntekt:s===void 0||s===""?0:fe(s),andelsnr:t}})),r};const RR=({alleAndeler:e})=>{var n;const r=e.find(s=>!s.erTilkommetAndel&&s.aktivitetStatus===D.FRILANSER);if(!r)return null;const t=r.beregnetPrAar,i=(n=r.arbeidsforhold)==null?void 0:n.startdato;return a.jsxs(a.Fragment,{children:[a.jsx(je,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Frilansinntekt"})}),a.jsx(I,{fourPx:!0}),a.jsxs(S,{className:V.rows,children:[a.jsx(p,{className:V.tabellAktivitet,children:i&&a.jsxs(A,{size:"small",children:[a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.FrilansStartDato2"}),a.jsx("span",{className:V.semiBoldText,children:a.jsx(Re,{dateString:i})})]})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(me,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(me,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),a.jsx(An,{prosentBredde:100}),a.jsxs(S,{className:V.rows,children:[a.jsx(p,{className:V.tabellAktivitet,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.InnrapportertFrilans"})})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(A,{size:"small",children:t?C(t/12):0})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx($,{size:"small",children:t?C(t):0})})]})]})},OR=({option:e,style:n,height:r})=>{const t=b.useRef(null);return b.useEffect(()=>{let i;t.current!==null&&(i=Kk(t.current));const s=()=>{i==null||i.resize()};return window.addEventListener("resize",s),()=>{i==null||i.dispose(),window.removeEventListener("resize",s)}},[]),b.useEffect(()=>{if(t.current!==null){const i=Yk(t.current);i&&(i.setOption(e),(i==null?void 0:i.getWidth())===0&&(i==null||i.resize()))}},[t.current,e]),a.jsx("div",{ref:t,style:{width:"auto",height:r,...n}})},DR="_lesMer_1gsng_1",BR="_sammenligningGrafOppsummeringType_1gsng_4",FR="_sammenligningGrafOppsummeringInntekt_1gsng_7",kr={lesMer:DR,sammenligningGrafOppsummeringType:BR,sammenligningGrafOppsummeringInntekt:FR},$R=[],LR="#99bdcd",VR="#c1b5d0",GR="#C6C2BF",CR=(e,n)=>{const r=e.flatMap(s=>s.inntekter).filter(s=>s.inntektAktivitetType===Nn.ARBEID).map(({beløp:s})=>s).reduce((s,l)=>s+l,0),t=e.flatMap(s=>s.inntekter).filter(s=>s.inntektAktivitetType===Nn.FRILANS).map(({beløp:s})=>s).reduce((s,l)=>s+l,0),i=e.flatMap(s=>s.inntekter).filter(s=>s.inntektAktivitetType===Nn.YTELSE).map(({beløp:s})=>s).reduce((s,l)=>s+l,0);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:V.storSpace}),a.jsx(S,{children:a.jsx(p,{children:a.jsx($,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.SumTittel"})})})}),n.harArbeidsinntekt&&a.jsxs(a.Fragment,{children:[a.jsxs(S,{children:[a.jsx(p,{className:kr.sammenligningGrafOppsummeringType,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Arbeid"})})}),a.jsx(p,{className:kr.sammenligningGrafOppsummeringInntekt,children:a.jsx(A,{size:"small",children:C(r)})})]}),a.jsx(An,{prosentBredde:20})]}),n.harFrilansinntekt&&a.jsxs(a.Fragment,{children:[a.jsxs(S,{children:[a.jsx(p,{className:kr.sammenligningGrafOppsummeringType,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Frilans"})})}),a.jsx(p,{className:kr.sammenligningGrafOppsummeringInntekt,children:a.jsx(A,{size:"small",children:C(t)})})]}),a.jsx(An,{prosentBredde:20})]}),n.harYtelseinntekt&&a.jsxs(a.Fragment,{children:[a.jsxs(S,{children:[a.jsx(p,{className:kr.sammenligningGrafOppsummeringType,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ytelse"})})}),a.jsx(p,{className:kr.sammenligningGrafOppsummeringInntekt,children:a.jsx(A,{size:"small",children:C(i)})})]}),a.jsx(An,{prosentBredde:20})]})]})},zR=(e,n)=>!e||e.length===0?0:n?e.filter(r=>r.inntektAktivitetType===n).reduce((r,t)=>r+t.beløp,0):e.reduce((r,t)=>r+t.beløp,0),cs=(e,n,r)=>{const t=[];for(let i=0;i<12;i+=1){const s=x(n,Pe).add(i,"M").format("YYYYMM"),l=e.find(o=>x(o.fom,Pe).format("YYYYMM")===s),d=zR((l==null?void 0:l.inntekter)||[],r);t.push([d,s])}return t},wR=()=>a.jsxs(a.Fragment,{children:[a.jsx(S,{children:a.jsx(p,{children:a.jsx(je,{size:"small",className:V.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Tittel"})})})},"SamenenligningsGrunnlagOverskrift"),a.jsx(I,{eightPx:!0}),a.jsx(S,{children:a.jsx(p,{children:a.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ingress"})})})]}),fs=(e,n)=>e.flatMap(r=>r.inntekter).some(r=>r.inntektAktivitetType===n),KR=e=>({harFrilansinntekt:fs(e,Nn.FRILANS),harArbeidsinntekt:fs(e,Nn.ARBEID),harYtelseinntekt:fs(e,Nn.YTELSE)}),YR=({sammenligningsGrunnlagInntekter:e,sammenligningsgrunnlag:n})=>{const r=q(),t=(e==null?void 0:e.måneder)||$R,i=b.useMemo(()=>KR(t),[t]),s=n&&n.length>0?n[0].sammenligningsgrunnlagFom:void 0,l=b.useMemo(()=>i.harArbeidsinntekt&&s?cs(t,s,Nn.ARBEID):[],[i.harArbeidsinntekt,t,s]),d=b.useMemo(()=>i.harFrilansinntekt&&s?cs(t,s,Nn.FRILANS):[],[i.harArbeidsinntekt,t,s]),o=b.useMemo(()=>i.harYtelseinntekt&&s?cs(t,s,Nn.YTELSE):[],[i.harArbeidsinntekt,t,s]),u=b.useCallback(h=>h.value[0]>5e3?C(h.value[0])||"":h.value[0]===0?"":"..",[]);if(!t||t.length===0||!n||n.length<1)return null;const k=r.formatMessage({id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Arbeid"}),f=r.formatMessage({id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Frilans"}),v=r.formatMessage({id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ytelse"});return a.jsxs(a.Fragment,{children:[a.jsx(ko,{size:"medium",header:wR(),defaultOpen:!0,children:a.jsx(OR,{option:{tooltip:{trigger:"axis",formatter:h=>{const T=h,E=T[0].data,P=x(E[1]),y=P.locale(Gs).format("MMM"),B=P.format("YYYY"),M=`${y.charAt(0).toUpperCase()+y.slice(1)} ${B}`,F=T.reduce((O,L)=>{const U=L.data;return O.concat(`${(L.marker||"")+(L.seriesName||"")}: ${C(U[0])}`)},[]).join("<br/>");return`${M}<br />${F}`},axisPointer:{type:"shadow"}},legend:{data:[k,f,v]},grid:{left:"1%",right:"5%",bottom:"0%",containLabel:!0},xAxis:{type:"value",axisLabel:{formatter:h=>C(h)||"",margin:12}},yAxis:{type:"category",boundaryGap:!1,axisLabel:{formatter:h=>{const T=x(h),E=T.format("MM")==="01"||T.format("MM")==="12",P=T.locale(Gs).format("MMM"),y=T.format("YYYY"),B=P.charAt(0).toUpperCase()+P.slice(1,3);return E?`${B}
${y}`:B}}},series:[{name:k,type:"bar",stack:"total",label:{show:!0,fontSize:"11",formatter:u},emphasis:{focus:"series"},data:l},{name:f,type:"bar",stack:"total",label:{show:!0,fontSize:"11",formatter:u},emphasis:{focus:"series"},data:d},{name:v,type:"bar",stack:"total",label:{show:!0,fontSize:"11",formatter:u},emphasis:{focus:"series"},data:o}],color:[LR,VR,GR]},height:350})}),CR(t,i)]})},Xu=e=>!e.arbeidsforhold||!e.arbeidsforhold.arbeidsgiverIdent?"N/A":e.arbeidsforhold.arbeidsforholdId?e.arbeidsforhold.arbeidsgiverIdent+e.arbeidsforhold.arbeidsforholdId:e.arbeidsforhold.arbeidsgiverIdent,UR=(e,n)=>{if(!e.arbeidsforhold||!e.arbeidsforhold.arbeidsgiverIdent)return"Ukjent arbeidsforhold";const r=n[e.arbeidsforhold.arbeidsgiverIdent];return Li(r,e.arbeidsforhold.eksternArbeidsforholdId)},ek=e=>e.beregningsgrunnlagPrStatusOgAndel?e.beregningsgrunnlagPrStatusOgAndel:[],HR=(e,n)=>{const r=UR(e,n),t=Xu(e);return{visningsnavn:r,nøkkel:t,naturalytelseEndringer:[]}},ZR=e=>{var n;return!!((n=e.arbeidsforhold)!=null&&n.naturalytelseBortfaltPrÅr)},JR=(e,n)=>{if(!e||e.length<1)return[];const r=[];return e.forEach(t=>{ek(t).filter(i=>ZR(i)).map(i=>HR(i,n)).forEach(i=>{r.some(({nøkkel:s})=>s===i.nøkkel)||r.push(i)})}),r},WR=(e,n)=>{const r=ek(e).find(t=>Xu(t)===n);return(r&&r.arbeidsforhold?r.arbeidsforhold.naturalytelseBortfaltPrÅr:0)||0},QR=(e,n)=>{const r=[];return n.forEach(t=>{const i=WR(t,e.nøkkel);i&&r.push({fom:t.beregningsgrunnlagPeriodeFom||"",tom:t.beregningsgrunnlagPeriodeTom||"",beløpPrÅr:i,beløpPrMåned:i/12})}),r},qR=e=>{if(!e||e.length<2)return e;e.sort((t,i)=>x(t.fom).diff(x(i.fom)));const n=[];let r=x(e[0].fom);return e.forEach(t=>{if(!x(t.fom).isBefore(r)){const i=e.find(s=>x(s.fom).isAfter(t.fom)&&s.beløpPrÅr!==t.beløpPrÅr);if(i){const s=x(i.fom).subtract(1,"d");n.push({tom:s.format(Pe),fom:t.fom,beløpPrÅr:t.beløpPrÅr,beløpPrMåned:t.beløpPrMåned}),r=s}else r=x(Ce),n.push({tom:"",fom:t.fom,beløpPrÅr:t.beløpPrÅr,beløpPrMåned:t.beløpPrMåned})}}),n},XR=(e,n)=>{const r=JR(e,n);return r.forEach(t=>{const i=QR(t,e);qR(i).forEach(s=>t.naturalytelseEndringer.push(s))}),!r||r.length<1?void 0:{rader:r}},e1=e=>e.tom?`${$e(e.fom)} - ${$e(e.tom)}`:`${$e(e.fom)} -`,n1=e=>e.rader.map(n=>a.jsxs("div",{children:[a.jsx(S,{children:a.jsx(p,{className:V.noPaddingRight,children:a.jsx($,{size:"small",children:n.visningsnavn})})}),n.naturalytelseEndringer.map(r=>a.jsxs(S,{children:[a.jsx(p,{className:V.tabellAktivitet,children:a.jsx(A,{size:"small",children:e1(r)})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(A,{size:"small",children:C(r.beløpPrMåned)})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx($,{size:"small",children:C(r.beløpPrÅr)})})]},n.nøkkel+r.fom))]},n.nøkkel)),r1=({allePerioder:e,arbeidsgiverOpplysningerPerId:n})=>{const r=b.useMemo(()=>XR(e,n),[e]);return r?a.jsxs(a.Fragment,{children:[a.jsx(I,{thirtyTwoPx:!0}),a.jsx($,{size:"small",className:V.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Naturalytelse2"})}),a.jsxs(S,{children:[a.jsx(p,{className:V.tabellAktivitet}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(me,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(me,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),n1(r)]}):null},t1=e=>e.overstyrtPrAar!==null&&e.overstyrtPrAar!==void 0?!0:e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,nk=e=>e?e.filter(n=>n.aktivitetStatus===D.ARBEIDSTAKER).filter(n=>t1(n)):[],i1=e=>{const n=[];return Object.prototype.hasOwnProperty.call(e,"startdato")&&e.startdato&&n.push($e(e.startdato)),Object.prototype.hasOwnProperty.call(e,"opphoersdato")&&e.opphoersdato&&(n.push("-"),n.push($e(e.opphoersdato))),n.join(" ")},s1=e=>{const n=[""];return Object.prototype.hasOwnProperty.call(e,"stillingsNavn")&&e.stillingsNavn&&n.push(e.stillingsNavn),Object.prototype.hasOwnProperty.call(e,"stillingsProsent")&&e.stillingsProsent&&n.push(`${e.stillingsProsent}%`),n.length!==0?n.join(" "):" "},Dd=e=>e.beregnetPrAar?e.beregnetPrAar:0,a1=(e,n,r)=>{const t=e.reduce((l,d)=>l+Dd(d),0),i=t?t/12:0,s=e.map((l,d)=>{var o,u,k;return a.jsxs(J.Fragment,{children:[a.jsxs(se,{children:[a.jsxs(S,{children:[a.jsx(p,{className:V.tabellAktivitet,children:a.jsx($,{size:"small",className:V.semiBoldText,children:Cs(l,r,n)},`ColLableTxt${d+1}`)}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(A,{children:C(Dd(l)/12)},`ColBrgMndTxt${(o=l.arbeidsforhold)==null?void 0:o.arbeidsgiverIdent}`)}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx($,{children:C(l.beregnetPrAar)},`ColBrgAarTxt${(u=l.arbeidsforhold)==null?void 0:u.arbeidsgiverIdent}`)})]}),a.jsxs(S,{children:[l.arbeidsforhold&&l.arbeidsforhold.stillingsNavn&&a.jsx(p,{children:a.jsx(A,{children:s1(l.arbeidsforhold)})}),l.arbeidsforhold&&l.arbeidsforhold.startdato&&a.jsx(p,{children:a.jsx(me,{size:"small",children:i1(l.arbeidsforhold)})}),l.erTidsbegrensetArbeidsforhold&&a.jsx(p,{children:a.jsx(me,{children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Tidsbegrenset"})})})]},`indexD${(k=l.arbeidsforhold)==null?void 0:k.arbeidsgiverIdent}`)]}),a.jsx(I,{eightPx:!0}),a.jsx(An,{prosentBredde:100})]},`ArbInntektWrapper${Cs(l,r,n)}${d+1}`)});if(e.length>1){const l=a.jsx(se,{children:a.jsxs(S,{children:[a.jsx(p,{className:V.tabellAktivitet,children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.TotaltArbeidsinntekt"})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(A,{children:C(i)})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx($,{children:C(t)})})]})},"SummaryRow");s.push(l)}return s},Gi=({alleAndelerIFørstePeriode:e,allePerioder:n,arbeidsgiverOpplysningerPerId:r,kodeverkSamling:t})=>{const i=nk(e);return!i||i.length===0?null:a.jsxs(a.Fragment,{children:[a.jsx(S,{children:a.jsx(p,{children:a.jsx(je,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt"})})})}),a.jsx(se,{children:a.jsxs(S,{children:[a.jsx(p,{className:V.tabellAktivitet}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(me,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(me,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]})}),a.jsx(An,{prosentBredde:100}),a1(i,t,r),a.jsx(r1,{allePerioder:n,arbeidsgiverOpplysningerPerId:r})]})};Gi.defaultProps={allePerioder:void 0};Gi.buildInitialValues=e=>{const n=nk(e),r={};return n.forEach((t,i)=>{r[`inntekt${i}`]=C(t.overstyrtPrAar)||""}),r};const l1="_lesMer_1w256_1",d1="_overskrift_1w256_4",o1="_merTekstBorder_1w256_9",g1={lesMer:l1,overskrift:d1,merTekstBorder:o1},u1=e=>{const n=e==null?void 0:e.virksomhetType;if(!n)return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.UDEFINERT";switch(n){case"JORDBRUK_SKOGBRUK":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.JORDBRUK_SKOGBRUK";case"DAGMAMMA":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.DAGMAMMA";case"FISKE":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FISKE";case"FRILANSER":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FRILANSER";case"ANNEN":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.ANNEN";default:return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.UDEFINERT"}},Bd=e=>{const{oppstartsdato:n,opphørsdato:r}=e;if(n)return r?`${$e(n)}-${$e(r)} `:`${$e(n)}-`},k1=e=>{const{regnskapsførerNavn:n,regnskapsførerTlf:r}=e;if(n)return r?`${n}-${r} `:`${n}-`},m1=(e,n)=>{const r=n[e.orgnr];return r?r.navn:"Ukjent bedriftsnavn"},c1=e=>{const{oppstartsdato:n,erVarigEndret:r,endringsdato:t}=e,i=r?"Beregningsgrunnlag.NaeringsOpplysningsPanel.VarigEndret":"Beregningsgrunnlag.NaeringsOpplysningsPanel.Nyoppstaret",s=r?t:n;return s?a.jsx($,{size:"small",className:V.semiBoldText,children:a.jsx(m,{id:i,values:{dato:$e(s),b:l=>a.jsx("b",{children:l})}})}):null},f1=e=>{const{erNyoppstartet:n,erVarigEndret:r}=e;return!!r||!!n},p1=e=>e.begrunnelse&&e.begrunnelse!==""?a.jsx(A,{size:"small",className:g1.merTekstBorder,children:e.begrunnelse}):null,j1=e=>!!e.oppgittInntekt||e.oppgittInntekt===0,v1=({alleAndelerIForstePeriode:e,arbeidsgiverOpplysningerPerId:n})=>{const r=e.find(t=>t.aktivitetStatus===D.SELVSTENDIG_NAERINGSDRIVENDE);return r!=null&&r.næringer?a.jsxs(a.Fragment,{children:[a.jsxs(S,{children:[a.jsx(p,{className:V.tabellAktivitet,children:a.jsx(je,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.NaeringsOpplysningsPanel.Overskrift"})})}),a.jsx(p,{className:V.tabellAktivitet}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(me,{children:a.jsx(m,{id:"Beregningsgrunnlag.NaeringsOpplysningsPanel.OppgittAar"})})})]}),a.jsx(An,{prosentBredde:100}),r.næringer.map(t=>a.jsxs(J.Fragment,{children:[a.jsxs(S,{children:[a.jsx(p,{className:V.næringOpplysningNavn,children:a.jsx($,{size:"small",className:V.semiBoldText,children:m1(t,n)})}),a.jsx(p,{className:V.næringOpplysningInntekt,children:j1(t)&&a.jsx($,{size:"small",children:C(t.oppgittInntekt)})})]}),a.jsxs(S,{children:[a.jsx(p,{className:V.næringOpplysningOrgnr,children:a.jsx(A,{size:"small",children:t&&t.orgnr?t.orgnr:""})}),a.jsx(p,{className:V.næringOpplysningDato,children:Bd(t)&&a.jsx(A,{size:"small",children:Bd(t)})})]},`NaringsDetaljer${t.orgnr}`),a.jsx(S,{children:a.jsx(p,{children:a.jsx(A,{size:"small",children:a.jsx(m,{id:u1(t)})})})}),a.jsx(S,{children:a.jsx(p,{children:t.regnskapsførerNavn&&a.jsx(A,{size:"small",children:k1(t)})})},`RevisorRad${t.orgnr}`),f1(t)&&a.jsxs(a.Fragment,{children:[a.jsx(An,{prosentBredde:100}),a.jsx(I,{twentyPx:!0}),c1(t),a.jsx(I,{eightPx:!0}),a.jsx(S,{className:V.næringEndringBeskrivelse,children:a.jsx(p,{children:p1(t)})})]})]},`NaringsWrapper${t.orgnr}`))]}):null},{FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:b1,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:h1}=ge,I1=e=>e&&e.find(n=>n.definisjon===b1||n.definisjon===h1),A1=e=>e&&e.length>0?e[0].beregningsgrunnlagPrStatusOgAndel||[]:[],zn=a.jsx("div",{className:V.storSpace}),x1=(e,n,r,t,i,s,l,d)=>a.jsxs("div",{className:V.panelLeft,children:[n.isArbeidstaker&&a.jsx(Gi,{alleAndelerIFørstePeriode:e,allePerioder:r,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:s}),n.isFrilanser&&a.jsxs(a.Fragment,{children:[zn,a.jsx(RR,{alleAndeler:e})]}),n.harDagpengerEllerAAP&&a.jsxs("div",{children:[zn,a.jsx(JM,{alleAndeler:e,relevanteStatuser:n,gjelderBesteberegning:t})]}),n.isMilitaer&&a.jsxs(a.Fragment,{children:[zn,a.jsx(WM,{alleAndeler:e})]}),n.harAndreTilstotendeYtelser&&a.jsxs(a.Fragment,{children:[zn,a.jsx(VM,{bruttoPrAar:r[0].bruttoPrAar})]}),(n.isSelvstendigNaeringsdrivende||n.isMidlertidigInaktiv)&&a.jsxs(a.Fragment,{children:[zn,a.jsx(KM,{alleAndeler:e,inntektsgrunnlag:d}),zn,a.jsx(v1,{alleAndelerIForstePeriode:e,arbeidsgiverOpplysningerPerId:s})]}),(n.isFrilanser||n.isArbeidstaker)&&d&&l&&a.jsxs(a.Fragment,{children:[zn,a.jsx(YR,{sammenligningsGrunnlagInntekter:d,sammenligningsgrunnlag:l})]})]}),Fn=({relevanteStatuser:e,allePerioder:n,gjelderBesteberegning:r,kodeverkSamling:t,sammenligningsGrunnlagInntekter:i,arbeidsgiverOpplysningerPerId:s,sammenligningsgrunnlag:l})=>{if(!n)return null;const d=A1(n);return x1(d,e,n,r,t,s,l,i)};Fn.defaultProps={allePerioder:void 0,sammenligningsGrunnlagInntekter:void 0};Fn.buildInitialValues=e=>{const n=I1(e);return{ATFLVurdering:n&&n.begrunnelse?n.begrunnelse:""}};Fn.transformATFLValues=(e,n)=>({begrunnelse:e.ATFLVurdering,inntektPrAndelList:$a.transformValues(e,n),inntektFrilanser:e.inntektFrilanser!==void 0?fe(e.inntektFrilanser):null});Fn.transformATFLTidsbegrensetValues=(e,n)=>({begrunnelse:e.ATFLVurdering,fastsatteTidsbegrensedePerioder:Rt.transformValues(e,n),frilansInntekt:e.inntektFrilanser!==void 0?fe(e.inntektFrilanser):null});const{VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:rk,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:La,FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:tk,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:ik,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:sk}=ge,T1=(e,n)=>{switch(e.definisjon){case rk:return n.find(r=>r.sammenligningsgrunnlagType===pe.ATFLSN||r.sammenligningsgrunnlagType===pe.SN);case La:return n.find(r=>r.sammenligningsgrunnlagType===pe.MIDLERTIDIG_INAKTIV);case tk:case ik:return n.find(r=>r.sammenligningsgrunnlagType===pe.ATFLSN||r.sammenligningsgrunnlagType===pe.AT_FL||r.sammenligningsgrunnlagType===pe.AT||r.sammenligningsgrunnlagType===pe.FL);case sk:return;default:return}},N1=(e,n)=>{const r=T1(e,n),t=r&&r.avvikProsent?r.avvikProsent:0;return Number(t.toFixed(1))},Fd=e=>e&&e.length>0,E1=e=>e.sammenligningsgrunnlagPrStatus?e.sammenligningsgrunnlagPrStatus:[],y1={[tk]:"Beregningsgrunnlag.Helptext.Arbeidstaker",[ik]:"Beregningsgrunnlag.Helptext.TidsbegrensetArbeidsforhold",[sk]:"Beregningsgrunnlag.Helptext.NyIArbeidslivetSN",[La]:"Beregningsgrunnlag.Helptext.VarigEndretArbeidssituasjon"},S1=(e,n)=>e.definisjon===rk?n?"Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.VarigEndring":"Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.Nyoppstartet":y1[e.definisjon],P1=(e,n,r)=>{var t;const i=r.find(l=>l.aktivitetStatus===D.SELVSTENDIG_NAERINGSDRIVENDE),s=!!((t=i==null?void 0:i.næringer)!=null&&t.some(l=>l.erVarigEndret===!0));return a.jsxs("div",{children:[a.jsx(hi,{children:e.map(l=>a.jsx($,{children:a.jsx(m,{id:S1(l,s||l.definisjon===La),values:{verdi:N1(l,n),b:d=>a.jsx("b",{children:d}),br:a.jsx("br",{})}})},l.definisjon))}),a.jsx(I,{thirtyTwoPx:!0})]})},_1=({avklaringsbehov:e,beregningsgrunnlag:n})=>{const r=n.beregningsgrunnlagPeriode?n.beregningsgrunnlagPeriode[0]:void 0,t=r&&r.beregningsgrunnlagPrStatusOgAndel?r.beregningsgrunnlagPrStatusOgAndel:[],i=e.filter(l=>dn(l.status));if(!(Fd(i)&&Fd(t)))return null;const s=E1(n);return a.jsxs(a.Fragment,{children:[a.jsx(I,{eightPx:!0}),P1(i,s,t)]})},M1="_aksjonspunktBehandlerBorder_o9hgh_1",R1="_aksjonspunktBehandlerContainer_o9hgh_6",O1="_verticalLine_o9hgh_16",D1="_verticalAlignMiddle_o9hgh_23",B1="_inputPadding_o9hgh_27",F1="_inntektTableTB_o9hgh_35",$1="_inntektTableTB_o9hgh_35",L1="_rowSpacer_o9hgh_39",V1="_textAreaWrapper_o9hgh_71",G1="_textAreaWrapperHeigh_o9hgh_74",C1="_dynamiskKolonne_o9hgh_81",z1={aksjonspunktBehandlerBorder:M1,aksjonspunktBehandlerContainer:R1,verticalLine:O1,verticalAlignMiddle:D1,inputPadding:B1,inntektTableTB:F1,inntektTableTb:$1,rowSpacer:L1,textAreaWrapper:V1,textAreaWrapperHeigh:G1,dynamiskKolonne:C1},$d=(e,n,r)=>a.jsx(S,{children:a.jsx(p,{children:a.jsx(A,{size:"small",children:a.jsx(m,{id:e,values:{fom:x(n).format(te),tom:x(r).format(te)}})})})}),w1=e=>{const n=e.frisinnAndeler.find(t=>t.statusSøktFor===D.SELVSTENDIG_NAERINGSDRIVENDE),r=e.frisinnAndeler.find(t=>t.statusSøktFor===D.FRILANSER);return a.jsxs("div",{children:[r&&$d("Beregningsgrunnlag.Søknad.SøktYtelseFL",e.fom,e.tom),n&&$d("Beregningsgrunnlag.Søknad.SøktYtelseSN",e.fom,e.tom)]},e.fom)},K1=({beregningsgrunnlag:e})=>{const n=e.ytelsesspesifiktGrunnlag,{frisinnPerioder:r}=n;return a.jsxs("div",{children:[a.jsx(S,{children:a.jsx(p,{children:a.jsx($,{size:"small",className:V.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.Søknad.Tittel"})})})}),a.jsx(I,{eightPx:!0}),Array.isArray(r)&&r.map(t=>w1(t)),a.jsx(I,{sixteenPx:!0})]})},Ld=(e,n)=>{if(!e)return 0;const r=e.filter(t=>t.aktivitetStatus===n).map(({bruttoPrAar:t})=>t||0).reduce((t,i)=>t+i,0);return!r||r===0?0:r},ak=e=>e.month()===2&&e.year()===2020,Y1=e=>{const n=x(e.tom);return ak(n)},lk=(e,n,r)=>{const{frisinnPerioder:t}=r;if(!Array.isArray(t))return null;const i=x(n.beregningsgrunnlagPeriodeFom);if(ak(i)&&t.some(d=>Y1(d))){const d=x("2020-04-30"),o=t.find(u=>x(u.tom).isSame(d,"day"));return o?o.frisinnAndeler.filter(u=>u.statusSøktFor===e):null}const s=x(n.beregningsgrunnlagPeriodeTom).endOf("month"),l=t.find(d=>!x(d.fom).isBefore(i)&&x(d.tom).isSame(s,"day"));return l?l.frisinnAndeler.filter(d=>d.statusSøktFor===e):null},yr=(e,n,r)=>{const t=lk(e,n,r);return!!t&&t.length>0},an=(e,n,r)=>{if(!e||!n||!r)return 0;if(yr(e,r,n.ytelsesspesifiktGrunnlag)){const t=n.beregningsgrunnlagPeriode[0];return Ld(t.beregningsgrunnlagPrStatusOgAndel||[],e)}return Ld(r.beregningsgrunnlagPrStatusOgAndel||[],e)},Vd=(e,n,r)=>{const t=lk(e,n,r);if(!t||t.length<1)return 0;const i=t.map(({oppgittInntekt:s})=>s).reduce((s,l)=>s+l,0);return!i||i===0?0:i},dk=e=>{const{frisinnPerioder:n,behandlingÅrsaker:r}=e;if(!Array.isArray(n))return[];if(r&&n.length>1&&r.some(t=>t===tm.RE_ENDRING_FRA_BRUKER)){const t=[...n].sort((l,d)=>l.fom.localeCompare(d.fom)),i=t[t.length-1],s=x(i.tom);return s.month()===3&&s.year()===2020?t.filter(l=>x(l.fom).month()===3||x(l.fom).month()===2):t.filter(l=>x(l.fom).month()===s.month()&&x(l.fom).year()===s.year())}return n},U1=(e,n)=>{let r=null;return n!==Ce&&(r=n),a.jsx(m,{id:"Beregningsgrunnlag.BeregningTable.Periode",values:{fom:x(e).format(te),tom:r?x(r).format(te):""}},`fom-tom${e}${r}`)},ok=(e,n)=>{const r=e.beregningsgrunnlagPeriodeFom,t=e.beregningsgrunnlagPeriodeTom,i=n.frisinnPerioder,s=Array.isArray(i)&&i.find(l=>!x(r).isBefore(l.fom)&&!x(t).isAfter(l.tom));return s?s.frisinnAndeler:[]},Gd=(e,n)=>a.jsxs(S,{children:[a.jsx(p,{className:V.tabellAktivitet,children:a.jsx(m,{id:e})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(A,{size:"small",children:C(n)})})]}),Cd=(e,n,r,t,i)=>{const s=i/100,l=n*s;return a.jsxs(a.Fragment,{children:[a.jsxs(S,{children:[a.jsx(p,{className:V.tabellAktivitet,children:a.jsx(m,{id:e,values:{grad:i}})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(A,{size:"small",children:C(l)})})]}),!!t||t===0&&a.jsxs(S,{children:[a.jsx(p,{className:V.tabellAktivitet,children:a.jsx(m,{id:r})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(A,{size:"small",children:C(t)})})]})]})},Yt=e=>e||e===0,H1=e=>{const n=x(e);return n.isBefore(x("2020-11-01","YYYY-MM-DD"))?80:n.isBefore(x("2022-01-01","YYYY-MM-DD"))?60:70},Z1=(e,n,r,t)=>{const i=ok(e,n);if(!i||i.length<1)return null;const s=i.some(k=>k.statusSøktFor===D.FRILANSER)?r:null,l=i.some(k=>k.statusSøktFor===D.SELVSTENDIG_NAERINGSDRIVENDE)?t:null,d=Vd(D.FRILANSER,e,n),o=Vd(D.SELVSTENDIG_NAERINGSDRIVENDE,e,n),u=H1(e.beregningsgrunnlagPeriodeFom);return a.jsxs(a.Fragment,{children:[Yt(s)&&Gd("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagFL",s||0),Yt(s)&&Cd("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertFL",s||0,"Beregningsgrunnlag.Søknad.LøpendeFL",d,u),Yt(l)&&Gd("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagSN",l||0),Yt(l)&&Cd("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertSN",l||0,"Beregningsgrunnlag.Søknad.LøpendeSN",o,u),a.jsx(S,{children:a.jsx(p,{children:a.jsx("div",{className:V.colDevider})})}),a.jsxs(S,{children:[a.jsx(p,{className:V.tabellAktivitet,children:a.jsx(me,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Resultat.Dagsats"})})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(A,{size:"small",children:C(e.dagsats)})})]})]})},J1=({bgperiode:e,ytelsegrunnlag:n,frilansGrunnlag:r,næringGrunnlag:t})=>{const i=ok(e,n);if(!i||i.length<1)return null;const s=r>=0?r:0,l=t>=0?t:0;return a.jsxs("div",{children:[a.jsx(I,{eightPx:!0}),a.jsx(S,{children:a.jsx(p,{children:a.jsx($,{size:"small",children:U1(e.beregningsgrunnlagPeriodeFom,e.beregningsgrunnlagPeriodeTom)})})}),Z1(e,n,s,l)]})},gk=e=>e.grunnbeløp?e.grunnbeløp*6:0,W1=(e,n)=>{if(!yr(D.FRILANSER,n,e.ytelsesspesifiktGrunnlag))return 0;let r=gk(e);const t=an(D.ARBEIDSTAKER,e,n);if(r-=t,!yr(D.SELVSTENDIG_NAERINGSDRIVENDE,n,e.ytelsesspesifiktGrunnlag)){const s=an(D.SELVSTENDIG_NAERINGSDRIVENDE,e,n);r-=s}const i=an(D.FRILANSER,e,n);return i>r?r:i},Q1=(e,n)=>{if(!yr(D.SELVSTENDIG_NAERINGSDRIVENDE,n,e.ytelsesspesifiktGrunnlag))return 0;let r=gk(e);const t=an(D.ARBEIDSTAKER,e,n);r-=t;const i=an(D.FRILANSER,e,n);r-=i;const s=an(D.SELVSTENDIG_NAERINGSDRIVENDE,e,n);return s>r?r:s},q1=(e,n)=>{const r=x(e.beregningsgrunnlagPeriodeFom),t=x(e.beregningsgrunnlagPeriodeTom);return Array.isArray(n)&&n.some(i=>!x(i.fom).isBefore(r)&&!x(i.tom).isAfter(t))},X1=({beregningsgrunnlag:e})=>{const n=dk(e.ytelsesspesifiktGrunnlag),r=Array.isArray(e.beregningsgrunnlagPeriode)?e.beregningsgrunnlagPeriode.filter(t=>q1(t,n)):[];return a.jsxs("div",{children:[a.jsx(S,{children:a.jsx(p,{children:a.jsx($,{size:"small",className:V.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.Resultat"})})})}),r.map(t=>a.jsx("div",{children:a.jsx(J1,{bgperiode:t,ytelsegrunnlag:e.ytelsesspesifiktGrunnlag,frilansGrunnlag:W1(e,t),næringGrunnlag:Q1(e,t)},t.beregningsgrunnlagPeriodeFom)},t.beregningsgrunnlagPeriodeFom))]})},eO=({beregningsgrunnlag:e})=>{if(e.beregningsgrunnlagPeriode.length<2)return null;const n=e.beregningsgrunnlagPeriode.sort((l,d)=>l.beregningsgrunnlagPeriodeFom.localeCompare(d.beregningsgrunnlagPeriodeFom)),r=n[n.length-2],t=an(D.SELVSTENDIG_NAERINGSDRIVENDE,e,r),i=an(D.FRILANSER,e,r),s=an(D.ARBEIDSTAKER,e,r);return a.jsxs("div",{children:[a.jsx(S,{children:a.jsx(p,{children:a.jsx($,{size:"small",className:V.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.Søknad.Inntektsopplysninger"})})})}),a.jsxs(S,{children:[a.jsx(p,{className:V.tabellAktivitet,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektAT"})})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx($,{size:"small",children:C(s)})})]}),a.jsxs(S,{children:[a.jsx(p,{className:V.tabellAktivitet,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektFL"})})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx($,{size:"small",children:C(i)})})]}),a.jsxs(S,{children:[a.jsx(p,{className:V.tabellAktivitet,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektSN"})})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx($,{size:"small",children:C(t)})})]})]})},nO=x("2020-04-01"),rO=(e,n,r)=>a.jsxs(S,{children:[a.jsx(p,{className:V.tabellAktivitet,children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.Inntektstak",values:{grenseverdi:C(e),annenInntekt:C(n)}})}),a.jsx(p,{className:V.tabellInntekt,children:a.jsx(A,{size:"small",children:C(r)})})]}),tO=(e,n)=>{if(!Array.isArray(n))return!1;const r=x(e.beregningsgrunnlagPeriodeFom),t=x(e.beregningsgrunnlagPeriodeTom);return n.some(i=>!x(i.fom).isBefore(r)&&!x(i.tom).isAfter(t))},iO=(e,n)=>{const r=[];return Array.isArray(e)&&e.forEach(t=>{if(tO(t,n)){const i=x(t.beregningsgrunnlagPeriodeTom),s=x(t.beregningsgrunnlagPeriodeTom).endOf("month");i.isAfter(nO)&&i.isSame(s,"day")&&t.beregningsgrunnlagPeriodeTom!==Ce&&r.push(t)}}),r},sO=(e,n)=>{const r=x(n.beregningsgrunnlagPeriodeFom),t=x(e.fom);return r.year()===t.year()&&r.month()===t.month()&&t.isBefore(r)},aO=(e,n)=>{const r=e.ytelsesspesifiktGrunnlag,t=an(D.ARBEIDSTAKER,e,n),i=e.grunnbeløp*6;let s=t;if(!yr(D.FRILANSER,n,r)){const k=an(D.FRILANSER,e,n);s+=k}if(!yr(D.SELVSTENDIG_NAERINGSDRIVENDE,n,r)){const k=an(D.SELVSTENDIG_NAERINGSDRIVENDE,e,n);s+=k}const l=i>s?i-s:0,d=n.beregningsgrunnlagPeriodeTom,o=Array.isArray(r.frisinnPerioder)&&r.frisinnPerioder.find(k=>sO(k,n)),u=o?o.fom:n.beregningsgrunnlagPeriodeFom;return a.jsxs(a.Fragment,{children:[a.jsx(S,{children:a.jsx(p,{children:a.jsx($,{size:"small",className:V.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektstakOpplysningerPeriode",values:{fom:x(u).format(te),tom:d?x(d).format(te):""}},`fom-tom${u}${d}`)})})}),a.jsx(I,{eightPx:!0}),rO(i,s,l),a.jsx(I,{sixteenPx:!0})]})},lO=({beregningsgrunnlag:e})=>{const n=dk(e.ytelsesspesifiktGrunnlag),r=iO(e.beregningsgrunnlagPeriode,n);return a.jsx(a.Fragment,{children:r.map(t=>a.jsx("div",{children:aO(e,t)},t.beregningsgrunnlagPeriodeFom))})},dO=e=>e.beregningsgrunnlagPeriode.some(n=>n.dagsats||n.dagsats===0),oO=({beregningsgrunnlag:e})=>a.jsxs("div",{className:z1.aksjonspunktBehandlerContainer,children:[a.jsx(me,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.Tittel"})}),a.jsx(I,{sixteenPx:!0}),a.jsx(K1,{beregningsgrunnlag:e}),a.jsx(I,{sixteenPx:!0}),a.jsx(eO,{beregningsgrunnlag:e}),a.jsx(I,{sixteenPx:!0}),dO(e)&&a.jsxs(a.Fragment,{children:[a.jsx(lO,{beregningsgrunnlag:e}),a.jsx(I,{sixteenPx:!0}),a.jsx(X1,{beregningsgrunnlag:e})]})]}),gO=e=>a.jsx(oO,{beregningsgrunnlag:e}),uO=({beregningsgrunnlag:e})=>{const n=e.ytelsesspesifiktGrunnlag;return n&&n.ytelsetype===yo.FRISINN?gO(e):null},kO=({relevanteStatuser:e,erManueltBesteberegnet:n,erNyIArbeidslivet:r,sammenligningsgrunnlag:t})=>{if(r)return a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.SN.NyIArbeidslivet"})});if(!t||t.length<1)return null;const i=(e.isArbeidstaker||e.isFrilanser)&&e.isSelvstendigNaeringsdrivende,s=t.filter(d=>d.sammenligningsgrunnlagType===pe.AT_FL||d.sammenligningsgrunnlagType===pe.AT||d.sammenligningsgrunnlagType===pe.FL),l=i&&s.length===0;return n?a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.Besteberegning"})}):a.jsxs(a.Fragment,{children:[e.isMilitaer&&a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.Miletar"})}),e.isAAP&&a.jsxs(S,{children:[a.jsx(p,{children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.AAP"})})}),a.jsx(I,{eightPx:!0})]}),e.isDagpenger&&a.jsxs(a.Fragment,{children:[a.jsx(S,{children:a.jsx(p,{children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.Dagpenger"})})})}),a.jsx(I,{eightPx:!0})]}),l&&a.jsxs(S,{children:[a.jsx(p,{children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.AT.KobinasjonsStatusATFLSN"})})}),a.jsx(I,{eightPx:!0})]})]})},mO="_colLable_di1r8_1",cO="_colValue_di1r8_8",fO="_avvikLinjeRad_di1r8_16",pO="_linjeSkille_di1r8_21",jO="_linjeSkilleTykk_di1r8_27",vO="_colLine_di1r8_33",bO="_colAvvik_di1r8_36",hO="_colBorderTopLeft_di1r8_45",IO="_colBorderTop_di1r8_45",AO="_colNoBorderTop_di1r8_58",xO="_beregnetLuftOver_di1r8_61",un={colLable:mO,colValue:cO,avvikLinjeRad:fO,linjeSkille:pO,linjeSkilleTykk:jO,colLine:vO,colAvvik:bO,colBorderTopLeft:hO,colBorderTop:IO,colNoBorderTop:AO,beregnetLuftOver:xO},zd=a.jsx(S,{children:a.jsx(p,{children:a.jsx("div",{className:un.linjeSkille})})}),TO=({beregnetAarsinntekt:e,sammenligningsgrunnlag:n,erPGI:r})=>{const{differanseBeregnet:t,rapportertPrAar:i,avvikProsent:s}=n,l=parseFloat(s.toFixed(1)),d=r?"Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt.Naring":"Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt",o=r?"Beregningsgrunnlag.Avviksopplysninger.SamletInntekt":"Beregningsgrunnlag.Avviksopplysninger.RapportertAarsinntekt";return a.jsxs(a.Fragment,{children:[zd,a.jsxs(S,{children:[a.jsx(p,{className:un.colLable,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:d})})}),a.jsx(p,{className:un.colValue,children:a.jsx(A,{size:"small",children:e||e===0?C(e):"-"})}),a.jsx(p,{className:un.colAvvik})]}),zd,a.jsxs(S,{children:[a.jsx(p,{className:un.colLable,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:o})})}),a.jsx(p,{className:un.colValue,children:a.jsx(A,{size:"small",children:C(i)})}),a.jsx(p,{className:un.colAvvik})]}),a.jsx(S,{children:a.jsx(p,{children:a.jsx("div",{className:un.linjeSkilleTykk})})}),a.jsxs(S,{children:[a.jsx(p,{className:un.colLable,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.BeregnetAvvik"})})}),a.jsx(p,{className:un.colValue,children:a.jsx(A,{size:"small",children:C(t===void 0?0:t)})}),a.jsx(p,{className:un.colAvvik,children:a.jsx(A,{size:"small",className:`${l>25?V.redError:""} ${V.semiBoldText}`,children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.AvvikProsent",values:{avvik:l}})})})]})]})},NO=e=>e.some(n=>n.aktivitetStatus===D.FRILANSER&&(n.overstyrtPrAar||n.overstyrtPrAar===0)),Va=({readOnly:e,fieldIndex:n,formName:r,alleAndelerIForstePeriode:t})=>a.jsxs(S,{className:de.verticalAlignMiddle,children:[a.jsx(p,{className:de.atflAvvikAktivitet,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerFL"})})}),a.jsx(p,{className:de.atflAvvikInntekt,children:a.jsx("div",{id:"readOnlyWrapper",className:e?de.inputPadding:void 0,children:a.jsx(Ae,{name:`${r}.${n}.inntektFrilanser`,validate:[Q,vn(178956970)],readOnly:e,parse:Le,className:de.breddeInntekt,isEdited:e&&NO(t)})})})]});Va.buildInitialValues=e=>{const n=e.length>0?C(e[0].overstyrtPrAar):void 0;return n?{inntektFrilanser:n}:{}};const EO=jn(1500),yO=pn(3),Ga="fastsettBeregningsgrnunnlagSNBegrunnelse",Ca="bruttoBeregningsgrunnlag",{FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:SO}=ge,Vr=({readOnly:e,isAksjonspunktClosed:n,erNyArbLivet:r,fieldIndex:t,formName:i})=>{const s=q();return a.jsxs(a.Fragment,{children:[r&&a.jsxs(a.Fragment,{children:[a.jsxs(S,{className:de.verticalAlignMiddle,children:[a.jsx(p,{className:de.dynamiskKolonne,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.BruttoBerGr2"})})}),a.jsx(p,{children:a.jsx("div",{id:"readOnlyWrapper",className:e?de.inputPadding:void 0,children:a.jsx(Ae,{name:`${i}.${t}.${Ca}`,validate:[Q,vn(178956970)],parse:Le,className:de.breddeInntekt,isEdited:e&&n,readOnly:e})})})]}),a.jsx(I,{eightPx:!0})]}),a.jsx(I,{sixteenPx:!0}),a.jsx(S,{children:a.jsx(p,{children:a.jsx("div",{id:"readOnlyWrapper",className:e?de.verticalLine:de.textAreaWrapperHeigh,children:a.jsx(Xe,{name:`${i}.${t}.${Ga}`,label:a.jsx(m,{id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag"}),validate:[Q,EO,yO,fn],isEdited:e&&n,maxLength:1500,readOnly:e,description:s.formatMessage({id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst"}),parse:l=>l.toString().replaceAll("‑","-").replaceAll("	"," ")})})})})]})};Vr.buildInitialValuesNyIArbeidslivet=(e,n)=>{const r=e.find(i=>i.aktivitetStatus===D.SELVSTENDIG_NAERINGSDRIVENDE),t=n.find(i=>i.definisjon===SO);return{[Ca]:r?C(r.overstyrtPrAar):void 0,[Ga]:t&&t.begrunnelse?t.begrunnelse:void 0}};Vr.transformValuesNyIArbeidslivet=e=>({begrunnelse:e[Ga],bruttoBeregningsgrunnlag:fe(e[Ca])});const PO=jn(1500),_O=pn(3),za="varigEndringNyoppstartetBegrunnelse",wa="erVarigEndret",Ka="bruttoBeregningsgrunnlag",{VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:MO,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:RO}=ge,OO=e=>e?a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndretInntektFastsettesTil"}):a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.BruttoBerGr2"}),Ot=({readOnly:e,erVarigEndring:n,erVarigEndretArbeidssituasjon:r,erNyoppstartet:t,fieldIndex:i,formName:s,isAksjonspunktClosed:l})=>{let d=a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IngenEndring"}),o=a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.EndretNaering"});t&&!n&&(d=a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeNyoppstartet"}),o=a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.Nyoppstartet"})),n&&!t&&(d=a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeVarigEndring"}),o=a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndring"}));let u="Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringNæring";r&&(u="Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringArbeid"),t&&(u="Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelNyoppstartetNæring");const k=q(),f=Se().watch(s)[i].erVarigEndret,v=[{value:"false",label:d},{value:"true",label:o}];return a.jsxs(a.Fragment,{children:[a.jsx(S,{children:a.jsx(p,{children:a.jsx(Ne,{name:`${s}.${i}.${wa}`,validate:[Q],label:k.formatMessage({id:u}),isHorizontal:!1,isReadOnly:e,isEdited:e&&l,radios:v,isTrueOrFalseSelection:!0})})}),f&&a.jsxs(a.Fragment,{children:[a.jsxs(S,{className:de.verticalAlignMiddle,children:[a.jsx(p,{className:de.dynamiskKolonne,children:a.jsx(A,{size:"small",children:OO(r)})}),a.jsx(p,{children:a.jsx("div",{id:"readOnlyWrapper",className:e?de.inputPadding:void 0,children:a.jsx(Ae,{name:`${s}.${i}.${Ka}`,validate:[Q,vn(178956970)],parse:Le,className:de.breddeInntekt,readOnly:e,isEdited:e&&l})})})]}),a.jsx(I,{sixteenPx:!0})]}),a.jsxs(a.Fragment,{children:[a.jsx(I,{sixteenPx:!0}),a.jsx(S,{children:a.jsx(p,{children:a.jsx(Xe,{name:`${s}.${i}.${za}`,label:a.jsx(m,{id:"Beregningsgrunnlag.Forms.Vurdering"}),validate:[Q,PO,_O,fn],maxLength:1500,readOnly:e,description:k.formatMessage({id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst"}),parse:h=>h.toString().replaceAll("‑","-").replaceAll("	"," ")})})})]})]})};Ot.buildInitialValues=(e,n)=>{const r=e.find(i=>i.aktivitetStatus===D.SELVSTENDIG_NAERINGSDRIVENDE||i.aktivitetStatus===D.BRUKERS_ANDEL),t=n.find(i=>i.definisjon===MO||i.definisjon===RO);if(t){const i=dn(t.status)?void 0:e[0].overstyrtPrAar!==null&&e[0].overstyrtPrAar!==void 0;return{[wa]:i,[za]:t.begrunnelse?t.begrunnelse:"",[Ka]:r?C(r.overstyrtPrAar):void 0}}return{}};Ot.transformValues=e=>{const n=e[wa];return{begrunnelse:e[za],erVarigEndretNaering:n,erVarigEndret:n,bruttoBeregningsgrunnlag:n?fe(e[Ka]):void 0}};const{FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:Ya,VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:DO,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:uk}=ge,kk=(e,n)=>n.some(r=>r.definisjon===e),BO=e=>e&&(e.definisjon===DO||e.definisjon===Ya||e.definisjon===uk),Dn=({readOnly:e,avklaringsbehov:n,erNyArbLivet:r,erVarigEndring:t,erNyoppstartet:i,fieldIndex:s,formName:l})=>{if(!BO(n))return null;const d=n?!dn(n.status):!1;return r?a.jsx(Vr,{readOnly:e,isAksjonspunktClosed:d,erNyArbLivet:r,fieldIndex:s,formName:l}):a.jsx(Ot,{readOnly:e,erVarigEndring:t,erVarigEndretArbeidssituasjon:n.definisjon===uk,erNyoppstartet:i,fieldIndex:s,formName:l,isAksjonspunktClosed:d})};Dn.defaultProps={erNyArbLivet:!1,erVarigEndring:!1,erNyoppstartet:!1};Dn.buildInitialValues=(e,n)=>kk(Ya,n)?Vr.buildInitialValuesNyIArbeidslivet(e,n):{...Ot.buildInitialValues(e,n)};Dn.transformValues=(e,n)=>kk(Ya,n)?Vr.transformValuesNyIArbeidslivet(e):Ot.transformValues(e);const FO=Ve(Ju),$O=(e,n,r,t)=>!e&&!r||n?!0:t===void 0?!e:!e&&t||t,LO=({isReadOnly:e,isSubmittable:n,isSubmitting:r,isDirty:t,text:i,onClick:s,hasEmptyRequiredFields:l})=>e?null:a.jsx(ie,{variant:"primary",size:"small",loading:r,disabled:$O(t,r,n,l),onClick:s||qs,type:s?"button":"submit",children:i||FO.formatMessage({id:"SubmitButton.ConfirmInformation"})}),{FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:VO,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:GO,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:CO,VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:zO,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:wO}=ge;var Xn=(e=>(e.ÅTTE_TRETTIFEM="8-35",e.ÅTTE_TRETTI="8-30",e))(Xn||{});const Ua=(e,n)=>pe.SN===e||pe.MIDLERTIDIG_INAKTIV===e||pe.ATFLSN===e&&n!=null&&n.find(r=>No(r))?"8-35":"8-30",ws=e=>wO===e.definisjon||zO===e.definisjon||CO===e.definisjon?"8-35":VO===e.definisjon||GO===e.definisjon?"8-30":null,{VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:mk,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:ck,FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:fk,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:pk,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:jk}=ge,KO=e=>{var n;const r=(e.beregningsgrunnlagPeriode&&e.beregningsgrunnlagPeriode.length>0?e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel||[]:[]).find(t=>t.aktivitetStatus&&t.aktivitetStatus===D.SELVSTENDIG_NAERINGSDRIVENDE);return(n=r==null?void 0:r.næringer)!=null&&n.some(t=>t.erNyoppstartet===!0)?"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerNyoppstartet":"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndring"},YO=(e,n)=>{switch(e.definisjon){case mk:return KO(n);case jk:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerSNNyIArb";case ck:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndringArbeid";case fk:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFL";case pk:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFLTidsbegrenset";default:return"Ukjent aksjonspunkt"}},UO=e=>{const n=e.aktivitetStatus||[],r=n.some(i=>xo(i)),t=n.some(i=>To(i));return r&&t?"Beregningsgrunnlag.AksjonspunktBehandler.TittelATFLAvvik":t?"Beregningsgrunnlag.AksjonspunktBehandler.TittelFLAvvik":"Beregningsgrunnlag.AksjonspunktBehandler.TittelATAvvik"},HO=(e,n)=>{switch(e.definisjon){case mk:return"Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringNyoppstartet";case jk:return"Beregningsgrunnlag.AksjonspunktBehandler.TittelSNNyIArb";case ck:return"Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringArbeid";case fk:case pk:return UO(n);default:return"Ukjent aksjonspunkt"}},ZO=({avklaringsbehov:e,beregningsgrunnlag:n,readOnly:r})=>e?a.jsxs("div",{className:r?de.aksjonspunktBehandlerNoBorder:de.aksjonspunktBehandlerHeader,children:[a.jsxs(S,{children:[!r&&a.jsx(p,{className:de.aksjonspunktBehandlerImageCol,children:a.jsx(Sr,{className:de.warningIcon})}),a.jsx(p,{className:de.aksjonspunktBehandlerTextCol,children:a.jsx($,{children:a.jsx(m,{id:HO(e,n)})})})]}),a.jsx(I,{eightPx:!0}),a.jsxs(S,{children:[!r&&a.jsx(p,{className:de.aksjonspunktBehandlerImageCol}),a.jsx(p,{className:de.aksjonspunktBehandlerTextCol,children:a.jsx(A,{children:a.jsx(m,{id:YO(e,n)})})})]})]}):null,JO=pn(3),WO=jn(1500),{FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:wd,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:Kd,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:Yd,VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:Ud,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:Hd}=ge,QO="BeregningForm",vi=(e,n)=>ws(e)===n,qO=(e,n)=>!!e.find(r=>vi(r,n)),Ha=e=>`${QO}_${e}`,Zd=(e,n)=>{if(!e||e.length<1)return!1;const r=e[0].beregningsgrunnlagPrStatusOgAndel?e[0].beregningsgrunnlagPrStatusOgAndel:[];return r==null?void 0:r.some(t=>t.aktivitetStatus===n&&t.skalFastsetteGrunnlag)},Ks=e=>e&&e.length>0?e[0].beregningsgrunnlagPrStatusOgAndel?e[0].beregningsgrunnlagPrStatusOgAndel:[]:[],XO=e=>e.some(({periodeAarsaker:n})=>n&&n.some(r=>r===mn.ARBEIDSFORHOLD_AVSLUTTET)),eD=(e,n)=>e.perioder.find(({periode:r})=>r.fom===n),nD=(e,n)=>{if(!e||!e.beregningsgrunnlagPeriode)return{};const r=e.beregningsgrunnlagPeriode,t=e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel||[],i=t.filter(u=>u.aktivitetStatus===D.ARBEIDSTAKER),s=t.filter(u=>u.aktivitetStatus===D.FRILANSER),l=t.filter(u=>u.aktivitetStatus===D.SELVSTENDIG_NAERINGSDRIVENDE||u.aktivitetStatus===D.BRUKERS_ANDEL),d={...Fn.buildInitialValues(e.avklaringsbehov),...Rt.buildInitialValues(r),...Va.buildInitialValues(s),...Gi.buildInitialValues(i)},o={...Dn.buildInitialValues(l,e.avklaringsbehov)};return n?n.sammenligningsgrunnlagType===pe.ATFLSN?{...d,...o}:n.sammenligningsgrunnlagType===pe.AT_FL?{...d}:n.sammenligningsgrunnlagType===pe.SN?{...o}:n.sammenligningsgrunnlagType===pe.MIDLERTIDIG_INAKTIV?{...o}:{}:{...Vr.buildInitialValuesNyIArbeidslivet(l,e.avklaringsbehov)}},rD=(e,n,r,t)=>{let i={};return r&&(i=nD(e,t)),{...i,periode:n.periode,erTilVurdering:n.vurderesIBehandlingen&&!n.erForlengelse,gjeldendeAvklaringsbehov:r?[r]:[],skjæringstidspunkt:e.skjaeringstidspunktBeregning,allePerioder:e.beregningsgrunnlagPeriode}},tD=(e,n,r,t)=>({[r]:e.map(i=>{var s;return rD(i,eD(n,i.vilkårsperiodeFom),i.avklaringsbehov.find(l=>vi(l,t)),(s=i.sammenligningsgrunnlagPrStatus)==null?void 0:s.find(l=>Ua(l.sammenligningsgrunnlagType,i.aktivitetStatus)===t))})}),iD=(e,n,r,t,i)=>{const s=Ks(n).find(u=>u.aktivitetStatus&&u.aktivitetStatus===D.SELVSTENDIG_NAERINGSDRIVENDE),l=s&&s.erNyIArbeidslivet,d=r.definisjon===ge.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON||s&&s.næringer&&s.næringer.some(u=>u.erVarigEndret===!0),o=s&&s.næringer&&s.næringer.some(u=>u.erNyoppstartet===!0);return!l&&!o&&!d?null:a.jsxs(a.Fragment,{children:[a.jsx(I,{eightPx:!0}),a.jsx(Dn,{readOnly:e,avklaringsbehov:r,erNyArbLivet:l,erVarigEndring:d,erNyoppstartet:o,fieldIndex:t,formName:i})]})},sD=(e,n,r,t,i,s,l,d)=>{const o=XO(r),u=Zd(r,D.FRILANSER),k=Zd(r,D.ARBEIDSTAKER);return a.jsxs(a.Fragment,{children:[a.jsx(I,{eightPx:!0}),o&&a.jsx(Rt,{readOnly:i,formName:d,allePerioder:r,kodeverkSamling:n,avklaringsbehov:e,arbeidsgiverOpplysningerPerId:t,fieldIndex:l}),!o&&k&&a.jsx($a,{readOnly:i,alleAndelerIForstePeriode:Ks(r),kodeverkSamling:n,arbeidsgiverOpplysningerPerId:t,fieldIndex:l,formName:d}),u&&a.jsx(Va,{readOnly:i,fieldIndex:l,formName:d,alleAndelerIForstePeriode:Ks(r)}),a.jsx(I,{sixteenPx:!0}),a.jsx(S,{children:a.jsx(p,{children:a.jsx(Xe,{name:`${d}.${l}.ATFLVurdering`,label:a.jsx(m,{id:"Beregningsgrunnlag.Forms.Vurdering"}),validate:[Q,WO,JO,fn],maxLength:1500,readOnly:i,className:de.textAreaStyle,description:s.formatMessage({id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst"}),parse:f=>f.toString().replaceAll("‑","-").replaceAll("	"," ")})})})]})},aD=(e,n)=>(n.aksjonspunkter.forEach(r=>{const t=e.find(i=>i.kode===r.kode);t!==void 0?(t.grunnlag.push({periode:n.periode,...r.aksjonspunktData}),t.begrunnelse=`${t.begrunnelse} ${r.aksjonspunktData.begrunnelse}`):e.push({kode:r.kode,begrunnelse:r.aksjonspunktData.begrunnelse,grunnlag:[{periode:n.periode,...r.aksjonspunktData}]})}),e),nt=(e,n)=>n!=null&&n.some(r=>r.definisjon===e),lD=e=>{const{allePerioder:n}=e;if(n.length<1)throw new Error("Ingen beregningsgrunnlagperioder, ugyldig tilstand");n.sort((t,i)=>!t.beregningsgrunnlagPeriodeFom||!i.beregningsgrunnlagPeriodeFom?0:t.beregningsgrunnlagPeriodeFom.localeCompare(i.beregningsgrunnlagPeriodeFom));const r=n[0].beregningsgrunnlagPrStatusOgAndel||[];if(nt(wd,e.gjeldendeAvklaringsbehov))return[{kode:wd,aksjonspunktData:Fn.transformATFLValues(e,r)}];if(nt(Ud,e.gjeldendeAvklaringsbehov))return[{kode:Ud,aksjonspunktData:Dn.transformValues(e,e.gjeldendeAvklaringsbehov)}];if(nt(Hd,e.gjeldendeAvklaringsbehov))return[{kode:Hd,aksjonspunktData:Dn.transformValues(e,e.gjeldendeAvklaringsbehov)}];if(nt(Yd,e.gjeldendeAvklaringsbehov))return[{kode:Yd,aksjonspunktData:Dn.transformValues(e,e.gjeldendeAvklaringsbehov)}];if(nt(Kd,e.gjeldendeAvklaringsbehov))return[{kode:Kd,aksjonspunktData:Fn.transformATFLTidsbegrensetValues(e,n)}];throw new Error("Må submitte et aksjonspunkt")},dD=(e,n)=>e[Ha(n)].filter(r=>r.erTilVurdering).map(r=>({periode:r.periode,aksjonspunkter:lD(r)})).reduce(aD,[]),oD=({readOnly:e,readOnlySubmitButton:n,kodeverkSamling:r,arbeidsgiverOpplysningerPerId:t,beregningsgrunnlagListe:i,vilkår:s,submitCallback:l,formData:d,setFormData:o,aktivIndex:u,lovparagraf:k,finnesFormSomSubmittes:f,setSubmitting:v})=>{const h=q(),T=(w,H)=>{v(!0),l(dD(w,H))},E=i.filter(w=>qO(w.avklaringsbehov,k)),P=Ha(k),y=He({defaultValues:d||tD(E,s,P,k)}),{formState:{dirtyFields:B,isSubmitted:M},control:F,trigger:O}=y,{fields:L}=ln({name:P,control:F}),U=b.useRef(null);b.useEffect(()=>{var w,H;M&&(w=B[P])!=null&&w[u]&&O(),i[u].avklaringsbehov.some(X=>vi(X,k)&&X.status===na.OPPRETTET)&&((H=U==null?void 0:U.current)==null||H.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}))},[u]);const re=a.jsx(S,{children:a.jsx(p,{children:a.jsx(LO,{isReadOnly:e,isSubmittable:!n,isDirty:y.formState.isDirty,isSubmitting:f})})}),ne=w=>w.find(H=>vi(H,k)),Z=(w,H)=>{const X=ne(H);return k===Xn.ÅTTE_TRETTI&&X?sD(X,r,E[w].beregningsgrunnlagPeriode,t,e,h,w,P):k===Xn.ÅTTE_TRETTIFEM&&X?iD(e,E[w].beregningsgrunnlagPeriode,X,w,P):null},K=i[u].vilkårsperiodeFom;return a.jsx("div",{ref:U,children:a.jsx(Ze,{formMethods:y,onSubmit:w=>T(w,k),setDataOnUnmount:o,children:L.map((w,H)=>a.jsxs("div",{style:{display:E[H].vilkårsperiodeFom===K?"block":"none"},children:[a.jsx(ZO,{readOnly:e,avklaringsbehov:ne(E[H].avklaringsbehov),beregningsgrunnlag:E[H]}),a.jsxs("div",{className:e?de.aksjonspunktBehandlerNoBorder:de.aksjonspunktBehandlerBorder,children:[Z(H,E[H].avklaringsbehov),a.jsx(I,{sixteenPx:!0}),re,a.jsx(I,{sixteenPx:!0})]})]},w.id))})})},gD=e=>e.overstyrtPrAar!==null&&e.overstyrtPrAar!==void 0?!0:e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,uD=(e,n)=>e?e.filter(r=>n.includes(r.aktivitetStatus)).filter(r=>gD(r)):[],Jd=e=>e||0,kD=e=>e.beregnetPrAar?e.beregnetPrAar:0,Wd=(e,n)=>{const r=uD(e,n);if(r){const t=r.reduce((l,d)=>l+kD(d),0),i=r.reduce((l,d)=>{var o;return l+Jd((o=d==null?void 0:d.arbeidsforhold)==null?void 0:o.naturalytelseBortfaltPrÅr)},0),s=r.reduce((l,d)=>{var o;return l+Jd((o=d==null?void 0:d.arbeidsforhold)==null?void 0:o.naturalytelseTilkommetPrÅr)},0);return t+i-s}return 0},mD=(e,n)=>{const r=a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.ATFL.Tittel"}),t=a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.SN.Tittel"});switch(e.sammenligningsgrunnlagType){case pe.AT:case pe.FL:case pe.AT_FL:return r;case pe.SN:return t;case pe.ATFLSN:return n===Xn.ÅTTE_TRETTIFEM?t:r;case pe.MIDLERTIDIG_INAKTIV:return a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.MIDL.Tittel"});default:throw new Error(`Ukjent sammenligningstype ${e.sammenligningsgrunnlagType}`)}},Qd=(e,n)=>{const r=n.find(t=>(t.aktivitetStatus===D.SELVSTENDIG_NAERINGSDRIVENDE||t.aktivitetStatus===D.BRUKERS_ANDEL)&&!t.erTilkommetAndel);return e.sammenligningsgrunnlagType===pe.SN&&r?{inntekt:r.pgiSnitt||0,erPGI:!0}:e.sammenligningsgrunnlagType===pe.MIDLERTIDIG_INAKTIV&&r?{inntekt:r.pgiSnitt||0,erPGI:!0}:e.sammenligningsgrunnlagType===pe.ATFLSN?r?{inntekt:r.pgiSnitt||0,erPGI:!0}:{inntekt:Wd(n,[D.ARBEIDSTAKER,D.FRILANSER]),erPGI:!1}:{inntekt:Wd(n,[D.ARBEIDSTAKER,D.FRILANSER]),erPGI:!1}};function qd(e,n,r){const t={...e};return t[n]?t[n].push(r):t[n]=[r],t}const cD=e=>e.reduce((n,r)=>{let t={...n};return r.avklaringsbehov.find(i=>i.definisjon===ge.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET)&&(t=qd(t,Xn.ÅTTE_TRETTIFEM,r)),!r.sammenligningsgrunnlagPrStatus||r.sammenligningsgrunnlagPrStatus.length===0||r.sammenligningsgrunnlagPrStatus.forEach(i=>{const s=Ua(i.sammenligningsgrunnlagType,r.aktivitetStatus);t=qd(t,s,r)}),t},{}),fD=({readOnly:e,readOnlySubmitButton:n,kodeverkSamling:r,relevanteStatuser:t,arbeidsgiverOpplysningerPerId:i,gjelderBesteberegning:s,sammenligningsgrunnlag:l,beregningsgrunnlagListe:d,vilkår:o,submitCallback:u,formData:k,setFormData:f,aktivIndex:v})=>{var h;const T=cD(d),[E,P]=b.useState(!1),y=a.jsx(kO,{sammenligningsgrunnlag:l,relevanteStatuser:t,erManueltBesteberegnet:s,erNyIArbeidslivet:!!((h=d[v].beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel)!=null&&h.find(M=>M.erNyIArbeidslivet))}),B=M=>{var F;if(T[M]&&T[M].length>0){const O=T[M],L=d[v].vilkårsperiodeFom,U=O.find(H=>H.vilkårsperiodeFom===L),re=U?(F=U.sammenligningsgrunnlagPrStatus)==null?void 0:F.find(H=>Ua(H.sammenligningsgrunnlagType,U==null?void 0:U.aktivitetStatus)===M):void 0,ne=!!T[M].find(H=>!!H.avklaringsbehov.find(X=>ws(X)===M)),Z=U&&!!U.avklaringsbehov.find(H=>ws(H)===M),K=(U==null?void 0:U.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel)||[],w=Ha(M);return a.jsxs("div",{children:[!!re&&a.jsxs(a.Fragment,{children:[a.jsx(je,{size:"xsmall",children:mD(re,M)}),a.jsx(TO,{sammenligningsgrunnlag:re,beregnetAarsinntekt:Qd(re,K).inntekt,erPGI:Qd(re,K).erPGI}),a.jsx("div",{className:V.storSpace})]}),ne&&a.jsxs("div",{style:{display:Z?"block":"none"},children:[a.jsx(oD,{readOnly:e,lovparagraf:M,kodeverkSamling:r,readOnlySubmitButton:n,arbeidsgiverOpplysningerPerId:i,beregningsgrunnlagListe:d,vilkår:o,submitCallback:u,formData:k&&w in k?k:void 0,setFormData:f,aktivIndex:v,finnesFormSomSubmittes:E,setSubmitting:P}),a.jsx("div",{className:V.storSpace})]})]})}return null};return a.jsxs("div",{className:V.panelRight,children:[y,a.jsx(I,{twentyPx:!0}),B(Xn.ÅTTE_TRETTI),B(Xn.ÅTTE_TRETTIFEM)]})},pD="_kolBeskrivelse_1czvx_1",jD="_kolVerdi_1czvx_4",vD="_radNoBorder_1czvx_9",bD="_radDobbelLinje_1czvx_14",hD="_radEnkelLinje_1czvx_20",ID="_radTykkLinje_1czvx_24",AD="_kolVerdiRød_1czvx_28",xD="_kolAvslagIkon_1czvx_31",TD="_kolAvslagTekst_1czvx_34",ND="_avslåttIkon_1czvx_38",Ie={kolBeskrivelse:pD,kolVerdi:jD,radNoBorder:vD,radDobbelLinje:bD,radEnkelLinje:hD,radTykkLinje:ID,kolVerdiRød:"_kolVerdiRød_1czvx_28",kolVerdiRod:AD,kolAvslagIkon:xD,kolAvslagTekst:TD,avslåttIkon:"_avslåttIkon_1czvx_38",avslattIkon:ND},ED=260,vk={[D.ARBEIDSTAKER]:{rekkefølgePri:1,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Arbeid"},[D.FRILANSER]:{rekkefølgePri:2,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Frilans"},[D.DAGPENGER]:{rekkefølgePri:3,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Dagpenger"},[D.SYKEPENGER_AV_DAGPENGER]:{rekkefølgePri:3,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.SykepengerAvDagpenger"},[D.PLEIEPENGER_AV_DAGPENGER]:{rekkefølgePri:3,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.PleiepengerAvDagpenger"},[D.ARBEIDSAVKLARINGSPENGER]:{rekkefølgePri:4,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Arbeidsavklaringspenger"},[D.KUN_YTELSE]:{rekkefølgePri:5,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Ytelse"},[D.MILITAER_ELLER_SIVIL]:{rekkefølgePri:6,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Militær"},[D.BRUKERS_ANDEL]:{rekkefølgePri:7,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.BrukersAndel"},[D.SELVSTENDIG_NAERINGSDRIVENDE]:{rekkefølgePri:8,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Næring"}},Xd=e=>{var n;return((n=vk[e.status])==null?void 0:n.rekkefølgePri)||100},yD=e=>{var n;return((n=vk[e.status])==null?void 0:n.beskrivelseId)||"Ukjent andel"},SD=()=>a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.IkkeBeregnet"}),PD=e=>e.reduce((n,r)=>(r.inntektPlussNaturalytelse||0)+n,0),_D=(e,n)=>(n==null?void 0:n.ytelsetype)!==yo.FORELDREPENGER&&e.avkortetPrÅr?Math.round(e.avkortetPrÅr/ED):e.dagsats||0,Hn=()=>a.jsx("div",{className:Ie.radEnkelLinje}),MD=(e,n)=>a.jsxs(se,{children:[a.jsx(I,{twentyPx:!0}),a.jsxs(S,{children:[a.jsx(p,{className:Ie.avslåttIkon,children:a.jsx(Uk,{})}),a.jsx(p,{className:Ie.kolAvslagTekst,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:n?"Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfyltMidlertidigInaktiv":"Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfylt2",values:{grunnbeløp:C(e),b:r=>a.jsx("b",{children:r})}})})})]})]}),RD=e=>!!e.aktivitetStatus&&e.aktivitetStatus.some(n=>n===D.MIDLERTIDIG_INAKTIV),OD=(e,n,r,t)=>{const i=e.andeler.reduce((k,f)=>(f.inntektPlussNaturalytelse||0)+k,0);if(n.vilkarStatus===Xa.IKKE_VURDERT)return null;if(n.vilkarStatus===Xa.IKKE_OPPFYLT)return MD(r.grunnbeløp,RD(r));const s=r.grunnbeløp*6,l=i>s,d=r.dekningsgrad!==rm.HUNDRE,o=_D(e,r.ytelsesspesifiktGrunnlag),u=t&&(l||d);return a.jsxs(se,{children:[u&&a.jsx(I,{fourtyPx:!0}),l&&a.jsxs(a.Fragment,{children:[Hn(),a.jsxs(S,{className:Ie.radNoBorder,children:[a.jsx(p,{className:Ie.kolBeskrivelse,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Avkortet"})})}),a.jsx(p,{className:Ie.kolVerdi,children:a.jsx(A,{size:"small",children:C(e.avkortetPrÅr)})})]}),Hn()]}),d&&a.jsxs(a.Fragment,{children:[!l&&t&&a.jsx(a.Fragment,{children:Hn()}),a.jsxs(S,{className:Ie.radNoBorder,children:[a.jsx(p,{className:Ie.kolBeskrivelse,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Redusert"})})}),a.jsx(p,{className:Ie.kolVerdi,children:a.jsx(A,{size:"small",children:C(e.redusertPrÅr)})})]}),Hn()]}),a.jsx(I,{fourtyPx:!0}),a.jsxs(S,{className:Ie.radNoBorder,children:[a.jsx(p,{className:Ie.kolBeskrivelse,children:a.jsx($,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Dagsats"})})}),a.jsx(p,{className:Ie.kolVerdi,children:a.jsx($,{size:"medium",children:o})})]}),a.jsx("div",{className:Ie.radDobbelLinje})]})},DD=({tabellData:e,skalVisePeriode:n,vilkårsperiode:r,beregningsgrunnlag:t})=>{const i=e.andeler.length>1&&!e.andeler.some(d=>!d.erFerdigBeregnet);e.andeler.sort((d,o)=>Xd(d)-Xd(o));const s=e.andeler.length>1,l=e.andeler.every(d=>d.erFerdigBeregnet);return a.jsxs(a.Fragment,{children:[n&&a.jsxs(a.Fragment,{children:[a.jsx(S,{children:a.jsx(p,{children:a.jsx(je,{size:"xsmall",children:a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Periode",values:{fom:x(e.fom).format(te),tom:e.tom?x(e.tom).format(te):""}})})})}),a.jsx(I,{eightPx:!0})]}),e.andeler.map((d,o)=>a.jsxs(J.Fragment,{children:[o===0&&a.jsx(a.Fragment,{children:Hn()}),a.jsxs(S,{className:Ie.radNoBorder,children:[a.jsx(p,{className:Ie.kolBeskrivelse,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:yD(d)})})}),a.jsx(p,{className:Ie.kolVerdi,children:a.jsx(A,{size:"small",className:d.erFerdigBeregnet?"":Ie.kolVerdiRød,children:d.erFerdigBeregnet?C(d.inntekt):SD()})})]}),!!d.bortfaltNaturalytelse&&a.jsxs(a.Fragment,{children:[Hn(),a.jsxs(S,{className:Ie.radNoBorder,children:[a.jsx(p,{className:Ie.kolBeskrivelse,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Naturalytelser"})})}),a.jsx(p,{className:Ie.kolVerdi,children:a.jsx(A,{size:"small",children:C(d.bortfaltNaturalytelse)})})]})]}),Hn()]},d.status)),i&&a.jsxs(a.Fragment,{children:[a.jsxs(S,{className:Ie.radNoBorder,children:[a.jsx(p,{className:Ie.kolBeskrivelse,children:a.jsx(A,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.TotalÅrsinntekt"})})}),a.jsx(p,{className:Ie.kolVerdi,children:a.jsx(A,{size:"small",children:C(PD(e.andeler))})})]}),a.jsx("div",{className:Ie.radTykkLinje})]}),l&&a.jsx(a.Fragment,{children:OD(e,r,t,s)})]})},BD=[mn.ARBEIDSFORHOLD_AVSLUTTET,mn.NATURALYTELSE_TILKOMMER,mn.NATURALYTELSE_BORTFALT],FD=e=>e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,$D=e=>e.besteberegningPrAar||e.besteberegningPrAar===0?e.besteberegningPrAar:e.overstyrtPrAar||e.overstyrtPrAar===0?e.overstyrtPrAar:e.beregnetPrAar||0,LD=(e,n)=>{switch(e){case D.ARBEIDSTAKER:case D.FRILANSER:return n.find(r=>r.definisjon===ge.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS||r.definisjon===ge.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD);case D.SELVSTENDIG_NAERINGSDRIVENDE:return n.find(r=>r.definisjon===ge.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET||r.definisjon===ge.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE);case D.BRUKERS_ANDEL:return n.find(r=>r.definisjon===ge.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON);default:return}},VD=e=>{var n,r;const t=(n=e==null?void 0:e.arbeidsforhold)==null?void 0:n.naturalytelseBortfaltPrÅr,i=((r=e==null?void 0:e.arbeidsforhold)==null?void 0:r.naturalytelseTilkommetPrÅr)||0;return t?t-i:0},GD=e=>{const{beregnetPrAar:n,pgiSnitt:r}=e;return!!n||n===0||!!r||r===0},CD=(e,n)=>{const r=e.filter(s=>FD(s)),t={};r.forEach(s=>{const l=t[s.aktivitetStatus];l?l.push(s):t[s.aktivitetStatus]=[s]});const i=[];return Object.keys(t).forEach(s=>{const l=t[s],d=LD(s,n),o=l.every(T=>GD(T)),u=l.reduce((T,E)=>$D(E)+T,0),k=l.reduce((T,E)=>VD(E)+T,0),f=(u||0)+(k||0),v=!!d&&dn(d.status),h=o&&!v;i.push({inntekt:u,bortfaltNaturalytelse:k,inntektPlussNaturalytelse:f,erFerdigBeregnet:h,status:s})}),i},zD=e=>e.some(n=>BD.includes(n)),wD=e=>{const{beregningsgrunnlagPeriode:n}=e,r=n.filter(i=>i.beregningsgrunnlagPeriodeFom===e.skjaeringstidspunktBeregning||!!i.periodeAarsaker&&zD(i.periodeAarsaker)).map(i=>i.beregningsgrunnlagPeriodeFom).sort((i,s)=>new Date(i).getTime()-new Date(s).getTime()),t=[];for(let i=0;i<r.length;i+=1){const s=r[i],l=i+1<r.length?x(r[i+1]).subtract(1,"day").format(Pe).toString():void 0,d=n.find(h=>h.beregningsgrunnlagPeriodeFom===s),o=(d==null?void 0:d.periodeAarsaker)||[],u=CD((d==null?void 0:d.beregningsgrunnlagPrStatusOgAndel)||[],e.avklaringsbehov),k=d==null?void 0:d.redusertPrAar,f=d==null?void 0:d.avkortetPrAar,v=d==null?void 0:d.dagsats;t.push({fom:s,tom:l,årsak:o,andeler:u,redusertPrÅr:k,avkortetPrÅr:f,dagsats:v})}return t},KD=({beregningsgrunnlag:e,vilkårsperiode:n})=>{const r=b.useMemo(()=>wD(e),[e]),t=r.length>1;return a.jsxs("div",{className:V.panelRight,children:[a.jsx(je,{size:"small",className:V.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.BeregningTable.Tittel"})}),a.jsx(I,{eightPx:!0}),r.map(i=>a.jsxs("div",{children:[a.jsx(DD,{tabellData:i,skalVisePeriode:t,vilkårsperiode:n,beregningsgrunnlag:e}),a.jsx(I,{fourtyPx:!0})]},i.fom))]})},YD=e=>e&&e.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller.some(n=>n===W.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE):!1,UD=e=>!!(e!=null&&e.besteberegninggrunnlag),HD=e=>e[0].beregningsgrunnlagPrStatusOgAndel?e[0].beregningsgrunnlagPrStatusOgAndel.filter(n=>n.erTilkommetAndel!==!0).map(n=>n.aktivitetStatus):[],ZD=({readOnly:e,valgtBeregningsgrunnlag:n,relevanteStatuser:r,readOnlySubmitButton:t,kodeverkSamling:i,vilkarPeriode:s,arbeidsgiverOpplysningerPerId:l,gjeldendeAvklaringsbehov:d,alleBeregningsgrunnlag:o,vilkår:u,submitCallback:k,formData:f,setFormData:v,aktivIndex:h})=>{var T;const{skjaeringstidspunktBeregning:E,beregningsgrunnlagPeriode:P,faktaOmBeregning:y,ytelsesspesifiktGrunnlag:B}=n,M=YD(y),F=UD(B),O=a.jsx("div",{className:V.storSpace}),L=HD(P),U=d&&d.length>0;return a.jsxs(a.Fragment,{children:[U&&a.jsxs(a.Fragment,{children:[a.jsx(I,{eightPx:!0}),a.jsx(_1,{avklaringsbehov:d,beregningsgrunnlag:n})]}),a.jsxs(S,{children:[a.jsxs(p,{className:V.venstreKolonne,children:[a.jsx(je,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.Title.Beregning"})}),a.jsx(I,{sixteenPx:!0}),a.jsx(LM,{kodeverkSamling:i,aktivitetStatusList:L,skjeringstidspunktDato:E,saksopplysninger:n.faktaOmBeregning?n.faktaOmBeregning.saksopplysninger:void 0,arbeidsgiverOpplysningerPerId:l}),O,r.skalViseBeregningsgrunnlag&&a.jsx(Fn,{relevanteStatuser:r,allePerioder:P,gjelderBesteberegning:M,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:l,sammenligningsGrunnlagInntekter:n.inntektsgrunnlag,sammenligningsgrunnlag:n.sammenligningsgrunnlagPrStatus}),F&&a.jsxs(a.Fragment,{children:[O,a.jsx(uM,{besteMåneder:(T=B==null?void 0:B.besteberegninggrunnlag)==null?void 0:T.besteMåneder,periode:P[0]})]})]}),a.jsxs(p,{className:V.hoyreKolonne,children:[a.jsx(je,{size:"medium",className:V.panelRight,children:a.jsx(m,{id:"Beregningsgrunnlag.Title.Fastsettelse"})}),a.jsx(I,{sixteenPx:!0}),a.jsx(fD,{readOnly:e,readOnlySubmitButton:t,kodeverkSamling:i,relevanteStatuser:r,arbeidsgiverOpplysningerPerId:l,gjelderBesteberegning:M,sammenligningsgrunnlag:n.sammenligningsgrunnlagPrStatus||[],beregningsgrunnlagListe:o,vilkår:u,submitCallback:k,formData:f,setFormData:v,aktivIndex:h}),a.jsxs(a.Fragment,{children:[a.jsx(I,{sixteenPx:!0}),a.jsx(uO,{beregningsgrunnlag:n})]}),s&&a.jsx(KD,{beregningsgrunnlag:n,vilkårsperiode:s})]})]})]})},JD=[ge.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE,ge.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON,ge.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS,ge.FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE,ge.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD,ge.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET],WD=e=>e.avklaringsbehov.filter(n=>JD.some(r=>r===n.definisjon)),QD=e=>({isArbeidstaker:e.some(n=>xo(n)),isFrilanser:e.some(n=>To(n)),isSelvstendigNaeringsdrivende:e.some(n=>No(n)),isMidlertidigInaktiv:e.some(n=>n===D.MIDLERTIDIG_INAKTIV),harAndreTilstotendeYtelser:e.some(n=>Xk(n)),harDagpengerEllerAAP:e.some(n=>Eo(n)),isAAP:e.some(n=>n===D.ARBEIDSAVKLARINGSPENGER),isDagpenger:e.some(n=>n===D.DAGPENGER||n===D.SYKEPENGER_AV_DAGPENGER),skalViseBeregningsgrunnlag:e.length>0,isKombinasjonsstatus:e.some(n=>em(n))||e.length>1,isMilitaer:e.some(n=>nm(n))}),qD=e=>e?e.find(n=>n.definisjon===ge.VURDER_GRADERING_UTEN_BEREGNINGSGRUNNLAG):void 0,eo=(e,n)=>e.perioder.find(({periode:r})=>r.fom===n),XD=({aktivtBeregningsgrunnlagIndeks:e,beregningsgrunnlagListe:n,submitCallback:r,readOnly:t,readOnlySubmitButton:i,vilkar:s,kodeverkSamling:l,arbeidsgiverOpplysningerPerId:d,formData:o,setFormData:u})=>{const k=n[e],f=QD(k.aktivitetStatus),v=qD(k.avklaringsbehov);function h(T){const E=eo(s,T.vilkårsperiodeFom);return E.vurderesIBehandlingen&&!E.erForlengelse}return a.jsxs(a.Fragment,{children:[a.jsx(ZD,{readOnly:t||!h(n[e]),valgtBeregningsgrunnlag:n[e],gjeldendeAvklaringsbehov:WD(n[e]),relevanteStatuser:f,readOnlySubmitButton:i,kodeverkSamling:l,vilkarPeriode:eo(s,n[e].vilkårsperiodeFom),arbeidsgiverOpplysningerPerId:d,alleBeregningsgrunnlag:n,vilkår:s,submitCallback:r,formData:o,setFormData:u,aktivIndex:e}),v&&a.jsx(aM,{avklaringsbehov:v})]})},eB=[ge.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE,ge.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS,ge.FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE,ge.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD,ge.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET,ge.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON],nB=[],rB=X_.bind(ni),no=Ve(Ju),tB=e=>{var n;const r=(n=e==null?void 0:e.perioder)==null?void 0:n.some(t=>t.avslagKode==="1043");return a.jsxs(a.Fragment,{children:[a.jsx(je,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.Title"})}),a.jsx(I,{eightPx:!0}),a.jsx(S,{children:a.jsx(p,{children:a.jsx(m,{id:r?"Beregningsgrunnlag.Avslagsårsak.IkkeTilstrekkeligInntektsgrunnlag":"Beregningsgrunnlag.HarIkkeBeregningsregler"})})})]})},iB=(e,n)=>{const r=n.vilkårsperiodeFom;return(e&&e.perioder?e.perioder.filter(t=>t.vurderesIBehandlingen&&!t.erForlengelse):[]).some(t=>t.periode.fom===r)},sB=e=>e.avklaringsbehov.some(n=>eB.some(r=>r===n.definisjon)&&n.kanLoses),aB=(e,n)=>e.map(r=>({skalVurderes:iB(n,r),harAvklaringsbehov:sB(r),stp:x(r.skjaeringstidspunktBeregning).format(te)})),lB=({beregningsgrunnlagListe:e,submitCallback:n,isReadOnly:r,readOnlySubmitButton:t,beregningsgrunnlagsvilkar:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:l,formData:d,setFormData:o})=>{const u=e||nB,k=u.length>1;u.sort((E,P)=>E.skjaeringstidspunktBeregning.localeCompare(P.skjaeringstidspunktBeregning));const[f,v]=b.useState(0),h=aB(u,i),T=rB("mainContainer",{"mainContainer--withSideMenu":k});return b.useEffect(()=>{const E=h.findIndex(P=>P.skalVurderes&&P.harAvklaringsbehov);E>-1&&v(E)},[e]),e.length===0||e.length===1&&!e[0].aktivitetStatus?a.jsx(Qe,{value:no,children:tB(i)}):a.jsx(Qe,{value:no,children:a.jsxs("div",{className:T,children:[k&&a.jsx("div",{className:ni.sideMenuContainer,children:a.jsx(um,{links:h.map((E,P)=>({icon:E.skalVurderes&&E.harAvklaringsbehov?a.jsx(Sr,{className:ni.advarselIkon}):null,active:f===P,label:`${E.stp}`})),onClick:v,theme:"arrow"})}),a.jsx("div",{className:ni.contentContainer,children:a.jsx(XD,{aktivtBeregningsgrunnlagIndeks:f,beregningsgrunnlagListe:u,submitCallback:n,readOnly:r,readOnlySubmitButton:t,vilkar:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:l,setFormData:o,formData:d})})]})})};const dB=e=>{switch(e){case ge.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:return ae.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS;case ge.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:return ae.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD;case ge.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:return ae.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET;case ge.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:return ae.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE;default:throw new Error(`Ukjent avklaringspunkt ${e}`)}},oB=e=>n=>{const t=(Array.isArray(n)?n:[n]).map(i=>({kode:dB(i.kode),...i.grunnlag[0]}));return e(t)},gB=(e,n)=>({avslagKode:n.avslagKode,vurderesIBehandlingen:!0,merknadParametere:{},periode:{fom:e?e.skjaeringstidspunktBeregning:"",tom:Ce},vilkarStatus:n.vilkarStatus}),uB=(e,n)=>{const r=e.find(i=>i.vilkarType&&i.vilkarType===Qn.BEREGNINGSGRUNNLAGVILKARET);return!r||!n?null:{...r,perioder:[gB(n,r)]}},kB=e=>e?[{...e,vilkårsperiodeFom:e.skjaeringstidspunktBeregning}]:[],mB=[ae.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS,ae.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE,ae.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD,ae.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET],cB=[Qn.BEREGNINGSGRUNNLAGVILKARET],fB=[Ke.BEREGNINGSGRUNNLAG],ro=({arbeidsgiverOpplysningerPerId:e,...n})=>_e.jsx(ia,{...n,panelEndepunkter:fB,aksjonspunktKoder:mB,vilkarKoder:cB,prosessPanelKode:ea.BEREGNINGSGRUNNLAG,prosessPanelMenyTekst:q().formatMessage({id:"Behandlingspunkt.Beregning"}),skalPanelVisesIMeny:()=>!0,renderPanel:r=>_e.jsx(lB,{...r,kodeverkSamling:r.alleKodeverk,beregningsgrunnlagsvilkar:uB(r.vilkar,r.beregningsgrunnlag),beregningsgrunnlagListe:kB(r.beregningsgrunnlag),arbeidsgiverOpplysningerPerId:e,submitCallback:oB(r.submitCallback)})});try{ro.displayName="BeregningsgrunnlagProsessStegInitPanel",ro.__docgenInfo={description:"",displayName:"BeregningsgrunnlagProsessStegInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}var bk={exports:{}},rt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var to;function pB(){if(to)return rt;to=1;var e=J,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,f={},v=null,h=null;u!==void 0&&(v=""+u),o.key!==void 0&&(v=""+o.key),o.ref!==void 0&&(h=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(f[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)f[k]===void 0&&(f[k]=o[k]);return{$$typeof:n,type:d,key:v,ref:h,props:f,_owner:i.current}}return rt.Fragment=r,rt.jsx=l,rt.jsxs=l,rt}bk.exports=pB();var _=bk.exports;const jB="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjNweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQzLjIgKDM5MDY5KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5XYXJuaW5nIDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJTeW1ib2xzIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iV2FybmluZy0iIGZpbGw9IiNGRjkxMDAiPgogICAgICAgICAgICA8ZyBpZD0iRmlsbGVkX1ZlcnNpb24iPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTIxLjk5MzUyLDE4LjY2NDAxMDcgTDExLjkxMTI0LDAuMjMzNzgyMTU0IEMxMS43NTQ4NCwtMC4wNTEyNDczODQ3IDExLjI0MzMyLC0wLjA1MTI0NzM4NDcgMTEuMDg3ODQsMC4yMzM3ODIxNTQgTDAuOTY3ODQsMTguNzMxMjc0MyBDMC44OTYwOCwxOC44NjE1OTc2IDAuOTA0MzYsMTkuMDE2MzAzOSAwLjk4NzE2LDE5LjEzOTkwMDggQzEuMDY5OTYsMTkuMjYzNDk3NiAxLjIxOTkyLDE5LjM0MDAxIDEuMzgsMTkuMzQwMDEgTDIxLjYyLDE5LjM0MDAxIEwyMS42MjkyLDE5LjM0MDAxIEMyMS44ODIyLDE5LjM0MDAxIDIyLjA4OTIsMTkuMTUxNjcxOSAyMi4wODkyLDE4LjkxOTYxMjUgQzIyLjA4OTIsMTguODIzNzYxOCAyMi4wNTMzMiwxOC43MzQ2Mzc1IDIxLjk5MzUyLDE4LjY2NDAxMDcgWiBNMTEuMDQsNi44NTU4ODQzNiBDMTEuMDQsNi42MjM4MjQ5MSAxMS4yNDYwOCw2LjQzNTQ4NjgxIDExLjUsNi40MzU0ODY4MSBDMTEuNzUzLDYuNDM1NDg2ODEgMTEuOTYsNi42MjM4MjQ5MSAxMS45Niw2Ljg1NTg4NDM2IEwxMS45NiwxMy4yOTA0ODkzIEMxMS45NiwxMy41MjE3MDc5IDExLjc1MywxMy43MTA4ODY4IDExLjUsMTMuNzEwODg2OCBDMTEuMjQ2MDgsMTMuNzEwODg2OCAxMS4wNCwxMy41MjE3MDc5IDExLjA0LDEzLjI5MDQ4OTMgTDExLjA0LDYuODU1ODg0MzYgWiBNMTEuNSwxNi45MDg0MzA2IEMxMS4wMTMzMiwxNi45MDg0MzA2IDEwLjYxOTU2LDE2LjU0ODU3MDMgMTAuNjE5NTYsMTYuMTA0NjMwNSBDMTAuNjE5NTYsMTUuNjYxNTMxNCAxMS4wMTMzMiwxNS4yOTk5ODk1IDExLjUsMTUuMjk5OTg5NSBDMTEuOTg0ODQsMTUuMjk5OTg5NSAxMi4zNzk1MiwxNS42NjE1MzE0IDEyLjM3OTUyLDE2LjEwNDYzMDUgQzEyLjM3OTUyLDE2LjU0OTQxMTEgMTEuOTg0ODQsMTYuOTA4NDMwNiAxMS41LDE2LjkwODQzMDYgWiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==",vB="_container_19150_1",bB="_divider_19150_5",hB="_image_19150_14",IB="_oneElement_19150_20",AB="_aksjonspunktText_19150_25",xB="_wordwrap_19150_30",mr={container:vB,divider:bB,image:hB,oneElement:IB,aksjonspunktText:AB,wordwrap:xB},hk="radioVurderTilbaketrekk",Ik="begrunnelseVurderTilbaketrekk",TB=jn(1500),NB=pn(3),EB=(e,n)=>{const r=n==null?void 0:n.skalHindreTilbaketrekk;if(!(r==null||!e||!e.begrunnelse))return{radioVurderTilbaketrekk:r,begrunnelseVurderTilbaketrekk:e.begrunnelse}},yB=e=>{const n=e[hk],r=e[Ik];return{kode:ae.VURDER_TILBAKETREKK,begrunnelse:r,hindreTilbaketrekk:n}},SB=({readOnly:e,vurderTilbaketrekkAP:n,readOnlySubmitButton:r,beregningsresultat:t,submitCallback:i,formData:s,setFormData:l})=>{const d=q(),o=b.useMemo(()=>EB(n,t),[n,t]),u=He({defaultValues:s||o});return _.jsxs(Ze,{formMethods:u,onSubmit:k=>i(yB(k)),setDataOnUnmount:l,children:[_.jsx("div",{className:mr.container,children:_.jsx(se,{children:_.jsxs(S,{children:[_.jsx(p,{children:_.jsx(hr,{className:mr.image,alt:d.formatMessage({id:"HelpText.Aksjonspunkt"}),src:jB})}),_.jsx(p,{children:_.jsx("div",{className:mr.divider})}),_.jsx(p,{className:mr.aksjonspunktText,children:_.jsx("div",{className:mr.oneElement,children:_.jsx($,{size:"small",className:mr.wordwrap,children:_.jsx(m,{id:"TilkjentYtelse.VurderTilbaketrekk.Aksjonspunkttekst"})})})})]})})}),_.jsx(I,{twentyPx:!0}),_.jsx(Ne,{name:hk,validate:[Q],isReadOnly:e,isEdited:n.status!==Jn.OPPRETTET,isHorizontal:!0,radios:[{value:"false",label:_.jsx(m,{id:"TilkjentYtelse.VurderTilbaketrekk.Utfør"})},{value:"true",label:_.jsx(m,{id:"TilkjentYtelse.VurderTilbaketrekk.Hindre"})}]}),_.jsx(I,{sixteenPx:!0}),_.jsx(Xe,{name:Ik,label:_.jsx(m,{id:"Beregningsgrunnlag.Forms.Vurdering"}),validate:[Q,TB,NB,fn],maxLength:1500,readOnly:e}),_.jsx(I,{sixteenPx:!0}),_.jsx(So,{isReadOnly:e,isSubmittable:!r,isSubmitting:u.formState.isSubmitting,isDirty:u.formState.isDirty})]})},PB=(e,n)=>e.filter(r=>r.opptjeningsår===n),Ak=e=>e.aktivitetStatus+e.arbeidsgiverId,_B=(e,n,r)=>{const t=n[e.arbeidsgiverId];return t?t.erPrivatPerson?t.fødselsdato?`${t.navn} (${x(t.fødselsdato).format(te)})`:t.navn:t.identifikator?`${t.navn} (${t.identifikator})`:t.navn:e.aktivitetStatus?Ao(r)(e.aktivitetStatus,En.AKTIVITET_STATUS):""},MB=(e,n,r)=>({identifikator:Ak(e),visningsnavn:_B(e,n,r),utbetaltTilSøker:e.erBrukerMottaker?e.årsbeløp:0,utbetaltIRefusjon:e.erBrukerMottaker?0:e.årsbeløp}),RB=(e,n,r)=>{const t=[];return e.forEach(i=>{const s=i.erBrukerMottaker?i.årsbeløp:0,l=i.erBrukerMottaker?0:i.årsbeløp,d=Ak(i),o=t.find(u=>u.identifikator===d);o?(o.utbetaltTilSøker+=s,o.utbetaltIRefusjon+=l):t.push(MB(i,n,r))}),t},OB=["TilkjentYtelse.Feriepenger.AndelNavn","TilkjentYtelse.Feriepenger.GrunnlagRefusjon","TilkjentYtelse.Feriepenger.GrunnlagSøker"],DB=({alleAndeler:e,opptjeningsår:n,alleKodeverk:r,arbeidsgiverOpplysningerPerId:t})=>{const i=!e||e.length<1,s=b.useMemo(()=>i?void 0:PB(e,n),[e,n]),l=b.useMemo(()=>s?RB(s,t,r):void 0,[s]);return i?null:_.jsxs(_.Fragment,{children:[_.jsx($,{size:"small",children:_.jsx(m,{id:"TilkjentYtelse.Feriepenger.Opptjeningsår",values:{år:n}})}),_.jsx(qe,{headerTextCodes:OB,children:l.map(d=>_.jsxs(Ge,{children:[_.jsx(z,{children:_.jsx(A,{size:"small",children:d.visningsnavn})}),_.jsx(z,{children:_.jsx(A,{size:"small",children:d.utbetaltIRefusjon})}),_.jsx(z,{children:_.jsx(A,{size:"small",children:d.utbetaltTilSøker})})]},d.identifikator))})]})},BB=e=>{const n=e.map(r=>r.opptjeningsår).sort((r,t)=>r-t);return[...new Set(n)]},FB=()=>_.jsx(je,{size:"small",children:_.jsx(m,{id:"TilkjentYtelse.Feriepenger.Tittel"})}),$B=({feriepengegrunnlag:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r,erPanelÅpent:t,togglePanel:i})=>{const{andeler:s}=e,l=!s||s.length<1,d=b.useMemo(()=>l?void 0:BB(s),[s]);return l?null:_.jsx(Be,{children:_.jsxs(Be.Item,{open:t,children:[_.jsx(Be.Header,{onClick:i,children:FB()}),_.jsx(Be.Content,{children:d.map(o=>_.jsxs("div",{children:[_.jsx(I,{sixteenPx:!0},`spacer_${o}`),_.jsx(DB,{alleAndeler:s,opptjeningsår:o,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r},`tabell_${o}`)]},`div_${o}`))})]})})},LB=({feriepengegrunnlag:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r})=>{const[t,i]=b.useState(!1);return _.jsx($B,{feriepengegrunnlag:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r,erPanelÅpent:t,togglePanel:()=>i(!t)})},VB="_detailsPeriode_1r02x_1",GB="_margin_1r02x_9",CB="_fix_1r02x_13",Ut={detailsPeriode:VB,margin:GB,fix:CB},zB=e=>e?`...${e.substring(e.length-4,e.length)}`:"",wB=(e,n,r)=>{const t=r[e.arbeidsgiverReferanse];return!t||!t.navn?e.arbeidsforholdType?n(e.arbeidsforholdType,En.OPPTJENING_AKTIVITET_TYPE):"":t.erPrivatPerson?`${t.navn} (${t.fødselsdato})`:`${t.navn} (${t.identifikator})${zB(e.eksternArbeidsforholdId)}`},KB=(e=!1)=>e?["TilkjentYtelse.PeriodeData.Andel","TilkjentYtelse.PeriodeData.Utbetalingsgrad","TilkjentYtelse.PeriodeData.Refusjon","TilkjentYtelse.PeriodeData.TilSoker","TilkjentYtelse.PeriodeData.SisteUtbDato"]:["TilkjentYtelse.PeriodeData.Andel","TilkjentYtelse.PeriodeData.KontoType","TilkjentYtelse.PeriodeData.Gradering","TilkjentYtelse.PeriodeData.Utbetalingsgrad","TilkjentYtelse.PeriodeData.Refusjon","TilkjentYtelse.PeriodeData.TilSoker","TilkjentYtelse.PeriodeData.SisteUtbDato"],YB=(e,n,r)=>{switch(e.aktivitetStatus){case Rn.ARBEIDSTAKER:return wB(e,n,r);case Rn.FRILANSER:return _.jsx(m,{id:"TilkjentYtelse.PeriodeData.Frilans"});case Rn.SELVSTENDIG_NAERINGSDRIVENDE:return _.jsx(m,{id:"TilkjentYtelse.PeriodeData.SelvstendigNaeringsdrivende"});case Rn.DAGPENGER:return _.jsx(m,{id:"TilkjentYtelse.PeriodeData.Dagpenger"});case Rn.ARBEIDSAVKLARINGSPENGER:return _.jsx(m,{id:"TilkjentYtelse.PeriodeData.AAP"});case Rn.MILITAER_ELLER_SIVIL:return _.jsx(m,{id:"TilkjentYtelse.PeriodeData.Militaer"});case Rn.BRUKERS_ANDEL:return _.jsx(m,{id:"TilkjentYtelse.PeriodeData.BrukersAndel"});default:return""}},UB=e=>{if(e===void 0)return null;const n=e.uttak&&e.uttak.gradering===!0?"TilkjentYtelse.PeriodeData.Ja":"TilkjentYtelse.PeriodeData.Nei";return _.jsx(m,{id:n})},HB=({selectedItemData:e,callbackForward:n,callbackBackward:r,alleKodeverk:t,isSoknadSvangerskapspenger:i,arbeidsgiverOpplysningerPerId:s,lukkPeriode:l})=>{const d=Ok(e.fom,e.tom),o=q(),u=Ao(t),k=b.useCallback((...f)=>_.jsx("b",{children:f}),[]);return _.jsxs(Ws,{border:!0,children:[_.jsxs(se,{children:[_.jsxs(S,{spaceBetween:!0,children:[_.jsx(p,{children:_.jsx($,{size:"small",children:_.jsx(m,{id:"TilkjentYtelse.PeriodeData.Detaljer"})})}),_.jsxs(p,{className:Ut.fix,children:[_.jsx(ie,{className:Ut.margin,size:"xsmall",icon:_.jsx(Ei,{"aria-hidden":!0}),onClick:r,variant:"secondary-neutral",type:"button",title:o.formatMessage({id:"Timeline.prevPeriod"}),children:_.jsx(m,{id:"Timeline.prevPeriodShort"})}),_.jsx(ie,{className:Ut.margin,size:"xsmall",icon:_.jsx(yi,{"aria-hidden":!0}),onClick:n,variant:"secondary-neutral",type:"button",title:o.formatMessage({id:"Timeline.nextPeriod"}),iconPosition:"right",children:_.jsx(m,{id:"Timeline.nextPeriodShort"})}),_.jsx(ie,{size:"xsmall",icon:_.jsx(_r,{"aria-hidden":!0}),onClick:l,variant:"tertiary-neutral",type:"button",title:o.formatMessage({id:"Timeline.lukkPeriode"})})]})]}),_.jsx(I,{sixteenPx:!0}),_.jsxs("div",{className:Ut.detailsPeriode,children:[_.jsxs(S,{spaceBetween:!0,children:[_.jsx(p,{children:_.jsx($,{size:"small",children:_.jsx(m,{id:"TilkjentYtelse.PeriodeData.Periode",values:{fomVerdi:x(e.fom).format(te).toString(),tomVerdi:x(e.tom).format(te).toString()}})})}),_.jsx(p,{children:_.jsx(A,{size:"small",children:d.formattedString})})]}),_.jsx(I,{eightPx:!0}),_.jsx(S,{children:_.jsx(p,{children:_.jsx(m,{id:"TilkjentYtelse.PeriodeData.Dagsats",values:{dagsatsVerdi:e.dagsats,b:k}})})})]})]}),_.jsx(I,{sixteenPx:!0}),e.andeler.length!==0&&_.jsx(qe,{headerTextCodes:KB(i),children:e.andeler.map((f,v)=>_.jsxs(Ge,{children:[_.jsx(z,{children:YB(f,u,s)}),!i&&_.jsx(z,{children:_.jsx(A,{size:"small",children:Jk[f.uttak.stonadskontoType]})}),!i&&_.jsx(z,{children:_.jsx(A,{size:"small",children:UB(f)})}),_.jsx(z,{children:_.jsx(A,{size:"small",children:f.utbetalingsgrad?f.utbetalingsgrad:""})}),_.jsx(z,{children:_.jsx(A,{size:"small",children:f.aktivitetStatus===Rn.ARBEIDSTAKER&&f.refusjon?f.refusjon:""})}),_.jsx(z,{children:_.jsx(A,{size:"small",children:f.tilSoker?f.tilSoker:""})}),_.jsx(z,{children:_.jsx(A,{size:"small",children:f.sisteUtbetalingsdato?x(f.sisteUtbetalingsdato).format(te):""})})]},`index${v+1}`))})]})},ZB="_space_kjkss_1",JB="_margin_kjkss_5",tt={space:ZB,margin:JB},WB=e=>e.andeler.filter(n=>n.uttak&&n.uttak.gradering===!0).length>0,QB=e=>{const n=e.gjeldende||e.oppgitt;return n.soknadType===Wk.FODSEL?n.avklartBarn&&n.avklartBarn.length>0?{dato:n.avklartBarn[0].fodselsdato,textId:"TilkjentYtelse.Fodselsdato"}:{dato:n.termindato,textId:"TilkjentYtelse.Termindato"}:n.omsorgsovertakelseDato?{dato:n.omsorgsovertakelseDato,textId:"TilkjentYtelse.Omsorgsovertakelsesdato"}:{dato:n.adopsjonFodelsedatoer[0],textId:"TilkjentYtelse.Fodselsdato"}},qB=e=>e.filter(n=>n.andeler[0]&&n.dagsats).map((n,r)=>({erGradert:WB(n),start:x(n.fom).toDate(),end:x(n.tom).add(1,"days").toDate(),id:r,periode:n})),XB=(e,n)=>{var r;return(r=n[En.RELASJONSROLLE_TYPE].find(t=>t.kode===e.relasjonsRolleType))==null?void 0:r.navn},eF=(e,n)=>{const r=x(e);return r.isBefore(n)?n.subtract(5,"days"):r},nF=({beregningsresultatPeriode:e,soknadDate:n,familieHendelseSamling:r,hovedsokerKjonnKode:t,alleKodeverk:i,arbeidsgiverOpplysningerPerId:s,fagsak:l})=>{const d=q(),[o,u]=b.useState(),k=b.useMemo(()=>qB(e),[e]),f=b.useCallback(()=>{u(null)},[]),v=b.useCallback(()=>{const Z=k.findIndex(K=>K.id===o.id)+1;Z<k.length&&u(k[Z])},[k,o,u]),h=b.useCallback(()=>{const Z=k.findIndex(K=>K.id===o.id)-1;Z>=0&&u(k[Z])},[k,o,u]),T=b.useCallback(Z=>{u(k.find(K=>K.id===Z))},[u,k]),E=x(k[0].start),P=x(k[k.length-1].end),[y,B]=b.useState(E),[M,F]=b.useState(P),O=()=>{y.subtract(1,"month").isBefore(E)||(B(y.subtract(1,"month")),F(M.subtract(1,"month")))},L=()=>{M.add(1,"month").isAfter(P)||(B(y.add(1,"month")),F(M.add(1,"month")))},U=()=>{y.add(3,"month").isAfter(M)||(B(y.add(1,"month")),F(M.subtract(1,"month")))},re=()=>{M.add(1,"month").diff(y.subtract(1,"month"),"months")<36&&(B(y.subtract(1,"month")),F(M.add(1,"month")))},ne=b.useMemo(()=>QB(r),[r]);return _.jsxs(_.Fragment,{children:[_.jsxs(Fe,{startDate:y.toDate(),endDate:M.add(1,"days").toDate(),children:[_.jsxs(Fe.Pin,{date:x(n).toDate(),children:[_.jsx(A,{children:_.jsx(m,{id:"TilkjentYtelse.Soknadsdato"})}),_.jsx(A,{children:_.jsx(Re,{dateString:n})})]}),ne.dato&&_.jsxs(Fe.Pin,{date:eF(ne.dato,y).toDate(),children:[_.jsx(A,{children:_.jsx(m,{id:ne.textId})}),_.jsx(A,{children:_.jsx(Re,{dateString:ne.dato})})]}),_.jsx(Fe.Row,{label:XB(l,i),icon:t===Hk.KVINNE?_.jsx(lm,{width:20,height:20,color:"var(--a-red-200)"}):_.jsx(dm,{width:20,height:20,color:"var(--a-blue-600)"}),children:k.map(Z=>_.jsx(Fe.Period,{start:Z.start,end:Z.end,status:"success",onSelectPeriod:()=>T(Z.id),isActive:(o==null?void 0:o.id)===Z.id,icon:Z.erGradert?_.jsx(Fm,{"aria-hidden":!0}):_.jsx(Xs,{"aria-hidden":!0}),title:Z.erGradert?d.formatMessage({id:"TilkjentYtelse.GradertPeriode"}):""},Z.id))})]}),_.jsx(I,{twentyPx:!0}),_.jsxs(sn,{children:[_.jsx(ie,{className:tt.margin,size:"small",icon:_.jsx(om,{"aria-hidden":!0}),onClick:U,variant:"primary-neutral",type:"button",title:d.formatMessage({id:"TilkjentYtelse.ZoomInn"})}),_.jsx(ie,{className:tt.margin,size:"small",icon:_.jsx(gm,{"aria-hidden":!0}),onClick:re,variant:"primary-neutral",type:"button",title:d.formatMessage({id:"TilkjentYtelse.ZoomUt"})}),_.jsx(ie,{className:tt.margin,size:"small",icon:_.jsx(Ei,{"aria-hidden":!0}),onClick:O,variant:"primary-neutral",type:"button",title:d.formatMessage({id:"TilkjentYtelse.ScrollTilVenstre"})}),_.jsx(ie,{className:tt.margin,size:"small",icon:_.jsx(yi,{"aria-hidden":!0}),onClick:L,variant:"primary-neutral",type:"button",title:d.formatMessage({id:"TilkjentYtelse.ScrollTilHogre"})})]}),_.jsx("div",{className:tt.space}),o&&_.jsxs(_.Fragment,{children:[_.jsx(I,{eightPx:!0}),_.jsx(HB,{alleKodeverk:i,selectedItemData:o.periode,callbackForward:v,callbackBackward:h,isSoknadSvangerskapspenger:l.fagsakYtelseType===Zk.SVANGERSKAPSPENGER,arbeidsgiverOpplysningerPerId:s,lukkPeriode:f})]})]})},rF=e=>e?e.find(n=>n.definisjon===ae.VURDER_TILBAKETREKK):void 0,tF=({beregningresultat:e,readOnly:n,submitCallback:r,readOnlySubmitButton:t,alleKodeverk:i,arbeidsgiverOpplysningerPerId:s,feriepengegrunnlag:l,familieHendelseSamling:d,personoversikt:o,soknad:u,aksjonspunkter:k,formData:f,setFormData:v,fagsak:h})=>{var T,E;const P=b.useMemo(()=>rF(k),[k]),y=(T=u.søknadsfrist)!=null&&T.mottattDato?(E=u.søknadsfrist)==null?void 0:E.mottattDato:u.mottattDato;return _.jsxs(_.Fragment,{children:[_.jsx(je,{size:"small",children:_.jsx(m,{id:"TilkjentYtelse.Title"})}),_.jsx(I,{thirtyTwoPx:!0}),e&&_.jsx(nF,{beregningsresultatPeriode:e.perioder,soknadDate:y,familieHendelseSamling:d,hovedsokerKjonnKode:o!=null&&o.bruker?o.bruker.kjønn:void 0,alleKodeverk:i,arbeidsgiverOpplysningerPerId:s,fagsak:h}),l&&_.jsxs(_.Fragment,{children:[_.jsx(I,{thirtyTwoPx:!0}),_.jsx(LB,{feriepengegrunnlag:l,arbeidsgiverOpplysningerPerId:s,alleKodeverk:i}),_.jsx(I,{thirtyTwoPx:!0})]}),P&&_.jsxs(_.Fragment,{children:[_.jsx(I,{sixteenPx:!0}),_.jsx(SB,{readOnly:n,vurderTilbaketrekkAP:P,submitCallback:r,readOnlySubmitButton:t,beregningsresultat:e,formData:f,setFormData:v})]})]})},iF={"TilkjentYtelse.Title":"Tilkjent ytelse","TilkjentYtelse.VurderTilbaketrekk.Aksjonspunkttekst":"Pengene er utbetalt til søker, arbeidsgiver krever nå refusjon fra startdato. Vurder om beløpet som er feilutbetalt skal tilbakekreves fra søker eller om dette er en sak mellom arbeidstaker og arbeidsgiver.","TilkjentYtelse.VurderTilbaketrekk.Utfør":"Tilbakekrev fra søker","TilkjentYtelse.VurderTilbaketrekk.Hindre":"Ikke tilbakekrev fra søker","TilkjentYtelse.Stonadinfo.Stonadsdager":"Stønadsdager","TilkjentYtelse.PeriodeData.Detaljer":"Detaljer for valgt periode","TilkjentYtelse.PeriodeData.UkerDager":"{weeks} uker {days} dager","TilkjentYtelse.PeriodeData.Godkjent":"Godkjent","TilkjentYtelse.PeriodeData.Dagsats":"Utbetalt dagsats: <b>{dagsatsVerdi}</b>","TilkjentYtelse.PeriodeData.Andel":"Andel","TilkjentYtelse.PeriodeData.KontoType":"Stønadskonto","TilkjentYtelse.PeriodeData.Gradering":"Gradering","TilkjentYtelse.PeriodeData.Utbetalingsgrad":"Utb.grad","TilkjentYtelse.PeriodeData.Refusjon":"Utbetalt refusjon","TilkjentYtelse.PeriodeData.TilSoker":"Utbetalt til søker","TilkjentYtelse.PeriodeData.SisteUtbDato":"Siste innvilgede utb.dato","TilkjentYtelse.PeriodeData.Periode":"{fomVerdi} - {tomVerdi}","TilkjentYtelse.PeriodeData.Ja":"Ja","TilkjentYtelse.PeriodeData.Nei":"Nei","TilkjentYtelse.PeriodeData.SelvstendigNaeringsdrivende":"Selvstendig næringsdrivende","TilkjentYtelse.PeriodeData.Frilans":"Frilanser","TilkjentYtelse.PeriodeData.Militaer":"Militær","TilkjentYtelse.PeriodeData.Dagpenger":"Dagpenger","TilkjentYtelse.PeriodeData.AAP":"Arbeidsavklaringspenger","TilkjentYtelse.PeriodeData.BrukersAndel":"Brukers andel","TilkjentYtelse.Feriepenger.Tittel":"Feriepengegrunnlag","TilkjentYtelse.Feriepenger.Opptjeningsår":"Opptjent i {år}","TilkjentYtelse.Feriepenger.AndelNavn":"Andel","TilkjentYtelse.Feriepenger.GrunnlagSøker":"Beløp til søker","TilkjentYtelse.Feriepenger.GrunnlagRefusjon":"Beløp til arbeidsgiver","TilkjentYtelse.Soknadsdato":"Søknadsdato","TilkjentYtelse.Fodselsdato":"Fødselsdato","TilkjentYtelse.Termindato":"Termindato","TilkjentYtelse.GradertPeriode":"Gradert periode","TilkjentYtelse.ZoomInn":"Zoom inn","TilkjentYtelse.ZoomUt":"Zoom ut","TilkjentYtelse.ScrollTilVenstre":"Scroll til venstre","TilkjentYtelse.ScrollTilHogre":"Scroll til høyre","TilkjentYtelse.Omsorgsovertakelsesdato":"Omsorgsovertakelsesdato","Timeline.lukkPeriode":"Lukk periode","HelpText.Aksjonspunkt":"Aksjonspunkt","Malform.Beskrivelse":"Foretrukket språk","Beregningsgrunnlag.Forms.Vurdering":"Vurdering","Timeline.closeData":"Lukke info om periode","Timeline.nextPeriod":"Neste periode","Timeline.nextPeriodShort":"Neste","Timeline.prevPeriod":"Forrige periode","Timeline.prevPeriodShort":"Forrige","Timeline.tooltip.dagsats":"Dagsats: {dagsats}kr","Timeline.tooltip.start":"Start","Timeline.tooltip.slutt":"Slutt","Timeline.tooltip.periodetype":"Periodetype","Timeline.tooltip.utsettelsePeriode":"Utsettelse","Timeline.TidspunktFamiliehendelse":"Tidspunkt for familiehendelse","Timeline.OppfyltPeriode":"Oppfylt periode","Timeline.IkkeOppfyltPeriode":"Ikke oppfylt periode","Timeline.TidspunktMotakSoknad":"Tidspunkt for mottatt søknad","Timeline.BelopTilbakereves":"Beløp tilbakekreves","Timeline.IngenTilbakekreving":"Ingen tilbakekreving","Timeline.IkkeAvklartPeriode":"Uavklart periode","Timeline.TidspunktRevurdering":"Startpunkt for revurdering","Timeline.GradertPeriode":"Gradert periode","Timeline.ManueltAvklart":"Manuelt avklart periode"},sF=Ve(iF),aF=({beregningresultat:e,familiehendelse:n,personoversikt:r,soknad:t,fagsak:i,aksjonspunkter:s,alleKodeverk:l,isReadOnly:d,submitCallback:o,readOnlySubmitButton:u,arbeidsgiverOpplysningerPerId:k,feriepengegrunnlag:f,formData:v,setFormData:h})=>_.jsx(Qe,{value:sF,children:_.jsx(tF,{beregningresultat:e,familieHendelseSamling:n,personoversikt:r,soknad:t,fagsak:i,aksjonspunkter:s,alleKodeverk:l,readOnly:d,submitCallback:o,readOnlySubmitButton:u,arbeidsgiverOpplysningerPerId:k,feriepengegrunnlag:f,formData:v,setFormData:h})});aF.__docgenInfo={description:"",methods:[],displayName:"vn"};var xk={exports:{}},it={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var io;function lF(){if(io)return it;io=1;var e=J,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,f={},v=null,h=null;u!==void 0&&(v=""+u),o.key!==void 0&&(v=""+o.key),o.ref!==void 0&&(h=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(f[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)f[k]===void 0&&(f[k]=o[k]);return{$$typeof:n,type:d,key:v,ref:h,props:f,_owner:i.current}}return it.Fragment=r,it.jsx=l,it.jsxs=l,it}xk.exports=lF();var ee=xk.exports;const dF="_panel_d5cml_1",oF="_hyphen_d5cml_9",gF="_marginTop_d5cml_19",uF="_marginBottom_d5cml_23",kF="_colWidth_d5cml_27",Mn={panel:dF,hyphen:oF,marginTop:gF,marginBottom:uF,colWidth:kF},mF=(e,n)=>e&&n!==void 0,cF=(e,n,r)=>{const t=r==null?void 0:r.mottattDato;return{gyldigSenFremsetting:e[0].status===na.OPPRETTET?void 0:t!==n,ansesMottatt:t,...Rr.buildInitialValues(e)}},fF=e=>({harGyldigGrunn:e.gyldigSenFremsetting,ansesMottattDato:e.ansesMottatt,kode:ae.VURDER_SOKNADSFRIST_FORELDREPENGER,...Rr.transformValues(e)}),pF=({aksjonspunkter:e,readOnly:n,readOnlySubmitButton:r,mottattDato:t,søknadsfrist:i,isApOpen:s,submitCallback:l,formData:d,setFormData:o})=>{const u=b.useMemo(()=>cF(e,t,i),[e,t,i]),k=He({defaultValues:d||u}),f=k.watch("gyldigSenFremsetting"),v=i==null?void 0:i.søknadsperiodeStart,h=i==null?void 0:i.søknadsperiodeSlutt,T=i==null?void 0:i.utledetSøknadsfrist;return ee.jsxs(Ze,{formMethods:k,onSubmit:E=>l(fF(E)),setDataOnUnmount:o,children:[ee.jsx(je,{size:"small",children:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Soknadsfrist"})}),ee.jsx(I,{twentyPx:!0}),ee.jsx(kt,{isAksjonspunktOpen:s,children:[ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.AksjonspunktHelpText",values:{numberOfDays:i==null?void 0:i.dagerOversittetFrist,soknadsfristdato:T?fr(T).format(te):""}},"VurderSoknadsfristForeldrepengerForm")]}),ee.jsx(I,{twentyPx:!0}),ee.jsx(se,{children:ee.jsxs(S,{children:[ee.jsx(p,{className:Mn.colWidth,children:ee.jsxs(Ws,{className:Mn.panel,children:[ee.jsx($,{size:"small",children:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Vurder"})}),ee.jsxs("ul",{className:Mn.hyphen,children:[ee.jsx("li",{children:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Punkt1"})}),ee.jsx("li",{children:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Punkt2"})}),ee.jsx("li",{children:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Punkt3"})})]})]})}),ee.jsx(p,{className:Mn.colWidth,children:ee.jsx(se,{children:ee.jsxs(S,{className:Mn.marginBottom,children:[ee.jsxs(p,{className:Mn.colWidth,children:[ee.jsx(me,{size:"small",children:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.SoknadMottatt"})}),t&&ee.jsx(A,{size:"small",children:fr(t).format(te)})]}),v&&h&&ee.jsxs(p,{className:Mn.colWidth,children:[ee.jsx(me,{size:"small",children:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.SoknadPeriode"})}),ee.jsx(A,{size:"small",children:`${fr(v).format(te)} - ${fr(h).format(te)}`})]})]})})})]})}),ee.jsxs("div",{className:Mn.marginTop,children:[ee.jsx(Rr,{readOnly:n}),ee.jsx(I,{sixteenPx:!0}),ee.jsx(Ne,{name:"gyldigSenFremsetting",validate:[Q],isReadOnly:n,isHorizontal:!0,isEdited:mF(e.length>0,f),isTrueOrFalseSelection:!0,radios:[{value:"true",label:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.GyldigGrunn"})},{value:"false",label:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.IkkeGyldigGrunn"})}]}),f&&ee.jsxs(ee.Fragment,{children:[ee.jsx(I,{sixteenPx:!0}),ee.jsx(co,{children:ee.jsx(Wn,{name:"ansesMottatt",isReadOnly:n,label:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.NyMottattDato"}),validate:[Q,Bn,Qk]})})]}),ee.jsx(I,{twentyPx:!0}),ee.jsx(So,{isReadOnly:n,isSubmittable:!r,isSubmitting:k.formState.isSubmitting,isDirty:k.formState.isDirty})]})]})},jF={"VurderSoknadsfristForeldrepengerForm.Soknadsfrist":"Søknadsfrist","VurderSoknadsfristForeldrepengerForm.AksjonspunktHelpText":"Søknad ble mottatt {numberOfDays} dager etter søknadsfrist ({soknadsfristdato})","VurderSoknadsfristForeldrepengerForm.SoknadMottatt":"Søknad mottatt dato","VurderSoknadsfristForeldrepengerForm.SoknadPeriode":"Søknadsperiode","VurderSoknadsfristForeldrepengerForm.Begrunnelse":"Begrunnelse fra søknaden","VurderSoknadsfristForeldrepengerForm.Vurder":"Vurder følgende","VurderSoknadsfristForeldrepengerForm.Punkt1":"Har det vært fristavbrytende kontakt?","VurderSoknadsfristForeldrepengerForm.Punkt2":"Har NAV gitt misvisende opplysninger?","VurderSoknadsfristForeldrepengerForm.Punkt3":"Har søker åpenbart ikke vært i stand til å sette frem krav?","VurderSoknadsfristForeldrepengerForm.GyldigGrunn":"Gyldig grunn for sen fremsetting av søknaden","VurderSoknadsfristForeldrepengerForm.IkkeGyldigGrunn":"Ingen gyldig grunn for sen fremsetting av søknaden","VurderSoknadsfristForeldrepengerForm.NyMottattDato":"Dato for når søknaden kan anses som mottatt"},vF=Ve(jF),Tk=({soknad:e,aksjonspunkter:n,submitCallback:r,isReadOnly:t,readOnlySubmitButton:i,isAksjonspunktOpen:s,formData:l,setFormData:d})=>ee.jsx(Qe,{value:vF,children:ee.jsx(pF,{mottattDato:e.mottattDato,søknadsfrist:e.søknadsfrist,aksjonspunkter:n,submitCallback:r,readOnly:t,readOnlySubmitButton:i,isApOpen:s,formData:l,setFormData:d})});Tk.__docgenInfo={description:"",methods:[],displayName:"st"};const bF=[ae.VURDER_SOKNADSFRIST_FORELDREPENGER],hF=[Ke.SOKNAD],so=e=>_e.jsx(ia,{...e,panelEndepunkter:hF,aksjonspunktKoder:bF,prosessPanelKode:ea.SOEKNADSFRIST,prosessPanelMenyTekst:q().formatMessage({id:"Behandlingspunkt.Soknadsfristvilkaret"}),skalPanelVisesIMeny:n=>Po(n.aksjonspunkter),renderPanel:n=>_e.jsx(Tk,{...n})});try{so.displayName="SoknadsfristProsessStegInitPanel",so.__docgenInfo={description:"",displayName:"SoknadsfristProsessStegInitPanel",props:{behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}export{ol as A,Id as B,J_ as C,Nl as F,Em as H,Vm as K,Sl as O,Td as P,so as S,sl as a,ro as b,Sd as c,Fm as l,aF as v};
//# sourceMappingURL=SoknadsfristProsessStegInitPanel-b4241b59.js.map
