import{j as a}from"./jsx-runtime-D_zvdyIk.js";import{r as u,R as d}from"./index-Dxs5m6lS.js";import{l as G,m as b,g as w,E as k,p as V,T as B,u as D,e as O,f as M,H as $,V as J,h as I,at as Y,P as Q,a7 as W}from"./withPanelData-BhCFSl75.js";import{n as K,i as T,f as X,o as Z,F as ee}from"./index.es-CjLtlWh2.js";import{u as te,n as re,b as ne}from"./fagsakApi-CNP4P7fK.js";import{E as h,A as R}from"./errorType-SEndjuwk.js";import{R as ae,S as se}from"./eksterneLenker-DOKwbE_M.js";import{c as ie}from"./bind-oYjWB_aQ.js";import{S as oe}from"./ExclamationmarkTriangleFill-D0LM-2KX.js";import{M as j}from"./message-BB4f8y_Y.js";import{L as _}from"./Link-CH9HmFl-.js";import{S as le}from"./Spacer-Ci6B-1kt.js";import{D as f}from"./Dropdown-BjBN7M1S.js";import{S as de}from"./ExternalLink-4bMCKeMx.js";import{a as ce,u as me}from"./RestApiErrorContext-Dcq0Gika.js";import{A as ue,J as ge,U as pe}from"./paths-BKWe_BSU.js";var fe=function(t,s){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&s.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)s.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]]);return n};const ve=u.forwardRef((t,s)=>{var{title:n,titleId:e}=t,r=fe(t,["title","titleId"]);let i=G();return i=n?e||"title-"+i:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.25 5A.75.75 0 0 1 5 4.25h1.5a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-.75.75H5a.75.75 0 0 1-.75-.75zm0 6.25A.75.75 0 0 1 5 10.5h1.5a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-.75.75H5a.75.75 0 0 1-.75-.75zm.75 5.5a.75.75 0 0 0-.75.75V19c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75v-1.5a.75.75 0 0 0-.75-.75zM10.5 5a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1-.75-.75zm.75 5.5a.75.75 0 0 0-.75.75v1.5c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75v-1.5a.75.75 0 0 0-.75-.75zm-.75 7a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75V19a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1-.75-.75zm7-13.25a.75.75 0 0 0-.75.75v1.5c0 .414.336.75.75.75H19a.75.75 0 0 0 .75-.75V5a.75.75 0 0 0-.75-.75zm-.75 7a.75.75 0 0 1 .75-.75H19a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1-.75-.75zm.75 5.5a.75.75 0 0 0-.75.75V19c0 .414.336.75.75.75H19a.75.75 0 0 0 .75-.75v-1.5a.75.75 0 0 0-.75-.75z",clipRule:"evenodd"}))});var ye=function(t,s){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&s.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)s.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]]);return n};const N=u.forwardRef((t,s)=>{var{as:n="button",className:e}=t,r=ye(t,["as","className"]);const{cn:i}=b();return d.createElement(n,Object.assign({},r,{ref:s,className:i("navds-internalheader__button",e)}))});var he=function(t,s){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&s.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)s.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]]);return n};const ke=u.forwardRef((t,s)=>{var{as:n="a",children:e,className:r}=t,i=he(t,["as","children","className"]);const{cn:o}=b();return d.createElement(n,Object.assign({},i,{ref:s,size:"xsmall",className:o("navds-internalheader__title","navds-body-short",r)}),d.createElement("span",null,e))});var je=function(t,s){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&s.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)s.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]]);return n};const be=u.forwardRef((t,s)=>{var{className:n,name:e,description:r}=t,i=je(t,["className","name","description"]);const{cn:o}=b();return d.createElement("div",Object.assign({},i,{ref:s,className:o("navds-internalheader__user",n)}),d.createElement("span",null,d.createElement(w,{size:"small",as:"div"},e),r&&d.createElement(k,{as:"div"},r)))});var Ee=function(t,s){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&s.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)s.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]]);return n};const Oe=u.forwardRef((t,s)=>{var{as:n,name:e,description:r,className:i}=t,o=Ee(t,["as","name","description","className"]);const{cn:p}=b();return d.createElement(N,Object.assign({},o,{as:n,ref:s,className:p("navds-internalheader__user-button",i)}),d.createElement("div",null,d.createElement(w,{size:"small",as:"div"},e),r&&d.createElement(k,{as:"div"},r)),d.createElement(K,{"aria-hidden":!0}))});var xe=function(t,s){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&s.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)s.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]]);return n};const y=u.forwardRef((t,s)=>{var{className:n}=t,e=xe(t,["className"]);const r=V(!1),{cn:i}=b();return r?d.createElement(B,{theme:"dark",asChild:!0,hasBackground:!1},d.createElement("header",Object.assign({},e,{ref:s,className:i("navds-internalheader",n)}))):d.createElement("header",Object.assign({"data-theme":"dark"},e,{ref:s,className:i("navds-internalheader",n)}))});y.Title=ke;y.User=be;y.Button=N;y.UserButton=Oe;const Se="_image_1pu1g_1",_e={image:Se},we=t=>t.charAt(0).toUpperCase()+t.substring(1),F=({skalViseModal:t,lukkModal:s,feilmeldingsdetaljer:n})=>{const e=D();return a.jsxs(O,{width:"medium",open:t,"aria-label":e.formatMessage({id:"FeilmeldingsdetaljerModal.ErrorDetails"}),onClose:s,children:[a.jsx(O.Header,{children:a.jsxs(M,{gap:"4",children:[a.jsx(oe,{className:_e.image}),a.jsx($,{size:"small",children:a.jsx(j,{id:"FeilmeldingsdetaljerModal.ErrorDetails"})})]})}),a.jsx(O.Body,{children:a.jsxs(M,{gap:"10",children:[a.jsx("div",{}),a.jsx(J,{gap:"4",children:n&&Object.keys(n).map(r=>a.jsxs("div",{children:[a.jsx(k,{children:`${we(r)}:`}),a.jsx("div",{children:a.jsx(w,{size:"small",children:n[r]})})]},r))})]})}),a.jsx(O.Footer,{children:a.jsx(I,{size:"small",variant:"secondary",onClick:s,type:"button",children:a.jsx(j,{id:"FeilmeldingsdetaljerModal.Close"})})})]})};F.__docgenInfo={description:`FeilmeldingsdetaljerModal

Modal som viser en feildetaljer.`,methods:[],displayName:"FeilmeldingsdetaljerModal",props:{skalViseModal:{required:!0,tsType:{name:"boolean"},description:""},lukkModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},feilmeldingsdetaljer:{required:!1,tsType:{name:"JSONObject",raw:"Feilmelding['tilleggsInfo']"},description:""}}};const Me="_container_15jct_1",Re="_link_15jct_14",De="_lukkContainer_15jct_17",Ie="_wordWrap_15jct_23",x={container:Me,link:Re,lukkContainer:De,wordWrap:Ie},Te=ie.bind(x),A=({feilmeldinger:t,fjernFeilmeldinger:s})=>{const[n,e]=u.useState(!1),[r,i]=u.useState(void 0),o=u.useCallback((l,c)=>{e(!n),i(c),l&&l.preventDefault()},[n]),p=u.useCallback((l,c)=>{l.key==="Enter"||l.key===" "?o(l,c):l.preventDefault()},[o]);return t.length===0?null:a.jsxs("div",{className:x.container,children:[t.map((l,c)=>a.jsxs(d.Fragment,{children:[a.jsx(k,{className:x.wordWrap,children:`${T(l.melding)} `}),l.tilleggsInfo&&a.jsx(k,{children:a.jsx(_,{href:"#",className:Te("link"),onClick:g=>o(g,c),onKeyDown:g=>p(g,c),children:a.jsx(j,{id:"FeilmeldingPanel.ErrorDetails"})})})]},l.melding)),a.jsx("div",{className:x.lukkContainer,children:a.jsx(I,{variant:"tertiary",icon:a.jsx(Y,{color:"white"}),onClick:s,type:"button"})}),n&&a.jsx(F,{skalViseModal:n,lukkModal:o,feilmeldingsdetaljer:r!==void 0?t[r].tilleggsInfo:void 0})]})};A.__docgenInfo={description:`FeilmeldingPanel

Definerer hvordan feilmeldinger vises under header.`,methods:[],displayName:"FeilmeldingPanel",props:{feilmeldinger:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  melding: string;
  tilleggsInfo?: JSONObject;
}`,signature:{properties:[{key:"melding",value:{name:"string",required:!0}},{key:"tilleggsInfo",value:{name:"JSONObject",required:!1}}]}}],raw:"Feilmelding[]"},description:""},fjernFeilmeldinger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Ne="_container_cnkgz_5",Fe={container:Ne},Ae={"FeilmeldingPanel.ErrorDetails":"Detaljert informasjon","FeilmeldingPanel.Close":"Lukk","FeilmeldingsdetaljerModal.ErrorDetails":"Detaljert informasjon","FeilmeldingsdetaljerModal.Close":"Lukk","DekoratorMedFeilviserSakIndex.SystemerOgOppslagsverk":"Systemer og oppslagsverk","DekoratorMedFeilviserSakIndex.Vedtakslosningen":"VedtakslÃ¸sningen","DekoratorMedFeilviserSakIndex.EksternLenke":"Ekstern lenke"},S=X(Ae),Pe=[],P=({tittel:t,tittelLenke:s,tittelCallback:n,navAnsattNavn:e,feilmeldinger:r,fjernFeilmeldinger:i,setSiteHeight:o,interneLenker:p=Pe,eksterneLenker:l})=>{const c=u.useRef(null);return u.useEffect(()=>{c.current&&o(c.current.clientHeight)},[r.length]),a.jsx("div",{ref:c,className:Fe.container,children:a.jsxs(Q,{value:S,children:[a.jsxs(y,{children:[a.jsx(y.Title,{href:s,onClick:n,onContextMenu:n,children:t}),a.jsx(le,{}),a.jsxs(f,{children:[a.jsx(y.Button,{as:f.Toggle,children:a.jsx(ve,{style:{fontSize:"1.5rem"},title:S.formatMessage({id:"DekoratorMedFeilviserSakIndex.SystemerOgOppslagsverk"})})}),a.jsx(f.Menu,{children:a.jsxs(f.Menu.GroupedList,{children:[p.length>0&&a.jsx(f.Menu.GroupedList.Heading,{children:a.jsx(j,{id:"DekoratorMedFeilviserSakIndex.Vedtakslosningen"})}),p.map(g=>a.jsx(f.Menu.GroupedList.Item,{as:_,onClick:g.callback,children:g.tekst},g.tekst)),a.jsx(f.Menu.GroupedList.Heading,{children:a.jsx(j,{id:"DekoratorMedFeilviserSakIndex.SystemerOgOppslagsverk"})}),l.map(g=>a.jsxs(f.Menu.GroupedList.Item,{as:_,href:g.href,target:"_blank",children:[g.tekst,a.jsx(de,{title:S.formatMessage({id:"DekoratorMedFeilviserSakIndex.EksternLenke"})})]},g.tekst))]})})]}),a.jsx(y.User,{name:e})]}),a.jsx(A,{fjernFeilmeldinger:i,feilmeldinger:r})]})})};P.__docgenInfo={description:`DekoratorMedFeilviserSakIndex

Definerer header-linjen som alltid vises Ã¸verst nettleservinduet.
Denne viser lenke tilbake til hovedsiden, nettside-navnet, Nav-ansatt navn og lenker i meny.
I tillegg vil den vise potensielle feilmeldinger i FeilmeldingPanel.`,methods:[],displayName:"DekoratorMedFeilviserSakIndex",props:{tittel:{required:!0,tsType:{name:"string"},description:""},tittelLenke:{required:!1,tsType:{name:"string"},description:""},tittelCallback:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.SyntheticEvent) => void",signature:{arguments:[{type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent"},name:"event"}],return:{name:"void"}}},description:""},navAnsattNavn:{required:!0,tsType:{name:"string"},description:""},feilmeldinger:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  melding: string;
  tilleggsInfo?: JSONObject;
}`,signature:{properties:[{key:"melding",value:{name:"string",required:!0}},{key:"tilleggsInfo",value:{name:"JSONObject",required:!1}}]}}],raw:"Feilmelding[]"},description:""},fjernFeilmeldinger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},setSiteHeight:{required:!0,tsType:{name:"signature",type:"function",raw:"(height: number) => void",signature:{arguments:[{type:{name:"number"},name:"height"}],return:{name:"void"}}},description:""},interneLenker:{required:!1,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  tekst: string;
  href?: string;
  callback?: (event: React.SyntheticEvent) => void;
}`,signature:{properties:[{key:"tekst",value:{name:"string",required:!0}},{key:"href",value:{name:"string",required:!1}},{key:"callback",value:{name:"signature",type:"function",raw:"(event: React.SyntheticEvent) => void",signature:{arguments:[{type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent"},name:"event"}],return:{name:"void"}},required:!1}}]}}],raw:`Readonly<{
  tekst: string;
  href?: string;
  callback?: (event: React.SyntheticEvent) => void;
}>`}],raw:"DekoratorLenke[]"},description:"",defaultValue:{value:"[]",computed:!1}},eksterneLenker:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  tekst: string;
  href?: string;
  callback?: (event: React.SyntheticEvent) => void;
}`,signature:{properties:[{key:"tekst",value:{name:"string",required:!0}},{key:"href",value:{name:"string",required:!1}},{key:"callback",value:{name:"signature",type:"function",raw:"(event: React.SyntheticEvent) => void",signature:{arguments:[{type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent"},name:"event"}],return:{name:"void"}},required:!1}}]}}],raw:`Readonly<{
  tekst: string;
  href?: string;
  callback?: (event: React.SyntheticEvent) => void;
}>`}],raw:"DekoratorLenke[]"},description:""}}};const Le=[],qe=({queryStrings:t,setSiteHeight:s,crashMessage:n,hideErrorMessages:e=!1})=>{const r=D(),i=ce(),{removeErrorMessages:o}=me(),p=te(ne()),{innloggetBruker:l}=re(p.data),c=W(),g=m=>{m.type==="click"&&c("/"),m.type==="contextmenu"&&window.open("/","_newtab"),m.preventDefault()},L=m=>{c(ue),m.preventDefault()},q=m=>{c(ge),m.preventDefault()},H=m=>{c(pe),m.preventDefault()},{kanOppgavestyre:C,kanSaksbehandle:U}=l,E=[];C&&E.push({tekst:r.formatMessage({id:"Dekorator.Avdelingsleder"}),callback:m=>L(m)}),U&&E.push({tekst:r.formatMessage({id:"Dekorator.Journalforing"}),callback:m=>q(m)}),E.push({tekst:r.formatMessage({id:"Dekorator.Utbetalingsdata"}),callback:m=>H(m)});const z=[{tekst:r.formatMessage({id:"Dekorator.Rettskilde"}),href:ae},{tekst:r.formatMessage({id:"Dekorator.Systemrutine"}),href:se}];return a.jsx(P,{tittel:r.formatMessage({id:"Dekorator.Foreldrepenger"}),tittelCallback:g,navAnsattNavn:l.navn,feilmeldinger:e?Le:He(r,i,t,n),fjernFeilmeldinger:o,setSiteHeight:s,interneLenker:E,eksterneLenker:z})},v=(t,s)=>{t.some(n=>n.melding===s.melding&&n.tilleggsInfo===s.tilleggsInfo)||t.push(s)},He=(t,s,n,e)=>{const r=[];return n.errorcode&&v(r,{melding:t.formatMessage({id:n.errorcode})}),n.errormessage&&v(r,{melding:n.errormessage}),e&&v(r,{melding:e}),s.forEach(i=>{var o;switch(i.type){case h.POLLING_HALTED_OR_DELAYED:if(i.status===R.HALTED){const p=T(i.message);v(r,{melding:t.formatMessage({id:"Rest.ErrorMessage.General"}),tilleggsInfo:p?Ce(p):void 0})}i.status===R.DELAYED&&v(r,{melding:t.formatMessage({id:"Rest.ErrorMessage.DownTime"},{date:ee(i.eta),time:Z(i.eta),message:i.message})});break;case h.POLLING_TIMEOUT:v(r,{melding:t.formatMessage({id:"Rest.ErrorMessage.PollingTimeout"},{location:i.location})});break;case h.REQUEST_GATEWAY_TIMEOUT_OR_NOT_FOUND:v(r,{melding:t.formatMessage({id:"Rest.ErrorMessage.GatewayTimeoutOrNotFound"},{contextPath:i.location?(o=i.location.split("/")[1])==null?void 0:o.toUpperCase():"",location:i.location})});break;case h.REQUEST_FORBIDDEN:case h.REQUEST_UNAUTHORIZED:case h.GENERAL_ERROR:default:v(r,{melding:i.message})}}),r},Ce=t=>{try{return JSON.parse(t)}catch{return"Kunne ikke tolke feildetaljer"}};qe.__docgenInfo={description:"",methods:[],displayName:"Dekorator",props:{queryStrings:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  errorcode?: string;
  errormessage?: string;
}`,signature:{properties:[{key:"errorcode",value:{name:"string",required:!1}},{key:"errormessage",value:{name:"string",required:!1}}]}},description:""},setSiteHeight:{required:!0,tsType:{name:"signature",type:"function",raw:"(headerHeight: number) => void",signature:{arguments:[{type:{name:"number"},name:"headerHeight"}],return:{name:"void"}}},description:""},crashMessage:{required:!1,tsType:{name:"string"},description:""},hideErrorMessages:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{qe as D};
