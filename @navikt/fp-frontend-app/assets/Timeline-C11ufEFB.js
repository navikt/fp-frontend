import{r as p,R as i}from"./index-DRjF_FHU.js";import{u as ee,X as _,Y as Le,Z as de,$ as $e,a0 as H,m as k,a1 as Ye,D as ue,a2 as K,a3 as fe,a4 as me,a5 as F,a6 as ke,a7 as J,a8 as ze,G as ve,I as pe,J as be,N as he,K as ge,O as ye,R as we,T as Oe,U as _e,W as Ee,a9 as Pe,Q as xe,y as je,aa as Re,j as Y,B as Ze,ab as Be,o as G,ac as He,ad as U}from"./VStack-DsEMjmUM.js";var Ke=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const Dt=p.forwardRef((e,l)=>{var{title:n,titleId:t}=e,o=Ke(e,["title","titleId"]);let a=ee();return a=n?t||"title-"+a:void 0,p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":a},o),n?p.createElement("title",{id:a},n):null,p.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .656.387l9.527 17.25A.75.75 0 0 1 21.526 21H2.474a.75.75 0 0 1-.657-1.113l9.527-17.25A.75.75 0 0 1 12 2.25m8.255 17.25L12 4.551 3.745 19.5zM12 8.75a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4a.75.75 0 0 1 .75-.75m0 6.75a1 1 0 1 0 0 2 1 1 0 0 0 0-2",clipRule:"evenodd"}))});var Ue=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const Ft=p.forwardRef((e,l)=>{var{title:n,titleId:t}=e,o=Ue(e,["title","titleId"]);let a=ee();return a=n?t||"title-"+a:void 0,p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":a},o),n?p.createElement("title",{id:a},n):null,p.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.75 12a.75.75 0 0 1 .75-.75h13a.75.75 0 1 1 0 1.5h-13a.75.75 0 0 1-.75-.75",clipRule:"evenodd"}))});var Xe=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const Ct=p.forwardRef((e,l)=>{var{title:n,titleId:t}=e,o=Xe(e,["title","titleId"]);let a=ee();return a=n?t||"title-"+a:void 0,p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":a},o),n?p.createElement("title",{id:a},n):null,p.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.97 10.085A3.25 3.25 0 1 1 9.1 8.478l1.456.822 6.506-1.952a1.75 1.75 0 0 1 .79-.05l2.771.462a.75.75 0 0 1 .234 1.4l-5.336 2.89 5.326 2.785a.75.75 0 0 1-.224 1.405l-2.77.462a1.75 1.75 0 0 1-.791-.05l-6.46-1.938-1.5.813q.146.462.148.973a3.25 3.25 0 1 1-1.28-2.585 3.25 3.25 0 0 0 0-3.83M4.25 7.5a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0m8.214 6.206 1.467-.795 4.24 2.217-.565.094a.25.25 0 0 1-.113-.007zM7.39 15.438l.018.023a1.75 1.75 0 1 1-.017-.023m2.493-2.04a4.8 4.8 0 0 0 .11-2.363l7.499-2.25a.25.25 0 0 1 .113-.007l.616.103z",clipRule:"evenodd"}))});function Z(e,l){const n=_(e),t=_(l),o=n.getTime()-t.getTime();return o<0?-1:o>0?1:o}function Ve(e,l){const n=_(e),t=_(l);return n.getFullYear()-t.getFullYear()}function De(e,l){const n=_(e),t=_(l),o=re(n,t),a=Math.abs(Le(n,t));n.setDate(n.getDate()-o*a);const c=+(re(n,t)===-o),r=o*(a-c);return r===0?0:r}function re(e,l){const n=e.getFullYear()-l.getFullYear()||e.getMonth()-l.getMonth()||e.getDate()-l.getDate()||e.getHours()-l.getHours()||e.getMinutes()-l.getMinutes()||e.getSeconds()-l.getSeconds()||e.getMilliseconds()-l.getMilliseconds();return n<0?-1:n>0?1:n}function se(e,l){return+_(e)-+_(l)}function X(e){const l=_(e);return l.setHours(23,59,59,999),l}function We(e){const l=_(e);return+X(l)==+de(l)}function qe(e,l){const n=_(e),t=_(l),o=Z(n,t),a=Math.abs($e(n,t));let c;if(a<1)c=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*a);let r=Z(n,t)===-o;We(_(e))&&a===1&&Z(e,t)===1&&(r=!1),c=o*(a-Number(r))}return c===0?0:c}function Ge(e,l){const n=_(e),t=_(l),o=Z(n,t),a=Math.abs(Ve(n,t));n.setFullYear(1584),t.setFullYear(1584);const c=Z(n,t)===-o,r=o*(a-+c);return r===0?0:r}function Je(e){const l=_(e),n=l.getFullYear();return l.setFullYear(n+1,0,0),l.setHours(23,59,59,999),l}function Qe(e,l){return H(e,-l)}const Fe=p.createContext({startDate:new Date,endDate:new Date,direction:"left",setStart:()=>null,setEndInclusive:()=>null,activeRow:0,setActiveRow:()=>null,initiate:()=>null,addFocusable:()=>null}),B=()=>{const e=p.useContext(Fe);return e||console.warn("useTimelineContext must be used with TimelineContext (<Timeline />)"),e},et=({horizontalPosition:e})=>e<=98&&e>=0,ie=(e,l)=>De(e,l)<=1,tt=({horizontalPosition:e,width:l})=>e>=0&&e<=100&&l>0,Q=(e,l,n)=>{const t=se(n,l);return se(e,l)/t*100},V=(e,l,n,t)=>{const o=Q(e,n,t),a=Q(l,n,t)-o;return{horizontalPosition:o,width:a}},nt=(e,l,n,t,o,a)=>{const c=Math.ceil(n/10),r=K(l);return new Array(n).fill(r).map((m,v)=>{if(v%c!==0)return null;const f=fe(m,v),{horizontalPosition:b,width:d}=V(f,me(f,1),e,l);return{direction:t,horizontalPosition:b,label:F(f,o,{locale:a}),date:f,width:d}}).filter(m=>m!==null)},ot=(e,l,n,t,o)=>{const a=ke(e),c=de(l),r=qe(c,a)+1;return new Array(r).fill(a).map((m,v)=>{const f=J(m,v),{horizontalPosition:b,width:d}=V(f,J(f,1),e,l);return{direction:n,horizontalPosition:b,label:F(f,t,{locale:o}),date:f,width:d}})},lt=(e,l,n,t,o)=>{const a=ze(e),c=Je(l),r=Ge(c,e)+1;return new Array(r).fill(a).map((m,v)=>{const f=H(m,v),{horizontalPosition:b,width:d}=V(f,H(f,1),e,l);return{direction:n,horizontalPosition:b,label:F(f,t,{locale:o}),date:f,width:d}})},at=(e,l,n,t,o)=>{const a=De(l,e);if(a<40){const r=o("dayFormat");return nt(e,l,a,n,r,t)}if(a<370){const r=o("monthFormat");return ot(e,l,n,r,t)}const c=o("yearFormat");return lt(e,l,n,c,t)},rt=({templates:e})=>{const{endDate:l,startDate:n,direction:t}=B(),o=k("Timeline",{dayFormat:e==null?void 0:e.day,monthFormat:e==null?void 0:e.month,yearFormat:e==null?void 0:e.year}),a=Ye(),c=at(n,l,t,a,o);return i.createElement("div",{className:"navds-timeline__axislabels","aria-hidden":"true"},c.filter(et).map(r=>i.createElement(ue,{className:"navds-timeline__axislabels-label",as:"div",key:r.label,style:{justifyContent:t==="left"?"flex-start":"flex-end",[t]:`${r.horizontalPosition}%`,width:`${r.width}%`}},r.label)))};var st=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const Ce=p.forwardRef((e,l)=>{var{date:n,children:t}=e,o=st(e,["date","children"]);const{startDate:a,endDate:c,direction:r}=B(),[m,v]=p.useState(!1),f=p.useRef(null),b=k("Timeline"),{context:d,placement:O,middlewareData:{arrow:{x:w,y:u}={}},refs:y,floatingStyles:h}=ve({placement:"top",open:m,onOpenChange:R=>v(R),whileElementsMounted:pe,middleware:[be(16),he(),ge({padding:5,fallbackPlacements:["bottom","top"]}),ye({element:f,padding:5})]}),j=we(d,{handleClose:Oe(),restMs:25,delay:{open:1e3},move:!1}),S=_e(d),M=Ee(d),T=Pe(d,{role:"dialog"}),{getFloatingProps:C,getReferenceProps:I}=xe([j,S,M,T]),$=je(y.setReference,l),A={top:"bottom",right:"left",bottom:"top",left:"right"}[O.split("-")[0]];return i.createElement(i.Fragment,null,i.createElement("div",{className:"navds-timeline__pin-wrapper",style:{[r]:`${Q(n,a,c)}%`}},i.createElement("button",Object.assign({},o,{ref:$,className:"navds-timeline__pin-button","aria-label":b("Pin.pin",{date:F(n,b("dateFormat"))}),type:"button","aria-expanded":t?m:void 0},I({onKeyDown:R=>{var s;(s=o==null?void 0:o.onKeyDown)===null||s===void 0||s.call(o,R),R.key==="Enter"?v(g=>!g):R.key===" "&&v(!1)}})))),t&&m&&i.createElement(Re,{context:d,modal:!1,initialFocus:-1,returnFocus:!1},i.createElement("div",Object.assign({className:"navds-timeline__popover","data-placement":O,ref:y.setFloating},C(),{tabIndex:void 0,style:h}),t,i.createElement("div",{ref:f,style:Object.assign(Object.assign(Object.assign({},w!=null?{left:w}:{}),u!=null?{top:u}:{}),A?{[A]:"-0.5rem"}:{}),className:"navds-timeline__popover-arrow"}))))});Ce.componentType="pin";const Ie=p.createContext({periodId:"",firstFocus:!1}),Me=()=>{const e=p.useContext(Ie);return e||console.warn("usePeriodContext must be used with PeriodContext"),e},Se=p.createContext({periods:[],id:"",active:!1,index:0}),te=()=>{const e=p.useContext(Se);return e||console.warn("useRowContext must be used with RowContext"),e},Te=(e,l,n)=>Y(`navds-timeline__period navds-timeline__period--${n}`,{"navds-timeline__period--connected-both":e==="both","navds-timeline__period--connected-right":e==="right"&&l==="left"||e==="left"&&l==="right","navds-timeline__period--connected-left":e==="left"&&l==="left"||e==="right"&&l==="right"}),Ae=(e,l,n,t,o)=>{const a=o("dateFormat"),c=F(e,a),r=F(l,a);return o("Period.period",{status:t||o(`Period.${n}`),start:c,end:r})},it=i.memo(({onSelectPeriod:e,start:l,end:n,status:t,cropped:o,direction:a,left:c,width:r,icon:m,children:v,isActive:f,statusLabel:b,restProps:d,periodRef:O})=>{const[w,u]=p.useState(!1),{index:y}=te(),{firstFocus:h}=Me(),{initiate:j,addFocusable:S}=B(),M=p.useRef(null),T=k("Timeline"),{context:C,placement:I,middlewareData:{arrow:{x:$,y:A}={}},refs:R,floatingStyles:s}=ve({placement:"top",open:w,onOpenChange:P=>u(P),whileElementsMounted:pe,middleware:[be(16),he(),ge({padding:5,fallbackPlacements:["bottom","top"]}),ye({element:M,padding:5})]}),g=we(C,{handleClose:Oe(),restMs:25,delay:{open:1e3},move:!1}),D=_e(C),N=Ee(C),z=Pe(C,{role:"dialog"}),{getFloatingProps:E,getReferenceProps:q}=xe([g,D,N,z]),x=je(R.setReference,O),ae={top:"bottom",right:"left",bottom:"top",left:"right"}[I.split("-")[0]];return i.createElement(i.Fragment,null,i.createElement("button",Object.assign({},d,{type:"button",ref:P=>{h&&S(P,y),x(P)},"aria-label":Ae(l,n,t,b,T),className:Y("navds-timeline__period--clickable",Te(o,a,t),d==null?void 0:d.className,{"navds-timeline__period--selected":f}),"aria-expanded":v?w:void 0,"aria-current":f||void 0},q({onFocus:()=>{j(y)},onKeyDown:P=>{var L;(L=d==null?void 0:d.onKeydown)===null||L===void 0||L.call(d,P),P.key==="Enter"&&u(Ne=>!Ne),P.key===" "&&(e==null||e(P),u(!1))},style:{width:`${r}%`,[a]:`${c}%`},onClick:P=>{var L;(L=d==null?void 0:d.onClick)===null||L===void 0||L.call(d,P),P.detail!==0&&(e==null||e(P))}})),i.createElement("span",{className:"navds-timeline__period--inner"},m)),v&&w&&i.createElement(Re,{context:C,modal:!1,initialFocus:-1,returnFocus:!1},i.createElement("div",Object.assign({className:"navds-timeline__popover","data-placement":I,ref:R.setFloating},E(),{style:s}),v,i.createElement("div",{ref:M,style:Object.assign(Object.assign(Object.assign({},$!=null?{left:$}:{}),A!=null?{top:A}:{}),ae?{[ae]:"-0.5rem"}:{}),className:"navds-timeline__popover-arrow"}))))}),ct=({start:e,end:l,status:n,cropped:t,direction:o,left:a,width:c,icon:r,statusLabel:m,restProps:v,periodRef:f})=>{const b=k("Timeline");return i.createElement("div",Object.assign({ref:f},v,{className:Y(Te(t,o,n),v==null?void 0:v.className),style:{width:`${c}%`,[o]:`${a}%`}}),i.createElement("span",{className:"navds-timeline__period--inner"},r,i.createElement("span",{className:"sr-only"},Ae(e,l,n,m,b))))},ne=p.forwardRef(({icon:e},l)=>{const{periods:n}=te(),{periodId:t,restProps:o}=Me(),a=n.find(h=>h.id===t);if(!a)return i.createElement(i.Fragment,null);const{start:c,endInclusive:r,width:m,horizontalPosition:v,status:f="neutral",onSelectPeriod:b,cropped:d,direction:O,children:w,isActive:u,statusLabel:y}=a;return b||w?i.createElement(it,{periodRef:l,start:c,end:r,status:f,onSelectPeriod:b,cropped:d||"",direction:O,width:m,left:v,icon:e,isActive:u,statusLabel:y,restProps:o},w):i.createElement(ct,{periodRef:l,start:c,end:r,status:f,cropped:d||"",direction:O,width:m,left:v,icon:e,statusLabel:y,restProps:o})});ne.componentType="period";var dt=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const oe=p.forwardRef((e,l)=>{var{label:n,className:t,headingTag:o="h3",icon:a}=e,c=dt(e,["label","className","headingTag","icon"]);const{periods:r,id:m,active:v}=te(),{setActiveRow:f}=B(),b=k("Timeline"),d=r.reduce((u,y)=>u.end>y.end?u:y,{}),O=r.reduce((u,y)=>u.end<y.end?u:y,{}),w=r.find(u=>!!u.children||!!u.onSelectPeriod);return i.createElement(i.Fragment,null,n&&i.createElement(Ze,{as:o,id:`timeline-row-${m}`,className:"navds-timeline__row-label",size:"small"},a,n),i.createElement("div",{className:Y("navds-timeline__row",{"navds-timeline__row--active":v})},i.createElement("ol",Object.assign({},c,{tabIndex:-1,ref:l,"aria-label":r.length===0?b("Row.noPeriods"):b("Row.period",{start:F(O.start,b("dateFormat")),end:F(d.end,b("dateFormat"))}),className:Y("navds-timeline__row-periods",t),onKeyDown:u=>{(u.key==="ArrowDown"||u.key==="ArrowUp")&&(u.preventDefault(),f(u.key))}}),r==null?void 0:r.map(u=>i.createElement("li",{key:`period-${u.id}`},i.createElement(Ie.Provider,{value:{periodId:u.id,firstFocus:(w==null?void 0:w.id)===u.id,restProps:u==null?void 0:u.restProps}},i.createElement(ne,{start:u.start,end:u.endInclusive,icon:u.icon,ref:u==null?void 0:u.ref})))))))});oe.componentType="row";const ut=(e,l)=>e.horizontalPosition-l.horizontalPosition,ft=(e,l,n,t="left",o,a,c)=>{const r=e.start,m=e.end,v=o<a.length-1&&!Be(a[o+1].start,m),{horizontalPosition:f,width:b}=V(K(r),X(v?K(fe(a[o+1].start,1)):m),l,n);return{id:`r-${c}-p-${o}`,start:r,endInclusive:m,horizontalPosition:f,direction:t,width:b,end:m,status:e.status,onSelectPeriod:e.onSelectPeriod,icon:e.icon,children:e.children,isActive:e.isActive,statusLabel:e.statusLabel}},mt=(e,l,n)=>{const t=l>0&&ie(e.start,n[l-1].endInclusive),o=l<n.length-1&&ie(n[l+1].start,e.endInclusive);return t&&o?Object.assign(Object.assign({},e),{cropped:"both"}):t?Object.assign(Object.assign({},e),{cropped:"left"}):o?Object.assign(Object.assign({},e),{cropped:"right"}):e},vt=e=>{let{horizontalPosition:l,width:n,cropped:t}=e;return l+n>100&&(n=100-l,t=t==="left"||t==="both"?"both":"right"),l<0&&l+n>0&&(n=l+n,l=0,t=t==="right"||t==="both"?"both":"left"),Object.assign(Object.assign({},e),{width:n,horizontalPosition:l,cropped:t})},pt=(e,l,n,t)=>p.useMemo(()=>e.map((o,a)=>{const c=o.periods.sort((r,m)=>r.start.valueOf()-m.start.valueOf()).map((r,m)=>Object.assign(Object.assign({},ft(r,l,n,t,m,o.periods,a)),{restProps:r==null?void 0:r.restProps,ref:r==null?void 0:r.ref})).sort(ut).map(mt).map(vt).filter(tt);return{id:`tl-row-${a}`,label:o.label,headingTag:o.headingTag||"h3",icon:o.icon,periods:t==="left"?c:c.reverse(),restProps:o==null?void 0:o.restProps,ref:o==null?void 0:o.ref}}),[e,l,n,t]),bt=(e,l)=>l.start<e?l.start:e,ht=e=>e.flat().reduce(bt,new Date),gt=({startDate:e,rows:l})=>p.useMemo(()=>e||ht(l),[e,l]),yt=(e,l)=>l.end>e?l.end:e,wt=e=>e.flat().reduce(yt,new Date(0)),ce=({endDate:e,rows:l})=>p.useMemo(()=>e||me(wt(l),1),[e,l]),Ot=e=>{const l=[];return e==null||e.forEach(n=>{var t,o,a,c,r,m,v,f,b,d,O,w;const u=[];if(i.isValidElement(n)&&(!((t=n==null?void 0:n.props)===null||t===void 0)&&t.children)){if(Array.isArray(n.props.children))for(let y=0;y<n.props.children.length;y++){const h=n.props.children[y];u.push({start:(o=h==null?void 0:h.props)===null||o===void 0?void 0:o.start,end:(a=h==null?void 0:h.props)===null||a===void 0?void 0:a.end,status:((c=h==null?void 0:h.props)===null||c===void 0?void 0:c.status)||"neutral",onSelectPeriod:(r=h.props)===null||r===void 0?void 0:r.onSelectPeriod,label:n.props.label,icon:h.props.icon,children:h.props.children,isActive:h.props.isActive,statusLabel:h.props.statusLabel,restProps:G(h.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:h==null?void 0:h.ref})}else u.push({start:n.props.children.props.start,end:n.props.children.props.end,status:((m=n.props.children.props)===null||m===void 0?void 0:m.status)||"neutral",onSelectPeriod:(v=n.props.children.props)===null||v===void 0?void 0:v.onSelectPeriod,label:n.props.label,icon:(f=n.props.children.props)===null||f===void 0?void 0:f.icon,children:(b=n.props.children.props)===null||b===void 0?void 0:b.children,statusLabel:(d=n.props.children.props)===null||d===void 0?void 0:d.statusLabel,restProps:G(n.props.children.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:(w=(O=n.props)===null||O===void 0?void 0:O.children)===null||w===void 0?void 0:w.ref});l.push({label:n.props.label,icon:n.props.icon,headingTag:n.props.headingTag,periods:u,restProps:G(n.props,["label","icon","headingTag"]),ref:n==null?void 0:n.ref})}}),l};var _t=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const Et=p.forwardRef((e,l)=>{var{label:n,interval:t,count:o}=e,a=_t(e,["label","interval","count"]);const{setStart:c,endDate:r,startDate:m,direction:v}=B(),f=k("Timeline"),b=f("dateFormat");let d;t==="month"?d=v==="left"?He(r,o):J(m,o):d=v==="left"?Qe(r,o):H(m,o);const O=v==="left"?U(m,d):U(r,d);return i.createElement(ue,{as:"li"},i.createElement("button",Object.assign({type:"button","aria-label":O?f("Zoom.reset"):f("Zoom.zoom",{start:F(d,b),end:F(r,b)}),ref:l},a,{className:"navds-timeline__zoom-button",onClick:()=>{c(d)},"aria-pressed":O}),n))});var Pt=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const le=p.forwardRef((e,l)=>{var{className:n,children:t}=e,o=Pt(e,["className","children"]);return i.createElement("ul",Object.assign({ref:l,className:Y(n,"navds-timeline__zoom")},o),t)});le.Button=Et;le.componentType="zoom";var xt=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const W=p.forwardRef((e,l)=>{var{children:n,startDate:t,endDate:o,direction:a="left",axisLabelTemplates:c}=e,r=xt(e,["children","startDate","endDate","direction","axisLabelTemplates"]);const m=Array.isArray(n),v=p.useRef([]);m||(n=[n]);const f=i.Children.toArray(n).filter(s=>{var g;return((g=s==null?void 0:s.type)===null||g===void 0?void 0:g.componentType)==="row"}),b=i.Children.toArray(n).filter(s=>{var g;return((g=s==null?void 0:s.type)===null||g===void 0?void 0:g.componentType)==="pin"}).map(s=>()=>s),d=i.Children.toArray(n).find(s=>{var g;return((g=s==null?void 0:s.type)===null||g===void 0?void 0:g.componentType)==="zoom"}),O=p.useMemo(()=>Ot(f),[f]),w=O.map(s=>s!=null&&s.periods?s.periods:[]),u=K(gt({startDate:t,rows:w})),[y,h]=p.useState(u),[j,S]=p.useState(null),[M,T]=p.useState(X(ce({endDate:o,rows:w}))),C=X(ce({endDate:o,rows:w})),I=pt(O,t??y,o??M,a),$=s=>{if(!(t||o))if(a==="left"){if(U(s,y)){h(u);return}h(s)}else{if(U(s,M)){T(C);return}T(s)}},A=s=>{var g,D,N,z;if(j!==null&&s==="ArrowDown"){for(let E=j+1;E<I.length;E++)if(I[E].periods.find(x=>!!x.children||!!x.onSelectPeriod)){S(E),(D=(g=v.current.find(x=>x.id===E))===null||g===void 0?void 0:g.ref)===null||D===void 0||D.focus();break}return}if(j!==null&&s==="ArrowUp"){for(let E=j-1;E>=0;E--)if(I[E].periods.find(x=>!!x.children||!!x.onSelectPeriod)){S(E),(z=(N=v.current.find(x=>x.id===E))===null||N===void 0?void 0:N.ref)===null||z===void 0||z.focus();break}return}},R=(s,g)=>{let D=v.current;D=D.filter(N=>N.id!==g),D.push({ref:s,id:g}),v.current=D};return i.createElement(Fe.Provider,{value:{startDate:t??y,endDate:o??M,direction:a,setStart:s=>$(s),setEndInclusive:s=>T(s),activeRow:j,setActiveRow:s=>A(s),initiate:s=>S(s),addFocusable:R}},i.createElement("div",Object.assign({},r,{ref:l}),i.createElement("div",{className:"navds-timeline"},i.createElement(rt,{templates:c}),b.map((s,g)=>i.createElement(s,{key:`pin-${g}`})),I.map((s,g)=>i.createElement(Se.Provider,{key:`row-${s.id}`,value:{periods:s.periods,id:s.id,active:j===g,index:g}},i.createElement(oe,Object.assign({},s==null?void 0:s.restProps,{ref:s==null?void 0:s.ref,label:s.label,icon:s.icon,headingTag:s.headingTag}))))),d))});W.Row=oe;W.Period=ne;W.Pin=Ce;W.Zoom=le;export{Ft as S,W as T,Ct as a,Dt as b};
