import{r as s,R as f}from"./index-6d8bab86.js";import{u as N,ai as ae,aa as F,aj as ie,ak as Ae,al as G}from"./index.es-cf8b7a99.js";import{be as R,bf as j,bg as $e,bh as se,bi as Fe,bj as B,bk as Ne,bl as H,bm as ce,bn as de,bo as M,bp as Q,bq as ke,br as W,bs as Le,bt as Ze,bu as ue,bv as fe,bw as ve,bx as pe,by as me,bz as be,bA as ge,bB as he,bC as ye,bD as we,bE as Oe,bF as ze,bG as V}from"./AppIndex.stories-49ecb714.js";var Ye=globalThis&&globalThis.__rest||function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)r.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Be=s.forwardRef((e,r)=>{var{title:n,titleId:t}=e,l=Ye(e,["title","titleId"]);let o=N();return o=n?t||"title-"+o:void 0,s.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:r,"aria-labelledby":o},l),n?s.createElement("title",{id:o},n):null,s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .656.387l9.527 17.25A.75.75 0 0 1 21.526 21H2.474a.75.75 0 0 1-.657-1.113l9.527-17.25A.75.75 0 0 1 12 2.25Zm8.255 17.25L12 4.551 3.745 19.5h16.51ZM12 8.75a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4a.75.75 0 0 1 .75-.75Zm0 6.75a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z",fill:"currentColor"}))}),zt=Be;var He=globalThis&&globalThis.__rest||function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)r.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Ve=s.forwardRef((e,r)=>{var{title:n,titleId:t}=e,l=He(e,["title","titleId"]);let o=N();return o=n?t||"title-"+o:void 0,s.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:r,"aria-labelledby":o},l),n?s.createElement("title",{id:o},n):null,s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2.25a2.75 2.75 0 1 0 0 5.5 2.75 2.75 0 0 0 0-5.5Zm-2.25 14.5H7a.75.75 0 0 1-.706-1.002L8.557 9.41a1.75 1.75 0 0 1 1.648-1.161h3.59c.74 0 1.4.465 1.648 1.161l2.263 6.337A.75.75 0 0 1 17 16.75h-2.75V21a.75.75 0 0 1-1.5 0v-4.25h-1.5V21a.75.75 0 0 1-1.5 0v-4.25Z",fill:"currentColor"}))}),Yt=Ve;var Ke=globalThis&&globalThis.__rest||function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)r.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const qe=s.forwardRef((e,r)=>{var{title:n,titleId:t}=e,l=Ke(e,["title","titleId"]);let o=N();return o=n?t||"title-"+o:void 0,s.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:r,"aria-labelledby":o},l),n?s.createElement("title",{id:o},n):null,s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.75 12a.75.75 0 0 1 .75-.75h13a.75.75 0 1 1 0 1.5h-13a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))}),Bt=qe;var Ue=globalThis&&globalThis.__rest||function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)r.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Xe=s.forwardRef((e,r)=>{var{title:n,titleId:t}=e,l=Ue(e,["title","titleId"]);let o=N();return o=n?t||"title-"+o:void 0,s.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:r,"aria-labelledby":o},l),n?s.createElement("title",{id:o},n):null,s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75V5.5Z",fill:"currentColor"}))}),Ht=Xe;var Ge=globalThis&&globalThis.__rest||function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)r.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const We=s.forwardRef((e,r)=>{var{title:n,titleId:t}=e,l=Ge(e,["title","titleId"]);let o=N();return o=n?t||"title-"+o:void 0,s.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:r,"aria-labelledby":o},l),n?s.createElement("title",{id:o},n):null,s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.25 7.5a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Zm3.72 2.585A3.25 3.25 0 1 1 9.1 8.478l1.456.822 6.506-1.952a1.75 1.75 0 0 1 .79-.05l2.771.462a.75.75 0 0 1 .234 1.4l-5.336 2.89 5.326 2.785a.75.75 0 0 1-.224 1.405l-2.77.462a1.75 1.75 0 0 1-.791-.05l-6.46-1.938-1.5.813a3.25 3.25 0 1 1-1.132-1.612 3.252 3.252 0 0 0 0-3.83Zm4.494 3.621 1.467-.795 4.24 2.217-.565.094a.25.25 0 0 1-.113-.007l-5.03-1.509ZM7.39 15.438A1.742 1.742 0 0 1 7.75 16.5a1.75 1.75 0 1 1-.359-1.062Zm2.493-2.04a4.773 4.773 0 0 0 .11-2.363l7.499-2.25a.25.25 0 0 1 .113-.007l.616.103-8.338 4.516Z",fill:"currentColor"}))}),Vt=We;var Je=globalThis&&globalThis.__rest||function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)r.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Qe=s.forwardRef((e,r)=>{var{title:n,titleId:t}=e,l=Je(e,["title","titleId"]);let o=N();return o=n?t||"title-"+o:void 0,s.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:r,"aria-labelledby":o},l),n?s.createElement("title",{id:o},n):null,s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2.25a2.75 2.75 0 1 0 0 5.5 2.75 2.75 0 0 0 0-5.5Zm-2.25 14.5H9a.75.75 0 0 1-.75-.75V9A.75.75 0 0 1 9 8.25h6a.75.75 0 0 1 .75.75v7a.75.75 0 0 1-.75.75h-.75V21a.75.75 0 0 1-1.5 0v-4.25h-1.5V21a.75.75 0 0 1-1.5 0v-4.25Z",fill:"currentColor"}))}),Kt=Qe;function L(e,r){R(2,arguments);var n=j(e),t=j(r),l=n.getTime()-t.getTime();return l<0?-1:l>0?1:l}function et(e,r){R(2,arguments);var n=j(e),t=j(r);return n.getFullYear()-t.getFullYear()}function ne(e,r){var n=e.getFullYear()-r.getFullYear()||e.getMonth()-r.getMonth()||e.getDate()-r.getDate()||e.getHours()-r.getHours()||e.getMinutes()-r.getMinutes()||e.getSeconds()-r.getSeconds()||e.getMilliseconds()-r.getMilliseconds();return n<0?-1:n>0?1:n}function _e(e,r){R(2,arguments);var n=j(e),t=j(r),l=ne(n,t),o=Math.abs($e(n,t));n.setDate(n.getDate()-l*o);var v=+(ne(n,t)===-l),c=l*(o-v);return c===0?0:c}function le(e,r){return R(2,arguments),j(e).getTime()-j(r).getTime()}function K(e){R(1,arguments);var r=j(e);return r.setHours(23,59,59,999),r}function tt(e){R(1,arguments);var r=j(e);return K(r).getTime()===se(r).getTime()}function nt(e,r){R(2,arguments);var n=j(e),t=j(r),l=L(n,t),o=Math.abs(Fe(n,t)),v;if(o<1)v=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-l*o);var c=L(n,t)===-l;tt(j(e))&&o===1&&L(e,t)===1&&(c=!1),v=l*(o-Number(c))}return v===0?0:v}function lt(e,r){R(2,arguments);var n=j(e),t=j(r),l=L(n,t),o=Math.abs(et(n,t));n.setFullYear(1584),t.setFullYear(1584);var v=L(n,t)===-l,c=l*(o-Number(v));return c===0?0:c}function rt(e){R(1,arguments);var r=j(e),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function ot(e,r){R(2,arguments);var n=Ne(r);return B(e,-n)}const je=s.createContext({startDate:new Date,endDate:new Date,direction:"left",setStart:()=>null,setEndInclusive:()=>null,activeRow:0,setActiveRow:()=>null,initiate:()=>null,addFocusable:()=>null}),Z=()=>{const e=s.useContext(je);return e||console.warn("useTimelineContext must be used with TimelineContext (<Timeline />)"),e},at=({horizontalPosition:e})=>e<=98&&e>=0,re=(e,r)=>_e(e,r)<=1,it=({horizontalPosition:e,width:r})=>e>=0&&e<=100&&r>0,J=(e,r,n)=>{const t=le(n,r);return le(e,r)/t*100},q=(e,r,n,t)=>{const l=J(e,n,t),o=J(r,n,t)-l;return{horizontalPosition:l,width:o}},st=(e,r,n,t,l="dd.MM")=>{const o=Math.ceil(n/10),v=H(r);return new Array(n).fill(v).map((c,d)=>{if(d%o!==0)return null;const a=ce(c,d),{horizontalPosition:p,width:m}=q(a,de(a,1),e,r);return{direction:t,horizontalPosition:p,label:M(a,l,{locale:Q}),date:a,width:m}}).filter(c=>c!==null)},ct=(e,r,n,t="MMM yy")=>{const l=ke(e),o=se(r),v=nt(o,l)+1;return new Array(v).fill(l).map((c,d)=>{const a=W(c,d),{horizontalPosition:p,width:m}=q(a,W(a,1),e,r);return{direction:n,horizontalPosition:p,label:M(a,t,{locale:Q}),date:a,width:m}})},dt=(e,r,n,t="yyyy")=>{const l=Le(e),o=rt(r),v=lt(o,e)+1;return new Array(v).fill(l).map((c,d)=>{const a=B(c,d),{horizontalPosition:p,width:m}=q(a,B(a,1),e,r);return{direction:n,horizontalPosition:p,label:M(a,t,{locale:Q}),date:a,width:m}})},ut=(e,r,n,t)=>{const l=_e(r,e);return l<40?st(e,r,l,n,t==null?void 0:t.day):l<370?ct(e,r,n,t==null?void 0:t.month):dt(e,r,n,t==null?void 0:t.year)},ft=({templates:e})=>{const{endDate:r,startDate:n,direction:t}=Z(),l=ut(n,r,t,e).filter(at);return f.createElement("div",{className:"navds-timeline__axislabels","aria-hidden":"true"},l.map(o=>f.createElement(ae,{className:"navds-timeline__axislabels-label",as:"div",key:o.label,style:{justifyContent:t==="left"?"flex-start":"flex-end",[t]:`${o.horizontalPosition}%`,width:`${o.width}%`}},o.label)))},xe=s.createContext({periods:[],id:"",active:!1,index:0}),ee=()=>{const e=s.useContext(xe);return e||console.warn("useRowContext must be used with RowContext"),e},vt=(e,r)=>e.horizontalPosition-r.horizontalPosition,pt=(e,r,n,t="left",l,o,v)=>{const c=e.start,d=e.end,a=l<o.length-1&&!Ze(o[l+1].start,d),{horizontalPosition:p,width:m}=q(H(c),K(a?H(ce(o[l+1].start,1)):d),r,n);return{id:`r-${v}-p-${l}`,start:c,endInclusive:d,horizontalPosition:p,direction:t,width:m,end:d,status:e.status,onSelectPeriod:e.onSelectPeriod,icon:e.icon,children:e.children,isActive:e.isActive,statusLabel:e.statusLabel}},mt=(e,r,n)=>{const t=r>0&&re(e.start,n[r-1].endInclusive),l=r<n.length-1&&re(n[r+1].start,e.endInclusive);return t&&l?Object.assign(Object.assign({},e),{cropped:"both"}):t?Object.assign(Object.assign({},e),{cropped:"left"}):l?Object.assign(Object.assign({},e),{cropped:"right"}):e},bt=e=>{let{horizontalPosition:r,width:n,cropped:t}=e;return r+n>100&&(n=100-r,t=t==="left"||t==="both"?"both":"right"),r<0&&r+n>0&&(n=r+n,r=0,t=t==="right"||t==="both"?"both":"left"),Object.assign(Object.assign({},e),{width:n,horizontalPosition:r,cropped:t})},gt=(e,r,n,t)=>s.useMemo(()=>e.map((l,o)=>{const v=o,c=l.periods.sort((d,a)=>d.start.valueOf()-a.start.valueOf()).map((d,a)=>Object.assign(Object.assign({},pt(d,r,n,t,a,l.periods,v)),{restProps:d==null?void 0:d.restProps,ref:d==null?void 0:d.ref})).sort(vt).map(mt).map(bt).filter(it);return{id:`tl-row-${v}`,label:l.label,headingTag:l.headingTag||"h3",icon:l.icon,periods:t==="left"?c:c.reverse(),restProps:l==null?void 0:l.restProps,ref:l==null?void 0:l.ref}}),[e,r,n,t]),ht=(e,r)=>r.start<e?r.start:e,yt=e=>e.flat().reduce(ht,new Date),wt=({startDate:e,rows:r})=>s.useMemo(()=>e||yt(r),[e,r]),Ot=(e,r)=>r.end>e?r.end:e,_t=e=>e.flat().reduce(Ot,new Date(0)),oe=({endDate:e,rows:r})=>s.useMemo(()=>e||de(_t(r),1),[e,r]),Pe=s.createContext({periodId:"",firstFocus:!1}),Ee=()=>{const e=s.useContext(Pe);return e||console.warn("usePeriodContext must be used with PeriodContext"),e},Ie=(e,r,n)=>F(`navds-timeline__period navds-timeline__period--${n}`,{"navds-timeline__period--connected-both":e==="both","navds-timeline__period--connected-right":e==="right"&&r==="left"||e==="left"&&r==="right","navds-timeline__period--connected-left":e==="left"&&r==="left"||e==="right"&&r==="right"}),jt=e=>{switch(e){case"success":return"Suksess";case"warning":return"Advarsel";case"danger":return"Fare";case"info":return"Info";case"neutral":return"Nøytral";default:return e}},Me=(e,r,n,t)=>{const l=M(e,"dd.MM.yyyy"),o=M(r,"dd.MM.yyyy");return`${t||jt(n)} fra ${l} til ${o}`},xt=f.memo(({onSelectPeriod:e,start:r,end:n,status:t,cropped:l,direction:o,left:v,width:c,icon:d,children:a,isActive:p,statusLabel:m,restProps:b,periodRef:w})=>{const[u,h]=s.useState(!1),{index:x}=ee(),{firstFocus:g}=Ee(),{initiate:E,addFocusable:$}=Z(),T=s.useRef(null),{context:P,placement:D,middlewareData:{arrow:{x:S,y:Y}={}},refs:k,floatingStyles:U}=ue({placement:"top",open:u,onOpenChange:h,middleware:[fe(16),ve(),pe({padding:5,fallbackPlacements:["bottom","top"]}),me({element:T,padding:5})],whileElementsMounted:be}),{getFloatingProps:i,getReferenceProps:y}=ge([he(P,{handleClose:ye(),restMs:25,delay:{open:1e3}}),we(P),Oe(P)]),I=s.useMemo(()=>ie([k.setReference,w]),[w,k.setReference]),A={top:"bottom",right:"left",bottom:"top",left:"right"}[D.split("-")[0]];return f.createElement(f.Fragment,null,f.createElement("button",Object.assign({},b,{type:"button",ref:O=>{g&&$(O,x),I(O)},"aria-label":Me(r,n,t,m),className:F("navds-timeline__period--clickable",Ie(l,o,t),b==null?void 0:b.className,{"navds-timeline__period--selected":p}),"aria-expanded":a?u:void 0,"aria-current":p||void 0},y({onFocus:()=>{E(x)},onKeyDown:O=>{var _;(_=b==null?void 0:b.onKeydown)===null||_===void 0||_.call(b,O),O.key==="Enter"&&h(X=>!X),O.key===" "&&(e==null||e(O),h(!1))},style:{width:`${c}%`,[o]:`${v}%`},onClick:O=>{var _;(_=b==null?void 0:b.onClick)===null||_===void 0||_.call(b,O),O.detail!==0&&(e==null||e(O))}})),f.createElement("span",{className:"navds-timeline__period--inner"},d)),a&&f.createElement("div",Object.assign({className:"navds-timeline__popover","data-placement":D,"aria-hidden":!u,ref:k.setFloating},i({tabIndex:-1,onBlur:O=>O.target.previousSibling!==document.activeElement&&u&&h(!1)}),{style:Object.assign(Object.assign({},U),{display:u?void 0:"none"})}),f.createElement("div",{className:"navds-timeline__popover-content"},a),f.createElement("div",{ref:O=>{T.current=O},style:Object.assign(Object.assign(Object.assign({},S!=null?{left:S}:{}),Y!=null?{top:Y}:{}),A?{[A]:"-0.5rem"}:{}),className:"navds-timeline__popover-arrow"})))}),Pt=xt,Et=({start:e,end:r,status:n,cropped:t,direction:l,left:o,width:v,icon:c,statusLabel:d,restProps:a,periodRef:p})=>f.createElement("div",Object.assign({ref:p},a,{className:F(Ie(t,l,n),a==null?void 0:a.className),style:{width:`${v}%`,[l]:`${o}%`}}),f.createElement("span",{className:"navds-timeline__period--inner"},c,f.createElement("span",{className:"sr-only"},Me(e,r,n,d)))),It=Et,Re=s.forwardRef(({icon:e},r)=>{const{periods:n}=ee(),{periodId:t,restProps:l}=Ee(),o=n.find(g=>g.id===t);if(!o)return f.createElement(f.Fragment,null);const{start:v,endInclusive:c,width:d,horizontalPosition:a,status:p="neutral",onSelectPeriod:m,cropped:b,direction:w,children:u,isActive:h,statusLabel:x}=o;return m||u?f.createElement(Pt,{periodRef:r,start:v,end:c,status:p,onSelectPeriod:m,cropped:b||"",direction:w,width:d,left:a,icon:e,children:u,isActive:h,statusLabel:x,restProps:l}):f.createElement(It,{periodRef:r,start:v,end:c,status:p,cropped:b||"",direction:w,width:d,left:a,icon:e,statusLabel:x,restProps:l})});Re.componentType="period";const Te=Re;var Mt=globalThis&&globalThis.__rest||function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)r.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Se=s.forwardRef((e,r)=>{var{date:n,children:t}=e,l=Mt(e,["date","children"]);const{startDate:o,endDate:v,direction:c}=Z(),[d,a]=s.useState(!1),p=s.useRef(null),{context:m,placement:b,middlewareData:{arrow:{x:w,y:u}={}},refs:h,floatingStyles:x}=ue({placement:"top",open:d,onOpenChange:a,middleware:[fe(16),ve(),pe({padding:5,fallbackPlacements:["bottom","top"]}),me({element:p,padding:5})],whileElementsMounted:be}),{getFloatingProps:g,getReferenceProps:E}=ge([he(m,{handleClose:ye(),restMs:25,delay:{open:1e3}}),we(m),Oe(m)]),$=s.useMemo(()=>ie([h.setReference,r]),[r,h.setReference]),T={top:"bottom",right:"left",bottom:"top",left:"right"}[b.split("-")[0]];return f.createElement(f.Fragment,null,f.createElement("div",{className:"navds-timeline__pin-wrapper",style:{[c]:`${J(n,o,v)}%`}},f.createElement("button",Object.assign({},l,{ref:$,className:"navds-timeline__pin-button","aria-label":`pin:${M(n,"dd.MM.yyyy")}`,type:"button","aria-expanded":t?d:void 0},E({onKeyDown:P=>{var D;(D=l==null?void 0:l.onKeyDown)===null||D===void 0||D.call(l,P),P.key==="Enter"?a(S=>!S):P.key===" "&&a(!1)}})))),t&&f.createElement("div",Object.assign({className:"navds-timeline__popover","data-placement":b,"aria-hidden":!d,ref:h.setFloating},g({tabIndex:-1,onBlur:P=>P.target.previousSibling!==document.activeElement&&d&&a(!1)}),{style:Object.assign(Object.assign({},x),{display:d?void 0:"none"})}),f.createElement("div",{className:"navds-timeline__popover-content"},t),f.createElement("div",{ref:P=>{p.current=P},style:Object.assign(Object.assign(Object.assign({},w!=null?{left:w}:{}),u!=null?{top:u}:{}),T?{[T]:"-0.5rem"}:{}),className:"navds-timeline__popover-arrow"})))});Se.componentType="pin";const Rt=Se;var Tt=globalThis&&globalThis.__rest||function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)r.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Ce=s.forwardRef((e,r)=>{var{label:n,className:t,headingTag:l="h3",icon:o}=e,v=Tt(e,["label","className","headingTag","icon"]);const{periods:c,id:d,active:a}=ee(),{setActiveRow:p}=Z(),m=c.reduce((u,h)=>u.end>h.end?u:h,{}),b=c.reduce((u,h)=>u.end<h.end?u:h,{}),w=c.find(u=>!!u.children||!!u.onSelectPeriod);return f.createElement(f.Fragment,null,n&&f.createElement(Ae,{as:l,id:`timeline-row-${d}`,className:"navds-timeline__row-label",size:"small"},o,n),f.createElement("div",{className:F("navds-timeline__row",{"navds-timeline__row--active":a})},f.createElement("ol",Object.assign({},v,{tabIndex:-1,ref:r,"aria-label":c.length===0?"Ingen perioder":`${M(b.start,"dd.MM.yyyy")} til ${M(m.end,"dd.MM.yyyy")}`,className:F("navds-timeline__row-periods",t),onKeyDown:u=>{(u.key==="ArrowDown"||u.key==="ArrowUp")&&(u.preventDefault(),p(u.key))}}),c&&c.map(u=>f.createElement("li",{key:`period-${u.id}`},f.createElement(Pe.Provider,{value:{periodId:u.id,firstFocus:(w==null?void 0:w.id)===u.id,restProps:u==null?void 0:u.restProps}},f.createElement(Te,{start:u.start,end:u.endInclusive,icon:u.icon,ref:u==null?void 0:u.ref})))))))});Ce.componentType="row";const De=Ce,St=e=>{let r=[];return e==null||e.forEach(n=>{var t,l,o,v,c,d,a,p,m,b,w,u;let h=[];if(f.isValidElement(n)&&(!((t=n==null?void 0:n.props)===null||t===void 0)&&t.children)){if(Array.isArray(n.props.children))for(let x=0;x<n.props.children.length;x++){const g=n.props.children[x];h.push({start:(l=g==null?void 0:g.props)===null||l===void 0?void 0:l.start,end:(o=g==null?void 0:g.props)===null||o===void 0?void 0:o.end,status:((v=g==null?void 0:g.props)===null||v===void 0?void 0:v.status)||"neutral",onSelectPeriod:(c=g.props)===null||c===void 0?void 0:c.onSelectPeriod,label:n.props.label,icon:g.props.icon,children:g.props.children,isActive:g.props.isActive,statusLabel:g.props.statusLabel,restProps:G(g.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:g==null?void 0:g.ref})}else h.push({start:n.props.children.props.start,end:n.props.children.props.end,status:((d=n.props.children.props)===null||d===void 0?void 0:d.status)||"neutral",onSelectPeriod:(a=n.props.children.props)===null||a===void 0?void 0:a.onSelectPeriod,label:n.props.label,icon:(p=n.props.children.props)===null||p===void 0?void 0:p.icon,children:(m=n.props.children.props)===null||m===void 0?void 0:m.children,statusLabel:(b=n.props.children.props)===null||b===void 0?void 0:b.statusLabel,restProps:G(n.props.children.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:(u=(w=n.props)===null||w===void 0?void 0:w.children)===null||u===void 0?void 0:u.ref});r.push({label:n.props.label,icon:n.props.icon,headingTag:n.props.headingTag,periods:h,restProps:G(n.props,["label","icon","headingTag"]),ref:n==null?void 0:n.ref})}}),r};var Ct=globalThis&&globalThis.__rest||function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)r.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Dt=s.forwardRef((e,r)=>{var{label:n,interval:t,count:l}=e,o=Ct(e,["label","interval","count"]);const{setStart:v,endDate:c,startDate:d,direction:a}=Z();let p;t==="month"?p=a==="left"?ze(c,l):W(d,l):p=a==="left"?ot(c,l):B(d,l);const m=a==="left"?V(d,p):V(c,p);return f.createElement(ae,{as:"li"},f.createElement("button",Object.assign({type:"button","aria-label":m?"Tilbakestill til initiell tidsperspektiv":`Zoom tidslinjen ${M(p,"dd.MM.yyyy")} til ${M(c,"dd.MM.yyyy")}`,ref:r},o,{className:"navds-timeline__zoom-button",onClick:()=>{v(p)},"aria-pressed":m}),n))}),At=Dt;var $t=globalThis&&globalThis.__rest||function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)r.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const te=s.forwardRef((e,r)=>{var{className:n,children:t}=e,l=$t(e,["className","children"]);return f.createElement("ul",Object.assign({ref:r,className:F(n,"navds-timeline__zoom")},l),t)});te.Button=At;te.componentType="zoom";const Ft=te;var Nt=globalThis&&globalThis.__rest||function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)r.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const z=s.forwardRef((e,r)=>{var{children:n,startDate:t,endDate:l,direction:o="left",axisLabelTemplates:v}=e,c=Nt(e,["children","startDate","endDate","direction","axisLabelTemplates"]);const d=Array.isArray(n),a=s.useRef([]);d||(n=[n]);const p=f.Children.toArray(n).filter(i=>{var y;return((y=i==null?void 0:i.type)===null||y===void 0?void 0:y.componentType)==="row"}),m=f.Children.toArray(n).filter(i=>{var y;return((y=i==null?void 0:i.type)===null||y===void 0?void 0:y.componentType)==="pin"}),b=f.Children.toArray(n).find(i=>{var y;return((y=i==null?void 0:i.type)===null||y===void 0?void 0:y.componentType)==="zoom"}),w=s.useMemo(()=>St(p),[p]),u=w.map(i=>i!=null&&i.periods?i.periods:[]),h=H(wt({startDate:t,rows:u})),[x,g]=s.useState(h),[E,$]=s.useState(null),[T,P]=s.useState(K(oe({endDate:l,rows:u}))),D=K(oe({endDate:l,rows:u})),S=gt(w,t??x,l??T,o),Y=i=>{if(!(t||l))if(o==="left"){if(V(i,x)){g(h);return}g(i)}else{if(V(i,T)){P(D);return}P(i)}},k=i=>{var y,I,A,O;if(E!==null&&i==="ArrowDown"){for(let _=E+1;_<S.length;_++)if(S[_].periods.find(C=>!!C.children||!!C.onSelectPeriod)){$(_),(I=(y=a.current.find(C=>C.id===_))===null||y===void 0?void 0:y.ref)===null||I===void 0||I.focus();break}return}if(E!==null&&i==="ArrowUp"){for(let _=E-1;_>=0;_--)if(S[_].periods.find(C=>!!C.children||!!C.onSelectPeriod)){$(_),(O=(A=a.current.find(C=>C.id===_))===null||A===void 0?void 0:A.ref)===null||O===void 0||O.focus();break}return}},U=(i,y)=>{let I=a.current;I=I.filter(A=>A.id!==y),I.push({ref:i,id:y}),a.current=I};return f.createElement(je.Provider,{value:{startDate:t??x,endDate:l??T,direction:o,setStart:i=>Y(i),setEndInclusive:i=>P(i),activeRow:E,setActiveRow:i=>k(i),initiate:i=>$(i),addFocusable:U}},f.createElement("div",Object.assign({},c,{ref:r}),f.createElement("div",{className:"navds-timeline"},f.createElement(ft,{templates:v}),m.map(i=>i),S.map((i,y)=>f.createElement(xe.Provider,{key:`row-${i.id}`,value:{periods:i.periods,id:i.id,active:E===y,index:y}},f.createElement(De,Object.assign({},i==null?void 0:i.restProps,{ref:i==null?void 0:i.ref,label:i.label,icon:i.icon,headingTag:i.headingTag}))))),b&&b))});z.Row=De;z.Period=Te;z.Pin=Rt;z.Zoom=Ft;const qt=z;export{zt as _,Kt as b,qt as e,Bt as g,Ht as k,Vt as x,Yt as y};
//# sourceMappingURL=Timeline-da92d9af.js.map
