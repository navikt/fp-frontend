import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{r as u}from"./index-Dxs5m6lS.js";import{k as b,u as D,g as x,h as S,P as R}from"./withPanelData-B0LAM63_.js";import{k as O,f as C,E}from"./index.es-DHd539bP.js";import{a as T,u as N}from"./fagsakApi-Dczm6MT4.js";import"./skjermlenkeCodes-1SvLTuBb.js";import{h as F}from"./eksterneLenker-DOKwbE_M.js";import{M as g}from"./message-CK_5s6jA.js";import{T as o}from"./Table-IsCJpL4U.js";import{C as I}from"./Checkbox-DlOc0dqn.js";import{S as U}from"./StarFill-bCYRNJSX.js";import{L as B}from"./Link-BW9eQwLU.js";import{S as P}from"./SupportHeader-DxRe9qo7.js";var M=function(e,a){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const A=u.forwardRef((e,a)=>{var{title:s,titleId:n}=e,r=M(e,["title","titleId"]);let l=b();return l=s?n||"title-"+l:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":l},r),s?u.createElement("title",{id:l},s):null,u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25m1.53 6.78a.75.75 0 0 0-1.06-1.06l-3.5 3.5a.75.75 0 0 0 0 1.06l3.5 3.5a.75.75 0 1 0 1.06-1.06L10.56 12z",clipRule:"evenodd"}))});var z=function(e,a){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const H=u.forwardRef((e,a)=>{var{title:s,titleId:n}=e,r=z(e,["title","titleId"]);let l=b();return l=s?n||"title-"+l:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":l},r),s?u.createElement("title",{id:l},s):null,u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25m-.47 5.72a.75.75 0 1 0-1.06 1.06L13.44 12l-2.97 2.97a.75.75 0 1 0 1.06 1.06l3.5-3.5a.75.75 0 0 0 0-1.06z",clipRule:"evenodd"}))});var V=function(e,a){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const K=u.forwardRef((e,a)=>{var{title:s,titleId:n}=e,r=V(e,["title","titleId"]);let l=b();return l=s?n||"title-"+l:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":l},r),s?u.createElement("title",{id:l},s):null,u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.293 8.707a.25.25 0 0 0 0-.353l-2.646-2.647a.25.25 0 0 0-.354 0l-3.626 3.626a1 1 0 0 0-.242.391l-1.267 3.802a.25.25 0 0 0 .316.316l3.802-1.267a1 1 0 0 0 .39-.242zm1.06-1.414a.25.25 0 0 0 .354 0L20.5 6.5a2.121 2.121 0 0 0-3-3l-.793.793a.25.25 0 0 0 0 .353zm-4.151-3.616a.25.25 0 0 0-.177-.427H5A1.75 1.75 0 0 0 3.25 5v14c0 .966.784 1.75 1.75 1.75h14A1.75 1.75 0 0 0 20.75 19V8.975a.25.25 0 0 0-.427-.177l-4.595 4.596a2.5 2.5 0 0 1-.978.604l-3.801 1.267c-1.368.456-2.67-.846-2.214-2.214l1.267-3.801a2.5 2.5 0 0 1 .604-.978z",clipRule:"evenodd"}))});var v=(e=>(e.INN="INN",e.UT="UT",e.NOTAT="N",e))(v||{});const G="_image_1ulwi_1",Y="_noDocuments_1ulwi_6",$="_kommunikasjonsretning_1ulwi_9",Q="_dokumentlenke_1ulwi_14",W="_openDocumentButton_1ulwi_18",c={image:G,noDocuments:Y,kommunikasjonsretning:$,dokumentlenke:Q,openDocumentButton:W},J=({kommunikasjonsretning:e})=>{const a=D();return e===v.INN?t.jsxs("span",{className:c.kommunikasjonsretning,children:[t.jsx(H,{color:"var(--a-purple-500)",width:25,height:25,title:a.formatMessage({id:"DocumentList.Motta"})}),t.jsx(g,{id:"DocumentList.Motta"})]}):e===v.UT?t.jsxs("span",{className:c.kommunikasjonsretning,children:[t.jsx(A,{color:"var(--a-purple-200)",width:25,height:25,title:a.formatMessage({id:"DocumentList.Send"})}),t.jsx(g,{id:"DocumentList.Send"})]}):t.jsxs("span",{className:c.kommunikasjonsretning,children:[t.jsx(K,{color:"var(--a-gray-700)",width:25,height:25,title:a.formatMessage({id:"DocumentList.Intern"})}),t.jsx(g,{id:"DocumentList.Intern"})]})},L=({documents:e,behandlingUuid:a,selectDocumentCallback:s})=>{const n=D(),[r,l]=u.useState([]),j=i=>l(m=>m.includes(i)?m.filter(p=>p!==i):[...m,i]),[d,k]=u.useState({orderBy:"tidspunkt",direction:"descending"}),_=i=>{k(d&&i===d.orderBy&&d.direction==="descending"?void 0:{orderBy:i,direction:d&&i===d.orderBy&&d.direction==="ascending"?"descending":"ascending"})},w=(i,m,p)=>{const y=i[p],h=m[p];return!y||!h||h<y?-1:h>y?1:0},f=e.slice().sort((i,m)=>d?d.direction==="ascending"?w(m,i,d.orderBy):w(i,m,d.orderBy):1);return e.length===0?t.jsx(x,{size:"small",className:c.noDocuments,children:t.jsx(g,{id:"DocumentList.NoDocuments"})}):t.jsxs(t.Fragment,{children:[r.length>0&&t.jsx(S,{onClick:i=>r.forEach(m=>s(i,m,e.find(p=>p.dokumentId===m))),className:c.openDocumentButton,size:"small",variant:"primary",children:t.jsx(g,{id:"DocumentList.LastNedKnapp",values:{antall:r.length}})}),t.jsxs(o,{size:"small",sort:d,onSortChange:i=>_(i),children:[t.jsx(o.Header,{children:t.jsxs(o.Row,{children:[t.jsx(o.HeaderCell,{children:t.jsx(I,{checked:r.length===f.length,indeterminate:r.length>0&&r.length!==f.length,onChange:()=>r.length>0?l([]):l(f.map(({dokumentId:i})=>i)),hideLabel:!0,children:"Velg alle rader"})}),t.jsx(o.ColumnHeader,{sortKey:"kommunikasjonsretning",sortable:!0,children:t.jsx(g,{id:"DocumentList.Direction"})}),t.jsx(o.ColumnHeader,{sortKey:"tittel",sortable:!0,children:t.jsx(g,{id:"DocumentList.DocumentType"})}),t.jsx(o.ColumnHeader,{sortKey:"gjelderFor",sortable:!0,children:t.jsx(g,{id:"DocumentList.Gjelder"})}),t.jsx(o.ColumnHeader,{sortKey:"tidspunkt",sortable:!0,children:t.jsx(g,{id:"DocumentList.DateTime"})})]})}),t.jsx(o.Body,{children:f.map(i=>t.jsxs(o.Row,{children:[t.jsx(o.DataCell,{children:t.jsx(I,{hideLabel:!0,checked:r.includes(i.dokumentId),onChange:()=>j(i.dokumentId),"aria-labelledby":i.tittel,children:" "})}),t.jsx(o.DataCell,{children:t.jsx(J,{kommunikasjonsretning:i.kommunikasjonsretning})}),t.jsxs(o.DataCell,{scope:"row",children:[i.behandlingUuidList&&a&&i.behandlingUuidList.includes(a)&&t.jsx(U,{className:c.image,title:n.formatMessage({id:"DocumentList.IBruk"})}),t.jsx(B,{className:c.dokumentlenke,onClick:m=>s(m,i.dokumentId,i),children:i.tittel})]}),t.jsx(o.DataCell,{children:i.gjelderFor}),t.jsx(o.DataCell,{children:i.tidspunkt?t.jsx(O,{dateTimeString:i.tidspunkt}):t.jsx(x,{size:"small",children:t.jsx(g,{id:"DocumentList.IProduksjon"})})})]},i.dokumentId))})]})]})};L.__docgenInfo={description:`DocumentList

Presentasjonskomponent. Viser dokumenter i en liste. Tar også inn en callback-funksjon som blir
trigget når saksbehandler velger et dokument. Finnes ingen dokumenter blir det kun vist en label
som viser at ingen dokumenter finnes på fagsak.`,methods:[],displayName:"DocumentList",props:{documents:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor: string | null;
}`,signature:{properties:[{key:"journalpostId",value:{name:"string",required:!0}},{key:"dokumentId",value:{name:"string",required:!0}},{key:"behandlingUuidList",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"tittel",value:{name:"string",required:!1}},{key:"tidspunkt",value:{name:"string",required:!1}},{key:"kommunikasjonsretning",value:{name:"string",required:!0}},{key:"gjelderFor",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor: string | null;
}>`}],raw:"Dokument[]"},description:""},behandlingUuid:{required:!1,tsType:{name:"string"},description:""},selectDocumentCallback:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.SyntheticEvent, id?: number | string, dokument?: Dokument) => void",signature:{arguments:[{type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent"},name:"e"},{type:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},name:"id"},{type:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor: string | null;
}`,signature:{properties:[{key:"journalpostId",value:{name:"string",required:!0}},{key:"dokumentId",value:{name:"string",required:!0}},{key:"behandlingUuidList",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"tittel",value:{name:"string",required:!1}},{key:"tidspunkt",value:{name:"string",required:!1}},{key:"kommunikasjonsretning",value:{name:"string",required:!0}},{key:"gjelderFor",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor: string | null;
}>`},name:"dokument"}],return:{name:"void"}}},description:""}}};const X={"DocumentList.Direction":"Inn/ut","DocumentList.DocumentType":"Dokument","DocumentList.Gjelder":"Gjelder","DocumentList.DateTime":"Dato","DocumentList.NoDocuments":"Det finnes ingen dokumenter på saken","DocumentList.Motta":"Inn","DocumentList.Send":"Ut","DocumentList.Intern":"Intern","DocumentList.IProduksjon":"I bestilling","DocumentList.IBruk":"Brukes i behandlingen","DocumentList.LastNedKnapp":"{antall, plural, one {Åpne # valgt dokument} other {Åpne # valgte dokumenter}}"},Z=C(X),q=e=>t.jsx(R,{value:Z,children:t.jsx(L,{...e})});q.__docgenInfo={description:"",methods:[],displayName:"DokumenterSakIndex",props:{documents:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor: string | null;
}`,signature:{properties:[{key:"journalpostId",value:{name:"string",required:!0}},{key:"dokumentId",value:{name:"string",required:!0}},{key:"behandlingUuidList",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"tittel",value:{name:"string",required:!1}},{key:"tidspunkt",value:{name:"string",required:!1}},{key:"kommunikasjonsretning",value:{name:"string",required:!0}},{key:"gjelderFor",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor: string | null;
}>`}],raw:"Dokument[]"},description:""},selectDocumentCallback:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.SyntheticEvent, id?: number | string, dokument?: Dokument) => void",signature:{arguments:[{type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent"},name:"e"},{type:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},name:"id"},{type:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor: string | null;
}`,signature:{properties:[{key:"journalpostId",value:{name:"string",required:!0}},{key:"dokumentId",value:{name:"string",required:!0}},{key:"behandlingUuidList",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"tittel",value:{name:"string",required:!1}},{key:"tidspunkt",value:{name:"string",required:!1}},{key:"kommunikasjonsretning",value:{name:"string",required:!0}},{key:"gjelderFor",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor: string | null;
}>`},name:"dokument"}],return:{name:"void"}}},description:""},behandlingUuid:{required:!1,tsType:{name:"string"},description:""}}};const ee=e=>(a,s,n)=>{if(n){const r=window.open(F(e,n.journalpostId,n.dokumentId),"_blank");r&&setTimeout(()=>{r.document.title=n.tittel||"Dokument"},1e3)}},ne=(e,a)=>e.tidspunkt?a.tidspunkt?a.tidspunkt.localeCompare(e.tidspunkt):-1:1,te=[],re=({behandlingUuid:e,behandlingVersjon:a,saksnummer:s,toggleVisUtvidetBehandlingDetaljerKnapp:n})=>{const r=T(),l=D(),{data:j=te,status:d}=N(r.hentDokumenter(s,e,a));if(d==="pending")return t.jsx(E,{});const k=j.toSorted(ne);return t.jsx(P,{tekst:l.formatMessage({id:"DokumentIndex.Dokumenter"}),antall:k.length,toggleVisUtvidetBehandlingDetaljerKnapp:n,children:t.jsx(q,{documents:k,selectDocumentCallback:ee(s),behandlingUuid:e})})};re.__docgenInfo={description:`DokumentIndex

 Har ansvar for å hente sakens dokumenter fra state og rendre det i en liste.`,methods:[],displayName:"DokumentIndex",props:{saksnummer:{required:!0,tsType:{name:"string"},description:""},behandlingUuid:{required:!1,tsType:{name:"string"},description:""},behandlingVersjon:{required:!1,tsType:{name:"number"},description:""},toggleVisUtvidetBehandlingDetaljerKnapp:{required:!0,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:""}}};export{re as D,v as K,H as S};
