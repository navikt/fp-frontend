import{r as d,l as x,j as t,P as S,b as q}from"./iframe-DVmnXKxP.js";import{J as C,X as T}from"./index.es-DZHg5t2e.js";import{a as N,u as R}from"./fagsakApi-Btkd8a98.js";import{å as B,D as E}from"./FaktaKort-CATyqYtt.js";import{u as v,B as I,b as F}from"./VStack-CiOFCpSk.js";import{M as m}from"./message-DClLBoUZ.js";import{T as a}from"./Table-rssm7DJC.js";import{a as w}from"./Checkbox-BfHC4FJ_.js";import{S as P}from"./StarFill-C0ZaLSKS.js";import{S as z}from"./SupportHeader-Df4us4kc.js";var D=(e=>(e.INN="INN",e.UT="UT",e.NOTAT="N",e))(D||{}),M=function(e,l){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&l.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)l.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const U=d.forwardRef((e,l)=>{var{title:s,titleId:n}=e,r=M(e,["title","titleId"]);let o=v();return o=s?n||"title-"+o:void 0,d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":o},r),s?d.createElement("title",{id:o},s):null,d.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25m1.53 6.78a.75.75 0 0 0-1.06-1.06l-3.5 3.5a.75.75 0 0 0 0 1.06l3.5 3.5a.75.75 0 1 0 1.06-1.06L10.56 12z",clipRule:"evenodd"}))});var A=function(e,l){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&l.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)l.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const H=d.forwardRef((e,l)=>{var{title:s,titleId:n}=e,r=A(e,["title","titleId"]);let o=v();return o=s?n||"title-"+o:void 0,d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":o},r),s?d.createElement("title",{id:o},s):null,d.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25m-.47 5.72a.75.75 0 1 0-1.06 1.06L13.44 12l-2.97 2.97a.75.75 0 1 0 1.06 1.06l3.5-3.5a.75.75 0 0 0 0-1.06z",clipRule:"evenodd"}))});var V=function(e,l){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&l.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)l.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const K=d.forwardRef((e,l)=>{var{title:s,titleId:n}=e,r=V(e,["title","titleId"]);let o=v();return o=s?n||"title-"+o:void 0,d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":o},r),s?d.createElement("title",{id:o},s):null,d.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.293 8.707a.25.25 0 0 0 0-.353l-2.646-2.647a.25.25 0 0 0-.354 0l-3.626 3.626a1 1 0 0 0-.242.391l-1.267 3.802a.25.25 0 0 0 .316.316l3.802-1.267a1 1 0 0 0 .39-.242zm1.06-1.414a.25.25 0 0 0 .354 0L20.5 6.5a2.121 2.121 0 0 0-3-3l-.793.793a.25.25 0 0 0 0 .353zm-4.151-3.616a.25.25 0 0 0-.177-.427H5A1.75 1.75 0 0 0 3.25 5v14c0 .966.784 1.75 1.75 1.75h14A1.75 1.75 0 0 0 20.75 19V8.975a.25.25 0 0 0-.427-.177l-4.595 4.596a2.5 2.5 0 0 1-.978.604l-3.801 1.267c-1.368.456-2.67-.846-2.214-2.214l1.267-3.801a2.5 2.5 0 0 1 .604-.978z",clipRule:"evenodd"}))}),G="_image_1szuw_1",J="_noDocuments_1szuw_6",X="_kommunikasjonsretning_1szuw_9",$="_openDocumentButton_1szuw_18",g={image:G,noDocuments:J,kommunikasjonsretning:X,openDocumentButton:$},Q=({kommunikasjonsretning:e})=>{const l=x();return e===D.INN?t.jsxs("span",{className:g.kommunikasjonsretning,children:[t.jsx(H,{color:"var(--ax-meta-purple-600)",width:25,height:25,title:l.formatMessage({id:"DocumentList.Motta"})}),t.jsx(m,{id:"DocumentList.Motta"})]}):e===D.UT?t.jsxs("span",{className:g.kommunikasjonsretning,children:[t.jsx(U,{color:"var(--ax-meta-purple-300)",width:25,height:25,title:l.formatMessage({id:"DocumentList.Send"})}),t.jsx(m,{id:"DocumentList.Send"})]}):t.jsxs("span",{className:g.kommunikasjonsretning,children:[t.jsx(K,{color:"var(--ax-neutral-800)",width:25,height:25,title:l.formatMessage({id:"DocumentList.Intern"})}),t.jsx(m,{id:"DocumentList.Intern"})]})},L=({documents:e,behandlingUuid:l,saksnummer:s})=>{const n=x(),[r,o]=d.useState([]),j=i=>o(c=>c.includes(i)?c.filter(k=>k!==i):[...c,i]),[u,p]=d.useState({orderBy:"tidspunkt",direction:"descending"}),_=i=>{p(u&&i===u.orderBy&&u.direction==="descending"?void 0:{orderBy:i,direction:u&&i===u.orderBy&&u.direction==="ascending"?"descending":"ascending"})},b=(i,c,k)=>{const h=i[k],y=c[k];return!h||!y||y<h?-1:y>h?1:0},f=e.slice().sort((i,c)=>u?u.direction==="ascending"?b(c,i,u.orderBy):b(i,c,u.orderBy):1);return e.length===0?t.jsx(I,{size:"small",className:g.noDocuments,children:t.jsx(m,{id:"DocumentList.NoDocuments"})}):t.jsxs(t.Fragment,{children:[r.length>0&&t.jsx(F,{onClick:()=>e.filter(i=>r.includes(i.dokumentId)).forEach(i=>{i&&B(s,i.journalpostId,i.dokumentId,i.tittel)}),className:g.openDocumentButton,size:"small",variant:"primary",children:t.jsx(m,{id:"DocumentList.LastNedKnapp",values:{antall:r.length}})}),t.jsxs(a,{size:"small",sort:u,onSortChange:i=>_(i),children:[t.jsx(a.Header,{children:t.jsxs(a.Row,{children:[t.jsx(a.HeaderCell,{children:t.jsx(w,{checked:r.length===f.length,indeterminate:r.length>0&&r.length!==f.length,onChange:()=>r.length>0?o([]):o(f.map(({dokumentId:i})=>i)),hideLabel:!0,children:"Velg alle rader"})}),t.jsx(a.ColumnHeader,{sortKey:"kommunikasjonsretning",sortable:!0,children:t.jsx(m,{id:"DocumentList.Direction"})}),t.jsx(a.ColumnHeader,{sortKey:"tittel",sortable:!0,children:t.jsx(m,{id:"DocumentList.DocumentType"})}),t.jsx(a.ColumnHeader,{sortKey:"gjelderFor",sortable:!0,children:t.jsx(m,{id:"DocumentList.Gjelder"})}),t.jsx(a.ColumnHeader,{sortKey:"tidspunkt",sortable:!0,children:t.jsx(m,{id:"DocumentList.DateTime"})})]})}),t.jsx(a.Body,{children:f.map(i=>t.jsxs(a.Row,{children:[t.jsx(a.DataCell,{children:t.jsx(w,{hideLabel:!0,checked:r.includes(i.dokumentId),onChange:()=>j(i.dokumentId),"aria-labelledby":i.tittel,children:" "})}),t.jsx(a.DataCell,{children:t.jsx(Q,{kommunikasjonsretning:i.kommunikasjonsretning})}),t.jsxs(a.DataCell,{scope:"row",children:[i.behandlingUuidList&&l&&i.behandlingUuidList.includes(l)&&t.jsx(P,{className:g.image,title:n.formatMessage({id:"DocumentList.IBruk"})}),t.jsx(E,{saksnummer:s,journalpostId:i.journalpostId,dokumentId:i.dokumentId,dokumentTittel:i.tittel})]}),t.jsx(a.DataCell,{children:i.gjelderFor}),t.jsx(a.DataCell,{children:i.tidspunkt?t.jsx(C,{dateTimeString:i.tidspunkt}):t.jsx(I,{size:"small",children:t.jsx(m,{id:"DocumentList.IProduksjon"})})})]},i.dokumentId))})]})]})};L.__docgenInfo={description:`DocumentList

Presentasjonskomponent. Viser dokumenter i en liste. Tar også inn en callback-funksjon som blir
trigget når saksbehandler velger et dokument. Finnes ingen dokumenter blir det kun vist en label
som viser at ingen dokumenter finnes på fagsak.`,methods:[],displayName:"DocumentList",props:{documents:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor: string | null;
}`,signature:{properties:[{key:"journalpostId",value:{name:"string",required:!0}},{key:"dokumentId",value:{name:"string",required:!0}},{key:"behandlingUuidList",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"tittel",value:{name:"string",required:!1}},{key:"tidspunkt",value:{name:"string",required:!1}},{key:"kommunikasjonsretning",value:{name:"string",required:!0}},{key:"gjelderFor",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor: string | null;
}>`}],raw:"Dokument[]"},description:""},behandlingUuid:{required:!1,tsType:{name:"string"},description:""},saksnummer:{required:!0,tsType:{name:"string"},description:""}}};const W={"DocumentList.Direction":"Inn/ut","DocumentList.DocumentType":"Dokument","DocumentList.Gjelder":"Gjelder","DocumentList.DateTime":"Dato","DocumentList.NoDocuments":"Det finnes ingen dokumenter på saken","DocumentList.Motta":"Inn","DocumentList.Send":"Ut","DocumentList.Intern":"Intern","DocumentList.IProduksjon":"I bestilling","DocumentList.IBruk":"Brukes i behandlingen","DocumentList.LastNedKnapp":"{antall, plural, one {Åpne # valgt dokument} other {Åpne # valgte dokumenter}}"},Y=q(W),O=e=>t.jsx(S,{value:Y,children:t.jsx(L,{...e})});O.__docgenInfo={description:"",methods:[],displayName:"DokumenterSakIndex",props:{documents:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor: string | null;
}`,signature:{properties:[{key:"journalpostId",value:{name:"string",required:!0}},{key:"dokumentId",value:{name:"string",required:!0}},{key:"behandlingUuidList",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"tittel",value:{name:"string",required:!1}},{key:"tidspunkt",value:{name:"string",required:!1}},{key:"kommunikasjonsretning",value:{name:"string",required:!0}},{key:"gjelderFor",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:`Readonly<{
  journalpostId: string;
  dokumentId: string;
  behandlingUuidList?: string[];
  tittel?: string;
  tidspunkt?: string;
  kommunikasjonsretning: string;
  gjelderFor: string | null;
}>`}],raw:"Dokument[]"},description:""},saksnummer:{required:!0,tsType:{name:"string"},description:""},behandlingUuid:{required:!1,tsType:{name:"string"},description:""}}};const Z=(e,l)=>e.tidspunkt?l.tidspunkt?l.tidspunkt.localeCompare(e.tidspunkt):-1:1,ee=({behandlingUuid:e,behandlingVersjon:l,saksnummer:s,toggleVisUtvidetBehandlingDetaljerKnapp:n})=>{const r=N(),o=x(),{data:j=[],status:u}=R(r.hentDokumenter(s,e,l));if(u==="pending")return t.jsx(T,{});const p=j.toSorted(Z);return t.jsx(z,{tekst:o.formatMessage({id:"DokumentIndex.Dokumenter"}),antall:p.length,toggleVisUtvidetBehandlingDetaljerKnapp:n,children:t.jsx(O,{documents:p,saksnummer:s,behandlingUuid:e})})};ee.__docgenInfo={description:`DokumentIndex

 Har ansvar for å hente sakens dokumenter fra state og rendre det i en liste.`,methods:[],displayName:"DokumentIndex",props:{saksnummer:{required:!0,tsType:{name:"string"},description:""},behandlingUuid:{required:!1,tsType:{name:"string"},description:""},behandlingVersjon:{required:!1,tsType:{name:"number"},description:""},toggleVisUtvidetBehandlingDetaljerKnapp:{required:!0,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:""}}};export{ee as D,D as K,H as S};
