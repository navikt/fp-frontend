import{r as b,R as c}from"./index-mMUbb89k.js";import{m as ne,ag as z,b4 as Ke,o as I,K as fe,r as me,x as ve,O as pe,Q as be,U as he,W as ge,N as ye,A as we,E as Oe,C as _e,D as xe,b5 as Ee,y as je,I as Pe,b6 as Re,a5 as Ze,g as He,$ as J}from"./withPanelData-DnTtQEP7.js";import{t as k,x as W,z as Ue,A as Ce,B as Ve,C as H,G as U,I as De,J as Fe,K as R,L as Qe,N as ee,Q as We,R as Xe,T as qe,U as Ge,V}from"./index.es-CaLxyX0X.js";var Je=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const Tt=b.forwardRef((e,l)=>{var{title:n,titleId:t}=e,o=Je(e,["title","titleId"]);let a=ne();return a=n?t||"title-"+a:void 0,b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":a},o),n?b.createElement("title",{id:a},n):null,b.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .656.387l9.527 17.25A.75.75 0 0 1 21.526 21H2.474a.75.75 0 0 1-.657-1.113l9.527-17.25A.75.75 0 0 1 12 2.25m8.255 17.25L12 4.551 3.745 19.5zM12 8.75a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4a.75.75 0 0 1 .75-.75m0 6.75a1 1 0 1 0 0 2 1 1 0 0 0 0-2",clipRule:"evenodd"}))});var et=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const At=b.forwardRef((e,l)=>{var{title:n,titleId:t}=e,o=et(e,["title","titleId"]);let a=ne();return a=n?t||"title-"+a:void 0,b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":a},o),n?b.createElement("title",{id:a},n):null,b.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.75 12a.75.75 0 0 1 .75-.75h13a.75.75 0 1 1 0 1.5h-13a.75.75 0 0 1-.75-.75",clipRule:"evenodd"}))});var tt=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const Nt=b.forwardRef((e,l)=>{var{title:n,titleId:t}=e,o=tt(e,["title","titleId"]);let a=ne();return a=n?t||"title-"+a:void 0,b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":a},o),n?b.createElement("title",{id:a},n):null,b.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.97 10.085A3.25 3.25 0 1 1 9.1 8.478l1.456.822 6.506-1.952a1.75 1.75 0 0 1 .79-.05l2.771.462a.75.75 0 0 1 .234 1.4l-5.336 2.89 5.326 2.785a.75.75 0 0 1-.224 1.405l-2.77.462a1.75 1.75 0 0 1-.791-.05l-6.46-1.938-1.5.813q.146.462.148.973a3.25 3.25 0 1 1-1.28-2.585 3.25 3.25 0 0 0 0-3.83M4.25 7.5a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0m8.214 6.206 1.467-.795 4.24 2.217-.565.094a.25.25 0 0 1-.113-.007zM7.39 15.438l.018.023a1.75 1.75 0 1 1-.017-.023m2.493-2.04a4.8 4.8 0 0 0 .11-2.363l7.499-2.25a.25.25 0 0 1 .113-.007l.616.103z",clipRule:"evenodd"}))});function K(e,l){const n=+k(e)-+k(l);return n<0?-1:n>0?1:n}function nt(e,l,n){const[t,o]=W(n==null?void 0:n.in,e,l);return t.getFullYear()-o.getFullYear()}function Se(e,l,n){const[t,o]=W(n==null?void 0:n.in,e,l),a=ie(t,o),d=Math.abs(Ue(t,o));t.setDate(t.getDate()-a*d);const r=+(ie(t,o)===-a),s=a*(d-r);return s===0?0:s}function ie(e,l){const n=e.getFullYear()-l.getFullYear()||e.getMonth()-l.getMonth()||e.getDate()-l.getDate()||e.getHours()-l.getHours()||e.getMinutes()-l.getMinutes()||e.getSeconds()-l.getSeconds()||e.getMilliseconds()-l.getMilliseconds();return n<0?-1:n>0?1:n}function ce(e,l){return+k(e)-+k(l)}function Q(e,l){const n=k(e,l==null?void 0:l.in);return n.setHours(23,59,59,999),n}function ot(e,l){const n=k(e,l==null?void 0:l.in);return+Q(n,l)==+Ce(n,l)}function lt(e,l,n){const[t,o,a]=W(n==null?void 0:n.in,e,e,l),d=K(o,a),r=Math.abs(Ve(o,a));if(r<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-d*r);let s=K(o,a)===-d;ot(t)&&r===1&&K(t,a)===1&&(s=!1);const v=d*(r-+s);return v===0?0:v}function at(e,l,n){const[t,o]=W(n==null?void 0:n.in,e,l),a=K(t,o),d=Math.abs(nt(t,o));t.setFullYear(1584),o.setFullYear(1584);const r=K(t,o)===-a,s=a*(d-+r);return s===0?0:s}function rt(e,l,n){return H(e,-l,n)}const Ie=b.createContext({startDate:new Date,endDate:new Date,direction:"left",setStart:()=>null,setEndInclusive:()=>null,activeRow:0,setActiveRow:()=>null,initiate:()=>null,addFocusable:()=>null}),Z=()=>{const e=b.useContext(Ie);return e||console.warn("useTimelineContext must be used with TimelineContext (<Timeline />)"),e},st=({horizontalPosition:e})=>e<=98&&e>=0,de=(e,l)=>Se(e,l)<=1,it=({horizontalPosition:e,width:l})=>e>=0&&e<=100&&l>0,te=(e,l,n)=>{const t=ce(n,l);return ce(e,l)/t*100},X=(e,l,n,t)=>{const o=te(e,n,t),a=te(l,n,t)-o;return{horizontalPosition:o,width:a}},ct=(e,l,n,t,o,a)=>{const d=Math.ceil(n/10),r=U(l);return new Array(n).fill(r).map((s,v)=>{if(v%d!==0)return null;const f=De(s,v),{horizontalPosition:g,width:u}=X(f,Fe(f,1),e,l);return{direction:t,horizontalPosition:g,label:R(f,o,{locale:a}),date:f,width:u}}).filter(s=>s!==null)},dt=(e,l,n,t,o)=>{const a=Qe(e),d=Ce(l),r=lt(d,a)+1;return new Array(r).fill(a).map((s,v)=>{const f=ee(s,v),{horizontalPosition:g,width:u}=X(f,ee(f,1),e,l);return{direction:n,horizontalPosition:g,label:R(f,t,{locale:o}),date:f,width:u}})},ut=(e,l,n,t,o)=>{const a=We(e),d=Xe(l),r=at(d,e)+1;return new Array(r).fill(a).map((s,v)=>{const f=H(s,v),{horizontalPosition:g,width:u}=X(f,H(f,1),e,l);return{direction:n,horizontalPosition:g,label:R(f,t,{locale:o}),date:f,width:u}})},ft=(e,l,n,t,o)=>{const a=Se(l,e);if(a<40){const r=o("dayFormat");return ct(e,l,a,n,r,t)}if(a<370){const r=o("monthFormat");return dt(e,l,n,r,t)}const d=o("yearFormat");return ut(e,l,n,d,t)},mt=({templates:e})=>{const{endDate:l,startDate:n,direction:t}=Z(),o=z("Timeline",{dayFormat:e==null?void 0:e.day,monthFormat:e==null?void 0:e.month,yearFormat:e==null?void 0:e.year}),a=Ke(),d=ft(n,l,t,a,o),{cn:r}=I();return c.createElement("div",{className:r("navds-timeline__axislabels"),"aria-hidden":"true"},d.filter(st).map(s=>c.createElement(fe,{className:r("navds-timeline__axislabels-label"),as:"div",key:s.label,style:{justifyContent:t==="left"?"flex-start":"flex-end",[t]:`${s.horizontalPosition}%`,width:`${s.width}%`}},s.label)))};var vt=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const Me=b.forwardRef((e,l)=>{var{date:n,children:t}=e,o=vt(e,["date","children"]);const{cn:a}=I(),{startDate:d,endDate:r,direction:s}=Z(),[v,f]=b.useState(!1),g=b.useRef(null),u=z("Timeline"),w=!me(!1),{context:y,placement:m,middlewareData:{arrow:{x:p,y:F}={}},refs:j,floatingStyles:M}=ve({placement:"top",open:v,onOpenChange:h=>f(h),whileElementsMounted:ye,middleware:[pe(w?16:8),be(),he({padding:5,fallbackPlacements:["bottom","top"]}),ge({element:g,padding:5})]}),T=we(y,{handleClose:Oe(),restMs:25,delay:{open:1e3},move:!1}),S=_e(y),Y=xe(y),A=Ee(y,{role:"dialog"}),{getFloatingProps:L,getReferenceProps:C}=je([T,S,Y,A]),$=Pe(j.setReference,l),i={top:"bottom",right:"left",bottom:"top",left:"right"}[m.split("-")[0]];return c.createElement(c.Fragment,null,c.createElement("div",{className:a("navds-timeline__pin-wrapper"),style:{[s]:`${te(n,d,r)}%`}},c.createElement("button",Object.assign({},o,{ref:$,className:a("navds-timeline__pin-button"),"aria-label":u("Pin.pin",{date:R(n,u("dateFormat"))}),type:"button","aria-expanded":t?v:void 0},C({onKeyDown:h=>{var _;(_=o==null?void 0:o.onKeyDown)===null||_===void 0||_.call(o,h),h.key==="Enter"?f(D=>!D):h.key===" "&&f(!1)}})))),t&&v&&c.createElement(Re,{context:y,modal:!1,initialFocus:-1,returnFocus:!1},c.createElement("div",Object.assign({className:a("navds-timeline__popover"),"data-placement":m,ref:j.setFloating},L(),{style:M}),t,w&&c.createElement("div",{ref:g,style:Object.assign(Object.assign(Object.assign({},p!=null?{left:p}:{}),F!=null?{top:F}:{}),i?{[i]:"-0.5rem"}:{}),className:a("navds-timeline__popover-arrow")}))))});Me.componentType="pin";const Te=b.createContext({periodId:"",firstFocus:!1}),Ae=()=>{const e=b.useContext(Te);return e||console.warn("usePeriodContext must be used with PeriodContext"),e},Ne=b.createContext({periods:[],id:"",active:!1,index:0}),oe=()=>{const e=b.useContext(Ne);return e||console.warn("useRowContext must be used with RowContext"),e},Le=(e,l,n)=>Ze(`navds-timeline__period navds-timeline__period--${n}`,{"navds-timeline__period--connected-both":e==="both","navds-timeline__period--connected-right":e==="right"&&l==="left"||e==="left"&&l==="right","navds-timeline__period--connected-left":e==="left"&&l==="left"||e==="right"&&l==="right"}),$e=(e,l,n,t,o)=>{const a=o("dateFormat"),d=R(e,a),r=R(l,a);return o("Period.period",{status:t||o(`Period.${n}`),start:d,end:r})},pt=c.memo(({onSelectPeriod:e,start:l,end:n,status:t,cropped:o,direction:a,left:d,width:r,icon:s,children:v,isActive:f,statusLabel:g,restProps:u,periodRef:O})=>{var w;const{cn:y}=I(),[m,p]=b.useState(!1),{index:F}=oe(),{firstFocus:j}=Ae(),{initiate:M,addFocusable:T}=Z(),S=b.useRef(null),Y=z("Timeline"),L=!me(!1),{context:C,placement:$,middlewareData:{arrow:{x:i,y:h}={}},refs:_,floatingStyles:D}=ve({placement:(w=u==null?void 0:u.placement)!==null&&w!==void 0?w:"top",open:m,onOpenChange:E=>p(E),whileElementsMounted:ye,middleware:[pe(L?16:8),be(),he({padding:5,fallbackPlacements:["bottom","top"]}),ge({element:S,padding:5})]}),B=we(C,{handleClose:Oe(),restMs:25,delay:{open:1e3},move:!1}),x=_e(C),G=xe(C),P=Ee(C,{role:"dialog"}),{getFloatingProps:ke,getReferenceProps:ze}=je([B,x,G,P]),Ye=Pe(_.setReference,O),se={top:"bottom",right:"left",bottom:"top",left:"right"}[$.split("-")[0]];return c.createElement(c.Fragment,null,c.createElement("button",Object.assign({},u,{type:"button",ref:E=>{j&&T(E,F),Ye(E)},"aria-label":$e(l,n,t,g,Y),className:y("navds-timeline__period--clickable",Le(o,a,t),u==null?void 0:u.className,{"navds-timeline__period--selected":f}),"aria-expanded":v?m:void 0,"aria-current":f||void 0},ze({onFocus:()=>{M(F)},onKeyDown:E=>{var N;(N=u==null?void 0:u.onKeydown)===null||N===void 0||N.call(u,E),E.key==="Enter"&&p(Be=>!Be),E.key===" "&&(e==null||e(E),p(!1))},style:{width:`${r}%`,[a]:`${d}%`},onClick:E=>{var N;(N=u==null?void 0:u.onClick)===null||N===void 0||N.call(u,E),E.detail!==0&&(e==null||e(E))}})),c.createElement("span",{className:y("navds-timeline__period--inner")},s)),v&&m&&c.createElement(Re,{context:C,modal:!1,initialFocus:-1,returnFocus:!1},c.createElement("div",Object.assign({className:y("navds-timeline__popover"),"data-placement":$,ref:_.setFloating},ke(),{style:D}),v,L&&c.createElement("div",{ref:S,style:Object.assign(Object.assign(Object.assign({},i!=null?{left:i}:{}),h!=null?{top:h}:{}),se?{[se]:"-0.5rem"}:{}),className:y("navds-timeline__popover-arrow")}))))}),bt=({start:e,end:l,status:n,cropped:t,direction:o,left:a,width:d,icon:r,statusLabel:s,restProps:v,periodRef:f})=>{const g=z("Timeline"),{cn:u}=I();return c.createElement("div",Object.assign({ref:f},v,{className:u(Le(t,o,n),v==null?void 0:v.className),style:{width:`${d}%`,[o]:`${a}%`}}),c.createElement("span",{className:u("navds-timeline__period--inner")},r,c.createElement("span",{className:u("navds-sr-only")},$e(e,l,n,s,g))))},le=b.forwardRef(({icon:e},l)=>{const{periods:n}=oe(),{periodId:t,restProps:o}=Ae(),a=n.find(p=>p.id===t);if(!a)return c.createElement(c.Fragment,null);const{start:d,endInclusive:r,width:s,horizontalPosition:v,status:f="neutral",onSelectPeriod:g,cropped:u,direction:O,children:w,isActive:y,statusLabel:m}=a;return g||w?c.createElement(pt,{periodRef:l,start:d,end:r,status:f,onSelectPeriod:g,cropped:u||"",direction:O,width:s,left:v,icon:e,isActive:y,statusLabel:m,restProps:o},w):c.createElement(bt,{periodRef:l,start:d,end:r,status:f,cropped:u||"",direction:O,width:s,left:v,icon:e,statusLabel:m,restProps:o})});le.componentType="period";var ht=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const ae=b.forwardRef((e,l)=>{var{label:n,className:t,headingTag:o="h3",icon:a}=e,d=ht(e,["label","className","headingTag","icon"]);const{cn:r}=I(),{periods:s,id:v,active:f}=oe(),{setActiveRow:g}=Z(),u=z("Timeline"),O=s.reduce((m,p)=>m.end>p.end?m:p,{}),w=s.reduce((m,p)=>m.end<p.end?m:p,{}),y=s.find(m=>!!m.children||!!m.onSelectPeriod);return c.createElement(c.Fragment,null,n&&c.createElement(He,{as:o,id:`timeline-row-${v}`,className:r("navds-timeline__row-label"),size:"small"},a,n),c.createElement("div",{className:r("navds-timeline__row",{"navds-timeline__row--active":f})},c.createElement("ol",Object.assign({},d,{tabIndex:-1,ref:l,"aria-label":s.length===0?u("Row.noPeriods"):u("Row.period",{start:R(w.start,u("dateFormat")),end:R(O.end,u("dateFormat"))}),className:r("navds-timeline__row-periods",t),onKeyDown:m=>{(m.key==="ArrowDown"||m.key==="ArrowUp")&&(m.preventDefault(),g(m.key))}}),s==null?void 0:s.map(m=>c.createElement("li",{key:`period-${m.id}`},c.createElement(Te.Provider,{value:{periodId:m.id,firstFocus:(y==null?void 0:y.id)===m.id,restProps:m==null?void 0:m.restProps}},c.createElement(le,{start:m.start,end:m.endInclusive,icon:m.icon,ref:m==null?void 0:m.ref})))))))});ae.componentType="row";const gt=(e,l)=>e.horizontalPosition-l.horizontalPosition,yt=(e,l,n,t="left",o,a,d)=>{const r=e.start,s=e.end,v=o<a.length-1&&!qe(a[o+1].start,s),{horizontalPosition:f,width:g}=X(U(r),Q(v?U(De(a[o+1].start,1)):s),l,n);return{id:`r-${d}-p-${o}`,start:r,endInclusive:s,horizontalPosition:f,direction:t,width:g,end:s,status:e.status,onSelectPeriod:e.onSelectPeriod,icon:e.icon,children:e.children,isActive:e.isActive,statusLabel:e.statusLabel}},wt=(e,l,n)=>{const t=l>0&&de(e.start,n[l-1].endInclusive),o=l<n.length-1&&de(n[l+1].start,e.endInclusive);return t&&o?Object.assign(Object.assign({},e),{cropped:"both"}):t?Object.assign(Object.assign({},e),{cropped:"left"}):o?Object.assign(Object.assign({},e),{cropped:"right"}):e},Ot=e=>{let{horizontalPosition:l,width:n,cropped:t}=e;return l+n>100&&(n=100-l,t=t==="left"||t==="both"?"both":"right"),l<0&&l+n>0&&(n=l+n,l=0,t=t==="right"||t==="both"?"both":"left"),Object.assign(Object.assign({},e),{width:n,horizontalPosition:l,cropped:t})},_t=(e,l,n,t)=>b.useMemo(()=>e.map((o,a)=>{const d=o.periods.sort((r,s)=>r.start.valueOf()-s.start.valueOf()).map((r,s)=>Object.assign(Object.assign({},yt(r,l,n,t,s,o.periods,a)),{restProps:r==null?void 0:r.restProps,ref:r==null?void 0:r.ref})).sort(gt).map(wt).map(Ot).filter(it);return{id:`tl-row-${a}`,label:o.label,headingTag:o.headingTag||"h3",icon:o.icon,periods:t==="left"?d:d.reverse(),restProps:o==null?void 0:o.restProps,ref:o==null?void 0:o.ref}}),[e,l,n,t]),xt=({startDate:e,rows:l})=>b.useMemo(()=>{if(e)return e;const n=l.flat().filter(o=>o.start).map(o=>o.start);return n.length===0?new Date:n.reduce((o,a)=>a<o?a:o)},[e,l]),Et=(e,l)=>l.end>e?l.end:e,jt=e=>e.flat().reduce(Et,new Date(0)),ue=({endDate:e,rows:l})=>b.useMemo(()=>e||Fe(jt(l),1),[e,l]),Pt=e=>{const l=[];return e==null||e.forEach(n=>{var t,o,a,d,r,s,v,f,g,u,O,w;const y=[];if(c.isValidElement(n)&&(!((t=n==null?void 0:n.props)===null||t===void 0)&&t.children)){if(Array.isArray(n.props.children))for(let m=0;m<n.props.children.length;m++){const p=n.props.children[m];y.push({start:(o=p==null?void 0:p.props)===null||o===void 0?void 0:o.start,end:(a=p==null?void 0:p.props)===null||a===void 0?void 0:a.end,status:((d=p==null?void 0:p.props)===null||d===void 0?void 0:d.status)||"neutral",onSelectPeriod:(r=p.props)===null||r===void 0?void 0:r.onSelectPeriod,label:n.props.label,icon:p.props.icon,children:p.props.children,isActive:p.props.isActive,statusLabel:p.props.statusLabel,restProps:J(p.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:p==null?void 0:p.ref})}else y.push({start:n.props.children.props.start,end:n.props.children.props.end,status:((s=n.props.children.props)===null||s===void 0?void 0:s.status)||"neutral",onSelectPeriod:(v=n.props.children.props)===null||v===void 0?void 0:v.onSelectPeriod,label:n.props.label,icon:(f=n.props.children.props)===null||f===void 0?void 0:f.icon,children:(g=n.props.children.props)===null||g===void 0?void 0:g.children,statusLabel:(u=n.props.children.props)===null||u===void 0?void 0:u.statusLabel,restProps:J(n.props.children.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:(w=(O=n.props)===null||O===void 0?void 0:O.children)===null||w===void 0?void 0:w.ref});l.push({label:n.props.label,icon:n.props.icon,headingTag:n.props.headingTag,periods:y,restProps:J(n.props,["label","icon","headingTag"]),ref:n==null?void 0:n.ref})}}),l};var Rt=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const Ct=b.forwardRef((e,l)=>{var{label:n,interval:t,count:o}=e,a=Rt(e,["label","interval","count"]);const{setStart:d,endDate:r,startDate:s,direction:v}=Z(),f=z("Timeline"),g=f("dateFormat"),{cn:u}=I();let O;t==="month"?O=v==="left"?Ge(r,o):ee(s,o):O=v==="left"?rt(r,o):H(s,o);const w=v==="left"?V(s,O):V(r,O);return c.createElement(fe,{as:"li"},c.createElement("button",Object.assign({type:"button","aria-label":w?f("Zoom.reset"):f("Zoom.zoom",{start:R(O,g),end:R(r,g)}),ref:l},a,{className:u("navds-timeline__zoom-button"),onClick:()=>{d(O)},"aria-pressed":w}),n))});var Dt=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const re=b.forwardRef((e,l)=>{var{className:n,children:t}=e,o=Dt(e,["className","children"]);const{cn:a}=I();return c.createElement("ul",Object.assign({ref:l,className:a(n,"navds-timeline__zoom")},o),t)});re.Button=Ct;re.componentType="zoom";var Ft=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const q=b.forwardRef((e,l)=>{var{children:n,startDate:t,endDate:o,direction:a="left",axisLabelTemplates:d}=e,r=Ft(e,["children","startDate","endDate","direction","axisLabelTemplates"]);const{cn:s}=I(),v=Array.isArray(n),f=b.useRef([]);v||(n=[n]);const g=c.Children.toArray(n).filter(i=>{var h;return((h=i==null?void 0:i.type)===null||h===void 0?void 0:h.componentType)==="row"}),u=c.Children.toArray(n).filter(i=>{var h;return((h=i==null?void 0:i.type)===null||h===void 0?void 0:h.componentType)==="pin"}).map(i=>()=>i),O=c.Children.toArray(n).find(i=>{var h;return((h=i==null?void 0:i.type)===null||h===void 0?void 0:h.componentType)==="zoom"}),w=b.useMemo(()=>Pt(g),[g]),y=w.map(i=>i!=null&&i.periods?i.periods:[]),m=U(xt({startDate:t,rows:y})),[p,F]=b.useState(m),[j,M]=b.useState(null),[T,S]=b.useState(Q(ue({endDate:o,rows:y}))),Y=Q(ue({endDate:o,rows:y})),A=_t(w,t??p,o??T,a),L=i=>{if(!(t||o))if(a==="left"){if(V(i,p)){F(m);return}F(i)}else{if(V(i,T)){S(Y);return}S(i)}},C=i=>{var h,_,D,B;if(j!==null&&i==="ArrowDown"){for(let x=j+1;x<A.length;x++)if(A[x].periods.find(P=>!!P.children||!!P.onSelectPeriod)){M(x),(_=(h=f.current.find(P=>P.id===x))===null||h===void 0?void 0:h.ref)===null||_===void 0||_.focus();break}return}if(j!==null&&i==="ArrowUp"){for(let x=j-1;x>=0;x--)if(A[x].periods.find(P=>!!P.children||!!P.onSelectPeriod)){M(x),(B=(D=f.current.find(P=>P.id===x))===null||D===void 0?void 0:D.ref)===null||B===void 0||B.focus();break}return}},$=(i,h)=>{let _=f.current;_=_.filter(D=>D.id!==h),_.push({ref:i,id:h}),f.current=_};return c.createElement(Ie.Provider,{value:{startDate:t??p,endDate:o??T,direction:a,setStart:i=>L(i),setEndInclusive:i=>S(i),activeRow:j,setActiveRow:i=>C(i),initiate:i=>M(i),addFocusable:$}},c.createElement("div",Object.assign({},r,{ref:l}),c.createElement("div",{className:s("navds-timeline")},c.createElement(mt,{templates:d}),u.map((i,h)=>c.createElement(i,{key:`pin-${h}`})),A.map((i,h)=>c.createElement(Ne.Provider,{key:`row-${i.id}`,value:{periods:i.periods,id:i.id,active:j===h,index:h}},c.createElement(ae,Object.assign({},i==null?void 0:i.restProps,{ref:i==null?void 0:i.ref,label:i.label,icon:i.icon,headingTag:i.headingTag}))))),O))});q.Row=ae;q.Period=le;q.Pin=Me;q.Zoom=re;export{At as S,q as T,Nt as a,Tt as b};
