import{r as d,R as c}from"./index-6d8bab86.js";import{u as B,K as ie,i as Z,M as ce,O as de,Q as ue,S as fe,T as ve,U as me,V as pe,Y as be,$ as ge,a0 as he,a1 as ye,a2 as we,a3 as Oe,a4 as _e,a5 as Le,a6 as W}from"./index.es-b772bb8b.js";import{bp as S,bq as O,br as Ze,bs as xe,bt as Ye,bu as K,bv as ze,bw as U,bx as Ee,by as je,bz as I,bA as te,bB as Be,bC as J,bD as He,bE as Ve,bF as Ke,bG as Q}from"./AppIndex.stories-19336192.js";var Ue=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Qe=d.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=Ue(e,["title","titleId"]);let r=B();return r=n?t||"title-"+r:void 0,d.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:o,"aria-labelledby":r},l),n?d.createElement("title",{id:r},n):null,d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .656.387l9.527 17.25A.75.75 0 0 1 21.526 21H2.474a.75.75 0 0 1-.657-1.113l9.527-17.25A.75.75 0 0 1 12 2.25Zm8.255 17.25L12 4.551 3.745 19.5h16.51ZM12 8.75a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4a.75.75 0 0 1 .75-.75Zm0 6.75a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z",fill:"currentColor"}))}),Ht=Qe;var qe=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Xe=d.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=qe(e,["title","titleId"]);let r=B();return r=n?t||"title-"+r:void 0,d.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:o,"aria-labelledby":r},l),n?d.createElement("title",{id:r},n):null,d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.75 12a.75.75 0 0 1 .75-.75h13a.75.75 0 1 1 0 1.5h-13a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))}),Vt=Xe;var Ge=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const We=d.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=Ge(e,["title","titleId"]);let r=B();return r=n?t||"title-"+r:void 0,d.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:o,"aria-labelledby":r},l),n?d.createElement("title",{id:r},n):null,d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75V5.5Z",fill:"currentColor"}))}),Kt=We;var Je=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const et=d.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=Je(e,["title","titleId"]);let r=B();return r=n?t||"title-"+r:void 0,d.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:o,"aria-labelledby":r},l),n?d.createElement("title",{id:r},n):null,d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.25 7.5a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Zm3.72 2.585A3.25 3.25 0 1 1 9.1 8.478l1.456.822 6.506-1.952a1.75 1.75 0 0 1 .79-.05l2.771.462a.75.75 0 0 1 .234 1.4l-5.336 2.89 5.326 2.785a.75.75 0 0 1-.224 1.405l-2.77.462a1.75 1.75 0 0 1-.791-.05l-6.46-1.938-1.5.813a3.25 3.25 0 1 1-1.132-1.612 3.252 3.252 0 0 0 0-3.83Zm4.494 3.621 1.467-.795 4.24 2.217-.565.094a.25.25 0 0 1-.113-.007l-5.03-1.509ZM7.39 15.438A1.742 1.742 0 0 1 7.75 16.5a1.75 1.75 0 1 1-.359-1.062Zm2.493-2.04a4.773 4.773 0 0 0 .11-2.363l7.499-2.25a.25.25 0 0 1 .113-.007l.616.103-8.338 4.516Z",fill:"currentColor"}))}),Ut=et;var tt=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const nt=d.forwardRef((e,o)=>{var{title:n,titleId:t}=e,l=tt(e,["title","titleId"]);let r=B();return r=n?t||"title-"+r:void 0,d.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:o,"aria-labelledby":r},l),n?d.createElement("title",{id:r},n):null,d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2.25a2.75 2.75 0 1 0 0 5.5 2.75 2.75 0 0 0 0-5.5Zm-2.25 14.5H9a.75.75 0 0 1-.75-.75V9A.75.75 0 0 1 9 8.25h6a.75.75 0 0 1 .75.75v7a.75.75 0 0 1-.75.75h-.75V21a.75.75 0 0 1-1.5 0v-4.25h-1.5V21a.75.75 0 0 1-1.5 0v-4.25Z",fill:"currentColor"}))}),Qt=nt;function z(e,o){S(2,arguments);var n=O(e),t=O(o),l=n.getTime()-t.getTime();return l<0?-1:l>0?1:l}function lt(e,o){S(2,arguments);var n=O(e),t=O(o);return n.getFullYear()-t.getFullYear()}function oe(e,o){var n=e.getFullYear()-o.getFullYear()||e.getMonth()-o.getMonth()||e.getDate()-o.getDate()||e.getHours()-o.getHours()||e.getMinutes()-o.getMinutes()||e.getSeconds()-o.getSeconds()||e.getMilliseconds()-o.getMilliseconds();return n<0?-1:n>0?1:n}function Pe(e,o){S(2,arguments);var n=O(e),t=O(o),l=oe(n,t),r=Math.abs(Ze(n,t));n.setDate(n.getDate()-l*r);var v=+(oe(n,t)===-l),i=l*(r-v);return i===0?0:i}function re(e,o){return S(2,arguments),O(e).getTime()-O(o).getTime()}function q(e){S(1,arguments);var o=O(e);return o.setHours(23,59,59,999),o}function ot(e){S(1,arguments);var o=O(e);return q(o).getTime()===xe(o).getTime()}function rt(e,o){S(2,arguments);var n=O(e),t=O(o),l=z(n,t),r=Math.abs(Ye(n,t)),v;if(r<1)v=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-l*r);var i=z(n,t)===-l;ot(O(e))&&r===1&&z(e,t)===1&&(i=!1),v=l*(r-Number(i))}return v===0?0:v}function at(e,o){S(2,arguments);var n=O(e),t=O(o),l=z(n,t),r=Math.abs(lt(n,t));n.setFullYear(1584),t.setFullYear(1584);var v=z(n,t)===-l,i=l*(r-Number(v));return i===0?0:i}function st(e){S(1,arguments);var o=O(e),n=o.getFullYear();return o.setFullYear(n+1,0,0),o.setHours(23,59,59,999),o}function it(e,o){S(2,arguments);var n=ze(o);return K(e,-n)}const Me=d.createContext({startDate:new Date,endDate:new Date,direction:"left",setStart:()=>null,setEndInclusive:()=>null,activeRow:0,setActiveRow:()=>null,initiate:()=>null,addFocusable:()=>null}),H=()=>{const e=d.useContext(Me);return e||console.warn("useTimelineContext must be used with TimelineContext (<Timeline />)"),e},ct=({horizontalPosition:e})=>e<=98&&e>=0,ae=(e,o)=>Pe(e,o)<=1,dt=({horizontalPosition:e,width:o})=>e>=0&&e<=100&&o>0,ee=(e,o,n)=>{const t=re(n,o);return re(e,o)/t*100},X=(e,o,n,t)=>{const l=ee(e,n,t),r=ee(o,n,t)-l;return{horizontalPosition:l,width:r}},ut=(e,o,n,t,l="dd.MM")=>{const r=Math.ceil(n/10),v=U(o);return new Array(n).fill(v).map((i,u)=>{if(u%r!==0)return null;const s=Ee(i,u),{horizontalPosition:m,width:p}=X(s,je(s,1),e,o);return{direction:t,horizontalPosition:m,label:I(s,l,{locale:te}),date:s,width:p}}).filter(i=>i!==null)},ft=(e,o,n,t="MMM yy")=>{const l=Be(e),r=xe(o),v=rt(r,l)+1;return new Array(v).fill(l).map((i,u)=>{const s=J(i,u),{horizontalPosition:m,width:p}=X(s,J(s,1),e,o);return{direction:n,horizontalPosition:m,label:I(s,t,{locale:te}),date:s,width:p}})},vt=(e,o,n,t="yyyy")=>{const l=He(e),r=st(o),v=at(r,e)+1;return new Array(v).fill(l).map((i,u)=>{const s=K(i,u),{horizontalPosition:m,width:p}=X(s,K(s,1),e,o);return{direction:n,horizontalPosition:m,label:I(s,t,{locale:te}),date:s,width:p}})},mt=(e,o,n,t)=>{const l=Pe(o,e);return l<40?ut(e,o,l,n,t==null?void 0:t.day):l<370?ft(e,o,n,t==null?void 0:t.month):vt(e,o,n,t==null?void 0:t.year)},pt=({templates:e})=>{const{endDate:o,startDate:n,direction:t}=H(),l=mt(n,o,t,e).filter(ct);return c.createElement("div",{className:"navds-timeline__axislabels","aria-hidden":"true"},l.map(r=>c.createElement(ie,{className:"navds-timeline__axislabels-label",as:"div",key:r.label,style:{justifyContent:t==="left"?"flex-start":"flex-end",[t]:`${r.horizontalPosition}%`,width:`${r.width}%`}},r.label)))},Te=d.createContext({periods:[],id:"",active:!1,index:0}),ne=()=>{const e=d.useContext(Te);return e||console.warn("useRowContext must be used with RowContext"),e},bt=(e,o)=>e.horizontalPosition-o.horizontalPosition,gt=(e,o,n,t="left",l,r,v)=>{const i=e.start,u=e.end,s=l<r.length-1&&!Ve(r[l+1].start,u),{horizontalPosition:m,width:p}=X(U(i),q(s?U(Ee(r[l+1].start,1)):u),o,n);return{id:`r-${v}-p-${l}`,start:i,endInclusive:u,horizontalPosition:m,direction:t,width:p,end:u,status:e.status,onSelectPeriod:e.onSelectPeriod,icon:e.icon,children:e.children,isActive:e.isActive,statusLabel:e.statusLabel}},ht=(e,o,n)=>{const t=o>0&&ae(e.start,n[o-1].endInclusive),l=o<n.length-1&&ae(n[o+1].start,e.endInclusive);return t&&l?Object.assign(Object.assign({},e),{cropped:"both"}):t?Object.assign(Object.assign({},e),{cropped:"left"}):l?Object.assign(Object.assign({},e),{cropped:"right"}):e},yt=e=>{let{horizontalPosition:o,width:n,cropped:t}=e;return o+n>100&&(n=100-o,t=t==="left"||t==="both"?"both":"right"),o<0&&o+n>0&&(n=o+n,o=0,t=t==="right"||t==="both"?"both":"left"),Object.assign(Object.assign({},e),{width:n,horizontalPosition:o,cropped:t})},wt=(e,o,n,t)=>d.useMemo(()=>e.map((l,r)=>{const v=r,i=l.periods.sort((u,s)=>u.start.valueOf()-s.start.valueOf()).map((u,s)=>Object.assign(Object.assign({},gt(u,o,n,t,s,l.periods,v)),{restProps:u==null?void 0:u.restProps,ref:u==null?void 0:u.ref})).sort(bt).map(ht).map(yt).filter(dt);return{id:`tl-row-${v}`,label:l.label,headingTag:l.headingTag||"h3",icon:l.icon,periods:t==="left"?i:i.reverse(),restProps:l==null?void 0:l.restProps,ref:l==null?void 0:l.ref}}),[e,o,n,t]),Ot=(e,o)=>o.start<e?o.start:e,_t=e=>e.flat().reduce(Ot,new Date),xt=({startDate:e,rows:o})=>d.useMemo(()=>e||_t(o),[e,o]),Et=(e,o)=>o.end>e?o.end:e,jt=e=>e.flat().reduce(Et,new Date(0)),se=({endDate:e,rows:o})=>d.useMemo(()=>e||je(jt(o),1),[e,o]),Re=d.createContext({periodId:"",firstFocus:!1}),Ie=()=>{const e=d.useContext(Re);return e||console.warn("usePeriodContext must be used with PeriodContext"),e},Se=(e,o,n)=>Z(`navds-timeline__period navds-timeline__period--${n}`,{"navds-timeline__period--connected-both":e==="both","navds-timeline__period--connected-right":e==="right"&&o==="left"||e==="left"&&o==="right","navds-timeline__period--connected-left":e==="left"&&o==="left"||e==="right"&&o==="right"}),Pt=e=>{switch(e){case"success":return"Suksess";case"warning":return"Advarsel";case"danger":return"Fare";case"info":return"Info";case"neutral":return"Nøytral";default:return e}},Ce=(e,o,n,t)=>{const l=I(e,"dd.MM.yyyy"),r=I(o,"dd.MM.yyyy");return`${t||Pt(n)} fra ${l} til ${r}`},Mt=c.memo(({onSelectPeriod:e,start:o,end:n,status:t,cropped:l,direction:r,left:v,width:i,icon:u,children:s,isActive:m,statusLabel:p,restProps:b,periodRef:w})=>{const[f,y]=d.useState(!1),{index:_}=ne(),{firstFocus:g}=Ie(),{initiate:T,addFocusable:A}=H(),D=d.useRef(null),{context:P,placement:L,middlewareData:{arrow:{x:C,y:$}={}},refs:M,floatingStyles:F}=ce({placement:"top",open:f,onOpenChange:E=>y(E),whileElementsMounted:de,middleware:[ue(16),fe(),ve({padding:5,fallbackPlacements:["bottom","top"]}),me({element:D,padding:5})]}),a=pe(P,{handleClose:be(),restMs:25,delay:{open:1e3},move:!1}),h=ge(P),R=he(P),N=ye(P,{role:"dialog"}),{getFloatingProps:Y,getReferenceProps:x}=we([a,h,R,N]),G=d.useMemo(()=>Oe([M.setReference,w]),[w,M.setReference]),j={top:"bottom",right:"left",bottom:"top",left:"right"}[L.split("-")[0]];return c.createElement(c.Fragment,null,c.createElement("button",Object.assign({},b,{type:"button",ref:E=>{g&&A(E,_),G(E)},"aria-label":Ce(o,n,t,p),className:Z("navds-timeline__period--clickable",Se(l,r,t),b==null?void 0:b.className,{"navds-timeline__period--selected":m}),"aria-expanded":s?f:void 0,"aria-current":m||void 0},x({onFocus:()=>{T(_)},onKeyDown:E=>{var k;(k=b==null?void 0:b.onKeydown)===null||k===void 0||k.call(b,E),E.key==="Enter"&&y(ke=>!ke),E.key===" "&&(e==null||e(E),y(!1))},style:{width:`${i}%`,[r]:`${v}%`},onClick:E=>{var k;(k=b==null?void 0:b.onClick)===null||k===void 0||k.call(b,E),E.detail!==0&&(e==null||e(E))}})),c.createElement("span",{className:"navds-timeline__period--inner"},u)),s&&f&&c.createElement(_e,{context:P,modal:!1,initialFocus:-1,returnFocus:!1},c.createElement("div",Object.assign({className:"navds-timeline__popover","data-placement":L,ref:M.setFloating},Y(),{style:F}),s,c.createElement("div",{ref:D,style:Object.assign(Object.assign(Object.assign({},C!=null?{left:C}:{}),$!=null?{top:$}:{}),j?{[j]:"-0.5rem"}:{}),className:"navds-timeline__popover-arrow"}))))}),Tt=Mt,Rt=({start:e,end:o,status:n,cropped:t,direction:l,left:r,width:v,icon:i,statusLabel:u,restProps:s,periodRef:m})=>c.createElement("div",Object.assign({ref:m},s,{className:Z(Se(t,l,n),s==null?void 0:s.className),style:{width:`${v}%`,[l]:`${r}%`}}),c.createElement("span",{className:"navds-timeline__period--inner"},i,c.createElement("span",{className:"sr-only"},Ce(e,o,n,u)))),It=Rt,De=d.forwardRef(({icon:e},o)=>{const{periods:n}=ne(),{periodId:t,restProps:l}=Ie(),r=n.find(g=>g.id===t);if(!r)return c.createElement(c.Fragment,null);const{start:v,endInclusive:i,width:u,horizontalPosition:s,status:m="neutral",onSelectPeriod:p,cropped:b,direction:w,children:f,isActive:y,statusLabel:_}=r;return p||f?c.createElement(Tt,{periodRef:o,start:v,end:i,status:m,onSelectPeriod:p,cropped:b||"",direction:w,width:u,left:s,icon:e,isActive:y,statusLabel:_,restProps:l},f):c.createElement(It,{periodRef:o,start:v,end:i,status:m,cropped:b||"",direction:w,width:u,left:s,icon:e,statusLabel:_,restProps:l})});De.componentType="period";const Ae=De;var St=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const $e=d.forwardRef((e,o)=>{var{date:n,children:t}=e,l=St(e,["date","children"]);const{startDate:r,endDate:v,direction:i}=H(),[u,s]=d.useState(!1),m=d.useRef(null),{context:p,placement:b,middlewareData:{arrow:{x:w,y:f}={}},refs:y,floatingStyles:_}=ce({placement:"top",open:u,onOpenChange:M=>s(M),whileElementsMounted:de,middleware:[ue(16),fe(),ve({padding:5,fallbackPlacements:["bottom","top"]}),me({element:m,padding:5})]}),g=pe(p,{handleClose:be(),restMs:25,delay:{open:1e3},move:!1}),T=ge(p),A=he(p),D=ye(p,{role:"dialog"}),{getFloatingProps:P,getReferenceProps:L}=we([g,T,A,D]),C=d.useMemo(()=>Oe([y.setReference,o]),[o,y.setReference]),$={top:"bottom",right:"left",bottom:"top",left:"right"}[b.split("-")[0]];return c.createElement(c.Fragment,null,c.createElement("div",{className:"navds-timeline__pin-wrapper",style:{[i]:`${ee(n,r,v)}%`}},c.createElement("button",Object.assign({},l,{ref:C,className:"navds-timeline__pin-button","aria-label":`pin:${I(n,"dd.MM.yyyy")}`,type:"button","aria-expanded":t?u:void 0},L({onKeyDown:M=>{var F;(F=l==null?void 0:l.onKeyDown)===null||F===void 0||F.call(l,M),M.key==="Enter"?s(a=>!a):M.key===" "&&s(!1)}})))),t&&u&&c.createElement(_e,{context:p,modal:!1,initialFocus:-1,returnFocus:!1},c.createElement("div",Object.assign({className:"navds-timeline__popover","data-placement":b,ref:y.setFloating},P(),{tabIndex:void 0,style:_}),t,c.createElement("div",{ref:m,style:Object.assign(Object.assign(Object.assign({},w!=null?{left:w}:{}),f!=null?{top:f}:{}),$?{[$]:"-0.5rem"}:{}),className:"navds-timeline__popover-arrow"}))))});$e.componentType="pin";const Ct=$e;var Dt=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Fe=d.forwardRef((e,o)=>{var{label:n,className:t,headingTag:l="h3",icon:r}=e,v=Dt(e,["label","className","headingTag","icon"]);const{periods:i,id:u,active:s}=ne(),{setActiveRow:m}=H(),p=i.reduce((f,y)=>f.end>y.end?f:y,{}),b=i.reduce((f,y)=>f.end<y.end?f:y,{}),w=i.find(f=>!!f.children||!!f.onSelectPeriod);return c.createElement(c.Fragment,null,n&&c.createElement(Le,{as:l,id:`timeline-row-${u}`,className:"navds-timeline__row-label",size:"small"},r,n),c.createElement("div",{className:Z("navds-timeline__row",{"navds-timeline__row--active":s})},c.createElement("ol",Object.assign({},v,{tabIndex:-1,ref:o,"aria-label":i.length===0?"Ingen perioder":`${I(b.start,"dd.MM.yyyy")} til ${I(p.end,"dd.MM.yyyy")}`,className:Z("navds-timeline__row-periods",t),onKeyDown:f=>{(f.key==="ArrowDown"||f.key==="ArrowUp")&&(f.preventDefault(),m(f.key))}}),i&&i.map(f=>c.createElement("li",{key:`period-${f.id}`},c.createElement(Re.Provider,{value:{periodId:f.id,firstFocus:(w==null?void 0:w.id)===f.id,restProps:f==null?void 0:f.restProps}},c.createElement(Ae,{start:f.start,end:f.endInclusive,icon:f.icon,ref:f==null?void 0:f.ref})))))))});Fe.componentType="row";const Ne=Fe,At=e=>{const o=[];return e==null||e.forEach(n=>{var t,l,r,v,i,u,s,m,p,b,w,f;const y=[];if(c.isValidElement(n)&&(!((t=n==null?void 0:n.props)===null||t===void 0)&&t.children)){if(Array.isArray(n.props.children))for(let _=0;_<n.props.children.length;_++){const g=n.props.children[_];y.push({start:(l=g==null?void 0:g.props)===null||l===void 0?void 0:l.start,end:(r=g==null?void 0:g.props)===null||r===void 0?void 0:r.end,status:((v=g==null?void 0:g.props)===null||v===void 0?void 0:v.status)||"neutral",onSelectPeriod:(i=g.props)===null||i===void 0?void 0:i.onSelectPeriod,label:n.props.label,icon:g.props.icon,children:g.props.children,isActive:g.props.isActive,statusLabel:g.props.statusLabel,restProps:W(g.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:g==null?void 0:g.ref})}else y.push({start:n.props.children.props.start,end:n.props.children.props.end,status:((u=n.props.children.props)===null||u===void 0?void 0:u.status)||"neutral",onSelectPeriod:(s=n.props.children.props)===null||s===void 0?void 0:s.onSelectPeriod,label:n.props.label,icon:(m=n.props.children.props)===null||m===void 0?void 0:m.icon,children:(p=n.props.children.props)===null||p===void 0?void 0:p.children,statusLabel:(b=n.props.children.props)===null||b===void 0?void 0:b.statusLabel,restProps:W(n.props.children.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:(f=(w=n.props)===null||w===void 0?void 0:w.children)===null||f===void 0?void 0:f.ref});o.push({label:n.props.label,icon:n.props.icon,headingTag:n.props.headingTag,periods:y,restProps:W(n.props,["label","icon","headingTag"]),ref:n==null?void 0:n.ref})}}),o};var $t=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const Ft=d.forwardRef((e,o)=>{var{label:n,interval:t,count:l}=e,r=$t(e,["label","interval","count"]);const{setStart:v,endDate:i,startDate:u,direction:s}=H();let m;t==="month"?m=s==="left"?Ke(i,l):J(u,l):m=s==="left"?it(i,l):K(u,l);const p=s==="left"?Q(u,m):Q(i,m);return c.createElement(ie,{as:"li"},c.createElement("button",Object.assign({type:"button","aria-label":p?"Tilbakestill til initiell tidsperspektiv":`Zoom tidslinjen ${I(m,"dd.MM.yyyy")} til ${I(i,"dd.MM.yyyy")}`,ref:o},r,{className:"navds-timeline__zoom-button",onClick:()=>{v(m)},"aria-pressed":p}),n))}),Nt=Ft;var kt=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const le=d.forwardRef((e,o)=>{var{className:n,children:t}=e,l=kt(e,["className","children"]);return c.createElement("ul",Object.assign({ref:o,className:Z(n,"navds-timeline__zoom")},l),t)});le.Button=Nt;le.componentType="zoom";const Lt=le;var Zt=globalThis&&globalThis.__rest||function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const V=d.forwardRef((e,o)=>{var{children:n,startDate:t,endDate:l,direction:r="left",axisLabelTemplates:v}=e,i=Zt(e,["children","startDate","endDate","direction","axisLabelTemplates"]);const u=Array.isArray(n),s=d.useRef([]);u||(n=[n]);const m=c.Children.toArray(n).filter(a=>{var h;return((h=a==null?void 0:a.type)===null||h===void 0?void 0:h.componentType)==="row"}),p=c.Children.toArray(n).filter(a=>{var h;return((h=a==null?void 0:a.type)===null||h===void 0?void 0:h.componentType)==="pin"}).map(a=>()=>a),b=c.Children.toArray(n).find(a=>{var h;return((h=a==null?void 0:a.type)===null||h===void 0?void 0:h.componentType)==="zoom"}),w=d.useMemo(()=>At(m),[m]),f=w.map(a=>a!=null&&a.periods?a.periods:[]),y=U(xt({startDate:t,rows:f})),[_,g]=d.useState(y),[T,A]=d.useState(null),[D,P]=d.useState(q(se({endDate:l,rows:f}))),L=q(se({endDate:l,rows:f})),C=wt(w,t??_,l??D,r),$=a=>{if(!(t||l))if(r==="left"){if(Q(a,_)){g(y);return}g(a)}else{if(Q(a,D)){P(L);return}P(a)}},M=a=>{var h,R,N,Y;if(T!==null&&a==="ArrowDown"){for(let x=T+1;x<C.length;x++)if(C[x].periods.find(j=>!!j.children||!!j.onSelectPeriod)){A(x),(R=(h=s.current.find(j=>j.id===x))===null||h===void 0?void 0:h.ref)===null||R===void 0||R.focus();break}return}if(T!==null&&a==="ArrowUp"){for(let x=T-1;x>=0;x--)if(C[x].periods.find(j=>!!j.children||!!j.onSelectPeriod)){A(x),(Y=(N=s.current.find(j=>j.id===x))===null||N===void 0?void 0:N.ref)===null||Y===void 0||Y.focus();break}return}},F=(a,h)=>{let R=s.current;R=R.filter(N=>N.id!==h),R.push({ref:a,id:h}),s.current=R};return c.createElement(Me.Provider,{value:{startDate:t??_,endDate:l??D,direction:r,setStart:a=>$(a),setEndInclusive:a=>P(a),activeRow:T,setActiveRow:a=>M(a),initiate:a=>A(a),addFocusable:F}},c.createElement("div",Object.assign({},i,{ref:o}),c.createElement("div",{className:"navds-timeline"},c.createElement(pt,{templates:v}),p.map((a,h)=>c.createElement(a,{key:`pin-${h}`})),C.map((a,h)=>c.createElement(Te.Provider,{key:`row-${a.id}`,value:{periods:a.periods,id:a.id,active:T===h,index:h}},c.createElement(Ne,Object.assign({},a==null?void 0:a.restProps,{ref:a==null?void 0:a.ref,label:a.label,icon:a.icon,headingTag:a.headingTag}))))),b&&b))});V.Row=Ne;V.Period=Ae;V.Pin=Ct;V.Zoom=Lt;const qt=V;export{qt as Q,Ut as T,Vt as k,Kt as m,Ht as v,Qt as y};
//# sourceMappingURL=Timeline-b88c74bd.js.map
