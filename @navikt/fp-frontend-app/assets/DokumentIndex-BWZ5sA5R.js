import{r as u,l as b,j as n,P as _,b as N}from"./iframe-CmZteKSd.js";import{q,Q as S}from"./index.es-_gx3ED7v.js";import{a as A,u as C}from"./fagsakApi-DQMN_kMv.js";import{å as R,D as B}from"./FaktaKort-Sp1E_NKG.js";import{u as D,B as w,b as E}from"./VStack-DTCeD3GB.js";import{M as m}from"./message-CLb9ApLX.js";import{T as o}from"./Table-D70aZCTm.js";import{a as I}from"./Checkbox-BmQ-Ra-o.js";import{S as U}from"./StarFill-QNO-7Waz.js";import{S as P}from"./SupportHeader-B7t1lAyJ.js";var v=(e=>(e.INN="INN",e.UT="UT",e.NOTAT="N",e))(v||{}),z=function(e,a){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(l[t[r]]=e[t[r]]);return l};const F=u.forwardRef((e,a)=>{var{title:l,titleId:t}=e,r=z(e,["title","titleId"]);let s=D();return s=l?t||"title-"+s:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":s},r),l?u.createElement("title",{id:s},l):null,u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25m1.53 6.78a.75.75 0 0 0-1.06-1.06l-3.5 3.5a.75.75 0 0 0 0 1.06l3.5 3.5a.75.75 0 1 0 1.06-1.06L10.56 12z",clipRule:"evenodd"}))});var M=function(e,a){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(l[t[r]]=e[t[r]]);return l};const H=u.forwardRef((e,a)=>{var{title:l,titleId:t}=e,r=M(e,["title","titleId"]);let s=D();return s=l?t||"title-"+s:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":s},r),l?u.createElement("title",{id:s},l):null,u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25m-.47 5.72a.75.75 0 1 0-1.06 1.06L13.44 12l-2.97 2.97a.75.75 0 1 0 1.06 1.06l3.5-3.5a.75.75 0 0 0 0-1.06z",clipRule:"evenodd"}))});var V=function(e,a){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(l[t[r]]=e[t[r]]);return l};const K=u.forwardRef((e,a)=>{var{title:l,titleId:t}=e,r=V(e,["title","titleId"]);let s=D();return s=l?t||"title-"+s:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":s},r),l?u.createElement("title",{id:s},l):null,u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.293 8.707a.25.25 0 0 0 0-.353l-2.646-2.647a.25.25 0 0 0-.354 0l-3.626 3.626a1 1 0 0 0-.242.391l-1.267 3.802a.25.25 0 0 0 .316.316l3.802-1.267a1 1 0 0 0 .39-.242zm1.06-1.414a.25.25 0 0 0 .354 0L20.5 6.5a2.121 2.121 0 0 0-3-3l-.793.793a.25.25 0 0 0 0 .353zm-4.151-3.616a.25.25 0 0 0-.177-.427H5A1.75 1.75 0 0 0 3.25 5v14c0 .966.784 1.75 1.75 1.75h14A1.75 1.75 0 0 0 20.75 19V8.975a.25.25 0 0 0-.427-.177l-4.595 4.596a2.5 2.5 0 0 1-.978.604l-3.801 1.267c-1.368.456-2.67-.846-2.214-2.214l1.267-3.801a2.5 2.5 0 0 1 .604-.978z",clipRule:"evenodd"}))}),G="_image_1szuw_1",Q="_noDocuments_1szuw_6",$="_kommunikasjonsretning_1szuw_9",J="_openDocumentButton_1szuw_18",g={image:G,noDocuments:Q,kommunikasjonsretning:$,openDocumentButton:J},W=({kommunikasjonsretning:e})=>{const a=b();return e===v.INN?n.jsxs("span",{className:g.kommunikasjonsretning,children:[n.jsx(H,{color:"var(--ax-meta-purple-900)",width:25,height:25,title:a.formatMessage({id:"DocumentList.Motta"})}),n.jsx(m,{id:"DocumentList.Motta"})]}):e===v.UT?n.jsxs("span",{className:g.kommunikasjonsretning,children:[n.jsx(F,{color:"var(--ax-meta-purple-500)",width:25,height:25,title:a.formatMessage({id:"DocumentList.Send"})}),n.jsx(m,{id:"DocumentList.Send"})]}):n.jsxs("span",{className:g.kommunikasjonsretning,children:[n.jsx(K,{color:"var(--ax-neutral-800)",width:25,height:25,title:a.formatMessage({id:"DocumentList.Intern"})}),n.jsx(m,{id:"DocumentList.Intern"})]})},L=({documents:e,behandlingUuid:a,saksnummer:l})=>{const t=b(),[r,s]=u.useState([]),h=i=>s(c=>c.includes(i)?c.filter(f=>f!==i):[...c,i]),[d,p]=u.useState({orderBy:"tidspunkt",direction:"descending"}),O=i=>{p(d&&i===d.orderBy&&d.direction==="descending"?void 0:{orderBy:i,direction:d&&i===d.orderBy&&d.direction==="ascending"?"descending":"ascending"})},x=(i,c,f)=>{const j=i[f],y=c[f];return!j||!y||y<j?-1:y>j?1:0},k=e.slice().sort((i,c)=>d?d.direction==="ascending"?x(c,i,d.orderBy):x(i,c,d.orderBy):1);return e.length===0?n.jsx(w,{size:"small",className:g.noDocuments,children:n.jsx(m,{id:"DocumentList.NoDocuments"})}):n.jsxs(n.Fragment,{children:[r.length>0&&n.jsx(E,{onClick:()=>e.filter(i=>r.includes(i.dokumentId)).forEach(i=>{i&&R(l,i.journalpostId,i.dokumentId,i.tittel??void 0)}),className:g.openDocumentButton,size:"small",variant:"primary",children:n.jsx(m,{id:"DocumentList.LastNedKnapp",values:{antall:r.length}})}),n.jsxs(o,{size:"small",sort:d,onSortChange:i=>O(i),children:[n.jsx(o.Header,{children:n.jsxs(o.Row,{children:[n.jsx(o.HeaderCell,{children:n.jsx(I,{checked:r.length===k.length,indeterminate:r.length>0&&r.length!==k.length,onChange:()=>r.length>0?s([]):s(k.map(({dokumentId:i})=>i)),hideLabel:!0,children:"Velg alle rader"})}),n.jsx(o.ColumnHeader,{sortKey:"kommunikasjonsretning",sortable:!0,children:n.jsx(m,{id:"DocumentList.Direction"})}),n.jsx(o.ColumnHeader,{sortKey:"tittel",sortable:!0,children:n.jsx(m,{id:"DocumentList.DocumentType"})}),n.jsx(o.ColumnHeader,{sortKey:"gjelderFor",sortable:!0,children:n.jsx(m,{id:"DocumentList.Gjelder"})}),n.jsx(o.ColumnHeader,{sortKey:"tidspunkt",sortable:!0,children:n.jsx(m,{id:"DocumentList.DateTime"})})]})}),n.jsx(o.Body,{children:k.map(i=>n.jsxs(o.Row,{children:[n.jsx(o.DataCell,{children:n.jsx(I,{hideLabel:!0,checked:r.includes(i.dokumentId),onChange:()=>h(i.dokumentId),"aria-labelledby":i.tittel??void 0,children:" "})}),n.jsx(o.DataCell,{children:n.jsx(W,{kommunikasjonsretning:i.kommunikasjonsretning})}),n.jsxs(o.DataCell,{scope:"row",children:[i.behandlingUuidList&&a&&i.behandlingUuidList.includes(a)&&n.jsx(U,{className:g.image,title:t.formatMessage({id:"DocumentList.IBruk"})}),n.jsx(B,{saksnummer:l,journalpostId:i.journalpostId,dokumentId:i.dokumentId,dokumentTittel:i.tittel??void 0})]}),n.jsx(o.DataCell,{children:i.gjelderFor}),n.jsx(o.DataCell,{children:i.tidspunkt?n.jsx(q,{dateTimeString:i.tidspunkt}):n.jsx(w,{size:"small",children:n.jsx(m,{id:"DocumentList.IProduksjon"})})})]},i.dokumentId))})]})]})};L.__docgenInfo={description:`DocumentList

Presentasjonskomponent. Viser dokumenter i en liste. Tar også inn en callback-funksjon som blir
trigget når saksbehandler velger et dokument. Finnes ingen dokumenter blir det kun vist en label
som viser at ingen dokumenter finnes på fagsak.`,methods:[],displayName:"DocumentList",props:{documents:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  journalpostId: string;
  dokumentId: string;
  behandlinger: Array<number> | null;
  behandlingUuidList: Array<string> | null;
  tidspunkt: string | null;
  tittel: string | null;
  kommunikasjonsretning: foreldrepenger_dokumentarkiv_Kommunikasjonsretning;
  gjelderFor: string | null;
  arbeidsgiverReferanse: string | null;
}`,signature:{properties:[{key:"journalpostId",value:{name:"string",required:!0}},{key:"dokumentId",value:{name:"string",required:!0}},{key:"behandlinger",value:{name:"union",raw:"Array<number> | null",elements:[{name:"Array",elements:[{name:"number"}],raw:"Array<number>"},{name:"null"}],required:!0}},{key:"behandlingUuidList",value:{name:"union",raw:"Array<string> | null",elements:[{name:"Array",elements:[{name:"string"}],raw:"Array<string>"},{name:"null"}],required:!0}},{key:"tidspunkt",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"tittel",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"kommunikasjonsretning",value:{name:"union",raw:"'INN' | 'UT' | 'NOTAT'",elements:[{name:"literal",value:"'INN'"},{name:"literal",value:"'UT'"},{name:"literal",value:"'NOTAT'"}],required:!0}},{key:"gjelderFor",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"arbeidsgiverReferanse",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:"Dokument[]"},description:""},behandlingUuid:{required:!1,tsType:{name:"string"},description:""},saksnummer:{required:!0,tsType:{name:"string"},description:""}}};const X={"DocumentList.Direction":"Inn/ut","DocumentList.DocumentType":"Dokument","DocumentList.Gjelder":"Gjelder","DocumentList.DateTime":"Dato","DocumentList.NoDocuments":"Det finnes ingen dokumenter på saken","DocumentList.Motta":"Inn","DocumentList.Send":"Ut","DocumentList.Intern":"Intern","DocumentList.IProduksjon":"I bestilling","DocumentList.IBruk":"Brukes i behandlingen","DocumentList.LastNedKnapp":"{antall, plural, one {Åpne # valgt dokument} other {Åpne # valgte dokumenter}}"},Y=N(X),T=e=>n.jsx(_,{value:Y,children:n.jsx(L,{...e})});T.__docgenInfo={description:"",methods:[],displayName:"DokumenterSakIndex",props:{documents:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  journalpostId: string;
  dokumentId: string;
  behandlinger: Array<number> | null;
  behandlingUuidList: Array<string> | null;
  tidspunkt: string | null;
  tittel: string | null;
  kommunikasjonsretning: foreldrepenger_dokumentarkiv_Kommunikasjonsretning;
  gjelderFor: string | null;
  arbeidsgiverReferanse: string | null;
}`,signature:{properties:[{key:"journalpostId",value:{name:"string",required:!0}},{key:"dokumentId",value:{name:"string",required:!0}},{key:"behandlinger",value:{name:"union",raw:"Array<number> | null",elements:[{name:"Array",elements:[{name:"number"}],raw:"Array<number>"},{name:"null"}],required:!0}},{key:"behandlingUuidList",value:{name:"union",raw:"Array<string> | null",elements:[{name:"Array",elements:[{name:"string"}],raw:"Array<string>"},{name:"null"}],required:!0}},{key:"tidspunkt",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"tittel",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"kommunikasjonsretning",value:{name:"union",raw:"'INN' | 'UT' | 'NOTAT'",elements:[{name:"literal",value:"'INN'"},{name:"literal",value:"'UT'"},{name:"literal",value:"'NOTAT'"}],required:!0}},{key:"gjelderFor",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"arbeidsgiverReferanse",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:"Dokument[]"},description:""},saksnummer:{required:!0,tsType:{name:"string"},description:""},behandlingUuid:{required:!1,tsType:{name:"string"},description:""}}};const Z=(e,a)=>e.tidspunkt?a.tidspunkt?a.tidspunkt.localeCompare(e.tidspunkt):-1:1,ee=({behandlingUuid:e,behandlingVersjon:a,saksnummer:l,toggleVisUtvidetBehandlingDetaljerKnapp:t})=>{const r=A(),s=b(),{data:h=[],status:d}=C(r.hentDokumenter(l,e,a));if(d==="pending")return n.jsx(S,{});const p=h.toSorted(Z);return n.jsx(P,{tekst:s.formatMessage({id:"DokumentIndex.Dokumenter"}),antall:p.length,toggleVisUtvidetBehandlingDetaljerKnapp:t,children:n.jsx(T,{documents:p,saksnummer:l,behandlingUuid:e})})};ee.__docgenInfo={description:`DokumentIndex

 Har ansvar for å hente sakens dokumenter fra state og rendre det i en liste.`,methods:[],displayName:"DokumentIndex",props:{saksnummer:{required:!0,tsType:{name:"string"},description:""},behandlingUuid:{required:!1,tsType:{name:"string"},description:""},behandlingVersjon:{required:!1,tsType:{name:"number"},description:""},toggleVisUtvidetBehandlingDetaljerKnapp:{required:!0,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:""}}};export{ee as D,v as K,H as S};
