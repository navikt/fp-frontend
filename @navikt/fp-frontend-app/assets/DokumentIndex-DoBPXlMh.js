import{r as d,l as D,j as e,P as _,b as q}from"./iframe-B7ng0Bm1.js";import{q as A,Q as S}from"./index.es-9MF5b5bq.js";import{a as O,u as C}from"./fagsakApi-tqUhuFWg.js";import{å as B,D as R}from"./FaktaKort-DaETpfCi.js";import{u as w,B as x,b as U}from"./VStack-faXBjZ49.js";import{M as m}from"./message-DVmsG590.js";import{T as o}from"./Table-BAtZGDOa.js";import{a as I}from"./Checkbox-BYqCYqFE.js";import{S as F,a as z}from"./StarFill-DbFrfhN_.js";import{S as E}from"./SupportHeader-BJnpO2tA.js";var v=(n=>(n.INN="INN",n.UT="UT",n.NOTAT="N",n))(v||{}),M=function(n,s){var a={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&s.indexOf(r)<0&&(a[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)s.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(a[r[i]]=n[r[i]]);return a};const P=d.forwardRef((n,s)=>{var{title:a,titleId:r}=n,i=M(n,["title","titleId"]);let l=w();return l=a?r||"title-"+l:void 0,d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":l},i),a?d.createElement("title",{id:l},a):null,d.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25m1.53 6.78a.75.75 0 0 0-1.06-1.06l-3.5 3.5a.75.75 0 0 0 0 1.06l3.5 3.5a.75.75 0 1 0 1.06-1.06L10.56 12z",clipRule:"evenodd"}))});var H=function(n,s){var a={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&s.indexOf(r)<0&&(a[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)s.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(a[r[i]]=n[r[i]]);return a};const V=d.forwardRef((n,s)=>{var{title:a,titleId:r}=n,i=H(n,["title","titleId"]);let l=w();return l=a?r||"title-"+l:void 0,d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":l},i),a?d.createElement("title",{id:l},a):null,d.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.293 8.707a.25.25 0 0 0 0-.353l-2.646-2.647a.25.25 0 0 0-.354 0l-3.626 3.626a1 1 0 0 0-.242.391l-1.267 3.802a.25.25 0 0 0 .316.316l3.802-1.267a1 1 0 0 0 .39-.242zm1.06-1.414a.25.25 0 0 0 .354 0L20.5 6.5a2.121 2.121 0 0 0-3-3l-.793.793a.25.25 0 0 0 0 .353zm-4.151-3.616a.25.25 0 0 0-.177-.427H5A1.75 1.75 0 0 0 3.25 5v14c0 .966.784 1.75 1.75 1.75h14A1.75 1.75 0 0 0 20.75 19V8.975a.25.25 0 0 0-.427-.177l-4.595 4.596a2.5 2.5 0 0 1-.978.604l-3.801 1.267c-1.368.456-2.67-.846-2.214-2.214l1.267-3.801a2.5 2.5 0 0 1 .604-.978z",clipRule:"evenodd"}))}),K="_image_1szuw_1",G="_noDocuments_1szuw_6",Q="_kommunikasjonsretning_1szuw_9",$="_openDocumentButton_1szuw_18",g={image:K,noDocuments:G,kommunikasjonsretning:Q,openDocumentButton:$},J=({kommunikasjonsretning:n})=>{const s=D();return n===v.INN?e.jsxs("span",{className:g.kommunikasjonsretning,children:[e.jsx(z,{color:"var(--ax-meta-purple-900)",width:25,height:25,title:s.formatMessage({id:"DocumentList.Motta"})}),e.jsx(m,{id:"DocumentList.Motta"})]}):n===v.UT?e.jsxs("span",{className:g.kommunikasjonsretning,children:[e.jsx(P,{color:"var(--ax-meta-purple-500)",width:25,height:25,title:s.formatMessage({id:"DocumentList.Send"})}),e.jsx(m,{id:"DocumentList.Send"})]}):e.jsxs("span",{className:g.kommunikasjonsretning,children:[e.jsx(V,{color:"var(--ax-neutral-800)",width:25,height:25,title:s.formatMessage({id:"DocumentList.Intern"})}),e.jsx(m,{id:"DocumentList.Intern"})]})},L=({documents:n,behandlingUuid:s,saksnummer:a})=>{const r=D(),[i,l]=d.useState([]),j=t=>l(c=>c.includes(t)?c.filter(h=>h!==t):[...c,t]),[u,p]=d.useState({orderBy:"tidspunkt",direction:"descending"}),N=t=>{p(u&&t===u.orderBy&&u.direction==="descending"?void 0:{orderBy:t,direction:u&&t===u.orderBy&&u.direction==="ascending"?"descending":"ascending"})},b=(t,c,h)=>{const f=t[h],y=c[h];return!f||!y||y<f?-1:y>f?1:0},k=n.slice().sort((t,c)=>u?u.direction==="ascending"?b(c,t,u.orderBy):b(t,c,u.orderBy):1);return n.length===0?e.jsx(x,{size:"small",className:g.noDocuments,children:e.jsx(m,{id:"DocumentList.NoDocuments"})}):e.jsxs(e.Fragment,{children:[i.length>0&&e.jsx(U,{onClick:()=>n.filter(t=>i.includes(t.dokumentId)).forEach(t=>{t&&B(a,t.journalpostId,t.dokumentId,t.tittel??void 0)}),className:g.openDocumentButton,size:"small",variant:"primary",children:e.jsx(m,{id:"DocumentList.LastNedKnapp",values:{antall:i.length}})}),e.jsxs(o,{size:"small",sort:u,onSortChange:t=>N(t),children:[e.jsx(o.Header,{children:e.jsxs(o.Row,{children:[e.jsx(o.HeaderCell,{children:e.jsx(I,{checked:i.length===k.length,indeterminate:i.length>0&&i.length!==k.length,onChange:()=>i.length>0?l([]):l(k.map(({dokumentId:t})=>t)),hideLabel:!0,children:"Velg alle rader"})}),e.jsx(o.ColumnHeader,{sortKey:"kommunikasjonsretning",sortable:!0,children:e.jsx(m,{id:"DocumentList.Direction"})}),e.jsx(o.ColumnHeader,{sortKey:"tittel",sortable:!0,children:e.jsx(m,{id:"DocumentList.DocumentType"})}),e.jsx(o.ColumnHeader,{sortKey:"gjelderFor",sortable:!0,children:e.jsx(m,{id:"DocumentList.Gjelder"})}),e.jsx(o.ColumnHeader,{sortKey:"tidspunkt",sortable:!0,children:e.jsx(m,{id:"DocumentList.DateTime"})})]})}),e.jsx(o.Body,{children:k.map(t=>e.jsxs(o.Row,{children:[e.jsx(o.DataCell,{children:e.jsx(I,{hideLabel:!0,checked:i.includes(t.dokumentId),onChange:()=>j(t.dokumentId),"aria-labelledby":t.tittel??void 0,children:" "})}),e.jsx(o.DataCell,{children:e.jsx(J,{kommunikasjonsretning:t.kommunikasjonsretning})}),e.jsxs(o.DataCell,{scope:"row",children:[t.behandlingUuidList&&s&&t.behandlingUuidList.includes(s)&&e.jsx(F,{className:g.image,title:r.formatMessage({id:"DocumentList.IBruk"})}),e.jsx(R,{saksnummer:a,journalpostId:t.journalpostId,dokumentId:t.dokumentId,dokumentTittel:t.tittel??void 0})]}),e.jsx(o.DataCell,{children:t.gjelderFor}),e.jsx(o.DataCell,{children:t.tidspunkt?e.jsx(A,{dateTimeString:t.tidspunkt}):e.jsx(x,{size:"small",children:e.jsx(m,{id:"DocumentList.IProduksjon"})})})]},t.dokumentId))})]})]})};L.__docgenInfo={description:`DocumentList

Presentasjonskomponent. Viser dokumenter i en liste. Tar også inn en callback-funksjon som blir
trigget når saksbehandler velger et dokument. Finnes ingen dokumenter blir det kun vist en label
som viser at ingen dokumenter finnes på fagsak.`,methods:[],displayName:"DocumentList",props:{documents:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  journalpostId: string;
  dokumentId: string;
  behandlinger: Array<number> | null;
  behandlingUuidList: Array<string> | null;
  tidspunkt: string | null;
  tittel: string | null;
  kommunikasjonsretning: foreldrepenger_dokumentarkiv_Kommunikasjonsretning;
  gjelderFor: string | null;
  arbeidsgiverReferanse: string | null;
}`,signature:{properties:[{key:"journalpostId",value:{name:"string",required:!0}},{key:"dokumentId",value:{name:"string",required:!0}},{key:"behandlinger",value:{name:"union",raw:"Array<number> | null",elements:[{name:"Array",elements:[{name:"number"}],raw:"Array<number>"},{name:"null"}],required:!0}},{key:"behandlingUuidList",value:{name:"union",raw:"Array<string> | null",elements:[{name:"Array",elements:[{name:"string"}],raw:"Array<string>"},{name:"null"}],required:!0}},{key:"tidspunkt",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"tittel",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"kommunikasjonsretning",value:{name:"union",raw:"'INN' | 'UT' | 'NOTAT'",elements:[{name:"literal",value:"'INN'"},{name:"literal",value:"'UT'"},{name:"literal",value:"'NOTAT'"}],required:!0}},{key:"gjelderFor",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"arbeidsgiverReferanse",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:"Dokument[]"},description:""},behandlingUuid:{required:!1,tsType:{name:"string"},description:""},saksnummer:{required:!0,tsType:{name:"string"},description:""}}};const W={"DocumentList.Direction":"Inn/ut","DocumentList.DocumentType":"Dokument","DocumentList.Gjelder":"Gjelder","DocumentList.DateTime":"Dato","DocumentList.NoDocuments":"Det finnes ingen dokumenter på saken","DocumentList.Motta":"Inn","DocumentList.Send":"Ut","DocumentList.Intern":"Intern","DocumentList.IProduksjon":"I bestilling","DocumentList.IBruk":"Brukes i behandlingen","DocumentList.LastNedKnapp":"{antall, plural, one {Åpne # valgt dokument} other {Åpne # valgte dokumenter}}"},X=q(W),T=n=>e.jsx(_,{value:X,children:e.jsx(L,{...n})});T.__docgenInfo={description:"",methods:[],displayName:"DokumenterSakIndex",props:{documents:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  journalpostId: string;
  dokumentId: string;
  behandlinger: Array<number> | null;
  behandlingUuidList: Array<string> | null;
  tidspunkt: string | null;
  tittel: string | null;
  kommunikasjonsretning: foreldrepenger_dokumentarkiv_Kommunikasjonsretning;
  gjelderFor: string | null;
  arbeidsgiverReferanse: string | null;
}`,signature:{properties:[{key:"journalpostId",value:{name:"string",required:!0}},{key:"dokumentId",value:{name:"string",required:!0}},{key:"behandlinger",value:{name:"union",raw:"Array<number> | null",elements:[{name:"Array",elements:[{name:"number"}],raw:"Array<number>"},{name:"null"}],required:!0}},{key:"behandlingUuidList",value:{name:"union",raw:"Array<string> | null",elements:[{name:"Array",elements:[{name:"string"}],raw:"Array<string>"},{name:"null"}],required:!0}},{key:"tidspunkt",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"tittel",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"kommunikasjonsretning",value:{name:"union",raw:"'INN' | 'UT' | 'NOTAT'",elements:[{name:"literal",value:"'INN'"},{name:"literal",value:"'UT'"},{name:"literal",value:"'NOTAT'"}],required:!0}},{key:"gjelderFor",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"arbeidsgiverReferanse",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}}]}}],raw:"Dokument[]"},description:""},saksnummer:{required:!0,tsType:{name:"string"},description:""},behandlingUuid:{required:!1,tsType:{name:"string"},description:""}}};const Y=(n,s)=>n.tidspunkt?s.tidspunkt?s.tidspunkt.localeCompare(n.tidspunkt):-1:1,Z=({behandlingUuid:n,behandlingVersjon:s,saksnummer:a,toggleVisUtvidetBehandlingDetaljerKnapp:r})=>{const i=O(),l=D(),{data:j=[],status:u}=C(i.hentDokumenter(a,n,s));if(u==="pending")return e.jsx(S,{});const p=j.toSorted(Y);return e.jsx(E,{tekst:l.formatMessage({id:"DokumentIndex.Dokumenter"}),antall:p.length,toggleVisUtvidetBehandlingDetaljerKnapp:r,children:e.jsx(T,{documents:p,saksnummer:a,behandlingUuid:n})})};Z.__docgenInfo={description:`DokumentIndex

 Har ansvar for å hente sakens dokumenter fra state og rendre det i en liste.`,methods:[],displayName:"DokumentIndex",props:{saksnummer:{required:!0,tsType:{name:"string"},description:""},behandlingUuid:{required:!1,tsType:{name:"string"},description:""},behandlingVersjon:{required:!1,tsType:{name:"number"},description:""},toggleVisUtvidetBehandlingDetaljerKnapp:{required:!0,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:""}}};export{Z as D,v as K};
