import{k as Un,Z as Jv,u as Gn,H as te,B as _,L as G,a0 as Bk,aa as Zv,ab as Wv,w as Xv,T as Qv,I as eb,J as nb,K as rb,Q as tb,U as cg,ac as ib,D as le,y as sb,z as ab,A as lb,E as db,x as vg,j as l,a as X,G as Zs,ad as ze,N as Be,t as Oe,P as Ye,b as ie,c as ne,g as z,d as x,a6 as Ce,f as ee,ae as ye,W as de,M as $i,a8 as Ok,o as hs,X as Cn,af as Vk,ag as ob,ah as js,ai as gb,aj as St,e as ub}from"./index.es-d91a6690.js";import{a_ as mb,n as qr,H as se,z as jr,B as we,f as qe,O as He,C as pe,a as H,c as tr,d as xn,M as $k,w as sn,Z as yn,i as Xr,k as Tn,I as En,s as Dk,N as Gk,y as qd,aL as Is,K as Yn,a0 as Qt,V as Mk,T as ue,a$ as et,v as mt,aA as kb,b0 as fb,r as Di,q as hl,b1 as Kn,x as Me,u as me,b2 as pb,b3 as en,e as Ws,b4 as cb,au as Xs,b5 as vb,b6 as bg,F as Er,b7 as bb,b as kt,b8 as hb,aM as jb,g as Lk,l as Hd,h as Qs,m as ea,at as W,b9 as On,ba as Kk,P as Jd,bb as Ib,bc as Ab,G as wk,aI as xb,j as yb,L as Tb,_ as Eb}from"./AppIndex.stories-ce6903b4.js";import{r as j,R as M}from"./index-6d8bab86.js";import{n as _b,f as na,L as an,x as Je,H as q,F as f,I as Ge,C as Re,g as A,z as Uk,k as Sb,V as ei,A as _e,j as hg,E as _r,h as Zd,m as Rb,b as Wd,R as ni,i as ri,G as Xd,c as ra,a as xe,M as D,B as y,l as Ck,o as Pe,Y as ft,e as nt,T as Qd,u as Nb,q as Fb,d as eo,p as Pb,X as Bb}from"./index.es-39c97233.js";import{F as Ir}from"./VergeFaktaInitPanel-2293b573.js";import{a as rt,c as Ob,V as no,P as pt,b as Vb}from"./OverstyringPanel-6ce08f17.js";import{c as Yk}from"./bind-a91db82b.js";import{Q as ro,V as Ar,c as zk,O as $b,s as Db}from"./VedtakProsessIndex-5e97ff43.js";import{v as Mr,E as Ze,A as F,s as kn,I as ke,R as As,q as In,N as Gb,B as P,H as ta,M as mn,Q as ti,_ as xs,k as qk,a as Hk,n as Jk,p as Mb,y as Zk,i as Lb,e as Kb,z as Wk,C as be,J as wn,x as jg,w as wb,g as Zn,c as Ig,X as Ub}from"./index.es-bf42e136.js";import{T as Cb,Q as Ue,v as Yb,y as zb,m as qb,k as Hb}from"./Timeline-6ae8dc8d.js";import{E as Dn,s as Jb}from"./index.es-156243f8.js";import{v as Xk,P as to}from"./ProsessDefaultInitPanel-3be292c4.js";import{a as Zb}from"./uttakPeriodeType-fa95c937.js";const io=j.createContext({headingSize:"small",size:"medium",openItems:[],mounted:!1});var Wb=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const so=j.createContext(null),Xb=j.forwardRef((e,n)=>{var{children:r,className:t,open:i,defaultOpen:s=!1}=e,a=Wb(e,["children","className","open","defaultOpen"]);const[d,g]=j.useState(s),m=j.useContext(io),[k,p]=j.useState(s),c=j.useRef(!(i||s)),b=()=>{if(i===void 0){const I=!k;p(I),g(I)}else g(!i);c.current=!0};return m!=null&&m.mounted||console.error("<Accordion.Item> has to be used within an <Accordion>"),M.createElement("div",Object.assign({className:Un("navds-accordion__item",t,{"navds-accordion__item--open":i??d,"navds-accordion__item--neutral":(m==null?void 0:m.variant)==="neutral","navds-accordion__item--no-animation":!c.current}),ref:n},Jv(a,["onClick"])),M.createElement(so.Provider,{value:{open:i??d,toggleOpen:b}},r))}),Qb=Xb;var eh=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const nh=j.forwardRef((e,n)=>{var{children:r,className:t}=e,i=eh(e,["children","className"]);const s=j.useContext(so);return s===null?(console.error("<Accordion.Content> has to be used within an <Accordion.Item>"),null):M.createElement(_b,Object.assign({},i,{as:"div",ref:n,className:Un("navds-accordion__content",{"navds-accordion__content--closed":!s.open},t),"aria-hidden":!s.open||void 0}),r)}),rh=nh;var th=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const ih=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=th(e,["title","titleId"]);let s=Gn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.545 2.404a.75.75 0 0 1 .505-.152.757.757 0 0 1 .05-.002H19a.75.75 0 0 1 .75.75v18a.75.75 0 0 1-1.5 0V3.75H10.6l5.597 1.526A.75.75 0 0 1 16.75 6v15a.75.75 0 0 1-1.5 0V6.573l-9.5-2.591V21a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .295-.596ZM12.75 11.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z",fill:"currentColor"}))}),sh=ih;var ah=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const lh=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=ah(e,["title","titleId"]);let s=Gn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.311 4.619a8.253 8.253 0 0 0 2.051 15.469v-.326c0-1.26-.985-2.25-2.414-2.25-.808 0-1.546-.197-2.079-.718-.535-.524-.733-1.249-.733-2.024 0-1.203.638-2.164 1.492-2.799.845-.629 1.942-.974 3.008-.974.736 0 1.381.187 1.899.342l.04.012c.534.16.888.267 1.225.267.003 0 .008 0 .02-.005a.268.268 0 0 0 .065-.038.976.976 0 0 0 .23-.281c.17-.29.27-.669.27-.965 0-.013-.014-.124-.191-.332a3.45 3.45 0 0 0-.713-.599 5.375 5.375 0 0 0-.876-.467 3.096 3.096 0 0 0-.307-.11c-.02.044-.044.1-.07.169-.031.08-.06.163-.093.257v.001h-.001c-.032.09-.067.192-.105.288-.061.16-.176.444-.383.65a.868.868 0 0 1-.828.242.964.964 0 0 1-.52-.351 2.938 2.938 0 0 1-.288-.497l-.023-.046a3.321 3.321 0 0 0-.144-.269.428.428 0 0 0-.13.05.903.903 0 0 0-.222.208 4.357 4.357 0 0 0-.054.066 4.055 4.055 0 0 1-.319.365 1.268 1.268 0 0 1-.888.376c-.34 0-.735-.074-1.076-.32-.36-.26-.577-.652-.644-1.116-.079-.548.155-1.12.403-1.559A6.565 6.565 0 0 1 6.97 5.97c.172-.172.355-.33.513-.467l.101-.087c.189-.165.349-.311.493-.48a2.58 2.58 0 0 0 .234-.317Zm1.86-.665c-.21.882-.548 1.484-.956 1.96a6.14 6.14 0 0 1-.646.633l-.122.105c-.155.135-.287.249-.417.378-.331.332-.62.705-.811 1.043a2.175 2.175 0 0 0-.193.43.786.786 0 0 0-.03.134.221.221 0 0 0-.001.043.3.3 0 0 0 .029.104c.004.007.006.008.007.009.005.003.032.02.095.03.02-.022.039-.046.065-.079l.152-.187c.135-.16.33-.37.61-.535.29-.17.636-.272 1.047-.272.453 0 .758.264.927.461.064-.14.144-.29.245-.424.17-.225.48-.505.952-.505.331 0 .722.125 1.053.262.36.149.757.356 1.13.601.368.243.74.54 1.027.878.277.325.552.774.552 1.306 0 .57-.175 1.21-.477 1.724-.286.486-.817 1.065-1.61 1.065-.566 0-1.123-.169-1.581-.308l-.115-.034c-.517-.156-.973-.28-1.467-.28-.762 0-1.54.253-2.113.679-.565.42-.887.97-.887 1.595 0 .537.135.808.283.952.15.147.443.29 1.03.29 2.18 0 3.913 1.588 3.913 3.75v.487l.138.001a8.22 8.22 0 0 0 3.416-.738.426.426 0 0 0 .058-.149c.015-.084.02-.236-.009-.63v-.006l-.01-.113c-.01-.135-.027-.327-.027-.5 0-.754.396-1.3.892-1.856.108-.124.184-.216.237-.287-.075-.048-.162-.1-.262-.161l-.003-.003a16.024 16.024 0 0 1-.45-.28c-.308-.203-.667-.464-.954-.79-.29-.332-.55-.782-.55-1.345 0-.624.28-1.216.66-1.645.376-.424.946-.793 1.613-.793.845 0 1.397.465 1.691.713.037.031.07.06.1.082l.007.006.169.138c.207.168.365.297.49.394.209-.139.56-.337 1.024-.337h.158a8.25 8.25 0 0 0-10.08-7.996Zm9.952 9.496a8.249 8.249 0 0 1-3.164 5.144l-.015-.181c-.009-.108-.016-.192-.016-.299 0-.158.047-.338.513-.86l.003-.003c.44-.5.726-.897.726-1.469 0-.372-.23-.618-.322-.71a2.508 2.508 0 0 0-.377-.296c-.119-.079-.253-.16-.38-.238l-.018-.011a14.821 14.821 0 0 1-.408-.255c-.274-.18-.498-.353-.649-.525-.147-.168-.178-.28-.178-.355 0-.185.094-.437.283-.65.192-.217.384-.288.49-.288.274 0 .403.104.711.353l.144.115.157.128c.261.213.473.385.634.507.097.072.198.145.298.202.071.041.262.148.506.148a.95.95 0 0 0 .38-.082c.083-.036.154-.08.202-.11l.132-.092.006-.005.098-.069c.131-.089.184-.099.213-.099h.03ZM2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm6.53-2.821a.03.03 0 0 0-.004-.005l.001.002.004.003Z",fill:"currentColor"}))}),dh=lh;var oh=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const gh=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=oh(e,["title","titleId"]);let s=Gn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 3.25a.25.25 0 0 1 .25.25v4c0 .69.56 1.25 1.25 1.25h4a.25.25 0 0 1 .25.25v10.5c0 .69-.56 1.25-1.25 1.25h-11c-.69 0-1.25-.56-1.25-1.25v-15c0-.69.56-1.25 1.25-1.25H13Zm2.177.866a.25.25 0 0 0-.427.177V7c0 .138.112.25.25.25h2.707a.25.25 0 0 0 .177-.427l-2.707-2.707Z",fill:"currentColor"}))}),Qk=gh;var uh=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const mh=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=uh(e,["title","titleId"]);let s=Gn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.525 2.167c-.754-.12-1.61.093-2.525.826-.914-.732-1.768-.947-2.522-.829-.835.132-1.354.65-1.503.8l-.005.006-.006.006c-.15.149-.669.667-.8 1.502-.141.898.19 1.937 1.306 3.052l3 3a.75.75 0 0 0 1.06 0l3-3c1.116-1.116 1.445-2.158 1.303-3.055-.133-.836-.651-1.354-.797-1.5l-.006-.005-.005-.006c-.146-.146-.664-.664-1.5-.797ZM9.03 4.03c.113-.112.341-.33.682-.384.289-.046.873 0 1.758.884a.75.75 0 0 0 1.06 0c.884-.884 1.47-.928 1.76-.881.343.054.572.273.68.381.107.108.327.337.381.68.046.29.003.876-.881 1.76L12 8.94 9.53 6.47C8.645 5.584 8.6 5 8.646 4.712c.053-.34.272-.57.384-.682ZM21.75 15.22c0-1.797-1.918-2.943-3.5-2.092l-2.633 1.416a2.477 2.477 0 0 0-.668-1.513c-.466-.49-1.138-.78-1.949-.78h-3c-.095 0-.259-.045-.535-.178-.105-.05-.208-.104-.321-.164l-.084-.044a6.302 6.302 0 0 0-.456-.22c-.563-.238-1.386-.394-2.604-.394-1.754 0-2.753.755-3.268 1.614a3.467 3.467 0 0 0-.482 1.614V14.5L3 14.5h-.75V19c0 .323.207.61.513.712l3 1A.75.75 0 0 0 6 20.75h9.298a2.75 2.75 0 0 0 1.718-.603l3.843-3.073c.563-.451.891-1.134.891-1.855ZM13 17.25c.518 0 .98-.118 1.366-.331l4.595-2.47a.875.875 0 0 1 .96 1.453l-3.842 3.074a1.25 1.25 0 0 1-.78.274H6.121l-2.372-.79v-3.958l.003-.045a1.968 1.968 0 0 1 .265-.82c.235-.392.736-.887 1.982-.887 1.11 0 1.711.145 2.02.276.097.04.207.096.346.168l.073.038c.114.06.245.129.375.192.303.146.729.326 1.186.326h3c.439 0 .705.148.863.314a.992.992 0 0 1 .262.686c0 .263-.094.51-.262.686-.158.166-.424.314-.863.314h-3a.75.75 0 0 0 0 1.5h3Z",fill:"currentColor"}))}),Rt=mh;var kh=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const fh=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=kh(e,["title","titleId"]);let s=Gn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.998 6.75a1.248 1.248 0 1 0 0 2.495 1.248 1.248 0 0 0 0-2.495ZM5.25 7.998a2.748 2.748 0 1 1 5.495 0 2.748 2.748 0 0 1-5.495 0Zm.22 10.532a.75.75 0 0 1 0-1.06l12-12a.75.75 0 1 1 1.06 1.06l-12 12a.75.75 0 0 1-1.06 0Zm9.28-2.532a1.248 1.248 0 1 1 2.495 0 1.248 1.248 0 0 1-2.495 0Zm1.248-2.748a2.748 2.748 0 1 0 0 5.495 2.748 2.748 0 0 0 0-5.495Z",fill:"currentColor"}))}),ph=fh;var ch=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const vh=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=ch(e,["title","titleId"]);let s=Gn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.75a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5ZM8.75 5.5a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0Zm-1 7.5c0-1.987 1.912-3.75 4.25-3.75s4.25 1.763 4.25 3.75v8a.75.75 0 0 1-1.5 0v-8c0-1.013-1.088-2.25-2.75-2.25S9.25 11.987 9.25 13v1.75H8.5c-.793 0-1.32.287-1.664.719-.364.454-.586 1.145-.586 2.031 0 .886.222 1.577.586 2.032.345.431.871.718 1.664.718a.75.75 0 0 1 0 1.5c-1.207 0-2.18-.463-2.836-1.282-.636-.795-.914-1.854-.914-2.968 0-1.114.278-2.173.914-2.969.513-.64 1.222-1.064 2.086-1.217V13Zm2.634 3.116a1.25 1.25 0 0 0-1.768 1.768l1 1 .884.884.884-.884 1-1a1.25 1.25 0 0 0-1.768-1.768l-.116.116-.116-.116Z",fill:"currentColor"}))}),bh=vh;var hh=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const jh=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=hh(e,["title","titleId"]);let s=Gn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.116 2.823a1.25 1.25 0 0 1 1.768 0l3.793 3.793a1.25 1.25 0 0 1 0 1.768L10.06 10 14 13.94l1.616-1.617a1.25 1.25 0 0 1 1.768 0l3.793 3.793a1.25 1.25 0 0 1 0 1.768l-2.781 2.78a2.606 2.606 0 0 1-2.811.578A23.025 23.025 0 0 1 2.758 8.415a2.606 2.606 0 0 1 .577-2.81l2.781-2.782Z",fill:"currentColor"}))}),ef=jh;var Ih=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Ah=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Ih(e,["title","titleId"]);let s=Gn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 3.75c-.14 0-.25.112-.25.249V9c0 1.15.23 1.956.546 2.526.315.567.738.94 1.193 1.193.94.522 2.01.531 2.511.531.5 0 1.572-.009 2.51-.53a3.008 3.008 0 0 0 1.194-1.194c.317-.57.546-1.376.546-2.526V3.999A.249.249 0 0 0 14 3.75h-2a.75.75 0 0 1 0-1.5h2c.965 0 1.75.781 1.75 1.749V9c0 1.35-.27 2.419-.735 3.255a4.506 4.506 0 0 1-1.776 1.776c-.883.49-1.819.646-2.489.696V19.5a.75.75 0 0 0 1.5 0V19c0-1.288.886-2.37 2.082-2.668a2.751 2.751 0 1 1 .07 1.57A1.25 1.25 0 0 0 13.75 19v.5a2.25 2.25 0 0 1-4.5 0v-4.773c-.67-.05-1.606-.206-2.49-.696a4.507 4.507 0 0 1-1.775-1.776C4.521 11.419 4.25 10.35 4.25 9V3.999c0-.968.785-1.749 1.75-1.749h2a.75.75 0 0 1 0 1.5H6ZM15.75 17a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0Z",fill:"currentColor"}))}),xh=Ah;var yh=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Th=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=yh(e,["title","titleId"]);let s=Gn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 4.75c-.69 0-1.25.56-1.25 1.25v.25h6.5V6c0-.69-.56-1.25-1.25-1.25h-4Zm6.75 1.5V6A2.75 2.75 0 0 0 14 3.25h-4A2.75 2.75 0 0 0 7.25 6v.25H4.5a.75.75 0 0 0 0 1.5h.805l.876 11.384a1.75 1.75 0 0 0 1.745 1.616h8.148a1.75 1.75 0 0 0 1.745-1.616l.875-11.384h.806a.75.75 0 0 0 0-1.5h-2.75Zm-6 4.25a.75.75 0 0 0-1.5 0v6a.75.75 0 0 0 1.5 0v-6ZM14 9.75a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 .75-.75Z",fill:"currentColor"}))}),Eh=Th;var _h=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Sh=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=_h(e,["title","titleId"]);let s=Gn();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.67 2.665a.75.75 0 0 0-.867-.389L4.9 5.25H4A1.75 1.75 0 0 0 2.25 7v11c0 .966.784 1.75 1.75 1.75h15A1.75 1.75 0 0 0 20.75 18v-2.418c.591-.281 1-.884 1-1.582v-3c0-.698-.409-1.3-1-1.582V7A1.75 1.75 0 0 0 19 5.25h-1.037l-1.292-2.585Zm-.384 2.585-.682-1.365L10.6 5.25h5.687ZM3.75 7A.25.25 0 0 1 4 6.75h15a.25.25 0 0 1 .25.25v2.25h-3.897V10v-.75h-.02a1.944 1.944 0 0 0-.138.007 3.52 3.52 0 0 0-1.37.393 2.856 2.856 0 0 0-1.093 1.006c-.305.486-.482 1.097-.482 1.844 0 .747.177 1.358.482 1.844.304.483.706.8 1.093 1.006a3.518 3.518 0 0 0 1.508.4H15.352v-.749.749h3.898V18a.25.25 0 0 1-.25.25H4a.25.25 0 0 1-.25-.25V7Zm11.603 3.75H20a.25.25 0 0 1 .25.25v3a.25.25 0 0 1-.25.25h-4.647a1.985 1.985 0 0 1-.237-.027 2.023 2.023 0 0 1-.588-.198 1.356 1.356 0 0 1-.525-.478c-.136-.218-.253-.544-.253-1.047 0-.503.117-.83.253-1.047.138-.22.323-.371.525-.478a2.023 2.023 0 0 1 .825-.225Zm-.603 1.75a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 0 1.5h-.01a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))}),Nt=Sh;var Rh=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Nh=j.forwardRef((e,n)=>{var r,{children:t,className:i,onClick:s}=e,a=Rh(e,["children","className","onClick"]);const d=j.useContext(so),g=j.useContext(io);return d===null?(console.error("<Accordion.Header> has to be used within an <Accordion.Item>, which in turn must be within an <Accordion>"),null):M.createElement("button",Object.assign({ref:n},a,{className:Un("navds-accordion__header",i),onClick:m=>{d.toggleOpen(),s&&s(m)},"aria-expanded":d.open,type:"button"}),M.createElement("span",{className:"navds-accordion__icon-wrapper"},M.createElement(na,{className:"navds-accordion__header-chevron",title:"Vis mer","aria-hidden":!0})),M.createElement(te,{size:(r=g==null?void 0:g.headingSize)!==null&&r!==void 0?r:"small",as:"span",className:"navds-accordion__header-content"},t))}),Fh=Nh;var Ph=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const ia=j.forwardRef((e,n)=>{var{className:r,variant:t="default",headingSize:i="small",size:s="medium",indent:a=!0}=e,d=Ph(e,["className","variant","headingSize","size","indent"]);return M.createElement(io.Provider,{value:{variant:t,headingSize:i,size:s,mounted:!0}},M.createElement("div",Object.assign({},d,{className:Un("navds-accordion",r,`navds-accordion--${s}`,{"navds-accordion--indent":a}),ref:n})))});ia.Header=Fh;ia.Content=rh;ia.Item=Qb;const Ke=ia,jl=j.createContext({listType:"ul",isNested:null,size:"medium"});var Bh=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const nf=j.forwardRef((e,n)=>{var{className:r,children:t,title:i,icon:s}=e,a=Bh(e,["className","children","title","icon"]);const{listType:d,size:g}=j.useContext(jl);return d==="ol"&&s&&console.warn("<List />: Icon prop is not supported for ordered lists. Please remove the icon prop."),M.createElement("li",Object.assign({},a,{ref:n,className:Un("navds-list__item",r)}),d==="ul"&&M.createElement("div",{className:Un({"navds-list__item-marker--icon":s,"navds-list__item-marker--bullet":!s})},s||M.createElement("svg",{width:"6",height:"6",viewBox:"0 0 6 6",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,focusable:!1,role:"img"},M.createElement("rect",{width:"6",height:"6",rx:"3",fill:"currentColor"}))),M.createElement(_,{as:"div",size:g,className:"navds-list__item-content"},i&&M.createElement(G,{as:"p",size:g},i),t))});nf.displayName="List.Item";var Oh=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const rf=j.forwardRef((e,n)=>{var r,{children:t,className:i,as:s="ul",title:a,description:d,headingTag:g="h3",size:m}=e,k=Oh(e,["children","className","as","title","description","headingTag","size"]);const p=Bk(),{isNested:c,size:b}=j.useContext(jl),I=(r=m??b)!==null&&r!==void 0?r:"medium";return M.createElement(jl.Provider,{value:{listType:s,isNested:c!==null,size:I}},M.createElement("div",Object.assign({},k,{ref:n,className:Un("navds-list",`navds-list--${I}`,i,{"navds-list--nested":c!==null})}),a&&M.createElement(te,{id:`tittel-${p}`,size:I==="medium"?"small":"xsmall",as:g},a),d&&M.createElement(_,{size:I,id:`description-${p}`},d),M.createElement(s,{"aria-labelledby":a&&`tittel-${p}`,"aria-describedby":d&&`description-${p}`},t)))});rf.Item=nf;const re=rf;var Vh=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const $h=j.forwardRef((e,n)=>{var r,{children:t,className:i,arrow:s=!0,placement:a="top",open:d,defaultOpen:g=!1,offset:m,content:k,delay:p=150,id:c,keys:b,maxChar:I=80}=e,T=Vh(e,["children","className","arrow","placement","open","defaultOpen","offset","content","delay","id","keys","maxChar"]);const[R,S]=j.useState(g),N=j.useRef(null),E=j.useContext(Zv),O=(r=Wv())===null||r===void 0?void 0:r.rootElement,$=E?E.ref.current:O,{x:V,y:L,strategy:Z,context:J,placement:C,middlewareData:{arrow:{x:B,y:U}={},hide:{referenceHidden:K}={}},refs:w}=Xv({placement:a,open:d??R,onOpenChange:Fe=>S(Fe),middleware:[sb(m||(s?10:2)),ab(),lb({padding:5,fallbackPlacements:["bottom","top"]}),db({element:N,padding:5})],whileElementsMounted:E?(Fe,Ie,ce)=>vg(Fe,Ie,ce,{animationFrame:!0}):vg,strategy:E?"fixed":void 0}),{getReferenceProps:Q,getFloatingProps:ve}=Qv([eb(J,{handleClose:nb(),restMs:p}),rb(J),tb(J)]),Ne=Bk(c),Le=j.useMemo(()=>cg([n,w.setFloating]),[w.setFloating,n]),Nn=j.useMemo(()=>cg([t.ref,w.setReference]),[t,w.setReference]);return!t||(t==null?void 0:t.type)===M.Fragment||t===M.Fragment?(console.error("<Tooltip> children needs to be a single ReactElement and not: <React.Fragment/> | <></>"),null):((k==null?void 0:k.length)>I&&(d??R)&&console.warn(`Because of strict accessibility concers we encourage all Tooltips to have less than 80 characters. Can be overwritten with the maxChar-prop

Length:${k.length}
Tooltip-content: ${k}`),M.createElement(M.Fragment,null,j.cloneElement(t,Q(Object.assign(Object.assign({},t.props),{ref:Nn,"aria-describedby":d??R?Un(Ne,t==null?void 0:t.props["aria-describedby"]):t==null?void 0:t.props["aria-describedby"]}))),M.createElement(ib,{root:$},(d??R)&&M.createElement("div",Object.assign({},ve(Object.assign(Object.assign({},T),{ref:Le,style:{position:Z,top:L??0,left:V??0,visibility:K?"hidden":"visible"},role:"tooltip",id:Ne,className:Un("navds-tooltip","navds-detail navds-detail--small",i)})),{"data-side":C}),k,b&&M.createElement("span",{className:"navds-tooltip__keys"},b.map(Fe=>M.createElement(le,{size:"small",as:"kbd",key:Fe,className:"navds-tooltip__key"},Fe))),s&&M.createElement("div",{ref:Fe=>{N.current=Fe},className:"navds-tooltip__arrow",style:{left:B!=null?`${B}px`:"",top:U!=null?`${U}px`:"",right:"",bottom:"",[{top:"bottom",right:"left",bottom:"top",left:"right"}[C]]:"-3.5px"}})))))}),Dh=$h;var Ct=(e=>(e.MANGLENDE_INNTEKTSMELDING="MANGLENDE_INNTEKTSMELDING",e.INNTEKTSMELDING_UTEN_ARBEIDSFORHOLD="INNTEKTSMELDING_UTEN_ARBEIDSFORHOLD",e.PERMISJON_UTEN_SLUTTDATO="PERMISJON_UTEN_SLUTTDATO",e))(Ct||{});const Qn={KUN_YTELSE:"KUN_YTELSE",ARBEIDSTAKER:"AT",FRILANSER:"FL",SELVSTENDIG_NAERINGSDRIVENDE:"SN",KOMBINERT_AT_FL:"AT_FL",KOMBINERT_AT_SN:"AT_SN",KOMBINERT_FL_SN:"FL_SN",KOMBINERT_AT_FL_SN:"AT_FL_SN",DAGPENGER:"DP",ARBEIDSAVKLARINGSPENGER:"AAP",MILITAER_ELLER_SIVIL:"MS",BRUKERS_ANDEL:"BA",UDEFINERT:"-"};var ae=(e=>(e.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_INNTEKTSMELDING="KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_INNTEKTSMELDING",e.FORTSETT_UTEN_INNTEKTSMELDING="FORTSETT_UTEN_INNTEKTSMELDING",e.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_ARBEIDSFORHOLD="KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_ARBEIDSFORHOLD",e.IKKE_OPPRETT_BASERT_PÅ_INNTEKTSMELDING="IKKE_OPPRETT_BASERT_PÅ_INNTEKTSMELDING",e.OPPRETT_BASERT_PÅ_INNTEKTSMELDING="OPPRETT_BASERT_PÅ_INNTEKTSMELDING",e.MANUELT_OPPRETTET_AV_SAKSBEHANDLER="MANUELT_OPPRETTET_AV_SAKSBEHANDLER",e.FJERN_FRA_BEHANDLINGEN="FJERN_FRA_BEHANDLINGEN",e.SLÅTT_SAMMEN_MED_ANNET="SLÅTT_SAMMEN_MED_ANNET",e.BRUK_MED_OVERSTYRT_PERIODE="BRUK_MED_OVERSTYRT_PERIODE",e.INNTEKT_IKKE_MED_I_BG="INNTEKT_IKKE_MED_I_BG",e.BRUK="BRUK",e.NYTT_ARBEIDSFORHOLD="NYTT_ARBEIDSFORHOLD",e))(ae||{});const he={ARBEID:"ARBEID",AAP:"AAP",DAGPENGER:"DAGPENGER",FORELDREPENGER:"FORELDREPENGER",FRILANS:"FRILANS",MILITAR_ELLER_SIVILTJENESTE:"MILITÆR_ELLER_SIVILTJENESTE",NARING:"NÆRING",OMSORGSPENGER:"OMSORGSPENGER",OPPLARINGSPENGER:"OPPLÆRINGSPENGER",PLEIEPENGER:"PLEIEPENGER",SVANGERSKAPSPENGER:"SVANGERSKAPSPENGER",SYKEPENGER:"SYKEPENGER",VARTPENGER:"VARTPENGER",VIDERE_ETTERUTDANNING:"VIDERE_ETTERUTDANNING",UTENLANDSK_ARBEIDSFORHOLD:"UTENLANDSK_ARBEIDSFORHOLD",VENTELØNN_VARTPENGER:"VENTELØNN_VARTPENGER",ETTERLONN_SLUTTPAKKE:"ETTERLØNN_SLUTTPAKKE"},Il=({headerColumnContent:e})=>l.jsx(an,{headerColumnContent:e,noHover:!0,children:l.jsxs(Je,{children:[l.jsx(q,{children:l.jsx(_,{size:"small",children:l.jsx(f,{id:"PersonArbeidsforholdTable.IngenArbeidsforholdRegistrert"})})}),l.jsx(q,{}),l.jsx(q,{}),l.jsx(q,{}),l.jsx(q,{}),l.jsx(q,{})]})});try{Il.displayName="IngenArbeidsforholdRegistrert",Il.__docgenInfo={description:"",displayName:"IngenArbeidsforholdRegistrert",props:{headerColumnContent:{defaultValue:null,description:"",name:"headerColumnContent",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>[]"}}}}}catch{}const Gh="_image_awjuc_1",Mh={image:Gh},Ag=[l.jsx(f,{id:"PersonArbeidsforholdTable.Arbeidsforhold",values:{br:l.jsx("br",{})}},1),l.jsx(f,{id:"PersonArbeidsforholdTable.Periode",values:{br:l.jsx("br",{})}},2),l.jsx(f,{id:"PersonArbeidsforholdTable.Kilde",values:{br:l.jsx("br",{})}},3),l.jsx(f,{id:"PersonArbeidsforholdTable.Stillingsprosent",values:{br:l.jsx("br",{})}},4),l.jsx(f,{id:"PersonArbeidsforholdTable.MottattDato",values:{br:l.jsx("br",{})}},5),l.jsx("div",{},6)],Lh=(e,n)=>e.saksbehandlersVurdering===ae.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?n.formatMessage({id:"PersonArbeidsforholdTable.Inntektsmelding"}):e.saksbehandlersVurdering===ae.MANUELT_OPPRETTET_AV_SAKSBEHANDLER?n.formatMessage({id:"PersonArbeidsforholdTable.Saksbehandler"}):n.formatMessage({id:"PersonArbeidsforholdTable.AaRegisteret"}),ys=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent&&(!n.internArbeidsforholdId||n.internArbeidsforholdId===e.internArbeidsforholdId),Kh=e=>e?`...${e.substring(e.length-4,e.length)}`:"",wh=(e,n,r)=>{const t=r[e.arbeidsgiverIdent],i=t==null?void 0:t.navn;return e.saksbehandlersVurdering===ae.MANUELT_OPPRETTET_AV_SAKSBEHANDLER?i:n.filter(a=>a.arbeidsgiverIdent===e.arbeidsgiverIdent).length>1?`${i}(${t.identifikator})${Kh(e.eksternArbeidsforholdId)}`:`${i}(${t.identifikator})`},Uh=(e,n)=>{const r=n[e.arbeidsgiverIdent];return`${e.eksternArbeidsforholdId}${e.arbeidsgiverIdent}${r.identifikator}`},Al=({alleArbeidsforhold:e,selectedId:n,selectArbeidsforholdCallback:r,arbeidsgiverOpplysningerPerId:t,inntektsmeldinger:i})=>{const s=X();return e.length===0?l.jsx(Il,{headerColumnContent:Ag}):l.jsx(an,{headerColumnContent:Ag,children:e&&e.map(a=>{var k;const d=a.stillingsprosent!==void 0&&a.stillingsprosent!==null?`${a.stillingsprosent.toFixed(2)} %`:"",g=wh(a,e,t),m=(k=i.find(p=>ys(a,p)))==null?void 0:k.motattDato;return l.jsxs(Je,{model:a,onMouseDown:r,onKeyDown:r,isSelected:a.arbeidsgiverIdent===n,children:[l.jsx(q,{children:l.jsx(_,{size:"small",children:Zs(g)})}),l.jsx(q,{children:l.jsx(_,{size:"small",children:l.jsx(Ge,{dateStringFom:a.fom,dateStringTom:a.tom!==ze?a.tom:void 0})})}),l.jsx(q,{children:l.jsx(_,{size:"small",children:Lh(a,s)})}),l.jsx(q,{children:l.jsx(_,{size:"small",children:d})}),l.jsx(q,{children:m&&l.jsx(_,{size:"small",children:l.jsx(Re,{dateString:m})})}),l.jsx(q,{children:(a.saksbehandlersVurdering===ae.BRUK||a.saksbehandlersVurdering===ae.FORTSETT_UTEN_INNTEKTSMELDING)&&l.jsx(mb,{className:Mh.image,title:s.formatMessage({id:"PersonArbeidsforholdTable.ErIBruk"})})})]},Uh(a,t))})})};try{Al.displayName="PersonArbeidsforholdTable",Al.__docgenInfo={description:"",displayName:"PersonArbeidsforholdTable",props:{alleArbeidsforhold:{defaultValue:null,description:"",name:"alleArbeidsforhold",required:!0,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string | undefined; eksternArbeidsforholdId?: string | undefined; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}},selectedId:{defaultValue:null,description:"",name:"selectedId",required:!1,type:{name:"string"}},selectArbeidsforholdCallback:{defaultValue:null,description:"",name:"selectArbeidsforholdCallback",required:!0,type:{name:"(event: KeyboardEvent<Element> | MouseEvent<Element, MouseEvent>, id?: void | undefined, model?: Readonly<{ arbeidsgiverIdent: string; ... 8 more ...; begrunnelse?: string | undefined; }> | undefined) => void"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},inntektsmeldinger:{defaultValue:null,description:"",name:"inntektsmeldinger",required:!0,type:{name:"Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]"}}}}}catch{}const xl=({arbeidsforhold:e})=>e.permisjonOgMangel?l.jsxs(l.Fragment,{children:[l.jsx(A,{sixteenPx:!0}),l.jsx(G,{size:"small",children:l.jsx(f,{id:"PermisjonPeriode.Permisjon"})}),l.jsx(_,{size:"small",children:l.jsx(Ge,{dateStringFom:e.permisjonOgMangel.permisjonFom,dateStringTom:e.permisjonOgMangel.permisjonTom?e.permisjonOgMangel.permisjonTom:""})}),l.jsx(A,{sixteenPx:!0})]}):null;try{xl.displayName="PermisjonPeriode",xl.__docgenInfo={description:"",displayName:"PermisjonPeriode",props:{arbeidsforhold:{defaultValue:null,description:"",name:"arbeidsforhold",required:!0,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string | undefined; eksternArbeidsforholdId?: string | undefined; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}}}}}catch{}var yl=(e=>(e.BRUK_PERMISJON="BRUK_PERMISJON",e.IKKE_BRUK_PERMISJON="IKKE_BRUK_PERMISJON",e))(yl||{});const Ch=e=>e.saksbehandlersVurdering===ae.BRUK_MED_OVERSTYRT_PERIODE||e.saksbehandlersVurdering===ae.BRUK_MED_OVERSTYRT_PERIODE?e.tom:void 0,Yh=e=>e.permisjonOgMangel?"ArbeidsforholdDetail.ArbeidsforholdErAktivtOgHarPermisjonMenSoekerErIkkePermisjon":e.saksbehandlersVurdering===ae.MANUELT_OPPRETTET_AV_SAKSBEHANDLER?"ArbeidsforholdDetail.OppdaterArbeidsforhold":"ArbeidsforholdDetail.ArbeidsforholdErAktivt",Tl=({valgtArbeidsforhold:e})=>{var k,p;const n=e.saksbehandlersVurdering===ae.BRUK,r=e.saksbehandlersVurdering===ae.FORTSETT_UTEN_INNTEKTSMELDING,t=e.saksbehandlersVurdering===ae.BRUK_MED_OVERSTYRT_PERIODE,i=e.saksbehandlersVurdering===ae.IKKE_OPPRETT_BASERT_PÅ_INNTEKTSMELDING,s=e.saksbehandlersVurdering===ae.OPPRETT_BASERT_PÅ_INNTEKTSMELDING,a=e.saksbehandlersVurdering===ae.MANUELT_OPPRETTET_AV_SAKSBEHANDLER,d=((k=e.permisjonOgMangel)==null?void 0:k.permisjonStatus)===yl.BRUK_PERMISJON,g=((p=e.permisjonOgMangel)==null?void 0:p.permisjonStatus)===yl.IKKE_BRUK_PERMISJON,m=Ch(e);return l.jsxs(l.Fragment,{children:[l.jsx(A,{thirtyTwoPx:!0}),l.jsxs(Uk,{children:[l.jsx(te,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdDetail.Header"})}),l.jsx(xl,{arbeidsforhold:e}),t&&l.jsxs(l.Fragment,{children:[l.jsx(_,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdDetail.ArbeidsforholdetErIkkeAktivt"})}),l.jsx(_,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdDetail.ArbeidsforholdetAktivTomDato"})}),l.jsxs(_,{size:"small",children:[m&&l.jsx(Re,{dateString:m}),!m&&"-"]})]}),n&&d&&l.jsx(_,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdDetail.SokerErIPermisjon"})}),s&&l.jsx(_,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdDetail.OppdatertGittIm"})}),(a||(n||r)&&(!e.permisjonOgMangel||g))&&l.jsxs(l.Fragment,{children:[l.jsx(_,{size:"small",children:l.jsx(f,{id:Yh(e)})}),l.jsx(A,{sixteenPx:!0}),r&&l.jsx(_,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdDetail.BenyttAInntektIBeregningsgrunnlag"})}),!r&&!a&&l.jsx(_,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdDetail.AvslaYtelseManglendeOpplysninger"})})]}),i&&l.jsx(_,{size:"small",children:l.jsx(f,{id:i?"ArbeidsforholdDetail.FjernArbeidsforholdet":"ArbeidsforholdDetail.IMIkkeRelevant"})}),l.jsx(A,{sixteenPx:!0}),l.jsx(G,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdDetail.Begrunnelse"})}),l.jsx(_,{size:"small",children:e.begrunnelse})]})]})};try{Tl.displayName="ArbeidsforholdDetail",Tl.__docgenInfo={description:"",displayName:"ArbeidsforholdDetail",props:{valgtArbeidsforhold:{defaultValue:null,description:"",name:"valgtArbeidsforhold",required:!0,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string | undefined; eksternArbeidsforholdId?: string | undefined; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}}}}}catch{}const xg=(e,n)=>n.some(r=>ys(e,r)),zh=(e,n)=>(r,t)=>{var g,m;const i=e[r.arbeidsgiverIdent],s=e[t.arbeidsgiverIdent];if(i&&s){const k=i.navn.localeCompare(s.navn);if(k!==0)return k}const a=xg(r,n),d=xg(t,n);if(a&&d){const k=(g=n.find(c=>ys(r,c)))==null?void 0:g.motattDato,p=(m=n.find(c=>ys(t,c)))==null?void 0:m.motattDato;return qr(p,Be).diff(qr(k,Be))}return a?-1:d?1:r.arbeidsgiverIdent.localeCompare(t.arbeidsgiverIdent)},El=({arbeidOgInntekt:e,arbeidsgiverOpplysningerPerId:n})=>{const[r,t]=j.useState(),i=j.useCallback((g,m,k)=>{const p=!!(k!=null&&k.saksbehandlersVurdering);t(p?k:void 0)},[t]),{arbeidsforhold:s,inntektsmeldinger:a}=e,d=j.useMemo(()=>s.slice().sort(zh(n,a)),[n]);return l.jsxs(l.Fragment,{children:[l.jsx(te,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdInfoPanel.ArbeidsforholdHeader"})}),l.jsx(Al,{selectedId:r==null?void 0:r.arbeidsgiverIdent,alleArbeidsforhold:d,selectArbeidsforholdCallback:i,arbeidsgiverOpplysningerPerId:n,inntektsmeldinger:a}),r&&l.jsx(Tl,{valgtArbeidsforhold:r})]})};try{El.displayName="ArbeidsforholdInfoPanel",El.__docgenInfo={description:"",displayName:"ArbeidsforholdInfoPanel",props:{arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}}}}}catch{}const qh={"ArbeidsforholdInfoPanel.ArbeidsforholdHeader":"Arbeidsforhold som er aktive ved permisjonsstart","PersonArbeidsforholdTable.Arbeidsforhold":"{br}Arbeidsforhold","PersonArbeidsforholdTable.Periode":"{br}Periode","PersonArbeidsforholdTable.Kilde":"{br}Kilde","PersonArbeidsforholdTable.Stillingsprosent":"{br}Stillingsprosent","PersonArbeidsforholdTable.MottattDato":"Inntektsmeld.{br}mottatt dato","PersonArbeidsforholdTable.ErIBruk":"Arbeidsforhold skal brukes","PersonArbeidsforholdTable.IngenArbeidsforhold":"Det finnes ingen arbeidsforhold","PersonArbeidsforholdTable.IngenArbeidsforholdRegistrert":"Ingen arbeidsforhold registrert","PersonArbeidsforholdTable.LeggTilArbeidsforhold":"Legg til arbeidsforhold","ArbeidsforholdDetail.Header":"Detaljer","ArbeidsforholdDetail.ArbeidsforholdErAktivt":"Arbeidsforholdet er aktivt og skal benyttes i behandlingen. Nødvendig inntektsmelding er ikke mottatt.","ArbeidsforholdDetail.OppdaterArbeidsforhold":"Arbeidsforhold er manuelt opprettet av saksbehandler","ArbeidsforholdDetail.ArbeidsforholdErAktivtOgHarPermisjonMenSoekerErIkkePermisjon":"Søker er ikke i permisjon. Arbeidsforholdet er aktivt og skal benyttes i behandlingen.","ArbeidsforholdDetail.FjernArbeidsforholdet":"Fjern arbeidsforholdet for denne behandlingen","ArbeidsforholdDetail.IMIkkeRelevant":"Inntektsmeldingen er ikke relevant, gå videre uten disse opplysningene","ArbeidsforholdDetail.ArbeidsforholdetErIkkeAktivt":"Arbeidsforholdet er ikke aktivt. Inntektsmelding er ikke nødvendig.","ArbeidsforholdDetail.ArbeidsforholdetAktivTomDato":"Arbeidsforhold aktivt tom. dato","ArbeidsforholdDetail.AvslaYtelseManglendeOpplysninger":"Ytelsen kan avslås på grunn av manglende opplysninger.","ArbeidsforholdDetail.BenyttAInntektIBeregningsgrunnlag":"Fortsett behandling uten inntektsmelding, inntekt fra A-inntekt benyttes i beregningsgrunnlaget.","ArbeidsforholdDetail.Begrunnelse":"Begrunn endringene","ArbeidsforholdDetail.SokerErIPermisjon":"Søker er i permisjon. Inntektsmelding er ikke nødvendig.","ArbeidsforholdDetail.OppdatertGittIm":"Arbeidsforholdet er opprettet basert på motatt inntektsmelding","PersonArbeidsforholdTable.Inntektsmelding":"Inntektsmelding","PersonArbeidsforholdTable.Saksbehandler":"Saksbehandler","PersonArbeidsforholdTable.AaRegisteret":"AA-Registeret","PermisjonPeriode.Permisjon":"Permisjon","PermisjonPeriode.Permisjoner":"Permisjoner"},Hh=Oe(qh),_l=({arbeidOgInntekt:e,arbeidsgiverOpplysningerPerId:n})=>l.jsx(Ye,{value:Hh,children:l.jsx(El,{arbeidOgInntekt:e,arbeidsgiverOpplysningerPerId:n})});try{_l.displayName="ArbeidsforholdFaktaIndex",_l.__docgenInfo={description:"",displayName:"ArbeidsforholdFaktaIndex",props:{arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},submittable:{defaultValue:null,description:"",name:"submittable",required:!0,type:{name:"boolean"}},harApneAksjonspunkter:{defaultValue:null,description:"",name:"harApneAksjonspunkter",required:!0,type:{name:"boolean"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const yg=[se.AVKLAR_ARBEIDSFORHOLD],Jh=[we.ARBEID_OG_INNTEKT],Tg=({arbeidsgiverOpplysningerPerId:e,...n})=>l.jsx(Ir,{...n,panelEndepunkter:Jh,aksjonspunktKoder:yg,faktaPanelKode:jr.ARBEIDSFORHOLD,faktaPanelMenyTekst:X().formatMessage({id:"ArbeidsforholdInfoPanel.Title"}),skalPanelVisesIMeny:()=>!!n.behandling&&n.behandling.aksjonspunkt&&n.behandling.aksjonspunkt.some(r=>yg.some(t=>t===r.definisjon)),renderPanel:r=>l.jsx(_l,{arbeidsgiverOpplysningerPerId:e,...r})});try{Tg.displayName="ArbeidsforholdFaktaInitPanel",Tg.__docgenInfo={description:`ArbeidsforholdFaktaInitPanel

Dette faktapanelet skal alltid vises`,displayName:"ArbeidsforholdFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}const ao=j.createContext({isDirty:!1,setDirty:()=>{}}),Sl=({children:e})=>{const[n,r]=j.useState(!1),t=j.useMemo(()=>({isDirty:n,setDirty:r}),[n,r]);return l.jsx(ao.Provider,{value:t,children:e})},Yt=e=>{const n=j.useContext(ao);j.useEffect(()=>{n.setDirty(e)},[e])},Zh=()=>j.useContext(ao).isDirty;try{Sl.displayName="DirtyFormProvider",Sl.__docgenInfo={description:`Håndterer state for data som skal hentes fra backend kun en gang og som en trenger aksess til
mange steder i applikasjonen.`,displayName:"DirtyFormProvider",props:{}}}catch{}try{Yt.displayName="useSetDirtyForm",Yt.__docgenInfo={description:"",displayName:"useSetDirtyForm",props:{}}}catch{}const Yr="342352362",Wh=Tn(3),Xh=En(1500),Qh=Dk(1),ej=Gk(100),nj=e=>n=>{const r=e("fom");return n&&r?qd(r)(n):null},Ts=({behandlingUuid:e,isReadOnly:n,registrerArbeidsforhold:r,radData:t,lukkArbeidsforholdRad:i,erOverstyrt:s,oppdaterTabell:a,erNyttArbeidsforhold:d=!1})=>{const g=X(),[m,k]=j.useState(!1),p=j.useMemo(()=>{var R,S,N,E,O;return{fom:(R=t==null?void 0:t.avklaring)==null?void 0:R.fom,tom:(S=t==null?void 0:t.avklaring)==null?void 0:S.tom,stillingsprosent:(N=t==null?void 0:t.avklaring)==null?void 0:N.stillingsprosent,begrunnelse:(E=t==null?void 0:t.avklaring)==null?void 0:E.begrunnelse,arbeidsgiverNavn:(O=t==null?void 0:t.avklaring)==null?void 0:O.arbeidsgiverNavn}},[t]),c=qe({defaultValues:p});Yt(c.formState.isDirty);const b=j.useCallback(()=>{i(),c.reset(p)},[i]),I=j.useCallback(R=>{const S={behandlingUuid:e,arbeidsgiverIdent:Yr,vurdering:ae.MANUELT_OPPRETTET_AV_SAKSBEHANDLER,...R};r(S).then(()=>{a(N=>{const E={arbeidsgiverIdent:Yr,arbeidsgiverNavn:R.arbeidsgiverNavn,avklaring:{fom:R.fom,tom:R.tom,stillingsprosent:R.stillingsprosent,arbeidsgiverNavn:R.arbeidsgiverNavn,begrunnelse:R.begrunnelse,saksbehandlersVurdering:ae.MANUELT_OPPRETTET_AV_SAKSBEHANDLER}},O=N.findIndex($=>$.arbeidsgiverIdent===Yr);return O===-1?N.concat(E):N.map(($,V)=>V===O?E:$)}),c.reset(R),d&&i()})},[e,a]),T=j.useCallback(()=>{const R=c.getValues(),S={behandlingUuid:e,arbeidsgiverIdent:Yr,vurdering:ae.FJERN_FRA_BEHANDLINGEN,...R};r(S).then(()=>{a(N=>N.filter(E=>E.arbeidsgiverIdent!==Yr)),d&&i()})},[c]);return l.jsxs(l.Fragment,{children:[!t&&l.jsxs(l.Fragment,{children:[l.jsx(te,{size:"small",children:l.jsx(f,{id:"LeggTilArbeidsforholdForm.LeggTilArbeidsforhold"})}),l.jsx(A,{sixteenPx:!0})]}),l.jsx(A,{eightPx:!0}),l.jsxs(He,{formMethods:c,onSubmit:I,children:[l.jsxs(ie,{gap:"4",children:[s&&l.jsxs(l.Fragment,{children:[l.jsx(pe,{name:"arbeidsgiverNavn",label:l.jsx(f,{id:"LeggTilArbeidsforholdForm.Arbeidsgiver"}),validate:[H],readOnly:n||!s}),l.jsx(tr,{name:"fom",label:l.jsx(f,{id:"LeggTilArbeidsforholdForm.PeriodeFra"}),validate:[H,xn],isReadOnly:n||!s}),l.jsx(tr,{name:"tom",label:l.jsx(f,{id:"LeggTilArbeidsforholdForm.PeriodeTil"}),validate:[xn,nj(c.getValues)],isReadOnly:n||!s})]}),l.jsx(pe,{name:"stillingsprosent",label:l.jsx(f,{id:"LeggTilArbeidsforholdForm.Stillingsprosent"}),parse:R=>{const S=parseInt(R.toString(),10);return Number.isNaN(S)?R:S},validate:[H,$k,Qh,ej],readOnly:n||!s,maxLength:3})]}),l.jsx(A,{twentyPx:!0}),l.jsx(sn,{label:l.jsx(f,{id:"LeggTilArbeidsforholdForm.Begrunn"}),name:"begrunnelse",validate:[H,Wh,Xh,yn],maxLength:1500,readOnly:n||!s}),l.jsx(A,{twentyPx:!0}),s&&l.jsxs(ie,{gap:"4",children:[l.jsx(ne,{size:"small",variant:"secondary",loading:c.formState.isSubmitting,disabled:!c.formState.isDirty||c.formState.isSubmitting,children:l.jsx(f,{id:"LeggTilArbeidsforholdForm.Lagre"})}),l.jsx(ne,{size:"small",variant:"tertiary",loading:!1,disabled:c.formState.isSubmitting,onClick:b,type:"button",children:l.jsx(f,{id:"LeggTilArbeidsforholdForm.Avbryt"})}),t&&l.jsxs(l.Fragment,{children:[l.jsx(Xr,{}),l.jsx(ne,{size:"small",variant:"tertiary",loading:!1,disabled:c.formState.isSubmitting,onClick:()=>k(!0),type:"button",icon:l.jsx(Eh,{"aria-hidden":!0}),children:l.jsx(f,{id:"LeggTilArbeidsforholdForm.Slett"})})]})]}),l.jsx(A,{fourtyPx:!0})]}),m&&l.jsx(Sb,{text:g.formatMessage({id:"NyttArbeidsforholdForm.VilDuSlette"}),submit:T,cancel:()=>k(!1),showModal:!0})]})};try{Ts.displayName="ManueltLagtTilArbeidsforholdForm",Ts.__docgenInfo={description:"",displayName:"ManueltLagtTilArbeidsforholdForm",props:{behandlingUuid:{defaultValue:null,description:"",name:"behandlingUuid",required:!0,type:{name:"string"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},registrerArbeidsforhold:{defaultValue:null,description:"",name:"registrerArbeidsforhold",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; arbeidsgiverNavn: string; fom: string; tom?: string | undefined; stillingsprosent: number; vurdering: string; }>) => Promise<...>"}},radData:{defaultValue:null,description:"",name:"radData",required:!1,type:{name:"ArbeidsforholdOgInntektRadData"}},arbeidsforhold:{defaultValue:null,description:"",name:"arbeidsforhold",required:!1,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string; eksternArbeidsforholdId?: string; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}},lukkArbeidsforholdRad:{defaultValue:null,description:"",name:"lukkArbeidsforholdRad",required:!0,type:{name:"() => void"}},erOverstyrt:{defaultValue:null,description:"",name:"erOverstyrt",required:!0,type:{name:"boolean"}},oppdaterTabell:{defaultValue:null,description:"",name:"oppdaterTabell",required:!0,type:{name:"(data: (rader: ArbeidsforholdOgInntektRadData[]) => ArbeidsforholdOgInntektRadData[]) => void"}},erNyttArbeidsforhold:{defaultValue:{value:"false"},description:"",name:"erNyttArbeidsforhold",required:!1,type:{name:"boolean"}}}}}catch{}const rj="_inline_glms2_1",tj="_textMargin_glms2_5",ij="_docIcon_glms2_9",sj="_phoneIcon_glms2_14",Ta={inline:rj,textMargin:tj,docIcon:ij,phoneIcon:sj},tt=({saksnummer:e,arbeidsforhold:n,inntektsmelding:r,skalViseArbeidsforholdId:t,alleKodeverk:i,arbeidsgiverFødselsdato:s,ikkeVisInfo:a})=>l.jsxs(l.Fragment,{children:[l.jsx(A,{eightPx:!0}),!a&&s&&l.jsxs(ie,{gap:"4",children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdInformasjonPanel.Fodselsdato"})}),l.jsx(le,{children:l.jsx(Re,{dateString:s})})]}),!a&&!s&&l.jsxs(ie,{gap:"4",children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdInformasjonPanel.Orgnr"})}),l.jsx(le,{children:r.arbeidsgiverIdent})]}),l.jsx(A,{eightPx:!0}),t&&l.jsxs(l.Fragment,{children:[l.jsxs(ie,{gap:"4",children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"InntektsmeldingOpplysningerPanel.ArbeidsforholdId"})}),l.jsx(_,{size:"small",children:r.eksternArbeidsforholdId})]}),l.jsx(A,{eightPx:!0})]}),n&&l.jsxs(l.Fragment,{children:[l.jsxs(ie,{gap:"4",children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"InntektsmeldingOpplysningerPanel.Stillingsprosent"})}),l.jsx(_,{size:"small",children:n.stillingsprosent?`${n.stillingsprosent}%`:"-"})]}),n.permisjonOgMangel&&l.jsxs(l.Fragment,{children:[l.jsx(A,{eightPx:!0}),l.jsxs(ie,{gap:"4",children:[l.jsx(G,{size:"small",children:Is(i,Yn.PERMISJONSBESKRIVELSE_TYPE,n.permisjonOgMangel.type)}),l.jsx(_,{size:"small",children:l.jsx(Ge,{dateStringFom:n.permisjonOgMangel.permisjonFom,dateStringTom:n.permisjonOgMangel.permisjonTom})})]})]}),l.jsx(A,{eightPx:!0})]}),l.jsxs(ie,{gap:"4",children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"InntektsmeldingOpplysningerPanel.Inntektsmelding"})}),l.jsx(_,{size:"small",children:z(r.inntektPrMnd)})]}),l.jsx(A,{eightPx:!0}),l.jsxs(ie,{gap:"4",children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"InntektsmeldingOpplysningerPanel.Refusjon"})}),l.jsx(_,{size:"small",children:l.jsx(f,{id:r.refusjonPrMnd?"InntektsmeldingOpplysningerPanel.Ja":"InntektsmeldingOpplysningerPanel.Nei"})})]}),l.jsx(A,{eightPx:!0}),r.refusjonPrMnd!==void 0&&r.refusjonPrMnd!==null&&l.jsxs(l.Fragment,{children:[l.jsxs(ie,{gap:"4",children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"InntektsmeldingOpplysningerPanel.Refusjonsbeløp"})}),l.jsx(_,{size:"small",children:z(r.refusjonPrMnd)})]}),l.jsx(A,{eightPx:!0})]}),l.jsxs(Qt,{href:Mk(e,r.journalpostId,r.dokumentId),target:"_blank",children:[l.jsx("span",{children:l.jsx(_,{size:"small",className:Ta.inline,children:l.jsx(f,{id:"InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding"})})}),l.jsx(Qk,{className:Ta.docIcon})]}),l.jsx(A,{sixteenPx:!0}),l.jsxs(ie,{gap:"4",children:[l.jsx(ef,{className:Ta.phoneIcon}),l.jsx("div",{children:l.jsxs(ei,{children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"InntektsmeldingOpplysningerPanel.Kontaktinfo"})}),l.jsx(le,{children:r.kontaktpersonNavn}),l.jsx(le,{children:l.jsx(f,{id:"InntektsmeldingOpplysningerPanel.Tlf",values:{nr:r.kontaktpersonNummer}})})]})})]}),l.jsx(A,{thirtyTwoPx:!0})]});try{tt.displayName="InntektsmeldingOpplysningerPanel",tt.__docgenInfo={description:"",displayName:"InntektsmeldingOpplysningerPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},arbeidsforhold:{defaultValue:null,description:"",name:"arbeidsforhold",required:!1,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string; eksternArbeidsforholdId?: string; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}},inntektsmelding:{defaultValue:null,description:"",name:"inntektsmelding",required:!0,type:{name:"Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>"}},skalViseArbeidsforholdId:{defaultValue:null,description:"",name:"skalViseArbeidsforholdId",required:!0,type:{name:"boolean"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!1,type:{name:"AlleKodeverk"}},arbeidsgiverFødselsdato:{defaultValue:null,description:"",name:"arbeidsgiverFødselsdato",required:!1,type:{name:"string"}},ikkeVisInfo:{defaultValue:null,description:"",name:"ikkeVisInfo",required:!1,type:{name:"boolean"}}}}}catch{}const aj="_hjelpetekst_1kk6h_1",lj="_alertStripe_1kk6h_5",dj="_hjelpetekstInnhold_1kk6h_9",oj="_svg_1kk6h_14",Gi={hjelpetekst:aj,alertStripe:lj,hjelpetekstInnhold:dj,svg:oj},gj=Tn(3),uj=En(1500),mj=Dk(1),kj=Gk(100),fj=e=>n=>{const r=e("fom");return r&&n?qd(r)(n):null},Rl=({saksnummer:e,behandlingUuid:n,arbeidsgiverNavn:r,inntektsmelding:t,radData:i,isReadOnly:s,registrerArbeidsforhold:a,lagreVurdering:d,lukkArbeidsforholdRad:g,oppdaterTabell:m,skalViseArbeidsforholdId:k,arbeidsgiverFødselsdato:p})=>{const c=X(),b=j.useMemo(()=>{var V,L,Z,J,C;return{saksbehandlersVurdering:(V=i.avklaring)==null?void 0:V.saksbehandlersVurdering,begrunnelse:(L=i.avklaring)==null?void 0:L.begrunnelse,fom:(Z=i.avklaring)==null?void 0:Z.fom,tom:(J=i.avklaring)==null?void 0:J.tom,stillingsprosent:(C=i.avklaring)==null?void 0:C.stillingsprosent}},[i]),I=qe({defaultValues:b});Yt(I.formState.isDirty);const T=I.watch("saksbehandlersVurdering"),R=j.useCallback(()=>{g(),I.reset(b)},[b,g]),S=j.useCallback(V=>{const L=()=>{m(Z=>Z.map(J=>{if(t.arbeidsgiverIdent===J.arbeidsgiverIdent){const B=V.saksbehandlersVurdering===ae.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?{arbeidsgiverIdent:t.arbeidsgiverIdent,fom:V.fom,tom:V.tom,stillingsprosent:V.stillingsprosent,begrunnelse:V.begrunnelse,saksbehandlersVurdering:V.saksbehandlersVurdering}:void 0;return{...i,avklaring:B||{begrunnelse:V.begrunnelse,saksbehandlersVurdering:V.saksbehandlersVurdering}}}return J}))};V.saksbehandlersVurdering===ae.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?a({behandlingUuid:n,internArbeidsforholdRef:t.internArbeidsforholdId,arbeidsgiverNavn:r,arbeidsgiverIdent:t.arbeidsgiverIdent,vurdering:ae.OPPRETT_BASERT_PÅ_INNTEKTSMELDING,begrunnelse:V.begrunnelse,fom:V.fom,tom:V.tom,stillingsprosent:V.stillingsprosent}).then(L).finally(()=>I.reset(V)):d({behandlingUuid:n,vurdering:V.saksbehandlersVurdering,begrunnelse:V.begrunnelse,arbeidsgiverIdent:t.arbeidsgiverIdent,internArbeidsforholdRef:t.internArbeidsforholdId}).then(L).finally(()=>I.reset(V))},[t,m]),N=j.useRef(null),[E,O]=j.useState(!1),$=j.useCallback(()=>O(V=>!V),[]);return l.jsxs(l.Fragment,{children:[l.jsx(tt,{saksnummer:e,inntektsmelding:t,skalViseArbeidsforholdId:k,arbeidsgiverFødselsdato:p}),l.jsx(A,{fourtyPx:!0}),l.jsx("div",{className:Gi.alertStripe,children:l.jsx(_e,{variant:"info",children:l.jsx(f,{id:"ManglendeOpplysningerForm.ErMottattMenIkkeReg"})})}),l.jsx(A,{thirtyTwoPx:!0}),l.jsxs(He,{formMethods:I,onSubmit:S,children:[l.jsx(ue,{name:"saksbehandlersVurdering",label:l.jsxs(ie,{gap:"2",children:[l.jsx(f,{id:"ManglendeOpplysningerForm.SkalBrukeInntekstmelding"}),l.jsx(ro,{className:Gi.svg,ref:N,onClick:$,title:c.formatMessage({id:"ManglendeOpplysningerForm.AltHjelpetekst"})}),l.jsx(et,{open:E,onClose:$,anchorEl:N.current,className:Gi.hjelpetekst,children:l.jsx(et.Content,{className:Gi.hjelpetekstInnhold,children:l.jsx(_,{children:l.jsx(f,{id:"ManglendeOpplysningerForm.Hjelpetekst"})})})})]}),validate:[H],isReadOnly:s,radios:[{label:c.formatMessage({id:"ManglendeOpplysningerForm.TarKontakt"}),value:ae.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_ARBEIDSFORHOLD},{label:c.formatMessage({id:"ManglendeOpplysningerForm.GåVidere"}),value:ae.IKKE_OPPRETT_BASERT_PÅ_INNTEKTSMELDING},{label:c.formatMessage({id:"ManglendeOpplysningerForm.OpprettArbeidsforhold"}),value:ae.OPPRETT_BASERT_PÅ_INNTEKTSMELDING}]}),T===ae.OPPRETT_BASERT_PÅ_INNTEKTSMELDING&&l.jsxs(l.Fragment,{children:[l.jsx(A,{eightPx:!0}),l.jsxs(ie,{gap:"4",children:[l.jsx(tr,{name:"fom",label:l.jsx(f,{id:"ManglendeOpplysningerForm.PeriodeFra"}),validate:[H,xn],isReadOnly:s}),l.jsx(tr,{name:"tom",label:l.jsx(f,{id:"ManglendeOpplysningerForm.PeriodeTil"}),validate:[xn,fj(I.getValues)],isReadOnly:s}),l.jsx(pe,{name:"stillingsprosent",label:l.jsx(f,{id:"ManglendeOpplysningerForm.Stillingsprosent"}),parse:V=>{const L=parseInt(V.toString(),10);return Number.isNaN(L)?V:L},validate:[H,$k,mj,kj],readOnly:s,maxLength:3})]}),l.jsx(A,{fourPx:!0})]}),l.jsx(A,{sixteenPx:!0}),l.jsx(sn,{label:l.jsx(f,{id:"ManglendeOpplysningerForm.Begrunn"}),name:"begrunnelse",validate:[H,gj,uj,yn],maxLength:1500,readOnly:s}),l.jsx(A,{twentyPx:!0}),!s&&l.jsxs(ie,{gap:"4",children:[l.jsx(ne,{size:"small",variant:"secondary",loading:I.formState.isSubmitting,disabled:!I.formState.isDirty||I.formState.isSubmitting,children:l.jsx(f,{id:"ManglendeOpplysningerForm.Lagre"})}),l.jsx(ne,{size:"small",variant:"tertiary",loading:!1,disabled:I.formState.isSubmitting,onClick:R,type:"button",children:l.jsx(f,{id:"ManglendeOpplysningerForm.Avbryt"})})]}),l.jsx(A,{fourtyPx:!0})]})]})};try{Rl.displayName="ManglendeArbeidsforholdForm",Rl.__docgenInfo={description:"",displayName:"ManglendeArbeidsforholdForm",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},behandlingUuid:{defaultValue:null,description:"",name:"behandlingUuid",required:!0,type:{name:"string"}},arbeidsgiverNavn:{defaultValue:null,description:"",name:"arbeidsgiverNavn",required:!0,type:{name:"string"}},inntektsmelding:{defaultValue:null,description:"",name:"inntektsmelding",required:!0,type:{name:"Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>"}},radData:{defaultValue:null,description:"",name:"radData",required:!0,type:{name:"ArbeidsforholdOgInntektRadData"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},registrerArbeidsforhold:{defaultValue:null,description:"",name:"registrerArbeidsforhold",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; arbeidsgiverNavn: string; fom: string; tom?: string | undefined; stillingsprosent: number; vurdering: string; }>) => Promise<...>"}},lagreVurdering:{defaultValue:null,description:"",name:"lagreVurdering",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; vurdering: string; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; }>) => Promise<void>"}},lukkArbeidsforholdRad:{defaultValue:null,description:"",name:"lukkArbeidsforholdRad",required:!0,type:{name:"() => void"}},oppdaterTabell:{defaultValue:null,description:"",name:"oppdaterTabell",required:!0,type:{name:"(data: (rader: ArbeidsforholdOgInntektRadData[]) => ArbeidsforholdOgInntektRadData[]) => void"}},skalViseArbeidsforholdId:{defaultValue:null,description:"",name:"skalViseArbeidsforholdId",required:!0,type:{name:"boolean"}},arbeidsgiverFødselsdato:{defaultValue:null,description:"",name:"arbeidsgiverFødselsdato",required:!1,type:{name:"string"}}}}}catch{}const pj="_inline_10adz_1",cj="_aksjonpunktImage_10adz_5",vj="_arrow_10adz_12",bj="_ikkeMottatt_10adz_18",hj="_forsteKolonne_10adz_22",jj="_sisteKolonne_10adz_26",Ij="_skiller_10adz_30",Aj="_textMargin_10adz_34",gr={inline:pj,aksjonpunktImage:cj,arrow:vj,ikkeMottatt:bj,forsteKolonne:hj,sisteKolonne:jj,skiller:Ij,textMargin:Aj},xj=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent&&(!n.internArbeidsforholdId||n.internArbeidsforholdId===e.internArbeidsforholdId),yj=(e,n)=>{const r=e.some(i=>i.internArbeidsforholdId),t=e.some(i=>!i.internArbeidsforholdId);if(r&&t)throw Error("Har inntektsmelding både med og uten id");return e.find(i=>!i.internArbeidsforholdId||i.internArbeidsforholdId===n)},Tj=e=>{const n=Math.ceil(e.length/25);return Array.from({length:n},(t,i)=>e.slice(i*25,i*25+25)).join("-")},Es=({saksnummer:e,arbeidsforholdForRad:n,inntektsmeldingerForRad:r,alleKodeverk:t,arbeidsgiverFødselsdato:i})=>{const s=X(),[a,d]=j.useState({}),g=n.length===1,m=g?yj(r,n[0].internArbeidsforholdId):void 0;return l.jsxs(l.Fragment,{children:[i&&l.jsxs(ie,{gap:"4",children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdInformasjonPanel.Fodselsdato"})}),l.jsx(le,{children:l.jsx(Re,{dateString:i})})]}),!i&&n.length>0&&l.jsxs(ie,{gap:"4",children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdInformasjonPanel.Orgnr"})}),l.jsx(le,{children:n[0].arbeidsgiverIdent})]}),!g&&l.jsxs(l.Fragment,{children:[l.jsx(A,{eightPx:!0}),l.jsx(hg,{dividerParagraf:!0,className:gr.skiller}),l.jsx(A,{sixteenPx:!0}),n.map(k=>{const p=r.find(c=>xj(k,c));return l.jsxs(M.Fragment,{children:[l.jsxs(ei,{gap:"2",children:[l.jsxs(ie,{gap:"4",children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdInformasjonPanel.ArbeidsforholdId"})}),l.jsxs("div",{children:[k.eksternArbeidsforholdId&&k.eksternArbeidsforholdId.length<50&&l.jsx("div",{children:l.jsx(_,{size:"small",children:k.eksternArbeidsforholdId})}),k.eksternArbeidsforholdId&&k.eksternArbeidsforholdId.length>=50&&l.jsx(Dh,{content:Tj(k.eksternArbeidsforholdId),children:l.jsx(_,{size:"small",children:`${k.eksternArbeidsforholdId.substring(0,50)}...`})}),!k.eksternArbeidsforholdId&&l.jsx(_,{size:"small",children:"-"})]}),p&&l.jsxs(l.Fragment,{children:[l.jsx(Xr,{}),l.jsx(G,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdInformasjonPanel.ImMottatt"})})]}),!p&&l.jsxs(l.Fragment,{children:[l.jsx(Xr,{}),l.jsxs("div",{children:[l.jsx(_r,{className:gr.aksjonpunktImage,title:s.formatMessage({id:"ArbeidsforholdRad.Aksjonspunkt"})}),l.jsx("div",{className:gr.ikkeMottatt,children:l.jsx(G,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdInformasjonPanel.ImIkkeMottatt"})})})]})]})]}),l.jsxs(ie,{gap:"4",children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdInformasjonPanel.Periode"})}),l.jsx(_,{size:"small",children:l.jsx(Ge,{dateStringFom:k.fom,dateStringTom:k.tom!==ze?k.tom:void 0})}),p&&l.jsxs(l.Fragment,{children:[l.jsx(Xr,{}),l.jsx(_,{size:"small",children:l.jsx(Re,{dateString:p.motattDato})})]})]}),l.jsxs(ie,{gap:"4",children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdInformasjonPanel.Stillingsprosent"})}),l.jsx(_,{size:"small",children:`${k.stillingsprosent}%`})]}),k.permisjonOgMangel&&l.jsxs(ie,{gap:"4",children:[l.jsx(G,{size:"small",children:Is(t,Yn.PERMISJONSBESKRIVELSE_TYPE,k.permisjonOgMangel.type)}),l.jsx(_,{size:"small",children:l.jsx(Ge,{dateStringFom:k.permisjonOgMangel.permisjonFom,dateStringTom:k.permisjonOgMangel.permisjonTom})})]}),p&&l.jsxs(l.Fragment,{children:[k.internArbeidsforholdId&&a[k.internArbeidsforholdId]&&l.jsx(tt,{saksnummer:e,inntektsmelding:p,skalViseArbeidsforholdId:!1}),l.jsx(A,{fourPx:!0}),l.jsxs(Qt,{onClick:c=>{c.preventDefault(),d(b=>{if(!k.internArbeidsforholdId)return b;const I=b[k.internArbeidsforholdId];return{...b,[k.internArbeidsforholdId]:I===void 0||I===!1}})},href:"",children:[l.jsx("span",{children:l.jsx(_,{size:"small",className:gr.inline,children:l.jsx(f,{id:!k.internArbeidsforholdId||!a[k.internArbeidsforholdId]?"ArbeidsforholdInformasjonPanel.ApneImInfo":"ArbeidsforholdInformasjonPanel.LukkeImInfo"})})}),k.internArbeidsforholdId&&a[k.internArbeidsforholdId]?l.jsx(Zd,{className:gr.arrow}):l.jsx(na,{className:gr.arrow})]})]})]}),l.jsx(A,{sixteenPx:!0}),l.jsx(hg,{dividerParagraf:!0,className:gr.skiller}),l.jsx(A,{sixteenPx:!0})]},`${k.arbeidsgiverIdent}${k.internArbeidsforholdId}`)})]}),l.jsx(A,{eightPx:!0}),g&&!!m&&l.jsx(tt,{saksnummer:e,arbeidsforhold:n[0],inntektsmelding:m,skalViseArbeidsforholdId:r.length>1,alleKodeverk:t,ikkeVisInfo:!0}),g&&r.length===0&&l.jsxs(l.Fragment,{children:[l.jsxs(ie,{gap:"4",children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdInformasjonPanel.Stillingsprosent"})}),l.jsx(_,{size:"small",children:`${n[0].stillingsprosent}%`})]}),n[0].permisjonOgMangel&&l.jsxs(l.Fragment,{children:[l.jsx(A,{eightPx:!0}),l.jsxs(ie,{gap:"4",children:[l.jsx(G,{size:"small",children:Is(t,Yn.PERMISJONSBESKRIVELSE_TYPE,n[0].permisjonOgMangel.type)}),l.jsx(_,{size:"small",children:l.jsx(Ge,{dateStringFom:n[0].permisjonOgMangel.permisjonFom,dateStringTom:n[0].permisjonOgMangel.permisjonTom})})]})]})]})]})};try{Es.displayName="InntektsmeldingerPanel",Es.__docgenInfo={description:"",displayName:"InntektsmeldingerPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},arbeidsforholdForRad:{defaultValue:null,description:"",name:"arbeidsforholdForRad",required:!0,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string | undefined; eksternArbeidsforholdId?: string | undefined; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}},inntektsmeldingerForRad:{defaultValue:null,description:"",name:"inntektsmeldingerForRad",required:!0,type:{name:"Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},arbeidsgiverFødselsdato:{defaultValue:null,description:"",name:"arbeidsgiverFødselsdato",required:!1,type:{name:"string"}}}}}catch{}const Ej="_bredde_gb3eb_1",_j="_belopBredde_gb3eb_5",Sj="_inline_gb3eb_9",Rj="_arrow_gb3eb_13",Mi={bredde:Ej,belopBredde:_j,inline:Sj,arrow:Rj},Nj=[],Fj=(e,n)=>{const t=x(e).subtract(1,"month").startOf("month"),i=t.subtract(12,"month"),s=[];for(let a=t;a.isAfter(i);a=a.subtract(1,"month")){const d=a.format(Be),g=n.find(m=>x(m.fom).startOf("month").format(Be)===d);s.push({beløp:(g==null?void 0:g.beløp)||0,fom:d})}return s},_s=({saksnummer:e,skjæringspunktDato:n,inntektsposter:r=[],arbeidsforholdForRad:t,inntektsmeldingerForRad:i=Nj,alleKodeverk:s,arbeidsgiverFødselsdato:a})=>{const[d,g]=j.useState(!1),m=j.useMemo(()=>Fj(n,r),[r]),k=t.length===1,p=r.length>0&&r.some(c=>c.beløp>0);return l.jsxs(l.Fragment,{children:[l.jsx(Es,{saksnummer:e,arbeidsforholdForRad:t,inntektsmeldingerForRad:i,alleKodeverk:s,arbeidsgiverFødselsdato:a}),l.jsx(A,{thirtyTwoPx:!0}),p&&l.jsxs(l.Fragment,{children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:k?"ArbeidsforholdInformasjonPanel.Inntekter":"ArbeidsforholdInformasjonPanel.TotaltInntekter"})}),l.jsx(A,{fourPx:!0}),l.jsx(ei,{children:m.filter((c,b)=>d?!0:b<3).map(c=>l.jsxs(ie,{gap:"2",className:Mi.bredde,children:[l.jsx(_,{size:"small",children:l.jsx(f,{id:`ArbeidsforholdInformasjonPanel.${x(c.fom).month()+1}`})}),l.jsx(_,{size:"small",children:x(c.fom).year()}),l.jsx(Xr,{}),l.jsx(_,{size:"small",children:z(c.beløp)})]},c.fom))}),l.jsx(A,{fourPx:!0}),l.jsxs(Qt,{onClick:c=>{c.preventDefault(),g(!d)},href:"",children:[l.jsx("span",{children:l.jsx(_,{size:"small",className:Mi.inline,children:l.jsx(f,{id:d?"ArbeidsforholdInformasjonPanel.FaerreManeder":"ArbeidsforholdInformasjonPanel.TidligereManeder"})})}),d?l.jsx(Zd,{className:Mi.arrow}):l.jsx(na,{className:Mi.arrow})]})]}),!p&&l.jsx(G,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdInformasjonPanel.IngenInntekt"})}),l.jsx(A,{thirtyTwoPx:!0})]})};try{_s.displayName="ArbeidsforholdInformasjonPanel",_s.__docgenInfo={description:"",displayName:"ArbeidsforholdInformasjonPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},skjæringspunktDato:{defaultValue:null,description:"",name:"skjæringspunktDato",required:!0,type:{name:"string"}},inntektsposter:{defaultValue:{value:"[]"},description:"",name:"inntektsposter",required:!1,type:{name:"Readonly<{ beløp: number; fom: string; tom: string; type: string; }>[]"}},arbeidsforholdForRad:{defaultValue:null,description:"",name:"arbeidsforholdForRad",required:!0,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string | undefined; eksternArbeidsforholdId?: string | undefined; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}},inntektsmeldingerForRad:{defaultValue:{value:"[] as Inntektsmelding[]"},description:"",name:"inntektsmeldingerForRad",required:!1,type:{name:"Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[] | undefined"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},arbeidsgiverFødselsdato:{defaultValue:null,description:"",name:"arbeidsgiverFødselsdato",required:!1,type:{name:"string"}}}}}catch{}const Pj="_alertStripe_9hpes_1",Bj="_hjelpetekst_9hpes_5",Oj="_hjelpetekstInnhold_9hpes_9",Vj="_svg_9hpes_14",Li={alertStripe:Pj,hjelpetekst:Bj,hjelpetekstInnhold:Oj,svg:Vj},$j=Tn(3),Dj=En(1500),Nl=({saksnummer:e,behandlingUuid:n,skjæringspunktDato:r,inntektsposter:t=[],arbeidsforholdForRad:i,inntektsmeldingerForRad:s,radData:a,isReadOnly:d,lagreVurdering:g,lukkArbeidsforholdRad:m,oppdaterTabell:k,alleKodeverk:p,arbeidsgiverFødselsdato:c})=>{const b=X(),I=j.useMemo(()=>{var L,Z;return{saksbehandlersVurdering:(L=a.avklaring)==null?void 0:L.saksbehandlersVurdering,begrunnelse:(Z=a.avklaring)==null?void 0:Z.begrunnelse}},[a]),T=qe({defaultValues:I});Yt(T.formState.isDirty);const R=i.length===1,S=j.useCallback(()=>{m(),T.reset(I)},[m,I]),N=j.useCallback(L=>{const Z={behandlingUuid:n,vurdering:L.saksbehandlersVurdering,arbeidsgiverIdent:a.arbeidsgiverIdent,internArbeidsforholdRef:R?i[0].internArbeidsforholdId:void 0,begrunnelse:L.begrunnelse};g(Z).then(()=>{k(J=>J.map(C=>C.arbeidsgiverIdent===a.arbeidsgiverIdent?{...a,avklaring:{begrunnelse:L.begrunnelse,saksbehandlersVurdering:L.saksbehandlersVurdering}}:C))}).finally(()=>T.reset(L))},[i,a,k]),E=j.useRef(null),[O,$]=j.useState(!1),V=j.useCallback(()=>$(L=>!L),[]);return l.jsxs(l.Fragment,{children:[l.jsx(_s,{saksnummer:e,skjæringspunktDato:r,inntektsposter:t,arbeidsforholdForRad:i,inntektsmeldingerForRad:s,alleKodeverk:p,arbeidsgiverFødselsdato:c}),l.jsxs(He,{formMethods:T,onSubmit:N,children:[!R&&s.length>0&&l.jsxs("div",{className:Li.alertStripe,children:[l.jsx(_e,{variant:"info",children:l.jsx(f,{id:"InntektsmeldingInnhentesForm.InnehentAlle"})}),l.jsx(A,{sixteenPx:!0})]}),l.jsx(ue,{name:"saksbehandlersVurdering",label:l.jsxs(ie,{gap:"2",children:[l.jsx(f,{id:"InntektsmeldingInnhentesForm.MåInnhentes"}),l.jsx(ro,{ref:E,onClick:V,className:Li.svg,title:b.formatMessage({id:"InntektsmeldingInnhentesForm.AltHjelpetekst"})}),l.jsx(et,{open:O,onClose:V,anchorEl:E.current,className:Li.hjelpetekst,children:l.jsxs(et.Content,{className:Li.hjelpetekstInnhold,children:[l.jsx(_,{children:l.jsx(f,{id:"InntektsmeldingInnhentesForm.HjelpetekstDel1"})}),l.jsx(A,{eightPx:!0}),l.jsx(_,{children:l.jsx(f,{id:"InntektsmeldingInnhentesForm.HjelpetekstDel2"})}),l.jsx(A,{eightPx:!0}),l.jsx(_,{children:l.jsx(f,{id:"InntektsmeldingInnhentesForm.HjelpetekstDel3"})})]})})]}),validate:[H],isReadOnly:d,radios:[{label:b.formatMessage({id:"InntektsmeldingInnhentesForm.TarKontakt"}),value:ae.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_INNTEKTSMELDING},{label:b.formatMessage({id:"InntektsmeldingInnhentesForm.GåVidere"}),value:ae.FORTSETT_UTEN_INNTEKTSMELDING}]}),l.jsx(A,{sixteenPx:!0}),l.jsx(sn,{label:l.jsx(f,{id:R?"InntektsmeldingInnhentesForm.Begrunn":"InntektsmeldingInnhentesForm.Kommentar"}),name:"begrunnelse",validate:[H,$j,Dj,yn],maxLength:1500,readOnly:d}),l.jsx(A,{twentyPx:!0}),!d&&l.jsxs(ie,{gap:"4",children:[l.jsx(ne,{size:"small",variant:"secondary",loading:T.formState.isSubmitting,disabled:!T.formState.isDirty||T.formState.isSubmitting,children:l.jsx(f,{id:"InntektsmeldingInnhentesForm.Lagre"})}),l.jsx(ne,{size:"small",variant:"tertiary",loading:!1,disabled:T.formState.isSubmitting,onClick:S,type:"button",children:l.jsx(f,{id:"InntektsmeldingInnhentesForm.Avbryt"})})]}),l.jsx(A,{fourtyPx:!0})]})]})};try{Nl.displayName="ManglendeInntektsmeldingForm",Nl.__docgenInfo={description:"",displayName:"ManglendeInntektsmeldingForm",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},behandlingUuid:{defaultValue:null,description:"",name:"behandlingUuid",required:!0,type:{name:"string"}},skjæringspunktDato:{defaultValue:null,description:"",name:"skjæringspunktDato",required:!0,type:{name:"string"}},inntektsposter:{defaultValue:{value:"[]"},description:"",name:"inntektsposter",required:!1,type:{name:"Readonly<{ beløp: number; fom: string; tom: string; type: string; }>[]"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},arbeidsforholdForRad:{defaultValue:null,description:"",name:"arbeidsforholdForRad",required:!0,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string | undefined; eksternArbeidsforholdId?: string | undefined; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}},inntektsmeldingerForRad:{defaultValue:null,description:"",name:"inntektsmeldingerForRad",required:!0,type:{name:"Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]"}},radData:{defaultValue:null,description:"",name:"radData",required:!0,type:{name:"ArbeidsforholdOgInntektRadData"}},lagreVurdering:{defaultValue:null,description:"",name:"lagreVurdering",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; vurdering: string; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; }>) => Promise<void>"}},lukkArbeidsforholdRad:{defaultValue:null,description:"",name:"lukkArbeidsforholdRad",required:!0,type:{name:"() => void"}},oppdaterTabell:{defaultValue:null,description:"",name:"oppdaterTabell",required:!0,type:{name:"(data: (rader: ArbeidsforholdOgInntektRadData[]) => ArbeidsforholdOgInntektRadData[]) => void"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},arbeidsgiverFødselsdato:{defaultValue:null,description:"",name:"arbeidsgiverFødselsdato",required:!1,type:{name:"string"}}}}}catch{}const Gj="_ikon_1mrt8_1",Mj="_colTopPadding_1mrt8_5",Lj="_imageColTopPadding_1mrt8_9",Kj="_exclamationmarkIcon_1mrt8_13",wj="_checkmarkIcon_1mrt8_20",fr={ikon:Gj,colTopPadding:Mj,imageColTopPadding:Lj,exclamationmarkIcon:Kj,checkmarkIcon:wj},Uj=Yk.bind(fr),Cj=(e,n)=>e?"ArbeidsforholdRad.Saksbehandler":n?"ArbeidsforholdRad.AaRegisteret":"ArbeidsforholdRad.Inntektsmelding",Yj=(e,n)=>{if((n==null?void 0:n.saksbehandlersVurdering)===ae.MANUELT_OPPRETTET_AV_SAKSBEHANDLER||(n==null?void 0:n.saksbehandlersVurdering)===ae.OPPRETT_BASERT_PÅ_INNTEKTSMELDING)return{fom:n==null?void 0:n.fom,tom:n==null?void 0:n.tom};const r=e.reduce((t,i)=>({fom:t.fom&&x(t.fom).isBefore(i.fom)?t.fom:i.fom,tom:t.tom&&x(t.tom).isAfter(i.tom)?t.tom:i.tom}),{fom:void 0,tom:void 0});return r.fom?r:void 0},zj=(e,n)=>{const r=e.some(s=>s.internArbeidsforholdId),t=e.some(s=>!s.internArbeidsforholdId);if(r&&t)throw Error("Har inntektsmelding både med og uten id");const i=e.find(s=>!s.internArbeidsforholdId||!n||s.internArbeidsforholdId===n);if(!i)throw Error(`Finner ingen inntektsmelding for arbeidsforhold id ${n}`);return i},Fl=({saksnummer:e,behandlingUuid:n,arbeidOgInntekt:r,radData:t,isReadOnly:i,erOverstyrt:s,oppdaterTabell:a,registrerArbeidsforhold:d,lagreVurdering:g,toggleÅpenRad:m,erRadÅpen:k,alleKodeverk:p})=>{var K;const c=X(),{arbeidsgiverNavn:b,arbeidsgiverIdent:I,årsak:T,avklaring:R,arbeidsgiverFødselsdato:S}=t,N=j.useMemo(()=>r.arbeidsforhold.filter(w=>w.arbeidsgiverIdent===I),[r,I]),E=j.useMemo(()=>r.inntektsmeldinger.filter(w=>w.arbeidsgiverIdent===I),[r,I]),O=(R==null?void 0:R.saksbehandlersVurdering)===ae.MANUELT_OPPRETTET_AV_SAKSBEHANDLER,$=N.length>0&&E.length>0&&!T,V=T===Ct.MANGLENDE_INNTEKTSMELDING,L=T===Ct.INNTEKTSMELDING_UTEN_ARBEIDSFORHOLD,Z=!!T&&!(R!=null&&R.saksbehandlersVurdering),J=N.length>0&&E.length===0&&!T&&!O,C=N.length===0&&E.length>0&&!T,B=j.useMemo(()=>Yj(N,t.avklaring),[O,N,t.avklaring]),U=(K=r.inntekter.find(w=>w.arbeidsgiverIdent===I))==null?void 0:K.inntekter;return l.jsxs(Rb,{alignWithColumn:1,content:l.jsxs(l.Fragment,{children:[O&&l.jsx(Ts,{behandlingUuid:n,isReadOnly:!1,registrerArbeidsforhold:d,radData:t,arbeidsforhold:N[0],lukkArbeidsforholdRad:m,erOverstyrt:s,oppdaterTabell:a}),$&&l.jsx(Es,{saksnummer:e,arbeidsforholdForRad:N,inntektsmeldingerForRad:E,alleKodeverk:p,arbeidsgiverFødselsdato:S}),C&&l.jsx(tt,{saksnummer:e,arbeidsforhold:N.length>0?N[0]:void 0,inntektsmelding:zj(E,N.length>0?N[0].internArbeidsforholdId:void 0),skalViseArbeidsforholdId:!1,alleKodeverk:p,arbeidsgiverFødselsdato:S}),V&&l.jsx(Nl,{saksnummer:e,behandlingUuid:n,skjæringspunktDato:r.skjæringstidspunkt,inntektsposter:U,isReadOnly:i,arbeidsforholdForRad:N,inntektsmeldingerForRad:E,radData:t,lagreVurdering:g,lukkArbeidsforholdRad:m,oppdaterTabell:a,alleKodeverk:p,arbeidsgiverFødselsdato:S}),L&&l.jsx(Rl,{saksnummer:e,behandlingUuid:n,arbeidsgiverNavn:b,inntektsmelding:E[0],radData:t,isReadOnly:i,registrerArbeidsforhold:d,lagreVurdering:g,lukkArbeidsforholdRad:m,oppdaterTabell:a,skalViseArbeidsforholdId:E.length>1}),J&&l.jsx(_s,{saksnummer:e,skjæringspunktDato:r.skjæringstidspunkt,inntektsposter:U,arbeidsforholdForRad:N,alleKodeverk:p,arbeidsgiverFødselsdato:S})]}),showContent:k,toggleContent:m,isApLeftBorder:Z,children:[l.jsxs(q,{className:Uj("ikon",k?"imageColTopPadding":void 0),children:[!Z&&l.jsx(Wd,{title:c.formatMessage({id:"ArbeidsforholdRad.Ok"}),className:fr.checkmarkIcon}),Z&&l.jsx(_r,{title:c.formatMessage({id:"ArbeidsforholdRad.Aksjonspunkt"}),className:fr.exclamationmarkIcon})]}),l.jsxs(q,{className:k?fr.colTopPadding:void 0,children:[k&&l.jsx(G,{size:"small",children:b}),!k&&l.jsx(_,{size:"small",children:b})]}),l.jsx(q,{className:k?fr.colTopPadding:void 0,children:l.jsxs(_,{children:[B&&B.fom&&l.jsx(Ge,{dateStringFom:B.fom,dateStringTom:B.tom!==ze?B.tom:void 0}),!B&&"-"]})}),l.jsx(q,{className:k?fr.colTopPadding:void 0,children:l.jsx(_,{children:l.jsx(f,{id:Cj(O,N.length>0)})})}),l.jsx(q,{className:k?fr.colTopPadding:void 0,children:l.jsxs(_,{children:[N.length<2&&E.length===1&&l.jsx(Re,{dateString:E[0].motattDato}),!V&&N.length>1&&E.length===N.length&&l.jsx(f,{id:"ArbeidsforholdRad.Mottatt"}),(O||V&&E.length<N.length)&&l.jsx(f,{id:"ArbeidsforholdRad.IkkeMottatt"})]})})]})};try{Fl.displayName="ArbeidsforholdRad",Fl.__docgenInfo={description:"",displayName:"ArbeidsforholdRad",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},behandlingUuid:{defaultValue:null,description:"",name:"behandlingUuid",required:!0,type:{name:"string"}},arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},radData:{defaultValue:null,description:"",name:"radData",required:!0,type:{name:"ArbeidsforholdOgInntektRadData"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},erOverstyrt:{defaultValue:null,description:"",name:"erOverstyrt",required:!0,type:{name:"boolean"}},oppdaterTabell:{defaultValue:null,description:"",name:"oppdaterTabell",required:!0,type:{name:"(data: (rader: ArbeidsforholdOgInntektRadData[]) => ArbeidsforholdOgInntektRadData[]) => void"}},registrerArbeidsforhold:{defaultValue:null,description:"",name:"registrerArbeidsforhold",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; arbeidsgiverNavn: string; fom: string; tom?: string | undefined; stillingsprosent: number; vurdering: string; }>) => Promise<...>"}},lagreVurdering:{defaultValue:null,description:"",name:"lagreVurdering",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; vurdering: string; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; }>) => Promise<void>"}},toggleÅpenRad:{defaultValue:null,description:"",name:"toggleÅpenRad",required:!0,type:{name:"() => void"}},erRadÅpen:{defaultValue:null,description:"",name:"erRadÅpen",required:!0,type:{name:"boolean"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}}}}}catch{}const qj="_leggTilImage_2poz8_1",Hj="_alertStripe_2poz8_5",Jj={leggTilImage:qj,alertStripe:Hj},Zj=(e,n)=>{const r=e.some(a=>a.årsak===Ct.MANGLENDE_INNTEKTSMELDING),t=e.some(a=>a.årsak===Ct.INNTEKTSMELDING_UTEN_ARBEIDSFORHOLD),i=(n==null?void 0:n.status)===rt.OPPRETTET,s=[];return i&&r&&s.push("ArbeidOgInntektFaktaPanel.InnhentManglendeInntektsmelding"),i&&t&&s.push("ArbeidOgInntektFaktaPanel.AvklarManglendeOpplysninger"),s},Pl=({behandling:e,aksjonspunkt:n,readOnly:r,arbeidOgInntekt:t,registrerArbeidsforhold:i,erOverstyrer:s,tabellData:a,settÅpneRadIndexer:d,setErOverstyrt:g,oppdaterTabell:m})=>{const k=X(),{arbeidsforhold:p,inntektsmeldinger:c}=t,[b,I]=j.useState(!1),[T,R]=j.useState(!1),S=j.useCallback(()=>{g(!0),I(!0);const $=a.findIndex(V=>{var L;return((L=V.avklaring)==null?void 0:L.saksbehandlersVurdering)===ae.MANUELT_OPPRETTET_AV_SAKSBEHANDLER});$!==-1&&d([$])},[a,d]),N=j.useMemo(()=>Zj(a,n),[e.versjon]),E=a.every($=>$.arbeidsgiverIdent!==Yr),O=(n==null?void 0:n.status)===rt.OPPRETTET;return l.jsxs(l.Fragment,{children:[l.jsxs(ie,{gap:"4",children:[l.jsx(te,{size:"small",children:l.jsx(f,{id:"ArbeidOgInntektFaktaPanel.Overskrift"})}),s&&O&&!r&&l.jsx(ni,{onClick:S}),l.jsx(Xr,{}),l.jsx(_,{size:"small",children:l.jsx(f,{id:"ArbeidOgInntektFaktaPanel.Skjaringstidspunkt",values:{skjæringspunktDato:Ce(t.skjæringstidspunkt)}})})]}),l.jsx(A,{thirtyTwoPx:!0}),N.length>0&&l.jsx(ri,{children:N.map($=>k.formatMessage({id:$})).join(" ")}),p.length===0&&c.length===0&&s&&l.jsx("div",{className:Jj.alertStripe,children:l.jsx(_e,{variant:"info",children:l.jsx(f,{id:"ArbeidOgInntektFaktaPanel.IngenArbeidsforhold"})})}),l.jsx(A,{sixteenPx:!0}),b&&E&&!T&&l.jsxs(l.Fragment,{children:[l.jsx(A,{twentyPx:!0}),l.jsx(ne,{size:"small",variant:"tertiary",icon:l.jsx(mt,{"aria-hidden":!0}),onClick:()=>R(!0),children:l.jsx(f,{id:"ArbeidOgInntektFaktaPanel.LeggTilArbeidsforhold"})}),l.jsx(A,{thirtyTwoPx:!0})]}),l.jsx(A,{thirtyTwoPx:!0}),T&&l.jsxs(l.Fragment,{children:[l.jsx(Ts,{behandlingUuid:e.uuid,isReadOnly:!1,registrerArbeidsforhold:i,lukkArbeidsforholdRad:()=>R(!1),oppdaterTabell:m,erOverstyrt:!0,erNyttArbeidsforhold:!0}),l.jsx(A,{fourtyPx:!0})]})]})};try{Pl.displayName="ArbeidsOgInntektOverstyrPanel",Pl.__docgenInfo={description:"",displayName:"ArbeidsOgInntektOverstyrPanel",props:{behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},aksjonspunkt:{defaultValue:null,description:"",name:"aksjonspunkt",required:!1,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string; vilkarType?: string; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }> | undefined"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},registrerArbeidsforhold:{defaultValue:null,description:"",name:"registrerArbeidsforhold",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; arbeidsgiverNavn: string; fom: string; tom?: string | undefined; stillingsprosent: number; vurdering: string; }>) => Promise<...>"}},erOverstyrer:{defaultValue:null,description:"",name:"erOverstyrer",required:!0,type:{name:"boolean"}},tabellData:{defaultValue:null,description:"",name:"tabellData",required:!0,type:{name:"ArbeidsforholdOgInntektRadData[]"}},settÅpneRadIndexer:{defaultValue:null,description:"",name:"settÅpneRadIndexer",required:!0,type:{name:"Dispatch<SetStateAction<number[]>>"}},setErOverstyrt:{defaultValue:null,description:"",name:"setErOverstyrt",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}},oppdaterTabell:{defaultValue:null,description:"",name:"oppdaterTabell",required:!0,type:{name:"(data: (rader: ArbeidsforholdOgInntektRadData[]) => ArbeidsforholdOgInntektRadData[]) => void"}}}}}catch{}const Wj="_alertStripe_z95u6_1",Xj={alertStripe:Wj},Qj=["EMPTY1","ArbeidOgInntektFaktaPanel.Arbeidsforhold","ArbeidOgInntektFaktaPanel.Periode","ArbeidOgInntektFaktaPanel.Kilde","ArbeidOgInntektFaktaPanel.InntektsmeldingMottatt","EMPTY2"],eI=(e,n)=>{const r=e.årsak,t=n.årsak;return r&&!t?-1:t&&!r?1:e.arbeidsgiverNavn.localeCompare(n.arbeidsgiverNavn)},Eg=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent,nI=(e,n)=>{const r={saksbehandlersVurdering:e.saksbehandlersVurdering,begrunnelse:e.begrunnelse};return e.saksbehandlersVurdering===ae.MANUELT_OPPRETTET_AV_SAKSBEHANDLER||e.saksbehandlersVurdering===ae.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?{...r,arbeidsgiverNavn:n,fom:e.fom,tom:e.tom,stillingsprosent:e.stillingsprosent}:r},rI=e=>e.årsak?-1:1,tI=(e,n)=>{const{arbeidsforhold:r,inntektsmeldinger:t}=e,i=[...r.sort(rI)].reduce((a,d)=>{var c;if(a.find(b=>b.arbeidsgiverIdent===d.arbeidsgiverIdent))return a;const m=n[d.arbeidsgiverIdent],k=m.navn,p=d.årsak?d.årsak:(c=t.find(b=>Eg(d,b)))==null?void 0:c.årsak;return a.concat({arbeidsgiverIdent:d.arbeidsgiverIdent,arbeidsgiverNavn:k,arbeidsgiverFødselsdato:m.erPrivatPerson?m.fødselsdato:void 0,årsak:p,avklaring:d.saksbehandlersVurdering?nI(d,k):void 0})},[]),s=t.filter(a=>!r.some(d=>Eg(d,a))).map(a=>({arbeidsgiverIdent:a.arbeidsgiverIdent,internArbeidsforholdId:a.internArbeidsforholdId,arbeidsgiverNavn:n[a.arbeidsgiverIdent].navn,arbeidsgiverFødselsdato:n[a.arbeidsgiverIdent].erPrivatPerson?n[a.arbeidsgiverIdent].fødselsdato:void 0,årsak:a.årsak,avklaring:a.saksbehandlersVurdering?{saksbehandlersVurdering:a.saksbehandlersVurdering,begrunnelse:a.begrunnelse}:void 0}));return i.concat(s).sort(eI)},_g=e=>{const n=e.findIndex(r=>r.årsak&&!r.avklaring);return n!==-1?[n]:[]},Bl=({saksnummer:e,behandling:n,aksjonspunkt:r,readOnly:t,arbeidOgInntekt:i,arbeidsgiverOpplysningerPerId:s,registrerArbeidsforhold:a,lagreVurdering:d,formData:g,setFormData:m,erOverstyrer:k,lagreCallback:p,settBehandlingPåVentCallback:c,alleKodeverk:b,åpneForNyVurdering:I})=>{const[T,R]=j.useState(!1),[S,N]=j.useState(!1),[E,O]=j.useState(!1),[$,V]=j.useState(g||tI(i,s)),[L,Z]=j.useState(_g($)),J=Zh();j.useEffect(()=>()=>{m($)},[$]);const C=j.useCallback(fe=>{L.some(Ae=>Ae===fe)?Z(L.filter(Ae=>Ae!==fe)):Z(L.concat(fe))},[L,Z]),B=j.useRef(null),U=j.useCallback(fe=>{var Ae;V(fe),Z(_g(fe($))),(Ae=B==null?void 0:B.current)==null||Ae.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[$]),K=j.useCallback(()=>{R(!0),p({kode:se.VURDER_ARBEIDSFORHOLD_INNTEKTSMELDING})},[n.versjon]),w=j.useCallback(()=>{R(!0),I()},[n.versjon]),Q=j.useCallback(fe=>{R(!0),N(!1);const{frist:Ae,ventearsak:_t}=fe;_t&&c({frist:Ae,ventearsak:_t})},[n.versjon]),ve=$.some(fe=>{var Ae,_t;return((Ae=fe.avklaring)==null?void 0:Ae.saksbehandlersVurdering)===ae.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_INNTEKTSMELDING||((_t=fe.avklaring)==null?void 0:_t.saksbehandlersVurdering)===ae.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_ARBEIDSFORHOLD}),Ne=$.every(fe=>!fe.årsak||fe.årsak&&fe.avklaring),Le=(r==null?void 0:r.status)===rt.UTFORT,Nn=(r==null?void 0:r.status)===rt.OPPRETTET,Ie=!t&&(Le||k&&r===void 0),ce=!t&&Nn&&Ne&&!J&&ve,ln=!t&&Nn&&Ne&&!J&&!ve;return l.jsxs(l.Fragment,{children:[l.jsx(Pl,{behandling:n,aksjonspunkt:r,readOnly:t,arbeidOgInntekt:i,registrerArbeidsforhold:a,erOverstyrer:k,tabellData:$,settÅpneRadIndexer:Z,setErOverstyrt:O,oppdaterTabell:U}),l.jsx(an,{ref:B,headerTextCodes:Qj,noHover:!0,hasGrayHeader:!0,children:$.map((fe,Ae)=>l.jsx(Fl,{arbeidOgInntekt:i,saksnummer:e,behandlingUuid:n.uuid,radData:fe,isReadOnly:t||Le,registrerArbeidsforhold:a,lagreVurdering:d,toggleÅpenRad:()=>C(Ae),erOverstyrt:E,oppdaterTabell:U,erRadÅpen:L.includes(Ae),alleKodeverk:b},`${fe.arbeidsgiverNavn}${fe.arbeidsgiverIdent}${Ae}`))}),l.jsx(A,{sixteenPx:!0}),ce&&l.jsxs(l.Fragment,{children:[l.jsx(ne,{size:"small",variant:"primary",disabled:T,onClick:()=>N(!0),type:"button",children:l.jsx(f,{id:"ArbeidOgInntektFaktaPanel.SettPaVent"})}),l.jsx(kb,{submitCallback:Q,cancelEvent:()=>N(!1),defaultVenteårsak:fb.VENT_OPDT_INNTEKTSMELDING,hasManualPaVent:!0,ventearsaker:b[Yn.VENT_AARSAK],erTilbakekreving:!1,showModal:S})]}),ln&&l.jsx(ne,{size:"small",variant:"primary",disabled:T,loading:T,onClick:K,type:"button",children:l.jsx(f,{id:"ArbeidOgInntektFaktaPanel.Bekreft"})}),Ie&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:Xj.alertStripe,children:l.jsx(_e,{variant:"info",children:l.jsx(f,{id:"ArbeidOgInntektFaktaPanel.ApneForNyRevurderingForklaring"})})}),l.jsx(A,{sixteenPx:!0}),l.jsx(ne,{size:"small",variant:"secondary",disabled:T,loading:T,onClick:w,type:"button",children:l.jsx(f,{id:"ArbeidOgInntektFaktaPanel.ApneForNyVurdering"})})]})]})};try{Bl.displayName="ArbeidOgInntektFaktaPanel",Bl.__docgenInfo={description:"",displayName:"ArbeidOgInntektFaktaPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},aksjonspunkt:{defaultValue:null,description:"",name:"aksjonspunkt",required:!1,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string; vilkarType?: string; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }> | undefined"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"ArbeidsforholdOgInntektRadData[]"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: ArbeidsforholdOgInntektRadData[]) => void"}},arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},registrerArbeidsforhold:{defaultValue:null,description:"",name:"registrerArbeidsforhold",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; arbeidsgiverNavn: string; fom: string; tom?: string | undefined; stillingsprosent: number; vurdering: string; }>) => Promise<...>"}},lagreVurdering:{defaultValue:null,description:"",name:"lagreVurdering",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; vurdering: string; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; }>) => Promise<void>"}},lagreCallback:{defaultValue:null,description:"",name:"lagreCallback",required:!0,type:{name:"(aksjonspunktData: FaktaAksjonspunkt) => Promise<void>"}},settBehandlingPåVentCallback:{defaultValue:null,description:"",name:"settBehandlingPåVentCallback",required:!0,type:{name:"(params: { frist?: string | undefined; ventearsak: string; }) => Promise<any>"}},erOverstyrer:{defaultValue:null,description:"",name:"erOverstyrer",required:!0,type:{name:"boolean"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},åpneForNyVurdering:{defaultValue:null,description:"",name:"åpneForNyVurdering",required:!0,type:{name:"() => void"}}}}}catch{}const iI={"ArbeidOgInntektFaktaPanel.Overskrift":"Fakta om arbeid og inntekt","ArbeidOgInntektFaktaPanel.Arbeidsforhold":"Arbeidsforhold","ArbeidOgInntektFaktaPanel.Periode":"Periode","ArbeidOgInntektFaktaPanel.Kilde":"Kilde","ArbeidOgInntektFaktaPanel.InntektsmeldingMottatt":"Inntektsmelding","ArbeidOgInntektFaktaPanel.InnhentManglendeInntektsmelding":"Innhent manglende inntektsmeldinger.","ArbeidOgInntektFaktaPanel.AvklarManglendeOpplysninger":"Avklar manglende opplysninger.","ArbeidOgInntektFaktaPanel.IngenArbeidsforhold":"Ingen arbeidsforhold eller inntektsmeldinger registrert på bruker. Det er kun unntaksvis at det skal opprettes manuelle arbeidsforhold. Det kan være i saker søker er ambassadepersonell, utenlandske ansatte eller fisker. Hvis det er andre arbeidsforhold må du kontakte arbeidsgiver eller søker for riktig registrering i AA-reg.","ArbeidOgInntektFaktaPanel.Skjaringstidspunkt":"Skjæringstidspunkt for opptjening: {skjæringspunktDato}","ArbeidOgInntektFaktaPanel.SettPaVent":"Sett på vent","ArbeidOgInntektFaktaPanel.Bekreft":"Bekreft og fortsett","ArbeidOgInntektFaktaPanel.LeggTilArbeidsforhold":" Legg til arbeidsforhold","ArbeidOgInntektFaktaPanel.ApneForNyVurdering":"Åpne for ny vurdering","ArbeidOgInntektFaktaPanel.ApneForNyRevurderingForklaring":'Ved å bruke "Åpne for ny vurdering" kan du endre valg som er gjort i dette panelet. Det som er gjort senere i saken, må gjøres på ny.',"ArbeidsforholdRad.Saksbehandler":"Saksbehandler","ArbeidsforholdRad.AaRegisteret":"A-ordningen","ArbeidsforholdRad.Inntektsmelding":"Inntektsmelding","ArbeidsforholdRad.Aksjonspunkt":"Åpent aksjonspunkt","ArbeidsforholdRad.Ok":"Arbeidsforhold er OK","ArbeidsforholdRad.Mottatt":"Mottatt","ArbeidsforholdRad.IkkeMottatt":"Ikke mottatt","InntektsmeldingInnhentesForm.MåInnhentes":"Må inntektsmelding innhentes?","InntektsmeldingInnhentesForm.TarKontakt":"Jeg tar kontakt med søker eller arbeidsgiver for å innhente inntektsmelding","InntektsmeldingInnhentesForm.GåVidere":"Gå videre uten inntektsmelding","InntektsmeldingInnhentesForm.Begrunn":"Begrunn valget","InntektsmeldingInnhentesForm.Kommentar":"Kommentar","InntektsmeldingInnhentesForm.Lagre":"Lagre","InntektsmeldingInnhentesForm.Avbryt":"Avbryt","InntektsmeldingInnhentesForm.AltHjelpetekst":"Hjelpetekst","InntektsmeldingInnhentesForm.HjelpetekstDel1":"Vi trenger inntektsmelding for å behandle saken. Kontakt arbeidsgiveren per telefon. Hvis kontaktinformasjonen til arbeidsgiver er vanskelig å finne, kontakt bruker først.","InntektsmeldingInnhentesForm.HjelpetekstDel2":"Det er kun unntaksvis at en sak skal behandles uten inntektsmelding, f.eks. at man etter gjentatte ganger ikke oppnår kontakt. Refusjon til arbeidsgiver er ikke mulig uten en inntektsmelding.","InntektsmeldingInnhentesForm.HjelpetekstDel3":"Dersom det er flere arbeidsforhold i samme virksomhet må det sendes en inntektsmelding som gjelder samlet for alle, eller én per arbeidsforhold med arbeidsforholdsID.","InntektsmeldingInnhentesForm.InnehentAlle":"Ved flere arbeidsforhold i samme virksomhet, skal alle inntektsmeldinger innhentes. Mottas ikke alle, må du vurdere om du skal gå videre uten alle inntektsmeldingene. Gjør du det, fjernes arbeidsforholdet (ene) fra beregningen.","InntektsmeldingOpplysningerPanel.Stillingsprosent":"Stillingsprosent","InntektsmeldingOpplysningerPanel.Inntektsmelding":"Inntektsmelding","InntektsmeldingOpplysningerPanel.Refusjon":"Refusjon","InntektsmeldingOpplysningerPanel.Ja":"Ja","InntektsmeldingOpplysningerPanel.Nei":"Nei","InntektsmeldingOpplysningerPanel.Refusjonsbeløp":"Refusjonsbeløp","InntektsmeldingOpplysningerPanel.Kontaktinfo":"Kontaktinfo","InntektsmeldingOpplysningerPanel.Tlf":"Tlf. {nr}","InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding":"Åpne inntektsmelding (PDF)","InntektsmeldingOpplysningerPanel.ArbeidsforholdId":"ID","ManglendeOpplysningerForm.ErMottattMenIkkeReg":"Inntektsmelding er mottatt, men arbeidsforholdet er ikke registrert i A-ordningen","ManglendeOpplysningerForm.SkalBrukeInntekstmelding":"Skal vi bruke denne inntektsmeldingen?","ManglendeOpplysningerForm.TarKontakt":"Jeg kontakter arbeidsgiver","ManglendeOpplysningerForm.GåVidere":"Se bort fra inntektsmeldingen","ManglendeOpplysningerForm.OpprettArbeidsforhold":"Opprett arbeidsforhold basert på inntektsmeldingen","ManglendeOpplysningerForm.Begrunn":"Begrunn valget","ManglendeOpplysningerForm.PeriodeFra":"Periode fra","ManglendeOpplysningerForm.PeriodeTil":"Periode til","ManglendeOpplysningerForm.Stillingsprosent":"Stillingsprosent","ManglendeOpplysningerForm.Lagre":"Lagre","ManglendeOpplysningerForm.Avbryt":"Avbryt","ManglendeOpplysningerForm.AltHjelpetekst":"Hjelpetekst","ManglendeOpplysningerForm.Hjelpetekst":"Det er kun unntaksvis at det skal opprettes manuelle arbeidsforhold basert på en inntektsmelding. Det kan være i saker hvor søker er ambassadepersonell, utenlandske ansatte eller fisker. Hvis det er andre arbeidsforhold må du kontakte arbeidsgiver eller søker for riktig registrering i AA-reg.","ArbeidsforholdInformasjonPanel.ArbeidsforholdId":"ID","ArbeidsforholdInformasjonPanel.Stillingsprosent":"Stillingsprosent","ArbeidsforholdInformasjonPanel.Periode":"Periode","ArbeidsforholdInformasjonPanel.ImMottatt":"Inntektsmelding mottatt","ArbeidsforholdInformasjonPanel.ImIkkeMottatt":"Ikke mottatt inntektsmelding","ArbeidsforholdInformasjonPanel.Inntekter":"Inntekter (fra A-ordningen)","ArbeidsforholdInformasjonPanel.TotaltInntekter":"Inntekter totalt fra virksomheten (fra A-ordningen)","ArbeidsforholdInformasjonPanel.1":"Jan","ArbeidsforholdInformasjonPanel.2":"Feb","ArbeidsforholdInformasjonPanel.3":"Mars","ArbeidsforholdInformasjonPanel.4":"Apr","ArbeidsforholdInformasjonPanel.5":"Mai","ArbeidsforholdInformasjonPanel.6":"Jun","ArbeidsforholdInformasjonPanel.7":"Jul","ArbeidsforholdInformasjonPanel.8":"Aug","ArbeidsforholdInformasjonPanel.9":"Sep","ArbeidsforholdInformasjonPanel.10":"Okt","ArbeidsforholdInformasjonPanel.11":"Nov","ArbeidsforholdInformasjonPanel.12":"Des","ArbeidsforholdInformasjonPanel.TidligereManeder":"Tidligere måneder ","ArbeidsforholdInformasjonPanel.FaerreManeder":"Siste måneder ","ArbeidsforholdInformasjonPanel.IngenInntekt":"Ingen inntekt registrert på bruker i A-ordningen siste seks mnd.","ArbeidsforholdInformasjonPanel.ÅpneInntektsmelding":"Åpne inntektsmelding (PDF)","ArbeidsforholdInformasjonPanel.ApneImInfo":"Vis mer","ArbeidsforholdInformasjonPanel.LukkeImInfo":"Vis mindre","ArbeidsforholdInformasjonPanel.Orgnr":"Org.nr.","ArbeidsforholdInformasjonPanel.Fodselsdato":"Fødselsdato","LeggTilArbeidsforholdForm.LeggTilArbeidsforhold":"Legg til arbeidsforhold","LeggTilArbeidsforholdForm.Arbeidsgiver":"Navn på arbeidsgiver","LeggTilArbeidsforholdForm.PeriodeFra":"Periode fra","LeggTilArbeidsforholdForm.PeriodeTil":"Periode til","LeggTilArbeidsforholdForm.Stillingsprosent":"Stillingsprosent","LeggTilArbeidsforholdForm.Begrunn":"Begrunn endringene","LeggTilArbeidsforholdForm.Lagre":"Lagre","LeggTilArbeidsforholdForm.Avbryt":"Avbryt","LeggTilArbeidsforholdForm.Slett":"Slett","NyttArbeidsforholdForm.VilDuSlette":"Vil du slette arbeidsforholdet?","ExpandableTableRow.Apne":"Åpne rad","ExpandableTableRow.Lukke":"Lukk rad"},sI=Oe(iI),Ol=({saksnummer:e,behandling:n,submitCallback:r,aksjonspunkter:t,readOnly:i,formData:s,setFormData:a,arbeidOgInntekt:d,arbeidsgiverOpplysningerPerId:g,registrerArbeidsforhold:m,lagreVurdering:k,erOverstyrer:p,settBehandlingPåVentCallback:c,alleKodeverk:b,åpneForNyVurdering:I})=>l.jsx(Ye,{value:sI,children:l.jsx(Sl,{children:l.jsx(Bl,{saksnummer:e,behandling:n,aksjonspunkt:t.length>0?t[0]:void 0,readOnly:i,formData:s,lagreCallback:r,setFormData:a,arbeidOgInntekt:d,arbeidsgiverOpplysningerPerId:g,registrerArbeidsforhold:m,lagreVurdering:k,erOverstyrer:p,settBehandlingPåVentCallback:c,alleKodeverk:b,åpneForNyVurdering:I})})});try{Ol.displayName="ArbeidOgInntektFaktaIndex",Ol.__docgenInfo={description:"",displayName:"ArbeidOgInntektFaktaIndex",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},registrerArbeidsforhold:{defaultValue:null,description:"",name:"registrerArbeidsforhold",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; arbeidsgiverNavn: string; fom: string; tom?: string | undefined; stillingsprosent: number; vurdering: string; }>) => Promise<...>"}},lagreVurdering:{defaultValue:null,description:"",name:"lagreVurdering",required:!0,type:{name:"(params: Readonly<{ behandlingUuid: string; vurdering: string; begrunnelse: string; arbeidsgiverIdent: string; internArbeidsforholdRef?: string | undefined; }>) => Promise<void>"}},erOverstyrer:{defaultValue:null,description:"",name:"erOverstyrer",required:!0,type:{name:"boolean"}},settBehandlingPåVentCallback:{defaultValue:null,description:"",name:"settBehandlingPåVentCallback",required:!0,type:{name:"(params: { frist?: string | undefined; ventearsak: string; }) => Promise<any>"}},åpneForNyVurdering:{defaultValue:null,description:"",name:"åpneForNyVurdering",required:!0,type:{name:"() => void"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},submittable:{defaultValue:null,description:"",name:"submittable",required:!0,type:{name:"boolean"}},harApneAksjonspunkter:{defaultValue:null,description:"",name:"harApneAksjonspunkter",required:!0,type:{name:"boolean"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const aI=[se.VURDER_ARBEIDSFORHOLD_INNTEKTSMELDING],lI=[we.ARBEID_OG_INNTEKT],Sg=({saksnummer:e,behandlingUuid:n,arbeidsgiverOpplysningerPerId:r,rettigheter:t,hentOgSettBehandling:i,...s})=>{const a=X(),{startRequest:d}=Di.useRestApiRunner(we.ARBEID_OG_INNTEKT_REGISTRER_ARBEIDSFORHOLD),{startRequest:g}=Di.useRestApiRunner(we.ARBEID_OG_INNTEKT_LAGRE_VURDERING),{startRequest:m}=Di.useRestApiRunner(we.BEHANDLING_ON_HOLD),{startRequest:k}=Di.useRestApiRunner(we.ARBEID_OG_INNTEKT_ÅPNE_FOR_NY_VURDERING),p=j.useCallback(()=>{k({behandlingUuid:n,behandlingVersjon:s.behandling.versjon}).then(()=>i())},[s.behandling.versjon]),c=j.useCallback(b=>m({frist:b.frist||"",ventearsak:b.ventearsak,behandlingUuid:n,behandlingVersjon:s.behandling.versjon}).then(()=>i()),[s.behandling.versjon]);return l.jsx(Ir,{...s,panelEndepunkter:lI,aksjonspunktKoder:aI,faktaPanelKode:jr.ARBEID_OG_INNTEKT,faktaPanelMenyTekst:a.formatMessage({id:"ArbeidOgInntektInfoPanel.Title"}),skalPanelVisesIMeny:()=>hl.hasPath(we.ARBEID_OG_INNTEKT.name)&&!s.behandling.aksjonspunkt.some(b=>se.AVKLAR_ARBEIDSFORHOLD===b.definisjon),renderPanel:b=>l.jsx(Ol,{saksnummer:e,arbeidsgiverOpplysningerPerId:r,erOverstyrer:t.kanOverstyreAccess.isEnabled,registrerArbeidsforhold:d,lagreVurdering:g,settBehandlingPåVentCallback:c,åpneForNyVurdering:p,...b})})};try{Sg.displayName="ArbeidOgInntektFaktaInitPanel",Sg.__docgenInfo={description:"",displayName:"ArbeidOgInntektFaktaInitPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},behandlingUuid:{defaultValue:null,description:"",name:"behandlingUuid",required:!0,type:{name:"string"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},rettigheter:{defaultValue:null,description:"",name:"rettigheter",required:!0,type:{name:"AksessRettigheter"}},hentOgSettBehandling:{defaultValue:null,description:"",name:"hentOgSettBehandling",required:!0,type:{name:"() => void"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}var Qe=(e=>(e.FORDEL_BEREGNINGSGRUNNLAG="FORDEL_BG",e.VURDER_REFUSJON_BERGRUNN="VURDER_REFUSJONSKRAV",e.VURDER_NYTT_INNTKTSFRHLD="VURDER_NYTT_INNTKTSFRHLD",e))(Qe||{}),dI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sf={exports:{}},Ft={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function oI(){if(Rg)return Ft;Rg=1;var e=M,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(d,g,m){var k,p={},c=null,b=null;m!==void 0&&(c=""+m),g.key!==void 0&&(c=""+g.key),g.ref!==void 0&&(b=g.ref);for(k in g)t.call(g,k)&&!s.hasOwnProperty(k)&&(p[k]=g[k]);if(d&&d.defaultProps)for(k in g=d.defaultProps,g)p[k]===void 0&&(p[k]=g[k]);return{$$typeof:n,type:d,key:c,ref:b,props:p,_owner:i.current}}return Ft.Fragment=r,Ft.jsx=a,Ft.jsxs=a,Ft}sf.exports=oI();var v=sf.exports;const Kt=e=>e?`...${e.substring(e.length-4,e.length)}`:"",ii=(e,n)=>{const{navn:r,fødselsdato:t,erPrivatPerson:i,identifikator:s}=e;return i?t?`${r} (${x(t).format(ee)})${Kt(n)}`:r:s?`${r} (${s})${Kt(n)}`:r},Vl=(e,n)=>{var r,t;const i=((r=e.arbeidsgiver)==null?void 0:r.arbeidsgiverOrgnr)||((t=e.arbeidsgiver)==null?void 0:t.arbeidsgiverAktørId);if(!i||!n[i])return"";const s=n[i];return s.erPrivatPerson?s.fødselsdato?`${s.navn} (${x(s.fødselsdato).format(ee)})${Kt(e.eksternArbeidsforholdRef)}`:`${s.navn}${Kt(e.eksternArbeidsforholdRef)}`:`${s.navn} (${i})${Kt(e.eksternArbeidsforholdRef)}`},gI="_tabell_u17gc_1",uI="_fadein_u17gc_1",mI="_correctPadding_u17gc_9",kI="_flexColumn12_u17gc_12",fI="_flexColumn9_u17gc_15",pI="_flexColumn3_u17gc_18",Ss={tabell:gI,fadein:uI,correctPadding:mI,flexColumn12:kI,flexColumn9:fI,flexColumn3:pI},cI=(e,n)=>e.map(r=>v.jsx(D,{className:Ss.correctPadding,children:v.jsx(y,{children:r&&r.erTildeltRefusjon?v.jsx(_,{size:"small",children:n}):v.jsx(f,{id:"BeregningInfoPanel.RefusjonBG.Direkteutbetaling"})})},`${n}_(${r.fom}_(${r.erTildeltRefusjon})`)),vI=e=>{if(!e)return;const n=e.tom===ze?void 0:e.tom;return v.jsx(f,{id:"BeregningInfoPanel.RefusjonBG.Periode",values:{fom:Ce(e.fom),tom:n?Ce(n):""}})},bI=e=>e.map(n=>v.jsx(D,{className:Ss.correctPadding,children:v.jsx(y,{children:vI(n)})},`${n.fom}_(${n.erTildeltRefusjon})`)),hI=({refusjonAndel:e,arbeidsgiverOpplysningerPerId:n})=>v.jsxs(Je,{children:[v.jsx(q,{children:Vl(e,n)}),v.jsx(q,{children:cI(e.tidligereUtbetalinger||[],Vl(e,n))}),v.jsx(q,{children:bI(e.tidligereUtbetalinger||[])})]}),jI=e=>e.arbeidsgiver?e.arbeidsgiver.arbeidsgiverAktørId?`${e.arbeidsgiver.arbeidsgiverAktørId}${e.internArbeidsforholdRef})`:`${e.arbeidsgiver.arbeidsgiverOrgnr}${e.internArbeidsforholdRef})`:`${e.aktivitetStatus}${e.internArbeidsforholdRef})`,II=({beregningsgrunnlag:e,arbeidsgiverOpplysningerPerId:n})=>{var r;const t=((r=e.refusjonTilVurdering)==null?void 0:r.andeler)||[];return v.jsx(D,{children:v.jsx(y,{className:Ss.flexColumn9,children:v.jsx(an,{headerTextCodes:["BeregningInfoPanel.RefusjonBG.Aktivitet","BeregningInfoPanel.RefusjonBG.TidligereUtb","BeregningInfoPanel.RefusjonBG.GjeldendeFra"],noHover:!0,classNameTable:Ss.tabell,children:t.map(i=>v.jsx(hI,{arbeidsgiverOpplysningerPerId:n,refusjonAndel:i},jI(i)))})})})},AI="_marginTopp_pc86y_1",xI="_bredde_pc86y_4",yI="_flexColumn9_pc86y_7",TI="_flexColumn3_pc86y_10",Wn={marginTopp:AI,bredde:xI,flexColumn9:yI,flexColumn3:TI},EI="REFUSJON_ENDRING_DATO",_I="DELVIS_REFUSJON_FØR_START_BELØP",af=(e,n)=>n.arbeidsgiver?n.arbeidsgiver.arbeidsgiverOrgnr?`${e}${n.arbeidsgiver.arbeidsgiverOrgnr}${n.internArbeidsforholdRef}`:`${e}${n.arbeidsgiver.arbeidsgiverAktørId}${n.internArbeidsforholdRef}`:`${e}${n.aktivitetStatus}${n.internArbeidsforholdRef})`,Rs=e=>af(EI,e),lo=e=>af(_I,e),SI=(e,n)=>n?new Date(n).getTime()===new Date(e).getTime():!1,si=({refusjonAndel:e,readOnly:n,erAksjonspunktÅpent:r,arbeidsgiverOpplysningerPerId:t,skjæringstidspunkt:i,vilkårperiodeFieldIndex:s})=>{const a=Vl(e,t),d=e.skalKunneFastsetteDelvisRefusjon?"BeregningInfoPanel.RefusjonBG.TidligereRefusjon":"BeregningInfoPanel.RefusjonBG.IngenTidligereRefusjon",g=me().watch(`VURDER_REFUSJON_BERGRUNN_FORM.${s}.${Rs(e)}`),m=SI(i,g),k=j.useCallback(p=>v.jsx("b",{children:p}),[]);return v.jsxs(v.Fragment,{children:[v.jsx(D,{children:v.jsx(y,{className:Wn.flexColumn9,children:v.jsx(f,{id:d,values:{ag:a,dato:Ce(e.nyttRefusjonskravFom),b:k}})})}),v.jsxs(D,{children:[v.jsx(y,{className:Wn.flexColumn3,children:v.jsx(_,{size:"small",className:Wn.marginTopp,children:v.jsx(f,{id:"BeregningInfoPanel.RefusjonBG.RefusjonFra"})})}),v.jsx(y,{className:Wn.flexColumn3,children:v.jsx(tr,{name:`VURDER_REFUSJON_BERGRUNN_FORM.${s}.${Rs(e)}`,isReadOnly:n,validate:n?[]:[H,xn,qd(e.tidligsteMuligeRefusjonsdato)],isEdited:!!e.fastsattNyttRefusjonskravFom&&!r})})]}),e.skalKunneFastsetteDelvisRefusjon&&!m&&e.maksTillattDelvisRefusjonPrMnd&&v.jsxs(D,{children:[v.jsx(y,{className:Wn.flexColumn3,children:v.jsx(_,{size:"small",className:Wn.marginTopp,children:v.jsx(f,{id:"BeregningInfoPanel.RefusjonBG.DelvisPrMnd"})})}),v.jsx(y,{className:Wn.flexColumn3,children:v.jsx(pe,{name:`VURDER_REFUSJON_BERGRUNN_FORM.${s}.${lo(e)}`,className:Wn.bredde,validate:n?[]:[H,pb(1),en(e.maksTillattDelvisRefusjonPrMnd)],parse:ye,readOnly:n,isEdited:!!e.fastsattDelvisRefusjonPrMnd&&!r})})]})]})};si.buildInitialValues=e=>{const n={};return n[Rs(e)]=e.fastsattNyttRefusjonskravFom||"",n[lo(e)]=z(e.fastsattDelvisRefusjonPrMnd)||"",n};si.transformValues=(e,n,r)=>{var t,i;const s=Rs(n),a=e[s];let d;if(n.skalKunneFastsetteDelvisRefusjon&&a!==r){const g=lo(n);d=de(e[g])}return{arbeidsgiverOrgnr:(t=n.arbeidsgiver)==null?void 0:t.arbeidsgiverOrgnr,arbeidsgiverAktoerId:(i=n.arbeidsgiver)==null?void 0:i.arbeidsgiverAktørId,internArbeidsforholdRef:n.internArbeidsforholdRef,fastsattRefusjonFom:a,delvisRefusjonPrMndFørStart:d}};const RI="_begrunnelseTextField_1wq9u_1",NI="_explanationTextarea_1wq9u_4",FI="_explanationTextareaReadOnly_1wq9u_7",Ea={begrunnelseTextField:RI,explanationTextarea:NI,explanationTextareaReadOnly:FI},oo={"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.EndringYtelse":"Endring i søkt ytelse for {arbeidsforhold}. ","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.Refusjon":"Nytt refusjonskrav hos {arbeidsforhold}. ","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.Gradering":"Søkt gradering hos {arbeidsforhold}. ","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.Permisjon":"Permisjon avsluttet hos {arbeidsforhold}","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.FastsetÅrsbeløp":"Fastsett årsbeløp for ny fordeling av beregningsgrunnlaget.","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.TilkommetAktivitet":"<b>Tilkommet aktivitet</b> {br} Vurder om beregningsgrunnlaget skal flyttes til ny aktivitet eller fordeles mellom aktivitetene.","FordelBeregningsgrunnlag.Validation.KanIkkeHaNullIBeregningsgrunnlag":"Fastsatt beløp for gradert andel må være høyere enn 0.","BeregningInfoPanel.FordelingBG.LeggTilAndel":"Legg til aktivitet","BeregningInfoPanel.FordelingBG.Ytelse":"Ytelse","BeregningInfoPanel.FordelBG.PeriodeFom":"{fom} - ","BeregningInfoPanel.FordelBG.PeriodeFomOgTom":"{fom} - {tom}","BeregningInfoPanel.FordelBG.Andel":"Aktivitet","BeregningInfoPanel.FordelBG.AndelIArbeid":"Andel i arbeid","BeregningInfoPanel.FordelBG.Refusjonskrav":"Ref.krav","BeregningInfoPanel.FordelBG.Fordeling":"Ny fordeling","BeregningInfoPanel.FordelBG.Inntektskategori":"Inntektskategori","BeregningInfoPanel.FordelBG.Sum":"Sum","BeregningInfoPanel.FordelBG.Validation.LikFordeling":"Summen må være lik {fordeling}","BeregningInfoPanel.FordelBG.Validation.TotalRefusjonSkalIkkeOverstige":"Total refusjon må vere lavere enn {seksG}","BeregningInfoPanel.FordelBG.Validation.TotalFordelingLavereEnn":"Total fordeling for følgende andeler må være lavere enn {seksG}: {andelsliste}","BeregningInfoPanel.FordelBG.Validation.UlikeAndeler":"Andeler for samme aktivitet må ha ulik inntektskategori","BeregningInfoPanel.FordelBG.Validation.IkkjeHogereRefusjonEnnInntektsmelding":"Total refusjon for {arbeidsgiver} kan ikke være høyere enn beløpet fra inntektsmeldingen.","BeregningInfoPanel.FordelBG.Inntekt":"Inntekt","BeregningInfoPanel.FordelBG.Beregningsgrunnlag":"Grunnlag","BeregningInfoPanel.RefusjonBG.Tittel":"Endring i refusjon","BeregningInfoPanel.RefusjonBG.Aktivitet":"Aktivitet","BeregningInfoPanel.RefusjonBG.TidligereUtb":"Tidligere utbetalinger","BeregningInfoPanel.RefusjonBG.GjeldendeFra":"Gjelder fra","BeregningInfoPanel.RefusjonBG.Direkteutbetaling":"Direkte utbetaling","BeregningInfoPanel.RefusjonBG.Periode":"{fom} - {tom}","BeregningInfoPanel.RefusjonBG.IngenTidligereRefusjon":"<b>{ag}</b> krever refusjon fra og med {dato}","BeregningInfoPanel.RefusjonBG.TidligereRefusjon":"<b>{ag}</b> krever refusjon fra og med {dato}. Det er tidligere innvilget et lavere refusjonsbeløp","BeregningInfoPanel.RefusjonBG.RefusjonFra":"Refusjonsbeløpet skal gjelde fra og med","BeregningInfoPanel.RefusjonBG.Aksjonspunkt":"Nytt refusjonskrav overlapper tidligere utbetalinger. Sett endringsdato for ny refusjon.","BeregningInfoPanel.RefusjonBG.DelvisPrMnd":"Før denne datoen skal refusjonsbeløpet per måned være","BeregningInfoPanel.TilkommetAktivitet.Aktivitet":"Aktivitet","BeregningInfoPanel.TilkommetAktivitet.Periode":"Inntektsperiode","BeregningInfoPanel.TilkommetAktivitet.Årsinntekt":"Årsinntekt","BeregningInfoPanel.TilkommetAktivitet.RedusererUtbetaling":"Reduserer inntektstap","BeregningInfoPanel.TilkommetAktivitet.Ja":"Ja","BeregningInfoPanel.TilkommetAktivitet.Nei":"Nei","BeregningInfoPanel.TilkommetAktivitet.VurderTekstNæring":"Har søker inntekt fra den nye næringsaktiviteten som reduserer søkers inntektstap?","BeregningInfoPanel.TilkommetAktivitet.VurderTekstFrilans":"Har søker inntekt fra den nye frilanseraktiviteten som reduserer søkers inntektstap?","BeregningInfoPanel.TilkommetAktivitet.VurderTekstArbeid":"Har søker inntekt fra {arbeidsforhold} som reduserer søkers inntektstap?","BeregningInfoPanel.TilkommetAktivitet.Fastsett":"Fastsett årsinntekt","BeregningInfoPanel.TilkommetAktivitet.LesMer":"Hvordan fastsette årsinntekten?","BeregningInfoPanel.TilkommetAktivitet.LesMerArbeid":"Kontakt bruker for å dokumentere inntekten i det nye arbeidsforholdet. Enten ved å be arbeidsgiver sende inn inntektsmelding eller så kan bruker selv dokumenterer inntekten med arbeidskontrakt, lønnsslipper eller lignende. {br}{br}Dersom arbeidsforholdet har vart så lenge at utbetalt lønn er rapportert i a-ordningen, kan § 8-28 filtret benyttes for å fastsette årsinntekten. Hvis mulig,  benytt de 3 siste månedene og regn om til årsinntekt. Dersom arbeidsforholdet har vart kortere, kan du benytte en kortere periode.","BeregningInfoPanel.TilkommetAktivitet.LesMerFrilans":"Kontakt bruker for å dokumentere hva inntekten utgjør hvis det ikke er rapportert inntekt fra frilansoppdrag i a-ordningen. {br}{br}Hvis oppdraget har vart så lenge at inntekten er rapportert i a-ordningen, kan § 8-28 filtret benyttes for å fastsette årsinntekten. Benytt de 3 siste månedene hvis mulig og regn om til årsinntekt. Hvis oppdraget har vart kortere, kan du benytte en kortere periode.","BeregningInfoPanel.TilkommetAktivitet.LesMerNæring":"Benytt opplysninger oppgitt av bruker i søknaden, eller be bruker sannsynliggjøre forventet inntekt.","BeregningInfoPanel.TilkommetAktivitet.Alert":"Utgangspunktet er at all tilkommet aktivitet med inntekt skal føre til reduksjon i utbetaling. Det kan likevel være feil eller mangler i opplysningene fra AA-registeret. F. eks. internt bytte av org. nummer pga. endret lønns- og personalsystem eller manglende registrert sluttdato i gammel stilling ved overgang til ny stilling. Gjør derfor en konkret vurdering av hvorfor tilkommet aktivitet og inntekt ikke skal føre til reduksjon.","FaktaBegrunnelseTextField.BegrunnEndringene":"Begrunn endringene","SubmitButton.ConfirmInformation":"Bekreft og fortsett","HelpText.Aksjonspunkt.BehandletAksjonspunkt":"Behandlet aksjonspunkt: ","TilkommetAktivitet.AksjonspunktAlert":"Inntekter som kommer til underveis i en løpende pleiepengeperiode er ikke en del av søkers beregningsgrunnlag. Dersom inntekten reduserer søkers inntektstap, må det vurderes om pleiepengene skal graderes mot den nye inntekten.","TilkommetAktivitet.AksjonspunktHelpText":"Vurder om pleiepengene skal reduseres på grunn av den nye inntekten.","TilkommetAktivitet.Heading":"Perioder med ny aktivitet","TilkommetAktivitet.Modal.Knapp":"Del opp periode","TilkommetAktivitet.Modal.Tittel":"Del opp periode","TilkommetAktivitet.Modal.Select":"Hvilken periode ønsker du å dele opp?","TilkommetAktivitet.Modal.DatoValg":"Opprett ny vurdering fra","TilkommetAktivitet.Modal.Resultat":"Nye perioder til vurdering:","TilkommetAktivitet.Modal.Placeholder":"Velg periode","TilkommetAktivitet.Modal.Periode":"{fom} - {tom}","TilkommetAktivitet.Modal.DelOppKnapp":"Del opp periode","TilkommetAktivitet.Modal.AvbrytKnapp":"Avbryt","TilkommetAktivitet.AlertHeading.FlereStatuser":"Søker har nye aktiviteter","TilkommetAktivitet.AlertHeading.SelvstendigNæringsdrivende":"Søker har opplyst om ny inntekt som selvstendig næringsdrivende.","TilkommetAktivitet.AlertHeading.Frilans":"Søker har en ny frilansaktivitet i AA-registeret.","TilkommetAktivitet.AlertHeading.Arbeidsforhold":"Søker har et nytt arbeidsforhold i AA-registeret","Fordeling.VurdertTidligere":"Vurdert i en tidligere behandling","BeregningInfoPanel.TilkommetAktivitet.TomTekst":" "},Ng=Oe(oo),PI=Tn(3),BI=En(1500),ct=({isReadOnly:e,isSubmittable:n,hasBegrunnelse:r,label:t,hasVurderingText:i,name:s})=>{const a=i?"FaktaBegrunnelseTextField.Vurdering":"FaktaBegrunnelseTextField.BegrunnEndringene",d=t||Ng.formatMessage({id:a});return v.jsx(Ye,{value:Ng,children:(n||r)&&v.jsx("div",{className:Ea.begrunnelseTextField,children:v.jsx(sn,{name:s,label:e?"":d,validate:e?[]:[H,PI,BI,yn],className:e?Ea.explanationTextareaReadOnly:Ea.explanationTextarea,maxLength:1500,readOnly:e})})})};ct.defaultProps={name:"begrunnelse",hasVurderingText:!1};const OI=e=>e&&e.begrunnelse?e.begrunnelse:"";ct.buildInitialValues=(e,n="begrunnelse")=>({[n]:Zs(OI(e))});ct.transformValues=(e,n="begrunnelse")=>({begrunnelse:e[n]});const VI=Oe(oo),$I=(e,n,r)=>!r||n?!0:!e,sa=({isReadOnly:e,isSubmittable:n,onClick:r,isSubmitting:t,isDirty:i})=>e?null:v.jsx(ne,{size:"small",loading:t,disabled:$I(i,t,n),onClick:r||Ws,type:r?"button":"submit",children:VI.formatMessage({id:"SubmitButton.ConfirmInformation"})}),Fg="VURDER_REFUSJON_BERGRUNN_FORM",{VURDER_REFUSJON_BERGRUNN:DI}=Qe,lf=e=>e?e.find(n=>n.definisjon===DI):void 0,GI=e=>e.arbeidsgiver?e.arbeidsgiver.arbeidsgiverAktørId?`${e.arbeidsgiver.arbeidsgiverAktørId}${e.internArbeidsforholdRef})`:`${e.arbeidsgiver.arbeidsgiverOrgnr}${e.internArbeidsforholdRef})`:`${e.aktivitetStatus}${e.internArbeidsforholdRef})`,MI=(e,n)=>{var r;const t=((r=e.refusjonTilVurdering)==null?void 0:r.andeler)||[],i=lf(e.avklaringsbehov);let s={beregningsgrunnlagStp:e.skjaeringstidspunktBeregning,periode:n.periode,begrunnelse:i&&i.begrunnelse?i.begrunnelse:void 0};return t.forEach(a=>{s={...s,...si.buildInitialValues(a)}}),s},LI=(e,n)=>{var r;const t=(((r=n.refusjonTilVurdering)==null?void 0:r.andeler)||[]).map(i=>si.transformValues(e,i,n.skjaeringstidspunktBeregning));return{periode:e.periode,begrunnelse:e.begrunnelse,fastsatteAndeler:t}},KI=({submittable:e,readOnly:n,beregningsgrunnlag:r,arbeidsgiverOpplysningerPerId:t,vilkårperiodeFieldIndex:i,formSubmittes:s})=>{var a;const d=!r.avklaringsbehov.some(b=>b.definisjon===Qe.VURDER_REFUSJON_BERGRUNN),g=((a=r.refusjonTilVurdering)==null?void 0:a.andeler)||[],m=lf(r.avklaringsbehov),k=m?Ze(m.status):!1,p=me(),c=p.watch(`VURDER_REFUSJON_BERGRUNN_FORM.${i}.begrunnelse`);return v.jsxs(v.Fragment,{children:[v.jsx(ra,{isAksjonspunktOpen:k,children:[v.jsx(f,{id:"BeregningInfoPanel.RefusjonBG.Aksjonspunkt"},"aksjonspunktText")]}),v.jsx(A,{sixteenPx:!0}),v.jsx(te,{size:"small",children:v.jsx(f,{id:"BeregningInfoPanel.RefusjonBG.Tittel"})}),v.jsx(A,{sixteenPx:!0}),v.jsx(II,{beregningsgrunnlag:r,arbeidsgiverOpplysningerPerId:t}),g.map(b=>v.jsx(si,{refusjonAndel:b,readOnly:d||n,erAksjonspunktÅpent:k,arbeidsgiverOpplysningerPerId:t,skjæringstidspunkt:r.skjaeringstidspunktBeregning,formName:Fg,vilkårperiodeFieldIndex:i},GI(b))),v.jsx(A,{twentyPx:!0}),v.jsx(ct,{name:`${Fg}.${i}.begrunnelse`,isSubmittable:e,isReadOnly:d||n,hasBegrunnelse:!!c}),v.jsx(A,{twentyPx:!0}),v.jsx(sa,{isSubmittable:e,isReadOnly:d||n,isSubmitting:s,isDirty:p.formState.isDirty}),v.jsx(A,{sixteenPx:!0})]})};function ai(e,n){const r=e.find(t=>t.periode.fom===n);if(!r)throw Error(`Mangler vilkårsperiode for vilkårsperiodeFom ${n}`);return r}function Sr(e,n){return ai(e,n).vurderesIBehandlingen}const Ns="VURDER_REFUSJON_BERGRUNN_FORM",{VURDER_REFUSJON_BERGRUNN:wI}=Qe,UI=(e,n)=>({[Ns]:e.map(r=>MI(r,ai(n,r.vilkårsperiodeFom)))}),CI=(e,n)=>{const r=n.find(t=>t.vilkårsperiodeFom===e);if(!r)throw Error(`Mangler beregningsgrunnlag for vilkårsperiodeFom ${e}`);return r},YI=(e,n,r)=>{const t=e[Ns].filter(i=>Sr(r,i.periode.fom)).map(i=>LI(i,CI(i.periode.fom,n)));return{begrunnelse:t.map(i=>i.begrunnelse).reduce((i,s)=>i!==null?`${i} ${s}`:s),grunnlag:t,kode:wI}},zI=({aktivtBeregningsgrunnlagIndeks:e,submittable:n,readOnly:r,beregningsgrunnlagListe:t,vilkarperioder:i,arbeidsgiverOpplysningerPerId:s,setFormData:a,formData:d,submitCallback:g,setRefusjonFormIsDirty:m})=>{const k=qe({defaultValues:d!=null&&d.VURDER_REFUSJON_BERGRUNN_FORM?d:UI(t,i)}),[p,c]=j.useState(!1),{formState:{dirtyFields:b,isSubmitted:I,errors:T,isDirty:R},control:S,trigger:N}=k;j.useEffect(()=>{m(R)},[R]),j.useEffect(()=>{var O;I&&(O=b[Ns])!=null&&O[e]&&N()},[e]);const{fields:E}=Me({name:Ns,control:S});return v.jsx(Xd,{errorMessage:"Noe gikk galt ved visning av refusjon",children:v.jsx(He,{formMethods:k,onSubmit:O=>{Object.keys(T).length===0&&(c(!0),g(YI(O,t,i)))},setDataOnUnmount:a,children:E.map(O=>{const $=t.findIndex(V=>V.skjaeringstidspunktBeregning===O.beregningsgrunnlagStp);return v.jsx("div",{style:{display:$===e?"block":"none"},children:v.jsx(KI,{submittable:n,readOnly:r||!Sr(i,t[$].vilkårsperiodeFom),beregningsgrunnlag:t[$],arbeidsgiverOpplysningerPerId:s,vilkårperiodeFieldIndex:$,formSubmittes:p})},O.id)})})})},{FORDEL_BEREGNINGSGRUNNLAG:qI}=Qe,HI=(e,n)=>n.some(r=>r.definisjon===e),JI=(e,n,r,t)=>{const i=[];return t.length===0&&n.length===0&&e.length===0&&r.length===0||i.push(v.jsx(f,{id:"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.TilkommetAktivitet",values:{b:(...s)=>v.jsx("b",{children:s}),br:v.jsx("br",{})}},"EndringBeregningsgrunnlagFastsetÅrsbeløp")),i},ZI=e=>e.map(({erRefusjon:n})=>n).includes(!0)||e.map(({erGradering:n})=>n).includes(!0),WI=e=>{const n=e.filter(({perioderMedGraderingEllerRefusjon:s})=>s==null?void 0:s.map(({erGradering:a})=>a).includes(!0)),r=e.filter(({perioderMedGraderingEllerRefusjon:s})=>s==null?void 0:s.map(({erRefusjon:a})=>a).includes(!0)),t=e.filter(({permisjon:s})=>s!=null).filter(({perioderMedGraderingEllerRefusjon:s})=>ZI(s||[])),i=e.filter(({perioderMedGraderingEllerRefusjon:s})=>s==null?void 0:s.map(({erSøktYtelse:a})=>a).includes(!0));return JI(n,r,t,i)},XI=e=>{var n,r;const t=((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.arbeidsforholdTilFordeling)||[];return HI(qI,e.avklaringsbehov)?WI(t):[]},QI=({isAksjonspunktClosed:e,beregningsgrunnlag:n})=>{const r=XI(n);return v.jsx(ra,{isAksjonspunktOpen:!e,children:r})};var df={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var t=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var a=typeof s;if(a==="string"||a==="number")t.push(this&&this[s]||s);else if(Array.isArray(s))t.push(r.apply(this,s));else if(a==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){t.push(s.toString());continue}for(var d in s)n.call(s,d)&&s[d]&&t.push(this&&this[d]||d)}}}return t.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(df);var eA=df.exports;const of=tf(eA),gf=" - ",uf=e=>e==null,nA=e=>{if(e.length===0)return"";if(e.length===1)return`${parseFloat(e[0]).toFixed(2)}`;const n=Math.min(...e),r=Math.max(...e);return`${n}${gf}${r}`},rA=e=>e.inntektskategori&&e.inntektskategori!==kn.UDEFINERT?e.inntektskategori:"",tA=(e,n,r,t)=>{var i,s;if(!e.aktivitetStatus||e.aktivitetStatus===F.UDEFINERT)return"";if(e.aktivitetStatus===F.ARBEIDSTAKER&&e.arbeidsforhold){const a=e.arbeidsforhold.arbeidsgiverIdent?t[e.arbeidsforhold.arbeidsgiverIdent]:void 0;return a?ii(a,e.arbeidsforhold.eksternArbeidsforholdId):e.arbeidsforhold.arbeidsforholdType&&((i=r[ke.OPPTJENING_AKTIVITET_TYPE].find(d=>{var g;return d.kode===((g=e.arbeidsforhold)==null?void 0:g.arbeidsforholdType)}))==null?void 0:i.kode)||""}return n&&e.aktivitetStatus===F.BRUKERS_ANDEL?"Ytelse":((s=r[ke.AKTIVITET_STATUS].find(a=>a.kode===e.aktivitetStatus))==null?void 0:s.navn)||""},iA=e=>uf(e)?void 0:e,Pg=e=>z(e)||"",sA=(e,n,r)=>e!==void 0?Pg(e):r&&!uf(n)?Pg(n):"",aA=e=>({arbeidsgiverId:e.arbeidsforhold&&e.arbeidsforhold.arbeidsgiverIdent?e.arbeidsforhold.arbeidsgiverIdent:"",eksternArbeidsforholdId:e.arbeidsforhold&&e.arbeidsforhold.eksternArbeidsforholdId?e.arbeidsforhold.eksternArbeidsforholdId:"",arbeidsforholdId:e.arbeidsforhold&&e.arbeidsforhold.arbeidsforholdId?e.arbeidsforhold.arbeidsforholdId:"",arbeidsperiodeFom:e.arbeidsforhold?e.arbeidsforhold.startdato:"",arbeidsperiodeTom:e.arbeidsforhold&&e.arbeidsforhold.opphoersdato!==null?e.arbeidsforhold.opphoersdato:"",arbeidsforholdType:e.arbeidsforholdType}),lA=(e,n,r,t)=>({andel:tA(e,n,r,t),aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,nyAndel:!1,kilde:e.kilde==null?void 0:e.kilde,lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler===!0,inntektskategori:rA(e),forrigeInntektskategori:!e.inntektskategori||e.inntektskategori===kn.UDEFINERT?void 0:e.inntektskategori}),mf=(e,n,r,t,i)=>{if(n.skalRedigereInntekt){const s=t(`FORDEL_BEREGNING_FORM.${e}.${r}.${i}.fastsattBelop`);return s?de(s):0}return n.readOnlyBelop?de(n.readOnlyBelop):0},dA=e=>e?Number(de(e)):0,oA=e=>e.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.UlikeAndeler"}),gA=(e,n)=>e.inntektskategori===n.inntektskategori&&e.arbeidsgiverIdent===n.arbeidsgiverIdent&&e.aktivitetstatus===n.aktivitetstatus&&e.arbeidsforholdId===n.arbeidsforholdId,uA=(e,n)=>e.some(r=>gA(n,r)),mA=(e,n)=>{const r=e.find(t=>t.andelsnr===n);if(!r)throw new Error(`Finner ikke field med andelsnr ${n}`);return r},kA=(e,n,r,t)=>{const i=[];return t.forEach((s,a)=>{if(s.nyAndel&&(s.andelsnrRef||s.andelsnrRef===0)){const d=mA(t,s.andelsnrRef);i.push({erNyAndel:s.nyAndel,aktivitetstatus:s.aktivitetStatus,inntektskategori:n(`FORDEL_BEREGNING_FORM.${e}.${r}.${a}.inntektskategori`),arbeidsgiverIdent:d.arbeidsgiverId,arbeidsforholdId:d.arbeidsforholdId})}else i.push({erNyAndel:s.nyAndel,aktivitetstatus:s.aktivitetStatus,inntektskategori:s.inntektskategori,arbeidsgiverIdent:s.arbeidsgiverId,arbeidsforholdId:s.arbeidsforholdId})}),i},fA=(e,n,r,t,i)=>{const s=kA(e,n,r,t),a=[];let d=!1;return s.forEach(g=>{uA(a,g)&&(d=!0),a.push(g)}),d?oA(i):void 0},pA=(e,n)=>(!!e.refusjonskravFraInntektsmelding||e.refusjonskravFraInntektsmelding===0)&&(!!n.refusjonskravFraInntektsmelding||n.refusjonskravFraInntektsmelding===0)&&n.refusjonskravFraInntektsmelding<e.refusjonskravFraInntektsmelding,cA=(e,n,r,t,i,s)=>{const a=s.findIndex(({arbeidsforholdId:g,arbeidsgiverId:m})=>g===t.arbeidsforholdId&&m===t.arbeidsgiverId),d=n(`FORDEL_BEREGNING_FORM.${e}.${r}.${i}.refusjonskrav`);if(a>=0){const g=s[a];pA(t,g)&&(g.refusjonskravFraInntektsmelding=t.refusjonskravFraInntektsmelding),d!=null&&(g.totalRefusjon+=Number(de(d)))}else{const{refusjonskravFraInntektsmelding:g,arbeidsforholdId:m,arbeidsgiverId:k,eksternArbeidsforholdId:p}=t;let c=0;d!=null&&(c=Number(de(d))),s.push({arbeidsforholdId:m,eksternArbeidsforholdId:p,arbeidsgiverId:k,refusjonskravFraInntektsmelding:g,totalRefusjon:c})}},vA=(e,n,r,t)=>{const i=[];return t.forEach((s,a)=>{s.arbeidsforholdId!==""&&cA(e,n,r,s,a,i)}),i},bA=(e,n)=>n.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.IkkjeHogereRefusjonEnnInntektsmelding"},{arbeidsgiver:e}),hA=(e,n,r,t,i,s)=>{const a=vA(e,t,r,n).filter(d=>(d.refusjonskravFraInntektsmelding||d.refusjonskravFraInntektsmelding===0)&&d.totalRefusjon>d.refusjonskravFraInntektsmelding);if(a.length>0){const d=a[0].arbeidsgiverId?i[a[0].arbeidsgiverId]:void 0;let g;return d?g=ii(d,a[0].eksternArbeidsforholdId):g=a[0].arbeidsgiverId||"",bA(g,s)}},jA=(e,n)=>e?n.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.LikFordeling"},{fordeling:e}):void 0,IA=e=>e.formatMessage({id:"FordelBeregningsgrunnlag.Validation.KanIkkeHaNullIBeregningsgrunnlag"}),AA=(e,n)=>e?n.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.TotalRefusjonSkalIkkeOverstige"},{seksG:e}):void 0,xA=(e,n,r)=>e>=Math.round(n)?AA(z(n),r):void 0,kf=(e,n,r)=>r.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.TotalFordelingLavereEnn"},{seksG:e,andelsliste:n}),ff=(e,n,r,t,i)=>e>=Math.round(n)?t(z(n),r,i):void 0,yA=(e,n,r)=>e!==Math.round(n)?jA(z(Math.round(n)),r):void 0,TA=(e,n,r,t,i,s,a)=>{const d=!r.arbeidsperiodeTom||hb(r.arbeidsperiodeTom,t);if(!r.andelIArbeid||!d)return!1;const g=i(`FORDEL_BEREGNING_FORM.${e}.${s}.${a}.fastsattBelop`),m=g?de(g):0;return!Number.isNaN(Number(r.andelIArbeid))&&Number(r.andelIArbeid)>0&&m<=0?!0:r.andelIArbeid.split(gf).filter(k=>Number(k)>0).length>0&&m===0},EA=(e,n,r,t,i,s)=>t.some((a,d)=>TA(e,s,a,i,n,r,d))?IA(s):void 0,_A=(e,n,r,t,i,s)=>{const a=t.map((d,g)=>mf(e,d,r,n,g)).reduce((d,g)=>d+g,0);return i!=null?yA(a,i,s):void 0},Bg=(e,n,r,t,i)=>{const s=i(`FORDEL_BEREGNING_FORM.${e}.${r}.${t}.refusjonskrav`);return dA(s)},SA=(e,n,r,t,i,s)=>{const a=!!n.find((m,k)=>m.andelIArbeid!=="0.00"&&Bg(e,m,r,k,t)===0),d=n.map((m,k)=>Bg(e,m,r,k,t)).reduce((m,k)=>m+k,0),g=6*i;return a?xA(d,g,s):void 0},pf=(e,n)=>{const r=e.map(t=>{var i;return((i=n[ke.AKTIVITET_STATUS].find(s=>s.kode===t))==null?void 0:i.navn)||""});return r.sort((t,i)=>t.localeCompare(i)),[...new Set(r)].join(", ")},cf=(e,n,r,t,i)=>t.map((s,a)=>s.aktivitetStatus&&!i.includes(s.aktivitetStatus)?0:mf(e,s,r,n,a)).reduce((s,a)=>s+a,0),RA=(e,n,r,t,i,s,a)=>{const d=[F.ARBEIDSTAKER],g=cf(e,n,r,t,d),m=pf(d,s);return ff(g,i,m,kf,a)},NA=(e,n,r,t,i,s,a)=>{const d=[F.ARBEIDSTAKER,F.FRILANSER,F.DAGPENGER,F.ARBEIDSAVKLARINGSPENGER],g=t.map(p=>p.aktivitetStatus).filter(p=>!!p&&d.includes(p)),m=cf(e,n,r,t,g),k=pf(g,s);return ff(m,i,k,kf,a)},FA=(e,n,r,t,i,s,a)=>{const d=!!t.find(m=>m.andelIArbeid!=="0.00"&&m.aktivitetStatus===F.FRILANSER),g=6*s;if(d)return RA(e,n,r,t,g,a,i);if(t.find(m=>m.andelIArbeid!=="0.00"&&m.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE))return NA(e,n,r,t,g,a,i)},PA=(e,n)=>e.arbeidsforholdId===null?n.map(({arbeidsgiverIdent:r})=>r).includes(e.arbeidsgiverIdent):n.map(({arbeidsforholdId:r})=>r).includes(e.arbeidsforholdId),BA=(e,n)=>{var r;const t=e.find(i=>{var s,a;return!!i.arbeidsforhold&&i.arbeidsforhold.arbeidsgiverIdent===((s=n.arbeidsforhold)==null?void 0:s.arbeidsgiverIdent)&&i.arbeidsforhold.arbeidsforholdId===((a=n.arbeidsforhold)==null?void 0:a.arbeidsforholdId)});if(!t)throw new Error(`Finner ikke forventet andel med arbeidsgiverId ${(r=n.arbeidsforhold)==null?void 0:r.arbeidsgiverIdent}`);return t},OA=(e,n)=>{const r=[];return e===void 0||e.forEach(t=>{if(t.arbeidsforhold&&!PA(t.arbeidsforhold,r)){const i=BA(n,t),s={andelsnr:t.andelsnr,nyttArbeidsforhold:t.nyttArbeidsforhold,beregningsperiodeTom:i.beregningsperiodeTom,beregningsperiodeFom:i.beregningsperiodeFom,...t.arbeidsforhold};r.push(s)}}),r},VA=e=>e.length>0?e.flatMap(n=>n.fordelBeregningsgrunnlagAndeler||[]):[],$A=e=>e.length>0?e.flatMap(n=>n.beregningsgrunnlagPrStatusOgAndel||[]):[],DA=(e,n)=>OA(VA(e),$A(n)),GA=e=>{var n,r;const t=((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.fordelBeregningsgrunnlagPerioder)||[],i=e.beregningsgrunnlagPeriode;return DA(t,i)},MA="_container_1tnrv_1",LA="_buttonRemove_1tnrv_5",KA="_buttonRow_1tnrv_16",wA="_rightAlignInput_1tnrv_19",UA="_slettIkon_1tnrv_29",CA="_deleteBtn_1tnrv_36",YA="_notLastRow_1tnrv_39",zA="_divider_1tnrv_43",qA="_dividerTop_1tnrv_46",HA="_sumRow_1tnrv_49",JA="_fordelingForrige_1tnrv_52",ZA="_refusjon_1tnrv_55",WA="_nyFordeling_1tnrv_62",XA="_periodeColumn_1tnrv_69",QA="_addCircleIcon_1tnrv_72",ex="_imageText_1tnrv_78",nx="_addPeriode_1tnrv_83",rx="_customLink_1tnrv_84",tx="_removeButton_1tnrv_85",ix="_inntektTable_1tnrv_88",sx="_shortLeftAligned_1tnrv_137",ax="_wordwrap_1tnrv_142",lx="_litenBredde_1tnrv_145",dx="_storBredde_1tnrv_148",ox="_flexColumn3_1tnrv_151",gx="_benyttCheckbox_1tnrv_154",Se={container:MA,buttonRemove:LA,buttonRow:KA,rightAlignInput:wA,slettIkon:UA,deleteBtn:CA,notLastRow:YA,divider:zA,dividerTop:qA,sumRow:HA,fordelingForrige:JA,refusjon:ZA,nyFordeling:WA,periodeColumn:XA,addCircleIcon:QA,imageText:ex,addPeriode:nx,customLink:rx,removeButton:tx,inntektTable:ix,shortLeftAligned:sx,wordwrap:ax,litenBredde:lx,storBredde:dx,flexColumn3:ox,benyttCheckbox:gx},ux=e=>({nyAndel:!0,kilde:"SAKSBEHANDLER_FORDELING",fastsattBelop:z(0),lagtTilAvSaksbehandler:!0,refusjonskravFraInntektsmelding:0,belopFraInntektsmelding:null,skalRedigereInntekt:!e}),vf=(e,n,r)=>{var t;return!e.arbeidsgiverIdent||!r[e.arbeidsgiverIdent]?e.arbeidsforholdType&&((t=n[ke.OPPTJENING_AKTIVITET_TYPE].find(i=>i.kode===e.arbeidsforholdType))==null?void 0:t.navn)||"":ii(r[e.arbeidsgiverIdent],e.eksternArbeidsforholdId)},mx=(e,n,r)=>e.map(t=>v.jsx("option",{value:t.andelsnr.toString(),children:vf(t,n,r)},t.andelsnr)),kx=(e,n,r,t)=>{const i=e.map(s=>v.jsx("option",{value:s.andelsnr.toString(),children:vf(s,r,t)},s.andelsnr));return i.push(v.jsx("option",{value:As.BRUKERS_ANDEL,children:n.formatMessage({id:"BeregningInfoPanel.FordelingBG.Ytelse"})},As.BRUKERS_ANDEL)),i},fx=e=>e.map(n=>v.jsx("option",{value:n.kode,children:n.navn},n.kode)),bf=e=>e>0&&z(e)||"",px=(e,n,r,t)=>{let i=0,s=0;for(s;s<r.length;s+=1){const a=r[s],d=de(t(`FORDEL_BEREGNING_FORM.${e}.${n}.${s}.fastsattBelop`));a.skalRedigereInntekt?i+=d||0:i+=a.readOnlyBelop?d:0}return bf(i)},cx=e=>{let n=0,r=0;for(r;r<e.length;r+=1){const t=e[r];t.beregningsgrunnlagPrAar&&(n+=t.beregningsgrunnlagPrAar?Number(de(t.beregningsgrunnlagPrAar)):0)}return bf(n)},vx=e=>e.inntektskategori?Gb(e.inntektskategori)||kn.FRILANSER===e.inntektskategori:!1,bx=(e,n)=>{const r=Number(n);return e.find(t=>t.andelsnr===r)},hx=(e,n)=>{var r;const t=Number(n);return(r=e.find(i=>i.andelsnr===t))==null?void 0:r.aktivitetStatus},jx=(e,n,r,t,i)=>{const s=e[n],a=bx(r,t);a&&(s.arbeidsforholdId=a.arbeidsforholdId,s.arbeidsgiverId=a.arbeidsgiverIdent,s.arbeidsperiodeFom=a.startdato,s.arbeidsperiodeTom=a.opphoersdato,s.andelsnrRef=a.andelsnr,s.aktivitetStatus=hx(e,t),s.nyttArbeidsforhold=a.nyttArbeidsforhold,s.arbeidsforholdType=a.arbeidsforholdType,s.beregningsperiodeTom=a.beregningsperiodeTom,s.beregningsperiodeFom=a.beregningsperiodeFom,i(n,s))},Ix=(e,n,r,t,i,s,a)=>v.jsxs(v.Fragment,{children:[!e[n].nyAndel&&v.jsx(pe,{name:`${a(n)}.andel`,className:Se.storBredde,readOnly:!0}),e[n].nyAndel&&v.jsx(kt,{name:`${a(n)}.andel`,className:Se.storBredde,label:"",selectValues:r,readOnly:t,validate:[H],onChange:d=>jx(e,n,i,d.target.value,s)})]}),Ax=(e,n,r,t)=>n?v.jsx(q,{children:v.jsx(nt,{children:v.jsx(pe,{name:`${t}.readOnlyBelop`,className:Se.litenBredde,parse:ye,readOnly:!0,isEdited:!1})})}):v.jsx(q,{className:Se.rightAlignInput,children:v.jsx(nt,{children:v.jsx(pe,{name:`${t}.fastsattBelop`,parse:ye,readOnly:e,validate:[H,en(178956970)],isEdited:r&&!n,className:Se.litenBredde})})}),xx=(e,n,r)=>(n[e].nyAndel||n[e].lagtTilAvSaksbehandler)&&!r,yx=(e,n,r,t,i,s,a)=>v.jsxs(q,{children:[Ix(e,n,r,t,i,s,a),!vx(e[n])&&v.jsx("div",{className:Se.wordwrap,children:v.jsx(pe,{name:`${a(n)}.arbeidsperiodeFom - ${a(n)}.arbeidsperiodeTom`,readOnly:!0})})]}),Tx=(e,n)=>e?v.jsx(q,{children:v.jsx(pe,{name:`${n}.andelIArbeid`,readOnly:!0,className:Se.litenBredde,normalizeOnBlur:r=>Number.isNaN(r)?r:parseFloat(r.toString()).toFixed(2)})}):null,Ex=(e,n,r,t)=>v.jsx(q,{className:e||!n[r].skalKunneEndreRefusjon?void 0:Se.rightAlignInput,children:v.jsx(nt,{children:v.jsx(pe,{name:`${t(r)}.refusjonskrav`,readOnly:e||!n[r].skalKunneEndreRefusjon,parse:ye,className:Se.litenBredde,validate:n[r].skalKunneEndreRefusjon?[H,en(178956970)]:[]})})}),_x=e=>v.jsx(q,{children:v.jsx(pe,{name:`${e}.beregningsgrunnlagPrAar`,className:Se.litenBredde,readOnly:!0,parse:ye})}),Sx=(e,n,r)=>v.jsx(q,{className:e?Se.shortLeftAligned:void 0,children:v.jsx(nt,{children:v.jsx(kt,{label:"",name:`${n}.inntektskategori`,className:Se.storBredde,validate:e?[]:[H],selectValues:fx(r),readOnly:e})})}),Rx=(e,n,r,t)=>v.jsx(q,{children:xx(n,e,r)&&v.jsx(ne,{icon:v.jsx(Cn,{"aria-hidden":!0,className:Se.slettIkon}),onClick:()=>t(n),type:"button",variant:"tertiary"})}),Nx=(e,n,r)=>v.jsxs(Je,{children:[v.jsx(q,{children:v.jsx(f,{id:"BeregningInfoPanel.FordelBG.Sum"})}),r&&v.jsx(q,{}),v.jsx(q,{}),v.jsx(q,{children:v.jsx(G,{size:"small",children:n})}),v.jsx(q,{children:v.jsx(G,{size:"small",children:e})}),v.jsx(q,{}),v.jsx(q,{})]},"bruttoBGSummaryRow"),Fx=e=>{const n=[];return n.push("BeregningInfoPanel.FordelBG.Andel"),e&&n.push("BeregningInfoPanel.FordelBG.AndelIArbeid"),n.push("BeregningInfoPanel.FordelBG.Refusjonskrav"),n.push("BeregningInfoPanel.FordelBG.Beregningsgrunnlag"),n.push("BeregningInfoPanel.FordelBG.Fordeling"),n.push("BeregningInfoPanel.FordelBG.Inntektskategori"),n},Px=e=>{var n,r;return(((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.arbeidsforholdTilFordeling)||[]).some(t=>{var i;return(i=t.perioderMedGraderingEllerRefusjon)==null?void 0:i.some(s=>s.erGradering)})},Bx=({fieldName:e,readOnly:n,skalIkkeRedigereInntekt:r,isAksjonspunktClosed:t,arbeidsgiverOpplysningerPerId:i,kodeverkSamling:s,beregningsgrunnlag:a,skalKunneEndreRefusjon:d,sumIPeriode:g,periodeFom:m,vilkårperiodeFieldIndex:k,setFieldArrayToRepeat:p,fieldArrayToRepeat:c})=>{const{control:b,watch:I,getValues:T}=me(),R=`FORDEL_BEREGNING_FORM.${k}.${e}`,{fields:S,append:N,remove:E,update:O}=Me({control:b,name:`FORDEL_BEREGNING_FORM.${k}.${e}`});j.useEffect(()=>{c&&c!==R&&!n&&!r&&T(c).forEach(ce=>{var ln;const fe=S.findIndex(Ae=>Ae.andel===ce.andel&&(Ae.inntektskategori===ce.inntektskategori||!Ae.inntektskategori&&!ce.lagtTilAvSaksbehandler&&!Ae.lagtTilAvSaksbehandler));if(fe>-1){const Ae={...S[fe],fastsattBelop:ce.fastsattBelop,refusjonskrav:d?ce.refusjonskrav:(ln=S[fe])==null?void 0:ln.refusjonskrav,inntektskategori:ce.inntektskategori};O(fe,Ae)}})},[c]);const $=!!a.aktivitetStatus&&a.aktivitetStatus.some(ce=>ce===F.KUN_YTELSE),V=GA(a),L=px(k,e,S,I),Z=cx(S),J=Px(a),C=s[ke.INNTEKTSKATEGORI],B=X(),U=$?kx(V,B,s,i):mx(V,s,i),K=ce=>`FORDEL_BEREGNING_FORM.${k}.${e}.${ce}`,w=S.map((ce,ln)=>{const fe=n||r;return v.jsxs(Je,{children:[yx(S,ln,U,fe,V,O,K),Tx(J,K(ln)),Ex(fe,S,ln,K),_x(K(ln)),Ax(n,r,t,K(ln)),Sx(fe,K(ln),C),Rx(S,ln,fe,E)]},ce.id)});w.push(Nx(L,Z,J));const Q=[],ve=ce=>{ce&&Q.push(ce)};!n&&S.some(ce=>!!ce.skalRedigereInntekt||!!ce.skalKunneEndreRefusjon)&&(ve(fA(k,T,e,S,B)),ve(_A(k,T,e,S,g,B)),J&&(ve(EA(k,T,e,S,m,B)),ve(FA(k,T,e,S,B,a.grunnbeløp,s))),d&&(ve(SA(k,S,e,T,a.grunnbeløp,B)),ve(hA(k,S,e,T,i,B))));const Ne=`FORDEL_BEREGNING_FORM.${k}.${e}.skjemagruppe`,Le=Q.filter(ce=>!!ce),Nn=Le.length>0?Le[0]:void 0,Fe=Er(Ne,Nn),Ie=()=>{p(R===c?"":R)};return v.jsxs("div",{children:[v.jsx(an,{headerTextCodes:Fx(J),noHover:!0,classNameTable:Se.inntektTable,children:w}),!n&&!r&&v.jsx(D,{className:Se.buttonRow,children:v.jsx(y,{className:Se.flexColumn3,children:v.jsx(ne,{icon:v.jsx(mt,{"aria-hidden":!0,className:Se.addCircleIcon}),onClick:()=>N(ux(r)),type:"button",variant:"tertiary",children:v.jsx(le,{className:Se.imageText,children:v.jsx(f,{id:"BeregningInfoPanel.FordelingBG.LeggTilAndel"})})})})}),!n&&!r&&v.jsx(bb,{className:Se.benyttCheckbox,checked:R===c,onChange:Ie,children:"Benytt for alle perioder"}),Fe&&v.jsx(Dn,{children:Fe})]})},Ox="_statusOk_1qsx9_1",hf={statusOk:Ox},Vx="_vurdertIForrigeIcon_1q86k_1",$x={vurdertIForrigeIcon:Vx},Dx=of.bind($x),jf=({className:e=""})=>{const n=X();return v.jsx("span",{"data-testid":"vurdertIForrigeIcon",className:Dx("vurdertIForrigeIcon",e),children:v.jsx(Xs,{size:"small",variant:"neutral",children:n.formatMessage({id:"Fordeling.VurdertTidligere"})})})},Gx=of.bind(hf),_a=e=>e?x(e,Be).format(ee):"-",Mx=(e,n)=>n?v.jsx(G,{size:"small",children:v.jsx(f,{id:"BeregningInfoPanel.FordelBG.PeriodeFomOgTom",values:{fom:_a(e),tom:_a(n)}})}):v.jsx(G,{size:"small",children:v.jsx(f,{id:"BeregningInfoPanel.FordelBG.PeriodeFom",values:{fom:_a(e)}})}),Lx=e=>{var n,r;return(n=e.arbeidsforhold)!=null&&n.naturalytelseBortfaltPrÅr?(r=e.arbeidsforhold)==null?void 0:r.naturalytelseBortfaltPrÅr:0},Kx=e=>{const n=Lx(e);return e.besteberegningPrAar!==void 0&&e.besteberegningPrAar!==null?e.besteberegningPrAar+n:e.overstyrtPrAar!==void 0&&e.overstyrtPrAar!==null?e.overstyrtPrAar+n:e.beregnetPrAar!==void 0&&e.beregnetPrAar!==null?e.beregnetPrAar+n:0},wx=(e,n)=>{var r;return(((r=e.find(t=>t.beregningsgrunnlagPeriodeFom===n))==null?void 0:r.beregningsgrunnlagPrStatusOgAndel)||[]).map(t=>Kx(t)).reduce((t,i)=>t+i,0)},go=({readOnly:e,erVurdertTidligere:n,isAksjonspunktClosed:r,open:t,showPanel:i,beregningsgrunnlag:s,kodeverkSamling:a,arbeidsgiverOpplysningerPerId:d,fordelBGFieldArrayName:g,fordelingsperiode:m,fieldIndex:k,setFieldArrayToRepeat:p,fieldArrayToRepeat:c})=>m.fom?v.jsx(Ke,{className:e?hf.statusOk:Gx(`fordelBeregningsgrunnlagPeriode--${m.fom}`),children:v.jsxs(Ke.Item,{open:t,children:[v.jsxs(Ke.Header,{onClick:()=>i(m.fom),children:[Mx(m.fom,m.tom)," ",n?v.jsx(jf,{}):""]}),v.jsx(Ke.Content,{children:v.jsx(Bx,{fieldName:g,readOnly:e,sumIPeriode:wx(s.beregningsgrunnlagPeriode,m.fom),skalIkkeRedigereInntekt:!m.skalRedigereInntekt,skalKunneEndreRefusjon:!!m.skalKunneEndreRefusjon,periodeFom:m.fom,isAksjonspunktClosed:r,kodeverkSamling:a,beregningsgrunnlag:s,arbeidsgiverOpplysningerPerId:d,vilkårperiodeFieldIndex:k,setFieldArrayToRepeat:p,fieldArrayToRepeat:c})})]})}):null,Ux=(e,n)=>{const r=(n.beregningsgrunnlagPrStatusOgAndel||[]).find(t=>t.andelsnr===e.andelsnr);if(!r)throw Error(`Finner ikke matchende andel med andelsnr ${e.andelsnr}`);return r},Cx=(e,n)=>{var r;const t=(r=e.arbeidsforhold)==null?void 0:r.startdato;return!!t&&!x(t).isBefore(x(n))},Og=e=>{var n,r,t,i;if(!e)return;const s=((n=e.arbeidsforhold)==null?void 0:n.naturalytelseBortfaltPrÅr)===null||((r=e.arbeidsforhold)==null?void 0:r.naturalytelseBortfaltPrÅr)===void 0?0:e.arbeidsforhold.naturalytelseBortfaltPrÅr,a=((t=e.arbeidsforhold)==null?void 0:t.naturalytelseTilkommetPrÅr)===null||((i=e.arbeidsforhold)==null?void 0:i.naturalytelseTilkommetPrÅr)===void 0?0:e.arbeidsforhold.naturalytelseTilkommetPrÅr;if(e.besteberegningPrAar||e.besteberegningPrAar===0)return z(e.besteberegningPrAar+s-a);if(e.overstyrtPrAar||e.overstyrtPrAar===0)return z(e.overstyrtPrAar+s-a);if(e.beregnetPrAar||e.beregnetPrAar===0)return z(e.beregnetPrAar+s-a)},Yx=e=>(e.fordelingForrigeBehandlingPrAar||e.fordelingForrigeBehandlingPrAar===0?z(e.fordelingForrigeBehandlingPrAar):"")||"";go.buildInitialValues=(e,n,r,t,i,s)=>!e||!e.fordelBeregningsgrunnlagAndeler?[]:e.fordelBeregningsgrunnlagAndeler.map(a=>{const d=Ux(a,n);return{...lA(a,t,i,s),...aA(a),andelIArbeid:nA(a.andelIArbeid||[]),fordelingForrigeBehandling:Yx(a),fastsattBelop:sA(a.fordeltPrAar,d.bruttoPrAar,!!e.skalPreutfyllesMedBeregningsgrunnlag),readOnlyBelop:Og(d),refusjonskrav:a.refusjonskravPrAar!==null&&a.refusjonskravPrAar!==void 0?z(a.refusjonskravPrAar):"",skalKunneEndreRefusjon:e.skalKunneEndreRefusjon&&!a.lagtTilAvSaksbehandler&&a.refusjonskravFraInntektsmeldingPrAar?e.skalKunneEndreRefusjon:!1,belopFraInntektsmelding:a.belopFraInntektsmeldingPrAar,skalRedigereInntekt:!!e.skalRedigereInntekt,refusjonskravFraInntektsmelding:a.refusjonskravFraInntektsmeldingPrAar,nyttArbeidsforhold:a.nyttArbeidsforhold||Cx(d,r),beregningsgrunnlagPrAar:Og(d),forrigeRefusjonPrAar:a.refusjonskravPrAar,forrigeArbeidsinntektPrAar:iA(a.fordeltPrAar),beregningsperiodeFom:d.beregningsperiodeFom,beregningsperiodeTom:d.beregningsperiodeTom}});const zx="_lessPadding_xotc9_1",qx={lessPadding:zx};function Vg(e,n){return n.tom!=null&&!x(n.tom).isBefore(x(e.fom))&&(e.tom==null||!x(n.tom).isAfter(x(e.tom)))}function Hx(e,n){return Vg(e,n)||Vg(n,e)}function zn(e,n){var r;return(r=e.fordelBeregningsgrunnlagAndeler)!=null&&r.some(t=>!t.inntektskategori||t.inntektskategori===kn.UDEFINERT)?!0:!n||n.length===0||n.some(t=>Hx(t,e))}const If="fordelBGPeriode",uo=e=>If+e,Jx=e=>({refusjonPrÅr:e.skalKunneEndreRefusjon&&e.refusjonskrav?de(e.refusjonskrav):void 0,fastsattÅrsbeløpInklNaturalytelse:de(e.fastsattBelop),inntektskategori:e.inntektskategori||""}),Hr=(e,n)=>!!e.periodeAarsaker&&e.periodeAarsaker.includes(n),Zx=e=>Hr(e,In.ENDRING_I_REFUSJONSKRAV)||Hr(e,In.REFUSJON_OPPHOERER)||Hr(e,In.GRADERING)||Hr(e,In.GRADERING_OPPHOERER),Wx=(e,n)=>{const r=n.indexOf(e);return n[r-1].bruttoPrAar===e.bruttoPrAar},Xx=(e,n)=>!e.arbeidsforhold&&!n.arbeidsforhold?!0:e.arbeidsforhold&&n.arbeidsforhold?e.arbeidsforhold.arbeidsgiverIdent===n.arbeidsforhold.arbeidsgiverIdent&&e.arbeidsforhold.arbeidsforholdId===n.arbeidsforhold.arbeidsforholdId:!1;function $g(e){const n=x(e.beregningsgrunnlagPeriodeFom).day()===6,r=x(e.beregningsgrunnlagPeriodeFom).day()===0,t=x(e.beregningsgrunnlagPeriodeTom).day()===6,i=x(e.beregningsgrunnlagPeriodeTom).day()===0;return(n||r)&&(t||i)}const Qx=e=>{var n;return(n=e.andelIArbeid)==null?void 0:n.some(r=>r!==100)};function ey(e){var n;return(n=e.fordelBeregningsgrunnlagAndeler)==null?void 0:n.some(r=>Qx(r))}function ny(e=[],n=[]){return e.sort((r,t)=>r-t),n.sort((r,t)=>r-t),e.join("_")!==n.join("-")}const ry=(e,n)=>e.some(r=>{const t=n.find(i=>i.aktivitetStatus===r.aktivitetStatus&&i.inntektskategori===r.inntektskategori&&Xx(i,r));return!!(t===void 0||ny(t.andelIArbeid,r.andelIArbeid)||t.refusjonskravPrAar!==r.refusjonskravPrAar)}),ty=(e,n,r,t)=>{const i=e.fordelBeregningsgrunnlagAndeler||[],s=n.fordelBeregningsgrunnlagAndeler||[];if(i.length!==s.length)return!1;const a=t.indexOf(r),d=t[a-1];if(r.bruttoPrAar!==d.bruttoPrAar)return!1;const g=$g(r),m=$g(d),k=e.skalKunneEndreRefusjon||n.skalKunneEndreRefusjon;return(g||m)&&!k?!0:!ry(i,s)},iy=(e,n,r,t,i)=>{var s,a;const d=t[t.length-1];return((s=r.fordelBeregningsgrunnlagAndeler)==null?void 0:s.length)!==((a=d.fordelBeregningsgrunnlagAndeler)==null?void 0:a.length)||r.skalRedigereInntekt!==d.skalRedigereInntekt||Zx(e)||zn(r,i)&&!zn(d,i)?!1:Hr(e,In.ARBEIDSFORHOLD_AVSLUTTET)?Wx(e,n):Hr(e,In.ENDRING_I_AKTIVITETER_SØKT_FOR)?ty(r,d,e,n):!0},sy=(e,n)=>{const r={...e.pop(),tom:n.tom};e.push(r)},ay=(e,n)=>(r,t)=>{if(r.length===0)return r.push({...t}),r;const i=e.find(s=>s.beregningsgrunnlagPeriodeFom===t.fom);if(i){if(iy(i,e,t,r,n))return sy(r,t),r;r.push({...t})}return r},ly=e=>({fom:n,tom:r})=>(x(n).isSame(x(e.fom))||x(n).isAfter(e.fom))&&(e.tom===null||x(r).isSame(x(e.tom))||x(r).isBefore(x(e.tom))),dy=e=>{if(e.nyAndel&&e.andel)return e.andel;if(!e.andelsnr)throw Error(`Forventer å finne andelsnr for submit på aktivitet ${e}`);return e.andelsnr},oy=e=>({andelsnr:dy(e),aktivitetStatus:e.aktivitetStatus,arbeidsgiverId:e.arbeidsgiverId!==""?e.arbeidsgiverId:void 0,arbeidsforholdId:e.arbeidsforholdId!==""?e.arbeidsforholdId:void 0,nyAndel:e.nyAndel,kilde:e.kilde,lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler,arbeidsforholdType:e.arbeidsforholdType,beregningsperiodeTom:e.beregningsperiodeTom,beregningsperiodeFom:e.beregningsperiodeFom,forrigeArbeidsinntektPrÅr:e.forrigeArbeidsinntektPrAar,forrigeRefusjonPrÅr:e.forrigeRefusjonPrAar,forrigeInntektskategori:e.forrigeInntektskategori,fastsatteVerdier:Jx(e)}),gy=e=>{if(!e)throw Error("Fant ikke påkrevd felt før submit");return e},uy=(e,n,r,t)=>t.filter(ly(r)).filter(i=>i.skalRedigereInntekt||i.skalKunneEndreRefusjon).map(i=>({andeler:e[uo(n)].map(oy),fom:gy(i.fom),tom:i.tom})),mo=(e,n,r)=>e.filter(t=>ey(t)).reduce(ay(n,r),[]),my=(e,n)=>{const r=n.find(t=>t.beregningsgrunnlagPeriodeFom===e.fom);if(!r)throw Error(`Finner ikke matchende beregningsgrunnlagperiode for fordelingsperiode med fom ${e.fom}`);return r},ky=(e,n,r,t)=>{const i=[],s=mo(e,r,t);for(let a=0;a<s.length;a+=1){const{skalRedigereInntekt:d}=s[a];d&&zn(s[a])&&uy(n,a,s[a],e).forEach(g=>i.push(g))}return i};function fy(e,n){return zn(n,e.forlengelseperioder)}function py(e,n){var r;return!zn(e,n.forlengelseperioder)&&e.skalRedigereInntekt===!0&&!!e.fordelBeregningsgrunnlagAndeler&&((r=e.fordelBeregningsgrunnlagAndeler)==null?void 0:r.every(t=>t.fordeltPrAar!==null&&t.fordeltPrAar!==void 0))}const li=({readOnly:e,perioder:n,isAksjonspunktClosed:r,bgPerioder:t,beregningsgrunnlag:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:a,fieldIndex:d})=>{const[g,m]=j.useState([]),[k,p]=j.useState("");j.useEffect(()=>{const b=n.filter(I=>fy(i,I)).filter(I=>I.skalKunneEndreRefusjon||I.skalRedigereInntekt).filter(I=>!!I.fom).map(I=>I.fom||"");m(b)},[n]);const c=b=>{if(g.includes(b)){const I=g.filter(T=>T!==b);m(I)}else{const I=g.map(T=>T);I.push(b),m(I)}};return v.jsx(Ck,{className:qx.lessPadding,children:mo(n,t,i.forlengelseperioder).map((b,I)=>v.jsxs(M.Fragment,{children:[v.jsx(A,{eightPx:!0}),v.jsx(go,{readOnly:e||!zn(b,i.forlengelseperioder),erVurdertTidligere:py(b,i),fordelingsperiode:b,fordelBGFieldArrayName:uo(I),open:g?g.filter(T=>T===b.fom).length>0:!1,isAksjonspunktClosed:r,showPanel:c,beregningsgrunnlag:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:a,fieldIndex:d,setFieldArrayToRepeat:p,fieldArrayToRepeat:k}),v.jsx(A,{eightPx:!0})]},If+b.fom))})};li.transformValues=(e,n,r,t)=>({endretBeregningsgrunnlagPerioder:ky(n,e,r,t)});li.buildInitialValues=(e,n,r,t)=>{const i={};if(!e)return i;const s=!!n.aktivitetStatus&&n.aktivitetStatus.some(d=>d===F.KUN_YTELSE),a=n.beregningsgrunnlagPeriode;return mo(e,a,n.forlengelseperioder).forEach((d,g)=>{const m=my(d,a);i[uo(g)]=go.buildInitialValues(d,m,n.skjaeringstidspunktBeregning,s,r,t)}),i};const cy=e=>{var n,r;return((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.fordelBeregningsgrunnlagPerioder)||[]},di=({isAksjonspunktClosed:e,readOnly:n,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s})=>{const a=r.beregningsgrunnlagPeriode,d=cy(r);return v.jsx(li,{perioder:d,readOnly:n,isAksjonspunktClosed:e,bgPerioder:a,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s})};di.buildInitialValues=(e,n,r,t)=>li.buildInitialValues(e,n,r,t);di.transformValues=(e,n,r,t)=>li.transformValues(e,n,r,t);const{FORDEL_BEREGNINGSGRUNNLAG:$l}=Qe,vy=(e,n)=>n.some(r=>r.definisjon===e),Af=e=>{const n=e.find(r=>r.definisjon===$l);if(!n)throw Error(`Fant ikke forventet avklaringsbehov ${$l}`);return n},by="begrunnelse",xf=e=>{var n,r;return((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.fordelBeregningsgrunnlagPerioder)||[]},hy=(e,n)=>{if(!vy($l,n.avklaringsbehov))throw Error("har ikke aksjonspunkt for fordeling når transform values ble kalt");const r=n.beregningsgrunnlagPeriode;return{begrunnelse:e.begrunnelse,periode:e.periode,...di.transformValues(e,xf(n),r,n.forlengelseperioder)}},jy=(e,n,r,t)=>{const i=xf(e);return{beregningsgrunnlagStp:e.skjaeringstidspunktBeregning,periode:n.periode,...ct.buildInitialValues(Af(e.avklaringsbehov),by),...di.buildInitialValues(i,e,t,r)}},Iy=({readOnly:e,submittable:n,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s})=>{const a=Af(r.avklaringsbehov),d=!Ze(a.status),g=me(),m=g.watch(`FORDEL_BEREGNING_FORM.${s}.begrunnelse`);return v.jsxs(v.Fragment,{children:[v.jsx(QI,{isAksjonspunktClosed:d,beregningsgrunnlag:r}),v.jsx(A,{twentyPx:!0}),v.jsx(di,{readOnly:e,isAksjonspunktClosed:d,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s}),v.jsx(A,{twentyPx:!0}),v.jsx(ct,{name:`FORDEL_BEREGNING_FORM.${s}.begrunnelse`,isSubmittable:n,isReadOnly:e,hasBegrunnelse:!!m}),v.jsx(A,{twentyPx:!0}),v.jsx(sa,{isSubmittable:n,isReadOnly:e,isSubmitting:g.formState.isSubmitting,isDirty:g.formState.isDirty})]})},{FORDEL_BEREGNINGSGRUNNLAG:Ay}=Qe,Fs="FORDEL_BEREGNING_FORM",xy=(e,n)=>{const r=n.find(t=>t.vilkårsperiodeFom===e);if(!r)throw Error(`Mangler beregningsgrunnlag for vilkårsperiodeFom ${e}`);return r},yy=(e,n,r)=>{const t=e[Fs].filter(i=>Sr(r,i.periode.fom)).map(i=>hy(i,xy(i.periode.fom,n)));return{begrunnelse:t.map(i=>i.begrunnelse).reduce((i,s)=>i!==null?`${i} ${s}`:s),grunnlag:t,kode:Ay}},Ty=(e,n,r,t)=>({[Fs]:e.filter(i=>i.avklaringsbehov.some(s=>s.definisjon===Qe.FORDEL_BEREGNINGSGRUNNLAG)).map(i=>jy(i,ai(n,i.vilkårsperiodeFom),r,t))}),Ey=({aktivtBeregningsgrunnlagIndeks:e,readOnly:n,submittable:r,submitCallback:t,beregningsgrunnlagListe:i,vilkårsperioder:s,kodeverkSamling:a,arbeidsgiverOpplysningerPerId:d,formData:g,setFormData:m,setFordelingFormIsDirty:k})=>{const p=qe({defaultValues:g!=null&&g.FORDEL_BEREGNING_FORM?g:Ty(i,s,d,a)}),{formState:{dirtyFields:c,isSubmitted:b,errors:I,isDirty:T},control:R,trigger:S}=p;j.useEffect(()=>{k(T)},[T]),j.useEffect(()=>{var E;b&&(E=c[Fs])!=null&&E[e]&&S()},[e]);const{fields:N}=Me({name:Fs,control:R});return v.jsx(Xd,{errorMessage:"Noe gikk galt ved visning av fordeling",children:v.jsx(He,{formMethods:p,onSubmit:E=>{Object.keys(I).length===0&&t(yy(E,i,s))},setDataOnUnmount:m,children:N.map(E=>{const O=i.findIndex($=>$.skjaeringstidspunktBeregning===E.beregningsgrunnlagStp);return v.jsx("div",{style:{display:O===e?"block":"none"},children:v.jsx(Iy,{submittable:r,readOnly:n||!Sr(s,i[O].vilkårsperiodeFom),beregningsgrunnlag:i[O],arbeidsgiverOpplysningerPerId:d,kodeverkSamling:a,fieldIndex:O})},E.id)})})})};var yf={exports:{}};(function(e,n){(function(r,t){e.exports=t()})(dI,function(){return function(r,t,i){t.prototype.isBetween=function(s,a,d,g){var m=i(s),k=i(a),p=(g=g||"()")[0]==="(",c=g[1]===")";return(p?this.isAfter(m,d):!this.isBefore(m,d))&&(c?this.isBefore(k,d):!this.isAfter(k,d))||(p?this.isBefore(m,d):!this.isAfter(m,d))&&(c?this.isAfter(k,d):!this.isBefore(k,d))}}})})(yf);var _y=yf.exports;const Tf=tf(_y);x.extend(Tf);const Sy="2023-05-01";function Ry(){return(e,n,r)=>r.findIndex(t=>t.skalRedusereUtbetaling===e.skalRedusereUtbetaling&&t.arbeidsforholdId===e.arbeidsforholdId&&t.arbeidsgiverId===e.arbeidsgiverId&&t.aktivitetStatus===e.aktivitetStatus&&t.bruttoInntektPrÅr===e.bruttoInntektPrÅr)===n}const Ny=(e,n)=>{const r=e.pop();if(!r)return;const t=[...r.inntektsforholdListe];n.inntektsforholdListe.forEach(s=>t.push(s));const i={...r,inntektsforholdListe:t.filter(Ry()),tom:n.tom};e.push(i)},Fy=(e,n)=>{const r=e.inntektsforholdListe||[],t=n.inntektsforholdListe||[];for(let i=0;i<r.length;i+=1){const s=r[i],a=t.find(d=>d.aktivitetStatus===s.aktivitetStatus&&d.arbeidsgiverId===s.arbeidsgiverId&&d.arbeidsforholdId===s.arbeidsforholdId);if(a===void 0)return!0;if(a.bruttoInntektPrÅr!==s.bruttoInntektPrÅr||a.skalRedusereUtbetaling!==s.skalRedusereUtbetaling)return!1}return!0},Dg=(e,n)=>Ok(e,n,!0)>2,Py=(e,n)=>{const r=n.tom,t=e.fom;return x(r).isBefore(x(t))?Dg(r,t):Dg(t,r)},By=(e,n,r)=>{if(x(e.fom).isSame(x(Sy)))return!1;const t=n[n.length-1],i=zn(e,r);return i&&!zn(t,r)||i&&Py(e,t)?!1:Fy(e,t)},Oy=e=>(n,r)=>n.length===0?(n.push({...r}),n):By(r,n,e)?(Ny(n,r),n):(n.push({...r}),n),Ef=(e,n)=>e.reduce(Oy(n),[]);function _f(e,n){var r;return!zn(e,n.forlengelseperioder)&&!!e.inntektsforholdListe&&((r=e.inntektsforholdListe)==null?void 0:r.every(t=>t.skalRedusereUtbetaling!==null))}const Sf=(e,n)=>{let r=null;return e.arbeidsgiverId!==null&&e.arbeidsgiverId!==void 0&&(r=n[e.arbeidsgiverId]),e.aktivitetStatus===F.ARBEIDSTAKER?r?ii(r,e.arbeidsforholdId):"Arbeidsforhold":e.aktivitetStatus===F.FRILANSER?"Frilanser":e.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE?"Selvstendig næringsdrivende":""},Vy=(e,n)=>{let r=null;return e.arbeidsgiverIdent&&(r=n[e.arbeidsgiverIdent]),e.aktivitetStatus===F.ARBEIDSTAKER?r?ii(r,e.arbeidsforholdId):"Arbeidsforhold":e.aktivitetStatus===F.FRILANSER?"Frilanser":e.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE?"Selvstendig næringsdrivende":""},$y="_statusOk_1qsx9_1",Gg={statusOk:$y},Dy="_tilkommetAktivitet_1xjj3_1",Gy="_aktivitetContainer_1xjj3_4",My="_aktivitetTable_1xjj3_7",Ly="_separator_1xjj3_12",Ky="_aksjonspunktContainer_1xjj3_16",wy="_aksjonspunktContainerLukketAP_1xjj3_21",Uy="_aksjonspunktContainerLukketAP_1xjj3_21",Cy="_bruttoInntektContainer_1xjj3_26",Yy="_bruttoInntektInput_1xjj3_29",zy="_bruttoInntektCurrency_1xjj3_32",qy="_edited_1xjj3_37",Hy="_inntektsmeldingTag_1xjj3_40",Jy="_inntektColumn_1xjj3_43",Zy="_tittelRad_1xjj3_47",Wy="_modalKnapp_1xjj3_50",De={tilkommetAktivitet:Dy,aktivitetContainer:Gy,aktivitetTable:My,separator:Ly,aksjonspunktContainer:Ky,aksjonspunktContainerLukketAP:wy,aksjonspunktContainerLukketAp:Uy,bruttoInntektContainer:Cy,bruttoInntektInput:Yy,bruttoInntektCurrency:zy,edited:qy,inntektsmeldingTag:Hy,inntektColumn:Jy,tittelRad:Zy,modalKnapp:Wy},Xy=e=>{if(!e)return"";let n=e.aktivitetStatus;return e.arbeidsgiverId&&(n+=e.arbeidsgiverId),e.arbeidsforholdId&&(n+=e.arbeidsforholdId),n},Qy=({formName:e,bgIndex:n,periodeFieldIndex:r,readOnly:t,inntektsforholdFieldIndex:i,field:s,arbeidsgiverOpplysningerPerId:a})=>{const d=me(),g=X(),m=d.watch(`${e}.${n}.perioder.${r}.inntektsforhold.${i}.skalRedusereUtbetaling`),k=()=>{switch(s.aktivitetStatus){case F.ARBEIDSTAKER:return v.jsx(f,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerArbeid",values:{br:v.jsx("br",{})}});case F.FRILANSER:return v.jsx(f,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerFrilans",values:{br:v.jsx("br",{})}});case F.SELVSTENDIG_NAERINGSDRIVENDE:return v.jsx(f,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerNæring"});default:return v.jsx(f,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerArbeid"})}},p=()=>s.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE?g.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.VurderTekstNæring"}):s.aktivitetStatus===F.FRILANSER?g.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.VurderTekstFrilans"}):g.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.VurderTekstArbeid"},{arbeidsforhold:Vy(s,a)});return v.jsxs(v.Fragment,{children:[v.jsx(ue,{label:p(),name:`${e}.${n}.perioder.${r}.inntektsforhold.${i}.skalRedusereUtbetaling`,radios:[{value:"true",label:g.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Ja"})},{value:"false",label:g.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Nei"})}],isReadOnly:t,validate:[H],isTrueOrFalseSelection:!0}),m===!1&&v.jsxs(v.Fragment,{children:[v.jsx(A,{sixteenPx:!0}),v.jsx(_e,{size:"small",variant:"info",children:g.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Alert"})})]}),m&&v.jsxs(v.Fragment,{children:[v.jsx(A,{sixteenPx:!0}),v.jsx(G,{size:"small",children:v.jsx(f,{id:"BeregningInfoPanel.TilkommetAktivitet.Fastsett"})}),v.jsx(Pe,{header:v.jsx(f,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMer"}),children:k()}),v.jsx(A,{eightPx:!0}),v.jsxs("div",{className:De.bruttoInntektContainer,children:[v.jsx(pe,{name:`${e}.${n}.perioder.${r}.inntektsforhold.${i}.bruttoInntektPrÅr`,label:"Fastsett årsinntekt",hideLabel:!0,readOnly:t,className:De.bruttoInntektInput,parse:ye,validate:[H,en(178956970)]}),v.jsx("span",{className:De.bruttoInntektCurrency,children:"kr"})]})]})]})},Mg=e=>!!e&&+e>0,eT=({arbeidsgiverOpplysningerPerId:e,vurderInntektsforholdPeriode:n})=>{const r=X(),t=s=>{const a=[];return s.inntektsforholdListe.forEach(d=>{const g=Mg(d.bruttoInntektPrÅr),m=Mg(d.inntektFraInntektsmeldingPrÅr);a.push(v.jsxs(Je,{children:[v.jsx(q,{children:v.jsx(_,{size:"small",children:Sf(d,e)})}),v.jsx(q,{children:v.jsx(_,{size:"small",children:d.skalRedusereUtbetaling?r.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Ja"}):r.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Nei"})})}),(g||m)&&v.jsx(q,{children:v.jsxs(_,{size:"small",children:[g&&v.jsxs(v.Fragment,{children:[hs(d.bruttoInntektPrÅr||0),v.jsx(ft,{})]}),m&&!g&&v.jsxs(v.Fragment,{children:[hs(d.inntektFraInntektsmeldingPrÅr||0),v.jsx(Xs,{className:De.inntektsmeldingTag,variant:"neutral",size:"xsmall",children:"IM"})]})]})})]},Xy(d)))}),a},i=["BeregningInfoPanel.TilkommetAktivitet.Aktivitet","BeregningInfoPanel.TilkommetAktivitet.RedusererUtbetaling",n.inntektsforholdListe.some(s=>s.bruttoInntektPrÅr)?"BeregningInfoPanel.TilkommetAktivitet.Årsinntekt":"BeregningInfoPanel.TilkommetAktivitet.TomTekst"].map(s=>v.jsxs(G,{size:"small",children:[v.jsx(f,{id:s})," "]},s));return v.jsx("div",{className:De.aktivitetContainer,children:v.jsx(an,{headerColumnContent:i,noHover:!0,classNameTable:De.aktivitetTable,children:t(n)})})},Ki=e=>!!e&&+e>0,nT=({formName:e,vurderInntektsforholdPeriode:n,bgIndex:r,periodeFieldIndex:t,readOnly:i,erAksjonspunktÅpent:s,submittable:a,arbeidsgiverOpplysningerPerId:d,skalViseBegrunnelse:g})=>{const{control:m,formState:k}=me(),{fields:p}=Me({control:m,name:`VURDER_TILKOMMET_AKTIVITET_FORM.${r}.perioder.${t}.inntektsforhold`}),c=n.inntektsforholdListe.some(R=>Ki(R.bruttoInntektPrÅr)||Ki(R.inntektFraInntektsmeldingPrÅr)),b=n.inntektsforholdListe.some(R=>!!R.periode),I=["BeregningInfoPanel.TilkommetAktivitet.Aktivitet",c?"BeregningInfoPanel.TilkommetAktivitet.Årsinntekt":"BeregningInfoPanel.TilkommetAktivitet.TomTekst",b?"BeregningInfoPanel.TilkommetAktivitet.Periode":"BeregningInfoPanel.TilkommetAktivitet.TomTekst"].map(R=>v.jsxs(G,{size:"small",children:[v.jsx(f,{id:R})," "]},R)),T=R=>{const S=[],{inntektsforholdListe:N}=R;return N.forEach(E=>{const O=Ki(E.bruttoInntektPrÅr),$=Ki(E.inntektFraInntektsmeldingPrÅr);S.push(v.jsxs(Je,{children:[v.jsx(q,{children:v.jsx(_,{size:"small",children:Sf(E,d)})}),(O||$||b)&&v.jsx(q,{className:De.inntektColumn,children:v.jsxs(_,{size:"small",children:[O&&!$&&v.jsxs(v.Fragment,{children:[hs(E.bruttoInntektPrÅr||0),v.jsx(ft,{})]}),$&&v.jsxs(v.Fragment,{children:[hs(E.inntektFraInntektsmeldingPrÅr||0),v.jsx(Xs,{className:De.inntektsmeldingTag,variant:"neutral",size:"xsmall",children:"IM"})]})]})}),E.periode&&v.jsx(q,{className:De.periodeColumn,children:v.jsx(_,{size:"small",children:v.jsx(Ge,{dateStringFom:E.periode.fom,dateStringTom:E.periode.tom})})})]},E.arbeidsgiverId||E.aktivitetStatus))}),S};return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:De.aktivitetContainer,children:v.jsx(an,{noHover:!0,headerColumnContent:I,classNameTable:De.aktivitetTable,children:T(n)})}),v.jsx(A,{sixteenPx:!0}),v.jsxs("div",{className:s?De.aksjonspunktContainer:De.aksjonspunktContainerLukketAP,children:[p.map((R,S)=>v.jsxs("div",{children:[v.jsx(Qy,{formName:e,bgIndex:r,periodeFieldIndex:t,inntektsforholdFieldIndex:S,field:R,readOnly:i,arbeidsgiverOpplysningerPerId:d},R.id),S<n.inntektsforholdListe.length-1&&v.jsx(A,{fourtyPx:!0})]},R.id)),g&&v.jsxs(v.Fragment,{children:[v.jsx(A,{fourtyPx:!0}),v.jsx(sn,{name:`${e}.${r}.begrunnelse`,label:"Begrunnelse",readOnly:i,validate:[H]}),v.jsx(A,{sixteenPx:!0}),v.jsx(sa,{isSubmittable:a,isReadOnly:i,isSubmitting:k.isSubmitting,isDirty:k.isDirty})]})]})]})},Sa=e=>e?x(e,Be).format(ee):"-",Lg=(e,n)=>!n||n===ze?v.jsx(G,{size:"medium",children:v.jsx(f,{id:"BeregningInfoPanel.FordelBG.PeriodeFom",values:{fom:Sa(e)}})}):v.jsx(G,{size:"medium",children:v.jsx(f,{id:"BeregningInfoPanel.FordelBG.PeriodeFomOgTom",values:{fom:Sa(e),tom:Sa(n)}})}),rT=({beregningsgrunnlag:e,arbeidsgiverOpplysningerPerId:n,formName:r,bgIndex:t,readOnly:i,submittable:s,erAksjonspunktÅpent:a,fields:d})=>{const[g,m]=j.useState([]),[k,p]=j.useState([]),[c,b]=j.useState([]),I=me();j.useEffect(()=>{var E,O;const $=(O=(E=e.faktaOmFordeling)==null?void 0:E.vurderNyttInntektsforholdDto)==null?void 0:O.vurderInntektsforholdPerioder;if($){const V=Ef($,e.forlengelseperioder);m(V);const L=k.map(J=>J),Z=d.map(J=>J.fom);Z.filter(J=>!c.includes(J)).forEach(J=>L.push(J)),p(L),b(Z)}},[e,d.length]);const T=g.filter(E=>_f(E,e)),R=E=>{if(k.includes(E)){const O=k.filter($=>$!==E);p(O)}else{const O=k.map($=>$);O.push(E),p(O)}},S=E=>{const O=x(E),$=g.find(V=>!x(V.fom).isAfter(O)&&!x(V.tom).isBefore(O));if(!$)throw new Error(`Finner ikke periode som overlapper med fom ${E}`);return $},N=E=>()=>R(E);return!g||g.length<1?null:v.jsxs(v.Fragment,{children:[v.jsxs(Ke,{className:Gg.statusOk,children:[T.map(E=>v.jsxs(Ke.Item,{open:k.filter(O=>O===E.fom).length>0,children:[v.jsxs(Ke.Header,{onClick:N(E.fom),children:[Lg(E.fom,E.tom)," ",v.jsx(jf,{})]}),v.jsx(Ke.Content,{children:v.jsx(eT,{arbeidsgiverOpplysningerPerId:n,vurderInntektsforholdPeriode:E})})]},E.fom)),d.map((E,O)=>v.jsxs(Ke.Item,{open:k.filter($=>$===E.fom).length>0,children:[v.jsx(Ke.Header,{onClick:N(E.fom),children:Lg(E.fom,E.tom)}),v.jsx(Ke.Content,{children:v.jsx(nT,{arbeidsgiverOpplysningerPerId:n,vurderInntektsforholdPeriode:S(E.fom),formName:r,bgIndex:t,periodeFieldIndex:O,readOnly:i,erAksjonspunktÅpent:a,submittable:s,skalViseBegrunnelse:d.length===1})})]},E.fom))]}),d.length>1&&v.jsxs("div",{className:Gg.aktivitetContainer,children:[v.jsx(A,{fourtyPx:!0}),v.jsx(sn,{name:`${r}.${t}.begrunnelse`,label:"Begrunnelse for alle perioder",readOnly:i,validate:[H]}),v.jsx(A,{sixteenPx:!0}),v.jsx(sa,{isSubmittable:s,isReadOnly:i,isSubmitting:I.formState.isSubmitting,isDirty:I.formState.isDirty})]})]})},tT="_datoRad_17rpq_1",iT="_boks_17rpq_8",sT="_footerRad_17rpq_12",aT="_datoVelger_17rpq_16",lT="_periodeHeader_17rpq_20",Ps={datoRad:tT,boks:iT,footerRad:sT,datoVelger:aT,periodeHeader:lT};function Rf(e){var n,r,t="";if(typeof e=="string"||typeof e=="number")t+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(r=Rf(e[n]))&&(t&&(t+=" "),t+=r);else for(n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function Nf(){for(var e,n,r=0,t="";r<arguments.length;)(e=arguments[r++])&&(n=Rf(e))&&(t&&(t+=" "),t+=n);return t}const dT=e=>Nf({"navds-typo--spacing":e.spacing,"navds-typo--truncate":e.truncate,"navds-typo--semibold":e.weight==="semibold",[`navds-typo--align-${e.align}`]:e.align,[`navds-typo--color-${e.textColor}`]:e.textColor,"navds-typo--visually-hidden":e.visuallyHidden,"navds-typo--uppercase":e.uppercase});var oT=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const gT=j.forwardRef((e,n)=>{var{className:r,size:t="medium",as:i="label",spacing:s,visuallyHidden:a,textColor:d}=e,g=oT(e,["className","size","as","spacing","visuallyHidden","textColor"]);return M.createElement(i,Object.assign({},g,{ref:n,className:Nf(r,"navds-label",dT({spacing:s,visuallyHidden:a,textColor:d}),{"navds-label--small":t==="small"})}))}),uT=gT,Kg=e=>e===ze?"":x(e).format(ee),mT=({periode:e,forhåndsvisPeriodesplitt:n,setValgtDato:r})=>{const t=X(),[i,s]=j.useState(),a=j.useCallback(k=>{const p=x(k).format(Be);if(r(p),p){const c=n(p);c.sort((b,I)=>x(b.fom).diff(x(I.fom))),s(c)}},[n]),d=[k=>!e||!x(k).isAfter(x(e.fom))||x(k).isAfter(x(e.tom))],{datepickerProps:g,inputProps:m}=vb({today:new Date(e.fom),disableWeekends:!0,disabled:d,onDateChange:a});return v.jsxs(v.Fragment,{children:[v.jsx(y,{className:Ps.datoVelger,children:v.jsx(bg,{...g,children:v.jsx(bg.Input,{...m,label:t.formatMessage({id:"TilkommetAktivitet.Modal.DatoValg"}),size:"small"})})}),i&&v.jsxs(y,{children:[v.jsx(uT,{size:"small",className:Ps.periodeHeader,children:v.jsx(f,{id:"TilkommetAktivitet.Modal.Resultat"})}),v.jsxs("ul",{children:[v.jsx("li",{children:v.jsx(f,{id:"TilkommetAktivitet.Modal.Periode",values:{fom:x(i[0].fom).format(ee),tom:Kg(i[0].tom)}})}),v.jsx("li",{children:v.jsx(f,{id:"TilkommetAktivitet.Modal.Periode",values:{fom:x(i[1].fom).format(ee),tom:Kg(i[1].tom)}})})]})]}),v.jsx(A,{sixteenPx:!0})]})},kT=e=>e?e.tom===ze?!0:Ok(e.fom,e.tom,!0)>1:!1,fT=e=>e.map(n=>({fom:n.fom,tom:n.tom})),pT=(e,n)=>{const r=x(e).format(ee);if(n&&n!==ze){const t=x(n).format(ee);return r.concat(" - ",t)}return r.concat(" - ")},cT=({fields:e,forhåndsvisPeriodesplitt:n,utførPeriodesplitt:r,skalViseModal:t,lukkModal:i})=>{const s=X(),[a,d]=j.useState(void 0),[g,m]=j.useState(void 0),k=j.useMemo(()=>fT(e),[e]),p=j.useCallback(()=>{a&&g&&(r(a),i())},[e,a]),c=j.useCallback(I=>{const T=I.target.value,R=k.find(S=>S.fom===T);m(R||void 0)},[]),b=g&&kT(g);return t?v.jsxs($i,{width:"500px",open:t,onClose:i,children:[v.jsx($i.Header,{children:v.jsx(f,{id:"TilkommetAktivitet.Modal.Tittel"})}),v.jsxs($i.Body,{children:[v.jsx("div",{children:v.jsxs(cb,{label:s.formatMessage({id:"TilkommetAktivitet.Modal.Select"}),onChange:c,size:"small",children:[v.jsx("option",{value:void 0,children:"Velg periode"}),k.map(I=>v.jsx("option",{value:I.fom,children:pT(I.fom,I.tom)},I.fom))]})}),v.jsx(A,{sixteenPx:!0}),b&&v.jsx(xe,{children:v.jsx(D,{className:Ps.datoRad,children:v.jsx(mT,{forhåndsvisPeriodesplitt:n,periode:g,setValgtDato:d})})})]}),v.jsx($i.Footer,{children:v.jsx(xe,{children:v.jsxs(D,{className:Ps.footerRad,children:[v.jsx(y,{children:v.jsx(ne,{size:"small",variant:"primary",onClick:p,disabled:!a,autoFocus:!0,type:"button",children:v.jsx(f,{id:"TilkommetAktivitet.Modal.DelOppKnapp"})})}),v.jsx(y,{children:v.jsx(ne,{size:"small",variant:"secondary",onClick:i,disabled:!1,autoFocus:!0,type:"button",children:v.jsx(f,{id:"TilkommetAktivitet.Modal.AvbrytKnapp"})})})]})})})]}):null},wg=(e,n)=>n==null?void 0:n.some(r=>r.inntektsforholdListe.some(t=>t.aktivitetStatus===e)),vT=({formName:e,beregningsgrunnlag:n,bgIndex:r,readOnly:t,submittable:i,erAksjonspunktÅpent:s,arbeidsgiverOpplysningerPerId:a})=>{var d,g;const m=X(),[k,p]=j.useState(!1),{control:c,watch:b}=me(),{fields:I,remove:T,insert:R}=Me({control:c,name:`VURDER_TILKOMMET_AKTIVITET_FORM.${r}.perioder`});I.sort((C,B)=>x(C.fom).diff(x(B.fom)));const S=(g=(d=n.faktaOmFordeling)==null?void 0:d.vurderNyttInntektsforholdDto)==null?void 0:g.vurderInntektsforholdPerioder,N=()=>{const C=wg(F.SELVSTENDIG_NAERINGSDRIVENDE,S),B=wg(F.FRILANSER,S),U=S==null?void 0:S.flatMap(K=>K.inntektsforholdListe.map(w=>w.aktivitetStatus)).reduce((K,w)=>(K.some(Q=>Q===w)||K.push(w),K),[]);return(U?U.length:0)>1?m.formatMessage({id:"TilkommetAktivitet.AlertHeading.FlereStatuser"}):C?m.formatMessage({id:"TilkommetAktivitet.AlertHeading.SelvstendigNæringsdrivende"}):B?m.formatMessage({id:"TilkommetAktivitet.AlertHeading.Frilans"}):m.formatMessage({id:"TilkommetAktivitet.AlertHeading.Arbeidsforhold"})},E=()=>s?v.jsxs(_e,{size:"small",variant:"warning",children:[v.jsx(te,{size:"xsmall",level:"3",children:N()}),m.formatMessage({id:"TilkommetAktivitet.AksjonspunktHelpText"})]}):v.jsxs(v.Fragment,{children:[v.jsxs(G,{size:"small",children:[m.formatMessage({id:"HelpText.Aksjonspunkt.BehandletAksjonspunkt"}),N()]}),v.jsx(_,{size:"small",children:m.formatMessage({id:"TilkommetAktivitet.AksjonspunktHelpText"})})]}),O=(C,B,U,K)=>{const w=b(`${e}.${r}.perioder.${U}.inntektsforhold.${K}.skalRedusereUtbetaling`),Q=b(`${e}.${r}.perioder.${U}.inntektsforhold.${K}.bruttoInntektPrÅr`);return{aktivitetStatus:C.aktivitetStatus,arbeidsgiverIdent:C.arbeidsgiverIdent,arbeidsforholdId:C.arbeidsforholdId,bruttoInntektPrÅr:B?Q:void 0,skalRedusereUtbetaling:B?w:void 0}},$=(C,B,U)=>!x(C).isAfter(x(U))&&!x(B).isBefore(x(U)),V=j.useCallback(C=>{const B=I.find(Q=>$(Q.fom,Q.tom,C));if(!B)throw new Error(`Finner ikke field somme inneholder dato ${C}`);const U=x(C).subtract(1,"day"),K={fom:x(B.fom).format(Be),tom:U.format(Be)},w={fom:x(C).format(Be),tom:B.tom};return[K,w]},[I]),L=j.useCallback(C=>{const B=I.find(Ne=>$(Ne.fom,Ne.tom,C));if(!B)throw new Error(`Finner ikke field somme inneholder dato ${C}`);const U=V(C),K=I.indexOf(B),w=B.inntektsforhold||[],Q={inntektsforhold:w.map((Ne,Le)=>O(Ne,!0,K,Le)),fom:U[0].fom,tom:U[0].tom},ve={inntektsforhold:w.map((Ne,Le)=>O(Ne,!1,K,Le)),fom:U[1].fom,tom:U[1].tom};T(K),R(K,[Q,ve])},[I]),Z=j.useCallback(()=>{p(!0)},[k]),J=j.useCallback(()=>{p(!1)},[k]);return v.jsxs(v.Fragment,{children:[E(),!!S&&s&&v.jsxs(v.Fragment,{children:[v.jsx(A,{eightPx:!0}),v.jsx(_e,{size:"small",variant:"info",title:"",children:m.formatMessage({id:"TilkommetAktivitet.AksjonspunktAlert"})})]}),v.jsx(A,{fourtyPx:!0}),v.jsx(xe,{children:v.jsxs(D,{className:De.tittelRad,children:[v.jsx(y,{children:v.jsx(te,{size:"small",level:"3",children:m.formatMessage({id:"TilkommetAktivitet.Heading"})})}),v.jsx(y,{className:De.modalKnapp,children:v.jsx(ne,{variant:"tertiary",loading:!1,disabled:t,onClick:Z,size:"small",type:"button",icon:v.jsx(Cb,{height:32,width:32}),children:m.formatMessage({id:"TilkommetAktivitet.Modal.Knapp"})})})]})}),k&&v.jsx(cT,{fields:I,forhåndsvisPeriodesplitt:V,lukkModal:J,skalViseModal:k,utførPeriodesplitt:L}),v.jsx(rT,{beregningsgrunnlag:n,arbeidsgiverOpplysningerPerId:a,formName:e,fields:I,bgIndex:r,readOnly:t,erAksjonspunktÅpent:s,submittable:i})]})};x.extend(Tf);const{VURDER_NYTT_INNTKTSFRHLD:Dl}=Qe,wt="VURDER_TILKOMMET_AKTIVITET_FORM",Ff=e=>{const n=e.find(r=>r.definisjon===Dl);if(!n)throw Error(`Fant ikke forventet avklaringsbehov ${Dl}`);return n},bT=(e,n)=>{const r=n.find(t=>t.vilkårsperiodeFom===e);if(!r)throw Error(`Mangler beregningsgrunnlag for vilkårsperiodeFom ${e}`);return r};function hT(e){var n,r;const t=(r=(n=e.faktaOmFordeling)==null?void 0:n.vurderNyttInntektsforholdDto)==null?void 0:r.vurderInntektsforholdPerioder;if(!t)throw Error("vurderInntektsforholdPerioder skal være definert");return Ef(t,e.forlengelseperioder).filter(i=>!_f(i,e))}const jT=e=>({aktivitetStatus:e.aktivitetStatus,arbeidsgiverIdent:e.arbeidsgiverId,arbeidsforholdId:e.arbeidsforholdId,bruttoInntektPrÅr:z(e.bruttoInntektPrÅr),skalRedusereUtbetaling:e.skalRedusereUtbetaling}),IT=e=>({fom:e.fom,tom:e.tom,inntektsforhold:e.inntektsforholdListe.map(n=>jT(n))}),AT=(e,n)=>{const r=Ff(e.avklaringsbehov),t=hT(e);return{beregningsgrunnlagStp:e.skjaeringstidspunktBeregning,begrunnelse:r&&r.begrunnelse?r.begrunnelse:"",periode:ai(n,e.vilkårsperiodeFom).periode,perioder:t.map(i=>IT(i))}},xT=(e,n)=>({[`${wt}`]:e.filter(r=>r.avklaringsbehov.some(t=>t.definisjon===Qe.VURDER_NYTT_INNTKTSFRHLD)).map(r=>AT(r,n))}),yT=(e,n)=>{const r=x(e.fom).isBetween(n.fom,n.tom,"day","[]")||x(e.tom).isBetween(n.fom,n.tom,"day","[]"),t=x(n.fom).isBetween(e.fom,e.tom,"day","[]")||x(n.tom).isBetween(e.fom,e.tom,"day","[]");return r||t},TT=(e,n)=>n.inntektsforholdListe.some(r=>r.aktivitetStatus===e.aktivitetStatus&&r.arbeidsforholdId===e.arbeidsforholdId&&r.arbeidsgiverId===e.arbeidsgiverIdent),ET=(e,n)=>{var r,t;const i=e.perioder,s=(((t=(r=n.faktaOmFordeling)==null?void 0:r.vurderNyttInntektsforholdDto)==null?void 0:t.vurderInntektsforholdPerioder)||[]).flatMap(a=>i.filter(d=>yT(d,a)).map(d=>{const g=d.inntektsforhold.filter(m=>TT(m,a)).map(m=>{const k=!!m.skalRedusereUtbetaling,p=k?de(m.bruttoInntektPrÅr):void 0;return{aktivitetStatus:m.aktivitetStatus,arbeidsgiverId:m.arbeidsgiverIdent,arbeidsforholdId:m.arbeidsforholdId,skalRedusereUtbetaling:k,bruttoInntektPrÅr:p}});return{fom:x(d.fom).isBefore(x(a.fom))?a.fom:d.fom,tom:x(d.tom).isAfter(x(a.tom))?a.tom:d.tom,tilkomneInntektsforhold:g}}));return{periode:e.periode,begrunnelse:e.begrunnelse,tilkomneInntektsforhold:s}},_T=(e,n,r)=>{const t=e[wt].filter(i=>Sr(r,i.periode.fom)).map(i=>ET(i,bT(i.periode.fom,n)));return{begrunnelse:t.map(i=>i.begrunnelse).reduce((i,s)=>i!==null?`${i} ${s}`:s),grunnlag:t,kode:Dl}},ST=({aktivtBeregningsgrunnlagIndeks:e,formData:n,setFormData:r,beregningsgrunnlagListe:t,submitCallback:i,readOnly:s,submittable:a,vilkarperioder:d,arbeidsgiverOpplysningerPerId:g,setTilkommetAktivitetFormIsDirty:m})=>{const k=qe({defaultValues:n!=null&&n.VURDER_TILKOMMET_AKTIVITET_FORM?n:xT(t,d)}),{formState:{dirtyFields:p,isSubmitted:c,errors:b,isDirty:I},trigger:T,control:R}=k;j.useEffect(()=>{m(I)},[I]),j.useEffect(()=>{var $;c&&($=p[wt])!=null&&$[e]&&T()},[e]);const{fields:S}=Me({name:wt,control:R}),N=t[e],E=Ff(N.avklaringsbehov),O=E?Ze(E.status):!1;return v.jsx(Xd,{errorMessage:"Noe gikk galt ved visning av tilkommet aktivitet",children:v.jsx("div",{className:De.tilkommetAktivitet,children:v.jsx(He,{formMethods:k,onSubmit:$=>{Object.keys(b).length===0&&i(_T($,t,d))},setDataOnUnmount:r,children:S.map($=>{const V=t.findIndex(L=>L.skjaeringstidspunktBeregning===$.beregningsgrunnlagStp);return v.jsx("div",{style:{display:V===e?"block":"none"},children:v.jsx(vT,{formName:wt,beregningsgrunnlag:t[V],bgIndex:V,readOnly:s||!Sr(d,t[V].vilkårsperiodeFom),submittable:a,erAksjonspunktÅpent:O,arbeidsgiverOpplysningerPerId:g})},$.id)})})})})},{FORDEL_BEREGNINGSGRUNNLAG:RT,VURDER_REFUSJON_BERGRUNN:NT,VURDER_NYTT_INNTKTSFRHLD:FT}=Qe,PT=e=>e&&e.faktaOmFordeling?!!e.faktaOmFordeling.fordelBeregningsgrunnlag:!1,BT=e=>!!(e&&e.refusjonTilVurdering),OT=e=>e&&e.faktaOmFordeling?!!e.faktaOmFordeling.vurderNyttInntektsforholdDto:!1,Ra=(e,n)=>e&&n?e.find(r=>r.definisjon===n):void 0,VT=({aktivtBeregningsgrunnlagIndeks:e,readOnly:n,submitCallback:r,beregningsgrunnlagListe:t,vilkarperioder:i,kodeverkSamling:s,submittable:a,arbeidsgiverOpplysningerPerId:d,formData:g,setFormData:m})=>{const[k,p]=j.useState(!1),[c,b]=j.useState(!1),[I,T]=j.useState(!1),R=Ra(t[e].avklaringsbehov,RT),S=Ra(t[e].avklaringsbehov,NT),N=Ra(t[e].avklaringsbehov,FT),E=(!R||R.status!==Mr.OPPRETTET)&&(!S||S.status!==Mr.OPPRETTET)&&(!N||N.status!==Mr.OPPRETTET),O=N&&OT(t[e]),$=!O||N.status!==Mr.OPPRETTET,V=R&&PT(t[e])&&($&&R.status===Mr.OPPRETTET||E),L=S&&BT(t[e])&&($&&!V&&S.status===Mr.OPPRETTET||E);return v.jsxs(v.Fragment,{children:[L&&v.jsxs(v.Fragment,{children:[v.jsx(zI,{aktivtBeregningsgrunnlagIndeks:e,submittable:a&&!k&&!I,readOnly:n,submitCallback:r,beregningsgrunnlagListe:t,arbeidsgiverOpplysningerPerId:d,formData:g,setFormData:m,vilkarperioder:i,setRefusjonFormIsDirty:b}),v.jsx(A,{fourtyPx:!0})]}),O&&v.jsxs(v.Fragment,{children:[v.jsx(ST,{aktivtBeregningsgrunnlagIndeks:e,formData:g,setFormData:m,submittable:a&&!c&&!I,readOnly:n,submitCallback:r,beregningsgrunnlagListe:t,arbeidsgiverOpplysningerPerId:d,vilkarperioder:i,setTilkommetAktivitetFormIsDirty:p}),v.jsx(A,{fourtyPx:!0})]}),V&&v.jsx(Ey,{aktivtBeregningsgrunnlagIndeks:e,submittable:a&&!k&&!c,readOnly:n,submitCallback:r,kodeverkSamling:s,beregningsgrunnlagListe:t,arbeidsgiverOpplysningerPerId:d,formData:g,setFormData:m,vilkårsperioder:i,setFordelingFormIsDirty:T})]})},$T=Oe(oo),{FORDEL_BEREGNINGSGRUNNLAG:DT,VURDER_REFUSJON_BERGRUNN:GT,VURDER_NYTT_INNTKTSFRHLD:MT}=Qe,LT=(e,n)=>{const r=ai(n,e.vilkårsperiodeFom);if(r){const{fom:t,tom:i}=r.periode;return i!==null?`${x(t).format(ee)} - ${x(i).format(ee)}`:`${x(t).format(ee)} - `}return`${x(e.vilkårsperiodeFom).format(ee)}`},Pf=e=>e.avklaringsbehov.some(n=>n.definisjon===GT||n.definisjon===DT||n.definisjon===MT),KT=(e,n)=>Pf(e)&&Sr(n,e.vilkårsperiodeFom),wT=({beregningsgrunnlagVilkår:e,beregningsgrunnlagListe:n,kodeverkSamling:r,submitCallback:t,readOnly:i,submittable:s,arbeidsgiverOpplysningerPerId:a,formData:d,setFormData:g})=>{const m=n.filter(b=>Pf(b)),[k,p]=j.useState(0);if(m.length===0)return null;const c=m.length>1;return v.jsxs(Ye,{value:$T,children:[c&&v.jsx(Kn,{value:k.toString(),onChange:b=>p(Number(b)),children:v.jsx(Kn.List,{children:m.map((b,I)=>v.jsx(Kn.Tab,{value:I.toString(),label:LT(b,e.perioder),className:KT(b,e.perioder)?"harAksjonspunkt":""},b.skjaeringstidspunktBeregning))})}),v.jsx(A,{eightPx:!0}),v.jsx(VT,{aktivtBeregningsgrunnlagIndeks:k,kodeverkSamling:r,submitCallback:t,readOnly:i,beregningsgrunnlagListe:m,vilkarperioder:e.perioder,submittable:s,arbeidsgiverOpplysningerPerId:a,formData:d,setFormData:g})]})};const UT=e=>{switch(e){case Qe.FORDEL_BEREGNINGSGRUNNLAG:return se.FORDEL_BEREGNINGSGRUNNLAG;case Qe.VURDER_REFUSJON_BERGRUNN:return se.VURDER_REFUSJON_BERGRUNN;default:throw new Error(`Ukjent avklaringspunkt ${e}`)}},CT=e=>n=>{const t=(Array.isArray(n)?n:[n]).map(i=>({kode:UT(i.kode),...i.grunnlag[0]}));return e(t)},YT=(e,n)=>({avslagKode:n.avslagKode,vurderesIBehandlingen:!0,merknadParametere:{},periode:{fom:e?e.skjaeringstidspunktBeregning:"",tom:ze},vilkarStatus:n.vilkarStatus}),zT=(e,n)=>{if(!e)return null;const r=e.find(i=>i.vilkarType&&i.vilkarType===Ar.BEREGNINGSGRUNNLAGVILKARET);return!r||!n?null:{...r,perioder:[YT(n,r)]}},qT=e=>e?[{...e,beregningsgrunnlagId:"1",vilkårsperiodeFom:e.skjaeringstidspunktBeregning}]:[],Ug=[se.FORDEL_BEREGNINGSGRUNNLAG,se.VURDER_REFUSJON_BERGRUNN],HT=[we.BEREGNINGSGRUNNLAG],Cg=({arbeidsgiverOpplysningerPerId:e,...n})=>l.jsx(Ir,{...n,panelEndepunkter:HT,aksjonspunktKoder:Ug,faktaPanelKode:jr.FORDELING,faktaPanelMenyTekst:X().formatMessage({id:"FordelBeregningsgrunnlag.Title"}),skalPanelVisesIMeny:()=>!!n.behandling&&!!n.behandling.aksjonspunkt&&!!n.behandling.aksjonspunkt.some(r=>Ug.some(t=>t===r.definisjon)),renderPanel:r=>l.jsx(wT,{...r,kodeverkSamling:r.alleKodeverk,beregningsgrunnlagVilkår:zT(r.behandling.vilkår,r.beregningsgrunnlag),beregningsgrunnlagListe:qT(r.beregningsgrunnlag),submitCallback:CT(r.submitCallback),arbeidsgiverOpplysningerPerId:e})});try{Cg.displayName="FordelingFaktaInitPanel",Cg.__docgenInfo={description:"FordelingFaktaInitPanel",displayName:"FordelingFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}const JT=e=>Vk(e,1),Bf=(e,n)=>x(JT(e)).isSame(n)?n:e,Of=(e,n,r)=>{if(!(!n||!r))return x(e).isBefore(n)?n:Bf(e,r)},Vf=(e,n,r)=>{if(!(!n||!r))return x(e).isAfter(r)?r:Bf(e,n)},ZT=e=>e===!1?"danger":e===!0?"success":"warning",WT={[he.ARBEID]:l.jsx(Nt,{width:20,height:20}),[he.AAP]:l.jsx(Rt,{width:20,height:20}),[he.DAGPENGER]:l.jsx(Rt,{width:20,height:20}),[he.FORELDREPENGER]:l.jsx(jb,{width:20,height:20}),[he.FRILANS]:l.jsx(Nt,{width:20,height:20}),[he.MILITAR_ELLER_SIVILTJENESTE]:l.jsx(Nt,{width:20,height:20}),[he.NARING]:l.jsx(Nt,{width:20,height:20}),[he.OMSORGSPENGER]:l.jsx(Rt,{width:20,height:20}),[he.OPPLARINGSPENGER]:l.jsx(Rt,{width:20,height:20}),[he.PLEIEPENGER]:l.jsx(Rt,{width:20,height:20}),[he.SVANGERSKAPSPENGER]:l.jsx(bh,{width:20,height:20}),[he.SYKEPENGER]:l.jsx(xh,{width:20,height:20}),[he.UTENLANDSK_ARBEIDSFORHOLD]:l.jsx(dh,{width:20,height:20}),[he.ETTERLONN_SLUTTPAKKE]:l.jsx(Nt,{width:20,height:20})},XT={danger:l.jsx(Lk,{}),success:l.jsx(Hd,{}),warning:l.jsx(Yb,{})},QT=(e,n,r,t,i)=>e.map((s,a)=>{var d;return{id:a,start:x(Of(s.opptjeningFom,t,i)).toDate(),end:x(Vf(s.opptjeningTom,t,i)).toDate(),radId:(d=r.find(g=>g.aktivitetTypeKode===s.aktivitetType&&g.arbeidsforholdRef===s.arbeidsforholdRef&&g.arbeidsgiverReferanse===s.arbeidsgiverReferanse))==null?void 0:d.id,status:ZT(n[a].erGodkjent)}}),eE=(e,n,r)=>e.reduce((i,s)=>(i.some(d=>d.aktivitetType===s.aktivitetType&&d.arbeidsforholdRef===s.arbeidsforholdRef&&d.arbeidsgiverReferanse===s.arbeidsgiverReferanse)||i.push(s),i),[]).map((i,s)=>{const a=n.find(g=>g.kode===i.aktivitetType),d=(a==null?void 0:a.kode)===he.AAP?r.formatMessage({id:"OpptjeningTidslinje.Aap"}):a==null?void 0:a.navn;return{id:s+1,label:d||"",aktivitetTypeKode:i.aktivitetType,arbeidsforholdRef:i.arbeidsforholdRef,arbeidsgiverReferanse:i.arbeidsgiverReferanse}}),nE=({opptjeningPerioder:e,formVerdierForAlleAktiviteter:n,fastsattOpptjening:r,valgtAktivitetIndex:t,opptjeningAktivitetTypes:i,setValgtAktivitetIndex:s})=>{const a=X(),d=r==null?void 0:r.opptjeningFom,g=r==null?void 0:r.opptjeningTom,m=j.useMemo(()=>eE(e,i,a),[e]),k=j.useMemo(()=>QT(e,n,m,d,g),[n]),p=j.useCallback(c=>{const b=k.find(I=>I.id===c);b&&s(b.id)},[k,s]);return!d||!g?null:l.jsxs(Ue,{startDate:x(d).subtract(1,"months").toDate(),endDate:x(g).add(10,"days").toDate(),children:[l.jsxs(Ue.Pin,{date:x(d).toDate(),children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"OpptjeningTidslinje.StartDato"})}),l.jsx(_,{size:"small",children:l.jsx(Re,{dateString:d})})]}),l.jsxs(Ue.Pin,{date:x(g).toDate(),children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"OpptjeningTidslinje.SluttDato"})}),l.jsx(_,{size:"small",children:l.jsx(Re,{dateString:g})})]}),m.map(c=>l.jsx(Ue.Row,{label:c.label,icon:WT[c.aktivitetTypeKode],children:k.filter(b=>b.radId===c.id).map(b=>l.jsx(Ue.Period,{start:b.start,end:b.end,status:b.status,icon:XT[b.status],onSelectPeriod:()=>p(b.id),isActive:t===b.id,statusLabel:c.label},b.id))},c.id))]})};try{OpptjeningTidslinje.displayName="OpptjeningTidslinje",OpptjeningTidslinje.__docgenInfo={description:"",displayName:"OpptjeningTidslinje",props:{opptjeningPerioder:{defaultValue:null,description:"",name:"opptjeningPerioder",required:!0,type:{name:"OpptjeningAktivitet[]"}},formVerdierForAlleAktiviteter:{defaultValue:null,description:"",name:"formVerdierForAlleAktiviteter",required:!0,type:{name:"FormValues[]"}},valgtAktivitetIndex:{defaultValue:null,description:"",name:"valgtAktivitetIndex",required:!1,type:{name:"number"}},opptjeningAktivitetTypes:{defaultValue:null,description:"",name:"opptjeningAktivitetTypes",required:!0,type:{name:"Readonly<{ kode: string; navn: string; kodeverk: string; }>[]"}},setValgtAktivitetIndex:{defaultValue:null,description:"",name:"setValgtAktivitetIndex",required:!0,type:{name:"(periodeIndex: number) => void"}},fastsattOpptjening:{defaultValue:null,description:"",name:"fastsattOpptjening",required:!1,type:{name:"FastsattOpptjening"}}}}}catch{}const rE=[he.SYKEPENGER,he.FORELDREPENGER,he.PLEIEPENGER,he.SVANGERSKAPSPENGER,he.UTENLANDSK_ARBEIDSFORHOLD],ss=(e,...n)=>!!e&&n.includes(e),tE=e=>e?x(e,Be).format(ee):"-",iE=e=>ss(e,he.FRILANS)?"ActivityPanel.Oppdragsgiver":"ActivityPanel.Arbeidsgiver",sE=(e,n)=>{const r=n[e];if(!e||!r)return"-";if(r.erPrivatPerson&&r.fødselsdato){const t=tE(r.fødselsdato);return`${r.navn} (${t})`}return r.identifikator?`${r.navn} (${r.identifikator})`:r.navn},aE=e=>e.length>0?"ActivityPanel.FerdiglignetNæring":"ActivityPanel.IngenFerdiglignetNæring",Gl=({valgtAktivitetstype:e,arbeidsgiverReferanse:n,arbeidsgiverOpplysningerPerId:r,stillingsandel:t,naringRegistreringsdato:i,ferdiglignetNæring:s})=>l.jsxs(ei,{gap:"4",children:[ss(e,he.ARBEID,he.NARING,...rE)&&l.jsxs(ie,{gap:"4",children:[l.jsxs("div",{children:[l.jsx(A,{eightPx:!0}),l.jsx(G,{size:"small",children:l.jsx(f,{id:iE(e)})}),l.jsx(_,{size:"small",children:sE(n,r)})]}),ss(e,he.ARBEID)&&l.jsxs("div",{children:[l.jsx(A,{eightPx:!0}),l.jsx(G,{size:"small",children:l.jsx(f,{id:"ActivityPanel.Stillingsandel"})}),l.jsx(_,{size:"small",children:t})]})]}),ss(e,he.NARING)&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"ActivityPanel.Registreringsdato"})}),l.jsx(_,{size:"small",children:i?x(i).format(ee):"-"})]}),l.jsxs("div",{children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:aE(s)})}),s.sort((a,d)=>a.år<d.år?1:a.år>d.år?-1:0).map(a=>l.jsxs(ie,{gap:"5",children:[l.jsx(_,{size:"small",children:a.år}),l.jsx(_,{size:"small",children:z(a.beløp)})]},a.år))]})]})]});try{Gl.displayName="ValgtAktivitetSubForm",Gl.__docgenInfo={description:`ValgtAktivitetSubForm

Viser informasjon om valgt aktivitet`,displayName:"ValgtAktivitetSubForm",props:{valgtAktivitetstype:{defaultValue:null,description:"",name:"valgtAktivitetstype",required:!1,type:{name:"string"}},arbeidsgiverReferanse:{defaultValue:null,description:"",name:"arbeidsgiverReferanse",required:!0,type:{name:"string"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},stillingsandel:{defaultValue:null,description:"",name:"stillingsandel",required:!0,type:{name:"number"}},naringRegistreringsdato:{defaultValue:null,description:"",name:"naringRegistreringsdato",required:!0,type:{name:"string"}},ferdiglignetNæring:{defaultValue:null,description:"",name:"ferdiglignetNæring",required:!0,type:{name:"FerdiglignetNæring[]"}}}}}catch{}const lE="_explanationTextarea_18tdb_1",dE="_panel_18tdb_5",oE="_colMargin_18tdb_9",gE="_margin_18tdb_13",uE="_fix_18tdb_17",wi={explanationTextarea:lE,panel:dE,colMargin:oE,margin:gE,fix:uE},mE=Tn(3),kE=En(1500),as=(e,n,r)=>e?!!n&&!r:!0,fE=(e,n)=>{const r=ob(e,n);return r?r.months>=1?l.jsx(f,{id:"ActivityPanel.MonthsAndDays",values:{months:r.months,days:r.days}}):l.jsx(f,{id:"ActivityPanel.Days",values:{days:r.days}}):l.jsx("span",{})},pE=(e,n,r,t)=>r||as(t,e,n)?"ActivityPanel.Begrunnelse":"ActivityPanel.BegrunnEndringene",Ml=({readOnly:e,opptjeningAktivitetTyper:n,avbrytAktivitet:r,velgNesteAktivitet:t,velgForrigeAktivitet:i,harAksjonspunkt:s,alleMerknaderFraBeslutter:a,arbeidsgiverOpplysningerPerId:d,valgtOpptjeningAktivitet:g,ferdiglignetNæring:m,oppdaterAktivitet:k,valgteFormValues:p,fastsattOpptjening:c,lukkPeriode:b})=>{var J;const I=X(),T=qe({defaultValues:p}),{arbeidsgiverReferanse:R,erGodkjent:S,erEndret:N,aktivitetType:E,stillingsandel:O,naringRegistreringsdato:$}=g,V=Of(g.opptjeningFom,c==null?void 0:c.opptjeningFom,c==null?void 0:c.opptjeningTom),L=Vf(g.opptjeningTom,c==null?void 0:c.opptjeningFom,c==null?void 0:c.opptjeningTom),Z=j.useCallback((...C)=>l.jsx("b",{children:C}),[]);return l.jsx(He,{formMethods:T,onSubmit:C=>k(C),children:l.jsxs(Uk,{className:wi.panel,merknaderFraBeslutter:a[se.VURDER_PERIODER_MED_OPPTJENING],children:[l.jsxs(ei,{gap:"2",children:[l.jsxs(ie,{justify:"space-between",children:[l.jsx(te,{size:"small",children:l.jsx(f,{id:"ActivityPanel.Details"})}),l.jsxs(ie,{gap:"2",children:[l.jsx(ne,{className:wi.margin,size:"xsmall",icon:l.jsx(Qs,{"aria-hidden":!0}),onClick:i,variant:"secondary-neutral",type:"button",title:I.formatMessage({id:"Timeline.prevPeriod"}),children:l.jsx(f,{id:"Timeline.prevPeriodShort"})}),l.jsx(ne,{className:wi.margin,size:"xsmall",icon:l.jsx(ea,{"aria-hidden":!0}),onClick:t,variant:"secondary-neutral",type:"button",title:I.formatMessage({id:"Timeline.nextPeriod"}),iconPosition:"right",children:l.jsx(f,{id:"Timeline.nextPeriodShort"})}),l.jsx(ne,{size:"xsmall",icon:l.jsx(Cn,{"aria-hidden":!0}),onClick:b,variant:"tertiary-neutral",type:"button",title:I.formatMessage({id:"Timeline.lukkPeriode"})})]})]}),l.jsxs(ie,{children:[l.jsxs("div",{className:wi.colMargin,children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"ActivityPanel.Period"})}),V&&L&&l.jsxs(ie,{gap:"2",children:[l.jsx(_,{size:"small",children:`${x(V).format(ee)} - ${x(L).format(ee)}`}),l.jsx(_,{size:"small",children:fE(V,L)})]})]}),l.jsxs("div",{children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"ActivityPanel.Activity"})}),l.jsx(_,{size:"small",children:(J=n.find(C=>C.kode===E))==null?void 0:J.navn})]})]})]}),l.jsx(A,{eightPx:!0}),l.jsx(Gl,{valgtAktivitetstype:E,arbeidsgiverReferanse:R,arbeidsgiverOpplysningerPerId:d,stillingsandel:O,naringRegistreringsdato:$,ferdiglignetNæring:m}),!as(s,S,N)&&l.jsxs(l.Fragment,{children:[l.jsx(A,{twentyPx:!0}),l.jsx(ue,{name:"erGodkjent",hideLegend:!0,validate:[H],isReadOnly:e,isEdited:N,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:I.formatMessage({id:"ActivityPanel.Godkjent"}),value:"true"},{label:l.jsx(f,{id:"ActivityPanel.IkkeGodkjent",values:{b:Z}}),value:"false"}]})]}),l.jsx(A,{sixteenPx:!0}),l.jsx(sn,{name:"begrunnelse",label:l.jsx(f,{id:pE(S,N,e,s)}),validate:[H,mE,kE,yn],maxLength:1500,readOnly:e||as(s,S,N)}),!as(s,S,N)&&l.jsxs(l.Fragment,{children:[l.jsx(A,{sixteenPx:!0}),l.jsxs(ie,{gap:"4",children:[l.jsx(ne,{size:"small",variant:"primary",disabled:!T.formState.isDirty,children:l.jsx(f,{id:"ActivityPanel.Oppdater"})}),l.jsx(ne,{size:"small",variant:"secondary",onClick:r,type:"button",children:l.jsx(f,{id:"ActivityPanel.Avbryt"})})]})]})]})})};try{Ml.displayName="ValgtAktivitetForm",Ml.__docgenInfo={description:`ValgtAktivitetForm

Viser informasjon om valgt aktivitet`,displayName:"ValgtAktivitetForm",props:{alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},valgtOpptjeningAktivitet:{defaultValue:null,description:"",name:"valgtOpptjeningAktivitet",required:!0,type:{name:"OpptjeningAktivitet"}},valgteFormValues:{defaultValue:null,description:"",name:"valgteFormValues",required:!0,type:{name:"FormValues"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},oppdaterAktivitet:{defaultValue:null,description:"",name:"oppdaterAktivitet",required:!0,type:{name:"(values: FormValues) => void"}},avbrytAktivitet:{defaultValue:null,description:"",name:"avbrytAktivitet",required:!0,type:{name:"() => void"}},velgNesteAktivitet:{defaultValue:null,description:"",name:"velgNesteAktivitet",required:!0,type:{name:"() => void"}},velgForrigeAktivitet:{defaultValue:null,description:"",name:"velgForrigeAktivitet",required:!0,type:{name:"() => void"}},harAksjonspunkt:{defaultValue:null,description:"",name:"harAksjonspunkt",required:!0,type:{name:"boolean"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},opptjeningAktivitetTyper:{defaultValue:null,description:"",name:"opptjeningAktivitetTyper",required:!0,type:{name:"Readonly<{ kode: string; navn: string; kodeverk: string; }>[]"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},ferdiglignetNæring:{defaultValue:null,description:"",name:"ferdiglignetNæring",required:!0,type:{name:"FerdiglignetNæring[]"}},fastsattOpptjening:{defaultValue:null,description:"",name:"fastsattOpptjening",required:!1,type:{name:"FastsattOpptjening"}},lukkPeriode:{defaultValue:null,description:"",name:"lukkPeriode",required:!0,type:{name:"() => void"}}}}}catch{}const cE="_container_ivkzi_1",vE="_info_ivkzi_4",bE="_alertstripe__tekst_ivkzi_7",hE="_alertstripe__tekst_ivkzi_7",jE="_pushRight_ivkzi_10",IE={container:cE,info:vE,alertstripe__tekst:bE,alertstripeTekst:hE,pushRight:jE},AE=e=>{const n=[];e.some(t=>t.stillingsandel===0)&&n.push(l.jsx(f,{id:"OpptjeningFaktaForm.AktivitetenErTimeAvslonnet"},"AktivitetenErTimeAvslonnet"));const r=e.filter(t=>(t.erGodkjent===void 0||t.erGodkjent===null||t.begrunnelse)&&t.stillingsandel!==0);return r.length===1?n.push(l.jsx(f,{id:"OpptjeningFaktaForm.EttArbeidKanGodkjennes"},"EttArbeidKanGodkjennes")):r.length>1&&n.push(l.jsx(f,{id:"OpptjeningFaktaForm.FlereArbeidKanGodkjennes"},"FlereArbeidKanGodkjennes")),n},xE=e=>x(e).add(1,"days").format(Be),yE=(e,n)=>[...e].sort((r,t)=>{var a,d;const i=(a=n.find(g=>g.kode===r.aktivitetType))==null?void 0:a.navn,s=(d=n.find(g=>g.kode===t.aktivitetType))==null?void 0:d.navn;return i&&s?i.localeCompare(s):0}),Yg=e=>Vk(e,1),TE=(e,n)=>n?e.filter(r=>x(n.opptjeningFom).isBefore(Yg(r.opptjeningTom))).filter(r=>x(r.opptjeningFom).isBefore(Yg(n.opptjeningTom))):[],Ll=({hasAksjonspunkt:e,hasOpenAksjonspunkter:n,opptjeningAktiviteter:r,readOnly:t,alleMerknaderFraBeslutter:i,alleKodeverk:s,arbeidsgiverOpplysningerPerId:a,fastsattOpptjening:d,ferdiglignetNæring:g,submitCallback:m,formData:k,setFormData:p})=>{const c=s[Yn.OPPTJENING_AKTIVITET_TYPE],b=j.useMemo(()=>r&&d?yE(TE(r,d),c):[],[r,d]),I=b.map(w=>({erGodkjent:w.erGodkjent,begrunnelse:w.begrunnelse})),[T,R]=j.useState(k||I),S=b.findIndex(w=>w.erGodkjent===void 0),N=b.length>0?0:void 0,[E,O]=j.useState(S!==-1?S:N),[$,V]=j.useState(!1);j.useEffect(()=>()=>{p(T)},[T]),j.useEffect(()=>{const w=T.findIndex(Q=>Q.erGodkjent===void 0);O(w!==-1?w:void 0)},[T]);const L=j.useCallback(()=>{V(!0);const w=b.map((Q,ve)=>({arbeidsforholdRef:Q.arbeidsforholdRef,arbeidsgiverReferanse:Q.arbeidsgiverReferanse,opptjeningFom:Q.opptjeningFom,opptjeningTom:Q.opptjeningTom,aktivitetType:Q.aktivitetType,erGodkjent:T[ve].erGodkjent,begrunnelse:T[ve].begrunnelse})).filter(Q=>Q.begrunnelse);m({opptjeningsaktiviteter:w,kode:se.VURDER_PERIODER_MED_OPPTJENING}).then(()=>V(!1))},[b,T]),Z=j.useCallback(()=>{E!==void 0&&E<b.length-1&&O(E+1)},[E]),J=j.useCallback(()=>{E!==void 0&&E>0&&O(E-1)},[E]),C=j.useCallback(w=>{E!==void 0&&R(Q=>Object.assign([],Q,{[E]:w}))},[R,E]),B=j.useCallback(()=>O(void 0),[]),U=j.useCallback(()=>{O(void 0)},[]),K=T.some(w=>w.erGodkjent===null||w.erGodkjent===void 0);return l.jsxs("div",{className:IE.container,children:[e&&l.jsxs(l.Fragment,{children:[l.jsx(ra,{isAksjonspunktOpen:n,children:AE(b)}),l.jsx(A,{twentyPx:!0})]}),l.jsx(G,{size:"small",children:l.jsx(f,{id:"OpptjeningFaktaForm.Skjaringstidspunkt"})}),l.jsx(_,{size:"small",children:l.jsx(Re,{dateString:xE(d==null?void 0:d.opptjeningTom)})}),l.jsx(A,{twentyPx:!0}),l.jsx(nE,{opptjeningPerioder:b,formVerdierForAlleAktiviteter:T,opptjeningAktivitetTypes:c,setValgtAktivitetIndex:O,valgtAktivitetIndex:E,fastsattOpptjening:d}),l.jsx(A,{fourtyPx:!0}),E!==void 0&&l.jsxs(l.Fragment,{children:[l.jsx(Ml,{valgtOpptjeningAktivitet:b[E],valgteFormValues:T[E],readOnly:t,opptjeningAktivitetTyper:c,avbrytAktivitet:B,oppdaterAktivitet:C,fastsattOpptjening:d,velgNesteAktivitet:Z,velgForrigeAktivitet:J,harAksjonspunkt:e,alleMerknaderFraBeslutter:i,alleKodeverk:s,arbeidsgiverOpplysningerPerId:a,ferdiglignetNæring:g,lukkPeriode:U},E),l.jsx(A,{twentyPx:!0})]}),e&&b.length>0&&l.jsx(ne,{size:"small",variant:"primary",onClick:L,disabled:E!==void 0||$||t||K,loading:$,type:"button",children:l.jsx(f,{id:"OpptjeningFaktaForm.Confirm"})})]})};try{Ll.displayName="OpptjeningFaktaPanel",Ll.__docgenInfo={description:`OpptjeningFaktaPanel

Vises faktapanelet for opptjeningsvilkåret. For Foreldrepenger vises dette alltid. Finnes
det aksjonspunkt kan nav-ansatt endre opplysninger før en går videre i prosessen.`,displayName:"OpptjeningFaktaPanel",props:{hasAksjonspunkt:{defaultValue:null,description:"",name:"hasAksjonspunkt",required:!0,type:{name:"boolean"}},hasOpenAksjonspunkter:{defaultValue:null,description:"",name:"hasOpenAksjonspunkter",required:!0,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},opptjeningAktiviteter:{defaultValue:null,description:"",name:"opptjeningAktiviteter",required:!1,type:{name:"OpptjeningAktivitet[]"}},ferdiglignetNæring:{defaultValue:null,description:"",name:"ferdiglignetNæring",required:!0,type:{name:"FerdiglignetNæring[]"}},fastsattOpptjening:{defaultValue:null,description:"",name:"fastsattOpptjening",required:!1,type:{name:"FastsattOpptjening"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(data: AvklarAktivitetsPerioderAp) => Promise<void>"}},formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const EE={"OpptjeningFaktaForm.Skjaringstidspunkt":"Skjæringstidspunkt for opptjening","OpptjeningFaktaForm.EttArbeidKanGodkjennes":"Vurder om aktiviteten kan godkjennes","OpptjeningFaktaForm.FlereArbeidKanGodkjennes":"Vurder om aktivitetene kan godkjennes","OpptjeningFaktaForm.AktivitetenErTimeAvslonnet":"Arbeidet er timeavlønnet. Slå opp i A-ordningen for å vurdere opptjeningen","OpptjeningFaktaForm.DetErInnhentetDok":"Det er innhentet dokumentasjon på opptjening i utlandet","OpptjeningFaktaForm.DetErIkkeInnhentetDok":"Det er <b>ikke</b> innhentet dokumentasjon på opptjening i utlandet","OpptjeningFaktaForm.Confirm":"Bekreft og fortsett","ActivityPanel.Details":"Detaljer for valgt aktivitet","ActivityPanel.Period":"Periode","ActivityPanel.Activity":"Aktivitet","ActivityPanel.Godkjent":"Aktiviteten godkjennes","ActivityPanel.IkkeGodkjent":"Aktiviteten godkjennes <b>ikke</b>","ActivityPanel.BegrunnEndringene":"Begrunn endringene","ActivityPanel.Begrunnelse":"Begrunnelse","ActivityPanel.Oppdater":"Oppdater","ActivityPanel.Avbryt":"Avbryt","ActivityPanel.MonthsAndDays":"({months} mndr. {days} dager)","ActivityPanel.Days":"({days} dager)","ActivityPanel.Arbeidsgiver":"Arbeidsgiver","ActivityPanel.Oppdragsgiver":"Oppdragsgiver","ActivityPanel.Stillingsandel":"Stillingsandel","ActivityPanel.Registreringsdato":"Registreringsdato","ActivityPanel.FerdiglignetNæring":"Ferdiglignet næringsinntekt","ActivityPanel.IngenFerdiglignetNæring":"Ingen ferdiglignet næringsinntekt","OpptjeningTidslinje.StartDato":"Start opptjeningsperiode","OpptjeningTidslinje.SluttDato":"Slutt opptjeningsperiode","OpptjeningTidslinje.Aap":"AAP","Timeline.lukkPeriode":"Lukk periode","Timeline.nextPeriod":"Neste periode","Timeline.nextPeriodShort":"Neste","Timeline.prevPeriod":"Forrige periode","Timeline.prevPeriodShort":"Forrige","Timeline.openData":"Åpne info om første periode"},_E=Oe(EE),Kl=({opptjening:e,aksjonspunkter:n,alleMerknaderFraBeslutter:r,alleKodeverk:t,harApneAksjonspunkter:i,submitCallback:s,readOnly:a,arbeidsgiverOpplysningerPerId:d,formData:g,setFormData:m})=>{const k=e?e.fastsattOpptjening:void 0,p=e?e.opptjeningAktivitetList:void 0,c=(e==null?void 0:e.ferdiglignetNæring)||[];return l.jsx(Ye,{value:_E,children:l.jsx(Ll,{readOnly:a,hasOpenAksjonspunkter:i,hasAksjonspunkt:n[0]!==void 0,alleMerknaderFraBeslutter:r,alleKodeverk:t,arbeidsgiverOpplysningerPerId:d,opptjeningAktiviteter:p,fastsattOpptjening:k,ferdiglignetNæring:c,submitCallback:s,formData:g,setFormData:m})})};try{Kl.displayName="OpptjeningFaktaIndex",Kl.__docgenInfo={description:"",displayName:"OpptjeningFaktaIndex",props:{opptjening:{defaultValue:null,description:"",name:"opptjening",required:!1,type:{name:"Opptjening"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},submittable:{defaultValue:null,description:"",name:"submittable",required:!0,type:{name:"boolean"}},harApneAksjonspunkter:{defaultValue:null,description:"",name:"harApneAksjonspunkter",required:!0,type:{name:"boolean"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const SE=[se.VURDER_PERIODER_MED_OPPTJENING],RE=[we.OPPTJENING],zg=({arbeidsgiverOpplysningerPerId:e,...n})=>l.jsx(Ir,{...n,panelEndepunkter:RE,aksjonspunktKoder:SE,faktaPanelKode:jr.OPPTJENINGSVILKARET,faktaPanelMenyTekst:X().formatMessage({id:"OpptjeningInfoPanel.KontrollerFaktaForOpptjening"}),skalPanelVisesIMeny:()=>!!n.behandling.vilkår&&n.behandling.vilkår.some(r=>r.vilkarType===Ar.OPPTJENINGSVILKARET)&&n.behandling.vilkår.some(r=>r.vilkarType===Ar.MEDLEMSKAPSVILKARET&&r.vilkarStatus===Xk.OPPFYLT),renderPanel:r=>l.jsx(Kl,{arbeidsgiverOpplysningerPerId:e,...r})});try{zg.displayName="OpptjeningsvilkaretFaktaInitPanel",zg.__docgenInfo={description:"OpptjeningsvilkaretFaktaInitPanel",displayName:"OpptjeningsvilkaretFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}const aa="https://navno.sharepoint.com/:x:/s/fag-og-ytelser-familie-foreldrepenger/EaB60qfvI_JNlSDbhFXp6FoBIw3G260Wp6zOm78U6aFrng?e=3Jy3sn";var $e=(e=>(e.AVKLAR_AKTIVITETER="AVKLAR_AKTIVITETER",e.VURDER_FAKTA_FOR_ATFL_SN="VURDER_FAKTA_ATFL_SN",e.OVERSTYRING_AV_BEREGNINGSAKTIVITETER="OVST_BEREGNINGSAKTIVITETER",e.OVERSTYRING_AV_BEREGNINGSGRUNNLAG="OVST_INNTEKT",e))($e||{}),qg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$f={exports:{}},Pt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function NE(){if(Hg)return Pt;Hg=1;var e=M,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(d,g,m){var k,p={},c=null,b=null;m!==void 0&&(c=""+m),g.key!==void 0&&(c=""+g.key),g.ref!==void 0&&(b=g.ref);for(k in g)t.call(g,k)&&!s.hasOwnProperty(k)&&(p[k]=g[k]);if(d&&d.defaultProps)for(k in g=d.defaultProps,g)p[k]===void 0&&(p[k]=g[k]);return{$$typeof:n,type:d,key:c,ref:b,props:p,_owner:i.current}}return Pt.Fragment=r,Pt.jsx=a,Pt.jsxs=a,Pt}$f.exports=NE();var u=$f.exports;const ko={"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning":"Vurder fakta for beregningen","BeregningInfoPanel.AksjonspunktHelpText.ForSentRefusjonskrav":"{arbeidsgiverVisningsnavn} har minst ett refusjonskrav som har kommet for sent.","BeregningInfoPanel.TidsbegrensetArbFor.Arbeidsforhold":"Er arbeidsforholdet i {navn} med varighet {fom} - {tom} tidsbegrenset?","BeregningInfoPanel.FormAlternativ.Ja":"Ja","BeregningInfoPanel.FormAlternativ.Nei":"Nei","BeregningInfoPanel.NyIArbeidslivet.SelvstendigNaeringsdrivende":"Ble søker yrkesaktiv i løpet av de siste tre årene?","BeregningInfoPanel.NyIArbeidslivet.HvordanGarJegFrem1":"En næringsdrivende er “ny i arbeidslivet” når de i løpet av de tre siste årene har begynt i arbeidslivet, og i den forbindelse startet en virksomhet. Dette kan for eksempel være en student som etter eksamen oppretter et firma.","BeregningInfoPanel.NyIArbeidslivet.HvordanGarJegFrem2":"For å finne ut når søker ble yrkesaktiv, kan du se i Brønnøysundregistrene når næringsvirksomheten ble registert. Du kan også bruke A-inntekt for å se om søker har hatt annen inntekt de tre siste ferdiglignede årene.","BeregningInfoPanel.NyIArbeidslivet.HvordanGarJegFrem3":"Hvis du velger “ja”, kan du skjønnsfastsette næringsinntekten i neste steg, selv om avviket ikke er over 25 prosent. Hvis du velger “nei”, brukes hovedregler for beregning av næringsinntekt.","BeregningInfoPanel.FormAlternativ.JaMaanedsinntektMaaFastsettes":"Ja (månedsinntekt må fastsettes)","BeregningInfoPanel.FormAlternativ.NeiBrukerAInntekt":"Nei (bruker A-inntekt)","BeregningInfoPanel.TidsbegrensetArbeidsforholdForm.ReadMore":"Gå til A-inntekt og sjekk at informasjon om tidsbegrenset arbeidsforhold stemmer overens med informasjonen her. Ved å velge “ja”, gir det mulighet til å skjønnsfastsette de ulike periodene i beregning.","AvklarAktivitetPanel.Overskrift":"Aktiviteter i beregningsgrunnlaget","AvklarAktivitetPanel.Overskrift.Skjaeringstidspunkt":"Skjæringstidspunkt: {skjaeringstidspunkt}","AvklarAktivitetPanel.ButtonText":"Oppdater","AvklarAktivitetPanel.OverstyrText":"Overstyr","AvklareAktiviteter.Avbryt":"Avbryt","VurderAktiviteterTabell.FullAAPKombinert.Overskrift":"Søker har full AAP sammen med andre aktiviteter","VurderAktiviteterTabell.VentelonnVartpenger.Overskrift":"Søker har ventelønn eller vartpenger som siste aktivitet. Skjæringstidspunkt for beregning {skjaeringstidspunkt}","VurderAktiviteterTabell.Overstyrt.Overskrift":"Skjæringstidspunkt for beregning {skjaeringstidspunkt}","BeregningInfoPanel.NyoppstartetFLForm.ErSokerNyoppstartetFL":"Startet søker som frilanser i løpet av de siste 3 månedene før skjæringstidspunktet?","BeregningInfoPanel.NyoppstartetFLForm.HvordanGarJegFrem1":"Gå til Aa-registeret og A-inntekt for å se frilansoppdrag og inntekter.","BeregningInfoPanel.NyoppstartetFLForm.HvordanGarJegFrem2":"Undersøk om søker faktisk var nyoppstartet frilanser i beregningsperioden. Frilansere har ofte ujevne utbetalinger, og kan bli meldt inn/ut av Aa-registeret selvom de fast jobber som frilanser. Hvis dette er tilfelle skal du velge ”nei”.","BeregningInfoPanel.VurderOgFastsettATFL.FastsettFrilans":"Fastsett frilansinntekt","BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLAlleOppdrag":"Fastsett arbeidsinntekt og samlet frilansinntekt for alle oppdrag.","BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLFrilans":"Fastsett samlet frilansinntekt","BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLSamlet":"Fastsett arbeidsinntekt og samlet frilansinntekt","BeregningInfoPanel.VurderOgFastsettATFL.FastsettArbeidsinntekt":"Fastsett arbeidsinntekt","BeregningInfoPanel.LonnsendringForm.HarSokerEndring":"Har søker hatt lønnsendring i løpet av de siste tre månedene?","BeregningInfoPanel.LonnsendringForm.HvaBetyrDette":"Hva betyr dette?","BeregningInfoPanel.LonnsendringForm.HvaBetyrDette1":"En arbeidstaker som får en varig lønnsendring i eller etter beregningsperioden, men før skjæringstidsspunktet, skal ha lønnsendringen med i beregningsgrunnlaget.","BeregningInfoPanel.LonnsendringForm.HvaBetyrDette2":"Med varig lønnsendring menes alle lønnsendringer som ikke er midlertidige, og gjelder både ved lønnsøkning og lønnsreduksjon.","BeregningInfoPanel.LonnsendringForm.HvaBetyrDette3":"Dette kan eksempelvis være endring av lønn etter lokale lønnsforhandlinger eller tariffendringer. Det kan også være en varig endring av stillingsprosent med dertil endret lønn.","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilansUtenFrilans":"Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for frilansaktivitet?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilans":"Mottar søker ytelse for frilansaktivitet?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForArbeid":"Mottar søker ytelse for arbeid i {arbeid}?","BeregningInfoPanel.VurderMottarYtelse.FastsettManedsinntektFrilans":"Fastsett månedsinntekt for frilans","BeregningInfoPanel.VurderMottarYtelse.FastsettNyManedsinntekt":"Fastsett ny månedsinntekt","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseArbeidsforhold.HvordanGarJegFrem1":"Undersøk om søker har mottatt ytelse i beregningsperioden. I noen tilfeller kan det være feilregistreringer fra andre systemer og du skal da velge ”nei”.","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseArbeidsforhold.HvordanGarJegFrem2":"For å se om søker har mottatt ytelse kan du for eksempel bruke A-inntekt (filter 8-30), se på utbetalinger i Modia eller vedtaksbrev i Gosys.","BeregningInfoPanel.VurderMottarYtelse.Frilans.HvordanGarJegFrem1":"Undersøk om søker har mottatt ytelse i beregningsperioden. I noen tilfeller kan det være feilregistreringer fra andre systemer og du skal da velge “nei”.","BeregningInfoPanel.VurderMottarYtelse.Frilans.HvordanGarJegFrem2":"For å se om søker har mottatt ytelse kan du for eksempel bruke A-inntekt (filter 8-30), se på utbetalinger i Modia eller vedtaksbrev i Gosys.","BeregningInfoPanel.InntektInputFields.ManedsinntektBedrift":"Fastsett månedsinntekt for {bedrift}","BeregningInfoPanel.InntektInputFields.ManedsinntektDagpenger":"Fastsett månedsinntekt dagpenger","BeregningInfoPanel.InntektInputFields.LonnsendringFremgangsmate1":"Bruk A-inntekt til å fastsette ny månedsinntekt hvis mulig.","BeregningInfoPanel.InntektInputFields.LonnsendringFremgangsmate2":"Hvis ny inntekt ikke fremgår av A-inntekt, kontakt arbeidsgiver og be de sende oppdatert inntektsmelding. Eventuelt kan du kontakte søker og be de dokumentere varig lønnsøkning med kontrakt, lønnslipp eller lignende.","BeregningInfoPanel.InntektInputFields.LonnsendringFremgangsmate3":"Eksempel: En person får en varig lønnsendring med virkning fra 5. oktober. Vedkommende har første fraværsdato 20. oktober og beregningsperioden er september, august og juli. Ved fastsettelse av inntekt skal tidsrommet etter lønnsendringen 5. oktober legges til grunn.","BeregningInfoPanel.InntektInputFields.FrilanserFremgangsmate1":"Benytt A-inntekt (filter 8-30) eller utbetalinger i Modia for å se hvor mye søker har mottatt i ytelse i beregningsperioden.","BeregningInfoPanel.InntektInputFields.FrilanserFremgangsmate2":"Bruk A-inntekt for å finne gjennomsnittet av frilansinntekten i beregningsperioden.","BeregningInfoPanel.InntektInputFields.FrilanserFremgangsmate3":"Fastsett månedsinntekten under ved å summere gjennomsnitt av mottatt ytelse og frilansinntekt.","BeregningInfoPanel.InntektInputFields.NyoppstartetFrilansFremgangsmate1":"Fastsett månedsinntekt ut ifra antall måneder/dager med utbetaling.","BeregningInfoPanel.InntektInputFields.NyoppstartetFrilansFremgangsmate2":"Eksempel: {br} Hvis søker startet som frilanser for 2 mnd siden, skal samlet inntekt deles på 2 og ikke 3. Hvis det er under 1 mnd siden oppstart, må du regne om inntekt til dagsats per virkedag. Dagsats x 260 / 12 mnd = månedsinntekt.","BeregningInfoPanel.InntektInputFields.ATFLSammeOrgFremgangsmate1":"Trekk fra arbeidsinntekt oppgitt i inntektsmelding eller det arbeidsgiver opplyser på telefon fra totalinntekt i A-inntekt. Ta hensyn til eventuelle lønnsendringer.","BeregningInfoPanel.InntektInputFields.ATFLSammeOrgFremgangsmate1MedIM":"Trekk fra arbeidsinntekt oppgitt i inntektsmelding fra totalinntekt i A-inntekt. {br} Ta hensyn til eventuelle lønnsendringer.","BeregningInfoPanel.InntektInputFields.ATFLSammeOrgFremgangsmate2":"Restbeløp er frilansinntekt.","BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem":"Hvordan går jeg frem?","BeregningInfoPanel.InntektInputFields.HvordanGarJegFremForFastsetteManedsinntekt":"Hvordan går jeg frem for å fastsette månedsinntekten for ytelsen?","BeregningInfoPanel.InntektInputFields.HvaBetyrInntektskategori":"Hva betyr inntektskategori?","BeregningInfoPanel.AvklareAktiviteterField.HvordanGarJegFrem1":"Undersøk i Modia om søker har full AAP.","BeregningInfoPanel.AvklareAktiviteterField.HvordanGarJegFrem2":"Ved full AAP skal arbeidsinntekten ikke benyttes.","BeregningInfoPanel.VurderFaktaBeregningField.ATFLSammeOrgUtenIM":"<h3>Søker er arbeidstaker og frilans i samme virksomhet.</h3>Inntekter er rapportert inn på samme org. nummer, og inntektene kan ikke skilles fra hverandre. Fastsett hva som er arbeidsinntekt og hva som er samlet frilansinntekt.","BeregningInfoPanel.VurderFaktaBeregningField.ATFLSammeOrg":"<h3>Søker er arbeidstaker og frilans i samme virksomhet.</h3>Inntekter er rapportert inn på samme org. nummer, og inntektene kan ikke skilles fra hverandre. Fastsett hva som er samlet frilansinntekt.","BeregningInfoPanel.VurderFaktaBeregningField.VurderLonnsendringHelpText":"<h3>Vurder om søker har hatt lønnsendring</h3>Det er registrert lønnsendring, men ny inntekt kan ikke fastsettes av systemet. Vurder om registrert lønnsendring er riktig og fastsett ny månedsinntekt.","BeregningInfoPanel.VurderFaktaBeregningField.VurderMottarYtelseHelpTextFrilans":"<h3>Vurder om søker mottar ytelse for frilansaktivitet</h3>Det er funnet utbetaling av ytelse i beregningsperioden, men utbetalt beløp kan ikke hentes fra registrene.","BeregningInfoPanel.VurderFaktaBeregningField.VurderMottarYtelseHelpTextArbeidstaker":"<h3>Vurder om søker mottar ytelse for arbeidsforhold</h3>Det er funnet utbetaling av ytelse i beregningsperioden, men utbetalt beløp kan ikke hentes fra registrene.","BeregningInfoPanel.VurderFaktaBeregningField.VurderEtterlonnSluttpakkeHelpText":"<h3>Vurder om søker har etterlønn eller sluttvederlag i beregningsperioden</h3>Søker har oppgitt etterlønn eller sluttvederlag i søknaden.","BeregningInfoPanel.VurderFaktaBeregningField.VurderMilitaerSiviltjenesteHelpText":"<h3>Vurder om søker har vært i militær- eller siviljeneste i opptjeningsperioden</h3>Søker har oppgitt militær- eller siviltjeneste i søknaden.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelseHelpText":"<h3>Søker har ytelse som eneste inntekt</h3>Det er funnet utbetaling av ytelse i beregningsperioden, men beløp og inntektskategori kan ikke hentes fra registrene.","BeregningInfoPanel.VurderFaktaBeregningField.VurderNyoppstartetFLHelpText":"<h3>Vurder om frilanser er nyoppstartet</h3>Det er funnet frilansoppdrag med oppstartsdato i beregningsperioden. Vurder om frilansoppdrag er nyoppstartet, og om det skal benyttes en kortere periode for å fastsette inntekt.","BeregningInfoPanel.VurderFaktaBeregningField.VurderSNNyIArbeidslivetHelpText":"<h3>Vurder om søker ble yrkesaktiv i løpet av de siste tre årene</h3>Søker har oppgitt i søknaden at de er selvstendig næringsdrivende og ny i arbeidslivet.","BeregningInfoPanel.VurderFaktaBeregningField.VurderRefusjonskravKommetForSentHelpText":"<h3>Vurder refusjonskrav som har kommet for sent</h3>{arbeidsgiverVisningsnavn} har minst ett refusjonskrav som har kommet for sent.","BeregningInfoPanel.VurderFaktaBeregningField.TidsbegrensetArbeidsforholdHelpText":"<h3>Vurder om arbeidsforholdet er tidsbegrenset</h3>Det er funnet sluttdato frem i tid for arbeidsforholdet og arbeidsforholdet er kortere enn 6 måneder.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt1":"Gå til A-inntekt for å finne brukerens inntekter.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt2":"Bruk først filter §8-28 og finn samlet inntekt for de 3 siste månedene før skjæringstidspunktet (utbetalinger fra Nav ligger ikke i dette filteret, kan derfor være 0). Regn om til årsinntekt.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt3":"Bruk så filter §8-30 og regn ut den totale inntekten for de siste 12 månedene før skjæringstidspunktet.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt4":"Regn ut månedsinntekt ved å finne differansen mellom rapportert inntekt (§8-30 filter) og omregnet årsinntekt (§8-28 filter) / 12 måneder.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt5":"Regn ut avviket ved å bruke månedsinntekt x 100 / rapportert inntekt de siste 12 kalendermånedene = avvik i prosent.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt6":"Dersom det er mer enn 25 prosent differanse i avviksberegningen skal det fastsettes ved skjønn.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvaBetyrInntektskategori1":"Inntektskategori er den arbeidsaktiviteten ytelsen som ligger til grunn er beregnet ut ifra.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvaBetyrInntektskategori2":"Hvis ytelsen er beregnet fra annen ytelse, skal du ta utgangspunkt i den første ytelsen det ble beregnet grunnlag fra.","BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvaBetyrInntektskategori3":"Du finner inntektskategorien ytelsen er basert på i Modia.","BeregningInfoPanel.VurderBestebergning.HarBesteberegning":"Søker har hatt dagpenger i opptjeningsperioden. Skal dette fordeles etter besteberegning?","InntektstabellPanel.Avbryt":"Avbryt overstyring","BeregningInfoPanel.FordelingBG.LeggTilAndel":"Legg til aktivitet","BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet":"Finn regneark på navet","BeregningInfoPanel.FordelingBG.Sum":"Sum","BeregningInfoPanel.FordelingBG.Andel":"Aktivitet","BeregningInfoPanel.FordelingBG.Arbeidsperiode":"Arbeidsperiode","BeregningInfoPanel.FordelingBG.Refusjonskrav":"Refusjonskrav","BeregningInfoPanel.FordelingBG.Fordeling":"Månedsinntekt","BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn":"Fastsett månedsinntekt for {andel}","BeregningInfoPanel.FordelingBG.InntektskategoriMedAndelnavn":"Inntektskategori for {andel}","BeregningInfoPanel.FordelingBG.Inntektskategori":"Inntektskategori","BeregningInfoPanel.FordelingBG.LeggTilDagpengerAndel":"Legg til dagpenger","BeregningInfoPanel.FordelingBG.FjernDagpenger":"Fjern dagpenger","BeregningInfoPanel.FordelingBG.Ytelse":"Ytelse","BeregningInfoPanel.FordelingBG.FjernAndel":"Fjern aktivitet","AvklareAktiviteter.OverstyrerAktivitetAdvarsel":"Overstyr hvilke aktiviteter og eventuelle inntektsmeldinger som skal benyttes i beregning.","VurderAktiviteterTabell.Header.Aktivitet":"Aktivitet","VurderAktiviteterTabell.Header.Periode":"Periode","VurderAktiviteterTabell.Header.Benytt":"Benytt","VurderAktiviteterTabell.Header.IkkeBenytt":"Ikke benytt","VurderAktiviteterTabell.Validation.MåHaMinstEnAktivitet":"Må ha minst én aktivitet for å kunne fastsette beregningsgrunnlag","BeregningInfoPanel.AksjonspunktHelpText.VurderAktiviteter":"Vurder hvilke aktiviteter som skal benyttes i beregningsgrunnlaget.","BeregningInfoPanel.KunstigArbeidsforhold.FastsettKunstigArbeidsforhold":"Det finnes ikke registerdata for arbeidsforholdet og det er ikke mottatt inntektsmelding. Fastsett månedsinntekt for arbeidsforholdet","KunYtelsePanel.Overskrift":"Søker har ytelse som eneste inntekt. Fastsett månedsbeløp for fordeling av beregningsgrunnlaget.","KunYtelsePanel.HarBesteberegning":"Søker har ytelse som eneste inntekt. Skal denne fordeles etter besteberegning?","KunYtelsePanel.OverskriftBesteberegning":"Fastsett månedsbeløp for brutto beregningsgrunnlag etter besteberegning","KunYtelsePanel.RapporterteInntekter":"Rapporterte inntekter","BeregningInfoPanel.FordelBG.Validation.UlikeAndeler":"Andeler for samme aktivitet må ha ulik inntektskategori","InntektstabellPanel.RapporterteInntekter":"Rapporterte inntekter","BeregningInfoPanel.EtterlønnSluttpakke.HarSøkerInntekt":"Har søker etterlønn eller sluttvederlag?","BeregningInfoPanel.EtterlønnSluttpakke.HvordanGarJegFrem1":"Gå til A-inntekt og se om etterlønn eller sluttvederlag er rapportert. Hvis ikke, kontakt søker og be de dokumentere etterlønn/sluttvederlag med avtale el.","BeregningInfoPanel.VurderMilitaer.HarSøkerMilitærinntekt":"Har søker vært i militær- eller sivilforsvarstjeneste i opptjeningsperioden?","BeregningInfoPanel.VurderMilitaer.HvordanGarJegFrem1":"Kontakt søker og be om dokumentasjon på avtjent tjeneste i opptjeningsperioden. Vurder om tjenesten har vart eller var ment å vare mer enn 28 dager i henhold til §8-46. Denne informasjonen er ikke tilgjengelig i noen registre, og vi må derfor ha dokumentasjon fra søker.","BeregningInfoPanel.VurderMilitaer.HvordanGarJegFrem2":"Svarer du ”ja” vil utbetalingen bli minst 2G (pleiepenger) / 3G (foreldrepenger). Svarer du ”nei” beregnes det etter vanlige regler.","VurderRefusjonForm.ErRefusjonskravGyldig":"Skal refusjonskrav som ikke har kommet innen fristen tas med i beregning?","VurderRefusjonForm.ReadMore":"Undersøk om det har vært fristavbrytende kontakt med arbeidsgiver innen frist for refusjonskrav (3 måneder).","BeregningInfoPanel.Validation.MinstEnFastsatt":"Må ha overstyrt inntekt for minst én aktivitet.","FaktaBegrunnelseTextField.BegrunnEndringene":"Begrunn endringene","FaktaBegrunnelseTextField.Begrunnelse":"Begrunnelse","SubmitButton.ConfirmInformation":"Bekreft og fortsett"},FE="_tabsContainer_1yyvp_1",PE="_main_1yyvp_9",Jg={tabsContainer:FE,main:PE},zt="avklarAktiviteterForm",Vn="vurderFaktaBeregningForm",BE="_begrunnelseTextField_12bwv_1",OE="_explanationTextarea_12bwv_4",VE="_explanationTextareaReadOnly_12bwv_7",Na={begrunnelseTextField:BE,explanationTextarea:OE,explanationTextareaReadOnly:VE},Zg=Oe(ko),$E=Tn(3),DE=En(1500),Rr=({isReadOnly:e,isSubmittable:n,hasBegrunnelse:r,label:t,hasVurderingText:i,name:s})=>{const a=i?"FaktaBegrunnelseTextField.Vurdering":"FaktaBegrunnelseTextField.Begrunnelse",d=t||Zg.formatMessage({id:a});return u.jsx(Ye,{value:Zg,children:(n||r)&&u.jsx("div",{className:Na.begrunnelseTextField,children:u.jsx(sn,{name:s,label:e?"":d,validate:e?[]:[H,$E,DE,yn],className:e?Na.explanationTextareaReadOnly:Na.explanationTextarea,maxLength:1500,readOnly:e})})})};Rr.defaultProps={name:"begrunnelse",hasVurderingText:!1};Rr.buildInitialValues=(e,n="begrunnelse")=>({[n]:Zs(e)});Rr.transformValues=(e,n="begrunnelse")=>({begrunnelse:e[n]});const GE=Oe(ko),ME=(e,n,r,t)=>!e&&!r||n?!0:t===void 0?!e:!e&&t||t,Df=({isReadOnly:e,isSubmittable:n,isSubmitting:r,isDirty:t,text:i,onClick:s,hasEmptyRequiredFields:a,isDisabled:d})=>e?null:u.jsx(ne,{size:"small",loading:r,disabled:ME(t,r,n,a)||!!d,onClick:s||Ws,type:s?"button":"submit",children:i||GE.formatMessage({id:"SubmitButton.ConfirmInformation"})}),on=(e,n)=>n.some(r=>r.definisjon===e),LE=e=>e===ta.OPPRETTET,Fa=e=>e?`...${e.substring(e.length-4,e.length)}`:"",Nr=(e,n)=>e.erPrivatPerson?e.fødselsdato?`${e.navn} (${x(e.fødselsdato).format(ee)})${Fa(n)}`:`${e.navn}${Fa(n)}`:`${e.navn} (${e.identifikator})${Fa(n)}`,KE=(e,n)=>e.arbeidsforholdId?n+e.arbeidsforholdId:n,Wg=(e,n)=>e+n.fom.replace(".",""),rn=e=>{if(e.arbeidsgiverIdent){const n=KE(e,e.arbeidsgiverIdent);return Wg(n,e)}return Wg(e.arbeidsforholdType,e)},wE=(e,n)=>e||n,ls=(e,n,r,t,i)=>!n&&!r||e.arbeidsforholdType&&e.arbeidsforholdType===mn.AAP?!1:n?wE(t,i):!0,UE=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?n[e.arbeidsgiverIdent]:void 0;return i?Nr(i,e.eksternArbeidsforholdId):e.arbeidsforholdType&&((t=r[ke.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn)||""},CE=(e,n)=>x(e).isSame(x(n))||x(e).isBefore(x(n)),YE=(e,n,r,t)=>ls(e,n,r,t,!1)?e.skalBrukes===void 0||e.skalBrukes===null?void 0:e.skalBrukes.toString():e.skalBrukes===!0||e.skalBrukes===null||e.skalBrukes===void 0?"true":"false",zE=(e,n,r,t,i,s)=>({beregningAktivitetNavn:UE(e,s,n),fom:e.fom,tom:e.tom,skalBrukes:YE(e,r,t,i)}),qE=(e,n,r,t)=>{const i=CE(r,t);return n.filter(s=>e.aktiviteterValues&&(e.aktiviteterValues[rn(s)].skalBrukes==="false"||e.aktiviteterValues[rn(s)].tom!=null)).map(s=>({oppdragsgiverOrg:s.arbeidsgiverIdent&&s.arbeidsgiverIdent.length===9?s.arbeidsgiverIdent:void 0,arbeidsforholdRef:s.arbeidsforholdId,fom:s.fom,tom:e.aktiviteterValues&&e.aktiviteterValues[rn(s)].tom!=null?e.aktiviteterValues[rn(s)].tom:s.tom,opptjeningAktivitetType:s.arbeidsforholdType,arbeidsgiverIdentifikator:s.arbeidsgiverIdent,skalBrukes:i&&e.aktiviteterValues?e.aktiviteterValues[rn(s)].skalBrukes==="true":!0}))},HE=(e,n,r,t,i,s)=>{const a={};return e&&e.forEach(d=>{a[rn(d)]=zE(d,n,r,t,i,s)}),a},JE="_radios_4fctu_1",ZE="_navnKol_4fctu_10",WE="_table_4fctu_15",Lt={radios:JE,navnKol:ZE,table:WE},XE=(e,n)=>x(e).isSame(x(n))||x(e).isBefore(x(n)),Xg=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?n[e.arbeidsgiverIdent]:void 0;return i?Nr(i,e.eksternArbeidsforholdId):e.arbeidsforholdType&&((t=r[ke.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn)||""},QE=({readOnly:e,isAvklaringsbehovClosed:n,aktivitet:r,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:a,valgtSkjæringstidspunkt:d,ingenAktiviterErBrukt:g,arbeidsgiverOpplysningerPerId:m,fieldId:k})=>{const p=X(),c=XE(d,a),b=I=>{const T=Xg(r,m,t),R=`${js(r.fom)} til ${js(r.tom||"")}`;return`${I?"Benytt":"Ikke benytt"} ${T} ${R}`};return u.jsxs(W.Row,{children:[u.jsx(W.DataCell,{className:Lt.navnKol,children:u.jsx(_,{size:"small",children:Xg(r,m,t)})}),u.jsxs(W.DataCell,{className:Lt.rowalign,children:[!i&&u.jsx(_,{children:u.jsx(Ge,{size:"small",dateStringFom:r.fom,dateStringTom:r.tom})}),i&&u.jsxs("div",{children:[u.jsxs(_,{as:"span",size:"small",children:[u.jsx(Re,{dateString:r.fom})," -"," "]}),u.jsx(tr,{name:`avklarAktiviteterForm.${k}.aktiviteterValues.${rn(r)}.tom`,validate:[H,xn],isReadOnly:e,size:"small"})]})]}),u.jsx(W.DataCell,{className:Lt.radios,children:u.jsx(ue,{name:`avklarAktiviteterForm.${k}.aktiviteterValues.${rn(r)}.skalBrukes`,label:p.formatMessage({id:"VurderAktiviteterTabell.Header.Benytt"}),validate:[H],isHorizontal:!0,isReadOnly:e||!ls(r,i,s,c,g),radios:[{value:"true",label:b(!0)}],hideLegend:!0,hideRadioLabels:!0})}),u.jsx(W.DataCell,{className:Lt.radios,children:u.jsx(ue,{name:`avklarAktiviteterForm.${k}.aktiviteterValues.${rn(r)}.skalBrukes`,label:p.formatMessage({id:"VurderAktiviteterTabell.Header.IkkeBenytt"}),validate:[H],isHorizontal:!0,isReadOnly:e||!ls(r,i,s,c,g),radios:[{value:"false",label:b(!1)}],hideLegend:!0,hideRadioLabels:!0})}),u.jsx(W.DataCell,{children:n&&e&&ls(r,i,s,c,g)&&u.jsx(ft,{})})]},rn(r))},e_=(e,n,r)=>{const t=xn(r)?"":x(r).format(ee);return e.some(i=>i.arbeidsforholdType&&i.arbeidsforholdType===mn.VENTELØNN_VARTPENGER)?u.jsx(f,{id:"VurderAktiviteterTabell.VentelonnVartpenger.Overskrift",values:{skjaeringstidspunkt:t}}):""},n_=()=>["VurderAktiviteterTabell.Header.Aktivitet","VurderAktiviteterTabell.Header.Periode","VurderAktiviteterTabell.Header.Benytt","VurderAktiviteterTabell.Header.IkkeBenytt"],r_=({readOnly:e,isAvklaringsbehovClosed:n,aktiviteter:r,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:a,valgtSkjæringstidspunkt:d,ingenAktiviterErBrukt:g,arbeidsgiverOpplysningerPerId:m,fieldId:k})=>u.jsxs(u.Fragment,{children:[u.jsx(G,{size:"small",children:e_(r,i,a)}),u.jsxs(W,{size:"small",className:Lt.table,children:[u.jsx(W.Header,{children:u.jsxs(W.Row,{children:[n_().map(p=>u.jsx(W.HeaderCell,{scope:"col",children:u.jsx(G,{size:"small",as:"span",children:u.jsx(f,{id:p})})},p)),u.jsx(W.HeaderCell,{})]})}),u.jsx(W.Body,{children:r.map(p=>u.jsx(QE,{aktivitet:p,readOnly:e,isAvklaringsbehovClosed:n,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:a,valgtSkjæringstidspunkt:d,ingenAktiviterErBrukt:g,arbeidsgiverOpplysningerPerId:m,fieldId:k},`${p.arbeidsgiverIdent}-${p.fom}-${p.tom}`))})]})]}),wl=(e,n)=>!!e.aktiviteter&&e.aktiviteter.find(r=>{const t=rn(r);return n.aktiviteterValues&&n.aktiviteterValues[t]?n.aktiviteterValues[t].skalBrukes!=="false":r.skalBrukes})!==void 0,t_=(e,n)=>{let r=0;for(;r<e.length&&x(n).isBefore(e[r].tom===void 0?null:e[r].tom);)r+=1;return r},Qg=(e,n,r)=>{const t=e.find(({tom:i})=>i===r);if(t===void 0){const i={tom:r,aktiviteter:[n]},s=t_(e,r);e.splice(s,0,i)}else{if(!t.aktiviteter)throw new Error(`Forventer å ha aktiviteter på tom ${t.tom}`);t.aktiviteter.push(n)}},i_=e=>{var n;return!!((n=e.avklarAktiviteter)!=null&&n.aktiviteterTomDatoMapping)&&e.avklarAktiviteter.aktiviteterTomDatoMapping.some(r=>r.aktiviteter&&!r.aktiviteter.some(t=>!x(t.tom).isValid()))},s_=e=>{var n;const r=e.avklarAktiviteter?e.avklarAktiviteter.aktiviteterTomDatoMapping||[]:[],t=[],i=(n=e.avklarAktiviteter)==null?void 0:n.skjæringstidspunkt;if(!i)throw new Error("Forventer skjæringstidspunkt for opptjening her!");return r.flatMap(({aktiviteter:s})=>s).forEach(s=>{if(!s)throw new Error("Må ha aktivitet i form values her!");const a={...s},d=e.aktiviteterValues?e.aktiviteterValues[rn(s)].tom:void 0;d&&d!==a.tom&&(a.tom=d),x(d).isSame(x(i).subtract(1,"days"))||x(d).isAfter(x(i).subtract(1,"days"))?Qg(t,a,i):Qg(t,a,x(d).add(1,"days").format("YYYY-MM-DD"))}),t},fo=(e,n,r)=>{const t=n&&!i_(n)?s_(n):e;return r?t:!n||wl(t[0],n)||t.length===1?[t[0]]:[t[0],t[1]]},Gf=(e,n)=>{if(!(e===void 0||n===void 0))for(let r=0;r<n.length;r+=1){const t=n[r].aktiviteter||[];for(let i=0;i<t.length;i+=1){const s=e.aktiviteterValues?e.aktiviteterValues[rn(t[i])]:void 0;if((s==null?void 0:s.skalBrukes)==="true")return n[r].tom}}},a_=e=>xn(e)?"":x(e).format(ee),Fr=({readOnly:e,isAvklaringsbehovClosed:n,values:r,aktiviteterTomDatoMapping:t,erOverstyrt:i,harAvklaringsbehov:s,kodeverkSamling:a,arbeidsgiverOpplysningerPerId:d,fieldId:g})=>{const m=fo(t,r,i),k=Gf(r,m);return u.jsxs(u.Fragment,{children:[u.jsx(f,{id:"AvklarAktivitetPanel.Overskrift.Skjaeringstidspunkt",values:{skjaeringstidspunkt:a_(k)}}),u.jsx(A,{twentyPx:!0}),m.map(p=>u.jsx(r_,{readOnly:e,isAvklaringsbehovClosed:n,aktiviteter:p.aktiviteter||[],erOverstyrt:i,harAvklaringsbehov:s,kodeverkSamling:a,tomDatoForAktivitetGruppe:p.tom,valgtSkjæringstidspunkt:k,ingenAktiviterErBrukt:k===void 0,arbeidsgiverOpplysningerPerId:d,fieldId:g},p.tom)),u.jsx(A,{thirtyTwoPx:!0})]})};Fr.harIngenAktiviteter=(e,n,r)=>{const t=fo(n,e,r);return wl(t[0],e)?!1:t.length>1&&t[1].aktiviteter&&t[1].aktiviteter.length>0?!wl(t[1],e):!0};const l_=(e,n)=>x(e).isSame(x(n))||x(e).isBefore(x(n));Fr.transformValues=(e,n,r)=>{const t=fo(n,e,r),i=Gf(e,t);if(!i)throw new Error("Finner ikke forventet skjæringstidspunkt, ugyldig tilstand");return t.flatMap(s=>qE(e,s.aktiviteter||[],i,s.tom))};const d_=e=>{if(e!==void 0)for(let n=0;n<e.length;n+=1){const r=e[n].aktiviteter||[];for(let t=0;t<r.length;t+=1)if(r[t].skalBrukes===!0||r[t].skalBrukes===null||r[t].skalBrukes===void 0)return e[n].tom}};Fr.buildInitialValues=(e,n,r,t,i)=>{if(!e||e.length===0)return{};let s={};const a=d_(e);return e.forEach(d=>{s={...s,...HE(d.aktiviteter||[],n,r,t,l_(a,d.tom),i)}}),s};const{AVKLAR_AKTIVITETER:Bs,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:eu}=$e,o_=(e,n)=>n.some(r=>r.definisjon===e&&r.kanLoses),g_=(e,n,r)=>(e||o_(Bs,n))&&r,po=e=>{var n;return e.some(r=>r.definisjon===eu||r.definisjon===Bs)?(n=e.find(r=>r.definisjon===eu||r.definisjon===Bs))==null?void 0:n.begrunnelse:void 0},u_=(e,n)=>on(Bs,e)||n,m_=(e,n,r)=>e&&n&&!r,k_="_avsnittOverskrift_h44z2_1",f_={avsnittOverskrift:k_},{AVKLAR_AKTIVITETER:ds,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Mf}=$e,co="begrunnelseAvklareAktiviteter",Lf="manuellOverstyringBeregningAktiviteter",p_=(e,n,r,t,i)=>{const s=on(ds,e),a=on(Mf,e),d=po(e);let g;return n&&n.aktiviteterTomDatoMapping&&(g=Fr.buildInitialValues(n.aktiviteterTomDatoMapping,r,a,s,t)),{[Lf]:a,periode:i.periode,erTilVurdering:i.vurderesIBehandlingen&&!i.erForlengelse,avklaringsbehov:e,avklarAktiviteter:n,aktiviteterValues:g,...Rr.buildInitialValues(d,co)}},nu=e=>{const n=e[Lf],r=g_(!!n,e.avklaringsbehov||[],e.erTilVurdering),{avklarAktiviteter:t}=e;return r?{beregningsaktivitetLagreDtoList:Fr.transformValues(e,(t==null?void 0:t.aktiviteterTomDatoMapping)||[],!!n),periode:e.periode,begrunnelse:e[co]}:null},c_=(e,n,r,t,i)=>{if(!(r.length<1)&&Fr.harIngenAktiviteter(e(`avklarAktiviteterForm.${n}`),r,t))return i.formatMessage({id:"VurderAktiviteterTabell.Validation.MåHaMinstEnAktivitet"})},v_=({avklarAktiviteter:e,avklaringsbehov:n,erOverstyrer:r,readOnly:t,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:s,submittable:a,fieldId:d,updateOverstyring:g,submitDisabled:m})=>{var k,p;const c=X(),{resetField:b,watch:I,getValues:T,formState:{isSubmitting:R,errors:S,dirtyFields:N}}=me(),E=Object.keys(N).length>0,O=on(Mf,n),$=!!T(`avklarAktiviteterForm.${d}`).manuellOverstyringBeregningAktiviteter,[V,L]=j.useState(O||$),Z=!!((p=(k=S.avklarAktiviteterForm)==null?void 0:k[d])!=null&&p.begrunnelseAvklareAktiviteter),J=w=>{w?L(!V):!w&&V&&L(!1),b(`avklarAktiviteterForm.${d}`,{keepDirty:!1}),b(`vurderAktiviteterSkjema.${d}`,{keepDirty:!1}),g(d,w)},C=n.filter(w=>w.definisjon===$e.AVKLAR_AKTIVITETER||w.definisjon===$e.OVERSTYRING_AV_BEREGNINGSAKTIVITETER).filter(w=>LE(w.status)).length===0,B=c_(I,d,e.aktiviteterTomDatoMapping||[],$,c),U=`vurderAktiviteterSkjema.${d}`,K=Er(U,B);return!e.aktiviteterTomDatoMapping||e.aktiviteterTomDatoMapping.length<1?null:u.jsxs(u.Fragment,{children:[on(ds,n)&&!C&&u.jsxs(_e,{size:"small",variant:"warning",children:[u.jsx(te,{size:"xsmall",level:"3",children:u.jsx(f,{id:"BeregningInfoPanel.AksjonspunktHelpText.VurderAktiviteter"},"VurderFaktaForBeregningen")}),u.jsx(f,{id:"VurderAktiviteterTabell.FullAAPKombinert.Overskrift"}),u.jsx(A,{fourPx:!0}),u.jsx(Pe,{size:"small",header:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:u.jsxs(re,{size:"small",children:[u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.AvklareAktiviteterField.HvordanGarJegFrem1"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.AvklareAktiviteterField.HvordanGarJegFrem2"})})]})})]}),u.jsx(A,{thirtyTwoPx:!0}),u.jsxs(ie,{gap:"4",children:[u.jsx(G,{size:"small",className:f_.avsnittOverskrift,"data-testid":"avklareAktiviteterHeading",children:u.jsx(f,{id:"AvklarAktivitetPanel.Overskrift"})}),(r||O)&&u.jsx(ni,{onClick:()=>J(!0),erOverstyrt:V})]}),V&&u.jsx(G,{size:"small",children:u.jsx(f,{id:"AvklareAktiviteter.OverstyrerAktivitetAdvarsel"})}),e&&e.aktiviteterTomDatoMapping&&u.jsxs("div",{children:[u.jsx(Fr,{aktiviteterTomDatoMapping:e.aktiviteterTomDatoMapping,readOnly:t,isAvklaringsbehovClosed:C,erOverstyrt:V,kodeverkSamling:i,values:I(`avklarAktiviteterForm.${d}`),harAvklaringsbehov:on(ds,n),arbeidsgiverOpplysningerPerId:s,fieldId:d}),K&&u.jsx(Dn,{children:K})]}),u.jsx(A,{twentyPx:!0}),u_(n,V)&&u.jsxs(u.Fragment,{children:[u.jsx(Rr,{name:`avklarAktiviteterForm.${d}.${co}`,isSubmittable:a,isReadOnly:t,hasBegrunnelse:po(n)!==null}),(on(ds,n)||V)&&u.jsxs(u.Fragment,{children:[u.jsx(A,{twentyPx:!0}),u.jsxs(ie,{gap:"4",children:[u.jsx(Df,{text:c.formatMessage({id:V?"AvklarAktivitetPanel.OverstyrText":"AvklarAktivitetPanel.ButtonText"}),isSubmittable:m_(a,!0,Z),isDirty:E,isSubmitting:m,isReadOnly:t||C&&!E,hasEmptyRequiredFields:Z}),!!N&&E&&u.jsx(ne,{variant:"secondary",loading:R,disabled:R,onClick:()=>J(!1),size:"small",children:u.jsx(f,{id:"AvklareAktiviteter.Avbryt"})})]})]})]})]})},{OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Kf,AVKLAR_AKTIVITETER:wf}=$e,ru="manuellOverstyringBeregningAktiviteter",b_=(e,n)=>{const r=e.perioder.find(({periode:t})=>t.fom===n);if(!r)throw new Error(`Finner ikke vilkårsperiode med fom ${n}`);return r},h_=(e,n)=>!on(wf,e)&&!on(Kf,e)&&!n,j_=e=>{const n=e[zt],r=n.filter(s=>s[ru]).map(nu).filter(s=>s),t=n.filter(s=>!s[ru]).map(nu).filter(s=>s),i=[];if(r.length>0){const s=r.map(({begrunnelse:d})=>d).reduce((d,g)=>d===""?g:`${d} ${g}`,""),a={kode:Kf,begrunnelse:s,grunnlag:r};i.push(a)}if(t.length>0){const s=t.map(({begrunnelse:d})=>d).reduce((d,g)=>d===""?g:`${d} ${g}`,""),a={kode:wf,begrunnelse:s,grunnlag:t};i.push(a)}return i},I_=(e,n,r,t)=>({[zt]:e.map(i=>{var s;return p_(i.avklaringsbehov,(s=i.faktaOmBeregning)==null?void 0:s.avklarAktiviteter,n,r,b_(t,i.vilkårsperiodeFom))})}),A_=(e,n)=>{var r;const t=(r=e[n].faktaOmBeregning)==null?void 0:r.avklarAktiviteter;if(!t)throw new Error("Mangler aktivteter å populere skjema med!");return t},x_=({harAndreAvklaringsbehovIPanel:e,erOverstyrer:n,readOnly:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,submittable:s,submitCallback:a,beregningsgrunnlag:d,aktivtBeregningsgrunnlagIndeks:g,vilkår:m,setFormData:k,formData:p,setAvklarAktiviteterErEndret:c})=>{const b=qe({defaultValues:p||I_(d,t,i,m)}),{formState:{dirtyFields:I,errors:T,isSubmitted:R},control:S,getValues:N,trigger:E,setValue:O}=b;j.useEffect(()=>{var B;(B=I.avklarAktiviteterForm)!=null&&B.some(U=>!!U)?c(!0):c(!1)},[I]),j.useEffect(()=>{var B;R&&(B=I.avklarAktiviteterForm)!=null&&B[g]&&E()},[g]);const $=d.flatMap(B=>B.avklaringsbehov),{fields:V}=Me({name:zt,control:S}),[L,Z]=j.useState(!1),J=(B,U)=>{const K=N(`avklarAktiviteterForm.${B}`);O(`${zt}.${B}`,{...K,manuellOverstyringBeregningAktiviteter:U},{shouldDirty:!0})};if(h_($,n))return null;const C=B=>{Object.keys(T).length===0&&(Z(!0),a(j_(B)))};return u.jsxs(u.Fragment,{children:[u.jsx(He,{formMethods:b,onSubmit:B=>C(B),setDataOnUnmount:k,children:V.map((B,U)=>g===U&&u.jsx(v_,{aktivtBeregningsgrunnlagIndeks:g,fieldId:U,avklarAktiviteter:A_(d,U),avklaringsbehov:d[U].avklaringsbehov,erOverstyrer:n,readOnly:r,submittable:s,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,updateOverstyring:J,submitDisabled:L},B.id))}),e&&u.jsx(A,{twentyPx:!0})]})},Uf=M.createContext(null),Ee=M.createContext(0),Cf=M.createContext(0),y_="_krLabel_nqfug_1",T_="_inntektInput_nqfug_11",tu={krLabel:y_,inntektInput:T_},it=({name:e,readOnly:n,isAksjonspunktClosed:r,label:t})=>{const{resetField:i}=me();return j.useEffect(()=>()=>i(e),[]),u.jsxs("div",{className:tu.inntektInput,children:[u.jsx(pe,{name:e,htmlSize:8,parse:ye,readOnly:n,isEdited:r,validate:[H,en(178956970)],label:t}),u.jsx("p",{className:tu.krLabel,children:"kr"})]})};it.buildInitialValues=(e,n)=>{var r;return{fastsattBelop:(r=e==null?void 0:e.find(t=>t.aktivitetStatus===n))==null?void 0:r.fastsattBelop}};const E_=(e,n)=>e.findIndex(r=>r.arbeidsgiverIdent===n),Ut=({arbeidsgiver:e,readOnly:n,isAksjonspunktClosed:r,label:t,arbeidsgiverOpplysningerPerId:i})=>{var s;const{getValues:a}=me(),d=M.useContext(Ee),g=a(`vurderFaktaBeregningForm.${d}.arbeidstakerInntektValues`),m=E_(g,e.arbeidsforhold.arbeidsgiverIdent),k=`vurderFaktaBeregningForm.${d}.arbeidstakerInntektValues.${m}.fastsattBelop`,p=(s=i[e.arbeidsforhold.arbeidsgiverIdent])==null?void 0:s.navn;return u.jsxs(u.Fragment,{children:[u.jsx(A,{thirtyTwoPx:!0}),u.jsx(it,{name:k,readOnly:n,isAksjonspunktClosed:r,label:t||u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.ManedsinntektBedrift",values:{bedrift:`${p} (${e.arbeidsforhold.arbeidsgiverIdent})`}})})]})};Ut.buildInitialValues=e=>{const n=[];return e==null||e.filter(r=>r.aktivitetStatus===F.ARBEIDSTAKER&&r.arbeidsforhold).forEach(r=>{const t={fastsattBelop:r.fastsattBelop,arbeidsgiverIdent:r.arbeidsforhold.arbeidsgiverIdent};n.push(t)}),n};const __="_fadeinTabell_anh4y_1",S_="_fadein_anh4y_1",R_="_rightAligned_anh4y_10",N_={fadeinTabell:__,fadein:S_,rightAligned:R_},st="manuellOverstyringRapportertInntekt",{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:F_,AVKLAR_AKTIVITETER:P_}=$e,B_=(e,n)=>n.some(r=>r.definisjon===e),O_=(e,n)=>e&&!n.some(r=>r.definisjon===P_&&Ze(r.status)),la=({tabell:e,hjelpeTekstId:n,skalViseTabell:r,readOnly:t,avklaringsbehov:i,updateOverstyring:s,erOverstyrer:a,erOverstyrt:d})=>{const[g,m]=j.useState(d),k=M.useContext(Ee),p=j.useMemo(()=>O_(a,i),[a,i]),c=()=>{m(!g),s(k,!g)};return u.jsxs("div",{className:N_.fadeinTabell,children:[u.jsx(A,{thirtyTwoPx:!0}),r&&u.jsxs(u.Fragment,{children:[u.jsxs(ie,{gap:"4",children:[u.jsx(te,{level:"3",size:"xsmall",children:u.jsx(f,{id:"InntektstabellPanel.RapporterteInntekter"})}),(p||g)&&u.jsx(ni,{onClick:c,erOverstyrt:t||g||B_(F_,i)})]}),u.jsx(A,{sixteenPx:!0}),n&&u.jsx(G,{size:"small",children:u.jsx(f,{id:n})}),e,g&&!t&&u.jsx(ne,{size:"small",onClick:c,variant:"secondary",children:u.jsx(f,{id:"InntektstabellPanel.Avbryt"})})]})]})};la.buildInitialValues=e=>({[st]:e});la.defaultProps={hjelpeTekstId:void 0,skalViseTabell:!0};const Yf=(e,n,r)=>r?!1:n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.filter(t=>t.aktivitetStatus===F.ARBEIDSTAKER).filter(t=>t.arbeidsforhold&&t.arbeidsforhold.arbeidsgiverIdent===e.arbeidsgiverId).filter(t=>t.arbeidsforhold&&t.arbeidsforhold.arbeidsforholdId).length>0,_n=e=>e==="true",at="lonnsendringField",oi=({readOnly:e})=>{const n=M.useContext(Ee),r=X();return u.jsxs("div",{children:[u.jsx(ue,{label:u.jsxs(u.Fragment,{children:[u.jsx(f,{id:"BeregningInfoPanel.LonnsendringForm.HarSokerEndring"}),u.jsx(Pe,{size:"small",header:u.jsx(f,{id:"BeregningInfoPanel.LonnsendringForm.HvaBetyrDette"}),children:u.jsxs(re,{size:"small",children:[u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.LonnsendringForm.HvaBetyrDette1"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.LonnsendringForm.HvaBetyrDette2"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.LonnsendringForm.HvaBetyrDette3"})})]})})]}),name:`vurderFaktaBeregningForm.${n}.lonnsendringField`,isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.JaMaanedsinntektMaaFastsettes"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.NeiBrukerAInntekt"})}],validate:[H],parse:_n}),u.jsx(A,{twentyPx:!0})]})},V_=e=>{const n=e.find(t=>t.lonnsendringIBeregningsperioden===!0)!==void 0,r=e.find(t=>t.lonnsendringIBeregningsperioden===!1)!==void 0;return n||(r?!1:void 0)};oi.buildInitialValues=e=>{const n={};if(!e||!e.beregningsgrunnlagPeriode)return n;const r=e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel;if(!r||r.length<1)return n;const t=r.filter(i=>i.aktivitetStatus===F.ARBEIDSTAKER);return!t||t.length<1||(n[at]=V_(t)),n};const $_=(e,n,r)=>r[at]&&!!n.arbeidsforholdMedLønnsendringUtenIM&&n.arbeidsforholdMedLønnsendringUtenIM.find(t=>t.andelsnr===e.andelsnr)!==void 0;oi.transformValues=(e,n)=>(n.faktaOmBeregningTilfeller?n.faktaOmBeregningTilfeller:[]).map(r=>r).includes(P.VURDER_LONNSENDRING)?{faktaOmBeregningTilfeller:[P.VURDER_LONNSENDRING],vurdertLonnsendring:{erLønnsendringIBeregningsperioden:e[at]}}:{};const Ln="NyoppstartetFLField",gi=({readOnly:e})=>{const n=M.useContext(Ee),r=X();return u.jsxs("div",{children:[u.jsx(ue,{label:u.jsxs(u.Fragment,{children:[u.jsx(f,{id:"BeregningInfoPanel.NyoppstartetFLForm.ErSokerNyoppstartetFL"}),u.jsx(Pe,{size:"small",header:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:u.jsxs(re,{size:"small",children:[u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.NyoppstartetFLForm.HvordanGarJegFrem1"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.NyoppstartetFLForm.HvordanGarJegFrem2"})})]})})]}),name:`vurderFaktaBeregningForm.${n}.${Ln}`,validate:[H],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.JaMaanedsinntektMaaFastsettes"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.NeiBrukerAInntekt"})}],parse:_n}),u.jsx(A,{twentyPx:!0})]})};gi.buildInitialValues=e=>{var n;const r={};if(e===void 0||e.beregningsgrunnlagPeriode===void 0)return r;const t=e.beregningsgrunnlagPeriode.map(i=>i.beregningsgrunnlagPrStatusOgAndel).flat().filter(i=>(i==null?void 0:i.aktivitetStatus)===F.FRILANSER);return t.length>0&&(r[Ln]=(n=t[0])==null?void 0:n.erNyoppstartet),r};gi.transformValues=(e,n,r,t)=>{if(!(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).map(a=>a).includes(P.VURDER_NYOPPSTARTET_FL))return{};if(!n||n.length===0)return{faktaOmBeregningTilfeller:[P.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[Ln]}};const i=n.find(a=>a.aktivitetStatus===F.FRILANSER);if(!i)return{faktaOmBeregningTilfeller:[P.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[Ln]}};if(t.includes(i.andelsnr))return{faktaOmBeregningTilfeller:[P.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[Ln]}};t.push(i.andelsnr);const s={fastsettMaanedsinntektFL:{maanedsinntekt:i.fastsattBelop}};return{faktaOmBeregningTilfeller:[P.VURDER_NYOPPSTARTET_FL,P.FASTSETT_MAANEDSINNTEKT_FL],...s,vurderNyoppstartetFL:{erNyoppstartetFL:e[Ln]}}};var Ui=function(e){return e&&e.Math==Math&&e},Mn=Ui(typeof globalThis=="object"&&globalThis)||Ui(typeof window=="object"&&window)||Ui(typeof self=="object"&&self)||Ui(typeof qg=="object"&&qg)||function(){return this}()||Function("return this")(),vo={},Hn=function(e){try{return!!e()}catch{return!0}},D_=Hn,ar=!D_(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),G_=Hn,bo=!G_(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),M_=bo,Ci=Function.prototype.call,ho=M_?Ci.bind(Ci):function(){return Ci.apply(Ci,arguments)},zf={},qf={}.propertyIsEnumerable,Hf=Object.getOwnPropertyDescriptor,L_=Hf&&!qf.call({1:2},1);zf.f=L_?function(e){var n=Hf(this,e);return!!n&&n.enumerable}:qf;var Jf=function(e,n){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:n}},Zf=bo,Wf=Function.prototype,Ul=Wf.call,K_=Zf&&Wf.bind.bind(Ul,Ul),fn=Zf?K_:function(e){return function(){return Ul.apply(e,arguments)}},Xf=fn,w_=Xf({}.toString),U_=Xf("".slice),da=function(e){return U_(w_(e),8,-1)},C_=fn,Y_=Hn,z_=da,Pa=Object,q_=C_("".split),H_=Y_(function(){return!Pa("z").propertyIsEnumerable(0)})?function(e){return z_(e)=="String"?q_(e,""):Pa(e)}:Pa,Qf=function(e){return e==null},J_=Qf,Z_=TypeError,ep=function(e){if(J_(e))throw Z_("Can't call method on "+e);return e},W_=H_,X_=ep,oa=function(e){return W_(X_(e))},Cl=typeof document=="object"&&document.all,Q_=typeof Cl>"u"&&Cl!==void 0,np={all:Cl,IS_HTMLDDA:Q_},rp=np,eS=rp.all,pn=rp.IS_HTMLDDA?function(e){return typeof e=="function"||e===eS}:function(e){return typeof e=="function"},iu=pn,tp=np,nS=tp.all,vt=tp.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:iu(e)||e===nS}:function(e){return typeof e=="object"?e!==null:iu(e)},Ba=Mn,rS=pn,tS=function(e){return rS(e)?e:void 0},ga=function(e,n){return arguments.length<2?tS(Ba[e]):Ba[e]&&Ba[e][n]},iS=fn,sS=iS({}.isPrototypeOf),aS=typeof navigator<"u"&&String(navigator.userAgent)||"",ip=Mn,Oa=aS,su=ip.process,au=ip.Deno,lu=su&&su.versions||au&&au.version,du=lu&&lu.v8,hn,Os;du&&(hn=du.split("."),Os=hn[0]>0&&hn[0]<4?1:+(hn[0]+hn[1]));!Os&&Oa&&(hn=Oa.match(/Edge\/(\d+)/),(!hn||hn[1]>=74)&&(hn=Oa.match(/Chrome\/(\d+)/),hn&&(Os=+hn[1])));var lS=Os,ou=lS,dS=Hn,sp=!!Object.getOwnPropertySymbols&&!dS(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ou&&ou<41}),oS=sp,ap=oS&&!Symbol.sham&&typeof Symbol.iterator=="symbol",gS=ga,uS=pn,mS=sS,kS=ap,fS=Object,lp=kS?function(e){return typeof e=="symbol"}:function(e){var n=gS("Symbol");return uS(n)&&mS(n.prototype,fS(e))},pS=String,cS=function(e){try{return pS(e)}catch{return"Object"}},vS=pn,bS=cS,hS=TypeError,jo=function(e){if(vS(e))return e;throw hS(bS(e)+" is not a function")},jS=jo,IS=Qf,AS=function(e,n){var r=e[n];return IS(r)?void 0:jS(r)},Va=ho,$a=pn,Da=vt,xS=TypeError,yS=function(e,n){var r,t;if(n==="string"&&$a(r=e.toString)&&!Da(t=Va(r,e))||$a(r=e.valueOf)&&!Da(t=Va(r,e))||n!=="string"&&$a(r=e.toString)&&!Da(t=Va(r,e)))return t;throw xS("Can't convert object to primitive value")},dp={exports:{}},gu=Mn,TS=Object.defineProperty,Io=function(e,n){try{TS(gu,e,{value:n,configurable:!0,writable:!0})}catch{gu[e]=n}return n},ES=Mn,_S=Io,uu="__core-js_shared__",SS=ES[uu]||_S(uu,{}),Ao=SS,mu=Ao;(dp.exports=function(e,n){return mu[e]||(mu[e]=n!==void 0?n:{})})("versions",[]).push({version:"3.27.2",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"});var op=dp.exports,RS=ep,NS=Object,gp=function(e){return NS(RS(e))},FS=fn,PS=gp,BS=FS({}.hasOwnProperty),Pr=Object.hasOwn||function(e,n){return BS(PS(e),n)},OS=fn,VS=0,$S=Math.random(),DS=OS(1 .toString),up=function(e){return"Symbol("+(e===void 0?"":e)+")_"+DS(++VS+$S,36)},GS=Mn,MS=op,ku=Pr,LS=up,KS=sp,wS=ap,Jr=GS.Symbol,Ga=MS("wks"),US=wS?Jr.for||Jr:Jr&&Jr.withoutSetter||LS,ui=function(e){return ku(Ga,e)||(Ga[e]=KS&&ku(Jr,e)?Jr[e]:US("Symbol."+e)),Ga[e]},CS=ho,fu=vt,pu=lp,YS=AS,zS=yS,qS=ui,HS=TypeError,JS=qS("toPrimitive"),ZS=function(e,n){if(!fu(e)||pu(e))return e;var r=YS(e,JS),t;if(r){if(n===void 0&&(n="default"),t=CS(r,e,n),!fu(t)||pu(t))return t;throw HS("Can't convert object to primitive value")}return n===void 0&&(n="number"),zS(e,n)},WS=ZS,XS=lp,mp=function(e){var n=WS(e,"string");return XS(n)?n:n+""},QS=Mn,cu=vt,Yl=QS.document,eR=cu(Yl)&&cu(Yl.createElement),kp=function(e){return eR?Yl.createElement(e):{}},nR=ar,rR=Hn,tR=kp,fp=!nR&&!rR(function(){return Object.defineProperty(tR("div"),"a",{get:function(){return 7}}).a!=7}),iR=ar,sR=ho,aR=zf,lR=Jf,dR=oa,oR=mp,gR=Pr,uR=fp,vu=Object.getOwnPropertyDescriptor;vo.f=iR?vu:function(e,n){if(e=dR(e),n=oR(n),uR)try{return vu(e,n)}catch{}if(gR(e,n))return lR(!sR(aR.f,e,n),e[n])};var bt={},mR=ar,kR=Hn,pp=mR&&kR(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),fR=vt,pR=String,cR=TypeError,ua=function(e){if(fR(e))return e;throw cR(pR(e)+" is not an object")},vR=ar,bR=fp,hR=pp,Yi=ua,bu=mp,jR=TypeError,Ma=Object.defineProperty,IR=Object.getOwnPropertyDescriptor,La="enumerable",Ka="configurable",wa="writable";bt.f=vR?hR?function(e,n,r){if(Yi(e),n=bu(n),Yi(r),typeof e=="function"&&n==="prototype"&&"value"in r&&wa in r&&!r[wa]){var t=IR(e,n);t&&t[wa]&&(e[n]=r.value,r={configurable:Ka in r?r[Ka]:t[Ka],enumerable:La in r?r[La]:t[La],writable:!1})}return Ma(e,n,r)}:Ma:function(e,n,r){if(Yi(e),n=bu(n),Yi(r),bR)try{return Ma(e,n,r)}catch{}if("get"in r||"set"in r)throw jR("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var AR=ar,xR=bt,yR=Jf,cp=AR?function(e,n,r){return xR.f(e,n,yR(1,r))}:function(e,n,r){return e[n]=r,e},vp={exports:{}},zl=ar,TR=Pr,bp=Function.prototype,ER=zl&&Object.getOwnPropertyDescriptor,xo=TR(bp,"name"),_R=xo&&(function(){}).name==="something",SR=xo&&(!zl||zl&&ER(bp,"name").configurable),RR={EXISTS:xo,PROPER:_R,CONFIGURABLE:SR},NR=fn,FR=pn,ql=Ao,PR=NR(Function.toString);FR(ql.inspectSource)||(ql.inspectSource=function(e){return PR(e)});var hp=ql.inspectSource,BR=Mn,OR=pn,hu=BR.WeakMap,VR=OR(hu)&&/native code/.test(String(hu)),$R=op,DR=up,ju=$R("keys"),jp=function(e){return ju[e]||(ju[e]=DR(e))},yo={},GR=VR,Ip=Mn,MR=vt,LR=cp,Ua=Pr,Ca=Ao,KR=jp,wR=yo,Iu="Object already initialized",Hl=Ip.TypeError,UR=Ip.WeakMap,Vs,qt,$s,CR=function(e){return $s(e)?qt(e):Vs(e,{})},YR=function(e){return function(n){var r;if(!MR(n)||(r=qt(n)).type!==e)throw Hl("Incompatible receiver, "+e+" required");return r}};if(GR||Ca.state){var Fn=Ca.state||(Ca.state=new UR);Fn.get=Fn.get,Fn.has=Fn.has,Fn.set=Fn.set,Vs=function(e,n){if(Fn.has(e))throw Hl(Iu);return n.facade=e,Fn.set(e,n),n},qt=function(e){return Fn.get(e)||{}},$s=function(e){return Fn.has(e)}}else{var Lr=KR("state");wR[Lr]=!0,Vs=function(e,n){if(Ua(e,Lr))throw Hl(Iu);return n.facade=e,LR(e,Lr,n),n},qt=function(e){return Ua(e,Lr)?e[Lr]:{}},$s=function(e){return Ua(e,Lr)}}var zR={set:Vs,get:qt,has:$s,enforce:CR,getterFor:YR},To=fn,qR=Hn,HR=pn,zi=Pr,Jl=ar,JR=RR.CONFIGURABLE,ZR=hp,Ap=zR,WR=Ap.enforce,XR=Ap.get,Au=String,os=Object.defineProperty,QR=To("".slice),eN=To("".replace),nN=To([].join),rN=Jl&&!qR(function(){return os(function(){},"length",{value:8}).length!==8}),tN=String(String).split("String"),iN=vp.exports=function(e,n,r){QR(Au(n),0,7)==="Symbol("&&(n="["+eN(Au(n),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(n="get "+n),r&&r.setter&&(n="set "+n),(!zi(e,"name")||JR&&e.name!==n)&&(Jl?os(e,"name",{value:n,configurable:!0}):e.name=n),rN&&r&&zi(r,"arity")&&e.length!==r.arity&&os(e,"length",{value:r.arity});try{r&&zi(r,"constructor")&&r.constructor?Jl&&os(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var t=WR(e);return zi(t,"source")||(t.source=nN(tN,typeof n=="string"?n:"")),e};Function.prototype.toString=iN(function(){return HR(this)&&XR(this).source||ZR(this)},"toString");var sN=vp.exports,aN=pn,lN=bt,dN=sN,oN=Io,gN=function(e,n,r,t){t||(t={});var i=t.enumerable,s=t.name!==void 0?t.name:n;if(aN(r)&&dN(r,s,t),t.global)i?e[n]=r:oN(n,r);else{try{t.unsafe?e[n]&&(i=!0):delete e[n]}catch{}i?e[n]=r:lN.f(e,n,{value:r,enumerable:!1,configurable:!t.nonConfigurable,writable:!t.nonWritable})}return e},xp={},uN=Math.ceil,mN=Math.floor,kN=Math.trunc||function(e){var n=+e;return(n>0?mN:uN)(n)},fN=kN,yp=function(e){var n=+e;return n!==n||n===0?0:fN(n)},pN=yp,cN=Math.max,vN=Math.min,bN=function(e,n){var r=pN(e);return r<0?cN(r+n,0):vN(r,n)},hN=yp,jN=Math.min,IN=function(e){return e>0?jN(hN(e),9007199254740991):0},AN=IN,Eo=function(e){return AN(e.length)},xN=oa,yN=bN,TN=Eo,xu=function(e){return function(n,r,t){var i=xN(n),s=TN(i),a=yN(t,s),d;if(e&&r!=r){for(;s>a;)if(d=i[a++],d!=d)return!0}else for(;s>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}},EN={includes:xu(!0),indexOf:xu(!1)},_N=fn,Ya=Pr,SN=oa,RN=EN.indexOf,NN=yo,yu=_N([].push),Tp=function(e,n){var r=SN(e),t=0,i=[],s;for(s in r)!Ya(NN,s)&&Ya(r,s)&&yu(i,s);for(;n.length>t;)Ya(r,s=n[t++])&&(~RN(i,s)||yu(i,s));return i},_o=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],FN=Tp,PN=_o,BN=PN.concat("length","prototype");xp.f=Object.getOwnPropertyNames||function(e){return FN(e,BN)};var Ep={};Ep.f=Object.getOwnPropertySymbols;var ON=ga,VN=fn,$N=xp,DN=Ep,GN=ua,MN=VN([].concat),LN=ON("Reflect","ownKeys")||function(e){var n=$N.f(GN(e)),r=DN.f;return r?MN(n,r(e)):n},Tu=Pr,KN=LN,wN=vo,UN=bt,CN=function(e,n,r){for(var t=KN(n),i=UN.f,s=wN.f,a=0;a<t.length;a++){var d=t[a];!Tu(e,d)&&!(r&&Tu(r,d))&&i(e,d,s(n,d))}},YN=Hn,zN=pn,qN=/#|\.prototype\./,mi=function(e,n){var r=JN[HN(e)];return r==WN?!0:r==ZN?!1:zN(n)?YN(n):!!n},HN=mi.normalize=function(e){return String(e).replace(qN,".").toLowerCase()},JN=mi.data={},ZN=mi.NATIVE="N",WN=mi.POLYFILL="P",XN=mi,za=Mn,QN=vo.f,eF=cp,nF=gN,rF=Io,tF=CN,iF=XN,sF=function(e,n){var r=e.target,t=e.global,i=e.stat,s,a,d,g,m,k;if(t?a=za:i?a=za[r]||rF(r,{}):a=(za[r]||{}).prototype,a)for(d in n){if(m=n[d],e.dontCallGetSet?(k=QN(a,d),g=k&&k.value):g=a[d],s=iF(t?d:r+(i?".":"#")+d,e.forced),!s&&g!==void 0){if(typeof m==typeof g)continue;tF(m,g)}(e.sham||g&&g.sham)&&eF(m,"sham",!0),nF(a,d,m,e)}},aF=da,_p=Array.isArray||function(e){return aF(e)=="Array"},lF=TypeError,dF=9007199254740991,oF=function(e){if(e>dF)throw lF("Maximum allowed index exceeded");return e},gF=da,uF=fn,mF=function(e){if(gF(e)==="Function")return uF(e)},Eu=mF,kF=jo,fF=bo,pF=Eu(Eu.bind),cF=function(e,n){return kF(e),n===void 0?e:fF?pF(e,n):function(){return e.apply(n,arguments)}},vF=_p,bF=Eo,hF=oF,jF=cF,Sp=function(e,n,r,t,i,s,a,d){for(var g=i,m=0,k=a?jF(a,d):!1,p,c;m<t;)m in r&&(p=k?k(r[m],m,n):r[m],s>0&&vF(p)?(c=bF(p),g=Sp(e,n,p,c,g,s-1)-1):(hF(g+1),e[g]=p),g++),m++;return g},IF=Sp,AF=ui,xF=AF("toStringTag"),Rp={};Rp[xF]="z";var yF=String(Rp)==="[object z]",TF=yF,EF=pn,gs=da,_F=ui,SF=_F("toStringTag"),RF=Object,NF=gs(function(){return arguments}())=="Arguments",FF=function(e,n){try{return e[n]}catch{}},PF=TF?gs:function(e){var n,r,t;return e===void 0?"Undefined":e===null?"Null":typeof(r=FF(n=RF(e),SF))=="string"?r:NF?gs(n):(t=gs(n))=="Object"&&EF(n.callee)?"Arguments":t},BF=fn,OF=Hn,Np=pn,VF=PF,$F=ga,DF=hp,Fp=function(){},GF=[],Pp=$F("Reflect","construct"),So=/^\s*(?:class|function)\b/,MF=BF(So.exec),LF=!So.exec(Fp),Bt=function(e){if(!Np(e))return!1;try{return Pp(Fp,GF,e),!0}catch{return!1}},Bp=function(e){if(!Np(e))return!1;switch(VF(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return LF||!!MF(So,DF(e))}catch{return!0}};Bp.sham=!0;var KF=!Pp||OF(function(){var e;return Bt(Bt.call)||!Bt(Object)||!Bt(function(){e=!0})||e})?Bp:Bt,_u=_p,wF=KF,UF=vt,CF=ui,YF=CF("species"),Su=Array,zF=function(e){var n;return _u(e)&&(n=e.constructor,wF(n)&&(n===Su||_u(n.prototype))?n=void 0:UF(n)&&(n=n[YF],n===null&&(n=void 0))),n===void 0?Su:n},qF=zF,HF=function(e,n){return new(qF(e))(n===0?0:n)},JF=sF,ZF=IF,WF=jo,XF=gp,QF=Eo,eP=HF;JF({target:"Array",proto:!0},{flatMap:function(e){var n=XF(this),r=QF(n),t;return WF(e),t=eP(n,0),t.length=ZF(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}});var Op={},nP=Tp,rP=_o,tP=Object.keys||function(e){return nP(e,rP)},iP=ar,sP=pp,aP=bt,lP=ua,dP=oa,oP=tP;Op.f=iP&&!sP?Object.defineProperties:function(e,n){lP(e);for(var r=dP(n),t=oP(n),i=t.length,s=0,a;i>s;)aP.f(e,a=t[s++],r[a]);return e};var gP=ga,uP=gP("document","documentElement"),mP=ua,kP=Op,Ru=_o,fP=yo,pP=uP,cP=kp,vP=jp,Nu=">",Fu="<",Zl="prototype",Wl="script",Vp=vP("IE_PROTO"),qa=function(){},$p=function(e){return Fu+Wl+Nu+e+Fu+"/"+Wl+Nu},Pu=function(e){e.write($p("")),e.close();var n=e.parentWindow.Object;return e=null,n},bP=function(){var e=cP("iframe"),n="java"+Wl+":",r;return e.style.display="none",pP.appendChild(e),e.src=String(n),r=e.contentWindow.document,r.open(),r.write($p("document.F=Object")),r.close(),r.F},qi,us=function(){try{qi=new ActiveXObject("htmlfile")}catch{}us=typeof document<"u"?document.domain&&qi?Pu(qi):bP():Pu(qi);for(var e=Ru.length;e--;)delete us[Zl][Ru[e]];return us()};fP[Vp]=!0;var hP=Object.create||function(e,n){var r;return e!==null?(qa[Zl]=mP(e),r=new qa,qa[Zl]=null,r[Vp]=e):r=us(),n===void 0?r:kP.f(r,n)},jP=ui,IP=hP,AP=bt.f,Xl=jP("unscopables"),Ql=Array.prototype;Ql[Xl]==null&&AP(Ql,Xl,{configurable:!0,value:IP(null)});var xP=function(e){Ql[Xl][e]=!0},yP=xP;yP("flatMap");var TP=Mn,EP=fn,_P=function(e,n){return EP(TP[e].prototype[n])},SP=_P;SP("Array","flatMap");const er="vurderEtterlønnSluttpakke",ki=({readOnly:e})=>{const n=M.useContext(Ee),r=X();return u.jsx("div",{children:u.jsx(ue,{label:u.jsxs(u.Fragment,{children:[u.jsx(f,{id:"BeregningInfoPanel.EtterlønnSluttpakke.HarSøkerInntekt"}),u.jsx(Pe,{size:"small",header:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:u.jsx(f,{id:"BeregningInfoPanel.EtterlønnSluttpakke.HvordanGarJegFrem1"})})]}),name:`vurderFaktaBeregningForm.${n}.${er}`,validate:[H],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.JaMaanedsinntektMaaFastsettes"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.NeiBrukerAInntekt"})}],parse:_n})})};ki.buildInitialValues=(e,n)=>{var r,t;const i={};if(!e||!e.beregningsgrunnlagPeriode||!n)return{};const s=!Ze(n.status),a=e.beregningsgrunnlagPeriode.flatMap(d=>d.beregningsgrunnlagPrStatusOgAndel).filter(d=>(d==null?void 0:d.arbeidsforhold)&&(d==null?void 0:d.arbeidsforhold.arbeidsforholdType)===mn.ETTERLONN_SLUTTPAKKE);return a.length>0&&(i[er]=s&&((r=a[0])==null?void 0:r.beregnetPrAar)!==void 0?((t=a[0])==null?void 0:t.beregnetPrAar)>0:void 0),i};const RP=e=>{if(!e.andelerForFaktaOmBeregning)return;const n=e.andelerForFaktaOmBeregning.find(r=>r.arbeidsforhold&&r.arbeidsforhold.arbeidsforholdType&&r.arbeidsforhold.arbeidsforholdType===mn.ETTERLONN_SLUTTPAKKE);return n?n.andelsnr:void 0};ki.transformValues=(e,n,r,t)=>{if(!(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).includes(P.VURDER_ETTERLONN_SLUTTPAKKE))return{};if(!n||n.length===0)return{faktaOmBeregningTilfeller:[P.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[er]}};const i=RP(r);if(!i)return{};const s=n.find(d=>d.andelsnr===i);if(!s)return{faktaOmBeregningTilfeller:[P.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[er]}};if(t.includes(s.andelsnr))return{faktaOmBeregningTilfeller:[P.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[er]}};t.push(s.andelsnr);const a={fastsettEtterlønnSluttpakke:{fastsattPrMnd:s.fastsattBelop}};return{faktaOmBeregningTilfeller:[P.VURDER_ETTERLONN_SLUTTPAKKE,P.FASTSETT_ETTERLONN_SLUTTPAKKE],...a,vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[er]}}};const Dp="mottarYtelseField",NP="_frilans",Br=e=>Dp+e.andelsnr,xr=()=>Dp+NP,FP=(e,n)=>(n&&n.arbeidstakerAndelerUtenIM?n.arbeidstakerAndelerUtenIM:[]).map(r=>e.vurderMottarYtelseValues[Br(r)]).find(r=>r)!==void 0,Gp=e=>e.vurderMottarYtelseValues[xr()],Mp=(e,n,r)=>{if(!n)return{};const t={};if((n.arbeidstakerAndelerUtenIM?n.arbeidstakerAndelerUtenIM:[]).forEach(s=>{const a=e.vurderMottarYtelseValues[Br(s)];t[s.andelsnr]=a}),!r)return t;const i=r.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(s=>s.aktivitetStatus===F.FRILANSER);return i&&(t[i.andelsnr]=Gp(e)),t},PP="_navetLink_15r5n_1",BP="_flexColumn12_15r5n_12",OP="_flexColumn9_15r5n_15",VP="_flexColumn3_15r5n_18",pr={navetLink:PP,flexColumn12:BP,flexColumn9:OP,flexColumn3:VP},ir="vurderbesteberegningField",{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:$P}=$e,fi=({readOnly:e,erOverstyrt:n})=>{const r=M.useContext(Ee),t=X(),i=e||n;return u.jsx("div",{children:u.jsxs(D,{children:[u.jsx(y,{className:pr.flexColumn9,children:u.jsx(ue,{label:u.jsx(f,{id:"BeregningInfoPanel.VurderBestebergning.HarBesteberegning"}),name:`vurderFaktaBeregningForm.${r}.${ir}`,isReadOnly:i,validate:i?[]:[H],radios:[{value:"true",label:t.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:t.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:_n})}),u.jsx(y,{className:pr.flexColumn3,children:u.jsx("a",{className:pr.navetLink,href:aa,target:"_blank",rel:"noopener noreferrer",children:u.jsx(f,{id:"BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet"})})})]})})};fi.buildInitialValues=(e,n,r,t)=>r.includes(P.VURDER_BESTEBEREGNING)||r.includes(P.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE)?n?e.find(i=>i.definisjon===$P)!==void 0||t?{[ir]:!1}:{[ir]:n.skalHaBesteberegning}:{}:{};fi.transformValues=(e,n,r)=>{if(!n||!n.vurderBesteberegning)return{};if(!e[ir]||!r)return{besteberegningAndeler:{besteberegningAndelListe:[]}};const t=r.filter(({nyAndel:s})=>s!==!0).map(s=>({andelsnr:s.andelsnr,nyAndel:s.nyAndel,lagtTilAvSaksbehandler:s.lagtTilAvSaksbehandler,fastsatteVerdier:{fastsattBeløp:s.fastsattBelop,inntektskategori:s.inntektskategori}})),i=r.find(s=>s.nyAndel&&s.aktivitetStatus===F.DAGPENGER);return{besteberegningAndeler:{besteberegningAndelListe:t,nyDagpengeAndel:i?{fastsatteVerdier:{fastsattBeløp:i.fastsattBelop,inntektskategori:i.inntektskategori}}:null}}};const DP=e=>(n,r)=>{const t=e.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller:[];if(!(t.map(a=>a).includes(P.VURDER_BESTEBEREGNING)||t.map(a=>a).includes(P.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE)))return{};const i=fi.transformValues(n,e,r),s=[P.VURDER_BESTEBEREGNING];return i.besteberegningAndeler.besteberegningAndelListe.length>0&&s.push(P.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE),{faktaOmBeregningTilfeller:s,...i}},Lp="inntektFieldArray",GP=e=>e.inntektskategori&&e.inntektskategori!==kn.UDEFINERT?e.inntektskategori:"",MP=(e,n,r)=>{var t,i,s,a,d;const g=(t=e.arbeidsforhold)!=null&&t.arbeidsgiverIdent?n[e.arbeidsforhold.arbeidsgiverIdent]:void 0;return g?Nr(g,(d=e.arbeidsforhold)==null?void 0:d.eksternArbeidsforholdId):(i=e.arbeidsforhold)!=null&&i.arbeidsforholdType?(s=r[ke.OPPTJENING_AKTIVITET_TYPE].find(m=>{var k;return m.kode===((k=e.arbeidsforhold)==null?void 0:k.arbeidsforholdType)}))==null?void 0:s.navn:(a=r[ke.AKTIVITET_STATUS].find(m=>m.kode===e.aktivitetStatus))==null?void 0:a.navn},Kp=(e,n,r)=>({andel:MP(e,n,r)||"",aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,nyAndel:!1,inntektskategori:GP(e),lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler===!0}),LP=(e,n)=>e?e.find(r=>r.andelsnr===n.andelsnr):void 0,KP=(e,n)=>e?e.find(r=>r.andelsnr===n.andelsnr):void 0,wP=(e,n)=>{const r=LP(n.arbeidstakerOgFrilanserISammeOrganisasjonListe,e);return r&&(r.inntektPrMnd===null||r.inntektPrMnd===void 0)},ma=e=>e.aktivitetStatus&&e.aktivitetStatus===F.ARBEIDSTAKER,ka=e=>e.aktivitetStatus&&e.aktivitetStatus===F.FRILANSER,wp=e=>e.aktivitetStatus&&e.aktivitetStatus===F.DAGPENGER,UP=(e,n)=>n?ka(e)&&n[Ln]:!1,CP=e=>e[ir],YP=(e,n,r)=>r.arbeidsforholdMedLønnsendringUtenIM&&KP(r.arbeidsforholdMedLønnsendringUtenIM,n)&&e[at],zP=(e,n,r)=>ma(e)&&YP(n,e,r),qP=(e,n)=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&ka(e),HP=(e,n)=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&ma(e)&&wP(e,n),JP=(e,n,r,t)=>Mp(e,r.vurderMottarYtelse,t)[n.andelsnr],ZP=(e,n)=>e.arbeidsforholdType&&e.arbeidsforholdType===mn.ETTERLONN_SLUTTPAKKE?n[er]:!1,Up=(e,n)=>n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(r=>r.arbeidsforhold&&r.arbeidsforhold.arbeidsgiverIdent===e.arbeidsgiverId&&r.arbeidsforhold.organisasjonstype&&r.arbeidsforhold.organisasjonstype===ti.KUNSTIG)!==void 0,WP=e=>!!e.faktaOmBeregningTilfeller&&e.faktaOmBeregningTilfeller.find(n=>n===P.FASTSETT_BG_KUN_YTELSE)!==void 0,XP=(e,n,r)=>t=>!!(CP(e)||JP(e,t,n,r)||zP(t,e,n)||qP(t,n)||HP(t,n)||Up(t,r)||Yf(t,r)||ZP(t,e)),QP=(e,n,r)=>t=>!!(XP(e,n,r)(t)||UP(t,e)),qn=e=>!!e&&e[st]===!0,e0=e=>e&&e.some(n=>n.definisjon===$e.OVERSTYRING_AV_BEREGNINGSGRUNNLAG),Ro=e=>qn(e),Bu=e=>e.erOverstyrtInntekt||e0(e.avklaringsbehov),Cp=(e,n,r)=>t=>WP(n)||QP(e,n,r)(t),n0=(e,n,r)=>t=>qn(e)||Cp(e,n,r)(t),Ht=(e,n)=>r=>n0(e,n.faktaOmBeregning,n)(r),r0=e=>n=>Up(n,e),t0=e=>r0(e),i0=(e,n,r)=>({...Kp(e,n,r),arbeidsforholdId:e.arbeidsforhold?e.arbeidsforhold.arbeidsforholdId:void 0,arbeidsperiodeFom:e.arbeidsforhold?e.arbeidsforhold.startdato:"",arbeidsperiodeTom:e.arbeidsforhold?e.arbeidsforhold.opphoersdato:"",arbeidsforholdType:e.arbeidsforhold?e.arbeidsforhold.arbeidsforholdType:void 0,aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,arbeidsgiverId:e.arbeidsforhold?e.arbeidsforhold.arbeidsgiverIdent:void 0,skalKunneEndreAktivitet:e.skalKunneEndreAktivitet,fastsattBelop:e.fastsattBelop||e.fastsattBelop===0?z(e.fastsattBelop):"",belopReadOnly:e.belopReadOnly||e.belopReadOnly===0?z(e.belopReadOnly):"",refusjonskrav:e.refusjonskrav||e.refusjonskrav===0?z(e.refusjonskrav):""}),ed=(e,n)=>e.findIndex(r=>r.arbeidsgiverIdent===n),Ds=(e,n)=>{var r;return(r=e==null?void 0:e.find(t=>t.arbeidsgiverIdent===n))==null?void 0:r.fastsattBelop},lr=e=>{if(!e.faktaOmBeregning)throw new Error("Mangler fakta om beregning, ugyldig tilstand");return e.faktaOmBeregning},No=e=>{var n;return((n=lr(e))==null?void 0:n.faktaOmBeregningTilfeller)||[]},Qr=(e,n)=>n.some(r=>r.definisjon===e),nd=e=>{const n=e.filter(r=>r.definisjon===$e.VURDER_FAKTA_FOR_ATFL_SN||r.definisjon===$e.OVERSTYRING_AV_BEREGNINGSGRUNNLAG);return n.length===0?!1:n.some(r=>!Ze(r.status))},s0=(e,n)=>e.andelsinfo===n.andelsinfo?e.inntektskategori===n.inntektskategori?0:e.inntektskategori>n.inntektskategori?1:-1:e.andelsinfo>n.andelsinfo?1:-1,a0=(e,n)=>{const{nyAndel:r,andel:t,inntektskategori:i,aktivitetStatus:s,arbeidsforholdId:a}=e;if(r){if(!Number.isNaN(Number(t))){const d=n.filter(g=>g.andelsnr===parseFloat(t));if(d.length>0)return{andelsinfo:d[0].andel,inntektskategori:i}}return As[t]?{andelsinfo:t,inntektskategori:i}:{andelsinfo:t,inntektskategori:i}}return xs[s]?{andelsinfo:xs[s],inntektskategori:i}:{andelsinfo:t,inntektskategori:i,arbeidsforholdId:a}},l0=e=>e.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.UlikeAndeler"}),d0=(e,n)=>n.andelsinfo===e.andelsinfo&&n.inntektskategori===e.inntektskategori&&e.arbeidsforholdId===n.arbeidsforholdId,Yp=(e,n,r)=>{const t=e.map(i=>n(i,e)).slice().sort((i,s)=>s0(i,s));for(let i=0;i<t.length-1;i+=1)if(d0(t[i],t[i+1]))return l0(r);return null},o0=(e,n)=>Yp(e,a0,n),g0=e=>e.formatMessage({id:"BeregningInfoPanel.Validation.MinstEnFastsatt"}),u0=(e,n)=>e.some(({fastsattBelop:r})=>r!==null&&r!==""&&r!==void 0)?null:g0(n),m0="_row_1hw01_1",k0="_slettIkon_1hw01_10",f0="_rightAlign_1hw01_13",p0="_rightAlignInput_1hw01_20",c0="_buttonRow_1hw01_28",v0="_addPeriode_1hw01_31",b0="_customLink_1hw01_32",h0="_removeButton_1hw01_33",j0="_addCircleIcon_1hw01_41",I0="_imageText_1hw01_42",A0="_storBredde_1hw01_47",x0="_mediumBredde_1hw01_50",y0="_flexColumn3_1hw01_53",Bn={row:m0,slettIkon:k0,rightAlign:f0,rightAlignInput:p0,buttonRow:c0,addPeriode:v0,customLink:b0,removeButton:h0,addCircleIcon:j0,imageText:I0,storBredde:A0,mediumBredde:x0,flexColumn3:y0},T0=(e,n)=>{var r;return{andel:(r=n[ke.AKTIVITET_STATUS].find(t=>t.kode===e.filter(i=>i===F.BRUKERS_ANDEL)[0]))==null?void 0:r.navn,fastsattBelop:"",inntektskategori:"",nyAndel:!0,lagtTilAvSaksbehandler:!0}},E0=e=>e.map(n=>u.jsx("option",{value:n.kode,children:n.navn},n.kode)),_0=e=>{let n=0;return e.forEach(r=>{n+=r.fastsattBelop?de(r.fastsattBelop):0}),n>0?z(n):""};function S0(e,n,r){return(n[e].nyAndel||n[e].lagtTilAvSaksbehandler)&&!r}const R0=(e,n,r,t,i,s,a)=>e.map((d,g)=>u.jsxs(W.Row,{className:Bn.row,children:[u.jsx(W.DataCell,{children:u.jsx(_,{size:"small",children:u.jsx(f,{id:"BeregningInfoPanel.FordelingBG.Ytelse"})})}),u.jsx(W.DataCell,{align:"right",className:Bn.rightAlign,children:u.jsx(pe,{name:`${s}.${g}.fastsattBelop`,className:Bn.mediumBredde,parse:ye,readOnly:r,isEdited:n,validate:r?[]:[H,en(178956970)],label:i.formatMessage({id:"BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn"},{andel:`ytelse ${g+1}`}),hideLabel:!0,size:"small"})}),u.jsx(W.DataCell,{align:"right",className:Bn.rightAlign,children:u.jsx(kt,{label:i.formatMessage({id:"BeregningInfoPanel.FordelingBG.InntektskategoriMedAndelnavn"},{andel:`ytelse ${g+1}`}),name:`${s}.${g}.inntektskategori`,className:Bn.storBredde,selectValues:E0(t),readOnly:r,validate:r?[]:[H],hideLabel:!0,size:"small"})}),u.jsx(W.DataCell,{align:"right",className:Bn.rightAlign,children:S0(g,e,r)&&u.jsx(ne,{icon:u.jsx(Cn,{"aria-hidden":!0,className:Bn.slettIkon}),onClick:()=>a(g),type:"button",variant:"tertiary"})})]},d.id)),N0=e=>u.jsxs(W.Row,{children:[u.jsx(W.DataCell,{children:u.jsx(G,{as:"p",size:"small",children:u.jsx(f,{id:"BeregningInfoPanel.FordelingBG.Sum"})})}),u.jsx(W.DataCell,{align:"right",children:u.jsx(le,{children:e})}),u.jsx(W.DataCell,{}),u.jsx(W.DataCell,{})]},"bruttoBGSummaryRow"),F0=()=>["BeregningInfoPanel.FordelingBG.Andel","BeregningInfoPanel.FordelingBG.Fordeling","BeregningInfoPanel.FordelingBG.Inntektskategori"],P0=e=>e[ke.INNTEKTSKATEGORI].slice().sort((n,r)=>n.navn.localeCompare(r.navn)),B0=e=>{const{andel:n,inntektskategori:r}=e;return{andelsinfo:n,inntektskategori:r}},O0=(e,n)=>Yp(e,B0,n)||null,zp=({name:e,readOnly:n,isAksjonspunktClosed:r,kodeverkSamling:t})=>{var i;const s=X(),{control:a}=me(),d=M.useContext(Ee),g=`${Vn}.${d}.${e}`,{fields:m,append:k,remove:p}=Me({control:a,name:g}),c=(i=t[ke.AKTIVITET_STATUS])==null?void 0:i.map(O=>O.kode),b=P0(t),I=On({name:g,control:a}),T=_0(I)||0,R=R0(m,r,n,b,s,g,p);R.push(N0(T));const S=O0(I,s),N=`${g}.skjemagruppe`,E=Er(N,S);return u.jsxs("div",{children:[u.jsxs(W,{size:"small",children:[u.jsx(W.Header,{children:u.jsxs(W.Row,{children:[F0().map(O=>{const $=["BeregningInfoPanel.FordelingBG.Fordeling","BeregningInfoPanel.FordelingBG.Inntektskategori"].includes(O);return u.jsx(W.HeaderCell,{scope:"col",align:$?"right":"left",children:u.jsx(G,{size:"small",as:"span",children:u.jsx(f,{id:O})})},O)}),u.jsx(W.HeaderCell,{})]})}),u.jsx(W.Body,{children:R})]}),!n&&u.jsx(D,{className:Bn.buttonRow,children:u.jsxs(y,{className:Bn.flexColumn3,children:[u.jsx(A,{eightPx:!0}),u.jsx(ne,{icon:u.jsx(mt,{"aria-hidden":!0,className:Bn.addCircleIcon}),onClick:()=>k(T0(c,t)),type:"button",variant:"tertiary",size:"small",children:u.jsx(f,{id:"BeregningInfoPanel.FordelingBG.LeggTilAndel"})})]})}),u.jsx(A,{eightPx:!0}),E&&u.jsx(Dn,{children:E})]})},Fo="besteberegningField",ht=({readOnly:e,isAksjonspunktClosed:n,brukersAndelFieldArrayName:r,skalViseInntektstabell:t,kodeverkSamling:i})=>{const{getValues:s}=me(),a=M.useContext(Ee),d=s(`${Vn}.${a}`)[Fo],g=X();return u.jsxs("div",{children:[u.jsx(ue,{name:`vurderFaktaBeregningForm.${a}.besteberegningField`,isReadOnly:e,label:u.jsx(f,{id:"KunYtelsePanel.HarBesteberegning"}),radios:[{value:"true",label:g.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:g.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:e?[]:[H],parse:_n,isHorizontal:!0}),d!=null&&u.jsxs(Qd,{alignOffset:d?0:60,children:[u.jsxs(D,{children:[u.jsx(y,{className:pr.flexColumn9,children:u.jsx(G,{size:"small",children:u.jsx(f,{id:"KunYtelsePanel.OverskriftBesteberegning"})})}),d&&u.jsx(y,{className:pr.flexColumn3,children:u.jsx("a",{className:pr.navetLink,href:aa,target:"_blank",rel:"noopener noreferrer",children:u.jsx(f,{id:"BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet"})})})]}),t&&u.jsx(D,{children:u.jsx(y,{className:pr.flexColumn12,children:u.jsx(zp,{name:r,readOnly:e,isAksjonspunktClosed:n,kodeverkSamling:i})})})]})]})};ht.defaultProps={erBesteberegning:void 0,skalViseInntektstabell:!0};ht.buildInitialValues=e=>({[Fo]:e.erBesteberegning});ht.transformValues=e=>e[Fo];const V0="_flexColumn9_csgl6_1",$0={flexColumn9:V0},D0=({readOnly:e,brukersAndelFieldArrayName:n,kodeverkSamling:r,isAksjonspunktClosed:t})=>u.jsxs(u.Fragment,{children:[u.jsx(D,{children:u.jsx(y,{className:$0.flexColumn9,children:u.jsx(G,{size:"medium",children:u.jsx(f,{id:"KunYtelsePanel.RapporterteInntekter"})})})}),u.jsx(A,{eightPx:!0}),u.jsx(zp,{name:n,readOnly:e,isAksjonspunktClosed:t,kodeverkSamling:r})]}),Jt="brukersAndelBG",Or=({readOnly:e,faktaOmBeregning:n,isAksjonspunktClosed:r,skalViseInntektstabell:t,kodeverkSamling:i})=>{const{kunYtelse:s}=n,a=s.fodendeKvinneMedDP;return u.jsxs("div",{children:[a&&u.jsx(ht,{readOnly:e,isAksjonspunktClosed:r,brukersAndelFieldArrayName:Jt,skalViseInntektstabell:t,kodeverkSamling:i}),!a&&t&&u.jsx(D0,{readOnly:e,brukersAndelFieldArrayName:Jt,isAksjonspunktClosed:r,kodeverkSamling:i})]})};Or.defaultProps={skalViseInntektstabell:!0};Or.buildInitialValues=(e,n,r,t)=>{if(!e||!e.andeler||e.andeler.length===0)return{};const i=e.andeler.map(a=>{const d=n.find(g=>g.andelsnr===a.andelsnr);if(!d)throw new Error(`Finner ikke faktaAndel med andelsnr ${a.andelsnr}`);return{...Kp(d,r,t),fastsattBelop:z(a.fastsattBelopPrMnd)||""}}),s={[Jt]:i};return e.fodendeKvinneMedDP?{...ht.buildInitialValues(e),...s}:s};Or.summerFordeling=e=>e[Jt].map(({fastsattBelop:n})=>n?de(n):0).reduce((n,r)=>n+r,0);Or.transformValues=(e,n)=>({kunYtelseFordeling:{andeler:e[Jt].map(r=>({andelsnr:r.andelsnr,fastsattBeløp:de(r.fastsattBelop),inntektskategori:r.inntektskategori,nyAndel:r.nyAndel,lagtTilAvSaksbehandler:r.lagtTilAvSaksbehandler})),skalBrukeBesteberegning:n.fodendeKvinneMedDP?ht.transformValues(e):null}});const{FASTSETT_BG_KUN_YTELSE:Gs,VURDER_BESTEBEREGNING:G0}=P,M0=(e,n,r,t,i,s,a)=>{n.includes(Gs)&&e.push(u.jsxs(M.Fragment,{children:[u.jsx(Or,{readOnly:r,isAksjonspunktClosed:t,faktaOmBeregning:i,kodeverkSamling:s}),a()]},"FASTSETT_BG_KUN_YTELSE"))},L0=(e,n,r)=>{if(r.includes(Gs)){const t=Or.transformValues(e,n),i=[Gs];return n.fodendeKvinneMedDP&&i.push(G0),{faktaOmBeregningTilfeller:i,...t}}return{}},K0=(e,n,r,t,i)=>n&&n.includes(Gs)?Or.buildInitialValues(e,r,t,i):{},Po="erSNNyIArbeidslivet",pi=({readOnly:e})=>{const n=M.useContext(Ee),r=X();return u.jsx("div",{children:u.jsx(ue,{label:u.jsxs(u.Fragment,{children:[u.jsx(f,{id:"BeregningInfoPanel.NyIArbeidslivet.SelvstendigNaeringsdrivende"}),u.jsx(Pe,{size:"small",header:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:u.jsxs(re,{size:"small",children:[u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.NyIArbeidslivet.HvordanGarJegFrem1"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.NyIArbeidslivet.HvordanGarJegFrem2"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.NyIArbeidslivet.HvordanGarJegFrem3"})})]})})]}),name:`vurderFaktaBeregningForm.${n}.${Po}`,validate:[H],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:_n})})};pi.buildInitialValues=e=>{var n;const r={};if(!e||!e.beregningsgrunnlagPeriode)return r;const t=e.beregningsgrunnlagPeriode.map(i=>i.beregningsgrunnlagPrStatusOgAndel).flat().filter(i=>(i==null?void 0:i.aktivitetStatus)===F.SELVSTENDIG_NAERINGSDRIVENDE);return t.length>0&&(r[Po]=(n=t[0])==null?void 0:n.erNyIArbeidslivet),r};pi.transformValues=e=>({vurderNyIArbeidslivet:{erNyIArbeidslivet:e[Po]}});const w0="BeregningInfoPanel.TidsbegrensetArbFor.Arbeidsforhold",Bo=e=>e&&e.arbeidsforhold?`${e.arbeidsforhold.arbeidsgiverIdent}(${e.arbeidsforhold.arbeidsforholdId})(${e.andelsnr})`:"",Ou=(e,n)=>{const r=n[e.arbeidsgiverIdent];return Nr(r,e.eksternArbeidsforholdId)},ci=({readOnly:e,faktaOmBeregning:n,arbeidsgiverOpplysningerPerId:r})=>{const t=n.kortvarigeArbeidsforhold,i=M.useContext(Ee),s=X();return u.jsx("div",{children:t.map((a,d)=>u.jsxs("div",{children:[d>0&&u.jsx(A,{twentyPx:!0}),u.jsx(ue,{label:u.jsxs(u.Fragment,{children:[u.jsx(f,{id:w0,values:{navn:Ou(a.arbeidsforhold,r),fom:x(a.arbeidsforhold.startdato).format(ee),tom:x(a.arbeidsforhold.opphoersdato).format(ee)}}),u.jsx(Pe,{size:"small",header:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:u.jsx(f,{id:"BeregningInfoPanel.TidsbegrensetArbeidsforholdForm.ReadMore"})})]}),name:`vurderFaktaBeregningForm.${i}.tidsbegrensetValues.${Bo(a)}`,isReadOnly:e,radios:[{value:"true",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[H],parse:_n})]},`fastsettTidsbegrensedeForhold_${Ou(a.arbeidsforhold,r)}`))})};ci.buildInitialValues=e=>{const n={};return e&&e.forEach(r=>{r.erTidsbegrensetArbeidsforhold!==void 0&&(n[Bo(r)]=r.erTidsbegrensetArbeidsforhold)}),n};ci.transformValues=(e,n)=>{const r=[];return n.forEach(t=>{const i=Bo(t),s=e.tidsbegrensetValues[i],a={andelsnr:t.andelsnr,tidsbegrensetArbeidsforhold:s,opprinneligVerdi:t.erTidsbegrensetArbeidsforhold};r.push(a)}),{vurderTidsbegrensetArbeidsforhold:{fastsatteArbeidsforhold:r}}};const Oo="vurderMilitær",vi=({readOnly:e})=>{const n=M.useContext(Ee),r=X();return u.jsx("div",{children:u.jsx(ue,{label:u.jsxs(u.Fragment,{children:[u.jsx(f,{id:"BeregningInfoPanel.VurderMilitaer.HarSøkerMilitærinntekt"}),u.jsx(Pe,{size:"small",header:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:u.jsxs(re,{size:"small",children:[u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.VurderMilitaer.HvordanGarJegFrem1"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.VurderMilitaer.HvordanGarJegFrem2"})})]})})]}),name:`vurderFaktaBeregningForm.${n}.${Oo}`,isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[H],parse:_n})})};vi.buildInitialValues=e=>{const n={};return!e||!e.vurderMilitaer||(n[Oo]=e.vurderMilitaer.harMilitaer),n};vi.transformValues=e=>({vurderMilitaer:{harMilitaer:e[Oo]}});const U0="_aksjonspunktBoks_tufis_1",C0={aksjonspunktBoks:U0},Y0=({children:e})=>u.jsx("div",{className:C0.aksjonspunktBoks,children:e}),z0="_buttonRow_11vqq_1",q0="_addPeriode_11vqq_4",H0="_customLink_11vqq_5",J0="_removeButton_11vqq_6",Z0="_addCircleIcon_11vqq_14",W0="_imageText_11vqq_15",X0="_flexColumn_11vqq_20",Hi={buttonRow:z0,addPeriode:q0,customLink:H0,removeButton:J0,addCircleIcon:Z0,imageText:W0,flexColumn:X0},Q0=e=>({andel:e.filter(({kode:n})=>n===F.DAGPENGER)[0].navn,aktivitetStatus:F.DAGPENGER,fastsattBelop:"",inntektskategori:kn.DAGPENGER,nyAndel:!0,skalKunneEndreAktivitet:!0,lagtTilAvSaksbehandler:!0}),Vu=({leggTilAndel:e,kodeverkSamling:n})=>{const r=n[ke.AKTIVITET_STATUS];return u.jsx(D,{className:Hi.buttonRow,children:u.jsx(y,{className:Hi.flexColumn,children:u.jsx(ne,{icon:u.jsx(mt,{"aria-hidden":!0,className:Hi.addCircleIcon}),onClick:()=>e(Q0(r)),type:"button",variant:"tertiary",children:u.jsx(le,{className:Hi.imageText,children:u.jsx(f,{id:"BeregningInfoPanel.FordelingBG.LeggTilDagpengerAndel"})})})})})},eB="_slettIkon_1sqjy_1",nB="_rightAlign_1sqjy_4",rB="_rightAlignInput_1sqjy_7",tB="_buttonRow_1sqjy_22",iB="_addPeriode_1sqjy_25",sB="_customLink_1sqjy_26",aB="_removeButton_1sqjy_27",lB="_addCircleIcon_1sqjy_30",dB="_imageText_1sqjy_31",oB="_readOnlyContainer_1sqjy_36",gB="_readOnlyContent_1sqjy_39",uB="_storBredde_1sqjy_44",mB="_mediumBredde_1sqjy_47",kB="_litenBredde_1sqjy_50",fB="_inntekt_1sqjy_53",pB="_inntektNew_1sqjy_57",cB="_inntektOld_1sqjy_61",vB="_inntektOldStrikethrough_1sqjy_64",bB="_saksbehandlerIcon_1sqjy_72",We={slettIkon:eB,rightAlign:nB,rightAlignInput:rB,buttonRow:tB,addPeriode:iB,customLink:sB,removeButton:aB,addCircleIcon:lB,imageText:dB,readOnlyContainer:oB,readOnlyContent:gB,storBredde:uB,mediumBredde:mB,litenBredde:kB,inntekt:fB,inntektNew:pB,inntektOld:cB,inntektOldStrikethrough:vB,saksbehandlerIcon:bB},hB=(e,n)=>{const r=[];return r.push("BeregningInfoPanel.FordelingBG.Andel"),e&&r.push("BeregningInfoPanel.FordelingBG.Arbeidsperiode"),r.push("BeregningInfoPanel.FordelingBG.Fordeling"),n&&r.push("BeregningInfoPanel.FordelingBG.Refusjonskrav"),r.push("BeregningInfoPanel.FordelingBG.Inntektskategori"),r},jB=e=>e.map(n=>u.jsx("option",{value:n.kode,children:n.navn},n.kode)),IB=e=>e[ke.INNTEKTSKATEGORI].slice().sort((n,r)=>n.navn.localeCompare(r.navn)),AB=()=>u.jsx(Dn,{size:"small",children:"Må fastsettes"}),xB=({field:e,skalVisePeriode:n,skalViseRefusjon:r,skalViseSletteknapp:t,readOnly:i,removeAndel:s,beregningsgrunnlag:a,kodeverkSamling:d,rowName:g,skalFastsetteInntektForAndel:m})=>{var k,p,c,b;const I=X(),{getValues:T}=me(),R=M.useContext(Ee),S=T(`vurderFaktaBeregningForm.${R}`),N=ka(e),E=wp(e),O=ma(e),$=Ht(S,a)(e),V=N&&$&&((k=S==null?void 0:S.frilansInntektValues)==null?void 0:k.fastsattBelop),L=O&&$&&!!Ds(S==null?void 0:S.arbeidstakerInntektValues,e.arbeidsgiverId),Z=E&&$&&((p=S==null?void 0:S.dagpengerInntektValues)==null?void 0:p.fastsattBelop),J=N&&$&&!((c=S==null?void 0:S.frilansInntektValues)!=null&&c.fastsattBelop)||O&&$&&!Ds(S==null?void 0:S.arbeidstakerInntektValues,e.arbeidsgiverId)||E&&$&&!((b=S==null?void 0:S.dagpengerInntektValues)!=null&&b.fastsattBelop),C=V||L||Z,B=qn(S),U=t0(a)(e),K=IB(d),w=e.arbeidsperiodeFom||e.arbeidsperiodeTom,Q=()=>L?`vurderFaktaBeregningForm.${R}.arbeidstakerInntektValues.${ed(S.arbeidstakerInntektValues,e.arbeidsgiverId)}.fastsattBelop`:V?`vurderFaktaBeregningForm.${R}.frilansInntektValues.fastsattBelop`:Z?`vurderFaktaBeregningForm.${R}.dagpengerInntektValues.fastsattBelop`:"";return u.jsxs(W.Row,{children:[u.jsx(W.DataCell,{children:u.jsx(pe,{size:"small",name:`${g}.andel`,className:We.storBredde,readOnly:!0})}),u.jsx(W.DataCell,{children:n&&w&&u.jsx(Kk,{value:u.jsx(Ge,{size:"small",dateStringFom:e.arbeidsperiodeFom,dateStringTom:e.arbeidsperiodeTom})})}),!B&&u.jsx(W.DataCell,{align:"right",children:u.jsxs("div",{className:We.inntekt,children:[u.jsx("div",{className:C?We.inntektOldStrikethrough:We.inntektOld,children:J?AB():u.jsx(pe,{size:"small",name:`${g}.belopReadOnly`,className:We.mediumBredde,parse:ye,readOnly:!0})}),C&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:We.inntektNew,children:u.jsx(pe,{size:"small",name:Q(),className:We.mediumBredde,parse:ye,readOnly:!0})}),u.jsx(Nb,{title:"Endret av saksbehandler",className:We.saksbehandlerIcon})]})]})}),B&&u.jsx(W.DataCell,{align:"right",children:u.jsx(pe,{size:"small",label:I.formatMessage({id:"BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn"},{andel:e.andel}),name:`${g}.fastsattBelop`,parse:ye,className:We.mediumBredde,validate:m(e)?[H,en(178956970)]:[],hideLabel:!0})}),r&&u.jsx(W.DataCell,{align:"right",children:u.jsx(pe,{size:"small",name:`${g}.refusjonskrav`,className:We.litenBredde,readOnly:!0,parse:ye})}),u.jsx(W.DataCell,{align:"right",children:u.jsx(kt,{label:I.formatMessage({id:"BeregningInfoPanel.FordelingBG.Inntektskategori"}),name:`${g}.inntektskategori`,className:We.storBredde,selectValues:jB(K),validate:i?[]:[H],readOnly:i||!U,size:"small",hideLabel:!0})}),t&&u.jsx(W.DataCell,{children:u.jsx(ne,{icon:u.jsx(Cn,{"aria-hidden":!0,className:We.slettIkon}),onClick:()=>s(),type:"button",variant:"tertiary"})})]})},yB=(e,n,r)=>{let t=0;return e.forEach(i=>{var s,a,d;let g;if(Ht(n,r)(i)){const m=ka(i),k=ma(i),p=wp(i);i.fastsattBelop&&qn(n)?g=i.fastsattBelop:m&&(s=n==null?void 0:n.frilansInntektValues)!=null&&s.fastsattBelop?g=n.frilansInntektValues.fastsattBelop:k&&(a=n==null?void 0:n.arbeidstakerInntektValues[ed(n.arbeidstakerInntektValues,i.arbeidsgiverId)])!=null&&a.fastsattBelop?g=n.arbeidstakerInntektValues[ed(n.arbeidstakerInntektValues,i.arbeidsgiverId)].fastsattBelop:p&&(d=n==null?void 0:n.dagpengerInntektValues)!=null&&d.fastsattBelop?g=n.dagpengerInntektValues.fastsattBelop:i.fastsattBelop&&!qn(n)?g=0:g=i.fastsattBelop}else g=i.belopReadOnly;t+=g?de(g):0}),t>0?t:0},TB=({skalVisePeriode:e,skalViseRefusjon:n,readOnly:r,beregningsgrunnlag:t})=>{const{control:i,getValues:s}=me(),a=M.useContext(Ee),d=s(`vurderFaktaBeregningForm.${a}`),g=On({control:i,name:`vurderFaktaBeregningForm.${a}.inntektFieldArray`}),m=yB(g,d,t)||0;return u.jsxs(W.Row,{children:[u.jsx(W.DataCell,{children:u.jsx(G,{as:"p",size:"small",children:u.jsx(f,{id:"BeregningInfoPanel.FordelingBG.Sum"})})}),e&&u.jsx(W.DataCell,{}),u.jsx(W.DataCell,{align:"right",children:u.jsx("div",{className:We.readOnlyContainer,children:u.jsx(G,{as:"p","data-testid":"sum",className:r?We.readOnlyContent:"",size:"small",children:z(m)})})}),n&&u.jsx(W.DataCell,{}),u.jsx(W.DataCell,{})]})},EB=e=>({andel:e.find(({kode:n})=>n===F.DAGPENGER).navn,aktivitetStatus:F.DAGPENGER,fastsattBelop:"",inntektskategori:kn.DAGPENGER,nyAndel:!0,skalKunneEndreAktivitet:!1,lagtTilAvSaksbehandler:!0}),_B=e=>({andel:e.find(({kode:n})=>n===F.MILITAER_ELLER_SIVIL).navn,aktivitetStatus:F.MILITAER_ELLER_SIVIL,fastsattBelop:"",inntektskategori:kn.ARBEIDSTAKER,nyAndel:!0,skalKunneEndreAktivitet:!1,lagtTilAvSaksbehandler:!0}),SB=(e,n,r)=>n[e].skalKunneEndreAktivitet===!0&&!r,rd=e=>{let n=!1;return e.forEach(r=>{r.refusjonskrav!==""&&r.refusjonskrav!==null&&r.refusjonskrav!==void 0&&(n=!0)}),n},td=e=>{let n=!1;return e.forEach(r=>{r.arbeidsgiverId!==""&&(n=!0)}),n},RB=(e,n)=>()=>{n(e)},NB=(e,n,r)=>u.jsx(TB,{readOnly:n,skalVisePeriode:td(e),skalViseRefusjon:rd(e),beregningsgrunnlag:r},"summaryRow"),qp=(e,n)=>{let r=-1;return e.forEach((t,i)=>{t.aktivitetStatus===n&&(r=i)}),r},$u=e=>qp(e,F.DAGPENGER)!==-1,Hp=(e,n,r,t,i,s,a,d)=>{const g=qp(e,n);if(g!==-1){const m=e[g];t(m)&&a(g)}g===-1&&r&&d({...i})},Du=e=>e===F.FRILANSER,Gu=e=>e===F.ARBEIDSTAKER,Mu=e=>e===F.DAGPENGER,FB=(e,n,r,t,i,s,a)=>{Hp(e,F.DAGPENGER,n,d=>!n&&!t&&d.lagtTilAvSaksbehandler,EB(r),i,s,a)},PB=(e,n,r,t,i,s)=>{Hp(e,F.MILITAER_ELLER_SIVIL,n===!0,()=>n===!1,_B(r),t,i,s)},BB=(e,n)=>u0(e,n)??null,OB=(e,n,r)=>n&&n.length>0?null:o0(e.inntektFieldArray,r)||(qn(e)?BB(e.inntektFieldArray,r):null),jt=({readOnly:e,skalKunneLeggeTilDagpengerManuelt:n,beregningsgrunnlag:r,kodeverkSamling:t})=>{var i,s;const{getValues:a,control:d,formState:g}=me(),{errors:m}=g,k=M.useContext(Ee),p=`vurderFaktaBeregningForm.${k}.inntektFieldArray`,{fields:c,remove:b,append:I,update:T}=Me({control:d,name:p}),R=On({control:d,name:`vurderFaktaBeregningForm.${k}`}),S=On({control:d,name:`vurderFaktaBeregningForm.${k}.vurderbesteberegningField`}),N=On({control:d,name:`vurderFaktaBeregningForm.${k}.vurderMilitær`}),E=X(),O=j.useCallback(()=>Ht(R,r),[R,r]);j.useEffect(()=>{const B=a(`vurderFaktaBeregningForm.${k}.inntektFieldArray`),U=t[ke.AKTIVITET_STATUS];PB(B,N,U,O,b,I),FB(B,S,U,n,O,b,I)},[S,N,n]);const $=(B,U)=>{T(B,{...c[B],kanRedigereInntekt:U})};j.useEffect(()=>{c.forEach((B,U)=>{const K=B.kanRedigereInntekt,w=Ht(R,r)(B);!(!S&&!n&&B.lagtTilAvSaksbehandler)&&K!==w&&$(U,w)})},[R]);const V=(s=(i=m==null?void 0:m.vurderFaktaBeregningForm)==null?void 0:i[k])==null?void 0:s.inntektFieldArray,L=OB(R,V,E),Z=`${p}.skjemagruppe`,J=Er(Z,L),C=c.map((B,U)=>u.jsx(xB,{field:B,skalVisePeriode:td(c),skalViseRefusjon:rd(c),skalViseSletteknapp:SB(U,c,e),readOnly:e,removeAndel:RB(U,b),beregningsgrunnlag:r,kodeverkSamling:t,rowName:`${p}.${U}`,skalFastsetteInntektForAndel:Cp(R,r.faktaOmBeregning,r)},B.id));return C.length===0?n?u.jsxs("div",{children:[!e&&!$u(c)&&u.jsx(Vu,{leggTilAndel:I,kodeverkSamling:t}),u.jsx(A,{eightPx:!0}),J&&u.jsx(Dn,{children:J})]}):null:(C.push(NB(c,e,r)),u.jsxs("div",{children:[u.jsxs(W,{size:"small",children:[u.jsx(W.Header,{children:u.jsx(W.Row,{children:hB(td(c),rd(c)).map(B=>{const U=["BeregningInfoPanel.FordelingBG.Fordeling","BeregningInfoPanel.FordelingBG.Refusjonskrav","BeregningInfoPanel.FordelingBG.Inntektskategori"].includes(B);return u.jsx(W.HeaderCell,{scope:"col",align:U?"right":"left",children:u.jsx(G,{size:"small",as:"span",children:u.jsx(f,{id:B})})},B)})})}),u.jsx(W.Body,{children:C})]}),!e&&n&&!$u(c)&&u.jsx(Vu,{leggTilAndel:I,kodeverkSamling:t}),u.jsx(A,{eightPx:!0}),J&&u.jsx(Dn,{children:J})]}))};jt.defaultProps={skalKunneLeggeTilDagpengerManuelt:!1};jt.transformValues=(e,n,r,t,i)=>{if(!e)return null;const s=a=>{const d=i&&a.fastsattBelop||Du(a.aktivitetStatus)&&(n==null?void 0:n.fastsattBelop)||Gu(a.aktivitetStatus)&&Ds(r,a.arbeidsgiverId)||Mu(a.aktivitetStatus)&&(t==null?void 0:t.fastsattBelop)||a.fastsattBelop;return{andelsnr:a.andelsnr,fastsattBelop:de(d),inntektskategori:a.inntektskategori,nyAndel:a.nyAndel,lagtTilAvSaksbehandler:a.lagtTilAvSaksbehandler,aktivitetStatus:a.aktivitetStatus,arbeidsforholdId:a.arbeidsforholdId,arbeidsgiverId:a.arbeidsgiverId}};return e.filter(({kanRedigereInntekt:a})=>a).filter(({fastsattBelop:a,aktivitetStatus:d,arbeidsgiverId:g})=>a!==null&&a!==""||Du(d)&&n.fastsattBelop||Gu(d)&&Ds(r,g)||Mu(d)&&t.fastsattBelop).map(s)};jt.buildInitialValues=(e,n,r)=>!e||e.length===0?[]:e.map(t=>i0(t,n,r));const{VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT:VB}=P,$B="erKravGyldig_",Vo=e=>$B+e,DB=(e,n,r,t)=>e.map(i=>{const{arbeidsgiverIdent:s}=i,a=r[s],d=a?Nr(a):s,g=X();return u.jsx(M.Fragment,{children:u.jsx(ue,{label:u.jsxs(u.Fragment,{children:[u.jsx(f,{id:"VurderRefusjonForm.ErRefusjonskravGyldig",values:{arbeidsgiverVisningsnavn:d}}),u.jsx(Pe,{size:"small",header:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:u.jsx(f,{id:"VurderRefusjonForm.ReadMore"})})]}),name:`vurderFaktaBeregningForm.${t}.vurderRefusjonValues.${Vo(s)}`,validate:[H],isReadOnly:n,radios:[{value:"true",label:g.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:g.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:_n})},s)}),bi=({readOnly:e,faktaOmBeregning:n,arbeidsgiverOpplysningerPerId:r})=>{const t=M.useContext(Ee),i=n==null?void 0:n.refusjonskravSomKommerForSentListe;return u.jsx(u.Fragment,{children:DB(i,e,r,t)})};bi.transformValues=e=>n=>e.length===0?{}:{refusjonskravGyldighet:e.map(({arbeidsgiverIdent:r})=>({arbeidsgiverId:r,skalUtvideGyldighet:n.vurderRefusjonValues[Vo(r)]}))};bi.buildInitialValues=(e,n)=>{const r={};return!e.includes(VB)||n.length===0?r:(n.forEach(({arbeidsgiverIdent:t,erRefusjonskravGyldig:i})=>{r[Vo(t)]=i}),{...r})};const GB=(e,n,r)=>{if((n.faktaOmBeregningTilfeller?n.faktaOmBeregningTilfeller:[]).map(t=>t).includes(P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON)&&e){const t=e.filter(i=>!r.includes(i.andelsnr)).filter(i=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe.map(({andelsnr:s})=>s).includes(i.andelsnr)).map(i=>({andelsnr:i.andelsnr,arbeidsinntekt:i.fastsattBelop}));if(n.frilansAndel&&!r.includes(n.frilansAndel.andelsnr)){const i=e.find(s=>s.andelsnr===n.frilansAndel.andelsnr);t.push({andelsnr:n.frilansAndel.andelsnr,arbeidsinntekt:i.fastsattBelop})}if(t.forEach(i=>r.push(i.andelsnr)),t.length>0)return{faktaOmBeregningTilfeller:[P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON],vurderATogFLiSammeOrganisasjon:{vurderATogFLiSammeOrganisasjonAndelListe:t}}}return{faktaOmBeregningTilfeller:[]}},MB=(e,n)=>n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(r=>r.andelsnr===e.andelsnr&&r.arbeidsforhold&&r.arbeidsforhold.organisasjonstype&&r.arbeidsforhold.organisasjonstype===ti.KUNSTIG)!==void 0,LB=(e,n,r,t,i)=>{const s=r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[];if(!s.map(g=>g).includes(P.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING)&&!s.map(g=>g).includes(P.VURDER_LONNSENDRING))return{};if(!n)return{};const a=n.filter(g=>!i.includes(g.andelsnr)).filter(g=>Yf(g,t,g.arbeidsforholdId)||MB(g,t)||$_(g,r,e));a.forEach(g=>i.push(g.andelsnr));const d=a.map(g=>({andelsnr:g.andelsnr,fastsattBeløp:de(g.fastsattBelop),inntektskategori:g.inntektskategori}));return d.length>0?{faktaOmBeregningTilfeller:[P.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING],fastsattUtenInntektsmelding:{andelListe:d}}:{}},Ha=e=>e==null?void 0:e.includes(P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON),Lu=({beregningsgrunnlag:e,readOnly:n,isAksjonspunktClosed:r,tilfeller:t,arbeidsgiverOpplysningerPerId:i})=>{var s,a,d,g,m,k;const{getValues:p}=me(),c=M.useContext(Ee),b=p(`vurderFaktaBeregningForm.${c}`),I=p([`vurderFaktaBeregningForm.${c}.vurderMottarYtelseValues.${xr()}`,`vurderFaktaBeregningForm.${c}.${Ln}`]),T=I.includes(!0),R=p([`vurderFaktaBeregningForm.${c}.${at}`,`vurderFaktaBeregningForm.${c}.${ir}`]),S=p([`vurderFaktaBeregningForm.${c}.${er}`]).includes(!0),N=(d=(a=(s=e==null?void 0:e.faktaOmBeregning)==null?void 0:s.vurderMottarYtelse)==null?void 0:a.arbeidstakerAndelerUtenIM)==null?void 0:d.filter(K=>{const w=p(`vurderFaktaBeregningForm.${c}.vurderMottarYtelseValues`);return w==null?void 0:w[Br(K)]}),E=R.includes(!0),O=p(`vurderFaktaBeregningForm.${c}.${ir}`),$=`vurderFaktaBeregningForm.${c}.frilansInntektValues.fastsattBelop`,V=`vurderFaktaBeregningForm.${c}.dagpengerInntektValues.fastsattBelop`,L=e.faktaOmBeregning.andelerForFaktaOmBeregning.filter(K=>K.aktivitetStatus===F.ARBEIDSTAKER),{arbeidstakerOgFrilanserISammeOrganisasjonListe:Z}=e.faktaOmBeregning,J=(g=Ha(t)&&E?Z==null?void 0:Z.filter(K=>!(L!=null&&L.find(w=>w.arbeidsforhold.arbeidsgiverIdent===K.arbeidsforhold.arbeidsgiverIdent))):Z)==null?void 0:g.filter(K=>Ht(b,e)(K)),C=(k=(m=e==null?void 0:e.faktaOmBeregning)==null?void 0:m.arbeidstakerOgFrilanserISammeOrganisasjonListe)==null?void 0:k.some(K=>!!K.inntektPrMnd),B=K=>{var w;const Q=(w=i[K.arbeidsforhold.arbeidsgiverIdent])==null?void 0:w.navn;return p(`vurderFaktaBeregningForm.${c}.${at}`)&&R.filter(ve=>ve===!0).length===1?u.jsxs(u.Fragment,{children:[u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.ManedsinntektBedrift",values:{bedrift:`${Q} (${K.arbeidsforhold.arbeidsgiverIdent})`}}),u.jsx(Pe,{size:"small",header:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:u.jsxs(re,{size:"small",children:[u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.LonnsendringFremgangsmate1"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.LonnsendringFremgangsmate2"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.LonnsendringFremgangsmate3"})})]})})]}):u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.ManedsinntektBedrift",values:{bedrift:`${Q} (${K.arbeidsforhold.arbeidsgiverIdent})`}})},U=()=>{const K=I.filter(Q=>Q===!0).length>1,w=p([`vurderFaktaBeregningForm.${c}.${Ln}`]);return Ha(t)||K?u.jsx(f,{id:"BeregningInfoPanel.VurderMottarYtelse.FastsettManedsinntektFrilans"}):p(`vurderFaktaBeregningForm.${c}.vurderMottarYtelseValues.${xr()}`)?u.jsxs(u.Fragment,{children:[u.jsx(f,{id:"BeregningInfoPanel.VurderMottarYtelse.FastsettManedsinntektFrilans"}),u.jsx(Pe,{size:"small",header:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:u.jsxs(re,{size:"small",children:[u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.FrilanserFremgangsmate1"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.FrilanserFremgangsmate2"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.FrilanserFremgangsmate3"})})]})})]}):w?u.jsxs(u.Fragment,{children:[u.jsx(f,{id:"BeregningInfoPanel.VurderMottarYtelse.FastsettManedsinntektFrilans"}),u.jsx(Pe,{size:"small",header:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:u.jsxs(re,{size:"small",children:[u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.NyoppstartetFrilansFremgangsmate1"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.NyoppstartetFrilansFremgangsmate2",values:{br:u.jsx("br",{})}})})]})})]}):null};return u.jsxs(u.Fragment,{children:[Ha(t)&&u.jsxs(u.Fragment,{children:[u.jsx(G,{children:u.jsx(f,{id:C?"BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLFrilans":"BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLSamlet"})}),u.jsx(Pe,{size:"small",header:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:u.jsxs(re,{size:"small",children:[u.jsx(re.Item,{children:u.jsx(f,{id:C?"BeregningInfoPanel.InntektInputFields.ATFLSammeOrgFremgangsmate1MedIM":"BeregningInfoPanel.InntektInputFields.ATFLSammeOrgFremgangsmate1",values:{br:u.jsx("br",{})}})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.ATFLSammeOrgFremgangsmate2"})})]})}),J==null?void 0:J.map(K=>u.jsx(Ut,{arbeidsgiver:K,readOnly:n,isAksjonspunktClosed:r,arbeidsgiverOpplysningerPerId:i},K.arbeidsforhold.arbeidsgiverIdent))]}),T&&u.jsxs(u.Fragment,{children:[u.jsx(A,{thirtyTwoPx:!0}),u.jsx(it,{name:$,readOnly:n,isAksjonspunktClosed:r,label:U()})]}),E||S?L.filter(K=>S&&!E?K.arbeidsforhold.arbeidsforholdType===mn.ETTERLONN_SLUTTPAKKE:!0).map(K=>u.jsx(Ut,{arbeidsgiver:K,readOnly:n,isAksjonspunktClosed:r,label:B(K),arbeidsgiverOpplysningerPerId:i},K.arbeidsforhold.arbeidsgiverIdent)):N==null?void 0:N.map(K=>u.jsx(Ut,{arbeidsgiver:K,readOnly:n,isAksjonspunktClosed:r,label:B(K),arbeidsgiverOpplysningerPerId:i},K.arbeidsforhold.arbeidsgiverIdent)),O&&u.jsxs(u.Fragment,{children:[(T||E)&&u.jsx(A,{thirtyTwoPx:!0}),u.jsx(it,{name:V,readOnly:n,isAksjonspunktClosed:r,label:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.ManedsinntektDagpenger"})})]})]})},KB=[P.VURDER_NYOPPSTARTET_FL,P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON],wB=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForArbeid",UB=(e,n,r)=>{var t;const i=r[e.arbeidsgiverIdent];let s;return i?s=Nr(i,e.eksternArbeidsforholdId):s=e.arbeidsforholdType?(t=n[ke.OPPTJENING_AKTIVITET_TYPE].find(a=>a.kode===e.arbeidsforholdType))==null?void 0:t.navn:"",u.jsx(f,{id:wB(),values:{arbeid:s}})},CB=(e,n,r,t,i,s)=>u.jsx("div",{children:u.jsx(ue,{label:u.jsxs(u.Fragment,{children:[UB(e.arbeidsforhold,r,t),u.jsx(Pe,{size:"small",header:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:u.jsxs(re,{size:"small",children:[u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseArbeidsforhold.HvordanGarJegFrem1"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseArbeidsforhold.HvordanGarJegFrem2"})})]})})]}),name:`vurderFaktaBeregningForm.${i}.vurderMottarYtelseValues.${Br(e)}`,isReadOnly:n,radios:[{value:"true",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.NeiBrukerAInntekt"})}],parse:_n,validate:n?[]:[H]})}),YB=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilansUtenFrilans",zB=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilans",qB=e=>e.some(n=>KB.includes(n))?YB():zB(),Ms=e=>e==null?void 0:e.includes(P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON),hi=({readOnly:e,beregningsgrunnlag:n,tilfeller:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i})=>{const s=M.useContext(Ee),a=n.faktaOmBeregning?n.faktaOmBeregning.vurderMottarYtelse:void 0,d=a&&a.erFrilans,g=a&&a.arbeidstakerAndelerUtenIM?a.arbeidstakerAndelerUtenIM:[],m=X();return u.jsxs("div",{children:[d&&!Ms(r)&&u.jsx("div",{children:u.jsx(ue,{label:u.jsxs(u.Fragment,{children:[u.jsx(f,{id:qB(r)}),u.jsx(Pe,{size:"small",header:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFrem"}),children:u.jsxs(re,{size:"small",children:[u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.VurderMottarYtelse.Frilans.HvordanGarJegFrem1"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.VurderMottarYtelse.Frilans.HvordanGarJegFrem2"})})]})})]}),name:`vurderFaktaBeregningForm.${s}.vurderMottarYtelseValues.${xr()}`,isReadOnly:e,radios:[{value:"true",label:m.formatMessage({id:"BeregningInfoPanel.FormAlternativ.JaMaanedsinntektMaaFastsettes"})},{value:"false",label:m.formatMessage({id:"BeregningInfoPanel.FormAlternativ.NeiBrukerAInntekt"})}],parse:_n,validate:e?[]:[H]})}),g.map((k,p)=>u.jsxs(M.Fragment,{children:[p>0&&u.jsx(A,{twentyPx:!0}),CB(k,e,t,i,s,m)]},Br(k))),Ms(r)&&g.length>0&&u.jsx(A,{thirtyTwoPx:!0})]})},HB=(e,n,r,t,i,s)=>{if(n===null)return{};if(FP(e,r.vurderMottarYtelse)){const a=[],d=Mp(e,r.vurderMottarYtelse,t);return r.vurderMottarYtelse.arbeidstakerAndelerUtenIM.forEach(g=>{if(d[g.andelsnr]&&!i.includes(g.andelsnr)){const m=n.find(k=>k.andelsnr===g.andelsnr).fastsattBelop;(m||m===0)&&(a.push({andelsnr:g.andelsnr,fastsattBeløp:de(m)}),i.push(g.andelsnr))}}),a.length>0?(s.push(P.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING),{fastsattUtenInntektsmelding:{andelListe:a}}):{}}return{}},JB=(e,n,r,t,i)=>{if(n===null)return{};if(e.vurderMottarYtelseValues[xr()]){const s=r.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(a=>a.aktivitetStatus===F.FRILANSER);if(!t.includes(s.andelsnr)&&Gp(e)){const a=e.frilansInntektValues;return t.push(s.andelsnr),i.push(P.FASTSETT_MAANEDSINNTEKT_FL),{fastsettMaanedsinntektFL:{maanedsinntekt:de(a.fastsattBelop)}}}return{}}return{}},ZB=(e,n,r)=>{const t=n.vurderMottarYtelse.arbeidstakerAndelerUtenIM?n.vurderMottarYtelse.arbeidstakerAndelerUtenIM:[];return r.push(P.VURDER_MOTTAR_YTELSE),{mottarYtelse:{frilansMottarYtelse:e.vurderMottarYtelseValues[xr()],arbeidstakerUtenIMMottarYtelse:t.map(i=>({andelsnr:i.andelsnr,mottarYtelse:e.vurderMottarYtelseValues[Br(i)]}))}}};hi.buildInitialValues=(e,n)=>{const r={};(e!=null&&e.erFrilans||Ms(n))&&(r[xr()]=Ms(n)?!0:e.frilansMottarYtelse);const t=e!=null&&e.arbeidstakerAndelerUtenIM?e.arbeidstakerAndelerUtenIM:[];return t.length<1||t.forEach(i=>{r[Br(i)]=i.mottarYtelse}),r};hi.transformValues=(e,n,r,t,i)=>{const s=[];return(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).map(a=>a).includes(P.VURDER_MOTTAR_YTELSE)?{...ZB(e,r,s),...HB(e,n,r,t,i,s),...JB(e,n,t,i,s),faktaOmBeregningTilfeller:s}:{}};const WB=e=>!e.includes(P.FASTSETT_BG_KUN_YTELSE),XB=(e,n,r,t)=>u.jsx(jt,{readOnly:e,skalKunneLeggeTilDagpengerManuelt:t,beregningsgrunnlag:n,kodeverkSamling:r}),ji=({readOnly:e,isAksjonspunktClosed:n,tilfeller:r,beregningsgrunnlag:t,avklaringsbehov:i,kodeverkSamling:s,erOverstyrer:a,updateOverstyring:d,renderTextFieldAndSubmitButton:g,arbeidsgiverOpplysningerPerId:m,vilkarsperiodeSkalVurderesIBehandlingen:k})=>{const{getValues:p}=me(),c=M.useContext(Ee),b=p(`vurderFaktaBeregningForm.${c}`),I=j.useMemo(()=>Ro(b),[b,t,i]),T=j.useMemo(()=>WB(r),[r]),R=()=>{const S=[],N=[];let E=!1;const{faktaOmBeregning:O}=t;return r.includes(P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD)&&(E=!0,N.push(P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD),S.push(u.jsx(M.Fragment,{children:u.jsx(ci,{readOnly:e,faktaOmBeregning:O,arbeidsgiverOpplysningerPerId:m})},P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD))),r.includes(P.VURDER_SN_NY_I_ARBEIDSLIVET)&&(E=!0,N.push(P.VURDER_SN_NY_I_ARBEIDSLIVET),S.push(u.jsx(M.Fragment,{children:u.jsx(pi,{readOnly:e})},P.VURDER_SN_NY_I_ARBEIDSLIVET))),r.includes(P.VURDER_MILITÆR_SIVILTJENESTE)&&(E=!0,N.push(P.VURDER_MILITÆR_SIVILTJENESTE),S.push(u.jsx(M.Fragment,{children:u.jsx(vi,{readOnly:e})},P.VURDER_MILITÆR_SIVILTJENESTE))),r.includes(P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT)&&(E=!0,N.push(P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT),S.push(u.jsx(M.Fragment,{children:u.jsx(bi,{readOnly:e,arbeidsgiverOpplysningerPerId:m,faktaOmBeregning:O})},P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT))),r.includes(P.VURDER_LONNSENDRING)&&(E=!0,N.push(P.VURDER_LONNSENDRING),S.push(u.jsx(M.Fragment,{children:u.jsx(oi,{readOnly:e})},P.VURDER_LONNSENDRING))),r.includes(P.VURDER_ETTERLONN_SLUTTPAKKE)&&(E=!0,N.push(P.VURDER_ETTERLONN_SLUTTPAKKE),S.push(u.jsx(M.Fragment,{children:u.jsx(ki,{beregningsgrunnlag:t,isAksjonspunktClosed:n,readOnly:e})},P.VURDER_ETTERLONN_SLUTTPAKKE))),r.includes(P.VURDER_NYOPPSTARTET_FL)&&(E=!0,N.push(P.VURDER_NYOPPSTARTET_FL),S.push(u.jsx(M.Fragment,{children:u.jsx(gi,{readOnly:e})},P.VURDER_NYOPPSTARTET_FL))),r.includes(P.VURDER_BESTEBEREGNING)&&!r.includes(P.FASTSETT_BG_KUN_YTELSE)&&(E=!0,N.push(P.VURDER_BESTEBEREGNING),S.push(u.jsx(M.Fragment,{children:u.jsx(fi,{readOnly:e,erOverstyrt:I})},P.VURDER_BESTEBEREGNING))),(r.includes(P.VURDER_MOTTAR_YTELSE)||r.includes(P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON))&&(E=!0,N.push(P.VURDER_MOTTAR_YTELSE),S.push(u.jsx(M.Fragment,{children:u.jsx(hi,{readOnly:e,tilfeller:r,beregningsgrunnlag:t,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:m})},P.VURDER_MOTTAR_YTELSE))),k?E&&!qn(b)?e?u.jsxs(u.Fragment,{children:[u.jsx(A,{thirtyTwoPx:!0}),S.map(($,V)=>u.jsxs(M.Fragment,{children:[V>0&&u.jsx(A,{thirtyTwoPx:!0}),$]},N[V])),u.jsx(Lu,{beregningsgrunnlag:t,isAksjonspunktClosed:n,readOnly:e,tilfeller:r,arbeidsgiverOpplysningerPerId:m}),g()]}):u.jsxs(u.Fragment,{children:[u.jsx(A,{thirtyTwoPx:!0}),u.jsxs(Y0,{children:[S.map(($,V)=>u.jsxs(M.Fragment,{children:[V>0&&u.jsx(A,{thirtyTwoPx:!0}),$]},N[V])),u.jsx(Lu,{beregningsgrunnlag:t,isAksjonspunktClosed:n,readOnly:e,tilfeller:r,arbeidsgiverOpplysningerPerId:m}),g()]})]}):qn(b)?u.jsxs(u.Fragment,{children:[u.jsx(A,{thirtyTwoPx:!0}),g()]}):null:null};return u.jsxs("div",{children:[u.jsx(la,{tabell:XB(e,t,s,I),skalViseTabell:T,readOnly:e,erOverstyrer:a,avklaringsbehov:i,updateOverstyring:d,erOverstyrt:I},"inntektstabell"),R()]})};ji.buildInitialValues=(e,n,r,t)=>{if(!e)return{};const i=e.andelerForFaktaOmBeregning;return i.length===0?{}:{[Lp]:jt.buildInitialValues(i,r,t),...la.buildInitialValues(n)}};const ur=(e,n)=>({...e,...n,faktaOmBeregningTilfeller:n.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller.concat(n.faktaOmBeregningTilfeller):e.faktaOmBeregningTilfeller}),QB=(e,n,r,t)=>{if(qn(e)){const i=r.filter(s=>!t.includes(s.andelsnr)).filter(s=>s.fastsattBelop!=null).map(s=>({andelsnr:s.andelsnr,nyAndel:s.nyAndel,aktivitetStatus:s.aktivitetStatus,lagtTilAvSaksbehandler:s.lagtTilAvSaksbehandler,fastsatteVerdier:{fastsattBeløp:s.fastsattBelop,inntektskategori:s.inntektskategori}}));return{fakta:n,overstyrteAndeler:i}}return{fakta:n}},eO=(e,n,r,t,i)=>{const s=t.faktaOmBeregningTilfeller?t.faktaOmBeregningTilfeller.map(d=>d):[];let a={faktaOmBeregningTilfeller:[]};if(s.length>0){a=ur(a,DP(t)(e,n));const d=e[ir]===!0;a=ur(a,gi.transformValues(e,d?null:n,t,r)),a=ur(a,ki.transformValues(e,d?null:n,t,r)),a=ur(a,oi.transformValues(e,t)),a=ur(a,hi.transformValues(e,d?null:n,t,i,r)),a=ur(a,GB(d?null:n,t,r)),a=ur(a,LB(e,d?null:n,t,i,r))}return a};ji.transformValues=(e,n)=>r=>{const t=jt.transformValues(r[Lp],r.frilansInntektValues,r.arbeidstakerInntektValues,r.dagpengerInntektValues,r.manuellOverstyringRapportertInntekt),i=[],s=eO(r,t,i,e,n);return QB(r,s,t,i)};const{VURDER_FAKTA_FOR_ATFL_SN:nO}=$e,Ku=e=>{var n;return((n=lr(e))==null?void 0:n.kortvarigeArbeidsforhold)||void 0},wu=e=>{var n;return((n=lr(e))==null?void 0:n.kunYtelse)||void 0},Uu=e=>{var n;return((n=lr(e))==null?void 0:n.vurderMottarYtelse)||void 0},rO=e=>{var n;return((n=lr(e))==null?void 0:n.vurderBesteberegning)||void 0},tO=e=>{var n;return((n=lr(e))==null?void 0:n.refusjonskravSomKommerForSentListe)||[]},iO=e=>e?u.jsx(A,{twentyPx:!0}):null,sO=(e,n,r,t,i,s,a,d,g,m)=>{const{avklaringsbehov:k}=r,p=No(r),c=lr(r),b=[];return M0(b,p,e,n,c,t,g),b.push(u.jsxs(M.Fragment,{children:[iO(!0),u.jsx(ji,{readOnly:e,isAksjonspunktClosed:n,tilfeller:p,beregningsgrunnlag:r,kodeverkSamling:t,erOverstyrer:i,avklaringsbehov:k,updateOverstyring:a,renderTextFieldAndSubmitButton:g,arbeidsgiverOpplysningerPerId:s,vilkarsperiodeSkalVurderesIBehandlingen:m})]},"VurderOgFastsettATFL")),b},aO=({readOnly:e,isAksjonspunktClosed:n,beregningsgrunnlag:r,kodeverkSamling:t,erOverstyrer:i,arbeidsgiverOpplysningerPerId:s,updateOverstyring:a,renderTextFieldAndSubmitButton:d,vilkarsperiodeSkalVurderesIBehandlingen:g})=>{const{avklaringsbehov:m}=r,{getValues:k}=me(),p=M.useContext(Ee),c=k(`vurderFaktaBeregningForm.${p}`),b=j.useMemo(()=>Ro(c),[c,r,m]);return u.jsx("div",{children:sO(e,n,r,t,i,s,a,b,d,g).map(I=>I)})},lO=(e,n)=>r=>L0(r,e.kunYtelse,n),dO=(e,n)=>(e.faktaOmBeregningTilfeller.push(P.VURDER_SN_NY_I_ARBEIDSLIVET),{...e,...pi.transformValues(n)}),oO=e=>(n,r)=>(n.faktaOmBeregningTilfeller.push(P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD),{...n,...ci.transformValues(r,e)}),gO=(e,n)=>(e.faktaOmBeregningTilfeller.push(P.VURDER_MILITÆR_SIVILTJENESTE),{...e,...vi.transformValues(n)}),uO=e=>(n,r)=>(n.faktaOmBeregningTilfeller.push(P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT),{...n,...bi.transformValues(e.refusjonskravSomKommerForSentListe)(r)}),mO=(e,n,r,t,i)=>(s,a)=>{let d={...s};return e.forEach(g=>{g===P.VURDER_SN_NY_I_ARBEIDSLIVET&&(d=n(d,a)),g===P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD&&(d=r(d,a)),g===P.VURDER_MILITÆR_SIVILTJENESTE&&(d=t(d,a)),g===P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT&&(d=i(d,a))}),d},kO=(e,n,r)=>t=>e.includes(P.FASTSETT_BG_KUN_YTELSE)?{fakta:n(t)}:{...r(t)},fO=(e,n,r,t,i)=>{const s=kO(e,lO(t,e),ji.transformValues(t,i))(n);return{fakta:mO(e,dO,oO(r),gO,uO(t))(s.fakta,n),overstyrteAndeler:s.overstyrteAndeler}},pO=e=>{const{tilfeller:n,kortvarigeArbeidsforhold:r,faktaOmBeregning:t,beregningsgrunnlag:i}=e;return fO(n,e,r,t,i)},cO=e=>e?e.find(n=>n.definisjon===nO):void 0,vO=(e,n,r)=>{const t=No(e),i=lr(e);return{beregningsgrunnlag:e,tilfeller:t,faktaOmBeregning:i,kortvarigeArbeidsforhold:Ku(e),vurderMottarYtelse:Uu(e),kunYtelse:wu(e),tidsbegrensetValues:ci.buildInitialValues(Ku(e)),vurderMottarYtelseValues:hi.buildInitialValues(Uu(e),t),arbeidstakerInntektValues:Ut.buildInitialValues(e.faktaOmBeregning.andelerForFaktaOmBeregning),frilansInntektValues:it.buildInitialValues(e.faktaOmBeregning.andelerForFaktaOmBeregning,F.FRILANSER),dagpengerInntektValues:it.buildInitialValues(e.faktaOmBeregning.andelerForFaktaOmBeregning,F.DAGPENGER),vurderRefusjonValues:bi.buildInitialValues(t,tO(e)),...vi.buildInitialValues(i),...pi.buildInitialValues(e),...oi.buildInitialValues(e),...gi.buildInitialValues(e),...ki.buildInitialValues(e,cO(e.avklaringsbehov)),...fi.buildInitialValues(e.avklaringsbehov,rO(e),t,Bu(e)),...ji.buildInitialValues(i,Bu(e),r,n),...K0(wu(e),t,i.andelerForFaktaOmBeregning,r,n)}},{VURDER_FAKTA_FOR_ATFL_SN:id,OVERSTYRING_AV_BEREGNINGSGRUNNLAG:sd}=$e,Ls=(e,n)=>n.some(r=>r.definisjon===e&&r.kanLoses),bO=(e,n)=>e||Ls(id,n),Cu=(e,n)=>{const r=e[st];if(n&&!r&&Ls(sd,e.avklaringsbehov||[]))return{periode:e.periode,avbrutt:!0,begrunnelse:void 0};if(!bO(!!r,e.avklaringsbehov||[]))throw new Error("Feil: Kjører submit uten aksjonspunkt og uten overstyringsrolle");return{...pO(e),begrunnelse:e.begrunnelseFaktaTilfeller,periode:e.periode}},hO=(e,n=!0)=>{const r=e[Vn],t=r.filter(a=>a.erTilVurdering).filter(a=>a[st]||Ls(sd,a.avklaringsbehov||[])).map(a=>Cu(a,!0)).filter(a=>a),i=r.filter(a=>a.erTilVurdering).filter(a=>(!a[st]||n)&&Ls(id,a.avklaringsbehov||[])).map(a=>Cu(a,!1)).filter(a=>a),s=[];if(t.length>0){const a=t.filter(({begrunnelse:g})=>g!==null).map(({begrunnelse:g})=>g).reduce((g,m)=>g===""?m:`${g} ${m}`,""),d={kode:sd,begrunnelse:a!==""?a:null,grunnlag:t};s.push(d)}if(i.length>0){const a=i.map(({begrunnelse:g})=>g).reduce((g,m)=>g===""?m:`${g} ${m}`,""),d={kode:id,begrunnelse:a,grunnlag:i};s.push(d)}return s},{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:Jp,VURDER_FAKTA_FOR_ATFL_SN:ad}=$e,Zp="begrunnelseFaktaTilfeller",jO=(e,n,r)=>e&&n&&!r,IO=(e,n)=>Qr(ad,n)||Qr(Jp,n)?!e:!0,Yu=(e,n)=>{const r=n(`${Vn}.${e}`);return Ro(r)},zu=(e,n)=>{var r,t;return!!((t=(r=n.vurderFaktaBeregningForm)==null?void 0:r[e])!=null&&t.begrunnelseFaktaTilfeller)},AO=({beregningsgrunnlag:e,erOverstyrer:n,readOnly:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,submittable:s,updateOverstyring:a,vilkarsperiode:d,verdiForAvklarAktivitetErEndret:g,submitDisabled:m})=>{const{getValues:k,formState:{errors:p,isDirty:c}}=me(),b=M.useContext(Uf),I=M.useContext(Cf),T=M.useContext(Ee),R=T===I;M.useEffect(()=>{b(p)},[JSON.stringify(p)]);const{avklaringsbehov:S}=e,N=d.vurderesIBehandlingen,E=()=>u.jsxs(u.Fragment,{children:[u.jsx(A,{thirtyTwoPx:!0}),(Qr(ad,S)||Qr(Jp,S)||Yu(T,k))&&u.jsxs(u.Fragment,{children:[(Qr(ad,S)||Yu(T,k))&&u.jsx(Rr,{name:`${Vn}.${T}.${Zp}`,isSubmittable:s,isReadOnly:r||!N,hasBegrunnelse:po(S)!==void 0}),u.jsx(A,{twentyPx:!0}),u.jsx(Df,{isDisabled:!!g,isSubmittable:jO(s&&IO(g,S)&&!nd(S),!0,zu(T,p)),isReadOnly:r||!N,isDirty:c,isSubmitting:m,hasEmptyRequiredFields:zu(T,p)})]})]});return u.jsx("div",{style:{display:R?"block":"none"},children:u.jsx(aO,{readOnly:r||!N,isAksjonspunktClosed:nd(S),beregningsgrunnlag:e,kodeverkSamling:t,erOverstyrer:n,arbeidsgiverOpplysningerPerId:i,updateOverstyring:a,renderTextFieldAndSubmitButton:()=>E(),vilkarsperiodeSkalVurderesIBehandlingen:N})},T)},{VURDER_FAKTA_FOR_ATFL_SN:Wp,AVKLAR_AKTIVITETER:xO,OVERSTYRING_AV_BEREGNINGSGRUNNLAG:Ks,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:yO}=$e,TO=e=>e.some(n=>n.definisjon===Ks)?e.find(n=>n.definisjon===Ks&&n.begrunnelse!==null):e.find(n=>n.definisjon===Wp&&n.begrunnelse!==null),qu=(e,n)=>n.some(r=>r.definisjon===e&&Ze(r.status)),EO=(e,n,r,t)=>({[Vn]:e.map(i=>{var s;const a=t.perioder.find(d=>d.periode.fom===i.vilkårsperiodeFom);if(!a)throw new Error(`Finner ikke vilkårsperiode med fom ${i.vilkårsperiodeFom}`);return{avklaringsbehov:i.avklaringsbehov,erTilVurdering:a.vurderesIBehandlingen&&!a.erForlengelse,periode:a.periode,...Rr.buildInitialValues((s=TO(i.avklaringsbehov))==null?void 0:s.begrunnelse,Zp),...vO(i,n,r)}})}),_O=[Wp,Ks],SO=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.vilkårsperiodeFom);return(r==null?void 0:r.erForlengelse)===!0},RO=({beregningsgrunnlag:e,submittable:n,readOnly:r,kodeverkSamling:t,erOverstyrer:i,arbeidsgiverOpplysningerPerId:s,aktivtBeregningsgrunnlagIndeks:a,submitCallback:d,setFormData:g,formData:m,vilkar:k,avklarAktiviteterErEndret:p,skalKunneAvbryteOverstyring:c})=>{const b=p,I=e.flatMap(w=>w.avklaringsbehov),T=qe({defaultValues:m||EO(e,t,s,k)}),{control:R,formState:S,trigger:N,getValues:E,watch:O}=T,{fields:$,update:V}=Me({name:Vn,control:R}),{errors:L,isSubmitted:Z}=S,[J,C]=j.useState(!1),B=O(Vn);j.useEffect(()=>{Z&&N()},[JSON.stringify(B)]);const U=(w,Q)=>{const ve=E(`${Vn}.${w}`);V(w,{...ve,[st]:Q})},K=w=>{Object.keys(L).length===0&&(C(!0),d(hO(w,c)))};return qu(xO,I)||qu(yO,I)?null:u.jsx(Cf.Provider,{value:a,children:u.jsx(He,{formMethods:T,onSubmit:w=>{K(w)},setDataOnUnmount:g,children:$.map((w,Q)=>{const ve=Ie=>_O.some(ce=>ce===Ie.definisjon),Ne=Ie=>Ie.kanLoses,Le=I.filter(Ie=>ve(Ie)&&Ne(Ie)),Nn=r||SO(e[Q],k.perioder)||on(Ks,I)&&!i||Le.length===0&&!i,Fe=k.perioder.find(Ie=>Ie.periode.fom===e[Q].vilkårsperiodeFom);if(!Fe)throw new Error(`Filler ikke vilkårsperiode med fom ${e[Q].vilkårsperiodeFom}`);return u.jsx(Ee.Provider,{value:Q,children:u.jsx(AO,{vilkarsperiode:Fe,beregningsgrunnlag:e[Q],erOverstyrer:i,readOnly:Nn,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:s,submittable:n,updateOverstyring:U,submitDisabled:J,verdiForAvklarAktivitetErEndret:b},w.id)},w.id)})})})},{VURDER_FAKTA_FOR_ATFL_SN:NO,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Xp,AVKLAR_AKTIVITETER:FO}=$e,PO=[Xp,FO],BO=({readOnly:e,avklaringsbehov:n,submittable:r,submitCallback:t,aktivtBeregningsgrunnlagIndeks:i,beregningsgrunnlag:s,erOverstyrer:a,skalKunneOverstyreAktiviteter:d,kodeverkSamling:g,arbeidsgiverOpplysningerPerId:m,setFormData:k,formData:p,vilkar:c,skalKunneAvbryteOverstyring:b})=>{const I=n.filter(N=>PO.some(E=>E===N.definisjon)&&N.kanLoses),T=e||(I.length===0||on(Xp,n))&&!a,[R,S]=j.useState(!1);return u.jsxs("div",{children:[u.jsx(x_,{readOnly:T,harAndreAvklaringsbehovIPanel:on(NO,n),submitCallback:t,submittable:r,erOverstyrer:a&&d,kodeverkSamling:g,aktivtBeregningsgrunnlagIndeks:i,beregningsgrunnlag:s,arbeidsgiverOpplysningerPerId:m,setFormData:k,formData:p&&zt in p?p:void 0,vilkår:c,setAvklarAktiviteterErEndret:S}),u.jsx(A,{thirtyTwoPx:!0}),u.jsx(RO,{submitCallback:t,submittable:r,kodeverkSamling:g,beregningsgrunnlag:s,erOverstyrer:a,readOnly:e,arbeidsgiverOpplysningerPerId:m,aktivtBeregningsgrunnlagIndeks:i,setFormData:k,formData:p&&Vn in p?p:void 0,vilkar:c,avklarAktiviteterErEndret:R,skalKunneAvbryteOverstyring:b})]})},OO=Oe(ko),{VURDER_FAKTA_FOR_ATFL_SN:Qp,AVKLAR_AKTIVITETER:VO}=$e,$O=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.vilkårsperiodeFom);return(r==null?void 0:r.erForlengelse)===!0},DO=(e,n)=>{const r=e.vilkårsperiodeFom,t=n.find(({periode:i})=>i.fom===r);if(t){const{fom:i,tom:s}=t.periode;return s!==null?`${x(i).format(ee)} - ${x(s).format(ee)}`:`${x(i).format(ee)} - `}return`${x(r).format(ee)}`},GO=e=>{if(e){const n=e.some(t=>t.definisjon===Qp&&t.kanLoses),r=e.some(t=>t.definisjon===VO&&t.kanLoses);return n||r}return!1},Ja=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.skjaeringstidspunktBeregning);return GO(e.avklaringsbehov)&&(r==null?void 0:r.vurderesIBehandlingen)&&!r.erForlengelse},MO=(e,n)=>{var r,t,i,s,a;const d=No(e),g=(t=(r=e==null?void 0:e.faktaOmBeregning)==null?void 0:r.vurderMottarYtelse)==null?void 0:t.erFrilans,m=[],k=[];if(d.includes(P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON)){const p=(s=(i=e==null?void 0:e.faktaOmBeregning)==null?void 0:i.arbeidstakerOgFrilanserISammeOrganisasjonListe)==null?void 0:s.some(c=>!!c.inntektPrMnd);k.push(P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON),m.push(u.jsx(_e,{size:"small",variant:"warning",children:u.jsx(f,{id:p?"BeregningInfoPanel.VurderFaktaBeregningField.ATFLSammeOrg":"BeregningInfoPanel.VurderFaktaBeregningField.ATFLSammeOrgUtenIM",values:{h3:(...c)=>u.jsx(te,{size:"xsmall",level:"3",children:c})}})}))}if(d.includes(P.VURDER_LONNSENDRING)&&(k.push(P.VURDER_LONNSENDRING),m.push(u.jsx(_e,{size:"small",variant:"warning",children:u.jsx(f,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderLonnsendringHelpText",values:{h3:(...p)=>u.jsx(te,{size:"xsmall",level:"3",children:p})}})}))),g&&d.includes(P.VURDER_MOTTAR_YTELSE)&&(k.push(`${P.VURDER_MOTTAR_YTELSE}_frilans`),m.push(u.jsx(_e,{size:"small",variant:"warning",children:u.jsx(f,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderMottarYtelseHelpTextFrilans",values:{h3:(...p)=>u.jsx(te,{size:"xsmall",level:"3",children:p})}})}))),!g&&d.includes(P.VURDER_MOTTAR_YTELSE)&&(k.push(`${P.VURDER_MOTTAR_YTELSE}_arbeidstaker`),m.push(u.jsx(_e,{size:"small",variant:"warning",children:u.jsx(f,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderMottarYtelseHelpTextArbeidstaker",values:{h3:(...p)=>u.jsx(te,{size:"xsmall",level:"3",children:p})}})}))),d.includes(P.VURDER_ETTERLONN_SLUTTPAKKE)&&(k.push(P.VURDER_ETTERLONN_SLUTTPAKKE),m.push(u.jsx(_e,{size:"small",variant:"warning",children:u.jsx(f,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderEtterlonnSluttpakkeHelpText",values:{h3:(...p)=>u.jsx(te,{size:"xsmall",level:"3",children:p})}})}))),d.includes(P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD)&&(k.push(P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD),m.push(u.jsx(_e,{size:"small",variant:"warning",children:u.jsx(f,{id:"BeregningInfoPanel.VurderFaktaBeregningField.TidsbegrensetArbeidsforholdHelpText",values:{h3:(...p)=>u.jsx(te,{size:"xsmall",level:"3",children:p})}})}))),d.includes(P.VURDER_MILITÆR_SIVILTJENESTE)&&(k.push(P.VURDER_MILITÆR_SIVILTJENESTE),m.push(u.jsx(_e,{size:"small",variant:"warning",children:u.jsx(f,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderMilitaerSiviltjenesteHelpText",values:{h3:(...p)=>u.jsx(te,{size:"xsmall",level:"3",children:p})}})}))),d.includes(P.FASTSETT_BG_KUN_YTELSE)&&(k.push(P.FASTSETT_BG_KUN_YTELSE),m.push(u.jsxs(_e,{size:"small",variant:"warning",children:[u.jsx(f,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelseHelpText",values:{h3:(...p)=>u.jsx(te,{size:"xsmall",level:"3",children:p})}}),u.jsx(A,{fourPx:!0}),u.jsx(Pe,{size:"small",header:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.HvordanGarJegFremForFastsetteManedsinntekt"}),children:u.jsxs(re,{size:"small",children:[u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt1"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt2"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt3"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt4"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt5"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvordanGarJegFremForFastsetteManedsinntekt6"})})]})}),u.jsx(A,{fourPx:!0}),u.jsx(Pe,{size:"small",header:u.jsx(f,{id:"BeregningInfoPanel.InntektInputFields.HvaBetyrInntektskategori"}),children:u.jsxs(re,{size:"small",children:[u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvaBetyrInntektskategori1"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvaBetyrInntektskategori2"})}),u.jsx(re.Item,{children:u.jsx(f,{id:"BeregningInfoPanel.VurderFaktaBeregningField.FastsettBGKunYtelse.HvaBetyrInntektskategori3"})})]})})]}))),d.includes(P.VURDER_NYOPPSTARTET_FL)&&(k.push(P.VURDER_NYOPPSTARTET_FL),m.push(u.jsx(_e,{size:"small",variant:"warning",children:u.jsx(f,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderNyoppstartetFLHelpText",values:{h3:(...p)=>u.jsx(te,{size:"xsmall",level:"3",children:p})}})}))),d.includes(P.VURDER_SN_NY_I_ARBEIDSLIVET)&&(k.push(P.VURDER_SN_NY_I_ARBEIDSLIVET),m.push(u.jsx(_e,{size:"small",variant:"warning",children:u.jsx(f,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderSNNyIArbeidslivetHelpText",values:{h3:(...p)=>u.jsx(te,{size:"xsmall",level:"3",children:p})}})}))),d.includes(P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT)){const p=(a=e==null?void 0:e.faktaOmBeregning)==null?void 0:a.refusjonskravSomKommerForSentListe;let c="";p.forEach((b,I)=>{const{arbeidsgiverIdent:T}=b,R=n[T],S=R?Nr(R):T;I===0?c=S:c=`${c}, ${S}`}),k.push(P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT),m.push(u.jsx(_e,{size:"small",variant:"warning",children:u.jsx(f,{id:"BeregningInfoPanel.VurderFaktaBeregningField.VurderRefusjonskravKommetForSentHelpText",values:{arbeidsgiverVisningsnavn:c,h3:(...b)=>u.jsx(te,{size:"xsmall",level:"3",children:b})}})}))}return m.length>0?u.jsx(u.Fragment,{children:m.map((p,c)=>u.jsxs(M.Fragment,{children:[c>0&&u.jsx(A,{sixteenPx:!0}),p]},k[c]))}):u.jsx(_e,{size:"small",variant:"warning",children:u.jsx(f,{id:"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning"},"VurderFaktaForBeregningen")})},LO=({beregningsgrunnlag:e=[],kodeverkSamling:n,submitCallback:r,readOnly:t,submittable:i,erOverstyrer:s,skalKunneOverstyreAktiviteter:a=!0,arbeidsgiverOpplysningerPerId:d,formData:g,setFormData:m,vilkar:k,skalKunneAvbryteOverstyring:p=!1})=>{const[c,b]=j.useState(0),[,I]=j.useState(void 0),T=k==null?void 0:k.perioder;if(j.useEffect(()=>{if(T){const E=e==null?void 0:e.findIndex(O=>Ja(O,T));E>-1&&b(E)}},[]),e.length===0||!k)return u.jsx(u.Fragment,{children:"Har ikke beregningsgrunnlag."});const R=e.length>1,S=e[c],N=S.avklaringsbehov;return u.jsx(Ye,{value:OO,children:u.jsxs("div",{className:Jg.main,children:[Qr(Qp,N)&&!nd(N)?u.jsxs(u.Fragment,{children:[MO(S,d),u.jsx(A,{twentyPx:!0})]}):null,R&&u.jsx("div",{className:Jg.tabsContainer,children:u.jsx(Kn,{value:c.toString(),onChange:E=>b(Number(E)),children:u.jsx(Kn.List,{children:e.map((E,O)=>u.jsx(Kn.Tab,{value:O.toString(),label:DO(E,T),className:Ja(E,T)?"harAksjonspunkt":"",icon:Ja(E,T)&&u.jsx(_r,{width:20,height:20,color:"Orange"})},E.skjaeringstidspunktBeregning))})})}),u.jsx(Uf.Provider,{value:I,children:u.jsx(BO,{aktivtBeregningsgrunnlagIndeks:c,beregningsgrunnlag:e,kodeverkSamling:n,avklaringsbehov:N,submitCallback:r,readOnly:t||$O(e[c],T),submittable:i,erOverstyrer:s,skalKunneOverstyreAktiviteter:a,arbeidsgiverOpplysningerPerId:d,setFormData:m,formData:g,vilkar:k,skalKunneAvbryteOverstyring:p})})]})})};var Te=(e=>(e.AVKLAR_AKTIVITETER="AVKLAR_AKTIVITETER",e.VURDER_FAKTA_FOR_ATFL_SN="VURDER_FAKTA_ATFL_SN",e.OVERSTYRING_AV_BEREGNINGSAKTIVITETER="OVST_BEREGNINGSAKTIVITETER",e.OVERSTYRING_AV_BEREGNINGSGRUNNLAG="OVST_INNTEKT",e))(Te||{}),Za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ec={exports:{}},Ot={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hu;function KO(){if(Hu)return Ot;Hu=1;var e=M,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(d,g,m){var k,p={},c=null,b=null;m!==void 0&&(c=""+m),g.key!==void 0&&(c=""+g.key),g.ref!==void 0&&(b=g.ref);for(k in g)t.call(g,k)&&!s.hasOwnProperty(k)&&(p[k]=g[k]);if(d&&d.defaultProps)for(k in g=d.defaultProps,g)p[k]===void 0&&(p[k]=g[k]);return{$$typeof:n,type:d,key:c,ref:b,props:p,_owner:i.current}}return Ot.Fragment=r,Ot.jsx=a,Ot.jsxs=a,Ot}ec.exports=KO();var h=ec.exports;const $o={"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning":"Vurder fakta for beregningen","BeregningInfoPanel.TidsbegrensetArbFor.Arbeidsforhold":"Er arbeidsforholdet i {navn} med varighet {fom} - {tom} tidsbegrenset?","BeregningInfoPanel.FormAlternativ.Ja":"Ja","BeregningInfoPanel.FormAlternativ.Nei":"Nei","BeregningInfoPanel.NyIArbeidslivet.SelvstendigNaeringsdrivende":"Søker er selvstendig næringsdrivende. Ble søker yrkesaktiv i løpet av de siste tre årene?","AvklarAktivitetPanel.Overskrift":"Aktiviteter i beregningsgrunnlaget","AvklarAktivitetPanel.ButtonText":"Oppdater","AvklarAktivitetPanel.OverstyrText":"Overstyr","AvklareAktiviteter.Avbryt":"Avbryt","VurderAktiviteterTabell.FullAAPKombinert.Overskrift":"Søker har full AAP (200%) sammen med andre aktiviteter. Skjæringstidspunkt for beregning {skjaeringstidspunkt}","VurderAktiviteterTabell.VentelonnVartpenger.Overskrift":"Søker har ventelønn eller vartpenger som siste aktivitet. Skjæringstidspunkt for beregning {skjaeringstidspunkt}","VurderAktiviteterTabell.Overstyrt.Overskrift":"Skjæringstidspunkt for beregning {skjaeringstidspunkt}","BeregningInfoPanel.VurderOgFastsettATFL.ErSokerNyoppstartetFL":"Startet søker som frilanser i løpet av de siste tre månedene?","BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrgUtenIM":"Søker er arbeidstaker og frilanser i samme virksomhet og det er ikke mottatt inntektsmelding(er).","BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrg":"Søker er arbeidstaker og frilanser i samme virksomhet.","BeregningInfoPanel.VurderOgFastsettATFL.FastsettFrilans":"Fastsett frilansinntekt","BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLAlleOppdrag":"Fastsett arbeidsinntekt og samlet frilansinntekt for alle oppdrag.","BeregningInfoPanel.VurderOgFastsettATFL.FastsettArbeidsinntekt":"Fastsett arbeidsinntekt","BeregningInfoPanel.VurderOgFastsettATFL.HarSokerEndring":"Har søker hatt lønnsendring i løpet av de siste tre månedene?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilansUtenFrilans":"Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for frilansaktiviteten?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilans":"Søker er frilanser. Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for frilansaktiviteten?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForArbeid":"Søker er arbeidstaker og det er ikke mottatt inntektsmelding. Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for arbeid i {arbeid}?","BeregningInfoPanel.VurderBestebergning.HarBesteberegning":"Søker har hatt dagpenger i opptjeningsperioden. Skal dette fordeles etter besteberegning?","InntektstabellPanel.Avbryt":"Avbryt overstyring","BeregningInfoPanel.FordelingBG.LeggTilAndel":"Legg til aktivitet","BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet":"Finn regneark på navet","BeregningInfoPanel.FordelingBG.Sum":"Sum","BeregningInfoPanel.FordelingBG.Andel":"Aktivitet","BeregningInfoPanel.FordelingBG.Arbeidsperiode":"Arbeidsperiode","BeregningInfoPanel.FordelingBG.Refusjonskrav":"Refusjonskrav","BeregningInfoPanel.FordelingBG.Fordeling":"Månedsinntekt","BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn":"Månedsinntekt for {andel}","BeregningInfoPanel.FordelingBG.InntektskategoriMedAndelnavn":"Inntektskategori for {andel}","BeregningInfoPanel.FordelingBG.Inntektskategori":"Inntektskategori","BeregningInfoPanel.FordelingBG.LeggTilDagpengerAndel":"Legg til dagpenger","BeregningInfoPanel.FordelingBG.FjernDagpenger":"Fjern dagpenger","BeregningInfoPanel.FordelingBG.Ytelse":"Ytelse","BeregningInfoPanel.FordelingBG.FjernAndel":"Fjern aktivitet","AvklareAktiviteter.OverstyrerAktivitetAdvarsel":"Overstyr hvilke aktiviteter og eventuelle inntektsmeldinger som skal benyttes i beregning.","VurderAktiviteterTabell.Header.Aktivitet":"Aktivitet","VurderAktiviteterTabell.Header.Periode":"Periode","VurderAktiviteterTabell.Header.Benytt":"Benytt","VurderAktiviteterTabell.Header.IkkeBenytt":"Ikke benytt","VurderAktiviteterTabell.Validation.MåHaMinstEnAktivitet":"Må ha minst én aktivitet for å kunne fastsette beregningsgrunnlag","BeregningInfoPanel.AksjonspunktHelpText.VurderAktiviteter":"Vurder hvilke aktiviteter som skal benyttes i beregningsgrunnlaget.","BeregningInfoPanel.KunstigArbeidsforhold.FastsettKunstigArbeidsforhold":"Det finnes ikke registerdata for arbeidsforholdet og det er ikke mottatt inntektsmelding. Fastsett månedsinntekt for arbeidsforholdet","KunYtelsePanel.Overskrift":"Søker har ytelse som eneste inntekt. Fastsett månedsbeløp for fordeling av beregningsgrunnlaget.","KunYtelsePanel.HarBesteberegning":"Søker har ytelse som eneste inntekt. Skal denne fordeles etter besteberegning?","KunYtelsePanel.OverskriftBesteberegning":"Fastsett månedsbeløp for brutto beregningsgrunnlag etter besteberegning","BeregningInfoPanel.FordelBG.Validation.UlikeAndeler":"Andeler for samme aktivitet må ha ulik inntektskategori","InntektstabellPanel.RapporterteInntekter":"Rapporterte inntekter","BeregningInfoPanel.EtterlønnSluttpakke.HarSøkerInntekt":"Har søker etterlønn eller sluttpakke?","BeregningInfoPanel.VurderMilitaer.HarSøkerMilitærinntekt":"Har søker vært i militær- eller sivilforsvarstjeneste i opptjeningsperioden?","VurderRefusjonForm.ErRefusjonskravGyldig":"{arbeidsgiverVisningsnavn} har minst ett refusjonskrav som har kommet for sent. Skal refusjonskrav som ikke har kommet innen fristen tas med i beregning?","BeregningInfoPanel.Validation.MinstEnFastsatt":"Må ha overstyrt inntekt for minst én aktivitet.","FaktaBegrunnelseTextField.BegrunnEndringene":"Begrunn endringene","SubmitButton.ConfirmInformation":"Bekreft og fortsett"},wO="_tabsContainer_1ojru_1",UO={tabsContainer:wO},Zt="avklarAktiviteterForm",An="vurderFaktaBeregningForm",gn=(e,n)=>n.some(r=>r.definisjon===e),CO=e=>e===ta.OPPRETTET,YO="_begrunnelseTextField_1wq9u_1",zO="_explanationTextarea_1wq9u_4",qO="_explanationTextareaReadOnly_1wq9u_7",Wa={begrunnelseTextField:YO,explanationTextarea:zO,explanationTextareaReadOnly:qO},Ju=Oe($o),HO=Tn(3),JO=En(1500),Vr=({isReadOnly:e,isSubmittable:n,hasBegrunnelse:r,label:t,hasVurderingText:i,name:s})=>{const a=i?"FaktaBegrunnelseTextField.Vurdering":"FaktaBegrunnelseTextField.BegrunnEndringene",d=t||Ju.formatMessage({id:a});return h.jsx(Ye,{value:Ju,children:(n||r)&&h.jsx("div",{className:Wa.begrunnelseTextField,children:h.jsx(sn,{name:s,label:e?"":d,validate:e?[]:[H,HO,JO,yn],className:e?Wa.explanationTextareaReadOnly:Wa.explanationTextarea,maxLength:1500,readOnly:e})})})};Vr.defaultProps={name:"begrunnelse",hasVurderingText:!1};Vr.buildInitialValues=(e,n="begrunnelse")=>({[n]:Zs(e)});Vr.transformValues=(e,n="begrunnelse")=>({begrunnelse:e[n]});const ZO=Oe($o),WO=(e,n,r,t)=>!e&&!r||n?!0:t===void 0?!e:!e&&t||t,nc=({isReadOnly:e,isSubmittable:n,isSubmitting:r,isDirty:t,text:i,onClick:s,hasEmptyRequiredFields:a,isDisabled:d})=>e?null:h.jsx(ne,{size:"small",loading:r,disabled:WO(t,r,n,a)||!!d,onClick:s||Ws,type:s?"button":"submit",children:i||ZO.formatMessage({id:"SubmitButton.ConfirmInformation"})}),{AVKLAR_AKTIVITETER:ws,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Zu}=Te,XO=(e,n)=>n.some(r=>r.definisjon===e&&r.kanLoses),QO=(e,n,r)=>(e||XO(ws,n))&&r,Do=e=>{var n;return e.some(r=>r.definisjon===Zu||r.definisjon===ws)?(n=e.find(r=>r.definisjon===Zu||r.definisjon===ws))==null?void 0:n.begrunnelse:void 0},e1=(e,n)=>gn(ws,e)||n,n1=(e,n,r)=>e&&n&&!r,r1="_avsnittOverskrift_h44z2_1",t1={avsnittOverskrift:r1},Xa=e=>e?`...${e.substring(e.length-4,e.length)}`:"",It=(e,n)=>e.erPrivatPerson?e.fødselsdato?`${e.navn} (${x(e.fødselsdato).format(ee)})${Xa(n)}`:`${e.navn}${Xa(n)}`:`${e.navn} (${e.identifikator})${Xa(n)}`,i1=(e,n)=>e.arbeidsforholdId?n+e.arbeidsforholdId:n,Wu=(e,n)=>e+n.fom.replace(".",""),tn=e=>{if(e.arbeidsgiverIdent){const n=i1(e,e.arbeidsgiverIdent);return Wu(n,e)}return Wu(e.arbeidsforholdType,e)},s1=(e,n)=>e||n,ms=(e,n,r,t,i)=>!n&&!r||e.arbeidsforholdType&&e.arbeidsforholdType===mn.AAP?!1:n?s1(t,i):!0,a1=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?n[e.arbeidsgiverIdent]:void 0;return i?It(i,e.eksternArbeidsforholdId):e.arbeidsforholdType&&((t=r[ke.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn)||""},l1=(e,n)=>x(e).isSame(x(n))||x(e).isBefore(x(n)),d1=(e,n,r,t)=>ms(e,n,r,t,!1)?e.skalBrukes===void 0||e.skalBrukes===null?void 0:e.skalBrukes.toString():e.skalBrukes===!0||e.skalBrukes===null||e.skalBrukes===void 0?"true":"false",o1=(e,n,r,t,i,s)=>({beregningAktivitetNavn:a1(e,s,n),fom:e.fom,tom:e.tom,skalBrukes:d1(e,r,t,i)}),g1=(e,n,r,t)=>{const i=l1(r,t);return n.filter(s=>e.aktiviteterValues&&(e.aktiviteterValues[tn(s)].skalBrukes==="false"||e.aktiviteterValues[tn(s)].tom!=null)).map(s=>({oppdragsgiverOrg:s.arbeidsgiverIdent&&s.arbeidsgiverIdent.length===9?s.arbeidsgiverIdent:void 0,arbeidsforholdRef:s.arbeidsforholdId,fom:s.fom,tom:e.aktiviteterValues&&e.aktiviteterValues[tn(s)].tom!=null?e.aktiviteterValues[tn(s)].tom:s.tom,opptjeningAktivitetType:s.arbeidsforholdType,arbeidsgiverIdentifikator:s.arbeidsgiverIdent,skalBrukes:i&&e.aktiviteterValues?e.aktiviteterValues[tn(s)].skalBrukes==="true":!0}))},u1=(e,n,r,t,i,s)=>{const a={};return e&&e.forEach(d=>{a[tn(d)]=o1(d,n,r,t,i,s)}),a},m1="_radios_bl769_1",k1="_navnKol_bl769_13",Ji={radios:m1,navnKol:k1},f1=(e,n)=>x(e).isSame(x(n))||x(e).isBefore(x(n)),Xu=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?n[e.arbeidsgiverIdent]:void 0;return i?It(i,e.eksternArbeidsforholdId):e.arbeidsforholdType&&((t=r[ke.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn)||""},p1=({readOnly:e,isAvklaringsbehovClosed:n,aktivitet:r,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:a,valgtSkjæringstidspunkt:d,ingenAktiviterErBrukt:g,arbeidsgiverOpplysningerPerId:m,fieldId:k})=>{const p=X(),c=f1(d,a),b=I=>{const T=Xu(r,m,t),R=`${js(r.fom)} til ${js(r.tom||"")}`;return`${I?"Benytt":"Ikke benytt"} ${T} ${R}`};return h.jsxs(Je,{children:[h.jsx(q,{className:Ji.navnKol,children:h.jsx(_,{children:Xu(r,m,t)})}),h.jsxs(q,{className:Ji.rowalign,children:[!i&&h.jsx(_,{children:h.jsx(Ge,{dateStringFom:r.fom,dateStringTom:r.tom})}),i&&h.jsxs("div",{children:[h.jsx(Re,{dateString:r.fom})," -"," ",h.jsx(tr,{name:`avklarAktiviteterForm.${k}.aktiviteterValues.${tn(r)}.tom`,validate:[H,xn],isReadOnly:e})]})]}),h.jsx(q,{className:Ji.radios,children:h.jsx(ue,{name:`avklarAktiviteterForm.${k}.aktiviteterValues.${tn(r)}.skalBrukes`,label:p.formatMessage({id:"VurderAktiviteterTabell.Header.Benytt"}),validate:[H],isHorizontal:!0,isReadOnly:e||!ms(r,i,s,c,g),radios:[{value:"true",label:b(!0)}],hideLegend:!0,hideRadioLabels:!0})}),h.jsx(q,{className:Ji.radios,children:h.jsx(ue,{name:`avklarAktiviteterForm.${k}.aktiviteterValues.${tn(r)}.skalBrukes`,label:p.formatMessage({id:"VurderAktiviteterTabell.Header.IkkeBenytt"}),validate:[H],isHorizontal:!0,isReadOnly:e||!ms(r,i,s,c,g),radios:[{value:"false",label:b(!1)}],hideLegend:!0,hideRadioLabels:!0})}),n&&e&&h.jsx(q,{children:ms(r,i,s,c,g)&&h.jsx(ft,{})})]},tn(r))},c1=(e,n,r)=>{const t=xn(r)?"":x(r).format(ee);if(n)return h.jsx(f,{id:"VurderAktiviteterTabell.Overstyrt.Overskrift",values:{skjaeringstidspunkt:t}});const i=e.some(a=>a.arbeidsforholdType&&a.arbeidsforholdType===mn.AAP),s=e.some(a=>a.arbeidsforholdType&&a.arbeidsforholdType===mn.VENTELØNN_VARTPENGER);return i?h.jsx(f,{id:"VurderAktiviteterTabell.FullAAPKombinert.Overskrift",values:{skjaeringstidspunkt:t}}):s?h.jsx(f,{id:"VurderAktiviteterTabell.VentelonnVartpenger.Overskrift",values:{skjaeringstidspunkt:t}}):""},v1=()=>["VurderAktiviteterTabell.Header.Aktivitet","VurderAktiviteterTabell.Header.Periode","VurderAktiviteterTabell.Header.Benytt","VurderAktiviteterTabell.Header.IkkeBenytt"],b1=({readOnly:e,isAvklaringsbehovClosed:n,aktiviteter:r,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:a,valgtSkjæringstidspunkt:d,ingenAktiviterErBrukt:g,arbeidsgiverOpplysningerPerId:m,fieldId:k})=>h.jsxs(h.Fragment,{children:[h.jsx(G,{size:"small",children:c1(r,i,a)}),h.jsx(an,{headerTextCodes:v1(),noHover:!0,children:r.map(p=>h.jsx(p1,{aktivitet:p,readOnly:e,isAvklaringsbehovClosed:n,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:a,valgtSkjæringstidspunkt:d,ingenAktiviterErBrukt:g,arbeidsgiverOpplysningerPerId:m,fieldId:k},`${p.arbeidsgiverIdent}-${p.fom}-${p.tom}`))})]}),ld=(e,n)=>!!e.aktiviteter&&e.aktiviteter.find(r=>{const t=tn(r);return n.aktiviteterValues&&n.aktiviteterValues[t]?n.aktiviteterValues[t].skalBrukes!=="false":r.skalBrukes})!==void 0,h1=(e,n)=>{let r=0;for(;r<e.length&&x(n).isBefore(e[r].tom===void 0?null:e[r].tom);)r+=1;return r},Qu=(e,n,r)=>{const t=e.find(({tom:i})=>i===r);if(t===void 0){const i={tom:r,aktiviteter:[n]},s=h1(e,r);e.splice(s,0,i)}else{if(!t.aktiviteter)throw new Error(`Forventer å ha aktiviteter på tom ${t.tom}`);t.aktiviteter.push(n)}},j1=e=>{var n;return!!((n=e.avklarAktiviteter)!=null&&n.aktiviteterTomDatoMapping)&&e.avklarAktiviteter.aktiviteterTomDatoMapping.some(r=>r.aktiviteter&&!r.aktiviteter.some(t=>!x(t.tom).isValid()))},I1=e=>{var n;const r=e.avklarAktiviteter?e.avklarAktiviteter.aktiviteterTomDatoMapping||[]:[],t=[],i=(n=e.avklarAktiviteter)==null?void 0:n.skjæringstidspunkt;if(!i)throw new Error("Forventer skjæringstidspunkt for opptjening her!");return r.flatMap(({aktiviteter:s})=>s).forEach(s=>{if(!s)throw new Error("Må ha aktivitet i form values her!");const a={...s},d=e.aktiviteterValues?e.aktiviteterValues[tn(s)].tom:void 0;d&&d!==a.tom&&(a.tom=d),x(d).isSame(x(i).subtract(1,"days"))||x(d).isAfter(x(i).subtract(1,"days"))?Qu(t,a,i):Qu(t,a,x(d).add(1,"days").format("YYYY-MM-DD"))}),t},Go=(e,n,r)=>{const t=n&&!j1(n)?I1(n):e;return r?t:!n||ld(t[0],n)||t.length===1?[t[0]]:[t[0],t[1]]},rc=(e,n)=>{if(!(e===void 0||n===void 0))for(let r=0;r<n.length;r+=1){const t=n[r].aktiviteter||[];for(let i=0;i<t.length;i+=1){const s=e.aktiviteterValues?e.aktiviteterValues[tn(t[i])]:void 0;if((s==null?void 0:s.skalBrukes)==="true")return n[r].tom}}},$r=({readOnly:e,isAvklaringsbehovClosed:n,values:r,aktiviteterTomDatoMapping:t,erOverstyrt:i,harAvklaringsbehov:s,kodeverkSamling:a,arbeidsgiverOpplysningerPerId:d,fieldId:g})=>{const m=Go(t,r,i),k=rc(r,m);return h.jsx(h.Fragment,{children:m.map(p=>h.jsx(b1,{readOnly:e,isAvklaringsbehovClosed:n,aktiviteter:p.aktiviteter||[],erOverstyrt:i,harAvklaringsbehov:s,kodeverkSamling:a,tomDatoForAktivitetGruppe:p.tom,valgtSkjæringstidspunkt:k,ingenAktiviterErBrukt:k===void 0,arbeidsgiverOpplysningerPerId:d,fieldId:g},p.tom))})};$r.harIngenAktiviteter=(e,n,r)=>{const t=Go(n,e,r);return ld(t[0],e)?!1:t.length>1&&t[1].aktiviteter&&t[1].aktiviteter.length>0?!ld(t[1],e):!0};const A1=(e,n)=>x(e).isSame(x(n))||x(e).isBefore(x(n));$r.transformValues=(e,n,r)=>{const t=Go(n,e,r),i=rc(e,t);if(!i)throw new Error("Finner ikke forventet skjæringstidspunkt, ugyldig tilstand");return t.flatMap(s=>g1(e,s.aktiviteter||[],i,s.tom))};const x1=e=>{if(e!==void 0)for(let n=0;n<e.length;n+=1){const r=e[n].aktiviteter||[];for(let t=0;t<r.length;t+=1)if(r[t].skalBrukes===!0||r[t].skalBrukes===null||r[t].skalBrukes===void 0)return e[n].tom}};$r.buildInitialValues=(e,n,r,t,i)=>{if(!e||e.length===0)return{};let s={};const a=x1(e);return e.forEach(d=>{s={...s,...u1(d.aktiviteter||[],n,r,t,A1(a,d.tom),i)}}),s};const{AVKLAR_AKTIVITETER:ks,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:tc}=Te,Mo="begrunnelseAvklareAktiviteter",ic="manuellOverstyringBeregningAktiviteter",y1=(e,n,r,t,i)=>{const s=gn(ks,e),a=gn(tc,e),d=Do(e);let g;return n&&n.aktiviteterTomDatoMapping&&(g=$r.buildInitialValues(n.aktiviteterTomDatoMapping,r,a,s,t)),{[ic]:a,periode:i.periode,erTilVurdering:i.vurderesIBehandlingen&&!i.erForlengelse,avklaringsbehov:e,avklarAktiviteter:n,aktiviteterValues:g,...Vr.buildInitialValues(d,Mo)}},em=e=>{const n=e[ic],r=QO(!!n,e.avklaringsbehov||[],e.erTilVurdering),{avklarAktiviteter:t}=e;return r?{beregningsaktivitetLagreDtoList:$r.transformValues(e,(t==null?void 0:t.aktiviteterTomDatoMapping)||[],!!n),periode:e.periode,begrunnelse:e[Mo]}:null},T1=(e,n,r,t,i)=>{if(!(r.length<1)&&$r.harIngenAktiviteter(e(`avklarAktiviteterForm.${n}`),r,t))return i.formatMessage({id:"VurderAktiviteterTabell.Validation.MåHaMinstEnAktivitet"})},E1=({avklarAktiviteter:e,avklaringsbehov:n,erOverstyrer:r,readOnly:t,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:s,submittable:a,fieldId:d,updateOverstyring:g,submitDisabled:m})=>{var k,p;const c=X(),{resetField:b,watch:I,getValues:T,formState:{isSubmitting:R,errors:S,dirtyFields:N}}=me(),E=Object.keys(N).length>0,O=gn(tc,n),$=!!T(`avklarAktiviteterForm.${d}`).manuellOverstyringBeregningAktiviteter,[V,L]=j.useState(O||$),Z=!!((p=(k=S.avklarAktiviteterForm)==null?void 0:k[d])!=null&&p.begrunnelseAvklareAktiviteter),J=w=>{w?L(!V):!w&&V&&L(!1),b(`avklarAktiviteterForm.${d}`,{keepDirty:!1}),b(`vurderAktiviteterSkjema.${d}`,{keepDirty:!1}),g(d,w)},C=n.filter(w=>w.definisjon===Te.AVKLAR_AKTIVITETER||w.definisjon===Te.OVERSTYRING_AV_BEREGNINGSAKTIVITETER).filter(w=>CO(w.status)).length===0,B=T1(I,d,e.aktiviteterTomDatoMapping||[],$,c),U=`vurderAktiviteterSkjema.${d}`,K=Er(U,B);return!e.aktiviteterTomDatoMapping||e.aktiviteterTomDatoMapping.length<1?null:h.jsxs(h.Fragment,{children:[h.jsx(xe,{children:h.jsxs(D,{children:[h.jsx(y,{children:h.jsx(G,{size:"small",className:t1.avsnittOverskrift,"data-testid":"avklareAktiviteterHeading",children:h.jsx(f,{id:"AvklarAktivitetPanel.Overskrift"})})}),(r||O)&&h.jsx(y,{children:h.jsx(ni,{onClick:()=>J(!0),erOverstyrt:V})})]})}),h.jsx(A,{sixteenPx:!0}),gn(ks,n)&&!C&&h.jsx(ri,{children:[h.jsx(f,{id:"BeregningInfoPanel.AksjonspunktHelpText.VurderAktiviteter"},"VurderFaktaForBeregningen")]}),V&&h.jsx(G,{size:"small",children:h.jsx(f,{id:"AvklareAktiviteter.OverstyrerAktivitetAdvarsel"})}),h.jsx(A,{twentyPx:!0}),e&&e.aktiviteterTomDatoMapping&&h.jsxs("div",{children:[h.jsx($r,{aktiviteterTomDatoMapping:e.aktiviteterTomDatoMapping,readOnly:t,isAvklaringsbehovClosed:C,erOverstyrt:V,kodeverkSamling:i,values:I(`avklarAktiviteterForm.${d}`),harAvklaringsbehov:gn(ks,n),arbeidsgiverOpplysningerPerId:s,fieldId:d}),K&&h.jsx(Dn,{children:K})]}),h.jsx(A,{twentyPx:!0}),e1(n,V)&&h.jsxs(h.Fragment,{children:[h.jsx(Vr,{name:`avklarAktiviteterForm.${d}.${Mo}`,isSubmittable:a,isReadOnly:t,hasBegrunnelse:Do(n)!==null}),(gn(ks,n)||V)&&h.jsxs(h.Fragment,{children:[h.jsx(A,{twentyPx:!0}),h.jsx(xe,{children:h.jsxs(D,{children:[h.jsx(y,{children:h.jsx(nc,{text:c.formatMessage({id:V?"AvklarAktivitetPanel.OverstyrText":"AvklarAktivitetPanel.ButtonText"}),isSubmittable:n1(a,!0,Z),isDirty:E,isSubmitting:m,isReadOnly:t||C&&!E,hasEmptyRequiredFields:Z})}),!!N&&E&&h.jsx(y,{children:h.jsx(ne,{variant:"secondary",loading:R,disabled:R,onClick:()=>J(!1),size:"small",children:h.jsx(f,{id:"AvklareAktiviteter.Avbryt"})})})]})})]})]})]})},{OVERSTYRING_AV_BEREGNINGSAKTIVITETER:sc,AVKLAR_AKTIVITETER:ac}=Te,nm="manuellOverstyringBeregningAktiviteter",_1=(e,n)=>{const r=e.perioder.find(({periode:t})=>t.fom===n);if(!r)throw new Error(`Finner ikke vilkårsperiode med fom ${n}`);return r},S1=(e,n)=>!gn(ac,e)&&!gn(sc,e)&&!n,R1=e=>{const n=e[Zt],r=n.filter(s=>s[nm]).map(em).filter(s=>s),t=n.filter(s=>!s[nm]).map(em).filter(s=>s),i=[];if(r.length>0){const s=r.map(({begrunnelse:d})=>d).reduce((d,g)=>d===""?g:`${d} ${g}`,""),a={kode:sc,begrunnelse:s,grunnlag:r};i.push(a)}if(t.length>0){const s=t.map(({begrunnelse:d})=>d).reduce((d,g)=>d===""?g:`${d} ${g}`,""),a={kode:ac,begrunnelse:s,grunnlag:t};i.push(a)}return i},N1=(e,n,r,t)=>({[Zt]:e.map(i=>{var s;return y1(i.avklaringsbehov,(s=i.faktaOmBeregning)==null?void 0:s.avklarAktiviteter,n,r,_1(t,i.vilkårsperiodeFom))})}),F1=(e,n)=>{var r;const t=(r=e[n].faktaOmBeregning)==null?void 0:r.avklarAktiviteter;if(!t)throw new Error("Mangler aktivteter å populere skjema med!");return t},P1=({harAndreAvklaringsbehovIPanel:e,erOverstyrer:n,readOnly:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,submittable:s,submitCallback:a,beregningsgrunnlag:d,aktivtBeregningsgrunnlagIndeks:g,vilkår:m,setFormData:k,formData:p,setAvklarAktiviteterErEndret:c})=>{const b=qe({defaultValues:p||N1(d,t,i,m)}),{formState:{dirtyFields:I,errors:T,isSubmitted:R},control:S,getValues:N,trigger:E,setValue:O}=b;j.useEffect(()=>{var B;(B=I.avklarAktiviteterForm)!=null&&B.some(U=>!!U)?c(!0):c(!1)},[I]),j.useEffect(()=>{var B;R&&(B=I.avklarAktiviteterForm)!=null&&B[g]&&E()},[g]);const $=d.flatMap(B=>B.avklaringsbehov),{fields:V}=Me({name:Zt,control:S}),[L,Z]=j.useState(!1),J=(B,U)=>{const K=N(`avklarAktiviteterForm.${B}`);O(`${Zt}.${B}`,{...K,manuellOverstyringBeregningAktiviteter:U},{shouldDirty:!0})};if(S1($,n))return null;const C=B=>{Object.keys(T).length===0&&(Z(!0),a(R1(B)))};return h.jsxs(h.Fragment,{children:[h.jsx(He,{formMethods:b,onSubmit:B=>C(B),setDataOnUnmount:k,children:V.map((B,U)=>g===U&&h.jsx(E1,{aktivtBeregningsgrunnlagIndeks:g,fieldId:U,avklarAktiviteter:F1(d,U),avklaringsbehov:d[U].avklaringsbehov,erOverstyrer:n,readOnly:r,submittable:s,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,updateOverstyring:J,submitDisabled:L},B.id))}),e&&h.jsx(A,{twentyPx:!0})]})},B1="_navetLink_15r5n_1",O1="_flexColumn12_15r5n_12",V1="_flexColumn9_15r5n_15",$1="_flexColumn3_15r5n_18",cr={navetLink:B1,flexColumn12:O1,flexColumn9:V1,flexColumn3:$1},Sn=e=>e==="true",lc=M.createContext(null),Ve=M.createContext(0),dc=M.createContext(0),yr="vurderbesteberegningField",{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:D1}=Te,Ii=({readOnly:e,erOverstyrt:n})=>{const r=M.useContext(Ve),t=X(),i=e||n;return h.jsx("div",{children:h.jsxs(D,{children:[h.jsx(y,{className:cr.flexColumn9,children:h.jsx(ue,{label:h.jsx(_,{children:h.jsx(f,{id:"BeregningInfoPanel.VurderBestebergning.HarBesteberegning"})}),name:`vurderFaktaBeregningForm.${r}.${yr}`,isReadOnly:i,validate:i?[]:[H],radios:[{value:"true",label:t.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:t.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:Sn,isHorizontal:!0})}),h.jsx(y,{className:cr.flexColumn3,children:h.jsx("a",{className:cr.navetLink,href:aa,target:"_blank",rel:"noopener noreferrer",children:h.jsx(f,{id:"BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet"})})})]})})};Ii.buildInitialValues=(e,n,r,t)=>r.includes(P.VURDER_BESTEBEREGNING)||r.includes(P.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE)?n?e.find(i=>i.definisjon===D1)!==void 0||t?{[yr]:!1}:{[yr]:n.skalHaBesteberegning}:{}:{};Ii.transformValues=(e,n,r)=>{if(!n||!n.vurderBesteberegning)return{};if(!e[yr]||!r)return{besteberegningAndeler:{besteberegningAndelListe:[]}};const t=r.filter(({nyAndel:s})=>s!==!0).map(s=>({andelsnr:s.andelsnr,nyAndel:s.nyAndel,lagtTilAvSaksbehandler:s.lagtTilAvSaksbehandler,fastsatteVerdier:{fastsattBeløp:s.fastsattBelop,inntektskategori:s.inntektskategori}})),i=r.find(s=>s.nyAndel&&s.aktivitetStatus===F.DAGPENGER);return{besteberegningAndeler:{besteberegningAndelListe:t,nyDagpengeAndel:i?{fastsatteVerdier:{fastsattBeløp:i.fastsattBelop,inntektskategori:i.inntektskategori}}:null}}};const G1=e=>(n,r)=>{const t=e.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller:[];if(!(t.map(a=>a).includes(P.VURDER_BESTEBEREGNING)||t.map(a=>a).includes(P.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE)))return{};const i=Ii.transformValues(n,e,r),s=[P.VURDER_BESTEBEREGNING];return i.besteberegningAndeler.besteberegningAndelListe.length>0&&s.push(P.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE),{faktaOmBeregningTilfeller:s,...i}},M1="_fadeinTabell_1d8wy_1",L1="_fadein_1d8wy_1",K1="_rightAligned_1d8wy_10",w1="_avsnittOverskrift_1d8wy_13",rm={fadeinTabell:M1,fadein:L1,rightAligned:K1,avsnittOverskrift:w1},lt="manuellOverstyringRapportertInntekt",{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:U1,AVKLAR_AKTIVITETER:C1}=Te,Y1=(e,n)=>n.some(r=>r.definisjon===e),z1=(e,n)=>e&&!n.some(r=>r.definisjon===C1&&Ze(r.status)),fa=({tabell:e,hjelpeTekstId:n,children:r,skalViseTabell:t,readOnly:i,avklaringsbehov:s,updateOverstyring:a,erOverstyrer:d,erOverstyrt:g})=>{const[m,k]=j.useState(g),p=M.useContext(Ve),c=j.useMemo(()=>z1(d,s),[d,s]),b=()=>{k(!m),a(p,!m)};return h.jsxs(h.Fragment,{children:[r,h.jsxs("div",{className:rm.fadeinTabell,children:[h.jsx(A,{sixteenPx:!0}),t&&h.jsxs(h.Fragment,{children:[h.jsx(xe,{children:h.jsxs(D,{children:[h.jsx(y,{children:h.jsx(G,{size:"small",className:rm.avsnittOverskrift,children:h.jsx(f,{id:"InntektstabellPanel.RapporterteInntekter"})})}),(c||m)&&h.jsx(y,{children:h.jsx(ni,{onClick:b,erOverstyrt:i||m||Y1(U1,s)})})]})}),h.jsx(A,{sixteenPx:!0}),n&&h.jsx(G,{size:"small",children:h.jsx(f,{id:n})}),e,m&&!i&&h.jsx(ne,{size:"small",onClick:b,variant:"secondary",children:h.jsx(f,{id:"InntektstabellPanel.Avbryt"})})]})]})]})};fa.buildInitialValues=e=>({[lt]:e});fa.defaultProps={hjelpeTekstId:void 0,skalViseTabell:!0};const oc=(e,n,r)=>r?!1:n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.filter(t=>t.aktivitetStatus===F.ARBEIDSTAKER).filter(t=>t.arbeidsforhold&&t.arbeidsforhold.arbeidsgiverIdent===e.arbeidsgiverId).filter(t=>t.arbeidsforhold&&t.arbeidsforhold.arbeidsforholdId).length>0,pa="lonnsendringField",Ai=({readOnly:e})=>{const n=M.useContext(Ve),r=X();return h.jsx("div",{children:h.jsx(ue,{label:h.jsx(_,{children:h.jsx(f,{id:"BeregningInfoPanel.VurderOgFastsettATFL.HarSokerEndring"})}),name:`vurderFaktaBeregningForm.${n}.lonnsendringField`,isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[H],parse:Sn,isHorizontal:!0})})},q1=e=>{const n=e.find(t=>t.lonnsendringIBeregningsperioden===!0)!==void 0,r=e.find(t=>t.lonnsendringIBeregningsperioden===!1)!==void 0;return n||(r?!1:void 0)};Ai.buildInitialValues=e=>{const n={};if(!e||!e.beregningsgrunnlagPeriode)return n;const r=e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel;if(!r||r.length<1)return n;const t=r.filter(i=>i.aktivitetStatus===F.ARBEIDSTAKER);return!t||t.length<1||(n[pa]=q1(t)),n};const H1=(e,n,r)=>r[pa]&&!!n.arbeidsforholdMedLønnsendringUtenIM&&n.arbeidsforholdMedLønnsendringUtenIM.find(t=>t.andelsnr===e.andelsnr)!==void 0;Ai.transformValues=(e,n)=>(n.faktaOmBeregningTilfeller?n.faktaOmBeregningTilfeller:[]).map(r=>r).includes(P.VURDER_LONNSENDRING)?{faktaOmBeregningTilfeller:[P.VURDER_LONNSENDRING],vurdertLonnsendring:{erLønnsendringIBeregningsperioden:e[pa]}}:{};const vr="NyoppstartetFLField",xi=({readOnly:e})=>{const n=M.useContext(Ve),r=X();return h.jsx("div",{children:h.jsx(ue,{label:h.jsx(_,{children:h.jsx(f,{id:"BeregningInfoPanel.VurderOgFastsettATFL.ErSokerNyoppstartetFL"})}),name:`vurderFaktaBeregningForm.${n}.${vr}`,validate:[H],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:Sn,isHorizontal:!0})})};xi.buildInitialValues=e=>{var n;const r={};if(e===void 0||e.beregningsgrunnlagPeriode===void 0)return r;const t=e.beregningsgrunnlagPeriode.map(i=>i.beregningsgrunnlagPrStatusOgAndel).flat().filter(i=>(i==null?void 0:i.aktivitetStatus)===F.FRILANSER);return t.length>0&&(r[vr]=(n=t[0])==null?void 0:n.erNyoppstartet),r};xi.transformValues=(e,n,r,t)=>{if(!(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).map(a=>a).includes(P.VURDER_NYOPPSTARTET_FL))return{};if(!n||n.length===0)return{faktaOmBeregningTilfeller:[P.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[vr]}};const i=n.find(a=>a.aktivitetStatus===F.FRILANSER);if(!i)return{faktaOmBeregningTilfeller:[P.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[vr]}};if(t.includes(i.andelsnr))return{faktaOmBeregningTilfeller:[P.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[vr]}};t.push(i.andelsnr);const s={fastsettMaanedsinntektFL:{maanedsinntekt:i.fastsattBelop}};return{faktaOmBeregningTilfeller:[P.VURDER_NYOPPSTARTET_FL,P.FASTSETT_MAANEDSINNTEKT_FL],...s,vurderNyoppstartetFL:{erNyoppstartetFL:e[vr]}}};var Zi=function(e){return e&&e.Math===Math&&e},Rn=Zi(typeof globalThis=="object"&&globalThis)||Zi(typeof window=="object"&&window)||Zi(typeof self=="object"&&self)||Zi(typeof Za=="object"&&Za)||function(){return this}()||Za||Function("return this")(),Lo={},Jn=function(e){try{return!!e()}catch{return!0}},J1=Jn,dr=!J1(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Z1=Jn,Ko=!Z1(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),W1=Ko,Wi=Function.prototype.call,wo=W1?Wi.bind(Wi):function(){return Wi.apply(Wi,arguments)},gc={},uc={}.propertyIsEnumerable,mc=Object.getOwnPropertyDescriptor,X1=mc&&!uc.call({1:2},1);gc.f=X1?function(e){var n=mc(this,e);return!!n&&n.enumerable}:uc;var kc=function(e,n){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:n}},fc=Ko,pc=Function.prototype,dd=pc.call,Q1=fc&&pc.bind.bind(dd,dd),cn=fc?Q1:function(e){return function(){return dd.apply(e,arguments)}},cc=cn,eV=cc({}.toString),nV=cc("".slice),ca=function(e){return nV(eV(e),8,-1)},rV=cn,tV=Jn,iV=ca,Qa=Object,sV=rV("".split),aV=tV(function(){return!Qa("z").propertyIsEnumerable(0)})?function(e){return iV(e)==="String"?sV(e,""):Qa(e)}:Qa,vc=function(e){return e==null},lV=vc,dV=TypeError,bc=function(e){if(lV(e))throw new dV("Can't call method on "+e);return e},oV=aV,gV=bc,va=function(e){return oV(gV(e))},od=typeof document=="object"&&document.all,uV=typeof od>"u"&&od!==void 0,hc={all:od,IS_HTMLDDA:uV},jc=hc,mV=jc.all,vn=jc.IS_HTMLDDA?function(e){return typeof e=="function"||e===mV}:function(e){return typeof e=="function"},tm=vn,Ic=hc,kV=Ic.all,At=Ic.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:tm(e)||e===kV}:function(e){return typeof e=="object"?e!==null:tm(e)},el=Rn,fV=vn,pV=function(e){return fV(e)?e:void 0},ba=function(e,n){return arguments.length<2?pV(el[e]):el[e]&&el[e][n]},cV=cn,vV=cV({}.isPrototypeOf),bV=typeof navigator<"u"&&String(navigator.userAgent)||"",Ac=Rn,nl=bV,im=Ac.process,sm=Ac.Deno,am=im&&im.versions||sm&&sm.version,lm=am&&am.v8,jn,Us;lm&&(jn=lm.split("."),Us=jn[0]>0&&jn[0]<4?1:+(jn[0]+jn[1]));!Us&&nl&&(jn=nl.match(/Edge\/(\d+)/),(!jn||jn[1]>=74)&&(jn=nl.match(/Chrome\/(\d+)/),jn&&(Us=+jn[1])));var hV=Us,dm=hV,jV=Jn,IV=Rn,AV=IV.String,xc=!!Object.getOwnPropertySymbols&&!jV(function(){var e=Symbol("symbol detection");return!AV(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&dm&&dm<41}),xV=xc,yc=xV&&!Symbol.sham&&typeof Symbol.iterator=="symbol",yV=ba,TV=vn,EV=vV,_V=yc,SV=Object,Tc=_V?function(e){return typeof e=="symbol"}:function(e){var n=yV("Symbol");return TV(n)&&EV(n.prototype,SV(e))},RV=String,NV=function(e){try{return RV(e)}catch{return"Object"}},FV=vn,PV=NV,BV=TypeError,Uo=function(e){if(FV(e))return e;throw new BV(PV(e)+" is not a function")},OV=Uo,VV=vc,$V=function(e,n){var r=e[n];return VV(r)?void 0:OV(r)},rl=wo,tl=vn,il=At,DV=TypeError,GV=function(e,n){var r,t;if(n==="string"&&tl(r=e.toString)&&!il(t=rl(r,e))||tl(r=e.valueOf)&&!il(t=rl(r,e))||n!=="string"&&tl(r=e.toString)&&!il(t=rl(r,e)))return t;throw new DV("Can't convert object to primitive value")},Ec={exports:{}},om=Rn,MV=Object.defineProperty,Co=function(e,n){try{MV(om,e,{value:n,configurable:!0,writable:!0})}catch{om[e]=n}return n},LV=Rn,KV=Co,gm="__core-js_shared__",wV=LV[gm]||KV(gm,{}),Yo=wV,um=Yo;(Ec.exports=function(e,n){return um[e]||(um[e]=n!==void 0?n:{})})("versions",[]).push({version:"3.33.2",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var _c=Ec.exports,UV=bc,CV=Object,Sc=function(e){return CV(UV(e))},YV=cn,zV=Sc,qV=YV({}.hasOwnProperty),Dr=Object.hasOwn||function(e,n){return qV(zV(e),n)},HV=cn,JV=0,ZV=Math.random(),WV=HV(1 .toString),Rc=function(e){return"Symbol("+(e===void 0?"":e)+")_"+WV(++JV+ZV,36)},XV=Rn,QV=_c,mm=Dr,e$=Rc,n$=xc,r$=yc,Zr=XV.Symbol,sl=QV("wks"),t$=r$?Zr.for||Zr:Zr&&Zr.withoutSetter||e$,yi=function(e){return mm(sl,e)||(sl[e]=n$&&mm(Zr,e)?Zr[e]:t$("Symbol."+e)),sl[e]},i$=wo,km=At,fm=Tc,s$=$V,a$=GV,l$=yi,d$=TypeError,o$=l$("toPrimitive"),g$=function(e,n){if(!km(e)||fm(e))return e;var r=s$(e,o$),t;if(r){if(n===void 0&&(n="default"),t=i$(r,e,n),!km(t)||fm(t))return t;throw new d$("Can't convert object to primitive value")}return n===void 0&&(n="number"),a$(e,n)},u$=g$,m$=Tc,Nc=function(e){var n=u$(e,"string");return m$(n)?n:n+""},k$=Rn,pm=At,gd=k$.document,f$=pm(gd)&&pm(gd.createElement),Fc=function(e){return f$?gd.createElement(e):{}},p$=dr,c$=Jn,v$=Fc,Pc=!p$&&!c$(function(){return Object.defineProperty(v$("div"),"a",{get:function(){return 7}}).a!==7}),b$=dr,h$=wo,j$=gc,I$=kc,A$=va,x$=Nc,y$=Dr,T$=Pc,cm=Object.getOwnPropertyDescriptor;Lo.f=b$?cm:function(e,n){if(e=A$(e),n=x$(n),T$)try{return cm(e,n)}catch{}if(y$(e,n))return I$(!h$(j$.f,e,n),e[n])};var xt={},E$=dr,_$=Jn,Bc=E$&&_$(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),S$=At,R$=String,N$=TypeError,ha=function(e){if(S$(e))return e;throw new N$(R$(e)+" is not an object")},F$=dr,P$=Pc,B$=Bc,Xi=ha,vm=Nc,O$=TypeError,al=Object.defineProperty,V$=Object.getOwnPropertyDescriptor,ll="enumerable",dl="configurable",ol="writable";xt.f=F$?B$?function(e,n,r){if(Xi(e),n=vm(n),Xi(r),typeof e=="function"&&n==="prototype"&&"value"in r&&ol in r&&!r[ol]){var t=V$(e,n);t&&t[ol]&&(e[n]=r.value,r={configurable:dl in r?r[dl]:t[dl],enumerable:ll in r?r[ll]:t[ll],writable:!1})}return al(e,n,r)}:al:function(e,n,r){if(Xi(e),n=vm(n),Xi(r),P$)try{return al(e,n,r)}catch{}if("get"in r||"set"in r)throw new O$("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var $$=dr,D$=xt,G$=kc,Oc=$$?function(e,n,r){return D$.f(e,n,G$(1,r))}:function(e,n,r){return e[n]=r,e},Vc={exports:{}},ud=dr,M$=Dr,$c=Function.prototype,L$=ud&&Object.getOwnPropertyDescriptor,zo=M$($c,"name"),K$=zo&&(function(){}).name==="something",w$=zo&&(!ud||ud&&L$($c,"name").configurable),U$={EXISTS:zo,PROPER:K$,CONFIGURABLE:w$},C$=cn,Y$=vn,md=Yo,z$=C$(Function.toString);Y$(md.inspectSource)||(md.inspectSource=function(e){return z$(e)});var Dc=md.inspectSource,q$=Rn,H$=vn,bm=q$.WeakMap,J$=H$(bm)&&/native code/.test(String(bm)),Z$=_c,W$=Rc,hm=Z$("keys"),Gc=function(e){return hm[e]||(hm[e]=W$(e))},qo={},X$=J$,Mc=Rn,Q$=At,eD=Oc,gl=Dr,ul=Yo,nD=Gc,rD=qo,jm="Object already initialized",kd=Mc.TypeError,tD=Mc.WeakMap,Cs,Wt,Ys,iD=function(e){return Ys(e)?Wt(e):Cs(e,{})},sD=function(e){return function(n){var r;if(!Q$(n)||(r=Wt(n)).type!==e)throw new kd("Incompatible receiver, "+e+" required");return r}};if(X$||ul.state){var Pn=ul.state||(ul.state=new tD);Pn.get=Pn.get,Pn.has=Pn.has,Pn.set=Pn.set,Cs=function(e,n){if(Pn.has(e))throw new kd(jm);return n.facade=e,Pn.set(e,n),n},Wt=function(e){return Pn.get(e)||{}},Ys=function(e){return Pn.has(e)}}else{var Kr=nD("state");rD[Kr]=!0,Cs=function(e,n){if(gl(e,Kr))throw new kd(jm);return n.facade=e,eD(e,Kr,n),n},Wt=function(e){return gl(e,Kr)?e[Kr]:{}},Ys=function(e){return gl(e,Kr)}}var aD={set:Cs,get:Wt,has:Ys,enforce:iD,getterFor:sD},Ho=cn,lD=Jn,dD=vn,Qi=Dr,fd=dr,oD=U$.CONFIGURABLE,gD=Dc,Lc=aD,uD=Lc.enforce,mD=Lc.get,Im=String,fs=Object.defineProperty,kD=Ho("".slice),fD=Ho("".replace),pD=Ho([].join),cD=fd&&!lD(function(){return fs(function(){},"length",{value:8}).length!==8}),vD=String(String).split("String"),bD=Vc.exports=function(e,n,r){kD(Im(n),0,7)==="Symbol("&&(n="["+fD(Im(n),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(n="get "+n),r&&r.setter&&(n="set "+n),(!Qi(e,"name")||oD&&e.name!==n)&&(fd?fs(e,"name",{value:n,configurable:!0}):e.name=n),cD&&r&&Qi(r,"arity")&&e.length!==r.arity&&fs(e,"length",{value:r.arity});try{r&&Qi(r,"constructor")&&r.constructor?fd&&fs(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var t=uD(e);return Qi(t,"source")||(t.source=pD(vD,typeof n=="string"?n:"")),e};Function.prototype.toString=bD(function(){return dD(this)&&mD(this).source||gD(this)},"toString");var hD=Vc.exports,jD=vn,ID=xt,AD=hD,xD=Co,yD=function(e,n,r,t){t||(t={});var i=t.enumerable,s=t.name!==void 0?t.name:n;if(jD(r)&&AD(r,s,t),t.global)i?e[n]=r:xD(n,r);else{try{t.unsafe?e[n]&&(i=!0):delete e[n]}catch{}i?e[n]=r:ID.f(e,n,{value:r,enumerable:!1,configurable:!t.nonConfigurable,writable:!t.nonWritable})}return e},Kc={},TD=Math.ceil,ED=Math.floor,_D=Math.trunc||function(e){var n=+e;return(n>0?ED:TD)(n)},SD=_D,wc=function(e){var n=+e;return n!==n||n===0?0:SD(n)},RD=wc,ND=Math.max,FD=Math.min,PD=function(e,n){var r=RD(e);return r<0?ND(r+n,0):FD(r,n)},BD=wc,OD=Math.min,VD=function(e){return e>0?OD(BD(e),9007199254740991):0},$D=VD,Jo=function(e){return $D(e.length)},DD=va,GD=PD,MD=Jo,Am=function(e){return function(n,r,t){var i=DD(n),s=MD(i),a=GD(t,s),d;if(e&&r!==r){for(;s>a;)if(d=i[a++],d!==d)return!0}else for(;s>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}},LD={includes:Am(!0),indexOf:Am(!1)},KD=cn,ml=Dr,wD=va,UD=LD.indexOf,CD=qo,xm=KD([].push),Uc=function(e,n){var r=wD(e),t=0,i=[],s;for(s in r)!ml(CD,s)&&ml(r,s)&&xm(i,s);for(;n.length>t;)ml(r,s=n[t++])&&(~UD(i,s)||xm(i,s));return i},Zo=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],YD=Uc,zD=Zo,qD=zD.concat("length","prototype");Kc.f=Object.getOwnPropertyNames||function(e){return YD(e,qD)};var Cc={};Cc.f=Object.getOwnPropertySymbols;var HD=ba,JD=cn,ZD=Kc,WD=Cc,XD=ha,QD=JD([].concat),eG=HD("Reflect","ownKeys")||function(e){var n=ZD.f(XD(e)),r=WD.f;return r?QD(n,r(e)):n},ym=Dr,nG=eG,rG=Lo,tG=xt,iG=function(e,n,r){for(var t=nG(n),i=tG.f,s=rG.f,a=0;a<t.length;a++){var d=t[a];!ym(e,d)&&!(r&&ym(r,d))&&i(e,d,s(n,d))}},sG=Jn,aG=vn,lG=/#|\.prototype\./,Ti=function(e,n){var r=oG[dG(e)];return r===uG?!0:r===gG?!1:aG(n)?sG(n):!!n},dG=Ti.normalize=function(e){return String(e).replace(lG,".").toLowerCase()},oG=Ti.data={},gG=Ti.NATIVE="N",uG=Ti.POLYFILL="P",mG=Ti,kl=Rn,kG=Lo.f,fG=Oc,pG=yD,cG=Co,vG=iG,bG=mG,hG=function(e,n){var r=e.target,t=e.global,i=e.stat,s,a,d,g,m,k;if(t?a=kl:i?a=kl[r]||cG(r,{}):a=(kl[r]||{}).prototype,a)for(d in n){if(m=n[d],e.dontCallGetSet?(k=kG(a,d),g=k&&k.value):g=a[d],s=bG(t?d:r+(i?".":"#")+d,e.forced),!s&&g!==void 0){if(typeof m==typeof g)continue;vG(m,g)}(e.sham||g&&g.sham)&&fG(m,"sham",!0),pG(a,d,m,e)}},jG=ca,Yc=Array.isArray||function(e){return jG(e)==="Array"},IG=TypeError,AG=9007199254740991,xG=function(e){if(e>AG)throw IG("Maximum allowed index exceeded");return e},yG=ca,TG=cn,EG=function(e){if(yG(e)==="Function")return TG(e)},Tm=EG,_G=Uo,SG=Ko,RG=Tm(Tm.bind),NG=function(e,n){return _G(e),n===void 0?e:SG?RG(e,n):function(){return e.apply(n,arguments)}},FG=Yc,PG=Jo,BG=xG,OG=NG,zc=function(e,n,r,t,i,s,a,d){for(var g=i,m=0,k=a?OG(a,d):!1,p,c;m<t;)m in r&&(p=k?k(r[m],m,n):r[m],s>0&&FG(p)?(c=PG(p),g=zc(e,n,p,c,g,s-1)-1):(BG(g+1),e[g]=p),g++),m++;return g},VG=zc,$G=yi,DG=$G("toStringTag"),qc={};qc[DG]="z";var GG=String(qc)==="[object z]",MG=GG,LG=vn,ps=ca,KG=yi,wG=KG("toStringTag"),UG=Object,CG=ps(function(){return arguments}())==="Arguments",YG=function(e,n){try{return e[n]}catch{}},zG=MG?ps:function(e){var n,r,t;return e===void 0?"Undefined":e===null?"Null":typeof(r=YG(n=UG(e),wG))=="string"?r:CG?ps(n):(t=ps(n))==="Object"&&LG(n.callee)?"Arguments":t},qG=cn,HG=Jn,Hc=vn,JG=zG,ZG=ba,WG=Dc,Jc=function(){},XG=[],Zc=ZG("Reflect","construct"),Wo=/^\s*(?:class|function)\b/,QG=qG(Wo.exec),eM=!Wo.test(Jc),Vt=function(e){if(!Hc(e))return!1;try{return Zc(Jc,XG,e),!0}catch{return!1}},Wc=function(e){if(!Hc(e))return!1;switch(JG(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return eM||!!QG(Wo,WG(e))}catch{return!0}};Wc.sham=!0;var nM=!Zc||HG(function(){var e;return Vt(Vt.call)||!Vt(Object)||!Vt(function(){e=!0})||e})?Wc:Vt,Em=Yc,rM=nM,tM=At,iM=yi,sM=iM("species"),_m=Array,aM=function(e){var n;return Em(e)&&(n=e.constructor,rM(n)&&(n===_m||Em(n.prototype))?n=void 0:tM(n)&&(n=n[sM],n===null&&(n=void 0))),n===void 0?_m:n},lM=aM,dM=function(e,n){return new(lM(e))(n===0?0:n)},oM=hG,gM=VG,uM=Uo,mM=Sc,kM=Jo,fM=dM;oM({target:"Array",proto:!0},{flatMap:function(e){var n=mM(this),r=kM(n),t;return uM(e),t=fM(n,0),t.length=gM(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}});var Xc={},pM=Uc,cM=Zo,vM=Object.keys||function(e){return pM(e,cM)},bM=dr,hM=Bc,jM=xt,IM=ha,AM=va,xM=vM;Xc.f=bM&&!hM?Object.defineProperties:function(e,n){IM(e);for(var r=AM(n),t=xM(n),i=t.length,s=0,a;i>s;)jM.f(e,a=t[s++],r[a]);return e};var yM=ba,TM=yM("document","documentElement"),EM=ha,_M=Xc,Sm=Zo,SM=qo,RM=TM,NM=Fc,FM=Gc,Rm=">",Nm="<",pd="prototype",cd="script",Qc=FM("IE_PROTO"),fl=function(){},ev=function(e){return Nm+cd+Rm+e+Nm+"/"+cd+Rm},Fm=function(e){e.write(ev("")),e.close();var n=e.parentWindow.Object;return e=null,n},PM=function(){var e=NM("iframe"),n="java"+cd+":",r;return e.style.display="none",RM.appendChild(e),e.src=String(n),r=e.contentWindow.document,r.open(),r.write(ev("document.F=Object")),r.close(),r.F},es,cs=function(){try{es=new ActiveXObject("htmlfile")}catch{}cs=typeof document<"u"?document.domain&&es?Fm(es):PM():Fm(es);for(var e=Sm.length;e--;)delete cs[pd][Sm[e]];return cs()};SM[Qc]=!0;var BM=Object.create||function(e,n){var r;return e!==null?(fl[pd]=EM(e),r=new fl,fl[pd]=null,r[Qc]=e):r=cs(),n===void 0?r:_M.f(r,n)},OM=yi,VM=BM,$M=xt.f,vd=OM("unscopables"),bd=Array.prototype;bd[vd]===void 0&&$M(bd,vd,{configurable:!0,value:VM(null)});var DM=function(e){bd[vd][e]=!0},GM=DM;GM("flatMap");var MM=Rn,LM=cn,KM=function(e,n){return LM(MM[e].prototype[n])},wM=KM;wM("Array","flatMap");const br="vurderEtterlønnSluttpakke",Ei=({readOnly:e})=>{const n=M.useContext(Ve),r=X();return h.jsx("div",{children:h.jsx(ue,{label:h.jsx(_,{children:h.jsx(f,{id:"BeregningInfoPanel.EtterlønnSluttpakke.HarSøkerInntekt"})}),name:`vurderFaktaBeregningForm.${n}.${br}`,validate:[H],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:Sn,isHorizontal:!0})})};Ei.buildInitialValues=(e,n)=>{var r,t;const i={};if(!e||!e.beregningsgrunnlagPeriode||!n)return{};const s=!Ze(n.status),a=e.beregningsgrunnlagPeriode.flatMap(d=>d.beregningsgrunnlagPrStatusOgAndel).filter(d=>(d==null?void 0:d.arbeidsforhold)&&(d==null?void 0:d.arbeidsforhold.arbeidsforholdType)===mn.ETTERLONN_SLUTTPAKKE);return a.length>0&&(i[br]=s&&((r=a[0])==null?void 0:r.beregnetPrAar)!==void 0?((t=a[0])==null?void 0:t.beregnetPrAar)>0:void 0),i};const UM=e=>{if(!e.andelerForFaktaOmBeregning)return;const n=e.andelerForFaktaOmBeregning.find(r=>r.arbeidsforhold&&r.arbeidsforhold.arbeidsforholdType&&r.arbeidsforhold.arbeidsforholdType===mn.ETTERLONN_SLUTTPAKKE);return n?n.andelsnr:void 0};Ei.transformValues=(e,n,r,t)=>{if(!(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).includes(P.VURDER_ETTERLONN_SLUTTPAKKE))return{};if(!n||n.length===0)return{faktaOmBeregningTilfeller:[P.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[br]}};const i=UM(r);if(!i)return{};const s=n.find(d=>d.andelsnr===i);if(!s)return{faktaOmBeregningTilfeller:[P.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[br]}};if(t.includes(s.andelsnr))return{faktaOmBeregningTilfeller:[P.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[br]}};t.push(s.andelsnr);const a={fastsettEtterlønnSluttpakke:{fastsattPrMnd:s.fastsattBelop}};return{faktaOmBeregningTilfeller:[P.VURDER_ETTERLONN_SLUTTPAKKE,P.FASTSETT_ETTERLONN_SLUTTPAKKE],...a,vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[br]}}};const nv="mottarYtelseField",CM="_frilans",dt=e=>nv+e.andelsnr,ot=()=>nv+CM,YM=(e,n)=>(n&&n.arbeidstakerAndelerUtenIM?n.arbeidstakerAndelerUtenIM:[]).map(r=>e.vurderMottarYtelseValues[dt(r)]).find(r=>r)!==void 0,rv=e=>e.vurderMottarYtelseValues[ot()],tv=(e,n,r)=>{if(!n)return{};const t={};if((n.arbeidstakerAndelerUtenIM?n.arbeidstakerAndelerUtenIM:[]).forEach(s=>{const a=e.vurderMottarYtelseValues[dt(s)];t[s.andelsnr]=a}),!r)return t;const i=r.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(s=>s.aktivitetStatus===F.FRILANSER);return i&&(t[i.andelsnr]=rv(e)),t},ja="inntektFieldArray",zM=e=>e.inntektskategori&&e.inntektskategori!==kn.UDEFINERT?e.inntektskategori:"",qM=(e,n,r)=>{var t,i,s,a,d;const g=(t=e.arbeidsforhold)!=null&&t.arbeidsgiverIdent?n[e.arbeidsforhold.arbeidsgiverIdent]:void 0;return g?It(g,(d=e.arbeidsforhold)==null?void 0:d.eksternArbeidsforholdId):(i=e.arbeidsforhold)!=null&&i.arbeidsforholdType?(s=r[ke.OPPTJENING_AKTIVITET_TYPE].find(m=>{var k;return m.kode===((k=e.arbeidsforhold)==null?void 0:k.arbeidsforholdType)}))==null?void 0:s.navn:(a=r[ke.AKTIVITET_STATUS].find(m=>m.kode===e.aktivitetStatus))==null?void 0:a.navn},iv=(e,n,r)=>({andel:qM(e,n,r)||"",aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,nyAndel:!1,inntektskategori:zM(e),lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler===!0}),HM=(e,n)=>e?e.find(r=>r.andelsnr===n.andelsnr):void 0,JM=(e,n)=>e?e.find(r=>r.andelsnr===n.andelsnr):void 0,ZM=(e,n)=>{const r=HM(n.arbeidstakerOgFrilanserISammeOrganisasjonListe,e);return r&&(r.inntektPrMnd===null||r.inntektPrMnd===void 0)},sv=e=>e.aktivitetStatus&&e.aktivitetStatus===F.ARBEIDSTAKER,av=e=>e.aktivitetStatus&&e.aktivitetStatus===F.FRILANSER,WM=(e,n)=>n?av(e)&&n[vr]:!1,XM=e=>e[yr],QM=(e,n,r)=>r.arbeidsforholdMedLønnsendringUtenIM&&JM(r.arbeidsforholdMedLønnsendringUtenIM,n)&&e[pa],eL=(e,n,r)=>sv(e)&&QM(n,e,r),nL=(e,n)=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&av(e),rL=(e,n)=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&sv(e)&&ZM(e,n),tL=(e,n,r,t)=>tv(e,r.vurderMottarYtelse,t)[n.andelsnr],iL=(e,n)=>e.arbeidsforholdType&&e.arbeidsforholdType===mn.ETTERLONN_SLUTTPAKKE?n[br]:!1,lv=(e,n)=>n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(r=>r.arbeidsforhold&&r.arbeidsforhold.arbeidsgiverIdent===e.arbeidsgiverId&&r.arbeidsforhold.organisasjonstype&&r.arbeidsforhold.organisasjonstype===ti.KUNSTIG)!==void 0,sL=e=>!!e.faktaOmBeregningTilfeller&&e.faktaOmBeregningTilfeller.find(n=>n===P.FASTSETT_BG_KUN_YTELSE)!==void 0,aL=(e,n,r)=>t=>!!(XM(e)||tL(e,t,n,r)||eL(t,e,n)||nL(t,n)||rL(t,n)||lv(t,r)||oc(t,r)||iL(t,e)),lL=(e,n,r)=>t=>!!(aL(e,n,r)(t)||WM(t,e)),Ia=e=>!!e&&e[lt]===!0,dL=e=>e&&e.some(n=>n.definisjon===Te.OVERSTYRING_AV_BEREGNINGSGRUNNLAG),dv=e=>Ia(e),Pm=e=>e.erOverstyrtInntekt||dL(e.avklaringsbehov),ov=(e,n,r)=>t=>sL(n)||lL(e,n,r)(t),oL=(e,n,r)=>t=>Ia(e)||ov(e,n,r)(t),gt=(e,n)=>r=>oL(e,n.faktaOmBeregning,n)(r),gL=e=>n=>lv(n,e),uL=e=>gL(e),mL=(e,n,r)=>({...iv(e,n,r),arbeidsforholdId:e.arbeidsforhold?e.arbeidsforhold.arbeidsforholdId:void 0,arbeidsperiodeFom:e.arbeidsforhold?e.arbeidsforhold.startdato:"",arbeidsperiodeTom:e.arbeidsforhold?e.arbeidsforhold.opphoersdato:"",arbeidsforholdType:e.arbeidsforhold?e.arbeidsforhold.arbeidsforholdType:void 0,aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,arbeidsgiverId:e.arbeidsforhold?e.arbeidsforhold.arbeidsgiverIdent:void 0,skalKunneEndreAktivitet:e.skalKunneEndreAktivitet,fastsattBelop:e.fastsattBelop||e.fastsattBelop===0?z(e.fastsattBelop):"",belopReadOnly:e.belopReadOnly||e.belopReadOnly===0?z(e.belopReadOnly):"",refusjonskrav:e.refusjonskrav||e.refusjonskrav===0?z(e.refusjonskrav):""}),kL=(e,n)=>e.andelsinfo===n.andelsinfo?e.inntektskategori===n.inntektskategori?0:e.inntektskategori>n.inntektskategori?1:-1:e.andelsinfo>n.andelsinfo?1:-1,fL=(e,n)=>{const{nyAndel:r,andel:t,inntektskategori:i,aktivitetStatus:s,arbeidsforholdId:a}=e;if(r){if(!Number.isNaN(Number(t))){const d=n.filter(g=>g.andelsnr===parseFloat(t));if(d.length>0)return{andelsinfo:d[0].andel,inntektskategori:i}}return As[t]?{andelsinfo:t,inntektskategori:i}:{andelsinfo:t,inntektskategori:i}}return xs[s]?{andelsinfo:xs[s],inntektskategori:i}:{andelsinfo:t,inntektskategori:i,arbeidsforholdId:a}},pL=e=>e.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.UlikeAndeler"}),cL=(e,n)=>n.andelsinfo===e.andelsinfo&&n.inntektskategori===e.inntektskategori&&e.arbeidsforholdId===n.arbeidsforholdId,gv=(e,n,r)=>{const t=e.map(i=>n(i,e)).slice().sort((i,s)=>kL(i,s));for(let i=0;i<t.length-1;i+=1)if(cL(t[i],t[i+1]))return pL(r);return null},vL=(e,n)=>gv(e,fL,n),bL=e=>e.formatMessage({id:"BeregningInfoPanel.Validation.MinstEnFastsatt"}),hL=(e,n)=>e.some(({fastsattBelop:r})=>r!==null&&r!==""&&r!==void 0)?null:bL(n),jL="_row_vbpg7_1",IL="_slettIkon_vbpg7_10",AL="_rightAlign_vbpg7_13",xL="_rightAlignInput_vbpg7_16",yL="_inntektTable_vbpg7_24",TL="_buttonRow_vbpg7_59",EL="_addPeriode_vbpg7_62",_L="_customLink_vbpg7_63",SL="_removeButton_vbpg7_64",RL="_addCircleIcon_vbpg7_72",NL="_imageText_vbpg7_73",FL="_storBredde_vbpg7_78",PL="_mediumBredde_vbpg7_81",BL="_flexColumn3_vbpg7_84",dn={row:jL,slettIkon:IL,rightAlign:AL,rightAlignInput:xL,inntektTable:yL,buttonRow:TL,addPeriode:EL,customLink:_L,removeButton:SL,addCircleIcon:RL,imageText:NL,storBredde:FL,mediumBredde:PL,flexColumn3:BL},OL=(e,n)=>{var r;return{andel:(r=n[ke.AKTIVITET_STATUS].find(t=>t.kode===e.filter(i=>i===F.BRUKERS_ANDEL)[0]))==null?void 0:r.navn,fastsattBelop:"",inntektskategori:"",nyAndel:!0,lagtTilAvSaksbehandler:!0}},VL=e=>e.map(n=>h.jsx("option",{value:n.kode,children:n.navn},n.kode)),$L=e=>{let n=0;return e.forEach(r=>{n+=r.fastsattBelop?de(r.fastsattBelop):0}),n>0?z(n):""};function DL(e,n,r){return(n[e].nyAndel||n[e].lagtTilAvSaksbehandler)&&!r}const GL=(e,n,r,t,i,s,a)=>e.map((d,g)=>h.jsxs(Je,{className:dn.row,children:[h.jsx(q,{children:h.jsx(f,{id:"BeregningInfoPanel.FordelingBG.Ytelse"})}),h.jsx(q,{className:dn.rightAlignInput,children:h.jsx(pe,{name:`${s}.${g}.fastsattBelop`,className:dn.mediumBredde,parse:ye,readOnly:r,isEdited:n,validate:r?[]:[H,en(178956970)],label:i.formatMessage({id:"BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn"},{andel:`ytelse ${g+1}`}),hideLabel:!0})}),h.jsx(q,{className:dn.rightAlign,children:h.jsx(kt,{label:i.formatMessage({id:"BeregningInfoPanel.FordelingBG.InntektskategoriMedAndelnavn"},{andel:`ytelse ${g+1}`}),name:`${s}.${g}.inntektskategori`,className:dn.storBredde,selectValues:VL(t),readOnly:r,validate:r?[]:[H],hideLabel:!0})}),h.jsx(q,{children:DL(g,e,r)&&h.jsx(ne,{icon:h.jsx(Cn,{"aria-hidden":!0,className:dn.slettIkon}),onClick:()=>a(g),type:"button",variant:"tertiary"})})]},d.id)),ML=e=>h.jsxs(Je,{children:[h.jsx(q,{children:h.jsx(f,{id:"BeregningInfoPanel.FordelingBG.Sum"})}),h.jsx(q,{className:dn.rightAlign,children:h.jsx(le,{children:e})}),h.jsx(q,{})]},"bruttoBGSummaryRow"),LL=()=>["BeregningInfoPanel.FordelingBG.Andel","BeregningInfoPanel.FordelingBG.Fordeling","BeregningInfoPanel.FordelingBG.Inntektskategori"],KL=e=>e[ke.INNTEKTSKATEGORI].slice().sort((n,r)=>n.navn.localeCompare(r.navn)),wL=e=>{const{andel:n,inntektskategori:r}=e;return{andelsinfo:n,inntektskategori:r}},UL=(e,n)=>gv(e,wL,n)||null,uv=({name:e,readOnly:n,isAksjonspunktClosed:r,kodeverkSamling:t})=>{var i;const s=X(),{control:a}=me(),d=M.useContext(Ve),g=`${An}.${d}.${e}`,{fields:m,append:k,remove:p}=Me({control:a,name:g}),c=(i=t[ke.AKTIVITET_STATUS])==null?void 0:i.map(O=>O.kode),b=KL(t),I=On({name:g,control:a}),T=$L(I)||0,R=GL(m,r,n,b,s,g,p);R.push(ML(T));const S=UL(I,s),N=`${g}.skjemagruppe`,E=Er(N,S);return h.jsxs("div",{children:[h.jsx(an,{headerTextCodes:LL(),noHover:!0,classNameTable:dn.inntektTable,children:R}),!n&&h.jsx(D,{className:dn.buttonRow,children:h.jsx(y,{className:dn.flexColumn3,children:h.jsx(ne,{icon:h.jsx(mt,{"aria-hidden":!0,className:dn.addCircleIcon}),onClick:()=>k(OL(c,t)),type:"button",variant:"tertiary",children:h.jsx(le,{className:dn.imageText,children:h.jsx(f,{id:"BeregningInfoPanel.FordelingBG.LeggTilAndel"})})})})}),h.jsx(A,{eightPx:!0}),E&&h.jsx(Dn,{children:E})]})},Xo="besteberegningField",yt=({readOnly:e,isAksjonspunktClosed:n,brukersAndelFieldArrayName:r,skalViseInntektstabell:t,kodeverkSamling:i})=>{const{getValues:s}=me(),a=M.useContext(Ve),d=s(`${An}.${a}`)[Xo],g=X();return h.jsxs("div",{children:[h.jsx(ue,{name:`vurderFaktaBeregningForm.${a}.besteberegningField`,isReadOnly:e,label:h.jsx(f,{id:"KunYtelsePanel.HarBesteberegning"}),radios:[{value:"true",label:g.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:g.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:e?[]:[H],parse:Sn,isHorizontal:!0}),d!=null&&h.jsxs(Qd,{alignOffset:d?0:60,children:[h.jsxs(D,{children:[h.jsx(y,{className:cr.flexColumn9,children:h.jsx(G,{size:"small",children:h.jsx(f,{id:"KunYtelsePanel.OverskriftBesteberegning"})})}),d&&h.jsx(y,{className:cr.flexColumn3,children:h.jsx("a",{className:cr.navetLink,href:aa,target:"_blank",rel:"noopener noreferrer",children:h.jsx(f,{id:"BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet"})})})]}),t&&h.jsx(D,{children:h.jsx(y,{className:cr.flexColumn12,children:h.jsx(uv,{name:r,readOnly:e,isAksjonspunktClosed:n,kodeverkSamling:i})})})]})]})};yt.defaultProps={erBesteberegning:void 0,skalViseInntektstabell:!0};yt.buildInitialValues=e=>({[Xo]:e.erBesteberegning});yt.transformValues=e=>e[Xo];const CL="_flexColumn9_csgl6_1",YL={flexColumn9:CL},zL=({readOnly:e,brukersAndelFieldArrayName:n,kodeverkSamling:r,isAksjonspunktClosed:t})=>h.jsxs(Ck,{children:[h.jsx(D,{children:h.jsx(y,{className:YL.flexColumn9,children:h.jsx(G,{size:"small",children:h.jsx(f,{id:"KunYtelsePanel.Overskrift"})})})}),h.jsx(uv,{name:n,readOnly:e,isAksjonspunktClosed:t,kodeverkSamling:r})]}),Xt="brukersAndelBG",Gr=({readOnly:e,faktaOmBeregning:n,isAksjonspunktClosed:r,skalViseInntektstabell:t,kodeverkSamling:i})=>{const{kunYtelse:s}=n,a=s.fodendeKvinneMedDP;return h.jsxs("div",{children:[a&&h.jsx(yt,{readOnly:e,isAksjonspunktClosed:r,brukersAndelFieldArrayName:Xt,skalViseInntektstabell:t,kodeverkSamling:i}),!a&&t&&h.jsx(zL,{readOnly:e,brukersAndelFieldArrayName:Xt,isAksjonspunktClosed:r,kodeverkSamling:i})]})};Gr.defaultProps={skalViseInntektstabell:!0};Gr.buildInitialValues=(e,n,r,t)=>{if(!e||!e.andeler||e.andeler.length===0)return{};const i=e.andeler.map(a=>{const d=n.find(g=>g.andelsnr===a.andelsnr);if(!d)throw new Error(`Finner ikke faktaAndel med andelsnr ${a.andelsnr}`);return{...iv(d,r,t),fastsattBelop:z(a.fastsattBelopPrMnd)||""}}),s={[Xt]:i};return e.fodendeKvinneMedDP?{...yt.buildInitialValues(e),...s}:s};Gr.summerFordeling=e=>e[Xt].map(({fastsattBelop:n})=>n?de(n):0).reduce((n,r)=>n+r,0);Gr.transformValues=(e,n)=>({kunYtelseFordeling:{andeler:e[Xt].map(r=>({andelsnr:r.andelsnr,fastsattBeløp:de(r.fastsattBelop),inntektskategori:r.inntektskategori,nyAndel:r.nyAndel,lagtTilAvSaksbehandler:r.lagtTilAvSaksbehandler})),skalBrukeBesteberegning:n.fodendeKvinneMedDP?yt.transformValues(e):null}});const{FASTSETT_BG_KUN_YTELSE:zs,VURDER_BESTEBEREGNING:qL}=P,HL=(e,n,r,t,i,s)=>{n.includes(zs)&&e.push(h.jsx(M.Fragment,{children:h.jsx(Gr,{readOnly:r,isAksjonspunktClosed:t,faktaOmBeregning:i,kodeverkSamling:s})},"FASTSETT_BG_KUN_YTELSE"))},JL=(e,n,r)=>{if(r.includes(zs)){const t=Gr.transformValues(e,n),i=[zs];return n.fodendeKvinneMedDP&&i.push(qL),{faktaOmBeregningTilfeller:i,...t}}return{}},ZL=(e,n,r,t,i)=>n&&n.includes(zs)?Gr.buildInitialValues(e,r,t,i):{},Qo="erSNNyIArbeidslivet",_i=({readOnly:e})=>{const n=M.useContext(Ve),r=X();return h.jsx("div",{children:h.jsx(ue,{label:h.jsx(_,{children:h.jsx(f,{id:"BeregningInfoPanel.NyIArbeidslivet.SelvstendigNaeringsdrivende"})}),name:`vurderFaktaBeregningForm.${n}.${Qo}`,validate:[H],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:Sn,isHorizontal:!0})})};_i.buildInitialValues=e=>{var n;const r={};if(!e||!e.beregningsgrunnlagPeriode)return r;const t=e.beregningsgrunnlagPeriode.map(i=>i.beregningsgrunnlagPrStatusOgAndel).flat().filter(i=>(i==null?void 0:i.aktivitetStatus)===F.SELVSTENDIG_NAERINGSDRIVENDE);return t.length>0&&(r[Qo]=(n=t[0])==null?void 0:n.erNyIArbeidslivet),r};_i.transformValues=e=>({vurderNyIArbeidslivet:{erNyIArbeidslivet:e[Qo]}});const WL="BeregningInfoPanel.TidsbegrensetArbFor.Arbeidsforhold",eg=e=>e&&e.arbeidsforhold?`${e.arbeidsforhold.arbeidsgiverIdent}(${e.arbeidsforhold.arbeidsforholdId})(${e.andelsnr})`:"",Bm=(e,n)=>{const r=n[e.arbeidsgiverIdent];return It(r,e.eksternArbeidsforholdId)},Si=({readOnly:e,faktaOmBeregning:n,arbeidsgiverOpplysningerPerId:r})=>{const t=n.kortvarigeArbeidsforhold,i=M.useContext(Ve),s=X();return h.jsx("div",{children:t.map(a=>h.jsx("div",{children:h.jsx(ue,{label:h.jsx(_,{children:h.jsx(f,{id:WL,values:{navn:Bm(a.arbeidsforhold,r),fom:x(a.arbeidsforhold.startdato).format(ee),tom:x(a.arbeidsforhold.opphoersdato).format(ee)}})}),name:`vurderFaktaBeregningForm.${i}.tidsbegrensetValues.${eg(a)}`,isReadOnly:e,radios:[{value:"true",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[H],parse:Sn,isHorizontal:!0})},`fastsettTidsbegrensedeForhold_${Bm(a.arbeidsforhold,r)}`))})};Si.buildInitialValues=e=>{const n={};return e&&e.forEach(r=>{r.erTidsbegrensetArbeidsforhold!==void 0&&(n[eg(r)]=r.erTidsbegrensetArbeidsforhold)}),n};Si.transformValues=(e,n)=>{const r=[];return n.forEach(t=>{const i=eg(t),s=e.tidsbegrensetValues[i],a={andelsnr:t.andelsnr,tidsbegrensetArbeidsforhold:s,opprinneligVerdi:t.erTidsbegrensetArbeidsforhold};r.push(a)}),{vurderTidsbegrensetArbeidsforhold:{fastsatteArbeidsforhold:r}}};const ng="vurderMilitær",Ri=({readOnly:e})=>{const n=M.useContext(Ve),r=X();return h.jsx("div",{children:h.jsx(ue,{label:h.jsx(_,{children:h.jsx(f,{id:"BeregningInfoPanel.VurderMilitaer.HarSøkerMilitærinntekt"})}),name:`vurderFaktaBeregningForm.${n}.${ng}`,isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[H],parse:Sn,isHorizontal:!0})})};Ri.buildInitialValues=e=>{const n={};return!e||!e.vurderMilitaer||(n[ng]=e.vurderMilitaer.harMilitaer),n};Ri.transformValues=e=>({vurderMilitaer:{harMilitaer:e[ng]}});const XL=[P.VURDER_NYOPPSTARTET_FL,P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON],QL=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForArbeid",e2=(e,n,r)=>{var t;const i=r[e.arbeidsgiverIdent];let s;return i?s=It(i,e.eksternArbeidsforholdId):s=e.arbeidsforholdType?(t=n[ke.OPPTJENING_AKTIVITET_TYPE].find(a=>a.kode===e.arbeidsforholdType))==null?void 0:t.navn:"",h.jsx(f,{id:QL(),values:{arbeid:s}})},n2=(e,n,r,t,i,s)=>h.jsx("div",{children:h.jsx(ue,{label:h.jsx(_,{children:e2(e.arbeidsforhold,r,t)}),name:`vurderFaktaBeregningForm.${i}.vurderMottarYtelseValues.${dt(e)}`,isReadOnly:n,radios:[{value:"true",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:Sn,validate:n?[]:[H],isHorizontal:!0})},dt(e)),r2=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilansUtenFrilans",t2=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilans",i2=e=>e.some(n=>XL.includes(n))?r2():t2(),Ni=({readOnly:e,beregningsgrunnlag:n,tilfeller:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i})=>{const s=M.useContext(Ve),a=n.faktaOmBeregning?n.faktaOmBeregning.vurderMottarYtelse:void 0,d=a&&a.erFrilans,g=a&&a.arbeidstakerAndelerUtenIM?a.arbeidstakerAndelerUtenIM:[],m=X();return h.jsxs("div",{children:[d&&h.jsx("div",{children:h.jsx(ue,{label:h.jsx("div",{children:h.jsx(_,{children:h.jsx(f,{id:i2(r)})})},ot()),name:`vurderFaktaBeregningForm.${s}.vurderMottarYtelseValues.${ot()}`,isReadOnly:e,radios:[{value:"true",label:m.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:m.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:Sn,validate:e?[]:[H],isHorizontal:!0})}),g.map(k=>h.jsx(h.Fragment,{children:n2(k,e,t,i,s,m)}))]})},s2=(e,n,r,t,i,s)=>{if(n===null)return{};if(YM(e,r.vurderMottarYtelse)){const a=[],d=tv(e,r.vurderMottarYtelse,t);return r.vurderMottarYtelse.arbeidstakerAndelerUtenIM.forEach(g=>{if(d[g.andelsnr]&&!i.includes(g.andelsnr)){const m=n.find(k=>k.andelsnr===g.andelsnr).fastsattBelop;(m||m===0)&&(a.push({andelsnr:g.andelsnr,fastsattBeløp:de(m)}),i.push(g.andelsnr))}}),a.length>0?(s.push(P.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING),{fastsattUtenInntektsmelding:{andelListe:a}}):{}}return{}},a2=(e,n,r,t,i)=>{if(n===null)return{};if(e.vurderMottarYtelseValues[ot()]){const s=r.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(a=>a.aktivitetStatus===F.FRILANSER);if(!t.includes(s.andelsnr)&&rv(e)){const a=n.find(d=>d.andelsnr===s.andelsnr);return t.push(s.andelsnr),i.push(P.FASTSETT_MAANEDSINNTEKT_FL),{fastsettMaanedsinntektFL:{maanedsinntekt:de(a.fastsattBelop)}}}return{}}return{}},l2=(e,n,r)=>{const t=n.vurderMottarYtelse.arbeidstakerAndelerUtenIM?n.vurderMottarYtelse.arbeidstakerAndelerUtenIM:[];return r.push(P.VURDER_MOTTAR_YTELSE),{mottarYtelse:{frilansMottarYtelse:e.vurderMottarYtelseValues[ot()],arbeidstakerUtenIMMottarYtelse:t.map(i=>({andelsnr:i.andelsnr,mottarYtelse:e.vurderMottarYtelseValues[dt(i)]}))}}};Ni.buildInitialValues=e=>{const n={};if(!e)return n;e.erFrilans&&(n[ot()]=e.frilansMottarYtelse);const r=e.arbeidstakerAndelerUtenIM?e.arbeidstakerAndelerUtenIM:[];return r.length<1||r.forEach(t=>{n[dt(t)]=t.mottarYtelse}),n};Ni.transformValues=(e,n,r,t,i)=>{const s=[];return(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).map(a=>a).includes(P.VURDER_MOTTAR_YTELSE)?{...l2(e,r,s),...s2(e,n,r,t,i,s),...a2(e,n,t,i,s),faktaOmBeregningTilfeller:s}:{}};const d2="_buttonRow_11vqq_1",o2="_addPeriode_11vqq_4",g2="_customLink_11vqq_5",u2="_removeButton_11vqq_6",m2="_addCircleIcon_11vqq_14",k2="_imageText_11vqq_15",f2="_flexColumn_11vqq_20",ns={buttonRow:d2,addPeriode:o2,customLink:g2,removeButton:u2,addCircleIcon:m2,imageText:k2,flexColumn:f2},p2=e=>({andel:e.filter(({kode:n})=>n===F.DAGPENGER)[0].navn,aktivitetStatus:F.DAGPENGER,fastsattBelop:"",inntektskategori:kn.DAGPENGER,nyAndel:!0,skalKunneEndreAktivitet:!0,lagtTilAvSaksbehandler:!0}),Om=({leggTilAndel:e,kodeverkSamling:n})=>{const r=n[ke.AKTIVITET_STATUS];return h.jsx(D,{className:ns.buttonRow,children:h.jsx(y,{className:ns.flexColumn,children:h.jsx(ne,{icon:h.jsx(mt,{"aria-hidden":!0,className:ns.addCircleIcon}),onClick:()=>e(p2(r)),type:"button",variant:"tertiary",children:h.jsx(le,{className:ns.imageText,children:h.jsx(f,{id:"BeregningInfoPanel.FordelingBG.LeggTilDagpengerAndel"})})})})})},c2="_slettIkon_1j5jk_1",v2="_rightAlign_1j5jk_4",b2="_rightAlignInput_1j5jk_7",h2="_inntektTable_1j5jk_21",j2="_buttonRow_1j5jk_72",I2="_addPeriode_1j5jk_75",A2="_customLink_1j5jk_76",x2="_removeButton_1j5jk_77",y2="_addCircleIcon_1j5jk_80",T2="_imageText_1j5jk_81",E2="_readOnlyContainer_1j5jk_86",_2="_readOnlyContent_1j5jk_89",S2="_storBredde_1j5jk_94",R2="_mediumBredde_1j5jk_97",N2="_litenBredde_1j5jk_100",Xe={slettIkon:c2,rightAlign:v2,rightAlignInput:b2,inntektTable:h2,buttonRow:j2,addPeriode:I2,customLink:A2,removeButton:x2,addCircleIcon:y2,imageText:T2,readOnlyContainer:E2,readOnlyContent:_2,storBredde:S2,mediumBredde:R2,litenBredde:N2},F2=(e,n)=>{const r=[];return r.push("BeregningInfoPanel.FordelingBG.Andel"),e&&r.push("BeregningInfoPanel.FordelingBG.Arbeidsperiode"),r.push("BeregningInfoPanel.FordelingBG.Fordeling"),n&&r.push("BeregningInfoPanel.FordelingBG.Refusjonskrav"),r.push("BeregningInfoPanel.FordelingBG.Inntektskategori"),r},P2=e=>e.map(n=>h.jsx("option",{value:n.kode,children:n.navn},n.kode)),B2=e=>e[ke.INNTEKTSKATEGORI].slice().sort((n,r)=>n.navn.localeCompare(r.navn)),O2=({field:e,skalVisePeriode:n,skalViseRefusjon:r,skalViseSletteknapp:t,readOnly:i,isAksjonspunktClosed:s,removeAndel:a,beregningsgrunnlag:d,kodeverkSamling:g,rowName:m,skalFastsetteInntektForAndel:k})=>{const p=X(),{getValues:c}=me(),b=M.useContext(Ve),I=c(`vurderFaktaBeregningForm.${b}`),T=gt(I,d)(e),R=uL(d)(e),S=B2(g),N=e.arbeidsperiodeFom||e.arbeidsperiodeTom;return h.jsxs(Je,{children:[h.jsx(q,{children:h.jsx(pe,{name:`${m}.andel`,className:Xe.storBredde,readOnly:!0})}),h.jsx(q,{children:n&&N&&h.jsx(Kk,{value:h.jsx(Ge,{dateStringFom:e.arbeidsperiodeFom,dateStringTom:e.arbeidsperiodeTom})})}),T&&h.jsx(q,{className:Xe.rightAlignInput,children:h.jsx(pe,{label:p.formatMessage({id:"BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn"},{andel:e.andel}),name:`${m}.fastsattBelop`,parse:ye,className:Xe.mediumBredde,readOnly:i,isEdited:s,validate:k(e)?[H,en(178956970)]:[],hideLabel:!0})}),!T&&h.jsx(q,{className:Xe.rightAlign,children:h.jsx(pe,{name:`${m}.belopReadOnly`,className:Xe.mediumBredde,parse:ye,readOnly:!0})}),r&&h.jsx(q,{className:Xe.rightAlign,children:h.jsx(pe,{name:`${m}.refusjonskrav`,className:Xe.litenBredde,readOnly:!0,parse:ye})}),h.jsx(q,{className:Xe.rightAlign,children:h.jsx(kt,{label:p.formatMessage({id:"BeregningInfoPanel.FordelingBG.Inntektskategori"}),name:`${m}.inntektskategori`,className:Xe.storBredde,selectValues:P2(S),validate:i?[]:[H],readOnly:i||!R,hideLabel:!0})}),h.jsx(q,{children:t&&h.jsx(ne,{icon:h.jsx(Cn,{"aria-hidden":!0,className:Xe.slettIkon}),onClick:()=>a(),type:"button",variant:"tertiary"})})]})},V2=(e,n,r)=>{let t=0;return e.forEach(i=>{const s=gt(n,r)(i)?i.fastsattBelop:i.belopReadOnly;t+=s?de(s):0}),t>0?t:0},$2=({skalVisePeriode:e,skalViseRefusjon:n,readOnly:r,beregningsgrunnlag:t})=>{const{control:i,getValues:s}=me(),a=M.useContext(Ve),d=s(`vurderFaktaBeregningForm.${a}`),g=On({control:i,name:`vurderFaktaBeregningForm.${a}.inntektFieldArray`}),m=V2(g,d,t)||0;return h.jsxs(Je,{children:[h.jsx(q,{children:h.jsx(f,{id:"BeregningInfoPanel.FordelingBG.Sum"})}),e&&h.jsx(q,{}),h.jsx(q,{className:Xe.rightAlign,children:h.jsx("div",{className:Xe.readOnlyContainer,children:h.jsx(_,{"data-testid":"sum",className:r?Xe.readOnlyContent:"",children:z(m)})})}),n&&h.jsx(q,{}),h.jsx(q,{})]})},D2=e=>({andel:e.find(({kode:n})=>n===F.DAGPENGER).navn,aktivitetStatus:F.DAGPENGER,fastsattBelop:"",inntektskategori:kn.DAGPENGER,nyAndel:!0,skalKunneEndreAktivitet:!1,lagtTilAvSaksbehandler:!0}),G2=e=>({andel:e.find(({kode:n})=>n===F.MILITAER_ELLER_SIVIL).navn,aktivitetStatus:F.MILITAER_ELLER_SIVIL,fastsattBelop:"",inntektskategori:kn.ARBEIDSTAKER,nyAndel:!0,skalKunneEndreAktivitet:!1,lagtTilAvSaksbehandler:!0}),M2=(e,n,r)=>n[e].skalKunneEndreAktivitet===!0&&!r,hd=e=>{let n=!1;return e.forEach(r=>{r.refusjonskrav!==""&&r.refusjonskrav!==null&&r.refusjonskrav!==void 0&&(n=!0)}),n},jd=e=>{let n=!1;return e.forEach(r=>{r.arbeidsgiverId!==""&&(n=!0)}),n},L2=(e,n)=>()=>{n(e)},K2=(e,n,r)=>h.jsx($2,{readOnly:n,skalVisePeriode:jd(e),skalViseRefusjon:hd(e),beregningsgrunnlag:r},"summaryRow"),mv=(e,n)=>{let r=-1;return e.forEach((t,i)=>{t.aktivitetStatus===n&&(r=i)}),r},Vm=e=>mv(e,F.DAGPENGER)!==-1,kv=(e,n,r,t,i,s,a,d)=>{const g=mv(e,n);if(g!==-1){const m=e[g];t(m)&&a(g)}g===-1&&r&&d({...i,kanRedigereInntekt:s()(i)})},w2=(e,n,r,t,i,s,a)=>{kv(e,F.DAGPENGER,n,d=>!n&&!t&&d.lagtTilAvSaksbehandler,D2(r),i,s,a)},U2=(e,n,r,t,i,s)=>{kv(e,F.MILITAER_ELLER_SIVIL,n===!0,()=>n===!1,G2(r),t,i,s)},C2=(e,n)=>hL(e,n)??null,Y2=(e,n,r)=>n&&n.length>0?null:vL(e.inntektFieldArray,r)||(Ia(e)?C2(e.inntektFieldArray,r):null),Tt=({readOnly:e,skalKunneLeggeTilDagpengerManuelt:n,beregningsgrunnlag:r,isAksjonspunktClosed:t,kodeverkSamling:i})=>{var s,a;const{getValues:d,control:g,formState:m}=me(),{errors:k}=m,p=M.useContext(Ve),c=`vurderFaktaBeregningForm.${p}.inntektFieldArray`,{fields:b,remove:I,append:T,update:R}=Me({control:g,name:c}),S=On({control:g,name:`vurderFaktaBeregningForm.${p}`}),N=On({control:g,name:`vurderFaktaBeregningForm.${p}.vurderbesteberegningField`}),E=On({control:g,name:`vurderFaktaBeregningForm.${p}.vurderMilitær`}),O=X(),$=j.useCallback(()=>gt(S,r),[S,r]);j.useEffect(()=>{const U=d(`vurderFaktaBeregningForm.${p}.inntektFieldArray`),K=i[ke.AKTIVITET_STATUS];U2(U,E,K,$,I,T),w2(U,N,K,n,$,I,T)},[N,E,n]);const V=(U,K)=>{R(U,{...b[U],kanRedigereInntekt:K})};j.useEffect(()=>{b.forEach((U,K)=>{const w=U.kanRedigereInntekt,Q=gt(S,r)(U);!(!N&&!n&&U.lagtTilAvSaksbehandler)&&w!==Q&&V(K,Q)})},[S]);const L=(a=(s=k==null?void 0:k.vurderFaktaBeregningForm)==null?void 0:s[p])==null?void 0:a.inntektFieldArray,Z=Y2(S,L,O),J=`${c}.skjemagruppe`,C=Er(J,Z),B=b.map((U,K)=>h.jsx(O2,{field:U,skalVisePeriode:jd(b),skalViseRefusjon:hd(b),skalViseSletteknapp:M2(K,b,e),readOnly:e,removeAndel:L2(K,I),beregningsgrunnlag:r,isAksjonspunktClosed:t,kodeverkSamling:i,rowName:`${c}.${K}`,skalFastsetteInntektForAndel:ov(S,r.faktaOmBeregning,r)},U.id));return B.length===0?n?h.jsxs("div",{children:[!e&&!Vm(b)&&h.jsx(Om,{leggTilAndel:T,kodeverkSamling:i}),h.jsx(A,{eightPx:!0}),C&&h.jsx(Dn,{children:C})]}):null:(B.push(K2(b,e,r)),h.jsxs("div",{children:[h.jsx(an,{headerTextCodes:F2(jd(b),hd(b)),noHover:!0,classNameTable:Xe.inntektTable,children:B}),!e&&n&&!Vm(b)&&h.jsx(Om,{leggTilAndel:T,kodeverkSamling:i}),h.jsx(A,{eightPx:!0}),C&&h.jsx(Dn,{children:C})]}))};Tt.defaultProps={skalKunneLeggeTilDagpengerManuelt:!1};Tt.transformValues=e=>e?e.filter(({kanRedigereInntekt:n})=>n).filter(({fastsattBelop:n})=>n!==null&&n!=="").map(n=>({andelsnr:n.andelsnr,fastsattBelop:de(n.fastsattBelop),inntektskategori:n.inntektskategori,nyAndel:n.nyAndel,lagtTilAvSaksbehandler:n.lagtTilAvSaksbehandler,aktivitetStatus:n.aktivitetStatus,arbeidsforholdId:n.arbeidsforholdId,arbeidsgiverId:n.arbeidsgiverId})):null;Tt.buildInitialValues=(e,n,r)=>!e||e.length===0?[]:e.map(t=>mL(t,n,r));const z2=e=>e.arbeidsforhold&&e.arbeidsforhold.organisasjonstype&&e.arbeidsforhold.organisasjonstype===ti.KUNSTIG,q2=(e,n)=>e.includes(P.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING)?n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(z2)!==void 0:!1,H2=(e,n)=>n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(r=>r.andelsnr===e.andelsnr&&r.arbeidsforhold&&r.arbeidsforhold.organisasjonstype&&r.arbeidsforhold.organisasjonstype===ti.KUNSTIG)!==void 0,J2=(e,n,r,t,i)=>{const s=r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[];if(!s.map(g=>g).includes(P.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING)&&!s.map(g=>g).includes(P.VURDER_LONNSENDRING))return{};if(!n)return{};const a=n.filter(g=>!i.includes(g.andelsnr)).filter(g=>oc(g,t,g.arbeidsforholdId)||H2(g,t)||H1(g,r,e));a.forEach(g=>i.push(g.andelsnr));const d=a.map(g=>({andelsnr:g.andelsnr,fastsattBeløp:de(g.fastsattBelop),inntektskategori:g.inntektskategori}));return d.length>0?{faktaOmBeregningTilfeller:[P.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING],fastsattUtenInntektsmelding:{andelListe:d}}:{}},Z2=(e,n,r)=>{if((n.faktaOmBeregningTilfeller?n.faktaOmBeregningTilfeller:[]).map(t=>t).includes(P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON)&&e){const t=e.filter(i=>!r.includes(i.andelsnr)).filter(i=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe.map(({andelsnr:s})=>s).includes(i.andelsnr)).map(i=>({andelsnr:i.andelsnr,arbeidsinntekt:i.fastsattBelop}));if(n.frilansAndel&&!r.includes(n.frilansAndel.andelsnr)){const i=e.find(s=>s.andelsnr===n.frilansAndel.andelsnr);t.push({andelsnr:n.frilansAndel.andelsnr,arbeidsinntekt:i.fastsattBelop})}if(t.forEach(i=>r.push(i.andelsnr)),t.length>0)return{faktaOmBeregningTilfeller:[P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON],vurderATogFLiSammeOrganisasjon:{vurderATogFLiSammeOrganisasjonAndelListe:t}}}return{faktaOmBeregningTilfeller:[]}},W2=e=>e.faktaOmBeregning.faktaOmBeregningTilfeller?e.faktaOmBeregning.faktaOmBeregningTilfeller.map(n=>n).includes(P.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON):!1,X2=({beregningsgrunnlag:e,manglerInntektsmelding:n})=>W2(e)?n?h.jsx(_,{children:h.jsx(f,{id:"BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrgUtenIM"})}):h.jsx(_,{children:h.jsx(f,{id:"BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrg"})}):null,Q2=(e,n)=>{const r=i=>gt(e,n)(i),t=e[ja];return t?t.filter(i=>i.aktivitetStatus===F.ARBEIDSTAKER).map(r).includes(!0):!1},eK=(e,n)=>{const r=i=>gt(e,n)(i),t=e[ja];return t?t.filter(i=>i.aktivitetStatus===F.FRILANSER).map(r).includes(!0):!1},nK=e=>{const{faktaOmBeregning:n}=e;return n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&n.arbeidstakerOgFrilanserISammeOrganisasjonListe.length>0?n.arbeidstakerOgFrilanserISammeOrganisasjonListe.find(r=>!r.inntektPrMnd)!==void 0:!1},rK=e=>!e.includes(P.FASTSETT_BG_KUN_YTELSE),tK=(e,n,r,t)=>t?"BeregningInfoPanel.KunstigArbeidsforhold.FastsettKunstigArbeidsforhold":e?"KunYtelsePanel.OverskriftBesteberegning":n?r?"BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLAlleOppdrag":"BeregningInfoPanel.VurderOgFastsettATFL.FastsettFrilans":r?"BeregningInfoPanel.VurderOgFastsettATFL.FastsettArbeidsinntekt":"",iK=(e,n,r,t,i)=>h.jsx(Tt,{readOnly:e,skalKunneLeggeTilDagpengerManuelt:i,beregningsgrunnlag:n,kodeverkSamling:t,isAksjonspunktClosed:r}),Fi=({readOnly:e,isAksjonspunktClosed:n,tilfeller:r,beregningsgrunnlag:t,avklaringsbehov:i,kodeverkSamling:s,erOverstyrer:a,arbeidsgiverOpplysningerPerId:d,updateOverstyring:g})=>{const{getValues:m}=me(),k=M.useContext(Ve),p=m(`vurderFaktaBeregningForm.${k}`),c=j.useMemo(()=>dv(p),[p,t,i]),b=j.useMemo(()=>Q2(p,t),[p,t]),I=j.useMemo(()=>eK(p,t),[p,t]),T=p[yr]===!0,R=j.useMemo(()=>nK(t),[t]),S=j.useMemo(()=>rK(r),[r]),N=j.useMemo(()=>q2(r,t),[r,t]);return h.jsx("div",{children:h.jsxs(fa,{tabell:iK(e,t,n,s,c),skalViseTabell:S,hjelpeTekstId:tK(T,I,b,N),readOnly:e,erOverstyrer:a,avklaringsbehov:i,updateOverstyring:g,erOverstyrt:c,children:[h.jsx(X2,{beregningsgrunnlag:t,manglerInntektsmelding:R}),r.includes(P.VURDER_LONNSENDRING)&&h.jsx(Ai,{readOnly:e}),r.includes(P.VURDER_ETTERLONN_SLUTTPAKKE)&&h.jsx(Ei,{readOnly:e}),r.includes(P.VURDER_NYOPPSTARTET_FL)&&h.jsx(xi,{readOnly:e}),r.includes(P.VURDER_MOTTAR_YTELSE)&&h.jsx(Ni,{readOnly:e,isAksjonspunktClosed:n,tilfeller:r,beregningsgrunnlag:t,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:d}),r.includes(P.VURDER_BESTEBEREGNING)&&!r.includes(P.FASTSETT_BG_KUN_YTELSE)&&h.jsx(Ii,{readOnly:e,erOverstyrt:c})]},"inntektstabell")})};Fi.buildInitialValues=(e,n,r,t)=>{if(!e)return{};const i=e.andelerForFaktaOmBeregning;return i.length===0?{}:{[ja]:Tt.buildInitialValues(i,r,t),...fa.buildInitialValues(n)}};const mr=(e,n)=>({...e,...n,faktaOmBeregningTilfeller:n.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller.concat(n.faktaOmBeregningTilfeller):e.faktaOmBeregningTilfeller}),sK=(e,n,r,t)=>{if(Ia(e)){const i=r.filter(s=>!t.includes(s.andelsnr)).filter(s=>s.fastsattBelop!=null).map(s=>({andelsnr:s.andelsnr,nyAndel:s.nyAndel,aktivitetStatus:s.aktivitetStatus,lagtTilAvSaksbehandler:s.lagtTilAvSaksbehandler,fastsatteVerdier:{fastsattBeløp:s.fastsattBelop,inntektskategori:s.inntektskategori}}));return{fakta:n,overstyrteAndeler:i}}return{fakta:n}},aK=(e,n,r,t,i)=>{const s=t.faktaOmBeregningTilfeller?t.faktaOmBeregningTilfeller.map(d=>d):[];let a={faktaOmBeregningTilfeller:[]};if(s.length>0){a=mr(a,G1(t)(e,n));const d=e[yr]===!0;a=mr(a,xi.transformValues(e,d?null:n,t,r)),a=mr(a,Ei.transformValues(e,d?null:n,t,r)),a=mr(a,Ai.transformValues(e,t)),a=mr(a,Ni.transformValues(e,d?null:n,t,i,r)),a=mr(a,Z2(d?null:n,t,r)),a=mr(a,J2(e,d?null:n,t,i,r))}return a};Fi.transformValues=(e,n)=>r=>{const t=Tt.transformValues(r[ja]),i=[],s=aK(r,t,i,e,n);return sK(r,s,t,i)};const{VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT:lK}=P,dK="erKravGyldig_",rg=e=>dK+e,oK=(e,n,r,t)=>e.map(i=>{const{arbeidsgiverIdent:s}=i,a=r[s],d=a?It(a):s,g=X();return h.jsxs(M.Fragment,{children:[h.jsx(A,{twentyPx:!0}),h.jsx(ue,{label:h.jsx(f,{id:"VurderRefusjonForm.ErRefusjonskravGyldig",values:{arbeidsgiverVisningsnavn:d}}),name:`vurderFaktaBeregningForm.${t}.vurderRefusjonValues.${rg(s)}`,validate:[H],isReadOnly:n,radios:[{value:"true",label:g.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:g.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:Sn,isHorizontal:!0})]},s)}),Pi=({readOnly:e,faktaOmBeregning:n,arbeidsgiverOpplysningerPerId:r})=>{const t=M.useContext(Ve),i=n==null?void 0:n.refusjonskravSomKommerForSentListe;return h.jsx(h.Fragment,{children:oK(i,e,r,t)})};Pi.transformValues=e=>n=>e.length===0?{}:{refusjonskravGyldighet:e.map(({arbeidsgiverIdent:r})=>({arbeidsgiverId:r,skalUtvideGyldighet:n.vurderRefusjonValues[rg(r)]}))};Pi.buildInitialValues=(e,n)=>{const r={};return!e.includes(lK)||n.length===0?r:(n.forEach(({arbeidsgiverIdent:t,erRefusjonskravGyldig:i})=>{r[rg(t)]=i}),{...r})};const{VURDER_FAKTA_FOR_ATFL_SN:gK}=Te,or=e=>{if(!e.faktaOmBeregning)throw new Error("Mangler fakta om beregning, ugyldig tilstand");return e.faktaOmBeregning},$m=e=>{var n;return((n=or(e))==null?void 0:n.kortvarigeArbeidsforhold)||void 0},Dm=e=>{var n;return((n=or(e))==null?void 0:n.kunYtelse)||void 0},fv=e=>{var n;return((n=or(e))==null?void 0:n.faktaOmBeregningTilfeller)||[]},Gm=e=>{var n;return((n=or(e))==null?void 0:n.vurderMottarYtelse)||void 0},uK=e=>{var n;return((n=or(e))==null?void 0:n.vurderBesteberegning)||void 0},mK=e=>{var n;return((n=or(e))==null?void 0:n.refusjonskravSomKommerForSentListe)||[]},Mm=e=>e?h.jsx(A,{twentyPx:!0}):null,kK=(e,n,r,t,i,s,a)=>{const{avklaringsbehov:d}=r,g=fv(r),m=or(r),k=[];let p=!1;return g.forEach(c=>{c===P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD&&(p=!0,k.push(h.jsx(M.Fragment,{children:h.jsx(Si,{readOnly:e,faktaOmBeregning:m,arbeidsgiverOpplysningerPerId:s})},c))),c===P.VURDER_SN_NY_I_ARBEIDSLIVET&&(p=!0,k.push(h.jsxs(M.Fragment,{children:[Mm(p),h.jsx(_i,{readOnly:e})]},c))),c===P.VURDER_MILITÆR_SIVILTJENESTE&&(p=!0,k.push(h.jsx(M.Fragment,{children:h.jsx(Ri,{readOnly:e})},c))),c===P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT&&(p=!0,k.push(h.jsx(M.Fragment,{children:h.jsx(Pi,{readOnly:e,arbeidsgiverOpplysningerPerId:s,faktaOmBeregning:m})},c)))}),HL(k,g,e,n,m,t),k.push(h.jsxs(M.Fragment,{children:[Mm(!0),h.jsx(Fi,{readOnly:e,isAksjonspunktClosed:n,tilfeller:g,beregningsgrunnlag:r,kodeverkSamling:t,erOverstyrer:i,avklaringsbehov:d,arbeidsgiverOpplysningerPerId:s,updateOverstyring:a})]},"VurderOgFastsettATFL")),k},fK=({readOnly:e,isAksjonspunktClosed:n,beregningsgrunnlag:r,kodeverkSamling:t,erOverstyrer:i,arbeidsgiverOpplysningerPerId:s,updateOverstyring:a})=>h.jsx("div",{children:kK(e,n,r,t,i,s,a).map(d=>d)}),pK=(e,n)=>r=>JL(r,e.kunYtelse,n),cK=(e,n)=>(e.faktaOmBeregningTilfeller.push(P.VURDER_SN_NY_I_ARBEIDSLIVET),{...e,..._i.transformValues(n)}),vK=e=>(n,r)=>(n.faktaOmBeregningTilfeller.push(P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD),{...n,...Si.transformValues(r,e)}),bK=(e,n)=>(e.faktaOmBeregningTilfeller.push(P.VURDER_MILITÆR_SIVILTJENESTE),{...e,...Ri.transformValues(n)}),hK=e=>(n,r)=>(n.faktaOmBeregningTilfeller.push(P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT),{...n,...Pi.transformValues(e.refusjonskravSomKommerForSentListe)(r)}),jK=(e,n,r,t,i)=>(s,a)=>{let d={...s};return e.forEach(g=>{g===P.VURDER_SN_NY_I_ARBEIDSLIVET&&(d=n(d,a)),g===P.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD&&(d=r(d,a)),g===P.VURDER_MILITÆR_SIVILTJENESTE&&(d=t(d,a)),g===P.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT&&(d=i(d,a))}),d},IK=(e,n,r)=>t=>e.includes(P.FASTSETT_BG_KUN_YTELSE)?{fakta:n(t)}:{...r(t)},AK=(e,n,r,t,i)=>{const s=IK(e,pK(t,e),Fi.transformValues(t,i))(n);return{fakta:jK(e,cK,vK(r),bK,hK(t))(s.fakta,n),overstyrteAndeler:s.overstyrteAndeler}},xK=e=>{const{tilfeller:n,kortvarigeArbeidsforhold:r,faktaOmBeregning:t,beregningsgrunnlag:i}=e;return AK(n,e,r,t,i)},yK=e=>e?e.find(n=>n.definisjon===gK):void 0,TK=(e,n,r)=>{const t=fv(e),i=or(e);return{beregningsgrunnlag:e,tilfeller:t,faktaOmBeregning:i,kortvarigeArbeidsforhold:$m(e),vurderMottarYtelse:Gm(e),kunYtelse:Dm(e),tidsbegrensetValues:Si.buildInitialValues($m(e)),vurderMottarYtelseValues:Ni.buildInitialValues(Gm(e)),vurderRefusjonValues:Pi.buildInitialValues(t,mK(e)),...Ri.buildInitialValues(i),..._i.buildInitialValues(e),...Ai.buildInitialValues(e),...xi.buildInitialValues(e),...Ei.buildInitialValues(e,yK(e.avklaringsbehov)),...Ii.buildInitialValues(e.avklaringsbehov,uK(e),t,Pm(e)),...Fi.buildInitialValues(i,Pm(e),r,n),...ZL(Dm(e),t,i.andelerForFaktaOmBeregning,r,n)}},{VURDER_FAKTA_FOR_ATFL_SN:Id,OVERSTYRING_AV_BEREGNINGSGRUNNLAG:Ad}=Te,qs=(e,n)=>n.some(r=>r.definisjon===e&&r.kanLoses),EK=(e,n)=>e||qs(Id,n),Lm=(e,n)=>{const r=e[lt];if(n&&!r&&qs(Ad,e.avklaringsbehov||[]))return{periode:e.periode,avbrutt:!0,begrunnelse:void 0};if(!EK(!!r,e.avklaringsbehov||[]))throw new Error("Feil: Kjører submit uten aksjonspunkt og uten overstyringsrolle");return{...xK(e),begrunnelse:e.begrunnelseFaktaTilfeller,periode:e.periode}},_K=(e,n=!0)=>{const r=e[An],t=r.filter(a=>a.erTilVurdering).filter(a=>a[lt]||qs(Ad,a.avklaringsbehov||[])).map(a=>Lm(a,!0)).filter(a=>a),i=r.filter(a=>a.erTilVurdering).filter(a=>(!a[lt]||n)&&qs(Id,a.avklaringsbehov||[])).map(a=>Lm(a,!1)).filter(a=>a),s=[];if(t.length>0){const a=t.filter(({begrunnelse:g})=>g!==null).map(({begrunnelse:g})=>g).reduce((g,m)=>g===""?m:`${g} ${m}`,""),d={kode:Ad,begrunnelse:a!==""?a:null,grunnlag:t};s.push(d)}if(i.length>0){const a=i.map(({begrunnelse:g})=>g).reduce((g,m)=>g===""?m:`${g} ${m}`,""),d={kode:Id,begrunnelse:a,grunnlag:i};s.push(d)}return s},{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:pv,VURDER_FAKTA_FOR_ATFL_SN:vs}=Te,cv="begrunnelseFaktaTilfeller",Wr=(e,n)=>n.some(r=>r.definisjon===e),SK=(e,n,r)=>e&&n&&!r,RK=(e,n)=>Wr(vs,n)||Wr(pv,n)?!e:!0,pl=e=>{const n=e.filter(r=>r.definisjon===Te.VURDER_FAKTA_FOR_ATFL_SN||r.definisjon===Te.OVERSTYRING_AV_BEREGNINGSGRUNNLAG);return n.length===0?!1:n.some(r=>!Ze(r.status))},NK=()=>{const e=[];return e.push(h.jsx(f,{id:"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning"},"VurderFaktaForBeregningen")),e},Km=(e,n)=>{const r=n(`${An}.${e}`);return dv(r)},wm=(e,n)=>{var r,t;return!!((t=(r=n.vurderFaktaBeregningForm)==null?void 0:r[e])!=null&&t.begrunnelseFaktaTilfeller)},FK=({beregningsgrunnlag:e,erOverstyrer:n,readOnly:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,submittable:s,updateOverstyring:a,vilkarsperiode:d,verdiForAvklarAktivitetErEndret:g,submitDisabled:m})=>{const{getValues:k,formState:{errors:p,isDirty:c}}=me(),b=M.useContext(lc),I=M.useContext(dc),T=M.useContext(Ve),R=T===I;M.useEffect(()=>{b(p)},[JSON.stringify(p)]);const{avklaringsbehov:S}=e,N=d.vurderesIBehandlingen;return h.jsxs("div",{style:{display:R?"block":"none"},children:[Wr(vs,S)&&h.jsx(ri,{children:pl(S)?null:NK()}),h.jsx(A,{twentyPx:!0}),h.jsx(fK,{readOnly:r||!N,isAksjonspunktClosed:pl(S),beregningsgrunnlag:e,kodeverkSamling:t,erOverstyrer:n,arbeidsgiverOpplysningerPerId:i,updateOverstyring:a}),h.jsx(A,{twentyPx:!0}),(Wr(vs,S)||Wr(pv,S)||Km(T,k))&&h.jsxs(h.Fragment,{children:[(Wr(vs,S)||Km(T,k))&&h.jsx(Vr,{name:`${An}.${T}.${cv}`,isSubmittable:s,isReadOnly:r||!N,hasBegrunnelse:Do(S)!==void 0}),h.jsx(A,{twentyPx:!0}),h.jsx(nc,{isDisabled:!!g,isSubmittable:SK(s&&RK(g,S)&&!pl(S),!0,wm(T,p)),isReadOnly:r||!N,isDirty:c,isSubmitting:m,hasEmptyRequiredFields:wm(T,p)})]})]},T)},{VURDER_FAKTA_FOR_ATFL_SN:vv,AVKLAR_AKTIVITETER:PK,OVERSTYRING_AV_BEREGNINGSGRUNNLAG:Hs,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:BK}=Te,OK=e=>e.some(n=>n.definisjon===Hs)?e.find(n=>n.definisjon===Hs&&n.begrunnelse!==null):e.find(n=>n.definisjon===vv&&n.begrunnelse!==null),Um=(e,n)=>n.some(r=>r.definisjon===e&&Ze(r.status)),VK=(e,n,r,t)=>({[An]:e.map(i=>{var s;const a=t.perioder.find(d=>d.periode.fom===i.vilkårsperiodeFom);if(!a)throw new Error(`Finner ikke vilkårsperiode med fom ${i.vilkårsperiodeFom}`);return{avklaringsbehov:i.avklaringsbehov,erTilVurdering:a.vurderesIBehandlingen&&!a.erForlengelse,periode:a.periode,...Vr.buildInitialValues((s=OK(i.avklaringsbehov))==null?void 0:s.begrunnelse,cv),...TK(i,n,r)}})}),$K=[vv,Hs],DK=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.vilkårsperiodeFom);return(r==null?void 0:r.erForlengelse)===!0},GK=({beregningsgrunnlag:e,submittable:n,readOnly:r,kodeverkSamling:t,erOverstyrer:i,arbeidsgiverOpplysningerPerId:s,aktivtBeregningsgrunnlagIndeks:a,submitCallback:d,setFormData:g,formData:m,vilkar:k,avklarAktiviteterErEndret:p,skalKunneAvbryteOverstyring:c})=>{const b=p,I=e.flatMap(w=>w.avklaringsbehov),T=qe({defaultValues:m||VK(e,t,s,k)}),{control:R,formState:S,trigger:N,getValues:E,watch:O}=T,{fields:$,update:V}=Me({name:An,control:R}),{errors:L,isSubmitted:Z}=S,[J,C]=j.useState(!1),B=O(An);j.useEffect(()=>{Z&&N()},[JSON.stringify(B)]);const U=(w,Q)=>{const ve=E(`${An}.${w}`);V(w,{...ve,[lt]:Q})},K=w=>{Object.keys(L).length===0&&(C(!0),d(_K(w,c)))};return Um(PK,I)||Um(BK,I)?null:h.jsx(dc.Provider,{value:a,children:h.jsx(He,{formMethods:T,onSubmit:w=>{K(w)},setDataOnUnmount:g,children:$.map((w,Q)=>{const ve=Ie=>$K.some(ce=>ce===Ie.definisjon),Ne=Ie=>Ie.kanLoses,Le=I.filter(Ie=>ve(Ie)&&Ne(Ie)),Nn=r||DK(e[Q],k.perioder)||gn(Hs,I)&&!i||Le.length===0&&!i,Fe=k.perioder.find(Ie=>Ie.periode.fom===e[Q].vilkårsperiodeFom);if(!Fe)throw new Error(`Filler ikke vilkårsperiode med fom ${e[Q].vilkårsperiodeFom}`);return h.jsx(Ve.Provider,{value:Q,children:h.jsx(FK,{vilkarsperiode:Fe,beregningsgrunnlag:e[Q],erOverstyrer:i,readOnly:Nn,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:s,submittable:n,updateOverstyring:U,submitDisabled:J,verdiForAvklarAktivitetErEndret:b},w.id)},w.id)})})})},{VURDER_FAKTA_FOR_ATFL_SN:MK,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:bv,AVKLAR_AKTIVITETER:LK}=Te,KK=[bv,LK],wK=({readOnly:e,avklaringsbehov:n,submittable:r,submitCallback:t,aktivtBeregningsgrunnlagIndeks:i,beregningsgrunnlag:s,erOverstyrer:a,skalKunneOverstyreAktiviteter:d,kodeverkSamling:g,arbeidsgiverOpplysningerPerId:m,setFormData:k,formData:p,vilkar:c,skalKunneAvbryteOverstyring:b})=>{const I=n.filter(N=>KK.some(E=>E===N.definisjon)&&N.kanLoses),T=e||(I.length===0||gn(bv,n))&&!a,[R,S]=j.useState(!1);return h.jsxs("div",{children:[h.jsx(P1,{readOnly:T,harAndreAvklaringsbehovIPanel:gn(MK,n),submitCallback:t,submittable:r,erOverstyrer:a&&d,kodeverkSamling:g,aktivtBeregningsgrunnlagIndeks:i,beregningsgrunnlag:s,arbeidsgiverOpplysningerPerId:m,setFormData:k,formData:p&&Zt in p?p:void 0,vilkår:c,setAvklarAktiviteterErEndret:S}),h.jsx(A,{thirtyTwoPx:!0}),h.jsx(GK,{submitCallback:t,submittable:r,kodeverkSamling:g,beregningsgrunnlag:s,erOverstyrer:a,readOnly:e,arbeidsgiverOpplysningerPerId:m,aktivtBeregningsgrunnlagIndeks:i,setFormData:k,formData:p&&An in p?p:void 0,vilkar:c,avklarAktiviteterErEndret:R,skalKunneAvbryteOverstyring:b})]})},UK=Oe($o),{VURDER_FAKTA_FOR_ATFL_SN:CK,AVKLAR_AKTIVITETER:YK}=Te,zK=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.vilkårsperiodeFom);return(r==null?void 0:r.erForlengelse)===!0},qK=(e,n)=>{const r=e.vilkårsperiodeFom,t=n.find(({periode:i})=>i.fom===r);if(t){const{fom:i,tom:s}=t.periode;return s!==null?`${x(i).format(ee)} - ${x(s).format(ee)}`:`${x(i).format(ee)} - `}return`${x(r).format(ee)}`},HK=e=>{if(e){const n=e.some(t=>t.definisjon===CK&&t.kanLoses),r=e.some(t=>t.definisjon===YK&&t.kanLoses);return n||r}return!1},JK=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.skjaeringstidspunktBeregning);return HK(e.avklaringsbehov)&&(r==null?void 0:r.vurderesIBehandlingen)&&!r.erForlengelse},ZK=({beregningsgrunnlag:e=[],kodeverkSamling:n,submitCallback:r,readOnly:t,submittable:i,erOverstyrer:s,skalKunneOverstyreAktiviteter:a=!0,arbeidsgiverOpplysningerPerId:d,formData:g,setFormData:m,vilkar:k,skalKunneAvbryteOverstyring:p=!1})=>{const[c,b]=j.useState(0),[I,T]=j.useState(void 0);if(e.length===0||!k)return h.jsx(h.Fragment,{children:"Har ikke beregningsgrunnlag."});const R=e.length>1,S=e[c].avklaringsbehov,N=k.perioder,E=O=>{var $;return!!(($=I==null?void 0:I[`${An}`])!=null&&$[O])};return h.jsxs(Ye,{value:UK,children:[R&&h.jsx("div",{className:UO.tabsContainer,children:h.jsx(Kn,{value:c.toString(),onChange:O=>b(Number(O)),children:h.jsx(Kn.List,{children:e.map((O,$)=>h.jsx(Kn.Tab,{value:$.toString(),label:qK(O,N),className:JK(O,N)?"harAksjonspunkt":"",icon:$!==c&&E($)&&h.jsx(_r,{width:20,height:20,color:"Orange"})},O.skjaeringstidspunktBeregning))})})}),h.jsx(lc.Provider,{value:T,children:h.jsx(wK,{aktivtBeregningsgrunnlagIndeks:c,beregningsgrunnlag:e,kodeverkSamling:n,avklaringsbehov:S,submitCallback:r,readOnly:t||zK(e[c],N),submittable:i,erOverstyrer:s,skalKunneOverstyreAktiviteter:a,arbeidsgiverOpplysningerPerId:d,setFormData:m,formData:g,vilkar:k,skalKunneAvbryteOverstyring:p})})]})};const WK=e=>{switch(e){case Te.AVKLAR_AKTIVITETER:return se.AVKLAR_AKTIVITETER;case Te.OVERSTYRING_AV_BEREGNINGSAKTIVITETER:return se.OVERSTYRING_AV_BEREGNINGSAKTIVITETER;case Te.VURDER_FAKTA_FOR_ATFL_SN:return se.VURDER_FAKTA_FOR_ATFL_SN;case Te.OVERSTYRING_AV_BEREGNINGSGRUNNLAG:return se.OVERSTYRING_AV_BEREGNINGSGRUNNLAG;default:throw new Error(`Ukjent avklaringspunkt ${e}`)}},Cm=e=>n=>{const t=(Array.isArray(n)?n:[n]).map(i=>({kode:WK(i.kode),...i.grunnlag[0]}));return e(t)},XK=(e,n)=>({avslagKode:n.avslagKode,vurderesIBehandlingen:!0,merknadParametere:{},periode:{fom:e?e.skjaeringstidspunktBeregning:"",tom:ze},vilkarStatus:n.vilkarStatus}),Ym=(e,n)=>{if(!e)return null;const r=e.find(i=>i.vilkarType&&i.vilkarType===Ar.BEREGNINGSGRUNNLAGVILKARET);return!r||!n?null:{...r,perioder:[XK(n,r)]}},zm=e=>e?[{...e,vilkårsperiodeFom:e.skjaeringstidspunktBeregning}]:[],qm=[se.VURDER_FAKTA_FOR_ATFL_SN,se.AVKLAR_AKTIVITETER,se.OVERSTYRING_AV_BEREGNINGSAKTIVITETER,se.OVERSTYRING_AV_BEREGNINGSGRUNNLAG],Hm=[se.OVERSTYRING_AV_BEREGNINGSAKTIVITETER,se.OVERSTYRING_AV_BEREGNINGSGRUNNLAG],Jm=[we.BEREGNINGSGRUNNLAG],Zm=({arbeidsgiverOpplysningerPerId:e,rettigheter:n,...r})=>{const t=X();return window.location.href.includes("fpsak.intern.nav.no")?l.jsx(Ir,{...r,panelEndepunkter:Jm,aksjonspunktKoder:qm,overstyringApKoder:Hm,faktaPanelKode:jr.BEREGNING,faktaPanelMenyTekst:t.formatMessage({id:"BeregningInfoPanel.Title"}),skalPanelVisesIMeny:()=>hl.hasPath(we.BEREGNINGSGRUNNLAG.name),renderPanel:a=>{var d;return l.jsx(ZK,{...a,kodeverkSamling:a.alleKodeverk,vilkar:Ym((d=r.behandling)==null?void 0:d.vilkår,a.beregningsgrunnlag),beregningsgrunnlag:zm(a.beregningsgrunnlag),submitCallback:Cm(a.submitCallback),arbeidsgiverOpplysningerPerId:e,erOverstyrer:n.kanOverstyreAccess.isEnabled,skalKunneOverstyreAktiviteter:!0})}}):l.jsx(Ir,{...r,panelEndepunkter:Jm,aksjonspunktKoder:qm,overstyringApKoder:Hm,faktaPanelKode:jr.BEREGNING,faktaPanelMenyTekst:t.formatMessage({id:"BeregningInfoPanel.Title"}),skalPanelVisesIMeny:()=>hl.hasPath(we.BEREGNINGSGRUNNLAG.name),renderPanel:a=>{var d;return l.jsx(LO,{...a,kodeverkSamling:a.alleKodeverk,vilkar:Ym((d=r.behandling)==null?void 0:d.vilkår,a.beregningsgrunnlag),beregningsgrunnlag:zm(a.beregningsgrunnlag),submitCallback:Cm(a.submitCallback),arbeidsgiverOpplysningerPerId:e,erOverstyrer:n.kanOverstyreAccess.isEnabled,skalKunneOverstyreAktiviteter:!0})}})};try{Zm.displayName="BeregningFaktaInitPanel",Zm.__docgenInfo={description:"BeregningFaktaInitPanel",displayName:"BeregningFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},rettigheter:{defaultValue:null,description:"",name:"rettigheter",required:!0,type:{name:"AksessRettigheter"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}var xd=(e=>(e.BRUK_PERMISJON="BRUK_PERMISJON",e.IKKE_BRUK_PERMISJON="IKKE_BRUK_PERMISJON",e))(xd||{});const QK="_inline_1gq7u_1",e5="_topPadding_1gq7u_5",n5="_phoneIcon_1gq7u_9",r5="_docIcon_1gq7u_15",wr={inline:QK,topPadding:e5,phoneIcon:n5,docIcon:r5},yd=({saksnummer:e,inntektsmelding:n})=>l.jsxs(l.Fragment,{children:[l.jsx(A,{eightPx:!0}),l.jsxs(xe,{children:[l.jsxs(D,{children:[l.jsx(y,{children:l.jsx(G,{size:"small",children:l.jsx(f,{id:"InntektsmeldingOpplysningerPanel.Inntektsmelding"})})}),l.jsx(y,{className:wr.topPadding,children:l.jsx(_,{size:"small",children:z(n.inntektPrMnd)})})]}),l.jsx(A,{eightPx:!0}),l.jsxs(D,{children:[l.jsx(y,{children:l.jsx(G,{size:"small",children:l.jsx(f,{id:"InntektsmeldingOpplysningerPanel.Refusjon"})})}),l.jsx(y,{className:wr.topPadding,children:l.jsx(_,{size:"small",children:l.jsx(f,{id:n.refusjonPrMnd?"InntektsmeldingOpplysningerPanel.Ja":"InntektsmeldingOpplysningerPanel.Nei"})})})]}),l.jsx(A,{eightPx:!0}),n.refusjonPrMnd&&l.jsxs(l.Fragment,{children:[l.jsxs(D,{children:[l.jsx(y,{children:l.jsx(G,{size:"small",children:l.jsx(f,{id:"InntektsmeldingOpplysningerPanel.Refusjonsbeløp"})})}),l.jsx(y,{className:wr.topPadding,children:l.jsx(_,{size:"small",children:z(n.refusjonPrMnd)})})]}),l.jsx(A,{eightPx:!0})]}),l.jsxs(Qt,{href:Mk(e,n.journalpostId,n.dokumentId),target:"_blank",children:[l.jsx("span",{children:l.jsx(_,{size:"small",className:wr.inline,children:l.jsx(f,{id:"InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding"})})}),l.jsx(Qk,{className:wr.docIcon})]}),l.jsx(A,{sixteenPx:!0}),l.jsxs(D,{children:[l.jsx(y,{children:l.jsx(ef,{className:wr.phoneIcon})}),l.jsxs(y,{children:[l.jsx(D,{children:l.jsx(y,{children:l.jsx(G,{size:"small",children:l.jsx(f,{id:"InntektsmeldingOpplysningerPanel.Kontaktinfo"})})})}),l.jsx(D,{children:l.jsx(y,{children:l.jsx(le,{children:n.kontaktpersonNavn})})}),l.jsx(D,{children:l.jsx(y,{children:l.jsx(le,{children:l.jsx(f,{id:"InntektsmeldingOpplysningerPanel.Tlf",values:{nr:n.kontaktpersonNummer}})})})})]})]})]}),l.jsx(A,{thirtyTwoPx:!0})]});try{yd.displayName="InntektsmeldingOpplysningerPanel",yd.__docgenInfo={description:"",displayName:"InntektsmeldingOpplysningerPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},inntektsmelding:{defaultValue:null,description:"",name:"inntektsmelding",required:!0,type:{name:"Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>"}}}}}catch{}const t5="_boks_kspkv_1",i5="_aksjonspunkt_kspkv_9",s5="_harBorderTop_kspkv_13",hv={boks:t5,aksjonspunkt:i5,harBorderTop:s5},a5=Yk.bind(hv),Td=({harÅpentAksjonspunkt:e,harBorderTop:n,children:r})=>l.jsx("div",{className:a5(hv.boks,{aksjonspunkt:e,harBorderTop:n}),children:r});try{Td.displayName="ArbeidsforholdBoks",Td.__docgenInfo={description:"",displayName:"ArbeidsforholdBoks",props:{harÅpentAksjonspunkt:{defaultValue:null,description:"",name:"harÅpentAksjonspunkt",required:!0,type:{name:"boolean"}},harBorderTop:{defaultValue:null,description:"",name:"harBorderTop",required:!0,type:{name:"boolean"}}}}}catch{}const l5="_maanedBredde_pqnhm_1",d5="_aarBredde_pqnhm_5",o5="_belopBredde_pqnhm_9",g5="_inline_pqnhm_13",u5="_arrow_pqnhm_17",Ur={maanedBredde:l5,aarBredde:d5,belopBredde:o5,inline:g5,arrow:u5},m5=(e,n)=>{const t=x(e).startOf("month"),i=t.subtract(12,"month"),s=[];for(let a=t;a.isAfter(i);a=a.subtract(1,"month")){const d=a.format(Be),g=n.find(m=>x(m.fom).startOf("month").format(Be)===d);s.push({beløp:(g==null?void 0:g.beløp)||0,fom:d})}return s},Ed=({inntektsposter:e,skjæringstidspunkt:n})=>{const[r,t]=j.useState(!1),i=j.useMemo(()=>m5(n,e),[e]);return l.jsxs(l.Fragment,{children:[e.length>0&&l.jsxs(l.Fragment,{children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"InntektsposterPanel.Inntekter"})}),l.jsx(xe,{children:i.filter((s,a)=>r?!0:a<3).map(s=>l.jsxs(D,{children:[l.jsx(y,{className:Ur.maanedBredde,children:l.jsx(_,{size:"small",children:l.jsx(f,{id:`InntektsposterPanel.${x(s.fom).month()+1}`})})}),l.jsx(y,{className:Ur.aarBredde,children:l.jsx(_,{size:"small",children:x(s.fom).year()})}),l.jsx(y,{className:Ur.belopBredde,children:l.jsx(nt,{children:l.jsx(_,{size:"small",children:z(s.beløp)})})})]},s.fom))}),l.jsxs(Qt,{onClick:s=>{s.preventDefault(),t(!r)},href:"",children:[l.jsx("span",{children:l.jsx(_,{size:"small",className:Ur.inline,children:l.jsx(f,{id:r?"InntektsposterPanel.FaerreManeder":"InntektsposterPanel.TidligereManeder"})})}),r?l.jsx(Zd,{className:Ur.arrow}):l.jsx(na,{className:Ur.arrow})]})]}),e.length===0&&l.jsx(G,{size:"small",children:l.jsx(f,{id:"InntektsposterPanel.IngenInntekt"})})]})};try{Ed.displayName="InntektsposterPanel",Ed.__docgenInfo={description:"",displayName:"InntektsposterPanel",props:{inntektsposter:{defaultValue:null,description:"",name:"inntektsposter",required:!0,type:{name:"Readonly<{ beløp: number; fom: string; tom: string; type: string; }>[]"}},skjæringstidspunkt:{defaultValue:null,description:"",name:"skjæringstidspunkt",required:!0,type:{name:"string"}}}}}catch{}const k5="_body_hrlo3_1",f5="_hjelpetekst_hrlo3_5",p5="_firstCol_hrlo3_9",c5="_secCol_hrlo3_13",v5="_thirdCol_hrlo3_17",b5="_fourthCol_hrlo3_21",h5="_topPadding_hrlo3_25",j5="_image_hrlo3_29",I5="_hjelpetekstInnhold_hrlo3_33",A5="_exclamationmarkIcon_hrlo3_38",x5="_checkmarkIcon_hrlo3_45",nn={body:k5,hjelpetekst:f5,firstCol:p5,secCol:c5,thirdCol:v5,fourthCol:b5,topPadding:h5,image:j5,hjelpetekstInnhold:I5,exclamationmarkIcon:A5,checkmarkIcon:x5},y5="arbeidsforhold",T5=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent&&(!n.internArbeidsforholdId||n.internArbeidsforholdId===e.internArbeidsforholdId),E5=e=>{const n=Math.ceil(e.length/25),r=Array.from({length:n},(t,i)=>e.slice(i*25,i*25+25));return l.jsx("p",{children:r.join("-")})},_d=({index:e,fieldId:n,saksnummer:r,sorterteArbeidsforhold:t,arbeidOgInntekt:i,arbeidsgiverOpplysningerPerId:s,isReadOnly:a,harÅpentAksjonspunkt:d,skjæringstidspunkt:g,alleKodeverk:m})=>{var V;const k=X(),{inntektsmeldinger:p,inntekter:c}=i,b=t[e],I=p.find(L=>T5(b,L)),T=(V=c.find(L=>L.arbeidsgiverIdent===b.arbeidsgiverIdent))==null?void 0:V.inntekter,R=t.filter(L=>L.arbeidsgiverIdent===b.arbeidsgiverIdent).length>1,S=s[b.arbeidsgiverIdent],N=j.useRef(null),[E,O]=j.useState(!1),$=j.useCallback(()=>O(L=>!L),[]);return l.jsx(Td,{harÅpentAksjonspunkt:d,harBorderTop:e===0,children:l.jsx(xe,{children:l.jsxs(D,{children:[l.jsxs(y,{children:[!d&&l.jsx(Wd,{title:k.formatMessage({id:"ArbeidsforholdFieldArray.Ok"}),className:nn.checkmarkIcon}),d&&l.jsx(_r,{title:k.formatMessage({id:"ArbeidsforholdFieldArray.Aksjonspunkt"}),className:nn.exclamationmarkIcon})]}),l.jsxs(y,{className:nn.body,children:[l.jsxs(xe,{children:[l.jsxs(D,{children:[l.jsxs(y,{className:nn.firstCol,children:[l.jsx(G,{size:"small",children:S.navn}),b.arbeidsgiverIdent&&l.jsxs(le,{children:["(",S.erPrivatPerson&&S.fødselsdato?l.jsx(Re,{dateString:S.fødselsdato}):b.arbeidsgiverIdent,")"]})]}),l.jsxs(y,{className:nn.secCol,children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdFieldArray.Periode"})}),l.jsxs(_,{size:"small",children:[b&&l.jsx(Ge,{dateStringFom:b.fom,dateStringTom:b.tom!==ze?b.tom:void 0}),!b&&"-"]})]}),l.jsxs(y,{className:nn.thirdCol,children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdFieldArray.Kilde"})}),l.jsx(_,{size:"small",children:l.jsx(f,{id:b?"ArbeidsforholdFieldArray.AaRegisteret":"ArbeidsforholdFieldArray.Inntektsmelding"})})]}),l.jsxs(y,{className:nn.fourthCol,children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdFieldArray.InntektsmeldingMottatt"})}),l.jsxs(_,{size:"small",children:[(I==null?void 0:I.motattDato)&&l.jsx(Re,{dateString:I.motattDato}),!(I!=null&&I.motattDato)&&l.jsx(f,{id:"ArbeidsforholdFieldArray.IkkeMottatt"})]})]})]}),l.jsx(A,{sixteenPx:!0}),l.jsxs(D,{children:[l.jsxs(y,{className:nn.firstCol,children:[R&&b.eksternArbeidsforholdId&&l.jsxs(l.Fragment,{children:[l.jsxs(D,{children:[l.jsx(y,{children:l.jsx(G,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdFieldArray.Id"})})}),l.jsxs(y,{className:nn.topPadding,children:[b.eksternArbeidsforholdId.length<50&&l.jsx(_,{size:"small",children:b.eksternArbeidsforholdId}),b.eksternArbeidsforholdId.length>=50&&l.jsx(Fb,{content:E5(b.eksternArbeidsforholdId),alignBottom:!0,children:l.jsx(_,{size:"small",children:`${b.eksternArbeidsforholdId.substring(0,50)}...`})})]})]}),l.jsx(A,{eightPx:!0})]}),b.stillingsprosent&&l.jsxs(l.Fragment,{children:[l.jsxs(D,{children:[l.jsx(y,{children:l.jsx(G,{size:"small",children:l.jsx(f,{id:"ArbeidsforholdFieldArray.Stillingsprosent"})})}),l.jsx(y,{className:nn.topPadding,children:l.jsx(_,{size:"small",children:`${b.stillingsprosent}%`})})]}),l.jsx(A,{eightPx:!0})]}),I&&l.jsx(yd,{saksnummer:r,inntektsmelding:I}),!I&&T&&l.jsxs(l.Fragment,{children:[l.jsx(A,{thirtyTwoPx:!0}),l.jsx(Ed,{inntektsposter:T,skjæringstidspunkt:g}),l.jsx(A,{thirtyTwoPx:!0})]})]}),l.jsx(y,{children:b.permisjonOgMangel&&l.jsxs(l.Fragment,{children:[l.jsx(G,{size:"small",children:`${Is(m,Yn.PERMISJONSBESKRIVELSE_TYPE,b.permisjonOgMangel.type)} 100%`}),l.jsx(_,{size:"small",children:l.jsx(Ge,{dateStringFom:b.permisjonOgMangel.permisjonFom,dateStringTom:void 0})})]})})]})]}),l.jsx(ue,{name:`${y5}.${e}.permisjonStatus`,label:l.jsx(xe,{children:l.jsxs(D,{children:[l.jsx(y,{children:l.jsx(f,{id:"ArbeidsforholdFieldArray.SkalArbeidsforholdetTasMed"})}),l.jsxs(y,{className:nn.image,children:[l.jsx(ne,{ref:N,type:"button",variant:"tertiary",onClick:$,icon:l.jsx(ro,{title:k.formatMessage({id:"ArbeidsforholdFieldArray.AltHjelpetekst"})})}),l.jsx(et,{open:E,onClose:$,anchorEl:N.current,className:nn.hjelpetekst,children:l.jsxs(et.Content,{className:nn.hjelpetekstInnhold,children:[l.jsx(_,{children:l.jsx(f,{id:"ArbeidsforholdFieldArray.HjelpetekstDel1"})}),l.jsx(A,{eightPx:!0}),l.jsx(_,{children:l.jsx(f,{id:"ArbeidsforholdFieldArray.HjelpetekstDel2"})}),l.jsx(A,{eightPx:!0}),l.jsx(_,{children:l.jsx(f,{id:"ArbeidsforholdFieldArray.HjelpetekstDel3"})}),l.jsx(A,{eightPx:!0}),l.jsx(_,{children:l.jsx(f,{id:"ArbeidsforholdFieldArray.HjelpetekstDel4"})})]})})]})]})}),validate:[H],isReadOnly:a,radios:[{label:k.formatMessage({id:I?"ArbeidsforholdFieldArray.TaMedArbeidsforhold":"ArbeidsforholdFieldArray.TaMedArbeidsforholdIkkeInntektsmelding"}),value:xd.IKKE_BRUK_PERMISJON},{label:k.formatMessage({id:"ArbeidsforholdFieldArray.IkkeTaMedArbeidsforhold"}),value:xd.BRUK_PERMISJON}]}),l.jsx(A,{fourPx:!0})]})]})})},n)};try{_d.displayName="ArbeidsforholdField",_d.__docgenInfo={description:"",displayName:"ArbeidsforholdField",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},fieldId:{defaultValue:null,description:"",name:"fieldId",required:!0,type:{name:"string"}},saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},sorterteArbeidsforhold:{defaultValue:null,description:"",name:"sorterteArbeidsforhold",required:!0,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string | undefined; eksternArbeidsforholdId?: string | undefined; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}},arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},harÅpentAksjonspunkt:{defaultValue:null,description:"",name:"harÅpentAksjonspunkt",required:!0,type:{name:"boolean"}},skjæringstidspunkt:{defaultValue:null,description:"",name:"skjæringstidspunkt",required:!0,type:{name:"string"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}}}}}catch{}const _5="arbeidsforhold",Sd=({saksnummer:e,sorterteArbeidsforhold:n,arbeidOgInntekt:r,arbeidsgiverOpplysningerPerId:t,isReadOnly:i,harÅpentAksjonspunkt:s,skjæringstidspunkt:a,alleKodeverk:d})=>{const{control:g}=me(),{fields:m}=Me({control:g,name:_5});return l.jsx(l.Fragment,{children:m.map((k,p)=>l.jsx(_d,{fieldId:k.id,index:p,saksnummer:e,sorterteArbeidsforhold:n,arbeidOgInntekt:r,arbeidsgiverOpplysningerPerId:t,isReadOnly:i,harÅpentAksjonspunkt:s,skjæringstidspunkt:a,alleKodeverk:d},k.id))})};try{Sd.displayName="ArbeidsforholdFieldArray",Sd.__docgenInfo={description:"",displayName:"ArbeidsforholdFieldArray",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},sorterteArbeidsforhold:{defaultValue:null,description:"",name:"sorterteArbeidsforhold",required:!0,type:{name:"Readonly<{ arbeidsgiverIdent: string; internArbeidsforholdId?: string | undefined; eksternArbeidsforholdId?: string | undefined; fom: string; tom: string; stillingsprosent: number; årsak?: AksjonspunktÅrsak | undefined; permisjonOgMangel?: Readonly<...> | undefined; saksbehandlersVurdering?: string | undefined; begr..."}},arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},harÅpentAksjonspunkt:{defaultValue:null,description:"",name:"harÅpentAksjonspunkt",required:!0,type:{name:"boolean"}},skjæringstidspunkt:{defaultValue:null,description:"",name:"skjæringstidspunkt",required:!0,type:{name:"string"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}}}}}catch{}const S5=Tn(3),R5=En(1500),N5=e=>(n,r)=>e[n.arbeidsgiverIdent].navn.localeCompare(e[r.arbeidsgiverIdent].navn),Rd=({saksnummer:e,aksjonspunkter:n,readOnly:r,arbeidOgInntekt:t,arbeidsgiverOpplysningerPerId:i,formData:s,setFormData:a,lagreCallback:d,alleKodeverk:g})=>{const m=j.useMemo(()=>({inntektsmeldinger:t.inntektsmeldinger,arbeidsforhold:t.arbeidsforhold.filter(T=>{var R;return(R=T.permisjonOgMangel)==null?void 0:R.årsak}),inntekter:t.inntekter,skjæringstidspunkt:t.skjæringstidspunkt}),[t]),{arbeidsforhold:k}=m,p=j.useMemo(()=>[...k].sort(N5(i)),[k,i]),c=j.useMemo(()=>({arbeidsforhold:p.map(T=>{var R;return{permisjonStatus:(R=T.permisjonOgMangel)==null?void 0:R.permisjonStatus}}),begrunnelse:n[0].begrunnelse}),[p]),b=qe({defaultValues:s||c});j.useEffect(()=>()=>{a(b.getValues())},[b.getValues()]);const I=n.some(T=>T.status===rt.OPPRETTET);return l.jsxs(l.Fragment,{children:[l.jsx(xe,{children:l.jsxs(D,{spaceBetween:!0,children:[l.jsx(y,{children:l.jsx(te,{size:"small",children:l.jsx(f,{id:"PermisjonFaktaPanel.Overskrift"})})}),l.jsx(y,{children:l.jsx(_,{size:"small",children:l.jsx(f,{id:"PermisjonFaktaPanel.Skjaringstidspunkt",values:{skjæringspunktDato:Ce(m.skjæringstidspunkt)}})})})]})}),l.jsx(A,{thirtyTwoPx:!0}),I&&l.jsx(ri,{children:l.jsx(f,{id:"PermisjonFaktaPanel.PermisjonUtenSluttdato"})}),l.jsx(A,{thirtyTwoPx:!0}),l.jsxs(He,{formMethods:b,onSubmit:T=>d({kode:se.VURDER_ARBEIDSFORHOLD_PERMISJON,arbeidsforhold:T.arbeidsforhold.map((R,S)=>({internArbeidsforholdId:p[S].internArbeidsforholdId,arbeidsgiverIdent:p[S].arbeidsgiverIdent,permisjonStatus:R.permisjonStatus})),begrunnelse:T.begrunnelse}),children:[l.jsx(Sd,{saksnummer:e,sorterteArbeidsforhold:p,arbeidOgInntekt:m,arbeidsgiverOpplysningerPerId:i,isReadOnly:r,harÅpentAksjonspunkt:I,skjæringstidspunkt:m.skjæringstidspunkt,alleKodeverk:g}),l.jsx(A,{thirtyTwoPx:!0}),l.jsx(sn,{label:l.jsx(G,{size:"small",children:l.jsx(f,{id:"PermisjonFaktaPanel.Begrunn"})}),name:"begrunnelse",validate:[H,S5,R5,yn],maxLength:1500,readOnly:r}),l.jsx(A,{sixteenPx:!0}),!r&&l.jsx(ne,{size:"small",variant:"primary",disabled:!b.formState.isDirty||b.formState.isSubmitting,loading:b.formState.isSubmitting,children:l.jsx(f,{id:"PermisjonFaktaPanel.Bekreft"})})]})]})};try{Rd.displayName="PermisjonFaktaPanel",Rd.__docgenInfo={description:"",displayName:"PermisjonFaktaPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"FormValues"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: FormValues) => void"}},arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},lagreCallback:{defaultValue:null,description:"",name:"lagreCallback",required:!0,type:{name:"(aksjonspunktData: VurderArbeidsforholdPermisjonAp) => Promise<void>"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}}}}}catch{}const F5={"PermisjonFaktaPanel.Overskrift":"Fakta om permisjon","PermisjonFaktaPanel.Arbeidsforhold":"Arbeidsforhold","PermisjonFaktaPanel.Skjaringstidspunkt":"Skjæringstidspunkt for opptjening: {skjæringspunktDato}","PermisjonFaktaPanel.Bekreft":"Bekreft og fortsett","PermisjonFaktaPanel.PermisjonUtenSluttdato":"Vi fant en permisjon uten sluttdato. Vurder om arbeidsforholdet skal tas med.","PermisjonFaktaPanel.Begrunn":"Begrunn valget","ArbeidsforholdFieldArray.Periode":"Periode","ArbeidsforholdFieldArray.Kilde":"Kilde","ArbeidsforholdFieldArray.InntektsmeldingMottatt":"Inntektsmelding","ArbeidsforholdFieldArray.Saksbehandler":"Saksbehandler","ArbeidsforholdFieldArray.AaRegisteret":"A-inntekt","ArbeidsforholdFieldArray.Inntektsmelding":"Inntektsmelding","ArbeidsforholdFieldArray.Aksjonspunkt":"Åpent aksjonspunkt","ArbeidsforholdFieldArray.Ok":"Arbeidsforhold er OK","ArbeidsforholdFieldArray.HjelpetekstDel1":"Søker er registrert med permisjon eller permittering uten sluttdato fra arbeidsforholdet sitt i AA-reg. Vurder om dette arbeidsforholdet skal være med i beregningen. Dersom det fjernes vil det bli borte fra beregningen og eventuell mottatt inntektsmelding vil ikke brukes. Tas det med, vil det brukes i beregningen og bli med videre i behandlingen.","ArbeidsforholdFieldArray.HjelpetekstDel2":"Dersom arbeidsforholdet tas med og det trengs inntektsmelding, må dette innhentes.","ArbeidsforholdFieldArray.HjelpetekstDel3":"Permisjoner eller permitteringer med en sluttdato tas automatisk med. Du trenger ikke etterspørre inntektsmeldinger.","ArbeidsforholdFieldArray.HjelpetekstDel4":"Mottas det inntektsmelding med refusjonskrav vil denne brukes i behandlingen.","ArbeidsforholdFieldArray.Id":"ID","ArbeidsforholdFieldArray.Stillingsprosent":"Stillingsprosent","ArbeidsforholdFieldArray.SkalArbeidsforholdetTasMed":"Skal arbeidsforholdet tas med?","ArbeidsforholdFieldArray.TaMedArbeidsforhold":"Fjern permisjonen og ta med arbeidsforholdet","ArbeidsforholdFieldArray.TaMedArbeidsforholdIkkeInntektsmelding":"Fjern permisjonen og ta med arbeidsforholdet. Vurder om inntektsmelding må innhentes","ArbeidsforholdFieldArray.IkkeTaMedArbeidsforhold":"Ikke ta med arbeidsforholdet","ArbeidsforholdFieldArray.IkkeMottatt":"Ikke mottatt","ArbeidsforholdFieldArray.AltHjelpetekst":"Hjelpetekst","InntektsmeldingOpplysningerPanel.Inntektsmelding":"Inntektsmelding","InntektsmeldingOpplysningerPanel.Refusjon":"Refusjon","InntektsmeldingOpplysningerPanel.Ja":"Ja","InntektsmeldingOpplysningerPanel.Nei":"Nei","InntektsmeldingOpplysningerPanel.Refusjonsbeløp":"Refusjonsbeløp","InntektsmeldingOpplysningerPanel.Kontaktinfo":"Kontaktinfo","InntektsmeldingOpplysningerPanel.Tlf":"Tlf. {nr}","InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding":"Åpne inntektsmelding (PDF)","InntektsposterPanel.Inntekter":"Inntekter (fra A-inntekt)","InntektsposterPanel.1":"Jan","InntektsposterPanel.2":"Feb","InntektsposterPanel.3":"Mars","InntektsposterPanel.4":"Apr","InntektsposterPanel.5":"Mai","InntektsposterPanel.6":"Jun","InntektsposterPanel.7":"Jul","InntektsposterPanel.8":"Aug","InntektsposterPanel.9":"Sep","InntektsposterPanel.10":"Okt","InntektsposterPanel.11":"Nov","InntektsposterPanel.12":"Des","InntektsposterPanel.TidligereManeder":"Tidligere måneder ","InntektsposterPanel.FaerreManeder":"Siste måneder ","InntektsposterPanel.IngenInntekt":"Ingen inntekt registrert på bruker i A-inntekt"},P5=Oe(F5),Nd=({saksnummer:e,submitCallback:n,aksjonspunkter:r,readOnly:t,formData:i,setFormData:s,arbeidOgInntekt:a,arbeidsgiverOpplysningerPerId:d,alleKodeverk:g})=>l.jsx(Ye,{value:P5,children:l.jsx(Rd,{saksnummer:e,aksjonspunkter:r,readOnly:t,formData:i,lagreCallback:n,setFormData:s,arbeidOgInntekt:a,arbeidsgiverOpplysningerPerId:d,alleKodeverk:g})});try{Nd.displayName="PermisjonFaktaIndex",Nd.__docgenInfo={description:"",displayName:"PermisjonFaktaIndex",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},arbeidOgInntekt:{defaultValue:null,description:"",name:"arbeidOgInntekt",required:!0,type:{name:"Readonly<{ inntektsmeldinger: Readonly<{ inntektPrMnd: number; refusjonPrMnd?: number | undefined; arbeidsgiverIdent: string; eksternArbeidsforholdId?: string | undefined; internArbeidsforholdId?: string | undefined; ... 7 more ...; begrunnelse?: string | undefined; }>[]; arbeidsforhold: Readonly<...>[]; inntekter: ..."}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},submittable:{defaultValue:null,description:"",name:"submittable",required:!0,type:{name:"boolean"}},harApneAksjonspunkter:{defaultValue:null,description:"",name:"harApneAksjonspunkter",required:!0,type:{name:"boolean"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const Wm=[se.VURDER_ARBEIDSFORHOLD_PERMISJON],B5=[we.ARBEID_OG_INNTEKT],Xm=({saksnummer:e,arbeidsgiverOpplysningerPerId:n,...r})=>l.jsx(Ir,{...r,panelEndepunkter:B5,aksjonspunktKoder:Wm,faktaPanelKode:jr.PERMISJON,faktaPanelMenyTekst:X().formatMessage({id:"PermisjonFaktaInitPanel.Title"}),skalPanelVisesIMeny:()=>!!r.behandling.aksjonspunkt.some(t=>t.definisjon===Wm[0]),renderPanel:t=>l.jsx(Nd,{saksnummer:e,arbeidsgiverOpplysningerPerId:n,...t})});try{Xm.displayName="PermisjonFaktaInitPanel",Xm.__docgenInfo={description:"",displayName:"PermisjonFaktaInitPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}const nr={BEKREFTET_GODKJENT:"BEKREFTET_GODKJENT",BEKREFTET_AVVIST:"BEKREFTET_AVVIST",ANTATT_GODKJENT:"ANTATT_GODKJENT",ANTATT_AVVIST:"ANTATT_AVVIST"},O5="_godkjentImage_1bp9b_1",V5="_avslattImage_1bp9b_7",$5="_margin_1bp9b_13",D5="_fix_1bp9b_17",$t={godkjentImage:O5,avslattImage:V5,margin:$5,fix:D5},G5="MELLOMLIGGENDE_PERIODE",M5=e=>e===nr.BEKREFTET_AVVIST||e===nr.ANTATT_AVVIST?"OpptjeningVilkarView.Avslatt":"OpptjeningVilkarView.Godkjent",Qm=e=>e===nr.BEKREFTET_GODKJENT||e===nr.ANTATT_GODKJENT||e===G5,Fd=({fastsattOpptjeningAktivitet:e,lukkPeriode:n,velgNestePeriode:r,velgForrigePeriode:t})=>{const i=X();return l.jsxs(eo,{border:!0,children:[l.jsx(xe,{children:l.jsxs(D,{spaceBetween:!0,children:[l.jsx(y,{children:l.jsx(G,{size:"small",children:l.jsx(f,{id:"OpptjeningVilkarView.DetailsForSelectedPeriod"})})}),l.jsxs(y,{className:$t.fix,children:[l.jsx(ne,{className:$t.margin,size:"xsmall",icon:l.jsx(Qs,{"aria-hidden":!0}),onClick:t,variant:"secondary-neutral",type:"button",title:i.formatMessage({id:"TimeLineData.prevPeriod"}),children:l.jsx(f,{id:"TimeLineData.prevPeriodShort"})}),l.jsx(ne,{className:$t.margin,size:"xsmall",icon:l.jsx(ea,{"aria-hidden":!0}),onClick:r,variant:"secondary-neutral",type:"button",title:i.formatMessage({id:"TimeLineData.nextPeriod"}),iconPosition:"right",children:l.jsx(f,{id:"TimeLineData.nextPeriodShort"})}),l.jsx(ne,{size:"xsmall",icon:l.jsx(Cn,{"aria-hidden":!0}),onClick:n,variant:"tertiary-neutral",type:"button",title:i.formatMessage({id:"TimeLineData.lukkPeriode"})})]})]})}),l.jsx(A,{sixteenPx:!0}),l.jsx(_,{size:"small",children:l.jsx(Ge,{dateStringFom:e.fom,dateStringTom:e.tom})}),l.jsx(A,{sixteenPx:!0}),l.jsxs(ie,{children:[Qm(e.klasse)&&l.jsx(Wd,{className:$t.godkjentImage}),!Qm(e.klasse)&&l.jsx(Cn,{className:$t.avslattImage}),l.jsx(f,{id:M5(e.klasse)})]})]})};try{Fd.displayName="TimeLineData",Fd.__docgenInfo={description:"",displayName:"TimeLineData",props:{fastsattOpptjeningAktivitet:{defaultValue:null,description:"",name:"fastsattOpptjeningAktivitet",required:!0,type:{name:"FastsattOpptjeningAktivitet"}},lukkPeriode:{defaultValue:null,description:"",name:"lukkPeriode",required:!0,type:{name:"() => void"}},velgNestePeriode:{defaultValue:null,description:"",name:"velgNestePeriode",required:!0,type:{name:"() => void"}},velgForrigePeriode:{defaultValue:null,description:"",name:"velgForrigePeriode",required:!0,type:{name:"() => void"}}}}}catch{}const L5={danger:l.jsx(Lk,{}),success:l.jsx(Hd,{}),info:l.jsx(sh,{})},K5=e=>e===nr.BEKREFTET_AVVIST||e===nr.ANTATT_AVVIST?"danger":e===nr.BEKREFTET_GODKJENT||e===nr.ANTATT_GODKJENT?"success":"info",w5=e=>e.map(n=>({start:x(n.fom).toDate(),end:x(n.tom).toDate(),status:K5(n.klasse),opptjeningsperiode:n})),U5=e=>e==="info"?"OpptjeningTimeLineLight.MellomliggendePeriode":e==="success"?"OpptjeningTimeLineLight.Godkjent":"OpptjeningTimeLineLight.Avslatt",Pd=({opptjeningPeriods:e,opptjeningFomDate:n,opptjeningTomDate:r})=>{const t=X(),i=j.useMemo(()=>[...e].sort((c,b)=>x(c.fom).diff(x(b.fom))),[e]),s=j.useMemo(()=>w5(i),[i]),[a,d]=j.useState(),g=c=>{const b=s.find(I=>{var T;return((T=I.opptjeningsperiode)==null?void 0:T.fom)===c});b&&d(b)},m=j.useCallback(()=>{d(void 0)},[]),k=j.useCallback(()=>{if(s){const c=s.findIndex(b=>{var I,T;return((I=b.opptjeningsperiode)==null?void 0:I.fom)===((T=a==null?void 0:a.opptjeningsperiode)==null?void 0:T.fom)})+1;c<s.length&&d(s[c])}},[s,a,d]),p=j.useCallback(()=>{if(s){const c=s.findIndex(b=>{var I,T;return((I=b.opptjeningsperiode)==null?void 0:I.fom)===((T=a==null?void 0:a.opptjeningsperiode)==null?void 0:T.fom)})-1;c>=0&&d(s[c])}},[s,a,d]);return l.jsxs(l.Fragment,{children:[l.jsx(A,{twentyPx:!0}),l.jsxs(Ue,{startDate:x(n).subtract(1,"months").toDate(),endDate:x(r).add(10,"days").toDate(),children:[l.jsxs(Ue.Pin,{date:x(n).toDate(),children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"OpptjeningTimeLineLight.StartDato"})}),l.jsx(_,{size:"small",children:l.jsx(Re,{dateString:n})})]}),l.jsxs(Ue.Pin,{date:x(r).toDate(),children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"OpptjeningTimeLineLight.SluttDato"})}),l.jsx(_,{size:"small",children:l.jsx(Re,{dateString:r})})]}),l.jsx(Ue.Row,{label:"",children:s.map(c=>{var b,I,T;return l.jsx(Ue.Period,{start:c.start,end:c.end,status:c.status,onSelectPeriod:()=>{var R;return g((R=c.opptjeningsperiode)==null?void 0:R.fom)},isActive:((b=a==null?void 0:a.opptjeningsperiode)==null?void 0:b.fom)===((I=c.opptjeningsperiode)==null?void 0:I.fom),icon:L5[c.status],title:t.formatMessage({id:U5(c.status)})},(T=c.opptjeningsperiode)==null?void 0:T.fom)})})]}),l.jsx(A,{sixteenPx:!0}),(a==null?void 0:a.opptjeningsperiode)&&l.jsx(Fd,{fastsattOpptjeningAktivitet:a.opptjeningsperiode,lukkPeriode:m,velgNestePeriode:k,velgForrigePeriode:p})]})};try{Pd.displayName="OpptjeningTimeLineLight",Pd.__docgenInfo={description:"",displayName:"OpptjeningTimeLineLight",props:{opptjeningPeriods:{defaultValue:null,description:"",name:"opptjeningPeriods",required:!0,type:{name:"FastsattOpptjeningAktivitet[]"}},opptjeningFomDate:{defaultValue:null,description:"",name:"opptjeningFomDate",required:!0,type:{name:"string"}},opptjeningTomDate:{defaultValue:null,description:"",name:"opptjeningTomDate",required:!0,type:{name:"string"}}}}}catch{}const jv=({months:e,days:n,fastsattOpptjeningActivities:r=[],opptjeningFomDate:t,opptjeningTomDate:i})=>l.jsxs(l.Fragment,{children:[l.jsx(_,{size:"small",children:l.jsx(f,{id:"OpptjeningVilkarView.MonthsAndDays",values:{months:e,days:n}})}),l.jsx(A,{eightPx:!0}),l.jsx(_,{size:"small",children:l.jsx(Ge,{dateStringFom:t,dateStringTom:i})}),l.jsx(A,{sixteenPx:!0}),r.length>0&&l.jsx(Pd,{opptjeningPeriods:r,opptjeningFomDate:t,opptjeningTomDate:i})]});try{OpptjeningVilkarView.displayName="OpptjeningVilkarView",OpptjeningVilkarView.__docgenInfo={description:`OpptjeningVilkarView

Viser resultatet av opptjeningsvilkåret.`,displayName:"OpptjeningVilkarView",props:{months:{defaultValue:null,description:"",name:"months",required:!0,type:{name:"number"}},days:{defaultValue:null,description:"",name:"days",required:!0,type:{name:"number"}},fastsattOpptjeningActivities:{defaultValue:{value:"[]"},description:"",name:"fastsattOpptjeningActivities",required:!1,type:{name:"FastsattOpptjeningAktivitet[]"}},opptjeningFomDate:{defaultValue:null,description:"",name:"opptjeningFomDate",required:!0,type:{name:"string"}},opptjeningTomDate:{defaultValue:null,description:"",name:"opptjeningTomDate",required:!0,type:{name:"string"}}}}}catch{}const C5=(e,n,r)=>({...no.buildInitialValues(e,n,r),...pt.buildInitialValues(e)}),Y5=e=>({...no.transformValues(e),...pt.transformValues(e),kode:se.VURDER_OPPTJENINGSVILKARET}),Bd=({isApOpen:e,readOnlySubmitButton:n,readOnly:r,lovReferanse:t,aksjonspunkter:i,behandlingsresultat:s,status:a,fastsattOpptjening:d,submitCallback:g,erIkkeGodkjentAvBeslutter:m,formData:k,setFormData:p,erSvpFagsak:c})=>{const b=X(),I=j.useMemo(()=>C5(i,a,s),[s,i,a]),T=qe({defaultValues:k||I}),S=i.some(V=>V.status===rt.OPPRETTET)?void 0:Xk.OPPFYLT===a,N=j.useCallback(V=>g(Y5(V)),[g]),E=j.useCallback((...V)=>l.jsx("b",{children:V}),[]),O=j.useCallback(V=>{var L;return((L=d.fastsattOpptjeningAktivitetList)==null?void 0:L.length)===0&&V===!0?b.formatMessage({id:"OpptjeningVilkarAksjonspunktPanel.KanIkkeVelgeOppfylt"}):null},[]),$=j.useCallback(()=>l.jsxs(l.Fragment,{children:[l.jsx(A,{sixteenPx:!0}),l.jsx(jv,{months:d.opptjeningperiode.måneder,days:d.opptjeningperiode.dager,fastsattOpptjeningActivities:d.fastsattOpptjeningAktivitetList,opptjeningFomDate:d.opptjeningFom,opptjeningTomDate:d.opptjeningTom})]}),[d]);return l.jsx(He,{formMethods:T,onSubmit:N,setDataOnUnmount:p,children:l.jsxs(Ob,{title:b.formatMessage({id:"OpptjeningVilkarAksjonspunktPanel.Opptjeningsvilkaret"}),isAksjonspunktOpen:e,readOnlySubmitButton:n,readOnly:r,lovReferanse:t,originalErVilkarOk:S,erIkkeGodkjentAvBeslutter:m,isDirty:T.formState.isDirty,isSubmitting:T.formState.isSubmitting,rendreFakta:$,children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:c?"OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilSvangerskapspenger":"OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilForeldrepenger"})}),l.jsx(no,{readOnly:r,customVilkarOppfyltText:l.jsx(f,{id:c?"OpptjeningVilkarAksjonspunktPanel.ErOppfyltSvp":"OpptjeningVilkarAksjonspunktPanel.ErOppfylt"}),customVilkarIkkeOppfyltText:l.jsx(f,{id:c?"OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfyltSvp":"OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfylt",values:{b:E}}),validatorsForRadioOptions:[O]}),l.jsx(A,{sixteenPx:!0}),l.jsx(pt,{readOnly:r})]})})};try{Bd.displayName="OpptjeningVilkarAksjonspunktPanel",Bd.__docgenInfo={description:`OpptjeningVilkarAksjonspunktPanel

Viser panel for å løse aksjonspunkt for avslått opptjeningsvilkår`,displayName:"OpptjeningVilkarAksjonspunktPanel",props:{fastsattOpptjening:{defaultValue:null,description:"",name:"fastsattOpptjening",required:!0,type:{name:"FastsattOpptjening"}},behandlingsresultat:{defaultValue:null,description:"",name:"behandlingsresultat",required:!1,type:{name:"Readonly<{ id: number; type: string; avslagsarsak?: string; avslagsarsakFritekst?: string; rettenTil?: string | undefined; konsekvenserForYtelsen?: string[] | undefined; ... 4 more ...; skjæringstidspunkt?: { ...; } | undefined; }> | undefined"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},isApOpen:{defaultValue:null,description:"",name:"isApOpen",required:!0,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: AvklarOpptjeningsvilkaretAp) => Promise<void>"}},lovReferanse:{defaultValue:null,description:"",name:"lovReferanse",required:!1,type:{name:"string"}},erIkkeGodkjentAvBeslutter:{defaultValue:null,description:"",name:"erIkkeGodkjentAvBeslutter",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"FormValues"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: FormValues) => void"}},erSvpFagsak:{defaultValue:null,description:"",name:"erSvpFagsak",required:!0,type:{name:"boolean"}}}}}catch{}const Od=({behandlingsresultat:e,fastsattOpptjening:n,isAksjonspunktOpen:r,aksjonspunkter:t,status:i,lovReferanse:s,readOnlySubmitButton:a,readOnly:d,submitCallback:g,erIkkeGodkjentAvBeslutter:m,formData:k,setFormData:p,erSvpFagsak:c})=>t.length>0?l.jsx(Bd,{submitCallback:g,isApOpen:r,readOnly:d,readOnlySubmitButton:a,behandlingsresultat:e,aksjonspunkter:t,status:i,lovReferanse:s,fastsattOpptjening:n,erIkkeGodkjentAvBeslutter:m,formData:k,setFormData:p,erSvpFagsak:c}):l.jsx(jv,{months:n.opptjeningperiode.måneder,days:n.opptjeningperiode.dager,fastsattOpptjeningActivities:n.fastsattOpptjeningAktivitetList,opptjeningFomDate:n.opptjeningFom,opptjeningTomDate:n.opptjeningTom});try{Od.displayName="OpptjeningVilkarForm",Od.__docgenInfo={description:`OpptjeningVilkarForm

Presentasjonskomponent. Viser resultatet av opptjeningsvilkåret.`,displayName:"OpptjeningVilkarForm",props:{behandlingsresultat:{defaultValue:null,description:"",name:"behandlingsresultat",required:!1,type:{name:"Readonly<{ id: number; type: string; avslagsarsak?: string; avslagsarsakFritekst?: string; rettenTil?: string | undefined; konsekvenserForYtelsen?: string[] | undefined; ... 4 more ...; skjæringstidspunkt?: { ...; } | undefined; }> | undefined"}},fastsattOpptjening:{defaultValue:null,description:"",name:"fastsattOpptjening",required:!0,type:{name:"FastsattOpptjening"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},lovReferanse:{defaultValue:null,description:"",name:"lovReferanse",required:!1,type:{name:"string"}},isAksjonspunktOpen:{defaultValue:null,description:"",name:"isAksjonspunktOpen",required:!0,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: AvklarOpptjeningsvilkaretAp) => Promise<void>"}},erIkkeGodkjentAvBeslutter:{defaultValue:null,description:"",name:"erIkkeGodkjentAvBeslutter",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"FormValues"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: FormValues) => void"}},erSvpFagsak:{defaultValue:null,description:"",name:"erSvpFagsak",required:!0,type:{name:"boolean"}}}}}catch{}const z5={"OpptjeningVilkarView.Oppfylt":"Vilkåret er oppfylt","OpptjeningVilkarView.Godkjent":"Godkjent","OpptjeningVilkarView.Avslatt":"Avslått","OpptjeningVilkarView.Months":"måneder","OpptjeningVilkarView.Weeks":"uker","OpptjeningVilkarView.Days":"dager","OpptjeningVilkarView.MonthsAndDays":"{months} måneder og {days} dager aktivitet i opptjeningsperioden","OpptjeningVilkarView.DetailsForSelectedPeriod":"Detaljer for valgt periode","OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilForeldrepenger":"Opptjent rett til foreldrepenger","OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilSvangerskapspenger":"Opptjent rett til svangerskapspenger","OpptjeningVilkarAksjonspunktPanel.ErOppfylt":"Søker har oppfylt krav om 6 mnd opptjening, vilkåret er oppfylt.","OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfylt":"Søker har ikke oppfylt krav om 6 mnd opptjening, vilkåret er <b>ikke</b> oppfylt.","OpptjeningVilkarAksjonspunktPanel.ErOppfyltSvp":"Søker har oppfylt krav om 4 uker opptjening, vilkåret er oppfylt.","OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfyltSvp":"Søker har ikke oppfylt krav om 4 uker mnd opptjening, vilkåret er <b>ikke</b> oppfylt.","OpptjeningVilkarAksjonspunktPanel.Opptjeningsvilkaret":"Opptjening","OpptjeningVilkarAksjonspunktPanel.KanIkkeVelgeOppfylt":"Du kan ikke velge at opptjeningsvilkåret er oppfylt, fordi det ikke finnes noen aktiviteter å beregne inntekten fra. Kontakt bruker for å avklare om bruker har noen opptjening.","OpptjeningTimeLineLight.StartDato":"Start opptjeningsperiode","OpptjeningTimeLineLight.SluttDato":"Slutt opptjeningsperiode","OpptjeningTimeLineLight.MellomliggendePeriode":"Mellomliggende periode","OpptjeningTimeLineLight.Godkjent":"Godkjent","OpptjeningTimeLineLight.Avslatt":"Avslått","TimeLineNavigation.openData":"Åpne info om første periode","TimeLineData.nextPeriod":"Neste periode","TimeLineData.prevPeriod":"Forrige periode","Timeline.openData":"Åpne info om første periode","TimeLineData.lukkPeriode":"Lukk periode","TimeLineData.nextPeriodShort":"Neste","TimeLineData.prevPeriodShort":"Forrige","ShowVilkarStatus.Check":"Informasjonen er utfylt"},q5=Oe(z5),ek=({behandling:e,opptjening:n,aksjonspunkter:r,status:t,lovReferanse:i,submitCallback:s,isReadOnly:a,isAksjonspunktOpen:d,readOnlySubmitButton:g,alleMerknaderFraBeslutter:m,formData:k,setFormData:p,erSvpFagsak:c=!1})=>l.jsx(Ye,{value:q5,children:l.jsx(Od,{behandlingsresultat:e.behandlingsresultat,fastsattOpptjening:n.fastsattOpptjening,status:t,lovReferanse:i,aksjonspunkter:r,submitCallback:s,readOnly:a,isAksjonspunktOpen:d,readOnlySubmitButton:g,erIkkeGodkjentAvBeslutter:r.some(b=>{var I;return(I=m[b.definisjon])==null?void 0:I.notAccepted}),formData:k,setFormData:p,erSvpFagsak:c})});try{ek.displayName="OpptjeningVilkarProsessIndex",ek.__docgenInfo={description:"",displayName:"OpptjeningVilkarProsessIndex",props:{opptjening:{defaultValue:null,description:"",name:"opptjening",required:!0,type:{name:"Opptjening"}},lovReferanse:{defaultValue:null,description:"",name:"lovReferanse",required:!1,type:{name:"string"}},erSvpFagsak:{defaultValue:{value:"false"},description:"",name:"erSvpFagsak",required:!1,type:{name:"boolean"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},vilkar:{defaultValue:null,description:"",name:"vilkar",required:!0,type:{name:"Readonly<{ vilkarType: string; vilkarStatus: string; avslagKode?: string | undefined; lovReferanse?: string | undefined; overstyrbar: boolean; }>[]"}},isAksjonspunktOpen:{defaultValue:null,description:"",name:"isAksjonspunktOpen",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const nk=se.OVERSTYR_LØPENDE_MEDLEMSKAPSVILKAR,cl=[Ar.MEDLEMSKAPSVILKÅRET_LØPENDE],rk=({rettigheter:e,...n})=>{const{behandling:r}=n,[t,i]=j.useState(!1),s=j.useCallback(()=>i(!t),[t]);return j.useEffect(()=>{i(!1)},[r.versjon]),l.jsx(to,{...n,aksjonspunktKoder:[nk],vilkarKoder:cl,prosessPanelKode:Jd.FORTSATTMEDLEMSKAP,prosessPanelMenyTekst:X().formatMessage({id:"Behandlingspunkt.FortsattMedlemskap"}),skalPanelVisesIMeny:a=>zk(a.aksjonspunkter,cl,a.vilkar),erOverstyrt:t,renderPanel:a=>l.jsx($b,{aksjonspunkter:a==null?void 0:a.aksjonspunkter,aksjonspunktKode:nk,vilkar:a.vilkar,vilkarKoder:cl,panelTekstKode:"Behandlingspunkt.FortsattMedlemskap",erMedlemskapsPanel:!1,toggleOverstyring:s,erOverstyrt:t,overrideReadOnly:a.isReadOnly,kanOverstyreAccess:e.kanOverstyreAccess})})};try{rk.displayName="FortsattMedlemskapProsessStegInitPanel",rk.__docgenInfo={description:"",displayName:"FortsattMedlemskapProsessStegInitPanel",props:{rettigheter:{defaultValue:null,description:"",name:"rettigheter",required:!0,type:{name:"AksessRettigheter"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}var ge=(e=>(e.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS="FASTSETT_BG_AT_FL",e.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE="VURDER_VARIG_ENDRT_NYOPPSTR_NAERNG_SN",e.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON="VURDER_VARIG_ENDRT_ARB_SITSJN_MDL_INAKTV",e.FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE="FASTSETT_BG_SN",e.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD="FASTSETT_BG_TB_ARB",e.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET="FASTSETT_BG_SN_NY_I_ARB_LIVT",e.VURDER_GRADERING_UTEN_BEREGNINGSGRUNNLAG="VURDER_GRADERING_UTEN_BG",e))(ge||{}),H5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Iv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Av={exports:{}},Dt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tk;function J5(){if(tk)return Dt;tk=1;var e=M,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(d,g,m){var k,p={},c=null,b=null;m!==void 0&&(c=""+m),g.key!==void 0&&(c=""+g.key),g.ref!==void 0&&(b=g.ref);for(k in g)t.call(g,k)&&!s.hasOwnProperty(k)&&(p[k]=g[k]);if(d&&d.defaultProps)for(k in g=d.defaultProps,g)p[k]===void 0&&(p[k]=g[k]);return{$$typeof:n,type:d,key:c,ref:b,props:p,_owner:i.current}}return Dt.Fragment=r,Dt.jsx=a,Dt.jsxs=a,Dt}Av.exports=J5();var o=Av.exports,xv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var t=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var a=typeof s;if(a==="string"||a==="number")t.push(this&&this[s]||s);else if(Array.isArray(s))t.push(r.apply(this,s));else if(a==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){t.push(s.toString());continue}for(var d in s)n.call(s,d)&&s[d]&&t.push(this&&this[d]||d)}}}return t.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(xv);var Z5=xv.exports;const W5=Iv(Z5),X5="_contentContainer_1rz2h_1",Q5="_sideMenuContainer_1rz2h_4",e3="_mainContainer--withSideMenu_1rz2h_7",n3="_advarselIkon_1rz2h_11",bs={contentContainer:X5,sideMenuContainer:Q5,"mainContainer--withSideMenu":"_mainContainer--withSideMenu_1rz2h_7",mainContainerWithSideMenu:e3,advarselIkon:n3},yv={"Beregningsgrunnlag.Title.Beregning":"Grunnlag for beregning","Beregningsgrunnlag.Title.Fastsettelse":"Fastsettelse","Beregningsgrunnlag.Title":"Beregning","Beregningsgrunnlag.Avslagsårsak.IkkeTilstrekkeligInntektsgrunnlag":"Ikke tilstrekkelig inntektsgrunnlag","Beregningsgrunnlag.HarIkkeBeregningsregler":"Har ikke beregningsregler (trer i kraft 1 jan. 2019). Sak overført til Infotrygd.","Beregningsgrunnlag.Helptext.Arbeidstaker":"Det er mer enn 25% avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget","Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.Nyoppstartet":"Søker har nyoppstartet næring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt","Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.VarigEndring":"Søker har oppgitt varig endring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.Helptext.VarigEndretArbeidssituasjon":"Varig endret arbeidssituasjon.","Beregningsgrunnlag.Helptext.TidsbegrensetArbeidsforhold":"Det er mer enn 25 % avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget, og det er tidsbegrenset arbeidsforhold","Beregningsgrunnlag.Helptext.NyIArbeidslivetSN":"Søker er ny i arbeidslivet","Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt":"Beregnet årsinntekt","Beregningsgrunnlag.Avviksopplysninger.ATFL.Tittel":"Avviksberegning for arbeidstaker og frilans","Beregningsgrunnlag.Avviksopplysninger.SN.Tittel":"Avviksberegning for næring","Beregningsgrunnlag.Avviksopplysninger.MIDL.Tittel":"Avviksberegning for midlertidig inaktiv","Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt.Naring":"Pensjonsgivende inntekt","Beregningsgrunnlag.Avviksopplysninger.RapportertAarsinntekt":"Sammenligningsgrunnlag","Beregningsgrunnlag.Avviksopplysninger.SamletInntekt":"Samlet inntekt","Beregningsgrunnlag.Avviksopplysninger.BeregnetAvvik":"Beregnet avvik ","Beregningsgrunnlag.Avviksopplysninger.SN.NyIArbeidslivet":"Søker er ny i arbeidslivet. Det foretas derfor ingen avviksvurdering.","Beregningsgrunnlag.Avviksopplysninger.AT.KobinasjonsStatusATFLSN":"Det regnes ikke avvik på arbeids- og frilansinntekt for kombinasjonen arbeid, frilans og selvstendig næringsdrivende i beregningsgrunnlag der skjæringstidspunkt er før 01.01.2023","Beregningsgrunnlag.Avviksopplysninger.AAP":"Det foretas ikke avviksvurdering på AAP","Beregningsgrunnlag.Avviksopplysninger.Dagpenger":"Det foretas ikke avviksvurdering på Dagpenger","Beregningsgrunnlag.Avviksopplysninger.Besteberegning":"Det foretas ingen avviksvurdering når søker har besteberegning på dagpenger","Beregningsgrunnlag.Avviksopplysninger.Miletar":"Det regnes ikke avvik ved militær- eller siviltjeneste.","Beregningsgrunnlag.Avviksopplysninger.AvvikProsent":"{avvik}%","Beregningsgrunnlag.Skjeringstidspunkt.SkjeringForBeregning":"Skjæringstidspunkt for beregning","Beregningsgrunnlag.Skjeringstidspunkt.LonnsendringSisteTreMan":"Søker har hatt lønnsendring i løpet av de siste tre månedene","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.manueltBehandlet":"Bruker har hatt lønnsendring {datoer}. Inntekt er fastsatt manuelt.","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.delvisMåned":"Bruker har hatt lønnsendring {datoer}. Dette betyr at rapportert inntekt for {måned} er en kombinasjon av ny og gammel inntekt. Ny inntekt er beregnet ved først å finne gammel inntekt fra rapportert inntekt i {forrigeMåned} og deretter regne oss fram til ny inntekt ved å bruke forholdet mellom dagene før og etter lønnsendringen.","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullEnMåned":"Bruker har hatt lønnsendring {datoer}. Ny inntekt er beregnet ved å bruke rapportert inntekt i {nesteMåned}.","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullToMåned":"Bruker har hatt lønnsendring {datoer}. Ny inntekt er beregnet ved å bruke snittet av rapportert inntekt i {nesteMåned} og {sisteMåned}.","Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt":"Arbeidsinntekt","Beregningsgrunnlag.AarsinntektPanel.Pensjonsgivendeinntekt":"Pensjonsgivende inntekt","Beregningsgrunnlag.AarsinntektPanel.SN.TreSisteÅr":"3 siste år fra skatt","Beregningsgrunnlag.AarsinntektPanel.SN.ATFL":"Arbeid/frilans","Beregningsgrunnlag.AarsinntektPanel.SN.Næring":"Næring","Beregningsgrunnlag.AarsinntektPanel.SN.Sum":"Sum","Beregningsgrunnlag.AarsinntektPanel.SN.Gjustert":"G-justert","Beregningsgrunnlag.AarsinntektPanel.SN.sisteTreAar":"3 siste ferdigliknede år fra skatteetaten","Beregningsgrunnlag.AarsinntektPanel.SN.GsnittSum":"Gjennomsnittlig pensjonsgivende inntekt","Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar":"Beregnet År","Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned":"Måned","Beregningsgrunnlag.AarsinntektPanel.Frilansinntekt":"Frilansinntekt","Beregningsgrunnlag.AarsinntektPanel.FrilansStartDato2":"Søker har vært frilans fra ","Beregningsgrunnlag.AarsinntektPanel.InnrapportertFrilans":"Innrapportert i a-ordningen siste 3 mnd","Beregningsgrunnlag.AarsinntektPanel.Militær":"Militær- eller sivilforsvarstjeneste","Beregningsgrunnlag.AarsinntektPanel.Pensjonsgivende":"Pensjonsgivende inntekt","Beregningsgrunnlag.AarsinntektPanel.TotaltArbeidsinntekt":"Totalt","Beregningsgrunnlag.AarsinntektPanel.TotalPensjonsGivende":"Total","Beregningsgrunnlag.AarsinntektPanel.Tidsbegrenset":"Tidsbegrenset","Beregningsgrunnlag.AarsinntektPanel.SnittPensjonsGivende":"Gjennomsnittlig pensjonsgivende inntekt","Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringNyoppstartet":"Vurder om det er varig endring i næringen og/eller arbeidssituasjonen, som gjør at inntekten skal fastsettes skjønnsmessig","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndring":"Søker har opplyst varig endring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerNyoppstartet":"Søker har nyoppstartet næring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.AksjonspunktBehandler.TittelATAvvik":"Fastsett årsinntekt skjønnsmessig for arbeidstaker","Beregningsgrunnlag.AksjonspunktBehandler.TittelFLAvvik":"Fastsett årsinntekt skjønnsmessig for frilans","Beregningsgrunnlag.AksjonspunktBehandler.TittelATFLAvvik":"Fastsett årsinntekt skjønnsmessig for arbeidstaker og frilans","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFL":"Det er mer enn 25% avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget.","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFLTidsbegrenset":"Det er mer enn 25 % avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget, og det er tidsbegrenset arbeidsforhold.","Beregningsgrunnlag.AksjonspunktBehandler.TittelSNNyIArb":"Søker er ny i arbeidslivet, gjør en skjønnsmessig vurdering av næringsinntekten","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerSNNyIArb":"Søker har oppgitt å være ny i arbeidslivet (blitt yrkesaktiv siste tre år).","Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringArbeid":"Vurder om det er varig endring i arbeidssituasjonen, som gjør at inntekten skal fastsettes skjønnsmessig","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndringArbeid":"Det er er mer enn 25 % avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringNæring":"Har søker hatt varig endret næring og/eller arbeidssituasjon? ","Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringArbeid":"Har søker hatt varig endret arbeidssituasjon? ","Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelNyoppstartetNæring":"Har søker nyoppstartet næring? ","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandler":"Skjønnsmessig fastsettelse av årsinntekt ved avvik","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerTB.SumPeriode":"Total årsintekt pr periode","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandler.OmberegnetAar":"Beregnet År","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerFL":"Frilansinntekt fastsettes til","Beregningsgrunnlag.AarsinntektPanel.Naturalytelse2":"Naturalytelser","Beregningsgrunnlag.NaeringsOpplysningsPanel.Overskrift":"Opplysninger om næring fra søknad","Beregningsgrunnlag.NaeringsOpplysningsPanel.OppgittAar":"Oppgitt år","Beregningsgrunnlag.NaeringsOpplysningsPanel.VarigEndret":"Søker har oppgitt varig endring fra <b>{dato}</b>","Beregningsgrunnlag.NaeringsOpplysningsPanel.Nyoppstaret":"Søker har oppgitt nyoppstartet fra <b>{dato}</b>","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.JORDBRUK_SKOGBRUK":"Jordbruk / Skogbruk","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.DAGMAMMA":"Dagmamma i eget hjem / familiebarnehage","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FISKE":"Fiske","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FRILANSER":"Frilanser","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.ANNEN":"Annen næringsvirksomhet","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.UDEFINERT":"Ikke definert","Beregningsgrunnlag.Forms.Vurdering":"Vurdering","Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag":"Vurdering av fastsatt beregningsgrunnlag","Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst":"Forklar hvordan du har kommet frem til beregningsgrunnlaget og hvilke vurderinger du har gjort. Beskriv hvorfor det er avvik og hvilken inntekt som kan legges til grunn. Dette skal gjøres i henhold til lovhjemmel.","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IngenEndring":"Ingen varig endring eller nyoppstartet næring","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.EndretNaering":"Varig endring eller nyoppstartet næring","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeNyoppstartet":"Næringsvirksomhet er ikke nyoppstartet","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeVarigEndring":"Ingen varig endring","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndring":"Varig endring - årsinntekt må fastsettes.","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.Nyoppstartet":"Nyoppstartet næring - Årsinntekt må fastsettes.","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.BruttoBerGr2":"Næringsinntekt fastsettes til","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndretInntektFastsettesTil":"Varig endret årsinntekt fastsettes til","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.SumTittel":"Rapportert årsinntekt","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Tittel":"Sammenligningsgrunnlag fra a-ordningen","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ingress":"Inntekt og ytelser etter kap 8, 9 og 14 de 12 siste månedene","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Arbeid":"Arbeid","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Frilans":"Frilans","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ytelse":"Ytelse","Beregningsgrunnlag.TilstottendeYtelse.Tittel":"Tilstøtende ytelse","Beregningsgrunnlag.TilstottendeYtelse.TittelNav":"Ytelser fra NAV","Beregningsgrunnlag.TilstottendeYtelse.Dagpenger":"Dagpenger","Beregningsgrunnlag.TilstottendeYtelse.SykepengerAvDagpenger":"Sykepenger basert på dagpenger","Beregningsgrunnlag.TilstottendeYtelse.PleiepengerAvDagpenger":"Pleiepenger basert på dagpenger","Beregningsgrunnlag.TilstottendeYtelse.AAP":"Arbeidsavklaringspenger","Beregningsgrunnlag.TilstottendeYtelse.Besteberegning":"Satt ut fra besteberegning","Beregningsgrunnlag.YtelserFraInfotrygd.Ytelse2":"Ytelse fra NAV","Beregningsgrunnlag.YtelserFraInfotrygd.YtelseNavn":"Ytelse","Beregningsgrunnlag.BeregningTable.Periode":"Periode {fom} - {tom}","Beregningsgrunnlag.BeregningTable.Tittel":"Beregning av dagsats","Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfylt2":"Beløpet er under 1/2 G (G = {grunnbeløp}) - søker har ikke rett til ytelse","Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfyltMidlertidigInaktiv":"Beløpet er under 1 G (G = {grunnbeløp}) - søker har ikke rett til ytelse","Beregningsgrunnlag.Gradering.Beskrivelse":"Saksbehandler har tidligere vurdert om fordeling av inntekt er korrekt grunnet en andel uten utbetaling som skal graderes.","Besteberegning.ResultatGrunnlag.BruttoBeregningsgrunnlag":"Beregnet","Besteberegning.ResultatGrunnlag.BeregningEtterBesteberegning":"§14-7, 3. ledd","Besteberegning.ResultatGrunnlag.BrukerOmfattesAvBesteberegning":"Søker omfattes av §14-7, 3. ledd.","Besteberegning.ResultatGrunnlag.BeregningEtterKap8":"§14-7, 1. ledd","Besteberegning.ResultatGrunnlag.Kap1473GirBesteBeregning":"Beregning etter §14-7, 3. ledd gir beste beregning.","Besteberegning.ResultatGrunnlag.Kap1471GirBesteBeregning":"Beregning etter §14-7, 1. ledd gir beste beregning.","SubmitButton.ConfirmInformation":"Bekreft og fortsett","Malform.Beskrivelse":"Foretrukket språk","HelpText.Aksjonspunkt":"Aksjonspunkt","Behandling.EditedField":"Saksbehandler har endret feltets verdi","Beregningsgrunnlag.Beregningsresultat.Periode":"Periode {fom} - {tom}","Beregningsgrunnlag.Beregningsresultat.Arbeid":"Fastsatt årsinntekt arbeid","Beregningsgrunnlag.Beregningsresultat.Frilans":"Fastsatt årsinntekt frilans","Beregningsgrunnlag.Beregningsresultat.Næring":"Fastsatt årsinntekt næring","Beregningsgrunnlag.Beregningsresultat.Dagpenger":"Fastsatt årsinntekt dagpenger","Beregningsgrunnlag.Beregningsresultat.SykepengerAvDagpenger":"Fastsatt årsinntekt sykepenger av dagpenger","Beregningsgrunnlag.Beregningsresultat.PleiepengerAvDagpenger":"Fastsatt årsinntekt pleiepenger av dagpenger","Beregningsgrunnlag.Beregningsresultat.Arbeidsavklaringspenger":"Fastsatt årsinntekt arbeidsavklaringspenger","Beregningsgrunnlag.Beregningsresultat.Militær":"Fastsatt årsinntekt militær","Beregningsgrunnlag.Beregningsresultat.BrukersAndel":"Fastsatt årsinntekt brukers andel","Beregningsgrunnlag.Beregningsresultat.Ytelse":"Fastsatt årsinntekt ytelse","Beregningsgrunnlag.Beregningsresultat.IkkeBeregnet":"Ikke beregnet","Beregningsgrunnlag.Beregningsresultat.Naturalytelser":"Naturalytelser","Beregningsgrunnlag.Beregningsresultat.TotalÅrsinntekt":"Total årsinntekt","Beregningsgrunnlag.Beregningsresultat.Avkortet":"Årsinntekt redusert til 6G på skjæringstidspunktet","Beregningsgrunnlag.Beregningsresultat.Redusert":"Årsinntekt redusert til 80% dekningsgrad","Beregningsgrunnlag.Beregningsresultat.Dagsats":"Dagsats (årsinntekt/260 dager)","Beregningsgrunnlag.Søknad.Tittel":"Opplysninger fra søknad","Beregningsgrunnlag.Søknad.LøpendeFL":"Oppgitt frilansinntekt i søknadsperioden","Beregningsgrunnlag.Søknad.LøpendeSN":"Oppgitt næringsinntekt i søknadsperioden","Beregningsgrunnlag.Søknad.SøktYtelseSN":"Bruker har søkt inntektskompensasjon for næringsinntekt i perioden {fom} - {tom}","Beregningsgrunnlag.Frisinn.Resultat":"Grunnlag for dagsats","Beregningsgrunnlag.Frisinn.Inntektstak":"Inntektstak ({grenseverdi} - {annenInntekt})","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagFL":"Beregningsgrunnlag frilans","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagSN":"Beregningsgrunnlag næring","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertFL":"Redusert til {grad}% beregningsgrunnlag frilans","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertSN":"Redusert til {grad}% beregningsgrunnlag næring","Beregningsgrunnlag.Frisinn.Tittel":"FRISINN","Beregningsgrunnlag.Frisinn.InntektFL":"Frilansinntekt","Beregningsgrunnlag.Frisinn.InntektSN":"Næringsinntekt","Beregningsgrunnlag.Frisinn.InntektAT":"Arbeidstakerinntekt","Beregningsgrunnlag.Søknad.Inntektsopplysninger":"Opplysninger om inntekt","Beregningsgrunnlag.Resultat.Dagsats":"Dagsats","Beregningsgrunnlag.Frisinn.InntektstakOpplysninger":"Opplysninger om inntektstak","Beregningsgrunnlag.Frisinn.InntektstakOpplysningerPeriode":"Opplysninger om inntektstak i perioden {fom} - {tom}"},r3="_readOnlyBlokk_3qjl7_1",t3={readOnlyBlokk:r3},i3=({avklaringsbehov:e})=>!e||!e.begrunnelse?null:o.jsxs(o.Fragment,{children:[o.jsx(G,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.Gradering.Beskrivelse"})}),o.jsx(A,{sixteenPx:!0}),o.jsxs(_,{size:"small",className:t3.readOnlyBlokk,children:[e.begrunnelse," ",o.jsx(ft,{})]})]}),s3=e=>e.overstyrtPrAar||e.overstyrtPrAar===0?e.overstyrtPrAar:e.beregnetPrAar||e.beregnetPrAar===0?e.beregnetPrAar:0,a3=e=>e&&e.beregningsgrunnlagPrStatusOgAndel?e.beregningsgrunnlagPrStatusOgAndel.map(n=>s3(n)).reduce((n,r)=>n+r,0):0,l3=e=>e.flatMap(n=>n.inntekter).map(({inntekt:n})=>n).reduce((n,r)=>n+r,0)*2,ik=(e,n)=>e>n,d3=[o.jsx("div",{},"TomKolNøkkel"),o.jsxs(G,{size:"small",children:[" ",o.jsx(f,{id:"Besteberegning.ResultatGrunnlag.BeregningEtterKap8"})," "]},"Kap8Nøkkel"),o.jsxs(G,{size:"small",children:[" ",o.jsx(f,{id:"Besteberegning.ResultatGrunnlag.BeregningEtterBesteberegning"})," "]},"BBNøkkel")],o3=({periode:e,besteMåneder:n})=>{if(!n||n.length<1)return null;const r=a3(e),t=l3(n);return o.jsxs("div",{children:[o.jsx(D,{children:o.jsx(y,{children:o.jsx(f,{id:"Besteberegning.ResultatGrunnlag.BrukerOmfattesAvBesteberegning"})})}),o.jsx(A,{twentyPx:!0}),o.jsx(D,{children:o.jsx(y,{children:o.jsx(an,{headerColumnContent:d3,noHover:!0,children:o.jsxs(Je,{children:[o.jsx(q,{children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Besteberegning.ResultatGrunnlag.BruttoBeregningsgrunnlag"})})}),o.jsx(q,{children:o.jsx(_,{size:"small",children:z(r)})}),o.jsx(q,{children:o.jsx(_,{size:"small",children:z(t)})})]})})})}),o.jsx(D,{children:o.jsx(y,{children:o.jsxs(_,{size:"small",children:[ik(r,t)&&o.jsx(f,{id:"Besteberegning.ResultatGrunnlag.Kap1471GirBesteBeregning"}),!ik(r,t)&&o.jsx(f,{id:"Besteberegning.ResultatGrunnlag.Kap1473GirBesteBeregning"})]})})})]})},g3="_avsnittOverskrift_3qwr0_1",u3="_venstreKolonne_3qwr0_5",m3="_hoyreKolonne_3qwr0_8",k3="_panelLeft_3qwr0_11",f3="_panelRight_3qwr0_21",p3="_storSpace_3qwr0_32",c3="_semiBoldText_3qwr0_35",v3="_næringEndringBeskrivelse_3qwr0_38",b3="_redError_3qwr0_41",h3="_tabellAktivitet_3qwr0_44",j3="_tabellInntekt_3qwr0_54",I3="_næringOpplysningNavn_3qwr0_66",A3="_næringOpplysningInntekt_3qwr0_69",x3="_næringOpplysningOrgnr_3qwr0_73",y3="_næringOpplysningDato_3qwr0_76",T3="_heldekkendeKol_3qwr0_79",E3="_tagMargin_3qwr0_85",_3="_colDivider_3qwr0_88",S3="_noPaddingRight_3qwr0_92",R3="_arbeidPanelSkille_3qwr0_95",Y={avsnittOverskrift:g3,venstreKolonne:u3,hoyreKolonne:m3,panelLeft:k3,panelRight:f3,storSpace:p3,semiBoldText:c3,næringEndringBeskrivelse:"_næringEndringBeskrivelse_3qwr0_38",naeringEndringBeskrivelse:v3,redError:b3,tabellAktivitet:h3,tabellInntekt:j3,næringOpplysningNavn:"_næringOpplysningNavn_3qwr0_66",naeringOpplysningNavn:I3,næringOpplysningInntekt:"_næringOpplysningInntekt_3qwr0_69",naeringOpplysningInntekt:A3,næringOpplysningOrgnr:"_næringOpplysningOrgnr_3qwr0_73",naeringOpplysningOrgnr:x3,næringOpplysningDato:"_næringOpplysningDato_3qwr0_76",naeringOpplysningDato:y3,heldekkendeKol:T3,tagMargin:E3,colDivider:_3,noPaddingRight:S3,arbeidPanelSkille:R3};var Tv={exports:{}};(function(e,n){(function(r,t){e.exports=t(x)})(H5,function(r){function t(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var i=t(r),s={name:"nb",weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),ordinal:function(a){return a+"."},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"}};return i.default.locale(s,null,!0),s})})(Tv);var N3=Tv.exports;const Vd=Iv(N3),sk=e=>e?`...${e.substring(e.length-4,e.length)}`:"",Aa=(e,n)=>{const{navn:r,fødselsdato:t,erPrivatPerson:i,identifikator:s}=e;return i?t?`${r} (${x(t).format(ee)})${sk(n)}`:r:s?`${r} (${s})${sk(n)}`:r},ak=(e,n)=>{var r;return e.arbeidsforhold&&e.arbeidsforhold.arbeidsforholdType&&((r=n[ke.OPPTJENING_AKTIVITET_TYPE].find(t=>{var i;return t.kode===((i=e.arbeidsforhold)==null?void 0:i.arbeidsforholdType)}))==null?void 0:r.navn)||""},$d=(e,n,r)=>{if(e.arbeidsforhold&&e.arbeidsforhold.arbeidsgiverIdent){const t=n[e.arbeidsforhold.arbeidsgiverIdent];return t?Aa(t,e.arbeidsforhold.eksternArbeidsforholdId):ak(e,r)}return ak(e,r)},Gt=e=>x(e).locale(Vd).format("MMMM");function rs(e,n,r){const t=e.filter(i=>i.lønnsendringscenario===n).map(i=>`i ${Aa(r[i.arbeidsforhold.arbeidsgiverIdent],void 0)}
      ${x(i.sisteLønnsendringsdato).format(ee)}`);return t.reduce((i,s,a)=>a===0?s:a<t.length-2?`${i}, ${s}`:`${i} og ${s}`,"")}const F3=(e,n,r,t)=>{switch(e){case Zn.MANUELT_BEHANDLET:return o.jsx(f,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.manueltBehandlet",values:{datoer:rs(r,Zn.MANUELT_BEHANDLET,t)}});case Zn.DELVIS_MÅNEDSINNTEKT_SISTE_MND:return o.jsx(f,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.delvisMåned",values:{datoer:rs(r,Zn.DELVIS_MÅNEDSINNTEKT_SISTE_MND,t),måned:Gt(x(n).subtract(1,"month").format(St)),forrigeMåned:Gt(x(n).subtract(2,"month").format(St))}});case Zn.FULL_MÅNEDSINNTEKT_EN_MND:return o.jsx(f,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullEnMåned",values:{datoer:rs(r,Zn.FULL_MÅNEDSINNTEKT_EN_MND,t),nesteMåned:Gt(x(n).subtract(1,"month").format(St))}});case Zn.FULL_MÅNEDSINNTEKT_TO_MND:return o.jsx(f,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullToMåned",values:{datoer:rs(r,Zn.FULL_MÅNEDSINNTEKT_TO_MND,t),sisteMåned:Gt(x(n).subtract(1,"month").format(St)),nesteMåned:Gt(x(n).subtract(2,"month").format(St))}});default:return null}};function P3(e,n,r){return gb(e.map(t=>t.lønnsendringscenario)).map(t=>o.jsxs(o.Fragment,{children:[F3(t,n,e,r),o.jsx("br",{}),o.jsx(A,{sixteenPx:!0})]}))}const B3=({skjeringstidspunktDato:e,saksopplysninger:n,arbeidsgiverOpplysningerPerId:r})=>{const t=[];return n&&n.lønnsendringSaksopplysning&&n.lønnsendringSaksopplysning.length>0&&t.push({textId:"Beregningsgrunnlag.Skjeringstidspunkt.LonnsendringSisteTreMan",readMoreContent:P3(n.lønnsendringSaksopplysning,e,r)}),o.jsx(Pb,{saksopplysninger:t})},O3=e=>{switch(e){case F.SELVSTENDIG_NAERINGSDRIVENDE:return"alt2";case F.FRILANSER:return"alt1";case F.ARBEIDSTAKER:return"alt3";default:return"neutral"}},V3=(e,n)=>{const r=[];return e.filter((t,i,s)=>i===s.findIndex(a=>a===t)).forEach(t=>{var i;const s=((i=n[ke.AKTIVITET_STATUS].find(a=>a.kode===t))==null?void 0:i.navn)||"";r.push({visningsNavn:s,kode:t,tagType:O3(t)})}),r.sort((t,i)=>t.visningsNavn>i.visningsNavn?1:-1),o.jsx(D,{children:r.map(t=>o.jsx(y,{className:Y.tagRad,children:o.jsx(Xs,{variant:t.tagType,title:t.visningsNavn,className:Y.tagMargin,children:t.visningsNavn})},t.visningsNavn))})},$3=({skjeringstidspunktDato:e,aktivitetStatusList:n,kodeverkSamling:r,saksopplysninger:t,arbeidsgiverOpplysningerPerId:i})=>o.jsxs("div",{className:Y.panelLeft,children:[V3(n,r),o.jsx(A,{sixteenPx:!0}),o.jsxs(xe,{children:[o.jsxs(D,{children:[o.jsx(y,{children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.Skjeringstidspunkt.SkjeringForBeregning"})})}),o.jsx(y,{children:o.jsx(_,{size:"small",className:Y.semiBoldText,children:o.jsx(Re,{dateString:e})})})]}),!!t&&!!t.lønnsendringSaksopplysning&&t.lønnsendringSaksopplysning.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(A,{sixteenPx:!0}),o.jsx(D,{children:o.jsx(y,{children:o.jsx(B3,{arbeidsgiverOpplysningerPerId:i,skjeringstidspunktDato:e,saksopplysninger:t})})})]})]})]}),D3=({bruttoPrAar:e})=>e||e===0?o.jsxs(o.Fragment,{children:[o.jsx(D,{children:o.jsxs(y,{children:[o.jsx(te,{size:"medium",children:o.jsx(f,{id:"Beregningsgrunnlag.YtelserFraInfotrygd.Ytelse2"})}),o.jsx(A,{eightPx:!0})]})}),o.jsxs(D,{children:[o.jsx(y,{className:Y.tabellAktivitet}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(le,{children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(le,{children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),o.jsxs(D,{children:[o.jsx(y,{className:Y.tabellAktivitet,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.YtelserFraInfotrygd.YtelseNavn"})})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(_,{size:"small",children:z(e/12)})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(G,{size:"small",children:z(e)})})]})]}):null,G3=[],M3=(e,n,r)=>{var t,i,s;const a=r.find(p=>p.år===e),d=a&&((t=a.inntekter.find(p=>p.pgiType===Ig.NÆRING))==null?void 0:t.beløp)||0,g=a&&((i=a.inntekter.find(p=>p.pgiType===Ig.LØNN))==null?void 0:i.beløp)||0,m=d+g,k=(s=n.find(p=>p.årstall===e))==null?void 0:s.beløp;return o.jsxs(W.Row,{shadeOnHover:!0,children:[o.jsx(W.DataCell,{children:e}),o.jsx(W.DataCell,{align:"right",children:z(g)}),o.jsx(W.DataCell,{align:"right",children:z(d)}),o.jsx(W.DataCell,{align:"right",children:z(m)}),o.jsx(W.DataCell,{align:"right",children:z(k)})]},e)},L3=(e,n)=>e.map(r=>r.årstall).sort((r,t)=>r-t).reverse().map(r=>M3(r,e,n)),K3=e=>o.jsxs(W.Row,{shadeOnHover:!0,children:[o.jsx(W.DataCell,{children:o.jsx(G,{children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.GsnittSum"})})}),o.jsx(W.DataCell,{}),o.jsx(W.DataCell,{}),o.jsx(W.DataCell,{}),o.jsx(W.DataCell,{align:"right",children:o.jsx(G,{children:z(e)})})]},"PGI-Oppsumert"),w3=({alleAndeler:e,inntektsgrunnlag:n})=>{const r=e.find(a=>a.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE||a.aktivitetStatus===F.BRUKERS_ANDEL),t=(n==null?void 0:n.pgiGrunnlag)||G3;if(!r||!r.pgiSnitt||!r.pgiVerdier)return null;const{pgiVerdier:i,pgiSnitt:s}=r;return o.jsxs(o.Fragment,{children:[o.jsx(te,{size:"medium",children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.Pensjonsgivendeinntekt"})}),o.jsxs(W,{children:[o.jsx(W.Header,{children:o.jsxs(W.Row,{children:[o.jsx(W.HeaderCell,{children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.TreSisteÅr"})}),o.jsx(W.HeaderCell,{align:"right",children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.ATFL"})}),o.jsx(W.HeaderCell,{align:"right",children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.Næring"})}),o.jsx(W.HeaderCell,{align:"right",children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.Sum"})}),o.jsx(W.HeaderCell,{align:"right",children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.Gjustert"})})]})}),o.jsxs(W.Body,{children:[L3(i,t),K3(s)]})]})]})},U3="_colDevider_1att7_1",C3={colDevider:U3},$n=({prosentBredde:e})=>{const n=`${e}%`;return o.jsx(D,{children:o.jsx("div",{style:{width:n},children:o.jsx(y,{children:o.jsx("div",{className:C3.colDevider})})})})},Y3=e=>e.aktivitetStatus===F.DAGPENGER?"Beregningsgrunnlag.TilstottendeYtelse.Dagpenger":e.aktivitetStatus===F.SYKEPENGER_AV_DAGPENGER?"Beregningsgrunnlag.TilstottendeYtelse.SykepengerAvDagpenger":e.aktivitetStatus===F.PLEIEPENGER_AV_DAGPENGER?"Beregningsgrunnlag.TilstottendeYtelse.PleiepengerAvDagpenger":e.aktivitetStatus===F.ARBEIDSAVKLARINGSPENGER?"Beregningsgrunnlag.TilstottendeYtelse.AAP":"",z3=e=>e===F.DAGPENGER,q3=({alleAndeler:e,relevanteStatuser:n,gjelderBesteberegning:r})=>{const t=e.filter(s=>Zk(s.aktivitetStatus)),i=t.length>1;return o.jsxs(o.Fragment,{children:[n.isKombinasjonsstatus&&o.jsxs(o.Fragment,{children:[o.jsx(A,{eightPx:!0}),o.jsx(te,{size:"medium",children:o.jsx(f,{id:"Beregningsgrunnlag.TilstottendeYtelse.TittelNav"})}),o.jsx(A,{eightPx:!0})]}),o.jsxs(D,{children:[o.jsx(y,{className:Y.tabellAktivitet}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(le,{children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(le,{children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),o.jsx($n,{prosentBredde:100}),t.map(s=>o.jsxs("div",{children:[o.jsxs(D,{children:[o.jsx(y,{className:Y.tabellAktivitet,children:o.jsx(G,{size:"small",children:o.jsx(f,{id:Y3(s)})})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(_,{size:"small",children:z(s.beregnetPrAar?s.beregnetPrAar/12:0)})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(_,{size:"small",className:i?"":Y.semiBoldText,children:z(s.beregnetPrAar)})})]}),o.jsx($n,{prosentBredde:100}),r&&z3(s.aktivitetStatus)&&o.jsx(D,{children:o.jsx(y,{children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.TilstottendeYtelse.Besteberegning"})})})})]},s.aktivitetStatus))]})},H3=({alleAndeler:e})=>{const n=e.filter(t=>t.aktivitetStatus===F.MILITAER_ELLER_SIVIL),r=n&&n.length>0?n[0].beregnetPrAar:"";return o.jsxs(o.Fragment,{children:[o.jsx(D,{children:o.jsx(y,{children:o.jsx(te,{size:"medium",children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.Militær"})})})}),o.jsx(A,{eightPx:!0}),o.jsx(D,{children:o.jsx(y,{children:o.jsx(G,{size:"small",children:z(r)})})})]})},J3="_aksjonspunktBehandlerBorder_6jbny_1",Z3="_aksjonspunktBehandlerHeader_6jbny_10",W3="_aksjonspunktBehandlerImageCol_6jbny_18",X3="_aksjonspunktBehandlerTextCol_6jbny_24",Q3="_aksjonspunktBehandlerNoBorder_6jbny_27",ew="_aksjonspunktBehandlerContainer_6jbny_30",nw="_verticalLine_6jbny_40",rw="_verticalAlignMiddle_6jbny_47",tw="_inputPadding_6jbny_54",iw="_inntektTableTB_6jbny_65",sw="_inntektTableTB_6jbny_65",aw="_rowSpacer_6jbny_69",lw="_textAreaWrapper_6jbny_109",dw="_textAreaWrapperHeigh_6jbny_112",ow="_dynamiskKolonne_6jbny_119",gw="_textAreaStyle_6jbny_123",uw="_bredde_6jbny_126",mw="_atflAvvikAktivitet_6jbny_129",kw="_atflAvvikInntekt_6jbny_133",fw="_atflEditedIcon_6jbny_136",pw="_breddeInntekt_6jbny_139",cw="_warningIcon_6jbny_142",oe={aksjonspunktBehandlerBorder:J3,aksjonspunktBehandlerHeader:Z3,aksjonspunktBehandlerImageCol:W3,aksjonspunktBehandlerTextCol:X3,aksjonspunktBehandlerNoBorder:Q3,aksjonspunktBehandlerContainer:ew,verticalLine:nw,verticalAlignMiddle:rw,inputPadding:tw,inntektTableTB:iw,inntektTableTb:sw,rowSpacer:aw,textAreaWrapper:lw,textAreaWrapperHeigh:dw,dynamiskKolonne:ow,textAreaStyle:gw,bredde:uw,atflAvvikAktivitet:mw,atflAvvikInntekt:kw,atflEditedIcon:fw,breddeInntekt:pw,warningIcon:cw},lk="inntektField",Ev=e=>!!e.periodeAarsaker&&e.periodeAarsaker.map(n=>n).includes(In.ARBEIDSFORHOLD_AVSLUTTET),tg=e=>{let n=0;for(;n<e.length&&!Ev(e[n]);)n+=1;const r={...e[n]};return r.beregningsgrunnlagPeriodeTom=e[e.length-1].beregningsgrunnlagPeriodeTom,r},vw=e=>{const n=[];let r=0;for(;r<e.length;){const t={...e[r]};for(r+=1;r<e.length&&!Ev(e[r]);)r+=1;t.beregningsgrunnlagPeriodeTom=e[r-1].beregningsgrunnlagPeriodeTom,n.push(t)}return n},xa=(e,n)=>e.arbeidsforhold?`${lk}_${e.arbeidsforhold.arbeidsforholdId}_${e.andelsnr}_${n.beregningsgrunnlagPeriodeFom}`:`${lk}_${e.andelsnr}_${n.beregningsgrunnlagPeriodeFom}`,Bi=e=>e.beregningsgrunnlagPrStatusOgAndel?e.beregningsgrunnlagPrStatusOgAndel.filter(n=>n.aktivitetStatus===F.ARBEIDSTAKER&&n.erTilkommetAndel!==!0):[],ig=e=>{const n=e!=null&&e.arbeidsforholdId?e==null?void 0:e.arbeidsforholdId:"";return e?`${e.arbeidsgiverIdent}${n}`:""},bw=e=>{const n={};return Bi(e).forEach(r=>{n[ig(r.arbeidsforhold)]=z(r.beregnetPrAar)}),n},hw=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?r[e.arbeidsgiverIdent]:null;return i?Aa(i,e.eksternArbeidsforholdId):e.arbeidsforholdType?(t=n[ke.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn:""},Dd=()=>({erTidsbegrenset:!0,isEditable:!1,tabellInnhold:"",inputfieldKey:""}),jw=(e,n,r)=>{const t=bw(e),i=Bi(e),s={};return i.forEach(a=>{if(!a.arbeidsforhold)return;const d=ig(a.arbeidsforhold),g=Dd();g.tabellInnhold=hw(a.arbeidsforhold,n,r),g.erTidsbegrenset=a.erTidsbegrensetArbeidsforhold!==void 0?a.erTidsbegrensetArbeidsforhold:!1,s[d]=[g];const m=Dd();m.erTidsbegrenset=!1,m.tabellInnhold=t[d]||"",s[d].push(m)}),s},Iw=(e,n,r)=>{const t={...tg(e)},i=jw(e[0],n,r);return Bi(t).forEach(s=>{const a=ig(s.arbeidsforhold),d=Dd();d.tabellInnhold=s.overstyrtPrAar!==void 0&&s.overstyrtPrAar!==null?z(s.overstyrtPrAar):"",d.erTidsbegrenset=!1,d.isEditable=!0,d.inputfieldKey=xa(s,t),i[a].push(d)}),i},Aw=e=>o.jsxs("tr",{id:"bruttoPrPeriodeRad",children:[o.jsx("td",{colSpan:2,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerTB.SumPeriode"})})},"bruttoTittel"),e.map(n=>o.jsx("td",{colSpan:2,children:o.jsx(_,{size:"small",className:Y.semiBoldText,children:z(n.brutto)})},n.periodeFom))]},"bruttoPrPeriodeRad"),xw=e=>o.jsxs("tr",{children:[o.jsx("td",{}),e.map(n=>{const r=n.periodeFom;return o.jsx("td",{colSpan:2,children:o.jsx(le,{children:Ce(r)})},`periodeittel${r}`)}),o.jsx("td",{})]},"PeriodeHeaderRad"),yw=(e,n,r,t,i,s)=>{const a=[];return a.push(xw(t)),a.push(o.jsxs("tr",{children:[o.jsx("td",{colSpan:2},"ombergenetAarBlank"),t.map((d,g)=>o.jsx(M.Fragment,{children:o.jsx("td",{colSpan:2,children:o.jsx(le,{children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandler.OmberegnetAar"},`Tittel_${d.periodeFom}`)})},`Col_Tittel_${d.periodeFom}`)},`PeriodeWrapper${g+1}`))]},"Tabletop")),Object.keys(e).forEach(d=>{const g=e[d];a.push(o.jsx("tr",{children:g.map(m=>m.isEditable?o.jsx(M.Fragment,{children:o.jsx("td",{colSpan:2,children:o.jsx("div",{className:r&&n?oe.adjustedField:void 0,children:o.jsx(pe,{name:`${s}.${i}.${m.inputfieldKey}`,validate:[H,en(178956970)],readOnly:n,isEdited:n&&r,parse:ye,className:oe.breddeInntekt})})},`Col-${m.inputfieldKey}`)},`key${m.inputfieldKey}`):o.jsx("td",{colSpan:2,children:o.jsx(_,{size:"small",children:m.tabellInnhold})},m.tabellInnhold))},d))}),a.push(o.jsx("tr",{className:oe.rowSpacer,children:o.jsx("td",{})},"sdeparator")),a.push(Aw(t)),a},Tw=e=>{const n=e[0];return{brutto:(n.beregningsgrunnlagPrStatusOgAndel?n.beregningsgrunnlagPrStatusOgAndel.filter(r=>r.aktivitetStatus===F.ARBEIDSTAKER).map(r=>r.beregnetPrAar):[]).reduce((r,t)=>r+t),periodeFom:n.beregningsgrunnlagPeriodeFom,periodeTom:n.beregningsgrunnlagPeriodeTom}},Ew=(e,n,r,t)=>{const i=[];if(e.length<1)return i;const s=tg(e);i.push(Tw(e));const a=Bi(s).map(d=>{const g=xa(d,s),m=n.watch(`${t}.${r}.${g}`);return m===void 0||m===""?0:de(m)}).reduce((d,g)=>d+g);return i.push({brutto:a,periodeFom:s.beregningsgrunnlagPeriodeFom,periodeTom:s.beregningsgrunnlagPeriodeTom}),i},Oi=({readOnly:e,allePerioder:n,kodeverkSamling:r,arbeidsgiverOpplysningerPerId:t,fieldIndex:i,formName:s})=>{const a=Iw(n,r,t),d=n.some(k=>{var p;return(p=k.beregningsgrunnlagPrStatusOgAndel)==null?void 0:p.some(c=>c.aktivitetStatus===F.ARBEIDSTAKER&&(!!c.overstyrtPrAar||c.overstyrtPrAar===0))}),g=me(),m=Ew(n,g,i,s);return o.jsx("table",{className:oe.inntektTableTB,children:o.jsx("tbody",{children:yw(a,e,d,m,i,s)})})};Oi.buildInitialValues=e=>{const n={};return vw(e).forEach(r=>{(r.beregningsgrunnlagPrStatusOgAndel?r.beregningsgrunnlagPrStatusOgAndel.filter(t=>t.aktivitetStatus===F.ARBEIDSTAKER):[]).forEach(t=>{const i=z(t.overstyrtPrAar);n[xa(t,r)]=i||""})}),n};Oi.transformValues=(e,n)=>{const r=tg(n),t=Bi(r),i=[];return t.forEach(s=>{const a=de(e[xa(s,r)]);i.push({andelsnr:s.andelsnr,bruttoFastsattInntekt:a})}),[{periodeFom:r.beregningsgrunnlagPeriodeFom,periodeTom:r.beregningsgrunnlagPeriodeTom,fastsatteTidsbegrensedeAndeler:i}]};const _w=e=>e.overstyrtPrAar!==null&&e.overstyrtPrAar!==void 0?!0:e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,_v=e=>e?e.filter(n=>n.aktivitetStatus===F.ARBEIDSTAKER).filter(n=>n.skalFastsetteGrunnlag===!0).filter(n=>_w(n)):[],Sw=(e,n,r,t,i,s)=>e.map((a,d)=>o.jsxs(D,{className:oe.verticalAlignMiddle,children:[o.jsx(y,{className:oe.atflAvvikAktivitet,children:o.jsx(_,{size:"small",children:$d(a,t,n)})}),o.jsx(y,{className:oe.atflAvvikInntekt,children:o.jsx("div",{id:"readOnlyWrapper",className:r?oe.inputPadding:void 0,children:o.jsx(pe,{name:`${s}.${i}.inntekt${d}`,validate:[H,en(178956970)],readOnly:r,parse:ye,className:oe.breddeInntekt,isEdited:r&&(!!a.overstyrtPrAar||a.overstyrtPrAar===0)})})})]},`index${d+1}`)),sg=({readOnly:e,alleAndelerIForstePeriode:n,kodeverkSamling:r,arbeidsgiverOpplysningerPerId:t,fieldIndex:i,formName:s})=>{const a=_v(n);return o.jsx(o.Fragment,{children:Sw(a,r,e,t,i,s)})};sg.transformValues=(e,n)=>{let r=[];return n.find(t=>t.aktivitetStatus===F.ARBEIDSTAKER)&&(r=_v(n).map(({andelsnr:t},i)=>{const s=e[`inntekt${i}`];if(!t)throw new Error("Forventer andelsnr på andeler som skal fastsettes.");return{inntekt:s===void 0||s===""?0:de(s),andelsnr:t}})),r};const Rw=({alleAndeler:e})=>{var n;const r=e.find(s=>!s.erTilkommetAndel&&s.aktivitetStatus===F.FRILANSER);if(!r)return null;const t=r.beregnetPrAar,i=(n=r.arbeidsforhold)==null?void 0:n.startdato;return o.jsxs(o.Fragment,{children:[o.jsx(te,{size:"medium",children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.Frilansinntekt"})}),o.jsx(A,{fourPx:!0}),o.jsxs(D,{className:Y.rows,children:[o.jsx(y,{className:Y.tabellAktivitet,children:i&&o.jsxs(_,{size:"small",children:[o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.FrilansStartDato2"}),o.jsx("span",{className:Y.semiBoldText,children:o.jsx(Re,{dateString:i})})]})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(le,{children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(le,{children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),o.jsx($n,{prosentBredde:100}),o.jsxs(D,{className:Y.rows,children:[o.jsx(y,{className:Y.tabellAktivitet,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.InnrapportertFrilans"})})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(_,{size:"small",children:t?z(t/12):0})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(G,{size:"small",children:t?z(t):0})})]})]})},Nw=({option:e,style:n,height:r})=>{const t=j.useRef(null);return j.useEffect(()=>{let i;t.current!==null&&(i=Ib(t.current));const s=()=>{i==null||i.resize()};return window.addEventListener("resize",s),()=>{i==null||i.dispose(),window.removeEventListener("resize",s)}},[]),j.useEffect(()=>{if(t.current!==null){const i=Ab(t.current);i&&(i.setOption(e),(i==null?void 0:i.getWidth())===0&&(i==null||i.resize()))}},[t.current,e]),o.jsx("div",{ref:t,style:{width:"auto",height:r,...n}})},Fw="_lesMer_1gsng_1",Pw="_sammenligningGrafOppsummeringType_1gsng_4",Bw="_sammenligningGrafOppsummeringInntekt_1gsng_7",Cr={lesMer:Fw,sammenligningGrafOppsummeringType:Pw,sammenligningGrafOppsummeringInntekt:Bw},Ow=[],Vw="#99bdcd",$w="#c1b5d0",Dw="#C6C2BF",Gw=(e,n)=>{const r=e.flatMap(s=>s.inntekter).filter(s=>s.inntektAktivitetType===wn.ARBEID).map(({beløp:s})=>s).reduce((s,a)=>s+a,0),t=e.flatMap(s=>s.inntekter).filter(s=>s.inntektAktivitetType===wn.FRILANS).map(({beløp:s})=>s).reduce((s,a)=>s+a,0),i=e.flatMap(s=>s.inntekter).filter(s=>s.inntektAktivitetType===wn.YTELSE).map(({beløp:s})=>s).reduce((s,a)=>s+a,0);return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:Y.storSpace}),o.jsx(D,{children:o.jsx(y,{children:o.jsx(G,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.SumTittel"})})})}),n.harArbeidsinntekt&&o.jsxs(o.Fragment,{children:[o.jsxs(D,{children:[o.jsx(y,{className:Cr.sammenligningGrafOppsummeringType,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Arbeid"})})}),o.jsx(y,{className:Cr.sammenligningGrafOppsummeringInntekt,children:o.jsx(_,{size:"small",children:z(r)})})]}),o.jsx($n,{prosentBredde:20})]}),n.harFrilansinntekt&&o.jsxs(o.Fragment,{children:[o.jsxs(D,{children:[o.jsx(y,{className:Cr.sammenligningGrafOppsummeringType,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Frilans"})})}),o.jsx(y,{className:Cr.sammenligningGrafOppsummeringInntekt,children:o.jsx(_,{size:"small",children:z(t)})})]}),o.jsx($n,{prosentBredde:20})]}),n.harYtelseinntekt&&o.jsxs(o.Fragment,{children:[o.jsxs(D,{children:[o.jsx(y,{className:Cr.sammenligningGrafOppsummeringType,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ytelse"})})}),o.jsx(y,{className:Cr.sammenligningGrafOppsummeringInntekt,children:o.jsx(_,{size:"small",children:z(i)})})]}),o.jsx($n,{prosentBredde:20})]})]})},Mw=(e,n)=>!e||e.length===0?0:n?e.filter(r=>r.inntektAktivitetType===n).reduce((r,t)=>r+t.beløp,0):e.reduce((r,t)=>r+t.beløp,0),vl=(e,n,r)=>{const t=[];for(let i=0;i<12;i+=1){const s=x(n,Be).add(i,"M").format("YYYYMM"),a=e.find(g=>x(g.fom,Be).format("YYYYMM")===s),d=Mw((a==null?void 0:a.inntekter)||[],r);t.push([d,s])}return t},Lw=()=>o.jsxs(o.Fragment,{children:[o.jsx(D,{children:o.jsx(y,{children:o.jsx(te,{size:"small",className:Y.avsnittOverskrift,children:o.jsx(f,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Tittel"})})})},"SamenenligningsGrunnlagOverskrift"),o.jsx(A,{eightPx:!0}),o.jsx(D,{children:o.jsx(y,{children:o.jsx(f,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ingress"})})})]}),bl=(e,n)=>e.flatMap(r=>r.inntekter).some(r=>r.inntektAktivitetType===n),Kw=e=>({harFrilansinntekt:bl(e,wn.FRILANS),harArbeidsinntekt:bl(e,wn.ARBEID),harYtelseinntekt:bl(e,wn.YTELSE)}),ww=({sammenligningsGrunnlagInntekter:e,sammenligningsgrunnlag:n})=>{const r=X(),t=(e==null?void 0:e.måneder)||Ow,i=j.useMemo(()=>Kw(t),[t]),s=n&&n.length>0?n[0].sammenligningsgrunnlagFom:void 0,a=j.useMemo(()=>i.harArbeidsinntekt&&s?vl(t,s,wn.ARBEID):[],[i.harArbeidsinntekt,t,s]),d=j.useMemo(()=>i.harFrilansinntekt&&s?vl(t,s,wn.FRILANS):[],[i.harArbeidsinntekt,t,s]),g=j.useMemo(()=>i.harYtelseinntekt&&s?vl(t,s,wn.YTELSE):[],[i.harArbeidsinntekt,t,s]),m=j.useCallback(b=>b.value[0]>5e3?z(b.value[0])||"":b.value[0]===0?"":"..",[]);if(!t||t.length===0||!n||n.length<1)return null;const k=r.formatMessage({id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Arbeid"}),p=r.formatMessage({id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Frilans"}),c=r.formatMessage({id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ytelse"});return o.jsxs(o.Fragment,{children:[o.jsx(Pe,{size:"medium",header:Lw(),defaultOpen:!0,children:o.jsx(Nw,{option:{tooltip:{trigger:"axis",formatter:b=>{const I=b,T=I[0].data,R=x(T[1]),S=R.locale(Vd).format("MMM"),N=R.format("YYYY"),E=`${S.charAt(0).toUpperCase()+S.slice(1)} ${N}`,O=I.reduce(($,V)=>{const L=V.data;return $.concat(`${(V.marker||"")+(V.seriesName||"")}: ${z(L[0])}`)},[]).join("<br/>");return`${E}<br />${O}`},axisPointer:{type:"shadow"}},legend:{data:[k,p,c]},grid:{left:"1%",right:"5%",bottom:"0%",containLabel:!0},xAxis:{type:"value",axisLabel:{formatter:b=>z(b)||"",margin:12}},yAxis:{type:"category",boundaryGap:!1,axisLabel:{formatter:b=>{const I=x(b),T=I.format("MM")==="01"||I.format("MM")==="12",R=I.locale(Vd).format("MMM"),S=I.format("YYYY"),N=R.charAt(0).toUpperCase()+R.slice(1,3);return T?`${N}
${S}`:N}}},series:[{name:k,type:"bar",stack:"total",label:{show:!0,fontSize:"11",formatter:m},emphasis:{focus:"series"},data:a},{name:p,type:"bar",stack:"total",label:{show:!0,fontSize:"11",formatter:m},emphasis:{focus:"series"},data:d},{name:c,type:"bar",stack:"total",label:{show:!0,fontSize:"11",formatter:m},emphasis:{focus:"series"},data:g}],color:[Vw,$w,Dw]},height:350})}),Gw(t,i)]})},Sv=e=>!e.arbeidsforhold||!e.arbeidsforhold.arbeidsgiverIdent?"N/A":e.arbeidsforhold.arbeidsforholdId?e.arbeidsforhold.arbeidsgiverIdent+e.arbeidsforhold.arbeidsforholdId:e.arbeidsforhold.arbeidsgiverIdent,Uw=(e,n)=>{if(!e.arbeidsforhold||!e.arbeidsforhold.arbeidsgiverIdent)return"Ukjent arbeidsforhold";const r=n[e.arbeidsforhold.arbeidsgiverIdent];return Aa(r,e.arbeidsforhold.eksternArbeidsforholdId)},Rv=e=>e.beregningsgrunnlagPrStatusOgAndel?e.beregningsgrunnlagPrStatusOgAndel:[],Cw=(e,n)=>{const r=Uw(e,n),t=Sv(e);return{visningsnavn:r,nøkkel:t,naturalytelseEndringer:[]}},Yw=e=>{var n;return!!((n=e.arbeidsforhold)!=null&&n.naturalytelseBortfaltPrÅr)},zw=(e,n)=>{if(!e||e.length<1)return[];const r=[];return e.forEach(t=>{Rv(t).filter(i=>Yw(i)).map(i=>Cw(i,n)).forEach(i=>{r.some(({nøkkel:s})=>s===i.nøkkel)||r.push(i)})}),r},qw=(e,n)=>{const r=Rv(e).find(t=>Sv(t)===n);return(r&&r.arbeidsforhold?r.arbeidsforhold.naturalytelseBortfaltPrÅr:0)||0},Hw=(e,n)=>{const r=[];return n.forEach(t=>{const i=qw(t,e.nøkkel);i&&r.push({fom:t.beregningsgrunnlagPeriodeFom||"",tom:t.beregningsgrunnlagPeriodeTom||"",beløpPrÅr:i,beløpPrMåned:i/12})}),r},Jw=e=>{if(!e||e.length<2)return e;e.sort((t,i)=>x(t.fom).diff(x(i.fom)));const n=[];let r=x(e[0].fom);return e.forEach(t=>{if(!x(t.fom).isBefore(r)){const i=e.find(s=>x(s.fom).isAfter(t.fom)&&s.beløpPrÅr!==t.beløpPrÅr);if(i){const s=x(i.fom).subtract(1,"d");n.push({tom:s.format(Be),fom:t.fom,beløpPrÅr:t.beløpPrÅr,beløpPrMåned:t.beløpPrMåned}),r=s}else r=x(ze),n.push({tom:"",fom:t.fom,beløpPrÅr:t.beløpPrÅr,beløpPrMåned:t.beløpPrMåned})}}),n},Zw=(e,n)=>{const r=zw(e,n);return r.forEach(t=>{const i=Hw(t,e);Jw(i).forEach(s=>t.naturalytelseEndringer.push(s))}),!r||r.length<1?void 0:{rader:r}},Ww=e=>e.tom?`${Ce(e.fom)} - ${Ce(e.tom)}`:`${Ce(e.fom)} -`,Xw=e=>e.rader.map(n=>o.jsxs("div",{children:[o.jsx(D,{children:o.jsx(y,{className:Y.noPaddingRight,children:o.jsx(G,{size:"small",children:n.visningsnavn})})}),n.naturalytelseEndringer.map(r=>o.jsxs(D,{children:[o.jsx(y,{className:Y.tabellAktivitet,children:o.jsx(_,{size:"small",children:Ww(r)})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(_,{size:"small",children:z(r.beløpPrMåned)})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(G,{size:"small",children:z(r.beløpPrÅr)})})]},n.nøkkel+r.fom))]},n.nøkkel)),Qw=({allePerioder:e,arbeidsgiverOpplysningerPerId:n})=>{const r=j.useMemo(()=>Zw(e,n),[e]);return r?o.jsxs(o.Fragment,{children:[o.jsx(A,{thirtyTwoPx:!0}),o.jsx(G,{size:"small",className:Y.avsnittOverskrift,children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.Naturalytelse2"})}),o.jsxs(D,{children:[o.jsx(y,{className:Y.tabellAktivitet}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(le,{children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(le,{children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),Xw(r)]}):null},eU=e=>e.overstyrtPrAar!==null&&e.overstyrtPrAar!==void 0?!0:e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,Nv=e=>e?e.filter(n=>n.aktivitetStatus===F.ARBEIDSTAKER).filter(n=>eU(n)):[],nU=e=>{const n=[];return Object.prototype.hasOwnProperty.call(e,"startdato")&&e.startdato&&n.push(Ce(e.startdato)),Object.prototype.hasOwnProperty.call(e,"opphoersdato")&&e.opphoersdato&&(n.push("-"),n.push(Ce(e.opphoersdato))),n.join(" ")},rU=e=>{const n=[""];return Object.prototype.hasOwnProperty.call(e,"stillingsNavn")&&e.stillingsNavn&&n.push(e.stillingsNavn),Object.prototype.hasOwnProperty.call(e,"stillingsProsent")&&e.stillingsProsent&&n.push(`${e.stillingsProsent}%`),n.length!==0?n.join(" "):" "},dk=e=>e.beregnetPrAar?e.beregnetPrAar:0,tU=(e,n,r)=>{const t=e.reduce((a,d)=>a+dk(d),0),i=t?t/12:0,s=e.map((a,d)=>{var g,m,k;return o.jsxs(M.Fragment,{children:[o.jsxs(xe,{children:[o.jsxs(D,{children:[o.jsx(y,{className:Y.tabellAktivitet,children:o.jsx(G,{size:"small",className:Y.semiBoldText,children:$d(a,r,n)},`ColLableTxt${d+1}`)}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(_,{children:z(dk(a)/12)},`ColBrgMndTxt${(g=a.arbeidsforhold)==null?void 0:g.arbeidsgiverIdent}`)}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(G,{children:z(a.beregnetPrAar)},`ColBrgAarTxt${(m=a.arbeidsforhold)==null?void 0:m.arbeidsgiverIdent}`)})]}),o.jsxs(D,{children:[a.arbeidsforhold&&a.arbeidsforhold.stillingsNavn&&o.jsx(y,{children:o.jsx(_,{children:rU(a.arbeidsforhold)})}),a.arbeidsforhold&&a.arbeidsforhold.startdato&&o.jsx(y,{children:o.jsx(le,{children:nU(a.arbeidsforhold)})}),a.erTidsbegrensetArbeidsforhold&&o.jsx(y,{children:o.jsx(le,{children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.Tidsbegrenset"})})})]},`indexD${(k=a.arbeidsforhold)==null?void 0:k.arbeidsgiverIdent}`)]}),o.jsx(A,{eightPx:!0}),o.jsx($n,{prosentBredde:100})]},`ArbInntektWrapper${$d(a,r,n)}${d+1}`)});if(e.length>1){const a=o.jsx(xe,{children:o.jsxs(D,{children:[o.jsx(y,{className:Y.tabellAktivitet,children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.TotaltArbeidsinntekt"})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(_,{children:z(i)})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(G,{children:z(t)})})]})},"SummaryRow");s.push(a)}return s},ya=({alleAndelerIFørstePeriode:e,allePerioder:n,arbeidsgiverOpplysningerPerId:r,kodeverkSamling:t})=>{const i=Nv(e);return!i||i.length===0?null:o.jsxs(o.Fragment,{children:[o.jsx(D,{children:o.jsx(y,{children:o.jsx(te,{size:"medium",children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt"})})})}),o.jsx(xe,{children:o.jsxs(D,{children:[o.jsx(y,{className:Y.tabellAktivitet}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(le,{children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(le,{children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]})}),o.jsx($n,{prosentBredde:100}),tU(i,t,r),o.jsx(Qw,{allePerioder:n,arbeidsgiverOpplysningerPerId:r})]})};ya.defaultProps={allePerioder:void 0};ya.buildInitialValues=e=>{const n=Nv(e),r={};return n.forEach((t,i)=>{r[`inntekt${i}`]=z(t.overstyrtPrAar)||""}),r};const iU="_lesMer_1w256_1",sU="_overskrift_1w256_4",aU="_merTekstBorder_1w256_9",lU={lesMer:iU,overskrift:sU,merTekstBorder:aU},dU=e=>{const n=e==null?void 0:e.virksomhetType;if(!n)return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.UDEFINERT";switch(n){case"JORDBRUK_SKOGBRUK":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.JORDBRUK_SKOGBRUK";case"DAGMAMMA":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.DAGMAMMA";case"FISKE":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FISKE";case"FRILANSER":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FRILANSER";case"ANNEN":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.ANNEN";default:return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.UDEFINERT"}},ok=e=>{const{oppstartsdato:n,opphørsdato:r}=e;if(n)return r?`${Ce(n)}-${Ce(r)} `:`${Ce(n)}-`},oU=e=>{const{regnskapsførerNavn:n,regnskapsførerTlf:r}=e;if(n)return r?`${n}-${r} `:`${n}-`},gU=(e,n)=>{const r=n[e.orgnr];return r?r.navn:"Ukjent bedriftsnavn"},uU=e=>{const{oppstartsdato:n,erVarigEndret:r,endringsdato:t}=e,i=r?"Beregningsgrunnlag.NaeringsOpplysningsPanel.VarigEndret":"Beregningsgrunnlag.NaeringsOpplysningsPanel.Nyoppstaret",s=r?t:n;return s?o.jsx(G,{size:"small",className:Y.semiBoldText,children:o.jsx(f,{id:i,values:{dato:Ce(s),b:a=>o.jsx("b",{children:a})}})}):null},mU=e=>{const{erNyoppstartet:n,erVarigEndret:r}=e;return!!r||!!n},kU=e=>e.begrunnelse&&e.begrunnelse!==""?o.jsx(_,{size:"small",className:lU.merTekstBorder,children:e.begrunnelse}):null,fU=e=>!!e.oppgittInntekt||e.oppgittInntekt===0,pU=({alleAndelerIForstePeriode:e,arbeidsgiverOpplysningerPerId:n})=>{const r=e.find(t=>t.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE);return r!=null&&r.næringer?o.jsxs(o.Fragment,{children:[o.jsxs(D,{children:[o.jsx(y,{className:Y.tabellAktivitet,children:o.jsx(te,{size:"medium",children:o.jsx(f,{id:"Beregningsgrunnlag.NaeringsOpplysningsPanel.Overskrift"})})}),o.jsx(y,{className:Y.tabellAktivitet}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(le,{children:o.jsx(f,{id:"Beregningsgrunnlag.NaeringsOpplysningsPanel.OppgittAar"})})})]}),o.jsx($n,{prosentBredde:100}),r.næringer.map(t=>o.jsxs(M.Fragment,{children:[o.jsxs(D,{children:[o.jsx(y,{className:Y.næringOpplysningNavn,children:o.jsx(G,{size:"small",className:Y.semiBoldText,children:gU(t,n)})}),o.jsx(y,{className:Y.næringOpplysningInntekt,children:fU(t)&&o.jsx(G,{size:"small",children:z(t.oppgittInntekt)})})]}),o.jsxs(D,{children:[o.jsx(y,{className:Y.næringOpplysningOrgnr,children:o.jsx(_,{size:"small",children:t&&t.orgnr?t.orgnr:""})}),o.jsx(y,{className:Y.næringOpplysningDato,children:ok(t)&&o.jsx(_,{size:"small",children:ok(t)})})]},`NaringsDetaljer${t.orgnr}`),o.jsx(D,{children:o.jsx(y,{children:o.jsx(_,{size:"small",children:o.jsx(f,{id:dU(t)})})})}),o.jsx(D,{children:o.jsx(y,{children:t.regnskapsførerNavn&&o.jsx(_,{size:"small",children:oU(t)})})},`RevisorRad${t.orgnr}`),mU(t)&&o.jsxs(o.Fragment,{children:[o.jsx($n,{prosentBredde:100}),o.jsx(A,{twentyPx:!0}),uU(t),o.jsx(A,{eightPx:!0}),o.jsx(D,{className:Y.næringEndringBeskrivelse,children:o.jsx(y,{children:kU(t)})})]})]},`NaringsWrapper${t.orgnr}`))]}):null},{FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:cU,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:vU}=ge,bU=e=>e&&e.find(n=>n.definisjon===cU||n.definisjon===vU),hU=e=>e&&e.length>0?e[0].beregningsgrunnlagPrStatusOgAndel||[]:[],kr=o.jsx("div",{className:Y.storSpace}),jU=(e,n,r,t,i,s,a,d)=>o.jsxs("div",{className:Y.panelLeft,children:[n.isArbeidstaker&&o.jsx(ya,{alleAndelerIFørstePeriode:e,allePerioder:r,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:s}),n.isFrilanser&&o.jsxs(o.Fragment,{children:[kr,o.jsx(Rw,{alleAndeler:e})]}),n.harDagpengerEllerAAP&&o.jsxs("div",{children:[kr,o.jsx(q3,{alleAndeler:e,relevanteStatuser:n,gjelderBesteberegning:t})]}),n.isMilitaer&&o.jsxs(o.Fragment,{children:[kr,o.jsx(H3,{alleAndeler:e})]}),n.harAndreTilstotendeYtelser&&o.jsxs(o.Fragment,{children:[kr,o.jsx(D3,{bruttoPrAar:r[0].bruttoPrAar})]}),(n.isSelvstendigNaeringsdrivende||n.isMidlertidigInaktiv)&&o.jsxs(o.Fragment,{children:[kr,o.jsx(w3,{alleAndeler:e,inntektsgrunnlag:d}),kr,o.jsx(pU,{alleAndelerIForstePeriode:e,arbeidsgiverOpplysningerPerId:s})]}),(n.isFrilanser||n.isArbeidstaker)&&d&&a&&o.jsxs(o.Fragment,{children:[kr,o.jsx(ww,{sammenligningsGrunnlagInntekter:d,sammenligningsgrunnlag:a})]})]}),sr=({relevanteStatuser:e,allePerioder:n,gjelderBesteberegning:r,kodeverkSamling:t,sammenligningsGrunnlagInntekter:i,arbeidsgiverOpplysningerPerId:s,sammenligningsgrunnlag:a})=>{if(!n)return null;const d=hU(n);return jU(d,e,n,r,t,s,a,i)};sr.defaultProps={allePerioder:void 0,sammenligningsGrunnlagInntekter:void 0};sr.buildInitialValues=e=>{const n=bU(e);return{ATFLVurdering:n&&n.begrunnelse?n.begrunnelse:""}};sr.transformATFLValues=(e,n)=>({begrunnelse:e.ATFLVurdering,inntektPrAndelList:sg.transformValues(e,n),inntektFrilanser:e.inntektFrilanser!==void 0?de(e.inntektFrilanser):null});sr.transformATFLTidsbegrensetValues=(e,n)=>({begrunnelse:e.ATFLVurdering,fastsatteTidsbegrensedePerioder:Oi.transformValues(e,n),frilansInntekt:e.inntektFrilanser!==void 0?de(e.inntektFrilanser):null});const{VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:Fv,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:ag,FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:Pv,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:Bv,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:Ov}=ge,IU=(e,n)=>{switch(e.definisjon){case Fv:return n.find(r=>r.sammenligningsgrunnlagType===be.ATFLSN||r.sammenligningsgrunnlagType===be.SN);case ag:return n.find(r=>r.sammenligningsgrunnlagType===be.MIDLERTIDIG_INAKTIV);case Pv:case Bv:return n.find(r=>r.sammenligningsgrunnlagType===be.ATFLSN||r.sammenligningsgrunnlagType===be.AT_FL||r.sammenligningsgrunnlagType===be.AT||r.sammenligningsgrunnlagType===be.FL);case Ov:return;default:return}},AU=(e,n)=>{const r=IU(e,n),t=r&&r.avvikProsent?r.avvikProsent:0;return Number(t.toFixed(1))},gk=e=>e&&e.length>0,xU=e=>e.sammenligningsgrunnlagPrStatus?e.sammenligningsgrunnlagPrStatus:[],yU={[Pv]:"Beregningsgrunnlag.Helptext.Arbeidstaker",[Bv]:"Beregningsgrunnlag.Helptext.TidsbegrensetArbeidsforhold",[Ov]:"Beregningsgrunnlag.Helptext.NyIArbeidslivetSN",[ag]:"Beregningsgrunnlag.Helptext.VarigEndretArbeidssituasjon"},TU=(e,n)=>e.definisjon===Fv?n?"Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.VarigEndring":"Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.Nyoppstartet":yU[e.definisjon],EU=(e,n,r)=>{var t;const i=r.find(a=>a.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE),s=!!((t=i==null?void 0:i.næringer)!=null&&t.some(a=>a.erVarigEndret===!0));return o.jsxs("div",{children:[o.jsx(ri,{children:e.map(a=>o.jsx(G,{children:o.jsx(f,{id:TU(a,s||a.definisjon===ag),values:{verdi:AU(a,n),b:d=>o.jsx("b",{children:d}),br:o.jsx("br",{})}})},a.definisjon))}),o.jsx(A,{thirtyTwoPx:!0})]})},_U=({avklaringsbehov:e,beregningsgrunnlag:n})=>{const r=n.beregningsgrunnlagPeriode?n.beregningsgrunnlagPeriode[0]:void 0,t=r&&r.beregningsgrunnlagPrStatusOgAndel?r.beregningsgrunnlagPrStatusOgAndel:[],i=e.filter(a=>Ze(a.status));if(!(gk(i)&&gk(t)))return null;const s=xU(n);return o.jsxs(o.Fragment,{children:[o.jsx(A,{eightPx:!0}),EU(i,s,t)]})},SU="_aksjonspunktBehandlerBorder_o9hgh_1",RU="_aksjonspunktBehandlerContainer_o9hgh_6",NU="_verticalLine_o9hgh_16",FU="_verticalAlignMiddle_o9hgh_23",PU="_inputPadding_o9hgh_27",BU="_inntektTableTB_o9hgh_35",OU="_inntektTableTB_o9hgh_35",VU="_rowSpacer_o9hgh_39",$U="_textAreaWrapper_o9hgh_71",DU="_textAreaWrapperHeigh_o9hgh_74",GU="_dynamiskKolonne_o9hgh_81",MU={aksjonspunktBehandlerBorder:SU,aksjonspunktBehandlerContainer:RU,verticalLine:NU,verticalAlignMiddle:FU,inputPadding:PU,inntektTableTB:BU,inntektTableTb:OU,rowSpacer:VU,textAreaWrapper:$U,textAreaWrapperHeigh:DU,dynamiskKolonne:GU},uk=(e,n,r)=>o.jsx(D,{children:o.jsx(y,{children:o.jsx(_,{size:"small",children:o.jsx(f,{id:e,values:{fom:x(n).format(ee),tom:x(r).format(ee)}})})})}),LU=e=>{const n=e.frisinnAndeler.find(t=>t.statusSøktFor===F.SELVSTENDIG_NAERINGSDRIVENDE),r=e.frisinnAndeler.find(t=>t.statusSøktFor===F.FRILANSER);return o.jsxs("div",{children:[r&&uk("Beregningsgrunnlag.Søknad.SøktYtelseFL",e.fom,e.tom),n&&uk("Beregningsgrunnlag.Søknad.SøktYtelseSN",e.fom,e.tom)]},e.fom)},KU=({beregningsgrunnlag:e})=>{const n=e.ytelsesspesifiktGrunnlag,{frisinnPerioder:r}=n;return o.jsxs("div",{children:[o.jsx(D,{children:o.jsx(y,{children:o.jsx(G,{size:"small",className:Y.avsnittOverskrift,children:o.jsx(f,{id:"Beregningsgrunnlag.Søknad.Tittel"})})})}),o.jsx(A,{eightPx:!0}),Array.isArray(r)&&r.map(t=>LU(t)),o.jsx(A,{sixteenPx:!0})]})},mk=(e,n)=>{if(!e)return 0;const r=e.filter(t=>t.aktivitetStatus===n).map(({bruttoPrAar:t})=>t||0).reduce((t,i)=>t+i,0);return!r||r===0?0:r},Vv=e=>e.month()===2&&e.year()===2020,wU=e=>{const n=x(e.tom);return Vv(n)},$v=(e,n,r)=>{const{frisinnPerioder:t}=r;if(!Array.isArray(t))return null;const i=x(n.beregningsgrunnlagPeriodeFom);if(Vv(i)&&t.some(d=>wU(d))){const d=x("2020-04-30"),g=t.find(m=>x(m.tom).isSame(d,"day"));return g?g.frisinnAndeler.filter(m=>m.statusSøktFor===e):null}const s=x(n.beregningsgrunnlagPeriodeTom).endOf("month"),a=t.find(d=>!x(d.fom).isBefore(i)&&x(d.tom).isSame(s,"day"));return a?a.frisinnAndeler.filter(d=>d.statusSøktFor===e):null},ut=(e,n,r)=>{const t=$v(e,n,r);return!!t&&t.length>0},un=(e,n,r)=>{if(!e||!n||!r)return 0;if(ut(e,r,n.ytelsesspesifiktGrunnlag)){const t=n.beregningsgrunnlagPeriode[0];return mk(t.beregningsgrunnlagPrStatusOgAndel||[],e)}return mk(r.beregningsgrunnlagPrStatusOgAndel||[],e)},kk=(e,n,r)=>{const t=$v(e,n,r);if(!t||t.length<1)return 0;const i=t.map(({oppgittInntekt:s})=>s).reduce((s,a)=>s+a,0);return!i||i===0?0:i},Dv=e=>{const{frisinnPerioder:n,behandlingÅrsaker:r}=e;if(!Array.isArray(n))return[];if(r&&n.length>1&&r.some(t=>t===Ub.RE_ENDRING_FRA_BRUKER)){const t=[...n].sort((a,d)=>a.fom.localeCompare(d.fom)),i=t[t.length-1],s=x(i.tom);return s.month()===3&&s.year()===2020?t.filter(a=>x(a.fom).month()===3||x(a.fom).month()===2):t.filter(a=>x(a.fom).month()===s.month()&&x(a.fom).year()===s.year())}return n},UU=(e,n)=>{let r=null;return n!==ze&&(r=n),o.jsx(f,{id:"Beregningsgrunnlag.BeregningTable.Periode",values:{fom:x(e).format(ee),tom:r?x(r).format(ee):""}},`fom-tom${e}${r}`)},Gv=(e,n)=>{const r=e.beregningsgrunnlagPeriodeFom,t=e.beregningsgrunnlagPeriodeTom,i=n.frisinnPerioder,s=Array.isArray(i)&&i.find(a=>!x(r).isBefore(a.fom)&&!x(t).isAfter(a.tom));return s?s.frisinnAndeler:[]},fk=(e,n)=>o.jsxs(D,{children:[o.jsx(y,{className:Y.tabellAktivitet,children:o.jsx(f,{id:e})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(_,{size:"small",children:z(n)})})]}),pk=(e,n,r,t,i)=>{const s=i/100,a=n*s;return o.jsxs(o.Fragment,{children:[o.jsxs(D,{children:[o.jsx(y,{className:Y.tabellAktivitet,children:o.jsx(f,{id:e,values:{grad:i}})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(_,{size:"small",children:z(a)})})]}),!!t||t===0&&o.jsxs(D,{children:[o.jsx(y,{className:Y.tabellAktivitet,children:o.jsx(f,{id:r})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(_,{size:"small",children:z(t)})})]})]})},ts=e=>e||e===0,CU=e=>{const n=x(e);return n.isBefore(x("2020-11-01","YYYY-MM-DD"))?80:n.isBefore(x("2022-01-01","YYYY-MM-DD"))?60:70},YU=(e,n,r,t)=>{const i=Gv(e,n);if(!i||i.length<1)return null;const s=i.some(k=>k.statusSøktFor===F.FRILANSER)?r:null,a=i.some(k=>k.statusSøktFor===F.SELVSTENDIG_NAERINGSDRIVENDE)?t:null,d=kk(F.FRILANSER,e,n),g=kk(F.SELVSTENDIG_NAERINGSDRIVENDE,e,n),m=CU(e.beregningsgrunnlagPeriodeFom);return o.jsxs(o.Fragment,{children:[ts(s)&&fk("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagFL",s||0),ts(s)&&pk("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertFL",s||0,"Beregningsgrunnlag.Søknad.LøpendeFL",d,m),ts(a)&&fk("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagSN",a||0),ts(a)&&pk("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertSN",a||0,"Beregningsgrunnlag.Søknad.LøpendeSN",g,m),o.jsx(D,{children:o.jsx(y,{children:o.jsx("div",{className:Y.colDevider})})}),o.jsxs(D,{children:[o.jsx(y,{className:Y.tabellAktivitet,children:o.jsx(le,{children:o.jsx(f,{id:"Beregningsgrunnlag.Resultat.Dagsats"})})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(_,{size:"small",children:z(e.dagsats)})})]})]})},zU=({bgperiode:e,ytelsegrunnlag:n,frilansGrunnlag:r,næringGrunnlag:t})=>{const i=Gv(e,n);if(!i||i.length<1)return null;const s=r>=0?r:0,a=t>=0?t:0;return o.jsxs("div",{children:[o.jsx(A,{eightPx:!0}),o.jsx(D,{children:o.jsx(y,{children:o.jsx(G,{size:"small",children:UU(e.beregningsgrunnlagPeriodeFom,e.beregningsgrunnlagPeriodeTom)})})}),YU(e,n,s,a)]})},Mv=e=>e.grunnbeløp?e.grunnbeløp*6:0,qU=(e,n)=>{if(!ut(F.FRILANSER,n,e.ytelsesspesifiktGrunnlag))return 0;let r=Mv(e);const t=un(F.ARBEIDSTAKER,e,n);if(r-=t,!ut(F.SELVSTENDIG_NAERINGSDRIVENDE,n,e.ytelsesspesifiktGrunnlag)){const s=un(F.SELVSTENDIG_NAERINGSDRIVENDE,e,n);r-=s}const i=un(F.FRILANSER,e,n);return i>r?r:i},HU=(e,n)=>{if(!ut(F.SELVSTENDIG_NAERINGSDRIVENDE,n,e.ytelsesspesifiktGrunnlag))return 0;let r=Mv(e);const t=un(F.ARBEIDSTAKER,e,n);r-=t;const i=un(F.FRILANSER,e,n);r-=i;const s=un(F.SELVSTENDIG_NAERINGSDRIVENDE,e,n);return s>r?r:s},JU=(e,n)=>{const r=x(e.beregningsgrunnlagPeriodeFom),t=x(e.beregningsgrunnlagPeriodeTom);return Array.isArray(n)&&n.some(i=>!x(i.fom).isBefore(r)&&!x(i.tom).isAfter(t))},ZU=({beregningsgrunnlag:e})=>{const n=Dv(e.ytelsesspesifiktGrunnlag),r=Array.isArray(e.beregningsgrunnlagPeriode)?e.beregningsgrunnlagPeriode.filter(t=>JU(t,n)):[];return o.jsxs("div",{children:[o.jsx(D,{children:o.jsx(y,{children:o.jsx(G,{size:"small",className:Y.avsnittOverskrift,children:o.jsx(f,{id:"Beregningsgrunnlag.Frisinn.Resultat"})})})}),r.map(t=>o.jsx("div",{children:o.jsx(zU,{bgperiode:t,ytelsegrunnlag:e.ytelsesspesifiktGrunnlag,frilansGrunnlag:qU(e,t),næringGrunnlag:HU(e,t)},t.beregningsgrunnlagPeriodeFom)},t.beregningsgrunnlagPeriodeFom))]})},WU=({beregningsgrunnlag:e})=>{if(e.beregningsgrunnlagPeriode.length<2)return null;const n=e.beregningsgrunnlagPeriode.sort((a,d)=>a.beregningsgrunnlagPeriodeFom.localeCompare(d.beregningsgrunnlagPeriodeFom)),r=n[n.length-2],t=un(F.SELVSTENDIG_NAERINGSDRIVENDE,e,r),i=un(F.FRILANSER,e,r),s=un(F.ARBEIDSTAKER,e,r);return o.jsxs("div",{children:[o.jsx(D,{children:o.jsx(y,{children:o.jsx(G,{size:"small",className:Y.avsnittOverskrift,children:o.jsx(f,{id:"Beregningsgrunnlag.Søknad.Inntektsopplysninger"})})})}),o.jsxs(D,{children:[o.jsx(y,{className:Y.tabellAktivitet,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.Frisinn.InntektAT"})})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(G,{size:"small",children:z(s)})})]}),o.jsxs(D,{children:[o.jsx(y,{className:Y.tabellAktivitet,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.Frisinn.InntektFL"})})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(G,{size:"small",children:z(i)})})]}),o.jsxs(D,{children:[o.jsx(y,{className:Y.tabellAktivitet,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.Frisinn.InntektSN"})})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(G,{size:"small",children:z(t)})})]})]})},XU=x("2020-04-01"),QU=(e,n,r)=>o.jsxs(D,{children:[o.jsx(y,{className:Y.tabellAktivitet,children:o.jsx(f,{id:"Beregningsgrunnlag.Frisinn.Inntektstak",values:{grenseverdi:z(e),annenInntekt:z(n)}})}),o.jsx(y,{className:Y.tabellInntekt,children:o.jsx(_,{size:"small",children:z(r)})})]}),eC=(e,n)=>{if(!Array.isArray(n))return!1;const r=x(e.beregningsgrunnlagPeriodeFom),t=x(e.beregningsgrunnlagPeriodeTom);return n.some(i=>!x(i.fom).isBefore(r)&&!x(i.tom).isAfter(t))},nC=(e,n)=>{const r=[];return Array.isArray(e)&&e.forEach(t=>{if(eC(t,n)){const i=x(t.beregningsgrunnlagPeriodeTom),s=x(t.beregningsgrunnlagPeriodeTom).endOf("month");i.isAfter(XU)&&i.isSame(s,"day")&&t.beregningsgrunnlagPeriodeTom!==ze&&r.push(t)}}),r},rC=(e,n)=>{const r=x(n.beregningsgrunnlagPeriodeFom),t=x(e.fom);return r.year()===t.year()&&r.month()===t.month()&&t.isBefore(r)},tC=(e,n)=>{const r=e.ytelsesspesifiktGrunnlag,t=un(F.ARBEIDSTAKER,e,n),i=e.grunnbeløp*6;let s=t;if(!ut(F.FRILANSER,n,r)){const k=un(F.FRILANSER,e,n);s+=k}if(!ut(F.SELVSTENDIG_NAERINGSDRIVENDE,n,r)){const k=un(F.SELVSTENDIG_NAERINGSDRIVENDE,e,n);s+=k}const a=i>s?i-s:0,d=n.beregningsgrunnlagPeriodeTom,g=Array.isArray(r.frisinnPerioder)&&r.frisinnPerioder.find(k=>rC(k,n)),m=g?g.fom:n.beregningsgrunnlagPeriodeFom;return o.jsxs(o.Fragment,{children:[o.jsx(D,{children:o.jsx(y,{children:o.jsx(G,{size:"small",className:Y.avsnittOverskrift,children:o.jsx(f,{id:"Beregningsgrunnlag.Frisinn.InntektstakOpplysningerPeriode",values:{fom:x(m).format(ee),tom:d?x(d).format(ee):""}},`fom-tom${m}${d}`)})})}),o.jsx(A,{eightPx:!0}),QU(i,s,a),o.jsx(A,{sixteenPx:!0})]})},iC=({beregningsgrunnlag:e})=>{const n=Dv(e.ytelsesspesifiktGrunnlag),r=nC(e.beregningsgrunnlagPeriode,n);return o.jsx(o.Fragment,{children:r.map(t=>o.jsx("div",{children:tC(e,t)},t.beregningsgrunnlagPeriodeFom))})},sC=e=>e.beregningsgrunnlagPeriode.some(n=>n.dagsats||n.dagsats===0),aC=({beregningsgrunnlag:e})=>o.jsxs("div",{className:MU.aksjonspunktBehandlerContainer,children:[o.jsx(le,{children:o.jsx(f,{id:"Beregningsgrunnlag.Frisinn.Tittel"})}),o.jsx(A,{sixteenPx:!0}),o.jsx(KU,{beregningsgrunnlag:e}),o.jsx(A,{sixteenPx:!0}),o.jsx(WU,{beregningsgrunnlag:e}),o.jsx(A,{sixteenPx:!0}),sC(e)&&o.jsxs(o.Fragment,{children:[o.jsx(iC,{beregningsgrunnlag:e}),o.jsx(A,{sixteenPx:!0}),o.jsx(ZU,{beregningsgrunnlag:e})]})]}),lC=e=>o.jsx(aC,{beregningsgrunnlag:e}),dC=({beregningsgrunnlag:e})=>{const n=e.ytelsesspesifiktGrunnlag;return n&&n.ytelsetype===Wk.FRISINN?lC(e):null},oC=({relevanteStatuser:e,erManueltBesteberegnet:n,erNyIArbeidslivet:r,sammenligningsgrunnlag:t})=>{if(r)return o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.Avviksopplysninger.SN.NyIArbeidslivet"})});if(!t||t.length<1)return null;const i=(e.isArbeidstaker||e.isFrilanser)&&e.isSelvstendigNaeringsdrivende,s=t.filter(d=>d.sammenligningsgrunnlagType===be.AT_FL||d.sammenligningsgrunnlagType===be.AT||d.sammenligningsgrunnlagType===be.FL),a=i&&s.length===0;return n?o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.Avviksopplysninger.Besteberegning"})}):o.jsxs(o.Fragment,{children:[e.isMilitaer&&o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.Avviksopplysninger.Miletar"})}),e.isAAP&&o.jsxs(D,{children:[o.jsx(y,{children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.Avviksopplysninger.AAP"})})}),o.jsx(A,{eightPx:!0})]}),e.isDagpenger&&o.jsxs(o.Fragment,{children:[o.jsx(D,{children:o.jsx(y,{children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.Avviksopplysninger.Dagpenger"})})})}),o.jsx(A,{eightPx:!0})]}),a&&o.jsxs(D,{children:[o.jsx(y,{children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.Avviksopplysninger.AT.KobinasjonsStatusATFLSN"})})}),o.jsx(A,{eightPx:!0})]})]})},gC="_colLable_di1r8_1",uC="_colValue_di1r8_8",mC="_avvikLinjeRad_di1r8_16",kC="_linjeSkille_di1r8_21",fC="_linjeSkilleTykk_di1r8_27",pC="_colLine_di1r8_33",cC="_colAvvik_di1r8_36",vC="_colBorderTopLeft_di1r8_45",bC="_colBorderTop_di1r8_45",hC="_colNoBorderTop_di1r8_58",jC="_beregnetLuftOver_di1r8_61",bn={colLable:gC,colValue:uC,avvikLinjeRad:mC,linjeSkille:kC,linjeSkilleTykk:fC,colLine:pC,colAvvik:cC,colBorderTopLeft:vC,colBorderTop:bC,colNoBorderTop:hC,beregnetLuftOver:jC},ck=o.jsx(D,{children:o.jsx(y,{children:o.jsx("div",{className:bn.linjeSkille})})}),IC=({beregnetAarsinntekt:e,sammenligningsgrunnlag:n,erPGI:r})=>{const{differanseBeregnet:t,rapportertPrAar:i,avvikProsent:s}=n,a=parseFloat(s.toFixed(1)),d=r?"Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt.Naring":"Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt",g=r?"Beregningsgrunnlag.Avviksopplysninger.SamletInntekt":"Beregningsgrunnlag.Avviksopplysninger.RapportertAarsinntekt";return o.jsxs(o.Fragment,{children:[ck,o.jsxs(D,{children:[o.jsx(y,{className:bn.colLable,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:d})})}),o.jsx(y,{className:bn.colValue,children:o.jsx(_,{size:"small",children:e||e===0?z(e):"-"})}),o.jsx(y,{className:bn.colAvvik})]}),ck,o.jsxs(D,{children:[o.jsx(y,{className:bn.colLable,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:g})})}),o.jsx(y,{className:bn.colValue,children:o.jsx(_,{size:"small",children:z(i)})}),o.jsx(y,{className:bn.colAvvik})]}),o.jsx(D,{children:o.jsx(y,{children:o.jsx("div",{className:bn.linjeSkilleTykk})})}),o.jsxs(D,{children:[o.jsx(y,{className:bn.colLable,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.Avviksopplysninger.BeregnetAvvik"})})}),o.jsx(y,{className:bn.colValue,children:o.jsx(_,{size:"small",children:z(t===void 0?0:t)})}),o.jsx(y,{className:bn.colAvvik,children:o.jsx(_,{size:"small",className:`${a>25?Y.redError:""} ${Y.semiBoldText}`,children:o.jsx(f,{id:"Beregningsgrunnlag.Avviksopplysninger.AvvikProsent",values:{avvik:a}})})})]})]})},AC=e=>e.some(n=>n.aktivitetStatus===F.FRILANSER&&(n.overstyrtPrAar||n.overstyrtPrAar===0)),lg=({readOnly:e,fieldIndex:n,formName:r,alleAndelerIForstePeriode:t})=>o.jsxs(D,{className:oe.verticalAlignMiddle,children:[o.jsx(y,{className:oe.atflAvvikAktivitet,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerFL"})})}),o.jsx(y,{className:oe.atflAvvikInntekt,children:o.jsx("div",{id:"readOnlyWrapper",className:e?oe.inputPadding:void 0,children:o.jsx(pe,{name:`${r}.${n}.inntektFrilanser`,validate:[H,en(178956970)],readOnly:e,parse:ye,className:oe.breddeInntekt,isEdited:e&&AC(t)})})})]});lg.buildInitialValues=e=>{const n=e.length>0?z(e[0].overstyrtPrAar):void 0;return n?{inntektFrilanser:n}:{}};const xC=En(1500),yC=Tn(3),dg="fastsettBeregningsgrnunnlagSNBegrunnelse",og="bruttoBeregningsgrunnlag",{FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:TC}=ge,Et=({readOnly:e,isAksjonspunktClosed:n,erNyArbLivet:r,fieldIndex:t,formName:i})=>{const s=X();return o.jsxs(o.Fragment,{children:[r&&o.jsxs(o.Fragment,{children:[o.jsxs(D,{className:oe.verticalAlignMiddle,children:[o.jsx(y,{className:oe.dynamiskKolonne,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.BruttoBerGr2"})})}),o.jsx(y,{children:o.jsx("div",{id:"readOnlyWrapper",className:e?oe.inputPadding:void 0,children:o.jsx(pe,{name:`${i}.${t}.${og}`,validate:[H,en(178956970)],parse:ye,className:oe.breddeInntekt,isEdited:e&&n,readOnly:e})})})]}),o.jsx(A,{eightPx:!0})]}),o.jsx(A,{sixteenPx:!0}),o.jsx(D,{children:o.jsx(y,{children:o.jsx("div",{id:"readOnlyWrapper",className:e?oe.verticalLine:oe.textAreaWrapperHeigh,children:o.jsx(sn,{name:`${i}.${t}.${dg}`,label:o.jsx(f,{id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag"}),validate:[H,xC,yC,yn],isEdited:e&&n,maxLength:1500,readOnly:e,description:s.formatMessage({id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst"}),parse:a=>a.toString().replaceAll("‑","-").replaceAll("	"," ")})})})})]})};Et.buildInitialValuesNyIArbeidslivet=(e,n)=>{const r=e.find(i=>i.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE),t=n.find(i=>i.definisjon===TC);return{[og]:r?z(r.overstyrtPrAar):void 0,[dg]:t&&t.begrunnelse?t.begrunnelse:void 0}};Et.transformValuesNyIArbeidslivet=e=>({begrunnelse:e[dg],bruttoBeregningsgrunnlag:de(e[og])});const EC=En(1500),_C=Tn(3),gg="varigEndringNyoppstartetBegrunnelse",ug="erVarigEndret",mg="bruttoBeregningsgrunnlag",{VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:SC,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:RC}=ge,NC=e=>e?o.jsx(f,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndretInntektFastsettesTil"}):o.jsx(f,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.BruttoBerGr2"}),Vi=({readOnly:e,erVarigEndring:n,erVarigEndretArbeidssituasjon:r,erNyoppstartet:t,fieldIndex:i,formName:s,isAksjonspunktClosed:a})=>{let d=o.jsx(f,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IngenEndring"}),g=o.jsx(f,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.EndretNaering"});t&&!n&&(d=o.jsx(f,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeNyoppstartet"}),g=o.jsx(f,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.Nyoppstartet"})),n&&!t&&(d=o.jsx(f,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeVarigEndring"}),g=o.jsx(f,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndring"}));let m="Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringNæring";r&&(m="Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringArbeid"),t&&(m="Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelNyoppstartetNæring");const k=X(),p=me().watch(s)[i].erVarigEndret,c=[{value:"false",label:d},{value:"true",label:g}];return o.jsxs(o.Fragment,{children:[o.jsx(D,{children:o.jsx(y,{children:o.jsx(ue,{name:`${s}.${i}.${ug}`,validate:[H],label:k.formatMessage({id:m}),isHorizontal:!1,isReadOnly:e,isEdited:e&&a,radios:c,isTrueOrFalseSelection:!0})})}),p&&o.jsxs(o.Fragment,{children:[o.jsxs(D,{className:oe.verticalAlignMiddle,children:[o.jsx(y,{className:oe.dynamiskKolonne,children:o.jsx(_,{size:"small",children:NC(r)})}),o.jsx(y,{children:o.jsx("div",{id:"readOnlyWrapper",className:e?oe.inputPadding:void 0,children:o.jsx(pe,{name:`${s}.${i}.${mg}`,validate:[H,en(178956970)],parse:ye,className:oe.breddeInntekt,readOnly:e,isEdited:e&&a})})})]}),o.jsx(A,{sixteenPx:!0})]}),o.jsxs(o.Fragment,{children:[o.jsx(A,{sixteenPx:!0}),o.jsx(D,{children:o.jsx(y,{children:o.jsx(sn,{name:`${s}.${i}.${gg}`,label:o.jsx(f,{id:"Beregningsgrunnlag.Forms.Vurdering"}),validate:[H,EC,_C,yn],maxLength:1500,readOnly:e,description:k.formatMessage({id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst"}),parse:b=>b.toString().replaceAll("‑","-").replaceAll("	"," ")})})})]})]})};Vi.buildInitialValues=(e,n)=>{const r=e.find(i=>i.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE||i.aktivitetStatus===F.BRUKERS_ANDEL),t=n.find(i=>i.definisjon===SC||i.definisjon===RC);if(t){const i=Ze(t.status)?void 0:e[0].overstyrtPrAar!==null&&e[0].overstyrtPrAar!==void 0;return{[ug]:i,[gg]:t.begrunnelse?t.begrunnelse:"",[mg]:r?z(r.overstyrtPrAar):void 0}}return{}};Vi.transformValues=e=>{const n=e[ug];return{begrunnelse:e[gg],erVarigEndretNaering:n,erVarigEndret:n,bruttoBeregningsgrunnlag:n?de(e[mg]):void 0}};const{FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:kg,VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:FC,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:Lv}=ge,Kv=(e,n)=>n.some(r=>r.definisjon===e),PC=e=>e&&(e.definisjon===FC||e.definisjon===kg||e.definisjon===Lv),rr=({readOnly:e,avklaringsbehov:n,erNyArbLivet:r,erVarigEndring:t,erNyoppstartet:i,fieldIndex:s,formName:a})=>{if(!PC(n))return null;const d=n?!Ze(n.status):!1;return r?o.jsx(Et,{readOnly:e,isAksjonspunktClosed:d,erNyArbLivet:r,fieldIndex:s,formName:a}):o.jsx(Vi,{readOnly:e,erVarigEndring:t,erVarigEndretArbeidssituasjon:n.definisjon===Lv,erNyoppstartet:i,fieldIndex:s,formName:a,isAksjonspunktClosed:d})};rr.defaultProps={erNyArbLivet:!1,erVarigEndring:!1,erNyoppstartet:!1};rr.buildInitialValues=(e,n)=>Kv(kg,n)?Et.buildInitialValuesNyIArbeidslivet(e,n):{...Vi.buildInitialValues(e,n)};rr.transformValues=(e,n)=>Kv(kg,n)?Et.transformValuesNyIArbeidslivet(e):Vi.transformValues(e);const BC=Oe(yv),OC=(e,n,r,t)=>!e&&!r||n?!0:t===void 0?!e:!e&&t||t,VC=({isReadOnly:e,isSubmittable:n,isSubmitting:r,isDirty:t,text:i,onClick:s,hasEmptyRequiredFields:a})=>e?null:o.jsx(ne,{variant:"primary",size:"small",loading:r,disabled:OC(t,r,n,a),onClick:s||Ws,type:s?"button":"submit",children:i||BC.formatMessage({id:"SubmitButton.ConfirmInformation"})}),{FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:$C,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:DC,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:GC,VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:MC,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:LC}=ge;var Tr=(e=>(e.ÅTTE_TRETTIFEM="8-35",e.ÅTTE_TRETTI="8-30",e))(Tr||{});const fg=(e,n)=>be.SN===e||be.MIDLERTIDIG_INAKTIV===e||be.ATFLSN===e&&n!=null&&n.find(r=>Jk(r))?"8-35":"8-30",Gd=e=>LC===e.definisjon||MC===e.definisjon||GC===e.definisjon?"8-35":$C===e.definisjon||DC===e.definisjon?"8-30":null,{VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:wv,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:Uv,FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:Cv,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:Yv,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:zv}=ge,KC=e=>{var n;const r=(e.beregningsgrunnlagPeriode&&e.beregningsgrunnlagPeriode.length>0?e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel||[]:[]).find(t=>t.aktivitetStatus&&t.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE);return(n=r==null?void 0:r.næringer)!=null&&n.some(t=>t.erNyoppstartet===!0)?"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerNyoppstartet":"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndring"},wC=(e,n)=>{switch(e.definisjon){case wv:return KC(n);case zv:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerSNNyIArb";case Uv:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndringArbeid";case Cv:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFL";case Yv:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFLTidsbegrenset";default:return"Ukjent aksjonspunkt"}},UC=e=>{const n=e.aktivitetStatus||[],r=n.some(i=>qk(i)),t=n.some(i=>Hk(i));return r&&t?"Beregningsgrunnlag.AksjonspunktBehandler.TittelATFLAvvik":t?"Beregningsgrunnlag.AksjonspunktBehandler.TittelFLAvvik":"Beregningsgrunnlag.AksjonspunktBehandler.TittelATAvvik"},CC=(e,n)=>{switch(e.definisjon){case wv:return"Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringNyoppstartet";case zv:return"Beregningsgrunnlag.AksjonspunktBehandler.TittelSNNyIArb";case Uv:return"Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringArbeid";case Cv:case Yv:return UC(n);default:return"Ukjent aksjonspunkt"}},YC=({avklaringsbehov:e,beregningsgrunnlag:n,readOnly:r})=>e?o.jsxs("div",{className:r?oe.aksjonspunktBehandlerNoBorder:oe.aksjonspunktBehandlerHeader,children:[o.jsxs(D,{children:[!r&&o.jsx(y,{className:oe.aksjonspunktBehandlerImageCol,children:o.jsx(_r,{className:oe.warningIcon})}),o.jsx(y,{className:oe.aksjonspunktBehandlerTextCol,children:o.jsx(G,{children:o.jsx(f,{id:CC(e,n)})})})]}),o.jsx(A,{eightPx:!0}),o.jsxs(D,{children:[!r&&o.jsx(y,{className:oe.aksjonspunktBehandlerImageCol}),o.jsx(y,{className:oe.aksjonspunktBehandlerTextCol,children:o.jsx(_,{children:o.jsx(f,{id:wC(e,n)})})})]})]}):null,zC=Tn(3),qC=En(1500),{FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:vk,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:bk,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:hk,VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:jk,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:Ik}=ge,HC="BeregningForm",Js=(e,n)=>Gd(e)===n,JC=(e,n)=>!!e.find(r=>Js(r,n)),pg=e=>`${HC}_${e}`,Ak=(e,n)=>{if(!e||e.length<1)return!1;const r=e[0].beregningsgrunnlagPrStatusOgAndel?e[0].beregningsgrunnlagPrStatusOgAndel:[];return r==null?void 0:r.some(t=>t.aktivitetStatus===n&&t.skalFastsetteGrunnlag)},Md=e=>e&&e.length>0?e[0].beregningsgrunnlagPrStatusOgAndel?e[0].beregningsgrunnlagPrStatusOgAndel:[]:[],ZC=e=>e.some(({periodeAarsaker:n})=>n&&n.some(r=>r===In.ARBEIDSFORHOLD_AVSLUTTET)),WC=(e,n)=>e.perioder.find(({periode:r})=>r.fom===n),XC=(e,n)=>{if(!e||!e.beregningsgrunnlagPeriode)return{};const r=e.beregningsgrunnlagPeriode,t=e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel||[],i=t.filter(m=>m.aktivitetStatus===F.ARBEIDSTAKER),s=t.filter(m=>m.aktivitetStatus===F.FRILANSER),a=t.filter(m=>m.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE||m.aktivitetStatus===F.BRUKERS_ANDEL),d={...sr.buildInitialValues(e.avklaringsbehov),...Oi.buildInitialValues(r),...lg.buildInitialValues(s),...ya.buildInitialValues(i)},g={...rr.buildInitialValues(a,e.avklaringsbehov)};return n?n.sammenligningsgrunnlagType===be.ATFLSN?{...d,...g}:n.sammenligningsgrunnlagType===be.AT_FL?{...d}:n.sammenligningsgrunnlagType===be.SN?{...g}:n.sammenligningsgrunnlagType===be.MIDLERTIDIG_INAKTIV?{...g}:{}:{...Et.buildInitialValuesNyIArbeidslivet(a,e.avklaringsbehov)}},QC=(e,n,r,t)=>{let i={};return r&&(i=XC(e,t)),{...i,periode:n.periode,erTilVurdering:n.vurderesIBehandlingen&&!n.erForlengelse,gjeldendeAvklaringsbehov:r?[r]:[],skjæringstidspunkt:e.skjaeringstidspunktBeregning,allePerioder:e.beregningsgrunnlagPeriode}},e7=(e,n,r,t)=>({[r]:e.map(i=>{var s;return QC(i,WC(n,i.vilkårsperiodeFom),i.avklaringsbehov.find(a=>Js(a,t)),(s=i.sammenligningsgrunnlagPrStatus)==null?void 0:s.find(a=>fg(a.sammenligningsgrunnlagType,i.aktivitetStatus)===t))})}),n7=(e,n,r,t,i)=>{const s=Md(n).find(m=>m.aktivitetStatus&&m.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE),a=s&&s.erNyIArbeidslivet,d=r.definisjon===ge.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON||s&&s.næringer&&s.næringer.some(m=>m.erVarigEndret===!0),g=s&&s.næringer&&s.næringer.some(m=>m.erNyoppstartet===!0);return!a&&!g&&!d?null:o.jsxs(o.Fragment,{children:[o.jsx(A,{eightPx:!0}),o.jsx(rr,{readOnly:e,avklaringsbehov:r,erNyArbLivet:a,erVarigEndring:d,erNyoppstartet:g,fieldIndex:t,formName:i})]})},r7=(e,n,r,t,i,s,a)=>{const d=ZC(n),g=Ak(n,F.FRILANSER),m=Ak(n,F.ARBEIDSTAKER);return o.jsxs(o.Fragment,{children:[o.jsx(A,{eightPx:!0}),d&&o.jsx(Oi,{readOnly:t,formName:a,allePerioder:n,kodeverkSamling:e,arbeidsgiverOpplysningerPerId:r,fieldIndex:s}),!d&&m&&o.jsx(sg,{readOnly:t,alleAndelerIForstePeriode:Md(n),kodeverkSamling:e,arbeidsgiverOpplysningerPerId:r,fieldIndex:s,formName:a}),g&&o.jsx(lg,{readOnly:t,fieldIndex:s,formName:a,alleAndelerIForstePeriode:Md(n)}),o.jsx(A,{sixteenPx:!0}),o.jsx(D,{children:o.jsx(y,{children:o.jsx(sn,{name:`${a}.${s}.ATFLVurdering`,label:o.jsx(f,{id:"Beregningsgrunnlag.Forms.Vurdering"}),validate:[H,qC,zC,yn],maxLength:1500,readOnly:t,className:oe.textAreaStyle,description:i.formatMessage({id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst"}),parse:k=>k.toString().replaceAll("‑","-").replaceAll("	"," ")})})})]})},t7=(e,n)=>(n.aksjonspunkter.forEach(r=>{const t=e.find(i=>i.kode===r.kode);t!==void 0?(t.grunnlag.push({periode:n.periode,...r.aksjonspunktData}),t.begrunnelse=`${t.begrunnelse} ${r.aksjonspunktData.begrunnelse}`):e.push({kode:r.kode,begrunnelse:r.aksjonspunktData.begrunnelse,grunnlag:[{periode:n.periode,...r.aksjonspunktData}]})}),e),Mt=(e,n)=>n!=null&&n.some(r=>r.definisjon===e),i7=e=>{const{allePerioder:n}=e;if(n.length<1)throw new Error("Ingen beregningsgrunnlagperioder, ugyldig tilstand");n.sort((t,i)=>!t.beregningsgrunnlagPeriodeFom||!i.beregningsgrunnlagPeriodeFom?0:t.beregningsgrunnlagPeriodeFom.localeCompare(i.beregningsgrunnlagPeriodeFom));const r=n[0].beregningsgrunnlagPrStatusOgAndel||[];if(Mt(vk,e.gjeldendeAvklaringsbehov))return[{kode:vk,aksjonspunktData:sr.transformATFLValues(e,r)}];if(Mt(jk,e.gjeldendeAvklaringsbehov))return[{kode:jk,aksjonspunktData:rr.transformValues(e,e.gjeldendeAvklaringsbehov)}];if(Mt(Ik,e.gjeldendeAvklaringsbehov))return[{kode:Ik,aksjonspunktData:rr.transformValues(e,e.gjeldendeAvklaringsbehov)}];if(Mt(hk,e.gjeldendeAvklaringsbehov))return[{kode:hk,aksjonspunktData:rr.transformValues(e,e.gjeldendeAvklaringsbehov)}];if(Mt(bk,e.gjeldendeAvklaringsbehov))return[{kode:bk,aksjonspunktData:sr.transformATFLTidsbegrensetValues(e,n)}];throw new Error("Må submitte et aksjonspunkt")},s7=(e,n)=>e[pg(n)].filter(r=>r.erTilVurdering).map(r=>({periode:r.periode,aksjonspunkter:i7(r)})).reduce(t7,[]),a7=({readOnly:e,readOnlySubmitButton:n,kodeverkSamling:r,arbeidsgiverOpplysningerPerId:t,beregningsgrunnlagListe:i,vilkår:s,submitCallback:a,formData:d,setFormData:g,aktivIndex:m,lovparagraf:k,finnesFormSomSubmittes:p,setSubmitting:c})=>{const b=X(),I=(B,U)=>{c(!0),a(s7(B,U))},T=i.filter(B=>JC(B.avklaringsbehov,k)),R=pg(k),S=qe({defaultValues:d||e7(T,s,R,k)}),{formState:{dirtyFields:N},control:E,trigger:O}=S,{fields:$}=Me({name:R,control:E}),V=j.useRef(null);j.useEffect(()=>{var B,U;p&&(B=N[R])!=null&&B[m]&&O(),i[m].avklaringsbehov.some(K=>Js(K,k)&&K.status===ta.OPPRETTET)&&((U=V==null?void 0:V.current)==null||U.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}))},[m]);const L=o.jsx(D,{children:o.jsx(y,{children:o.jsx(VC,{isReadOnly:e,isSubmittable:!n,isDirty:S.formState.isDirty,isSubmitting:p})})}),Z=B=>B.find(U=>Js(U,k)),J=(B,U)=>{const K=Z(U);return k===Tr.ÅTTE_TRETTI&&K?r7(r,T[B].beregningsgrunnlagPeriode,t,e,b,B,R):k===Tr.ÅTTE_TRETTIFEM&&K?n7(e,T[B].beregningsgrunnlagPeriode,K,B,R):null},C=i[m].vilkårsperiodeFom;return o.jsx("div",{ref:V,children:o.jsx(He,{formMethods:S,onSubmit:B=>I(B,k),setDataOnUnmount:g,children:$.map((B,U)=>o.jsxs("div",{style:{display:T[U].vilkårsperiodeFom===C?"block":"none"},children:[o.jsx(YC,{readOnly:e,avklaringsbehov:Z(T[U].avklaringsbehov),beregningsgrunnlag:T[U]}),o.jsxs("div",{className:e?oe.aksjonspunktBehandlerNoBorder:oe.aksjonspunktBehandlerBorder,children:[J(U,T[U].avklaringsbehov),o.jsx(A,{sixteenPx:!0}),L,o.jsx(A,{sixteenPx:!0})]})]},B.id))})})},l7=e=>e.overstyrtPrAar!==null&&e.overstyrtPrAar!==void 0?!0:e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,d7=(e,n)=>e?e.filter(r=>n.includes(r.aktivitetStatus)).filter(r=>l7(r)):[],xk=e=>e||0,o7=e=>e.beregnetPrAar?e.beregnetPrAar:0,yk=(e,n)=>{const r=d7(e,n);if(r){const t=r.reduce((a,d)=>a+o7(d),0),i=r.reduce((a,d)=>{var g;return a+xk((g=d==null?void 0:d.arbeidsforhold)==null?void 0:g.naturalytelseBortfaltPrÅr)},0),s=r.reduce((a,d)=>{var g;return a+xk((g=d==null?void 0:d.arbeidsforhold)==null?void 0:g.naturalytelseTilkommetPrÅr)},0);return t+i-s}return 0},g7=(e,n)=>{const r=o.jsx(f,{id:"Beregningsgrunnlag.Avviksopplysninger.ATFL.Tittel"}),t=o.jsx(f,{id:"Beregningsgrunnlag.Avviksopplysninger.SN.Tittel"});switch(e.sammenligningsgrunnlagType){case be.AT:case be.FL:case be.AT_FL:return r;case be.SN:return t;case be.ATFLSN:return n===Tr.ÅTTE_TRETTIFEM?t:r;case be.MIDLERTIDIG_INAKTIV:return o.jsx(f,{id:"Beregningsgrunnlag.Avviksopplysninger.MIDL.Tittel"});default:throw new Error(`Ukjent sammenligningstype ${e.sammenligningsgrunnlagType}`)}},Tk=(e,n)=>{const r=n.find(t=>(t.aktivitetStatus===F.SELVSTENDIG_NAERINGSDRIVENDE||t.aktivitetStatus===F.BRUKERS_ANDEL)&&!t.erTilkommetAndel);return e.sammenligningsgrunnlagType===be.SN&&r?{inntekt:r.pgiSnitt||0,erPGI:!0}:e.sammenligningsgrunnlagType===be.MIDLERTIDIG_INAKTIV&&r?{inntekt:r.pgiSnitt||0,erPGI:!0}:e.sammenligningsgrunnlagType===be.ATFLSN?r?{inntekt:r.pgiSnitt||0,erPGI:!0}:{inntekt:yk(n,[F.ARBEIDSTAKER,F.FRILANSER]),erPGI:!1}:{inntekt:yk(n,[F.ARBEIDSTAKER,F.FRILANSER]),erPGI:!1}};function Ek(e,n,r){const t={...e};return t[n]?t[n].push(r):t[n]=[r],t}const u7=e=>e.reduce((n,r)=>{let t={...n};return r.avklaringsbehov.find(i=>i.definisjon===ge.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET)&&(t=Ek(t,Tr.ÅTTE_TRETTIFEM,r)),!r.sammenligningsgrunnlagPrStatus||r.sammenligningsgrunnlagPrStatus.length===0||r.sammenligningsgrunnlagPrStatus.forEach(i=>{const s=fg(i.sammenligningsgrunnlagType,r.aktivitetStatus);t=Ek(t,s,r)}),t},{}),m7=({readOnly:e,readOnlySubmitButton:n,kodeverkSamling:r,relevanteStatuser:t,arbeidsgiverOpplysningerPerId:i,gjelderBesteberegning:s,sammenligningsgrunnlag:a,beregningsgrunnlagListe:d,vilkår:g,submitCallback:m,formData:k,setFormData:p,aktivIndex:c})=>{var b;const I=u7(d),[T,R]=j.useState(!1),S=o.jsx(oC,{sammenligningsgrunnlag:a,relevanteStatuser:t,erManueltBesteberegnet:s,erNyIArbeidslivet:!!((b=d[c].beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel)!=null&&b.find(E=>E.erNyIArbeidslivet))}),N=E=>{var O;if(I[E]&&I[E].length>0){const $=I[E],V=d[c].vilkårsperiodeFom,L=$.find(K=>K.vilkårsperiodeFom===V),Z=L?(O=L.sammenligningsgrunnlagPrStatus)==null?void 0:O.find(K=>fg(K.sammenligningsgrunnlagType,L==null?void 0:L.aktivitetStatus)===E):void 0,J=!!I[E].find(K=>!!K.avklaringsbehov.find(w=>Gd(w)===E)),C=L&&!!L.avklaringsbehov.find(K=>Gd(K)===E),B=(L==null?void 0:L.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel)||[],U=pg(E);return o.jsxs("div",{children:[!!Z&&o.jsxs(o.Fragment,{children:[o.jsx(te,{size:"xsmall",children:g7(Z,E)}),o.jsx(IC,{sammenligningsgrunnlag:Z,beregnetAarsinntekt:Tk(Z,B).inntekt,erPGI:Tk(Z,B).erPGI}),o.jsx("div",{className:Y.storSpace})]}),J&&o.jsxs("div",{style:{display:C?"block":"none"},children:[o.jsx(a7,{readOnly:e,lovparagraf:E,kodeverkSamling:r,readOnlySubmitButton:n,arbeidsgiverOpplysningerPerId:i,beregningsgrunnlagListe:d,vilkår:g,submitCallback:m,formData:k&&U in k?k:void 0,setFormData:p,aktivIndex:c,finnesFormSomSubmittes:T,setSubmitting:R}),o.jsx("div",{className:Y.storSpace})]})]})}return null};return o.jsxs("div",{className:Y.panelRight,children:[S,o.jsx(A,{twentyPx:!0}),N(Tr.ÅTTE_TRETTI),N(Tr.ÅTTE_TRETTIFEM)]})},k7="_kolBeskrivelse_1czvx_1",f7="_kolVerdi_1czvx_4",p7="_radNoBorder_1czvx_9",c7="_radDobbelLinje_1czvx_14",v7="_radEnkelLinje_1czvx_20",b7="_radTykkLinje_1czvx_24",h7="_kolVerdiRød_1czvx_28",j7="_kolAvslagIkon_1czvx_31",I7="_kolAvslagTekst_1czvx_34",A7="_avslåttIkon_1czvx_38",je={kolBeskrivelse:k7,kolVerdi:f7,radNoBorder:p7,radDobbelLinje:c7,radEnkelLinje:v7,radTykkLinje:b7,kolVerdiRød:"_kolVerdiRød_1czvx_28",kolVerdiRod:h7,kolAvslagIkon:j7,kolAvslagTekst:I7,avslåttIkon:"_avslåttIkon_1czvx_38",avslattIkon:A7},x7=260,qv={[F.ARBEIDSTAKER]:{rekkefølgePri:1,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Arbeid"},[F.FRILANSER]:{rekkefølgePri:2,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Frilans"},[F.DAGPENGER]:{rekkefølgePri:3,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Dagpenger"},[F.SYKEPENGER_AV_DAGPENGER]:{rekkefølgePri:3,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.SykepengerAvDagpenger"},[F.PLEIEPENGER_AV_DAGPENGER]:{rekkefølgePri:3,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.PleiepengerAvDagpenger"},[F.ARBEIDSAVKLARINGSPENGER]:{rekkefølgePri:4,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Arbeidsavklaringspenger"},[F.KUN_YTELSE]:{rekkefølgePri:5,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Ytelse"},[F.MILITAER_ELLER_SIVIL]:{rekkefølgePri:6,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Militær"},[F.BRUKERS_ANDEL]:{rekkefølgePri:7,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.BrukersAndel"},[F.SELVSTENDIG_NAERINGSDRIVENDE]:{rekkefølgePri:8,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Næring"}},_k=e=>{var n;return((n=qv[e.status])==null?void 0:n.rekkefølgePri)||100},y7=e=>{var n;return((n=qv[e.status])==null?void 0:n.beskrivelseId)||"Ukjent andel"},T7=()=>o.jsx(f,{id:"Beregningsgrunnlag.Beregningsresultat.IkkeBeregnet"}),E7=e=>e.reduce((n,r)=>(r.inntektPlussNaturalytelse||0)+n,0),_7=(e,n)=>(n==null?void 0:n.ytelsetype)!==Wk.FORELDREPENGER&&e.avkortetPrÅr?Math.round(e.avkortetPrÅr/x7):e.dagsats||0,hr=()=>o.jsx("div",{className:je.radEnkelLinje}),S7=(e,n)=>o.jsxs(xe,{children:[o.jsx(A,{twentyPx:!0}),o.jsxs(D,{children:[o.jsx(y,{className:je.avslåttIkon,children:o.jsx(Bb,{})}),o.jsx(y,{className:je.kolAvslagTekst,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:n?"Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfyltMidlertidigInaktiv":"Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfylt2",values:{grunnbeløp:z(e),b:r=>o.jsx("b",{children:r})}})})})]})]}),R7=e=>!!e.aktivitetStatus&&e.aktivitetStatus.some(n=>n===F.MIDLERTIDIG_INAKTIV),N7=(e,n,r,t)=>{const i=e.andeler.reduce((k,p)=>(p.inntektPlussNaturalytelse||0)+k,0);if(n.vilkarStatus===jg.IKKE_VURDERT)return null;if(n.vilkarStatus===jg.IKKE_OPPFYLT)return S7(r.grunnbeløp,R7(r));const s=r.grunnbeløp*6,a=i>s,d=r.dekningsgrad!==wb.HUNDRE,g=_7(e,r.ytelsesspesifiktGrunnlag),m=t&&(a||d);return o.jsxs(xe,{children:[m&&o.jsx(A,{fourtyPx:!0}),a&&o.jsxs(o.Fragment,{children:[hr(),o.jsxs(D,{className:je.radNoBorder,children:[o.jsx(y,{className:je.kolBeskrivelse,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.Beregningsresultat.Avkortet"})})}),o.jsx(y,{className:je.kolVerdi,children:o.jsx(_,{size:"small",children:z(e.avkortetPrÅr)})})]}),hr()]}),d&&o.jsxs(o.Fragment,{children:[!a&&t&&o.jsx(o.Fragment,{children:hr()}),o.jsxs(D,{className:je.radNoBorder,children:[o.jsx(y,{className:je.kolBeskrivelse,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.Beregningsresultat.Redusert"})})}),o.jsx(y,{className:je.kolVerdi,children:o.jsx(_,{size:"small",children:z(e.redusertPrÅr)})})]}),hr()]}),o.jsx(A,{fourtyPx:!0}),o.jsxs(D,{className:je.radNoBorder,children:[o.jsx(y,{className:je.kolBeskrivelse,children:o.jsx(G,{size:"medium",children:o.jsx(f,{id:"Beregningsgrunnlag.Beregningsresultat.Dagsats"})})}),o.jsx(y,{className:je.kolVerdi,children:o.jsx(G,{size:"medium",children:g})})]}),o.jsx("div",{className:je.radDobbelLinje})]})},F7=({tabellData:e,skalVisePeriode:n,vilkårsperiode:r,beregningsgrunnlag:t})=>{const i=e.andeler.length>1&&!e.andeler.some(d=>!d.erFerdigBeregnet);e.andeler.sort((d,g)=>_k(d)-_k(g));const s=e.andeler.length>1,a=e.andeler.every(d=>d.erFerdigBeregnet);return o.jsxs(o.Fragment,{children:[n&&o.jsxs(o.Fragment,{children:[o.jsx(D,{children:o.jsx(y,{children:o.jsx(te,{size:"xsmall",children:o.jsx(f,{id:"Beregningsgrunnlag.Beregningsresultat.Periode",values:{fom:x(e.fom).format(ee),tom:e.tom?x(e.tom).format(ee):""}})})})}),o.jsx(A,{eightPx:!0})]}),e.andeler.map((d,g)=>o.jsxs(M.Fragment,{children:[g===0&&o.jsx(o.Fragment,{children:hr()}),o.jsxs(D,{className:je.radNoBorder,children:[o.jsx(y,{className:je.kolBeskrivelse,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:y7(d)})})}),o.jsx(y,{className:je.kolVerdi,children:o.jsx(_,{size:"small",className:d.erFerdigBeregnet?"":je.kolVerdiRød,children:d.erFerdigBeregnet?z(d.inntekt):T7()})})]}),!!d.bortfaltNaturalytelse&&o.jsxs(o.Fragment,{children:[hr(),o.jsxs(D,{className:je.radNoBorder,children:[o.jsx(y,{className:je.kolBeskrivelse,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.Beregningsresultat.Naturalytelser"})})}),o.jsx(y,{className:je.kolVerdi,children:o.jsx(_,{size:"small",children:z(d.bortfaltNaturalytelse)})})]})]}),hr()]},d.status)),i&&o.jsxs(o.Fragment,{children:[o.jsxs(D,{className:je.radNoBorder,children:[o.jsx(y,{className:je.kolBeskrivelse,children:o.jsx(_,{size:"small",children:o.jsx(f,{id:"Beregningsgrunnlag.Beregningsresultat.TotalÅrsinntekt"})})}),o.jsx(y,{className:je.kolVerdi,children:o.jsx(_,{size:"small",children:z(E7(e.andeler))})})]}),o.jsx("div",{className:je.radTykkLinje})]}),a&&o.jsx(o.Fragment,{children:N7(e,r,t,s)})]})},P7=[In.ARBEIDSFORHOLD_AVSLUTTET,In.NATURALYTELSE_TILKOMMER,In.NATURALYTELSE_BORTFALT],B7=e=>e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,O7=e=>e.besteberegningPrAar||e.besteberegningPrAar===0?e.besteberegningPrAar:e.overstyrtPrAar||e.overstyrtPrAar===0?e.overstyrtPrAar:e.beregnetPrAar||0,V7=(e,n)=>{switch(e){case F.ARBEIDSTAKER:case F.FRILANSER:return n.find(r=>r.definisjon===ge.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS||r.definisjon===ge.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD);case F.SELVSTENDIG_NAERINGSDRIVENDE:return n.find(r=>r.definisjon===ge.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET||r.definisjon===ge.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE);case F.BRUKERS_ANDEL:return n.find(r=>r.definisjon===ge.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON);default:return}},$7=e=>{var n,r;const t=(n=e==null?void 0:e.arbeidsforhold)==null?void 0:n.naturalytelseBortfaltPrÅr,i=((r=e==null?void 0:e.arbeidsforhold)==null?void 0:r.naturalytelseTilkommetPrÅr)||0;return t?t-i:0},D7=e=>{const{beregnetPrAar:n,pgiSnitt:r}=e;return!!n||n===0||!!r||r===0},G7=(e,n)=>{const r=e.filter(s=>B7(s)),t={};r.forEach(s=>{const a=t[s.aktivitetStatus];a?a.push(s):t[s.aktivitetStatus]=[s]});const i=[];return Object.keys(t).forEach(s=>{const a=t[s],d=V7(s,n),g=a.every(I=>D7(I)),m=a.reduce((I,T)=>O7(T)+I,0),k=a.reduce((I,T)=>$7(T)+I,0),p=(m||0)+(k||0),c=!!d&&Ze(d.status),b=g&&!c;i.push({inntekt:m,bortfaltNaturalytelse:k,inntektPlussNaturalytelse:p,erFerdigBeregnet:b,status:s})}),i},M7=e=>e.some(n=>P7.includes(n)),L7=e=>{const{beregningsgrunnlagPeriode:n}=e,r=n.filter(i=>i.beregningsgrunnlagPeriodeFom===e.skjaeringstidspunktBeregning||!!i.periodeAarsaker&&M7(i.periodeAarsaker)).map(i=>i.beregningsgrunnlagPeriodeFom).sort((i,s)=>new Date(i).getTime()-new Date(s).getTime()),t=[];for(let i=0;i<r.length;i+=1){const s=r[i],a=i+1<r.length?x(r[i+1]).subtract(1,"day").format(Be).toString():void 0,d=n.find(b=>b.beregningsgrunnlagPeriodeFom===s),g=(d==null?void 0:d.periodeAarsaker)||[],m=G7((d==null?void 0:d.beregningsgrunnlagPrStatusOgAndel)||[],e.avklaringsbehov),k=d==null?void 0:d.redusertPrAar,p=d==null?void 0:d.avkortetPrAar,c=d==null?void 0:d.dagsats;t.push({fom:s,tom:a,årsak:g,andeler:m,redusertPrÅr:k,avkortetPrÅr:p,dagsats:c})}return t},K7=({beregningsgrunnlag:e,vilkårsperiode:n})=>{const r=j.useMemo(()=>L7(e),[e]),t=r.length>1;return o.jsxs("div",{className:Y.panelRight,children:[o.jsx(te,{size:"small",className:Y.avsnittOverskrift,children:o.jsx(f,{id:"Beregningsgrunnlag.BeregningTable.Tittel"})}),o.jsx(A,{eightPx:!0}),r.map(i=>o.jsxs("div",{children:[o.jsx(F7,{tabellData:i,skalVisePeriode:t,vilkårsperiode:n,beregningsgrunnlag:e}),o.jsx(A,{fourtyPx:!0})]},i.fom))]})},w7=e=>e&&e.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller.some(n=>n===P.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE):!1,U7=e=>!!(e!=null&&e.besteberegninggrunnlag),C7=e=>e[0].beregningsgrunnlagPrStatusOgAndel?e[0].beregningsgrunnlagPrStatusOgAndel.filter(n=>n.erTilkommetAndel!==!0).map(n=>n.aktivitetStatus):[],Y7=({readOnly:e,valgtBeregningsgrunnlag:n,relevanteStatuser:r,readOnlySubmitButton:t,kodeverkSamling:i,vilkarPeriode:s,arbeidsgiverOpplysningerPerId:a,gjeldendeAvklaringsbehov:d,alleBeregningsgrunnlag:g,vilkår:m,submitCallback:k,formData:p,setFormData:c,aktivIndex:b})=>{var I;const{skjaeringstidspunktBeregning:T,beregningsgrunnlagPeriode:R,faktaOmBeregning:S,ytelsesspesifiktGrunnlag:N}=n,E=w7(S),O=U7(N),$=o.jsx("div",{className:Y.storSpace}),V=C7(R),L=d&&d.length>0;return o.jsxs(o.Fragment,{children:[L&&o.jsxs(o.Fragment,{children:[o.jsx(A,{eightPx:!0}),o.jsx(_U,{avklaringsbehov:d,beregningsgrunnlag:n})]}),o.jsxs(D,{children:[o.jsxs(y,{className:Y.venstreKolonne,children:[o.jsx(te,{size:"medium",children:o.jsx(f,{id:"Beregningsgrunnlag.Title.Beregning"})}),o.jsx(A,{sixteenPx:!0}),o.jsx($3,{kodeverkSamling:i,aktivitetStatusList:V,skjeringstidspunktDato:T,saksopplysninger:n.faktaOmBeregning?n.faktaOmBeregning.saksopplysninger:void 0,arbeidsgiverOpplysningerPerId:a}),$,r.skalViseBeregningsgrunnlag&&o.jsx(sr,{relevanteStatuser:r,allePerioder:R,gjelderBesteberegning:E,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:a,sammenligningsGrunnlagInntekter:n.inntektsgrunnlag,sammenligningsgrunnlag:n.sammenligningsgrunnlagPrStatus}),O&&o.jsxs(o.Fragment,{children:[$,o.jsx(o3,{besteMåneder:(I=N==null?void 0:N.besteberegninggrunnlag)==null?void 0:I.besteMåneder,periode:R[0]})]})]}),o.jsxs(y,{className:Y.hoyreKolonne,children:[o.jsx(te,{size:"medium",className:Y.panelRight,children:o.jsx(f,{id:"Beregningsgrunnlag.Title.Fastsettelse"})}),o.jsx(A,{sixteenPx:!0}),o.jsx(m7,{readOnly:e,readOnlySubmitButton:t,kodeverkSamling:i,relevanteStatuser:r,arbeidsgiverOpplysningerPerId:a,gjelderBesteberegning:E,sammenligningsgrunnlag:n.sammenligningsgrunnlagPrStatus||[],beregningsgrunnlagListe:g,vilkår:m,submitCallback:k,formData:p,setFormData:c,aktivIndex:b}),o.jsxs(o.Fragment,{children:[o.jsx(A,{sixteenPx:!0}),o.jsx(dC,{beregningsgrunnlag:n})]}),s&&o.jsx(K7,{beregningsgrunnlag:n,vilkårsperiode:s})]})]})]})},z7=[ge.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE,ge.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON,ge.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS,ge.FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE,ge.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD,ge.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET],q7=e=>e.avklaringsbehov.filter(n=>z7.some(r=>r===n.definisjon)),H7=e=>({isArbeidstaker:e.some(n=>qk(n)),isFrilanser:e.some(n=>Hk(n)),isSelvstendigNaeringsdrivende:e.some(n=>Jk(n)),isMidlertidigInaktiv:e.some(n=>n===F.MIDLERTIDIG_INAKTIV),harAndreTilstotendeYtelser:e.some(n=>Mb(n)),harDagpengerEllerAAP:e.some(n=>Zk(n)),isAAP:e.some(n=>n===F.ARBEIDSAVKLARINGSPENGER),isDagpenger:e.some(n=>n===F.DAGPENGER||n===F.SYKEPENGER_AV_DAGPENGER),skalViseBeregningsgrunnlag:e.length>0,isKombinasjonsstatus:e.some(n=>Lb(n))||e.length>1,isMilitaer:e.some(n=>Kb(n))}),J7=e=>e?e.find(n=>n.definisjon===ge.VURDER_GRADERING_UTEN_BEREGNINGSGRUNNLAG):void 0,Sk=(e,n)=>e.perioder.find(({periode:r})=>r.fom===n),Z7=({aktivtBeregningsgrunnlagIndeks:e,beregningsgrunnlagListe:n,submitCallback:r,readOnly:t,readOnlySubmitButton:i,vilkar:s,kodeverkSamling:a,arbeidsgiverOpplysningerPerId:d,formData:g,setFormData:m})=>{const k=n[e],p=H7(k.aktivitetStatus),c=J7(k.avklaringsbehov);function b(I){const T=Sk(s,I.vilkårsperiodeFom);return T.vurderesIBehandlingen&&!T.erForlengelse}return o.jsxs(o.Fragment,{children:[o.jsx(Y7,{readOnly:t||!b(n[e]),valgtBeregningsgrunnlag:n[e],gjeldendeAvklaringsbehov:q7(n[e]),relevanteStatuser:p,readOnlySubmitButton:i,kodeverkSamling:a,vilkarPeriode:Sk(s,n[e].vilkårsperiodeFom),arbeidsgiverOpplysningerPerId:d,alleBeregningsgrunnlag:n,vilkår:s,submitCallback:r,formData:g,setFormData:m,aktivIndex:e}),c&&o.jsx(i3,{avklaringsbehov:c})]})},W7=[ge.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE,ge.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS,ge.FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE,ge.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD,ge.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET,ge.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON],X7=[],Q7=W5.bind(bs),Rk=Oe(yv),e4=e=>{var n;const r=(n=e==null?void 0:e.perioder)==null?void 0:n.some(t=>t.avslagKode==="1043");return o.jsxs(o.Fragment,{children:[o.jsx(te,{size:"medium",children:o.jsx(f,{id:"Beregningsgrunnlag.Title"})}),o.jsx(A,{eightPx:!0}),o.jsx(D,{children:o.jsx(y,{children:o.jsx(f,{id:r?"Beregningsgrunnlag.Avslagsårsak.IkkeTilstrekkeligInntektsgrunnlag":"Beregningsgrunnlag.HarIkkeBeregningsregler"})})})]})},n4=(e,n)=>{const r=n.vilkårsperiodeFom;return(e&&e.perioder?e.perioder.filter(t=>t.vurderesIBehandlingen&&!t.erForlengelse):[]).some(t=>t.periode.fom===r)},r4=e=>e.avklaringsbehov.some(n=>W7.some(r=>r===n.definisjon)&&n.kanLoses),t4=(e,n)=>e.map(r=>({skalVurderes:n4(n,r),harAvklaringsbehov:r4(r),stp:x(r.skjaeringstidspunktBeregning).format(ee)})),i4=({beregningsgrunnlagListe:e,submitCallback:n,isReadOnly:r,readOnlySubmitButton:t,beregningsgrunnlagsvilkar:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:a,formData:d,setFormData:g})=>{const m=e||X7,k=m.length>1;m.sort((T,R)=>T.skjaeringstidspunktBeregning.localeCompare(R.skjaeringstidspunktBeregning)).reverse();const[p,c]=j.useState(0),b=t4(m,i),I=Q7("mainContainer",{"mainContainer--withSideMenu":k});return j.useEffect(()=>{const T=b.findIndex(R=>R.skalVurderes&&R.harAvklaringsbehov);T>-1&&c(T)},[e]),e.length===0||e.length===1&&!e[0].aktivitetStatus?o.jsx(Ye,{value:Rk,children:e4(i)}):o.jsx(Ye,{value:Rk,children:o.jsxs("div",{className:I,children:[k&&o.jsx("div",{className:bs.sideMenuContainer,children:o.jsx(Jb,{links:b.map((T,R)=>({icon:T.skalVurderes&&T.harAvklaringsbehov?o.jsx(_r,{className:bs.advarselIkon}):null,active:p===R,label:`${T.stp}`})),onClick:c,theme:"arrow"})}),o.jsx("div",{className:bs.contentContainer,children:o.jsx(Z7,{aktivtBeregningsgrunnlagIndeks:p,beregningsgrunnlagListe:m,submitCallback:n,readOnly:r,readOnlySubmitButton:t,vilkar:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:a,setFormData:g,formData:d})})]})})};const s4=e=>{switch(e){case ge.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:return se.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS;case ge.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:return se.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD;case ge.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:return se.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET;case ge.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:return se.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE;default:throw new Error(`Ukjent avklaringspunkt ${e}`)}},a4=e=>n=>{const t=(Array.isArray(n)?n:[n]).map(i=>({kode:s4(i.kode),...i.grunnlag[0]}));return e(t)},l4=(e,n)=>({avslagKode:n.avslagKode,vurderesIBehandlingen:!0,merknadParametere:{},periode:{fom:e?e.skjaeringstidspunktBeregning:"",tom:ze},vilkarStatus:n.vilkarStatus}),d4=(e,n)=>{const r=e.find(i=>i.vilkarType&&i.vilkarType===Ar.BEREGNINGSGRUNNLAGVILKARET);return!r||!n?null:{...r,perioder:[l4(n,r)]}},o4=e=>e?[{...e,vilkårsperiodeFom:e.skjaeringstidspunktBeregning}]:[],g4=[se.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS,se.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE,se.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD,se.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET],u4=[Ar.BEREGNINGSGRUNNLAGVILKARET],m4=[we.BEREGNINGSGRUNNLAG],Nk=({arbeidsgiverOpplysningerPerId:e,...n})=>l.jsx(to,{...n,panelEndepunkter:m4,aksjonspunktKoder:g4,vilkarKoder:u4,prosessPanelKode:Jd.BEREGNINGSGRUNNLAG,prosessPanelMenyTekst:X().formatMessage({id:"Behandlingspunkt.Beregning"}),skalPanelVisesIMeny:()=>!0,renderPanel:r=>l.jsx(i4,{...r,kodeverkSamling:r.alleKodeverk,beregningsgrunnlagsvilkar:d4(r.vilkar,r.beregningsgrunnlag),beregningsgrunnlagListe:o4(r.beregningsgrunnlag),arbeidsgiverOpplysningerPerId:e,submitCallback:a4(r.submitCallback)})});try{Nk.displayName="BeregningsgrunnlagProsessStegInitPanel",Nk.__docgenInfo={description:"",displayName:"BeregningsgrunnlagProsessStegInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const k4=(e,n)=>e.filter(r=>r.opptjeningsår===n),Hv=e=>e.aktivitetStatus+e.arbeidsgiverId,f4=(e,n,r)=>{const t=e.arbeidsgiverId?n[e.arbeidsgiverId]:void 0;return t?t.erPrivatPerson?t.fødselsdato?`${t.navn} (${x(t.fødselsdato).format(ee)})`:t.navn:t.identifikator?`${t.navn} (${t.identifikator})`:t.navn:e.aktivitetStatus?wk(r)(e.aktivitetStatus,Yn.AKTIVITET_STATUS):""},p4=(e,n,r)=>({identifikator:Hv(e),visningsnavn:f4(e,n,r),utbetaltTilSøker:e.erBrukerMottaker?e.årsbeløp:0,utbetaltIRefusjon:e.erBrukerMottaker?0:e.årsbeløp}),c4=(e,n,r)=>{const t=[];return e.forEach(i=>{const s=i.erBrukerMottaker?i.årsbeløp:0,a=i.erBrukerMottaker?0:i.årsbeløp,d=Hv(i),g=t.find(m=>m.identifikator===d);g?(g.utbetaltTilSøker+=s,g.utbetaltIRefusjon+=a):t.push(p4(i,n,r))}),t},v4=["TilkjentYtelse.Feriepenger.AndelNavn","TilkjentYtelse.Feriepenger.GrunnlagRefusjon","TilkjentYtelse.Feriepenger.GrunnlagSøker"],Ld=({alleAndeler:e,opptjeningsår:n,alleKodeverk:r,arbeidsgiverOpplysningerPerId:t})=>{const i=!e||e.length<1,s=j.useMemo(()=>i?void 0:k4(e,n),[e,n]),a=j.useMemo(()=>s?c4(s,t,r):[],[s]);return i?null:l.jsxs(l.Fragment,{children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"TilkjentYtelse.Feriepenger.Opptjeningsår",values:{år:n}})}),l.jsx(an,{headerTextCodes:v4,children:a.map(d=>l.jsxs(Je,{children:[l.jsx(q,{children:l.jsx(_,{size:"small",children:d.visningsnavn})}),l.jsx(q,{children:l.jsx(_,{size:"small",children:d.utbetaltIRefusjon})}),l.jsx(q,{children:l.jsx(_,{size:"small",children:d.utbetaltTilSøker})})]},d.identifikator))})]})};try{Ld.displayName="FeriepengerPrAar",Ld.__docgenInfo={description:"",displayName:"FeriepengerPrAar",props:{alleAndeler:{defaultValue:null,description:"",name:"alleAndeler",required:!0,type:{name:"Readonly<{ aktivitetStatus: string; opptjeningsår: number; årsbeløp: number; erBrukerMottaker: boolean; ytelseperiodeFom?: string | undefined; ytelseperiodeTom?: string | undefined; arbeidsgiverId?: string | undefined; arbeidsforholdId?: string | undefined; }>[]"}},opptjeningsår:{defaultValue:null,description:"",name:"opptjeningsår",required:!0,type:{name:"number"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}}}}}catch{}const b4=e=>{const n=e.map(r=>r.opptjeningsår).sort((r,t)=>r-t);return[...new Set(n)]},h4=()=>l.jsx(te,{size:"small",children:l.jsx(f,{id:"TilkjentYtelse.Feriepenger.Tittel"})}),Kd=({feriepengegrunnlag:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r,erPanelÅpent:t,togglePanel:i})=>{const{andeler:s}=e,a=!s||s.length<1,d=j.useMemo(()=>a?[]:b4(s),[s]);return a?null:l.jsx(Ke,{children:l.jsxs(Ke.Item,{open:t,children:[l.jsx(Ke.Header,{onClick:i,children:h4()}),l.jsx(Ke.Content,{children:d.map(g=>l.jsxs("div",{children:[l.jsx(A,{sixteenPx:!0},`spacer_${g}`),l.jsx(Ld,{alleAndeler:s,opptjeningsår:g,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r},`tabell_${g}`)]},`div_${g}`))})]})})};try{Kd.displayName="FeriepengerPanel",Kd.__docgenInfo={description:"",displayName:"FeriepengerPanel",props:{feriepengegrunnlag:{defaultValue:null,description:"",name:"feriepengegrunnlag",required:!0,type:{name:"Readonly<{ feriepengeperiodeFom: string; feriepengeperiodeTom: string; andeler: Readonly<{ aktivitetStatus: string; opptjeningsår: number; årsbeløp: number; erBrukerMottaker: boolean; ytelseperiodeFom?: string | undefined; ytelseperiodeTom?: string | undefined; arbeidsgiverId?: string | undefined; arbeidsforholdId?:..."}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},erPanelÅpent:{defaultValue:null,description:"",name:"erPanelÅpent",required:!0,type:{name:"boolean"}},togglePanel:{defaultValue:null,description:"",name:"togglePanel",required:!0,type:{name:"() => void"}}}}}catch{}const wd=({feriepengegrunnlag:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r})=>{const[t,i]=j.useState(!1);return l.jsx(Kd,{feriepengegrunnlag:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r,erPanelÅpent:t,togglePanel:()=>i(!t)})};try{wd.displayName="FeriepengerIndex",wd.__docgenInfo={description:"",displayName:"FeriepengerIndex",props:{feriepengegrunnlag:{defaultValue:null,description:"",name:"feriepengegrunnlag",required:!0,type:{name:"Readonly<{ feriepengeperiodeFom: string; feriepengeperiodeTom: string; andeler: Readonly<{ aktivitetStatus: string; opptjeningsår: number; årsbeløp: number; erBrukerMottaker: boolean; ytelseperiodeFom?: string | undefined; ytelseperiodeTom?: string | undefined; arbeidsgiverId?: string | undefined; arbeidsforholdId?:..."}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}}}}}catch{}const j4="_detailsPeriode_1r02x_1",I4="_margin_1r02x_9",A4="_fix_1r02x_13",is={detailsPeriode:j4,margin:I4,fix:A4},x4=e=>e?`...${e.substring(e.length-4,e.length)}`:"",y4=(e,n,r)=>{const t=r[e.arbeidsgiverReferanse];return!t||!t.navn?e.arbeidsforholdType?n(e.arbeidsforholdType,Yn.OPPTJENING_AKTIVITET_TYPE):"":t.erPrivatPerson?`${t.navn} (${t.fødselsdato})`:`${t.navn} (${t.identifikator})${x4(e.eksternArbeidsforholdId)}`},T4=(e=!1)=>e?["TilkjentYtelse.PeriodeData.Andel","TilkjentYtelse.PeriodeData.Utbetalingsgrad","TilkjentYtelse.PeriodeData.Refusjon","TilkjentYtelse.PeriodeData.TilSoker","TilkjentYtelse.PeriodeData.SisteUtbDato"]:["TilkjentYtelse.PeriodeData.Andel","TilkjentYtelse.PeriodeData.KontoType","TilkjentYtelse.PeriodeData.Gradering","TilkjentYtelse.PeriodeData.Utbetalingsgrad","TilkjentYtelse.PeriodeData.Refusjon","TilkjentYtelse.PeriodeData.TilSoker","TilkjentYtelse.PeriodeData.SisteUtbDato"],E4=(e,n,r)=>{switch(e.aktivitetStatus){case Qn.ARBEIDSTAKER:return y4(e,n,r);case Qn.FRILANSER:return l.jsx(f,{id:"TilkjentYtelse.PeriodeData.Frilans"});case Qn.SELVSTENDIG_NAERINGSDRIVENDE:return l.jsx(f,{id:"TilkjentYtelse.PeriodeData.SelvstendigNaeringsdrivende"});case Qn.DAGPENGER:return l.jsx(f,{id:"TilkjentYtelse.PeriodeData.Dagpenger"});case Qn.ARBEIDSAVKLARINGSPENGER:return l.jsx(f,{id:"TilkjentYtelse.PeriodeData.AAP"});case Qn.MILITAER_ELLER_SIVIL:return l.jsx(f,{id:"TilkjentYtelse.PeriodeData.Militaer"});case Qn.BRUKERS_ANDEL:return l.jsx(f,{id:"TilkjentYtelse.PeriodeData.BrukersAndel"});default:return""}},_4=e=>{if(e===void 0)return null;const n=e.uttak&&e.uttak.gradering===!0?"TilkjentYtelse.PeriodeData.Ja":"TilkjentYtelse.PeriodeData.Nei";return l.jsx(f,{id:n})},S4=({selectedItemData:e,callbackForward:n,callbackBackward:r,alleKodeverk:t,isSoknadSvangerskapspenger:i,arbeidsgiverOpplysningerPerId:s,lukkPeriode:a})=>{const d=ub(e.fom,e.tom),g=X(),m=wk(t),k=j.useCallback((...p)=>l.jsx("b",{children:p}),[]);return l.jsxs(eo,{border:!0,children:[l.jsxs(xe,{children:[l.jsxs(D,{spaceBetween:!0,children:[l.jsx(y,{children:l.jsx(G,{size:"small",children:l.jsx(f,{id:"TilkjentYtelse.PeriodeData.Detaljer"})})}),l.jsxs(y,{className:is.fix,children:[l.jsx(ne,{className:is.margin,size:"xsmall",icon:l.jsx(Qs,{"aria-hidden":!0}),onClick:r,variant:"secondary-neutral",type:"button",title:g.formatMessage({id:"Timeline.prevPeriod"}),children:l.jsx(f,{id:"Timeline.prevPeriodShort"})}),l.jsx(ne,{className:is.margin,size:"xsmall",icon:l.jsx(ea,{"aria-hidden":!0}),onClick:n,variant:"secondary-neutral",type:"button",title:g.formatMessage({id:"Timeline.nextPeriod"}),iconPosition:"right",children:l.jsx(f,{id:"Timeline.nextPeriodShort"})}),l.jsx(ne,{size:"xsmall",icon:l.jsx(Cn,{"aria-hidden":!0}),onClick:a,variant:"tertiary-neutral",type:"button",title:g.formatMessage({id:"Timeline.lukkPeriode"})})]})]}),l.jsx(A,{sixteenPx:!0}),l.jsxs("div",{className:is.detailsPeriode,children:[l.jsxs(D,{spaceBetween:!0,children:[l.jsx(y,{children:l.jsx(G,{size:"small",children:l.jsx(f,{id:"TilkjentYtelse.PeriodeData.Periode",values:{fomVerdi:x(e.fom).format(ee).toString(),tomVerdi:x(e.tom).format(ee).toString()}})})}),l.jsx(y,{children:l.jsx(_,{size:"small",children:d.formattedString})})]}),l.jsx(A,{eightPx:!0}),l.jsx(D,{children:l.jsx(y,{children:l.jsx(f,{id:"TilkjentYtelse.PeriodeData.Dagsats",values:{dagsatsVerdi:e.dagsats,b:k}})})})]})]}),l.jsx(A,{sixteenPx:!0}),e.andeler&&e.andeler.length!==0&&l.jsx(an,{headerTextCodes:T4(i),children:e.andeler.map((p,c)=>l.jsxs(Je,{children:[l.jsx(q,{children:E4(p,m,s)}),!i&&l.jsx(q,{children:l.jsx(_,{size:"small",children:Zb[p.uttak.stonadskontoType]})}),!i&&l.jsx(q,{children:l.jsx(_,{size:"small",children:_4(p)})}),l.jsx(q,{children:l.jsx(_,{size:"small",children:p.utbetalingsgrad?p.utbetalingsgrad:""})}),l.jsx(q,{children:l.jsx(_,{size:"small",children:p.aktivitetStatus===Qn.ARBEIDSTAKER&&p.refusjon?p.refusjon:""})}),l.jsx(q,{children:l.jsx(_,{size:"small",children:p.tilSoker?p.tilSoker:""})}),l.jsx(q,{children:l.jsx(_,{size:"small",children:p.sisteUtbetalingsdato?x(p.sisteUtbetalingsdato).format(ee):""})})]},`index${c+1}`))})]})};try{TilkjentYtelseTimelineData.displayName="TilkjentYtelseTimelineData",TilkjentYtelseTimelineData.__docgenInfo={description:`TimeLineData

Viser opp data fra valgt periode i tilkjent ytelse-tidslinjen`,displayName:"TilkjentYtelseTimelineData",props:{selectedItemData:{defaultValue:null,description:"",name:"selectedItemData",required:!0,type:{name:"Readonly<{ fom: string; tom: string; dagsats: number; andeler?: Readonly<{ arbeidsgiverReferanse: string; refusjon: number; tilSoker: number; uttak: { stonadskontoType: string; gradering: boolean; }; utbetalingsgrad: number; sisteUtbetalingsdato: string; aktivitetStatus: string; eksternArbeidsforholdId: string; arbe..."}},callbackForward:{defaultValue:null,description:"",name:"callbackForward",required:!0,type:{name:"(...args: any[]) => any"}},callbackBackward:{defaultValue:null,description:"",name:"callbackBackward",required:!0,type:{name:"(...args: any[]) => any"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},isSoknadSvangerskapspenger:{defaultValue:null,description:"",name:"isSoknadSvangerskapspenger",required:!0,type:{name:"boolean"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},lukkPeriode:{defaultValue:null,description:"",name:"lukkPeriode",required:!0,type:{name:"() => void"}}}}}catch{}const R4="_space_ckypy_1",N4="_margin_ckypy_5",F4="_readOnlyBlokk_ckypy_9",zr={space:R4,margin:N4,readOnlyBlokk:F4},P4=e=>(e.andeler||[]).filter(r=>r.uttak&&r.uttak.gradering===!0).length>0,B4=e=>{const n=e.gjeldende||e.oppgitt;return n.soknadType===Db.FODSEL?n.avklartBarn&&n.avklartBarn.length>0?{dato:n.avklartBarn[0].fodselsdato,textId:"TilkjentYtelse.Fodselsdato"}:{dato:n.termindato,textId:"TilkjentYtelse.Termindato"}:n.omsorgsovertakelseDato?{dato:n.omsorgsovertakelseDato,textId:"TilkjentYtelse.Omsorgsovertakelsesdato"}:{dato:n.adopsjonFodelsedatoer?n.adopsjonFodelsedatoer[0]:void 0,textId:"TilkjentYtelse.Fodselsdato"}},O4=(e=[])=>e.filter(n=>n.andeler&&n.andeler[0]&&n.dagsats).map((n,r)=>({erGradert:P4(n),start:x(n.fom).toDate(),end:x(n.tom).add(1,"days").toDate(),id:r,periode:n})),V4=(e,n)=>{var t;return((t=n[Yn.RELASJONSROLLE_TYPE].find(i=>i.kode===e.relasjonsRolleType))==null?void 0:t.navn)||""},$4=(e,n)=>{const r=x(e);return r.isBefore(n)?n.subtract(5,"days"):r},Ud=({beregningsresultatPeriode:e,soknadDate:n,familieHendelseSamling:r,hovedsokerKjonnKode:t,alleKodeverk:i,arbeidsgiverOpplysningerPerId:s,fagsak:a})=>{const d=X(),[g,m]=j.useState(),k=j.useMemo(()=>O4(e),[e]),p=j.useCallback(()=>{m(null)},[]),c=j.useCallback(()=>{const C=k.findIndex(B=>B.id===(g==null?void 0:g.id))+1;C<k.length&&m(k[C])},[k,g,m]),b=j.useCallback(()=>{const C=k.findIndex(B=>B.id===(g==null?void 0:g.id))-1;C>=0&&m(k[C])},[k,g,m]),I=j.useCallback(C=>{m(k.find(B=>B.id===C))},[m,k]),T=x(k[0].start),R=x(k[k.length-1].end),[S,N]=j.useState(T),[E,O]=j.useState(R),$=()=>{S.subtract(1,"month").isBefore(T)||(N(S.subtract(1,"month")),O(E.subtract(1,"month")))},V=()=>{E.add(1,"month").isAfter(R)||(N(S.add(1,"month")),O(E.add(1,"month")))},L=()=>{S.add(3,"month").isAfter(E)||(N(S.add(1,"month")),O(E.subtract(1,"month")))},Z=()=>{E.add(1,"month").diff(S.subtract(1,"month"),"months")<36&&(N(S.subtract(1,"month")),O(E.add(1,"month")))},J=j.useMemo(()=>B4(r),[r]);return l.jsxs(l.Fragment,{children:[l.jsxs(Ue,{startDate:S.toDate(),endDate:E.add(1,"days").toDate(),children:[l.jsxs(Ue.Pin,{date:x(n).toDate(),children:[l.jsx(_,{children:l.jsx(f,{id:"TilkjentYtelse.Soknadsdato"})}),l.jsx(_,{children:l.jsx(Re,{dateString:n})})]}),J.dato&&l.jsxs(Ue.Pin,{date:$4(J.dato,S).toDate(),children:[l.jsx(_,{children:l.jsx(f,{id:J.textId})}),l.jsx(_,{children:l.jsx(Re,{dateString:J.dato})})]}),l.jsx(Ue.Row,{label:V4(a,i),icon:t===xb.KVINNE?l.jsx(yb,{width:20,height:20,color:"var(--a-red-200)"}):l.jsx(zb,{width:20,height:20,color:"var(--a-blue-600)"}),children:k.map(C=>l.jsx(Ue.Period,{start:C.start,end:C.end,status:"success",onSelectPeriod:()=>I(C.id),isActive:(g==null?void 0:g.id)===C.id,icon:C.erGradert?l.jsx(ph,{"aria-hidden":!0}):l.jsx(Hd,{"aria-hidden":!0}),title:C.erGradert?d.formatMessage({id:"TilkjentYtelse.GradertPeriode"}):""},C.id))})]}),l.jsx(A,{twentyPx:!0}),l.jsxs(nt,{children:[l.jsx(ne,{className:zr.margin,size:"small",icon:l.jsx(qb,{"aria-hidden":!0}),onClick:L,variant:"primary-neutral",type:"button",title:d.formatMessage({id:"TilkjentYtelse.ZoomInn"})}),l.jsx(ne,{className:zr.margin,size:"small",icon:l.jsx(Hb,{"aria-hidden":!0}),onClick:Z,variant:"primary-neutral",type:"button",title:d.formatMessage({id:"TilkjentYtelse.ZoomUt"})}),l.jsx(ne,{className:zr.margin,size:"small",icon:l.jsx(Qs,{"aria-hidden":!0}),onClick:$,variant:"primary-neutral",type:"button",title:d.formatMessage({id:"TilkjentYtelse.ScrollTilVenstre"})}),l.jsx(ne,{className:zr.margin,size:"small",icon:l.jsx(ea,{"aria-hidden":!0}),onClick:V,variant:"primary-neutral",type:"button",title:d.formatMessage({id:"TilkjentYtelse.ScrollTilHogre"})})]}),l.jsx("div",{className:zr.space}),g&&l.jsxs(l.Fragment,{children:[l.jsx(A,{eightPx:!0}),l.jsx(S4,{alleKodeverk:i,selectedItemData:g.periode,callbackForward:c,callbackBackward:b,isSoknadSvangerskapspenger:a.fagsakYtelseType===Tb.SVANGERSKAPSPENGER,arbeidsgiverOpplysningerPerId:s,lukkPeriode:p})]})]})};try{Ud.displayName="TilkjentYtelse",Ud.__docgenInfo={description:`TilkjentYtelse

Masserer data og populerer felten samt formatterar tidslinjen for tilkjent ytelse`,displayName:"TilkjentYtelse",props:{beregningsresultatPeriode:{defaultValue:null,description:"",name:"beregningsresultatPeriode",required:!1,type:{name:"Readonly<{ fom: string; tom: string; dagsats: number; andeler?: Readonly<{ arbeidsgiverReferanse: string; refusjon: number; tilSoker: number; uttak: { stonadskontoType: string; gradering: boolean; }; utbetalingsgrad: number; sisteUtbetalingsdato: string; aktivitetStatus: string; eksternArbeidsforholdId: string; arbe..."}},soknadDate:{defaultValue:null,description:"",name:"soknadDate",required:!0,type:{name:"string"}},familieHendelseSamling:{defaultValue:null,description:"",name:"familieHendelseSamling",required:!0,type:{name:"Readonly<{ oppgitt: Readonly<{ skjaringstidspunkt: string; avklartBarn?: Readonly<{ fodselsdato: string; dodsdato?: string | undefined; }>[] | undefined; brukAntallBarnFraTps?: boolean | undefined; ... 15 more ...; foreldreansvarDato?: string | undefined; }>; gjeldende: Readonly<...>; register: Readonly<...>; }>"}},hovedsokerKjonnKode:{defaultValue:null,description:"",name:"hovedsokerKjonnKode",required:!1,type:{name:"enum",value:[{value:'"K"'},{value:'"M"'},{value:'"-"'}]}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}}}}}catch{}const D4=e=>{var n;return e?(n=e.find(r=>r.definisjon===se.VURDER_TILBAKETREKK))==null?void 0:n.begrunnelse:void 0},Cd=({beregningresultat:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r,feriepengegrunnlag:t,familieHendelseSamling:i,personoversikt:s,soknad:a,aksjonspunkter:d,fagsak:g})=>{var p,c;const m=j.useMemo(()=>D4(d),[d]),k=(p=a.søknadsfrist)!=null&&p.mottattDato?(c=a.søknadsfrist)==null?void 0:c.mottattDato:a.mottattDato;return l.jsxs(l.Fragment,{children:[l.jsx(te,{size:"small",children:l.jsx(f,{id:"TilkjentYtelse.Title"})}),l.jsx(A,{thirtyTwoPx:!0}),e&&l.jsx(Ud,{beregningsresultatPeriode:e.perioder,soknadDate:k,familieHendelseSamling:i,hovedsokerKjonnKode:s!=null&&s.bruker?s.bruker.kjønn:void 0,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r,fagsak:g}),t&&l.jsxs(l.Fragment,{children:[l.jsx(A,{thirtyTwoPx:!0}),l.jsx(wd,{feriepengegrunnlag:t,arbeidsgiverOpplysningerPerId:r,alleKodeverk:n}),l.jsx(A,{thirtyTwoPx:!0})]}),m&&l.jsxs(l.Fragment,{children:[l.jsx(G,{children:l.jsx(f,{id:"TilkjentYtelse.VurderTilbaketrekk.Beskrivelse"})}),l.jsx(A,{sixteenPx:!0}),l.jsxs(_,{className:zr.readOnlyBlokk,children:[m," ",l.jsx(ft,{})]})]})]})};try{Cd.displayName="TilkjentYtelsePanel",Cd.__docgenInfo={description:"",displayName:"TilkjentYtelsePanel",props:{beregningresultat:{defaultValue:null,description:"",name:"beregningresultat",required:!0,type:{name:"Readonly<{ opphoersdato?: string | undefined; perioder?: Readonly<{ fom: string; tom: string; dagsats: number; andeler?: Readonly<{ arbeidsgiverReferanse: string; refusjon: number; tilSoker: number; uttak: { stonadskontoType: string; gradering: boolean; }; ... 4 more ...; arbeidsforholdType: string; }>[] | undefined..."}},familieHendelseSamling:{defaultValue:null,description:"",name:"familieHendelseSamling",required:!0,type:{name:"Readonly<{ oppgitt: Readonly<{ skjaringstidspunkt: string; avklartBarn?: Readonly<{ fodselsdato: string; dodsdato?: string | undefined; }>[] | undefined; brukAntallBarnFraTps?: boolean | undefined; ... 15 more ...; foreldreansvarDato?: string | undefined; }>; gjeldende: Readonly<...>; register: Readonly<...>; }>"}},personoversikt:{defaultValue:null,description:"",name:"personoversikt",required:!0,type:{name:"Readonly<{ bruker: Readonly<{ navn: string; aktoerId: string; kjønn: string; sivilstand: string; dødsdato?: string | undefined; fødselsdato: string; adresser: Readonly<{ adresseType?: string | undefined; adresselinje1?: string | undefined; ... 4 more ...; land?: string | undefined; }>[]; }>; annenPart?: Readonly<......"}},soknad:{defaultValue:null,description:"",name:"soknad",required:!0,type:{name:"Readonly<{ soknadType: string; mottattDato: string; begrunnelseForSenInnsending: string | undefined; antallBarn: number; oppgittTilknytning: { oppholdNorgeNa: boolean; oppholdSistePeriode: boolean; oppholdNestePeriode: boolean; utlandsoppholdFor: Readonly<...>[]; utlandsoppholdEtter: Readonly<...>[]; }; ... 9 more ...."}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},feriepengegrunnlag:{defaultValue:null,description:"",name:"feriepengegrunnlag",required:!1,type:{name:"Readonly<{ feriepengeperiodeFom: string; feriepengeperiodeTom: string; andeler: Readonly<{ aktivitetStatus: string; opptjeningsår: number; årsbeløp: number; erBrukerMottaker: boolean; ytelseperiodeFom?: string; ytelseperiodeTom?: string; arbeidsgiverId?: string | undefined; arbeidsforholdId?:..."}},fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}}}}}catch{}const G4={"TilkjentYtelse.Title":"Tilkjent ytelse","TilkjentYtelse.VurderTilbaketrekk.Beskrivelse":"Saksbehandler har vurdert om ytelsen skal endres fra direkte utbetaling til refusjon til arbeidsgiver, og tilbakekreves fra bruker, eller om det er en sak mellom arbeidstaker og arbeidsgiver.","TilkjentYtelse.Stonadinfo.Stonadsdager":"Stønadsdager","TilkjentYtelse.PeriodeData.Detaljer":"Detaljer for valgt periode","TilkjentYtelse.PeriodeData.UkerDager":"{weeks} uker {days} dager","TilkjentYtelse.PeriodeData.Godkjent":"Godkjent","TilkjentYtelse.PeriodeData.Dagsats":"Utbetalt dagsats: <b>{dagsatsVerdi}</b>","TilkjentYtelse.PeriodeData.Andel":"Andel","TilkjentYtelse.PeriodeData.KontoType":"Stønadskonto","TilkjentYtelse.PeriodeData.Gradering":"Gradering","TilkjentYtelse.PeriodeData.Utbetalingsgrad":"Utb.grad","TilkjentYtelse.PeriodeData.Refusjon":"Utbetalt refusjon","TilkjentYtelse.PeriodeData.TilSoker":"Utbetalt til søker","TilkjentYtelse.PeriodeData.SisteUtbDato":"Siste innvilgede utb.dato","TilkjentYtelse.PeriodeData.Periode":"{fomVerdi} - {tomVerdi}","TilkjentYtelse.PeriodeData.Ja":"Ja","TilkjentYtelse.PeriodeData.Nei":"Nei","TilkjentYtelse.PeriodeData.SelvstendigNaeringsdrivende":"Selvstendig næringsdrivende","TilkjentYtelse.PeriodeData.Frilans":"Frilanser","TilkjentYtelse.PeriodeData.Militaer":"Militær","TilkjentYtelse.PeriodeData.Dagpenger":"Dagpenger","TilkjentYtelse.PeriodeData.AAP":"Arbeidsavklaringspenger","TilkjentYtelse.PeriodeData.BrukersAndel":"Brukers andel","TilkjentYtelse.Feriepenger.Tittel":"Feriepengegrunnlag","TilkjentYtelse.Feriepenger.Opptjeningsår":"Opptjent i {år}","TilkjentYtelse.Feriepenger.AndelNavn":"Andel","TilkjentYtelse.Feriepenger.GrunnlagSøker":"Beløp til søker","TilkjentYtelse.Feriepenger.GrunnlagRefusjon":"Beløp til arbeidsgiver","TilkjentYtelse.Soknadsdato":"Søknadsdato","TilkjentYtelse.Fodselsdato":"Fødselsdato","TilkjentYtelse.Termindato":"Termindato","TilkjentYtelse.GradertPeriode":"Gradert periode","TilkjentYtelse.ZoomInn":"Zoom inn","TilkjentYtelse.ZoomUt":"Zoom ut","TilkjentYtelse.ScrollTilVenstre":"Scroll til venstre","TilkjentYtelse.ScrollTilHogre":"Scroll til høyre","TilkjentYtelse.Omsorgsovertakelsesdato":"Omsorgsovertakelsesdato","Timeline.lukkPeriode":"Lukk periode","Malform.Beskrivelse":"Foretrukket språk","Timeline.closeData":"Lukke info om periode","Timeline.nextPeriod":"Neste periode","Timeline.nextPeriodShort":"Neste","Timeline.prevPeriod":"Forrige periode","Timeline.prevPeriodShort":"Forrige","Timeline.tooltip.dagsats":"Dagsats: {dagsats}kr","Timeline.tooltip.start":"Start","Timeline.tooltip.slutt":"Slutt","Timeline.tooltip.periodetype":"Periodetype","Timeline.tooltip.utsettelsePeriode":"Utsettelse","Timeline.TidspunktFamiliehendelse":"Tidspunkt for familiehendelse","Timeline.OppfyltPeriode":"Oppfylt periode","Timeline.IkkeOppfyltPeriode":"Ikke oppfylt periode","Timeline.TidspunktMotakSoknad":"Tidspunkt for mottatt søknad","Timeline.BelopTilbakereves":"Beløp tilbakekreves","Timeline.IngenTilbakekreving":"Ingen tilbakekreving","Timeline.IkkeAvklartPeriode":"Uavklart periode","Timeline.TidspunktRevurdering":"Startpunkt for revurdering","Timeline.GradertPeriode":"Gradert periode","Timeline.ManueltAvklart":"Manuelt avklart periode"},M4=Oe(G4),Fk=({beregningresultat:e,familiehendelse:n,personoversikt:r,soknad:t,fagsak:i,aksjonspunkter:s,alleKodeverk:a,arbeidsgiverOpplysningerPerId:d,feriepengegrunnlag:g})=>l.jsx(Ye,{value:M4,children:l.jsx(Cd,{beregningresultat:e,familieHendelseSamling:n,personoversikt:r,soknad:t,fagsak:i,aksjonspunkter:s,alleKodeverk:a,arbeidsgiverOpplysningerPerId:d,feriepengegrunnlag:g})});try{Fk.displayName="TilkjentYtelseProsessIndex",Fk.__docgenInfo={description:"",displayName:"TilkjentYtelseProsessIndex",props:{beregningresultat:{defaultValue:null,description:"",name:"beregningresultat",required:!0,type:{name:"Readonly<{ opphoersdato?: string | undefined; perioder?: Readonly<{ fom: string; tom: string; dagsats: number; andeler?: Readonly<{ arbeidsgiverReferanse: string; refusjon: number; tilSoker: number; uttak: { stonadskontoType: string; gradering: boolean; }; ... 4 more ...; arbeidsforholdType: string; }>[] | undefined..."}},familiehendelse:{defaultValue:null,description:"",name:"familiehendelse",required:!0,type:{name:"Readonly<{ oppgitt: Readonly<{ skjaringstidspunkt: string; avklartBarn?: Readonly<{ fodselsdato: string; dodsdato?: string | undefined; }>[] | undefined; brukAntallBarnFraTps?: boolean | undefined; ... 15 more ...; foreldreansvarDato?: string | undefined; }>; gjeldende: Readonly<...>; register: Readonly<...>; }>"}},personoversikt:{defaultValue:null,description:"",name:"personoversikt",required:!0,type:{name:"Readonly<{ bruker: Readonly<{ navn: string; aktoerId: string; kjønn: string; sivilstand: string; dødsdato?: string | undefined; fødselsdato: string; adresser: Readonly<{ adresseType?: string | undefined; adresselinje1?: string | undefined; ... 4 more ...; land?: string | undefined; }>[]; }>; annenPart?: Readonly<......"}},soknad:{defaultValue:null,description:"",name:"soknad",required:!0,type:{name:"Readonly<{ soknadType: string; mottattDato: string; begrunnelseForSenInnsending: string | undefined; antallBarn: number; oppgittTilknytning: { oppholdNorgeNa: boolean; oppholdSistePeriode: boolean; oppholdNestePeriode: boolean; utlandsoppholdFor: Readonly<...>[]; utlandsoppholdEtter: Readonly<...>[]; }; ... 9 more ...."}},fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},feriepengegrunnlag:{defaultValue:null,description:"",name:"feriepengegrunnlag",required:!1,type:{name:"Readonly<{ feriepengeperiodeFom: string; feriepengeperiodeTom: string; andeler: Readonly<{ aktivitetStatus: string; opptjeningsår: number; årsbeløp: number; erBrukerMottaker: boolean; ytelseperiodeFom?: string; ytelseperiodeTom?: string; arbeidsgiverId?: string | undefined; arbeidsforholdId?:..."}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},vilkar:{defaultValue:null,description:"",name:"vilkar",required:!0,type:{name:"Readonly<{ vilkarType: string; vilkarStatus: string; avslagKode?: string | undefined; lovReferanse?: string | undefined; overstyrbar: boolean; }>[]"}},isAksjonspunktOpen:{defaultValue:null,description:"",name:"isAksjonspunktOpen",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const L4="_panel_d5cml_1",K4="_hyphen_d5cml_9",w4="_marginTop_d5cml_19",U4="_marginBottom_d5cml_23",C4="_colWidth_d5cml_27",Xn={panel:L4,hyphen:K4,marginTop:w4,marginBottom:U4,colWidth:C4},Y4=(e,n)=>e&&n!==void 0,z4=(e,n,r)=>{const t=r==null?void 0:r.mottattDato;return{gyldigSenFremsetting:e[0].status===ta.OPPRETTET?void 0:t!==n,ansesMottatt:t,...pt.buildInitialValues(e)}},q4=e=>({harGyldigGrunn:e.gyldigSenFremsetting,ansesMottattDato:e.ansesMottatt,kode:se.VURDER_SOKNADSFRIST_FORELDREPENGER,...pt.transformValues(e)}),Yd=({aksjonspunkter:e,readOnly:n,readOnlySubmitButton:r,mottattDato:t,søknadsfrist:i,isApOpen:s,submitCallback:a,formData:d,setFormData:g})=>{const m=j.useMemo(()=>z4(e,t,i),[e,t,i]),k=qe({defaultValues:d||m}),p=k.watch("gyldigSenFremsetting"),c=i==null?void 0:i.søknadsperiodeStart,b=i==null?void 0:i.søknadsperiodeSlutt,I=i==null?void 0:i.utledetSøknadsfrist;return l.jsxs(He,{formMethods:k,onSubmit:T=>a(q4(T)),setDataOnUnmount:g,children:[l.jsx(te,{size:"small",children:l.jsx(f,{id:"VurderSoknadsfristForeldrepengerForm.Soknadsfrist"})}),l.jsx(A,{twentyPx:!0}),l.jsx(ra,{isAksjonspunktOpen:s,children:[l.jsx(f,{id:"VurderSoknadsfristForeldrepengerForm.AksjonspunktHelpText",values:{numberOfDays:i==null?void 0:i.dagerOversittetFrist,soknadsfristdato:I?qr(I).format(ee):""}},"VurderSoknadsfristForeldrepengerForm")]}),l.jsx(A,{twentyPx:!0}),l.jsx(xe,{children:l.jsxs(D,{children:[l.jsx(y,{className:Xn.colWidth,children:l.jsxs(eo,{className:Xn.panel,children:[l.jsx(G,{size:"small",children:l.jsx(f,{id:"VurderSoknadsfristForeldrepengerForm.Vurder"})}),l.jsxs("ul",{className:Xn.hyphen,children:[l.jsx("li",{children:l.jsx(f,{id:"VurderSoknadsfristForeldrepengerForm.Punkt1"})}),l.jsx("li",{children:l.jsx(f,{id:"VurderSoknadsfristForeldrepengerForm.Punkt2"})}),l.jsx("li",{children:l.jsx(f,{id:"VurderSoknadsfristForeldrepengerForm.Punkt3"})})]})]})}),l.jsx(y,{className:Xn.colWidth,children:l.jsx(xe,{children:l.jsxs(D,{className:Xn.marginBottom,children:[l.jsxs(y,{className:Xn.colWidth,children:[l.jsx(le,{children:l.jsx(f,{id:"VurderSoknadsfristForeldrepengerForm.SoknadMottatt"})}),t&&l.jsx(_,{size:"small",children:qr(t).format(ee)})]}),c&&b&&l.jsxs(y,{className:Xn.colWidth,children:[l.jsx(le,{children:l.jsx(f,{id:"VurderSoknadsfristForeldrepengerForm.SoknadPeriode"})}),l.jsx(_,{size:"small",children:`${qr(c).format(ee)} - ${qr(b).format(ee)}`})]})]})})})]})}),l.jsxs("div",{className:Xn.marginTop,children:[l.jsx(pt,{readOnly:n}),l.jsx(A,{sixteenPx:!0}),l.jsx(ue,{name:"gyldigSenFremsetting",validate:[H],isReadOnly:n,isHorizontal:!0,isEdited:Y4(e.length>0,p),isTrueOrFalseSelection:!0,radios:[{value:"true",label:l.jsx(f,{id:"VurderSoknadsfristForeldrepengerForm.GyldigGrunn"})},{value:"false",label:l.jsx(f,{id:"VurderSoknadsfristForeldrepengerForm.IkkeGyldigGrunn"})}]}),p&&l.jsxs(l.Fragment,{children:[l.jsx(A,{sixteenPx:!0}),l.jsx(Qd,{children:l.jsx(tr,{name:"ansesMottatt",isReadOnly:n,label:l.jsx(f,{id:"VurderSoknadsfristForeldrepengerForm.NyMottattDato"}),validate:[H,xn,Eb]})})]}),l.jsx(A,{twentyPx:!0}),l.jsx(Vb,{isReadOnly:n,isSubmittable:!r,isSubmitting:k.formState.isSubmitting,isDirty:k.formState.isDirty})]})]})};try{Yd.displayName="VurderSoknadsfristForeldrepengerForm",Yd.__docgenInfo={description:`VurderSoknadsfristForeldrepengerForm

Setter opp aksjonspunktet for vurdering av søknadsfristvilkåret.`,displayName:"VurderSoknadsfristForeldrepengerForm",props:{mottattDato:{defaultValue:null,description:"",name:"mottattDato",required:!0,type:{name:"string"}},søknadsfrist:{defaultValue:null,description:"",name:"søknadsfrist",required:!1,type:{name:"Readonly<{ mottattDato?: string; utledetSøknadsfrist?: string; søknadsperiodeStart?: string | undefined; søknadsperiodeSlutt?: string | undefined; dagerOversittetFrist?: number | undefined; }> | undefined"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(data: VurderSoknadsfristAp) => Promise<void>"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},isApOpen:{defaultValue:null,description:"",name:"isApOpen",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"FormValues"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: FormValues) => void"}}}}}catch{}const H4={"VurderSoknadsfristForeldrepengerForm.Soknadsfrist":"Søknadsfrist","VurderSoknadsfristForeldrepengerForm.AksjonspunktHelpText":"Søknad ble mottatt {numberOfDays} dager etter søknadsfrist ({soknadsfristdato})","VurderSoknadsfristForeldrepengerForm.SoknadMottatt":"Søknad mottatt dato","VurderSoknadsfristForeldrepengerForm.SoknadPeriode":"Søknadsperiode","VurderSoknadsfristForeldrepengerForm.Begrunnelse":"Begrunnelse fra søknaden","VurderSoknadsfristForeldrepengerForm.Vurder":"Vurder følgende","VurderSoknadsfristForeldrepengerForm.Punkt1":"Har det vært fristavbrytende kontakt?","VurderSoknadsfristForeldrepengerForm.Punkt2":"Har NAV gitt misvisende opplysninger?","VurderSoknadsfristForeldrepengerForm.Punkt3":"Har søker åpenbart ikke vært i stand til å sette frem krav?","VurderSoknadsfristForeldrepengerForm.GyldigGrunn":"Gyldig grunn for sen fremsetting av søknaden","VurderSoknadsfristForeldrepengerForm.IkkeGyldigGrunn":"Ingen gyldig grunn for sen fremsetting av søknaden","VurderSoknadsfristForeldrepengerForm.NyMottattDato":"Dato for når søknaden kan anses som mottatt"},J4=Oe(H4),zd=({soknad:e,aksjonspunkter:n,submitCallback:r,isReadOnly:t,readOnlySubmitButton:i,isAksjonspunktOpen:s,formData:a,setFormData:d})=>l.jsx(Ye,{value:J4,children:l.jsx(Yd,{mottattDato:e.mottattDato,søknadsfrist:e.søknadsfrist,aksjonspunkter:n,submitCallback:r,readOnly:t,readOnlySubmitButton:i,isApOpen:s,formData:a,setFormData:d})});try{zd.displayName="VurderSoknadsfristForeldrepengerIndex",zd.__docgenInfo={description:"",displayName:"VurderSoknadsfristForeldrepengerIndex",props:{soknad:{defaultValue:null,description:"",name:"soknad",required:!0,type:{name:"Readonly<{ soknadType: string; mottattDato: string; begrunnelseForSenInnsending: string | undefined; antallBarn: number; oppgittTilknytning: { oppholdNorgeNa: boolean; oppholdSistePeriode: boolean; oppholdNestePeriode: boolean; utlandsoppholdFor: Readonly<...>[]; utlandsoppholdEtter: Readonly<...>[]; }; ... 9 more ...."}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},vilkar:{defaultValue:null,description:"",name:"vilkar",required:!0,type:{name:"Readonly<{ vilkarType: string; vilkarStatus: string; avslagKode?: string | undefined; lovReferanse?: string | undefined; overstyrbar: boolean; }>[]"}},isAksjonspunktOpen:{defaultValue:null,description:"",name:"isAksjonspunktOpen",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const Z4=[se.VURDER_SOKNADSFRIST_FORELDREPENGER],W4=[we.SOKNAD],Pk=e=>l.jsx(to,{...e,panelEndepunkter:W4,aksjonspunktKoder:Z4,prosessPanelKode:Jd.SOEKNADSFRIST,prosessPanelMenyTekst:X().formatMessage({id:"Behandlingspunkt.Soknadsfristvilkaret"}),skalPanelVisesIMeny:n=>zk(n.aksjonspunkter),renderPanel:n=>l.jsx(zd,{...n})});try{Pk.displayName="SoknadsfristProsessStegInitPanel",Pk.__docgenInfo={description:"",displayName:"SoknadsfristProsessStegInitPanel",props:{behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}export{Sg as A,Zm as B,sh as D,Cg as F,ek as O,bh as P,Pk as S,Fk as T,Tg as a,zg as b,Xm as c,Nk as d,rk as e,ph as f};
//# sourceMappingURL=SoknadsfristProsessStegInitPanel-b100b76b.js.map
