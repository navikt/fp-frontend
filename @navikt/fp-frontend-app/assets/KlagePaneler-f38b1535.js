import{t as ie,P as de,b as F,R as _e,v as b,w as m,G as K,_ as V,$ as h,a as Ge,B as Ee,o as Y,s as H,D as A,j as _,I as He,q as Ue,x as xe,y as je}from"./index.es-916dda9a.js";import{R as oe,r as j}from"./index-6d8bab86.js";import{I as Ce,b as Ve,Y as J,x as G,H as qe,W as q}from"./index.es-bf42e136.js";import{$ as E,n as he,F as Pe,l as $,O as ee,r as y,w as O,t as S,ar as ke,ag as ge,as as Fe,a9 as U,a2 as T,at as f,au as R,P as we,Z as ze,aa as L,a1 as ae,av as $e,a3 as Ye,ab as me}from"./AppIndex.stories-1240f681.js";import{J as Ae,n as ye,p as Je}from"./index.es-f281ec86.js";import{P as Z,u as Se}from"./ProsessDefaultInitPanel-0a6ba487.js";import{e as Te}from"./index.es-4cf1df75.js";import{K as We}from"./KlageBehandlingModal-e232f970.js";import{F as Ze}from"./FatterVedtakStatusModal-5d3d73a1.js";import{V as Xe}from"./VergeFaktaInitPanel-1d72155e.js";import{B as Qe}from"./BehandlingContainer-4c3b65e8.js";import"./index.es-672d9717.js";import"./extends-98964cd2.js";import"./iframe-52141180.js";import"../sb-preview/runtime.js";import"./SettPaVentReadOnlyModal-b7470305.js";import"./nb_NO-e803aba2.js";import"./BehandlingHenlagtPanel-ef54734d.js";var Oe={exports:{}},I={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pe;function ea(){if(pe)return I;pe=1;var e=oe,a=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function k(d,i,p){var g,u={},c=null,x=null;p!==void 0&&(c=""+p),i.key!==void 0&&(c=""+i.key),i.ref!==void 0&&(x=i.ref);for(g in i)n.call(i,g)&&!o.hasOwnProperty(g)&&(u[g]=i[g]);if(d&&d.defaultProps)for(g in i=d.defaultProps,i)u[g]===void 0&&(u[g]=i[g]);return{$$typeof:a,type:d,key:c,ref:x,props:u,_owner:l.current}}return I.Fragment=t,I.jsx=k,I.jsxs=k,I}Oe.exports=ea();var r=Oe.exports;const aa={"Klage.LovhjemmelNFP":"Fvl §§ 28, 31, 32, 33 og ftrl § 21-12","Klage.LovhjemmelKA":"Fvl §§  28, 31, 32, 34 og ftrl § 21-12","Klage.Formkrav.VelgVedtak":"Vedtaket som er påklagd","Klage.Formkrav.Title":"Vurder formkrav","Klage.Formkrav.HelpText":"Vurder om klagen oppfyller formkravene","Klage.Formkrav.IkkePåklagdVedtak":"Ikke påklagd et vedtak","Klage.Formkrav.ErKlagerPart":"Er klager part i saken?","Klage.Formkrav.ErKonkret":"Klages det på konkrete elementer i vedtaket?","Klage.Formkrav.ErFristOverholdt":"Er klagefristen overholdt?","Klage.Formkrav.ErSignert":"Er klagen signert?","Klage.Formkrav.KabalText":"Fortsett klagebehandlingen i KABAL: Kryss av, velg hjemmel og trykk send","Klage.Formkrav.SeKabalText":"Klagen behandles i KABAL","Klage.Formkrav.SendTilKabal":"Send til KABAL","Klage.Formkrav.Hjemmel":"Hjemmel","Klage.Formkrav.Ja":"Ja","Klage.Formkrav.Nei":"Nei","Klage.Formkrav.Vurdering":"Vurdering","Malform.Beskrivelse":"Foretrukket språk"},ra="_confirmVilkarForm_68qsj_1",la="_selectBredde_68qsj_4",ta="_col_68qsj_7",w={confirmVilkarForm:ra,selectBredde:la,col:ta},ue="ikkePaklagdVedtak",sa=e=>e.paKlagdBehandlingUuid?`${e.paKlagdBehandlingUuid}`:ue,na=(e,a,t)=>[r.jsx("option",{value:ue,children:a.formatMessage({id:"Klage.Formkrav.IkkePåklagdVedtak"})},"formkrav")].concat([...e].sort((n,l)=>$(n.avsluttet).diff($(l.avsluttet))).map(n=>r.jsx("option",{value:`${n.uuid}`,children:`${t(n.type,S.BEHANDLING_TYPE)} ${$(n.avsluttet).format(_e)}`},n.uuid))),ia=e=>e===E.VURDERING_AV_FORMKRAV_KLAGE_NFP?"Klage.LovhjemmelNFP":"Klage.LovhjemmelKA",da=({readOnly:e,readOnlySubmitButton:a,aksjonspunktCode:t,avsluttedeBehandlinger:n,alleKodeverk:l,isSubmitting:o,isDirty:k})=>{const d=F(),i=ge(l),p=na(n,d,i);return r.jsxs(r.Fragment,{children:[r.jsx(b,{size:"small",children:d.formatMessage({id:"Klage.Formkrav.Title"})}),r.jsx(K,{fourPx:!0}),r.jsx(Ge,{size:"small",children:d.formatMessage({id:ia(t)})}),r.jsx(K,{fourPx:!0}),r.jsx(Ee,{isAksjonspunktOpen:!a,children:[r.jsx(m,{id:"Klage.Formkrav.HelpText"},t)]}),r.jsx(K,{sixteenPx:!0}),r.jsx(Y,{children:r.jsxs(H,{children:[r.jsx(A,{className:w.col,children:r.jsx(Ae,{readOnly:e})}),r.jsxs(A,{className:w.col,children:[r.jsx(ee,{readOnly:e,validate:[y],name:"vedtak",label:d.formatMessage({id:"Klage.Formkrav.VelgVedtak"}),selectValues:p,className:w.selectBredde}),r.jsx(K,{sixteenPx:!0}),r.jsx(Y,{children:r.jsxs(H,{children:[r.jsx(A,{children:r.jsx(O,{name:"erKlagerPart",label:d.formatMessage({id:"Klage.Formkrav.ErKlagerPart"}),validate:[y],isReadOnly:e,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:d.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:d.formatMessage({id:"Klage.Formkrav.Nei"})}]})}),r.jsx(K,{sixteenPx:!0}),r.jsx(A,{children:r.jsx(O,{name:"erKonkret",label:d.formatMessage({id:"Klage.Formkrav.ErKonkret"}),validate:[y],isReadOnly:e,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:d.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:d.formatMessage({id:"Klage.Formkrav.Nei"})}]})})]})}),r.jsx(K,{sixteenPx:!0}),r.jsxs(H,{children:[r.jsx(A,{children:r.jsx(O,{name:"erFristOverholdt",label:d.formatMessage({id:"Klage.Formkrav.ErFristOverholdt"}),validate:[y],isReadOnly:e,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:d.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:d.formatMessage({id:"Klage.Formkrav.Nei"})}]})}),r.jsx(K,{sixteenPx:!0}),r.jsx(A,{children:r.jsx(O,{name:"erSignert",label:d.formatMessage({id:"Klage.Formkrav.ErSignert"}),validate:[y],isReadOnly:e,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:d.formatMessage({id:"Klage.Formkrav.Ja"})},{value:"false",label:d.formatMessage({id:"Klage.Formkrav.Nei"})}]})})]})]})]})}),r.jsx("div",{className:w.confirmVilkarForm,children:r.jsx(ye,{isReadOnly:e,isSubmittable:!a,isSubmitting:o,isDirty:k})})]})},oa=e=>{const a=e?e.klageFormkravResultatNFP:null;return{vedtak:a?sa(a):"",begrunnelse:a?a.begrunnelse:null,erKlagerPart:a?a.erKlagerPart:null,erKonkret:a?a.erKlageKonkret:null,erFristOverholdt:a?a.erKlagefirstOverholdt:null,erSignert:a?a.erSignert:null}},Re=(e,a)=>e.find(t=>t.uuid===a),be=(e,a)=>{const t=Re(e,a);return t&&(t.type===ke.TILBAKEKREVING||t.type===ke.TILBAKEKREVING_REVURDERING)},ga=(e,a)=>{const t=be(e,a),n=Re(e,a);return t?{tilbakekrevingUuid:n.uuid,tilbakekrevingVedtakDato:n.avsluttet,tilbakekrevingBehandlingType:n.type}:null},ua=(e,a)=>({erKlagerPart:e.erKlagerPart,erFristOverholdt:e.erFristOverholdt,erKonkret:e.erKonkret,erSignert:e.erSignert,begrunnelse:e.begrunnelse,kode:E.VURDERING_AV_FORMKRAV_KLAGE_NFP,vedtakBehandlingUuid:e.vedtak===ue?null:e.vedtak,erTilbakekreving:be(a,e.vedtak),tilbakekrevingInfo:ga(a,e.vedtak)}),ka=({readOnly:e,klageVurdering:a,readOnlySubmitButton:t,alleKodeverk:n,avsluttedeBehandlinger:l,submitCallback:o,formData:k,setFormData:d})=>{const i=j.useMemo(()=>oa(a),[a]),p=he({defaultValues:k||i});return r.jsx(Pe,{formMethods:p,onSubmit:g=>o(ua(g,l)),setDataOnUnmount:d,children:r.jsx(da,{readOnly:e,readOnlySubmitButton:t,aksjonspunktCode:E.VURDERING_AV_FORMKRAV_KLAGE_NFP,alleKodeverk:n,avsluttedeBehandlinger:l,isSubmitting:p.formState.isSubmitting,isDirty:p.formState.isDirty})})},ma=({klageVurdering:e,alleKodeverk:a,avsluttedeBehandlinger:t})=>{var n;const l=F(),{klageFormkravResultatKA:o,underBehandlingKabal:k,behandletAvKabal:d}=e;let i=l.formatMessage({id:"Klage.Formkrav.IkkePåklagdVedtak"});if(o.paKlagdBehandlingUuid){const p=t.find(g=>g.uuid===o.paKlagdBehandlingUuid);i=`${(n=a[Ce.BEHANDLING_TYPE].find(g=>g.kode===p.type))==null?void 0:n.navn} ${$(p.avsluttet).format(_e)}`}return r.jsxs(r.Fragment,{children:[r.jsx(b,{size:"small",children:r.jsx(m,{id:"Klage.Formkrav.Title"})}),r.jsx(K,{sixteenPx:!0}),k&&r.jsxs(r.Fragment,{children:[r.jsx(b,{size:"small",children:r.jsx(m,{id:"Klage.Formkrav.SeKabalText"})}),r.jsx(K,{sixteenPx:!0})]}),!k&&!d&&r.jsxs(r.Fragment,{children:[r.jsx(V,{size:"small",children:r.jsx(m,{id:"Klage.Formkrav.VelgVedtak"})}),r.jsx(K,{fourPx:!0}),r.jsx(h,{size:"small",children:i}),r.jsx(K,{sixteenPx:!0}),r.jsx(V,{size:"small",children:r.jsx(m,{id:"Klage.Formkrav.ErKlagerPart"})}),r.jsx(K,{fourPx:!0}),r.jsx(h,{size:"small",children:o.erKlagerPart?r.jsx(m,{id:"Klage.Formkrav.Ja"}):r.jsx(m,{id:"Klage.Formkrav.Nei"})}),r.jsx(K,{sixteenPx:!0}),r.jsx(V,{size:"small",children:r.jsx(m,{id:"Klage.Formkrav.ErKonkret"})}),r.jsx(K,{fourPx:!0}),r.jsx(h,{size:"small",children:o.erKlageKonkret?r.jsx(m,{id:"Klage.Formkrav.Ja"}):r.jsx(m,{id:"Klage.Formkrav.Nei"})}),r.jsx(K,{sixteenPx:!0}),r.jsx(V,{size:"small",children:r.jsx(m,{id:"Klage.Formkrav.ErFristOverholdt"})}),r.jsx(K,{fourPx:!0}),r.jsx(h,{size:"small",children:o.erKlagefirstOverholdt?r.jsx(m,{id:"Klage.Formkrav.Ja"}):r.jsx(m,{id:"Klage.Formkrav.Nei"})}),r.jsx(K,{sixteenPx:!0}),r.jsx(V,{size:"small",children:r.jsx(m,{id:"Klage.Formkrav.ErSignert"})}),r.jsx(K,{fourPx:!0}),r.jsx(h,{size:"small",children:o.erSignert?r.jsx(m,{id:"Klage.Formkrav.Ja"}):r.jsx(m,{id:"Klage.Formkrav.Nei"})}),r.jsx(K,{sixteenPx:!0}),r.jsx(V,{size:"small",children:r.jsx(m,{id:"Klage.Formkrav.Vurdering"})}),r.jsx(K,{fourPx:!0}),r.jsx(h,{size:"small",children:o.begrunnelse})]})]})},pa=ie(aa),X=({klageVurdering:e,avsluttedeBehandlinger:a,aksjonspunkter:t,submitCallback:n,isReadOnly:l,readOnlySubmitButton:o,alleKodeverk:k,formData:d,setFormData:i})=>r.jsxs(de,{value:pa,children:[t.some(p=>p.definisjon===E.VURDERING_AV_FORMKRAV_KLAGE_NFP)&&r.jsx(ka,{klageVurdering:e,submitCallback:n,readOnly:l,readOnlySubmitButton:o,alleKodeverk:k,avsluttedeBehandlinger:a,formData:d,setFormData:i}),e.klageFormkravResultatKA&&r.jsx(ma,{klageVurdering:e,alleKodeverk:k,avsluttedeBehandlinger:a})]});X.defaultProps={klageVurdering:{}};X.__docgenInfo={description:"",methods:[],displayName:"ra",props:{klageVurdering:{defaultValue:{value:"{}",computed:!1},required:!1}}};const Ka=[E.VURDERING_AV_FORMKRAV_KLAGE_NFP],va=[T.KLAGE_VURDERING],re=({alleBehandlinger:e,...a})=>{const t=F(),n=j.useMemo(()=>e.filter(l=>l.status===Ve.AVSLUTTET).filter(l=>(l.type!==J.KLAGE||Fe(l.resultatType))&&l.type!==J.ANKE),[e]);return _.jsx(Z,{...a,panelEndepunkter:va,aksjonspunktKoder:Ka,prosessPanelKode:U.FORMKRAV_KLAGE_NAV_FAMILIE_OG_PENSJON,prosessPanelMenyTekst:t.formatMessage({id:"Behandlingspunkt.FormkravKlageNFP"}),skalPanelVisesIMeny:()=>!0,renderPanel:l=>_.jsx(X,{avsluttedeBehandlinger:n,...l})})};try{re.displayName="FormKravFamOgPensjonProsessStegInitPanel",re.__docgenInfo={description:"",displayName:"FormKravFamOgPensjonProsessStegInitPanel",props:{alleBehandlinger:{defaultValue:null,description:"",name:"alleBehandlinger",required:!0,type:{name:"{ uuid: string; type: string; status: string; opprettet: string; avsluttet?: string | undefined; resultatType?: string | undefined; }[]"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}var Ne={exports:{}},M={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ke;function ca(){if(Ke)return M;Ke=1;var e=oe,a=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function k(d,i,p){var g,u={},c=null,x=null;p!==void 0&&(c=""+p),i.key!==void 0&&(c=""+i.key),i.ref!==void 0&&(x=i.ref);for(g in i)n.call(i,g)&&!o.hasOwnProperty(g)&&(u[g]=i[g]);if(d&&d.defaultProps)for(g in i=d.defaultProps,i)u[g]===void 0&&(u[g]=i[g]);return{$$typeof:a,type:d,key:c,ref:x,props:u,_owner:l.current}}return M.Fragment=t,M.jsx=k,M.jsxs=k,M}Ne.exports=ca();var s=Ne.exports;const fa={"Klage.ResolveKlage.Title":"Behandle klage","Klage.ResolveKlage.HelpText":"Vurder om klagen skal tas til følge","Klage.ResolveKlage.KeepVedtakNk":"Stadfest vedtaket","Klage.ResolveKlage.KeepVedtakNfp":"Oppretthold vedtaket","Klage.ResolveKlage.ChangeVedtak":"Omgjør vedtaket","Klage.ResolveKlage.Hjemmel":"Hjemmel","Klage.Behandle.Omgjort":"Til gunst","Klage.Behandle.DelvisOmgjort":"Delvis omgjør, til gunst","Klage.Behandle.Hjemsendt":"Hjemsend vedtaket","Klage.Behandle.Ugunst":"Til ugunst","Klage.ResolveKlage.NullifyVedtak":"Opphev og hjemsend vedtaket","Klage.ResolveKlage.Cause":"Årsak","Klage.ResolveKlage.TempSaveButton":"Lagre","KlageVurderingRadioOptionsKa.VurderingForKlage":"Vurdering","FritekstKlageBrevTextField.Fritekst":"Fritekst til brev","BehandleKlageFormNfp.BegrunnelseForKlage":"Begrunnelse","PreviewKlageLink.ForhandvisBrev":"Forhåndsvis brev","KlageVurderingRadioOptionsKa.Begrunnelse":"Begrunnelse","Malform.Beskrivelse":"Foretrukket språk"},_a=({klageVurdering:e,alleKodeverk:a})=>{var t,n;const l=F(),{klageVurderingResultatNK:{begrunnelse:o,fritekstTilBrev:k,klageVurdering:d,klageMedholdArsak:i,klageVurderingOmgjoer:p}}=e,g=a[S.KLAGE_MEDHOLD_ARSAK];return s.jsxs(s.Fragment,{children:[s.jsx(b,{size:"small",children:l.formatMessage({id:"Klage.ResolveKlage.Title"})}),s.jsx(K,{sixteenPx:!0}),s.jsx(V,{size:"small",children:s.jsx(m,{id:"KlageVurderingRadioOptionsKa.VurderingForKlage"})}),s.jsxs(h,{size:"small",children:[d===f.STADFESTE_YTELSESVEDTAK&&s.jsx(m,{id:"Klage.ResolveKlage.KeepVedtakNk"}),d===f.MEDHOLD_I_KLAGE&&s.jsx(m,{id:"Klage.ResolveKlage.ChangeVedtak"}),d===f.HJEMSENDE_UTEN_Å_OPPHEVE&&s.jsx(m,{id:"Klage.Behandle.Hjemsendt"}),d===f.OPPHEVE_YTELSESVEDTAK&&s.jsx(m,{id:"Klage.ResolveKlage.NullifyVedtak"})]}),s.jsx(K,{sixteenPx:!0}),d===f.MEDHOLD_I_KLAGE&&s.jsxs(s.Fragment,{children:[s.jsx(V,{size:"small",children:s.jsx(m,{id:"Klage.ResolveKlage.Cause"})}),s.jsx(h,{size:"small",children:(t=g.find(u=>u.kode===i))==null?void 0:t.navn}),s.jsx(K,{sixteenPx:!0}),s.jsxs(h,{size:"small",children:[p===R.GUNST_MEDHOLD_I_KLAGE&&s.jsx(m,{id:"Klage.Behandle.Omgjort"}),p===R.UGUNST_MEDHOLD_I_KLAGE&&s.jsx(m,{id:"Klage.Behandle.Ugunst"}),p===R.DELVIS_MEDHOLD_I_KLAGE&&s.jsx(m,{id:"Klage.Behandle.DelvisOmgjort"})]}),s.jsx(K,{sixteenPx:!0})]}),(d===f.OPPHEVE_YTELSESVEDTAK||d===f.HJEMSENDE_UTEN_Å_OPPHEVE)&&s.jsxs(s.Fragment,{children:[s.jsx(V,{size:"small",children:s.jsx(m,{id:"Klage.ResolveKlage.Cause"})}),s.jsx(h,{size:"small",children:(n=g.find(u=>u.kode===i))==null?void 0:n.navn}),s.jsx(K,{sixteenPx:!0})]}),s.jsx(V,{size:"small",children:s.jsx(m,{id:"FritekstKlageBrevTextField.Fritekst"})}),s.jsx(h,{size:"small",children:k}),s.jsx(K,{sixteenPx:!0}),s.jsx(V,{size:"small",children:s.jsx(m,{id:"KlageVurderingRadioOptionsKa.Begrunnelse"})}),s.jsx(h,{size:"small",children:o}),s.jsx(K,{sixteenPx:!0})]})},Ea="_previewLink_1xd5p_1",xa="_select_1xd5p_7",ja="_selectReadOnly_1xd5p_10",Va="_confirmVilkarForm_1xd5p_14",ha="_panel_1xd5p_17",Pa="_fritekstTilBrevTextArea_1xd5p_20",Fa="_explanationTextarea_1xd5p_23",z={previewLink:Ea,select:xa,selectReadOnly:ja,confirmVilkarForm:Va,panel:ha,fritekstTilBrevTextArea:Pa,explanationTextarea:Fa},Aa=(e,a)=>e.filter(({kode:t})=>a.includes(t)).sort((t,n)=>t.kode.localeCompare(n.kode)),ya=e=>e.map(a=>a),Sa=({readOnly:e,medholdReasons:a,alleHjemler:t,alleAktuelleHjemler:n,klageVurdering:l})=>{const o=F(),k=a.map(i=>s.jsx("option",{value:i.kode,children:i.navn},i.kode)),d=Aa(t,ya(n)).map(i=>s.jsx("option",{value:i.kode,children:i.navn},i.kode));return s.jsxs(s.Fragment,{children:[s.jsx(O,{name:"klageVurdering",validate:[y],isReadOnly:e,isHorizontal:!0,radios:[{value:f.MEDHOLD_I_KLAGE,label:o.formatMessage({id:"Klage.ResolveKlage.ChangeVedtak"})},{value:f.STADFESTE_YTELSESVEDTAK,label:o.formatMessage({id:"Klage.ResolveKlage.KeepVedtakNfp"})}]}),l===f.MEDHOLD_I_KLAGE&&s.jsxs(s.Fragment,{children:[s.jsx(K,{sixteenPx:!0}),s.jsxs(He,{children:[s.jsx(ee,{readOnly:e,name:"klageMedholdArsak",selectValues:k,className:e?z.selectReadOnly:z.select,label:o.formatMessage({id:"Klage.ResolveKlage.Cause"}),validate:[y]}),s.jsx(K,{sixteenPx:!0}),s.jsx(O,{name:"klageVurderingOmgjoer",validate:[y],isReadOnly:e,radios:[{value:R.GUNST_MEDHOLD_I_KLAGE,label:o.formatMessage({id:"Klage.Behandle.Omgjort"})},{value:R.UGUNST_MEDHOLD_I_KLAGE,label:o.formatMessage({id:"Klage.Behandle.Ugunst"})},{value:R.DELVIS_MEDHOLD_I_KLAGE,label:o.formatMessage({id:"Klage.Behandle.DelvisOmgjort"})}]})]})]}),s.jsx(K,{sixteenPx:!0}),s.jsx(ee,{readOnly:e,name:"klageHjemmel",selectValues:d,className:e?z.selectReadOnly:z.select,label:o.formatMessage({id:"Klage.ResolveKlage.Hjemmel"}),validate:[y]}),s.jsx(K,{sixteenPx:!0})]})},Ta="_fritekstTilBrevTextArea_n72am_1",Oa={fritekstTilBrevTextArea:Ta},De=({sprakkode:e,readOnly:a})=>s.jsx("div",{className:Oa.fritekstTilBrevTextArea,children:s.jsx(we,{name:"fritekstTilBrev",label:F().formatMessage({id:"FritekstKlageBrevTextField.Fritekst"}),validate:[y,ze],readOnly:a,maxLength:1e5,badges:[{type:"info",titleText:Ue(e)}],parse:t=>t.replaceAll("‑","-").replaceAll("	"," ")})});De.defaultProps={readOnly:!0};const Ra="_previewLink_hcaux_1",ba={previewLink:Ra},Na=(e,a)=>{switch(e){case f.STADFESTE_YTELSESVEDTAK:return a?L.KLAGE_STADFESTET:L.KLAGE_OVERSENDT;case f.OPPHEVE_YTELSESVEDTAK:return L.KLAGE_HJEMSENDT;case f.HJEMSENDE_UTEN_Å_OPPHEVE:return L.KLAGE_HJEMSENDT;case f.MEDHOLD_I_KLAGE:return L.KLAGE_OMGJORING;default:return null}},Da=(e,a)=>({fritekst:a||"",dokumentMal:Na(e,!1),erOpphevetKlage:e===f.OPPHEVE_YTELSESVEDTAK}),La=({previewCallback:e,fritekstTilBrev:a,klageVurdering:t})=>{const n=l=>{e(Da(t,a)),l.preventDefault()};return s.jsx("a",{href:"",onClick:l=>{n(l)},onKeyDown:l=>l.key==="Enter"?n(l):null,className:Te(ba.previewLink,"lenke lenke--frittstaende"),children:s.jsx(m,{id:"PreviewKlageLink.ForhandvisBrev"})})},Ia=(e,a)=>({kode:a,klageMedholdArsak:e.klageVurdering===f.MEDHOLD_I_KLAGE||e.klageVurdering===f.OPPHEVE_YTELSESVEDTAK?e.klageMedholdArsak:null,klageVurderingOmgjoer:e.klageVurdering===f.MEDHOLD_I_KLAGE?e.klageVurderingOmgjoer:null,klageHjemmel:e.klageHjemmel,fritekstTilBrev:e.fritekstTilBrev,begrunnelse:e.begrunnelse,klageVurdering:e.klageVurdering}),Le=({saveKlage:e,spinner:a,aksjonspunktCode:t,readOnly:n,handleSubmit:l})=>n?null:s.jsx(xe,{size:"small",variant:"primary",loading:a,onClick:l(o=>e(Ia(o,t))),type:"button",children:s.jsx(m,{id:"Klage.ResolveKlage.TempSaveButton"})});Le.defaultProps={spinner:!1,readOnly:!1};const Ma="_confirmVilkarForm_13k5i_1",Ba={confirmVilkarForm:Ma},Ga=e=>({klageMedholdArsak:e.klageVurdering===f.MEDHOLD_I_KLAGE?e.klageMedholdArsak:null,klageVurderingOmgjoer:e.klageVurdering===f.MEDHOLD_I_KLAGE?e.klageVurderingOmgjoer:null,klageHjemmel:e.klageHjemmel,klageVurdering:e.klageVurdering,fritekstTilBrev:e.fritekstTilBrev,begrunnelse:e.begrunnelse,kode:E.BEHANDLE_KLAGE_NFP}),Ha=e=>({klageMedholdArsak:e?e.klageMedholdArsak:"",klageVurderingOmgjoer:e?e.klageVurderingOmgjoer:null,klageHjemmel:e?e.klageHjemmel:"",klageVurdering:e?e.klageVurdering:null,begrunnelse:e?e.begrunnelse:null,fritekstTilBrev:e?e.fritekstTilBrev:null}),Ua=({readOnly:e,klageVurdering:a,previewCallback:t,saveKlage:n,readOnlySubmitButton:l,sprakkode:o,alleAktuelleHjemler:k,alleKodeverk:d,submitCallback:i,formData:p,setFormData:g})=>{const u=F(),c=j.useMemo(()=>Ha(a.klageVurderingResultatNFP),[a]),x=he({defaultValues:p||c}),P=x.watch();return s.jsxs(Pe,{formMethods:x,onSubmit:N=>i(Ga(N)),setDataOnUnmount:g,children:[s.jsx(b,{size:"small",children:u.formatMessage({id:"Klage.ResolveKlage.Title"})}),s.jsx(K,{fourPx:!0}),s.jsx(Ee,{isAksjonspunktOpen:!l,children:[s.jsx(m,{id:"Klage.ResolveKlage.HelpText"},E.BEHANDLE_KLAGE_NFP)]}),s.jsx(Sa,{readOnly:e,klageVurdering:P.klageVurdering,medholdReasons:d[S.KLAGE_MEDHOLD_ARSAK],alleHjemler:d[S.KLAGE_HJEMMEL],alleAktuelleHjemler:k}),s.jsxs("div",{className:Ba.confirmVilkarForm,children:[s.jsx(Ae,{readOnly:e,text:u.formatMessage({id:"BehandleKlageFormNfp.BegrunnelseForKlage"})}),s.jsx(K,{sixteenPx:!0}),s.jsx(De,{sprakkode:o,readOnly:e}),s.jsx(K,{sixteenPx:!0}),s.jsx(Y,{children:s.jsxs(H,{spaceBetween:!0,children:[s.jsxs(A,{children:[s.jsx(ye,{isReadOnly:e,isSubmittable:!l,isSubmitting:x.formState.isSubmitting,isDirty:x.formState.isDirty}),!e&&P.klageVurdering&&P.fritekstTilBrev&&P.fritekstTilBrev.length>2&&s.jsx(La,{previewCallback:t,fritekstTilBrev:P.fritekstTilBrev,klageVurdering:P.klageVurdering})]}),s.jsx(A,{children:s.jsx(Le,{saveKlage:n,handleSubmit:x.handleSubmit,readOnly:e,aksjonspunktCode:E.BEHANDLE_KLAGE_NFP})})]})})]})]})},Ca=ie(fa),Ie=({behandling:e,klageVurdering:a,alleKodeverk:t,saveKlage:n,submitCallback:l,isReadOnly:o,previewCallback:k,readOnlySubmitButton:d,aksjonspunkter:i,formData:p,setFormData:g})=>s.jsxs(de,{value:Ca,children:[a.klageVurderingResultatNK&&s.jsx(_a,{klageVurdering:a,alleKodeverk:t}),i.some(u=>u.definisjon===E.BEHANDLE_KLAGE_NFP)&&s.jsx(Ua,{sprakkode:e.sprakkode,klageVurdering:a,saveKlage:n,submitCallback:l,readOnly:o,previewCallback:k,readOnlySubmitButton:d,alleKodeverk:t,alleAktuelleHjemler:a.aktuelleHjemler?a.aktuelleHjemler:[],formData:p,setFormData:g})]});Ie.__docgenInfo={description:"",methods:[],displayName:"Kt"};const qa=(e,a,t)=>n=>{const l={...n,behandlingUuid:t.uuid,fagsakYtelseType:a.fagsakYtelseType};return e(l).then(o=>je(o))},wa=(e,a)=>t=>{const n={behandlingUuid:a.uuid,...t};return e(n)},za=(e,a,t)=>n=>{const l=n.some(o=>o.kode===E.BEHANDLE_KLAGE_NFP&&o.klageVurdering===f.STADFESTE_YTELSESVEDTAK);return l&&a(!1),()=>{l?e(!0):t&&t("default","default")}},$a=[T.KLAGE_VURDERING],W=({fagsak:e,setSkalOppdatereEtterBekreftelseAvAp:a,opneSokeside:t,oppdaterProsessStegOgFaktaPanelIUrl:n,aksjonspunktKoder:l,prosessPanelKode:o,prosessPanelMenyTekst:k,...d})=>{const[i,p]=j.useState(!1),g=Se(),u=a?za(p,a,n):void 0,{startRequest:c}=ae.useRestApiRunner(T.PREVIEW_MESSAGE),x=j.useCallback(qa(c,e,g.behandling),[g.behandling.versjon]),{startRequest:P}=ae.useRestApiRunner(T.SAVE_KLAGE_VURDERING),N=j.useCallback(wa(P,g.behandling),[g.behandling.versjon]);return _.jsx(Z,{...d,panelEndepunkter:$a,aksjonspunktKoder:l,prosessPanelKode:o,prosessPanelMenyTekst:k,skalPanelVisesIMeny:()=>!0,lagringSideEffekter:u,renderPanel:Q=>_.jsxs(_.Fragment,{children:[_.jsx(We,{visModal:i,lukkModal:()=>{p(!1),t&&t()}}),_.jsx(Ie,{previewCallback:x,saveKlage:N,...Q})]})})};try{W.displayName="VurderingFellesProsessStegInitPanel",W.__docgenInfo={description:"",displayName:"VurderingFellesProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!1,type:{name:"((skalHenteFagsak: boolean) => void)"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!1,type:{name:"(() => void)"}},oppdaterProsessStegOgFaktaPanelIUrl:{defaultValue:null,description:"",name:"oppdaterProsessStegOgFaktaPanelIUrl",required:!1,type:{name:"((punktnavn?: string, faktanavn?: string) => void) | undefined"}},aksjonspunktKoder:{defaultValue:null,description:"",name:"aksjonspunktKoder",required:!1,type:{name:"string[]"}},prosessPanelKode:{defaultValue:null,description:"",name:"prosessPanelKode",required:!0,type:{name:"enum",value:[{value:'"default"'},{value:'"inngangsvilkar"'},{value:'"behandle_innsyn"'},{value:'"beregning"'},{value:'"beregningsgrunnlag"'},{value:'"klage_nav_familie_og_pensjon"'},{value:'"klage_nav_klageinstans"'},{value:'"formkrav_klage_nav_klageinstans"'},{value:'"formkrav_klage_nav_familie_og_pensjon"'},{value:'"fortsattmedlemskap"'},{value:'"opplysningsplikt"'},{value:'"soeknadsfrist"'},{value:'"tilbakekreving"'},{value:'"foreldelse"'},{value:'"tilkjent_ytelse"'},{value:'"varsel"'},{value:'"vedtak"'},{value:'"uttak"'},{value:'"simulering"'},{value:'"resultat"'},{value:'"ankebehandling"'},{value:'"ankemerknader"'},{value:'"ankeresultat"'}]}},prosessPanelMenyTekst:{defaultValue:null,description:"",name:"prosessPanelMenyTekst",required:!0,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const Ya=[E.BEHANDLE_KLAGE_NFP],le=({fagsak:e,setSkalOppdatereEtterBekreftelseAvAp:a,opneSokeside:t,oppdaterProsessStegOgFaktaPanelIUrl:n,...l})=>_.jsx(W,{...l,fagsak:e,setSkalOppdatereEtterBekreftelseAvAp:a,opneSokeside:t,oppdaterProsessStegOgFaktaPanelIUrl:n,aksjonspunktKoder:Ya,prosessPanelKode:U.KLAGE_NAV_FAMILIE_OG_PENSJON,prosessPanelMenyTekst:F().formatMessage({id:"Behandlingspunkt.CheckKlageNFP"})});try{le.displayName="VurderingFamOgPensjonProsessStegInitPanel",le.__docgenInfo={description:"",displayName:"VurderingFamOgPensjonProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!0,type:{name:"(skalHenteFagsak: boolean) => void"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!0,type:{name:"() => void"}},oppdaterProsessStegOgFaktaPanelIUrl:{defaultValue:null,description:"",name:"oppdaterProsessStegOgFaktaPanelIUrl",required:!0,type:{name:"(punktnavn?: string | undefined, faktanavn?: string | undefined) => void"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const Ja=[E.VURDER_FORMKRAV_NK],Wa=[T.KLAGE_VURDERING],te=({alleBehandlinger:e,...a})=>{const t=F(),n=j.useMemo(()=>e.filter(l=>l.status===Ve.AVSLUTTET).filter(l=>(l.type!==J.KLAGE||Fe(l.resultatType))&&l.type!==J.ANKE),[e]);return _.jsx(Z,{...a,panelEndepunkter:Wa,aksjonspunktKoder:Ja,prosessPanelKode:U.FORMKRAV_KLAGE_NAV_KLAGEINSTANS,prosessPanelMenyTekst:t.formatMessage({id:"Behandlingspunkt.FormkravKlageKA"}),skalPanelVisesIMeny:()=>!0,renderPanel:l=>_.jsx(X,{avsluttedeBehandlinger:n,...l})})};try{te.displayName="FormKravKlageInstansProsessStegInitPanel",te.__docgenInfo={description:"",displayName:"FormKravKlageInstansProsessStegInitPanel",props:{alleBehandlinger:{defaultValue:null,description:"",name:"alleBehandlinger",required:!0,type:{name:"{ uuid: string; type: string; status: string; opprettet: string; avsluttet?: string | undefined; resultatType?: string | undefined; }[]"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const Za=[E.BEHANDLE_KLAGE_NK],se=({fagsak:e,...a})=>_.jsx(W,{...a,aksjonspunktKoder:Za,fagsak:e,prosessPanelKode:U.KLAGE_NAV_KLAGEINSTANS,prosessPanelMenyTekst:F().formatMessage({id:"Behandlingspunkt.CheckKlageNK"})});try{se.displayName="VurderingKlageInstansProsessStegInitPanel",se.__docgenInfo={description:"",displayName:"VurderingKlageInstansProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}var Me={exports:{}},B={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ve;function Xa(){if(ve)return B;ve=1;var e=oe,a=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function k(d,i,p){var g,u={},c=null,x=null;p!==void 0&&(c=""+p),i.key!==void 0&&(c=""+i.key),i.ref!==void 0&&(x=i.ref);for(g in i)n.call(i,g)&&!o.hasOwnProperty(g)&&(u[g]=i[g]);if(d&&d.defaultProps)for(g in i=d.defaultProps,i)u[g]===void 0&&(u[g]=i[g]);return{$$typeof:a,type:d,key:c,ref:x,props:u,_owner:l.current}}return B.Fragment=t,B.jsx=k,B.jsxs=k,B}Me.exports=Xa();var v=Me.exports;const Qa="_mainButton_lcisw_1",er={mainButton:Qa},ar=({behandlingPaaVent:e,previewVedtakCallback:a,readOnly:t,lagreVedtak:n,isSubmitting:l})=>{const o=j.useCallback(k=>{k.preventDefault(),a()},[]);return v.jsx(Y,{children:v.jsxs(H,{children:[!t&&v.jsx(A,{children:v.jsx(xe,{variant:"primary",size:"small",className:er.mainButton,onClick:n,disabled:e||l,loading:l,type:"button",children:v.jsx(m,{id:"VedtakKlageForm.TilGodkjenning"})})}),v.jsx(A,{children:v.jsx("a",{href:"",onClick:o,onKeyDown:k=>k.key==="Enter"?o(k):null,className:Te("lenke lenke--frittstaende"),children:v.jsx(m,{id:"VedtakKlageForm.ForhandvisBrev"})})})]})})},rr={GUNST_MEDHOLD_I_KLAGE:"VedtakKlageForm.KlageOmgjortGunst",UGUNST_MEDHOLD_I_KLAGE:"VedtakKlageForm.KlageOmgjortUgunst",DELVIS_MEDHOLD_I_KLAGE:"VedtakKlageForm.KlageOmgjortDelvis"},lr=e=>()=>e({gjelderVedtak:!0}),tr=e=>{if(e){if(e.klageFormkravResultatKA&&e.klageVurderingResultatNK)return e.klageFormkravResultatKA.avvistArsaker;if(e.klageFormkravResultatNFP)return e.klageFormkravResultatNFP.avvistArsaker}return[]},sr=(e,a)=>{var t,n;const l=ge(a);if(e){if((t=e.klageVurderingResultatNK)!=null&&t.klageMedholdArsak)return l(e.klageVurderingResultatNK.klageMedholdArsak,S.KLAGE_MEDHOLD_ARSAK);if((n=e.klageVurderingResultatNFP)!=null&&n.klageMedholdArsak)return l(e.klageVurderingResultatNFP.klageMedholdArsak,S.KLAGE_MEDHOLD_ARSAK)}return null},nr=e=>{const a=e.klageVurderingResultatNK?e.klageVurderingResultatNK:e.klageVurderingResultatNFP;switch(a==null?void 0:a.klageVurdering){case f.AVVIS_KLAGE:return"VedtakKlageForm.KlageAvvist";case f.STADFESTE_YTELSESVEDTAK:return"VedtakKlageForm.KlageStadfestet";case f.OPPHEVE_YTELSESVEDTAK:return"VedtakKlageForm.YtelsesvedtakOpphevet";case f.HJEMSENDE_UTEN_Å_OPPHEVE:return"VedtakKlageForm.HjemmsendUtenOpphev";case f.MEDHOLD_I_KLAGE:return rr[(a==null?void 0:a.klageVurderingOmgjoer)||""];default:return"VedtakKlageForm.IkkeFastsatt"}},ir=({submitCallback:e,klageVurdering:a,behandlingsresultat:t,readOnly:n,aksjonspunkter:l,previewVedtakCallback:o,behandlingPaaVent:k,alleKodeverk:d})=>{const i=j.useMemo(()=>tr(a),[a]),p=j.useMemo(()=>sr(a,d),[a]),g=j.useMemo(()=>nr(a),[a]),u=a.klageVurderingResultatNK?a.klageVurderingResultatNK:a.klageVurderingResultatNFP,c=$e(t.type),[x,P]=j.useState(!1),N=j.useCallback(()=>{P(!0);const C=l.filter(D=>D.status===Ye.OPPRETTET).map(D=>D.definisjon).map(D=>({kode:Je(D,E.FORESLA_VEDTAK,E.FORESLA_VEDTAK_MANUELT,E.VEDTAK_UTEN_TOTRINNSKONTROLL)}));e(C).then(()=>P(!1))},[l]),Q=ge(d);return v.jsxs(v.Fragment,{children:[v.jsx(b,{size:"small",children:v.jsx(m,{id:"VedtakKlageForm.Header"})}),v.jsx(K,{twentyPx:!0}),v.jsx(V,{size:"small",children:v.jsx(m,{id:"VedtakKlageForm.Resultat"})}),g&&v.jsx(h,{size:"small",children:v.jsx(m,{id:g})}),v.jsx(K,{sixteenPx:!0}),t.type===me.KLAGE_AVVIST&&v.jsxs(v.Fragment,{children:[v.jsx(V,{size:"small",children:v.jsx(m,{id:"VedtakKlageForm.ArsakTilAvvisning"})}),i.map(C=>v.jsx(h,{size:"small",children:Q(C,S.KLAGE_AVVIST_AARSAK)},C)),v.jsx(K,{sixteenPx:!0})]}),c&&v.jsxs(v.Fragment,{children:[v.jsx(V,{size:"small",children:v.jsx(m,{id:"VedtakKlageForm.ArsakTilOmgjoring"})}),p,v.jsx(K,{sixteenPx:!0})]}),t.type===me.KLAGE_YTELSESVEDTAK_OPPHEVET&&v.jsxs(v.Fragment,{children:[v.jsx(V,{size:"small",children:v.jsx(m,{id:"VedtakKlageForm.ArsakTilOppheving"})}),p,v.jsx(K,{sixteenPx:!0})]}),(u==null?void 0:u.klageVurdertAv)==="NFP"&&v.jsx(ar,{previewVedtakCallback:lr(o),readOnly:n,behandlingPaaVent:k,lagreVedtak:N,isSubmitting:x})]})},dr={"VedtakKlageForm.ArsakTilAvslag":"Årsak til avslag","VedtakKlageForm.ResultatOpprettholdVedtak":"Vedtaket er stadfestet","VedtakKlageForm.ResultatKlageMedhold":"Vedtaket er omgjort","VedtakKlageForm.Resultat":"Resultat av klage","VedtakKlageForm.ArsakTilAvvisning":"Årsak til avvisning","VedtakKlageForm.ArsakTilOmgjoring":"Årsak til omgjøring","VedtakKlageForm.ArsakTilOppheving":"Årsak til oppheving","VedtakKlageForm.EngangsstonadIkkeInnvilget":"Engangsstønad er avslått","VedtakKlageForm.ResultatKlageAvvist":"Klagen er avvist","VedtakKlageForm.ResultatKlageYtelsesvedtakOpphevet":"Vedtaket er opphevet","VedtakKlageForm.TilGodkjenning":"Til godkjenning","VedtakKlageForm.ForhandvisBrev":"Forhåndsvis vedtaksbrev","VedtakKlageForm.ArsakTilMedhold":"Årsak","VedtakKlageForm.KlageOmgjortGunst":"Vedtaket er omgjort til gunst","VedtakKlageForm.KlageOmgjortUgunst":"Vedtaket er omgjort til ugunst","VedtakKlageForm.KlageOmgjortDelvis":"Vedtaket er delvis omgjort til gunst","VedtakKlageForm.HjemmsendUtenOpphev":"Vedtaket er hjemsendt","VedtakKlageForm.IkkeFastsatt":"Ikke fastsatt","VedtakKlageForm.Header":"Resultat","VedtakKlageForm.KlageAvvist":"Avvist fordi klagen ikke oppfyller formkravene","VedtakKlageForm.KlageStadfestet":"Vedtaket er stadfestet","VedtakKlageForm.YtelsesvedtakOpphevet":"Vedtak er opphevet og hjemsendt"},or=ie(dr),Be=({behandling:e,klageVurdering:a,aksjonspunkter:t,submitCallback:n,previewVedtakCallback:l,isReadOnly:o,alleKodeverk:k})=>{if(!e.behandlingsresultat)throw new Error(`behandlingsresultat finnes ikke for behandling ${e.uuid}`);return v.jsx(de,{value:or,children:v.jsx(ir,{behandlingsresultat:e.behandlingsresultat,behandlingPaaVent:e.behandlingPaaVent,klageVurdering:a,aksjonspunkter:t,submitCallback:n,previewVedtakCallback:l,readOnly:o,alleKodeverk:k})})};Be.__docgenInfo={description:"",methods:[],displayName:"Xr"};const gr=(e,a,t)=>n=>{const l={...n,behandlingUuid:t.uuid,fagsakYtelseType:a.fagsakYtelseType};return e(l).then(o=>je(o))},ce=(e,a=[])=>{const t=a.some(l=>l.status===qe.OPPRETTET);if(a.length===0||t)return G.IKKE_VURDERT;const n=e==null?void 0:e.type;return n===q.HENLAGT_KLAGE_TRUKKET||n===q.HENLAGT_FEILOPPRETTET?G.IKKE_VURDERT:n===q.KLAGE_AVVIST||n===q.KLAGE_YTELSESVEDTAK_OPPHEVET?G.IKKE_OPPFYLT:G.OPPFYLT},ur=(e,a)=>()=>(a(!1),()=>{e(!0)}),kr=[E.FORESLA_VEDTAK,E.FATTER_VEDTAK,E.FORESLA_VEDTAK_MANUELT,E.VEDTAK_UTEN_TOTRINNSKONTROLL],mr=[T.KLAGE_VURDERING],ne=({fagsak:e,setSkalOppdatereEtterBekreftelseAvAp:a,opneSokeside:t,...n})=>{const l=F(),[o,k]=j.useState(!1),d=Se(),i=ur(k,a),{startRequest:p}=ae.useRestApiRunner(T.PREVIEW_MESSAGE),g=j.useCallback(gr(p,e,d.behandling),[d.behandling.versjon]),{aksjonspunkt:u}=n.behandling;return _.jsx(Z,{...n,panelEndepunkter:mr,aksjonspunktKoder:kr,prosessPanelKode:U.KLAGE_RESULTAT,prosessPanelMenyTekst:l.formatMessage({id:"Behandlingspunkt.ResultatKlage"}),skalPanelVisesIMeny:()=>!0,hentOverstyrtStatus:c=>ce(c.behandling.behandlingsresultat,u),lagringSideEffekter:i,hentSkalMarkeresSomAktiv:c=>ce(c.behandling.behandlingsresultat,u)!==G.IKKE_VURDERT,renderPanel:c=>_.jsxs(_.Fragment,{children:[_.jsx(Ze,{visModal:o,lukkModal:()=>{k(!1),t()},tekst:l.formatMessage({id:"FatterVedtakStatusModal.KlagenErFerdigbehandlet"})}),_.jsx(Be,{previewVedtakCallback:g,...c})]})})};try{ne.displayName="KlageresultatProsessStegInitPanel",ne.__docgenInfo={description:"",displayName:"KlageresultatProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; }>"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!0,type:{name:"(skalHenteFagsak: boolean) => void"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!0,type:{name:"() => void"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const fe=({behandling:e,fagsak:a,valgtProsessSteg:t,valgtFaktaSteg:n,oppdaterProsessStegOgFaktaPanelIUrl:l,opneSokeside:o,setSkalOppdatereEtterBekreftelseAvAp:k,alleBehandlinger:d})=>{const i=j.useCallback(u=>_.jsx(Xe,{...u}),[]),p=j.useMemo(()=>d.filter(u=>!u.behandlingHenlagt).map(u=>{var c;return{uuid:u.uuid,type:u.type,status:u.status,opprettet:u.opprettet,avsluttet:u.avsluttet,resultatType:(c=u.behandlingsresultat)==null?void 0:c.type}}),[d]),g=j.useCallback(u=>_.jsxs(_.Fragment,{children:[_.jsx(re,{...u,alleBehandlinger:p}),_.jsx(le,{...u,fagsak:a,opneSokeside:o,setSkalOppdatereEtterBekreftelseAvAp:k,oppdaterProsessStegOgFaktaPanelIUrl:l}),_.jsx(te,{...u,alleBehandlinger:p}),_.jsx(se,{...u,fagsak:a}),_.jsx(ne,{...u,fagsak:a,opneSokeside:o,setSkalOppdatereEtterBekreftelseAvAp:k})]}),[p,a,o,k,l]);return _.jsx(Qe,{behandling:e,valgtProsessSteg:t,valgtFaktaSteg:n,oppdaterProsessStegOgFaktaPanelIUrl:l,hentFaktaPaneler:i,hentProsessPaneler:g})};try{fe.displayName="KlagePaneler",fe.__docgenInfo={description:"",displayName:"KlagePaneler",props:{behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 9 more ...; notater: Saksnotat[]; }>"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},oppdaterProsessStegOgFaktaPanelIUrl:{defaultValue:null,description:"",name:"oppdaterProsessStegOgFaktaPanelIUrl",required:!0,type:{name:"(punktnavn?: string | undefined, faktanavn?: string | undefined) => void"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!0,type:{name:"() => void"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!0,type:{name:"(skalHenteFagsak: boolean) => void"}},alleBehandlinger:{defaultValue:null,description:"",name:"alleBehandlinger",required:!0,type:{name:"BehandlingAppKontekst[]"}}}}}catch{}export{fe as default};
//# sourceMappingURL=KlagePaneler-f38b1535.js.map
