import{q as Ve,c as ie,o as pe,B as we,x as Kt,y as dt,t as Yt,L as Zt,z as Jt,E as Qt}from"./withQueryClient-BF6cwJb8.js";import{R as v,r as J}from"./index-DRjF_FHU.js";import{F as Xt,u as At}from"./useFormField-B7KyMSiw.js";import{F as er,a as tr}from"./Fieldset-hbxpkjgi.js";import{F as rr}from"./index-rX-Bn4lm.js";function Vt(e,r=166){let t;function s(...n){const l=()=>{e.apply(this,n)};clearTimeout(t),t=setTimeout(l,r)}return s.clear=()=>{clearTimeout(t)},s}var sr=function(e,r){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)r.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(t[s[n]]=e[s[n]]);return t};const pt=v.createContext(null),Tr=J.forwardRef((e,r)=>{var t,s,{children:n,className:l,name:u,defaultValue:c,value:b,onChange:p=()=>{},required:x,readOnly:m}=e,O=sr(e,["children","className","name","defaultValue","value","onChange","required","readOnly"]);const C=J.useContext(Xt),T=Ve();return v.createElement(er,Object.assign({},O,{readOnly:m,ref:r,className:ie(l,"navds-radio-group",`navds-radio-group--${(s=(t=O.size)!==null&&t!==void 0?t:C==null?void 0:C.size)!==null&&s!==void 0?s:"medium"}`),nativeReadOnly:!1}),v.createElement(pt.Provider,{value:{name:u??`radioGroupName-${T}`,defaultValue:c,value:b,onChange:p,required:x}},v.createElement("div",{className:"navds-radio-buttons"},n)))});var ar=function(e,r){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)r.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(t[s[n]]=e[s[n]]);return t};const nr=e=>{const r=J.useContext(pt),t=At(pe(e,["description"]),"radio"),{inputProps:s,readOnly:n}=t,l=ar(t,["inputProps","readOnly"]);return r||console.warn("<Radio> must be used inside <RadioGroup>."),(e==null?void 0:e.required)!==void 0&&console.warn("required is only supported on <RadioGroup>."),Object.assign(Object.assign({},l),{readOnly:n,inputProps:Object.assign(Object.assign({},s),{name:r==null?void 0:r.name,defaultChecked:(r==null?void 0:r.defaultValue)===void 0?void 0:(r==null?void 0:r.defaultValue)===e.value,checked:(r==null?void 0:r.value)===void 0?void 0:(r==null?void 0:r.value)===e.value,onChange:u=>{var c,b;n||((c=e.onChange)===null||c===void 0||c.call(e,u),(b=r==null?void 0:r.onChange)===null||b===void 0||b.call(r,e.value))},onClick:u=>{var c;if(n){u.preventDefault();return}(c=e==null?void 0:e.onClick)===null||c===void 0||c.call(e,u)},required:r==null?void 0:r.required,type:"radio"})})},Lr=J.forwardRef((e,r)=>{const{inputProps:t,size:s,hasError:n,readOnly:l}=nr(e),u=Ve(),c=Ve();return v.createElement("div",{className:ie(e.className,"navds-radio",`navds-radio--${s}`,{"navds-radio--error":n,"navds-radio--disabled":t.disabled,"navds-radio--readonly":l})},v.createElement("input",Object.assign({},pe(e,["children","size","description","readOnly"]),pe(t,["aria-invalid"]),{"aria-labelledby":ie(u,!!e["aria-labelledby"]&&e["aria-labelledby"],{[c]:e.description}),className:"navds-radio__input",ref:r})),v.createElement("label",{htmlFor:t.id,className:"navds-radio__label"},v.createElement("span",{className:"navds-radio__content"},v.createElement(we,{as:"span",id:u,size:s,"aria-hidden":!0},e.children),e.description&&v.createElement(we,{as:"span",id:c,size:s,className:"navds-form-field__subdescription navds-radio__description","aria-hidden":!0},e.description))))});var ir=function(e,r){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)r.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(t[s[n]]=e[s[n]]);return t};const ct=(e,r,t)=>{const{outerHeightStyle:s,overflow:n}=r;return t.current<20&&(s>0&&Math.abs((e.outerHeightStyle||0)-s)>1||e.overflow!==n)?(t.current+=1,r):e},ft=e=>((e==null?void 0:e.ownerDocument)||document).defaultView||window;function Fe(e){return parseInt(e,10)||0}const lr=J.forwardRef((e,r)=>{var t,s,{className:n,onChange:l,maxRows:u,minRows:c=1,autoScrollbar:b,style:p,value:x}=e,m=ir(e,["className","onChange","maxRows","minRows","autoScrollbar","style","value"]);const{current:O}=J.useRef(x!=null),C=J.useRef(null),T=Kt(C,r),re=J.useRef(null),I=J.useRef(0),[G,w]=J.useState({outerHeightStyle:0}),j=v.useCallback(()=>{const A=C.current,P=ft(A).getComputedStyle(A);if(P.width==="0px")return{outerHeightStyle:0};const D=re.current;D.style.width=P.width,D.value=A.value||m.placeholder||"x",D.value.slice(-1)===`
`&&(D.value+=" ");const K=P.boxSizing,V=Fe(P.paddingBottom)+Fe(P.paddingTop),S=Fe(P.borderBottomWidth)+Fe(P.borderTopWidth),L=D.scrollHeight-V;D.value="x";const U=D.scrollHeight-V;let z=L;c&&(z=Math.max(Number(c)*U,z)),u&&(z=Math.min(Number(u)*U,z)),z=Math.max(z,U);const Q=z+(K==="border-box"?V+S:0),ue=Math.abs(z-L)<=1;return{outerHeightStyle:Q,overflow:ue}},[u,c,m.placeholder]),R=()=>{const A=j();yt(A)||w(k=>ct(k,A,I))};dt(()=>{const A=()=>{const V=j();yt(V)||rr.flushSync(()=>{w(S=>ct(S,V,I))})},k=Vt(()=>{var V,S,L;if(I.current=0,!((V=C.current)===null||V===void 0)&&V.style.height||!((S=C.current)===null||S===void 0)&&S.style.width){((L=C.current)===null||L===void 0?void 0:L.style.overflow)==="hidden"&&w(U=>Object.assign(Object.assign({},U),{overflow:!1}));return}A()}),P=C.current,D=ft(P);D.addEventListener("resize",k);let K;return typeof ResizeObserver<"u"&&(K=new ResizeObserver(k),K.observe(P)),()=>{k.clear(),D.removeEventListener("resize",k),K&&K.disconnect()}},[j]),dt(()=>{R()}),J.useEffect(()=>{I.current=0},[x]);const h=A=>{I.current=0,O||R(),l&&l(A)},_=Object.assign({"--__ac-textarea-height":G.outerHeightStyle+"px","--__axc-textarea-height":G.outerHeightStyle+"px",overflow:G.overflow&&!b&&!(!((t=C.current)===null||t===void 0)&&t.style.height)&&!(!((s=C.current)===null||s===void 0)&&s.style.width)?"hidden":void 0},p);return v.createElement(v.Fragment,null,v.createElement("textarea",Object.assign({value:x,onChange:h,ref:T,rows:c,style:_},m,{className:n})),v.createElement("textarea",{"aria-hidden":!0,className:n,readOnly:!0,ref:re,tabIndex:-1,style:Object.assign({visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},p)}))});function yt(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const or=({maxLengthId:e,maxLength:r,currentLength:t,size:s,i18n:n})=>{const l=Yt("Textarea",{charsLeft:n!=null&&n.counterLeft?`{chars} ${n.counterLeft}`:void 0,charsTooMany:n!=null&&n.counterTooMuch?`{chars} ${n.counterTooMuch}`:void 0}),u=r-t,[c,b]=J.useState(u);return J.useEffect(()=>{const p=Vt(()=>{b(u)},2e3);return p(),()=>{p.clear()}},[u]),v.createElement(v.Fragment,null,v.createElement("span",{id:e,className:"navds-sr-only"},l("maxLength",{maxLength:r})),u<20&&v.createElement("span",{role:"status",className:"navds-textarea__sr-counter navds-sr-only"},vt(c,l)),v.createElement(we,{className:ie("navds-textarea__counter",{"navds-textarea__counter--error":u<0}),size:s},vt(u,l)))},vt=(e,r)=>e<0?r("charsTooMany",{chars:Math.abs(e)}):r("charsLeft",{chars:e});var ur=function(e,r){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)r.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(t[s[n]]=e[s[n]]);return t};const Mr=J.forwardRef((e,r)=>{var t,s,n;const{inputProps:l,errorId:u,showErrorMsg:c,hasError:b,size:p,inputDescriptionId:x}=At(e,"textarea"),{label:m,className:O,description:C,maxLength:T,hideLabel:re=!1,resize:I,UNSAFE_autoScrollbar:G,i18n:w,readOnly:j}=e,R=ur(e,["label","className","description","maxLength","hideLabel","resize","UNSAFE_autoScrollbar","i18n","readOnly"]),h=Ve(),_=T!==void 0&&T>0,[A,k]=J.useState((t=e==null?void 0:e.defaultValue)!==null&&t!==void 0?t:""),P=()=>{let K=R!=null&&R.minRows?R==null?void 0:R.minRows:3;return p==="small"&&(K=R!=null&&R.minRows?R==null?void 0:R.minRows:2),K},D=ie(l["aria-describedby"],{[h??""]:_});return v.createElement("div",{className:ie(O,"navds-form-field",`navds-form-field--${p}`,{"navds-form-field--disabled":!!l.disabled,"navds-form-field--readonly":j,"navds-textarea--readonly":j,"navds-textarea--error":b,"navds-textarea--autoscrollbar":G,[`navds-textarea--resize-${I===!0?"both":I}`]:I})},v.createElement(Zt,{htmlFor:l.id,size:p,className:ie("navds-form-field__label",{"navds-sr-only":re})},j&&v.createElement(tr,null),m),!!C&&v.createElement(we,{className:ie("navds-form-field__description",{"navds-sr-only":re}),id:x,size:p,as:"div"},C),v.createElement(lr,Object.assign({},pe(R,["error","errorId","size"]),l,{onChange:Jt(e.onChange,e.value===void 0?K=>k(K.target.value):void 0),minRows:P(),autoScrollbar:G,ref:r,readOnly:j,className:ie("navds-textarea__input","navds-body-short",`navds-body-short--${p??"medium"}`)},D?{"aria-describedby":D}:{})),_&&!j&&!l.disabled&&v.createElement(or,{maxLengthId:h,maxLength:T,currentLength:(n=(s=e.value)===null||s===void 0?void 0:s.length)!==null&&n!==void 0?n:A.length,size:p,i18n:w}),v.createElement("div",{className:"navds-form-field__error",id:u,"aria-relevant":"additions removals","aria-live":"polite"},c&&v.createElement(Qt,{size:p},e.error)))});var be=e=>e.type==="checkbox",ce=e=>e instanceof Date,Z=e=>e==null;const wt=e=>typeof e=="object";var B=e=>!Z(e)&&!Array.isArray(e)&&wt(e)&&!ce(e),St=e=>B(e)&&e.target?be(e.target)?e.target.checked:e.target.value:e,dr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Et=(e,r)=>e.has(dr(r)),cr=e=>{const r=e.constructor&&e.constructor.prototype;return B(r)&&r.hasOwnProperty("isPrototypeOf")},Ze=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function W(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Ze&&(e instanceof Blob||e instanceof FileList))&&(t||B(e)))if(r=t?[]:{},!t&&!cr(e))r=e;else for(const s in e)e.hasOwnProperty(s)&&(r[s]=W(e[s]));else return e;return r}var xe=e=>Array.isArray(e)?e.filter(Boolean):[],M=e=>e===void 0,f=(e,r,t)=>{if(!r||!B(e))return t;const s=xe(r.split(/[,[\].]+?/)).reduce((n,l)=>Z(n)?n:n[l],e);return M(s)||s===e?M(e[r])?t:e[r]:s},ee=e=>typeof e=="boolean",Je=e=>/^\w*$/.test(e),Ot=e=>xe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),N=(e,r,t)=>{let s=-1;const n=Je(r)?[r]:Ot(r),l=n.length,u=l-1;for(;++s<l;){const c=n[s];let b=t;if(s!==u){const p=e[c];b=B(p)||Array.isArray(p)?p:isNaN(+n[s+1])?{}:[]}if(c==="__proto__")return;e[c]=b,e=e[c]}return e};const Se={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},te={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ne={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},kt=v.createContext(null),De=()=>v.useContext(kt),Pr=e=>{const{children:r,...t}=e;return v.createElement(kt.Provider,{value:t},r)};var Dt=(e,r,t,s=!0)=>{const n={defaultValues:r._defaultValues};for(const l in e)Object.defineProperty(n,l,{get:()=>{const u=l;return r._proxyFormState[u]!==te.all&&(r._proxyFormState[u]=!s||te.all),t&&(t[u]=!0),e[u]}});return n},Y=e=>B(e)&&!Object.keys(e).length,Ct=(e,r,t,s)=>{t(e);const{name:n,...l}=e;return Y(l)||Object.keys(l).length>=Object.keys(r).length||Object.keys(l).find(u=>r[u]===(!s||te.all))},X=e=>Array.isArray(e)?e:[e],Rt=(e,r,t)=>!e||!r||e===r||X(e).some(s=>s&&(t?s===r:s.startsWith(r)||r.startsWith(s)));function Ce(e){const r=v.useRef(e);r.current=e,v.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function fr(e){const r=De(),{control:t=r.control,disabled:s,name:n,exact:l}=e||{},[u,c]=v.useState(t._formState),b=v.useRef(!0),p=v.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),x=v.useRef(n);return x.current=n,Ce({disabled:s,next:m=>b.current&&Rt(x.current,m.name,l)&&Ct(m,p.current,t._updateFormState)&&c({...t._formState,...m}),subject:t._subjects.state}),v.useEffect(()=>(b.current=!0,p.current.isValid&&t._updateValid(!0),()=>{b.current=!1}),[t]),Dt(u,t,p.current,!1)}var ae=e=>typeof e=="string",Nt=(e,r,t,s,n)=>ae(e)?(s&&r.watch.add(e),f(t,e,n)):Array.isArray(e)?e.map(l=>(s&&r.watch.add(l),f(t,l))):(s&&(r.watchAll=!0),t);function yr(e){const r=De(),{control:t=r.control,name:s,defaultValue:n,disabled:l,exact:u}=e||{},c=v.useRef(s);c.current=s,Ce({disabled:l,subject:t._subjects.values,next:x=>{Rt(c.current,x.name,u)&&p(W(Nt(c.current,t._names,x.values||t._formValues,!1,n)))}});const[b,p]=v.useState(t._getWatch(s,n));return v.useEffect(()=>t._removeUnmounted()),b}function Ur(e){const r=De(),{name:t,disabled:s,control:n=r.control,shouldUnregister:l}=e,u=Et(n._names.array,t),c=yr({control:n,name:t,defaultValue:f(n._formValues,t,f(n._defaultValues,t,e.defaultValue)),exact:!0}),b=fr({control:n,name:t,exact:!0}),p=v.useRef(n.register(t,{...e.rules,value:c,...ee(e.disabled)?{disabled:e.disabled}:{}}));return v.useEffect(()=>{const x=n._options.shouldUnregister||l,m=(O,C)=>{const T=f(n._fields,O);T&&T._f&&(T._f.mount=C)};if(m(t,!0),x){const O=W(f(n._options.defaultValues,t));N(n._defaultValues,t,O),M(f(n._formValues,t))&&N(n._formValues,t,O)}return()=>{(u?x&&!n._state.action:x)?n.unregister(t):m(t,!1)}},[t,n,u,l]),v.useEffect(()=>{f(n._fields,t)&&n._updateDisabledField({disabled:s,fields:n._fields,name:t,value:f(n._fields,t)._f.value})},[s,t,n]),{field:{name:t,value:c,...ee(s)||b.disabled?{disabled:b.disabled||s}:{},onChange:v.useCallback(x=>p.current.onChange({target:{value:St(x),name:t},type:Se.CHANGE}),[t]),onBlur:v.useCallback(()=>p.current.onBlur({target:{value:f(n._formValues,t),name:t},type:Se.BLUR}),[t,n]),ref:v.useCallback(x=>{const m=f(n._fields,t);m&&x&&(m._f.ref={focus:()=>x.focus(),select:()=>x.select(),setCustomValidity:O=>x.setCustomValidity(O),reportValidity:()=>x.reportValidity()})},[n._fields,t])},formState:b,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(b.errors,t)},isDirty:{enumerable:!0,get:()=>!!f(b.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!f(b.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!f(b.validatingFields,t)},error:{enumerable:!0,get:()=>f(b.errors,t)}})}}var vr=(e,r,t,s,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[s]:n||!0}}:{},le=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const t=(Math.random()*16+e)%16|0;return(r=="x"?t:t&3|8).toString(16)})},Me=(e,r,t={})=>t.shouldFocus||M(t.shouldFocus)?t.focusName||`${e}.${M(t.focusIndex)?r:t.focusIndex}.`:"",_e=e=>({isOnSubmit:!e||e===te.onSubmit,isOnBlur:e===te.onBlur,isOnChange:e===te.onChange,isOnAll:e===te.all,isOnTouch:e===te.onTouched}),Ge=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const ye=(e,r,t,s)=>{for(const n of t||Object.keys(e)){const l=f(e,n);if(l){const{_f:u,...c}=l;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],n)&&!s)return!0;if(u.ref&&r(u.ref,u.name)&&!s)return!0;if(ye(c,r))break}else if(B(c)&&ye(c,r))break}}};var Tt=(e,r,t)=>{const s=X(f(e,t));return N(s,"root",r[t]),N(e,t,s),e},Qe=e=>e.type==="file",se=e=>typeof e=="function",Ee=e=>{if(!Ze)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Ae=e=>ae(e),Xe=e=>e.type==="radio",Oe=e=>e instanceof RegExp;const ht={value:!1,isValid:!1},gt={value:!0,isValid:!0};var Lt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!M(e[0].attributes.value)?M(e[0].value)||e[0].value===""?gt:{value:e[0].value,isValid:!0}:gt:ht}return ht};const mt={isValid:!1,value:null};var Mt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,mt):mt;function _t(e,r,t="validate"){if(Ae(e)||Array.isArray(e)&&e.every(Ae)||ee(e)&&!e)return{type:t,message:Ae(e)?e:"",ref:r}}var fe=e=>B(e)&&!Oe(e)?e:{value:e,message:""},Ke=async(e,r,t,s,n)=>{const{ref:l,refs:u,required:c,maxLength:b,minLength:p,min:x,max:m,pattern:O,validate:C,name:T,valueAsNumber:re,mount:I,disabled:G}=e._f,w=f(r,T);if(!I||G)return{};const j=u?u[0]:l,R=V=>{s&&j.reportValidity&&(j.setCustomValidity(ee(V)?"":V||""),j.reportValidity())},h={},_=Xe(l),A=be(l),k=_||A,P=(re||Qe(l))&&M(l.value)&&M(w)||Ee(l)&&l.value===""||w===""||Array.isArray(w)&&!w.length,D=vr.bind(null,T,t,h),K=(V,S,L,U=ne.maxLength,z=ne.minLength)=>{const Q=V?S:L;h[T]={type:V?U:z,message:Q,ref:l,...D(V?U:z,Q)}};if(n?!Array.isArray(w)||!w.length:c&&(!k&&(P||Z(w))||ee(w)&&!w||A&&!Lt(u).isValid||_&&!Mt(u).isValid)){const{value:V,message:S}=Ae(c)?{value:!!c,message:c}:fe(c);if(V&&(h[T]={type:ne.required,message:S,ref:j,...D(ne.required,S)},!t))return R(S),h}if(!P&&(!Z(x)||!Z(m))){let V,S;const L=fe(m),U=fe(x);if(!Z(w)&&!isNaN(w)){const z=l.valueAsNumber||w&&+w;Z(L.value)||(V=z>L.value),Z(U.value)||(S=z<U.value)}else{const z=l.valueAsDate||new Date(w),Q=he=>new Date(new Date().toDateString()+" "+he),ue=l.type=="time",ve=l.type=="week";ae(L.value)&&w&&(V=ue?Q(w)>Q(L.value):ve?w>L.value:z>new Date(L.value)),ae(U.value)&&w&&(S=ue?Q(w)<Q(U.value):ve?w<U.value:z<new Date(U.value))}if((V||S)&&(K(!!V,L.message,U.message,ne.max,ne.min),!t))return R(h[T].message),h}if((b||p)&&!P&&(ae(w)||n&&Array.isArray(w))){const V=fe(b),S=fe(p),L=!Z(V.value)&&w.length>+V.value,U=!Z(S.value)&&w.length<+S.value;if((L||U)&&(K(L,V.message,S.message),!t))return R(h[T].message),h}if(O&&!P&&ae(w)){const{value:V,message:S}=fe(O);if(Oe(V)&&!w.match(V)&&(h[T]={type:ne.pattern,message:S,ref:l,...D(ne.pattern,S)},!t))return R(S),h}if(C){if(se(C)){const V=await C(w,r),S=_t(V,j);if(S&&(h[T]={...S,...D(ne.validate,S.message)},!t))return R(S.message),h}else if(B(C)){let V={};for(const S in C){if(!Y(V)&&!t)break;const L=_t(await C[S](w,r),j,S);L&&(V={...L,...D(S,L.message)},R(L.message),t&&(h[T]=V))}if(!Y(V)&&(h[T]={ref:j,...V},!t))return h}}return R(!0),h},Pe=(e,r)=>[...e,...X(r)],Ue=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Ie(e,r,t){return[...e.slice(0,r),...X(t),...e.slice(r)]}var je=(e,r,t)=>Array.isArray(e)?(M(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(r,1)[0]),e):[],Be=(e,r)=>[...X(r),...X(e)];function hr(e,r){let t=0;const s=[...e];for(const n of r)s.splice(n-t,1),t++;return xe(s).length?s:[]}var ze=(e,r)=>M(r)?[]:hr(e,X(r).sort((t,s)=>t-s)),He=(e,r,t)=>{[e[r],e[t]]=[e[t],e[r]]};function gr(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=M(e)?s++:e[r[s++]];return e}function mr(e){for(const r in e)if(e.hasOwnProperty(r)&&!M(e[r]))return!1;return!0}function H(e,r){const t=Array.isArray(r)?r:Je(r)?[r]:Ot(r),s=t.length===1?e:gr(e,t),n=t.length-1,l=t[n];return s&&delete s[l],n!==0&&(B(s)&&Y(s)||Array.isArray(s)&&mr(s))&&H(e,t.slice(0,-1)),e}var bt=(e,r,t)=>(e[r]=t,e);function Ir(e){const r=De(),{control:t=r.control,name:s,keyName:n="id",shouldUnregister:l}=e,[u,c]=v.useState(t._getFieldArray(s)),b=v.useRef(t._getFieldArray(s).map(le)),p=v.useRef(u),x=v.useRef(s),m=v.useRef(!1);x.current=s,p.current=u,t._names.array.add(s),e.rules&&t.register(s,e.rules),Ce({next:({values:h,name:_})=>{if(_===x.current||!_){const A=f(h,x.current);Array.isArray(A)&&(c(A),b.current=A.map(le))}},subject:t._subjects.array});const O=v.useCallback(h=>{m.current=!0,t._updateFieldArray(s,h)},[t,s]),C=(h,_)=>{const A=X(W(h)),k=Pe(t._getFieldArray(s),A);t._names.focus=Me(s,k.length-1,_),b.current=Pe(b.current,A.map(le)),O(k),c(k),t._updateFieldArray(s,k,Pe,{argA:Ue(h)})},T=(h,_)=>{const A=X(W(h)),k=Be(t._getFieldArray(s),A);t._names.focus=Me(s,0,_),b.current=Be(b.current,A.map(le)),O(k),c(k),t._updateFieldArray(s,k,Be,{argA:Ue(h)})},re=h=>{const _=ze(t._getFieldArray(s),h);b.current=ze(b.current,h),O(_),c(_),t._updateFieldArray(s,_,ze,{argA:h})},I=(h,_,A)=>{const k=X(W(_)),P=Ie(t._getFieldArray(s),h,k);t._names.focus=Me(s,h,A),b.current=Ie(b.current,h,k.map(le)),O(P),c(P),t._updateFieldArray(s,P,Ie,{argA:h,argB:Ue(_)})},G=(h,_)=>{const A=t._getFieldArray(s);He(A,h,_),He(b.current,h,_),O(A),c(A),t._updateFieldArray(s,A,He,{argA:h,argB:_},!1)},w=(h,_)=>{const A=t._getFieldArray(s);je(A,h,_),je(b.current,h,_),O(A),c(A),t._updateFieldArray(s,A,je,{argA:h,argB:_},!1)},j=(h,_)=>{const A=W(_),k=bt(t._getFieldArray(s),h,A);b.current=[...k].map((P,D)=>!P||D===h?le():b.current[D]),O(k),c([...k]),t._updateFieldArray(s,k,bt,{argA:h,argB:A},!0,!1)},R=h=>{const _=X(W(h));b.current=_.map(le),O([..._]),c([..._]),t._updateFieldArray(s,[..._],A=>A,{},!0,!1)};return v.useEffect(()=>{if(t._state.action=!1,Ge(s,t._names)&&t._subjects.state.next({...t._formState}),m.current&&(!_e(t._options.mode).isOnSubmit||t._formState.isSubmitted))if(t._options.resolver)t._executeSchema([s]).then(h=>{const _=f(h.errors,s),A=f(t._formState.errors,s);(A?!_&&A.type||_&&(A.type!==_.type||A.message!==_.message):_&&_.type)&&(_?N(t._formState.errors,s,_):H(t._formState.errors,s),t._subjects.state.next({errors:t._formState.errors}))});else{const h=f(t._fields,s);h&&h._f&&!(_e(t._options.reValidateMode).isOnSubmit&&_e(t._options.mode).isOnSubmit)&&Ke(h,t._formValues,t._options.criteriaMode===te.all,t._options.shouldUseNativeValidation,!0).then(_=>!Y(_)&&t._subjects.state.next({errors:Tt(t._formState.errors,_,s)}))}t._subjects.values.next({name:s,values:{...t._formValues}}),t._names.focus&&ye(t._fields,(h,_)=>{if(t._names.focus&&_.startsWith(t._names.focus)&&h.focus)return h.focus(),1}),t._names.focus="",t._updateValid(),m.current=!1},[u,s,t]),v.useEffect(()=>(!f(t._formValues,s)&&t._updateFieldArray(s),()=>{(t._options.shouldUnregister||l)&&t.unregister(s)}),[s,t,n,l]),{swap:v.useCallback(G,[O,s,t]),move:v.useCallback(w,[O,s,t]),prepend:v.useCallback(T,[O,s,t]),append:v.useCallback(C,[O,s,t]),remove:v.useCallback(re,[O,s,t]),insert:v.useCallback(I,[O,s,t]),update:v.useCallback(j,[O,s,t]),replace:v.useCallback(R,[O,s,t]),fields:v.useMemo(()=>u.map((h,_)=>({...h,[n]:b.current[_]||le()})),[u,n])}}var We=()=>{let e=[];return{get observers(){return e},next:n=>{for(const l of e)l.next&&l.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(l=>l!==n)}}),unsubscribe:()=>{e=[]}}},Ye=e=>Z(e)||!wt(e);function oe(e,r){if(Ye(e)||Ye(r))return e===r;if(ce(e)&&ce(r))return e.getTime()===r.getTime();const t=Object.keys(e),s=Object.keys(r);if(t.length!==s.length)return!1;for(const n of t){const l=e[n];if(!s.includes(n))return!1;if(n!=="ref"){const u=r[n];if(ce(l)&&ce(u)||B(l)&&B(u)||Array.isArray(l)&&Array.isArray(u)?!oe(l,u):l!==u)return!1}}return!0}var Pt=e=>e.type==="select-multiple",_r=e=>Xe(e)||be(e),qe=e=>Ee(e)&&e.isConnected,Ut=e=>{for(const r in e)if(se(e[r]))return!0;return!1};function ke(e,r={}){const t=Array.isArray(e);if(B(e)||t)for(const s in e)Array.isArray(e[s])||B(e[s])&&!Ut(e[s])?(r[s]=Array.isArray(e[s])?[]:{},ke(e[s],r[s])):Z(e[s])||(r[s]=!0);return r}function It(e,r,t){const s=Array.isArray(e);if(B(e)||s)for(const n in e)Array.isArray(e[n])||B(e[n])&&!Ut(e[n])?M(r)||Ye(t[n])?t[n]=Array.isArray(e[n])?ke(e[n],[]):{...ke(e[n])}:It(e[n],Z(r)?{}:r[n],t[n]):t[n]=!oe(e[n],r[n]);return t}var ge=(e,r)=>It(e,r,ke(r)),jt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>M(e)?e:r?e===""?NaN:e&&+e:t&&ae(e)?new Date(e):s?s(e):e;function $e(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return Qe(r)?r.files:Xe(r)?Mt(e.refs).value:Pt(r)?[...r.selectedOptions].map(({value:t})=>t):be(r)?Lt(e.refs).value:jt(M(r.value)?e.ref.value:r.value,e)}var br=(e,r,t,s)=>{const n={};for(const l of e){const u=f(r,l);u&&N(n,l,u._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:s}},me=e=>M(e)?e:Oe(e)?e.source:B(e)?Oe(e.value)?e.value.source:e.value:e;const xt="AsyncFunction";var xr=e=>(!e||!e.validate)&&!!(se(e.validate)&&e.validate.constructor.name===xt||B(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===xt)),Fr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Ft(e,r,t){const s=f(e,t);if(s||Je(t))return{error:s,name:t};const n=t.split(".");for(;n.length;){const l=n.join("."),u=f(r,l),c=f(e,l);if(u&&!Array.isArray(u)&&t!==l)return{name:t};if(c&&c.type)return{name:l,error:c};n.pop()}return{name:t}}var Ar=(e,r,t,s,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(r||e):(t?s.isOnBlur:n.isOnBlur)?!e:(t?s.isOnChange:n.isOnChange)?e:!0,Vr=(e,r)=>!xe(f(e,r)).length&&H(e,r);const pr={mode:te.onSubmit,reValidateMode:te.onChange,shouldFocusError:!0};function wr(e={}){let r={...pr,...e},t={submitCount:0,isDirty:!1,isLoading:se(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},s={},n=B(r.defaultValues)||B(r.values)?W(r.defaultValues||r.values)||{}:{},l=r.shouldUnregister?{}:W(n),u={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},b,p=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:We(),array:We(),state:We()},O=_e(r.mode),C=_e(r.reValidateMode),T=r.criteriaMode===te.all,re=a=>i=>{clearTimeout(p),p=setTimeout(a,i)},I=async a=>{if(!r.disabled&&(x.isValid||a)){const i=r.resolver?Y((await k()).errors):await D(s,!0);i!==t.isValid&&m.state.next({isValid:i})}},G=(a,i)=>{!r.disabled&&(x.isValidating||x.validatingFields)&&((a||Array.from(c.mount)).forEach(o=>{o&&(i?N(t.validatingFields,o,i):H(t.validatingFields,o))}),m.state.next({validatingFields:t.validatingFields,isValidating:!Y(t.validatingFields)}))},w=(a,i=[],o,g,y=!0,d=!0)=>{if(g&&o&&!r.disabled){if(u.action=!0,d&&Array.isArray(f(s,a))){const F=o(f(s,a),g.argA,g.argB);y&&N(s,a,F)}if(d&&Array.isArray(f(t.errors,a))){const F=o(f(t.errors,a),g.argA,g.argB);y&&N(t.errors,a,F),Vr(t.errors,a)}if(x.touchedFields&&d&&Array.isArray(f(t.touchedFields,a))){const F=o(f(t.touchedFields,a),g.argA,g.argB);y&&N(t.touchedFields,a,F)}x.dirtyFields&&(t.dirtyFields=ge(n,l)),m.state.next({name:a,isDirty:V(a,i),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else N(l,a,i)},j=(a,i)=>{N(t.errors,a,i),m.state.next({errors:t.errors})},R=a=>{t.errors=a,m.state.next({errors:t.errors,isValid:!1})},h=(a,i,o,g)=>{const y=f(s,a);if(y){const d=f(l,a,M(o)?f(n,a):o);M(d)||g&&g.defaultChecked||i?N(l,a,i?d:$e(y._f)):U(a,d),u.mount&&I()}},_=(a,i,o,g,y)=>{let d=!1,F=!1;const E={name:a};if(!r.disabled){const q=!!(f(s,a)&&f(s,a)._f&&f(s,a)._f.disabled);if(!o||g){x.isDirty&&(F=t.isDirty,t.isDirty=E.isDirty=V(),d=F!==E.isDirty);const $=q||oe(f(n,a),i);F=!!(!q&&f(t.dirtyFields,a)),$||q?H(t.dirtyFields,a):N(t.dirtyFields,a,!0),E.dirtyFields=t.dirtyFields,d=d||x.dirtyFields&&F!==!$}if(o){const $=f(t.touchedFields,a);$||(N(t.touchedFields,a,o),E.touchedFields=t.touchedFields,d=d||x.touchedFields&&$!==o)}d&&y&&m.state.next(E)}return d?E:{}},A=(a,i,o,g)=>{const y=f(t.errors,a),d=x.isValid&&ee(i)&&t.isValid!==i;if(e.delayError&&o?(b=re(()=>j(a,o)),b(e.delayError)):(clearTimeout(p),b=null,o?N(t.errors,a,o):H(t.errors,a)),(o?!oe(y,o):y)||!Y(g)||d){const F={...g,...d&&ee(i)?{isValid:i}:{},errors:t.errors,name:a};t={...t,...F},m.state.next(F)}},k=async a=>{G(a,!0);const i=await r.resolver(l,r.context,br(a||c.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return G(a),i},P=async a=>{const{errors:i}=await k(a);if(a)for(const o of a){const g=f(i,o);g?N(t.errors,o,g):H(t.errors,o)}else t.errors=i;return i},D=async(a,i,o={valid:!0})=>{for(const g in a){const y=a[g];if(y){const{_f:d,...F}=y;if(d){const E=c.array.has(d.name),q=y._f&&xr(y._f);q&&x.validatingFields&&G([g],!0);const $=await Ke(y,l,T,r.shouldUseNativeValidation&&!i,E);if(q&&x.validatingFields&&G([g]),$[d.name]&&(o.valid=!1,i))break;!i&&(f($,d.name)?E?Tt(t.errors,$,d.name):N(t.errors,d.name,$[d.name]):H(t.errors,d.name))}!Y(F)&&await D(F,i,o)}}return o.valid},K=()=>{for(const a of c.unMount){const i=f(s,a);i&&(i._f.refs?i._f.refs.every(o=>!qe(o)):!qe(i._f.ref))&&Re(a)}c.unMount=new Set},V=(a,i)=>!r.disabled&&(a&&i&&N(l,a,i),!oe(et(),n)),S=(a,i,o)=>Nt(a,c,{...u.mount?l:M(i)?n:ae(a)?{[a]:i}:i},o,i),L=a=>xe(f(u.mount?l:n,a,e.shouldUnregister?f(n,a,[]):[])),U=(a,i,o={})=>{const g=f(s,a);let y=i;if(g){const d=g._f;d&&(!d.disabled&&N(l,a,jt(i,d)),y=Ee(d.ref)&&Z(i)?"":i,Pt(d.ref)?[...d.ref.options].forEach(F=>F.selected=y.includes(F.value)):d.refs?be(d.ref)?d.refs.length>1?d.refs.forEach(F=>(!F.defaultChecked||!F.disabled)&&(F.checked=Array.isArray(y)?!!y.find(E=>E===F.value):y===F.value)):d.refs[0]&&(d.refs[0].checked=!!y):d.refs.forEach(F=>F.checked=F.value===y):Qe(d.ref)?d.ref.value="":(d.ref.value=y,d.ref.type||m.values.next({name:a,values:{...l}})))}(o.shouldDirty||o.shouldTouch)&&_(a,y,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&he(a)},z=(a,i,o)=>{for(const g in i){const y=i[g],d=`${a}.${g}`,F=f(s,d);(c.array.has(a)||B(y)||F&&!F._f)&&!ce(y)?z(d,y,o):U(d,y,o)}},Q=(a,i,o={})=>{const g=f(s,a),y=c.array.has(a),d=W(i);N(l,a,d),y?(m.array.next({name:a,values:{...l}}),(x.isDirty||x.dirtyFields)&&o.shouldDirty&&m.state.next({name:a,dirtyFields:ge(n,l),isDirty:V(a,d)})):g&&!g._f&&!Z(d)?z(a,d,o):U(a,d,o),Ge(a,c)&&m.state.next({...t}),m.values.next({name:u.mount?a:void 0,values:{...l}})},ue=async a=>{u.mount=!0;const i=a.target;let o=i.name,g=!0;const y=f(s,o),d=()=>i.type?$e(y._f):St(a),F=E=>{g=Number.isNaN(E)||ce(E)&&isNaN(E.getTime())||oe(E,f(l,o,E))};if(y){let E,q;const $=d(),de=a.type===Se.BLUR||a.type===Se.FOCUS_OUT,qt=!Fr(y._f)&&!r.resolver&&!f(t.errors,o)&&!y._f.deps||Ar(de,f(t.touchedFields,o),t.isSubmitted,C,O),Te=Ge(o,c,de);N(l,o,$),de?(y._f.onBlur&&y._f.onBlur(a),b&&b(0)):y._f.onChange&&y._f.onChange(a);const Le=_(o,$,de,!1),$t=!Y(Le)||Te;if(!de&&m.values.next({name:o,type:a.type,values:{...l}}),qt)return x.isValid&&(e.mode==="onBlur"?de&&I():I()),$t&&m.state.next({name:o,...Te?{}:Le});if(!de&&Te&&m.state.next({...t}),r.resolver){const{errors:ot}=await k([o]);if(F($),g){const Gt=Ft(t.errors,s,o),ut=Ft(ot,s,Gt.name||o);E=ut.error,o=ut.name,q=Y(ot)}}else G([o],!0),E=(await Ke(y,l,T,r.shouldUseNativeValidation))[o],G([o]),F($),g&&(E?q=!1:x.isValid&&(q=await D(s,!0)));g&&(y._f.deps&&he(y._f.deps),A(o,q,E,Le))}},ve=(a,i)=>{if(f(t.errors,i)&&a.focus)return a.focus(),1},he=async(a,i={})=>{let o,g;const y=X(a);if(r.resolver){const d=await P(M(a)?a:y);o=Y(d),g=a?!y.some(F=>f(d,F)):o}else a?(g=(await Promise.all(y.map(async d=>{const F=f(s,d);return await D(F&&F._f?{[d]:F}:F)}))).every(Boolean),!(!g&&!t.isValid)&&I()):g=o=await D(s);return m.state.next({...!ae(a)||x.isValid&&o!==t.isValid?{}:{name:a},...r.resolver||!a?{isValid:o}:{},errors:t.errors}),i.shouldFocus&&!g&&ye(s,ve,a?y:c.mount),g},et=a=>{const i={...u.mount?l:n};return M(a)?i:ae(a)?f(i,a):a.map(o=>f(i,o))},tt=(a,i)=>({invalid:!!f((i||t).errors,a),isDirty:!!f((i||t).dirtyFields,a),error:f((i||t).errors,a),isValidating:!!f(t.validatingFields,a),isTouched:!!f((i||t).touchedFields,a)}),Bt=a=>{a&&X(a).forEach(i=>H(t.errors,i)),m.state.next({errors:a?t.errors:{}})},rt=(a,i,o)=>{const g=(f(s,a,{_f:{}})._f||{}).ref,y=f(t.errors,a)||{},{ref:d,message:F,type:E,...q}=y;N(t.errors,a,{...q,...i,ref:g}),m.state.next({name:a,errors:t.errors,isValid:!1}),o&&o.shouldFocus&&g&&g.focus&&g.focus()},zt=(a,i)=>se(a)?m.values.subscribe({next:o=>a(S(void 0,i),o)}):S(a,i,!0),Re=(a,i={})=>{for(const o of a?X(a):c.mount)c.mount.delete(o),c.array.delete(o),i.keepValue||(H(s,o),H(l,o)),!i.keepError&&H(t.errors,o),!i.keepDirty&&H(t.dirtyFields,o),!i.keepTouched&&H(t.touchedFields,o),!i.keepIsValidating&&H(t.validatingFields,o),!r.shouldUnregister&&!i.keepDefaultValue&&H(n,o);m.values.next({values:{...l}}),m.state.next({...t,...i.keepDirty?{isDirty:V()}:{}}),!i.keepIsValid&&I()},st=({disabled:a,name:i,field:o,fields:g,value:y})=>{if(ee(a)&&u.mount||a){const d=a?void 0:M(y)?$e(o?o._f:f(g,i)._f):y;N(l,i,d),_(i,d,!1,!1,!0)}},Ne=(a,i={})=>{let o=f(s,a);const g=ee(i.disabled)||ee(r.disabled);return N(s,a,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:a}},name:a,mount:!0,...i}}),c.mount.add(a),o?st({field:o,disabled:ee(i.disabled)?i.disabled:r.disabled,name:a,value:i.value}):h(a,!0,i.value),{...g?{disabled:i.disabled||r.disabled}:{},...r.progressive?{required:!!i.required,min:me(i.min),max:me(i.max),minLength:me(i.minLength),maxLength:me(i.maxLength),pattern:me(i.pattern)}:{},name:a,onChange:ue,onBlur:ue,ref:y=>{if(y){Ne(a,i),o=f(s,a);const d=M(y.value)&&y.querySelectorAll&&y.querySelectorAll("input,select,textarea")[0]||y,F=_r(d),E=o._f.refs||[];if(F?E.find(q=>q===d):d===o._f.ref)return;N(s,a,{_f:{...o._f,...F?{refs:[...E.filter(qe),d,...Array.isArray(f(n,a))?[{}]:[]],ref:{type:d.type,name:a}}:{ref:d}}}),h(a,!1,void 0,d)}else o=f(s,a,{}),o._f&&(o._f.mount=!1),(r.shouldUnregister||i.shouldUnregister)&&!(Et(c.array,a)&&u.action)&&c.unMount.add(a)}}},at=()=>r.shouldFocusError&&ye(s,ve,c.mount),Ht=a=>{ee(a)&&(m.state.next({disabled:a}),ye(s,(i,o)=>{const g=f(s,o);g&&(i.disabled=g._f.disabled||a,Array.isArray(g._f.refs)&&g._f.refs.forEach(y=>{y.disabled=g._f.disabled||a}))},0,!1))},nt=(a,i)=>async o=>{let g;if(o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist()),r.disabled){i&&await i({...t.errors},o);return}let y=W(l);if(m.state.next({isSubmitting:!0}),r.resolver){const{errors:d,values:F}=await k();t.errors=d,y=F}else await D(s);if(H(t.errors,"root"),Y(t.errors)){m.state.next({errors:{}});try{await a(y,o)}catch(d){g=d}}else i&&await i({...t.errors},o),at(),setTimeout(at);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Y(t.errors)&&!g,submitCount:t.submitCount+1,errors:t.errors}),g)throw g},Wt=(a,i={})=>{f(s,a)&&(M(i.defaultValue)?Q(a,W(f(n,a))):(Q(a,i.defaultValue),N(n,a,W(i.defaultValue))),i.keepTouched||H(t.touchedFields,a),i.keepDirty||(H(t.dirtyFields,a),t.isDirty=i.defaultValue?V(a,W(f(n,a))):V()),i.keepError||(H(t.errors,a),x.isValid&&I()),m.state.next({...t}))},it=(a,i={})=>{const o=a?W(a):n,g=W(o),y=Y(a),d=y?n:g;if(i.keepDefaultValues||(n=o),!i.keepValues){if(i.keepDirtyValues){const F=new Set([...c.mount,...Object.keys(ge(n,l))]);for(const E of Array.from(F))f(t.dirtyFields,E)?N(d,E,f(l,E)):Q(E,f(d,E))}else{if(Ze&&M(a))for(const F of c.mount){const E=f(s,F);if(E&&E._f){const q=Array.isArray(E._f.refs)?E._f.refs[0]:E._f.ref;if(Ee(q)){const $=q.closest("form");if($){$.reset();break}}}}s={}}l=e.shouldUnregister?i.keepDefaultValues?W(n):{}:W(d),m.array.next({values:{...d}}),m.values.next({values:{...d}})}c={mount:i.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!x.isValid||!!i.keepIsValid||!!i.keepDirtyValues,u.watch=!!e.shouldUnregister,m.state.next({submitCount:i.keepSubmitCount?t.submitCount:0,isDirty:y?!1:i.keepDirty?t.isDirty:!!(i.keepDefaultValues&&!oe(a,n)),isSubmitted:i.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:y?{}:i.keepDirtyValues?i.keepDefaultValues&&l?ge(n,l):t.dirtyFields:i.keepDefaultValues&&a?ge(n,a):i.keepDirty?t.dirtyFields:{},touchedFields:i.keepTouched?t.touchedFields:{},errors:i.keepErrors?t.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},lt=(a,i)=>it(se(a)?a(l):a,i);return{control:{register:Ne,unregister:Re,getFieldState:tt,handleSubmit:nt,setError:rt,_executeSchema:k,_getWatch:S,_getDirty:V,_updateValid:I,_removeUnmounted:K,_updateFieldArray:w,_updateDisabledField:st,_getFieldArray:L,_reset:it,_resetDefaultValues:()=>se(r.defaultValues)&&r.defaultValues().then(a=>{lt(a,r.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:a=>{t={...t,...a}},_disableForm:Ht,_subjects:m,_proxyFormState:x,_setErrors:R,get _fields(){return s},get _formValues(){return l},get _state(){return u},set _state(a){u=a},get _defaultValues(){return n},get _names(){return c},set _names(a){c=a},get _formState(){return t},set _formState(a){t=a},get _options(){return r},set _options(a){r={...r,...a}}},trigger:he,register:Ne,handleSubmit:nt,watch:zt,setValue:Q,getValues:et,reset:lt,resetField:Wt,clearErrors:Bt,unregister:Re,setError:rt,setFocus:(a,i={})=>{const o=f(s,a),g=o&&o._f;if(g){const y=g.refs?g.refs[0]:g.ref;y.focus&&(y.focus(),i.shouldSelect&&se(y.select)&&y.select())}},getFieldState:tt}}function jr(e={}){const r=v.useRef(),t=v.useRef(),[s,n]=v.useState({isDirty:!1,isValidating:!1,isLoading:se(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:se(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...wr(e),formState:s});const l=r.current.control;return l._options=e,Ce({subject:l._subjects.state,next:u=>{Ct(u,l._proxyFormState,l._updateFormState,!0)&&n({...l._formState})}}),v.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),v.useEffect(()=>{if(l._proxyFormState.isDirty){const u=l._getDirty();u!==s.isDirty&&l._subjects.state.next({isDirty:u})}},[l,s.isDirty]),v.useEffect(()=>{e.values&&!oe(e.values,t.current)?(l._reset(e.values,l._options.resetOptions),t.current=e.values,n(u=>({...u}))):l._resetDefaultValues()},[e.values,l]),v.useEffect(()=>{e.errors&&l._setErrors(e.errors)},[e.errors,l]),v.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),v.useEffect(()=>{e.shouldUnregister&&l._subjects.values.next({values:l._getWatch()})},[e.shouldUnregister,l]),r.current.formState=Dt(s,l),r.current}export{Pr as F,Tr as R,Mr as T,De as a,Ir as b,Ur as c,Vt as d,Lr as e,yr as f,jr as u};
