import{aa as bi,ax as Sk,u as In,y as ji,ay as yk,t as Ge,P as Ze,v as ce,w as m,c as Q,n as We,p as Le,W as w,C as I,X as Cs,T as Ue,az as Me,H as Re,G as x,Z as uo,_ as V,N as ye,j as Ne,x as ne,g as Jn,ac as Nk,e as zs,z as nr,b as ke,o as se,s as y,D as v,R as Ys,a1 as tn,ad as De,F as ut,a9 as Pk,a2 as K,h as Ja,a6 as ko,A as Hs,d as T,M as ie,aA as Js,m as xi,aB as Ve,a4 as me,l as Bt,f as mo,ag as fo,aC as co,S as ri,Q as Ai,B as qn,aD as Rk,aE as po,aF as qa,I as vo,i as qs,aG as Ok,aH as Bk,aI as Gr,a as Fk,$ as $k}from"./index.es-0b963059.js";import{bF as de,bG as Dk,n as pr,a2 as ae,ao as yr,a5 as we,a6 as Zn,aU as Vk,bH as Gk,J as _n,bI as ti,s as Ii,B as ze,F as Ye,T as je,r as X,j as Wn,b as $n,R as ho,P as Xe,Z as fn,b8 as ii,o as kt,a8 as bo,w as Ie,bJ as xr,k as cn,I as pn,l as jo,m as xo,y as Zs,a4 as Ft,aq as Ao,bK as jr,d as an,u as _e,bL as Lk,bM as vn,e as Ws,bN as Mk,av as Ti,bO as Kk,bP as Za,aK as Ei,bQ as wk,O as _i,bR as Uk,ap as Xn,aG as Si,aH as yi,bS as ve,bi as Ck,v as Io,aJ as Xs,a as To,bT as it,bU as zk,bV as Yk,ae as Qs,aw as xe,bW as Hk,bX as Jk,b9 as qk,aI as Zk,a0 as Wk,be as Xk,bY as On,as as Qk,al as Eo,_ as em}from"./AppIndex.stories-755f73d7.js";import{r as j,R as W}from"./index-6d8bab86.js";import{F as Nr}from"./VergeFaktaInitPanel-387358de.js";import{e as ea,s as _o,O as nm}from"./index.es-cfdcd849.js";import{v as dr,E as hn,A as B,s as Vn,I as Ee,R as ps,q as kn,N as rm,B as Z,H as na,M as Ar,Q as ra,_ as Wa,k as So,a as yo,n as No,p as tm,y as Po,i as im,e as sm,z as Ro,C as fe,J as En,x as Xa,w as am,g as Nn,c as Qa,X as lm}from"./index.es-bf42e136.js";import{x as dm,e as $e,_ as om,b as gm,k as um,g as km}from"./Timeline-7d3bd503.js";import{w as lt,s as mm}from"./index.es-67db383e.js";import{F as fm,K as ta,H as Pr,l as Oo}from"./index.es-09195487.js";import{P as ia}from"./ProsessDefaultInitPanel-a63cb0ea.js";const sa=j.createContext({variant:"default",headingSize:"small",size:"medium",openItems:[]});var cm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const aa=j.createContext(null),pm=j.forwardRef((e,n)=>{var{children:r,className:t,open:i,defaultOpen:s=!1,onClick:l,id:d}=e,o=cm(e,["children","className","open","defaultOpen","onClick","id"]);const[u,k]=j.useState(s),c=j.useContext(sa),[h,b]=j.useState(s),A=j.useRef(!(i||s)),_=()=>{if(i===void 0){const P=!h;b(P),k(P)}else k(!i);A.current=!0};return W.createElement("div",Object.assign({className:bi("navds-accordion__item",t,{"navds-accordion__item--open":i??u,"navds-accordion__item--neutral":(c==null?void 0:c.variant)==="neutral","navds-accordion__item--no-animation":!A.current}),ref:n},o),W.createElement(aa.Provider,{value:{open:i??u,toggleOpen:_}},r))}),vm=pm;var hm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const bm=j.forwardRef((e,n)=>{var{children:r,className:t}=e,i=hm(e,["children","className"]);const s=j.useContext(aa);return s===null?(console.error("<Accordion.Content> has to be used within an <Accordion.Item>"),null):W.createElement(Sk,Object.assign({},i,{as:"div",ref:n,className:bi("navds-accordion__content",{"navds-accordion__content--closed":!s.open},t)}),r)}),jm=bm;var xm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Am=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=xm(e,["title","titleId"]);let s=In();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.545 2.404a.75.75 0 0 1 .505-.152.757.757 0 0 1 .05-.002H19a.75.75 0 0 1 .75.75v18a.75.75 0 0 1-1.5 0V3.75H10.6l5.597 1.526A.75.75 0 0 1 16.75 6v15a.75.75 0 0 1-1.5 0V6.573l-9.5-2.591V21a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .295-.596ZM12.75 11.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z",fill:"currentColor"}))}),Im=Am;var Tm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Em=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Tm(e,["title","titleId"]);let s=In();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.311 4.619a8.253 8.253 0 0 0 2.051 15.469v-.326c0-1.26-.985-2.25-2.414-2.25-.808 0-1.546-.197-2.079-.718-.535-.524-.733-1.249-.733-2.024 0-1.203.638-2.164 1.492-2.799.845-.629 1.942-.974 3.008-.974.736 0 1.381.187 1.899.342l.04.012c.534.16.888.267 1.225.267.003 0 .008 0 .02-.005a.268.268 0 0 0 .065-.038.976.976 0 0 0 .23-.281c.17-.29.27-.669.27-.965 0-.013-.014-.124-.191-.332a3.45 3.45 0 0 0-.713-.599 5.375 5.375 0 0 0-.876-.467 3.096 3.096 0 0 0-.307-.11c-.02.044-.044.1-.07.169-.031.08-.06.163-.093.257v.001h-.001c-.032.09-.067.192-.105.288-.061.16-.176.444-.383.65a.868.868 0 0 1-.828.242.964.964 0 0 1-.52-.351 2.938 2.938 0 0 1-.288-.497l-.023-.046a3.321 3.321 0 0 0-.144-.269.428.428 0 0 0-.13.05.903.903 0 0 0-.222.208 4.357 4.357 0 0 0-.054.066 4.055 4.055 0 0 1-.319.365 1.268 1.268 0 0 1-.888.376c-.34 0-.735-.074-1.076-.32-.36-.26-.577-.652-.644-1.116-.079-.548.155-1.12.403-1.559A6.565 6.565 0 0 1 6.97 5.97c.172-.172.355-.33.513-.467l.101-.087c.189-.165.349-.311.493-.48a2.58 2.58 0 0 0 .234-.317Zm1.86-.665c-.21.882-.548 1.484-.956 1.96a6.14 6.14 0 0 1-.646.633l-.122.105c-.155.135-.287.249-.417.378-.331.332-.62.705-.811 1.043a2.175 2.175 0 0 0-.193.43.786.786 0 0 0-.03.134.221.221 0 0 0-.001.043.3.3 0 0 0 .029.104c.004.007.006.008.007.009.005.003.032.02.095.03.02-.022.039-.046.065-.079l.152-.187c.135-.16.33-.37.61-.535.29-.17.636-.272 1.047-.272.453 0 .758.264.927.461.064-.14.144-.29.245-.424.17-.225.48-.505.952-.505.331 0 .722.125 1.053.262.36.149.757.356 1.13.601.368.243.74.54 1.027.878.277.325.552.774.552 1.306 0 .57-.175 1.21-.477 1.724-.286.486-.817 1.065-1.61 1.065-.566 0-1.123-.169-1.581-.308l-.115-.034c-.517-.156-.973-.28-1.467-.28-.762 0-1.54.253-2.113.679-.565.42-.887.97-.887 1.595 0 .537.135.808.283.952.15.147.443.29 1.03.29 2.18 0 3.913 1.588 3.913 3.75v.487l.138.001a8.22 8.22 0 0 0 3.416-.738.426.426 0 0 0 .058-.149c.015-.084.02-.236-.009-.63v-.006l-.01-.113c-.01-.135-.027-.327-.027-.5 0-.754.396-1.3.892-1.856.108-.124.184-.216.237-.287-.075-.048-.162-.1-.262-.161l-.003-.003a16.024 16.024 0 0 1-.45-.28c-.308-.203-.667-.464-.954-.79-.29-.332-.55-.782-.55-1.345 0-.624.28-1.216.66-1.645.376-.424.946-.793 1.613-.793.845 0 1.397.465 1.691.713.037.031.07.06.1.082l.007.006.169.138c.207.168.365.297.49.394.209-.139.56-.337 1.024-.337h.158a8.25 8.25 0 0 0-10.08-7.996Zm9.952 9.496a8.249 8.249 0 0 1-3.164 5.144l-.015-.181c-.009-.108-.016-.192-.016-.299 0-.158.047-.338.513-.86l.003-.003c.44-.5.726-.897.726-1.469 0-.372-.23-.618-.322-.71a2.508 2.508 0 0 0-.377-.296c-.119-.079-.253-.16-.38-.238l-.018-.011a14.821 14.821 0 0 1-.408-.255c-.274-.18-.498-.353-.649-.525-.147-.168-.178-.28-.178-.355 0-.185.094-.437.283-.65.192-.217.384-.288.49-.288.274 0 .403.104.711.353l.144.115.157.128c.261.213.473.385.634.507.097.072.198.145.298.202.071.041.262.148.506.148a.95.95 0 0 0 .38-.082c.083-.036.154-.08.202-.11l.132-.092.006-.005.098-.069c.131-.089.184-.099.213-.099h.03ZM2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm6.53-2.821a.03.03 0 0 0-.004-.005l.001.002.004.003Z",fill:"currentColor"}))}),_m=Em;var Sm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const ym=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Sm(e,["title","titleId"]);let s=In();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 3.25a.25.25 0 0 1 .25.25v4c0 .69.56 1.25 1.25 1.25h4a.25.25 0 0 1 .25.25v10.5c0 .69-.56 1.25-1.25 1.25h-11c-.69 0-1.25-.56-1.25-1.25v-15c0-.69.56-1.25 1.25-1.25H13Zm2.177.866a.25.25 0 0 0-.427.177V7c0 .138.112.25.25.25h2.707a.25.25 0 0 0 .177-.427l-2.707-2.707Z",fill:"currentColor"}))}),Bo=ym;var Nm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Pm=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Nm(e,["title","titleId"]);let s=In();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.525 2.167c-.754-.12-1.61.093-2.525.826-.914-.732-1.768-.947-2.522-.829-.835.132-1.354.65-1.503.8l-.005.006-.006.006c-.15.149-.669.667-.8 1.502-.141.898.19 1.937 1.306 3.052l3 3a.75.75 0 0 0 1.06 0l3-3c1.116-1.116 1.445-2.158 1.303-3.055-.133-.836-.651-1.354-.797-1.5l-.006-.005-.005-.006c-.146-.146-.664-.664-1.5-.797ZM9.03 4.03c.113-.112.341-.33.682-.384.289-.046.873 0 1.758.884a.75.75 0 0 0 1.06 0c.884-.884 1.47-.928 1.76-.881.343.054.572.273.68.381.107.108.327.337.381.68.046.29.003.876-.881 1.76L12 8.94 9.53 6.47C8.645 5.584 8.6 5 8.646 4.712c.053-.34.272-.57.384-.682ZM21.75 15.22c0-1.797-1.918-2.943-3.5-2.092l-2.633 1.416a2.477 2.477 0 0 0-.668-1.513c-.466-.49-1.138-.78-1.949-.78h-3c-.095 0-.259-.045-.535-.178-.105-.05-.208-.104-.321-.164l-.084-.044a6.302 6.302 0 0 0-.456-.22c-.563-.238-1.386-.394-2.604-.394-1.754 0-2.753.755-3.268 1.614a3.467 3.467 0 0 0-.482 1.614V14.5L3 14.5h-.75V19c0 .323.207.61.513.712l3 1A.75.75 0 0 0 6 20.75h9.298a2.75 2.75 0 0 0 1.718-.603l3.843-3.073c.563-.451.891-1.134.891-1.855ZM13 17.25c.518 0 .98-.118 1.366-.331l4.595-2.47a.875.875 0 0 1 .96 1.453l-3.842 3.074a1.25 1.25 0 0 1-.78.274H6.121l-2.372-.79v-3.958l.003-.045a1.968 1.968 0 0 1 .265-.82c.235-.392.736-.887 1.982-.887 1.11 0 1.711.145 2.02.276.097.04.207.096.346.168l.073.038c.114.06.245.129.375.192.303.146.729.326 1.186.326h3c.439 0 .705.148.863.314a.992.992 0 0 1 .262.686c0 .263-.094.51-.262.686-.158.166-.424.314-.863.314h-3a.75.75 0 0 0 0 1.5h3Z",fill:"currentColor"}))}),Lr=Pm;var Rm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Om=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Rm(e,["title","titleId"]);let s=In();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.998 6.75a1.248 1.248 0 1 0 0 2.495 1.248 1.248 0 0 0 0-2.495ZM5.25 7.998a2.748 2.748 0 1 1 5.495 0 2.748 2.748 0 0 1-5.495 0Zm.22 10.532a.75.75 0 0 1 0-1.06l12-12a.75.75 0 1 1 1.06 1.06l-12 12a.75.75 0 0 1-1.06 0Zm9.28-2.532a1.248 1.248 0 1 1 2.495 0 1.248 1.248 0 0 1-2.495 0Zm1.248-2.748a2.748 2.748 0 1 0 0 5.495 2.748 2.748 0 0 0 0-5.495Z",fill:"currentColor"}))}),Bm=Om;var Fm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const $m=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Fm(e,["title","titleId"]);let s=In();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.75a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5ZM8.75 5.5a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0Zm-1 7.5c0-1.987 1.912-3.75 4.25-3.75s4.25 1.763 4.25 3.75v8a.75.75 0 0 1-1.5 0v-8c0-1.013-1.088-2.25-2.75-2.25S9.25 11.987 9.25 13v1.75H8.5c-.793 0-1.32.287-1.664.719-.364.454-.586 1.145-.586 2.031 0 .886.222 1.577.586 2.032.345.431.871.718 1.664.718a.75.75 0 0 1 0 1.5c-1.207 0-2.18-.463-2.836-1.282-.636-.795-.914-1.854-.914-2.968 0-1.114.278-2.173.914-2.969.513-.64 1.222-1.064 2.086-1.217V13Zm2.634 3.116a1.25 1.25 0 0 0-1.768 1.768l1 1 .884.884.884-.884 1-1a1.25 1.25 0 0 0-1.768-1.768l-.116.116-.116-.116Z",fill:"currentColor"}))}),Dm=$m;var Vm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Gm=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Vm(e,["title","titleId"]);let s=In();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.116 2.823a1.25 1.25 0 0 1 1.768 0l3.793 3.793a1.25 1.25 0 0 1 0 1.768L10.06 10 14 13.94l1.616-1.617a1.25 1.25 0 0 1 1.768 0l3.793 3.793a1.25 1.25 0 0 1 0 1.768l-2.781 2.78a2.606 2.606 0 0 1-2.811.578A23.025 23.025 0 0 1 2.758 8.415a2.606 2.606 0 0 1 .577-2.81l2.781-2.782Z",fill:"currentColor"}))}),Fo=Gm;var Lm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Mm=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=Lm(e,["title","titleId"]);let s=In();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 3.75c-.14 0-.25.112-.25.249V9c0 1.15.23 1.956.546 2.526.315.567.738.94 1.193 1.193.94.522 2.01.531 2.511.531.5 0 1.572-.009 2.51-.53a3.008 3.008 0 0 0 1.194-1.194c.317-.57.546-1.376.546-2.526V3.999A.249.249 0 0 0 14 3.75h-2a.75.75 0 0 1 0-1.5h2c.965 0 1.75.781 1.75 1.749V9c0 1.35-.27 2.419-.735 3.255a4.506 4.506 0 0 1-1.776 1.776c-.883.49-1.819.646-2.489.696V19.5a.75.75 0 0 0 1.5 0V19c0-1.288.886-2.37 2.082-2.668a2.751 2.751 0 1 1 .07 1.57A1.25 1.25 0 0 0 13.75 19v.5a2.25 2.25 0 0 1-4.5 0v-4.773c-.67-.05-1.606-.206-2.49-.696a4.507 4.507 0 0 1-1.775-1.776C4.521 11.419 4.25 10.35 4.25 9V3.999c0-.968.785-1.749 1.75-1.749h2a.75.75 0 0 1 0 1.5H6ZM15.75 17a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0Z",fill:"currentColor"}))}),Km=Mm;var wm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Um=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=wm(e,["title","titleId"]);let s=In();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 4.75c-.69 0-1.25.56-1.25 1.25v.25h6.5V6c0-.69-.56-1.25-1.25-1.25h-4Zm6.75 1.5V6A2.75 2.75 0 0 0 14 3.25h-4A2.75 2.75 0 0 0 7.25 6v.25H4.5a.75.75 0 0 0 0 1.5h.805l.876 11.384a1.75 1.75 0 0 0 1.745 1.616h8.148a1.75 1.75 0 0 0 1.745-1.616l.875-11.384h.806a.75.75 0 0 0 0-1.5h-2.75Zm-6 4.25a.75.75 0 0 0-1.5 0v6a.75.75 0 0 0 1.5 0v-6ZM14 9.75a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 .75-.75Z",fill:"currentColor"}))}),Cm=Um;var zm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Ym=j.forwardRef((e,n)=>{var{title:r,titleId:t}=e,i=zm(e,["title","titleId"]);let s=In();return s=r?t||"title-"+s:void 0,j.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":s},i),r?j.createElement("title",{id:s},r):null,j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.67 2.665a.75.75 0 0 0-.867-.389L4.9 5.25H4A1.75 1.75 0 0 0 2.25 7v11c0 .966.784 1.75 1.75 1.75h15A1.75 1.75 0 0 0 20.75 18v-2.418c.591-.281 1-.884 1-1.582v-3c0-.698-.409-1.3-1-1.582V7A1.75 1.75 0 0 0 19 5.25h-1.037l-1.292-2.585Zm-.384 2.585-.682-1.365L10.6 5.25h5.687ZM3.75 7A.25.25 0 0 1 4 6.75h15a.25.25 0 0 1 .25.25v2.25h-3.897V10v-.75h-.02a1.944 1.944 0 0 0-.138.007 3.52 3.52 0 0 0-1.37.393 2.856 2.856 0 0 0-1.093 1.006c-.305.486-.482 1.097-.482 1.844 0 .747.177 1.358.482 1.844.304.483.706.8 1.093 1.006a3.518 3.518 0 0 0 1.508.4H15.352v-.749.749h3.898V18a.25.25 0 0 1-.25.25H4a.25.25 0 0 1-.25-.25V7Zm11.603 3.75H20a.25.25 0 0 1 .25.25v3a.25.25 0 0 1-.25.25h-4.647a1.985 1.985 0 0 1-.237-.027 2.023 2.023 0 0 1-.588-.198 1.356 1.356 0 0 1-.525-.478c-.136-.218-.253-.544-.253-1.047 0-.503.117-.83.253-1.047.138-.22.323-.371.525-.478a2.023 2.023 0 0 1 .825-.225Zm-.603 1.75a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 0 1.5h-.01a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))}),Mr=Ym;var Hm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Jm=j.forwardRef((e,n)=>{var r,{children:t,className:i,onClick:s}=e,l=Hm(e,["children","className","onClick"]);const d=j.useContext(aa),o=j.useContext(sa);return o===null||d===null?(console.error("<Accordion.Header> has to be used within an <Accordion.Item>, which in turn must be within an <Accordion>"),null):W.createElement("button",Object.assign({ref:n},l,{className:bi("navds-accordion__header",i),onClick:u=>{d.toggleOpen(),s&&s(u)},"aria-expanded":d.open,type:"button"}),W.createElement("div",{className:"navds-accordion__icon-wrapper"},W.createElement(ji,{className:"navds-accordion__header-chevron",title:"Vis mer","aria-hidden":!0})),W.createElement(yk,{size:(r=o.headingSize)!==null&&r!==void 0?r:"small",as:"span",className:"navds-accordion__header-content"},t))}),qm=Jm;var Zm=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Ni=j.forwardRef((e,n)=>{var{className:r,variant:t="default",headingSize:i="small",size:s="medium",indent:l=!0}=e,d=Zm(e,["className","variant","headingSize","size","indent"]);return W.createElement(sa.Provider,{value:{variant:t,headingSize:i,size:s}},W.createElement("div",Object.assign({},d,{className:bi("navds-accordion",r,`navds-accordion--${s}`,{"navds-accordion--indent":l}),ref:n})))});Ni.Header=qm;Ni.Content=jm;Ni.Item=vm;const Fe=Ni;var $o={exports:{}},Kr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var el;function Wm(){if(el)return Kr;el=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,c={},h=null,b=null;u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),o.ref!==void 0&&(b=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(c[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)c[k]===void 0&&(c[k]=o[k]);return{$$typeof:n,type:d,key:h,ref:b,props:c,_owner:i.current}}return Kr.Fragment=r,Kr.jsx=l,Kr.jsxs=l,Kr}$o.exports=Wm();var L=$o.exports;const Xm=({headerColumnContent:e})=>L.jsx(We,{headerColumnContent:e,noHover:!0,children:L.jsxs(Le,{children:[L.jsx(w,{children:L.jsx(I,{size:"small",children:L.jsx(m,{id:"PersonArbeidsforholdTable.IngenArbeidsforholdRegistrert"})})}),L.jsx(w,{}),L.jsx(w,{}),L.jsx(w,{}),L.jsx(w,{}),L.jsx(w,{})]})}),Qm="_image_awjuc_1",ef={image:Qm},nl=[L.jsx(m,{id:"PersonArbeidsforholdTable.Arbeidsforhold",values:{br:L.jsx("br",{})}},1),L.jsx(m,{id:"PersonArbeidsforholdTable.Periode",values:{br:L.jsx("br",{})}},2),L.jsx(m,{id:"PersonArbeidsforholdTable.Kilde",values:{br:L.jsx("br",{})}},3),L.jsx(m,{id:"PersonArbeidsforholdTable.Stillingsprosent",values:{br:L.jsx("br",{})}},4),L.jsx(m,{id:"PersonArbeidsforholdTable.MottattDato",values:{br:L.jsx("br",{})}},5),L.jsx("div",{},6)],nf=(e,n)=>e.saksbehandlersVurdering===de.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?n.formatMessage({id:"PersonArbeidsforholdTable.Inntektsmelding"}):e.saksbehandlersVurdering===de.MANUELT_OPPRETTET_AV_SAKSBEHANDLER?n.formatMessage({id:"PersonArbeidsforholdTable.Saksbehandler"}):n.formatMessage({id:"PersonArbeidsforholdTable.AaRegisteret"}),si=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent&&(!n.internArbeidsforholdId||n.internArbeidsforholdId===e.internArbeidsforholdId),rf=e=>e?`...${e.substring(e.length-4,e.length)}`:"",tf=(e,n,r)=>{const t=r[e.arbeidsgiverIdent],i=t==null?void 0:t.navn;return e.saksbehandlersVurdering===de.MANUELT_OPPRETTET_AV_SAKSBEHANDLER?i:n.filter(s=>s.arbeidsgiverIdent===e.arbeidsgiverIdent).length>1?`${i}(${t.identifikator})${rf(e.eksternArbeidsforholdId)}`:`${i}(${t.identifikator})`},sf=(e,n)=>{const r=n[e.arbeidsgiverIdent];return`${e.eksternArbeidsforholdId}${e.arbeidsgiverIdent}${r.identifikator}`},af=({alleArbeidsforhold:e,selectedId:n,selectArbeidsforholdCallback:r,arbeidsgiverOpplysningerPerId:t,inntektsmeldinger:i})=>{const s=Q();return e.length===0?L.jsx(Xm,{headerColumnContent:nl}):L.jsx(We,{headerColumnContent:nl,children:e&&e.map(l=>{var d;const o=l.stillingsprosent!==void 0&&l.stillingsprosent!==null?`${l.stillingsprosent.toFixed(2)} %`:"",u=tf(l,e,t),k=(d=i.find(c=>si(l,c)))==null?void 0:d.motattDato;return L.jsxs(Le,{model:l,onMouseDown:r,onKeyDown:r,isSelected:l.arbeidsgiverIdent===n,children:[L.jsx(w,{children:L.jsx(I,{size:"small",children:Cs(u)})}),L.jsx(w,{children:L.jsx(I,{size:"small",children:L.jsx(Ue,{dateStringFom:l.fom,dateStringTom:l.tom!==Me?l.tom:void 0})})}),L.jsx(w,{children:L.jsx(I,{size:"small",children:nf(l,s)})}),L.jsx(w,{children:L.jsx(I,{size:"small",children:o})}),L.jsx(w,{children:k&&L.jsx(I,{size:"small",children:L.jsx(Re,{dateString:k})})}),L.jsx(w,{children:(l.saksbehandlersVurdering===de.BRUK||l.saksbehandlersVurdering===de.FORTSETT_UTEN_INNTEKTSMELDING)&&L.jsx(Dk,{className:ef.image,title:s.formatMessage({id:"PersonArbeidsforholdTable.ErIBruk"})})})]},sf(l,t))})})},lf=({arbeidsforhold:e})=>e.permisjonOgMangel?L.jsxs(L.Fragment,{children:[L.jsx(x,{sixteenPx:!0}),L.jsx(V,{size:"small",children:L.jsx(m,{id:"PermisjonPeriode.Permisjon"})}),L.jsx(I,{size:"small",children:L.jsx(Ue,{dateStringFom:e.permisjonOgMangel.permisjonFom,dateStringTom:e.permisjonOgMangel.permisjonTom?e.permisjonOgMangel.permisjonTom:""})}),L.jsx(x,{sixteenPx:!0})]}):null;var vs=(e=>(e.BRUK_PERMISJON="BRUK_PERMISJON",e.IKKE_BRUK_PERMISJON="IKKE_BRUK_PERMISJON",e))(vs||{});const df=e=>e.saksbehandlersVurdering===de.BRUK_MED_OVERSTYRT_PERIODE||e.saksbehandlersVurdering===de.BRUK_MED_OVERSTYRT_PERIODE?e.tom:void 0,of=e=>e.permisjonOgMangel?"ArbeidsforholdDetail.ArbeidsforholdErAktivtOgHarPermisjonMenSoekerErIkkePermisjon":e.saksbehandlersVurdering===de.MANUELT_OPPRETTET_AV_SAKSBEHANDLER?"ArbeidsforholdDetail.OppdaterArbeidsforhold":"ArbeidsforholdDetail.ArbeidsforholdErAktivt",gf=({valgtArbeidsforhold:e})=>{var n,r;const t=e.saksbehandlersVurdering===de.BRUK,i=e.saksbehandlersVurdering===de.FORTSETT_UTEN_INNTEKTSMELDING,s=e.saksbehandlersVurdering===de.BRUK_MED_OVERSTYRT_PERIODE,l=e.saksbehandlersVurdering===de.IKKE_OPPRETT_BASERT_PÅ_INNTEKTSMELDING,d=e.saksbehandlersVurdering===de.OPPRETT_BASERT_PÅ_INNTEKTSMELDING,o=e.saksbehandlersVurdering===de.MANUELT_OPPRETTET_AV_SAKSBEHANDLER,u=((n=e.permisjonOgMangel)==null?void 0:n.permisjonStatus)===vs.BRUK_PERMISJON,k=((r=e.permisjonOgMangel)==null?void 0:r.permisjonStatus)===vs.IKKE_BRUK_PERMISJON,c=df(e);return L.jsxs(L.Fragment,{children:[L.jsx(x,{thirtyTwoPx:!0}),L.jsxs(uo,{children:[L.jsx(ce,{size:"small",children:L.jsx(m,{id:"ArbeidsforholdDetail.Header"})}),L.jsx(lf,{arbeidsforhold:e}),s&&L.jsxs(L.Fragment,{children:[L.jsx(I,{size:"small",children:L.jsx(m,{id:"ArbeidsforholdDetail.ArbeidsforholdetErIkkeAktivt"})}),L.jsx(I,{size:"small",children:L.jsx(m,{id:"ArbeidsforholdDetail.ArbeidsforholdetAktivTomDato"})}),L.jsxs(I,{size:"small",children:[c&&L.jsx(Re,{dateString:c}),!c&&"-"]})]}),t&&u&&L.jsx(I,{size:"small",children:L.jsx(m,{id:"ArbeidsforholdDetail.SokerErIPermisjon"})}),d&&L.jsx(I,{size:"small",children:L.jsx(m,{id:"ArbeidsforholdDetail.OppdatertGittIm"})}),(o||(t||i)&&(!e.permisjonOgMangel||k))&&L.jsxs(L.Fragment,{children:[L.jsx(I,{size:"small",children:L.jsx(m,{id:of(e)})}),L.jsx(x,{sixteenPx:!0}),i&&L.jsx(I,{size:"small",children:L.jsx(m,{id:"ArbeidsforholdDetail.BenyttAInntektIBeregningsgrunnlag"})}),!i&&!o&&L.jsx(I,{size:"small",children:L.jsx(m,{id:"ArbeidsforholdDetail.AvslaYtelseManglendeOpplysninger"})})]}),l&&L.jsx(I,{size:"small",children:L.jsx(m,{id:l?"ArbeidsforholdDetail.FjernArbeidsforholdet":"ArbeidsforholdDetail.IMIkkeRelevant"})}),L.jsx(x,{sixteenPx:!0}),L.jsx(V,{size:"small",children:L.jsx(m,{id:"ArbeidsforholdDetail.Begrunnelse"})}),L.jsx(I,{size:"small",children:e.begrunnelse})]})]})},rl=(e,n)=>n.some(r=>si(e,r)),uf=(e,n)=>(r,t)=>{var i,s;const l=e[r.arbeidsgiverIdent],d=e[t.arbeidsgiverIdent];if(l&&d){const k=l.navn.localeCompare(d.navn);if(k!==0)return k}const o=rl(r,n),u=rl(t,n);if(o&&u){const k=(i=n.find(h=>si(r,h)))==null?void 0:i.motattDato,c=(s=n.find(h=>si(t,h)))==null?void 0:s.motattDato;return pr(c,ye).diff(pr(k,ye))}return o?-1:u?1:r.arbeidsgiverIdent.localeCompare(t.arbeidsgiverIdent)},kf=({arbeidOgInntekt:e,arbeidsgiverOpplysningerPerId:n})=>{const[r,t]=j.useState(),i=j.useCallback((o,u,k)=>{const c=!!(k!=null&&k.saksbehandlersVurdering);t(c?k:void 0)},[t]),{arbeidsforhold:s,inntektsmeldinger:l}=e,d=j.useMemo(()=>s.slice().sort(uf(n,l)),[n]);return L.jsxs(L.Fragment,{children:[L.jsx(ce,{size:"small",children:L.jsx(m,{id:"ArbeidsforholdInfoPanel.ArbeidsforholdHeader"})}),L.jsx(af,{selectedId:r==null?void 0:r.arbeidsgiverIdent,alleArbeidsforhold:d,selectArbeidsforholdCallback:i,arbeidsgiverOpplysningerPerId:n,inntektsmeldinger:l}),r&&L.jsx(gf,{valgtArbeidsforhold:r})]})},mf={"ArbeidsforholdInfoPanel.ArbeidsforholdHeader":"Arbeidsforhold som er aktive ved permisjonsstart","PersonArbeidsforholdTable.Arbeidsforhold":"{br}Arbeidsforhold","PersonArbeidsforholdTable.Periode":"{br}Periode","PersonArbeidsforholdTable.Kilde":"{br}Kilde","PersonArbeidsforholdTable.Stillingsprosent":"{br}Stillingsprosent","PersonArbeidsforholdTable.MottattDato":"Inntektsmeld.{br}mottatt dato","PersonArbeidsforholdTable.ErIBruk":"Arbeidsforhold skal brukes","PersonArbeidsforholdTable.IngenArbeidsforhold":"Det finnes ingen arbeidsforhold","PersonArbeidsforholdTable.IngenArbeidsforholdRegistrert":"Ingen arbeidsforhold registrert","PersonArbeidsforholdTable.LeggTilArbeidsforhold":"Legg til arbeidsforhold","ArbeidsforholdDetail.Header":"Detaljer","ArbeidsforholdDetail.ArbeidsforholdErAktivt":"Arbeidsforholdet er aktivt og skal benyttes i behandlingen. Nødvendig inntektsmelding er ikke mottatt.","ArbeidsforholdDetail.OppdaterArbeidsforhold":"Arbeidsforhold er manuelt opprettet av saksbehandler","ArbeidsforholdDetail.ArbeidsforholdErAktivtOgHarPermisjonMenSoekerErIkkePermisjon":"Søker er ikke i permisjon. Arbeidsforholdet er aktivt og skal benyttes i behandlingen.","ArbeidsforholdDetail.FjernArbeidsforholdet":"Fjern arbeidsforholdet for denne behandlingen","ArbeidsforholdDetail.IMIkkeRelevant":"Inntektsmeldingen er ikke relevant, gå videre uten disse opplysningene","ArbeidsforholdDetail.ArbeidsforholdetErIkkeAktivt":"Arbeidsforholdet er ikke aktivt. Inntektsmelding er ikke nødvendig.","ArbeidsforholdDetail.ArbeidsforholdetAktivTomDato":"Arbeidsforhold aktivt tom. dato","ArbeidsforholdDetail.AvslaYtelseManglendeOpplysninger":"Ytelsen kan avslås på grunn av manglende opplysninger.","ArbeidsforholdDetail.BenyttAInntektIBeregningsgrunnlag":"Fortsett behandling uten inntektsmelding, inntekt fra A-inntekt benyttes i beregningsgrunnlaget.","ArbeidsforholdDetail.Begrunnelse":"Begrunn endringene","ArbeidsforholdDetail.SokerErIPermisjon":"Søker er i permisjon. Inntektsmelding er ikke nødvendig.","ArbeidsforholdDetail.OppdatertGittIm":"Arbeidsforholdet er opprettet basert på motatt inntektsmelding","PersonArbeidsforholdTable.Inntektsmelding":"Inntektsmelding","PersonArbeidsforholdTable.Saksbehandler":"Saksbehandler","PersonArbeidsforholdTable.AaRegisteret":"AA-Registeret","PermisjonPeriode.Permisjon":"Permisjon","PermisjonPeriode.Permisjoner":"Permisjoner"},ff=Ge(mf),Do=({arbeidOgInntekt:e,arbeidsgiverOpplysningerPerId:n})=>L.jsx(Ze,{value:ff,children:L.jsx(kf,{arbeidOgInntekt:e,arbeidsgiverOpplysningerPerId:n})});Do.__docgenInfo={description:"",methods:[],displayName:"ot"};const tl=[ae.AVKLAR_ARBEIDSFORHOLD],cf=[we.ARBEID_OG_INNTEKT],il=({arbeidsgiverOpplysningerPerId:e,...n})=>Ne.jsx(Nr,{...n,panelEndepunkter:cf,aksjonspunktKoder:tl,faktaPanelKode:yr.ARBEIDSFORHOLD,faktaPanelMenyTekst:Q().formatMessage({id:"ArbeidsforholdInfoPanel.Title"}),skalPanelVisesIMeny:()=>!!n.behandling&&n.behandling.aksjonspunkt&&n.behandling.aksjonspunkt.some(r=>tl.some(t=>t===r.definisjon)),renderPanel:r=>Ne.jsx(Do,{arbeidsgiverOpplysningerPerId:e,...r})});try{il.displayName="ArbeidsforholdFaktaInitPanel",il.__docgenInfo={description:`ArbeidsforholdFaktaInitPanel

Dette faktapanelet skal alltid vises`,displayName:"ArbeidsforholdFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}function pf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vo={exports:{}},wr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl;function vf(){if(sl)return wr;sl=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,c={},h=null,b=null;u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),o.ref!==void 0&&(b=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(c[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)c[k]===void 0&&(c[k]=o[k]);return{$$typeof:n,type:d,key:h,ref:b,props:c,_owner:i.current}}return wr.Fragment=r,wr.jsx=l,wr.jsxs=l,wr}Vo.exports=vf();var g=Vo.exports,Go={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var t=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var l=typeof s;if(l==="string"||l==="number")t.push(this&&this[s]||s);else if(Array.isArray(s))t.push(r.apply(this,s));else if(l==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){t.push(s.toString());continue}for(var d in s)n.call(s,d)&&s[d]&&t.push(this&&this[d]||d)}}}return t.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Go);var hf=Go.exports;const bf=pf(hf),la=j.createContext({isDirty:!1,setDirty:()=>{}}),jf=({children:e})=>{const[n,r]=j.useState(!1),t=j.useMemo(()=>({isDirty:n,setDirty:r}),[n,r]);return g.jsx(la.Provider,{value:t,children:e})},da=e=>{const n=j.useContext(la);j.useEffect(()=>{n.setDirty(e)},[e])},xf=()=>j.useContext(la).isDirty,cr="342352362",Af=cn(3),If=pn(1500),Tf=jo(1),Ef=xo(100),_f=e=>n=>{const r=e("fom");return n&&r?Zs(r)(n):null},Lo=({behandlingUuid:e,isReadOnly:n,registrerArbeidsforhold:r,radData:t,lukkArbeidsforholdRad:i,erOverstyrt:s,oppdaterTabell:l,erNyttArbeidsforhold:d=!1})=>{const o=Q(),[u,k]=j.useState(!1),c=j.useMemo(()=>{var P,S,F,N,D;return{fom:(P=t==null?void 0:t.avklaring)==null?void 0:P.fom,tom:(S=t==null?void 0:t.avklaring)==null?void 0:S.tom,stillingsprosent:(F=t==null?void 0:t.avklaring)==null?void 0:F.stillingsprosent,begrunnelse:(N=t==null?void 0:t.avklaring)==null?void 0:N.begrunnelse,arbeidsgiverNavn:(D=t==null?void 0:t.avklaring)==null?void 0:D.arbeidsgiverNavn}},[t]),h=ze({defaultValues:c});da(h.formState.isDirty);const b=j.useCallback(()=>{i(),h.reset(c)},[i]),A=j.useCallback(P=>{const S={behandlingUuid:e,arbeidsgiverIdent:cr,vurdering:de.MANUELT_OPPRETTET_AV_SAKSBEHANDLER,...P};r(S).then(()=>{l(F=>{const N={arbeidsgiverIdent:cr,arbeidsgiverNavn:P.arbeidsgiverNavn,avklaring:{fom:P.fom,tom:P.tom,stillingsprosent:P.stillingsprosent,arbeidsgiverNavn:P.arbeidsgiverNavn,begrunnelse:P.begrunnelse,saksbehandlersVurdering:de.MANUELT_OPPRETTET_AV_SAKSBEHANDLER}},D=F.findIndex($=>$.arbeidsgiverIdent===cr);return D===-1?F.concat(N):F.map(($,M)=>M===D?N:$)}),h.reset(P),d&&i()})},[e,l]),_=j.useCallback(()=>{const P=h.getValues(),S={behandlingUuid:e,arbeidsgiverIdent:cr,vurdering:de.FJERN_FRA_BEHANDLINGEN,...P};r(S).then(()=>{l(F=>F.filter(N=>N.arbeidsgiverIdent!==cr)),d&&i()})},[h]);return g.jsxs(g.Fragment,{children:[!t&&g.jsxs(g.Fragment,{children:[g.jsx(ce,{size:"small",children:g.jsx(m,{id:"LeggTilArbeidsforholdForm.LeggTilArbeidsforhold"})}),g.jsx(x,{sixteenPx:!0})]}),g.jsx(x,{eightPx:!0}),g.jsxs(Ye,{formMethods:h,onSubmit:A,children:[g.jsx(se,{children:g.jsxs(y,{children:[s&&g.jsxs(g.Fragment,{children:[g.jsx(v,{children:g.jsx(je,{name:"arbeidsgiverNavn",label:g.jsx(m,{id:"LeggTilArbeidsforholdForm.Arbeidsgiver"}),validate:[X],readOnly:n||!s})}),g.jsx(v,{children:g.jsx(Wn,{name:"fom",label:g.jsx(m,{id:"LeggTilArbeidsforholdForm.PeriodeFra"}),validate:[X,$n],isReadOnly:n||!s})}),g.jsx(v,{children:g.jsx(Wn,{name:"tom",label:g.jsx(m,{id:"LeggTilArbeidsforholdForm.PeriodeTil"}),validate:[$n,_f(h.getValues)],isReadOnly:n||!s})})]}),g.jsx(v,{children:g.jsx(je,{name:"stillingsprosent",label:g.jsx(m,{id:"LeggTilArbeidsforholdForm.Stillingsprosent"}),parse:P=>{const S=parseInt(P.toString(),10);return Number.isNaN(S)?P:S},validate:[X,ho,Tf,Ef],readOnly:n||!s,maxLength:3})})]})}),g.jsx(x,{twentyPx:!0}),g.jsx(Xe,{label:g.jsx(m,{id:"LeggTilArbeidsforholdForm.Begrunn"}),name:"begrunnelse",validate:[X,Af,If,fn],maxLength:1500,readOnly:n||!s}),g.jsx(x,{twentyPx:!0}),s&&g.jsx(se,{children:g.jsxs(y,{spaceBetween:!0,children:[g.jsx(v,{children:g.jsx(se,{children:g.jsxs(y,{children:[g.jsx(v,{children:g.jsx(ne,{size:"small",variant:"secondary",loading:h.formState.isSubmitting,disabled:!h.formState.isDirty||h.formState.isSubmitting,children:g.jsx(m,{id:"LeggTilArbeidsforholdForm.Lagre"})})}),g.jsx(v,{children:g.jsx(ne,{size:"small",variant:"tertiary",loading:!1,disabled:h.formState.isSubmitting,onClick:b,type:"button",children:g.jsx(m,{id:"LeggTilArbeidsforholdForm.Avbryt"})})})]})})}),t&&g.jsx(v,{children:g.jsx(ne,{size:"small",variant:"tertiary",loading:!1,disabled:h.formState.isSubmitting,onClick:()=>k(!0),type:"button",icon:g.jsx(Cm,{"aria-hidden":!0}),children:g.jsx(m,{id:"LeggTilArbeidsforholdForm.Slett"})})})]})}),g.jsx(x,{fourtyPx:!0})]}),u&&g.jsx(Pk,{text:o.formatMessage({id:"NyttArbeidsforholdForm.VilDuSlette"}),submit:_,cancel:()=>k(!1),showModal:!0})]})},Sf="_inline_glms2_1",yf="_textMargin_glms2_5",Nf="_docIcon_glms2_9",Pf="_phoneIcon_glms2_14",Tn={inline:Sf,textMargin:yf,docIcon:Nf,phoneIcon:Pf},ai=({saksnummer:e,arbeidsforhold:n,inntektsmelding:r,skalViseArbeidsforholdId:t,alleKodeverk:i})=>g.jsxs(g.Fragment,{children:[g.jsx(x,{eightPx:!0}),g.jsxs(se,{children:[t&&g.jsxs(g.Fragment,{children:[g.jsxs(y,{children:[g.jsx(v,{children:g.jsx(V,{size:"small",children:g.jsx(m,{id:"InntektsmeldingOpplysningerPanel.ArbeidsforholdId"})})}),g.jsx(v,{className:Tn.textMargin,children:g.jsx(I,{size:"small",children:r.eksternArbeidsforholdId})})]}),g.jsx(x,{eightPx:!0})]}),n&&g.jsxs(g.Fragment,{children:[g.jsxs(y,{children:[g.jsx(v,{children:g.jsx(V,{size:"small",children:g.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Stillingsprosent"})})}),g.jsx(v,{className:Tn.textMargin,children:g.jsx(I,{size:"small",children:n.stillingsprosent?`${n.stillingsprosent}%`:"-"})})]}),n.permisjonOgMangel&&g.jsxs(g.Fragment,{children:[g.jsx(x,{eightPx:!0}),g.jsxs(y,{children:[g.jsx(v,{children:g.jsx(V,{size:"small",children:ii(i,_n.PERMISJONSBESKRIVELSE_TYPE,n.permisjonOgMangel.type)})}),g.jsx(v,{className:Tn.textMargin,children:g.jsx(I,{size:"small",children:g.jsx(Ue,{dateStringFom:n.permisjonOgMangel.permisjonFom,dateStringTom:n.permisjonOgMangel.permisjonTom})})})]})]}),g.jsx(x,{eightPx:!0})]}),g.jsxs(y,{children:[g.jsx(v,{children:g.jsx(V,{size:"small",children:g.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Inntektsmelding"})})}),g.jsx(v,{className:Tn.textMargin,children:g.jsx(I,{size:"small",children:K(r.inntektPrMnd)})})]}),g.jsx(x,{eightPx:!0}),g.jsxs(y,{children:[g.jsx(v,{children:g.jsx(V,{size:"small",children:g.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjon"})})}),g.jsx(v,{className:Tn.textMargin,children:g.jsx(I,{size:"small",children:g.jsx(m,{id:r.refusjonPrMnd?"InntektsmeldingOpplysningerPanel.Ja":"InntektsmeldingOpplysningerPanel.Nei"})})})]}),g.jsx(x,{eightPx:!0}),r.refusjonPrMnd!==void 0&&r.refusjonPrMnd!==null&&g.jsxs(g.Fragment,{children:[g.jsxs(y,{children:[g.jsx(v,{children:g.jsx(V,{size:"small",children:g.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjonsbeløp"})})}),g.jsx(v,{className:Tn.textMargin,children:g.jsx(I,{size:"small",children:K(r.refusjonPrMnd)})})]}),g.jsx(x,{eightPx:!0})]}),g.jsxs(kt,{href:bo(e,r.journalpostId,r.dokumentId),target:"_blank",children:[g.jsx("span",{children:g.jsx(I,{size:"small",className:Tn.inline,children:g.jsx(m,{id:"InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding"})})}),g.jsx(Bo,{className:Tn.docIcon})]}),g.jsx(x,{sixteenPx:!0}),g.jsxs(y,{children:[g.jsx(v,{children:g.jsx(Fo,{className:Tn.phoneIcon})}),g.jsxs(v,{children:[g.jsx(y,{children:g.jsx(v,{children:g.jsx(V,{size:"small",children:g.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Kontaktinfo"})})})}),g.jsx(y,{children:g.jsx(v,{children:g.jsx(ke,{children:r.kontaktpersonNavn})})}),g.jsx(y,{children:g.jsx(v,{children:g.jsx(ke,{children:g.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Tlf",values:{nr:r.kontaktpersonNummer}})})})})]})]})]}),g.jsx(x,{thirtyTwoPx:!0})]}),Rf="_hjelpetekst_6d225_1",Of="_alertStripe_6d225_5",Bf="_image_6d225_9",Ff="_hjelpetekstInnhold_6d225_13",$t={hjelpetekst:Rf,alertStripe:Of,image:Bf,hjelpetekstInnhold:Ff},$f=cn(3),Df=pn(1500),Vf=jo(1),Gf=xo(100),Lf=e=>n=>{const r=e("fom");return r&&n?Zs(r)(n):null},Mf=({saksnummer:e,behandlingUuid:n,arbeidsgiverNavn:r,inntektsmelding:t,radData:i,isReadOnly:s,registrerArbeidsforhold:l,lagreVurdering:d,lukkArbeidsforholdRad:o,oppdaterTabell:u,skalViseArbeidsforholdId:k})=>{const c=Q(),h=j.useMemo(()=>{var $,M,C,re,te;return{saksbehandlersVurdering:($=i.avklaring)==null?void 0:$.saksbehandlersVurdering,begrunnelse:(M=i.avklaring)==null?void 0:M.begrunnelse,fom:(C=i.avklaring)==null?void 0:C.fom,tom:(re=i.avklaring)==null?void 0:re.tom,stillingsprosent:(te=i.avklaring)==null?void 0:te.stillingsprosent}},[i]),b=ze({defaultValues:h});da(b.formState.isDirty);const A=b.watch("saksbehandlersVurdering"),_=j.useCallback(()=>{o(),b.reset(h)},[h,o]),P=j.useCallback($=>{const M=()=>{u(C=>C.map(re=>{if(t.arbeidsgiverIdent===re.arbeidsgiverIdent){const te=$.saksbehandlersVurdering===de.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?{arbeidsgiverIdent:t.arbeidsgiverIdent,fom:$.fom,tom:$.tom,stillingsprosent:$.stillingsprosent,begrunnelse:$.begrunnelse,saksbehandlersVurdering:$.saksbehandlersVurdering}:void 0;return{...i,avklaring:te||{begrunnelse:$.begrunnelse,saksbehandlersVurdering:$.saksbehandlersVurdering}}}return re}))};$.saksbehandlersVurdering===de.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?l({behandlingUuid:n,internArbeidsforholdRef:t.internArbeidsforholdId,arbeidsgiverNavn:r,arbeidsgiverIdent:t.arbeidsgiverIdent,vurdering:de.OPPRETT_BASERT_PÅ_INNTEKTSMELDING,begrunnelse:$.begrunnelse,fom:$.fom,tom:$.tom,stillingsprosent:$.stillingsprosent}).then(M).finally(()=>b.reset($)):d({behandlingUuid:n,vurdering:$.saksbehandlersVurdering,begrunnelse:$.begrunnelse,arbeidsgiverIdent:t.arbeidsgiverIdent,internArbeidsforholdRef:t.internArbeidsforholdId}).then(M).finally(()=>b.reset($))},[t,u]),S=j.useRef(null),[F,N]=j.useState(!1),D=j.useCallback(()=>N($=>!$),[]);return g.jsxs(g.Fragment,{children:[g.jsx(ai,{saksnummer:e,inntektsmelding:t,skalViseArbeidsforholdId:k}),g.jsx(x,{fourtyPx:!0}),g.jsx("div",{className:$t.alertStripe,children:g.jsx(Jn,{variant:"info",children:g.jsx(m,{id:"ManglendeOpplysningerForm.ErMottattMenIkkeReg"})})}),g.jsx(x,{thirtyTwoPx:!0}),g.jsxs(Ye,{formMethods:b,onSubmit:P,children:[g.jsx(Ie,{name:"saksbehandlersVurdering",label:g.jsx(se,{children:g.jsxs(y,{children:[g.jsx(v,{children:g.jsx(m,{id:"ManglendeOpplysningerForm.SkalBrukeInntekstmelding"})}),g.jsxs(v,{className:$t.image,children:[g.jsx(ne,{ref:S,type:"button",variant:"tertiary",onClick:D,icon:g.jsx(ea,{title:c.formatMessage({id:"ManglendeOpplysningerForm.AltHjelpetekst"})})}),g.jsx(xr,{open:F,onClose:D,anchorEl:S.current,className:$t.hjelpetekst,children:g.jsx(xr.Content,{className:$t.hjelpetekstInnhold,children:g.jsx(I,{children:g.jsx(m,{id:"ManglendeOpplysningerForm.Hjelpetekst"})})})})]})]})}),validate:[X],isReadOnly:s,radios:[{label:c.formatMessage({id:"ManglendeOpplysningerForm.TarKontakt"}),value:de.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_ARBEIDSFORHOLD},{label:c.formatMessage({id:"ManglendeOpplysningerForm.GåVidere"}),value:de.IKKE_OPPRETT_BASERT_PÅ_INNTEKTSMELDING},{label:c.formatMessage({id:"ManglendeOpplysningerForm.OpprettArbeidsforhold"}),value:de.OPPRETT_BASERT_PÅ_INNTEKTSMELDING}]}),A===de.OPPRETT_BASERT_PÅ_INNTEKTSMELDING&&g.jsxs(g.Fragment,{children:[g.jsxs(se,{children:[g.jsx(x,{eightPx:!0}),g.jsxs(y,{children:[g.jsx(v,{children:g.jsx(Wn,{name:"fom",label:g.jsx(m,{id:"ManglendeOpplysningerForm.PeriodeFra"}),validate:[X,$n],isReadOnly:s})}),g.jsx(v,{children:g.jsx(Wn,{name:"tom",label:g.jsx(m,{id:"ManglendeOpplysningerForm.PeriodeTil"}),validate:[$n,Lf(b.getValues)],isReadOnly:s})}),g.jsx(v,{children:g.jsx(je,{name:"stillingsprosent",label:g.jsx(m,{id:"ManglendeOpplysningerForm.Stillingsprosent"}),parse:$=>{const M=parseInt($.toString(),10);return Number.isNaN(M)?$:M},validate:[X,ho,Vf,Gf],readOnly:s,maxLength:3})})]})]}),g.jsx(x,{fourPx:!0})]}),g.jsx(x,{sixteenPx:!0}),g.jsx(Xe,{label:g.jsx(m,{id:"ManglendeOpplysningerForm.Begrunn"}),name:"begrunnelse",validate:[X,$f,Df,fn],maxLength:1500,readOnly:s}),g.jsx(x,{twentyPx:!0}),!s&&g.jsx(se,{children:g.jsxs(y,{children:[g.jsx(v,{children:g.jsx(ne,{size:"small",variant:"secondary",loading:b.formState.isSubmitting,disabled:!b.formState.isDirty||b.formState.isSubmitting,children:g.jsx(m,{id:"ManglendeOpplysningerForm.Lagre"})})}),g.jsx(v,{children:g.jsx(ne,{size:"small",variant:"tertiary",loading:!1,disabled:b.formState.isSubmitting,onClick:_,type:"button",children:g.jsx(m,{id:"ManglendeOpplysningerForm.Avbryt"})})})]})}),g.jsx(x,{fourtyPx:!0})]})]})},Kf="_inline_10adz_1",wf="_aksjonpunktImage_10adz_5",Uf="_arrow_10adz_12",Cf="_ikkeMottatt_10adz_18",zf="_forsteKolonne_10adz_22",Yf="_sisteKolonne_10adz_26",Hf="_skiller_10adz_30",Jf="_textMargin_10adz_34",Be={inline:Kf,aksjonpunktImage:wf,arrow:Uf,ikkeMottatt:Cf,forsteKolonne:zf,sisteKolonne:Yf,skiller:Hf,textMargin:Jf},qf=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent&&(!n.internArbeidsforholdId||n.internArbeidsforholdId===e.internArbeidsforholdId),Zf=(e,n)=>{const r=e.some(i=>i.internArbeidsforholdId),t=e.some(i=>!i.internArbeidsforholdId);if(r&&t)throw Error("Har inntektsmelding både med og uten id");return e.find(i=>!i.internArbeidsforholdId||i.internArbeidsforholdId===n)},Wf=e=>{const n=Math.ceil(e.length/25),r=Array.from({length:n},(t,i)=>e.slice(i*25,i*25+25));return g.jsx("p",{children:r.join("-")})},Mo=({saksnummer:e,arbeidsforholdForRad:n,inntektsmeldingerForRad:r,alleKodeverk:t})=>{const i=Q(),[s,l]=j.useState({}),d=n.length===1,o=d?Zf(r,n[0].internArbeidsforholdId):void 0;return g.jsxs(g.Fragment,{children:[!d&&g.jsxs(g.Fragment,{children:[g.jsx(x,{eightPx:!0}),g.jsx(Ja,{dividerParagraf:!0,className:Be.skiller}),g.jsx(x,{sixteenPx:!0}),n.map(u=>{const k=r.find(c=>qf(u,c));return g.jsxs(W.Fragment,{children:[g.jsx(se,{children:g.jsxs(y,{spaceBetween:!0,children:[g.jsx(v,{className:Be.forsteKolonne,children:g.jsxs(se,{children:[g.jsxs(y,{children:[g.jsx(v,{children:g.jsx(V,{size:"small",children:g.jsx(m,{id:"ArbeidsforholdInformasjonPanel.ArbeidsforholdId"})})}),g.jsxs(v,{children:[u.eksternArbeidsforholdId&&u.eksternArbeidsforholdId.length<50&&g.jsx("div",{className:Be.textMargin,children:g.jsx(I,{size:"small",children:u.eksternArbeidsforholdId})}),u.eksternArbeidsforholdId&&u.eksternArbeidsforholdId.length>=50&&g.jsx(ko,{content:Wf(u.eksternArbeidsforholdId),alignBottom:!0,children:g.jsx(I,{size:"small",children:`${u.eksternArbeidsforholdId.substring(0,50)}...`})}),!u.eksternArbeidsforholdId&&g.jsx(I,{size:"small",children:"-"})]})]}),g.jsx(x,{fourPx:!0}),g.jsxs(y,{children:[g.jsx(v,{children:g.jsx(V,{size:"small",children:g.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Periode"})})}),g.jsx(v,{className:Be.textMargin,children:g.jsx(I,{size:"small",children:g.jsx(Ue,{dateStringFom:u.fom,dateStringTom:u.tom!==Me?u.tom:void 0})})})]}),g.jsx(x,{fourPx:!0}),g.jsxs(y,{children:[g.jsx(v,{children:g.jsx(V,{size:"small",children:g.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Stillingsprosent"})})}),g.jsx(v,{className:Be.textMargin,children:g.jsx(I,{size:"small",children:`${u.stillingsprosent}%`})})]}),u.permisjonOgMangel&&g.jsxs(g.Fragment,{children:[g.jsx(x,{fourPx:!0}),g.jsxs(y,{children:[g.jsx(v,{children:g.jsx(V,{size:"small",children:ii(t,_n.PERMISJONSBESKRIVELSE_TYPE,u.permisjonOgMangel.type)})}),g.jsx(v,{className:Be.textMargin,children:g.jsx(I,{size:"small",children:g.jsx(Ue,{dateStringFom:u.permisjonOgMangel.permisjonFom,dateStringTom:u.permisjonOgMangel.permisjonTom})})})]})]}),k&&g.jsxs(g.Fragment,{children:[u.internArbeidsforholdId&&s[u.internArbeidsforholdId]&&g.jsx(ai,{saksnummer:e,inntektsmelding:k,skalViseArbeidsforholdId:!1}),g.jsx(x,{fourPx:!0}),g.jsxs(kt,{onClick:c=>{c.preventDefault(),l(h=>{if(!u.internArbeidsforholdId)return h;const b=h[u.internArbeidsforholdId];return{...h,[u.internArbeidsforholdId]:b===void 0||b===!1}})},href:"",children:[g.jsx("span",{children:g.jsx(I,{size:"small",className:Be.inline,children:g.jsx(m,{id:!u.internArbeidsforholdId||!s[u.internArbeidsforholdId]?"ArbeidsforholdInformasjonPanel.ApneImInfo":"ArbeidsforholdInformasjonPanel.LukkeImInfo"})})}),u.internArbeidsforholdId&&s[u.internArbeidsforholdId]?g.jsx(Hs,{className:Be.arrow}):g.jsx(ji,{className:Be.arrow})]})]})]})}),k&&g.jsx(v,{className:Be.sisteKolonne,children:g.jsxs(tn,{children:[g.jsx(V,{size:"small",children:g.jsx(m,{id:"ArbeidsforholdInformasjonPanel.ImMottatt"})}),g.jsx(x,{fourPx:!0}),g.jsx(tn,{children:g.jsx(I,{size:"small",children:g.jsx(Re,{dateString:k.motattDato})})})]})}),!k&&g.jsx(v,{className:Be.sisteKolonne,children:g.jsxs(tn,{children:[g.jsx(nr,{className:Be.aksjonpunktImage,title:i.formatMessage({id:"ArbeidsforholdRad.Aksjonspunkt"})}),g.jsx("div",{className:Be.ikkeMottatt,children:g.jsx(V,{size:"small",children:g.jsx(m,{id:"ArbeidsforholdInformasjonPanel.ImIkkeMottatt"})})})]})})]})}),g.jsx(x,{sixteenPx:!0}),g.jsx(Ja,{dividerParagraf:!0,className:Be.skiller}),g.jsx(x,{sixteenPx:!0})]},`${u.arbeidsgiverIdent}${u.internArbeidsforholdId}`)})]}),g.jsx(x,{eightPx:!0}),d&&!!o&&g.jsx(ai,{saksnummer:e,arbeidsforhold:n[0],inntektsmelding:o,skalViseArbeidsforholdId:r.length>1,alleKodeverk:t}),d&&r.length===0&&g.jsxs(g.Fragment,{children:[g.jsxs(y,{children:[g.jsx(v,{children:g.jsx(V,{size:"small",children:g.jsx(m,{id:"ArbeidsforholdInformasjonPanel.Stillingsprosent"})})}),g.jsx(v,{className:Be.textMargin,children:g.jsx(I,{size:"small",children:`${n[0].stillingsprosent}%`})})]}),n[0].permisjonOgMangel&&g.jsxs(g.Fragment,{children:[g.jsx(x,{eightPx:!0}),g.jsxs(y,{children:[g.jsx(v,{children:g.jsx(V,{size:"small",children:ii(t,_n.PERMISJONSBESKRIVELSE_TYPE,n[0].permisjonOgMangel.type)})}),g.jsx(v,{children:g.jsx(I,{size:"small",children:g.jsx(Ue,{dateStringFom:n[0].permisjonOgMangel.permisjonFom,dateStringTom:n[0].permisjonOgMangel.permisjonTom})})})]})]})]})]})},Xf="_maanedBredde_jfk8a_1",Qf="_aarBredde_jfk8a_5",ec="_belopBredde_jfk8a_9",nc="_inline_jfk8a_13",rc="_arrow_jfk8a_17",or={maanedBredde:Xf,aarBredde:Qf,belopBredde:ec,inline:nc,arrow:rc},tc=[],ic=(e,n)=>{const r=T(e).subtract(1,"month").startOf("month"),t=r.subtract(12,"month"),i=[];for(let s=r;s.isAfter(t);s=s.subtract(1,"month")){const l=s.format(ye),d=n.find(o=>T(o.fom).startOf("month").format(ye)===l);i.push({beløp:(d==null?void 0:d.beløp)||0,fom:l})}return i},Ko=({saksnummer:e,skjæringspunktDato:n,inntektsposter:r=[],arbeidsforholdForRad:t,inntektsmeldingerForRad:i=tc,alleKodeverk:s})=>{const[l,d]=j.useState(!1),o=j.useMemo(()=>ic(n,r),[r]),u=t.length===1,k=r.length>0&&r.some(c=>c.beløp>0);return g.jsxs(g.Fragment,{children:[g.jsx(Mo,{saksnummer:e,arbeidsforholdForRad:t,inntektsmeldingerForRad:i,alleKodeverk:s}),g.jsx(x,{thirtyTwoPx:!0}),k&&g.jsxs(g.Fragment,{children:[g.jsx(V,{size:"small",children:g.jsx(m,{id:u?"ArbeidsforholdInformasjonPanel.Inntekter":"ArbeidsforholdInformasjonPanel.TotaltInntekter"})}),g.jsx(x,{fourPx:!0}),g.jsx(se,{children:o.filter((c,h)=>l?!0:h<3).map(c=>g.jsxs(y,{children:[g.jsx(v,{className:or.maanedBredde,children:g.jsx(I,{size:"small",children:g.jsx(m,{id:`ArbeidsforholdInformasjonPanel.${T(c.fom).month()+1}`})})}),g.jsx(v,{className:or.aarBredde,children:g.jsx(I,{size:"small",children:T(c.fom).year()})}),g.jsx(v,{className:or.belopBredde,children:g.jsx(tn,{children:g.jsx(I,{size:"small",children:K(c.beløp)})})})]},c.fom))}),g.jsx(x,{fourPx:!0}),g.jsxs(kt,{onClick:c=>{c.preventDefault(),d(!l)},href:"",children:[g.jsx("span",{children:g.jsx(I,{size:"small",className:or.inline,children:g.jsx(m,{id:l?"ArbeidsforholdInformasjonPanel.FaerreManeder":"ArbeidsforholdInformasjonPanel.TidligereManeder"})})}),l?g.jsx(Hs,{className:or.arrow}):g.jsx(ji,{className:or.arrow})]})]}),!k&&g.jsx(V,{size:"small",children:g.jsx(m,{id:"ArbeidsforholdInformasjonPanel.IngenInntekt"})}),g.jsx(x,{thirtyTwoPx:!0})]})},sc="_radioHeader_od9y4_1",ac="_alertStripe_od9y4_5",lc="_image_od9y4_9",dc="_hjelpetekst_od9y4_13",oc="_hjelpetekstInnhold_od9y4_17",Ur={radioHeader:sc,alertStripe:ac,image:lc,hjelpetekst:dc,hjelpetekstInnhold:oc},gc=cn(3),uc=pn(1500),kc=({saksnummer:e,behandlingUuid:n,skjæringspunktDato:r,inntektsposter:t=[],arbeidsforholdForRad:i,inntektsmeldingerForRad:s,radData:l,isReadOnly:d,lagreVurdering:o,lukkArbeidsforholdRad:u,oppdaterTabell:k,alleKodeverk:c})=>{const h=Q(),b=j.useMemo(()=>{var M,C;return{saksbehandlersVurdering:(M=l.avklaring)==null?void 0:M.saksbehandlersVurdering,begrunnelse:(C=l.avklaring)==null?void 0:C.begrunnelse}},[l]),A=ze({defaultValues:b});da(A.formState.isDirty);const _=i.length===1,P=j.useCallback(()=>{u(),A.reset(b)},[u,b]),S=j.useCallback(M=>{const C={behandlingUuid:n,vurdering:M.saksbehandlersVurdering,arbeidsgiverIdent:l.arbeidsgiverIdent,internArbeidsforholdRef:_?i[0].internArbeidsforholdId:void 0,begrunnelse:M.begrunnelse};o(C).then(()=>{k(re=>re.map(te=>te.arbeidsgiverIdent===l.arbeidsgiverIdent?{...l,avklaring:{begrunnelse:M.begrunnelse,saksbehandlersVurdering:M.saksbehandlersVurdering}}:te))}).finally(()=>A.reset(M))},[i,l,k]),F=j.useRef(null),[N,D]=j.useState(!1),$=j.useCallback(()=>D(M=>!M),[]);return g.jsxs(g.Fragment,{children:[g.jsx(Ko,{saksnummer:e,skjæringspunktDato:r,inntektsposter:t,arbeidsforholdForRad:i,inntektsmeldingerForRad:s,alleKodeverk:c}),g.jsxs(Ye,{formMethods:A,onSubmit:S,children:[!_&&s.length>0&&g.jsxs("div",{className:Ur.alertStripe,children:[g.jsx(Jn,{variant:"info",children:g.jsx(m,{id:"InntektsmeldingInnhentesForm.InnehentAlle"})}),g.jsx(x,{sixteenPx:!0})]}),g.jsx(Ie,{name:"saksbehandlersVurdering",label:g.jsx(se,{children:g.jsxs(y,{children:[g.jsx(v,{className:Ur.radioHeader,children:g.jsx(m,{id:"InntektsmeldingInnhentesForm.MåInnhentes"})}),g.jsxs(v,{className:Ur.image,children:[g.jsx(ne,{ref:F,type:"button",variant:"tertiary",onClick:$,icon:g.jsx(ea,{title:h.formatMessage({id:"InntektsmeldingInnhentesForm.AltHjelpetekst"})})}),g.jsx(xr,{open:N,onClose:$,anchorEl:F.current,className:Ur.hjelpetekst,children:g.jsxs(xr.Content,{className:Ur.hjelpetekstInnhold,children:[g.jsx(I,{children:g.jsx(m,{id:"InntektsmeldingInnhentesForm.HjelpetekstDel1"})}),g.jsx(x,{eightPx:!0}),g.jsx(I,{children:g.jsx(m,{id:"InntektsmeldingInnhentesForm.HjelpetekstDel2"})}),g.jsx(x,{eightPx:!0}),g.jsx(I,{children:g.jsx(m,{id:"InntektsmeldingInnhentesForm.HjelpetekstDel3"})})]})})]})]})}),validate:[X],isReadOnly:d,radios:[{label:h.formatMessage({id:"InntektsmeldingInnhentesForm.TarKontakt"}),value:de.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_INNTEKTSMELDING},{label:h.formatMessage({id:"InntektsmeldingInnhentesForm.GåVidere"}),value:de.FORTSETT_UTEN_INNTEKTSMELDING}]}),g.jsx(x,{sixteenPx:!0}),g.jsx(Xe,{label:g.jsx(m,{id:_?"InntektsmeldingInnhentesForm.Begrunn":"InntektsmeldingInnhentesForm.Kommentar"}),name:"begrunnelse",validate:[X,gc,uc,fn],maxLength:1500,readOnly:d}),g.jsx(x,{twentyPx:!0}),!d&&g.jsx(se,{children:g.jsxs(y,{children:[g.jsx(v,{children:g.jsx(ne,{size:"small",variant:"secondary",loading:A.formState.isSubmitting,disabled:!A.formState.isDirty||A.formState.isSubmitting,children:g.jsx(m,{id:"InntektsmeldingInnhentesForm.Lagre"})})}),g.jsx(v,{children:g.jsx(ne,{size:"small",variant:"tertiary",loading:!1,disabled:A.formState.isSubmitting,onClick:P,type:"button",children:g.jsx(m,{id:"InntektsmeldingInnhentesForm.Avbryt"})})})]})}),g.jsx(x,{fourtyPx:!0})]})]})},mc="_ikon_1mrt8_1",fc="_colTopPadding_1mrt8_5",cc="_imageColTopPadding_1mrt8_9",pc="_exclamationmarkIcon_1mrt8_13",vc="_checkmarkIcon_1mrt8_20",Un={ikon:mc,colTopPadding:fc,imageColTopPadding:cc,exclamationmarkIcon:pc,checkmarkIcon:vc},hc=bf.bind(Un),bc=(e,n)=>e?"ArbeidsforholdRad.Saksbehandler":n?"ArbeidsforholdRad.AaRegisteret":"ArbeidsforholdRad.Inntektsmelding",jc=(e,n)=>{if((n==null?void 0:n.saksbehandlersVurdering)===de.MANUELT_OPPRETTET_AV_SAKSBEHANDLER||(n==null?void 0:n.saksbehandlersVurdering)===de.OPPRETT_BASERT_PÅ_INNTEKTSMELDING)return{fom:n==null?void 0:n.fom,tom:n==null?void 0:n.tom};const r=e.reduce((t,i)=>({fom:t.fom&&T(t.fom).isBefore(i.fom)?t.fom:i.fom,tom:t.tom&&T(t.tom).isAfter(i.tom)?t.tom:i.tom}),{fom:void 0,tom:void 0});return r.fom?r:void 0},xc=(e,n)=>{const r=e.some(s=>s.internArbeidsforholdId),t=e.some(s=>!s.internArbeidsforholdId);if(r&&t)throw Error("Har inntektsmelding både med og uten id");const i=e.find(s=>!s.internArbeidsforholdId||!n||s.internArbeidsforholdId===n);if(!i)throw Error(`Finner ingen inntektsmelding for arbeidsforhold id ${n}`);return i},Ac=({saksnummer:e,behandlingUuid:n,arbeidOgInntekt:r,radData:t,isReadOnly:i,erOverstyrt:s,oppdaterTabell:l,registrerArbeidsforhold:d,lagreVurdering:o,toggleÅpenRad:u,erRadÅpen:k,alleKodeverk:c})=>{var h;const b=Q(),{arbeidsgiverNavn:A,arbeidsgiverIdent:_,årsak:P,avklaring:S,arbeidsgiverFødselsdato:F}=t,N=j.useMemo(()=>r.arbeidsforhold.filter(H=>H.arbeidsgiverIdent===_),[r,_]),D=j.useMemo(()=>r.inntektsmeldinger.filter(H=>H.arbeidsgiverIdent===_),[r,_]),$=(S==null?void 0:S.saksbehandlersVurdering)===de.MANUELT_OPPRETTET_AV_SAKSBEHANDLER,M=N.length>0&&D.length>0&&!P,C=P===ti.MANGLENDE_INNTEKTSMELDING,re=P===ti.INNTEKTSMELDING_UTEN_ARBEIDSFORHOLD,te=!!P&&!(S!=null&&S.saksbehandlersVurdering),q=N.length>0&&D.length===0&&!P&&!$,J=N.length===0&&D.length>0&&!P,U=j.useMemo(()=>jc(N,t.avklaring),[$,N,t.avklaring]),Y=(h=r.inntekter.find(H=>H.arbeidsgiverIdent===_))==null?void 0:h.inntekter;return g.jsxs(Nk,{alignWithColumn:1,content:g.jsxs(g.Fragment,{children:[$&&g.jsx(Lo,{behandlingUuid:n,isReadOnly:!1,registrerArbeidsforhold:d,radData:t,arbeidsforhold:N[0],lukkArbeidsforholdRad:u,erOverstyrt:s,oppdaterTabell:l}),M&&g.jsx(Mo,{saksnummer:e,arbeidsforholdForRad:N,inntektsmeldingerForRad:D,alleKodeverk:c}),J&&g.jsx(ai,{saksnummer:e,arbeidsforhold:N.length>0?N[0]:void 0,inntektsmelding:xc(D,N.length>0?N[0].internArbeidsforholdId:void 0),skalViseArbeidsforholdId:!1,alleKodeverk:c}),C&&g.jsx(kc,{saksnummer:e,behandlingUuid:n,skjæringspunktDato:r.skjæringstidspunkt,inntektsposter:Y,isReadOnly:i,arbeidsforholdForRad:N,inntektsmeldingerForRad:D,radData:t,lagreVurdering:o,lukkArbeidsforholdRad:u,oppdaterTabell:l,alleKodeverk:c}),re&&g.jsx(Mf,{saksnummer:e,behandlingUuid:n,arbeidsgiverNavn:A,inntektsmelding:D[0],radData:t,isReadOnly:i,registrerArbeidsforhold:d,lagreVurdering:o,lukkArbeidsforholdRad:u,oppdaterTabell:l,skalViseArbeidsforholdId:D.length>1}),q&&g.jsx(Ko,{saksnummer:e,skjæringspunktDato:r.skjæringstidspunkt,inntektsposter:Y,arbeidsforholdForRad:N,alleKodeverk:c})]}),showContent:k,toggleContent:u,isApLeftBorder:te,children:[g.jsxs(w,{className:hc("ikon",k?"imageColTopPadding":void 0),children:[!te&&g.jsx(zs,{title:b.formatMessage({id:"ArbeidsforholdRad.Ok"}),className:Un.checkmarkIcon}),te&&g.jsx(nr,{title:b.formatMessage({id:"ArbeidsforholdRad.Aksjonspunkt"}),className:Un.exclamationmarkIcon})]}),g.jsxs(w,{className:k?Un.colTopPadding:void 0,children:[k&&g.jsxs(g.Fragment,{children:[g.jsx(V,{size:"small",children:A}),g.jsxs(ke,{children:["(",F?g.jsx(Re,{dateString:F}):_,")"]})]}),!k&&g.jsx(I,{size:"small",children:A})]}),g.jsx(w,{className:k?Un.colTopPadding:void 0,children:g.jsxs(I,{children:[U&&U.fom&&g.jsx(Ue,{dateStringFom:U.fom,dateStringTom:U.tom!==Me?U.tom:void 0}),!U&&"-"]})}),g.jsx(w,{className:k?Un.colTopPadding:void 0,children:g.jsx(I,{children:g.jsx(m,{id:bc($,N.length>0)})})}),g.jsx(w,{className:k?Un.colTopPadding:void 0,children:g.jsxs(I,{children:[N.length<2&&D.length===1&&g.jsx(Re,{dateString:D[0].motattDato}),!C&&N.length>1&&D.length===N.length&&g.jsx(m,{id:"ArbeidsforholdRad.Mottatt"}),($||C&&D.length<N.length)&&g.jsx(m,{id:"ArbeidsforholdRad.IkkeMottatt"})]})})]})},Ic="_leggTilImage_2poz8_1",Tc="_alertStripe_2poz8_5",Ec={leggTilImage:Ic,alertStripe:Tc},_c=(e,n)=>{const r=e.some(l=>l.årsak===ti.MANGLENDE_INNTEKTSMELDING),t=e.some(l=>l.årsak===ti.INNTEKTSMELDING_UTEN_ARBEIDSFORHOLD),i=(n==null?void 0:n.status)===Zn.OPPRETTET,s=[];return i&&r&&s.push("ArbeidOgInntektFaktaPanel.InnhentManglendeInntektsmelding"),i&&t&&s.push("ArbeidOgInntektFaktaPanel.AvklarManglendeOpplysninger"),s},Sc=({behandling:e,aksjonspunkt:n,readOnly:r,arbeidOgInntekt:t,registrerArbeidsforhold:i,erOverstyrer:s,tabellData:l,settÅpneRadIndexer:d,setErOverstyrt:o,oppdaterTabell:u})=>{const k=Q(),{arbeidsforhold:c,inntektsmeldinger:h}=t,[b,A]=j.useState(!1),[_,P]=j.useState(!1),S=j.useCallback(()=>{o(!0),A(!0);const $=l.findIndex(M=>{var C;return((C=M.avklaring)==null?void 0:C.saksbehandlersVurdering)===de.MANUELT_OPPRETTET_AV_SAKSBEHANDLER});$!==-1&&d([$])},[l,d]),F=j.useMemo(()=>_c(l,n),[e.versjon]),N=l.every($=>$.arbeidsgiverIdent!==cr),D=(n==null?void 0:n.status)===Zn.OPPRETTET;return g.jsxs(g.Fragment,{children:[g.jsx(se,{children:g.jsxs(y,{spaceBetween:!0,children:[g.jsx(v,{children:g.jsx(se,{children:g.jsxs(y,{children:[g.jsx(v,{children:g.jsx(ce,{size:"small",children:g.jsx(m,{id:"ArbeidOgInntektFaktaPanel.Overskrift"})})}),s&&D&&!r&&g.jsx(v,{children:g.jsx(Ys,{onClick:S})})]})})}),g.jsx(v,{children:g.jsx(tn,{children:g.jsx(I,{size:"small",children:g.jsx(m,{id:"ArbeidOgInntektFaktaPanel.Skjaringstidspunkt",values:{skjæringspunktDato:De(t.skjæringstidspunkt)}})})})})]})}),g.jsx(x,{thirtyTwoPx:!0}),F.length>0&&g.jsx(ut,{children:F.map($=>k.formatMessage({id:$})).join(" ")}),c.length===0&&h.length===0&&s&&g.jsx("div",{className:Ec.alertStripe,children:g.jsx(Jn,{variant:"info",children:g.jsx(m,{id:"ArbeidOgInntektFaktaPanel.IngenArbeidsforhold"})})}),g.jsx(x,{sixteenPx:!0}),b&&N&&!_&&g.jsxs(g.Fragment,{children:[g.jsx(x,{twentyPx:!0}),g.jsx(ne,{size:"small",variant:"tertiary",icon:g.jsx(Ii,{"aria-hidden":!0}),onClick:()=>P(!0),children:g.jsx(m,{id:"ArbeidOgInntektFaktaPanel.LeggTilArbeidsforhold"})}),g.jsx(x,{thirtyTwoPx:!0})]}),g.jsx(x,{thirtyTwoPx:!0}),_&&g.jsxs(g.Fragment,{children:[g.jsx(Lo,{behandlingUuid:e.uuid,isReadOnly:!1,registrerArbeidsforhold:i,lukkArbeidsforholdRad:()=>P(!1),oppdaterTabell:u,erOverstyrt:!0,erNyttArbeidsforhold:!0}),g.jsx(x,{fourtyPx:!0})]})]})},yc="_alertStripe_z95u6_1",Nc={alertStripe:yc},Pc=["EMPTY1","ArbeidOgInntektFaktaPanel.Arbeidsforhold","ArbeidOgInntektFaktaPanel.Periode","ArbeidOgInntektFaktaPanel.Kilde","ArbeidOgInntektFaktaPanel.InntektsmeldingMottatt","EMPTY2"],Rc=(e,n)=>{const r=e.årsak,t=n.årsak;return r&&!t?-1:t&&!r?1:e.arbeidsgiverNavn.localeCompare(n.arbeidsgiverNavn)},al=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent,Oc=(e,n)=>{const r={saksbehandlersVurdering:e.saksbehandlersVurdering,begrunnelse:e.begrunnelse};return e.saksbehandlersVurdering===de.MANUELT_OPPRETTET_AV_SAKSBEHANDLER||e.saksbehandlersVurdering===de.OPPRETT_BASERT_PÅ_INNTEKTSMELDING?{...r,arbeidsgiverNavn:n,fom:e.fom,tom:e.tom,stillingsprosent:e.stillingsprosent}:r},Bc=e=>e.årsak?-1:1,Fc=(e,n)=>{const{arbeidsforhold:r,inntektsmeldinger:t}=e,i=[...r.sort(Bc)].reduce((l,d)=>{var o;if(l.find(h=>h.arbeidsgiverIdent===d.arbeidsgiverIdent))return l;const u=n[d.arbeidsgiverIdent],k=u.navn,c=d.årsak?d.årsak:(o=t.find(h=>al(d,h)))==null?void 0:o.årsak;return l.concat({arbeidsgiverIdent:d.arbeidsgiverIdent,arbeidsgiverNavn:k,arbeidsgiverFødselsdato:u.erPrivatPerson?u.fødselsdato:void 0,årsak:c,avklaring:d.saksbehandlersVurdering?Oc(d,k):void 0})},[]),s=t.filter(l=>!r.some(d=>al(d,l))).map(l=>({arbeidsgiverIdent:l.arbeidsgiverIdent,internArbeidsforholdId:l.internArbeidsforholdId,arbeidsgiverNavn:n[l.arbeidsgiverIdent].navn,arbeidsgiverFødselsdato:n[l.arbeidsgiverIdent].erPrivatPerson?n[l.arbeidsgiverIdent].fødselsdato:void 0,årsak:l.årsak,avklaring:l.saksbehandlersVurdering?{saksbehandlersVurdering:l.saksbehandlersVurdering,begrunnelse:l.begrunnelse}:void 0}));return i.concat(s).sort(Rc)},ll=e=>{const n=e.findIndex(r=>r.årsak&&!r.avklaring);return n!==-1?[n]:[]},$c=({saksnummer:e,behandling:n,aksjonspunkt:r,readOnly:t,arbeidOgInntekt:i,arbeidsgiverOpplysningerPerId:s,registrerArbeidsforhold:l,lagreVurdering:d,formData:o,setFormData:u,erOverstyrer:k,lagreCallback:c,settBehandlingPåVentCallback:h,alleKodeverk:b,åpneForNyVurdering:A})=>{const[_,P]=j.useState(!1),[S,F]=j.useState(!1),[N,D]=j.useState(!1),[$,M]=j.useState(o||Fc(i,s)),[C,re]=j.useState(ll($)),te=xf();j.useEffect(()=>()=>{u($)},[$]);const q=j.useCallback(ue=>{C.some(pe=>pe===ue)?re(C.filter(pe=>pe!==ue)):re(C.concat(ue))},[C,re]),J=j.useRef(null),U=j.useCallback(ue=>{var pe;M(ue),re(ll(ue($))),(pe=J==null?void 0:J.current)==null||pe.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[$]),Y=j.useCallback(()=>{P(!0),c({kode:ae.VURDER_ARBEIDSFORHOLD_INNTEKTSMELDING})},[n.versjon]),H=j.useCallback(()=>{P(!0),A()},[n.versjon]),le=j.useCallback(ue=>{P(!0),F(!1);const{frist:pe,ventearsak:en}=ue;en&&h({frist:pe,ventearsak:en})},[n.versjon]),Se=$.some(ue=>{var pe,en;return((pe=ue.avklaring)==null?void 0:pe.saksbehandlersVurdering)===de.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_INNTEKTSMELDING||((en=ue.avklaring)==null?void 0:en.saksbehandlersVurdering)===de.KONTAKT_ARBEIDSGIVER_VED_MANGLENDE_ARBEIDSFORHOLD}),He=$.every(ue=>!ue.årsak||ue.årsak&&ue.avklaring),on=(r==null?void 0:r.status)===Zn.UTFORT,lr=(r==null?void 0:r.status)===Zn.OPPRETTET,Mn=!t&&(on||k&&r===void 0),Qe=!t&&lr&&He&&!te&&Se,he=!t&&lr&&He&&!te&&!Se;return g.jsxs(g.Fragment,{children:[g.jsx(Sc,{behandling:n,aksjonspunkt:r,readOnly:t,arbeidOgInntekt:i,registrerArbeidsforhold:l,erOverstyrer:k,tabellData:$,settÅpneRadIndexer:re,setErOverstyrt:D,oppdaterTabell:U}),g.jsx(We,{ref:J,headerTextCodes:Pc,noHover:!0,hasGrayHeader:!0,children:$.map((ue,pe)=>g.jsx(Ac,{arbeidOgInntekt:i,saksnummer:e,behandlingUuid:n.uuid,radData:ue,isReadOnly:t||on,registrerArbeidsforhold:l,lagreVurdering:d,toggleÅpenRad:()=>q(pe),erOverstyrt:N,oppdaterTabell:U,erRadÅpen:C.includes(pe),alleKodeverk:b},`${ue.arbeidsgiverNavn}${ue.arbeidsgiverIdent}${pe}`))}),g.jsx(x,{sixteenPx:!0}),Qe&&g.jsxs(g.Fragment,{children:[g.jsx(ne,{size:"small",variant:"primary",disabled:_,onClick:()=>F(!0),type:"button",children:g.jsx(m,{id:"ArbeidOgInntektFaktaPanel.SettPaVent"})}),g.jsx(Vk,{submitCallback:le,cancelEvent:()=>F(!1),defaultVenteårsak:Gk.VENT_OPDT_INNTEKTSMELDING,hasManualPaVent:!0,ventearsaker:b[_n.VENT_AARSAK],erTilbakekreving:!1,showModal:S})]}),he&&g.jsx(ne,{size:"small",variant:"primary",disabled:_,loading:_,onClick:Y,type:"button",children:g.jsx(m,{id:"ArbeidOgInntektFaktaPanel.Bekreft"})}),Mn&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:Nc.alertStripe,children:g.jsx(Jn,{variant:"info",children:g.jsx(m,{id:"ArbeidOgInntektFaktaPanel.ApneForNyRevurderingForklaring"})})}),g.jsx(x,{sixteenPx:!0}),g.jsx(ne,{size:"small",variant:"secondary",disabled:_,loading:_,onClick:H,type:"button",children:g.jsx(m,{id:"ArbeidOgInntektFaktaPanel.ApneForNyVurdering"})})]})]})},Dc={"ArbeidOgInntektFaktaPanel.Overskrift":"Fakta om arbeid og inntekt","ArbeidOgInntektFaktaPanel.Arbeidsforhold":"Arbeidsforhold","ArbeidOgInntektFaktaPanel.Periode":"Periode","ArbeidOgInntektFaktaPanel.Kilde":"Kilde","ArbeidOgInntektFaktaPanel.InntektsmeldingMottatt":"Inntektsmelding","ArbeidOgInntektFaktaPanel.InnhentManglendeInntektsmelding":"Innhent manglende inntektsmeldinger.","ArbeidOgInntektFaktaPanel.AvklarManglendeOpplysninger":"Avklar manglende opplysninger.","ArbeidOgInntektFaktaPanel.IngenArbeidsforhold":"Ingen arbeidsforhold eller inntektsmeldinger registrert på bruker. Det er kun unntaksvis at det skal opprettes manuelle arbeidsforhold. Det kan være i saker søker er ambassadepersonell, utenlandske ansatte eller fisker. Hvis det er andre arbeidsforhold må du kontakte arbeidsgiver eller søker for riktig registrering i AA-reg.","ArbeidOgInntektFaktaPanel.Skjaringstidspunkt":"Skjæringstidspunkt for opptjening: {skjæringspunktDato}","ArbeidOgInntektFaktaPanel.SettPaVent":"Sett på vent","ArbeidOgInntektFaktaPanel.Bekreft":"Bekreft og fortsett","ArbeidOgInntektFaktaPanel.LeggTilArbeidsforhold":" Legg til arbeidsforhold","ArbeidOgInntektFaktaPanel.ApneForNyVurdering":"Åpne for ny vurdering","ArbeidOgInntektFaktaPanel.ApneForNyRevurderingForklaring":'Ved å bruke "Åpne for ny vurdering" kan du endre valg som er gjort i dette panelet. Det som er gjort senere i saken, må gjøres på ny.',"ArbeidsforholdRad.Saksbehandler":"Saksbehandler","ArbeidsforholdRad.AaRegisteret":"A-ordningen","ArbeidsforholdRad.Inntektsmelding":"Inntektsmelding","ArbeidsforholdRad.Aksjonspunkt":"Åpent aksjonspunkt","ArbeidsforholdRad.Ok":"Arbeidsforhold er OK","ArbeidsforholdRad.Mottatt":"Mottatt","ArbeidsforholdRad.IkkeMottatt":"Ikke mottatt","InntektsmeldingInnhentesForm.MåInnhentes":"Må inntektsmelding innhentes?","InntektsmeldingInnhentesForm.TarKontakt":"Jeg tar kontakt med søker eller arbeidsgiver for å innhente inntektsmelding","InntektsmeldingInnhentesForm.GåVidere":"Gå videre uten inntektsmelding","InntektsmeldingInnhentesForm.Begrunn":"Begrunn valget","InntektsmeldingInnhentesForm.Kommentar":"Kommentar","InntektsmeldingInnhentesForm.Lagre":"Lagre","InntektsmeldingInnhentesForm.Avbryt":"Avbryt","InntektsmeldingInnhentesForm.AltHjelpetekst":"Hjelpetekst","InntektsmeldingInnhentesForm.HjelpetekstDel1":"Vi trenger inntektsmelding for å behandle saken. Kontakt arbeidsgiveren per telefon. Hvis kontaktinformasjonen til arbeidsgiver er vanskelig å finne, kontakt bruker først.","InntektsmeldingInnhentesForm.HjelpetekstDel2":"Det er kun unntaksvis at en sak skal behandles uten inntektsmelding, f.eks. at man etter gjentatte ganger ikke oppnår kontakt. Refusjon til arbeidsgiver er ikke mulig uten en inntektsmelding.","InntektsmeldingInnhentesForm.HjelpetekstDel3":"Dersom det er flere arbeidsforhold i samme virksomhet må det sendes en inntektsmelding som gjelder samlet for alle, eller én per arbeidsforhold med arbeidsforholdsID.","InntektsmeldingInnhentesForm.InnehentAlle":"Ved flere arbeidsforhold i samme virksomhet, skal alle inntektsmeldinger innhentes. Mottas ikke alle, må du vurdere om du skal gå videre uten alle inntektsmeldingene. Gjør du det, fjernes arbeidsforholdet (ene) fra beregningen.","InntektsmeldingOpplysningerPanel.Stillingsprosent":"Stillingsprosent","InntektsmeldingOpplysningerPanel.Inntektsmelding":"Inntektsmelding","InntektsmeldingOpplysningerPanel.Refusjon":"Refusjon","InntektsmeldingOpplysningerPanel.Ja":"Ja","InntektsmeldingOpplysningerPanel.Nei":"Nei","InntektsmeldingOpplysningerPanel.Refusjonsbeløp":"Refusjonsbeløp","InntektsmeldingOpplysningerPanel.Kontaktinfo":"Kontaktinfo","InntektsmeldingOpplysningerPanel.Tlf":"Tlf. {nr}","InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding":"Åpne inntektsmelding (PDF)","InntektsmeldingOpplysningerPanel.ArbeidsforholdId":"ID","ManglendeOpplysningerForm.ErMottattMenIkkeReg":"Inntektsmelding er mottatt, men arbeidsforholdet er ikke registrert i A-ordningen","ManglendeOpplysningerForm.SkalBrukeInntekstmelding":"Skal vi bruke denne inntektsmeldingen?","ManglendeOpplysningerForm.TarKontakt":"Jeg kontakter arbeidsgiver","ManglendeOpplysningerForm.GåVidere":"Se bort fra inntektsmeldingen","ManglendeOpplysningerForm.OpprettArbeidsforhold":"Opprett arbeidsforhold basert på inntektsmeldingen","ManglendeOpplysningerForm.Begrunn":"Begrunn valget","ManglendeOpplysningerForm.PeriodeFra":"Periode fra","ManglendeOpplysningerForm.PeriodeTil":"Periode til","ManglendeOpplysningerForm.Stillingsprosent":"Stillingsprosent","ManglendeOpplysningerForm.Lagre":"Lagre","ManglendeOpplysningerForm.Avbryt":"Avbryt","ManglendeOpplysningerForm.AltHjelpetekst":"Hjelpetekst","ManglendeOpplysningerForm.Hjelpetekst":"Det er kun unntaksvis at det skal opprettes manuelle arbeidsforhold basert på en inntektsmelding. Det kan være i saker hvor søker er ambassadepersonell, utenlandske ansatte eller fisker. Hvis det er andre arbeidsforhold må du kontakte arbeidsgiver eller søker for riktig registrering i AA-reg.","ArbeidsforholdInformasjonPanel.ArbeidsforholdId":"ID","ArbeidsforholdInformasjonPanel.Stillingsprosent":"Stillingsprosent","ArbeidsforholdInformasjonPanel.Periode":"Periode","ArbeidsforholdInformasjonPanel.ImMottatt":"Inntektsmelding mottatt","ArbeidsforholdInformasjonPanel.ImIkkeMottatt":"Ikke mottatt inntektsmelding","ArbeidsforholdInformasjonPanel.Inntekter":"Inntekter (fra A-ordningen)","ArbeidsforholdInformasjonPanel.TotaltInntekter":"Inntekter totalt fra virksomheten (fra A-ordningen)","ArbeidsforholdInformasjonPanel.1":"Jan","ArbeidsforholdInformasjonPanel.2":"Feb","ArbeidsforholdInformasjonPanel.3":"Mars","ArbeidsforholdInformasjonPanel.4":"Apr","ArbeidsforholdInformasjonPanel.5":"Mai","ArbeidsforholdInformasjonPanel.6":"Jun","ArbeidsforholdInformasjonPanel.7":"Jul","ArbeidsforholdInformasjonPanel.8":"Aug","ArbeidsforholdInformasjonPanel.9":"Sep","ArbeidsforholdInformasjonPanel.10":"Okt","ArbeidsforholdInformasjonPanel.11":"Nov","ArbeidsforholdInformasjonPanel.12":"Des","ArbeidsforholdInformasjonPanel.TidligereManeder":"Tidligere måneder ","ArbeidsforholdInformasjonPanel.FaerreManeder":"Siste måneder ","ArbeidsforholdInformasjonPanel.IngenInntekt":"Ingen inntekt registrert på bruker i A-ordningen siste seks mnd.","ArbeidsforholdInformasjonPanel.ÅpneInntektsmelding":"Åpne inntektsmelding (PDF)","ArbeidsforholdInformasjonPanel.ApneImInfo":"Vis mer","ArbeidsforholdInformasjonPanel.LukkeImInfo":"Vis mindre","LeggTilArbeidsforholdForm.LeggTilArbeidsforhold":"Legg til arbeidsforhold","LeggTilArbeidsforholdForm.Arbeidsgiver":"Navn på arbeidsgiver","LeggTilArbeidsforholdForm.PeriodeFra":"Periode fra","LeggTilArbeidsforholdForm.PeriodeTil":"Periode til","LeggTilArbeidsforholdForm.Stillingsprosent":"Stillingsprosent","LeggTilArbeidsforholdForm.Begrunn":"Begrunn endringene","LeggTilArbeidsforholdForm.Lagre":"Lagre","LeggTilArbeidsforholdForm.Avbryt":"Avbryt","LeggTilArbeidsforholdForm.Slett":"Slett","NyttArbeidsforholdForm.VilDuSlette":"Vil du slette arbeidsforholdet?","ExpandableTableRow.Apne":"Åpne rad","ExpandableTableRow.Lukke":"Lukk rad"},Vc=Ge(Dc),wo=({saksnummer:e,behandling:n,submitCallback:r,aksjonspunkter:t,readOnly:i,formData:s,setFormData:l,arbeidOgInntekt:d,arbeidsgiverOpplysningerPerId:o,registrerArbeidsforhold:u,lagreVurdering:k,erOverstyrer:c,settBehandlingPåVentCallback:h,alleKodeverk:b,åpneForNyVurdering:A})=>g.jsx(Ze,{value:Vc,children:g.jsx(jf,{children:g.jsx($c,{saksnummer:e,behandling:n,aksjonspunkt:t.length>0?t[0]:void 0,readOnly:i,formData:s,lagreCallback:r,setFormData:l,arbeidOgInntekt:d,arbeidsgiverOpplysningerPerId:o,registrerArbeidsforhold:u,lagreVurdering:k,erOverstyrer:c,settBehandlingPåVentCallback:h,alleKodeverk:b,åpneForNyVurdering:A})})});wo.__docgenInfo={description:"",methods:[],displayName:"_s"};const Gc=[ae.VURDER_ARBEIDSFORHOLD_INNTEKTSMELDING],Lc=[we.ARBEID_OG_INNTEKT],dl=({saksnummer:e,behandlingUuid:n,arbeidsgiverOpplysningerPerId:r,rettigheter:t,hentOgSettBehandling:i,...s})=>{const l=Q(),{startRequest:d}=Ft.useRestApiRunner(we.ARBEID_OG_INNTEKT_REGISTRER_ARBEIDSFORHOLD),{startRequest:o}=Ft.useRestApiRunner(we.ARBEID_OG_INNTEKT_LAGRE_VURDERING),{startRequest:u}=Ft.useRestApiRunner(we.BEHANDLING_ON_HOLD),{startRequest:k}=Ft.useRestApiRunner(we.ARBEID_OG_INNTEKT_ÅPNE_FOR_NY_VURDERING),c=j.useCallback(()=>{k({behandlingUuid:n,behandlingVersjon:s.behandling.versjon}).then(()=>i())},[s.behandling.versjon]),h=j.useCallback(b=>u({frist:b.frist||"",ventearsak:b.ventearsak,behandlingUuid:n,behandlingVersjon:s.behandling.versjon}).then(()=>i()),[s.behandling.versjon]);return Ne.jsx(Nr,{...s,panelEndepunkter:Lc,aksjonspunktKoder:Gc,faktaPanelKode:yr.ARBEID_OG_INNTEKT,faktaPanelMenyTekst:l.formatMessage({id:"ArbeidOgInntektInfoPanel.Title"}),skalPanelVisesIMeny:()=>Ao.hasPath(we.ARBEID_OG_INNTEKT.name)&&!s.behandling.aksjonspunkt.some(b=>ae.AVKLAR_ARBEIDSFORHOLD===b.definisjon),renderPanel:b=>Ne.jsx(wo,{saksnummer:e,arbeidsgiverOpplysningerPerId:r,erOverstyrer:t.kanOverstyreAccess.isEnabled,registrerArbeidsforhold:d,lagreVurdering:o,settBehandlingPåVentCallback:h,åpneForNyVurdering:c,...b})})};try{dl.displayName="ArbeidOgInntektFaktaInitPanel",dl.__docgenInfo={description:"",displayName:"ArbeidOgInntektFaktaInitPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},behandlingUuid:{defaultValue:null,description:"",name:"behandlingUuid",required:!0,type:{name:"string"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},rettigheter:{defaultValue:null,description:"",name:"rettigheter",required:!0,type:{name:"AksessRettigheter"}},hentOgSettBehandling:{defaultValue:null,description:"",name:"hentOgSettBehandling",required:!0,type:{name:"() => void"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}var Ce=(e=>(e.FORDEL_BEREGNINGSGRUNNLAG="FORDEL_BG",e.VURDER_REFUSJON_BERGRUNN="VURDER_REFUSJONSKRAV",e.VURDER_NYTT_INNTKTSFRHLD="VURDER_NYTT_INNTKTSFRHLD",e))(Ce||{}),Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Co={exports:{}},Cr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol;function Kc(){if(ol)return Cr;ol=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,c={},h=null,b=null;u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),o.ref!==void 0&&(b=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(c[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)c[k]===void 0&&(c[k]=o[k]);return{$$typeof:n,type:d,key:h,ref:b,props:c,_owner:i.current}}return Cr.Fragment=r,Cr.jsx=l,Cr.jsxs=l,Cr}Co.exports=Kc();var f=Co.exports;const st=e=>e?`...${e.substring(e.length-4,e.length)}`:"",mt=(e,n)=>{const{navn:r,fødselsdato:t,erPrivatPerson:i,identifikator:s}=e;return i?t?`${r} (${T(t).format(ie)})${st(n)}`:r:s?`${r} (${s})${st(n)}`:r},hs=(e,n)=>{var r,t;const i=((r=e.arbeidsgiver)==null?void 0:r.arbeidsgiverOrgnr)||((t=e.arbeidsgiver)==null?void 0:t.arbeidsgiverAktørId);if(!i||!n[i])return"";const s=n[i];return s.erPrivatPerson?s.fødselsdato?`${s.navn} (${T(s.fødselsdato).format(ie)})${st(e.eksternArbeidsforholdRef)}`:`${s.navn}${st(e.eksternArbeidsforholdRef)}`:`${s.navn} (${i})${st(e.eksternArbeidsforholdRef)}`},wc="_tabell_u17gc_1",Uc="_fadein_u17gc_1",Cc="_correctPadding_u17gc_9",zc="_flexColumn12_u17gc_12",Yc="_flexColumn9_u17gc_15",Hc="_flexColumn3_u17gc_18",li={tabell:wc,fadein:Uc,correctPadding:Cc,flexColumn12:zc,flexColumn9:Yc,flexColumn3:Hc},Jc=(e,n)=>e.map(r=>f.jsx(y,{className:li.correctPadding,children:f.jsx(v,{children:r&&r.erTildeltRefusjon?f.jsx(I,{size:"small",children:n}):f.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Direkteutbetaling"})})},`${n}_(${r.fom}_(${r.erTildeltRefusjon})`)),qc=e=>{if(!e)return;const n=e.tom===Me?void 0:e.tom;return f.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Periode",values:{fom:De(e.fom),tom:n?De(n):""}})},Zc=e=>e.map(n=>f.jsx(y,{className:li.correctPadding,children:f.jsx(v,{children:qc(n)})},`${n.fom}_(${n.erTildeltRefusjon})`)),Wc=({refusjonAndel:e,arbeidsgiverOpplysningerPerId:n})=>f.jsxs(Le,{children:[f.jsx(w,{children:hs(e,n)}),f.jsx(w,{children:Jc(e.tidligereUtbetalinger||[],hs(e,n))}),f.jsx(w,{children:Zc(e.tidligereUtbetalinger||[])})]}),Xc=e=>e.arbeidsgiver?e.arbeidsgiver.arbeidsgiverAktørId?`${e.arbeidsgiver.arbeidsgiverAktørId}${e.internArbeidsforholdRef})`:`${e.arbeidsgiver.arbeidsgiverOrgnr}${e.internArbeidsforholdRef})`:`${e.aktivitetStatus}${e.internArbeidsforholdRef})`,Qc=({beregningsgrunnlag:e,arbeidsgiverOpplysningerPerId:n})=>{var r;const t=((r=e.refusjonTilVurdering)==null?void 0:r.andeler)||[];return f.jsx(y,{children:f.jsx(v,{className:li.flexColumn9,children:f.jsx(We,{headerTextCodes:["BeregningInfoPanel.RefusjonBG.Aktivitet","BeregningInfoPanel.RefusjonBG.TidligereUtb","BeregningInfoPanel.RefusjonBG.GjeldendeFra"],noHover:!0,classNameTable:li.tabell,children:t.map(i=>f.jsx(Wc,{arbeidsgiverOpplysningerPerId:n,refusjonAndel:i},Xc(i)))})})})},ep="_marginTopp_pc86y_1",np="_bredde_pc86y_4",rp="_flexColumn9_pc86y_7",tp="_flexColumn3_pc86y_10",Pn={marginTopp:ep,bredde:np,flexColumn9:rp,flexColumn3:tp},ip="REFUSJON_ENDRING_DATO",sp="DELVIS_REFUSJON_FØR_START_BELØP",zo=(e,n)=>n.arbeidsgiver?n.arbeidsgiver.arbeidsgiverOrgnr?`${e}${n.arbeidsgiver.arbeidsgiverOrgnr}${n.internArbeidsforholdRef}`:`${e}${n.arbeidsgiver.arbeidsgiverAktørId}${n.internArbeidsforholdRef}`:`${e}${n.aktivitetStatus}${n.internArbeidsforholdRef})`,di=e=>zo(ip,e),oa=e=>zo(sp,e),ap=(e,n)=>n?new Date(n).getTime()===new Date(e).getTime():!1,ft=({refusjonAndel:e,readOnly:n,erAksjonspunktÅpent:r,arbeidsgiverOpplysningerPerId:t,skjæringstidspunkt:i,vilkårperiodeFieldIndex:s})=>{const l=hs(e,t),d=e.skalKunneFastsetteDelvisRefusjon?"BeregningInfoPanel.RefusjonBG.TidligereRefusjon":"BeregningInfoPanel.RefusjonBG.IngenTidligereRefusjon",o=_e().watch(`VURDER_REFUSJON_BERGRUNN_FORM.${s}.${di(e)}`),u=ap(i,o),k=j.useCallback(c=>f.jsx("b",{children:c}),[]);return f.jsxs(f.Fragment,{children:[f.jsx(y,{children:f.jsx(v,{className:Pn.flexColumn9,children:f.jsx(m,{id:d,values:{ag:l,dato:De(e.nyttRefusjonskravFom),b:k}})})}),f.jsxs(y,{children:[f.jsx(v,{className:Pn.flexColumn3,children:f.jsx(I,{size:"small",className:Pn.marginTopp,children:f.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.RefusjonFra"})})}),f.jsx(v,{className:Pn.flexColumn3,children:f.jsx(Wn,{name:`VURDER_REFUSJON_BERGRUNN_FORM.${s}.${di(e)}`,isReadOnly:n,validate:n?[]:[X,$n,Zs(e.tidligsteMuligeRefusjonsdato)],isEdited:!!e.fastsattNyttRefusjonskravFom&&!r})})]}),e.skalKunneFastsetteDelvisRefusjon&&!u&&e.maksTillattDelvisRefusjonPrMnd&&f.jsxs(y,{children:[f.jsx(v,{className:Pn.flexColumn3,children:f.jsx(I,{size:"small",className:Pn.marginTopp,children:f.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.DelvisPrMnd"})})}),f.jsx(v,{className:Pn.flexColumn3,children:f.jsx(je,{name:`VURDER_REFUSJON_BERGRUNN_FORM.${s}.${oa(e)}`,className:Pn.bredde,validate:n?[]:[X,Lk(1),vn(e.maksTillattDelvisRefusjonPrMnd)],parse:Ve,readOnly:n,isEdited:!!e.fastsattDelvisRefusjonPrMnd&&!r})})]})]})};ft.buildInitialValues=e=>{const n={};return n[di(e)]=e.fastsattNyttRefusjonskravFom||"",n[oa(e)]=K(e.fastsattDelvisRefusjonPrMnd)||"",n};ft.transformValues=(e,n,r)=>{var t,i;const s=di(n),l=e[s];let d;if(n.skalKunneFastsetteDelvisRefusjon&&l!==r){const o=oa(n);d=me(e[o])}return{arbeidsgiverOrgnr:(t=n.arbeidsgiver)==null?void 0:t.arbeidsgiverOrgnr,arbeidsgiverAktoerId:(i=n.arbeidsgiver)==null?void 0:i.arbeidsgiverAktørId,internArbeidsforholdRef:n.internArbeidsforholdRef,fastsattRefusjonFom:l,delvisRefusjonPrMndFørStart:d}};const lp="_begrunnelseTextField_1wq9u_1",dp="_explanationTextarea_1wq9u_4",op="_explanationTextareaReadOnly_1wq9u_7",wi={begrunnelseTextField:lp,explanationTextarea:dp,explanationTextareaReadOnly:op},ga={"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.EndringYtelse":"Endring i søkt ytelse for {arbeidsforhold}. ","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.Refusjon":"Nytt refusjonskrav hos {arbeidsforhold}. ","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.Gradering":"Søkt gradering hos {arbeidsforhold}. ","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.Permisjon":"Permisjon avsluttet hos {arbeidsforhold}","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.FastsetÅrsbeløp":"Fastsett årsbeløp for ny fordeling av beregningsgrunnlaget.","BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.TilkommetAktivitet":"<b>Tilkommet aktivitet</b> {br} Vurder om beregningsgrunnlaget skal flyttes til ny aktivitet eller fordeles mellom aktivitetene.","FordelBeregningsgrunnlag.Validation.KanIkkeHaNullIBeregningsgrunnlag":"Fastsatt beløp for gradert andel må være høyere enn 0.","BeregningInfoPanel.FordelingBG.LeggTilAndel":"Legg til aktivitet","BeregningInfoPanel.FordelingBG.Ytelse":"Ytelse","BeregningInfoPanel.FordelBG.PeriodeFom":"{fom} - ","BeregningInfoPanel.FordelBG.PeriodeFomOgTom":"{fom} - {tom}","BeregningInfoPanel.FordelBG.Andel":"Aktivitet","BeregningInfoPanel.FordelBG.AndelIArbeid":"Andel i arbeid","BeregningInfoPanel.FordelBG.Refusjonskrav":"Ref.krav","BeregningInfoPanel.FordelBG.Fordeling":"Ny fordeling","BeregningInfoPanel.FordelBG.Inntektskategori":"Inntektskategori","BeregningInfoPanel.FordelBG.Sum":"Sum","BeregningInfoPanel.FordelBG.Validation.LikFordeling":"Summen må være lik {fordeling}","BeregningInfoPanel.FordelBG.Validation.TotalRefusjonSkalIkkeOverstige":"Total refusjon må vere lavere enn {seksG}","BeregningInfoPanel.FordelBG.Validation.TotalFordelingLavereEnn":"Total fordeling for følgende andeler må være lavere enn {seksG}: {andelsliste}","BeregningInfoPanel.FordelBG.Validation.UlikeAndeler":"Andeler for samme aktivitet må ha ulik inntektskategori","BeregningInfoPanel.FordelBG.Validation.IkkjeHogereRefusjonEnnInntektsmelding":"Total refusjon for {arbeidsgiver} kan ikke være høyere enn beløpet fra inntektsmeldingen.","BeregningInfoPanel.FordelBG.Inntekt":"Inntekt","BeregningInfoPanel.FordelBG.Beregningsgrunnlag":"Grunnlag","BeregningInfoPanel.RefusjonBG.Tittel":"Endring i refusjon","BeregningInfoPanel.RefusjonBG.Aktivitet":"Aktivitet","BeregningInfoPanel.RefusjonBG.TidligereUtb":"Tidligere utbetalinger","BeregningInfoPanel.RefusjonBG.GjeldendeFra":"Gjelder fra","BeregningInfoPanel.RefusjonBG.Direkteutbetaling":"Direkte utbetaling","BeregningInfoPanel.RefusjonBG.Periode":"{fom} - {tom}","BeregningInfoPanel.RefusjonBG.IngenTidligereRefusjon":"<b>{ag}</b> krever refusjon fra og med {dato}","BeregningInfoPanel.RefusjonBG.TidligereRefusjon":"<b>{ag}</b> krever refusjon fra og med {dato}. Det er tidligere innvilget et lavere refusjonsbeløp","BeregningInfoPanel.RefusjonBG.RefusjonFra":"Refusjonsbeløpet skal gjelde fra og med","BeregningInfoPanel.RefusjonBG.Aksjonspunkt":"Nytt refusjonskrav overlapper tidligere utbetalinger. Sett endringsdato for ny refusjon.","BeregningInfoPanel.RefusjonBG.DelvisPrMnd":"Før denne datoen skal refusjonsbeløpet per måned være","BeregningInfoPanel.TilkommetAktivitet.Aktivitet":"Aktivitet","BeregningInfoPanel.TilkommetAktivitet.Periode":"Inntektsperiode","BeregningInfoPanel.TilkommetAktivitet.Årsinntekt":"Årsinntekt","BeregningInfoPanel.TilkommetAktivitet.RedusererUtbetaling":"Reduserer inntektstap","BeregningInfoPanel.TilkommetAktivitet.Ja":"Ja","BeregningInfoPanel.TilkommetAktivitet.Nei":"Nei","BeregningInfoPanel.TilkommetAktivitet.VurderTekstNæring":"Har søker inntekt fra den nye næringsaktiviteten som reduserer søkers inntektstap?","BeregningInfoPanel.TilkommetAktivitet.VurderTekstFrilans":"Har søker inntekt fra den nye frilanseraktiviteten som reduserer søkers inntektstap?","BeregningInfoPanel.TilkommetAktivitet.VurderTekstArbeid":"Har søker inntekt fra {arbeidsforhold} som reduserer søkers inntektstap?","BeregningInfoPanel.TilkommetAktivitet.Fastsett":"Fastsett årsinntekt","BeregningInfoPanel.TilkommetAktivitet.LesMer":"Hvordan fastsette årsinntekten?","BeregningInfoPanel.TilkommetAktivitet.LesMerArbeid":"Kontakt bruker for å dokumentere inntekten i det nye arbeidsforholdet. Enten ved å be arbeidsgiver sende inn inntektsmelding eller så kan bruker selv dokumenterer inntekten med arbeidskontrakt, lønnsslipper eller lignende. {br}{br}Dersom arbeidsforholdet har vart så lenge at utbetalt lønn er rapportert i a-ordningen, kan § 8-28 filtret benyttes for å fastsette årsinntekten. Hvis mulig,  benytt de 3 siste månedene og regn om til årsinntekt. Dersom arbeidsforholdet har vart kortere, kan du benytte en kortere periode.","BeregningInfoPanel.TilkommetAktivitet.LesMerFrilans":"Kontakt bruker for å dokumentere hva inntekten utgjør hvis det ikke er rapportert inntekt fra frilansoppdrag i a-ordningen. {br}{br}Hvis oppdraget har vart så lenge at inntekten er rapportert i a-ordningen, kan § 8-28 filtret benyttes for å fastsette årsinntekten. Benytt de 3 siste månedene hvis mulig og regn om til årsinntekt. Hvis oppdraget har vart kortere, kan du benytte en kortere periode.","BeregningInfoPanel.TilkommetAktivitet.LesMerNæring":"Benytt opplysninger oppgitt av bruker i søknaden, eller be bruker sannsynliggjøre forventet inntekt.","BeregningInfoPanel.TilkommetAktivitet.Alert":"Utgangspunktet er at all tilkommet aktivitet med inntekt skal føre til reduksjon i utbetaling. Det kan likevel være feil eller mangler i opplysningene fra AA-registeret. F. eks. internt bytte av org. nummer pga. endret lønns- og personalsystem eller manglende registrert sluttdato i gammel stilling ved overgang til ny stilling. Gjør derfor en konkret vurdering av hvorfor tilkommet aktivitet og inntekt ikke skal føre til reduksjon.","FaktaBegrunnelseTextField.BegrunnEndringene":"Begrunn endringene","SubmitButton.ConfirmInformation":"Bekreft og fortsett","HelpText.Aksjonspunkt.BehandletAksjonspunkt":"Behandlet aksjonspunkt: ","TilkommetAktivitet.AksjonspunktAlert":"Inntekter som kommer til underveis i en løpende pleiepengeperiode er ikke en del av søkers beregningsgrunnlag. Dersom inntekten reduserer søkers inntektstap, må det vurderes om pleiepengene skal graderes mot den nye inntekten.","TilkommetAktivitet.AksjonspunktHelpText":"Vurder om pleiepengene skal reduseres på grunn av den nye inntekten.","TilkommetAktivitet.Heading":"Perioder med ny aktivitet","TilkommetAktivitet.Modal.Knapp":"Del opp periode","TilkommetAktivitet.Modal.Tittel":"Del opp periode","TilkommetAktivitet.Modal.Select":"Hvilken periode ønsker du å dele opp?","TilkommetAktivitet.Modal.DatoValg":"Opprett ny vurdering fra","TilkommetAktivitet.Modal.Resultat":"Nye perioder til vurdering:","TilkommetAktivitet.Modal.Placeholder":"Velg periode","TilkommetAktivitet.Modal.Periode":"{fom} - {tom}","TilkommetAktivitet.Modal.DelOppKnapp":"Del opp periode","TilkommetAktivitet.Modal.AvbrytKnapp":"Avbryt","TilkommetAktivitet.AlertHeading.FlereStatuser":"Søker har nye aktiviteter","TilkommetAktivitet.AlertHeading.SelvstendigNæringsdrivende":"Søker har opplyst om ny inntekt som selvstendig næringsdrivende.","TilkommetAktivitet.AlertHeading.Frilans":"Søker har en ny frilansaktivitet i AA-registeret.","TilkommetAktivitet.AlertHeading.Arbeidsforhold":"Søker har et nytt arbeidsforhold i AA-registeret","Fordeling.VurdertTidligere":"Vurdert i en tidligere behandling","BeregningInfoPanel.TilkommetAktivitet.TomTekst":" "},gl=Ge(ga),gp=cn(3),up=pn(1500),Rr=({isReadOnly:e,isSubmittable:n,hasBegrunnelse:r,label:t,hasVurderingText:i,name:s})=>{const l=i?"FaktaBegrunnelseTextField.Vurdering":"FaktaBegrunnelseTextField.BegrunnEndringene",d=t||gl.formatMessage({id:l});return f.jsx(Ze,{value:gl,children:(n||r)&&f.jsx("div",{className:wi.begrunnelseTextField,children:f.jsx(Xe,{name:s,label:e?"":d,validate:e?[]:[X,gp,up,fn],className:e?wi.explanationTextareaReadOnly:wi.explanationTextarea,maxLength:1500,readOnly:e})})})};Rr.defaultProps={name:"begrunnelse",hasVurderingText:!1};const kp=e=>e&&e.begrunnelse?e.begrunnelse:"";Rr.buildInitialValues=(e,n="begrunnelse")=>({[n]:Cs(kp(e))});Rr.transformValues=(e,n="begrunnelse")=>({begrunnelse:e[n]});const mp=Ge(ga),fp=(e,n,r)=>!r||n?!0:!e,Pi=({isReadOnly:e,isSubmittable:n,onClick:r,isSubmitting:t,isDirty:i})=>e?null:f.jsx(ne,{size:"small",loading:t,disabled:fp(i,t,n),onClick:r||Ws,type:r?"button":"submit",children:mp.formatMessage({id:"SubmitButton.ConfirmInformation"})}),ul="VURDER_REFUSJON_BERGRUNN_FORM",{VURDER_REFUSJON_BERGRUNN:cp}=Ce,Yo=e=>e?e.find(n=>n.definisjon===cp):void 0,pp=e=>e.arbeidsgiver?e.arbeidsgiver.arbeidsgiverAktørId?`${e.arbeidsgiver.arbeidsgiverAktørId}${e.internArbeidsforholdRef})`:`${e.arbeidsgiver.arbeidsgiverOrgnr}${e.internArbeidsforholdRef})`:`${e.aktivitetStatus}${e.internArbeidsforholdRef})`,vp=(e,n)=>{var r;const t=((r=e.refusjonTilVurdering)==null?void 0:r.andeler)||[],i=Yo(e.avklaringsbehov);let s={beregningsgrunnlagStp:e.skjaeringstidspunktBeregning,periode:n.periode,begrunnelse:i&&i.begrunnelse?i.begrunnelse:void 0};return t.forEach(l=>{s={...s,...ft.buildInitialValues(l)}}),s},hp=(e,n)=>{var r;const t=(((r=n.refusjonTilVurdering)==null?void 0:r.andeler)||[]).map(i=>ft.transformValues(e,i,n.skjaeringstidspunktBeregning));return{periode:e.periode,begrunnelse:e.begrunnelse,fastsatteAndeler:t}},bp=({submittable:e,readOnly:n,beregningsgrunnlag:r,arbeidsgiverOpplysningerPerId:t,vilkårperiodeFieldIndex:i})=>{var s;const l=n&&!r.avklaringsbehov.some(h=>h.definisjon===Ce.VURDER_REFUSJON_BERGRUNN),d=((s=r.refusjonTilVurdering)==null?void 0:s.andeler)||[],o=Yo(r.avklaringsbehov),u=o?hn(o.status):!1,k=_e(),c=k.watch(`VURDER_REFUSJON_BERGRUNN_FORM.${i}.begrunnelse`);return f.jsxs(f.Fragment,{children:[f.jsx(xi,{isAksjonspunktOpen:u,children:[f.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Aksjonspunkt"},"aksjonspunktText")]}),f.jsx(x,{sixteenPx:!0}),f.jsx(ce,{size:"small",children:f.jsx(m,{id:"BeregningInfoPanel.RefusjonBG.Tittel"})}),f.jsx(x,{sixteenPx:!0}),f.jsx(Qc,{beregningsgrunnlag:r,arbeidsgiverOpplysningerPerId:t}),d.map(h=>f.jsx(ft,{refusjonAndel:h,readOnly:l,erAksjonspunktÅpent:u,arbeidsgiverOpplysningerPerId:t,skjæringstidspunkt:r.skjaeringstidspunktBeregning,formName:ul,vilkårperiodeFieldIndex:i},pp(h))),f.jsx(x,{twentyPx:!0}),f.jsx(Rr,{name:`${ul}.${i}.begrunnelse`,isSubmittable:e,isReadOnly:l,hasBegrunnelse:!!c}),f.jsx(x,{twentyPx:!0}),f.jsx(Pi,{isSubmittable:e,isReadOnly:l,isSubmitting:k.formState.isSubmitting,isDirty:k.formState.isDirty}),f.jsx(x,{sixteenPx:!0})]})};function ct(e,n){const r=e.find(t=>t.periode.fom===n);if(!r)throw Error(`Mangler vilkårsperiode for vilkårsperiodeFom ${n}`);return r}function rr(e,n){return ct(e,n).vurderesIBehandlingen}const oi="VURDER_REFUSJON_BERGRUNN_FORM",{VURDER_REFUSJON_BERGRUNN:jp}=Ce,xp=(e,n)=>({[oi]:e.map(r=>vp(r,ct(n,r.vilkårsperiodeFom)))}),Ap=(e,n)=>{const r=n.find(t=>t.vilkårsperiodeFom===e);if(!r)throw Error(`Mangler beregningsgrunnlag for vilkårsperiodeFom ${e}`);return r},Ip=(e,n,r)=>{const t=e[oi].filter(i=>rr(r,i.periode.fom)).map(i=>hp(i,Ap(i.periode.fom,n)));return{begrunnelse:t.map(i=>i.begrunnelse).reduce((i,s)=>i!==null?`${i} ${s}`:s),grunnlag:t,kode:jp}},Tp=({aktivtBeregningsgrunnlagIndeks:e,submittable:n,readOnly:r,beregningsgrunnlagListe:t,vilkarperioder:i,arbeidsgiverOpplysningerPerId:s,setFormData:l,formData:d,submitCallback:o,setRefusjonFormIsDirty:u})=>{const k=ze({defaultValues:d!=null&&d.VURDER_REFUSJON_BERGRUNN_FORM?d:xp(t,i)}),{formState:{dirtyFields:c,isSubmitted:h,errors:b,isDirty:A},control:_,trigger:P}=k;j.useEffect(()=>{u(A)},[A]),j.useEffect(()=>{var F;h&&(F=c[oi])!=null&&F[e]&&P()},[e]);const{fields:S}=an({name:oi,control:_});return f.jsx(Js,{errorMessage:"Noe gikk galt ved visning av refusjon",children:f.jsx(Ye,{formMethods:k,onSubmit:F=>{Object.keys(b).length===0&&o(Ip(F,t,i))},setDataOnUnmount:l,children:S.map(F=>{const N=t.findIndex(D=>D.skjaeringstidspunktBeregning===F.beregningsgrunnlagStp);return f.jsx("div",{style:{display:N===e?"block":"none"},children:f.jsx(bp,{submittable:n,readOnly:r||!rr(i,t[N].vilkårsperiodeFom),beregningsgrunnlag:t[N],arbeidsgiverOpplysningerPerId:s,vilkårperiodeFieldIndex:N})},F.id)})})})},{FORDEL_BEREGNINGSGRUNNLAG:Ep}=Ce,_p=(e,n)=>n.some(r=>r.definisjon===e),Sp=(e,n,r,t)=>{const i=[];return t.length===0&&n.length===0&&e.length===0&&r.length===0||i.push(f.jsx(m,{id:"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning.EndringBeregningsgrunnlag.TilkommetAktivitet",values:{b:(...s)=>f.jsx("b",{children:s}),br:f.jsx("br",{})}},"EndringBeregningsgrunnlagFastsetÅrsbeløp")),i},yp=e=>e.map(({erRefusjon:n})=>n).includes(!0)||e.map(({erGradering:n})=>n).includes(!0),Np=e=>{const n=e.filter(({perioderMedGraderingEllerRefusjon:s})=>s==null?void 0:s.map(({erGradering:l})=>l).includes(!0)),r=e.filter(({perioderMedGraderingEllerRefusjon:s})=>s==null?void 0:s.map(({erRefusjon:l})=>l).includes(!0)),t=e.filter(({permisjon:s})=>s!=null).filter(({perioderMedGraderingEllerRefusjon:s})=>yp(s||[])),i=e.filter(({perioderMedGraderingEllerRefusjon:s})=>s==null?void 0:s.map(({erSøktYtelse:l})=>l).includes(!0));return Sp(n,r,t,i)},Pp=e=>{var n,r;const t=((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.arbeidsforholdTilFordeling)||[];return _p(Ep,e.avklaringsbehov)?Np(t):[]},Rp=({isAksjonspunktClosed:e,beregningsgrunnlag:n})=>{const r=Pp(n);return f.jsx(xi,{isAksjonspunktOpen:!e,children:r})};var Ho={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var t=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var l=typeof s;if(l==="string"||l==="number")t.push(this&&this[s]||s);else if(Array.isArray(s))t.push(r.apply(this,s));else if(l==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){t.push(s.toString());continue}for(var d in s)n.call(s,d)&&s[d]&&t.push(this&&this[d]||d)}}}return t.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Ho);var Op=Ho.exports;const Jo=Uo(Op),qo=" - ",Zo=e=>e==null,Bp=e=>{if(e.length===0)return"";if(e.length===1)return`${parseFloat(e[0]).toFixed(2)}`;const n=Math.min(...e),r=Math.max(...e);return`${n}${qo}${r}`},Fp=e=>e.inntektskategori&&e.inntektskategori!==Vn.UDEFINERT?e.inntektskategori:"",$p=(e,n,r,t)=>{var i,s;if(!e.aktivitetStatus||e.aktivitetStatus===B.UDEFINERT)return"";if(e.aktivitetStatus===B.ARBEIDSTAKER&&e.arbeidsforhold){const l=e.arbeidsforhold.arbeidsgiverIdent?t[e.arbeidsforhold.arbeidsgiverIdent]:void 0;return l?mt(l,e.arbeidsforhold.eksternArbeidsforholdId):e.arbeidsforhold.arbeidsforholdType&&((i=r[Ee.OPPTJENING_AKTIVITET_TYPE].find(d=>{var o;return d.kode===((o=e.arbeidsforhold)==null?void 0:o.arbeidsforholdType)}))==null?void 0:i.kode)||""}return n&&e.aktivitetStatus===B.BRUKERS_ANDEL?"Ytelse":((s=r[Ee.AKTIVITET_STATUS].find(l=>l.kode===e.aktivitetStatus))==null?void 0:s.navn)||""},Dp=e=>Zo(e)?void 0:e,kl=e=>K(e)||"",Vp=(e,n,r)=>e!==void 0?kl(e):r&&!Zo(n)?kl(n):"",Gp=e=>({arbeidsgiverId:e.arbeidsforhold&&e.arbeidsforhold.arbeidsgiverIdent?e.arbeidsforhold.arbeidsgiverIdent:"",eksternArbeidsforholdId:e.arbeidsforhold&&e.arbeidsforhold.eksternArbeidsforholdId?e.arbeidsforhold.eksternArbeidsforholdId:"",arbeidsforholdId:e.arbeidsforhold&&e.arbeidsforhold.arbeidsforholdId?e.arbeidsforhold.arbeidsforholdId:"",arbeidsperiodeFom:e.arbeidsforhold?e.arbeidsforhold.startdato:"",arbeidsperiodeTom:e.arbeidsforhold&&e.arbeidsforhold.opphoersdato!==null?e.arbeidsforhold.opphoersdato:"",arbeidsforholdType:e.arbeidsforholdType}),Lp=(e,n,r,t)=>({andel:$p(e,n,r,t),aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,nyAndel:!1,kilde:e.kilde==null?void 0:e.kilde,lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler===!0,inntektskategori:Fp(e),forrigeInntektskategori:!e.inntektskategori||e.inntektskategori===Vn.UDEFINERT?void 0:e.inntektskategori}),Wo=(e,n,r,t,i)=>{if(n.skalRedigereInntekt){const s=t(`FORDEL_BEREGNING_FORM.${e}.${r}.${i}.fastsattBelop`);return s?me(s):0}return n.readOnlyBelop?me(n.readOnlyBelop):0},Mp=e=>e?Number(me(e)):0,Kp=e=>e.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.UlikeAndeler"}),wp=(e,n)=>e.inntektskategori===n.inntektskategori&&e.arbeidsgiverIdent===n.arbeidsgiverIdent&&e.aktivitetstatus===n.aktivitetstatus&&e.arbeidsforholdId===n.arbeidsforholdId,Up=(e,n)=>e.some(r=>wp(n,r)),Cp=(e,n)=>{const r=e.find(t=>t.andelsnr===n);if(!r)throw new Error(`Finner ikke field med andelsnr ${n}`);return r},zp=(e,n,r,t)=>{const i=[];return t.forEach((s,l)=>{if(s.nyAndel&&(s.andelsnrRef||s.andelsnrRef===0)){const d=Cp(t,s.andelsnrRef);i.push({erNyAndel:s.nyAndel,aktivitetstatus:s.aktivitetStatus,inntektskategori:n(`FORDEL_BEREGNING_FORM.${e}.${r}.${l}.inntektskategori`),arbeidsgiverIdent:d.arbeidsgiverId,arbeidsforholdId:d.arbeidsforholdId})}else i.push({erNyAndel:s.nyAndel,aktivitetstatus:s.aktivitetStatus,inntektskategori:s.inntektskategori,arbeidsgiverIdent:s.arbeidsgiverId,arbeidsforholdId:s.arbeidsforholdId})}),i},Yp=(e,n,r,t,i)=>{const s=zp(e,n,r,t),l=[];let d=!1;return s.forEach(o=>{Up(l,o)&&(d=!0),l.push(o)}),d?Kp(i):void 0},Hp=(e,n)=>(!!e.refusjonskravFraInntektsmelding||e.refusjonskravFraInntektsmelding===0)&&(!!n.refusjonskravFraInntektsmelding||n.refusjonskravFraInntektsmelding===0)&&n.refusjonskravFraInntektsmelding<e.refusjonskravFraInntektsmelding,Jp=(e,n,r,t,i,s)=>{const l=s.findIndex(({arbeidsforholdId:o,arbeidsgiverId:u})=>o===t.arbeidsforholdId&&u===t.arbeidsgiverId),d=n(`FORDEL_BEREGNING_FORM.${e}.${r}.${i}.refusjonskrav`);if(l>=0){const o=s[l];Hp(t,o)&&(o.refusjonskravFraInntektsmelding=t.refusjonskravFraInntektsmelding),d!=null&&(o.totalRefusjon+=Number(me(d)))}else{const{refusjonskravFraInntektsmelding:o,arbeidsforholdId:u,arbeidsgiverId:k,eksternArbeidsforholdId:c}=t;let h=0;d!=null&&(h=Number(me(d))),s.push({arbeidsforholdId:u,eksternArbeidsforholdId:c,arbeidsgiverId:k,refusjonskravFraInntektsmelding:o,totalRefusjon:h})}},qp=(e,n,r,t)=>{const i=[];return t.forEach((s,l)=>{s.arbeidsforholdId!==""&&Jp(e,n,r,s,l,i)}),i},Zp=(e,n)=>n.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.IkkjeHogereRefusjonEnnInntektsmelding"},{arbeidsgiver:e}),Wp=(e,n,r,t,i,s)=>{const l=qp(e,t,r,n).filter(d=>(d.refusjonskravFraInntektsmelding||d.refusjonskravFraInntektsmelding===0)&&d.totalRefusjon>d.refusjonskravFraInntektsmelding);if(l.length>0){const d=l[0].arbeidsgiverId?i[l[0].arbeidsgiverId]:void 0;let o;return d?o=mt(d,l[0].eksternArbeidsforholdId):o=l[0].arbeidsgiverId||"",Zp(o,s)}},Xp=(e,n)=>e?n.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.LikFordeling"},{fordeling:e}):void 0,Qp=e=>e.formatMessage({id:"FordelBeregningsgrunnlag.Validation.KanIkkeHaNullIBeregningsgrunnlag"}),ev=(e,n)=>e?n.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.TotalRefusjonSkalIkkeOverstige"},{seksG:e}):void 0,nv=(e,n,r)=>e>=Math.round(n)?ev(K(n),r):void 0,Xo=(e,n,r)=>r.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.TotalFordelingLavereEnn"},{seksG:e,andelsliste:n}),Qo=(e,n,r,t,i)=>e>=Math.round(n)?t(K(n),r,i):void 0,rv=(e,n,r)=>e!==Math.round(n)?Xp(K(Math.round(n)),r):void 0,tv=(e,n,r,t,i,s,l)=>{const d=!r.arbeidsperiodeTom||Uk(r.arbeidsperiodeTom,t);if(!r.andelIArbeid||!d)return!1;const o=i(`FORDEL_BEREGNING_FORM.${e}.${s}.${l}.fastsattBelop`),u=o?me(o):0;return!Number.isNaN(Number(r.andelIArbeid))&&Number(r.andelIArbeid)>0&&u<=0?!0:r.andelIArbeid.split(qo).filter(k=>Number(k)>0).length>0&&u===0},iv=(e,n,r,t,i,s)=>t.some((l,d)=>tv(e,s,l,i,n,r,d))?Qp(s):void 0,sv=(e,n,r,t,i,s)=>{const l=t.map((d,o)=>Wo(e,d,r,n,o)).reduce((d,o)=>d+o,0);return i!=null?rv(l,i,s):void 0},ml=(e,n,r,t,i)=>{const s=i(`FORDEL_BEREGNING_FORM.${e}.${r}.${t}.refusjonskrav`);return Mp(s)},av=(e,n,r,t,i,s)=>{const l=!!n.find((u,k)=>u.andelIArbeid!=="0.00"&&ml(e,u,r,k,t)===0),d=n.map((u,k)=>ml(e,u,r,k,t)).reduce((u,k)=>u+k,0),o=6*i;return l?nv(d,o,s):void 0},eg=(e,n)=>{const r=e.map(t=>{var i;return((i=n[Ee.AKTIVITET_STATUS].find(s=>s.kode===t))==null?void 0:i.navn)||""});return r.sort((t,i)=>t.localeCompare(i)),[...new Set(r)].join(", ")},ng=(e,n,r,t,i)=>t.map((s,l)=>s.aktivitetStatus&&!i.includes(s.aktivitetStatus)?0:Wo(e,s,r,n,l)).reduce((s,l)=>s+l,0),lv=(e,n,r,t,i,s,l)=>{const d=[B.ARBEIDSTAKER],o=ng(e,n,r,t,d),u=eg(d,s);return Qo(o,i,u,Xo,l)},dv=(e,n,r,t,i,s,l)=>{const d=[B.ARBEIDSTAKER,B.FRILANSER,B.DAGPENGER,B.ARBEIDSAVKLARINGSPENGER],o=t.map(c=>c.aktivitetStatus).filter(c=>!!c&&d.includes(c)),u=ng(e,n,r,t,o),k=eg(o,s);return Qo(u,i,k,Xo,l)},ov=(e,n,r,t,i,s,l)=>{const d=!!t.find(u=>u.andelIArbeid!=="0.00"&&u.aktivitetStatus===B.FRILANSER),o=6*s;if(d)return lv(e,n,r,t,o,l,i);if(t.find(u=>u.andelIArbeid!=="0.00"&&u.aktivitetStatus===B.SELVSTENDIG_NAERINGSDRIVENDE))return dv(e,n,r,t,o,l,i)},gv=(e,n)=>e.arbeidsforholdId===null?n.map(({arbeidsgiverIdent:r})=>r).includes(e.arbeidsgiverIdent):n.map(({arbeidsforholdId:r})=>r).includes(e.arbeidsforholdId),uv=(e,n)=>{var r;const t=e.find(i=>{var s,l;return!!i.arbeidsforhold&&i.arbeidsforhold.arbeidsgiverIdent===((s=n.arbeidsforhold)==null?void 0:s.arbeidsgiverIdent)&&i.arbeidsforhold.arbeidsforholdId===((l=n.arbeidsforhold)==null?void 0:l.arbeidsforholdId)});if(!t)throw new Error(`Finner ikke forventet andel med arbeidsgiverId ${(r=n.arbeidsforhold)==null?void 0:r.arbeidsgiverIdent}`);return t},kv=(e,n)=>{const r=[];return e===void 0||e.forEach(t=>{if(t.arbeidsforhold&&!gv(t.arbeidsforhold,r)){const i=uv(n,t),s={andelsnr:t.andelsnr,nyttArbeidsforhold:t.nyttArbeidsforhold,beregningsperiodeTom:i.beregningsperiodeTom,beregningsperiodeFom:i.beregningsperiodeFom,...t.arbeidsforhold};r.push(s)}}),r},mv=e=>e.length>0?e.flatMap(n=>n.fordelBeregningsgrunnlagAndeler||[]):[],fv=e=>e.length>0?e.flatMap(n=>n.beregningsgrunnlagPrStatusOgAndel||[]):[],cv=(e,n)=>kv(mv(e),fv(n)),pv=e=>{var n,r;const t=((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.fordelBeregningsgrunnlagPerioder)||[],i=e.beregningsgrunnlagPeriode;return cv(t,i)},vv="_container_1tnrv_1",hv="_buttonRemove_1tnrv_5",bv="_buttonRow_1tnrv_16",jv="_rightAlignInput_1tnrv_19",xv="_slettIkon_1tnrv_29",Av="_deleteBtn_1tnrv_36",Iv="_notLastRow_1tnrv_39",Tv="_divider_1tnrv_43",Ev="_dividerTop_1tnrv_46",_v="_sumRow_1tnrv_49",Sv="_fordelingForrige_1tnrv_52",yv="_refusjon_1tnrv_55",Nv="_nyFordeling_1tnrv_62",Pv="_periodeColumn_1tnrv_69",Rv="_addCircleIcon_1tnrv_72",Ov="_imageText_1tnrv_78",Bv="_addPeriode_1tnrv_83",Fv="_customLink_1tnrv_84",$v="_removeButton_1tnrv_85",Dv="_inntektTable_1tnrv_88",Vv="_shortLeftAligned_1tnrv_137",Gv="_wordwrap_1tnrv_142",Lv="_litenBredde_1tnrv_145",Mv="_storBredde_1tnrv_148",Kv="_flexColumn3_1tnrv_151",wv="_benyttCheckbox_1tnrv_154",Te={container:vv,buttonRemove:hv,buttonRow:bv,rightAlignInput:jv,slettIkon:xv,deleteBtn:Av,notLastRow:Iv,divider:Tv,dividerTop:Ev,sumRow:_v,fordelingForrige:Sv,refusjon:yv,nyFordeling:Nv,periodeColumn:Pv,addCircleIcon:Rv,imageText:Ov,addPeriode:Bv,customLink:Fv,removeButton:$v,inntektTable:Dv,shortLeftAligned:Vv,wordwrap:Gv,litenBredde:Lv,storBredde:Mv,flexColumn3:Kv,benyttCheckbox:wv},Uv=e=>({nyAndel:!0,kilde:"SAKSBEHANDLER_FORDELING",fastsattBelop:K(0),lagtTilAvSaksbehandler:!0,refusjonskravFraInntektsmelding:0,belopFraInntektsmelding:null,skalRedigereInntekt:!e}),rg=(e,n,r)=>{var t;return!e.arbeidsgiverIdent||!r[e.arbeidsgiverIdent]?e.arbeidsforholdType&&((t=n[Ee.OPPTJENING_AKTIVITET_TYPE].find(i=>i.kode===e.arbeidsforholdType))==null?void 0:t.navn)||"":mt(r[e.arbeidsgiverIdent],e.eksternArbeidsforholdId)},Cv=(e,n,r)=>e.map(t=>f.jsx("option",{value:t.andelsnr.toString(),children:rg(t,n,r)},t.andelsnr)),zv=(e,n,r,t)=>{const i=e.map(s=>f.jsx("option",{value:s.andelsnr.toString(),children:rg(s,r,t)},s.andelsnr));return i.push(f.jsx("option",{value:ps.BRUKERS_ANDEL,children:n.formatMessage({id:"BeregningInfoPanel.FordelingBG.Ytelse"})},ps.BRUKERS_ANDEL)),i},Yv=e=>e.map(n=>f.jsx("option",{value:n.kode,children:n.navn},n.kode)),tg=e=>e>0&&K(e)||"",Hv=(e,n,r,t)=>{let i=0,s=0;for(s;s<r.length;s+=1){const l=r[s],d=me(t(`FORDEL_BEREGNING_FORM.${e}.${n}.${s}.fastsattBelop`));l.skalRedigereInntekt?i+=d||0:i+=l.readOnlyBelop?d:0}return tg(i)},Jv=e=>{let n=0,r=0;for(r;r<e.length;r+=1){const t=e[r];t.beregningsgrunnlagPrAar&&(n+=t.beregningsgrunnlagPrAar?Number(me(t.beregningsgrunnlagPrAar)):0)}return tg(n)},qv=e=>e.inntektskategori?rm(e.inntektskategori)||Vn.FRILANSER===e.inntektskategori:!1,Zv=(e,n)=>{const r=Number(n);return e.find(t=>t.andelsnr===r)},Wv=(e,n)=>{var r;const t=Number(n);return(r=e.find(i=>i.andelsnr===t))==null?void 0:r.aktivitetStatus},Xv=(e,n,r,t,i)=>{const s=e[n],l=Zv(r,t);l&&(s.arbeidsforholdId=l.arbeidsforholdId,s.arbeidsgiverId=l.arbeidsgiverIdent,s.arbeidsperiodeFom=l.startdato,s.arbeidsperiodeTom=l.opphoersdato,s.andelsnrRef=l.andelsnr,s.aktivitetStatus=Wv(e,t),s.nyttArbeidsforhold=l.nyttArbeidsforhold,s.arbeidsforholdType=l.arbeidsforholdType,s.beregningsperiodeTom=l.beregningsperiodeTom,s.beregningsperiodeFom=l.beregningsperiodeFom,i(n,s))},Qv=(e,n,r,t,i,s,l)=>f.jsxs(f.Fragment,{children:[!e[n].nyAndel&&f.jsx(je,{name:`${l(n)}.andel`,className:Te.storBredde,readOnly:!0}),e[n].nyAndel&&f.jsx(_i,{name:`${l(n)}.andel`,className:Te.storBredde,label:"",selectValues:r,readOnly:t,validate:[X],onChange:d=>Xv(e,n,i,d.target.value,s)})]}),eh=(e,n,r,t)=>n?f.jsx(w,{children:f.jsx(tn,{children:f.jsx(je,{name:`${t}.readOnlyBelop`,className:Te.litenBredde,parse:Ve,readOnly:!0,isEdited:!1})})}):f.jsx(w,{className:Te.rightAlignInput,children:f.jsx(tn,{children:f.jsx(je,{name:`${t}.fastsattBelop`,parse:Ve,readOnly:e,validate:[X,vn(178956970)],isEdited:r&&!n,className:Te.litenBredde})})}),nh=(e,n,r)=>(n[e].nyAndel||n[e].lagtTilAvSaksbehandler)&&!r,rh=(e,n,r,t,i,s,l)=>f.jsxs(w,{children:[Qv(e,n,r,t,i,s,l),!qv(e[n])&&f.jsx("div",{className:Te.wordwrap,children:f.jsx(je,{name:`${l(n)}.arbeidsperiodeFom - ${l(n)}.arbeidsperiodeTom`,readOnly:!0})})]}),th=(e,n)=>e?f.jsx(w,{children:f.jsx(je,{name:`${n}.andelIArbeid`,readOnly:!0,className:Te.litenBredde,normalizeOnBlur:r=>Number.isNaN(r)?r:parseFloat(r.toString()).toFixed(2)})}):null,ih=(e,n,r,t)=>f.jsx(w,{className:e||!n[r].skalKunneEndreRefusjon?void 0:Te.rightAlignInput,children:f.jsx(tn,{children:f.jsx(je,{name:`${t(r)}.refusjonskrav`,readOnly:e||!n[r].skalKunneEndreRefusjon,parse:Ve,className:Te.litenBredde,validate:n[r].skalKunneEndreRefusjon?[X,vn(178956970)]:[]})})}),sh=e=>f.jsx(w,{children:f.jsx(je,{name:`${e}.beregningsgrunnlagPrAar`,className:Te.litenBredde,readOnly:!0,parse:Ve})}),ah=(e,n,r)=>f.jsx(w,{className:e?Te.shortLeftAligned:void 0,children:f.jsx(tn,{children:f.jsx(_i,{label:"",name:`${n}.inntektskategori`,className:Te.storBredde,validate:e?[]:[X],selectValues:Yv(r),readOnly:e})})}),lh=(e,n,r,t)=>f.jsx(w,{children:nh(n,e,r)&&f.jsx(ne,{icon:f.jsx(qn,{"aria-hidden":!0,className:Te.slettIkon}),onClick:()=>t(n),type:"button",variant:"tertiary"})}),dh=(e,n,r)=>f.jsxs(Le,{children:[f.jsx(w,{children:f.jsx(m,{id:"BeregningInfoPanel.FordelBG.Sum"})}),r&&f.jsx(w,{}),f.jsx(w,{}),f.jsx(w,{children:f.jsx(V,{size:"small",children:n})}),f.jsx(w,{children:f.jsx(V,{size:"small",children:e})}),f.jsx(w,{}),f.jsx(w,{})]},"bruttoBGSummaryRow"),oh=e=>{const n=[];return n.push("BeregningInfoPanel.FordelBG.Andel"),e&&n.push("BeregningInfoPanel.FordelBG.AndelIArbeid"),n.push("BeregningInfoPanel.FordelBG.Refusjonskrav"),n.push("BeregningInfoPanel.FordelBG.Beregningsgrunnlag"),n.push("BeregningInfoPanel.FordelBG.Fordeling"),n.push("BeregningInfoPanel.FordelBG.Inntektskategori"),n},gh=e=>{var n,r;return(((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.arbeidsforholdTilFordeling)||[]).some(t=>{var i;return(i=t.perioderMedGraderingEllerRefusjon)==null?void 0:i.some(s=>s.erGradering)})},uh=({fieldName:e,readOnly:n,skalIkkeRedigereInntekt:r,isAksjonspunktClosed:t,arbeidsgiverOpplysningerPerId:i,kodeverkSamling:s,beregningsgrunnlag:l,skalKunneEndreRefusjon:d,sumIPeriode:o,periodeFom:u,vilkårperiodeFieldIndex:k,setFieldArrayToRepeat:c,fieldArrayToRepeat:h})=>{const{control:b,watch:A,getValues:_}=_e(),P=`FORDEL_BEREGNING_FORM.${k}.${e}`,{fields:S,append:F,remove:N,update:D}=an({control:b,name:`FORDEL_BEREGNING_FORM.${k}.${e}`});j.useEffect(()=>{h&&h!==P&&!n&&!r&&_(h).forEach(he=>{var ue;const pe=S.findIndex(en=>en.andel===he.andel&&(en.inntektskategori===he.inntektskategori||!en.inntektskategori&&!he.lagtTilAvSaksbehandler&&!en.lagtTilAvSaksbehandler));if(pe>-1){const en={...S[pe],fastsattBelop:he.fastsattBelop,refusjonskrav:d?he.refusjonskrav:(ue=S[pe])==null?void 0:ue.refusjonskrav,inntektskategori:he.inntektskategori};D(pe,en)}})},[h]);const $=!!l.aktivitetStatus&&l.aktivitetStatus.some(he=>he===B.KUN_YTELSE),M=pv(l),C=Hv(k,e,S,A),re=Jv(S),te=gh(l),q=s[Ee.INNTEKTSKATEGORI],J=Q(),U=$?zv(M,J,s,i):Cv(M,s,i),Y=he=>`FORDEL_BEREGNING_FORM.${k}.${e}.${he}`,H=S.map((he,ue)=>{const pe=n||r;return f.jsxs(Le,{children:[rh(S,ue,U,pe,M,D,Y),th(te,Y(ue)),ih(pe,S,ue,Y),sh(Y(ue)),eh(n,r,t,Y(ue)),ah(pe,Y(ue),q),lh(S,ue,pe,N)]},he.id)});H.push(dh(C,re,te));const le=[],Se=he=>{he&&le.push(he)};!n&&S.some(he=>!!he.skalRedigereInntekt||!!he.skalKunneEndreRefusjon)&&(Se(Yp(k,_,e,S,J)),Se(sv(k,_,e,S,o,J)),te&&(Se(iv(k,_,e,S,u,J)),Se(ov(k,_,e,S,J,l.grunnbeløp,s))),d&&(Se(av(k,S,e,_,l.grunnbeløp,J)),Se(Wp(k,S,e,_,i,J))));const He=`FORDEL_BEREGNING_FORM.${k}.${e}.skjemagruppe`,on=le.filter(he=>!!he),lr=on.length>0?on[0]:void 0,Mn=Ei(He,lr),Qe=()=>{c(P===h?"":P)};return f.jsxs("div",{children:[f.jsx(We,{headerTextCodes:oh(te),noHover:!0,classNameTable:Te.inntektTable,children:H}),!n&&!r&&f.jsx(y,{className:Te.buttonRow,children:f.jsx(v,{className:Te.flexColumn3,children:f.jsx(ne,{icon:f.jsx(Ii,{"aria-hidden":!0,className:Te.addCircleIcon}),onClick:()=>F(Uv(r)),type:"button",variant:"tertiary",children:f.jsx(ke,{className:Te.imageText,children:f.jsx(m,{id:"BeregningInfoPanel.FordelingBG.LeggTilAndel"})})})})}),!n&&!r&&f.jsx(wk,{className:Te.benyttCheckbox,checked:P===h,onChange:Qe,children:"Benytt for alle perioder"}),Mn&&f.jsx(lt,{children:Mn})]})},kh="_statusOk_1qsx9_1",ig={statusOk:kh},mh="_vurdertIForrigeIcon_1q86k_1",fh={vurdertIForrigeIcon:mh},ch=Jo.bind(fh),sg=({className:e=""})=>{const n=Q();return f.jsx("span",{"data-testid":"vurdertIForrigeIcon",className:ch("vurdertIForrigeIcon",e),children:f.jsx(Ti,{size:"small",variant:"neutral",children:n.formatMessage({id:"Fordeling.VurdertTidligere"})})})},ph=Jo.bind(ig),Ui=e=>e?T(e,ye).format(ie):"-",vh=(e,n)=>n?f.jsx(V,{size:"small",children:f.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFomOgTom",values:{fom:Ui(e),tom:Ui(n)}})}):f.jsx(V,{size:"small",children:f.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFom",values:{fom:Ui(e)}})}),hh=e=>{var n,r;return(n=e.arbeidsforhold)!=null&&n.naturalytelseBortfaltPrÅr?(r=e.arbeidsforhold)==null?void 0:r.naturalytelseBortfaltPrÅr:0},bh=e=>{const n=hh(e);return e.besteberegningPrAar!==void 0&&e.besteberegningPrAar!==null?e.besteberegningPrAar+n:e.overstyrtPrAar!==void 0&&e.overstyrtPrAar!==null?e.overstyrtPrAar+n:e.beregnetPrAar!==void 0&&e.beregnetPrAar!==null?e.beregnetPrAar+n:0},jh=(e,n)=>{var r;return(((r=e.find(t=>t.beregningsgrunnlagPeriodeFom===n))==null?void 0:r.beregningsgrunnlagPrStatusOgAndel)||[]).map(t=>bh(t)).reduce((t,i)=>t+i,0)},ua=({readOnly:e,erVurdertTidligere:n,isAksjonspunktClosed:r,open:t,showPanel:i,beregningsgrunnlag:s,kodeverkSamling:l,arbeidsgiverOpplysningerPerId:d,fordelBGFieldArrayName:o,fordelingsperiode:u,fieldIndex:k,setFieldArrayToRepeat:c,fieldArrayToRepeat:h})=>u.fom?f.jsx(Fe,{className:e?ig.statusOk:ph(`fordelBeregningsgrunnlagPeriode--${u.fom}`),children:f.jsxs(Fe.Item,{open:t,children:[f.jsxs(Fe.Header,{onClick:()=>i(u.fom),children:[vh(u.fom,u.tom)," ",n?f.jsx(sg,{}):""]}),f.jsx(Fe.Content,{children:f.jsx(uh,{fieldName:o,readOnly:e,sumIPeriode:jh(s.beregningsgrunnlagPeriode,u.fom),skalIkkeRedigereInntekt:!u.skalRedigereInntekt,skalKunneEndreRefusjon:!!u.skalKunneEndreRefusjon,periodeFom:u.fom,isAksjonspunktClosed:r,kodeverkSamling:l,beregningsgrunnlag:s,arbeidsgiverOpplysningerPerId:d,vilkårperiodeFieldIndex:k,setFieldArrayToRepeat:c,fieldArrayToRepeat:h})})]})}):null,xh=(e,n)=>{const r=(n.beregningsgrunnlagPrStatusOgAndel||[]).find(t=>t.andelsnr===e.andelsnr);if(!r)throw Error(`Finner ikke matchende andel med andelsnr ${e.andelsnr}`);return r},Ah=(e,n)=>{var r;const t=(r=e.arbeidsforhold)==null?void 0:r.startdato;return!!t&&!T(t).isBefore(T(n))},fl=e=>{var n,r,t,i;if(!e)return;const s=((n=e.arbeidsforhold)==null?void 0:n.naturalytelseBortfaltPrÅr)===null||((r=e.arbeidsforhold)==null?void 0:r.naturalytelseBortfaltPrÅr)===void 0?0:e.arbeidsforhold.naturalytelseBortfaltPrÅr,l=((t=e.arbeidsforhold)==null?void 0:t.naturalytelseTilkommetPrÅr)===null||((i=e.arbeidsforhold)==null?void 0:i.naturalytelseTilkommetPrÅr)===void 0?0:e.arbeidsforhold.naturalytelseTilkommetPrÅr;if(e.besteberegningPrAar||e.besteberegningPrAar===0)return K(e.besteberegningPrAar+s-l);if(e.overstyrtPrAar||e.overstyrtPrAar===0)return K(e.overstyrtPrAar+s-l);if(e.beregnetPrAar||e.beregnetPrAar===0)return K(e.beregnetPrAar+s-l)},Ih=e=>(e.fordelingForrigeBehandlingPrAar||e.fordelingForrigeBehandlingPrAar===0?K(e.fordelingForrigeBehandlingPrAar):"")||"";ua.buildInitialValues=(e,n,r,t,i,s)=>!e||!e.fordelBeregningsgrunnlagAndeler?[]:e.fordelBeregningsgrunnlagAndeler.map(l=>{const d=xh(l,n);return{...Lp(l,t,i,s),...Gp(l),andelIArbeid:Bp(l.andelIArbeid||[]),fordelingForrigeBehandling:Ih(l),fastsattBelop:Vp(l.fordeltPrAar,d.bruttoPrAar,!!e.skalPreutfyllesMedBeregningsgrunnlag),readOnlyBelop:fl(d),refusjonskrav:l.refusjonskravPrAar!==null&&l.refusjonskravPrAar!==void 0?K(l.refusjonskravPrAar):"",skalKunneEndreRefusjon:e.skalKunneEndreRefusjon&&!l.lagtTilAvSaksbehandler&&l.refusjonskravFraInntektsmeldingPrAar?e.skalKunneEndreRefusjon:!1,belopFraInntektsmelding:l.belopFraInntektsmeldingPrAar,skalRedigereInntekt:!!e.skalRedigereInntekt,refusjonskravFraInntektsmelding:l.refusjonskravFraInntektsmeldingPrAar,nyttArbeidsforhold:l.nyttArbeidsforhold||Ah(d,r),beregningsgrunnlagPrAar:fl(d),forrigeRefusjonPrAar:l.refusjonskravPrAar,forrigeArbeidsinntektPrAar:Dp(l.fordeltPrAar),beregningsperiodeFom:d.beregningsperiodeFom,beregningsperiodeTom:d.beregningsperiodeTom}});const Th="_lessPadding_xotc9_1",Eh={lessPadding:Th};function cl(e,n){return n.tom!=null&&!T(n.tom).isBefore(T(e.fom))&&(e.tom==null||!T(n.tom).isAfter(T(e.tom)))}function _h(e,n){return cl(e,n)||cl(n,e)}function Sn(e,n){var r;return(r=e.fordelBeregningsgrunnlagAndeler)!=null&&r.some(t=>!t.inntektskategori||t.inntektskategori===Vn.UDEFINERT)?!0:!n||n.length===0||n.some(t=>_h(t,e))}const ag="fordelBGPeriode",ka=e=>ag+e,Sh=e=>({refusjonPrÅr:e.skalKunneEndreRefusjon&&e.refusjonskrav?me(e.refusjonskrav):void 0,fastsattÅrsbeløpInklNaturalytelse:me(e.fastsattBelop),inntektskategori:e.inntektskategori||""}),vr=(e,n)=>!!e.periodeAarsaker&&e.periodeAarsaker.includes(n),yh=e=>vr(e,kn.ENDRING_I_REFUSJONSKRAV)||vr(e,kn.REFUSJON_OPPHOERER)||vr(e,kn.GRADERING)||vr(e,kn.GRADERING_OPPHOERER),Nh=(e,n)=>{const r=n.indexOf(e);return n[r-1].bruttoPrAar===e.bruttoPrAar},Ph=(e,n)=>!e.arbeidsforhold&&!n.arbeidsforhold?!0:e.arbeidsforhold&&n.arbeidsforhold?e.arbeidsforhold.arbeidsgiverIdent===n.arbeidsforhold.arbeidsgiverIdent&&e.arbeidsforhold.arbeidsforholdId===n.arbeidsforhold.arbeidsforholdId:!1;function pl(e){const n=T(e.beregningsgrunnlagPeriodeFom).day()===6,r=T(e.beregningsgrunnlagPeriodeFom).day()===0,t=T(e.beregningsgrunnlagPeriodeTom).day()===6,i=T(e.beregningsgrunnlagPeriodeTom).day()===0;return(n||r)&&(t||i)}const Rh=e=>{var n;return(n=e.andelIArbeid)==null?void 0:n.some(r=>r!==100)};function Oh(e){var n;return(n=e.fordelBeregningsgrunnlagAndeler)==null?void 0:n.some(r=>Rh(r))}function Bh(e=[],n=[]){return e.sort((r,t)=>r-t),n.sort((r,t)=>r-t),e.join("_")!==n.join("-")}const Fh=(e,n)=>e.some(r=>{const t=n.find(i=>i.aktivitetStatus===r.aktivitetStatus&&i.inntektskategori===r.inntektskategori&&Ph(i,r));return!!(t===void 0||Bh(t.andelIArbeid,r.andelIArbeid)||t.refusjonskravPrAar!==r.refusjonskravPrAar)}),$h=(e,n,r,t)=>{const i=e.fordelBeregningsgrunnlagAndeler||[],s=n.fordelBeregningsgrunnlagAndeler||[];if(i.length!==s.length)return!1;const l=t.indexOf(r),d=t[l-1];if(r.bruttoPrAar!==d.bruttoPrAar)return!1;const o=pl(r),u=pl(d),k=e.skalKunneEndreRefusjon||n.skalKunneEndreRefusjon;return(o||u)&&!k?!0:!Fh(i,s)},Dh=(e,n,r,t,i)=>{var s,l;const d=t[t.length-1];return((s=r.fordelBeregningsgrunnlagAndeler)==null?void 0:s.length)!==((l=d.fordelBeregningsgrunnlagAndeler)==null?void 0:l.length)||r.skalRedigereInntekt!==d.skalRedigereInntekt||yh(e)||Sn(r,i)&&!Sn(d,i)?!1:vr(e,kn.ARBEIDSFORHOLD_AVSLUTTET)?Nh(e,n):vr(e,kn.ENDRING_I_AKTIVITETER_SØKT_FOR)?$h(r,d,e,n):!0},Vh=(e,n)=>{const r={...e.pop(),tom:n.tom};e.push(r)},Gh=(e,n)=>(r,t)=>{if(r.length===0)return r.push({...t}),r;const i=e.find(s=>s.beregningsgrunnlagPeriodeFom===t.fom);if(i){if(Dh(i,e,t,r,n))return Vh(r,t),r;r.push({...t})}return r},Lh=e=>({fom:n,tom:r})=>(T(n).isSame(T(e.fom))||T(n).isAfter(e.fom))&&(e.tom===null||T(r).isSame(T(e.tom))||T(r).isBefore(T(e.tom))),Mh=e=>{if(e.nyAndel&&e.andel)return e.andel;if(!e.andelsnr)throw Error(`Forventer å finne andelsnr for submit på aktivitet ${e}`);return e.andelsnr},Kh=e=>({andelsnr:Mh(e),aktivitetStatus:e.aktivitetStatus,arbeidsgiverId:e.arbeidsgiverId!==""?e.arbeidsgiverId:void 0,arbeidsforholdId:e.arbeidsforholdId!==""?e.arbeidsforholdId:void 0,nyAndel:e.nyAndel,kilde:e.kilde,lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler,arbeidsforholdType:e.arbeidsforholdType,beregningsperiodeTom:e.beregningsperiodeTom,beregningsperiodeFom:e.beregningsperiodeFom,forrigeArbeidsinntektPrÅr:e.forrigeArbeidsinntektPrAar,forrigeRefusjonPrÅr:e.forrigeRefusjonPrAar,forrigeInntektskategori:e.forrigeInntektskategori,fastsatteVerdier:Sh(e)}),wh=e=>{if(!e)throw Error("Fant ikke påkrevd felt før submit");return e},Uh=(e,n,r,t)=>t.filter(Lh(r)).filter(i=>i.skalRedigereInntekt||i.skalKunneEndreRefusjon).map(i=>({andeler:e[ka(n)].map(Kh),fom:wh(i.fom),tom:i.tom})),ma=(e,n,r)=>e.filter(t=>Oh(t)).reduce(Gh(n,r),[]),Ch=(e,n)=>{const r=n.find(t=>t.beregningsgrunnlagPeriodeFom===e.fom);if(!r)throw Error(`Finner ikke matchende beregningsgrunnlagperiode for fordelingsperiode med fom ${e.fom}`);return r},zh=(e,n,r,t)=>{const i=[],s=ma(e,r,t);for(let l=0;l<s.length;l+=1){const{skalRedigereInntekt:d}=s[l];d&&Sn(s[l])&&Uh(n,l,s[l],e).forEach(o=>i.push(o))}return i};function Yh(e,n){return Sn(n,e.forlengelseperioder)}function Hh(e,n){var r;return!Sn(e,n.forlengelseperioder)&&e.skalRedigereInntekt===!0&&!!e.fordelBeregningsgrunnlagAndeler&&((r=e.fordelBeregningsgrunnlagAndeler)==null?void 0:r.every(t=>t.fordeltPrAar!==null&&t.fordeltPrAar!==void 0))}const pt=({readOnly:e,perioder:n,isAksjonspunktClosed:r,bgPerioder:t,beregningsgrunnlag:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:l,fieldIndex:d})=>{const[o,u]=j.useState([]),[k,c]=j.useState("");j.useEffect(()=>{const b=n.filter(A=>Yh(i,A)).filter(A=>A.skalKunneEndreRefusjon||A.skalRedigereInntekt).filter(A=>!!A.fom).map(A=>A.fom||"");u(b)},[n]);const h=b=>{if(o.includes(b)){const A=o.filter(_=>_!==b);u(A)}else{const A=o.map(_=>_);A.push(b),u(A)}};return f.jsx(mo,{className:Eh.lessPadding,children:ma(n,t,i.forlengelseperioder).map((b,A)=>f.jsxs(W.Fragment,{children:[f.jsx(x,{eightPx:!0}),f.jsx(ua,{readOnly:e||!Sn(b,i.forlengelseperioder),erVurdertTidligere:Hh(b,i),fordelingsperiode:b,fordelBGFieldArrayName:ka(A),open:o?o.filter(_=>_===b.fom).length>0:!1,isAksjonspunktClosed:r,showPanel:h,beregningsgrunnlag:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:l,fieldIndex:d,setFieldArrayToRepeat:c,fieldArrayToRepeat:k}),f.jsx(x,{eightPx:!0})]},ag+b.fom))})};pt.transformValues=(e,n,r,t)=>({endretBeregningsgrunnlagPerioder:zh(n,e,r,t)});pt.buildInitialValues=(e,n,r,t)=>{const i={};if(!e)return i;const s=!!n.aktivitetStatus&&n.aktivitetStatus.some(d=>d===B.KUN_YTELSE),l=n.beregningsgrunnlagPeriode;return ma(e,l,n.forlengelseperioder).forEach((d,o)=>{const u=Ch(d,l);i[ka(o)]=ua.buildInitialValues(d,u,n.skjaeringstidspunktBeregning,s,r,t)}),i};const Jh=e=>{var n,r;return((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.fordelBeregningsgrunnlagPerioder)||[]},vt=({isAksjonspunktClosed:e,readOnly:n,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s})=>{const l=r.beregningsgrunnlagPeriode,d=Jh(r);return f.jsx(pt,{perioder:d,readOnly:n,isAksjonspunktClosed:e,bgPerioder:l,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s})};vt.buildInitialValues=(e,n,r,t)=>pt.buildInitialValues(e,n,r,t);vt.transformValues=(e,n,r,t)=>pt.transformValues(e,n,r,t);const{FORDEL_BEREGNINGSGRUNNLAG:bs}=Ce,qh=(e,n)=>n.some(r=>r.definisjon===e),lg=e=>{const n=e.find(r=>r.definisjon===bs);if(!n)throw Error(`Fant ikke forventet avklaringsbehov ${bs}`);return n},Zh="begrunnelse",dg=e=>{var n,r;return((r=(n=e.faktaOmFordeling)==null?void 0:n.fordelBeregningsgrunnlag)==null?void 0:r.fordelBeregningsgrunnlagPerioder)||[]},Wh=(e,n)=>{if(!qh(bs,n.avklaringsbehov))throw Error("har ikke aksjonspunkt for fordeling når transform values ble kalt");const r=n.beregningsgrunnlagPeriode;return{begrunnelse:e.begrunnelse,periode:e.periode,...vt.transformValues(e,dg(n),r,n.forlengelseperioder)}},Xh=(e,n,r,t)=>{const i=dg(e);return{beregningsgrunnlagStp:e.skjaeringstidspunktBeregning,periode:n.periode,...Rr.buildInitialValues(lg(e.avklaringsbehov),Zh),...vt.buildInitialValues(i,e,t,r)}},Qh=({readOnly:e,submittable:n,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s})=>{const l=lg(r.avklaringsbehov),d=!hn(l.status),o=_e(),u=o.watch(`FORDEL_BEREGNING_FORM.${s}.begrunnelse`);return f.jsxs(f.Fragment,{children:[f.jsx(Rp,{isAksjonspunktClosed:d,beregningsgrunnlag:r}),f.jsx(x,{twentyPx:!0}),f.jsx(vt,{readOnly:e,isAksjonspunktClosed:d,beregningsgrunnlag:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,fieldIndex:s}),f.jsx(x,{twentyPx:!0}),f.jsx(Rr,{name:`FORDEL_BEREGNING_FORM.${s}.begrunnelse`,isSubmittable:n,isReadOnly:e,hasBegrunnelse:!!u}),f.jsx(x,{twentyPx:!0}),f.jsx(Pi,{isSubmittable:n,isReadOnly:e,isSubmitting:o.formState.isSubmitting,isDirty:o.formState.isDirty})]})},{FORDEL_BEREGNINGSGRUNNLAG:eb}=Ce,gi="FORDEL_BEREGNING_FORM",nb=(e,n)=>{const r=n.find(t=>t.vilkårsperiodeFom===e);if(!r)throw Error(`Mangler beregningsgrunnlag for vilkårsperiodeFom ${e}`);return r},rb=(e,n,r)=>{const t=e[gi].filter(i=>rr(r,i.periode.fom)).map(i=>Wh(i,nb(i.periode.fom,n)));return{begrunnelse:t.map(i=>i.begrunnelse).reduce((i,s)=>i!==null?`${i} ${s}`:s),grunnlag:t,kode:eb}},tb=(e,n,r,t)=>({[gi]:e.filter(i=>i.avklaringsbehov.some(s=>s.definisjon===Ce.FORDEL_BEREGNINGSGRUNNLAG)).map(i=>Xh(i,ct(n,i.vilkårsperiodeFom),r,t))}),ib=({aktivtBeregningsgrunnlagIndeks:e,readOnly:n,submittable:r,submitCallback:t,beregningsgrunnlagListe:i,vilkårsperioder:s,kodeverkSamling:l,arbeidsgiverOpplysningerPerId:d,formData:o,setFormData:u,setFordelingFormIsDirty:k})=>{const c=ze({defaultValues:o!=null&&o.FORDEL_BEREGNING_FORM?o:tb(i,s,d,l)}),{formState:{dirtyFields:h,isSubmitted:b,errors:A,isDirty:_},control:P,trigger:S}=c;j.useEffect(()=>{k(_)},[_]),j.useEffect(()=>{var N;b&&(N=h[gi])!=null&&N[e]&&S()},[e]);const{fields:F}=an({name:gi,control:P});return f.jsx(Js,{errorMessage:"Noe gikk galt ved visning av fordeling",children:f.jsx(Ye,{formMethods:c,onSubmit:N=>{Object.keys(A).length===0&&t(rb(N,i,s))},setDataOnUnmount:u,children:F.map(N=>{const D=i.findIndex($=>$.skjaeringstidspunktBeregning===N.beregningsgrunnlagStp);return f.jsx("div",{style:{display:D===e?"block":"none"},children:f.jsx(Qh,{submittable:r,readOnly:n||!rr(s,i[D].vilkårsperiodeFom),beregningsgrunnlag:i[D],arbeidsgiverOpplysningerPerId:d,kodeverkSamling:l,fieldIndex:D})},N.id)})})})};var og={exports:{}};(function(e,n){(function(r,t){e.exports=t()})(Mc,function(){return function(r,t,i){t.prototype.isBetween=function(s,l,d,o){var u=i(s),k=i(l),c=(o=o||"()")[0]==="(",h=o[1]===")";return(c?this.isAfter(u,d):!this.isBefore(u,d))&&(h?this.isBefore(k,d):!this.isAfter(k,d))||(c?this.isBefore(u,d):!this.isAfter(u,d))&&(h?this.isAfter(k,d):!this.isBefore(k,d))}}})})(og);var sb=og.exports;const gg=Uo(sb);T.extend(gg);const ab="2023-05-01";function lb(){return(e,n,r)=>r.findIndex(t=>t.skalRedusereUtbetaling===e.skalRedusereUtbetaling&&t.arbeidsforholdId===e.arbeidsforholdId&&t.arbeidsgiverId===e.arbeidsgiverId&&t.aktivitetStatus===e.aktivitetStatus&&t.bruttoInntektPrÅr===e.bruttoInntektPrÅr)===n}const db=(e,n)=>{const r=e.pop();if(!r)return;const t=[...r.inntektsforholdListe];n.inntektsforholdListe.forEach(s=>t.push(s));const i={...r,inntektsforholdListe:t.filter(lb()),tom:n.tom};e.push(i)},ob=(e,n)=>{const r=e.inntektsforholdListe||[],t=n.inntektsforholdListe||[];for(let i=0;i<r.length;i+=1){const s=r[i],l=t.find(d=>d.aktivitetStatus===s.aktivitetStatus&&d.arbeidsgiverId===s.arbeidsgiverId&&d.arbeidsforholdId===s.arbeidsforholdId);if(l===void 0)return!0;if(l.bruttoInntektPrÅr!==s.bruttoInntektPrÅr||l.skalRedusereUtbetaling!==s.skalRedusereUtbetaling)return!1}return!0},vl=(e,n)=>fo(e,n,!0)>2,gb=(e,n)=>{const r=n.tom,t=e.fom;return T(r).isBefore(T(t))?vl(r,t):vl(t,r)},ub=(e,n,r)=>{if(T(e.fom).isSame(T(ab)))return!1;const t=n[n.length-1],i=Sn(e,r);return i&&!Sn(t,r)||i&&gb(e,t)?!1:ob(e,t)},kb=e=>(n,r)=>n.length===0?(n.push({...r}),n):ub(r,n,e)?(db(n,r),n):(n.push({...r}),n),ug=(e,n)=>e.reduce(kb(n),[]);function js(e,n){var r;return!Sn(e,n.forlengelseperioder)&&!!e.inntektsforholdListe&&((r=e.inntektsforholdListe)==null?void 0:r.every(t=>t.skalRedusereUtbetaling!==null))}const kg=(e,n)=>{let r=null;return e.arbeidsgiverId!==null&&e.arbeidsgiverId!==void 0&&(r=n[e.arbeidsgiverId]),e.aktivitetStatus===B.ARBEIDSTAKER?r?mt(r,e.arbeidsforholdId):"Arbeidsforhold":e.aktivitetStatus===B.FRILANSER?"Frilanser":e.aktivitetStatus===B.SELVSTENDIG_NAERINGSDRIVENDE?"Selvstendig næringsdrivende":""},mb=(e,n)=>{let r=null;return e.arbeidsgiverIdent&&(r=n[e.arbeidsgiverIdent]),e.aktivitetStatus===B.ARBEIDSTAKER?r?mt(r,e.arbeidsforholdId):"Arbeidsforhold":e.aktivitetStatus===B.FRILANSER?"Frilanser":e.aktivitetStatus===B.SELVSTENDIG_NAERINGSDRIVENDE?"Selvstendig næringsdrivende":""},fb="_statusOk_1qsx9_1",hl={statusOk:fb},cb="_tilkommetAktivitet_1xjj3_1",pb="_aktivitetContainer_1xjj3_4",vb="_aktivitetTable_1xjj3_7",hb="_separator_1xjj3_12",bb="_aksjonspunktContainer_1xjj3_16",jb="_aksjonspunktContainerLukketAP_1xjj3_21",xb="_aksjonspunktContainerLukketAP_1xjj3_21",Ab="_bruttoInntektContainer_1xjj3_26",Ib="_bruttoInntektInput_1xjj3_29",Tb="_bruttoInntektCurrency_1xjj3_32",Eb="_edited_1xjj3_37",_b="_inntektsmeldingTag_1xjj3_40",Sb="_inntektColumn_1xjj3_43",yb="_tittelRad_1xjj3_47",Nb="_modalKnapp_1xjj3_50",Oe={tilkommetAktivitet:cb,aktivitetContainer:pb,aktivitetTable:vb,separator:hb,aksjonspunktContainer:bb,aksjonspunktContainerLukketAP:jb,aksjonspunktContainerLukketAp:xb,bruttoInntektContainer:Ab,bruttoInntektInput:Ib,bruttoInntektCurrency:Tb,edited:Eb,inntektsmeldingTag:_b,inntektColumn:Sb,tittelRad:yb,modalKnapp:Nb},Pb=e=>{if(!e)return"";let n=e.aktivitetStatus;return e.arbeidsgiverId&&(n+=e.arbeidsgiverId),e.arbeidsforholdId&&(n+=e.arbeidsforholdId),n},Rb=({formName:e,bgIndex:n,periodeFieldIndex:r,readOnly:t,inntektsforholdFieldIndex:i,field:s,arbeidsgiverOpplysningerPerId:l})=>{const d=_e(),o=Q(),u=d.watch(`${e}.${n}.perioder.${r}.inntektsforhold.${i}.skalRedusereUtbetaling`),k=()=>{switch(s.aktivitetStatus){case B.ARBEIDSTAKER:return f.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerArbeid",values:{br:f.jsx("br",{})}});case B.FRILANSER:return f.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerFrilans",values:{br:f.jsx("br",{})}});case B.SELVSTENDIG_NAERINGSDRIVENDE:return f.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerNæring"});default:return f.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMerArbeid"})}},c=()=>s.aktivitetStatus===B.SELVSTENDIG_NAERINGSDRIVENDE?o.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.VurderTekstNæring"}):s.aktivitetStatus===B.FRILANSER?o.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.VurderTekstFrilans"}):o.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.VurderTekstArbeid"},{arbeidsforhold:mb(s,l)});return f.jsxs(f.Fragment,{children:[f.jsx(Ie,{label:c(),name:`${e}.${n}.perioder.${r}.inntektsforhold.${i}.skalRedusereUtbetaling`,radios:[{value:"true",label:o.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Ja"})},{value:"false",label:o.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Nei"})}],isReadOnly:t,validate:[X],isTrueOrFalseSelection:!0}),u===!1&&f.jsxs(f.Fragment,{children:[f.jsx(x,{sixteenPx:!0}),f.jsx(Jn,{size:"small",variant:"info",children:o.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Alert"})})]}),u&&f.jsxs(f.Fragment,{children:[f.jsx(x,{sixteenPx:!0}),f.jsx(V,{size:"small",children:f.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.Fastsett"})}),f.jsx(co,{header:f.jsx(m,{id:"BeregningInfoPanel.TilkommetAktivitet.LesMer"}),children:k()}),f.jsx(x,{eightPx:!0}),f.jsxs("div",{className:Oe.bruttoInntektContainer,children:[f.jsx(je,{name:`${e}.${n}.perioder.${r}.inntektsforhold.${i}.bruttoInntektPrÅr`,label:"Fastsett årsinntekt",hideLabel:!0,readOnly:t,className:Oe.bruttoInntektInput,parse:Ve,validate:[X,vn(178956970)]}),f.jsx("span",{className:Oe.bruttoInntektCurrency,children:"kr"})]})]})]})},bl=e=>!!e&&+e>0,Ob=({arbeidsgiverOpplysningerPerId:e,vurderInntektsforholdPeriode:n})=>{const r=Q(),t=s=>{const l=[];return s.inntektsforholdListe.forEach(d=>{const o=bl(d.bruttoInntektPrÅr),u=bl(d.inntektFraInntektsmeldingPrÅr);l.push(f.jsxs(Le,{children:[f.jsx(w,{children:f.jsx(I,{size:"small",children:kg(d,e)})}),f.jsx(w,{children:f.jsx(I,{size:"small",children:d.skalRedusereUtbetaling?r.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Ja"}):r.formatMessage({id:"BeregningInfoPanel.TilkommetAktivitet.Nei"})})}),(o||u)&&f.jsx(w,{children:f.jsxs(I,{size:"small",children:[o&&f.jsxs(f.Fragment,{children:[ri(d.bruttoInntektPrÅr||0),f.jsx(Ai,{})]}),u&&!o&&f.jsxs(f.Fragment,{children:[ri(d.inntektFraInntektsmeldingPrÅr||0),f.jsx(Ti,{className:Oe.inntektsmeldingTag,variant:"neutral",size:"xsmall",children:"IM"})]})]})})]},Pb(d)))}),l},i=["BeregningInfoPanel.TilkommetAktivitet.Aktivitet","BeregningInfoPanel.TilkommetAktivitet.RedusererUtbetaling",n.inntektsforholdListe.some(s=>s.bruttoInntektPrÅr)?"BeregningInfoPanel.TilkommetAktivitet.Årsinntekt":"BeregningInfoPanel.TilkommetAktivitet.TomTekst"].map(s=>f.jsxs(V,{size:"small",children:[f.jsx(m,{id:s})," "]},s));return f.jsx("div",{className:Oe.aktivitetContainer,children:f.jsx(We,{headerColumnContent:i,noHover:!0,classNameTable:Oe.aktivitetTable,children:t(n)})})},Dt=e=>!!e&&+e>0,Bb=({formName:e,vurderInntektsforholdPeriode:n,bgIndex:r,periodeFieldIndex:t,readOnly:i,erAksjonspunktÅpent:s,submittable:l,arbeidsgiverOpplysningerPerId:d,skalViseBegrunnelse:o})=>{const{control:u,formState:k}=_e(),{fields:c}=an({control:u,name:`VURDER_TILKOMMET_AKTIVITET_FORM.${r}.perioder.${t}.inntektsforhold`}),h=n.inntektsforholdListe.some(P=>Dt(P.bruttoInntektPrÅr)||Dt(P.inntektFraInntektsmeldingPrÅr)),b=n.inntektsforholdListe.some(P=>!!P.periode),A=["BeregningInfoPanel.TilkommetAktivitet.Aktivitet",h?"BeregningInfoPanel.TilkommetAktivitet.Årsinntekt":"BeregningInfoPanel.TilkommetAktivitet.TomTekst",b?"BeregningInfoPanel.TilkommetAktivitet.Periode":"BeregningInfoPanel.TilkommetAktivitet.TomTekst"].map(P=>f.jsxs(V,{size:"small",children:[f.jsx(m,{id:P})," "]},P)),_=P=>{const S=[],{inntektsforholdListe:F}=P;return F.forEach(N=>{const D=Dt(N.bruttoInntektPrÅr),$=Dt(N.inntektFraInntektsmeldingPrÅr);S.push(f.jsxs(Le,{children:[f.jsx(w,{children:f.jsx(I,{size:"small",children:kg(N,d)})}),(D||$||b)&&f.jsx(w,{className:Oe.inntektColumn,children:f.jsxs(I,{size:"small",children:[D&&!$&&f.jsxs(f.Fragment,{children:[ri(N.bruttoInntektPrÅr||0),f.jsx(Ai,{})]}),$&&f.jsxs(f.Fragment,{children:[ri(N.inntektFraInntektsmeldingPrÅr||0),f.jsx(Ti,{className:Oe.inntektsmeldingTag,variant:"neutral",size:"xsmall",children:"IM"})]})]})}),N.periode&&f.jsx(w,{className:Oe.periodeColumn,children:f.jsx(I,{size:"small",children:f.jsx(Ue,{dateStringFom:N.periode.fom,dateStringTom:N.periode.tom})})})]},N.arbeidsgiverId||N.aktivitetStatus))}),S};return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:Oe.aktivitetContainer,children:f.jsx(We,{noHover:!0,headerColumnContent:A,classNameTable:Oe.aktivitetTable,children:_(n)})}),f.jsx(x,{sixteenPx:!0}),f.jsxs("div",{className:s?Oe.aksjonspunktContainer:Oe.aksjonspunktContainerLukketAP,children:[c.map((P,S)=>f.jsxs("div",{children:[f.jsx(Rb,{formName:e,bgIndex:r,periodeFieldIndex:t,inntektsforholdFieldIndex:S,field:P,readOnly:i,arbeidsgiverOpplysningerPerId:d},P.id),S<n.inntektsforholdListe.length-1&&f.jsx(x,{fourtyPx:!0})]},P.id)),o&&f.jsxs(f.Fragment,{children:[f.jsx(x,{fourtyPx:!0}),f.jsx(Xe,{name:`${e}.${r}.begrunnelse`,label:"Begrunnelse",readOnly:i,validate:[X]}),f.jsx(x,{sixteenPx:!0}),f.jsx(Pi,{isSubmittable:l,isReadOnly:i,isSubmitting:k.isSubmitting,isDirty:k.isDirty})]})]})]})},Ci=e=>e?T(e,ye).format(ie):"-",jl=(e,n)=>!n||n===Me?f.jsx(V,{size:"medium",children:f.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFom",values:{fom:Ci(e)}})}):f.jsx(V,{size:"medium",children:f.jsx(m,{id:"BeregningInfoPanel.FordelBG.PeriodeFomOgTom",values:{fom:Ci(e),tom:Ci(n)}})}),Fb=({beregningsgrunnlag:e,arbeidsgiverOpplysningerPerId:n,formName:r,bgIndex:t,readOnly:i,submittable:s,erAksjonspunktÅpent:l,fields:d})=>{const[o,u]=j.useState([]),[k,c]=j.useState([]),h=_e();j.useEffect(()=>{var S,F;const N=(F=(S=e.faktaOmFordeling)==null?void 0:S.vurderNyttInntektsforholdDto)==null?void 0:F.vurderInntektsforholdPerioder;if(N){const D=ug(N,e.forlengelseperioder);u(D);const $=D.filter(M=>!js(M,e)).filter(M=>!!M.fom).map(M=>M.fom);c($)}},[e]);const b=o.filter(S=>js(S,e)),A=S=>{if(k.includes(S)){const F=k.filter(N=>N!==S);c(F)}else{const F=k.map(N=>N);F.push(S),c(F)}},_=S=>{const F=T(S),N=o.find(D=>!T(D.fom).isAfter(F)&&!T(D.tom).isBefore(F));if(!N)throw new Error(`Finner ikke periode som overlapper med fom ${S}`);return N},P=S=>()=>A(S);return!o||o.length<1?null:f.jsxs(f.Fragment,{children:[f.jsxs(Fe,{className:hl.statusOk,children:[b.map(S=>f.jsxs(Fe.Item,{open:k.filter(F=>F===S.fom).length>0,children:[f.jsxs(Fe.Header,{onClick:P(S.fom),children:[jl(S.fom,S.tom)," ",f.jsx(sg,{})]}),f.jsx(Fe.Content,{children:f.jsx(Ob,{arbeidsgiverOpplysningerPerId:n,vurderInntektsforholdPeriode:S})})]},S.fom)),d.map((S,F)=>f.jsxs(Fe.Item,{open:k.filter(N=>N===S.fom).length>0,children:[f.jsx(Fe.Header,{onClick:P(S.fom),children:jl(S.fom,S.tom)}),f.jsx(Fe.Content,{children:f.jsx(Bb,{arbeidsgiverOpplysningerPerId:n,vurderInntektsforholdPeriode:_(S.fom),formName:r,bgIndex:t,periodeFieldIndex:F,readOnly:i,erAksjonspunktÅpent:l,submittable:s,skalViseBegrunnelse:d.length===1})})]},S.fom))]}),d.length>1&&f.jsxs("div",{className:hl.aktivitetContainer,children:[f.jsx(x,{fourtyPx:!0}),f.jsx(Xe,{name:`${r}.${t}.begrunnelse`,label:"Begrunnelse for alle perioder",readOnly:i,validate:[X]}),f.jsx(x,{sixteenPx:!0}),f.jsx(Pi,{isSubmittable:s,isReadOnly:i,isSubmitting:h.formState.isSubmitting,isDirty:h.formState.isDirty})]})]})},$b="_datoRad_cbhga_1",Db="_modal_cbhga_8",xl={datoRad:$b,modal:Db};function mg(e){var n,r,t="";if(typeof e=="string"||typeof e=="number")t+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(r=mg(e[n]))&&(t&&(t+=" "),t+=r);else for(n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function fg(){for(var e,n,r=0,t="";r<arguments.length;)(e=arguments[r++])&&(n=mg(e))&&(t&&(t+=" "),t+=n);return t}const Vb=e=>fg({"navds-typo--spacing":e.spacing,"navds-typo--truncate":e.truncate,"navds-typo--semibold":e.weight==="semibold",[`navds-typo--align-${e.align}`]:e.align,[`navds-typo--color-${e.textColor}`]:e.textColor,"navds-typo--visually-hidden":e.visuallyHidden,"navds-typo--uppercase":e.uppercase});var Gb=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r};const Lb=j.forwardRef((e,n)=>{var{className:r,size:t="medium",as:i="label",spacing:s,visuallyHidden:l,textColor:d}=e,o=Gb(e,["className","size","as","spacing","visuallyHidden","textColor"]);return W.createElement(i,Object.assign({},o,{ref:n,className:fg(r,"navds-label",Vb({spacing:s,visuallyHidden:l,textColor:d}),{"navds-label--small":t==="small"})}))}),Mb=Lb,Al=e=>e===Me?"":T(e).format(ie),Kb=({periode:e,forhåndsvisPeriodesplitt:n,setValgtDato:r})=>{const t=Q(),[i,s]=j.useState(),l=j.useCallback(k=>{const c=T(k).format(ye);if(r(c),c){const h=n(c);h.sort((b,A)=>T(b.fom).diff(T(A.fom))),s(h)}},[n]),d=[k=>!e||!T(k).isAfter(T(e.fom))||T(k).isAfter(T(e.tom))],{datepickerProps:o,inputProps:u}=Kk({today:new Date(e.fom),disableWeekends:!0,disabled:d,onDateChange:l});return f.jsxs(f.Fragment,{children:[f.jsx(v,{children:f.jsx(Za,{...o,children:f.jsx(Za.Input,{...u,label:t.formatMessage({id:"TilkommetAktivitet.Modal.DatoValg"}),size:"small"})})}),i&&f.jsxs(v,{children:[f.jsx(Mb,{children:f.jsx(m,{id:"TilkommetAktivitet.Modal.Resultat"})}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx(m,{id:"TilkommetAktivitet.Modal.Periode",values:{fom:T(i[0].fom).format(ie),tom:Al(i[0].tom)}})}),f.jsx("li",{children:f.jsx(m,{id:"TilkommetAktivitet.Modal.Periode",values:{fom:T(i[1].fom).format(ie),tom:Al(i[1].tom)}})})]})]}),f.jsx(x,{sixteenPx:!0})]})},wb=e=>e?e.tom===Me?!0:fo(e.fom,e.tom,!0)>1:!1,Ub=e=>e.map(n=>({fom:n.fom,tom:n.tom})),Cb=(e,n)=>{const r=T(e).format(ie);if(n&&n!==Me){const t=T(n).format(ie);return r.concat(" - ",t)}return r.concat(" - ")},zb=({fields:e,forhåndsvisPeriodesplitt:n,utførPeriodesplitt:r,skalViseModal:t,lukkModal:i})=>{const s=Q(),[l,d]=j.useState(void 0),[o,u]=j.useState(void 0),k=j.useMemo(()=>Ub(e),[e]),c=j.useCallback(()=>{l&&o&&(r(l),i())},[e,l]),h=j.useCallback(A=>{const _=A.target.value,P=k.find(S=>S.fom===_);u(P||void 0)},[]),b=o&&wb(o);return t?f.jsxs(Bt,{width:"medium",open:t,className:xl.modal,onClose:i,children:[f.jsx(Bt.Header,{children:f.jsx(m,{id:"TilkommetAktivitet.Modal.Tittel"})}),f.jsx(Bt.Body,{children:f.jsxs("div",{className:xl.boks,children:[f.jsxs(Mk,{label:s.formatMessage({id:"TilkommetAktivitet.Modal.Select"}),onChange:h,children:[f.jsx("option",{value:void 0,children:"Velg periode"}),k.map(A=>f.jsx("option",{value:A.fom,children:Cb(A.fom,A.tom)},A.fom))]}),f.jsx(x,{sixteenPx:!0}),b&&f.jsx(Kb,{forhåndsvisPeriodesplitt:n,periode:o,setValgtDato:d})]})}),f.jsx(Bt.Footer,{children:f.jsx(se,{children:f.jsxs(y,{children:[f.jsx(v,{children:f.jsx(ne,{size:"small",variant:"primary",onClick:c,disabled:!l,autoFocus:!0,type:"button",children:f.jsx(m,{id:"TilkommetAktivitet.Modal.DelOppKnapp"})})}),f.jsx(v,{children:f.jsx(ne,{size:"small",variant:"secondary",onClick:i,disabled:!1,autoFocus:!0,type:"button",children:f.jsx(m,{id:"TilkommetAktivitet.Modal.AvbrytKnapp"})})})]})})})]}):null},Il=(e,n)=>n==null?void 0:n.some(r=>r.inntektsforholdListe.some(t=>t.aktivitetStatus===e)),Yb=({formName:e,beregningsgrunnlag:n,bgIndex:r,readOnly:t,submittable:i,erAksjonspunktÅpent:s,arbeidsgiverOpplysningerPerId:l})=>{var d,o;const u=Q(),[k,c]=j.useState(!1),{control:h,watch:b}=_e(),{fields:A,remove:_,insert:P}=an({control:h,name:`VURDER_TILKOMMET_AKTIVITET_FORM.${r}.perioder`});A.sort((q,J)=>T(q.fom).diff(T(J.fom)));const S=(o=(d=n.faktaOmFordeling)==null?void 0:d.vurderNyttInntektsforholdDto)==null?void 0:o.vurderInntektsforholdPerioder,F=()=>{const q=Il(B.SELVSTENDIG_NAERINGSDRIVENDE,S),J=Il(B.FRILANSER,S),U=S==null?void 0:S.flatMap(Y=>Y.inntektsforholdListe.map(H=>H.aktivitetStatus)).reduce((Y,H)=>(Y.some(le=>le===H)||Y.push(H),Y),[]);return(U?U.length:0)>1?u.formatMessage({id:"TilkommetAktivitet.AlertHeading.FlereStatuser"}):q?u.formatMessage({id:"TilkommetAktivitet.AlertHeading.SelvstendigNæringsdrivende"}):J?u.formatMessage({id:"TilkommetAktivitet.AlertHeading.Frilans"}):u.formatMessage({id:"TilkommetAktivitet.AlertHeading.Arbeidsforhold"})},N=()=>s?f.jsxs(Jn,{size:"small",variant:"warning",children:[f.jsx(ce,{size:"xsmall",level:"3",children:F()}),u.formatMessage({id:"TilkommetAktivitet.AksjonspunktHelpText"})]}):f.jsxs(f.Fragment,{children:[f.jsxs(V,{size:"small",children:[u.formatMessage({id:"HelpText.Aksjonspunkt.BehandletAksjonspunkt"}),F()]}),f.jsx(I,{size:"small",children:u.formatMessage({id:"TilkommetAktivitet.AksjonspunktHelpText"})})]}),D=(q,J,U,Y)=>{const H=b(`${e}.${r}.perioder.${U}.inntektsforhold.${Y}.skalRedusereUtbetaling`),le=b(`${e}.${r}.perioder.${U}.inntektsforhold.${Y}.bruttoInntektPrÅr`);return{aktivitetStatus:q.aktivitetStatus,arbeidsgiverIdent:q.arbeidsgiverIdent,arbeidsforholdId:q.arbeidsforholdId,bruttoInntektPrÅr:J?le:void 0,skalRedusereUtbetaling:J?H:void 0}},$=(q,J,U)=>!T(q).isAfter(T(U))&&!T(J).isBefore(T(U)),M=j.useCallback(q=>{const J=A.find(le=>$(le.fom,le.tom,q));if(!J)throw new Error(`Finner ikke field somme inneholder dato ${q}`);const U=T(q).subtract(1,"day"),Y={fom:T(J.fom).format(ye),tom:U.format(ye)},H={fom:T(q).format(ye),tom:J.tom};return[Y,H]},[A]),C=j.useCallback(q=>{const J=A.find(He=>$(He.fom,He.tom,q));if(!J)throw new Error(`Finner ikke field somme inneholder dato ${q}`);const U=M(q),Y=A.indexOf(J),H=J.inntektsforhold||[],le={inntektsforhold:H.map((He,on)=>D(He,!0,Y,on)),fom:U[0].fom,tom:U[0].tom},Se={inntektsforhold:H.map((He,on)=>D(He,!1,Y,on)),fom:U[1].fom,tom:U[1].tom};_(Y),P(Y,[le,Se])},[A]),re=j.useCallback(()=>{c(!0)},[k]),te=j.useCallback(()=>{c(!1)},[k]);return f.jsxs(f.Fragment,{children:[N(),!!S&&s&&f.jsxs(f.Fragment,{children:[f.jsx(x,{eightPx:!0}),f.jsx(Jn,{size:"small",variant:"info",title:"",children:u.formatMessage({id:"TilkommetAktivitet.AksjonspunktAlert"})})]}),f.jsx(x,{fourtyPx:!0}),f.jsx(se,{children:f.jsxs(y,{className:Oe.tittelRad,children:[f.jsx(v,{children:f.jsx(ce,{size:"small",level:"3",children:u.formatMessage({id:"TilkommetAktivitet.Heading"})})}),f.jsx(v,{className:Oe.modalKnapp,children:f.jsx(ne,{variant:"tertiary",loading:!1,disabled:!1,onClick:re,size:"small",type:"button",icon:f.jsx(dm,{height:32,width:32}),children:u.formatMessage({id:"TilkommetAktivitet.Modal.Knapp"})})})]})}),k&&f.jsx(zb,{fields:A,forhåndsvisPeriodesplitt:M,lukkModal:te,skalViseModal:k,utførPeriodesplitt:C}),f.jsx(Fb,{beregningsgrunnlag:n,arbeidsgiverOpplysningerPerId:l,formName:e,fields:A,bgIndex:r,readOnly:t,erAksjonspunktÅpent:s,submittable:i})]})};T.extend(gg);const{VURDER_NYTT_INNTKTSFRHLD:xs}=Ce,at="VURDER_TILKOMMET_AKTIVITET_FORM",cg=e=>{const n=e.find(r=>r.definisjon===xs);if(!n)throw Error(`Fant ikke forventet avklaringsbehov ${xs}`);return n},Hb=(e,n)=>{const r=n.find(t=>t.vilkårsperiodeFom===e);if(!r)throw Error(`Mangler beregningsgrunnlag for vilkårsperiodeFom ${e}`);return r};function Jb(e){var n,r;const t=(r=(n=e.faktaOmFordeling)==null?void 0:n.vurderNyttInntektsforholdDto)==null?void 0:r.vurderInntektsforholdPerioder;if(!t)throw Error("vurderInntektsforholdPerioder skal være definert");return ug(t,e.forlengelseperioder).filter(i=>!js(i,e))}const qb=e=>({aktivitetStatus:e.aktivitetStatus,arbeidsgiverIdent:e.arbeidsgiverId,arbeidsforholdId:e.arbeidsforholdId,bruttoInntektPrÅr:K(e.bruttoInntektPrÅr),skalRedusereUtbetaling:e.skalRedusereUtbetaling}),Zb=e=>({fom:e.fom,tom:e.tom,inntektsforhold:e.inntektsforholdListe.map(n=>qb(n))}),Wb=(e,n)=>{const r=cg(e.avklaringsbehov),t=Jb(e);return{beregningsgrunnlagStp:e.skjaeringstidspunktBeregning,begrunnelse:r&&r.begrunnelse?r.begrunnelse:"",periode:ct(n,e.vilkårsperiodeFom).periode,perioder:t.map(i=>Zb(i))}},Xb=(e,n)=>({[`${at}`]:e.filter(r=>r.avklaringsbehov.some(t=>t.definisjon===Ce.VURDER_NYTT_INNTKTSFRHLD)).map(r=>Wb(r,n))}),Qb=(e,n)=>{const r=T(e.fom).isBetween(n.fom,n.tom,"day","[]")||T(e.tom).isBetween(n.fom,n.tom,"day","[]"),t=T(n.fom).isBetween(e.fom,e.tom,"day","[]")||T(n.tom).isBetween(e.fom,e.tom,"day","[]");return r||t},ej=(e,n)=>n.inntektsforholdListe.some(r=>r.aktivitetStatus===e.aktivitetStatus&&r.arbeidsforholdId===e.arbeidsforholdId&&r.arbeidsgiverId===e.arbeidsgiverIdent),nj=(e,n)=>{var r,t;const i=e.perioder,s=(((t=(r=n.faktaOmFordeling)==null?void 0:r.vurderNyttInntektsforholdDto)==null?void 0:t.vurderInntektsforholdPerioder)||[]).flatMap(l=>i.filter(d=>Qb(d,l)).map(d=>{const o=d.inntektsforhold.filter(u=>ej(u,l)).map(u=>{const k=!!u.skalRedusereUtbetaling,c=k?me(u.bruttoInntektPrÅr):void 0;return{aktivitetStatus:u.aktivitetStatus,arbeidsgiverId:u.arbeidsgiverIdent,arbeidsforholdId:u.arbeidsforholdId,skalRedusereUtbetaling:k,bruttoInntektPrÅr:c}});return{fom:T(d.fom).isBefore(T(l.fom))?l.fom:d.fom,tom:T(d.tom).isAfter(T(l.tom))?l.tom:d.tom,tilkomneInntektsforhold:o}}));return{periode:e.periode,begrunnelse:e.begrunnelse,tilkomneInntektsforhold:s}},rj=(e,n,r)=>{const t=e[at].filter(i=>rr(r,i.periode.fom)).map(i=>nj(i,Hb(i.periode.fom,n)));return{begrunnelse:t.map(i=>i.begrunnelse).reduce((i,s)=>i!==null?`${i} ${s}`:s),grunnlag:t,kode:xs}},tj=({aktivtBeregningsgrunnlagIndeks:e,formData:n,setFormData:r,beregningsgrunnlagListe:t,submitCallback:i,readOnly:s,submittable:l,vilkarperioder:d,arbeidsgiverOpplysningerPerId:o,setTilkommetAktivitetFormIsDirty:u})=>{const k=ze({defaultValues:n!=null&&n.VURDER_TILKOMMET_AKTIVITET_FORM?n:Xb(t,d)}),{formState:{dirtyFields:c,isSubmitted:h,errors:b,isDirty:A},trigger:_,control:P}=k;j.useEffect(()=>{u(A)},[A]),j.useEffect(()=>{var $;h&&($=c[at])!=null&&$[e]&&_()},[e]);const{fields:S}=an({name:at,control:P}),F=t[e],N=cg(F.avklaringsbehov),D=N?hn(N.status):!1;return f.jsx(Js,{errorMessage:"Noe gikk galt ved visning av tilkommet aktivitet",children:f.jsx("div",{className:Oe.tilkommetAktivitet,children:f.jsx(Ye,{formMethods:k,onSubmit:$=>{Object.keys(b).length===0&&i(rj($,t,d))},setDataOnUnmount:r,children:S.map($=>{const M=t.findIndex(C=>C.skjaeringstidspunktBeregning===$.beregningsgrunnlagStp);return f.jsx("div",{style:{display:M===e?"block":"none"},children:f.jsx(Yb,{formName:at,beregningsgrunnlag:t[M],bgIndex:M,readOnly:s||!rr(d,t[M].vilkårsperiodeFom),submittable:l,erAksjonspunktÅpent:D,arbeidsgiverOpplysningerPerId:o})},$.id)})})})})},{FORDEL_BEREGNINGSGRUNNLAG:ij,VURDER_REFUSJON_BERGRUNN:sj,VURDER_NYTT_INNTKTSFRHLD:aj}=Ce,lj=e=>e&&e.faktaOmFordeling?!!e.faktaOmFordeling.fordelBeregningsgrunnlag:!1,dj=e=>!!(e&&e.refusjonTilVurdering),oj=e=>e&&e.faktaOmFordeling?!!e.faktaOmFordeling.vurderNyttInntektsforholdDto:!1,zi=(e,n)=>e&&n?e.find(r=>r.definisjon===n):void 0,gj=({aktivtBeregningsgrunnlagIndeks:e,readOnly:n,submitCallback:r,beregningsgrunnlagListe:t,vilkarperioder:i,kodeverkSamling:s,submittable:l,arbeidsgiverOpplysningerPerId:d,formData:o,setFormData:u})=>{const[k,c]=j.useState(!1),[h,b]=j.useState(!1),[A,_]=j.useState(!1),P=zi(t[e].avklaringsbehov,ij),S=zi(t[e].avklaringsbehov,sj),F=zi(t[e].avklaringsbehov,aj),N=(!P||P.status!==dr.OPPRETTET)&&(!S||S.status!==dr.OPPRETTET)&&(!F||F.status!==dr.OPPRETTET),D=F&&oj(t[e]),$=!D||F.status!==dr.OPPRETTET,M=P&&lj(t[e])&&($&&P.status===dr.OPPRETTET||N),C=S&&dj(t[e])&&($&&!M&&S.status===dr.OPPRETTET||N);return f.jsxs(f.Fragment,{children:[C&&f.jsxs(f.Fragment,{children:[f.jsx(Tp,{aktivtBeregningsgrunnlagIndeks:e,submittable:l&&!k&&!A,readOnly:n,submitCallback:r,beregningsgrunnlagListe:t,arbeidsgiverOpplysningerPerId:d,formData:o,setFormData:u,vilkarperioder:i,setRefusjonFormIsDirty:b}),f.jsx(x,{fourtyPx:!0})]}),D&&f.jsxs(f.Fragment,{children:[f.jsx(tj,{aktivtBeregningsgrunnlagIndeks:e,formData:o,setFormData:u,submittable:l&&!h&&!A,readOnly:n,submitCallback:r,beregningsgrunnlagListe:t,arbeidsgiverOpplysningerPerId:d,vilkarperioder:i,setTilkommetAktivitetFormIsDirty:c}),f.jsx(x,{fourtyPx:!0})]}),M&&f.jsx(ib,{aktivtBeregningsgrunnlagIndeks:e,submittable:l&&!k&&!h,readOnly:n,submitCallback:r,kodeverkSamling:s,beregningsgrunnlagListe:t,arbeidsgiverOpplysningerPerId:d,formData:o,setFormData:u,vilkårsperioder:i,setFordelingFormIsDirty:_})]})},uj=Ge(ga),{FORDEL_BEREGNINGSGRUNNLAG:kj,VURDER_REFUSJON_BERGRUNN:mj,VURDER_NYTT_INNTKTSFRHLD:fj}=Ce,cj=(e,n)=>{const r=ct(n,e.vilkårsperiodeFom);if(r){const{fom:t,tom:i}=r.periode;return i!==null?`${T(t).format(ie)} - ${T(i).format(ie)}`:`${T(t).format(ie)} - `}return`${T(e.vilkårsperiodeFom).format(ie)}`},pg=e=>e.avklaringsbehov.some(n=>n.definisjon===mj||n.definisjon===kj||n.definisjon===fj),pj=(e,n)=>pg(e)&&rr(n,e.vilkårsperiodeFom),vj=({beregningsgrunnlagVilkår:e,beregningsgrunnlagListe:n,kodeverkSamling:r,submitCallback:t,readOnly:i,submittable:s,arbeidsgiverOpplysningerPerId:l,formData:d,setFormData:o})=>{const u=n.filter(b=>pg(b)),[k,c]=j.useState(0);if(u.length===0)return null;const h=u.length>1;return f.jsxs(Ze,{value:uj,children:[h&&f.jsx(jr,{value:k.toString(),onChange:b=>c(Number(b)),children:f.jsx(jr.List,{children:u.map((b,A)=>f.jsx(jr.Tab,{value:A.toString(),label:cj(b,e.perioder),className:pj(b,e.perioder)?"harAksjonspunkt":""},b.skjaeringstidspunktBeregning))})}),f.jsx(x,{eightPx:!0}),f.jsx(gj,{aktivtBeregningsgrunnlagIndeks:k,kodeverkSamling:r,submitCallback:t,readOnly:i,beregningsgrunnlagListe:u,vilkarperioder:e.perioder,submittable:s,arbeidsgiverOpplysningerPerId:l,formData:d,setFormData:o})]})};const hj=e=>{switch(e){case Ce.FORDEL_BEREGNINGSGRUNNLAG:return ae.FORDEL_BEREGNINGSGRUNNLAG;case Ce.VURDER_REFUSJON_BERGRUNN:return ae.VURDER_REFUSJON_BERGRUNN;default:throw new Error(`Ukjent avklaringspunkt ${e}`)}},bj=e=>n=>{const t=(Array.isArray(n)?n:[n]).map(i=>({kode:hj(i.kode),...i.grunnlag[0]}));return e(t)},jj=(e,n)=>({avslagKode:n.avslagKode,vurderesIBehandlingen:!0,merknadParametere:{},periode:{fom:e?e.skjaeringstidspunktBeregning:"",tom:Me},vilkarStatus:n.vilkarStatus}),xj=(e,n)=>{if(!e)return null;const r=e.find(i=>i.vilkarType&&i.vilkarType===Xn.BEREGNINGSGRUNNLAGVILKARET);return!r||!n?null:{...r,perioder:[jj(n,r)]}},Aj=e=>e?[{...e,beregningsgrunnlagId:"1",vilkårsperiodeFom:e.skjaeringstidspunktBeregning}]:[],Tl=[ae.FORDEL_BEREGNINGSGRUNNLAG,ae.VURDER_REFUSJON_BERGRUNN],Ij=[we.BEREGNINGSGRUNNLAG],El=({arbeidsgiverOpplysningerPerId:e,...n})=>Ne.jsx(Nr,{...n,panelEndepunkter:Ij,aksjonspunktKoder:Tl,faktaPanelKode:yr.FORDELING,faktaPanelMenyTekst:Q().formatMessage({id:"FordelBeregningsgrunnlag.Title"}),skalPanelVisesIMeny:()=>!!n.behandling&&!!n.behandling.aksjonspunkt&&!!n.behandling.aksjonspunkt.some(r=>Tl.some(t=>t===r.definisjon)),renderPanel:r=>Ne.jsx(vj,{...r,kodeverkSamling:r.alleKodeverk,beregningsgrunnlagVilkår:xj(r.behandling.vilkår,r.beregningsgrunnlag),beregningsgrunnlagListe:Aj(r.beregningsgrunnlag),submitCallback:bj(r.submitCallback),arbeidsgiverOpplysningerPerId:e})});try{El.displayName="FordelingFaktaInitPanel",El.__docgenInfo={description:"FordelingFaktaInitPanel",displayName:"FordelingFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}var vg={exports:{}},zr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _l;function Tj(){if(_l)return zr;_l=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,c={},h=null,b=null;u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),o.ref!==void 0&&(b=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(c[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)c[k]===void 0&&(c[k]=o[k]);return{$$typeof:n,type:d,key:h,ref:b,props:c,_owner:i.current}}return zr.Fragment=r,zr.jsx=l,zr.jsxs=l,zr}vg.exports=Tj();var O=vg.exports;const Ej=e=>po(e,1),hg=(e,n)=>T(Ej(e)).isSame(n)?n:e,bg=(e,n,r)=>{if(!(!n||!r))return T(e).isBefore(n)?n:hg(e,r)},jg=(e,n,r)=>{if(!(!n||!r))return T(e).isAfter(r)?r:hg(e,n)},_j=e=>e===!1?"danger":e===!0?"success":"warning",Sj={[ve.ARBEID]:O.jsx(Mr,{width:20,height:20}),[ve.AAP]:O.jsx(Lr,{width:20,height:20}),[ve.DAGPENGER]:O.jsx(Lr,{width:20,height:20}),[ve.FORELDREPENGER]:O.jsx(Ck,{width:20,height:20}),[ve.FRILANS]:O.jsx(Mr,{width:20,height:20}),[ve.MILITAR_ELLER_SIVILTJENESTE]:O.jsx(Mr,{width:20,height:20}),[ve.NARING]:O.jsx(Mr,{width:20,height:20}),[ve.OMSORGSPENGER]:O.jsx(Lr,{width:20,height:20}),[ve.OPPLARINGSPENGER]:O.jsx(Lr,{width:20,height:20}),[ve.PLEIEPENGER]:O.jsx(Lr,{width:20,height:20}),[ve.SVANGERSKAPSPENGER]:O.jsx(Dm,{width:20,height:20}),[ve.SYKEPENGER]:O.jsx(Km,{width:20,height:20}),[ve.UTENLANDSK_ARBEIDSFORHOLD]:O.jsx(_m,{width:20,height:20}),[ve.ETTERLONN_SLUTTPAKKE]:O.jsx(Mr,{width:20,height:20})},yj={danger:O.jsx(Io,{}),success:O.jsx(Xs,{}),warning:O.jsx(om,{})},Nj=(e,n,r,t,i)=>e.map((s,l)=>{var d;return{id:l,start:T(bg(s.opptjeningFom,t,i)).toDate(),end:T(jg(s.opptjeningTom,t,i)).toDate(),radId:(d=r.find(o=>o.aktivitetTypeKode===s.aktivitetType&&o.arbeidsforholdRef===s.arbeidsforholdRef&&o.arbeidsgiverReferanse===s.arbeidsgiverReferanse))==null?void 0:d.id,status:_j(n[l].erGodkjent)}}),Pj=(e,n,r)=>e.reduce((t,i)=>(t.some(s=>s.aktivitetType===i.aktivitetType&&s.arbeidsforholdRef===i.arbeidsforholdRef&&s.arbeidsgiverReferanse===i.arbeidsgiverReferanse)||t.push(i),t),[]).map((t,i)=>{const s=n.find(d=>d.kode===t.aktivitetType),l=(s==null?void 0:s.kode)===ve.AAP?r.formatMessage({id:"OpptjeningTidslinje.Aap"}):s==null?void 0:s.navn;return{id:i+1,label:l||"",aktivitetTypeKode:t.aktivitetType,arbeidsforholdRef:t.arbeidsforholdRef,arbeidsgiverReferanse:t.arbeidsgiverReferanse}}),Rj=({opptjeningPerioder:e,formVerdierForAlleAktiviteter:n,fastsattOpptjening:r,valgtAktivitetIndex:t,opptjeningAktivitetTypes:i,setValgtAktivitetIndex:s})=>{const l=Q(),d=r==null?void 0:r.opptjeningFom,o=r==null?void 0:r.opptjeningTom,u=j.useMemo(()=>Pj(e,i,l),[e]),k=j.useMemo(()=>Nj(e,n,u,d,o),[n]),c=j.useCallback(h=>{const b=k.find(A=>A.id===h);b&&s(b.id)},[k,s]);return!d||!o?null:O.jsxs($e,{startDate:T(d).subtract(1,"months").toDate(),endDate:T(o).add(10,"days").toDate(),children:[O.jsxs($e.Pin,{date:T(d).toDate(),children:[O.jsx(V,{size:"small",children:O.jsx(m,{id:"OpptjeningTidslinje.StartDato"})}),O.jsx(I,{size:"small",children:O.jsx(Re,{dateString:d})})]}),O.jsxs($e.Pin,{date:T(o).toDate(),children:[O.jsx(V,{size:"small",children:O.jsx(m,{id:"OpptjeningTidslinje.SluttDato"})}),O.jsx(I,{size:"small",children:O.jsx(Re,{dateString:o})})]}),u.map(h=>O.jsx($e.Row,{label:h.label,icon:Sj[h.aktivitetTypeKode],children:k.filter(b=>b.radId===h.id).map(b=>O.jsx($e.Period,{start:b.start,end:b.end,status:b.status,icon:yj[b.status],onSelectPeriod:()=>c(b.id),isActive:t===b.id,statusLabel:h.label},b.id))},h.id))]})},Oj="_colMargin_1gpz6_1",Yi={colMargin:Oj},Bj=[ve.SYKEPENGER,ve.FORELDREPENGER,ve.PLEIEPENGER,ve.SVANGERSKAPSPENGER,ve.UTENLANDSK_ARBEIDSFORHOLD],Ht=(e,...n)=>!!e&&n.includes(e),Fj=e=>e?T(e,ye).format(ie):"-",$j=e=>Ht(e,ve.FRILANS)?"ActivityPanel.Oppdragsgiver":"ActivityPanel.Arbeidsgiver",Dj=(e,n)=>{const r=n[e];if(!e||!r)return"-";if(r.erPrivatPerson&&r.fødselsdato){const t=Fj(r.fødselsdato);return`${r.navn} (${t})`}return r.identifikator?`${r.navn} (${r.identifikator})`:r.navn},Vj=e=>e.length>0?"ActivityPanel.FerdiglignetNæring":"ActivityPanel.IngenFerdiglignetNæring",Gj=({valgtAktivitetstype:e,arbeidsgiverReferanse:n,arbeidsgiverOpplysningerPerId:r,stillingsandel:t,naringRegistreringsdato:i,ferdiglignetNæring:s})=>O.jsxs(se,{children:[Ht(e,ve.ARBEID,ve.NARING,...Bj)&&O.jsxs(y,{children:[O.jsxs(v,{className:Yi.colMargin,children:[O.jsx(x,{eightPx:!0}),O.jsx(V,{size:"small",children:O.jsx(m,{id:$j(e)})}),O.jsx(I,{size:"small",children:Dj(n,r)})]}),Ht(e,ve.ARBEID)&&O.jsxs(v,{children:[O.jsx(x,{eightPx:!0}),O.jsx(V,{size:"small",children:O.jsx(m,{id:"ActivityPanel.Stillingsandel"})}),O.jsx(I,{size:"small",children:t})]})]}),O.jsx(x,{eightPx:!0}),Ht(e,ve.NARING)&&O.jsxs(O.Fragment,{children:[O.jsx(y,{children:O.jsxs(v,{children:[O.jsx(V,{size:"small",children:O.jsx(m,{id:"ActivityPanel.Registreringsdato"})}),O.jsx(I,{size:"small",children:i?T(i).format(ie):"-"})]})}),O.jsx(x,{eightPx:!0}),O.jsx(y,{children:O.jsx(v,{children:O.jsx(V,{size:"small",children:O.jsx(m,{id:Vj(s)})})})}),s.sort((l,d)=>l.år<d.år?1:l.år>d.år?-1:0).map(l=>O.jsxs(y,{children:[O.jsx(v,{className:Yi.aarBredde,children:O.jsx(I,{size:"small",children:l.år})}),O.jsx(v,{className:Yi.belopBredde,children:O.jsx(tn,{children:O.jsx(I,{size:"small",children:K(l.beløp)})})})]},l.år))]})]}),Lj="_explanationTextarea_18tdb_1",Mj="_panel_18tdb_5",Kj="_colMargin_18tdb_9",wj="_margin_18tdb_13",Uj="_fix_18tdb_17",Yr={explanationTextarea:Lj,panel:Mj,colMargin:Kj,margin:wj,fix:Uj},Cj=cn(3),zj=pn(1500),Jt=(e,n,r)=>e?!!n&&!r:!0,Yj=(e,n)=>{const r=Rk(e,n);return r?r.months>=1?O.jsx(m,{id:"ActivityPanel.MonthsAndDays",values:{months:r.months,days:r.days}}):O.jsx(m,{id:"ActivityPanel.Days",values:{days:r.days}}):O.jsx("span",{})},Hj=(e,n,r,t)=>r||Jt(t,e,n)?"ActivityPanel.Begrunnelse":"ActivityPanel.BegrunnEndringene",Jj=({readOnly:e,opptjeningAktivitetTyper:n,avbrytAktivitet:r,velgNesteAktivitet:t,velgForrigeAktivitet:i,harAksjonspunkt:s,alleMerknaderFraBeslutter:l,arbeidsgiverOpplysningerPerId:d,valgtOpptjeningAktivitet:o,ferdiglignetNæring:u,oppdaterAktivitet:k,valgteFormValues:c,fastsattOpptjening:h,lukkPeriode:b})=>{var A;const _=Q(),P=ze({defaultValues:c}),{arbeidsgiverReferanse:S,erGodkjent:F,erEndret:N,aktivitetType:D,stillingsandel:$,naringRegistreringsdato:M}=o,C=bg(o.opptjeningFom,h==null?void 0:h.opptjeningFom,h==null?void 0:h.opptjeningTom),re=jg(o.opptjeningTom,h==null?void 0:h.opptjeningFom,h==null?void 0:h.opptjeningTom),te=j.useCallback((...q)=>O.jsx("b",{children:q}),[]);return O.jsx(Ye,{formMethods:P,onSubmit:q=>k(q),children:O.jsxs(uo,{className:Yr.panel,merknaderFraBeslutter:l[ae.VURDER_PERIODER_MED_OPPTJENING],children:[O.jsxs(se,{children:[O.jsxs(y,{spaceBetween:!0,children:[O.jsx(v,{children:O.jsx(ce,{size:"small",children:O.jsx(m,{id:"ActivityPanel.Details"})})}),O.jsxs(v,{className:Yr.fix,children:[O.jsx(ne,{className:Yr.margin,size:"xsmall",icon:O.jsx(Si,{"aria-hidden":!0}),onClick:i,variant:"secondary-neutral",type:"button",title:_.formatMessage({id:"Timeline.prevPeriod"}),children:O.jsx(m,{id:"Timeline.prevPeriodShort"})}),O.jsx(ne,{className:Yr.margin,size:"xsmall",icon:O.jsx(yi,{"aria-hidden":!0}),onClick:t,variant:"secondary-neutral",type:"button",title:_.formatMessage({id:"Timeline.nextPeriod"}),iconPosition:"right",children:O.jsx(m,{id:"Timeline.nextPeriodShort"})}),O.jsx(ne,{size:"xsmall",icon:O.jsx(qn,{"aria-hidden":!0}),onClick:b,variant:"tertiary-neutral",type:"button",title:_.formatMessage({id:"Timeline.lukkPeriode"})})]})]}),O.jsx(x,{sixteenPx:!0}),O.jsxs(y,{children:[O.jsxs(v,{className:Yr.colMargin,children:[O.jsx(V,{size:"small",children:O.jsx(m,{id:"ActivityPanel.Period"})}),O.jsx(se,{children:C&&re&&O.jsxs(y,{children:[O.jsx(v,{children:O.jsx(I,{size:"small",children:`${T(C).format(ie)} - ${T(re).format(ie)}`})}),O.jsx(v,{children:O.jsx(I,{size:"small",children:Yj(C,re)})})]})})]}),O.jsxs(v,{children:[O.jsx(V,{size:"small",children:O.jsx(m,{id:"ActivityPanel.Activity"})}),O.jsx(I,{size:"small",children:(A=n.find(q=>q.kode===D))==null?void 0:A.navn})]})]})]}),O.jsx(x,{eightPx:!0}),O.jsx(Gj,{valgtAktivitetstype:D,arbeidsgiverReferanse:S,arbeidsgiverOpplysningerPerId:d,stillingsandel:$,naringRegistreringsdato:M,ferdiglignetNæring:u}),!Jt(s,F,N)&&O.jsxs(O.Fragment,{children:[O.jsx(x,{twentyPx:!0}),O.jsx(Ie,{name:"erGodkjent",hideLegend:!0,validate:[X],isReadOnly:e,isEdited:N,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{label:_.formatMessage({id:"ActivityPanel.Godkjent"}),value:"true"},{label:O.jsx(m,{id:"ActivityPanel.IkkeGodkjent",values:{b:te}}),value:"false"}]})]}),O.jsx(x,{sixteenPx:!0}),O.jsx(Xe,{name:"begrunnelse",label:O.jsx(m,{id:Hj(F,N,e,s)}),validate:[X,Cj,zj,fn],maxLength:1500,readOnly:e||Jt(s,F,N)}),!Jt(s,F,N)&&O.jsxs(O.Fragment,{children:[O.jsx(x,{sixteenPx:!0}),O.jsx(se,{children:O.jsxs(y,{children:[O.jsx(v,{children:O.jsx(ne,{size:"small",variant:"primary",disabled:!P.formState.isDirty,children:O.jsx(m,{id:"ActivityPanel.Oppdater"})})}),O.jsx(v,{children:O.jsx(ne,{size:"small",variant:"secondary",onClick:r,type:"button",children:O.jsx(m,{id:"ActivityPanel.Avbryt"})})})]})})]})]})})},qj="_container_ivkzi_1",Zj="_info_ivkzi_4",Wj="_alertstripe__tekst_ivkzi_7",Xj="_alertstripe__tekst_ivkzi_7",Qj="_pushRight_ivkzi_10",ex={container:qj,info:Zj,alertstripe__tekst:Wj,alertstripeTekst:Xj,pushRight:Qj},nx=e=>{const n=[];e.some(t=>t.stillingsandel===0)&&n.push(O.jsx(m,{id:"OpptjeningFaktaForm.AktivitetenErTimeAvslonnet"},"AktivitetenErTimeAvslonnet"));const r=e.filter(t=>(t.erGodkjent===void 0||t.erGodkjent===null||t.begrunnelse)&&t.stillingsandel!==0);return r.length===1?n.push(O.jsx(m,{id:"OpptjeningFaktaForm.EttArbeidKanGodkjennes"},"EttArbeidKanGodkjennes")):r.length>1&&n.push(O.jsx(m,{id:"OpptjeningFaktaForm.FlereArbeidKanGodkjennes"},"FlereArbeidKanGodkjennes")),n},rx=e=>T(e).add(1,"days").format(ye),tx=(e,n)=>[...e].sort((r,t)=>{var i,s;const l=(i=n.find(o=>o.kode===r.aktivitetType))==null?void 0:i.navn,d=(s=n.find(o=>o.kode===t.aktivitetType))==null?void 0:s.navn;return l&&d?l.localeCompare(d):0}),Sl=e=>po(e,1),ix=(e,n)=>n?e.filter(r=>T(n.opptjeningFom).isBefore(Sl(r.opptjeningTom))).filter(r=>T(r.opptjeningFom).isBefore(Sl(n.opptjeningTom))):[],sx=({hasAksjonspunkt:e,hasOpenAksjonspunkter:n,opptjeningAktiviteter:r,readOnly:t,alleMerknaderFraBeslutter:i,alleKodeverk:s,arbeidsgiverOpplysningerPerId:l,fastsattOpptjening:d,ferdiglignetNæring:o,submitCallback:u,formData:k,setFormData:c})=>{const h=s[_n.OPPTJENING_AKTIVITET_TYPE],b=j.useMemo(()=>r&&d?tx(ix(r,d),h):[],[r,d]),A=b.map(H=>({erGodkjent:H.erGodkjent,begrunnelse:H.begrunnelse})),[_,P]=j.useState(k||A),S=b.findIndex(H=>H.erGodkjent===void 0),F=b.length>0?0:void 0,[N,D]=j.useState(S!==-1?S:F),[$,M]=j.useState(!1);j.useEffect(()=>()=>{c(_)},[_]),j.useEffect(()=>{const H=_.findIndex(le=>le.erGodkjent===void 0);D(H!==-1?H:void 0)},[_]);const C=j.useCallback(()=>{M(!0);const H=b.map((le,Se)=>({arbeidsforholdRef:le.arbeidsforholdRef,arbeidsgiverReferanse:le.arbeidsgiverReferanse,opptjeningFom:le.opptjeningFom,opptjeningTom:le.opptjeningTom,aktivitetType:le.aktivitetType,erGodkjent:_[Se].erGodkjent,begrunnelse:_[Se].begrunnelse})).filter(le=>le.begrunnelse);u({opptjeningsaktiviteter:H,kode:ae.VURDER_PERIODER_MED_OPPTJENING}).then(()=>M(!1))},[b,_]),re=j.useCallback(()=>{N!==void 0&&N<b.length-1&&D(N+1)},[N]),te=j.useCallback(()=>{N!==void 0&&N>0&&D(N-1)},[N]),q=j.useCallback(H=>{N!==void 0&&P(le=>Object.assign([],le,{[N]:H}))},[P,N]),J=j.useCallback(()=>D(void 0),[]),U=j.useCallback(()=>{D(void 0)},[]),Y=_.some(H=>H.erGodkjent===null||H.erGodkjent===void 0);return O.jsxs("div",{className:ex.container,children:[e&&O.jsxs(O.Fragment,{children:[O.jsx(xi,{isAksjonspunktOpen:n,children:nx(b)}),O.jsx(x,{twentyPx:!0})]}),O.jsx(V,{size:"small",children:O.jsx(m,{id:"OpptjeningFaktaForm.Skjaringstidspunkt"})}),O.jsx(I,{size:"small",children:O.jsx(Re,{dateString:rx(d==null?void 0:d.opptjeningTom)})}),O.jsx(x,{twentyPx:!0}),O.jsx(Rj,{opptjeningPerioder:b,formVerdierForAlleAktiviteter:_,opptjeningAktivitetTypes:h,setValgtAktivitetIndex:D,valgtAktivitetIndex:N,fastsattOpptjening:d}),O.jsx(x,{fourtyPx:!0}),N!==void 0&&O.jsxs(O.Fragment,{children:[O.jsx(Jj,{valgtOpptjeningAktivitet:b[N],valgteFormValues:_[N],readOnly:t,opptjeningAktivitetTyper:h,avbrytAktivitet:J,oppdaterAktivitet:q,fastsattOpptjening:d,velgNesteAktivitet:re,velgForrigeAktivitet:te,harAksjonspunkt:e,alleMerknaderFraBeslutter:i,alleKodeverk:s,arbeidsgiverOpplysningerPerId:l,ferdiglignetNæring:o,lukkPeriode:U},N),O.jsx(x,{twentyPx:!0})]}),e&&b.length>0&&O.jsx(ne,{size:"small",variant:"primary",onClick:C,disabled:N!==void 0||$||t||Y,loading:$,type:"button",children:O.jsx(m,{id:"OpptjeningFaktaForm.Confirm"})})]})},ax={"OpptjeningFaktaForm.Skjaringstidspunkt":"Skjæringstidspunkt for opptjening","OpptjeningFaktaForm.EttArbeidKanGodkjennes":"Vurder om aktiviteten kan godkjennes","OpptjeningFaktaForm.FlereArbeidKanGodkjennes":"Vurder om aktivitetene kan godkjennes","OpptjeningFaktaForm.AktivitetenErTimeAvslonnet":"Arbeidet er timeavlønnet. Slå opp i A-ordningen for å vurdere opptjeningen","OpptjeningFaktaForm.DetErInnhentetDok":"Det er innhentet dokumentasjon på opptjening i utlandet","OpptjeningFaktaForm.DetErIkkeInnhentetDok":"Det er <b>ikke</b> innhentet dokumentasjon på opptjening i utlandet","OpptjeningFaktaForm.Confirm":"Bekreft og fortsett","ActivityPanel.Details":"Detaljer for valgt aktivitet","ActivityPanel.Period":"Periode","ActivityPanel.Activity":"Aktivitet","ActivityPanel.Godkjent":"Aktiviteten godkjennes","ActivityPanel.IkkeGodkjent":"Aktiviteten godkjennes <b>ikke</b>","ActivityPanel.BegrunnEndringene":"Begrunn endringene","ActivityPanel.Begrunnelse":"Begrunnelse","ActivityPanel.Oppdater":"Oppdater","ActivityPanel.Avbryt":"Avbryt","ActivityPanel.MonthsAndDays":"({months} mndr. {days} dager)","ActivityPanel.Days":"({days} dager)","ActivityPanel.Arbeidsgiver":"Arbeidsgiver","ActivityPanel.Oppdragsgiver":"Oppdragsgiver","ActivityPanel.Stillingsandel":"Stillingsandel","ActivityPanel.Registreringsdato":"Registreringsdato","ActivityPanel.FerdiglignetNæring":"Ferdiglignet næringsinntekt","ActivityPanel.IngenFerdiglignetNæring":"Ingen ferdiglignet næringsinntekt","OpptjeningTidslinje.StartDato":"Start opptjeningsperiode","OpptjeningTidslinje.SluttDato":"Slutt opptjeningsperiode","OpptjeningTidslinje.Aap":"AAP","Timeline.lukkPeriode":"Lukk periode","Timeline.nextPeriod":"Neste periode","Timeline.nextPeriodShort":"Neste","Timeline.prevPeriod":"Forrige periode","Timeline.prevPeriodShort":"Forrige","Timeline.openData":"Åpne info om første periode"},lx=Ge(ax),xg=({opptjening:e,aksjonspunkter:n,alleMerknaderFraBeslutter:r,alleKodeverk:t,harApneAksjonspunkter:i,submitCallback:s,readOnly:l,arbeidsgiverOpplysningerPerId:d,formData:o,setFormData:u})=>{const k=e?e.fastsattOpptjening:void 0,c=e?e.opptjeningAktivitetList:void 0,h=(e==null?void 0:e.ferdiglignetNæring)||[];return O.jsx(Ze,{value:lx,children:O.jsx(sx,{readOnly:l,hasOpenAksjonspunkter:i,hasAksjonspunkt:n[0]!==void 0,alleMerknaderFraBeslutter:r,alleKodeverk:t,arbeidsgiverOpplysningerPerId:d,opptjeningAktiviteter:c,fastsattOpptjening:k,ferdiglignetNæring:h,submitCallback:s,formData:o,setFormData:u})})};xg.__docgenInfo={description:"",methods:[],displayName:"ln"};const dx=[ae.VURDER_PERIODER_MED_OPPTJENING],ox=[we.OPPTJENING],yl=({arbeidsgiverOpplysningerPerId:e,...n})=>Ne.jsx(Nr,{...n,panelEndepunkter:ox,aksjonspunktKoder:dx,faktaPanelKode:yr.OPPTJENINGSVILKARET,faktaPanelMenyTekst:Q().formatMessage({id:"OpptjeningInfoPanel.KontrollerFaktaForOpptjening"}),skalPanelVisesIMeny:()=>!!n.behandling.vilkår&&n.behandling.vilkår.some(r=>r.vilkarType===Xn.OPPTJENINGSVILKARET)&&n.behandling.vilkår.some(r=>r.vilkarType===Xn.MEDLEMSKAPSVILKARET&&r.vilkarStatus===To.OPPFYLT),renderPanel:r=>Ne.jsx(xg,{arbeidsgiverOpplysningerPerId:e,...r})});try{yl.displayName="OpptjeningsvilkaretFaktaInitPanel",yl.__docgenInfo={description:"OpptjeningsvilkaretFaktaInitPanel",displayName:"OpptjeningsvilkaretFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}const Ag="https://navno.sharepoint.com/:x:/s/fag-og-ytelser-familie-foreldrepenger/EaB60qfvI_JNlSDbhFXp6FoBIw3G260Wp6zOm78U6aFrng?e=3Jy3sn";var Ae=(e=>(e.AVKLAR_AKTIVITETER="AVKLAR_AKTIVITETER",e.VURDER_FAKTA_FOR_ATFL_SN="VURDER_FAKTA_ATFL_SN",e.OVERSTYRING_AV_BEREGNINGSAKTIVITETER="OVST_BEREGNINGSAKTIVITETER",e.OVERSTYRING_AV_BEREGNINGSGRUNNLAG="OVST_INNTEKT",e))(Ae||{}),Hi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ig={exports:{}},Hr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl;function gx(){if(Nl)return Hr;Nl=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,c={},h=null,b=null;u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),o.ref!==void 0&&(b=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(c[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)c[k]===void 0&&(c[k]=o[k]);return{$$typeof:n,type:d,key:h,ref:b,props:c,_owner:i.current}}return Hr.Fragment=r,Hr.jsx=l,Hr.jsxs=l,Hr}Ig.exports=gx();var p=Ig.exports;const fa={"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning":"Vurder fakta for beregningen","BeregningInfoPanel.TidsbegrensetArbFor.Arbeidsforhold":"Er arbeidsforholdet i {navn} med varighet {fom} - {tom} tidsbegrenset?","BeregningInfoPanel.FormAlternativ.Ja":"Ja","BeregningInfoPanel.FormAlternativ.Nei":"Nei","BeregningInfoPanel.NyIArbeidslivet.SelvstendigNaeringsdrivende":"Søker er selvstendig næringsdrivende. Ble søker yrkesaktiv i løpet av de siste tre årene?","AvklarAktivitetPanel.Overskrift":"Aktiviteter i beregningsgrunnlaget","AvklarAktivitetPanel.ButtonText":"Oppdater","AvklarAktivitetPanel.OverstyrText":"Overstyr","AvklareAktiviteter.Avbryt":"Avbryt","VurderAktiviteterTabell.FullAAPKombinert.Overskrift":"Søker har full AAP (200%) sammen med andre aktiviteter. Skjæringstidspunkt for beregning {skjaeringstidspunkt}","VurderAktiviteterTabell.VentelonnVartpenger.Overskrift":"Søker har ventelønn eller vartpenger som siste aktivitet. Skjæringstidspunkt for beregning {skjaeringstidspunkt}","VurderAktiviteterTabell.Overstyrt.Overskrift":"Skjæringstidspunkt for beregning {skjaeringstidspunkt}","BeregningInfoPanel.VurderOgFastsettATFL.ErSokerNyoppstartetFL":"Startet søker som frilanser i løpet av de siste tre månedene?","BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrgUtenIM":"Søker er arbeidstaker og frilanser i samme virksomhet og det er ikke mottatt inntektsmelding(er).","BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrg":"Søker er arbeidstaker og frilanser i samme virksomhet.","BeregningInfoPanel.VurderOgFastsettATFL.FastsettFrilans":"Fastsett frilansinntekt","BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLAlleOppdrag":"Fastsett arbeidsinntekt og samlet frilansinntekt for alle oppdrag.","BeregningInfoPanel.VurderOgFastsettATFL.FastsettArbeidsinntekt":"Fastsett arbeidsinntekt","BeregningInfoPanel.VurderOgFastsettATFL.HarSokerEndring":"Har søker hatt lønnsendring i løpet av de siste tre månedene?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilansUtenFrilans":"Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for frilansaktiviteten?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilans":"Søker er frilanser. Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for frilansaktiviteten?","BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForArbeid":"Søker er arbeidstaker og det er ikke mottatt inntektsmelding. Mottar søker sykepenger, foreldrepenger, pleiepenger eller svangerskapspenger for arbeid i {arbeid}?","BeregningInfoPanel.VurderBestebergning.HarBesteberegning":"Søker har hatt dagpenger i opptjeningsperioden. Skal dette fordeles etter besteberegning?","InntektstabellPanel.Avbryt":"Avbryt overstyring","BeregningInfoPanel.FordelingBG.LeggTilAndel":"Legg til aktivitet","BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet":"Finn regneark på navet","BeregningInfoPanel.FordelingBG.Sum":"Sum","BeregningInfoPanel.FordelingBG.Andel":"Aktivitet","BeregningInfoPanel.FordelingBG.Arbeidsperiode":"Arbeidsperiode","BeregningInfoPanel.FordelingBG.Refusjonskrav":"Refusjonskrav","BeregningInfoPanel.FordelingBG.Fordeling":"Månedsinntekt","BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn":"Månedsinntekt for {andel}","BeregningInfoPanel.FordelingBG.InntektskategoriMedAndelnavn":"Inntektskategori for {andel}","BeregningInfoPanel.FordelingBG.Inntektskategori":"Inntektskategori","BeregningInfoPanel.FordelingBG.LeggTilDagpengerAndel":"Legg til dagpenger","BeregningInfoPanel.FordelingBG.FjernDagpenger":"Fjern dagpenger","BeregningInfoPanel.FordelingBG.Ytelse":"Ytelse","BeregningInfoPanel.FordelingBG.FjernAndel":"Fjern aktivitet","AvklareAktiviteter.OverstyrerAktivitetAdvarsel":"Overstyr hvilke aktiviteter og eventuelle inntektsmeldinger som skal benyttes i beregning.","VurderAktiviteterTabell.Header.Aktivitet":"Aktivitet","VurderAktiviteterTabell.Header.Periode":"Periode","VurderAktiviteterTabell.Header.Benytt":"Benytt","VurderAktiviteterTabell.Header.IkkeBenytt":"Ikke benytt","VurderAktiviteterTabell.Validation.MåHaMinstEnAktivitet":"Må ha minst én aktivitet for å kunne fastsette beregningsgrunnlag","BeregningInfoPanel.AksjonspunktHelpText.VurderAktiviteter":"Vurder hvilke aktiviteter som skal benyttes i beregningsgrunnlaget.","BeregningInfoPanel.KunstigArbeidsforhold.FastsettKunstigArbeidsforhold":"Det finnes ikke registerdata for arbeidsforholdet og det er ikke mottatt inntektsmelding. Fastsett månedsinntekt for arbeidsforholdet","KunYtelsePanel.Overskrift":"Søker har ytelse som eneste inntekt. Fastsett månedsbeløp for fordeling av beregningsgrunnlaget.","KunYtelsePanel.HarBesteberegning":"Søker har ytelse som eneste inntekt. Skal denne fordeles etter besteberegning?","KunYtelsePanel.OverskriftBesteberegning":"Fastsett månedsbeløp for brutto beregningsgrunnlag etter besteberegning","BeregningInfoPanel.FordelBG.Validation.UlikeAndeler":"Andeler for samme aktivitet må ha ulik inntektskategori","InntektstabellPanel.RapporterteInntekter":"Rapporterte inntekter","BeregningInfoPanel.EtterlønnSluttpakke.HarSøkerInntekt":"Har søker etterlønn eller sluttpakke?","BeregningInfoPanel.VurderMilitaer.HarSøkerMilitærinntekt":"Har søker vært i militær- eller sivilforsvarstjeneste i opptjeningsperioden?","VurderRefusjonForm.ErRefusjonskravGyldig":"{arbeidsgiverVisningsnavn} har minst ett refusjonskrav som har kommet for sent. Skal refusjonskrav som ikke har kommet innen fristen tas med i beregning?","BeregningInfoPanel.Validation.MinstEnFastsatt":"Må ha overstyrt inntekt for minst én aktivitet.","FaktaBegrunnelseTextField.BegrunnEndringene":"Begrunn endringene","SubmitButton.ConfirmInformation":"Bekreft og fortsett"},ux="_tabsContainer_1ojru_1",kx={tabsContainer:ux},dt="avklarAktiviteterForm",mn="vurderFaktaBeregningForm",rn=(e,n)=>n.some(r=>r.definisjon===e),mx=e=>e===na.OPPRETTET,fx="_begrunnelseTextField_1wq9u_1",cx="_explanationTextarea_1wq9u_4",px="_explanationTextareaReadOnly_1wq9u_7",Ji={begrunnelseTextField:fx,explanationTextarea:cx,explanationTextareaReadOnly:px},Pl=Ge(fa),vx=cn(3),hx=pn(1500),tr=({isReadOnly:e,isSubmittable:n,hasBegrunnelse:r,label:t,hasVurderingText:i,name:s})=>{const l=i?"FaktaBegrunnelseTextField.Vurdering":"FaktaBegrunnelseTextField.BegrunnEndringene",d=t||Pl.formatMessage({id:l});return p.jsx(Ze,{value:Pl,children:(n||r)&&p.jsx("div",{className:Ji.begrunnelseTextField,children:p.jsx(Xe,{name:s,label:e?"":d,validate:e?[]:[X,vx,hx,fn],className:e?Ji.explanationTextareaReadOnly:Ji.explanationTextarea,maxLength:1500,readOnly:e})})})};tr.defaultProps={name:"begrunnelse",hasVurderingText:!1};tr.buildInitialValues=(e,n="begrunnelse")=>({[n]:Cs(e)});tr.transformValues=(e,n="begrunnelse")=>({begrunnelse:e[n]});const bx=Ge(fa),jx=(e,n,r,t)=>!e&&!r||n?!0:t===void 0?!e:!e&&t||t,Tg=({isReadOnly:e,isSubmittable:n,isSubmitting:r,isDirty:t,text:i,onClick:s,hasEmptyRequiredFields:l,isDisabled:d})=>e?null:p.jsx(ne,{size:"small",loading:r,disabled:jx(t,r,n,l)||!!d,onClick:s||Ws,type:s?"button":"submit",children:i||bx.formatMessage({id:"SubmitButton.ConfirmInformation"})}),{AVKLAR_AKTIVITETER:ui,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Rl}=Ae,xx=(e,n)=>n.some(r=>r.definisjon===e&&r.kanLoses),Ax=(e,n,r)=>(e||xx(ui,n))&&r,ca=e=>{var n;return e.some(r=>r.definisjon===Rl||r.definisjon===ui)?(n=e.find(r=>r.definisjon===Rl||r.definisjon===ui))==null?void 0:n.begrunnelse:void 0},Ix=(e,n)=>rn(ui,e)||n,Tx=(e,n,r)=>e&&n&&!r,Ex="_avsnittOverskrift_h44z2_1",_x={avsnittOverskrift:Ex},qi=e=>e?`...${e.substring(e.length-4,e.length)}`:"",Or=(e,n)=>e.erPrivatPerson?e.fødselsdato?`${e.navn} (${T(e.fødselsdato).format(ie)})${qi(n)}`:`${e.navn}${qi(n)}`:`${e.navn} (${e.identifikator})${qi(n)}`,Sx=(e,n)=>e.arbeidsforholdId?n+e.arbeidsforholdId:n,Ol=(e,n)=>e+n.fom.replace(".",""),qe=e=>{if(e.arbeidsgiverIdent){const n=Sx(e,e.arbeidsgiverIdent);return Ol(n,e)}return Ol(e.arbeidsforholdType,e)},yx=(e,n)=>e||n,qt=(e,n,r,t,i)=>!n&&!r||e.arbeidsforholdType&&e.arbeidsforholdType===Ar.AAP?!1:n?yx(t,i):!0,Nx=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?n[e.arbeidsgiverIdent]:void 0;return i?Or(i,e.eksternArbeidsforholdId):e.arbeidsforholdType&&((t=r[Ee.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn)||""},Px=(e,n)=>T(e).isSame(T(n))||T(e).isBefore(T(n)),Rx=(e,n,r,t)=>qt(e,n,r,t,!1)?e.skalBrukes===void 0||e.skalBrukes===null?void 0:e.skalBrukes.toString():e.skalBrukes===!0||e.skalBrukes===null||e.skalBrukes===void 0?"true":"false",Ox=(e,n,r,t,i,s)=>({beregningAktivitetNavn:Nx(e,s,n),fom:e.fom,tom:e.tom,skalBrukes:Rx(e,r,t,i)}),Bx=(e,n,r,t)=>{const i=Px(r,t);return n.filter(s=>e.aktiviteterValues&&(e.aktiviteterValues[qe(s)].skalBrukes==="false"||e.aktiviteterValues[qe(s)].tom!=null)).map(s=>({oppdragsgiverOrg:s.arbeidsgiverIdent&&s.arbeidsgiverIdent.length===9?s.arbeidsgiverIdent:void 0,arbeidsforholdRef:s.arbeidsforholdId,fom:s.fom,tom:e.aktiviteterValues&&e.aktiviteterValues[qe(s)].tom!=null?e.aktiviteterValues[qe(s)].tom:s.tom,opptjeningAktivitetType:s.arbeidsforholdType,arbeidsgiverIdentifikator:s.arbeidsgiverIdent,skalBrukes:i&&e.aktiviteterValues?e.aktiviteterValues[qe(s)].skalBrukes==="true":!0}))},Fx=(e,n,r,t,i,s)=>{const l={};return e&&e.forEach(d=>{l[qe(d)]=Ox(d,n,r,t,i,s)}),l},$x="_radios_bl769_1",Dx="_navnKol_bl769_13",Vt={radios:$x,navnKol:Dx},Vx=(e,n)=>T(e).isSame(T(n))||T(e).isBefore(T(n)),Bl=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?n[e.arbeidsgiverIdent]:void 0;return i?Or(i,e.eksternArbeidsforholdId):e.arbeidsforholdType&&((t=r[Ee.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn)||""},Gx=({readOnly:e,isAvklaringsbehovClosed:n,aktivitet:r,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:l,valgtSkjæringstidspunkt:d,ingenAktiviterErBrukt:o,arbeidsgiverOpplysningerPerId:u,fieldId:k})=>{const c=Q(),h=Vx(d,l),b=A=>{const _=Bl(r,u,t),P=`${qa(r.fom)} til ${qa(r.tom||"")}`;return`${A?"Benytt":"Ikke benytt"} ${_} ${P}`};return p.jsxs(Le,{children:[p.jsx(w,{className:Vt.navnKol,children:p.jsx(I,{children:Bl(r,u,t)})}),p.jsxs(w,{className:Vt.rowalign,children:[!i&&p.jsx(I,{children:p.jsx(Ue,{dateStringFom:r.fom,dateStringTom:r.tom})}),i&&p.jsxs("div",{children:[p.jsx(Re,{dateString:r.fom})," -"," ",p.jsx(Wn,{name:`avklarAktiviteterForm.${k}.aktiviteterValues.${qe(r)}.tom`,validate:[X,$n],isReadOnly:e})]})]}),p.jsx(w,{className:Vt.radios,children:p.jsx(Ie,{name:`avklarAktiviteterForm.${k}.aktiviteterValues.${qe(r)}.skalBrukes`,label:c.formatMessage({id:"VurderAktiviteterTabell.Header.Benytt"}),validate:[X],isHorizontal:!0,isReadOnly:e||!qt(r,i,s,h,o),radios:[{value:"true",label:b(!0)}],hideLegend:!0,hideRadioLabels:!0})}),p.jsx(w,{className:Vt.radios,children:p.jsx(Ie,{name:`avklarAktiviteterForm.${k}.aktiviteterValues.${qe(r)}.skalBrukes`,label:c.formatMessage({id:"VurderAktiviteterTabell.Header.IkkeBenytt"}),validate:[X],isHorizontal:!0,isReadOnly:e||!qt(r,i,s,h,o),radios:[{value:"false",label:b(!1)}],hideLegend:!0,hideRadioLabels:!0})}),n&&e&&p.jsx(w,{children:qt(r,i,s,h,o)&&p.jsx(Ai,{})})]},qe(r))},Lx=(e,n,r)=>{const t=$n(r)?"":T(r).format(ie);if(n)return p.jsx(m,{id:"VurderAktiviteterTabell.Overstyrt.Overskrift",values:{skjaeringstidspunkt:t}});const i=e.some(l=>l.arbeidsforholdType&&l.arbeidsforholdType===Ar.AAP),s=e.some(l=>l.arbeidsforholdType&&l.arbeidsforholdType===Ar.VENTELØNN_VARTPENGER);return i?p.jsx(m,{id:"VurderAktiviteterTabell.FullAAPKombinert.Overskrift",values:{skjaeringstidspunkt:t}}):s?p.jsx(m,{id:"VurderAktiviteterTabell.VentelonnVartpenger.Overskrift",values:{skjaeringstidspunkt:t}}):""},Mx=()=>["VurderAktiviteterTabell.Header.Aktivitet","VurderAktiviteterTabell.Header.Periode","VurderAktiviteterTabell.Header.Benytt","VurderAktiviteterTabell.Header.IkkeBenytt"],Kx=({readOnly:e,isAvklaringsbehovClosed:n,aktiviteter:r,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:l,valgtSkjæringstidspunkt:d,ingenAktiviterErBrukt:o,arbeidsgiverOpplysningerPerId:u,fieldId:k})=>p.jsxs(p.Fragment,{children:[p.jsx(V,{size:"small",children:Lx(r,i,l)}),p.jsx(We,{headerTextCodes:Mx(),noHover:!0,children:r.map(c=>p.jsx(Gx,{aktivitet:c,readOnly:e,isAvklaringsbehovClosed:n,kodeverkSamling:t,erOverstyrt:i,harAvklaringsbehov:s,tomDatoForAktivitetGruppe:l,valgtSkjæringstidspunkt:d,ingenAktiviterErBrukt:o,arbeidsgiverOpplysningerPerId:u,fieldId:k},`${c.arbeidsgiverIdent}-${c.fom}-${c.tom}`))})]}),As=(e,n)=>!!e.aktiviteter&&e.aktiviteter.find(r=>{const t=qe(r);return n.aktiviteterValues&&n.aktiviteterValues[t]?n.aktiviteterValues[t].skalBrukes!=="false":r.skalBrukes})!==void 0,wx=(e,n)=>{let r=0;for(;r<e.length&&T(n).isBefore(e[r].tom===void 0?null:e[r].tom);)r+=1;return r},Fl=(e,n,r)=>{const t=e.find(({tom:i})=>i===r);if(t===void 0){const i={tom:r,aktiviteter:[n]},s=wx(e,r);e.splice(s,0,i)}else{if(!t.aktiviteter)throw new Error(`Forventer å ha aktiviteter på tom ${t.tom}`);t.aktiviteter.push(n)}},Ux=e=>{var n;return!!((n=e.avklarAktiviteter)!=null&&n.aktiviteterTomDatoMapping)&&e.avklarAktiviteter.aktiviteterTomDatoMapping.some(r=>r.aktiviteter&&!r.aktiviteter.some(t=>!T(t.tom).isValid()))},Cx=e=>{var n;const r=e.avklarAktiviteter?e.avklarAktiviteter.aktiviteterTomDatoMapping||[]:[],t=[],i=(n=e.avklarAktiviteter)==null?void 0:n.skjæringstidspunkt;if(!i)throw new Error("Forventer skjæringstidspunkt for opptjening her!");return r.flatMap(({aktiviteter:s})=>s).forEach(s=>{if(!s)throw new Error("Må ha aktivitet i form values her!");const l={...s},d=e.aktiviteterValues?e.aktiviteterValues[qe(s)].tom:void 0;d&&d!==l.tom&&(l.tom=d),T(d).isSame(T(i).subtract(1,"days"))||T(d).isAfter(T(i).subtract(1,"days"))?Fl(t,l,i):Fl(t,l,T(d).add(1,"days").format("YYYY-MM-DD"))}),t},pa=(e,n,r)=>{const t=n&&!Ux(n)?Cx(n):e;return r?t:!n||As(t[0],n)||t.length===1?[t[0]]:[t[0],t[1]]},Eg=(e,n)=>{if(!(e===void 0||n===void 0))for(let r=0;r<n.length;r+=1){const t=n[r].aktiviteter||[];for(let i=0;i<t.length;i+=1){const s=e.aktiviteterValues?e.aktiviteterValues[qe(t[i])]:void 0;if((s==null?void 0:s.skalBrukes)==="true")return n[r].tom}}},ir=({readOnly:e,isAvklaringsbehovClosed:n,values:r,aktiviteterTomDatoMapping:t,erOverstyrt:i,harAvklaringsbehov:s,kodeverkSamling:l,arbeidsgiverOpplysningerPerId:d,fieldId:o})=>{const u=pa(t,r,i),k=Eg(r,u);return p.jsx(p.Fragment,{children:u.map(c=>p.jsx(Kx,{readOnly:e,isAvklaringsbehovClosed:n,aktiviteter:c.aktiviteter||[],erOverstyrt:i,harAvklaringsbehov:s,kodeverkSamling:l,tomDatoForAktivitetGruppe:c.tom,valgtSkjæringstidspunkt:k,ingenAktiviterErBrukt:k===void 0,arbeidsgiverOpplysningerPerId:d,fieldId:o},c.tom))})};ir.harIngenAktiviteter=(e,n,r)=>{const t=pa(n,e,r);return As(t[0],e)?!1:t.length>1&&t[1].aktiviteter&&t[1].aktiviteter.length>0?!As(t[1],e):!0};const zx=(e,n)=>T(e).isSame(T(n))||T(e).isBefore(T(n));ir.transformValues=(e,n,r)=>{const t=pa(n,e,r),i=Eg(e,t);if(!i)throw new Error("Finner ikke forventet skjæringstidspunkt, ugyldig tilstand");return t.flatMap(s=>Bx(e,s.aktiviteter||[],i,s.tom))};const Yx=e=>{if(e!==void 0)for(let n=0;n<e.length;n+=1){const r=e[n].aktiviteter||[];for(let t=0;t<r.length;t+=1)if(r[t].skalBrukes===!0||r[t].skalBrukes===null||r[t].skalBrukes===void 0)return e[n].tom}};ir.buildInitialValues=(e,n,r,t,i)=>{if(!e||e.length===0)return{};let s={};const l=Yx(e);return e.forEach(d=>{s={...s,...Fx(d.aktiviteter||[],n,r,t,zx(l,d.tom),i)}}),s};const{AVKLAR_AKTIVITETER:Zt,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:_g}=Ae,va="begrunnelseAvklareAktiviteter",Sg="manuellOverstyringBeregningAktiviteter",Hx=(e,n,r,t,i)=>{const s=rn(Zt,e),l=rn(_g,e),d=ca(e);let o;return n&&n.aktiviteterTomDatoMapping&&(o=ir.buildInitialValues(n.aktiviteterTomDatoMapping,r,l,s,t)),{[Sg]:l,periode:i.periode,erTilVurdering:i.vurderesIBehandlingen&&!i.erForlengelse,avklaringsbehov:e,avklarAktiviteter:n,aktiviteterValues:o,...tr.buildInitialValues(d,va)}},$l=e=>{const n=e[Sg],r=Ax(!!n,e.avklaringsbehov||[],e.erTilVurdering),{avklarAktiviteter:t}=e;return r?{beregningsaktivitetLagreDtoList:ir.transformValues(e,(t==null?void 0:t.aktiviteterTomDatoMapping)||[],!!n),periode:e.periode,begrunnelse:e[va]}:null},Jx=(e,n,r,t,i)=>{if(!(r.length<1)&&ir.harIngenAktiviteter(e(`avklarAktiviteterForm.${n}`),r,t))return i.formatMessage({id:"VurderAktiviteterTabell.Validation.MåHaMinstEnAktivitet"})},qx=({avklarAktiviteter:e,avklaringsbehov:n,erOverstyrer:r,readOnly:t,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:s,submittable:l,fieldId:d,updateOverstyring:o,submitDisabled:u})=>{var k,c;const h=Q(),{resetField:b,watch:A,getValues:_,formState:{isSubmitting:P,errors:S,dirtyFields:F}}=_e(),N=Object.keys(F).length>0,D=rn(_g,n),$=!!_(`avklarAktiviteterForm.${d}`).manuellOverstyringBeregningAktiviteter,[M,C]=j.useState(D||$),re=!!((c=(k=S.avklarAktiviteterForm)==null?void 0:k[d])!=null&&c.begrunnelseAvklareAktiviteter),te=H=>{H?C(!M):!H&&M&&C(!1),b(`avklarAktiviteterForm.${d}`,{keepDirty:!1}),b(`vurderAktiviteterSkjema.${d}`,{keepDirty:!1}),o(d,H)},q=n.filter(H=>H.definisjon===Ae.AVKLAR_AKTIVITETER||H.definisjon===Ae.OVERSTYRING_AV_BEREGNINGSAKTIVITETER).filter(H=>mx(H.status)).length===0,J=Jx(A,d,e.aktiviteterTomDatoMapping||[],$,h),U=`vurderAktiviteterSkjema.${d}`,Y=Ei(U,J);return!e.aktiviteterTomDatoMapping||e.aktiviteterTomDatoMapping.length<1?null:p.jsxs(p.Fragment,{children:[p.jsx(se,{children:p.jsxs(y,{children:[p.jsx(v,{children:p.jsx(V,{size:"small",className:_x.avsnittOverskrift,"data-testid":"avklareAktiviteterHeading",children:p.jsx(m,{id:"AvklarAktivitetPanel.Overskrift"})})}),(r||D)&&p.jsx(v,{children:p.jsx(Ys,{onClick:()=>te(!0),erOverstyrt:M})})]})}),p.jsx(x,{sixteenPx:!0}),rn(Zt,n)&&!q&&p.jsx(ut,{children:[p.jsx(m,{id:"BeregningInfoPanel.AksjonspunktHelpText.VurderAktiviteter"},"VurderFaktaForBeregningen")]}),M&&p.jsx(V,{size:"small",children:p.jsx(m,{id:"AvklareAktiviteter.OverstyrerAktivitetAdvarsel"})}),p.jsx(x,{twentyPx:!0}),e&&e.aktiviteterTomDatoMapping&&p.jsxs("div",{children:[p.jsx(ir,{aktiviteterTomDatoMapping:e.aktiviteterTomDatoMapping,readOnly:t,isAvklaringsbehovClosed:q,erOverstyrt:M,kodeverkSamling:i,values:A(`avklarAktiviteterForm.${d}`),harAvklaringsbehov:rn(Zt,n),arbeidsgiverOpplysningerPerId:s,fieldId:d}),Y&&p.jsx(lt,{children:Y})]}),p.jsx(x,{twentyPx:!0}),Ix(n,M)&&p.jsxs(p.Fragment,{children:[p.jsx(tr,{name:`avklarAktiviteterForm.${d}.${va}`,isSubmittable:l,isReadOnly:t,hasBegrunnelse:ca(n)!==null}),(rn(Zt,n)||M)&&p.jsxs(p.Fragment,{children:[p.jsx(x,{twentyPx:!0}),p.jsx(se,{children:p.jsxs(y,{children:[p.jsx(v,{children:p.jsx(Tg,{text:h.formatMessage({id:M?"AvklarAktivitetPanel.OverstyrText":"AvklarAktivitetPanel.ButtonText"}),isSubmittable:Tx(l,!0,re),isDirty:N,isSubmitting:u,isReadOnly:t||q&&!N,hasEmptyRequiredFields:re})}),!!F&&N&&p.jsx(v,{children:p.jsx(ne,{variant:"secondary",loading:P,disabled:P,onClick:()=>te(!1),size:"small",children:p.jsx(m,{id:"AvklareAktiviteter.Avbryt"})})})]})})]})]})]})},{OVERSTYRING_AV_BEREGNINGSAKTIVITETER:yg,AVKLAR_AKTIVITETER:Ng}=Ae,Dl="manuellOverstyringBeregningAktiviteter",Zx=(e,n)=>{const r=e.perioder.find(({periode:t})=>t.fom===n);if(!r)throw new Error(`Finner ikke vilkårsperiode med fom ${n}`);return r},Wx=(e,n)=>!rn(Ng,e)&&!rn(yg,e)&&!n,Xx=e=>{const n=e[dt],r=n.filter(s=>s[Dl]).map($l).filter(s=>s),t=n.filter(s=>!s[Dl]).map($l).filter(s=>s),i=[];if(r.length>0){const s=r.map(({begrunnelse:d})=>d).reduce((d,o)=>d===""?o:`${d} ${o}`,""),l={kode:yg,begrunnelse:s,grunnlag:r};i.push(l)}if(t.length>0){const s=t.map(({begrunnelse:d})=>d).reduce((d,o)=>d===""?o:`${d} ${o}`,""),l={kode:Ng,begrunnelse:s,grunnlag:t};i.push(l)}return i},Qx=(e,n,r,t)=>({[dt]:e.map(i=>{var s;return Hx(i.avklaringsbehov,(s=i.faktaOmBeregning)==null?void 0:s.avklarAktiviteter,n,r,Zx(t,i.vilkårsperiodeFom))})}),eA=(e,n)=>{var r;const t=(r=e[n].faktaOmBeregning)==null?void 0:r.avklarAktiviteter;if(!t)throw new Error("Mangler aktivteter å populere skjema med!");return t},nA=({harAndreAvklaringsbehovIPanel:e,erOverstyrer:n,readOnly:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,submittable:s,submitCallback:l,beregningsgrunnlag:d,aktivtBeregningsgrunnlagIndeks:o,vilkår:u,setFormData:k,formData:c,setAvklarAktiviteterErEndret:h})=>{const b=ze({defaultValues:c||Qx(d,t,i,u)}),{formState:{dirtyFields:A,errors:_,isSubmitted:P},control:S,getValues:F,trigger:N,setValue:D}=b;j.useEffect(()=>{var J;(J=A.avklarAktiviteterForm)!=null&&J.some(U=>!!U)?h(!0):h(!1)},[A]),j.useEffect(()=>{var J;P&&(J=A.avklarAktiviteterForm)!=null&&J[o]&&N()},[o]);const $=d.flatMap(J=>J.avklaringsbehov),{fields:M}=an({name:dt,control:S}),[C,re]=j.useState(!1),te=(J,U)=>{const Y=F(`avklarAktiviteterForm.${J}`);D(`${dt}.${J}`,{...Y,manuellOverstyringBeregningAktiviteter:U},{shouldDirty:!0})};if(Wx($,n))return null;const q=J=>{Object.keys(_).length===0&&(re(!0),l(Xx(J)))};return p.jsxs(p.Fragment,{children:[p.jsx(Ye,{formMethods:b,onSubmit:J=>q(J),setDataOnUnmount:k,children:M.map((J,U)=>o===U&&p.jsx(qx,{aktivtBeregningsgrunnlagIndeks:o,fieldId:U,avklarAktiviteter:eA(d,U),avklaringsbehov:d[U].avklaringsbehov,erOverstyrer:n,readOnly:r,submittable:s,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,updateOverstyring:te,submitDisabled:C},J.id))}),e&&p.jsx(x,{twentyPx:!0})]})},rA="_navetLink_15r5n_1",tA="_flexColumn12_15r5n_12",iA="_flexColumn9_15r5n_15",sA="_flexColumn3_15r5n_18",Cn={navetLink:rA,flexColumn12:tA,flexColumn9:iA,flexColumn3:sA},bn=e=>e==="true",Pg=W.createContext(null),Pe=W.createContext(0),Rg=W.createContext(0),Qn="vurderbesteberegningField",{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:aA}=Ae,ht=({readOnly:e,erOverstyrt:n})=>{const r=W.useContext(Pe),t=Q(),i=e||n;return p.jsx("div",{children:p.jsxs(y,{children:[p.jsx(v,{className:Cn.flexColumn9,children:p.jsx(Ie,{label:p.jsx(I,{children:p.jsx(m,{id:"BeregningInfoPanel.VurderBestebergning.HarBesteberegning"})}),name:`vurderFaktaBeregningForm.${r}.${Qn}`,isReadOnly:i,validate:i?[]:[X],radios:[{value:"true",label:t.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:t.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:bn,isHorizontal:!0})}),p.jsx(v,{className:Cn.flexColumn3,children:p.jsx("a",{className:Cn.navetLink,href:Ag,target:"_blank",rel:"noopener noreferrer",children:p.jsx(m,{id:"BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet"})})})]})})};ht.buildInitialValues=(e,n,r,t)=>r.includes(Z.VURDER_BESTEBEREGNING)||r.includes(Z.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE)?n?e.find(i=>i.definisjon===aA)!==void 0||t?{[Qn]:!1}:{[Qn]:n.skalHaBesteberegning}:{}:{};ht.transformValues=(e,n,r)=>{if(!n||!n.vurderBesteberegning)return{};if(!e[Qn]||!r)return{besteberegningAndeler:{besteberegningAndelListe:[]}};const t=r.filter(({nyAndel:s})=>s!==!0).map(s=>({andelsnr:s.andelsnr,nyAndel:s.nyAndel,lagtTilAvSaksbehandler:s.lagtTilAvSaksbehandler,fastsatteVerdier:{fastsattBeløp:s.fastsattBelop,inntektskategori:s.inntektskategori}})),i=r.find(s=>s.nyAndel&&s.aktivitetStatus===B.DAGPENGER);return{besteberegningAndeler:{besteberegningAndelListe:t,nyDagpengeAndel:i?{fastsatteVerdier:{fastsattBeløp:i.fastsattBelop,inntektskategori:i.inntektskategori}}:null}}};const lA=e=>(n,r)=>{const t=e.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller:[];if(!(t.map(l=>l).includes(Z.VURDER_BESTEBEREGNING)||t.map(l=>l).includes(Z.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE)))return{};const i=ht.transformValues(n,e,r),s=[Z.VURDER_BESTEBEREGNING];return i.besteberegningAndeler.besteberegningAndelListe.length>0&&s.push(Z.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE),{faktaOmBeregningTilfeller:s,...i}},dA="_fadeinTabell_1d8wy_1",oA="_fadein_1d8wy_1",gA="_rightAligned_1d8wy_10",uA="_avsnittOverskrift_1d8wy_13",Vl={fadeinTabell:dA,fadein:oA,rightAligned:gA,avsnittOverskrift:uA},Ir="manuellOverstyringRapportertInntekt",{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:kA,AVKLAR_AKTIVITETER:mA}=Ae,fA=(e,n)=>n.some(r=>r.definisjon===e),cA=(e,n)=>e&&!n.some(r=>r.definisjon===mA&&hn(r.status)),Ri=({tabell:e,hjelpeTekstId:n,children:r,skalViseTabell:t,readOnly:i,avklaringsbehov:s,updateOverstyring:l,erOverstyrer:d,erOverstyrt:o})=>{const[u,k]=j.useState(o),c=W.useContext(Pe),h=j.useMemo(()=>cA(d,s),[d,s]),b=()=>{k(!u),l(c,!u)};return p.jsxs(p.Fragment,{children:[r,p.jsxs("div",{className:Vl.fadeinTabell,children:[p.jsx(x,{sixteenPx:!0}),t&&p.jsxs(p.Fragment,{children:[p.jsx(se,{children:p.jsxs(y,{children:[p.jsx(v,{children:p.jsx(V,{size:"small",className:Vl.avsnittOverskrift,children:p.jsx(m,{id:"InntektstabellPanel.RapporterteInntekter"})})}),(h||u)&&p.jsx(v,{children:p.jsx(Ys,{onClick:b,erOverstyrt:i||u||fA(kA,s)})})]})}),p.jsx(x,{sixteenPx:!0}),n&&p.jsx(V,{size:"small",children:p.jsx(m,{id:n})}),e,u&&!i&&p.jsx(ne,{size:"small",onClick:b,variant:"secondary",children:p.jsx(m,{id:"InntektstabellPanel.Avbryt"})})]})]})]})};Ri.buildInitialValues=e=>({[Ir]:e});Ri.defaultProps={hjelpeTekstId:void 0,skalViseTabell:!0};const Og=(e,n,r)=>r?!1:n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.filter(t=>t.aktivitetStatus===B.ARBEIDSTAKER).filter(t=>t.arbeidsforhold&&t.arbeidsforhold.arbeidsgiverIdent===e.arbeidsgiverId).filter(t=>t.arbeidsforhold&&t.arbeidsforhold.arbeidsforholdId).length>0,Oi="lonnsendringField",bt=({readOnly:e})=>{const n=W.useContext(Pe),r=Q();return p.jsx("div",{children:p.jsx(Ie,{label:p.jsx(I,{children:p.jsx(m,{id:"BeregningInfoPanel.VurderOgFastsettATFL.HarSokerEndring"})}),name:`vurderFaktaBeregningForm.${n}.lonnsendringField`,isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[X],parse:bn,isHorizontal:!0})})},pA=e=>{const n=e.find(t=>t.lonnsendringIBeregningsperioden===!0)!==void 0,r=e.find(t=>t.lonnsendringIBeregningsperioden===!1)!==void 0;return n||(r?!1:void 0)};bt.buildInitialValues=e=>{const n={};if(!e||!e.beregningsgrunnlagPeriode)return n;const r=e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel;if(!r||r.length<1)return n;const t=r.filter(i=>i.aktivitetStatus===B.ARBEIDSTAKER);return!t||t.length<1||(n[Oi]=pA(t)),n};const vA=(e,n,r)=>r[Oi]&&!!n.arbeidsforholdMedLønnsendringUtenIM&&n.arbeidsforholdMedLønnsendringUtenIM.find(t=>t.andelsnr===e.andelsnr)!==void 0;bt.transformValues=(e,n)=>(n.faktaOmBeregningTilfeller?n.faktaOmBeregningTilfeller:[]).map(r=>r).includes(Z.VURDER_LONNSENDRING)?{faktaOmBeregningTilfeller:[Z.VURDER_LONNSENDRING],vurdertLonnsendring:{erLønnsendringIBeregningsperioden:e[Oi]}}:{};const zn="NyoppstartetFLField",jt=({readOnly:e})=>{const n=W.useContext(Pe),r=Q();return p.jsx("div",{children:p.jsx(Ie,{label:p.jsx(I,{children:p.jsx(m,{id:"BeregningInfoPanel.VurderOgFastsettATFL.ErSokerNyoppstartetFL"})}),name:`vurderFaktaBeregningForm.${n}.${zn}`,validate:[X],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:bn,isHorizontal:!0})})};jt.buildInitialValues=e=>{var n;const r={};if(e===void 0||e.beregningsgrunnlagPeriode===void 0)return r;const t=e.beregningsgrunnlagPeriode.map(i=>i.beregningsgrunnlagPrStatusOgAndel).flat().filter(i=>(i==null?void 0:i.aktivitetStatus)===B.FRILANSER);return t.length>0&&(r[zn]=(n=t[0])==null?void 0:n.erNyoppstartet),r};jt.transformValues=(e,n,r,t)=>{if(!(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).map(l=>l).includes(Z.VURDER_NYOPPSTARTET_FL))return{};if(!n||n.length===0)return{faktaOmBeregningTilfeller:[Z.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[zn]}};const i=n.find(l=>l.aktivitetStatus===B.FRILANSER);if(!i)return{faktaOmBeregningTilfeller:[Z.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[zn]}};if(t.includes(i.andelsnr))return{faktaOmBeregningTilfeller:[Z.VURDER_NYOPPSTARTET_FL],vurderNyoppstartetFL:{erNyoppstartetFL:e[zn]}};t.push(i.andelsnr);const s={fastsettMaanedsinntektFL:{maanedsinntekt:i.fastsattBelop}};return{faktaOmBeregningTilfeller:[Z.VURDER_NYOPPSTARTET_FL,Z.FASTSETT_MAANEDSINNTEKT_FL],...s,vurderNyoppstartetFL:{erNyoppstartetFL:e[zn]}}};var Gt=function(e){return e&&e.Math===Math&&e},jn=Gt(typeof globalThis=="object"&&globalThis)||Gt(typeof window=="object"&&window)||Gt(typeof self=="object"&&self)||Gt(typeof Hi=="object"&&Hi)||function(){return this}()||Hi||Function("return this")(),ha={},yn=function(e){try{return!!e()}catch{return!0}},hA=yn,Gn=!hA(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),bA=yn,ba=!bA(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),jA=ba,Lt=Function.prototype.call,ja=jA?Lt.bind(Lt):function(){return Lt.apply(Lt,arguments)},Bg={},Fg={}.propertyIsEnumerable,$g=Object.getOwnPropertyDescriptor,xA=$g&&!Fg.call({1:2},1);Bg.f=xA?function(e){var n=$g(this,e);return!!n&&n.enumerable}:Fg;var Dg=function(e,n){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:n}},Vg=ba,Gg=Function.prototype,Is=Gg.call,AA=Vg&&Gg.bind.bind(Is,Is),ln=Vg?AA:function(e){return function(){return Is.apply(e,arguments)}},Lg=ln,IA=Lg({}.toString),TA=Lg("".slice),Bi=function(e){return TA(IA(e),8,-1)},EA=ln,_A=yn,SA=Bi,Zi=Object,yA=EA("".split),NA=_A(function(){return!Zi("z").propertyIsEnumerable(0)})?function(e){return SA(e)==="String"?yA(e,""):Zi(e)}:Zi,Mg=function(e){return e==null},PA=Mg,RA=TypeError,Kg=function(e){if(PA(e))throw RA("Can't call method on "+e);return e},OA=NA,BA=Kg,Fi=function(e){return OA(BA(e))},Ts=typeof document=="object"&&document.all,FA=typeof Ts>"u"&&Ts!==void 0,wg={all:Ts,IS_HTMLDDA:FA},Ug=wg,$A=Ug.all,dn=Ug.IS_HTMLDDA?function(e){return typeof e=="function"||e===$A}:function(e){return typeof e=="function"},Gl=dn,Cg=wg,DA=Cg.all,Br=Cg.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:Gl(e)||e===DA}:function(e){return typeof e=="object"?e!==null:Gl(e)},Wi=jn,VA=dn,GA=function(e){return VA(e)?e:void 0},$i=function(e,n){return arguments.length<2?GA(Wi[e]):Wi[e]&&Wi[e][n]},LA=ln,MA=LA({}.isPrototypeOf),KA=typeof navigator<"u"&&String(navigator.userAgent)||"",zg=jn,Xi=KA,Ll=zg.process,Ml=zg.Deno,Kl=Ll&&Ll.versions||Ml&&Ml.version,wl=Kl&&Kl.v8,un,ki;wl&&(un=wl.split("."),ki=un[0]>0&&un[0]<4?1:+(un[0]+un[1]));!ki&&Xi&&(un=Xi.match(/Edge\/(\d+)/),(!un||un[1]>=74)&&(un=Xi.match(/Chrome\/(\d+)/),un&&(ki=+un[1])));var wA=ki,Ul=wA,UA=yn,CA=jn,zA=CA.String,Yg=!!Object.getOwnPropertySymbols&&!UA(function(){var e=Symbol("symbol detection");return!zA(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Ul&&Ul<41}),YA=Yg,Hg=YA&&!Symbol.sham&&typeof Symbol.iterator=="symbol",HA=$i,JA=dn,qA=MA,ZA=Hg,WA=Object,Jg=ZA?function(e){return typeof e=="symbol"}:function(e){var n=HA("Symbol");return JA(n)&&qA(n.prototype,WA(e))},XA=String,QA=function(e){try{return XA(e)}catch{return"Object"}},eI=dn,nI=QA,rI=TypeError,xa=function(e){if(eI(e))return e;throw rI(nI(e)+" is not a function")},tI=xa,iI=Mg,sI=function(e,n){var r=e[n];return iI(r)?void 0:tI(r)},Qi=ja,es=dn,ns=Br,aI=TypeError,lI=function(e,n){var r,t;if(n==="string"&&es(r=e.toString)&&!ns(t=Qi(r,e))||es(r=e.valueOf)&&!ns(t=Qi(r,e))||n!=="string"&&es(r=e.toString)&&!ns(t=Qi(r,e)))return t;throw aI("Can't convert object to primitive value")},qg={exports:{}},Cl=jn,dI=Object.defineProperty,Aa=function(e,n){try{dI(Cl,e,{value:n,configurable:!0,writable:!0})}catch{Cl[e]=n}return n},oI=jn,gI=Aa,zl="__core-js_shared__",uI=oI[zl]||gI(zl,{}),Ia=uI,Yl=Ia;(qg.exports=function(e,n){return Yl[e]||(Yl[e]=n!==void 0?n:{})})("versions",[]).push({version:"3.32.2",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"});var Zg=qg.exports,kI=Kg,mI=Object,Wg=function(e){return mI(kI(e))},fI=ln,cI=Wg,pI=fI({}.hasOwnProperty),sr=Object.hasOwn||function(e,n){return pI(cI(e),n)},vI=ln,hI=0,bI=Math.random(),jI=vI(1 .toString),Xg=function(e){return"Symbol("+(e===void 0?"":e)+")_"+jI(++hI+bI,36)},xI=jn,AI=Zg,Hl=sr,II=Xg,TI=Yg,EI=Hg,hr=xI.Symbol,rs=AI("wks"),_I=EI?hr.for||hr:hr&&hr.withoutSetter||II,xt=function(e){return Hl(rs,e)||(rs[e]=TI&&Hl(hr,e)?hr[e]:_I("Symbol."+e)),rs[e]},SI=ja,Jl=Br,ql=Jg,yI=sI,NI=lI,PI=xt,RI=TypeError,OI=PI("toPrimitive"),BI=function(e,n){if(!Jl(e)||ql(e))return e;var r=yI(e,OI),t;if(r){if(n===void 0&&(n="default"),t=SI(r,e,n),!Jl(t)||ql(t))return t;throw RI("Can't convert object to primitive value")}return n===void 0&&(n="number"),NI(e,n)},FI=BI,$I=Jg,Qg=function(e){var n=FI(e,"string");return $I(n)?n:n+""},DI=jn,Zl=Br,Es=DI.document,VI=Zl(Es)&&Zl(Es.createElement),eu=function(e){return VI?Es.createElement(e):{}},GI=Gn,LI=yn,MI=eu,nu=!GI&&!LI(function(){return Object.defineProperty(MI("div"),"a",{get:function(){return 7}}).a!==7}),KI=Gn,wI=ja,UI=Bg,CI=Dg,zI=Fi,YI=Qg,HI=sr,JI=nu,Wl=Object.getOwnPropertyDescriptor;ha.f=KI?Wl:function(e,n){if(e=zI(e),n=YI(n),JI)try{return Wl(e,n)}catch{}if(HI(e,n))return CI(!wI(UI.f,e,n),e[n])};var Fr={},qI=Gn,ZI=yn,ru=qI&&ZI(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),WI=Br,XI=String,QI=TypeError,Di=function(e){if(WI(e))return e;throw QI(XI(e)+" is not an object")},eT=Gn,nT=nu,rT=ru,Mt=Di,Xl=Qg,tT=TypeError,ts=Object.defineProperty,iT=Object.getOwnPropertyDescriptor,is="enumerable",ss="configurable",as="writable";Fr.f=eT?rT?function(e,n,r){if(Mt(e),n=Xl(n),Mt(r),typeof e=="function"&&n==="prototype"&&"value"in r&&as in r&&!r[as]){var t=iT(e,n);t&&t[as]&&(e[n]=r.value,r={configurable:ss in r?r[ss]:t[ss],enumerable:is in r?r[is]:t[is],writable:!1})}return ts(e,n,r)}:ts:function(e,n,r){if(Mt(e),n=Xl(n),Mt(r),nT)try{return ts(e,n,r)}catch{}if("get"in r||"set"in r)throw tT("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var sT=Gn,aT=Fr,lT=Dg,tu=sT?function(e,n,r){return aT.f(e,n,lT(1,r))}:function(e,n,r){return e[n]=r,e},iu={exports:{}},_s=Gn,dT=sr,su=Function.prototype,oT=_s&&Object.getOwnPropertyDescriptor,Ta=dT(su,"name"),gT=Ta&&(function(){}).name==="something",uT=Ta&&(!_s||_s&&oT(su,"name").configurable),kT={EXISTS:Ta,PROPER:gT,CONFIGURABLE:uT},mT=ln,fT=dn,Ss=Ia,cT=mT(Function.toString);fT(Ss.inspectSource)||(Ss.inspectSource=function(e){return cT(e)});var au=Ss.inspectSource,pT=jn,vT=dn,Ql=pT.WeakMap,hT=vT(Ql)&&/native code/.test(String(Ql)),bT=Zg,jT=Xg,ed=bT("keys"),lu=function(e){return ed[e]||(ed[e]=jT(e))},Ea={},xT=hT,du=jn,AT=Br,IT=tu,ls=sr,ds=Ia,TT=lu,ET=Ea,nd="Object already initialized",ys=du.TypeError,_T=du.WeakMap,mi,ot,fi,ST=function(e){return fi(e)?ot(e):mi(e,{})},yT=function(e){return function(n){var r;if(!AT(n)||(r=ot(n)).type!==e)throw ys("Incompatible receiver, "+e+" required");return r}};if(xT||ds.state){var xn=ds.state||(ds.state=new _T);xn.get=xn.get,xn.has=xn.has,xn.set=xn.set,mi=function(e,n){if(xn.has(e))throw ys(nd);return n.facade=e,xn.set(e,n),n},ot=function(e){return xn.get(e)||{}},fi=function(e){return xn.has(e)}}else{var gr=TT("state");ET[gr]=!0,mi=function(e,n){if(ls(e,gr))throw ys(nd);return n.facade=e,IT(e,gr,n),n},ot=function(e){return ls(e,gr)?e[gr]:{}},fi=function(e){return ls(e,gr)}}var NT={set:mi,get:ot,has:fi,enforce:ST,getterFor:yT},_a=ln,PT=yn,RT=dn,Kt=sr,Ns=Gn,OT=kT.CONFIGURABLE,BT=au,ou=NT,FT=ou.enforce,$T=ou.get,rd=String,Wt=Object.defineProperty,DT=_a("".slice),VT=_a("".replace),GT=_a([].join),LT=Ns&&!PT(function(){return Wt(function(){},"length",{value:8}).length!==8}),MT=String(String).split("String"),KT=iu.exports=function(e,n,r){DT(rd(n),0,7)==="Symbol("&&(n="["+VT(rd(n),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(n="get "+n),r&&r.setter&&(n="set "+n),(!Kt(e,"name")||OT&&e.name!==n)&&(Ns?Wt(e,"name",{value:n,configurable:!0}):e.name=n),LT&&r&&Kt(r,"arity")&&e.length!==r.arity&&Wt(e,"length",{value:r.arity});try{r&&Kt(r,"constructor")&&r.constructor?Ns&&Wt(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var t=FT(e);return Kt(t,"source")||(t.source=GT(MT,typeof n=="string"?n:"")),e};Function.prototype.toString=KT(function(){return RT(this)&&$T(this).source||BT(this)},"toString");var wT=iu.exports,UT=dn,CT=Fr,zT=wT,YT=Aa,HT=function(e,n,r,t){t||(t={});var i=t.enumerable,s=t.name!==void 0?t.name:n;if(UT(r)&&zT(r,s,t),t.global)i?e[n]=r:YT(n,r);else{try{t.unsafe?e[n]&&(i=!0):delete e[n]}catch{}i?e[n]=r:CT.f(e,n,{value:r,enumerable:!1,configurable:!t.nonConfigurable,writable:!t.nonWritable})}return e},gu={},JT=Math.ceil,qT=Math.floor,ZT=Math.trunc||function(e){var n=+e;return(n>0?qT:JT)(n)},WT=ZT,uu=function(e){var n=+e;return n!==n||n===0?0:WT(n)},XT=uu,QT=Math.max,eE=Math.min,nE=function(e,n){var r=XT(e);return r<0?QT(r+n,0):eE(r,n)},rE=uu,tE=Math.min,iE=function(e){return e>0?tE(rE(e),9007199254740991):0},sE=iE,Sa=function(e){return sE(e.length)},aE=Fi,lE=nE,dE=Sa,td=function(e){return function(n,r,t){var i=aE(n),s=dE(i),l=lE(t,s),d;if(e&&r!==r){for(;s>l;)if(d=i[l++],d!==d)return!0}else for(;s>l;l++)if((e||l in i)&&i[l]===r)return e||l||0;return!e&&-1}},oE={includes:td(!0),indexOf:td(!1)},gE=ln,os=sr,uE=Fi,kE=oE.indexOf,mE=Ea,id=gE([].push),ku=function(e,n){var r=uE(e),t=0,i=[],s;for(s in r)!os(mE,s)&&os(r,s)&&id(i,s);for(;n.length>t;)os(r,s=n[t++])&&(~kE(i,s)||id(i,s));return i},ya=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],fE=ku,cE=ya,pE=cE.concat("length","prototype");gu.f=Object.getOwnPropertyNames||function(e){return fE(e,pE)};var mu={};mu.f=Object.getOwnPropertySymbols;var vE=$i,hE=ln,bE=gu,jE=mu,xE=Di,AE=hE([].concat),IE=vE("Reflect","ownKeys")||function(e){var n=bE.f(xE(e)),r=jE.f;return r?AE(n,r(e)):n},sd=sr,TE=IE,EE=ha,_E=Fr,SE=function(e,n,r){for(var t=TE(n),i=_E.f,s=EE.f,l=0;l<t.length;l++){var d=t[l];!sd(e,d)&&!(r&&sd(r,d))&&i(e,d,s(n,d))}},yE=yn,NE=dn,PE=/#|\.prototype\./,At=function(e,n){var r=OE[RE(e)];return r===FE?!0:r===BE?!1:NE(n)?yE(n):!!n},RE=At.normalize=function(e){return String(e).replace(PE,".").toLowerCase()},OE=At.data={},BE=At.NATIVE="N",FE=At.POLYFILL="P",$E=At,gs=jn,DE=ha.f,VE=tu,GE=HT,LE=Aa,ME=SE,KE=$E,wE=function(e,n){var r=e.target,t=e.global,i=e.stat,s,l,d,o,u,k;if(t?l=gs:i?l=gs[r]||LE(r,{}):l=(gs[r]||{}).prototype,l)for(d in n){if(u=n[d],e.dontCallGetSet?(k=DE(l,d),o=k&&k.value):o=l[d],s=KE(t?d:r+(i?".":"#")+d,e.forced),!s&&o!==void 0){if(typeof u==typeof o)continue;ME(u,o)}(e.sham||o&&o.sham)&&VE(u,"sham",!0),GE(l,d,u,e)}},UE=Bi,fu=Array.isArray||function(e){return UE(e)==="Array"},CE=TypeError,zE=9007199254740991,YE=function(e){if(e>zE)throw CE("Maximum allowed index exceeded");return e},HE=Bi,JE=ln,qE=function(e){if(HE(e)==="Function")return JE(e)},ad=qE,ZE=xa,WE=ba,XE=ad(ad.bind),QE=function(e,n){return ZE(e),n===void 0?e:WE?XE(e,n):function(){return e.apply(n,arguments)}},e0=fu,n0=Sa,r0=YE,t0=QE,cu=function(e,n,r,t,i,s,l,d){for(var o=i,u=0,k=l?t0(l,d):!1,c,h;u<t;)u in r&&(c=k?k(r[u],u,n):r[u],s>0&&e0(c)?(h=n0(c),o=cu(e,n,c,h,o,s-1)-1):(r0(o+1),e[o]=c),o++),u++;return o},i0=cu,s0=xt,a0=s0("toStringTag"),pu={};pu[a0]="z";var l0=String(pu)==="[object z]",d0=l0,o0=dn,Xt=Bi,g0=xt,u0=g0("toStringTag"),k0=Object,m0=Xt(function(){return arguments}())==="Arguments",f0=function(e,n){try{return e[n]}catch{}},c0=d0?Xt:function(e){var n,r,t;return e===void 0?"Undefined":e===null?"Null":typeof(r=f0(n=k0(e),u0))=="string"?r:m0?Xt(n):(t=Xt(n))==="Object"&&o0(n.callee)?"Arguments":t},p0=ln,v0=yn,vu=dn,h0=c0,b0=$i,j0=au,hu=function(){},x0=[],bu=b0("Reflect","construct"),Na=/^\s*(?:class|function)\b/,A0=p0(Na.exec),I0=!Na.exec(hu),Jr=function(e){if(!vu(e))return!1;try{return bu(hu,x0,e),!0}catch{return!1}},ju=function(e){if(!vu(e))return!1;switch(h0(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return I0||!!A0(Na,j0(e))}catch{return!0}};ju.sham=!0;var T0=!bu||v0(function(){var e;return Jr(Jr.call)||!Jr(Object)||!Jr(function(){e=!0})||e})?ju:Jr,ld=fu,E0=T0,_0=Br,S0=xt,y0=S0("species"),dd=Array,N0=function(e){var n;return ld(e)&&(n=e.constructor,E0(n)&&(n===dd||ld(n.prototype))?n=void 0:_0(n)&&(n=n[y0],n===null&&(n=void 0))),n===void 0?dd:n},P0=N0,R0=function(e,n){return new(P0(e))(n===0?0:n)},O0=wE,B0=i0,F0=xa,$0=Wg,D0=Sa,V0=R0;O0({target:"Array",proto:!0},{flatMap:function(e){var n=$0(this),r=D0(n),t;return F0(e),t=V0(n,0),t.length=B0(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}});var xu={},G0=ku,L0=ya,M0=Object.keys||function(e){return G0(e,L0)},K0=Gn,w0=ru,U0=Fr,C0=Di,z0=Fi,Y0=M0;xu.f=K0&&!w0?Object.defineProperties:function(e,n){C0(e);for(var r=z0(n),t=Y0(n),i=t.length,s=0,l;i>s;)U0.f(e,l=t[s++],r[l]);return e};var H0=$i,J0=H0("document","documentElement"),q0=Di,Z0=xu,od=ya,W0=Ea,X0=J0,Q0=eu,e_=lu,gd=">",ud="<",Ps="prototype",Rs="script",Au=e_("IE_PROTO"),us=function(){},Iu=function(e){return ud+Rs+gd+e+ud+"/"+Rs+gd},kd=function(e){e.write(Iu("")),e.close();var n=e.parentWindow.Object;return e=null,n},n_=function(){var e=Q0("iframe"),n="java"+Rs+":",r;return e.style.display="none",X0.appendChild(e),e.src=String(n),r=e.contentWindow.document,r.open(),r.write(Iu("document.F=Object")),r.close(),r.F},wt,Qt=function(){try{wt=new ActiveXObject("htmlfile")}catch{}Qt=typeof document<"u"?document.domain&&wt?kd(wt):n_():kd(wt);for(var e=od.length;e--;)delete Qt[Ps][od[e]];return Qt()};W0[Au]=!0;var r_=Object.create||function(e,n){var r;return e!==null?(us[Ps]=q0(e),r=new us,us[Ps]=null,r[Au]=e):r=Qt(),n===void 0?r:Z0.f(r,n)},t_=xt,i_=r_,s_=Fr.f,Os=t_("unscopables"),Bs=Array.prototype;Bs[Os]===void 0&&s_(Bs,Os,{configurable:!0,value:i_(null)});var a_=function(e){Bs[Os][e]=!0},l_=a_;l_("flatMap");var d_=jn,o_=ln,g_=function(e,n){return o_(d_[e].prototype[n])},u_=g_;u_("Array","flatMap");const Yn="vurderEtterlønnSluttpakke",It=({readOnly:e})=>{const n=W.useContext(Pe),r=Q();return p.jsx("div",{children:p.jsx(Ie,{label:p.jsx(I,{children:p.jsx(m,{id:"BeregningInfoPanel.EtterlønnSluttpakke.HarSøkerInntekt"})}),name:`vurderFaktaBeregningForm.${n}.${Yn}`,validate:[X],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:bn,isHorizontal:!0})})};It.buildInitialValues=(e,n)=>{var r,t;const i={};if(!e||!e.beregningsgrunnlagPeriode||!n)return{};const s=!hn(n.status),l=e.beregningsgrunnlagPeriode.flatMap(d=>d.beregningsgrunnlagPrStatusOgAndel).filter(d=>(d==null?void 0:d.arbeidsforhold)&&(d==null?void 0:d.arbeidsforhold.arbeidsforholdType)===Ar.ETTERLONN_SLUTTPAKKE);return l.length>0&&(i[Yn]=s&&((r=l[0])==null?void 0:r.beregnetPrAar)!==void 0?((t=l[0])==null?void 0:t.beregnetPrAar)>0:void 0),i};const k_=e=>{if(!e.andelerForFaktaOmBeregning)return;const n=e.andelerForFaktaOmBeregning.find(r=>r.arbeidsforhold&&r.arbeidsforhold.arbeidsforholdType&&r.arbeidsforhold.arbeidsforholdType===Ar.ETTERLONN_SLUTTPAKKE);return n?n.andelsnr:void 0};It.transformValues=(e,n,r,t)=>{if(!(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).includes(Z.VURDER_ETTERLONN_SLUTTPAKKE))return{};if(!n||n.length===0)return{faktaOmBeregningTilfeller:[Z.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[Yn]}};const i=k_(r);if(!i)return{};const s=n.find(d=>d.andelsnr===i);if(!s)return{faktaOmBeregningTilfeller:[Z.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[Yn]}};if(t.includes(s.andelsnr))return{faktaOmBeregningTilfeller:[Z.VURDER_ETTERLONN_SLUTTPAKKE],vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[Yn]}};t.push(s.andelsnr);const l={fastsettEtterlønnSluttpakke:{fastsattPrMnd:s.fastsattBelop}};return{faktaOmBeregningTilfeller:[Z.VURDER_ETTERLONN_SLUTTPAKKE,Z.FASTSETT_ETTERLONN_SLUTTPAKKE],...l,vurderEtterlønnSluttpakke:{erEtterlønnSluttpakke:e[Yn]}}};const Tu="mottarYtelseField",m_="_frilans",Tr=e=>Tu+e.andelsnr,Er=()=>Tu+m_,f_=(e,n)=>(n&&n.arbeidstakerAndelerUtenIM?n.arbeidstakerAndelerUtenIM:[]).map(r=>e.vurderMottarYtelseValues[Tr(r)]).find(r=>r)!==void 0,Eu=e=>e.vurderMottarYtelseValues[Er()],_u=(e,n,r)=>{if(!n)return{};const t={};if((n.arbeidstakerAndelerUtenIM?n.arbeidstakerAndelerUtenIM:[]).forEach(s=>{const l=e.vurderMottarYtelseValues[Tr(s)];t[s.andelsnr]=l}),!r)return t;const i=r.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(s=>s.aktivitetStatus===B.FRILANSER);return i&&(t[i.andelsnr]=Eu(e)),t},Vi="inntektFieldArray",c_=e=>e.inntektskategori&&e.inntektskategori!==Vn.UDEFINERT?e.inntektskategori:"",p_=(e,n,r)=>{var t,i,s,l,d;const o=(t=e.arbeidsforhold)!=null&&t.arbeidsgiverIdent?n[e.arbeidsforhold.arbeidsgiverIdent]:void 0;return o?Or(o,(d=e.arbeidsforhold)==null?void 0:d.eksternArbeidsforholdId):(i=e.arbeidsforhold)!=null&&i.arbeidsforholdType?(s=r[Ee.OPPTJENING_AKTIVITET_TYPE].find(u=>{var k;return u.kode===((k=e.arbeidsforhold)==null?void 0:k.arbeidsforholdType)}))==null?void 0:s.navn:(l=r[Ee.AKTIVITET_STATUS].find(u=>u.kode===e.aktivitetStatus))==null?void 0:l.navn},Su=(e,n,r)=>({andel:p_(e,n,r)||"",aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,nyAndel:!1,inntektskategori:c_(e),lagtTilAvSaksbehandler:e.lagtTilAvSaksbehandler===!0}),v_=(e,n)=>e?e.find(r=>r.andelsnr===n.andelsnr):void 0,h_=(e,n)=>e?e.find(r=>r.andelsnr===n.andelsnr):void 0,b_=(e,n)=>{const r=v_(n.arbeidstakerOgFrilanserISammeOrganisasjonListe,e);return r&&(r.inntektPrMnd===null||r.inntektPrMnd===void 0)},yu=e=>e.aktivitetStatus&&e.aktivitetStatus===B.ARBEIDSTAKER,Nu=e=>e.aktivitetStatus&&e.aktivitetStatus===B.FRILANSER,j_=(e,n)=>n?Nu(e)&&n[zn]:!1,x_=e=>e[Qn],A_=(e,n,r)=>r.arbeidsforholdMedLønnsendringUtenIM&&h_(r.arbeidsforholdMedLønnsendringUtenIM,n)&&e[Oi],I_=(e,n,r)=>yu(e)&&A_(n,e,r),T_=(e,n)=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&Nu(e),E_=(e,n)=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&yu(e)&&b_(e,n),__=(e,n,r,t)=>_u(e,r.vurderMottarYtelse,t)[n.andelsnr],S_=(e,n)=>e.arbeidsforholdType&&e.arbeidsforholdType===Ar.ETTERLONN_SLUTTPAKKE?n[Yn]:!1,Pu=(e,n)=>n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(r=>r.arbeidsforhold&&r.arbeidsforhold.arbeidsgiverIdent===e.arbeidsgiverId&&r.arbeidsforhold.organisasjonstype&&r.arbeidsforhold.organisasjonstype===ra.KUNSTIG)!==void 0,y_=e=>!!e.faktaOmBeregningTilfeller&&e.faktaOmBeregningTilfeller.find(n=>n===Z.FASTSETT_BG_KUN_YTELSE)!==void 0,N_=(e,n,r)=>t=>!!(x_(e)||__(e,t,n,r)||I_(t,e,n)||T_(t,n)||E_(t,n)||Pu(t,r)||Og(t,r)||S_(t,e)),P_=(e,n,r)=>t=>!!(N_(e,n,r)(t)||j_(t,e)),Gi=e=>!!e&&e[Ir]===!0,R_=e=>e&&e.some(n=>n.definisjon===Ae.OVERSTYRING_AV_BEREGNINGSGRUNNLAG),Ru=e=>Gi(e),md=e=>e.erOverstyrtInntekt||R_(e.avklaringsbehov),Ou=(e,n,r)=>t=>y_(n)||P_(e,n,r)(t),O_=(e,n,r)=>t=>Gi(e)||Ou(e,n,r)(t),_r=(e,n)=>r=>O_(e,n.faktaOmBeregning,n)(r),B_=e=>n=>Pu(n,e),F_=e=>B_(e),$_=(e,n,r)=>({...Su(e,n,r),arbeidsforholdId:e.arbeidsforhold?e.arbeidsforhold.arbeidsforholdId:void 0,arbeidsperiodeFom:e.arbeidsforhold?e.arbeidsforhold.startdato:"",arbeidsperiodeTom:e.arbeidsforhold?e.arbeidsforhold.opphoersdato:"",arbeidsforholdType:e.arbeidsforhold?e.arbeidsforhold.arbeidsforholdType:void 0,aktivitetStatus:e.aktivitetStatus,andelsnr:e.andelsnr,arbeidsgiverId:e.arbeidsforhold?e.arbeidsforhold.arbeidsgiverIdent:void 0,skalKunneEndreAktivitet:e.skalKunneEndreAktivitet,fastsattBelop:e.fastsattBelop||e.fastsattBelop===0?K(e.fastsattBelop):"",belopReadOnly:e.belopReadOnly||e.belopReadOnly===0?K(e.belopReadOnly):"",refusjonskrav:e.refusjonskrav||e.refusjonskrav===0?K(e.refusjonskrav):""}),D_=(e,n)=>e.andelsinfo===n.andelsinfo?e.inntektskategori===n.inntektskategori?0:e.inntektskategori>n.inntektskategori?1:-1:e.andelsinfo>n.andelsinfo?1:-1,V_=(e,n)=>{const{nyAndel:r,andel:t,inntektskategori:i,aktivitetStatus:s,arbeidsforholdId:l}=e;if(r){if(!Number.isNaN(Number(t))){const d=n.filter(o=>o.andelsnr===parseFloat(t));if(d.length>0)return{andelsinfo:d[0].andel,inntektskategori:i}}return ps[t]?{andelsinfo:t,inntektskategori:i}:{andelsinfo:t,inntektskategori:i}}return Wa[s]?{andelsinfo:Wa[s],inntektskategori:i}:{andelsinfo:t,inntektskategori:i,arbeidsforholdId:l}},G_=e=>e.formatMessage({id:"BeregningInfoPanel.FordelBG.Validation.UlikeAndeler"}),L_=(e,n)=>n.andelsinfo===e.andelsinfo&&n.inntektskategori===e.inntektskategori&&e.arbeidsforholdId===n.arbeidsforholdId,Bu=(e,n,r)=>{const t=e.map(i=>n(i,e)).slice().sort((i,s)=>D_(i,s));for(let i=0;i<t.length-1;i+=1)if(L_(t[i],t[i+1]))return G_(r);return null},M_=(e,n)=>Bu(e,V_,n),K_=e=>e.formatMessage({id:"BeregningInfoPanel.Validation.MinstEnFastsatt"}),w_=(e,n)=>e.some(({fastsattBelop:r})=>r!==null&&r!==""&&r!==void 0)?null:K_(n),U_="_row_vbpg7_1",C_="_slettIkon_vbpg7_10",z_="_rightAlign_vbpg7_13",Y_="_rightAlignInput_vbpg7_16",H_="_inntektTable_vbpg7_24",J_="_buttonRow_vbpg7_59",q_="_addPeriode_vbpg7_62",Z_="_customLink_vbpg7_63",W_="_removeButton_vbpg7_64",X_="_addCircleIcon_vbpg7_72",Q_="_imageText_vbpg7_73",eS="_storBredde_vbpg7_78",nS="_mediumBredde_vbpg7_81",rS="_flexColumn3_vbpg7_84",nn={row:U_,slettIkon:C_,rightAlign:z_,rightAlignInput:Y_,inntektTable:H_,buttonRow:J_,addPeriode:q_,customLink:Z_,removeButton:W_,addCircleIcon:X_,imageText:Q_,storBredde:eS,mediumBredde:nS,flexColumn3:rS},tS=(e,n)=>{var r;return{andel:(r=n[Ee.AKTIVITET_STATUS].find(t=>t.kode===e.filter(i=>i===B.BRUKERS_ANDEL)[0]))==null?void 0:r.navn,fastsattBelop:"",inntektskategori:"",nyAndel:!0,lagtTilAvSaksbehandler:!0}},iS=e=>e.map(n=>p.jsx("option",{value:n.kode,children:n.navn},n.kode)),sS=e=>{let n=0;return e.forEach(r=>{n+=r.fastsattBelop?me(r.fastsattBelop):0}),n>0?K(n):""};function aS(e,n,r){return(n[e].nyAndel||n[e].lagtTilAvSaksbehandler)&&!r}const lS=(e,n,r,t,i,s,l)=>e.map((d,o)=>p.jsxs(Le,{className:nn.row,children:[p.jsx(w,{children:p.jsx(m,{id:"BeregningInfoPanel.FordelingBG.Ytelse"})}),p.jsx(w,{className:nn.rightAlignInput,children:p.jsx(je,{name:`${s}.${o}.fastsattBelop`,className:nn.mediumBredde,parse:Ve,readOnly:r,isEdited:n,validate:r?[]:[X,vn(178956970)],label:i.formatMessage({id:"BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn"},{andel:`ytelse ${o+1}`}),hideLabel:!0})}),p.jsx(w,{className:nn.rightAlign,children:p.jsx(_i,{label:i.formatMessage({id:"BeregningInfoPanel.FordelingBG.InntektskategoriMedAndelnavn"},{andel:`ytelse ${o+1}`}),name:`${s}.${o}.inntektskategori`,className:nn.storBredde,selectValues:iS(t),readOnly:r,validate:r?[]:[X],hideLabel:!0})}),p.jsx(w,{children:aS(o,e,r)&&p.jsx(ne,{icon:p.jsx(qn,{"aria-hidden":!0,className:nn.slettIkon}),onClick:()=>l(o),type:"button",variant:"tertiary"})})]},d.id)),dS=e=>p.jsxs(Le,{children:[p.jsx(w,{children:p.jsx(m,{id:"BeregningInfoPanel.FordelingBG.Sum"})}),p.jsx(w,{className:nn.rightAlign,children:p.jsx(ke,{children:e})}),p.jsx(w,{})]},"bruttoBGSummaryRow"),oS=()=>["BeregningInfoPanel.FordelingBG.Andel","BeregningInfoPanel.FordelingBG.Fordeling","BeregningInfoPanel.FordelingBG.Inntektskategori"],gS=e=>e[Ee.INNTEKTSKATEGORI].slice().sort((n,r)=>n.navn.localeCompare(r.navn)),uS=e=>{const{andel:n,inntektskategori:r}=e;return{andelsinfo:n,inntektskategori:r}},kS=(e,n)=>Bu(e,uS,n)||null,Fu=({name:e,readOnly:n,isAksjonspunktClosed:r,kodeverkSamling:t})=>{var i;const s=Q(),{control:l}=_e(),d=W.useContext(Pe),o=`${mn}.${d}.${e}`,{fields:u,append:k,remove:c}=an({control:l,name:o}),h=(i=t[Ee.AKTIVITET_STATUS])==null?void 0:i.map(D=>D.kode),b=gS(t),A=it({name:o,control:l}),_=sS(A)||0,P=lS(u,r,n,b,s,o,c);P.push(dS(_));const S=kS(A,s),F=`${o}.skjemagruppe`,N=Ei(F,S);return p.jsxs("div",{children:[p.jsx(We,{headerTextCodes:oS(),noHover:!0,classNameTable:nn.inntektTable,children:P}),!n&&p.jsx(y,{className:nn.buttonRow,children:p.jsx(v,{className:nn.flexColumn3,children:p.jsx(ne,{icon:p.jsx(Ii,{"aria-hidden":!0,className:nn.addCircleIcon}),onClick:()=>k(tS(h,t)),type:"button",variant:"tertiary",children:p.jsx(ke,{className:nn.imageText,children:p.jsx(m,{id:"BeregningInfoPanel.FordelingBG.LeggTilAndel"})})})})}),p.jsx(x,{eightPx:!0}),N&&p.jsx(lt,{children:N})]})},Pa="besteberegningField",$r=({readOnly:e,isAksjonspunktClosed:n,brukersAndelFieldArrayName:r,skalViseInntektstabell:t,kodeverkSamling:i})=>{const{getValues:s}=_e(),l=W.useContext(Pe),d=s(`${mn}.${l}`)[Pa],o=Q();return p.jsxs("div",{children:[p.jsx(Ie,{name:`vurderFaktaBeregningForm.${l}.besteberegningField`,isReadOnly:e,label:p.jsx(m,{id:"KunYtelsePanel.HarBesteberegning"}),radios:[{value:"true",label:o.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:o.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:e?[]:[X],parse:bn,isHorizontal:!0}),d!=null&&p.jsxs(vo,{alignOffset:d?0:60,children:[p.jsxs(y,{children:[p.jsx(v,{className:Cn.flexColumn9,children:p.jsx(V,{size:"small",children:p.jsx(m,{id:"KunYtelsePanel.OverskriftBesteberegning"})})}),d&&p.jsx(v,{className:Cn.flexColumn3,children:p.jsx("a",{className:Cn.navetLink,href:Ag,target:"_blank",rel:"noopener noreferrer",children:p.jsx(m,{id:"BeregningInfoPanel.FastsettBBFodendeKvinne.RegnarkNavet"})})})]}),t&&p.jsx(y,{children:p.jsx(v,{className:Cn.flexColumn12,children:p.jsx(Fu,{name:r,readOnly:e,isAksjonspunktClosed:n,kodeverkSamling:i})})})]})]})};$r.defaultProps={erBesteberegning:void 0,skalViseInntektstabell:!0};$r.buildInitialValues=e=>({[Pa]:e.erBesteberegning});$r.transformValues=e=>e[Pa];const mS="_flexColumn9_csgl6_1",fS={flexColumn9:mS},cS=({readOnly:e,brukersAndelFieldArrayName:n,kodeverkSamling:r,isAksjonspunktClosed:t})=>p.jsxs(mo,{children:[p.jsx(y,{children:p.jsx(v,{className:fS.flexColumn9,children:p.jsx(V,{size:"small",children:p.jsx(m,{id:"KunYtelsePanel.Overskrift"})})})}),p.jsx(Fu,{name:n,readOnly:e,isAksjonspunktClosed:t,kodeverkSamling:r})]}),gt="brukersAndelBG",ar=({readOnly:e,faktaOmBeregning:n,isAksjonspunktClosed:r,skalViseInntektstabell:t,kodeverkSamling:i})=>{const{kunYtelse:s}=n,l=s.fodendeKvinneMedDP;return p.jsxs("div",{children:[l&&p.jsx($r,{readOnly:e,isAksjonspunktClosed:r,brukersAndelFieldArrayName:gt,skalViseInntektstabell:t,kodeverkSamling:i}),!l&&t&&p.jsx(cS,{readOnly:e,brukersAndelFieldArrayName:gt,isAksjonspunktClosed:r,kodeverkSamling:i})]})};ar.defaultProps={skalViseInntektstabell:!0};ar.buildInitialValues=(e,n,r,t)=>{if(!e||!e.andeler||e.andeler.length===0)return{};const i=e.andeler.map(l=>{const d=n.find(o=>o.andelsnr===l.andelsnr);if(!d)throw new Error(`Finner ikke faktaAndel med andelsnr ${l.andelsnr}`);return{...Su(d,r,t),fastsattBelop:K(l.fastsattBelopPrMnd)||""}}),s={[gt]:i};return e.fodendeKvinneMedDP?{...$r.buildInitialValues(e),...s}:s};ar.summerFordeling=e=>e[gt].map(({fastsattBelop:n})=>n?me(n):0).reduce((n,r)=>n+r,0);ar.transformValues=(e,n)=>({kunYtelseFordeling:{andeler:e[gt].map(r=>({andelsnr:r.andelsnr,fastsattBeløp:me(r.fastsattBelop),inntektskategori:r.inntektskategori,nyAndel:r.nyAndel,lagtTilAvSaksbehandler:r.lagtTilAvSaksbehandler})),skalBrukeBesteberegning:n.fodendeKvinneMedDP?$r.transformValues(e):null}});const{FASTSETT_BG_KUN_YTELSE:ci,VURDER_BESTEBEREGNING:pS}=Z,vS=(e,n,r,t,i,s)=>{n.includes(ci)&&e.push(p.jsx(W.Fragment,{children:p.jsx(ar,{readOnly:r,isAksjonspunktClosed:t,faktaOmBeregning:i,kodeverkSamling:s})},"FASTSETT_BG_KUN_YTELSE"))},hS=(e,n,r)=>{if(r.includes(ci)){const t=ar.transformValues(e,n),i=[ci];return n.fodendeKvinneMedDP&&i.push(pS),{faktaOmBeregningTilfeller:i,...t}}return{}},bS=(e,n,r,t,i)=>n&&n.includes(ci)?ar.buildInitialValues(e,r,t,i):{},Ra="erSNNyIArbeidslivet",Tt=({readOnly:e})=>{const n=W.useContext(Pe),r=Q();return p.jsx("div",{children:p.jsx(Ie,{label:p.jsx(I,{children:p.jsx(m,{id:"BeregningInfoPanel.NyIArbeidslivet.SelvstendigNaeringsdrivende"})}),name:`vurderFaktaBeregningForm.${n}.${Ra}`,validate:[X],isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:bn,isHorizontal:!0})})};Tt.buildInitialValues=e=>{var n;const r={};if(!e||!e.beregningsgrunnlagPeriode)return r;const t=e.beregningsgrunnlagPeriode.map(i=>i.beregningsgrunnlagPrStatusOgAndel).flat().filter(i=>(i==null?void 0:i.aktivitetStatus)===B.SELVSTENDIG_NAERINGSDRIVENDE);return t.length>0&&(r[Ra]=(n=t[0])==null?void 0:n.erNyIArbeidslivet),r};Tt.transformValues=e=>({vurderNyIArbeidslivet:{erNyIArbeidslivet:e[Ra]}});const jS="BeregningInfoPanel.TidsbegrensetArbFor.Arbeidsforhold",Oa=e=>e&&e.arbeidsforhold?`${e.arbeidsforhold.arbeidsgiverIdent}(${e.arbeidsforhold.arbeidsforholdId})(${e.andelsnr})`:"",fd=(e,n)=>{const r=n[e.arbeidsgiverIdent];return Or(r,e.eksternArbeidsforholdId)},Et=({readOnly:e,faktaOmBeregning:n,arbeidsgiverOpplysningerPerId:r})=>{const t=n.kortvarigeArbeidsforhold,i=W.useContext(Pe),s=Q();return p.jsx("div",{children:t.map(l=>p.jsx("div",{children:p.jsx(Ie,{label:p.jsx(I,{children:p.jsx(m,{id:jS,values:{navn:fd(l.arbeidsforhold,r),fom:T(l.arbeidsforhold.startdato).format(ie),tom:T(l.arbeidsforhold.opphoersdato).format(ie)}})}),name:`vurderFaktaBeregningForm.${i}.tidsbegrensetValues.${Oa(l)}`,isReadOnly:e,radios:[{value:"true",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[X],parse:bn,isHorizontal:!0})},`fastsettTidsbegrensedeForhold_${fd(l.arbeidsforhold,r)}`))})};Et.buildInitialValues=e=>{const n={};return e&&e.forEach(r=>{r.erTidsbegrensetArbeidsforhold!==void 0&&(n[Oa(r)]=r.erTidsbegrensetArbeidsforhold)}),n};Et.transformValues=(e,n)=>{const r=[];return n.forEach(t=>{const i=Oa(t),s=e.tidsbegrensetValues[i],l={andelsnr:t.andelsnr,tidsbegrensetArbeidsforhold:s,opprinneligVerdi:t.erTidsbegrensetArbeidsforhold};r.push(l)}),{vurderTidsbegrensetArbeidsforhold:{fastsatteArbeidsforhold:r}}};const Ba="vurderMilitær",_t=({readOnly:e})=>{const n=W.useContext(Pe),r=Q();return p.jsx("div",{children:p.jsx(Ie,{label:p.jsx(I,{children:p.jsx(m,{id:"BeregningInfoPanel.VurderMilitaer.HarSøkerMilitærinntekt"})}),name:`vurderFaktaBeregningForm.${n}.${Ba}`,isReadOnly:e,radios:[{value:"true",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:r.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],validate:[X],parse:bn,isHorizontal:!0})})};_t.buildInitialValues=e=>{const n={};return!e||!e.vurderMilitaer||(n[Ba]=e.vurderMilitaer.harMilitaer),n};_t.transformValues=e=>({vurderMilitaer:{harMilitaer:e[Ba]}});const xS=[Z.VURDER_NYOPPSTARTET_FL,Z.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON],AS=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForArbeid",IS=(e,n,r)=>{var t;const i=r[e.arbeidsgiverIdent];let s;return i?s=Or(i,e.eksternArbeidsforholdId):s=e.arbeidsforholdType?(t=n[Ee.OPPTJENING_AKTIVITET_TYPE].find(l=>l.kode===e.arbeidsforholdType))==null?void 0:t.navn:"",p.jsx(m,{id:AS(),values:{arbeid:s}})},TS=(e,n,r,t,i,s)=>p.jsx("div",{children:p.jsx(Ie,{label:p.jsx(I,{children:IS(e.arbeidsforhold,r,t)}),name:`vurderFaktaBeregningForm.${i}.vurderMottarYtelseValues.${Tr(e)}`,isReadOnly:n,radios:[{value:"true",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:s.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:bn,validate:n?[]:[X],isHorizontal:!0})},Tr(e)),ES=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilansUtenFrilans",_S=()=>"BeregningInfoPanel.VurderMottarYtelse.MottarYtelseForFrilans",SS=e=>e.some(n=>xS.includes(n))?ES():_S(),St=({readOnly:e,beregningsgrunnlag:n,tilfeller:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i})=>{const s=W.useContext(Pe),l=n.faktaOmBeregning?n.faktaOmBeregning.vurderMottarYtelse:void 0,d=l&&l.erFrilans,o=l&&l.arbeidstakerAndelerUtenIM?l.arbeidstakerAndelerUtenIM:[],u=Q();return p.jsxs("div",{children:[d&&p.jsx("div",{children:p.jsx(Ie,{label:p.jsx("div",{children:p.jsx(I,{children:p.jsx(m,{id:SS(r)})})},Er()),name:`vurderFaktaBeregningForm.${s}.vurderMottarYtelseValues.${Er()}`,isReadOnly:e,radios:[{value:"true",label:u.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:u.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:bn,validate:e?[]:[X],isHorizontal:!0})}),o.map(k=>p.jsx(p.Fragment,{children:TS(k,e,t,i,s,u)}))]})},yS=(e,n,r,t,i,s)=>{if(n===null)return{};if(f_(e,r.vurderMottarYtelse)){const l=[],d=_u(e,r.vurderMottarYtelse,t);return r.vurderMottarYtelse.arbeidstakerAndelerUtenIM.forEach(o=>{if(d[o.andelsnr]&&!i.includes(o.andelsnr)){const u=n.find(k=>k.andelsnr===o.andelsnr).fastsattBelop;(u||u===0)&&(l.push({andelsnr:o.andelsnr,fastsattBeløp:me(u)}),i.push(o.andelsnr))}}),l.length>0?(s.push(Z.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING),{fastsattUtenInntektsmelding:{andelListe:l}}):{}}return{}},NS=(e,n,r,t,i)=>{if(n===null)return{};if(e.vurderMottarYtelseValues[Er()]){const s=r.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(l=>l.aktivitetStatus===B.FRILANSER);if(!t.includes(s.andelsnr)&&Eu(e)){const l=n.find(d=>d.andelsnr===s.andelsnr);return t.push(s.andelsnr),i.push(Z.FASTSETT_MAANEDSINNTEKT_FL),{fastsettMaanedsinntektFL:{maanedsinntekt:me(l.fastsattBelop)}}}return{}}return{}},PS=(e,n,r)=>{const t=n.vurderMottarYtelse.arbeidstakerAndelerUtenIM?n.vurderMottarYtelse.arbeidstakerAndelerUtenIM:[];return r.push(Z.VURDER_MOTTAR_YTELSE),{mottarYtelse:{frilansMottarYtelse:e.vurderMottarYtelseValues[Er()],arbeidstakerUtenIMMottarYtelse:t.map(i=>({andelsnr:i.andelsnr,mottarYtelse:e.vurderMottarYtelseValues[Tr(i)]}))}}};St.buildInitialValues=e=>{const n={};if(!e)return n;e.erFrilans&&(n[Er()]=e.frilansMottarYtelse);const r=e.arbeidstakerAndelerUtenIM?e.arbeidstakerAndelerUtenIM:[];return r.length<1||r.forEach(t=>{n[Tr(t)]=t.mottarYtelse}),n};St.transformValues=(e,n,r,t,i)=>{const s=[];return(r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[]).map(l=>l).includes(Z.VURDER_MOTTAR_YTELSE)?{...PS(e,r,s),...yS(e,n,r,t,i,s),...NS(e,n,t,i,s),faktaOmBeregningTilfeller:s}:{}};const RS="_buttonRow_11vqq_1",OS="_addPeriode_11vqq_4",BS="_customLink_11vqq_5",FS="_removeButton_11vqq_6",$S="_addCircleIcon_11vqq_14",DS="_imageText_11vqq_15",VS="_flexColumn_11vqq_20",Ut={buttonRow:RS,addPeriode:OS,customLink:BS,removeButton:FS,addCircleIcon:$S,imageText:DS,flexColumn:VS},GS=e=>({andel:e.filter(({kode:n})=>n===B.DAGPENGER)[0].navn,aktivitetStatus:B.DAGPENGER,fastsattBelop:"",inntektskategori:Vn.DAGPENGER,nyAndel:!0,skalKunneEndreAktivitet:!0,lagtTilAvSaksbehandler:!0}),cd=({leggTilAndel:e,kodeverkSamling:n})=>{const r=n[Ee.AKTIVITET_STATUS];return p.jsx(y,{className:Ut.buttonRow,children:p.jsx(v,{className:Ut.flexColumn,children:p.jsx(ne,{icon:p.jsx(Ii,{"aria-hidden":!0,className:Ut.addCircleIcon}),onClick:()=>e(GS(r)),type:"button",variant:"tertiary",children:p.jsx(ke,{className:Ut.imageText,children:p.jsx(m,{id:"BeregningInfoPanel.FordelingBG.LeggTilDagpengerAndel"})})})})})},LS="_slettIkon_1j5jk_1",MS="_rightAlign_1j5jk_4",KS="_rightAlignInput_1j5jk_7",wS="_inntektTable_1j5jk_21",US="_buttonRow_1j5jk_72",CS="_addPeriode_1j5jk_75",zS="_customLink_1j5jk_76",YS="_removeButton_1j5jk_77",HS="_addCircleIcon_1j5jk_80",JS="_imageText_1j5jk_81",qS="_readOnlyContainer_1j5jk_86",ZS="_readOnlyContent_1j5jk_89",WS="_storBredde_1j5jk_94",XS="_mediumBredde_1j5jk_97",QS="_litenBredde_1j5jk_100",Ke={slettIkon:LS,rightAlign:MS,rightAlignInput:KS,inntektTable:wS,buttonRow:US,addPeriode:CS,customLink:zS,removeButton:YS,addCircleIcon:HS,imageText:JS,readOnlyContainer:qS,readOnlyContent:ZS,storBredde:WS,mediumBredde:XS,litenBredde:QS},ey=(e,n)=>{const r=[];return r.push("BeregningInfoPanel.FordelingBG.Andel"),e&&r.push("BeregningInfoPanel.FordelingBG.Arbeidsperiode"),r.push("BeregningInfoPanel.FordelingBG.Fordeling"),n&&r.push("BeregningInfoPanel.FordelingBG.Refusjonskrav"),r.push("BeregningInfoPanel.FordelingBG.Inntektskategori"),r},ny=e=>e.map(n=>p.jsx("option",{value:n.kode,children:n.navn},n.kode)),ry=e=>e[Ee.INNTEKTSKATEGORI].slice().sort((n,r)=>n.navn.localeCompare(r.navn)),ty=({field:e,skalVisePeriode:n,skalViseRefusjon:r,skalViseSletteknapp:t,readOnly:i,isAksjonspunktClosed:s,removeAndel:l,beregningsgrunnlag:d,kodeverkSamling:o,rowName:u,skalFastsetteInntektForAndel:k})=>{const c=Q(),{getValues:h}=_e(),b=W.useContext(Pe),A=h(`vurderFaktaBeregningForm.${b}`),_=_r(A,d)(e),P=F_(d)(e),S=ry(o),F=e.arbeidsperiodeFom||e.arbeidsperiodeTom;return p.jsxs(Le,{children:[p.jsx(w,{children:p.jsx(je,{name:`${u}.andel`,className:Ke.storBredde,readOnly:!0})}),p.jsx(w,{children:n&&F&&p.jsx(zk,{value:p.jsx(Ue,{dateStringFom:e.arbeidsperiodeFom,dateStringTom:e.arbeidsperiodeTom})})}),_&&p.jsx(w,{className:Ke.rightAlignInput,children:p.jsx(je,{label:c.formatMessage({id:"BeregningInfoPanel.FordelingBG.FordelingMedAndelnavn"},{andel:e.andel}),name:`${u}.fastsattBelop`,parse:Ve,className:Ke.mediumBredde,readOnly:i,isEdited:s,validate:k(e)?[X,vn(178956970)]:[],hideLabel:!0})}),!_&&p.jsx(w,{className:Ke.rightAlign,children:p.jsx(je,{name:`${u}.belopReadOnly`,className:Ke.mediumBredde,parse:Ve,readOnly:!0})}),r&&p.jsx(w,{className:Ke.rightAlign,children:p.jsx(je,{name:`${u}.refusjonskrav`,className:Ke.litenBredde,readOnly:!0,parse:Ve})}),p.jsx(w,{className:Ke.rightAlign,children:p.jsx(_i,{label:c.formatMessage({id:"BeregningInfoPanel.FordelingBG.Inntektskategori"}),name:`${u}.inntektskategori`,className:Ke.storBredde,selectValues:ny(S),validate:i?[]:[X],readOnly:i||!P,hideLabel:!0})}),p.jsx(w,{children:t&&p.jsx(ne,{icon:p.jsx(qn,{"aria-hidden":!0,className:Ke.slettIkon}),onClick:()=>l(),type:"button",variant:"tertiary"})})]})},iy=(e,n,r)=>{let t=0;return e.forEach(i=>{const s=_r(n,r)(i)?i.fastsattBelop:i.belopReadOnly;t+=s?me(s):0}),t>0?t:0},sy=({skalVisePeriode:e,skalViseRefusjon:n,readOnly:r,beregningsgrunnlag:t})=>{const{control:i,getValues:s}=_e(),l=W.useContext(Pe),d=s(`vurderFaktaBeregningForm.${l}`),o=it({control:i,name:`vurderFaktaBeregningForm.${l}.inntektFieldArray`}),u=iy(o,d,t)||0;return p.jsxs(Le,{children:[p.jsx(w,{children:p.jsx(m,{id:"BeregningInfoPanel.FordelingBG.Sum"})}),e&&p.jsx(w,{}),p.jsx(w,{className:Ke.rightAlign,children:p.jsx("div",{className:Ke.readOnlyContainer,children:p.jsx(I,{"data-testid":"sum",className:r?Ke.readOnlyContent:"",children:K(u)})})}),n&&p.jsx(w,{}),p.jsx(w,{})]})},ay=e=>({andel:e.find(({kode:n})=>n===B.DAGPENGER).navn,aktivitetStatus:B.DAGPENGER,fastsattBelop:"",inntektskategori:Vn.DAGPENGER,nyAndel:!0,skalKunneEndreAktivitet:!1,lagtTilAvSaksbehandler:!0}),ly=e=>({andel:e.find(({kode:n})=>n===B.MILITAER_ELLER_SIVIL).navn,aktivitetStatus:B.MILITAER_ELLER_SIVIL,fastsattBelop:"",inntektskategori:Vn.ARBEIDSTAKER,nyAndel:!0,skalKunneEndreAktivitet:!1,lagtTilAvSaksbehandler:!0}),dy=(e,n,r)=>n[e].skalKunneEndreAktivitet===!0&&!r,Fs=e=>{let n=!1;return e.forEach(r=>{r.refusjonskrav!==""&&r.refusjonskrav!==null&&r.refusjonskrav!==void 0&&(n=!0)}),n},$s=e=>{let n=!1;return e.forEach(r=>{r.arbeidsgiverId!==""&&(n=!0)}),n},oy=(e,n)=>()=>{n(e)},gy=(e,n,r)=>p.jsx(sy,{readOnly:n,skalVisePeriode:$s(e),skalViseRefusjon:Fs(e),beregningsgrunnlag:r},"summaryRow"),$u=(e,n)=>{let r=-1;return e.forEach((t,i)=>{t.aktivitetStatus===n&&(r=i)}),r},pd=e=>$u(e,B.DAGPENGER)!==-1,Du=(e,n,r,t,i,s,l,d)=>{const o=$u(e,n);if(o!==-1){const u=e[o];t(u)&&l(o)}o===-1&&r&&d({...i,kanRedigereInntekt:s()(i)})},uy=(e,n,r,t,i,s,l)=>{Du(e,B.DAGPENGER,n,d=>!n&&!t&&d.lagtTilAvSaksbehandler,ay(r),i,s,l)},ky=(e,n,r,t,i,s)=>{Du(e,B.MILITAER_ELLER_SIVIL,n===!0,()=>n===!1,ly(r),t,i,s)},my=(e,n)=>w_(e,n)??null,fy=(e,n,r)=>n&&n.length>0?null:M_(e.inntektFieldArray,r)||(Gi(e)?my(e.inntektFieldArray,r):null),Dr=({readOnly:e,skalKunneLeggeTilDagpengerManuelt:n,beregningsgrunnlag:r,isAksjonspunktClosed:t,kodeverkSamling:i})=>{var s,l;const{getValues:d,control:o,formState:u}=_e(),{errors:k}=u,c=W.useContext(Pe),h=`vurderFaktaBeregningForm.${c}.inntektFieldArray`,{fields:b,remove:A,append:_,update:P}=an({control:o,name:h}),S=it({control:o,name:`vurderFaktaBeregningForm.${c}`}),F=it({control:o,name:`vurderFaktaBeregningForm.${c}.vurderbesteberegningField`}),N=it({control:o,name:`vurderFaktaBeregningForm.${c}.vurderMilitær`}),D=Q(),$=j.useCallback(()=>_r(S,r),[S,r]);j.useEffect(()=>{const U=d(`vurderFaktaBeregningForm.${c}.inntektFieldArray`),Y=i[Ee.AKTIVITET_STATUS];ky(U,N,Y,$,A,_),uy(U,F,Y,n,$,A,_)},[F,N,n]);const M=(U,Y)=>{P(U,{...b[U],kanRedigereInntekt:Y})};j.useEffect(()=>{b.forEach((U,Y)=>{const H=U.kanRedigereInntekt,le=_r(S,r)(U);!(!F&&!n&&U.lagtTilAvSaksbehandler)&&H!==le&&M(Y,le)})},[S]);const C=(l=(s=k==null?void 0:k.vurderFaktaBeregningForm)==null?void 0:s[c])==null?void 0:l.inntektFieldArray,re=fy(S,C,D),te=`${h}.skjemagruppe`,q=Ei(te,re),J=b.map((U,Y)=>p.jsx(ty,{field:U,skalVisePeriode:$s(b),skalViseRefusjon:Fs(b),skalViseSletteknapp:dy(Y,b,e),readOnly:e,removeAndel:oy(Y,A),beregningsgrunnlag:r,isAksjonspunktClosed:t,kodeverkSamling:i,rowName:`${h}.${Y}`,skalFastsetteInntektForAndel:Ou(S,r.faktaOmBeregning,r)},U.id));return J.length===0?n?p.jsxs("div",{children:[!e&&!pd(b)&&p.jsx(cd,{leggTilAndel:_,kodeverkSamling:i}),p.jsx(x,{eightPx:!0}),q&&p.jsx(lt,{children:q})]}):null:(J.push(gy(b,e,r)),p.jsxs("div",{children:[p.jsx(We,{headerTextCodes:ey($s(b),Fs(b)),noHover:!0,classNameTable:Ke.inntektTable,children:J}),!e&&n&&!pd(b)&&p.jsx(cd,{leggTilAndel:_,kodeverkSamling:i}),p.jsx(x,{eightPx:!0}),q&&p.jsx(lt,{children:q})]}))};Dr.defaultProps={skalKunneLeggeTilDagpengerManuelt:!1};Dr.transformValues=e=>e?e.filter(({kanRedigereInntekt:n})=>n).filter(({fastsattBelop:n})=>n!==null&&n!=="").map(n=>({andelsnr:n.andelsnr,fastsattBelop:me(n.fastsattBelop),inntektskategori:n.inntektskategori,nyAndel:n.nyAndel,lagtTilAvSaksbehandler:n.lagtTilAvSaksbehandler,aktivitetStatus:n.aktivitetStatus,arbeidsforholdId:n.arbeidsforholdId,arbeidsgiverId:n.arbeidsgiverId})):null;Dr.buildInitialValues=(e,n,r)=>!e||e.length===0?[]:e.map(t=>$_(t,n,r));const cy=e=>e.arbeidsforhold&&e.arbeidsforhold.organisasjonstype&&e.arbeidsforhold.organisasjonstype===ra.KUNSTIG,py=(e,n)=>e.includes(Z.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING)?n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(cy)!==void 0:!1,vy=(e,n)=>n.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel.find(r=>r.andelsnr===e.andelsnr&&r.arbeidsforhold&&r.arbeidsforhold.organisasjonstype&&r.arbeidsforhold.organisasjonstype===ra.KUNSTIG)!==void 0,hy=(e,n,r,t,i)=>{const s=r.faktaOmBeregningTilfeller?r.faktaOmBeregningTilfeller:[];if(!s.map(o=>o).includes(Z.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING)&&!s.map(o=>o).includes(Z.VURDER_LONNSENDRING))return{};if(!n)return{};const l=n.filter(o=>!i.includes(o.andelsnr)).filter(o=>Og(o,t,o.arbeidsforholdId)||vy(o,t)||vA(o,r,e));l.forEach(o=>i.push(o.andelsnr));const d=l.map(o=>({andelsnr:o.andelsnr,fastsattBeløp:me(o.fastsattBelop),inntektskategori:o.inntektskategori}));return d.length>0?{faktaOmBeregningTilfeller:[Z.FASTSETT_MAANEDSLONN_ARBEIDSTAKER_UTEN_INNTEKTSMELDING],fastsattUtenInntektsmelding:{andelListe:d}}:{}},by=(e,n,r)=>{if((n.faktaOmBeregningTilfeller?n.faktaOmBeregningTilfeller:[]).map(t=>t).includes(Z.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON)&&e){const t=e.filter(i=>!r.includes(i.andelsnr)).filter(i=>n.arbeidstakerOgFrilanserISammeOrganisasjonListe.map(({andelsnr:s})=>s).includes(i.andelsnr)).map(i=>({andelsnr:i.andelsnr,arbeidsinntekt:i.fastsattBelop}));if(n.frilansAndel&&!r.includes(n.frilansAndel.andelsnr)){const i=e.find(s=>s.andelsnr===n.frilansAndel.andelsnr);t.push({andelsnr:n.frilansAndel.andelsnr,arbeidsinntekt:i.fastsattBelop})}if(t.forEach(i=>r.push(i.andelsnr)),t.length>0)return{faktaOmBeregningTilfeller:[Z.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON],vurderATogFLiSammeOrganisasjon:{vurderATogFLiSammeOrganisasjonAndelListe:t}}}return{faktaOmBeregningTilfeller:[]}},jy=e=>e.faktaOmBeregning.faktaOmBeregningTilfeller?e.faktaOmBeregning.faktaOmBeregningTilfeller.map(n=>n).includes(Z.VURDER_AT_OG_FL_I_SAMME_ORGANISASJON):!1,xy=({beregningsgrunnlag:e,manglerInntektsmelding:n})=>jy(e)?n?p.jsx(I,{children:p.jsx(m,{id:"BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrgUtenIM"})}):p.jsx(I,{children:p.jsx(m,{id:"BeregningInfoPanel.VurderOgFastsettATFL.ATFLSammeOrg"})}):null,Ay=(e,n)=>{const r=i=>_r(e,n)(i),t=e[Vi];return t?t.filter(i=>i.aktivitetStatus===B.ARBEIDSTAKER).map(r).includes(!0):!1},Iy=(e,n)=>{const r=i=>_r(e,n)(i),t=e[Vi];return t?t.filter(i=>i.aktivitetStatus===B.FRILANSER).map(r).includes(!0):!1},Ty=e=>{const{faktaOmBeregning:n}=e;return n.arbeidstakerOgFrilanserISammeOrganisasjonListe&&n.arbeidstakerOgFrilanserISammeOrganisasjonListe.length>0?n.arbeidstakerOgFrilanserISammeOrganisasjonListe.find(r=>!r.inntektPrMnd)!==void 0:!1},Ey=e=>!e.includes(Z.FASTSETT_BG_KUN_YTELSE),_y=(e,n,r,t)=>t?"BeregningInfoPanel.KunstigArbeidsforhold.FastsettKunstigArbeidsforhold":e?"KunYtelsePanel.OverskriftBesteberegning":n?r?"BeregningInfoPanel.VurderOgFastsettATFL.FastsettATFLAlleOppdrag":"BeregningInfoPanel.VurderOgFastsettATFL.FastsettFrilans":r?"BeregningInfoPanel.VurderOgFastsettATFL.FastsettArbeidsinntekt":"",Sy=(e,n,r,t,i)=>p.jsx(Dr,{readOnly:e,skalKunneLeggeTilDagpengerManuelt:i,beregningsgrunnlag:n,kodeverkSamling:t,isAksjonspunktClosed:r}),yt=({readOnly:e,isAksjonspunktClosed:n,tilfeller:r,beregningsgrunnlag:t,avklaringsbehov:i,kodeverkSamling:s,erOverstyrer:l,arbeidsgiverOpplysningerPerId:d,updateOverstyring:o})=>{const{getValues:u}=_e(),k=W.useContext(Pe),c=u(`vurderFaktaBeregningForm.${k}`),h=j.useMemo(()=>Ru(c),[c,t,i]),b=j.useMemo(()=>Ay(c,t),[c,t]),A=j.useMemo(()=>Iy(c,t),[c,t]),_=c[Qn]===!0,P=j.useMemo(()=>Ty(t),[t]),S=j.useMemo(()=>Ey(r),[r]),F=j.useMemo(()=>py(r,t),[r,t]);return p.jsx("div",{children:p.jsxs(Ri,{tabell:Sy(e,t,n,s,h),skalViseTabell:S,hjelpeTekstId:_y(_,A,b,F),readOnly:e,erOverstyrer:l,avklaringsbehov:i,updateOverstyring:o,erOverstyrt:h,children:[p.jsx(xy,{beregningsgrunnlag:t,manglerInntektsmelding:P}),r.includes(Z.VURDER_LONNSENDRING)&&p.jsx(bt,{readOnly:e}),r.includes(Z.VURDER_ETTERLONN_SLUTTPAKKE)&&p.jsx(It,{readOnly:e}),r.includes(Z.VURDER_NYOPPSTARTET_FL)&&p.jsx(jt,{readOnly:e}),r.includes(Z.VURDER_MOTTAR_YTELSE)&&p.jsx(St,{readOnly:e,isAksjonspunktClosed:n,tilfeller:r,beregningsgrunnlag:t,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:d}),r.includes(Z.VURDER_BESTEBEREGNING)&&!r.includes(Z.FASTSETT_BG_KUN_YTELSE)&&p.jsx(ht,{readOnly:e,erOverstyrt:h})]},"inntektstabell")})};yt.buildInitialValues=(e,n,r,t)=>{if(!e)return{};const i=e.andelerForFaktaOmBeregning;return i.length===0?{}:{[Vi]:Dr.buildInitialValues(i,r,t),...Ri.buildInitialValues(n)}};const Kn=(e,n)=>({...e,...n,faktaOmBeregningTilfeller:n.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller.concat(n.faktaOmBeregningTilfeller):e.faktaOmBeregningTilfeller}),yy=(e,n,r,t)=>{if(Gi(e)){const i=r.filter(s=>!t.includes(s.andelsnr)).filter(s=>s.fastsattBelop!=null).map(s=>({andelsnr:s.andelsnr,nyAndel:s.nyAndel,aktivitetStatus:s.aktivitetStatus,lagtTilAvSaksbehandler:s.lagtTilAvSaksbehandler,fastsatteVerdier:{fastsattBeløp:s.fastsattBelop,inntektskategori:s.inntektskategori}}));return{fakta:n,overstyrteAndeler:i}}return{fakta:n}},Ny=(e,n,r,t,i)=>{const s=t.faktaOmBeregningTilfeller?t.faktaOmBeregningTilfeller.map(d=>d):[];let l={faktaOmBeregningTilfeller:[]};if(s.length>0){l=Kn(l,lA(t)(e,n));const d=e[Qn]===!0;l=Kn(l,jt.transformValues(e,d?null:n,t,r)),l=Kn(l,It.transformValues(e,d?null:n,t,r)),l=Kn(l,bt.transformValues(e,t)),l=Kn(l,St.transformValues(e,d?null:n,t,i,r)),l=Kn(l,by(d?null:n,t,r)),l=Kn(l,hy(e,d?null:n,t,i,r))}return l};yt.transformValues=(e,n)=>r=>{const t=Dr.transformValues(r[Vi]),i=[],s=Ny(r,t,i,e,n);return yy(r,s,t,i)};const{VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT:Py}=Z,Ry="erKravGyldig_",Fa=e=>Ry+e,Oy=(e,n,r,t)=>e.map(i=>{const{arbeidsgiverIdent:s}=i,l=r[s],d=l?Or(l):s,o=Q();return p.jsxs(W.Fragment,{children:[p.jsx(x,{twentyPx:!0}),p.jsx(Ie,{label:p.jsx(m,{id:"VurderRefusjonForm.ErRefusjonskravGyldig",values:{arbeidsgiverVisningsnavn:d}}),name:`vurderFaktaBeregningForm.${t}.vurderRefusjonValues.${Fa(s)}`,validate:[X],isReadOnly:n,radios:[{value:"true",label:o.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Ja"})},{value:"false",label:o.formatMessage({id:"BeregningInfoPanel.FormAlternativ.Nei"})}],parse:bn,isHorizontal:!0})]},s)}),Nt=({readOnly:e,faktaOmBeregning:n,arbeidsgiverOpplysningerPerId:r})=>{const t=W.useContext(Pe),i=n==null?void 0:n.refusjonskravSomKommerForSentListe;return p.jsx(p.Fragment,{children:Oy(i,e,r,t)})};Nt.transformValues=e=>n=>e.length===0?{}:{refusjonskravGyldighet:e.map(({arbeidsgiverIdent:r})=>({arbeidsgiverId:r,skalUtvideGyldighet:n.vurderRefusjonValues[Fa(r)]}))};Nt.buildInitialValues=(e,n)=>{const r={};return!e.includes(Py)||n.length===0?r:(n.forEach(({arbeidsgiverIdent:t,erRefusjonskravGyldig:i})=>{r[Fa(t)]=i}),{...r})};const{VURDER_FAKTA_FOR_ATFL_SN:By}=Ae,Ln=e=>{if(!e.faktaOmBeregning)throw new Error("Mangler fakta om beregning, ugyldig tilstand");return e.faktaOmBeregning},vd=e=>{var n;return((n=Ln(e))==null?void 0:n.kortvarigeArbeidsforhold)||void 0},hd=e=>{var n;return((n=Ln(e))==null?void 0:n.kunYtelse)||void 0},Vu=e=>{var n;return((n=Ln(e))==null?void 0:n.faktaOmBeregningTilfeller)||[]},bd=e=>{var n;return((n=Ln(e))==null?void 0:n.vurderMottarYtelse)||void 0},Fy=e=>{var n;return((n=Ln(e))==null?void 0:n.vurderBesteberegning)||void 0},$y=e=>{var n;return((n=Ln(e))==null?void 0:n.refusjonskravSomKommerForSentListe)||[]},jd=e=>e?p.jsx(x,{twentyPx:!0}):null,Dy=(e,n,r,t,i,s,l)=>{const{avklaringsbehov:d}=r,o=Vu(r),u=Ln(r),k=[];let c=!1;return o.forEach(h=>{h===Z.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD&&(c=!0,k.push(p.jsx(W.Fragment,{children:p.jsx(Et,{readOnly:e,faktaOmBeregning:u,arbeidsgiverOpplysningerPerId:s})},h))),h===Z.VURDER_SN_NY_I_ARBEIDSLIVET&&(c=!0,k.push(p.jsxs(W.Fragment,{children:[jd(c),p.jsx(Tt,{readOnly:e})]},h))),h===Z.VURDER_MILITÆR_SIVILTJENESTE&&(c=!0,k.push(p.jsx(W.Fragment,{children:p.jsx(_t,{readOnly:e})},h))),h===Z.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT&&(c=!0,k.push(p.jsx(W.Fragment,{children:p.jsx(Nt,{readOnly:e,arbeidsgiverOpplysningerPerId:s,faktaOmBeregning:u})},h)))}),vS(k,o,e,n,u,t),k.push(p.jsxs(W.Fragment,{children:[jd(!0),p.jsx(yt,{readOnly:e,isAksjonspunktClosed:n,tilfeller:o,beregningsgrunnlag:r,kodeverkSamling:t,erOverstyrer:i,avklaringsbehov:d,arbeidsgiverOpplysningerPerId:s,updateOverstyring:l})]},"VurderOgFastsettATFL")),k},Vy=({readOnly:e,isAksjonspunktClosed:n,beregningsgrunnlag:r,kodeverkSamling:t,erOverstyrer:i,arbeidsgiverOpplysningerPerId:s,updateOverstyring:l})=>p.jsx("div",{children:Dy(e,n,r,t,i,s,l).map(d=>d)}),Gy=(e,n)=>r=>hS(r,e.kunYtelse,n),Ly=(e,n)=>(e.faktaOmBeregningTilfeller.push(Z.VURDER_SN_NY_I_ARBEIDSLIVET),{...e,...Tt.transformValues(n)}),My=e=>(n,r)=>(n.faktaOmBeregningTilfeller.push(Z.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD),{...n,...Et.transformValues(r,e)}),Ky=(e,n)=>(e.faktaOmBeregningTilfeller.push(Z.VURDER_MILITÆR_SIVILTJENESTE),{...e,..._t.transformValues(n)}),wy=e=>(n,r)=>(n.faktaOmBeregningTilfeller.push(Z.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT),{...n,...Nt.transformValues(e.refusjonskravSomKommerForSentListe)(r)}),Uy=(e,n,r,t,i)=>(s,l)=>{let d={...s};return e.forEach(o=>{o===Z.VURDER_SN_NY_I_ARBEIDSLIVET&&(d=n(d,l)),o===Z.VURDER_TIDSBEGRENSET_ARBEIDSFORHOLD&&(d=r(d,l)),o===Z.VURDER_MILITÆR_SIVILTJENESTE&&(d=t(d,l)),o===Z.VURDER_REFUSJONSKRAV_SOM_HAR_KOMMET_FOR_SENT&&(d=i(d,l))}),d},Cy=(e,n,r)=>t=>e.includes(Z.FASTSETT_BG_KUN_YTELSE)?{fakta:n(t)}:{...r(t)},zy=(e,n,r,t,i)=>{const s=Cy(e,Gy(t,e),yt.transformValues(t,i))(n);return{fakta:Uy(e,Ly,My(r),Ky,wy(t))(s.fakta,n),overstyrteAndeler:s.overstyrteAndeler}},Yy=e=>{const{tilfeller:n,kortvarigeArbeidsforhold:r,faktaOmBeregning:t,beregningsgrunnlag:i}=e;return zy(n,e,r,t,i)},Hy=e=>e?e.find(n=>n.definisjon===By):void 0,Jy=(e,n,r)=>{const t=Vu(e),i=Ln(e);return{beregningsgrunnlag:e,tilfeller:t,faktaOmBeregning:i,kortvarigeArbeidsforhold:vd(e),vurderMottarYtelse:bd(e),kunYtelse:hd(e),tidsbegrensetValues:Et.buildInitialValues(vd(e)),vurderMottarYtelseValues:St.buildInitialValues(bd(e)),vurderRefusjonValues:Nt.buildInitialValues(t,$y(e)),..._t.buildInitialValues(i),...Tt.buildInitialValues(e),...bt.buildInitialValues(e),...jt.buildInitialValues(e),...It.buildInitialValues(e,Hy(e.avklaringsbehov)),...ht.buildInitialValues(e.avklaringsbehov,Fy(e),t,md(e)),...yt.buildInitialValues(i,md(e),r,n),...bS(hd(e),t,i.andelerForFaktaOmBeregning,r,n)}},{VURDER_FAKTA_FOR_ATFL_SN:Ds,OVERSTYRING_AV_BEREGNINGSGRUNNLAG:Vs}=Ae,pi=(e,n)=>n.some(r=>r.definisjon===e&&r.kanLoses),qy=(e,n)=>e||pi(Ds,n),xd=(e,n)=>{const r=e[Ir];if(n&&!r&&pi(Vs,e.avklaringsbehov||[]))return{periode:e.periode,avbrutt:!0,begrunnelse:void 0};if(!qy(!!r,e.avklaringsbehov||[]))throw new Error("Feil: Kjører submit uten aksjonspunkt og uten overstyringsrolle");return{...Yy(e),begrunnelse:e.begrunnelseFaktaTilfeller,periode:e.periode}},Zy=(e,n=!0)=>{const r=e[mn],t=r.filter(l=>l.erTilVurdering).filter(l=>l[Ir]||pi(Vs,l.avklaringsbehov||[])).map(l=>xd(l,!0)).filter(l=>l),i=r.filter(l=>l.erTilVurdering).filter(l=>(!l[Ir]||n)&&pi(Ds,l.avklaringsbehov||[])).map(l=>xd(l,!1)).filter(l=>l),s=[];if(t.length>0){const l=t.filter(({begrunnelse:o})=>o!==null).map(({begrunnelse:o})=>o).reduce((o,u)=>o===""?u:`${o} ${u}`,""),d={kode:Vs,begrunnelse:l!==""?l:null,grunnlag:t};s.push(d)}if(i.length>0){const l=i.map(({begrunnelse:o})=>o).reduce((o,u)=>o===""?u:`${o} ${u}`,""),d={kode:Ds,begrunnelse:l,grunnlag:i};s.push(d)}return s},{OVERSTYRING_AV_BEREGNINGSGRUNNLAG:Gu,VURDER_FAKTA_FOR_ATFL_SN:ei}=Ae,Lu="begrunnelseFaktaTilfeller",br=(e,n)=>n.some(r=>r.definisjon===e),Wy=(e,n,r)=>e&&n&&!r,Xy=(e,n)=>br(ei,n)||br(Gu,n)?!e:!0,ks=e=>{const n=e.filter(r=>r.definisjon===Ae.VURDER_FAKTA_FOR_ATFL_SN||r.definisjon===Ae.OVERSTYRING_AV_BEREGNINGSGRUNNLAG);return n.length===0?!1:n.some(r=>!hn(r.status))},Qy=()=>{const e=[];return e.push(p.jsx(m,{id:"BeregningInfoPanel.AksjonspunktHelpText.FaktaOmBeregning"},"VurderFaktaForBeregningen")),e},Ad=(e,n)=>{const r=n(`${mn}.${e}`);return Ru(r)},Id=(e,n)=>{var r,t;return!!((t=(r=n.vurderFaktaBeregningForm)==null?void 0:r[e])!=null&&t.begrunnelseFaktaTilfeller)},eN=({beregningsgrunnlag:e,erOverstyrer:n,readOnly:r,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:i,submittable:s,updateOverstyring:l,vilkarsperiode:d,verdiForAvklarAktivitetErEndret:o,submitDisabled:u})=>{const{getValues:k,formState:{errors:c,isDirty:h}}=_e(),b=W.useContext(Pg),A=W.useContext(Rg),_=W.useContext(Pe),P=_===A;W.useEffect(()=>{b(c)},[JSON.stringify(c)]);const{avklaringsbehov:S}=e,F=d.vurderesIBehandlingen;return p.jsxs("div",{style:{display:P?"block":"none"},children:[br(ei,S)&&p.jsx(ut,{children:ks(S)?null:Qy()}),p.jsx(x,{twentyPx:!0}),p.jsx(Vy,{readOnly:r||!F,isAksjonspunktClosed:ks(S),beregningsgrunnlag:e,kodeverkSamling:t,erOverstyrer:n,arbeidsgiverOpplysningerPerId:i,updateOverstyring:l}),p.jsx(x,{twentyPx:!0}),(br(ei,S)||br(Gu,S)||Ad(_,k))&&p.jsxs(p.Fragment,{children:[(br(ei,S)||Ad(_,k))&&p.jsx(tr,{name:`${mn}.${_}.${Lu}`,isSubmittable:s,isReadOnly:r||!F,hasBegrunnelse:ca(S)!==void 0}),p.jsx(x,{twentyPx:!0}),p.jsx(Tg,{isDisabled:!!o,isSubmittable:Wy(s&&Xy(o,S)&&!ks(S),!0,Id(_,c)),isReadOnly:r||!F,isDirty:h,isSubmitting:u,hasEmptyRequiredFields:Id(_,c)})]})]},_)},{VURDER_FAKTA_FOR_ATFL_SN:Mu,AVKLAR_AKTIVITETER:nN,OVERSTYRING_AV_BEREGNINGSGRUNNLAG:vi,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:rN}=Ae,tN=e=>e.some(n=>n.definisjon===vi)?e.find(n=>n.definisjon===vi&&n.begrunnelse!==null):e.find(n=>n.definisjon===Mu&&n.begrunnelse!==null),Td=(e,n)=>n.some(r=>r.definisjon===e&&hn(r.status)),iN=(e,n,r,t)=>({[mn]:e.map(i=>{var s;const l=t.perioder.find(d=>d.periode.fom===i.vilkårsperiodeFom);if(!l)throw new Error(`Finner ikke vilkårsperiode med fom ${i.vilkårsperiodeFom}`);return{avklaringsbehov:i.avklaringsbehov,erTilVurdering:l.vurderesIBehandlingen&&!l.erForlengelse,periode:l.periode,...tr.buildInitialValues((s=tN(i.avklaringsbehov))==null?void 0:s.begrunnelse,Lu),...Jy(i,n,r)}})}),sN=[Mu,vi],aN=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.vilkårsperiodeFom);return(r==null?void 0:r.erForlengelse)===!0},lN=({beregningsgrunnlag:e,submittable:n,readOnly:r,kodeverkSamling:t,erOverstyrer:i,arbeidsgiverOpplysningerPerId:s,aktivtBeregningsgrunnlagIndeks:l,submitCallback:d,setFormData:o,formData:u,vilkar:k,avklarAktiviteterErEndret:c,skalKunneAvbryteOverstyring:h})=>{const b=c,A=e.flatMap(H=>H.avklaringsbehov),_=ze({defaultValues:u||iN(e,t,s,k)}),{control:P,formState:S,trigger:F,getValues:N,watch:D}=_,{fields:$,update:M}=an({name:mn,control:P}),{errors:C,isSubmitted:re}=S,[te,q]=j.useState(!1),J=D(mn);j.useEffect(()=>{re&&F()},[JSON.stringify(J)]);const U=(H,le)=>{const Se=N(`${mn}.${H}`);M(H,{...Se,[Ir]:le})},Y=H=>{Object.keys(C).length===0&&(q(!0),d(Zy(H,h)))};return Td(nN,A)||Td(rN,A)?null:p.jsx(Rg.Provider,{value:l,children:p.jsx(Ye,{formMethods:_,onSubmit:H=>{Y(H)},setDataOnUnmount:o,children:$.map((H,le)=>{const Se=Qe=>sN.some(he=>he===Qe.definisjon),He=Qe=>Qe.kanLoses,on=A.filter(Qe=>Se(Qe)&&He(Qe)),lr=r||aN(e[le],k.perioder)||rn(vi,A)&&!i||on.length===0&&!i,Mn=k.perioder.find(Qe=>Qe.periode.fom===e[le].vilkårsperiodeFom);if(!Mn)throw new Error(`Filler ikke vilkårsperiode med fom ${e[le].vilkårsperiodeFom}`);return p.jsx(Pe.Provider,{value:le,children:p.jsx(eN,{vilkarsperiode:Mn,beregningsgrunnlag:e[le],erOverstyrer:i,readOnly:lr,kodeverkSamling:t,arbeidsgiverOpplysningerPerId:s,submittable:n,updateOverstyring:U,submitDisabled:te,verdiForAvklarAktivitetErEndret:b},H.id)},H.id)})})})},{VURDER_FAKTA_FOR_ATFL_SN:dN,OVERSTYRING_AV_BEREGNINGSAKTIVITETER:Ku,AVKLAR_AKTIVITETER:oN}=Ae,gN=[Ku,oN],uN=({readOnly:e,avklaringsbehov:n,submittable:r,submitCallback:t,aktivtBeregningsgrunnlagIndeks:i,beregningsgrunnlag:s,erOverstyrer:l,skalKunneOverstyreAktiviteter:d,kodeverkSamling:o,arbeidsgiverOpplysningerPerId:u,setFormData:k,formData:c,vilkar:h,skalKunneAvbryteOverstyring:b})=>{const A=n.filter(F=>gN.some(N=>N===F.definisjon)&&F.kanLoses),_=e||(A.length===0||rn(Ku,n))&&!l,[P,S]=j.useState(!1);return p.jsxs("div",{children:[p.jsx(nA,{readOnly:_,harAndreAvklaringsbehovIPanel:rn(dN,n),submitCallback:t,submittable:r,erOverstyrer:l&&d,kodeverkSamling:o,aktivtBeregningsgrunnlagIndeks:i,beregningsgrunnlag:s,arbeidsgiverOpplysningerPerId:u,setFormData:k,formData:c&&dt in c?c:void 0,vilkår:h,setAvklarAktiviteterErEndret:S}),p.jsx(x,{thirtyTwoPx:!0}),p.jsx(lN,{submitCallback:t,submittable:r,kodeverkSamling:o,beregningsgrunnlag:s,erOverstyrer:l,readOnly:e,arbeidsgiverOpplysningerPerId:u,aktivtBeregningsgrunnlagIndeks:i,setFormData:k,formData:c&&mn in c?c:void 0,vilkar:h,avklarAktiviteterErEndret:P,skalKunneAvbryteOverstyring:b})]})},kN=Ge(fa),{VURDER_FAKTA_FOR_ATFL_SN:mN,AVKLAR_AKTIVITETER:fN}=Ae,cN=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.vilkårsperiodeFom);return(r==null?void 0:r.erForlengelse)===!0},pN=(e,n)=>{const r=e.vilkårsperiodeFom,t=n.find(({periode:i})=>i.fom===r);if(t){const{fom:i,tom:s}=t.periode;return s!==null?`${T(i).format(ie)} - ${T(s).format(ie)}`:`${T(i).format(ie)} - `}return`${T(r).format(ie)}`},vN=e=>{if(e){const n=e.some(t=>t.definisjon===mN&&t.kanLoses),r=e.some(t=>t.definisjon===fN&&t.kanLoses);return n||r}return!1},hN=(e,n)=>{const r=n.find(({periode:t})=>t.fom===e.skjaeringstidspunktBeregning);return vN(e.avklaringsbehov)&&(r==null?void 0:r.vurderesIBehandlingen)&&!r.erForlengelse},bN=({beregningsgrunnlag:e=[],kodeverkSamling:n,submitCallback:r,readOnly:t,submittable:i,erOverstyrer:s,skalKunneOverstyreAktiviteter:l=!0,arbeidsgiverOpplysningerPerId:d,formData:o,setFormData:u,vilkar:k,skalKunneAvbryteOverstyring:c=!1})=>{const[h,b]=j.useState(0),[A,_]=j.useState(void 0);if(e.length===0||!k)return p.jsx(p.Fragment,{children:"Har ikke beregningsgrunnlag."});const P=e.length>1,S=e[h].avklaringsbehov,F=k.perioder,N=D=>{var $;return!!(($=A==null?void 0:A[`${mn}`])!=null&&$[D])};return p.jsxs(Ze,{value:kN,children:[P&&p.jsx("div",{className:kx.tabsContainer,children:p.jsx(jr,{value:h.toString(),onChange:D=>b(Number(D)),children:p.jsx(jr.List,{children:e.map((D,$)=>p.jsx(jr.Tab,{value:$.toString(),label:pN(D,F),className:hN(D,F)?"harAksjonspunkt":"",icon:$!==h&&N($)&&p.jsx(nr,{width:20,height:20,color:"Orange"})},D.skjaeringstidspunktBeregning))})})}),p.jsx(Pg.Provider,{value:_,children:p.jsx(uN,{aktivtBeregningsgrunnlagIndeks:h,beregningsgrunnlag:e,kodeverkSamling:n,avklaringsbehov:S,submitCallback:r,readOnly:t||cN(e[h],F),submittable:i,erOverstyrer:s,skalKunneOverstyreAktiviteter:l,arbeidsgiverOpplysningerPerId:d,setFormData:u,formData:o,vilkar:k,skalKunneAvbryteOverstyring:c})})]})};const jN=e=>{switch(e){case Ae.AVKLAR_AKTIVITETER:return ae.AVKLAR_AKTIVITETER;case Ae.OVERSTYRING_AV_BEREGNINGSAKTIVITETER:return ae.OVERSTYRING_AV_BEREGNINGSAKTIVITETER;case Ae.VURDER_FAKTA_FOR_ATFL_SN:return ae.VURDER_FAKTA_FOR_ATFL_SN;case Ae.OVERSTYRING_AV_BEREGNINGSGRUNNLAG:return ae.OVERSTYRING_AV_BEREGNINGSGRUNNLAG;default:throw new Error(`Ukjent avklaringspunkt ${e}`)}},xN=e=>n=>{const t=(Array.isArray(n)?n:[n]).map(i=>({kode:jN(i.kode),...i.grunnlag[0]}));return e(t)},AN=(e,n)=>({avslagKode:n.avslagKode,vurderesIBehandlingen:!0,merknadParametere:{},periode:{fom:e?e.skjaeringstidspunktBeregning:"",tom:Me},vilkarStatus:n.vilkarStatus}),IN=(e,n)=>{if(!e)return null;const r=e.find(i=>i.vilkarType&&i.vilkarType===Xn.BEREGNINGSGRUNNLAGVILKARET);return!r||!n?null:{...r,perioder:[AN(n,r)]}},TN=e=>e?[{...e,vilkårsperiodeFom:e.skjaeringstidspunktBeregning}]:[],EN=[ae.VURDER_FAKTA_FOR_ATFL_SN,ae.AVKLAR_AKTIVITETER,ae.OVERSTYRING_AV_BEREGNINGSAKTIVITETER,ae.OVERSTYRING_AV_BEREGNINGSGRUNNLAG],_N=[ae.OVERSTYRING_AV_BEREGNINGSAKTIVITETER,ae.OVERSTYRING_AV_BEREGNINGSGRUNNLAG],SN=[we.BEREGNINGSGRUNNLAG],Ed=({arbeidsgiverOpplysningerPerId:e,rettigheter:n,...r})=>Ne.jsx(Nr,{...r,panelEndepunkter:SN,aksjonspunktKoder:EN,overstyringApKoder:_N,faktaPanelKode:yr.BEREGNING,faktaPanelMenyTekst:Q().formatMessage({id:"BeregningInfoPanel.Title"}),skalPanelVisesIMeny:()=>Ao.hasPath(we.BEREGNINGSGRUNNLAG.name),renderPanel:t=>{var i;return Ne.jsx(bN,{...t,kodeverkSamling:t.alleKodeverk,vilkar:IN((i=r.behandling)==null?void 0:i.vilkår,t.beregningsgrunnlag),beregningsgrunnlag:TN(t.beregningsgrunnlag),submitCallback:xN(t.submitCallback),arbeidsgiverOpplysningerPerId:e,erOverstyrer:n.kanOverstyreAccess.isEnabled,skalKunneOverstyreAktiviteter:!0})}});try{Ed.displayName="BeregningFaktaInitPanel",Ed.__docgenInfo={description:"BeregningFaktaInitPanel",displayName:"BeregningFaktaInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},rettigheter:{defaultValue:null,description:"",name:"rettigheter",required:!0,type:{name:"AksessRettigheter"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}function yN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wu={exports:{}},qr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d;function NN(){if(_d)return qr;_d=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,c={},h=null,b=null;u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),o.ref!==void 0&&(b=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(c[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)c[k]===void 0&&(c[k]=o[k]);return{$$typeof:n,type:d,key:h,ref:b,props:c,_owner:i.current}}return qr.Fragment=r,qr.jsx=l,qr.jsxs=l,qr}wu.exports=NN();var E=wu.exports,Gs=(e=>(e.BRUK_PERMISJON="BRUK_PERMISJON",e.IKKE_BRUK_PERMISJON="IKKE_BRUK_PERMISJON",e))(Gs||{});const PN="_inline_1gq7u_1",RN="_topPadding_1gq7u_5",ON="_phoneIcon_1gq7u_9",BN="_docIcon_1gq7u_15",ur={inline:PN,topPadding:RN,phoneIcon:ON,docIcon:BN},FN=({saksnummer:e,inntektsmelding:n})=>E.jsxs(E.Fragment,{children:[E.jsx(x,{eightPx:!0}),E.jsxs(se,{children:[E.jsxs(y,{children:[E.jsx(v,{children:E.jsx(V,{size:"small",children:E.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Inntektsmelding"})})}),E.jsx(v,{className:ur.topPadding,children:E.jsx(I,{size:"small",children:K(n.inntektPrMnd)})})]}),E.jsx(x,{eightPx:!0}),E.jsxs(y,{children:[E.jsx(v,{children:E.jsx(V,{size:"small",children:E.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjon"})})}),E.jsx(v,{className:ur.topPadding,children:E.jsx(I,{size:"small",children:E.jsx(m,{id:n.refusjonPrMnd?"InntektsmeldingOpplysningerPanel.Ja":"InntektsmeldingOpplysningerPanel.Nei"})})})]}),E.jsx(x,{eightPx:!0}),n.refusjonPrMnd&&E.jsxs(E.Fragment,{children:[E.jsxs(y,{children:[E.jsx(v,{children:E.jsx(V,{size:"small",children:E.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Refusjonsbeløp"})})}),E.jsx(v,{className:ur.topPadding,children:E.jsx(I,{size:"small",children:K(n.refusjonPrMnd)})})]}),E.jsx(x,{eightPx:!0})]}),E.jsxs(kt,{href:bo(e,n.journalpostId,n.dokumentId),target:"_blank",children:[E.jsx("span",{children:E.jsx(I,{size:"small",className:ur.inline,children:E.jsx(m,{id:"InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding"})})}),E.jsx(Bo,{className:ur.docIcon})]}),E.jsx(x,{sixteenPx:!0}),E.jsxs(y,{children:[E.jsx(v,{children:E.jsx(Fo,{className:ur.phoneIcon})}),E.jsxs(v,{children:[E.jsx(y,{children:E.jsx(v,{children:E.jsx(V,{size:"small",children:E.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Kontaktinfo"})})})}),E.jsx(y,{children:E.jsx(v,{children:E.jsx(ke,{children:n.kontaktpersonNavn})})}),E.jsx(y,{children:E.jsx(v,{children:E.jsx(ke,{children:E.jsx(m,{id:"InntektsmeldingOpplysningerPanel.Tlf",values:{nr:n.kontaktpersonNummer}})})})})]})]})]}),E.jsx(x,{thirtyTwoPx:!0})]});var Uu={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var t=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var l=typeof s;if(l==="string"||l==="number")t.push(this&&this[s]||s);else if(Array.isArray(s))t.push(r.apply(this,s));else if(l==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){t.push(s.toString());continue}for(var d in s)n.call(s,d)&&s[d]&&t.push(this&&this[d]||d)}}}return t.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Uu);var $N=Uu.exports;const DN=yN($N),VN="_boks_kspkv_1",GN="_aksjonspunkt_kspkv_9",LN="_harBorderTop_kspkv_13",Cu={boks:VN,aksjonspunkt:GN,harBorderTop:LN},MN=DN.bind(Cu),KN=({harÅpentAksjonspunkt:e,harBorderTop:n,children:r})=>E.jsx("div",{className:MN(Cu.boks,{aksjonspunkt:e,harBorderTop:n}),children:r}),wN="_maanedBredde_pqnhm_1",UN="_aarBredde_pqnhm_5",CN="_belopBredde_pqnhm_9",zN="_inline_pqnhm_13",YN="_arrow_pqnhm_17",kr={maanedBredde:wN,aarBredde:UN,belopBredde:CN,inline:zN,arrow:YN},HN=(e,n)=>{const r=T(e).startOf("month"),t=r.subtract(12,"month"),i=[];for(let s=r;s.isAfter(t);s=s.subtract(1,"month")){const l=s.format(ye),d=n.find(o=>T(o.fom).startOf("month").format(ye)===l);i.push({beløp:(d==null?void 0:d.beløp)||0,fom:l})}return i},JN=({inntektsposter:e,skjæringstidspunkt:n})=>{const[r,t]=j.useState(!1),i=j.useMemo(()=>HN(n,e),[e]);return E.jsxs(E.Fragment,{children:[e.length>0&&E.jsxs(E.Fragment,{children:[E.jsx(V,{size:"small",children:E.jsx(m,{id:"InntektsposterPanel.Inntekter"})}),E.jsx(se,{children:i.filter((s,l)=>r?!0:l<3).map(s=>E.jsxs(y,{children:[E.jsx(v,{className:kr.maanedBredde,children:E.jsx(I,{size:"small",children:E.jsx(m,{id:`InntektsposterPanel.${T(s.fom).month()+1}`})})}),E.jsx(v,{className:kr.aarBredde,children:E.jsx(I,{size:"small",children:T(s.fom).year()})}),E.jsx(v,{className:kr.belopBredde,children:E.jsx(tn,{children:E.jsx(I,{size:"small",children:K(s.beløp)})})})]},s.fom))}),E.jsxs(kt,{onClick:s=>{s.preventDefault(),t(!r)},href:"",children:[E.jsx("span",{children:E.jsx(I,{size:"small",className:kr.inline,children:E.jsx(m,{id:r?"InntektsposterPanel.FaerreManeder":"InntektsposterPanel.TidligereManeder"})})}),r?E.jsx(Hs,{className:kr.arrow}):E.jsx(ji,{className:kr.arrow})]})]}),e.length===0&&E.jsx(V,{size:"small",children:E.jsx(m,{id:"InntektsposterPanel.IngenInntekt"})})]})},qN="_body_hrlo3_1",ZN="_hjelpetekst_hrlo3_5",WN="_firstCol_hrlo3_9",XN="_secCol_hrlo3_13",QN="_thirdCol_hrlo3_17",eP="_fourthCol_hrlo3_21",nP="_topPadding_hrlo3_25",rP="_image_hrlo3_29",tP="_hjelpetekstInnhold_hrlo3_33",iP="_exclamationmarkIcon_hrlo3_38",sP="_checkmarkIcon_hrlo3_45",Je={body:qN,hjelpetekst:ZN,firstCol:WN,secCol:XN,thirdCol:QN,fourthCol:eP,topPadding:nP,image:rP,hjelpetekstInnhold:tP,exclamationmarkIcon:iP,checkmarkIcon:sP},aP="arbeidsforhold",lP=(e,n)=>n.arbeidsgiverIdent===e.arbeidsgiverIdent&&(!n.internArbeidsforholdId||n.internArbeidsforholdId===e.internArbeidsforholdId),dP=e=>{const n=Math.ceil(e.length/25),r=Array.from({length:n},(t,i)=>e.slice(i*25,i*25+25));return E.jsx("p",{children:r.join("-")})},oP=({index:e,fieldId:n,saksnummer:r,sorterteArbeidsforhold:t,arbeidOgInntekt:i,arbeidsgiverOpplysningerPerId:s,isReadOnly:l,harÅpentAksjonspunkt:d,skjæringstidspunkt:o,alleKodeverk:u})=>{var k;const c=Q(),{inntektsmeldinger:h,inntekter:b}=i,A=t[e],_=h.find(C=>lP(A,C)),P=(k=b.find(C=>C.arbeidsgiverIdent===A.arbeidsgiverIdent))==null?void 0:k.inntekter,S=t.filter(C=>C.arbeidsgiverIdent===A.arbeidsgiverIdent).length>1,F=s[A.arbeidsgiverIdent],N=j.useRef(null),[D,$]=j.useState(!1),M=j.useCallback(()=>$(C=>!C),[]);return E.jsx(KN,{harÅpentAksjonspunkt:d,harBorderTop:e===0,children:E.jsx(se,{children:E.jsxs(y,{children:[E.jsxs(v,{children:[!d&&E.jsx(zs,{title:c.formatMessage({id:"ArbeidsforholdFieldArray.Ok"}),className:Je.checkmarkIcon}),d&&E.jsx(nr,{title:c.formatMessage({id:"ArbeidsforholdFieldArray.Aksjonspunkt"}),className:Je.exclamationmarkIcon})]}),E.jsxs(v,{className:Je.body,children:[E.jsxs(se,{children:[E.jsxs(y,{children:[E.jsxs(v,{className:Je.firstCol,children:[E.jsx(V,{size:"small",children:F.navn}),A.arbeidsgiverIdent&&E.jsxs(ke,{children:["(",F.erPrivatPerson&&F.fødselsdato?E.jsx(Re,{dateString:F.fødselsdato}):A.arbeidsgiverIdent,")"]})]}),E.jsxs(v,{className:Je.secCol,children:[E.jsx(V,{size:"small",children:E.jsx(m,{id:"ArbeidsforholdFieldArray.Periode"})}),E.jsxs(I,{size:"small",children:[A&&E.jsx(Ue,{dateStringFom:A.fom,dateStringTom:A.tom!==Me?A.tom:void 0}),!A&&"-"]})]}),E.jsxs(v,{className:Je.thirdCol,children:[E.jsx(V,{size:"small",children:E.jsx(m,{id:"ArbeidsforholdFieldArray.Kilde"})}),E.jsx(I,{size:"small",children:E.jsx(m,{id:A?"ArbeidsforholdFieldArray.AaRegisteret":"ArbeidsforholdFieldArray.Inntektsmelding"})})]}),E.jsxs(v,{className:Je.fourthCol,children:[E.jsx(V,{size:"small",children:E.jsx(m,{id:"ArbeidsforholdFieldArray.InntektsmeldingMottatt"})}),E.jsxs(I,{size:"small",children:[(_==null?void 0:_.motattDato)&&E.jsx(Re,{dateString:_.motattDato}),!(_!=null&&_.motattDato)&&E.jsx(m,{id:"ArbeidsforholdFieldArray.IkkeMottatt"})]})]})]}),E.jsx(x,{sixteenPx:!0}),E.jsxs(y,{children:[E.jsxs(v,{className:Je.firstCol,children:[S&&A.eksternArbeidsforholdId&&E.jsxs(E.Fragment,{children:[E.jsxs(y,{children:[E.jsx(v,{children:E.jsx(V,{size:"small",children:E.jsx(m,{id:"ArbeidsforholdFieldArray.Id"})})}),E.jsxs(v,{className:Je.topPadding,children:[A.eksternArbeidsforholdId.length<50&&E.jsx(I,{size:"small",children:A.eksternArbeidsforholdId}),A.eksternArbeidsforholdId.length>=50&&E.jsx(ko,{content:dP(A.eksternArbeidsforholdId),alignBottom:!0,children:E.jsx(I,{size:"small",children:`${A.eksternArbeidsforholdId.substring(0,50)}...`})})]})]}),E.jsx(x,{eightPx:!0})]}),A.stillingsprosent&&E.jsxs(E.Fragment,{children:[E.jsxs(y,{children:[E.jsx(v,{children:E.jsx(V,{size:"small",children:E.jsx(m,{id:"ArbeidsforholdFieldArray.Stillingsprosent"})})}),E.jsx(v,{className:Je.topPadding,children:E.jsx(I,{size:"small",children:`${A.stillingsprosent}%`})})]}),E.jsx(x,{eightPx:!0})]}),_&&E.jsx(FN,{saksnummer:r,inntektsmelding:_}),!_&&P&&E.jsxs(E.Fragment,{children:[E.jsx(x,{thirtyTwoPx:!0}),E.jsx(JN,{inntektsposter:P,skjæringstidspunkt:o}),E.jsx(x,{thirtyTwoPx:!0})]})]}),E.jsx(v,{children:A.permisjonOgMangel&&E.jsxs(E.Fragment,{children:[E.jsx(V,{size:"small",children:`${ii(u,_n.PERMISJONSBESKRIVELSE_TYPE,A.permisjonOgMangel.type)} 100%`}),E.jsx(I,{size:"small",children:E.jsx(Ue,{dateStringFom:A.permisjonOgMangel.permisjonFom,dateStringTom:void 0})})]})})]})]}),E.jsx(Ie,{name:`${aP}.${e}.permisjonStatus`,label:E.jsx(se,{children:E.jsxs(y,{children:[E.jsx(v,{children:E.jsx(m,{id:"ArbeidsforholdFieldArray.SkalArbeidsforholdetTasMed"})}),E.jsxs(v,{className:Je.image,children:[E.jsx(ne,{ref:N,type:"button",variant:"tertiary",onClick:M,icon:E.jsx(ea,{title:c.formatMessage({id:"ArbeidsforholdFieldArray.AltHjelpetekst"})})}),E.jsx(xr,{open:D,onClose:M,anchorEl:N.current,className:Je.hjelpetekst,children:E.jsxs(xr.Content,{className:Je.hjelpetekstInnhold,children:[E.jsx(I,{children:E.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel1"})}),E.jsx(x,{eightPx:!0}),E.jsx(I,{children:E.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel2"})}),E.jsx(x,{eightPx:!0}),E.jsx(I,{children:E.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel3"})}),E.jsx(x,{eightPx:!0}),E.jsx(I,{children:E.jsx(m,{id:"ArbeidsforholdFieldArray.HjelpetekstDel4"})})]})})]})]})}),validate:[X],isReadOnly:l,radios:[{label:c.formatMessage({id:_?"ArbeidsforholdFieldArray.TaMedArbeidsforhold":"ArbeidsforholdFieldArray.TaMedArbeidsforholdIkkeInntektsmelding"}),value:Gs.IKKE_BRUK_PERMISJON},{label:c.formatMessage({id:"ArbeidsforholdFieldArray.IkkeTaMedArbeidsforhold"}),value:Gs.BRUK_PERMISJON}]}),E.jsx(x,{fourPx:!0})]})]})})},n)},gP="arbeidsforhold",uP=({saksnummer:e,sorterteArbeidsforhold:n,arbeidOgInntekt:r,arbeidsgiverOpplysningerPerId:t,isReadOnly:i,harÅpentAksjonspunkt:s,skjæringstidspunkt:l,alleKodeverk:d})=>{const{control:o}=_e(),{fields:u}=an({control:o,name:gP});return E.jsx(E.Fragment,{children:u.map((k,c)=>E.jsx(oP,{fieldId:k.id,index:c,saksnummer:e,sorterteArbeidsforhold:n,arbeidOgInntekt:r,arbeidsgiverOpplysningerPerId:t,isReadOnly:i,harÅpentAksjonspunkt:s,skjæringstidspunkt:l,alleKodeverk:d},k.id))})},kP=cn(3),mP=pn(1500),fP=e=>(n,r)=>e[n.arbeidsgiverIdent].navn.localeCompare(e[r.arbeidsgiverIdent].navn),cP=({saksnummer:e,aksjonspunkter:n,readOnly:r,arbeidOgInntekt:t,arbeidsgiverOpplysningerPerId:i,formData:s,setFormData:l,lagreCallback:d,alleKodeverk:o})=>{const u=j.useMemo(()=>({inntektsmeldinger:t.inntektsmeldinger,arbeidsforhold:t.arbeidsforhold.filter(_=>{var P;return(P=_.permisjonOgMangel)==null?void 0:P.årsak}),inntekter:t.inntekter,skjæringstidspunkt:t.skjæringstidspunkt}),[t]),{arbeidsforhold:k}=u,c=j.useMemo(()=>[...k].sort(fP(i)),[k,i]),h=j.useMemo(()=>({arbeidsforhold:c.map(_=>{var P;return{permisjonStatus:(P=_.permisjonOgMangel)==null?void 0:P.permisjonStatus}}),begrunnelse:n[0].begrunnelse}),[c]),b=ze({defaultValues:s||h});j.useEffect(()=>()=>{l(b.getValues())},[b.getValues()]);const A=n.some(_=>_.status===Zn.OPPRETTET);return E.jsxs(E.Fragment,{children:[E.jsx(se,{children:E.jsxs(y,{spaceBetween:!0,children:[E.jsx(v,{children:E.jsx(ce,{size:"small",children:E.jsx(m,{id:"PermisjonFaktaPanel.Overskrift"})})}),E.jsx(v,{children:E.jsx(I,{size:"small",children:E.jsx(m,{id:"PermisjonFaktaPanel.Skjaringstidspunkt",values:{skjæringspunktDato:De(u.skjæringstidspunkt)}})})})]})}),E.jsx(x,{thirtyTwoPx:!0}),A&&E.jsx(ut,{children:E.jsx(m,{id:"PermisjonFaktaPanel.PermisjonUtenSluttdato"})}),E.jsx(x,{thirtyTwoPx:!0}),E.jsxs(Ye,{formMethods:b,onSubmit:_=>d({kode:ae.VURDER_ARBEIDSFORHOLD_PERMISJON,arbeidsforhold:_.arbeidsforhold.map((P,S)=>({internArbeidsforholdId:c[S].internArbeidsforholdId,arbeidsgiverIdent:c[S].arbeidsgiverIdent,permisjonStatus:P.permisjonStatus})),begrunnelse:_.begrunnelse}),children:[E.jsx(uP,{saksnummer:e,sorterteArbeidsforhold:c,arbeidOgInntekt:u,arbeidsgiverOpplysningerPerId:i,isReadOnly:r,harÅpentAksjonspunkt:A,skjæringstidspunkt:u.skjæringstidspunkt,alleKodeverk:o}),E.jsx(x,{thirtyTwoPx:!0}),E.jsx(Xe,{label:E.jsx(V,{size:"small",children:E.jsx(m,{id:"PermisjonFaktaPanel.Begrunn"})}),name:"begrunnelse",validate:[X,kP,mP,fn],maxLength:1500,readOnly:r}),E.jsx(x,{sixteenPx:!0}),!r&&E.jsx(ne,{size:"small",variant:"primary",disabled:!b.formState.isDirty||b.formState.isSubmitting,loading:b.formState.isSubmitting,children:E.jsx(m,{id:"PermisjonFaktaPanel.Bekreft"})})]})]})},pP={"PermisjonFaktaPanel.Overskrift":"Fakta om permisjon","PermisjonFaktaPanel.Arbeidsforhold":"Arbeidsforhold","PermisjonFaktaPanel.Skjaringstidspunkt":"Skjæringstidspunkt for opptjening: {skjæringspunktDato}","PermisjonFaktaPanel.Bekreft":"Bekreft og fortsett","PermisjonFaktaPanel.PermisjonUtenSluttdato":"Vi fant en permisjon uten sluttdato. Vurder om arbeidsforholdet skal tas med.","PermisjonFaktaPanel.Begrunn":"Begrunn valget","ArbeidsforholdFieldArray.Periode":"Periode","ArbeidsforholdFieldArray.Kilde":"Kilde","ArbeidsforholdFieldArray.InntektsmeldingMottatt":"Inntektsmelding","ArbeidsforholdFieldArray.Saksbehandler":"Saksbehandler","ArbeidsforholdFieldArray.AaRegisteret":"A-inntekt","ArbeidsforholdFieldArray.Inntektsmelding":"Inntektsmelding","ArbeidsforholdFieldArray.Aksjonspunkt":"Åpent aksjonspunkt","ArbeidsforholdFieldArray.Ok":"Arbeidsforhold er OK","ArbeidsforholdFieldArray.HjelpetekstDel1":"Søker er registrert med permisjon eller permittering uten sluttdato fra arbeidsforholdet sitt i AA-reg. Vurder om dette arbeidsforholdet skal være med i beregningen. Dersom det fjernes vil det bli borte fra beregningen og eventuell mottatt inntektsmelding vil ikke brukes. Tas det med, vil det brukes i beregningen og bli med videre i behandlingen.","ArbeidsforholdFieldArray.HjelpetekstDel2":"Dersom arbeidsforholdet tas med og det trengs inntektsmelding, må dette innhentes.","ArbeidsforholdFieldArray.HjelpetekstDel3":"Permisjoner eller permitteringer med en sluttdato tas automatisk med. Du trenger ikke etterspørre inntektsmeldinger.","ArbeidsforholdFieldArray.HjelpetekstDel4":"Mottas det inntektsmelding med refusjonskrav vil denne brukes i behandlingen.","ArbeidsforholdFieldArray.Id":"ID","ArbeidsforholdFieldArray.Stillingsprosent":"Stillingsprosent","ArbeidsforholdFieldArray.SkalArbeidsforholdetTasMed":"Skal arbeidsforholdet tas med?","ArbeidsforholdFieldArray.TaMedArbeidsforhold":"Fjern permisjonen og ta med arbeidsforholdet","ArbeidsforholdFieldArray.TaMedArbeidsforholdIkkeInntektsmelding":"Fjern permisjonen og ta med arbeidsforholdet. Vurder om inntektsmelding må innhentes","ArbeidsforholdFieldArray.IkkeTaMedArbeidsforhold":"Ikke ta med arbeidsforholdet","ArbeidsforholdFieldArray.IkkeMottatt":"Ikke mottatt","ArbeidsforholdFieldArray.AltHjelpetekst":"Hjelpetekst","InntektsmeldingOpplysningerPanel.Inntektsmelding":"Inntektsmelding","InntektsmeldingOpplysningerPanel.Refusjon":"Refusjon","InntektsmeldingOpplysningerPanel.Ja":"Ja","InntektsmeldingOpplysningerPanel.Nei":"Nei","InntektsmeldingOpplysningerPanel.Refusjonsbeløp":"Refusjonsbeløp","InntektsmeldingOpplysningerPanel.Kontaktinfo":"Kontaktinfo","InntektsmeldingOpplysningerPanel.Tlf":"Tlf. {nr}","InntektsmeldingOpplysningerPanel.ÅpneInntektsmelding":"Åpne inntektsmelding (PDF)","InntektsposterPanel.Inntekter":"Inntekter (fra A-inntekt)","InntektsposterPanel.1":"Jan","InntektsposterPanel.2":"Feb","InntektsposterPanel.3":"Mars","InntektsposterPanel.4":"Apr","InntektsposterPanel.5":"Mai","InntektsposterPanel.6":"Jun","InntektsposterPanel.7":"Jul","InntektsposterPanel.8":"Aug","InntektsposterPanel.9":"Sep","InntektsposterPanel.10":"Okt","InntektsposterPanel.11":"Nov","InntektsposterPanel.12":"Des","InntektsposterPanel.TidligereManeder":"Tidligere måneder ","InntektsposterPanel.FaerreManeder":"Siste måneder ","InntektsposterPanel.IngenInntekt":"Ingen inntekt registrert på bruker i A-inntekt"},vP=Ge(pP),zu=({saksnummer:e,submitCallback:n,aksjonspunkter:r,readOnly:t,formData:i,setFormData:s,arbeidOgInntekt:l,arbeidsgiverOpplysningerPerId:d,alleKodeverk:o})=>E.jsx(Ze,{value:vP,children:E.jsx(cP,{saksnummer:e,aksjonspunkter:r,readOnly:t,formData:i,lagreCallback:n,setFormData:s,arbeidOgInntekt:l,arbeidsgiverOpplysningerPerId:d,alleKodeverk:o})});zu.__docgenInfo={description:"",methods:[],displayName:"pt"};const Sd=[ae.VURDER_ARBEIDSFORHOLD_PERMISJON],hP=[we.ARBEID_OG_INNTEKT],yd=({saksnummer:e,arbeidsgiverOpplysningerPerId:n,...r})=>Ne.jsx(Nr,{...r,panelEndepunkter:hP,aksjonspunktKoder:Sd,faktaPanelKode:yr.PERMISJON,faktaPanelMenyTekst:Q().formatMessage({id:"PermisjonFaktaInitPanel.Title"}),skalPanelVisesIMeny:()=>!!r.behandling.aksjonspunkt.some(t=>t.definisjon===Sd[0]),renderPanel:t=>Ne.jsx(zu,{saksnummer:e,arbeidsgiverOpplysningerPerId:n,...t})});try{yd.displayName="PermisjonFaktaInitPanel",yd.__docgenInfo={description:"",displayName:"PermisjonFaktaInitPanel",props:{saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},valgtFaktaSteg:{defaultValue:null,description:"",name:"valgtFaktaSteg",required:!1,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},registrerFaktaPanel:{defaultValue:null,description:"",name:"registrerFaktaPanel",required:!0,type:{name:"(data: FaktaPanelMenyData) => void"}}}}}catch{}var Yu={exports:{}},Zr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd;function bP(){if(Nd)return Zr;Nd=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,c={},h=null,b=null;u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),o.ref!==void 0&&(b=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(c[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)c[k]===void 0&&(c[k]=o[k]);return{$$typeof:n,type:d,key:h,ref:b,props:c,_owner:i.current}}return Zr.Fragment=r,Zr.jsx=l,Zr.jsxs=l,Zr}Yu.exports=bP();var z=Yu.exports;const Bn={BEKREFTET_GODKJENT:"BEKREFTET_GODKJENT",BEKREFTET_AVVIST:"BEKREFTET_AVVIST",ANTATT_GODKJENT:"ANTATT_GODKJENT",ANTATT_AVVIST:"ANTATT_AVVIST"},jP="_godkjentImage_1bp9b_1",xP="_avslattImage_1bp9b_7",AP="_margin_1bp9b_13",IP="_fix_1bp9b_17",Wr={godkjentImage:jP,avslattImage:xP,margin:AP,fix:IP},TP="MELLOMLIGGENDE_PERIODE",EP=e=>e===Bn.BEKREFTET_AVVIST||e===Bn.ANTATT_AVVIST?"OpptjeningVilkarView.Avslatt":"OpptjeningVilkarView.Godkjent",Pd=e=>e===Bn.BEKREFTET_GODKJENT||e===Bn.ANTATT_GODKJENT||e===TP,_P=({fastsattOpptjeningAktivitet:e,lukkPeriode:n,velgNestePeriode:r,velgForrigePeriode:t})=>{const i=Q();return z.jsxs(qs,{border:!0,children:[z.jsx(se,{children:z.jsxs(y,{spaceBetween:!0,children:[z.jsx(v,{children:z.jsx(V,{size:"small",children:z.jsx(m,{id:"OpptjeningVilkarView.DetailsForSelectedPeriod"})})}),z.jsxs(v,{className:Wr.fix,children:[z.jsx(ne,{className:Wr.margin,size:"xsmall",icon:z.jsx(Si,{"aria-hidden":!0}),onClick:t,variant:"secondary-neutral",type:"button",title:i.formatMessage({id:"TimeLineData.prevPeriod"}),children:z.jsx(m,{id:"TimeLineData.prevPeriodShort"})}),z.jsx(ne,{className:Wr.margin,size:"xsmall",icon:z.jsx(yi,{"aria-hidden":!0}),onClick:r,variant:"secondary-neutral",type:"button",title:i.formatMessage({id:"TimeLineData.nextPeriod"}),iconPosition:"right",children:z.jsx(m,{id:"TimeLineData.nextPeriodShort"})}),z.jsx(ne,{size:"xsmall",icon:z.jsx(qn,{"aria-hidden":!0}),onClick:n,variant:"tertiary-neutral",type:"button",title:i.formatMessage({id:"TimeLineData.lukkPeriode"})})]})]})}),z.jsx(x,{sixteenPx:!0}),z.jsx(I,{size:"small",children:z.jsx(Ue,{dateStringFom:e.fom,dateStringTom:e.tom})}),z.jsx(x,{sixteenPx:!0}),z.jsxs(Yk,{children:[Pd(e.klasse)&&z.jsx(zs,{className:Wr.godkjentImage}),!Pd(e.klasse)&&z.jsx(qn,{className:Wr.avslattImage}),z.jsx(m,{id:EP(e.klasse)})]})]})},SP={danger:z.jsx(Io,{}),success:z.jsx(Xs,{}),info:z.jsx(Im,{})},yP=e=>e===Bn.BEKREFTET_AVVIST||e===Bn.ANTATT_AVVIST?"danger":e===Bn.BEKREFTET_GODKJENT||e===Bn.ANTATT_GODKJENT?"success":"info",NP=e=>e.map(n=>({start:T(n.fom).toDate(),end:T(n.tom).toDate(),status:yP(n.klasse),opptjeningsperiode:n})),PP=e=>e==="info"?"OpptjeningTimeLineLight.MellomliggendePeriode":e==="success"?"OpptjeningTimeLineLight.Godkjent":"OpptjeningTimeLineLight.Avslatt",RP=({opptjeningPeriods:e,opptjeningFomDate:n,opptjeningTomDate:r})=>{const t=Q(),i=j.useMemo(()=>[...e].sort((h,b)=>T(h.fom).diff(T(b.fom))),[e]),s=j.useMemo(()=>NP(i),[i]),[l,d]=j.useState(),o=h=>{const b=s.find(A=>{var _;return((_=A.opptjeningsperiode)==null?void 0:_.fom)===h});b&&d(b)},u=j.useCallback(()=>{d(void 0)},[]),k=j.useCallback(()=>{if(s){const h=s.findIndex(b=>{var A,_;return((A=b.opptjeningsperiode)==null?void 0:A.fom)===((_=l==null?void 0:l.opptjeningsperiode)==null?void 0:_.fom)})+1;h<s.length&&d(s[h])}},[s,l,d]),c=j.useCallback(()=>{if(s){const h=s.findIndex(b=>{var A,_;return((A=b.opptjeningsperiode)==null?void 0:A.fom)===((_=l==null?void 0:l.opptjeningsperiode)==null?void 0:_.fom)})-1;h>=0&&d(s[h])}},[s,l,d]);return z.jsxs(z.Fragment,{children:[z.jsx(x,{twentyPx:!0}),z.jsxs($e,{startDate:T(n).subtract(1,"months").toDate(),endDate:T(r).add(10,"days").toDate(),children:[z.jsxs($e.Pin,{date:T(n).toDate(),children:[z.jsx(V,{size:"small",children:z.jsx(m,{id:"OpptjeningTimeLineLight.StartDato"})}),z.jsx(I,{size:"small",children:z.jsx(Re,{dateString:n})})]}),z.jsxs($e.Pin,{date:T(r).toDate(),children:[z.jsx(V,{size:"small",children:z.jsx(m,{id:"OpptjeningTimeLineLight.SluttDato"})}),z.jsx(I,{size:"small",children:z.jsx(Re,{dateString:r})})]}),z.jsx($e.Row,{label:"",children:s.map(h=>{var b,A,_;return z.jsx($e.Period,{start:h.start,end:h.end,status:h.status,onSelectPeriod:()=>{var P;return o((P=h.opptjeningsperiode)==null?void 0:P.fom)},isActive:((b=l==null?void 0:l.opptjeningsperiode)==null?void 0:b.fom)===((A=h.opptjeningsperiode)==null?void 0:A.fom),icon:SP[h.status],title:t.formatMessage({id:PP(h.status)})},(_=h.opptjeningsperiode)==null?void 0:_.fom)})})]}),z.jsx(x,{sixteenPx:!0}),(l==null?void 0:l.opptjeningsperiode)&&z.jsx(_P,{fastsattOpptjeningAktivitet:l.opptjeningsperiode,lukkPeriode:u,velgNestePeriode:k,velgForrigePeriode:c})]})},Hu=({months:e,days:n,fastsattOpptjeningActivities:r=[],opptjeningFomDate:t,opptjeningTomDate:i})=>z.jsxs(z.Fragment,{children:[z.jsx(I,{size:"small",children:z.jsx(m,{id:"OpptjeningVilkarView.MonthsAndDays",values:{months:e,days:n}})}),z.jsx(x,{eightPx:!0}),z.jsx(I,{size:"small",children:z.jsx(Ue,{dateStringFom:t,dateStringTom:i})}),z.jsx(x,{sixteenPx:!0}),r.length>0&&z.jsx(RP,{opptjeningPeriods:r,opptjeningFomDate:t,opptjeningTomDate:i})]}),OP=(e,n,r)=>({...ta.buildInitialValues(e,n,r),...Pr.buildInitialValues(e)}),BP=e=>({...ta.transformValues(e),...Pr.transformValues(e),kode:ae.VURDER_OPPTJENINGSVILKARET}),FP=({isApOpen:e,readOnlySubmitButton:n,readOnly:r,lovReferanse:t,aksjonspunkter:i,behandlingsresultat:s,status:l,fastsattOpptjening:d,submitCallback:o,erIkkeGodkjentAvBeslutter:u,formData:k,setFormData:c,erSvpFagsak:h})=>{const b=Q(),A=j.useMemo(()=>OP(i,l,s),[s,i,l]),_=ze({defaultValues:k||A}),P=i.some($=>$.status===Zn.OPPRETTET)?void 0:To.OPPFYLT===l,S=j.useCallback($=>o(BP($)),[o]),F=j.useCallback((...$)=>z.jsx("b",{children:$}),[]),N=j.useCallback($=>{var M;return((M=d.fastsattOpptjeningAktivitetList)==null?void 0:M.length)===0&&$===!0?b.formatMessage({id:"OpptjeningVilkarAksjonspunktPanel.KanIkkeVelgeOppfylt"}):null},[]),D=j.useCallback(()=>z.jsxs(z.Fragment,{children:[z.jsx(x,{sixteenPx:!0}),z.jsx(Hu,{months:d.opptjeningperiode.måneder,days:d.opptjeningperiode.dager,fastsattOpptjeningActivities:d.fastsattOpptjeningAktivitetList,opptjeningFomDate:d.opptjeningFom,opptjeningTomDate:d.opptjeningTom})]}),[d]);return z.jsx(Ye,{formMethods:_,onSubmit:S,setDataOnUnmount:c,children:z.jsxs(fm,{title:b.formatMessage({id:"OpptjeningVilkarAksjonspunktPanel.Opptjeningsvilkaret"}),isAksjonspunktOpen:e,readOnlySubmitButton:n,readOnly:r,lovReferanse:t,originalErVilkarOk:P,erIkkeGodkjentAvBeslutter:u,isDirty:_.formState.isDirty,isSubmitting:_.formState.isSubmitting,rendreFakta:D,children:[z.jsx(V,{size:"small",children:z.jsx(m,{id:h?"OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilSvangerskapspenger":"OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilForeldrepenger"})}),z.jsx(ta,{readOnly:r,customVilkarOppfyltText:z.jsx(m,{id:h?"OpptjeningVilkarAksjonspunktPanel.ErOppfyltSvp":"OpptjeningVilkarAksjonspunktPanel.ErOppfylt"}),customVilkarIkkeOppfyltText:z.jsx(m,{id:h?"OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfyltSvp":"OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfylt",values:{b:F}}),validatorsForRadioOptions:[N]}),z.jsx(x,{sixteenPx:!0}),z.jsx(Pr,{readOnly:r})]})})},$P=({behandlingsresultat:e,fastsattOpptjening:n,isAksjonspunktOpen:r,aksjonspunkter:t,status:i,lovReferanse:s,readOnlySubmitButton:l,readOnly:d,submitCallback:o,erIkkeGodkjentAvBeslutter:u,formData:k,setFormData:c,erSvpFagsak:h})=>t.length>0?z.jsx(FP,{submitCallback:o,isApOpen:r,readOnly:d,readOnlySubmitButton:l,behandlingsresultat:e,aksjonspunkter:t,status:i,lovReferanse:s,fastsattOpptjening:n,erIkkeGodkjentAvBeslutter:u,formData:k,setFormData:c,erSvpFagsak:h}):z.jsx(Hu,{months:n.opptjeningperiode.måneder,days:n.opptjeningperiode.dager,fastsattOpptjeningActivities:n.fastsattOpptjeningAktivitetList,opptjeningFomDate:n.opptjeningFom,opptjeningTomDate:n.opptjeningTom}),DP={"OpptjeningVilkarView.Oppfylt":"Vilkåret er oppfylt","OpptjeningVilkarView.Godkjent":"Godkjent","OpptjeningVilkarView.Avslatt":"Avslått","OpptjeningVilkarView.Months":"måneder","OpptjeningVilkarView.Weeks":"uker","OpptjeningVilkarView.Days":"dager","OpptjeningVilkarView.MonthsAndDays":"{months} måneder og {days} dager aktivitet i opptjeningsperioden","OpptjeningVilkarView.DetailsForSelectedPeriod":"Detaljer for valgt periode","OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilForeldrepenger":"Opptjent rett til foreldrepenger","OpptjeningVilkarAksjonspunktPanel.SokerHarVurdertOpptjentRettTilSvangerskapspenger":"Opptjent rett til svangerskapspenger","OpptjeningVilkarAksjonspunktPanel.ErOppfylt":"Søker har oppfylt krav om 6 mnd opptjening, vilkåret er oppfylt.","OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfylt":"Søker har ikke oppfylt krav om 6 mnd opptjening, vilkåret er <b>ikke</b> oppfylt.","OpptjeningVilkarAksjonspunktPanel.ErOppfyltSvp":"Søker har oppfylt krav om 4 uker opptjening, vilkåret er oppfylt.","OpptjeningVilkarAksjonspunktPanel.ErIkkeOppfyltSvp":"Søker har ikke oppfylt krav om 4 uker mnd opptjening, vilkåret er <b>ikke</b> oppfylt.","OpptjeningVilkarAksjonspunktPanel.Opptjeningsvilkaret":"Opptjening","OpptjeningVilkarAksjonspunktPanel.KanIkkeVelgeOppfylt":"Du kan ikke velge at opptjeningsvilkåret er oppfylt, fordi det ikke finnes noen aktiviteter å beregne inntekten fra. Kontakt bruker for å avklare om bruker har noen opptjening.","OpptjeningTimeLineLight.StartDato":"Start opptjeningsperiode","OpptjeningTimeLineLight.SluttDato":"Slutt opptjeningsperiode","OpptjeningTimeLineLight.MellomliggendePeriode":"Mellomliggende periode","OpptjeningTimeLineLight.Godkjent":"Godkjent","OpptjeningTimeLineLight.Avslatt":"Avslått","TimeLineNavigation.openData":"Åpne info om første periode","TimeLineData.nextPeriod":"Neste periode","TimeLineData.prevPeriod":"Forrige periode","Timeline.openData":"Åpne info om første periode","TimeLineData.lukkPeriode":"Lukk periode","TimeLineData.nextPeriodShort":"Neste","TimeLineData.prevPeriodShort":"Forrige","ShowVilkarStatus.Check":"Informasjonen er utfylt"},VP=Ge(DP),GP=({behandling:e,opptjening:n,aksjonspunkter:r,status:t,lovReferanse:i,submitCallback:s,isReadOnly:l,isAksjonspunktOpen:d,readOnlySubmitButton:o,alleMerknaderFraBeslutter:u,formData:k,setFormData:c,erSvpFagsak:h=!1})=>z.jsx(Ze,{value:VP,children:z.jsx($P,{behandlingsresultat:e.behandlingsresultat,fastsattOpptjening:n.fastsattOpptjening,status:t,lovReferanse:i,aksjonspunkter:r,submitCallback:s,readOnly:l,isAksjonspunktOpen:d,readOnlySubmitButton:o,erIkkeGodkjentAvBeslutter:r.some(b=>{var A;return(A=u[b.definisjon])==null?void 0:A.notAccepted}),formData:k,setFormData:c,erSvpFagsak:h})});GP.__docgenInfo={description:"",methods:[],displayName:"yt",props:{erSvpFagsak:{defaultValue:{value:"!1",computed:!1},required:!1}}};const Rd=ae.OVERSTYR_LØPENDE_MEDLEMSKAPSVILKAR,ms=[Xn.MEDLEMSKAPSVILKÅRET_LØPENDE],Od=({rettigheter:e,...n})=>{const{behandling:r}=n,[t,i]=j.useState(!1),s=j.useCallback(()=>i(!t),[t]);return j.useEffect(()=>{i(!1)},[r.versjon]),Ne.jsx(ia,{...n,aksjonspunktKoder:[Rd],vilkarKoder:ms,prosessPanelKode:Qs.FORTSATTMEDLEMSKAP,prosessPanelMenyTekst:Q().formatMessage({id:"Behandlingspunkt.FortsattMedlemskap"}),skalPanelVisesIMeny:l=>_o(l.aksjonspunkter,ms,l.vilkar),erOverstyrt:t,renderPanel:l=>Ne.jsx(nm,{aksjonspunkter:l==null?void 0:l.aksjonspunkter,aksjonspunktKode:Rd,vilkar:l.vilkar,vilkarKoder:ms,panelTekstKode:"Behandlingspunkt.FortsattMedlemskap",erMedlemskapsPanel:!1,toggleOverstyring:s,erOverstyrt:t,overrideReadOnly:l.isReadOnly,kanOverstyreAccess:e.kanOverstyreAccess})})};try{Od.displayName="FortsattMedlemskapProsessStegInitPanel",Od.__docgenInfo={description:"",displayName:"FortsattMedlemskapProsessStegInitPanel",props:{rettigheter:{defaultValue:null,description:"",name:"rettigheter",required:!0,type:{name:"AksessRettigheter"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}var ge=(e=>(e.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS="FASTSETT_BG_AT_FL",e.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE="VURDER_VARIG_ENDRT_NYOPPSTR_NAERNG_SN",e.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON="VURDER_VARIG_ENDRT_ARB_SITSJN_MDL_INAKTV",e.FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE="FASTSETT_BG_SN",e.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD="FASTSETT_BG_TB_ARB",e.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET="FASTSETT_BG_SN_NY_I_ARB_LIVT",e.VURDER_GRADERING_UTEN_BEREGNINGSGRUNNLAG="VURDER_GRADERING_UTEN_BG",e))(ge||{}),LP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ju(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qu={exports:{}},Xr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd;function MP(){if(Bd)return Xr;Bd=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,c={},h=null,b=null;u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),o.ref!==void 0&&(b=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(c[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)c[k]===void 0&&(c[k]=o[k]);return{$$typeof:n,type:d,key:h,ref:b,props:c,_owner:i.current}}return Xr.Fragment=r,Xr.jsx=l,Xr.jsxs=l,Xr}qu.exports=MP();var a=qu.exports,Zu={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function r(){for(var t=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var l=typeof s;if(l==="string"||l==="number")t.push(this&&this[s]||s);else if(Array.isArray(s))t.push(r.apply(this,s));else if(l==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){t.push(s.toString());continue}for(var d in s)n.call(s,d)&&s[d]&&t.push(this&&this[d]||d)}}}return t.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Zu);var KP=Zu.exports;const wP=Ju(KP),UP="_contentContainer_1rz2h_1",CP="_sideMenuContainer_1rz2h_4",zP="_mainContainer--withSideMenu_1rz2h_7",YP="_advarselIkon_1rz2h_11",ni={contentContainer:UP,sideMenuContainer:CP,"mainContainer--withSideMenu":"_mainContainer--withSideMenu_1rz2h_7",mainContainerWithSideMenu:zP,advarselIkon:YP},Wu={"Beregningsgrunnlag.Title.Beregning":"Grunnlag for beregning","Beregningsgrunnlag.Title.Fastsettelse":"Fastsettelse","Beregningsgrunnlag.Title":"Beregning","Beregningsgrunnlag.Avslagsårsak.IkkeTilstrekkeligInntektsgrunnlag":"Ikke tilstrekkelig inntektsgrunnlag","Beregningsgrunnlag.HarIkkeBeregningsregler":"Har ikke beregningsregler (trer i kraft 1 jan. 2019). Sak overført til Infotrygd.","Beregningsgrunnlag.Helptext.Arbeidstaker":"Det er mer enn 25% avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget","Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.Nyoppstartet":"Søker har nyoppstartet næring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt","Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.VarigEndring":"Søker har oppgitt varig endring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.Helptext.VarigEndretArbeidssituasjon":"Varig endret arbeidssituasjon.","Beregningsgrunnlag.Helptext.TidsbegrensetArbeidsforhold":"Det er mer enn 25 % avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget, og det er tidsbegrenset arbeidsforhold","Beregningsgrunnlag.Helptext.NyIArbeidslivetSN":"Søker er ny i arbeidslivet","Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt":"Beregnet årsinntekt","Beregningsgrunnlag.Avviksopplysninger.ATFL.Tittel":"Avviksberegning for arbeidstaker og frilans","Beregningsgrunnlag.Avviksopplysninger.SN.Tittel":"Avviksberegning for næring","Beregningsgrunnlag.Avviksopplysninger.MIDL.Tittel":"Avviksberegning for midlertidig inaktiv","Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt.Naring":"Pensjonsgivende inntekt","Beregningsgrunnlag.Avviksopplysninger.RapportertAarsinntekt":"Sammenligningsgrunnlag","Beregningsgrunnlag.Avviksopplysninger.SamletInntekt":"Samlet inntekt","Beregningsgrunnlag.Avviksopplysninger.BeregnetAvvik":"Beregnet avvik ","Beregningsgrunnlag.Avviksopplysninger.SN.NyIArbeidslivet":"Søker er ny i arbeidslivet. Det foretas derfor ingen avviksvurdering.","Beregningsgrunnlag.Avviksopplysninger.AT.KobinasjonsStatusATFLSN":"Det regnes ikke avvik på arbeids- og frilansinntekt for kombinasjonen arbeid, frilans og selvstendig næringsdrivende i beregningsgrunnlag der skjæringstidspunkt er før 01.01.2023","Beregningsgrunnlag.Avviksopplysninger.AAP":"Det foretas ikke avviksvurdering på AAP","Beregningsgrunnlag.Avviksopplysninger.Dagpenger":"Det foretas ikke avviksvurdering på Dagpenger","Beregningsgrunnlag.Avviksopplysninger.Besteberegning":"Det foretas ingen avviksvurdering når søker har besteberegning på dagpenger","Beregningsgrunnlag.Avviksopplysninger.Miletar":"Det regnes ikke avvik ved militær- eller siviltjeneste.","Beregningsgrunnlag.Avviksopplysninger.AvvikProsent":"{avvik}%","Beregningsgrunnlag.Skjeringstidspunkt.SkjeringForBeregning":"Skjæringstidspunkt for beregning","Beregningsgrunnlag.Skjeringstidspunkt.LonnsendringSisteTreMan":"Søker har hatt lønnsendring i løpet av de siste tre månedene","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.manueltBehandlet":"Bruker har hatt lønnsendring {datoer}. Inntekt er fastsatt manuelt.","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.delvisMåned":"Bruker har hatt lønnsendring {datoer}. Dette betyr at rapportert inntekt for {måned} er en kombinasjon av ny og gammel inntekt. Ny inntekt er beregnet ved først å finne gammel inntekt fra rapportert inntekt i {forrigeMåned} og deretter regne oss fram til ny inntekt ved å bruke forholdet mellom dagene før og etter lønnsendringen.","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullEnMåned":"Bruker har hatt lønnsendring {datoer}. Ny inntekt er beregnet ved å bruke rapportert inntekt i {nesteMåned}.","Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullToMåned":"Bruker har hatt lønnsendring {datoer}. Ny inntekt er beregnet ved å bruke snittet av rapportert inntekt i {nesteMåned} og {sisteMåned}.","Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt":"Arbeidsinntekt","Beregningsgrunnlag.AarsinntektPanel.Pensjonsgivendeinntekt":"Pensjonsgivende inntekt","Beregningsgrunnlag.AarsinntektPanel.SN.TreSisteÅr":"3 siste år fra skatt","Beregningsgrunnlag.AarsinntektPanel.SN.ATFL":"Arbeid/frilans","Beregningsgrunnlag.AarsinntektPanel.SN.Næring":"Næring","Beregningsgrunnlag.AarsinntektPanel.SN.Sum":"Sum","Beregningsgrunnlag.AarsinntektPanel.SN.Gjustert":"G-justert","Beregningsgrunnlag.AarsinntektPanel.SN.sisteTreAar":"3 siste ferdigliknede år fra skatteetaten","Beregningsgrunnlag.AarsinntektPanel.SN.GsnittSum":"Gjennomsnittlig pensjonsgivende inntekt","Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar":"Beregnet År","Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned":"Måned","Beregningsgrunnlag.AarsinntektPanel.Frilansinntekt":"Frilansinntekt","Beregningsgrunnlag.AarsinntektPanel.FrilansStartDato2":"Søker har vært frilans fra ","Beregningsgrunnlag.AarsinntektPanel.InnrapportertFrilans":"Innrapportert i a-ordningen siste 3 mnd","Beregningsgrunnlag.AarsinntektPanel.Militær":"Militær- eller sivilforsvarstjeneste","Beregningsgrunnlag.AarsinntektPanel.Pensjonsgivende":"Pensjonsgivende inntekt","Beregningsgrunnlag.AarsinntektPanel.TotaltArbeidsinntekt":"Totalt","Beregningsgrunnlag.AarsinntektPanel.TotalPensjonsGivende":"Total","Beregningsgrunnlag.AarsinntektPanel.Tidsbegrenset":"Tidsbegrenset","Beregningsgrunnlag.AarsinntektPanel.SnittPensjonsGivende":"Gjennomsnittlig pensjonsgivende inntekt","Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringNyoppstartet":"Vurder om det er varig endring i næringen og/eller arbeidssituasjonen, som gjør at inntekten skal fastsettes skjønnsmessig","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndring":"Søker har opplyst varig endring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerNyoppstartet":"Søker har nyoppstartet næring og det er mer enn 25% avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.AksjonspunktBehandler.TittelATAvvik":"Fastsett årsinntekt skjønnsmessig for arbeidstaker","Beregningsgrunnlag.AksjonspunktBehandler.TittelFLAvvik":"Fastsett årsinntekt skjønnsmessig for frilans","Beregningsgrunnlag.AksjonspunktBehandler.TittelATFLAvvik":"Fastsett årsinntekt skjønnsmessig for arbeidstaker og frilans","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFL":"Det er mer enn 25% avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget.","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFLTidsbegrenset":"Det er mer enn 25 % avvik mellom beregnet årsinntekt og sammenligningsgrunnlaget, og det er tidsbegrenset arbeidsforhold.","Beregningsgrunnlag.AksjonspunktBehandler.TittelSNNyIArb":"Søker er ny i arbeidslivet, gjør en skjønnsmessig vurdering av næringsinntekten","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerSNNyIArb":"Søker har oppgitt å være ny i arbeidslivet (blitt yrkesaktiv siste tre år).","Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringArbeid":"Vurder om det er varig endring i arbeidssituasjonen, som gjør at inntekten skal fastsettes skjønnsmessig","Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndringArbeid":"Det er er mer enn 25 % avvik mellom pensjonsgivende inntekt og samlet inntekt.","Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringNæring":"Har søker hatt varig endret næring og/eller arbeidssituasjon? ","Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringArbeid":"Har søker hatt varig endret arbeidssituasjon? ","Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelNyoppstartetNæring":"Har søker nyoppstartet næring? ","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandler":"Skjønnsmessig fastsettelse av årsinntekt ved avvik","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerTB.SumPeriode":"Total årsintekt pr periode","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandler.OmberegnetAar":"Beregnet År","Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerFL":"Frilansinntekt fastsettes til","Beregningsgrunnlag.AarsinntektPanel.Naturalytelse2":"Naturalytelser","Beregningsgrunnlag.NaeringsOpplysningsPanel.Overskrift":"Opplysninger om næring fra søknad","Beregningsgrunnlag.NaeringsOpplysningsPanel.OppgittAar":"Oppgitt år","Beregningsgrunnlag.NaeringsOpplysningsPanel.VarigEndret":"Søker har oppgitt varig endring fra <b>{dato}</b>","Beregningsgrunnlag.NaeringsOpplysningsPanel.Nyoppstaret":"Søker har oppgitt nyoppstartet fra <b>{dato}</b>","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.JORDBRUK_SKOGBRUK":"Jordbruk / Skogbruk","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.DAGMAMMA":"Dagmamma i eget hjem / familiebarnehage","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FISKE":"Fiske","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FRILANSER":"Frilanser","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.ANNEN":"Annen næringsvirksomhet","Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.UDEFINERT":"Ikke definert","Beregningsgrunnlag.Forms.Vurdering":"Vurdering","Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag":"Vurdering av fastsatt beregningsgrunnlag","Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst":"Forklar hvordan du har kommet frem til beregningsgrunnlaget og hvilke vurderinger du har gjort. Beskriv hvorfor det er avvik og hvilken inntekt som kan legges til grunn. Dette skal gjøres i henhold til lovhjemmel.","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IngenEndring":"Ingen varig endring eller nyoppstartet næring","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.EndretNaering":"Varig endring eller nyoppstartet næring","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeNyoppstartet":"Næringsvirksomhet er ikke nyoppstartet","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeVarigEndring":"Ingen varig endring","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndring":"Varig endring - årsinntekt må fastsettes.","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.Nyoppstartet":"Nyoppstartet næring - Årsinntekt må fastsettes.","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.BruttoBerGr2":"Næringsinntekt fastsettes til","Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndretInntektFastsettesTil":"Varig endret årsinntekt fastsettes til","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.SumTittel":"Rapportert årsinntekt","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Tittel":"Sammenligningsgrunnlag fra a-ordningen","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ingress":"Inntekt og ytelser etter kap 8, 9 og 14 de 12 siste månedene","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Arbeid":"Arbeid","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Frilans":"Frilans","Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ytelse":"Ytelse","Beregningsgrunnlag.TilstottendeYtelse.Tittel":"Tilstøtende ytelse","Beregningsgrunnlag.TilstottendeYtelse.TittelNav":"Ytelser fra NAV","Beregningsgrunnlag.TilstottendeYtelse.Dagpenger":"Dagpenger","Beregningsgrunnlag.TilstottendeYtelse.SykepengerAvDagpenger":"Sykepenger basert på dagpenger","Beregningsgrunnlag.TilstottendeYtelse.PleiepengerAvDagpenger":"Pleiepenger basert på dagpenger","Beregningsgrunnlag.TilstottendeYtelse.AAP":"Arbeidsavklaringspenger","Beregningsgrunnlag.TilstottendeYtelse.Besteberegning":"Satt ut fra besteberegning","Beregningsgrunnlag.YtelserFraInfotrygd.Ytelse2":"Ytelse fra NAV","Beregningsgrunnlag.YtelserFraInfotrygd.YtelseNavn":"Ytelse","Beregningsgrunnlag.BeregningTable.Periode":"Periode {fom} - {tom}","Beregningsgrunnlag.BeregningTable.Tittel":"Beregning av dagsats","Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfylt2":"Beløpet er under 1/2 G (G = {grunnbeløp}) - søker har ikke rett til ytelse","Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfyltMidlertidigInaktiv":"Beløpet er under 1 G (G = {grunnbeløp}) - søker har ikke rett til ytelse","Beregningsgrunnlag.Gradering.Beskrivelse":"Saksbehandler har tidligere vurdert om fordeling av inntekt er korrekt grunnet en andel uten utbetaling som skal graderes.","Besteberegning.ResultatGrunnlag.BruttoBeregningsgrunnlag":"Beregnet","Besteberegning.ResultatGrunnlag.BeregningEtterBesteberegning":"§14-7, 3. ledd","Besteberegning.ResultatGrunnlag.BrukerOmfattesAvBesteberegning":"Søker omfattes av §14-7, 3. ledd.","Besteberegning.ResultatGrunnlag.BeregningEtterKap8":"§14-7, 1. ledd","Besteberegning.ResultatGrunnlag.Kap1473GirBesteBeregning":"Beregning etter §14-7, 3. ledd gir beste beregning.","Besteberegning.ResultatGrunnlag.Kap1471GirBesteBeregning":"Beregning etter §14-7, 1. ledd gir beste beregning.","SubmitButton.ConfirmInformation":"Bekreft og fortsett","Malform.Beskrivelse":"Foretrukket språk","HelpText.Aksjonspunkt":"Aksjonspunkt","Behandling.EditedField":"Saksbehandler har endret feltets verdi","Beregningsgrunnlag.Beregningsresultat.Periode":"Periode {fom} - {tom}","Beregningsgrunnlag.Beregningsresultat.Arbeid":"Fastsatt årsinntekt arbeid","Beregningsgrunnlag.Beregningsresultat.Frilans":"Fastsatt årsinntekt frilans","Beregningsgrunnlag.Beregningsresultat.Næring":"Fastsatt årsinntekt næring","Beregningsgrunnlag.Beregningsresultat.Dagpenger":"Fastsatt årsinntekt dagpenger","Beregningsgrunnlag.Beregningsresultat.SykepengerAvDagpenger":"Fastsatt årsinntekt sykepenger av dagpenger","Beregningsgrunnlag.Beregningsresultat.PleiepengerAvDagpenger":"Fastsatt årsinntekt pleiepenger av dagpenger","Beregningsgrunnlag.Beregningsresultat.Arbeidsavklaringspenger":"Fastsatt årsinntekt arbeidsavklaringspenger","Beregningsgrunnlag.Beregningsresultat.Militær":"Fastsatt årsinntekt militær","Beregningsgrunnlag.Beregningsresultat.BrukersAndel":"Fastsatt årsinntekt brukers andel","Beregningsgrunnlag.Beregningsresultat.Ytelse":"Fastsatt årsinntekt ytelse","Beregningsgrunnlag.Beregningsresultat.IkkeBeregnet":"Ikke beregnet","Beregningsgrunnlag.Beregningsresultat.Naturalytelser":"Naturalytelser","Beregningsgrunnlag.Beregningsresultat.TotalÅrsinntekt":"Total årsinntekt","Beregningsgrunnlag.Beregningsresultat.Avkortet":"Årsinntekt redusert til 6G på skjæringstidspunktet","Beregningsgrunnlag.Beregningsresultat.Redusert":"Årsinntekt redusert til 80% dekningsgrad","Beregningsgrunnlag.Beregningsresultat.Dagsats":"Dagsats (årsinntekt/260 dager)","Beregningsgrunnlag.Søknad.Tittel":"Opplysninger fra søknad","Beregningsgrunnlag.Søknad.LøpendeFL":"Oppgitt frilansinntekt i søknadsperioden","Beregningsgrunnlag.Søknad.LøpendeSN":"Oppgitt næringsinntekt i søknadsperioden","Beregningsgrunnlag.Søknad.SøktYtelseSN":"Bruker har søkt inntektskompensasjon for næringsinntekt i perioden {fom} - {tom}","Beregningsgrunnlag.Frisinn.Resultat":"Grunnlag for dagsats","Beregningsgrunnlag.Frisinn.Inntektstak":"Inntektstak ({grenseverdi} - {annenInntekt})","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagFL":"Beregningsgrunnlag frilans","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagSN":"Beregningsgrunnlag næring","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertFL":"Redusert til {grad}% beregningsgrunnlag frilans","Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertSN":"Redusert til {grad}% beregningsgrunnlag næring","Beregningsgrunnlag.Frisinn.Tittel":"FRISINN","Beregningsgrunnlag.Frisinn.InntektFL":"Frilansinntekt","Beregningsgrunnlag.Frisinn.InntektSN":"Næringsinntekt","Beregningsgrunnlag.Frisinn.InntektAT":"Arbeidstakerinntekt","Beregningsgrunnlag.Søknad.Inntektsopplysninger":"Opplysninger om inntekt","Beregningsgrunnlag.Resultat.Dagsats":"Dagsats","Beregningsgrunnlag.Frisinn.InntektstakOpplysninger":"Opplysninger om inntektstak","Beregningsgrunnlag.Frisinn.InntektstakOpplysningerPeriode":"Opplysninger om inntektstak i perioden {fom} - {tom}"},HP="_readOnlyBlokk_3qjl7_1",JP={readOnlyBlokk:HP},qP=({avklaringsbehov:e})=>!e||!e.begrunnelse?null:a.jsxs(a.Fragment,{children:[a.jsx(V,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Gradering.Beskrivelse"})}),a.jsx(x,{sixteenPx:!0}),a.jsxs(I,{size:"small",className:JP.readOnlyBlokk,children:[e.begrunnelse," ",a.jsx(Ai,{})]})]}),ZP=e=>e.overstyrtPrAar||e.overstyrtPrAar===0?e.overstyrtPrAar:e.beregnetPrAar||e.beregnetPrAar===0?e.beregnetPrAar:0,WP=e=>e&&e.beregningsgrunnlagPrStatusOgAndel?e.beregningsgrunnlagPrStatusOgAndel.map(n=>ZP(n)).reduce((n,r)=>n+r,0):0,XP=e=>e.flatMap(n=>n.inntekter).map(({inntekt:n})=>n).reduce((n,r)=>n+r,0)*2,Fd=(e,n)=>e>n,QP=[a.jsx("div",{},"TomKolNøkkel"),a.jsxs(V,{size:"small",children:[" ",a.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BeregningEtterKap8"})," "]},"Kap8Nøkkel"),a.jsxs(V,{size:"small",children:[" ",a.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BeregningEtterBesteberegning"})," "]},"BBNøkkel")],eR=({periode:e,besteMåneder:n})=>{if(!n||n.length<1)return null;const r=WP(e),t=XP(n);return a.jsxs("div",{children:[a.jsx(y,{children:a.jsx(v,{children:a.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BrukerOmfattesAvBesteberegning"})})}),a.jsx(x,{twentyPx:!0}),a.jsx(y,{children:a.jsx(v,{children:a.jsx(We,{headerColumnContent:QP,noHover:!0,children:a.jsxs(Le,{children:[a.jsx(w,{children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Besteberegning.ResultatGrunnlag.BruttoBeregningsgrunnlag"})})}),a.jsx(w,{children:a.jsx(I,{size:"small",children:K(r)})}),a.jsx(w,{children:a.jsx(I,{size:"small",children:K(t)})})]})})})}),a.jsx(y,{children:a.jsx(v,{children:a.jsxs(I,{size:"small",children:[Fd(r,t)&&a.jsx(m,{id:"Besteberegning.ResultatGrunnlag.Kap1471GirBesteBeregning"}),!Fd(r,t)&&a.jsx(m,{id:"Besteberegning.ResultatGrunnlag.Kap1473GirBesteBeregning"})]})})})]})},nR="_avsnittOverskrift_3qwr0_1",rR="_venstreKolonne_3qwr0_5",tR="_hoyreKolonne_3qwr0_8",iR="_panelLeft_3qwr0_11",sR="_panelRight_3qwr0_21",aR="_storSpace_3qwr0_32",lR="_semiBoldText_3qwr0_35",dR="_næringEndringBeskrivelse_3qwr0_38",oR="_redError_3qwr0_41",gR="_tabellAktivitet_3qwr0_44",uR="_tabellInntekt_3qwr0_54",kR="_næringOpplysningNavn_3qwr0_66",mR="_næringOpplysningInntekt_3qwr0_69",fR="_næringOpplysningOrgnr_3qwr0_73",cR="_næringOpplysningDato_3qwr0_76",pR="_heldekkendeKol_3qwr0_79",vR="_tagMargin_3qwr0_85",hR="_colDivider_3qwr0_88",bR="_noPaddingRight_3qwr0_92",jR="_arbeidPanelSkille_3qwr0_95",G={avsnittOverskrift:nR,venstreKolonne:rR,hoyreKolonne:tR,panelLeft:iR,panelRight:sR,storSpace:aR,semiBoldText:lR,næringEndringBeskrivelse:"_næringEndringBeskrivelse_3qwr0_38",naeringEndringBeskrivelse:dR,redError:oR,tabellAktivitet:gR,tabellInntekt:uR,næringOpplysningNavn:"_næringOpplysningNavn_3qwr0_66",naeringOpplysningNavn:kR,næringOpplysningInntekt:"_næringOpplysningInntekt_3qwr0_69",naeringOpplysningInntekt:mR,næringOpplysningOrgnr:"_næringOpplysningOrgnr_3qwr0_73",naeringOpplysningOrgnr:fR,næringOpplysningDato:"_næringOpplysningDato_3qwr0_76",naeringOpplysningDato:cR,heldekkendeKol:pR,tagMargin:vR,colDivider:hR,noPaddingRight:bR,arbeidPanelSkille:jR};var Xu={exports:{}};(function(e,n){(function(r,t){e.exports=t(T)})(LP,function(r){function t(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var i=t(r),s={name:"nb",weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),ordinal:function(l){return l+"."},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"}};return i.default.locale(s,null,!0),s})})(Xu);var xR=Xu.exports;const Ls=Ju(xR),$d=e=>e?`...${e.substring(e.length-4,e.length)}`:"",Li=(e,n)=>{const{navn:r,fødselsdato:t,erPrivatPerson:i,identifikator:s}=e;return i?t?`${r} (${T(t).format(ie)})${$d(n)}`:r:s?`${r} (${s})${$d(n)}`:r},Dd=(e,n)=>{var r;return e.arbeidsforhold&&e.arbeidsforhold.arbeidsforholdType&&((r=n[Ee.OPPTJENING_AKTIVITET_TYPE].find(t=>{var i;return t.kode===((i=e.arbeidsforhold)==null?void 0:i.arbeidsforholdType)}))==null?void 0:r.navn)||""},Ms=(e,n,r)=>{if(e.arbeidsforhold&&e.arbeidsforhold.arbeidsgiverIdent){const t=n[e.arbeidsforhold.arbeidsgiverIdent];return t?Li(t,e.arbeidsforhold.eksternArbeidsforholdId):Dd(e,r)}return Dd(e,r)},Qr=e=>T(e).locale(Ls).format("MMMM");function Ct(e,n,r){const t=e.filter(i=>i.lønnsendringscenario===n).map(i=>`i ${Li(r[i.arbeidsforhold.arbeidsgiverIdent],void 0)}
      ${T(i.sisteLønnsendringsdato).format(ie)}`);return t.reduce((i,s,l)=>l===0?s:l<t.length-2?`${i}, ${s}`:`${i} og ${s}`,"")}const AR=(e,n,r,t)=>{switch(e){case Nn.MANUELT_BEHANDLET:return a.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.manueltBehandlet",values:{datoer:Ct(r,Nn.MANUELT_BEHANDLET,t)}});case Nn.DELVIS_MÅNEDSINNTEKT_SISTE_MND:return a.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.delvisMåned",values:{datoer:Ct(r,Nn.DELVIS_MÅNEDSINNTEKT_SISTE_MND,t),måned:Qr(T(n).subtract(1,"month").format(Gr)),forrigeMåned:Qr(T(n).subtract(2,"month").format(Gr))}});case Nn.FULL_MÅNEDSINNTEKT_EN_MND:return a.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullEnMåned",values:{datoer:Ct(r,Nn.FULL_MÅNEDSINNTEKT_EN_MND,t),nesteMåned:Qr(T(n).subtract(1,"month").format(Gr))}});case Nn.FULL_MÅNEDSINNTEKT_TO_MND:return a.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.lønnsendring.fullToMåned",values:{datoer:Ct(r,Nn.FULL_MÅNEDSINNTEKT_TO_MND,t),sisteMåned:Qr(T(n).subtract(1,"month").format(Gr)),nesteMåned:Qr(T(n).subtract(2,"month").format(Gr))}});default:return null}};function IR(e,n,r){return Bk(e.map(t=>t.lønnsendringscenario)).map(t=>a.jsxs(a.Fragment,{children:[AR(t,n,e,r),a.jsx("br",{}),a.jsx(x,{sixteenPx:!0})]}))}const TR=({skjeringstidspunktDato:e,saksopplysninger:n,arbeidsgiverOpplysningerPerId:r})=>{const t=[];return n&&n.lønnsendringSaksopplysning&&n.lønnsendringSaksopplysning.length>0&&t.push({textId:"Beregningsgrunnlag.Skjeringstidspunkt.LonnsendringSisteTreMan",readMoreContent:IR(n.lønnsendringSaksopplysning,e,r)}),a.jsx(Ok,{saksopplysninger:t})},ER=e=>{switch(e){case B.SELVSTENDIG_NAERINGSDRIVENDE:return"alt2";case B.FRILANSER:return"alt1";case B.ARBEIDSTAKER:return"alt3";default:return"neutral"}},_R=(e,n)=>{const r=[];return e.filter((t,i,s)=>i===s.findIndex(l=>l===t)).forEach(t=>{var i;const s=((i=n[Ee.AKTIVITET_STATUS].find(l=>l.kode===t))==null?void 0:i.navn)||"";r.push({visningsNavn:s,kode:t,tagType:ER(t)})}),r.sort((t,i)=>t.visningsNavn>i.visningsNavn?1:-1),a.jsx(y,{children:r.map(t=>a.jsx(v,{className:G.tagRad,children:a.jsx(Ti,{variant:t.tagType,title:t.visningsNavn,className:G.tagMargin,children:t.visningsNavn})},t.visningsNavn))})},SR=({skjeringstidspunktDato:e,aktivitetStatusList:n,kodeverkSamling:r,saksopplysninger:t,arbeidsgiverOpplysningerPerId:i})=>a.jsxs("div",{className:G.panelLeft,children:[_R(n,r),a.jsx(x,{sixteenPx:!0}),a.jsxs(se,{children:[a.jsxs(y,{children:[a.jsx(v,{children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Skjeringstidspunkt.SkjeringForBeregning"})})}),a.jsx(v,{children:a.jsx(I,{size:"small",className:G.semiBoldText,children:a.jsx(Re,{dateString:e})})})]}),!!t&&!!t.lønnsendringSaksopplysning&&t.lønnsendringSaksopplysning.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(x,{sixteenPx:!0}),a.jsx(y,{children:a.jsx(v,{children:a.jsx(TR,{arbeidsgiverOpplysningerPerId:i,skjeringstidspunktDato:e,saksopplysninger:t})})})]})]})]}),yR=({bruttoPrAar:e})=>e||e===0?a.jsxs(a.Fragment,{children:[a.jsx(y,{children:a.jsxs(v,{children:[a.jsx(ce,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.YtelserFraInfotrygd.Ytelse2"})}),a.jsx(x,{eightPx:!0})]})}),a.jsxs(y,{children:[a.jsx(v,{className:G.tabellAktivitet}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(ke,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(ke,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),a.jsxs(y,{children:[a.jsx(v,{className:G.tabellAktivitet,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.YtelserFraInfotrygd.YtelseNavn"})})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(I,{size:"small",children:K(e/12)})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(V,{size:"small",children:K(e)})})]})]}):null,NR=[],PR=(e,n,r)=>{var t,i,s;const l=r.find(c=>c.år===e),d=l&&((t=l.inntekter.find(c=>c.pgiType===Qa.NÆRING))==null?void 0:t.beløp)||0,o=l&&((i=l.inntekter.find(c=>c.pgiType===Qa.LØNN))==null?void 0:i.beløp)||0,u=d+o,k=(s=n.find(c=>c.årstall===e))==null?void 0:s.beløp;return a.jsxs(xe.Row,{shadeOnHover:!0,children:[a.jsx(xe.DataCell,{children:e}),a.jsx(xe.DataCell,{align:"right",children:K(o)}),a.jsx(xe.DataCell,{align:"right",children:K(d)}),a.jsx(xe.DataCell,{align:"right",children:K(u)}),a.jsx(xe.DataCell,{align:"right",children:K(k)})]},e)},RR=(e,n)=>e.map(r=>r.årstall).sort((r,t)=>r-t).reverse().map(r=>PR(r,e,n)),OR=e=>a.jsxs(xe.Row,{shadeOnHover:!0,children:[a.jsx(xe.DataCell,{children:a.jsx(V,{children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.GsnittSum"})})}),a.jsx(xe.DataCell,{}),a.jsx(xe.DataCell,{}),a.jsx(xe.DataCell,{}),a.jsx(xe.DataCell,{align:"right",children:a.jsx(V,{children:K(e)})})]},"PGI-Oppsumert"),BR=({alleAndeler:e,inntektsgrunnlag:n})=>{const r=e.find(l=>l.aktivitetStatus===B.SELVSTENDIG_NAERINGSDRIVENDE||l.aktivitetStatus===B.BRUKERS_ANDEL),t=(n==null?void 0:n.pgiGrunnlag)||NR;if(!r||!r.pgiSnitt||!r.pgiVerdier)return null;const{pgiVerdier:i,pgiSnitt:s}=r;return a.jsxs(a.Fragment,{children:[a.jsx(ce,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Pensjonsgivendeinntekt"})}),a.jsxs(xe,{children:[a.jsx(xe.Header,{children:a.jsxs(xe.Row,{children:[a.jsx(xe.HeaderCell,{children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.TreSisteÅr"})}),a.jsx(xe.HeaderCell,{align:"right",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.ATFL"})}),a.jsx(xe.HeaderCell,{align:"right",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.Næring"})}),a.jsx(xe.HeaderCell,{align:"right",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.Sum"})}),a.jsx(xe.HeaderCell,{align:"right",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.SN.Gjustert"})})]})}),a.jsxs(xe.Body,{children:[RR(i,t),OR(s)]})]})]})},FR="_colDevider_1att7_1",$R={colDevider:FR},An=({prosentBredde:e})=>{const n=`${e}%`;return a.jsx(y,{children:a.jsx("div",{style:{width:n},children:a.jsx(v,{children:a.jsx("div",{className:$R.colDevider})})})})},DR=e=>e.aktivitetStatus===B.DAGPENGER?"Beregningsgrunnlag.TilstottendeYtelse.Dagpenger":e.aktivitetStatus===B.SYKEPENGER_AV_DAGPENGER?"Beregningsgrunnlag.TilstottendeYtelse.SykepengerAvDagpenger":e.aktivitetStatus===B.PLEIEPENGER_AV_DAGPENGER?"Beregningsgrunnlag.TilstottendeYtelse.PleiepengerAvDagpenger":e.aktivitetStatus===B.ARBEIDSAVKLARINGSPENGER?"Beregningsgrunnlag.TilstottendeYtelse.AAP":"",VR=e=>e===B.DAGPENGER,GR=({alleAndeler:e,relevanteStatuser:n,gjelderBesteberegning:r})=>{const t=e.filter(s=>Po(s.aktivitetStatus)),i=t.length>1;return a.jsxs(a.Fragment,{children:[n.isKombinasjonsstatus&&a.jsxs(a.Fragment,{children:[a.jsx(x,{eightPx:!0}),a.jsx(ce,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.TilstottendeYtelse.TittelNav"})}),a.jsx(x,{eightPx:!0})]}),a.jsxs(y,{children:[a.jsx(v,{className:G.tabellAktivitet}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(ke,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(ke,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),a.jsx(An,{prosentBredde:100}),t.map(s=>a.jsxs("div",{children:[a.jsxs(y,{children:[a.jsx(v,{className:G.tabellAktivitet,children:a.jsx(V,{size:"small",children:a.jsx(m,{id:DR(s)})})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(I,{size:"small",children:K(s.beregnetPrAar?s.beregnetPrAar/12:0)})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(I,{size:"small",className:i?"":G.semiBoldText,children:K(s.beregnetPrAar)})})]}),a.jsx(An,{prosentBredde:100}),r&&VR(s.aktivitetStatus)&&a.jsx(y,{children:a.jsx(v,{children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.TilstottendeYtelse.Besteberegning"})})})})]},s.aktivitetStatus))]})},LR=({alleAndeler:e})=>{const n=e.filter(t=>t.aktivitetStatus===B.MILITAER_ELLER_SIVIL),r=n&&n.length>0?n[0].beregnetPrAar:"";return a.jsxs(a.Fragment,{children:[a.jsx(y,{children:a.jsx(v,{children:a.jsx(ce,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Militær"})})})}),a.jsx(x,{eightPx:!0}),a.jsx(y,{children:a.jsx(v,{children:a.jsx(V,{size:"small",children:K(r)})})})]})},MR="_aksjonspunktBehandlerBorder_6jbny_1",KR="_aksjonspunktBehandlerHeader_6jbny_10",wR="_aksjonspunktBehandlerImageCol_6jbny_18",UR="_aksjonspunktBehandlerTextCol_6jbny_24",CR="_aksjonspunktBehandlerNoBorder_6jbny_27",zR="_aksjonspunktBehandlerContainer_6jbny_30",YR="_verticalLine_6jbny_40",HR="_verticalAlignMiddle_6jbny_47",JR="_inputPadding_6jbny_54",qR="_inntektTableTB_6jbny_65",ZR="_inntektTableTB_6jbny_65",WR="_rowSpacer_6jbny_69",XR="_textAreaWrapper_6jbny_109",QR="_textAreaWrapperHeigh_6jbny_112",e1="_dynamiskKolonne_6jbny_119",n1="_textAreaStyle_6jbny_123",r1="_bredde_6jbny_126",t1="_atflAvvikAktivitet_6jbny_129",i1="_atflAvvikInntekt_6jbny_133",s1="_atflEditedIcon_6jbny_136",a1="_breddeInntekt_6jbny_139",l1="_warningIcon_6jbny_142",oe={aksjonspunktBehandlerBorder:MR,aksjonspunktBehandlerHeader:KR,aksjonspunktBehandlerImageCol:wR,aksjonspunktBehandlerTextCol:UR,aksjonspunktBehandlerNoBorder:CR,aksjonspunktBehandlerContainer:zR,verticalLine:YR,verticalAlignMiddle:HR,inputPadding:JR,inntektTableTB:qR,inntektTableTb:ZR,rowSpacer:WR,textAreaWrapper:XR,textAreaWrapperHeigh:QR,dynamiskKolonne:e1,textAreaStyle:n1,bredde:r1,atflAvvikAktivitet:t1,atflAvvikInntekt:i1,atflEditedIcon:s1,breddeInntekt:a1,warningIcon:l1},Vd="inntektField",Qu=e=>!!e.periodeAarsaker&&e.periodeAarsaker.map(n=>n).includes(kn.ARBEIDSFORHOLD_AVSLUTTET),$a=e=>{let n=0;for(;n<e.length&&!Qu(e[n]);)n+=1;const r={...e[n]};return r.beregningsgrunnlagPeriodeTom=e[e.length-1].beregningsgrunnlagPeriodeTom,r},d1=e=>{const n=[];let r=0;for(;r<e.length;){const t={...e[r]};for(r+=1;r<e.length&&!Qu(e[r]);)r+=1;t.beregningsgrunnlagPeriodeTom=e[r-1].beregningsgrunnlagPeriodeTom,n.push(t)}return n},Mi=(e,n)=>e.arbeidsforhold?`${Vd}_${e.arbeidsforhold.arbeidsforholdId}_${e.andelsnr}_${n.beregningsgrunnlagPeriodeFom}`:`${Vd}_${e.andelsnr}_${n.beregningsgrunnlagPeriodeFom}`,Pt=e=>e.beregningsgrunnlagPrStatusOgAndel?e.beregningsgrunnlagPrStatusOgAndel.filter(n=>n.aktivitetStatus===B.ARBEIDSTAKER&&n.erTilkommetAndel!==!0):[],Da=e=>{const n=e!=null&&e.arbeidsforholdId?e==null?void 0:e.arbeidsforholdId:"";return e?`${e.arbeidsgiverIdent}${n}`:""},o1=e=>{const n={};return Pt(e).forEach(r=>{n[Da(r.arbeidsforhold)]=K(r.beregnetPrAar)}),n},g1=(e,n,r)=>{var t;const i=e.arbeidsgiverIdent?r[e.arbeidsgiverIdent]:null;return i?Li(i,e.eksternArbeidsforholdId):e.arbeidsforholdType?(t=n[Ee.OPPTJENING_AKTIVITET_TYPE].find(s=>s.kode===e.arbeidsforholdType))==null?void 0:t.navn:""},Ks=()=>({erTidsbegrenset:!0,isEditable:!1,tabellInnhold:"",inputfieldKey:""}),u1=(e,n,r)=>{const t=o1(e),i=Pt(e),s={};return i.forEach(l=>{if(!l.arbeidsforhold)return;const d=Da(l.arbeidsforhold),o=Ks();o.tabellInnhold=g1(l.arbeidsforhold,n,r),o.erTidsbegrenset=l.erTidsbegrensetArbeidsforhold!==void 0?l.erTidsbegrensetArbeidsforhold:!1,s[d]=[o];const u=Ks();u.erTidsbegrenset=!1,u.tabellInnhold=t[d]||"",s[d].push(u)}),s},k1=(e,n,r)=>{const t={...$a(e)},i=u1(e[0],n,r);return Pt(t).forEach(s=>{const l=Da(s.arbeidsforhold),d=Ks();d.tabellInnhold=s.overstyrtPrAar!==void 0&&s.overstyrtPrAar!==null?K(s.overstyrtPrAar):"",d.erTidsbegrenset=!1,d.isEditable=!0,d.inputfieldKey=Mi(s,t),i[l].push(d)}),i},m1=e=>a.jsxs("tr",{id:"bruttoPrPeriodeRad",children:[a.jsx("td",{colSpan:2,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerTB.SumPeriode"})})},"bruttoTittel"),e.map(n=>a.jsx("td",{colSpan:2,children:a.jsx(I,{size:"small",className:G.semiBoldText,children:K(n.brutto)})},n.periodeFom))]},"bruttoPrPeriodeRad"),f1=e=>a.jsxs("tr",{children:[a.jsx("td",{}),e.map(n=>{const r=n.periodeFom;return a.jsx("td",{colSpan:2,children:a.jsx(ke,{size:"small",children:De(r)})},`periodeittel${r}`)}),a.jsx("td",{})]},"PeriodeHeaderRad"),c1=(e,n,r,t,i,s)=>{const l=[];return l.push(f1(t)),l.push(a.jsxs("tr",{children:[a.jsx("td",{colSpan:2},"ombergenetAarBlank"),t.map((d,o)=>a.jsx(W.Fragment,{children:a.jsx("td",{colSpan:2,children:a.jsx(ke,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandler.OmberegnetAar"},`Tittel_${d.periodeFom}`)})},`Col_Tittel_${d.periodeFom}`)},`PeriodeWrapper${o+1}`))]},"Tabletop")),Object.keys(e).forEach(d=>{const o=e[d];l.push(a.jsx("tr",{children:o.map(u=>u.isEditable?a.jsx(W.Fragment,{children:a.jsx("td",{colSpan:2,children:a.jsx("div",{className:r&&n?oe.adjustedField:void 0,children:a.jsx(je,{name:`${s}.${i}.${u.inputfieldKey}`,validate:[X,vn(178956970)],readOnly:n,isEdited:n&&r,parse:Ve,className:oe.breddeInntekt})})},`Col-${u.inputfieldKey}`)},`key${u.inputfieldKey}`):a.jsx("td",{colSpan:2,children:a.jsx(I,{size:"small",children:u.tabellInnhold})},u.tabellInnhold))},d))}),l.push(a.jsx("tr",{className:oe.rowSpacer,children:a.jsx("td",{})},"sdeparator")),l.push(m1(t)),l},p1=e=>{const n=e[0];return{brutto:(n.beregningsgrunnlagPrStatusOgAndel?n.beregningsgrunnlagPrStatusOgAndel.filter(r=>r.aktivitetStatus===B.ARBEIDSTAKER).map(r=>r.beregnetPrAar):[]).reduce((r,t)=>r+t),periodeFom:n.beregningsgrunnlagPeriodeFom,periodeTom:n.beregningsgrunnlagPeriodeTom}},v1=(e,n,r,t)=>{const i=[];if(e.length<1)return i;const s=$a(e);i.push(p1(e));const l=Pt(s).map(d=>{const o=Mi(d,s),u=n.watch(`${t}.${r}.${o}`);return u===void 0||u===""?0:me(u)}).reduce((d,o)=>d+o);return i.push({brutto:l,periodeFom:s.beregningsgrunnlagPeriodeFom,periodeTom:s.beregningsgrunnlagPeriodeTom}),i},Rt=({readOnly:e,allePerioder:n,kodeverkSamling:r,arbeidsgiverOpplysningerPerId:t,fieldIndex:i,formName:s})=>{const l=k1(n,r,t),d=n.some(k=>{var c;return(c=k.beregningsgrunnlagPrStatusOgAndel)==null?void 0:c.some(h=>h.aktivitetStatus===B.ARBEIDSTAKER&&(!!h.overstyrtPrAar||h.overstyrtPrAar===0))}),o=_e(),u=v1(n,o,i,s);return a.jsx("table",{className:oe.inntektTableTB,children:a.jsx("tbody",{children:c1(l,e,d,u,i,s)})})};Rt.buildInitialValues=e=>{const n={};return d1(e).forEach(r=>{(r.beregningsgrunnlagPrStatusOgAndel?r.beregningsgrunnlagPrStatusOgAndel.filter(t=>t.aktivitetStatus===B.ARBEIDSTAKER):[]).forEach(t=>{const i=K(t.overstyrtPrAar);n[Mi(t,r)]=i||""})}),n};Rt.transformValues=(e,n)=>{const r=$a(n),t=Pt(r),i=[];return t.forEach(s=>{const l=me(e[Mi(s,r)]);i.push({andelsnr:s.andelsnr,bruttoFastsattInntekt:l})}),[{periodeFom:r.beregningsgrunnlagPeriodeFom,periodeTom:r.beregningsgrunnlagPeriodeTom,fastsatteTidsbegrensedeAndeler:i}]};const h1=e=>e.overstyrtPrAar!==null&&e.overstyrtPrAar!==void 0?!0:e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,ek=e=>e?e.filter(n=>n.aktivitetStatus===B.ARBEIDSTAKER).filter(n=>n.skalFastsetteGrunnlag===!0).filter(n=>h1(n)):[],b1=(e,n,r,t,i,s)=>e.map((l,d)=>a.jsxs(y,{className:oe.verticalAlignMiddle,children:[a.jsx(v,{className:oe.atflAvvikAktivitet,children:a.jsx(I,{size:"small",children:Ms(l,t,n)})}),a.jsx(v,{className:oe.atflAvvikInntekt,children:a.jsx("div",{id:"readOnlyWrapper",className:r?oe.inputPadding:void 0,children:a.jsx(je,{name:`${s}.${i}.inntekt${d}`,validate:[X,vn(178956970)],readOnly:r,parse:Ve,className:oe.breddeInntekt,isEdited:r&&(!!l.overstyrtPrAar||l.overstyrtPrAar===0)})})})]},`index${d+1}`)),Va=({readOnly:e,alleAndelerIForstePeriode:n,kodeverkSamling:r,arbeidsgiverOpplysningerPerId:t,fieldIndex:i,formName:s})=>{const l=ek(n);return a.jsx(a.Fragment,{children:b1(l,r,e,t,i,s)})};Va.transformValues=(e,n)=>{let r=[];return n.find(t=>t.aktivitetStatus===B.ARBEIDSTAKER)&&(r=ek(n).map(({andelsnr:t},i)=>{const s=e[`inntekt${i}`];if(!t)throw new Error("Forventer andelsnr på andeler som skal fastsettes.");return{inntekt:s===void 0||s===""?0:me(s),andelsnr:t}})),r};const j1=({alleAndeler:e})=>{var n;const r=e.find(s=>!s.erTilkommetAndel&&s.aktivitetStatus===B.FRILANSER);if(!r)return null;const t=r.beregnetPrAar,i=(n=r.arbeidsforhold)==null?void 0:n.startdato;return a.jsxs(a.Fragment,{children:[a.jsx(ce,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Frilansinntekt"})}),a.jsx(x,{fourPx:!0}),a.jsxs(y,{className:G.rows,children:[a.jsx(v,{className:G.tabellAktivitet,children:i&&a.jsxs(I,{size:"small",children:[a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.FrilansStartDato2"}),a.jsx("span",{className:G.semiBoldText,children:a.jsx(Re,{dateString:i})})]})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(ke,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(ke,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),a.jsx(An,{prosentBredde:100}),a.jsxs(y,{className:G.rows,children:[a.jsx(v,{className:G.tabellAktivitet,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.InnrapportertFrilans"})})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(I,{size:"small",children:t?K(t/12):0})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(V,{size:"small",children:t?K(t):0})})]})]})},x1=({option:e,style:n,height:r})=>{const t=j.useRef(null);return j.useEffect(()=>{let i;t.current!==null&&(i=Hk(t.current));const s=()=>{i==null||i.resize()};return window.addEventListener("resize",s),()=>{i==null||i.dispose(),window.removeEventListener("resize",s)}},[]),j.useEffect(()=>{if(t.current!==null){const i=Jk(t.current);i&&(i.setOption(e),(i==null?void 0:i.getWidth())===0&&(i==null||i.resize()))}},[t.current,e]),a.jsx("div",{ref:t,style:{width:"auto",height:r,...n}})},A1="_lesMer_1gsng_1",I1="_sammenligningGrafOppsummeringType_1gsng_4",T1="_sammenligningGrafOppsummeringInntekt_1gsng_7",mr={lesMer:A1,sammenligningGrafOppsummeringType:I1,sammenligningGrafOppsummeringInntekt:T1},E1=[],_1="#99bdcd",S1="#c1b5d0",y1="#C6C2BF",N1=(e,n)=>{const r=e.flatMap(s=>s.inntekter).filter(s=>s.inntektAktivitetType===En.ARBEID).map(({beløp:s})=>s).reduce((s,l)=>s+l,0),t=e.flatMap(s=>s.inntekter).filter(s=>s.inntektAktivitetType===En.FRILANS).map(({beløp:s})=>s).reduce((s,l)=>s+l,0),i=e.flatMap(s=>s.inntekter).filter(s=>s.inntektAktivitetType===En.YTELSE).map(({beløp:s})=>s).reduce((s,l)=>s+l,0);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:G.storSpace}),a.jsx(y,{children:a.jsx(v,{children:a.jsx(V,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.SumTittel"})})})}),n.harArbeidsinntekt&&a.jsxs(a.Fragment,{children:[a.jsxs(y,{children:[a.jsx(v,{className:mr.sammenligningGrafOppsummeringType,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Arbeid"})})}),a.jsx(v,{className:mr.sammenligningGrafOppsummeringInntekt,children:a.jsx(I,{size:"small",children:K(r)})})]}),a.jsx(An,{prosentBredde:20})]}),n.harFrilansinntekt&&a.jsxs(a.Fragment,{children:[a.jsxs(y,{children:[a.jsx(v,{className:mr.sammenligningGrafOppsummeringType,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Frilans"})})}),a.jsx(v,{className:mr.sammenligningGrafOppsummeringInntekt,children:a.jsx(I,{size:"small",children:K(t)})})]}),a.jsx(An,{prosentBredde:20})]}),n.harYtelseinntekt&&a.jsxs(a.Fragment,{children:[a.jsxs(y,{children:[a.jsx(v,{className:mr.sammenligningGrafOppsummeringType,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ytelse"})})}),a.jsx(v,{className:mr.sammenligningGrafOppsummeringInntekt,children:a.jsx(I,{size:"small",children:K(i)})})]}),a.jsx(An,{prosentBredde:20})]})]})},P1=(e,n)=>!e||e.length===0?0:n?e.filter(r=>r.inntektAktivitetType===n).reduce((r,t)=>r+t.beløp,0):e.reduce((r,t)=>r+t.beløp,0),fs=(e,n,r)=>{const t=[];for(let i=0;i<12;i+=1){const s=T(n,ye).add(i,"M").format("YYYYMM"),l=e.find(o=>T(o.fom,ye).format("YYYYMM")===s),d=P1((l==null?void 0:l.inntekter)||[],r);t.push([d,s])}return t},R1=()=>a.jsxs(a.Fragment,{children:[a.jsx(y,{children:a.jsx(v,{children:a.jsx(ce,{size:"small",className:G.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Tittel"})})})},"SamenenligningsGrunnlagOverskrift"),a.jsx(x,{eightPx:!0}),a.jsx(y,{children:a.jsx(v,{children:a.jsx(m,{id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ingress"})})})]}),cs=(e,n)=>e.flatMap(r=>r.inntekter).some(r=>r.inntektAktivitetType===n),O1=e=>({harFrilansinntekt:cs(e,En.FRILANS),harArbeidsinntekt:cs(e,En.ARBEID),harYtelseinntekt:cs(e,En.YTELSE)}),B1=({sammenligningsGrunnlagInntekter:e,sammenligningsgrunnlag:n})=>{const r=Q(),t=(e==null?void 0:e.måneder)||E1,i=j.useMemo(()=>O1(t),[t]),s=n&&n.length>0?n[0].sammenligningsgrunnlagFom:void 0,l=j.useMemo(()=>i.harArbeidsinntekt&&s?fs(t,s,En.ARBEID):[],[i.harArbeidsinntekt,t,s]),d=j.useMemo(()=>i.harFrilansinntekt&&s?fs(t,s,En.FRILANS):[],[i.harArbeidsinntekt,t,s]),o=j.useMemo(()=>i.harYtelseinntekt&&s?fs(t,s,En.YTELSE):[],[i.harArbeidsinntekt,t,s]),u=j.useCallback(b=>b.value[0]>5e3?K(b.value[0])||"":b.value[0]===0?"":"..",[]);if(!t||t.length===0||!n||n.length<1)return null;const k=r.formatMessage({id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Arbeid"}),c=r.formatMessage({id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Frilans"}),h=r.formatMessage({id:"Beregningsgrunnlag.SammenligningsGrunnlaAOrdningen.Ytelse"});return a.jsxs(a.Fragment,{children:[a.jsx(co,{size:"medium",header:R1(),defaultOpen:!0,children:a.jsx(x1,{option:{tooltip:{trigger:"axis",formatter:b=>{const A=b,_=A[0].data,P=T(_[1]),S=P.locale(Ls).format("MMM"),F=P.format("YYYY"),N=`${S.charAt(0).toUpperCase()+S.slice(1)} ${F}`,D=A.reduce(($,M)=>{const C=M.data;return $.concat(`${(M.marker||"")+(M.seriesName||"")}: ${K(C[0])}`)},[]).join("<br/>");return`${N}<br />${D}`},axisPointer:{type:"shadow"}},legend:{data:[k,c,h]},grid:{left:"1%",right:"5%",bottom:"0%",containLabel:!0},xAxis:{type:"value",axisLabel:{formatter:b=>K(b)||"",margin:12}},yAxis:{type:"category",boundaryGap:!1,axisLabel:{formatter:b=>{const A=T(b),_=A.format("MM")==="01"||A.format("MM")==="12",P=A.locale(Ls).format("MMM"),S=A.format("YYYY"),F=P.charAt(0).toUpperCase()+P.slice(1,3);return _?`${F}
${S}`:F}}},series:[{name:k,type:"bar",stack:"total",label:{show:!0,fontSize:"11",formatter:u},emphasis:{focus:"series"},data:l},{name:c,type:"bar",stack:"total",label:{show:!0,fontSize:"11",formatter:u},emphasis:{focus:"series"},data:d},{name:h,type:"bar",stack:"total",label:{show:!0,fontSize:"11",formatter:u},emphasis:{focus:"series"},data:o}],color:[_1,S1,y1]},height:350})}),N1(t,i)]})},nk=e=>!e.arbeidsforhold||!e.arbeidsforhold.arbeidsgiverIdent?"N/A":e.arbeidsforhold.arbeidsforholdId?e.arbeidsforhold.arbeidsgiverIdent+e.arbeidsforhold.arbeidsforholdId:e.arbeidsforhold.arbeidsgiverIdent,F1=(e,n)=>{if(!e.arbeidsforhold||!e.arbeidsforhold.arbeidsgiverIdent)return"Ukjent arbeidsforhold";const r=n[e.arbeidsforhold.arbeidsgiverIdent];return Li(r,e.arbeidsforhold.eksternArbeidsforholdId)},rk=e=>e.beregningsgrunnlagPrStatusOgAndel?e.beregningsgrunnlagPrStatusOgAndel:[],$1=(e,n)=>{const r=F1(e,n),t=nk(e);return{visningsnavn:r,nøkkel:t,naturalytelseEndringer:[]}},D1=e=>{var n;return!!((n=e.arbeidsforhold)!=null&&n.naturalytelseBortfaltPrÅr)},V1=(e,n)=>{if(!e||e.length<1)return[];const r=[];return e.forEach(t=>{rk(t).filter(i=>D1(i)).map(i=>$1(i,n)).forEach(i=>{r.some(({nøkkel:s})=>s===i.nøkkel)||r.push(i)})}),r},G1=(e,n)=>{const r=rk(e).find(t=>nk(t)===n);return(r&&r.arbeidsforhold?r.arbeidsforhold.naturalytelseBortfaltPrÅr:0)||0},L1=(e,n)=>{const r=[];return n.forEach(t=>{const i=G1(t,e.nøkkel);i&&r.push({fom:t.beregningsgrunnlagPeriodeFom||"",tom:t.beregningsgrunnlagPeriodeTom||"",beløpPrÅr:i,beløpPrMåned:i/12})}),r},M1=e=>{if(!e||e.length<2)return e;e.sort((t,i)=>T(t.fom).diff(T(i.fom)));const n=[];let r=T(e[0].fom);return e.forEach(t=>{if(!T(t.fom).isBefore(r)){const i=e.find(s=>T(s.fom).isAfter(t.fom)&&s.beløpPrÅr!==t.beløpPrÅr);if(i){const s=T(i.fom).subtract(1,"d");n.push({tom:s.format(ye),fom:t.fom,beløpPrÅr:t.beløpPrÅr,beløpPrMåned:t.beløpPrMåned}),r=s}else r=T(Me),n.push({tom:"",fom:t.fom,beløpPrÅr:t.beløpPrÅr,beløpPrMåned:t.beløpPrMåned})}}),n},K1=(e,n)=>{const r=V1(e,n);return r.forEach(t=>{const i=L1(t,e);M1(i).forEach(s=>t.naturalytelseEndringer.push(s))}),!r||r.length<1?void 0:{rader:r}},w1=e=>e.tom?`${De(e.fom)} - ${De(e.tom)}`:`${De(e.fom)} -`,U1=e=>e.rader.map(n=>a.jsxs("div",{children:[a.jsx(y,{children:a.jsx(v,{className:G.noPaddingRight,children:a.jsx(V,{size:"small",children:n.visningsnavn})})}),n.naturalytelseEndringer.map(r=>a.jsxs(y,{children:[a.jsx(v,{className:G.tabellAktivitet,children:a.jsx(I,{size:"small",children:w1(r)})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(I,{size:"small",children:K(r.beløpPrMåned)})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(V,{size:"small",children:K(r.beløpPrÅr)})})]},n.nøkkel+r.fom))]},n.nøkkel)),C1=({allePerioder:e,arbeidsgiverOpplysningerPerId:n})=>{const r=j.useMemo(()=>K1(e,n),[e]);return r?a.jsxs(a.Fragment,{children:[a.jsx(x,{thirtyTwoPx:!0}),a.jsx(V,{size:"small",className:G.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Naturalytelse2"})}),a.jsxs(y,{children:[a.jsx(v,{className:G.tabellAktivitet}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(ke,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(ke,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]}),U1(r)]}):null},z1=e=>e.overstyrtPrAar!==null&&e.overstyrtPrAar!==void 0?!0:e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,tk=e=>e?e.filter(n=>n.aktivitetStatus===B.ARBEIDSTAKER).filter(n=>z1(n)):[],Y1=e=>{const n=[];return Object.prototype.hasOwnProperty.call(e,"startdato")&&e.startdato&&n.push(De(e.startdato)),Object.prototype.hasOwnProperty.call(e,"opphoersdato")&&e.opphoersdato&&(n.push("-"),n.push(De(e.opphoersdato))),n.join(" ")},H1=e=>{const n=[""];return Object.prototype.hasOwnProperty.call(e,"stillingsNavn")&&e.stillingsNavn&&n.push(e.stillingsNavn),Object.prototype.hasOwnProperty.call(e,"stillingsProsent")&&e.stillingsProsent&&n.push(`${e.stillingsProsent}%`),n.length!==0?n.join(" "):" "},Gd=e=>e.beregnetPrAar?e.beregnetPrAar:0,J1=(e,n,r)=>{const t=e.reduce((l,d)=>l+Gd(d),0),i=t?t/12:0,s=e.map((l,d)=>{var o,u,k;return a.jsxs(W.Fragment,{children:[a.jsxs(se,{children:[a.jsxs(y,{children:[a.jsx(v,{className:G.tabellAktivitet,children:a.jsx(V,{size:"small",className:G.semiBoldText,children:Ms(l,r,n)},`ColLableTxt${d+1}`)}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(I,{children:K(Gd(l)/12)},`ColBrgMndTxt${(o=l.arbeidsforhold)==null?void 0:o.arbeidsgiverIdent}`)}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(V,{children:K(l.beregnetPrAar)},`ColBrgAarTxt${(u=l.arbeidsforhold)==null?void 0:u.arbeidsgiverIdent}`)})]}),a.jsxs(y,{children:[l.arbeidsforhold&&l.arbeidsforhold.stillingsNavn&&a.jsx(v,{children:a.jsx(I,{children:H1(l.arbeidsforhold)})}),l.arbeidsforhold&&l.arbeidsforhold.startdato&&a.jsx(v,{children:a.jsx(ke,{size:"small",children:Y1(l.arbeidsforhold)})}),l.erTidsbegrensetArbeidsforhold&&a.jsx(v,{children:a.jsx(ke,{children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Tidsbegrenset"})})})]},`indexD${(k=l.arbeidsforhold)==null?void 0:k.arbeidsgiverIdent}`)]}),a.jsx(x,{eightPx:!0}),a.jsx(An,{prosentBredde:100})]},`ArbInntektWrapper${Ms(l,r,n)}${d+1}`)});if(e.length>1){const l=a.jsx(se,{children:a.jsxs(y,{children:[a.jsx(v,{className:G.tabellAktivitet,children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.TotaltArbeidsinntekt"})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(I,{children:K(i)})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(V,{children:K(t)})})]})},"SummaryRow");s.push(l)}return s},Ki=({alleAndelerIFørstePeriode:e,allePerioder:n,arbeidsgiverOpplysningerPerId:r,kodeverkSamling:t})=>{const i=tk(e);return!i||i.length===0?null:a.jsxs(a.Fragment,{children:[a.jsx(y,{children:a.jsx(v,{children:a.jsx(ce,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt"})})})}),a.jsx(se,{children:a.jsxs(y,{children:[a.jsx(v,{className:G.tabellAktivitet}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(ke,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Maaned"})})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(ke,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.Arbeidsinntekt.Aar"})})})]})}),a.jsx(An,{prosentBredde:100}),J1(i,t,r),a.jsx(C1,{allePerioder:n,arbeidsgiverOpplysningerPerId:r})]})};Ki.defaultProps={allePerioder:void 0};Ki.buildInitialValues=e=>{const n=tk(e),r={};return n.forEach((t,i)=>{r[`inntekt${i}`]=K(t.overstyrtPrAar)||""}),r};const q1="_lesMer_1w256_1",Z1="_overskrift_1w256_4",W1="_merTekstBorder_1w256_9",X1={lesMer:q1,overskrift:Z1,merTekstBorder:W1},Q1=e=>{const n=e==null?void 0:e.virksomhetType;if(!n)return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.UDEFINERT";switch(n){case"JORDBRUK_SKOGBRUK":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.JORDBRUK_SKOGBRUK";case"DAGMAMMA":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.DAGMAMMA";case"FISKE":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FISKE";case"FRILANSER":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.FRILANSER";case"ANNEN":return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.ANNEN";default:return"Beregningsgrunnlag.NaeringsOpplysningsPanel.VirksomhetsType.UDEFINERT"}},Ld=e=>{const{oppstartsdato:n,opphørsdato:r}=e;if(n)return r?`${De(n)}-${De(r)} `:`${De(n)}-`},eO=e=>{const{regnskapsførerNavn:n,regnskapsførerTlf:r}=e;if(n)return r?`${n}-${r} `:`${n}-`},nO=(e,n)=>{const r=n[e.orgnr];return r?r.navn:"Ukjent bedriftsnavn"},rO=e=>{const{oppstartsdato:n,erVarigEndret:r,endringsdato:t}=e,i=r?"Beregningsgrunnlag.NaeringsOpplysningsPanel.VarigEndret":"Beregningsgrunnlag.NaeringsOpplysningsPanel.Nyoppstaret",s=r?t:n;return s?a.jsx(V,{size:"small",className:G.semiBoldText,children:a.jsx(m,{id:i,values:{dato:De(s),b:l=>a.jsx("b",{children:l})}})}):null},tO=e=>{const{erNyoppstartet:n,erVarigEndret:r}=e;return!!r||!!n},iO=e=>e.begrunnelse&&e.begrunnelse!==""?a.jsx(I,{size:"small",className:X1.merTekstBorder,children:e.begrunnelse}):null,sO=e=>!!e.oppgittInntekt||e.oppgittInntekt===0,aO=({alleAndelerIForstePeriode:e,arbeidsgiverOpplysningerPerId:n})=>{const r=e.find(t=>t.aktivitetStatus===B.SELVSTENDIG_NAERINGSDRIVENDE);return r!=null&&r.næringer?a.jsxs(a.Fragment,{children:[a.jsxs(y,{children:[a.jsx(v,{className:G.tabellAktivitet,children:a.jsx(ce,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.NaeringsOpplysningsPanel.Overskrift"})})}),a.jsx(v,{className:G.tabellAktivitet}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(ke,{children:a.jsx(m,{id:"Beregningsgrunnlag.NaeringsOpplysningsPanel.OppgittAar"})})})]}),a.jsx(An,{prosentBredde:100}),r.næringer.map(t=>a.jsxs(W.Fragment,{children:[a.jsxs(y,{children:[a.jsx(v,{className:G.næringOpplysningNavn,children:a.jsx(V,{size:"small",className:G.semiBoldText,children:nO(t,n)})}),a.jsx(v,{className:G.næringOpplysningInntekt,children:sO(t)&&a.jsx(V,{size:"small",children:K(t.oppgittInntekt)})})]}),a.jsxs(y,{children:[a.jsx(v,{className:G.næringOpplysningOrgnr,children:a.jsx(I,{size:"small",children:t&&t.orgnr?t.orgnr:""})}),a.jsx(v,{className:G.næringOpplysningDato,children:Ld(t)&&a.jsx(I,{size:"small",children:Ld(t)})})]},`NaringsDetaljer${t.orgnr}`),a.jsx(y,{children:a.jsx(v,{children:a.jsx(I,{size:"small",children:a.jsx(m,{id:Q1(t)})})})}),a.jsx(y,{children:a.jsx(v,{children:t.regnskapsførerNavn&&a.jsx(I,{size:"small",children:eO(t)})})},`RevisorRad${t.orgnr}`),tO(t)&&a.jsxs(a.Fragment,{children:[a.jsx(An,{prosentBredde:100}),a.jsx(x,{twentyPx:!0}),rO(t),a.jsx(x,{eightPx:!0}),a.jsx(y,{className:G.næringEndringBeskrivelse,children:a.jsx(v,{children:iO(t)})})]})]},`NaringsWrapper${t.orgnr}`))]}):null},{FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:lO,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:dO}=ge,oO=e=>e&&e.find(n=>n.definisjon===lO||n.definisjon===dO),gO=e=>e&&e.length>0?e[0].beregningsgrunnlagPrStatusOgAndel||[]:[],wn=a.jsx("div",{className:G.storSpace}),uO=(e,n,r,t,i,s,l,d)=>a.jsxs("div",{className:G.panelLeft,children:[n.isArbeidstaker&&a.jsx(Ki,{alleAndelerIFørstePeriode:e,allePerioder:r,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:s}),n.isFrilanser&&a.jsxs(a.Fragment,{children:[wn,a.jsx(j1,{alleAndeler:e})]}),n.harDagpengerEllerAAP&&a.jsxs("div",{children:[wn,a.jsx(GR,{alleAndeler:e,relevanteStatuser:n,gjelderBesteberegning:t})]}),n.isMilitaer&&a.jsxs(a.Fragment,{children:[wn,a.jsx(LR,{alleAndeler:e})]}),n.harAndreTilstotendeYtelser&&a.jsxs(a.Fragment,{children:[wn,a.jsx(yR,{bruttoPrAar:r[0].bruttoPrAar})]}),(n.isSelvstendigNaeringsdrivende||n.isMidlertidigInaktiv)&&a.jsxs(a.Fragment,{children:[wn,a.jsx(BR,{alleAndeler:e,inntektsgrunnlag:d}),wn,a.jsx(aO,{alleAndelerIForstePeriode:e,arbeidsgiverOpplysningerPerId:s})]}),(n.isFrilanser||n.isArbeidstaker)&&d&&l&&a.jsxs(a.Fragment,{children:[wn,a.jsx(B1,{sammenligningsGrunnlagInntekter:d,sammenligningsgrunnlag:l})]})]}),Dn=({relevanteStatuser:e,allePerioder:n,gjelderBesteberegning:r,kodeverkSamling:t,sammenligningsGrunnlagInntekter:i,arbeidsgiverOpplysningerPerId:s,sammenligningsgrunnlag:l})=>{if(!n)return null;const d=gO(n);return uO(d,e,n,r,t,s,l,i)};Dn.defaultProps={allePerioder:void 0,sammenligningsGrunnlagInntekter:void 0};Dn.buildInitialValues=e=>{const n=oO(e);return{ATFLVurdering:n&&n.begrunnelse?n.begrunnelse:""}};Dn.transformATFLValues=(e,n)=>({begrunnelse:e.ATFLVurdering,inntektPrAndelList:Va.transformValues(e,n),inntektFrilanser:e.inntektFrilanser!==void 0?me(e.inntektFrilanser):null});Dn.transformATFLTidsbegrensetValues=(e,n)=>({begrunnelse:e.ATFLVurdering,fastsatteTidsbegrensedePerioder:Rt.transformValues(e,n),frilansInntekt:e.inntektFrilanser!==void 0?me(e.inntektFrilanser):null});const{VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:ik,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:Ga,FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:sk,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:ak,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:lk}=ge,kO=(e,n)=>{switch(e.definisjon){case ik:return n.find(r=>r.sammenligningsgrunnlagType===fe.ATFLSN||r.sammenligningsgrunnlagType===fe.SN);case Ga:return n.find(r=>r.sammenligningsgrunnlagType===fe.MIDLERTIDIG_INAKTIV);case sk:case ak:return n.find(r=>r.sammenligningsgrunnlagType===fe.ATFLSN||r.sammenligningsgrunnlagType===fe.AT_FL||r.sammenligningsgrunnlagType===fe.AT||r.sammenligningsgrunnlagType===fe.FL);case lk:return;default:return}},mO=(e,n)=>{const r=kO(e,n),t=r&&r.avvikProsent?r.avvikProsent:0;return Number(t.toFixed(1))},Md=e=>e&&e.length>0,fO=e=>e.sammenligningsgrunnlagPrStatus?e.sammenligningsgrunnlagPrStatus:[],cO={[sk]:"Beregningsgrunnlag.Helptext.Arbeidstaker",[ak]:"Beregningsgrunnlag.Helptext.TidsbegrensetArbeidsforhold",[lk]:"Beregningsgrunnlag.Helptext.NyIArbeidslivetSN",[Ga]:"Beregningsgrunnlag.Helptext.VarigEndretArbeidssituasjon"},pO=(e,n)=>e.definisjon===ik?n?"Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.VarigEndring":"Beregningsgrunnlag.Helptext.SelvstendigNaeringsdrivende.Nyoppstartet":cO[e.definisjon],vO=(e,n,r)=>{var t;const i=r.find(l=>l.aktivitetStatus===B.SELVSTENDIG_NAERINGSDRIVENDE),s=!!((t=i==null?void 0:i.næringer)!=null&&t.some(l=>l.erVarigEndret===!0));return a.jsxs("div",{children:[a.jsx(ut,{children:e.map(l=>a.jsx(V,{children:a.jsx(m,{id:pO(l,s||l.definisjon===Ga),values:{verdi:mO(l,n),b:d=>a.jsx("b",{children:d}),br:a.jsx("br",{})}})},l.definisjon))}),a.jsx(x,{thirtyTwoPx:!0})]})},hO=({avklaringsbehov:e,beregningsgrunnlag:n})=>{const r=n.beregningsgrunnlagPeriode?n.beregningsgrunnlagPeriode[0]:void 0,t=r&&r.beregningsgrunnlagPrStatusOgAndel?r.beregningsgrunnlagPrStatusOgAndel:[],i=e.filter(l=>hn(l.status));if(!(Md(i)&&Md(t)))return null;const s=fO(n);return a.jsxs(a.Fragment,{children:[a.jsx(x,{eightPx:!0}),vO(i,s,t)]})},bO="_aksjonspunktBehandlerBorder_o9hgh_1",jO="_aksjonspunktBehandlerContainer_o9hgh_6",xO="_verticalLine_o9hgh_16",AO="_verticalAlignMiddle_o9hgh_23",IO="_inputPadding_o9hgh_27",TO="_inntektTableTB_o9hgh_35",EO="_inntektTableTB_o9hgh_35",_O="_rowSpacer_o9hgh_39",SO="_textAreaWrapper_o9hgh_71",yO="_textAreaWrapperHeigh_o9hgh_74",NO="_dynamiskKolonne_o9hgh_81",PO={aksjonspunktBehandlerBorder:bO,aksjonspunktBehandlerContainer:jO,verticalLine:xO,verticalAlignMiddle:AO,inputPadding:IO,inntektTableTB:TO,inntektTableTb:EO,rowSpacer:_O,textAreaWrapper:SO,textAreaWrapperHeigh:yO,dynamiskKolonne:NO},Kd=(e,n,r)=>a.jsx(y,{children:a.jsx(v,{children:a.jsx(I,{size:"small",children:a.jsx(m,{id:e,values:{fom:T(n).format(ie),tom:T(r).format(ie)}})})})}),RO=e=>{const n=e.frisinnAndeler.find(t=>t.statusSøktFor===B.SELVSTENDIG_NAERINGSDRIVENDE),r=e.frisinnAndeler.find(t=>t.statusSøktFor===B.FRILANSER);return a.jsxs("div",{children:[r&&Kd("Beregningsgrunnlag.Søknad.SøktYtelseFL",e.fom,e.tom),n&&Kd("Beregningsgrunnlag.Søknad.SøktYtelseSN",e.fom,e.tom)]},e.fom)},OO=({beregningsgrunnlag:e})=>{const n=e.ytelsesspesifiktGrunnlag,{frisinnPerioder:r}=n;return a.jsxs("div",{children:[a.jsx(y,{children:a.jsx(v,{children:a.jsx(V,{size:"small",className:G.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.Søknad.Tittel"})})})}),a.jsx(x,{eightPx:!0}),Array.isArray(r)&&r.map(t=>RO(t)),a.jsx(x,{sixteenPx:!0})]})},wd=(e,n)=>{if(!e)return 0;const r=e.filter(t=>t.aktivitetStatus===n).map(({bruttoPrAar:t})=>t||0).reduce((t,i)=>t+i,0);return!r||r===0?0:r},dk=e=>e.month()===2&&e.year()===2020,BO=e=>{const n=T(e.tom);return dk(n)},ok=(e,n,r)=>{const{frisinnPerioder:t}=r;if(!Array.isArray(t))return null;const i=T(n.beregningsgrunnlagPeriodeFom);if(dk(i)&&t.some(d=>BO(d))){const d=T("2020-04-30"),o=t.find(u=>T(u.tom).isSame(d,"day"));return o?o.frisinnAndeler.filter(u=>u.statusSøktFor===e):null}const s=T(n.beregningsgrunnlagPeriodeTom).endOf("month"),l=t.find(d=>!T(d.fom).isBefore(i)&&T(d.tom).isSame(s,"day"));return l?l.frisinnAndeler.filter(d=>d.statusSøktFor===e):null},Sr=(e,n,r)=>{const t=ok(e,n,r);return!!t&&t.length>0},sn=(e,n,r)=>{if(!e||!n||!r)return 0;if(Sr(e,r,n.ytelsesspesifiktGrunnlag)){const t=n.beregningsgrunnlagPeriode[0];return wd(t.beregningsgrunnlagPrStatusOgAndel||[],e)}return wd(r.beregningsgrunnlagPrStatusOgAndel||[],e)},Ud=(e,n,r)=>{const t=ok(e,n,r);if(!t||t.length<1)return 0;const i=t.map(({oppgittInntekt:s})=>s).reduce((s,l)=>s+l,0);return!i||i===0?0:i},gk=e=>{const{frisinnPerioder:n,behandlingÅrsaker:r}=e;if(!Array.isArray(n))return[];if(r&&n.length>1&&r.some(t=>t===lm.RE_ENDRING_FRA_BRUKER)){const t=[...n].sort((l,d)=>l.fom.localeCompare(d.fom)),i=t[t.length-1],s=T(i.tom);return s.month()===3&&s.year()===2020?t.filter(l=>T(l.fom).month()===3||T(l.fom).month()===2):t.filter(l=>T(l.fom).month()===s.month()&&T(l.fom).year()===s.year())}return n},FO=(e,n)=>{let r=null;return n!==Me&&(r=n),a.jsx(m,{id:"Beregningsgrunnlag.BeregningTable.Periode",values:{fom:T(e).format(ie),tom:r?T(r).format(ie):""}},`fom-tom${e}${r}`)},uk=(e,n)=>{const r=e.beregningsgrunnlagPeriodeFom,t=e.beregningsgrunnlagPeriodeTom,i=n.frisinnPerioder,s=Array.isArray(i)&&i.find(l=>!T(r).isBefore(l.fom)&&!T(t).isAfter(l.tom));return s?s.frisinnAndeler:[]},Cd=(e,n)=>a.jsxs(y,{children:[a.jsx(v,{className:G.tabellAktivitet,children:a.jsx(m,{id:e})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(I,{size:"small",children:K(n)})})]}),zd=(e,n,r,t,i)=>{const s=i/100,l=n*s;return a.jsxs(a.Fragment,{children:[a.jsxs(y,{children:[a.jsx(v,{className:G.tabellAktivitet,children:a.jsx(m,{id:e,values:{grad:i}})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(I,{size:"small",children:K(l)})})]}),!!t||t===0&&a.jsxs(y,{children:[a.jsx(v,{className:G.tabellAktivitet,children:a.jsx(m,{id:r})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(I,{size:"small",children:K(t)})})]})]})},zt=e=>e||e===0,$O=e=>{const n=T(e);return n.isBefore(T("2020-11-01","YYYY-MM-DD"))?80:n.isBefore(T("2022-01-01","YYYY-MM-DD"))?60:70},DO=(e,n,r,t)=>{const i=uk(e,n);if(!i||i.length<1)return null;const s=i.some(k=>k.statusSøktFor===B.FRILANSER)?r:null,l=i.some(k=>k.statusSøktFor===B.SELVSTENDIG_NAERINGSDRIVENDE)?t:null,d=Ud(B.FRILANSER,e,n),o=Ud(B.SELVSTENDIG_NAERINGSDRIVENDE,e,n),u=$O(e.beregningsgrunnlagPeriodeFom);return a.jsxs(a.Fragment,{children:[zt(s)&&Cd("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagFL",s||0),zt(s)&&zd("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertFL",s||0,"Beregningsgrunnlag.Søknad.LøpendeFL",d,u),zt(l)&&Cd("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagSN",l||0),zt(l)&&zd("Beregningsgrunnlag.Frisinn.BeregningsgrunnlagRedusertSN",l||0,"Beregningsgrunnlag.Søknad.LøpendeSN",o,u),a.jsx(y,{children:a.jsx(v,{children:a.jsx("div",{className:G.colDevider})})}),a.jsxs(y,{children:[a.jsx(v,{className:G.tabellAktivitet,children:a.jsx(ke,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Resultat.Dagsats"})})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(I,{size:"small",children:K(e.dagsats)})})]})]})},VO=({bgperiode:e,ytelsegrunnlag:n,frilansGrunnlag:r,næringGrunnlag:t})=>{const i=uk(e,n);if(!i||i.length<1)return null;const s=r>=0?r:0,l=t>=0?t:0;return a.jsxs("div",{children:[a.jsx(x,{eightPx:!0}),a.jsx(y,{children:a.jsx(v,{children:a.jsx(V,{size:"small",children:FO(e.beregningsgrunnlagPeriodeFom,e.beregningsgrunnlagPeriodeTom)})})}),DO(e,n,s,l)]})},kk=e=>e.grunnbeløp?e.grunnbeløp*6:0,GO=(e,n)=>{if(!Sr(B.FRILANSER,n,e.ytelsesspesifiktGrunnlag))return 0;let r=kk(e);const t=sn(B.ARBEIDSTAKER,e,n);if(r-=t,!Sr(B.SELVSTENDIG_NAERINGSDRIVENDE,n,e.ytelsesspesifiktGrunnlag)){const s=sn(B.SELVSTENDIG_NAERINGSDRIVENDE,e,n);r-=s}const i=sn(B.FRILANSER,e,n);return i>r?r:i},LO=(e,n)=>{if(!Sr(B.SELVSTENDIG_NAERINGSDRIVENDE,n,e.ytelsesspesifiktGrunnlag))return 0;let r=kk(e);const t=sn(B.ARBEIDSTAKER,e,n);r-=t;const i=sn(B.FRILANSER,e,n);r-=i;const s=sn(B.SELVSTENDIG_NAERINGSDRIVENDE,e,n);return s>r?r:s},MO=(e,n)=>{const r=T(e.beregningsgrunnlagPeriodeFom),t=T(e.beregningsgrunnlagPeriodeTom);return Array.isArray(n)&&n.some(i=>!T(i.fom).isBefore(r)&&!T(i.tom).isAfter(t))},KO=({beregningsgrunnlag:e})=>{const n=gk(e.ytelsesspesifiktGrunnlag),r=Array.isArray(e.beregningsgrunnlagPeriode)?e.beregningsgrunnlagPeriode.filter(t=>MO(t,n)):[];return a.jsxs("div",{children:[a.jsx(y,{children:a.jsx(v,{children:a.jsx(V,{size:"small",className:G.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.Resultat"})})})}),r.map(t=>a.jsx("div",{children:a.jsx(VO,{bgperiode:t,ytelsegrunnlag:e.ytelsesspesifiktGrunnlag,frilansGrunnlag:GO(e,t),næringGrunnlag:LO(e,t)},t.beregningsgrunnlagPeriodeFom)},t.beregningsgrunnlagPeriodeFom))]})},wO=({beregningsgrunnlag:e})=>{if(e.beregningsgrunnlagPeriode.length<2)return null;const n=e.beregningsgrunnlagPeriode.sort((l,d)=>l.beregningsgrunnlagPeriodeFom.localeCompare(d.beregningsgrunnlagPeriodeFom)),r=n[n.length-2],t=sn(B.SELVSTENDIG_NAERINGSDRIVENDE,e,r),i=sn(B.FRILANSER,e,r),s=sn(B.ARBEIDSTAKER,e,r);return a.jsxs("div",{children:[a.jsx(y,{children:a.jsx(v,{children:a.jsx(V,{size:"small",className:G.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.Søknad.Inntektsopplysninger"})})})}),a.jsxs(y,{children:[a.jsx(v,{className:G.tabellAktivitet,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektAT"})})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(V,{size:"small",children:K(s)})})]}),a.jsxs(y,{children:[a.jsx(v,{className:G.tabellAktivitet,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektFL"})})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(V,{size:"small",children:K(i)})})]}),a.jsxs(y,{children:[a.jsx(v,{className:G.tabellAktivitet,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektSN"})})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(V,{size:"small",children:K(t)})})]})]})},UO=T("2020-04-01"),CO=(e,n,r)=>a.jsxs(y,{children:[a.jsx(v,{className:G.tabellAktivitet,children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.Inntektstak",values:{grenseverdi:K(e),annenInntekt:K(n)}})}),a.jsx(v,{className:G.tabellInntekt,children:a.jsx(I,{size:"small",children:K(r)})})]}),zO=(e,n)=>{if(!Array.isArray(n))return!1;const r=T(e.beregningsgrunnlagPeriodeFom),t=T(e.beregningsgrunnlagPeriodeTom);return n.some(i=>!T(i.fom).isBefore(r)&&!T(i.tom).isAfter(t))},YO=(e,n)=>{const r=[];return Array.isArray(e)&&e.forEach(t=>{if(zO(t,n)){const i=T(t.beregningsgrunnlagPeriodeTom),s=T(t.beregningsgrunnlagPeriodeTom).endOf("month");i.isAfter(UO)&&i.isSame(s,"day")&&t.beregningsgrunnlagPeriodeTom!==Me&&r.push(t)}}),r},HO=(e,n)=>{const r=T(n.beregningsgrunnlagPeriodeFom),t=T(e.fom);return r.year()===t.year()&&r.month()===t.month()&&t.isBefore(r)},JO=(e,n)=>{const r=e.ytelsesspesifiktGrunnlag,t=sn(B.ARBEIDSTAKER,e,n),i=e.grunnbeløp*6;let s=t;if(!Sr(B.FRILANSER,n,r)){const k=sn(B.FRILANSER,e,n);s+=k}if(!Sr(B.SELVSTENDIG_NAERINGSDRIVENDE,n,r)){const k=sn(B.SELVSTENDIG_NAERINGSDRIVENDE,e,n);s+=k}const l=i>s?i-s:0,d=n.beregningsgrunnlagPeriodeTom,o=Array.isArray(r.frisinnPerioder)&&r.frisinnPerioder.find(k=>HO(k,n)),u=o?o.fom:n.beregningsgrunnlagPeriodeFom;return a.jsxs(a.Fragment,{children:[a.jsx(y,{children:a.jsx(v,{children:a.jsx(V,{size:"small",className:G.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.InntektstakOpplysningerPeriode",values:{fom:T(u).format(ie),tom:d?T(d).format(ie):""}},`fom-tom${u}${d}`)})})}),a.jsx(x,{eightPx:!0}),CO(i,s,l),a.jsx(x,{sixteenPx:!0})]})},qO=({beregningsgrunnlag:e})=>{const n=gk(e.ytelsesspesifiktGrunnlag),r=YO(e.beregningsgrunnlagPeriode,n);return a.jsx(a.Fragment,{children:r.map(t=>a.jsx("div",{children:JO(e,t)},t.beregningsgrunnlagPeriodeFom))})},ZO=e=>e.beregningsgrunnlagPeriode.some(n=>n.dagsats||n.dagsats===0),WO=({beregningsgrunnlag:e})=>a.jsxs("div",{className:PO.aksjonspunktBehandlerContainer,children:[a.jsx(ke,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Frisinn.Tittel"})}),a.jsx(x,{sixteenPx:!0}),a.jsx(OO,{beregningsgrunnlag:e}),a.jsx(x,{sixteenPx:!0}),a.jsx(wO,{beregningsgrunnlag:e}),a.jsx(x,{sixteenPx:!0}),ZO(e)&&a.jsxs(a.Fragment,{children:[a.jsx(qO,{beregningsgrunnlag:e}),a.jsx(x,{sixteenPx:!0}),a.jsx(KO,{beregningsgrunnlag:e})]})]}),XO=e=>a.jsx(WO,{beregningsgrunnlag:e}),QO=({beregningsgrunnlag:e})=>{const n=e.ytelsesspesifiktGrunnlag;return n&&n.ytelsetype===Ro.FRISINN?XO(e):null},eB=({relevanteStatuser:e,erManueltBesteberegnet:n,erNyIArbeidslivet:r,sammenligningsgrunnlag:t})=>{if(r)return a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.SN.NyIArbeidslivet"})});if(!t||t.length<1)return null;const i=(e.isArbeidstaker||e.isFrilanser)&&e.isSelvstendigNaeringsdrivende,s=t.filter(d=>d.sammenligningsgrunnlagType===fe.AT_FL||d.sammenligningsgrunnlagType===fe.AT||d.sammenligningsgrunnlagType===fe.FL),l=i&&s.length===0;return n?a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.Besteberegning"})}):a.jsxs(a.Fragment,{children:[e.isMilitaer&&a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.Miletar"})}),e.isAAP&&a.jsxs(y,{children:[a.jsx(v,{children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.AAP"})})}),a.jsx(x,{eightPx:!0})]}),e.isDagpenger&&a.jsxs(a.Fragment,{children:[a.jsx(y,{children:a.jsx(v,{children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.Dagpenger"})})})}),a.jsx(x,{eightPx:!0})]}),l&&a.jsxs(y,{children:[a.jsx(v,{children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.AT.KobinasjonsStatusATFLSN"})})}),a.jsx(x,{eightPx:!0})]})]})},nB="_colLable_di1r8_1",rB="_colValue_di1r8_8",tB="_avvikLinjeRad_di1r8_16",iB="_linjeSkille_di1r8_21",sB="_linjeSkilleTykk_di1r8_27",aB="_colLine_di1r8_33",lB="_colAvvik_di1r8_36",dB="_colBorderTopLeft_di1r8_45",oB="_colBorderTop_di1r8_45",gB="_colNoBorderTop_di1r8_58",uB="_beregnetLuftOver_di1r8_61",gn={colLable:nB,colValue:rB,avvikLinjeRad:tB,linjeSkille:iB,linjeSkilleTykk:sB,colLine:aB,colAvvik:lB,colBorderTopLeft:dB,colBorderTop:oB,colNoBorderTop:gB,beregnetLuftOver:uB},Yd=a.jsx(y,{children:a.jsx(v,{children:a.jsx("div",{className:gn.linjeSkille})})}),kB=({beregnetAarsinntekt:e,sammenligningsgrunnlag:n,erPGI:r})=>{const{differanseBeregnet:t,rapportertPrAar:i,avvikProsent:s}=n,l=parseFloat(s.toFixed(1)),d=r?"Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt.Naring":"Beregningsgrunnlag.Avviksopplysninger.OmregnetAarsinntekt",o=r?"Beregningsgrunnlag.Avviksopplysninger.SamletInntekt":"Beregningsgrunnlag.Avviksopplysninger.RapportertAarsinntekt";return a.jsxs(a.Fragment,{children:[Yd,a.jsxs(y,{children:[a.jsx(v,{className:gn.colLable,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:d})})}),a.jsx(v,{className:gn.colValue,children:a.jsx(I,{size:"small",children:e||e===0?K(e):"-"})}),a.jsx(v,{className:gn.colAvvik})]}),Yd,a.jsxs(y,{children:[a.jsx(v,{className:gn.colLable,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:o})})}),a.jsx(v,{className:gn.colValue,children:a.jsx(I,{size:"small",children:K(i)})}),a.jsx(v,{className:gn.colAvvik})]}),a.jsx(y,{children:a.jsx(v,{children:a.jsx("div",{className:gn.linjeSkilleTykk})})}),a.jsxs(y,{children:[a.jsx(v,{className:gn.colLable,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.BeregnetAvvik"})})}),a.jsx(v,{className:gn.colValue,children:a.jsx(I,{size:"small",children:K(t===void 0?0:t)})}),a.jsx(v,{className:gn.colAvvik,children:a.jsx(I,{size:"small",className:`${l>25?G.redError:""} ${G.semiBoldText}`,children:a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.AvvikProsent",values:{avvik:l}})})})]})]})},mB=e=>e.some(n=>n.aktivitetStatus===B.FRILANSER&&(n.overstyrtPrAar||n.overstyrtPrAar===0)),La=({readOnly:e,fieldIndex:n,formName:r,alleAndelerIForstePeriode:t})=>a.jsxs(y,{className:oe.verticalAlignMiddle,children:[a.jsx(v,{className:oe.atflAvvikAktivitet,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.AarsinntektPanel.AksjonspunktBehandlerFL"})})}),a.jsx(v,{className:oe.atflAvvikInntekt,children:a.jsx("div",{id:"readOnlyWrapper",className:e?oe.inputPadding:void 0,children:a.jsx(je,{name:`${r}.${n}.inntektFrilanser`,validate:[X,vn(178956970)],readOnly:e,parse:Ve,className:oe.breddeInntekt,isEdited:e&&mB(t)})})})]});La.buildInitialValues=e=>{const n=e.length>0?K(e[0].overstyrtPrAar):void 0;return n?{inntektFrilanser:n}:{}};const fB=pn(1500),cB=cn(3),Ma="fastsettBeregningsgrnunnlagSNBegrunnelse",Ka="bruttoBeregningsgrunnlag",{FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:pB}=ge,Vr=({readOnly:e,isAksjonspunktClosed:n,erNyArbLivet:r,fieldIndex:t,formName:i})=>{const s=Q();return a.jsxs(a.Fragment,{children:[r&&a.jsxs(a.Fragment,{children:[a.jsxs(y,{className:oe.verticalAlignMiddle,children:[a.jsx(v,{className:oe.dynamiskKolonne,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.BruttoBerGr2"})})}),a.jsx(v,{children:a.jsx("div",{id:"readOnlyWrapper",className:e?oe.inputPadding:void 0,children:a.jsx(je,{name:`${i}.${t}.${Ka}`,validate:[X,vn(178956970)],parse:Ve,className:oe.breddeInntekt,isEdited:e&&n,readOnly:e})})})]}),a.jsx(x,{eightPx:!0})]}),a.jsx(x,{sixteenPx:!0}),a.jsx(y,{children:a.jsx(v,{children:a.jsx("div",{id:"readOnlyWrapper",className:e?oe.verticalLine:oe.textAreaWrapperHeigh,children:a.jsx(Xe,{name:`${i}.${t}.${Ma}`,label:a.jsx(m,{id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag"}),validate:[X,fB,cB,fn],isEdited:e&&n,maxLength:1500,readOnly:e,description:s.formatMessage({id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst"}),parse:l=>l.toString().replaceAll("‑","-").replaceAll("	"," ")})})})})]})};Vr.buildInitialValuesNyIArbeidslivet=(e,n)=>{const r=e.find(i=>i.aktivitetStatus===B.SELVSTENDIG_NAERINGSDRIVENDE),t=n.find(i=>i.definisjon===pB);return{[Ka]:r?K(r.overstyrtPrAar):void 0,[Ma]:t&&t.begrunnelse?t.begrunnelse:void 0}};Vr.transformValuesNyIArbeidslivet=e=>({begrunnelse:e[Ma],bruttoBeregningsgrunnlag:me(e[Ka])});const vB=pn(1500),hB=cn(3),wa="varigEndringNyoppstartetBegrunnelse",Ua="erVarigEndret",Ca="bruttoBeregningsgrunnlag",{VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:bB,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:jB}=ge,xB=e=>e?a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndretInntektFastsettesTil"}):a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.BruttoBerGr2"}),Ot=({readOnly:e,erVarigEndring:n,erVarigEndretArbeidssituasjon:r,erNyoppstartet:t,fieldIndex:i,formName:s,isAksjonspunktClosed:l})=>{let d=a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IngenEndring"}),o=a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.EndretNaering"});t&&!n&&(d=a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeNyoppstartet"}),o=a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.Nyoppstartet"})),n&&!t&&(d=a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.IkkeVarigEndring"}),o=a.jsx(m,{id:"Beregningsgrunnlag.FastsettSelvstendigNaeringForm.VarigEndring"}));let u="Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringNæring";r&&(u="Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelVarigEndringArbeid"),t&&(u="Beregningsgrunnlag.AksjonspunktBehandler.RadioTittelNyoppstartetNæring");const k=Q(),c=_e().watch(s)[i].erVarigEndret,h=[{value:"false",label:d},{value:"true",label:o}];return a.jsxs(a.Fragment,{children:[a.jsx(y,{children:a.jsx(v,{children:a.jsx(Ie,{name:`${s}.${i}.${Ua}`,validate:[X],label:k.formatMessage({id:u}),isHorizontal:!1,isReadOnly:e,isEdited:e&&l,radios:h,isTrueOrFalseSelection:!0})})}),c&&a.jsxs(a.Fragment,{children:[a.jsxs(y,{className:oe.verticalAlignMiddle,children:[a.jsx(v,{className:oe.dynamiskKolonne,children:a.jsx(I,{size:"small",children:xB(r)})}),a.jsx(v,{children:a.jsx("div",{id:"readOnlyWrapper",className:e?oe.inputPadding:void 0,children:a.jsx(je,{name:`${s}.${i}.${Ca}`,validate:[X,vn(178956970)],parse:Ve,className:oe.breddeInntekt,readOnly:e,isEdited:e&&l})})})]}),a.jsx(x,{sixteenPx:!0})]}),a.jsxs(a.Fragment,{children:[a.jsx(x,{sixteenPx:!0}),a.jsx(y,{children:a.jsx(v,{children:a.jsx(Xe,{name:`${s}.${i}.${wa}`,label:a.jsx(m,{id:"Beregningsgrunnlag.Forms.Vurdering"}),validate:[X,vB,hB,fn],maxLength:1500,readOnly:e,description:k.formatMessage({id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst"}),parse:b=>b.toString().replaceAll("‑","-").replaceAll("	"," ")})})})]})]})};Ot.buildInitialValues=(e,n)=>{const r=e.find(i=>i.aktivitetStatus===B.SELVSTENDIG_NAERINGSDRIVENDE||i.aktivitetStatus===B.BRUKERS_ANDEL),t=n.find(i=>i.definisjon===bB||i.definisjon===jB);if(t){const i=hn(t.status)?void 0:e[0].overstyrtPrAar!==null&&e[0].overstyrtPrAar!==void 0;return{[Ua]:i,[wa]:t.begrunnelse?t.begrunnelse:"",[Ca]:r?K(r.overstyrtPrAar):void 0}}return{}};Ot.transformValues=e=>{const n=e[Ua];return{begrunnelse:e[wa],erVarigEndretNaering:n,erVarigEndret:n,bruttoBeregningsgrunnlag:n?me(e[Ca]):void 0}};const{FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:za,VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:AB,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:mk}=ge,fk=(e,n)=>n.some(r=>r.definisjon===e),IB=e=>e&&(e.definisjon===AB||e.definisjon===za||e.definisjon===mk),Fn=({readOnly:e,avklaringsbehov:n,erNyArbLivet:r,erVarigEndring:t,erNyoppstartet:i,fieldIndex:s,formName:l})=>{if(!IB(n))return null;const d=n?!hn(n.status):!1;return r?a.jsx(Vr,{readOnly:e,isAksjonspunktClosed:d,erNyArbLivet:r,fieldIndex:s,formName:l}):a.jsx(Ot,{readOnly:e,erVarigEndring:t,erVarigEndretArbeidssituasjon:n.definisjon===mk,erNyoppstartet:i,fieldIndex:s,formName:l,isAksjonspunktClosed:d})};Fn.defaultProps={erNyArbLivet:!1,erVarigEndring:!1,erNyoppstartet:!1};Fn.buildInitialValues=(e,n)=>fk(za,n)?Vr.buildInitialValuesNyIArbeidslivet(e,n):{...Ot.buildInitialValues(e,n)};Fn.transformValues=(e,n)=>fk(za,n)?Vr.transformValuesNyIArbeidslivet(e):Ot.transformValues(e);const TB=Ge(Wu),EB=(e,n,r,t)=>!e&&!r||n?!0:t===void 0?!e:!e&&t||t,_B=({isReadOnly:e,isSubmittable:n,isSubmitting:r,isDirty:t,text:i,onClick:s,hasEmptyRequiredFields:l})=>e?null:a.jsx(ne,{variant:"primary",size:"small",loading:r,disabled:EB(t,r,n,l),onClick:s||Ws,type:s?"button":"submit",children:i||TB.formatMessage({id:"SubmitButton.ConfirmInformation"})}),{FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:SB,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:yB,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:NB,VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:PB,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:RB}=ge;var er=(e=>(e.ÅTTE_TRETTIFEM="8-35",e.ÅTTE_TRETTI="8-30",e))(er||{});const Ya=(e,n)=>fe.SN===e||fe.MIDLERTIDIG_INAKTIV===e||fe.ATFLSN===e&&n!=null&&n.find(r=>No(r))?"8-35":"8-30",ws=e=>RB===e.definisjon||PB===e.definisjon||NB===e.definisjon?"8-35":SB===e.definisjon||yB===e.definisjon?"8-30":null,{VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:ck,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:pk,FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:vk,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:hk,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:bk}=ge,OB=e=>{var n;const r=(e.beregningsgrunnlagPeriode&&e.beregningsgrunnlagPeriode.length>0?e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel||[]:[]).find(t=>t.aktivitetStatus&&t.aktivitetStatus===B.SELVSTENDIG_NAERINGSDRIVENDE);return(n=r==null?void 0:r.næringer)!=null&&n.some(t=>t.erNyoppstartet===!0)?"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerNyoppstartet":"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndring"},BB=(e,n)=>{switch(e.definisjon){case ck:return OB(n);case bk:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerSNNyIArb";case pk:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerVarigEndringArbeid";case vk:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFL";case hk:return"Beregningsgrunnlag.AksjonspunktBehandler.DetaljerATFLTidsbegrenset";default:return"Ukjent aksjonspunkt"}},FB=e=>{const n=e.aktivitetStatus||[],r=n.some(i=>So(i)),t=n.some(i=>yo(i));return r&&t?"Beregningsgrunnlag.AksjonspunktBehandler.TittelATFLAvvik":t?"Beregningsgrunnlag.AksjonspunktBehandler.TittelFLAvvik":"Beregningsgrunnlag.AksjonspunktBehandler.TittelATAvvik"},$B=(e,n)=>{switch(e.definisjon){case ck:return"Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringNyoppstartet";case bk:return"Beregningsgrunnlag.AksjonspunktBehandler.TittelSNNyIArb";case pk:return"Beregningsgrunnlag.AksjonspunktBehandler.TittelVarigEndringArbeid";case vk:case hk:return FB(n);default:return"Ukjent aksjonspunkt"}},DB=({avklaringsbehov:e,beregningsgrunnlag:n,readOnly:r})=>e?a.jsxs("div",{className:r?oe.aksjonspunktBehandlerNoBorder:oe.aksjonspunktBehandlerHeader,children:[a.jsxs(y,{children:[!r&&a.jsx(v,{className:oe.aksjonspunktBehandlerImageCol,children:a.jsx(nr,{className:oe.warningIcon})}),a.jsx(v,{className:oe.aksjonspunktBehandlerTextCol,children:a.jsx(V,{children:a.jsx(m,{id:$B(e,n)})})})]}),a.jsx(x,{eightPx:!0}),a.jsxs(y,{children:[!r&&a.jsx(v,{className:oe.aksjonspunktBehandlerImageCol}),a.jsx(v,{className:oe.aksjonspunktBehandlerTextCol,children:a.jsx(I,{children:a.jsx(m,{id:BB(e,n)})})})]})]}):null,VB=cn(3),GB=pn(1500),{FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:Hd,FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:Jd,FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:qd,VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:Zd,VURDER_VARIG_ENDRET_ARBEIDSSITUASJON:Wd}=ge,LB="BeregningForm",hi=(e,n)=>ws(e)===n,MB=(e,n)=>!!e.find(r=>hi(r,n)),Ha=e=>`${LB}_${e}`,Xd=(e,n)=>{if(!e||e.length<1)return!1;const r=e[0].beregningsgrunnlagPrStatusOgAndel?e[0].beregningsgrunnlagPrStatusOgAndel:[];return r==null?void 0:r.some(t=>t.aktivitetStatus===n&&t.skalFastsetteGrunnlag)},Us=e=>e&&e.length>0?e[0].beregningsgrunnlagPrStatusOgAndel?e[0].beregningsgrunnlagPrStatusOgAndel:[]:[],KB=e=>e.some(({periodeAarsaker:n})=>n&&n.some(r=>r===kn.ARBEIDSFORHOLD_AVSLUTTET)),wB=(e,n)=>e.perioder.find(({periode:r})=>r.fom===n),UB=(e,n)=>{if(!e||!e.beregningsgrunnlagPeriode)return{};const r=e.beregningsgrunnlagPeriode,t=e.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel||[],i=t.filter(u=>u.aktivitetStatus===B.ARBEIDSTAKER),s=t.filter(u=>u.aktivitetStatus===B.FRILANSER),l=t.filter(u=>u.aktivitetStatus===B.SELVSTENDIG_NAERINGSDRIVENDE||u.aktivitetStatus===B.BRUKERS_ANDEL),d={...Dn.buildInitialValues(e.avklaringsbehov),...Rt.buildInitialValues(r),...La.buildInitialValues(s),...Ki.buildInitialValues(i)},o={...Fn.buildInitialValues(l,e.avklaringsbehov)};return n?n.sammenligningsgrunnlagType===fe.ATFLSN?{...d,...o}:n.sammenligningsgrunnlagType===fe.AT_FL?{...d}:n.sammenligningsgrunnlagType===fe.SN?{...o}:n.sammenligningsgrunnlagType===fe.MIDLERTIDIG_INAKTIV?{...o}:{}:{...Vr.buildInitialValuesNyIArbeidslivet(l,e.avklaringsbehov)}},CB=(e,n,r,t)=>{let i={};return r&&(i=UB(e,t)),{...i,periode:n.periode,erTilVurdering:n.vurderesIBehandlingen&&!n.erForlengelse,gjeldendeAvklaringsbehov:r?[r]:[],skjæringstidspunkt:e.skjaeringstidspunktBeregning,allePerioder:e.beregningsgrunnlagPeriode}},zB=(e,n,r,t)=>({[r]:e.map(i=>{var s;return CB(i,wB(n,i.vilkårsperiodeFom),i.avklaringsbehov.find(l=>hi(l,t)),(s=i.sammenligningsgrunnlagPrStatus)==null?void 0:s.find(l=>Ya(l.sammenligningsgrunnlagType,i.aktivitetStatus)===t))})}),YB=(e,n,r,t,i)=>{const s=Us(n).find(u=>u.aktivitetStatus&&u.aktivitetStatus===B.SELVSTENDIG_NAERINGSDRIVENDE),l=s&&s.erNyIArbeidslivet,d=r.definisjon===ge.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON||s&&s.næringer&&s.næringer.some(u=>u.erVarigEndret===!0),o=s&&s.næringer&&s.næringer.some(u=>u.erNyoppstartet===!0);return!l&&!o&&!d?null:a.jsxs(a.Fragment,{children:[a.jsx(x,{eightPx:!0}),a.jsx(Fn,{readOnly:e,avklaringsbehov:r,erNyArbLivet:l,erVarigEndring:d,erNyoppstartet:o,fieldIndex:t,formName:i})]})},HB=(e,n,r,t,i,s,l)=>{const d=KB(n),o=Xd(n,B.FRILANSER),u=Xd(n,B.ARBEIDSTAKER);return a.jsxs(a.Fragment,{children:[a.jsx(x,{eightPx:!0}),d&&a.jsx(Rt,{readOnly:t,formName:l,allePerioder:n,kodeverkSamling:e,arbeidsgiverOpplysningerPerId:r,fieldIndex:s}),!d&&u&&a.jsx(Va,{readOnly:t,alleAndelerIForstePeriode:Us(n),kodeverkSamling:e,arbeidsgiverOpplysningerPerId:r,fieldIndex:s,formName:l}),o&&a.jsx(La,{readOnly:t,fieldIndex:s,formName:l,alleAndelerIForstePeriode:Us(n)}),a.jsx(x,{sixteenPx:!0}),a.jsx(y,{children:a.jsx(v,{children:a.jsx(Xe,{name:`${l}.${s}.ATFLVurdering`,label:a.jsx(m,{id:"Beregningsgrunnlag.Forms.Vurdering"}),validate:[X,GB,VB,fn],maxLength:1500,readOnly:t,className:oe.textAreaStyle,description:i.formatMessage({id:"Beregningsgrunnlag.Forms.VurderingAvFastsattBeregningsgrunnlag.Undertekst"}),parse:k=>k.toString().replaceAll("‑","-").replaceAll("	"," ")})})})]})},JB=(e,n)=>(n.aksjonspunkter.forEach(r=>{const t=e.find(i=>i.kode===r.kode);t!==void 0?(t.grunnlag.push({periode:n.periode,...r.aksjonspunktData}),t.begrunnelse=`${t.begrunnelse} ${r.aksjonspunktData.begrunnelse}`):e.push({kode:r.kode,begrunnelse:r.aksjonspunktData.begrunnelse,grunnlag:[{periode:n.periode,...r.aksjonspunktData}]})}),e),et=(e,n)=>n!=null&&n.some(r=>r.definisjon===e),qB=e=>{const{allePerioder:n}=e;if(n.length<1)throw new Error("Ingen beregningsgrunnlagperioder, ugyldig tilstand");n.sort((t,i)=>!t.beregningsgrunnlagPeriodeFom||!i.beregningsgrunnlagPeriodeFom?0:t.beregningsgrunnlagPeriodeFom.localeCompare(i.beregningsgrunnlagPeriodeFom));const r=n[0].beregningsgrunnlagPrStatusOgAndel||[];if(et(Hd,e.gjeldendeAvklaringsbehov))return[{kode:Hd,aksjonspunktData:Dn.transformATFLValues(e,r)}];if(et(Zd,e.gjeldendeAvklaringsbehov))return[{kode:Zd,aksjonspunktData:Fn.transformValues(e,e.gjeldendeAvklaringsbehov)}];if(et(Wd,e.gjeldendeAvklaringsbehov))return[{kode:Wd,aksjonspunktData:Fn.transformValues(e,e.gjeldendeAvklaringsbehov)}];if(et(qd,e.gjeldendeAvklaringsbehov))return[{kode:qd,aksjonspunktData:Fn.transformValues(e,e.gjeldendeAvklaringsbehov)}];if(et(Jd,e.gjeldendeAvklaringsbehov))return[{kode:Jd,aksjonspunktData:Dn.transformATFLTidsbegrensetValues(e,n)}];throw new Error("Må submitte et aksjonspunkt")},ZB=(e,n)=>e[Ha(n)].filter(r=>r.erTilVurdering).map(r=>({periode:r.periode,aksjonspunkter:qB(r)})).reduce(JB,[]),WB=({readOnly:e,readOnlySubmitButton:n,kodeverkSamling:r,arbeidsgiverOpplysningerPerId:t,beregningsgrunnlagListe:i,vilkår:s,submitCallback:l,formData:d,setFormData:o,aktivIndex:u,lovparagraf:k,finnesFormSomSubmittes:c,setSubmitting:h})=>{const b=Q(),A=(U,Y)=>{h(!0),l(ZB(U,Y))},_=i.filter(U=>MB(U.avklaringsbehov,k)),P=Ha(k),S=ze({defaultValues:d||zB(_,s,P,k)}),{formState:{dirtyFields:F,isSubmitted:N},control:D,trigger:$}=S,{fields:M}=an({name:P,control:D}),C=j.useRef(null);j.useEffect(()=>{var U,Y;N&&(U=F[P])!=null&&U[u]&&$(),i[u].avklaringsbehov.some(H=>hi(H,k)&&H.status===na.OPPRETTET)&&((Y=C==null?void 0:C.current)==null||Y.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}))},[u]);const re=a.jsx(y,{children:a.jsx(v,{children:a.jsx(_B,{isReadOnly:e,isSubmittable:!n,isDirty:S.formState.isDirty,isSubmitting:c})})}),te=U=>U.find(Y=>hi(Y,k)),q=(U,Y)=>{const H=te(Y);return k===er.ÅTTE_TRETTI&&H?HB(r,_[U].beregningsgrunnlagPeriode,t,e,b,U,P):k===er.ÅTTE_TRETTIFEM&&H?YB(e,_[U].beregningsgrunnlagPeriode,H,U,P):null},J=i[u].vilkårsperiodeFom;return a.jsx("div",{ref:C,children:a.jsx(Ye,{formMethods:S,onSubmit:U=>A(U,k),setDataOnUnmount:o,children:M.map((U,Y)=>a.jsxs("div",{style:{display:_[Y].vilkårsperiodeFom===J?"block":"none"},children:[a.jsx(DB,{readOnly:e,avklaringsbehov:te(_[Y].avklaringsbehov),beregningsgrunnlag:_[Y]}),a.jsxs("div",{className:e?oe.aksjonspunktBehandlerNoBorder:oe.aksjonspunktBehandlerBorder,children:[q(Y,_[Y].avklaringsbehov),a.jsx(x,{sixteenPx:!0}),re,a.jsx(x,{sixteenPx:!0})]})]},U.id))})})},XB=e=>e.overstyrtPrAar!==null&&e.overstyrtPrAar!==void 0?!0:e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,QB=(e,n)=>e?e.filter(r=>n.includes(r.aktivitetStatus)).filter(r=>XB(r)):[],Qd=e=>e||0,eF=e=>e.beregnetPrAar?e.beregnetPrAar:0,eo=(e,n)=>{const r=QB(e,n);if(r){const t=r.reduce((l,d)=>l+eF(d),0),i=r.reduce((l,d)=>{var o;return l+Qd((o=d==null?void 0:d.arbeidsforhold)==null?void 0:o.naturalytelseBortfaltPrÅr)},0),s=r.reduce((l,d)=>{var o;return l+Qd((o=d==null?void 0:d.arbeidsforhold)==null?void 0:o.naturalytelseTilkommetPrÅr)},0);return t+i-s}return 0},nF=(e,n)=>{const r=a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.ATFL.Tittel"}),t=a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.SN.Tittel"});switch(e.sammenligningsgrunnlagType){case fe.AT:case fe.FL:case fe.AT_FL:return r;case fe.SN:return t;case fe.ATFLSN:return n===er.ÅTTE_TRETTIFEM?t:r;case fe.MIDLERTIDIG_INAKTIV:return a.jsx(m,{id:"Beregningsgrunnlag.Avviksopplysninger.MIDL.Tittel"});default:throw new Error(`Ukjent sammenligningstype ${e.sammenligningsgrunnlagType}`)}},no=(e,n)=>{const r=n.find(t=>(t.aktivitetStatus===B.SELVSTENDIG_NAERINGSDRIVENDE||t.aktivitetStatus===B.BRUKERS_ANDEL)&&!t.erTilkommetAndel);return e.sammenligningsgrunnlagType===fe.SN&&r?{inntekt:r.pgiSnitt||0,erPGI:!0}:e.sammenligningsgrunnlagType===fe.MIDLERTIDIG_INAKTIV&&r?{inntekt:r.pgiSnitt||0,erPGI:!0}:e.sammenligningsgrunnlagType===fe.ATFLSN?r?{inntekt:r.pgiSnitt||0,erPGI:!0}:{inntekt:eo(n,[B.ARBEIDSTAKER,B.FRILANSER]),erPGI:!1}:{inntekt:eo(n,[B.ARBEIDSTAKER,B.FRILANSER]),erPGI:!1}};function ro(e,n,r){const t={...e};return t[n]?t[n].push(r):t[n]=[r],t}const rF=e=>e.reduce((n,r)=>{let t={...n};return r.avklaringsbehov.find(i=>i.definisjon===ge.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET)&&(t=ro(t,er.ÅTTE_TRETTIFEM,r)),!r.sammenligningsgrunnlagPrStatus||r.sammenligningsgrunnlagPrStatus.length===0||r.sammenligningsgrunnlagPrStatus.forEach(i=>{const s=Ya(i.sammenligningsgrunnlagType,r.aktivitetStatus);t=ro(t,s,r)}),t},{}),tF=({readOnly:e,readOnlySubmitButton:n,kodeverkSamling:r,relevanteStatuser:t,arbeidsgiverOpplysningerPerId:i,gjelderBesteberegning:s,sammenligningsgrunnlag:l,beregningsgrunnlagListe:d,vilkår:o,submitCallback:u,formData:k,setFormData:c,aktivIndex:h})=>{var b;const A=rF(d),[_,P]=j.useState(!1),S=a.jsx(eB,{sammenligningsgrunnlag:l,relevanteStatuser:t,erManueltBesteberegnet:s,erNyIArbeidslivet:!!((b=d[h].beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel)!=null&&b.find(N=>N.erNyIArbeidslivet))}),F=N=>{var D;if(A[N]&&A[N].length>0){const $=A[N],M=d[h].vilkårsperiodeFom,C=$.find(Y=>Y.vilkårsperiodeFom===M),re=C?(D=C.sammenligningsgrunnlagPrStatus)==null?void 0:D.find(Y=>Ya(Y.sammenligningsgrunnlagType,C==null?void 0:C.aktivitetStatus)===N):void 0,te=!!A[N].find(Y=>!!Y.avklaringsbehov.find(H=>ws(H)===N)),q=C&&!!C.avklaringsbehov.find(Y=>ws(Y)===N),J=(C==null?void 0:C.beregningsgrunnlagPeriode[0].beregningsgrunnlagPrStatusOgAndel)||[],U=Ha(N);return a.jsxs("div",{children:[!!re&&a.jsxs(a.Fragment,{children:[a.jsx(ce,{size:"xsmall",children:nF(re,N)}),a.jsx(kB,{sammenligningsgrunnlag:re,beregnetAarsinntekt:no(re,J).inntekt,erPGI:no(re,J).erPGI}),a.jsx("div",{className:G.storSpace})]}),te&&a.jsxs("div",{style:{display:q?"block":"none"},children:[a.jsx(WB,{readOnly:e,lovparagraf:N,kodeverkSamling:r,readOnlySubmitButton:n,arbeidsgiverOpplysningerPerId:i,beregningsgrunnlagListe:d,vilkår:o,submitCallback:u,formData:k&&U in k?k:void 0,setFormData:c,aktivIndex:h,finnesFormSomSubmittes:_,setSubmitting:P}),a.jsx("div",{className:G.storSpace})]})]})}return null};return a.jsxs("div",{className:G.panelRight,children:[S,a.jsx(x,{twentyPx:!0}),F(er.ÅTTE_TRETTI),F(er.ÅTTE_TRETTIFEM)]})},iF="_kolBeskrivelse_1czvx_1",sF="_kolVerdi_1czvx_4",aF="_radNoBorder_1czvx_9",lF="_radDobbelLinje_1czvx_14",dF="_radEnkelLinje_1czvx_20",oF="_radTykkLinje_1czvx_24",gF="_kolVerdiRød_1czvx_28",uF="_kolAvslagIkon_1czvx_31",kF="_kolAvslagTekst_1czvx_34",mF="_avslåttIkon_1czvx_38",be={kolBeskrivelse:iF,kolVerdi:sF,radNoBorder:aF,radDobbelLinje:lF,radEnkelLinje:dF,radTykkLinje:oF,kolVerdiRød:"_kolVerdiRød_1czvx_28",kolVerdiRod:gF,kolAvslagIkon:uF,kolAvslagTekst:kF,avslåttIkon:"_avslåttIkon_1czvx_38",avslattIkon:mF},fF=260,jk={[B.ARBEIDSTAKER]:{rekkefølgePri:1,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Arbeid"},[B.FRILANSER]:{rekkefølgePri:2,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Frilans"},[B.DAGPENGER]:{rekkefølgePri:3,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Dagpenger"},[B.SYKEPENGER_AV_DAGPENGER]:{rekkefølgePri:3,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.SykepengerAvDagpenger"},[B.PLEIEPENGER_AV_DAGPENGER]:{rekkefølgePri:3,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.PleiepengerAvDagpenger"},[B.ARBEIDSAVKLARINGSPENGER]:{rekkefølgePri:4,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Arbeidsavklaringspenger"},[B.KUN_YTELSE]:{rekkefølgePri:5,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Ytelse"},[B.MILITAER_ELLER_SIVIL]:{rekkefølgePri:6,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Militær"},[B.BRUKERS_ANDEL]:{rekkefølgePri:7,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.BrukersAndel"},[B.SELVSTENDIG_NAERINGSDRIVENDE]:{rekkefølgePri:8,beskrivelseId:"Beregningsgrunnlag.Beregningsresultat.Næring"}},to=e=>{var n;return((n=jk[e.status])==null?void 0:n.rekkefølgePri)||100},cF=e=>{var n;return((n=jk[e.status])==null?void 0:n.beskrivelseId)||"Ukjent andel"},pF=()=>a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.IkkeBeregnet"}),vF=e=>e.reduce((n,r)=>(r.inntektPlussNaturalytelse||0)+n,0),hF=(e,n)=>(n==null?void 0:n.ytelsetype)!==Ro.FORELDREPENGER&&e.avkortetPrÅr?Math.round(e.avkortetPrÅr/fF):e.dagsats||0,Hn=()=>a.jsx("div",{className:be.radEnkelLinje}),bF=(e,n)=>a.jsxs(se,{children:[a.jsx(x,{twentyPx:!0}),a.jsxs(y,{children:[a.jsx(v,{className:be.avslåttIkon,children:a.jsx(Fk,{})}),a.jsx(v,{className:be.kolAvslagTekst,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:n?"Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfyltMidlertidigInaktiv":"Beregningsgrunnlag.BeregningTable.VilkarIkkeOppfylt2",values:{grunnbeløp:K(e),b:r=>a.jsx("b",{children:r})}})})})]})]}),jF=e=>!!e.aktivitetStatus&&e.aktivitetStatus.some(n=>n===B.MIDLERTIDIG_INAKTIV),xF=(e,n,r,t)=>{const i=e.andeler.reduce((k,c)=>(c.inntektPlussNaturalytelse||0)+k,0);if(n.vilkarStatus===Xa.IKKE_VURDERT)return null;if(n.vilkarStatus===Xa.IKKE_OPPFYLT)return bF(r.grunnbeløp,jF(r));const s=r.grunnbeløp*6,l=i>s,d=r.dekningsgrad!==am.HUNDRE,o=hF(e,r.ytelsesspesifiktGrunnlag),u=t&&(l||d);return a.jsxs(se,{children:[u&&a.jsx(x,{fourtyPx:!0}),l&&a.jsxs(a.Fragment,{children:[Hn(),a.jsxs(y,{className:be.radNoBorder,children:[a.jsx(v,{className:be.kolBeskrivelse,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Avkortet"})})}),a.jsx(v,{className:be.kolVerdi,children:a.jsx(I,{size:"small",children:K(e.avkortetPrÅr)})})]}),Hn()]}),d&&a.jsxs(a.Fragment,{children:[!l&&t&&a.jsx(a.Fragment,{children:Hn()}),a.jsxs(y,{className:be.radNoBorder,children:[a.jsx(v,{className:be.kolBeskrivelse,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Redusert"})})}),a.jsx(v,{className:be.kolVerdi,children:a.jsx(I,{size:"small",children:K(e.redusertPrÅr)})})]}),Hn()]}),a.jsx(x,{fourtyPx:!0}),a.jsxs(y,{className:be.radNoBorder,children:[a.jsx(v,{className:be.kolBeskrivelse,children:a.jsx(V,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Dagsats"})})}),a.jsx(v,{className:be.kolVerdi,children:a.jsx(V,{size:"medium",children:o})})]}),a.jsx("div",{className:be.radDobbelLinje})]})},AF=({tabellData:e,skalVisePeriode:n,vilkårsperiode:r,beregningsgrunnlag:t})=>{const i=e.andeler.length>1&&!e.andeler.some(d=>!d.erFerdigBeregnet);e.andeler.sort((d,o)=>to(d)-to(o));const s=e.andeler.length>1,l=e.andeler.every(d=>d.erFerdigBeregnet);return a.jsxs(a.Fragment,{children:[n&&a.jsxs(a.Fragment,{children:[a.jsx(y,{children:a.jsx(v,{children:a.jsx(ce,{size:"xsmall",children:a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Periode",values:{fom:T(e.fom).format(ie),tom:e.tom?T(e.tom).format(ie):""}})})})}),a.jsx(x,{eightPx:!0})]}),e.andeler.map((d,o)=>a.jsxs(W.Fragment,{children:[o===0&&a.jsx(a.Fragment,{children:Hn()}),a.jsxs(y,{className:be.radNoBorder,children:[a.jsx(v,{className:be.kolBeskrivelse,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:cF(d)})})}),a.jsx(v,{className:be.kolVerdi,children:a.jsx(I,{size:"small",className:d.erFerdigBeregnet?"":be.kolVerdiRød,children:d.erFerdigBeregnet?K(d.inntekt):pF()})})]}),!!d.bortfaltNaturalytelse&&a.jsxs(a.Fragment,{children:[Hn(),a.jsxs(y,{className:be.radNoBorder,children:[a.jsx(v,{className:be.kolBeskrivelse,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.Naturalytelser"})})}),a.jsx(v,{className:be.kolVerdi,children:a.jsx(I,{size:"small",children:K(d.bortfaltNaturalytelse)})})]})]}),Hn()]},d.status)),i&&a.jsxs(a.Fragment,{children:[a.jsxs(y,{className:be.radNoBorder,children:[a.jsx(v,{className:be.kolBeskrivelse,children:a.jsx(I,{size:"small",children:a.jsx(m,{id:"Beregningsgrunnlag.Beregningsresultat.TotalÅrsinntekt"})})}),a.jsx(v,{className:be.kolVerdi,children:a.jsx(I,{size:"small",children:K(vF(e.andeler))})})]}),a.jsx("div",{className:be.radTykkLinje})]}),l&&a.jsx(a.Fragment,{children:xF(e,r,t,s)})]})},IF=[kn.ARBEIDSFORHOLD_AVSLUTTET,kn.NATURALYTELSE_TILKOMMER,kn.NATURALYTELSE_BORTFALT],TF=e=>e.erTilkommetAndel===!1&&e.lagtTilAvSaksbehandler===!1,EF=e=>e.besteberegningPrAar||e.besteberegningPrAar===0?e.besteberegningPrAar:e.overstyrtPrAar||e.overstyrtPrAar===0?e.overstyrtPrAar:e.beregnetPrAar||0,_F=(e,n)=>{switch(e){case B.ARBEIDSTAKER:case B.FRILANSER:return n.find(r=>r.definisjon===ge.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS||r.definisjon===ge.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD);case B.SELVSTENDIG_NAERINGSDRIVENDE:return n.find(r=>r.definisjon===ge.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET||r.definisjon===ge.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE);case B.BRUKERS_ANDEL:return n.find(r=>r.definisjon===ge.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON);default:return}},SF=e=>{var n,r;const t=(n=e==null?void 0:e.arbeidsforhold)==null?void 0:n.naturalytelseBortfaltPrÅr,i=((r=e==null?void 0:e.arbeidsforhold)==null?void 0:r.naturalytelseTilkommetPrÅr)||0;return t?t-i:0},yF=e=>{const{beregnetPrAar:n,pgiSnitt:r}=e;return!!n||n===0||!!r||r===0},NF=(e,n)=>{const r=e.filter(s=>TF(s)),t={};r.forEach(s=>{const l=t[s.aktivitetStatus];l?l.push(s):t[s.aktivitetStatus]=[s]});const i=[];return Object.keys(t).forEach(s=>{const l=t[s],d=_F(s,n),o=l.every(A=>yF(A)),u=l.reduce((A,_)=>EF(_)+A,0),k=l.reduce((A,_)=>SF(_)+A,0),c=(u||0)+(k||0),h=!!d&&hn(d.status),b=o&&!h;i.push({inntekt:u,bortfaltNaturalytelse:k,inntektPlussNaturalytelse:c,erFerdigBeregnet:b,status:s})}),i},PF=e=>e.some(n=>IF.includes(n)),RF=e=>{const{beregningsgrunnlagPeriode:n}=e,r=n.filter(i=>i.beregningsgrunnlagPeriodeFom===e.skjaeringstidspunktBeregning||!!i.periodeAarsaker&&PF(i.periodeAarsaker)).map(i=>i.beregningsgrunnlagPeriodeFom).sort((i,s)=>new Date(i).getTime()-new Date(s).getTime()),t=[];for(let i=0;i<r.length;i+=1){const s=r[i],l=i+1<r.length?T(r[i+1]).subtract(1,"day").format(ye).toString():void 0,d=n.find(b=>b.beregningsgrunnlagPeriodeFom===s),o=(d==null?void 0:d.periodeAarsaker)||[],u=NF((d==null?void 0:d.beregningsgrunnlagPrStatusOgAndel)||[],e.avklaringsbehov),k=d==null?void 0:d.redusertPrAar,c=d==null?void 0:d.avkortetPrAar,h=d==null?void 0:d.dagsats;t.push({fom:s,tom:l,årsak:o,andeler:u,redusertPrÅr:k,avkortetPrÅr:c,dagsats:h})}return t},OF=({beregningsgrunnlag:e,vilkårsperiode:n})=>{const r=j.useMemo(()=>RF(e),[e]),t=r.length>1;return a.jsxs("div",{className:G.panelRight,children:[a.jsx(ce,{size:"small",className:G.avsnittOverskrift,children:a.jsx(m,{id:"Beregningsgrunnlag.BeregningTable.Tittel"})}),a.jsx(x,{eightPx:!0}),r.map(i=>a.jsxs("div",{children:[a.jsx(AF,{tabellData:i,skalVisePeriode:t,vilkårsperiode:n,beregningsgrunnlag:e}),a.jsx(x,{fourtyPx:!0})]},i.fom))]})},BF=e=>e&&e.faktaOmBeregningTilfeller?e.faktaOmBeregningTilfeller.some(n=>n===Z.FASTSETT_BESTEBEREGNING_FODENDE_KVINNE):!1,FF=e=>!!(e!=null&&e.besteberegninggrunnlag),$F=e=>e[0].beregningsgrunnlagPrStatusOgAndel?e[0].beregningsgrunnlagPrStatusOgAndel.filter(n=>n.erTilkommetAndel!==!0).map(n=>n.aktivitetStatus):[],DF=({readOnly:e,valgtBeregningsgrunnlag:n,relevanteStatuser:r,readOnlySubmitButton:t,kodeverkSamling:i,vilkarPeriode:s,arbeidsgiverOpplysningerPerId:l,gjeldendeAvklaringsbehov:d,alleBeregningsgrunnlag:o,vilkår:u,submitCallback:k,formData:c,setFormData:h,aktivIndex:b})=>{var A;const{skjaeringstidspunktBeregning:_,beregningsgrunnlagPeriode:P,faktaOmBeregning:S,ytelsesspesifiktGrunnlag:F}=n,N=BF(S),D=FF(F),$=a.jsx("div",{className:G.storSpace}),M=$F(P),C=d&&d.length>0;return a.jsxs(a.Fragment,{children:[C&&a.jsxs(a.Fragment,{children:[a.jsx(x,{eightPx:!0}),a.jsx(hO,{avklaringsbehov:d,beregningsgrunnlag:n})]}),a.jsxs(y,{children:[a.jsxs(v,{className:G.venstreKolonne,children:[a.jsx(ce,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.Title.Beregning"})}),a.jsx(x,{sixteenPx:!0}),a.jsx(SR,{kodeverkSamling:i,aktivitetStatusList:M,skjeringstidspunktDato:_,saksopplysninger:n.faktaOmBeregning?n.faktaOmBeregning.saksopplysninger:void 0,arbeidsgiverOpplysningerPerId:l}),$,r.skalViseBeregningsgrunnlag&&a.jsx(Dn,{relevanteStatuser:r,allePerioder:P,gjelderBesteberegning:N,kodeverkSamling:i,arbeidsgiverOpplysningerPerId:l,sammenligningsGrunnlagInntekter:n.inntektsgrunnlag,sammenligningsgrunnlag:n.sammenligningsgrunnlagPrStatus}),D&&a.jsxs(a.Fragment,{children:[$,a.jsx(eR,{besteMåneder:(A=F==null?void 0:F.besteberegninggrunnlag)==null?void 0:A.besteMåneder,periode:P[0]})]})]}),a.jsxs(v,{className:G.hoyreKolonne,children:[a.jsx(ce,{size:"medium",className:G.panelRight,children:a.jsx(m,{id:"Beregningsgrunnlag.Title.Fastsettelse"})}),a.jsx(x,{sixteenPx:!0}),a.jsx(tF,{readOnly:e,readOnlySubmitButton:t,kodeverkSamling:i,relevanteStatuser:r,arbeidsgiverOpplysningerPerId:l,gjelderBesteberegning:N,sammenligningsgrunnlag:n.sammenligningsgrunnlagPrStatus||[],beregningsgrunnlagListe:o,vilkår:u,submitCallback:k,formData:c,setFormData:h,aktivIndex:b}),a.jsxs(a.Fragment,{children:[a.jsx(x,{sixteenPx:!0}),a.jsx(QO,{beregningsgrunnlag:n})]}),s&&a.jsx(OF,{beregningsgrunnlag:n,vilkårsperiode:s})]})]})]})},VF=[ge.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE,ge.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON,ge.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS,ge.FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE,ge.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD,ge.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET],GF=e=>e.avklaringsbehov.filter(n=>VF.some(r=>r===n.definisjon)),LF=e=>({isArbeidstaker:e.some(n=>So(n)),isFrilanser:e.some(n=>yo(n)),isSelvstendigNaeringsdrivende:e.some(n=>No(n)),isMidlertidigInaktiv:e.some(n=>n===B.MIDLERTIDIG_INAKTIV),harAndreTilstotendeYtelser:e.some(n=>tm(n)),harDagpengerEllerAAP:e.some(n=>Po(n)),isAAP:e.some(n=>n===B.ARBEIDSAVKLARINGSPENGER),isDagpenger:e.some(n=>n===B.DAGPENGER||n===B.SYKEPENGER_AV_DAGPENGER),skalViseBeregningsgrunnlag:e.length>0,isKombinasjonsstatus:e.some(n=>im(n))||e.length>1,isMilitaer:e.some(n=>sm(n))}),MF=e=>e?e.find(n=>n.definisjon===ge.VURDER_GRADERING_UTEN_BEREGNINGSGRUNNLAG):void 0,io=(e,n)=>e.perioder.find(({periode:r})=>r.fom===n),KF=({aktivtBeregningsgrunnlagIndeks:e,beregningsgrunnlagListe:n,submitCallback:r,readOnly:t,readOnlySubmitButton:i,vilkar:s,kodeverkSamling:l,arbeidsgiverOpplysningerPerId:d,formData:o,setFormData:u})=>{const k=n[e],c=LF(k.aktivitetStatus),h=MF(k.avklaringsbehov);function b(A){const _=io(s,A.vilkårsperiodeFom);return _.vurderesIBehandlingen&&!_.erForlengelse}return a.jsxs(a.Fragment,{children:[a.jsx(DF,{readOnly:t||!b(n[e]),valgtBeregningsgrunnlag:n[e],gjeldendeAvklaringsbehov:GF(n[e]),relevanteStatuser:c,readOnlySubmitButton:i,kodeverkSamling:l,vilkarPeriode:io(s,n[e].vilkårsperiodeFom),arbeidsgiverOpplysningerPerId:d,alleBeregningsgrunnlag:n,vilkår:s,submitCallback:r,formData:o,setFormData:u,aktivIndex:e}),h&&a.jsx(qP,{avklaringsbehov:h})]})},wF=[ge.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE,ge.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS,ge.FASTSETT_BRUTTO_BEREGNINGSGRUNNLAG_SELVSTENDIG_NAERINGSDRIVENDE,ge.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD,ge.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET,ge.VURDER_VARIG_ENDRET_ARBEIDSSITUASJON],UF=[],CF=wP.bind(ni),so=Ge(Wu),zF=e=>{var n;const r=(n=e==null?void 0:e.perioder)==null?void 0:n.some(t=>t.avslagKode==="1043");return a.jsxs(a.Fragment,{children:[a.jsx(ce,{size:"medium",children:a.jsx(m,{id:"Beregningsgrunnlag.Title"})}),a.jsx(x,{eightPx:!0}),a.jsx(y,{children:a.jsx(v,{children:a.jsx(m,{id:r?"Beregningsgrunnlag.Avslagsårsak.IkkeTilstrekkeligInntektsgrunnlag":"Beregningsgrunnlag.HarIkkeBeregningsregler"})})})]})},YF=(e,n)=>{const r=n.vilkårsperiodeFom;return(e&&e.perioder?e.perioder.filter(t=>t.vurderesIBehandlingen&&!t.erForlengelse):[]).some(t=>t.periode.fom===r)},HF=e=>e.avklaringsbehov.some(n=>wF.some(r=>r===n.definisjon)&&n.kanLoses),JF=(e,n)=>e.map(r=>({skalVurderes:YF(n,r),harAvklaringsbehov:HF(r),stp:T(r.skjaeringstidspunktBeregning).format(ie)})),qF=({beregningsgrunnlagListe:e,submitCallback:n,isReadOnly:r,readOnlySubmitButton:t,beregningsgrunnlagsvilkar:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:l,formData:d,setFormData:o})=>{const u=e||UF,k=u.length>1;u.sort((_,P)=>_.skjaeringstidspunktBeregning.localeCompare(P.skjaeringstidspunktBeregning));const[c,h]=j.useState(0),b=JF(u,i),A=CF("mainContainer",{"mainContainer--withSideMenu":k});return j.useEffect(()=>{const _=b.findIndex(P=>P.skalVurderes&&P.harAvklaringsbehov);_>-1&&h(_)},[e]),e.length===0||e.length===1&&!e[0].aktivitetStatus?a.jsx(Ze,{value:so,children:zF(i)}):a.jsx(Ze,{value:so,children:a.jsxs("div",{className:A,children:[k&&a.jsx("div",{className:ni.sideMenuContainer,children:a.jsx(mm,{links:b.map((_,P)=>({icon:_.skalVurderes&&_.harAvklaringsbehov?a.jsx(nr,{className:ni.advarselIkon}):null,active:c===P,label:`${_.stp}`})),onClick:h,theme:"arrow"})}),a.jsx("div",{className:ni.contentContainer,children:a.jsx(KF,{aktivtBeregningsgrunnlagIndeks:c,beregningsgrunnlagListe:u,submitCallback:n,readOnly:r,readOnlySubmitButton:t,vilkar:i,kodeverkSamling:s,arbeidsgiverOpplysningerPerId:l,setFormData:o,formData:d})})]})})};const ZF=e=>{switch(e){case ge.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS:return ae.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS;case ge.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD:return ae.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD;case ge.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET:return ae.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET;case ge.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE:return ae.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE;default:throw new Error(`Ukjent avklaringspunkt ${e}`)}},WF=e=>n=>{const t=(Array.isArray(n)?n:[n]).map(i=>({kode:ZF(i.kode),...i.grunnlag[0]}));return e(t)},XF=(e,n)=>({avslagKode:n.avslagKode,vurderesIBehandlingen:!0,merknadParametere:{},periode:{fom:e?e.skjaeringstidspunktBeregning:"",tom:Me},vilkarStatus:n.vilkarStatus}),QF=(e,n)=>{const r=e.find(i=>i.vilkarType&&i.vilkarType===Xn.BEREGNINGSGRUNNLAGVILKARET);return!r||!n?null:{...r,perioder:[XF(n,r)]}},e$=e=>e?[{...e,vilkårsperiodeFom:e.skjaeringstidspunktBeregning}]:[],n$=[ae.FASTSETT_BEREGNINGSGRUNNLAG_ARBEIDSTAKER_FRILANS,ae.VURDER_VARIG_ENDRET_ELLER_NYOPPSTARTET_NAERING_SELVSTENDIG_NAERINGSDRIVENDE,ae.FASTSETT_BEREGNINGSGRUNNLAG_TIDSBEGRENSET_ARBEIDSFORHOLD,ae.FASTSETT_BEREGNINGSGRUNNLAG_SN_NY_I_ARBEIDSLIVET],r$=[Xn.BEREGNINGSGRUNNLAGVILKARET],t$=[we.BEREGNINGSGRUNNLAG],ao=({arbeidsgiverOpplysningerPerId:e,...n})=>Ne.jsx(ia,{...n,panelEndepunkter:t$,aksjonspunktKoder:n$,vilkarKoder:r$,prosessPanelKode:Qs.BEREGNINGSGRUNNLAG,prosessPanelMenyTekst:Q().formatMessage({id:"Behandlingspunkt.Beregning"}),skalPanelVisesIMeny:()=>!0,renderPanel:r=>Ne.jsx(qF,{...r,kodeverkSamling:r.alleKodeverk,beregningsgrunnlagsvilkar:QF(r.vilkar,r.beregningsgrunnlag),beregningsgrunnlagListe:e$(r.beregningsgrunnlag),arbeidsgiverOpplysningerPerId:e,submitCallback:WF(r.submitCallback)})});try{ao.displayName="BeregningsgrunnlagProsessStegInitPanel",ao.__docgenInfo={description:"",displayName:"BeregningsgrunnlagProsessStegInitPanel",props:{arbeidsgiverOpplysningerPerId:{defaultValue:null,description:"",name:"arbeidsgiverOpplysningerPerId",required:!0,type:{name:"ArbeidsgiverOpplysningerPerId"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}var xk={exports:{}},nt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lo;function i$(){if(lo)return nt;lo=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,c={},h=null,b=null;u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),o.ref!==void 0&&(b=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(c[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)c[k]===void 0&&(c[k]=o[k]);return{$$typeof:n,type:d,key:h,ref:b,props:c,_owner:i.current}}return nt.Fragment=r,nt.jsx=l,nt.jsxs=l,nt}xk.exports=i$();var R=xk.exports;const s$="_container_osi7h_1",a$="_divider_osi7h_5",l$="_image_osi7h_14",d$="_oneElement_osi7h_21",o$="_aksjonspunktText_osi7h_26",g$="_wordwrap_osi7h_31",fr={container:s$,divider:a$,image:l$,oneElement:d$,aksjonspunktText:o$,wordwrap:g$},Ak="radioVurderTilbaketrekk",Ik="begrunnelseVurderTilbaketrekk",u$=pn(1500),k$=cn(3),m$=(e,n)=>{const r=n==null?void 0:n.skalHindreTilbaketrekk;if(!(r==null||!e||!e.begrunnelse))return{radioVurderTilbaketrekk:r,begrunnelseVurderTilbaketrekk:e.begrunnelse}},f$=e=>{const n=e[Ak],r=e[Ik];return{kode:ae.VURDER_TILBAKETREKK,begrunnelse:r,hindreTilbaketrekk:n}},c$=({readOnly:e,vurderTilbaketrekkAP:n,readOnlySubmitButton:r,beregningsresultat:t,submitCallback:i,formData:s,setFormData:l})=>{const d=Q(),o=j.useMemo(()=>m$(n,t),[n,t]),u=ze({defaultValues:s||o});return R.jsxs(Ye,{formMethods:u,onSubmit:k=>i(f$(k)),setDataOnUnmount:l,children:[R.jsx("div",{className:fr.container,children:R.jsx(se,{children:R.jsxs(y,{children:[R.jsx(v,{children:R.jsx(nr,{className:fr.image,title:d.formatMessage({id:"HelpText.Aksjonspunkt"})})}),R.jsx(v,{children:R.jsx("div",{className:fr.divider})}),R.jsx(v,{className:fr.aksjonspunktText,children:R.jsx("div",{className:fr.oneElement,children:R.jsx(V,{size:"small",className:fr.wordwrap,children:R.jsx(m,{id:"TilkjentYtelse.VurderTilbaketrekk.Aksjonspunkttekst"})})})})]})})}),R.jsx(x,{twentyPx:!0}),R.jsx(Ie,{name:Ak,validate:[X],isReadOnly:e,isEdited:(n==null?void 0:n.status)!==Zn.OPPRETTET,isHorizontal:!0,radios:[{value:"false",label:R.jsx(m,{id:"TilkjentYtelse.VurderTilbaketrekk.Utfør"})},{value:"true",label:R.jsx(m,{id:"TilkjentYtelse.VurderTilbaketrekk.Hindre"})}]}),R.jsx(x,{sixteenPx:!0}),R.jsx(Xe,{name:Ik,label:R.jsx(m,{id:"Beregningsgrunnlag.Forms.Vurdering"}),validate:[X,u$,k$,fn],maxLength:1500,readOnly:e}),R.jsx(x,{sixteenPx:!0}),R.jsx(Oo,{isReadOnly:e,isSubmittable:!r,isSubmitting:u.formState.isSubmitting,isDirty:u.formState.isDirty})]})},p$=(e,n)=>e.filter(r=>r.opptjeningsår===n),Tk=e=>e.aktivitetStatus+e.arbeidsgiverId,v$=(e,n,r)=>{const t=e.arbeidsgiverId?n[e.arbeidsgiverId]:void 0;return t?t.erPrivatPerson?t.fødselsdato?`${t.navn} (${T(t.fødselsdato).format(ie)})`:t.navn:t.identifikator?`${t.navn} (${t.identifikator})`:t.navn:e.aktivitetStatus?Eo(r)(e.aktivitetStatus,_n.AKTIVITET_STATUS):""},h$=(e,n,r)=>({identifikator:Tk(e),visningsnavn:v$(e,n,r),utbetaltTilSøker:e.erBrukerMottaker?e.årsbeløp:0,utbetaltIRefusjon:e.erBrukerMottaker?0:e.årsbeløp}),b$=(e,n,r)=>{const t=[];return e.forEach(i=>{const s=i.erBrukerMottaker?i.årsbeløp:0,l=i.erBrukerMottaker?0:i.årsbeløp,d=Tk(i),o=t.find(u=>u.identifikator===d);o?(o.utbetaltTilSøker+=s,o.utbetaltIRefusjon+=l):t.push(h$(i,n,r))}),t},j$=["TilkjentYtelse.Feriepenger.AndelNavn","TilkjentYtelse.Feriepenger.GrunnlagRefusjon","TilkjentYtelse.Feriepenger.GrunnlagSøker"],x$=({alleAndeler:e,opptjeningsår:n,alleKodeverk:r,arbeidsgiverOpplysningerPerId:t})=>{const i=!e||e.length<1,s=j.useMemo(()=>i?void 0:p$(e,n),[e,n]),l=j.useMemo(()=>s?b$(s,t,r):[],[s]);return i?null:R.jsxs(R.Fragment,{children:[R.jsx(V,{size:"small",children:R.jsx(m,{id:"TilkjentYtelse.Feriepenger.Opptjeningsår",values:{år:n}})}),R.jsx(We,{headerTextCodes:j$,children:l.map(d=>R.jsxs(Le,{children:[R.jsx(w,{children:R.jsx(I,{size:"small",children:d.visningsnavn})}),R.jsx(w,{children:R.jsx(I,{size:"small",children:d.utbetaltIRefusjon})}),R.jsx(w,{children:R.jsx(I,{size:"small",children:d.utbetaltTilSøker})})]},d.identifikator))})]})},A$=e=>{const n=e.map(r=>r.opptjeningsår).sort((r,t)=>r-t);return[...new Set(n)]},I$=()=>R.jsx(ce,{size:"small",children:R.jsx(m,{id:"TilkjentYtelse.Feriepenger.Tittel"})}),T$=({feriepengegrunnlag:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r,erPanelÅpent:t,togglePanel:i})=>{const{andeler:s}=e,l=!s||s.length<1,d=j.useMemo(()=>l?[]:A$(s),[s]);return l?null:R.jsx(Fe,{children:R.jsxs(Fe.Item,{open:t,children:[R.jsx(Fe.Header,{onClick:i,children:I$()}),R.jsx(Fe.Content,{children:d.map(o=>R.jsxs("div",{children:[R.jsx(x,{sixteenPx:!0},`spacer_${o}`),R.jsx(x$,{alleAndeler:s,opptjeningsår:o,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r},`tabell_${o}`)]},`div_${o}`))})]})})},E$=({feriepengegrunnlag:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r})=>{const[t,i]=j.useState(!1);return R.jsx(T$,{feriepengegrunnlag:e,alleKodeverk:n,arbeidsgiverOpplysningerPerId:r,erPanelÅpent:t,togglePanel:()=>i(!t)})},_$="_detailsPeriode_1r02x_1",S$="_margin_1r02x_9",y$="_fix_1r02x_13",Yt={detailsPeriode:_$,margin:S$,fix:y$},N$=e=>e?`...${e.substring(e.length-4,e.length)}`:"",P$=(e,n,r)=>{const t=r[e.arbeidsgiverReferanse];return!t||!t.navn?e.arbeidsforholdType?n(e.arbeidsforholdType,_n.OPPTJENING_AKTIVITET_TYPE):"":t.erPrivatPerson?`${t.navn} (${t.fødselsdato})`:`${t.navn} (${t.identifikator})${N$(e.eksternArbeidsforholdId)}`},R$=(e=!1)=>e?["TilkjentYtelse.PeriodeData.Andel","TilkjentYtelse.PeriodeData.Utbetalingsgrad","TilkjentYtelse.PeriodeData.Refusjon","TilkjentYtelse.PeriodeData.TilSoker","TilkjentYtelse.PeriodeData.SisteUtbDato"]:["TilkjentYtelse.PeriodeData.Andel","TilkjentYtelse.PeriodeData.KontoType","TilkjentYtelse.PeriodeData.Gradering","TilkjentYtelse.PeriodeData.Utbetalingsgrad","TilkjentYtelse.PeriodeData.Refusjon","TilkjentYtelse.PeriodeData.TilSoker","TilkjentYtelse.PeriodeData.SisteUtbDato"],O$=(e,n,r)=>{switch(e.aktivitetStatus){case On.ARBEIDSTAKER:return P$(e,n,r);case On.FRILANSER:return R.jsx(m,{id:"TilkjentYtelse.PeriodeData.Frilans"});case On.SELVSTENDIG_NAERINGSDRIVENDE:return R.jsx(m,{id:"TilkjentYtelse.PeriodeData.SelvstendigNaeringsdrivende"});case On.DAGPENGER:return R.jsx(m,{id:"TilkjentYtelse.PeriodeData.Dagpenger"});case On.ARBEIDSAVKLARINGSPENGER:return R.jsx(m,{id:"TilkjentYtelse.PeriodeData.AAP"});case On.MILITAER_ELLER_SIVIL:return R.jsx(m,{id:"TilkjentYtelse.PeriodeData.Militaer"});case On.BRUKERS_ANDEL:return R.jsx(m,{id:"TilkjentYtelse.PeriodeData.BrukersAndel"});default:return""}},B$=e=>{if(e===void 0)return null;const n=e.uttak&&e.uttak.gradering===!0?"TilkjentYtelse.PeriodeData.Ja":"TilkjentYtelse.PeriodeData.Nei";return R.jsx(m,{id:n})},F$=({selectedItemData:e,callbackForward:n,callbackBackward:r,alleKodeverk:t,isSoknadSvangerskapspenger:i,arbeidsgiverOpplysningerPerId:s,lukkPeriode:l})=>{const d=$k(e.fom,e.tom),o=Q(),u=Eo(t),k=j.useCallback((...c)=>R.jsx("b",{children:c}),[]);return R.jsxs(qs,{border:!0,children:[R.jsxs(se,{children:[R.jsxs(y,{spaceBetween:!0,children:[R.jsx(v,{children:R.jsx(V,{size:"small",children:R.jsx(m,{id:"TilkjentYtelse.PeriodeData.Detaljer"})})}),R.jsxs(v,{className:Yt.fix,children:[R.jsx(ne,{className:Yt.margin,size:"xsmall",icon:R.jsx(Si,{"aria-hidden":!0}),onClick:r,variant:"secondary-neutral",type:"button",title:o.formatMessage({id:"Timeline.prevPeriod"}),children:R.jsx(m,{id:"Timeline.prevPeriodShort"})}),R.jsx(ne,{className:Yt.margin,size:"xsmall",icon:R.jsx(yi,{"aria-hidden":!0}),onClick:n,variant:"secondary-neutral",type:"button",title:o.formatMessage({id:"Timeline.nextPeriod"}),iconPosition:"right",children:R.jsx(m,{id:"Timeline.nextPeriodShort"})}),R.jsx(ne,{size:"xsmall",icon:R.jsx(qn,{"aria-hidden":!0}),onClick:l,variant:"tertiary-neutral",type:"button",title:o.formatMessage({id:"Timeline.lukkPeriode"})})]})]}),R.jsx(x,{sixteenPx:!0}),R.jsxs("div",{className:Yt.detailsPeriode,children:[R.jsxs(y,{spaceBetween:!0,children:[R.jsx(v,{children:R.jsx(V,{size:"small",children:R.jsx(m,{id:"TilkjentYtelse.PeriodeData.Periode",values:{fomVerdi:T(e.fom).format(ie).toString(),tomVerdi:T(e.tom).format(ie).toString()}})})}),R.jsx(v,{children:R.jsx(I,{size:"small",children:d.formattedString})})]}),R.jsx(x,{eightPx:!0}),R.jsx(y,{children:R.jsx(v,{children:R.jsx(m,{id:"TilkjentYtelse.PeriodeData.Dagsats",values:{dagsatsVerdi:e.dagsats,b:k}})})})]})]}),R.jsx(x,{sixteenPx:!0}),e.andeler&&e.andeler.length!==0&&R.jsx(We,{headerTextCodes:R$(i),children:e.andeler.map((c,h)=>R.jsxs(Le,{children:[R.jsx(w,{children:O$(c,u,s)}),!i&&R.jsx(w,{children:R.jsx(I,{size:"small",children:Xk[c.uttak.stonadskontoType]})}),!i&&R.jsx(w,{children:R.jsx(I,{size:"small",children:B$(c)})}),R.jsx(w,{children:R.jsx(I,{size:"small",children:c.utbetalingsgrad?c.utbetalingsgrad:""})}),R.jsx(w,{children:R.jsx(I,{size:"small",children:c.aktivitetStatus===On.ARBEIDSTAKER&&c.refusjon?c.refusjon:""})}),R.jsx(w,{children:R.jsx(I,{size:"small",children:c.tilSoker?c.tilSoker:""})}),R.jsx(w,{children:R.jsx(I,{size:"small",children:c.sisteUtbetalingsdato?T(c.sisteUtbetalingsdato).format(ie):""})})]},`index${h+1}`))})]})},$$="_space_kjkss_1",D$="_margin_kjkss_5",rt={space:$$,margin:D$},V$=e=>(e.andeler||[]).filter(n=>n.uttak&&n.uttak.gradering===!0).length>0,G$=e=>{const n=e.gjeldende||e.oppgitt;return n.soknadType===Qk.FODSEL?n.avklartBarn&&n.avklartBarn.length>0?{dato:n.avklartBarn[0].fodselsdato,textId:"TilkjentYtelse.Fodselsdato"}:{dato:n.termindato,textId:"TilkjentYtelse.Termindato"}:n.omsorgsovertakelseDato?{dato:n.omsorgsovertakelseDato,textId:"TilkjentYtelse.Omsorgsovertakelsesdato"}:{dato:n.adopsjonFodelsedatoer?n.adopsjonFodelsedatoer[0]:void 0,textId:"TilkjentYtelse.Fodselsdato"}},L$=(e=[])=>e.filter(n=>n.andeler&&n.andeler[0]&&n.dagsats).map((n,r)=>({erGradert:V$(n),start:T(n.fom).toDate(),end:T(n.tom).add(1,"days").toDate(),id:r,periode:n})),M$=(e,n)=>{var r;return((r=n[_n.RELASJONSROLLE_TYPE].find(t=>t.kode===e.relasjonsRolleType))==null?void 0:r.navn)||""},K$=(e,n)=>{const r=T(e);return r.isBefore(n)?n.subtract(5,"days"):r},w$=({beregningsresultatPeriode:e,soknadDate:n,familieHendelseSamling:r,hovedsokerKjonnKode:t,alleKodeverk:i,arbeidsgiverOpplysningerPerId:s,fagsak:l})=>{const d=Q(),[o,u]=j.useState(),k=j.useMemo(()=>L$(e),[e]),c=j.useCallback(()=>{u(null)},[]),h=j.useCallback(()=>{const q=k.findIndex(J=>J.id===(o==null?void 0:o.id))+1;q<k.length&&u(k[q])},[k,o,u]),b=j.useCallback(()=>{const q=k.findIndex(J=>J.id===(o==null?void 0:o.id))-1;q>=0&&u(k[q])},[k,o,u]),A=j.useCallback(q=>{u(k.find(J=>J.id===q))},[u,k]),_=T(k[0].start),P=T(k[k.length-1].end),[S,F]=j.useState(_),[N,D]=j.useState(P),$=()=>{S.subtract(1,"month").isBefore(_)||(F(S.subtract(1,"month")),D(N.subtract(1,"month")))},M=()=>{N.add(1,"month").isAfter(P)||(F(S.add(1,"month")),D(N.add(1,"month")))},C=()=>{S.add(3,"month").isAfter(N)||(F(S.add(1,"month")),D(N.subtract(1,"month")))},re=()=>{N.add(1,"month").diff(S.subtract(1,"month"),"months")<36&&(F(S.subtract(1,"month")),D(N.add(1,"month")))},te=j.useMemo(()=>G$(r),[r]);return R.jsxs(R.Fragment,{children:[R.jsxs($e,{startDate:S.toDate(),endDate:N.add(1,"days").toDate(),children:[R.jsxs($e.Pin,{date:T(n).toDate(),children:[R.jsx(I,{children:R.jsx(m,{id:"TilkjentYtelse.Soknadsdato"})}),R.jsx(I,{children:R.jsx(Re,{dateString:n})})]}),te.dato&&R.jsxs($e.Pin,{date:K$(te.dato,S).toDate(),children:[R.jsx(I,{children:R.jsx(m,{id:te.textId})}),R.jsx(I,{children:R.jsx(Re,{dateString:te.dato})})]}),R.jsx($e.Row,{label:M$(l,i),icon:t===qk.KVINNE?R.jsx(Zk,{width:20,height:20,color:"var(--a-red-200)"}):R.jsx(gm,{width:20,height:20,color:"var(--a-blue-600)"}),children:k.map(q=>R.jsx($e.Period,{start:q.start,end:q.end,status:"success",onSelectPeriod:()=>A(q.id),isActive:(o==null?void 0:o.id)===q.id,icon:q.erGradert?R.jsx(Bm,{"aria-hidden":!0}):R.jsx(Xs,{"aria-hidden":!0}),title:q.erGradert?d.formatMessage({id:"TilkjentYtelse.GradertPeriode"}):""},q.id))})]}),R.jsx(x,{twentyPx:!0}),R.jsxs(tn,{children:[R.jsx(ne,{className:rt.margin,size:"small",icon:R.jsx(um,{"aria-hidden":!0}),onClick:C,variant:"primary-neutral",type:"button",title:d.formatMessage({id:"TilkjentYtelse.ZoomInn"})}),R.jsx(ne,{className:rt.margin,size:"small",icon:R.jsx(km,{"aria-hidden":!0}),onClick:re,variant:"primary-neutral",type:"button",title:d.formatMessage({id:"TilkjentYtelse.ZoomUt"})}),R.jsx(ne,{className:rt.margin,size:"small",icon:R.jsx(Si,{"aria-hidden":!0}),onClick:$,variant:"primary-neutral",type:"button",title:d.formatMessage({id:"TilkjentYtelse.ScrollTilVenstre"})}),R.jsx(ne,{className:rt.margin,size:"small",icon:R.jsx(yi,{"aria-hidden":!0}),onClick:M,variant:"primary-neutral",type:"button",title:d.formatMessage({id:"TilkjentYtelse.ScrollTilHogre"})})]}),R.jsx("div",{className:rt.space}),o&&R.jsxs(R.Fragment,{children:[R.jsx(x,{eightPx:!0}),R.jsx(F$,{alleKodeverk:i,selectedItemData:o.periode,callbackForward:h,callbackBackward:b,isSoknadSvangerskapspenger:l.fagsakYtelseType===Wk.SVANGERSKAPSPENGER,arbeidsgiverOpplysningerPerId:s,lukkPeriode:c})]})]})},U$=e=>e?e.find(n=>n.definisjon===ae.VURDER_TILBAKETREKK):void 0,C$=({beregningresultat:e,readOnly:n,submitCallback:r,readOnlySubmitButton:t,alleKodeverk:i,arbeidsgiverOpplysningerPerId:s,feriepengegrunnlag:l,familieHendelseSamling:d,personoversikt:o,soknad:u,aksjonspunkter:k,formData:c,setFormData:h,fagsak:b})=>{var A,_;const P=j.useMemo(()=>U$(k),[k]),S=(A=u.søknadsfrist)!=null&&A.mottattDato?(_=u.søknadsfrist)==null?void 0:_.mottattDato:u.mottattDato;return R.jsxs(R.Fragment,{children:[R.jsx(ce,{size:"small",children:R.jsx(m,{id:"TilkjentYtelse.Title"})}),R.jsx(x,{thirtyTwoPx:!0}),e&&R.jsx(w$,{beregningsresultatPeriode:e.perioder,soknadDate:S,familieHendelseSamling:d,hovedsokerKjonnKode:o!=null&&o.bruker?o.bruker.kjønn:void 0,alleKodeverk:i,arbeidsgiverOpplysningerPerId:s,fagsak:b}),l&&R.jsxs(R.Fragment,{children:[R.jsx(x,{thirtyTwoPx:!0}),R.jsx(E$,{feriepengegrunnlag:l,arbeidsgiverOpplysningerPerId:s,alleKodeverk:i}),R.jsx(x,{thirtyTwoPx:!0})]}),P&&R.jsxs(R.Fragment,{children:[R.jsx(x,{sixteenPx:!0}),R.jsx(c$,{readOnly:n,vurderTilbaketrekkAP:P,submitCallback:r,readOnlySubmitButton:t,beregningsresultat:e,formData:c,setFormData:h})]})]})},z$={"TilkjentYtelse.Title":"Tilkjent ytelse","TilkjentYtelse.VurderTilbaketrekk.Aksjonspunkttekst":"Pengene er utbetalt til søker, arbeidsgiver krever nå refusjon fra startdato. Vurder om beløpet som er feilutbetalt skal tilbakekreves fra søker eller om dette er en sak mellom arbeidstaker og arbeidsgiver.","TilkjentYtelse.VurderTilbaketrekk.Utfør":"Tilbakekrev fra søker","TilkjentYtelse.VurderTilbaketrekk.Hindre":"Ikke tilbakekrev fra søker","TilkjentYtelse.Stonadinfo.Stonadsdager":"Stønadsdager","TilkjentYtelse.PeriodeData.Detaljer":"Detaljer for valgt periode","TilkjentYtelse.PeriodeData.UkerDager":"{weeks} uker {days} dager","TilkjentYtelse.PeriodeData.Godkjent":"Godkjent","TilkjentYtelse.PeriodeData.Dagsats":"Utbetalt dagsats: <b>{dagsatsVerdi}</b>","TilkjentYtelse.PeriodeData.Andel":"Andel","TilkjentYtelse.PeriodeData.KontoType":"Stønadskonto","TilkjentYtelse.PeriodeData.Gradering":"Gradering","TilkjentYtelse.PeriodeData.Utbetalingsgrad":"Utb.grad","TilkjentYtelse.PeriodeData.Refusjon":"Utbetalt refusjon","TilkjentYtelse.PeriodeData.TilSoker":"Utbetalt til søker","TilkjentYtelse.PeriodeData.SisteUtbDato":"Siste innvilgede utb.dato","TilkjentYtelse.PeriodeData.Periode":"{fomVerdi} - {tomVerdi}","TilkjentYtelse.PeriodeData.Ja":"Ja","TilkjentYtelse.PeriodeData.Nei":"Nei","TilkjentYtelse.PeriodeData.SelvstendigNaeringsdrivende":"Selvstendig næringsdrivende","TilkjentYtelse.PeriodeData.Frilans":"Frilanser","TilkjentYtelse.PeriodeData.Militaer":"Militær","TilkjentYtelse.PeriodeData.Dagpenger":"Dagpenger","TilkjentYtelse.PeriodeData.AAP":"Arbeidsavklaringspenger","TilkjentYtelse.PeriodeData.BrukersAndel":"Brukers andel","TilkjentYtelse.Feriepenger.Tittel":"Feriepengegrunnlag","TilkjentYtelse.Feriepenger.Opptjeningsår":"Opptjent i {år}","TilkjentYtelse.Feriepenger.AndelNavn":"Andel","TilkjentYtelse.Feriepenger.GrunnlagSøker":"Beløp til søker","TilkjentYtelse.Feriepenger.GrunnlagRefusjon":"Beløp til arbeidsgiver","TilkjentYtelse.Soknadsdato":"Søknadsdato","TilkjentYtelse.Fodselsdato":"Fødselsdato","TilkjentYtelse.Termindato":"Termindato","TilkjentYtelse.GradertPeriode":"Gradert periode","TilkjentYtelse.ZoomInn":"Zoom inn","TilkjentYtelse.ZoomUt":"Zoom ut","TilkjentYtelse.ScrollTilVenstre":"Scroll til venstre","TilkjentYtelse.ScrollTilHogre":"Scroll til høyre","TilkjentYtelse.Omsorgsovertakelsesdato":"Omsorgsovertakelsesdato","Timeline.lukkPeriode":"Lukk periode","HelpText.Aksjonspunkt":"Aksjonspunkt","Malform.Beskrivelse":"Foretrukket språk","Beregningsgrunnlag.Forms.Vurdering":"Vurdering","Timeline.closeData":"Lukke info om periode","Timeline.nextPeriod":"Neste periode","Timeline.nextPeriodShort":"Neste","Timeline.prevPeriod":"Forrige periode","Timeline.prevPeriodShort":"Forrige","Timeline.tooltip.dagsats":"Dagsats: {dagsats}kr","Timeline.tooltip.start":"Start","Timeline.tooltip.slutt":"Slutt","Timeline.tooltip.periodetype":"Periodetype","Timeline.tooltip.utsettelsePeriode":"Utsettelse","Timeline.TidspunktFamiliehendelse":"Tidspunkt for familiehendelse","Timeline.OppfyltPeriode":"Oppfylt periode","Timeline.IkkeOppfyltPeriode":"Ikke oppfylt periode","Timeline.TidspunktMotakSoknad":"Tidspunkt for mottatt søknad","Timeline.BelopTilbakereves":"Beløp tilbakekreves","Timeline.IngenTilbakekreving":"Ingen tilbakekreving","Timeline.IkkeAvklartPeriode":"Uavklart periode","Timeline.TidspunktRevurdering":"Startpunkt for revurdering","Timeline.GradertPeriode":"Gradert periode","Timeline.ManueltAvklart":"Manuelt avklart periode"},Y$=Ge(z$),H$=({beregningresultat:e,familiehendelse:n,personoversikt:r,soknad:t,fagsak:i,aksjonspunkter:s,alleKodeverk:l,isReadOnly:d,submitCallback:o,readOnlySubmitButton:u,arbeidsgiverOpplysningerPerId:k,feriepengegrunnlag:c,formData:h,setFormData:b})=>R.jsx(Ze,{value:Y$,children:R.jsx(C$,{beregningresultat:e,familieHendelseSamling:n,personoversikt:r,soknad:t,fagsak:i,aksjonspunkter:s,alleKodeverk:l,readOnly:d,submitCallback:o,readOnlySubmitButton:u,arbeidsgiverOpplysningerPerId:k,feriepengegrunnlag:c,formData:h,setFormData:b})});H$.__docgenInfo={description:"",methods:[],displayName:"vn"};var Ek={exports:{}},tt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oo;function J$(){if(oo)return tt;oo=1;var e=W,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(d,o,u){var k,c={},h=null,b=null;u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),o.ref!==void 0&&(b=o.ref);for(k in o)t.call(o,k)&&!s.hasOwnProperty(k)&&(c[k]=o[k]);if(d&&d.defaultProps)for(k in o=d.defaultProps,o)c[k]===void 0&&(c[k]=o[k]);return{$$typeof:n,type:d,key:h,ref:b,props:c,_owner:i.current}}return tt.Fragment=r,tt.jsx=l,tt.jsxs=l,tt}Ek.exports=J$();var ee=Ek.exports;const q$="_panel_d5cml_1",Z$="_hyphen_d5cml_9",W$="_marginTop_d5cml_19",X$="_marginBottom_d5cml_23",Q$="_colWidth_d5cml_27",Rn={panel:q$,hyphen:Z$,marginTop:W$,marginBottom:X$,colWidth:Q$},eD=(e,n)=>e&&n!==void 0,nD=(e,n,r)=>{const t=r==null?void 0:r.mottattDato;return{gyldigSenFremsetting:e[0].status===na.OPPRETTET?void 0:t!==n,ansesMottatt:t,...Pr.buildInitialValues(e)}},rD=e=>({harGyldigGrunn:e.gyldigSenFremsetting,ansesMottattDato:e.ansesMottatt,kode:ae.VURDER_SOKNADSFRIST_FORELDREPENGER,...Pr.transformValues(e)}),tD=({aksjonspunkter:e,readOnly:n,readOnlySubmitButton:r,mottattDato:t,søknadsfrist:i,isApOpen:s,submitCallback:l,formData:d,setFormData:o})=>{const u=j.useMemo(()=>nD(e,t,i),[e,t,i]),k=ze({defaultValues:d||u}),c=k.watch("gyldigSenFremsetting"),h=i==null?void 0:i.søknadsperiodeStart,b=i==null?void 0:i.søknadsperiodeSlutt,A=i==null?void 0:i.utledetSøknadsfrist;return ee.jsxs(Ye,{formMethods:k,onSubmit:_=>l(rD(_)),setDataOnUnmount:o,children:[ee.jsx(ce,{size:"small",children:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Soknadsfrist"})}),ee.jsx(x,{twentyPx:!0}),ee.jsx(xi,{isAksjonspunktOpen:s,children:[ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.AksjonspunktHelpText",values:{numberOfDays:i==null?void 0:i.dagerOversittetFrist,soknadsfristdato:A?pr(A).format(ie):""}},"VurderSoknadsfristForeldrepengerForm")]}),ee.jsx(x,{twentyPx:!0}),ee.jsx(se,{children:ee.jsxs(y,{children:[ee.jsx(v,{className:Rn.colWidth,children:ee.jsxs(qs,{className:Rn.panel,children:[ee.jsx(V,{size:"small",children:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Vurder"})}),ee.jsxs("ul",{className:Rn.hyphen,children:[ee.jsx("li",{children:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Punkt1"})}),ee.jsx("li",{children:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Punkt2"})}),ee.jsx("li",{children:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.Punkt3"})})]})]})}),ee.jsx(v,{className:Rn.colWidth,children:ee.jsx(se,{children:ee.jsxs(y,{className:Rn.marginBottom,children:[ee.jsxs(v,{className:Rn.colWidth,children:[ee.jsx(ke,{children:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.SoknadMottatt"})}),t&&ee.jsx(I,{size:"small",children:pr(t).format(ie)})]}),h&&b&&ee.jsxs(v,{className:Rn.colWidth,children:[ee.jsx(ke,{children:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.SoknadPeriode"})}),ee.jsx(I,{size:"small",children:`${pr(h).format(ie)} - ${pr(b).format(ie)}`})]})]})})})]})}),ee.jsxs("div",{className:Rn.marginTop,children:[ee.jsx(Pr,{readOnly:n}),ee.jsx(x,{sixteenPx:!0}),ee.jsx(Ie,{name:"gyldigSenFremsetting",validate:[X],isReadOnly:n,isHorizontal:!0,isEdited:eD(e.length>0,c),isTrueOrFalseSelection:!0,radios:[{value:"true",label:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.GyldigGrunn"})},{value:"false",label:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.IkkeGyldigGrunn"})}]}),c&&ee.jsxs(ee.Fragment,{children:[ee.jsx(x,{sixteenPx:!0}),ee.jsx(vo,{children:ee.jsx(Wn,{name:"ansesMottatt",isReadOnly:n,label:ee.jsx(m,{id:"VurderSoknadsfristForeldrepengerForm.NyMottattDato"}),validate:[X,$n,em]})})]}),ee.jsx(x,{twentyPx:!0}),ee.jsx(Oo,{isReadOnly:n,isSubmittable:!r,isSubmitting:k.formState.isSubmitting,isDirty:k.formState.isDirty})]})]})},iD={"VurderSoknadsfristForeldrepengerForm.Soknadsfrist":"Søknadsfrist","VurderSoknadsfristForeldrepengerForm.AksjonspunktHelpText":"Søknad ble mottatt {numberOfDays} dager etter søknadsfrist ({soknadsfristdato})","VurderSoknadsfristForeldrepengerForm.SoknadMottatt":"Søknad mottatt dato","VurderSoknadsfristForeldrepengerForm.SoknadPeriode":"Søknadsperiode","VurderSoknadsfristForeldrepengerForm.Begrunnelse":"Begrunnelse fra søknaden","VurderSoknadsfristForeldrepengerForm.Vurder":"Vurder følgende","VurderSoknadsfristForeldrepengerForm.Punkt1":"Har det vært fristavbrytende kontakt?","VurderSoknadsfristForeldrepengerForm.Punkt2":"Har NAV gitt misvisende opplysninger?","VurderSoknadsfristForeldrepengerForm.Punkt3":"Har søker åpenbart ikke vært i stand til å sette frem krav?","VurderSoknadsfristForeldrepengerForm.GyldigGrunn":"Gyldig grunn for sen fremsetting av søknaden","VurderSoknadsfristForeldrepengerForm.IkkeGyldigGrunn":"Ingen gyldig grunn for sen fremsetting av søknaden","VurderSoknadsfristForeldrepengerForm.NyMottattDato":"Dato for når søknaden kan anses som mottatt"},sD=Ge(iD),_k=({soknad:e,aksjonspunkter:n,submitCallback:r,isReadOnly:t,readOnlySubmitButton:i,isAksjonspunktOpen:s,formData:l,setFormData:d})=>ee.jsx(Ze,{value:sD,children:ee.jsx(tD,{mottattDato:e.mottattDato,søknadsfrist:e.søknadsfrist,aksjonspunkter:n,submitCallback:r,readOnly:t,readOnlySubmitButton:i,isApOpen:s,formData:l,setFormData:d})});_k.__docgenInfo={description:"",methods:[],displayName:"st"};const aD=[ae.VURDER_SOKNADSFRIST_FORELDREPENGER],lD=[we.SOKNAD],go=e=>Ne.jsx(ia,{...e,panelEndepunkter:lD,aksjonspunktKoder:aD,prosessPanelKode:Qs.SOEKNADSFRIST,prosessPanelMenyTekst:Q().formatMessage({id:"Behandlingspunkt.Soknadsfristvilkaret"}),skalPanelVisesIMeny:n=>_o(n.aksjonspunkter),renderPanel:n=>Ne.jsx(_k,{...n})});try{go.displayName="SoknadsfristProsessStegInitPanel",go.__docgenInfo={description:"",displayName:"SoknadsfristProsessStegInitPanel",props:{behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}export{dl as A,Ed as B,El as F,Im as H,yl as O,yd as P,go as S,il as a,ao as b,Od as c,Dm as j,Bm as l,H$ as v,GP as y};
//# sourceMappingURL=SoknadsfristProsessStegInitPanel-369ddbb1.js.map
