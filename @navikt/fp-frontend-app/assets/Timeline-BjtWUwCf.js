import{r as v,R as c}from"./index-DRjF_FHU.js";import{u as Q,a8 as O,a9 as Te,aa as ce,ab as $e,ac as Z,D as de,ad as H,ae as ue,af as fe,ag as S,ah as ke,ai as G,aj as Le,W as ve,X as pe,Y as me,$ as be,Z as ye,a0 as he,a2 as ge,a3 as we,a4 as Oe,a5 as _e,ak as xe,a1 as Ee,N as je,al as Pe,l as L,B as Ye,am as ze,a6 as q,an as Be,ao as K}from"./VStack-CXDA2fiE.js";import{a7 as ee}from"./AppIndex.stories-DTOhW7RV.js";var Ze=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const Dt=v.forwardRef((e,l)=>{var{title:n,titleId:t}=e,o=Ze(e,["title","titleId"]);let a=Q();return a=n?t||"title-"+a:void 0,v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":a},o),n?v.createElement("title",{id:a},n):null,v.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .656.387l9.527 17.25A.75.75 0 0 1 21.526 21H2.474a.75.75 0 0 1-.657-1.113l9.527-17.25A.75.75 0 0 1 12 2.25m8.255 17.25L12 4.551 3.745 19.5zM12 8.75a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4a.75.75 0 0 1 .75-.75m0 6.75a1 1 0 1 0 0 2 1 1 0 0 0 0-2",clipRule:"evenodd"}))});var He=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const Rt=v.forwardRef((e,l)=>{var{title:n,titleId:t}=e,o=He(e,["title","titleId"]);let a=Q();return a=n?t||"title-"+a:void 0,v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":a},o),n?v.createElement("title",{id:a},n):null,v.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.75 12a.75.75 0 0 1 .75-.75h13a.75.75 0 1 1 0 1.5h-13a.75.75 0 0 1-.75-.75",clipRule:"evenodd"}))});var Ke=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const St=v.forwardRef((e,l)=>{var{title:n,titleId:t}=e,o=Ke(e,["title","titleId"]);let a=Q();return a=n?t||"title-"+a:void 0,v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":a},o),n?v.createElement("title",{id:a},n):null,v.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.97 10.085A3.25 3.25 0 1 1 9.1 8.478l1.456.822 6.506-1.952a1.75 1.75 0 0 1 .79-.05l2.771.462a.75.75 0 0 1 .234 1.4l-5.336 2.89 5.326 2.785a.75.75 0 0 1-.224 1.405l-2.77.462a1.75 1.75 0 0 1-.791-.05l-6.46-1.938-1.5.813q.146.462.148.973a3.25 3.25 0 1 1-1.28-2.585 3.25 3.25 0 0 0 0-3.83M4.25 7.5a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0m8.214 6.206 1.467-.795 4.24 2.217-.565.094a.25.25 0 0 1-.113-.007zM7.39 15.438l.018.023a1.75 1.75 0 1 1-.017-.023m2.493-2.04a4.8 4.8 0 0 0 .11-2.363l7.499-2.25a.25.25 0 0 1 .113-.007l.616.103z",clipRule:"evenodd"}))});function z(e,l){const n=O(e),t=O(l),o=n.getTime()-t.getTime();return o<0?-1:o>0?1:o}function Ue(e,l){const n=O(e),t=O(l);return n.getFullYear()-t.getFullYear()}function Me(e,l){const n=O(e),t=O(l),o=ae(n,t),a=Math.abs(Te(n,t));n.setDate(n.getDate()-o*a);const u=+(ae(n,t)===-o),r=o*(a-u);return r===0?0:r}function ae(e,l){const n=e.getFullYear()-l.getFullYear()||e.getMonth()-l.getMonth()||e.getDate()-l.getDate()||e.getHours()-l.getHours()||e.getMinutes()-l.getMinutes()||e.getSeconds()-l.getSeconds()||e.getMilliseconds()-l.getMilliseconds();return n<0?-1:n>0?1:n}function re(e,l){return+O(e)-+O(l)}function U(e){const l=O(e);return l.setHours(23,59,59,999),l}function Xe(e){const l=O(e);return+U(l)==+ce(l)}function Ve(e,l){const n=O(e),t=O(l),o=z(n,t),a=Math.abs($e(n,t));let u;if(a<1)u=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*a);let r=z(n,t)===-o;Xe(O(e))&&a===1&&z(e,t)===1&&(r=!1),u=o*(a-Number(r))}return u===0?0:u}function We(e,l){const n=O(e),t=O(l),o=z(n,t),a=Math.abs(Ue(n,t));n.setFullYear(1584),t.setFullYear(1584);const u=z(n,t)===-o,r=o*(a-+u);return r===0?0:r}function qe(e){const l=O(e),n=l.getFullYear();return l.setFullYear(n+1,0,0),l.setHours(23,59,59,999),l}function Ge(e,l){return Z(e,-l)}const De=v.createContext({startDate:new Date,endDate:new Date,direction:"left",setStart:()=>null,setEndInclusive:()=>null,activeRow:0,setActiveRow:()=>null,initiate:()=>null,addFocusable:()=>null}),B=()=>{const e=v.useContext(De);return e||console.warn("useTimelineContext must be used with TimelineContext (<Timeline />)"),e},Je=({horizontalPosition:e})=>e<=98&&e>=0,se=(e,l)=>Me(e,l)<=1,Qe=({horizontalPosition:e,width:l})=>e>=0&&e<=100&&l>0,J=(e,l,n)=>{const t=re(n,l);return re(e,l)/t*100},X=(e,l,n,t)=>{const o=J(e,n,t),a=J(l,n,t)-o;return{horizontalPosition:o,width:a}},et=(e,l,n,t,o="dd.MM")=>{const a=Math.ceil(n/10),u=H(l);return new Array(n).fill(u).map((r,f)=>{if(f%a!==0)return null;const i=ue(r,f),{horizontalPosition:p,width:m}=X(i,fe(i,1),e,l);return{direction:t,horizontalPosition:p,label:S(i,o,{locale:ee}),date:i,width:m}}).filter(r=>r!==null)},tt=(e,l,n,t="MMM yy")=>{const o=ke(e),a=ce(l),u=Ve(a,o)+1;return new Array(u).fill(o).map((r,f)=>{const i=G(r,f),{horizontalPosition:p,width:m}=X(i,G(i,1),e,l);return{direction:n,horizontalPosition:p,label:S(i,t,{locale:ee}),date:i,width:m}})},nt=(e,l,n,t="yyyy")=>{const o=Le(e),a=qe(l),u=We(a,e)+1;return new Array(u).fill(o).map((r,f)=>{const i=Z(r,f),{horizontalPosition:p,width:m}=X(i,Z(i,1),e,l);return{direction:n,horizontalPosition:p,label:S(i,t,{locale:ee}),date:i,width:m}})},ot=(e,l,n,t)=>{const o=Me(l,e);return o<40?et(e,l,o,n,t==null?void 0:t.day):o<370?tt(e,l,n,t==null?void 0:t.month):nt(e,l,n,t==null?void 0:t.year)},lt=({templates:e})=>{const{endDate:l,startDate:n,direction:t}=B(),o=ot(n,l,t,e).filter(Je);return c.createElement("div",{className:"navds-timeline__axislabels","aria-hidden":"true"},o.map(a=>c.createElement(de,{className:"navds-timeline__axislabels-label",as:"div",key:a.label,style:{justifyContent:t==="left"?"flex-start":"flex-end",[t]:`${a.horizontalPosition}%`,width:`${a.width}%`}},a.label)))};var at=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const Re=v.forwardRef((e,l)=>{var{date:n,children:t}=e,o=at(e,["date","children"]);const{startDate:a,endDate:u,direction:r}=B(),[f,i]=v.useState(!1),p=v.useRef(null),{context:m,placement:y,middlewareData:{arrow:{x:w,y:d}={}},refs:g,floatingStyles:_}=ve({placement:"top",open:f,onOpenChange:D=>i(D),whileElementsMounted:pe,middleware:[me(16),be(),ye({padding:5,fallbackPlacements:["bottom","top"]}),he({element:p,padding:5})]}),b=ge(m,{handleClose:we(),restMs:25,delay:{open:1e3},move:!1}),M=Oe(m),F=_e(m),I=xe(m,{role:"dialog"}),{getFloatingProps:P,getReferenceProps:k}=Ee([b,M,F,I]),C=je(g.setReference,l),A={top:"bottom",right:"left",bottom:"top",left:"right"}[y.split("-")[0]];return c.createElement(c.Fragment,null,c.createElement("div",{className:"navds-timeline__pin-wrapper",style:{[r]:`${J(n,a,u)}%`}},c.createElement("button",Object.assign({},o,{ref:C,className:"navds-timeline__pin-button","aria-label":`pin:${S(n,"dd.MM.yyyy")}`,type:"button","aria-expanded":t?f:void 0},k({onKeyDown:D=>{var N;(N=o==null?void 0:o.onKeyDown)===null||N===void 0||N.call(o,D),D.key==="Enter"?i(s=>!s):D.key===" "&&i(!1)}})))),t&&f&&c.createElement(Pe,{context:m,modal:!1,initialFocus:-1,returnFocus:!1},c.createElement("div",Object.assign({className:"navds-timeline__popover","data-placement":y,ref:g.setFloating},P(),{tabIndex:void 0,style:_}),t,c.createElement("div",{ref:p,style:Object.assign(Object.assign(Object.assign({},w!=null?{left:w}:{}),d!=null?{top:d}:{}),A?{[A]:"-0.5rem"}:{}),className:"navds-timeline__popover-arrow"}))))});Re.componentType="pin";const Se=v.createContext({periodId:"",firstFocus:!1}),Ce=()=>{const e=v.useContext(Se);return e||console.warn("usePeriodContext must be used with PeriodContext"),e},Ie=v.createContext({periods:[],id:"",active:!1,index:0}),te=()=>{const e=v.useContext(Ie);return e||console.warn("useRowContext must be used with RowContext"),e},Fe=(e,l,n)=>L(`navds-timeline__period navds-timeline__period--${n}`,{"navds-timeline__period--connected-both":e==="both","navds-timeline__period--connected-right":e==="right"&&l==="left"||e==="left"&&l==="right","navds-timeline__period--connected-left":e==="left"&&l==="left"||e==="right"&&l==="right"}),rt=e=>{switch(e){case"success":return"Suksess";case"warning":return"Advarsel";case"danger":return"Fare";case"info":return"Info";case"neutral":return"NÃ¸ytral";default:return e}},Ae=(e,l,n,t)=>{const o=S(e,"dd.MM.yyyy"),a=S(l,"dd.MM.yyyy");return`${t||rt(n)} fra ${o} til ${a}`},st=c.memo(({onSelectPeriod:e,start:l,end:n,status:t,cropped:o,direction:a,left:u,width:r,icon:f,children:i,isActive:p,statusLabel:m,restProps:y,periodRef:w})=>{const[d,g]=v.useState(!1),{index:_}=te(),{firstFocus:b}=Ce(),{initiate:M,addFocusable:F}=B(),I=v.useRef(null),{context:P,placement:k,middlewareData:{arrow:{x:C,y:A}={}},refs:D,floatingStyles:N}=ve({placement:"top",open:d,onOpenChange:E=>g(E),whileElementsMounted:pe,middleware:[me(16),be(),ye({padding:5,fallbackPlacements:["bottom","top"]}),he({element:I,padding:5})]}),s=ge(P,{handleClose:we(),restMs:25,delay:{open:1e3},move:!1}),h=Oe(P),R=_e(P),T=xe(P,{role:"dialog"}),{getFloatingProps:Y,getReferenceProps:x}=Ee([s,h,R,T]),W=je(D.setReference,w),j={top:"bottom",right:"left",bottom:"top",left:"right"}[k.split("-")[0]];return c.createElement(c.Fragment,null,c.createElement("button",Object.assign({},y,{type:"button",ref:E=>{b&&F(E,_),W(E)},"aria-label":Ae(l,n,t,m),className:L("navds-timeline__period--clickable",Fe(o,a,t),y==null?void 0:y.className,{"navds-timeline__period--selected":p}),"aria-expanded":i?d:void 0,"aria-current":p||void 0},x({onFocus:()=>{M(_)},onKeyDown:E=>{var $;($=y==null?void 0:y.onKeydown)===null||$===void 0||$.call(y,E),E.key==="Enter"&&g(Ne=>!Ne),E.key===" "&&(e==null||e(E),g(!1))},style:{width:`${r}%`,[a]:`${u}%`},onClick:E=>{var $;($=y==null?void 0:y.onClick)===null||$===void 0||$.call(y,E),E.detail!==0&&(e==null||e(E))}})),c.createElement("span",{className:"navds-timeline__period--inner"},f)),i&&d&&c.createElement(Pe,{context:P,modal:!1,initialFocus:-1,returnFocus:!1},c.createElement("div",Object.assign({className:"navds-timeline__popover","data-placement":k,ref:D.setFloating},Y(),{style:N}),i,c.createElement("div",{ref:I,style:Object.assign(Object.assign(Object.assign({},C!=null?{left:C}:{}),A!=null?{top:A}:{}),j?{[j]:"-0.5rem"}:{}),className:"navds-timeline__popover-arrow"}))))}),it=({start:e,end:l,status:n,cropped:t,direction:o,left:a,width:u,icon:r,statusLabel:f,restProps:i,periodRef:p})=>c.createElement("div",Object.assign({ref:p},i,{className:L(Fe(t,o,n),i==null?void 0:i.className),style:{width:`${u}%`,[o]:`${a}%`}}),c.createElement("span",{className:"navds-timeline__period--inner"},r,c.createElement("span",{className:"sr-only"},Ae(e,l,n,f)))),ne=v.forwardRef(({icon:e},l)=>{const{periods:n}=te(),{periodId:t,restProps:o}=Ce(),a=n.find(b=>b.id===t);if(!a)return c.createElement(c.Fragment,null);const{start:u,endInclusive:r,width:f,horizontalPosition:i,status:p="neutral",onSelectPeriod:m,cropped:y,direction:w,children:d,isActive:g,statusLabel:_}=a;return m||d?c.createElement(st,{periodRef:l,start:u,end:r,status:p,onSelectPeriod:m,cropped:y||"",direction:w,width:f,left:i,icon:e,isActive:g,statusLabel:_,restProps:o},d):c.createElement(it,{periodRef:l,start:u,end:r,status:p,cropped:y||"",direction:w,width:f,left:i,icon:e,statusLabel:_,restProps:o})});ne.componentType="period";var ct=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const oe=v.forwardRef((e,l)=>{var{label:n,className:t,headingTag:o="h3",icon:a}=e,u=ct(e,["label","className","headingTag","icon"]);const{periods:r,id:f,active:i}=te(),{setActiveRow:p}=B(),m=r.reduce((d,g)=>d.end>g.end?d:g,{}),y=r.reduce((d,g)=>d.end<g.end?d:g,{}),w=r.find(d=>!!d.children||!!d.onSelectPeriod);return c.createElement(c.Fragment,null,n&&c.createElement(Ye,{as:o,id:`timeline-row-${f}`,className:"navds-timeline__row-label",size:"small"},a,n),c.createElement("div",{className:L("navds-timeline__row",{"navds-timeline__row--active":i})},c.createElement("ol",Object.assign({},u,{tabIndex:-1,ref:l,"aria-label":r.length===0?"Ingen perioder":`${S(y.start,"dd.MM.yyyy")} til ${S(m.end,"dd.MM.yyyy")}`,className:L("navds-timeline__row-periods",t),onKeyDown:d=>{(d.key==="ArrowDown"||d.key==="ArrowUp")&&(d.preventDefault(),p(d.key))}}),r==null?void 0:r.map(d=>c.createElement("li",{key:`period-${d.id}`},c.createElement(Se.Provider,{value:{periodId:d.id,firstFocus:(w==null?void 0:w.id)===d.id,restProps:d==null?void 0:d.restProps}},c.createElement(ne,{start:d.start,end:d.endInclusive,icon:d.icon,ref:d==null?void 0:d.ref})))))))});oe.componentType="row";const dt=(e,l)=>e.horizontalPosition-l.horizontalPosition,ut=(e,l,n,t="left",o,a,u)=>{const r=e.start,f=e.end,i=o<a.length-1&&!ze(a[o+1].start,f),{horizontalPosition:p,width:m}=X(H(r),U(i?H(ue(a[o+1].start,1)):f),l,n);return{id:`r-${u}-p-${o}`,start:r,endInclusive:f,horizontalPosition:p,direction:t,width:m,end:f,status:e.status,onSelectPeriod:e.onSelectPeriod,icon:e.icon,children:e.children,isActive:e.isActive,statusLabel:e.statusLabel}},ft=(e,l,n)=>{const t=l>0&&se(e.start,n[l-1].endInclusive),o=l<n.length-1&&se(n[l+1].start,e.endInclusive);return t&&o?Object.assign(Object.assign({},e),{cropped:"both"}):t?Object.assign(Object.assign({},e),{cropped:"left"}):o?Object.assign(Object.assign({},e),{cropped:"right"}):e},vt=e=>{let{horizontalPosition:l,width:n,cropped:t}=e;return l+n>100&&(n=100-l,t=t==="left"||t==="both"?"both":"right"),l<0&&l+n>0&&(n=l+n,l=0,t=t==="right"||t==="both"?"both":"left"),Object.assign(Object.assign({},e),{width:n,horizontalPosition:l,cropped:t})},pt=(e,l,n,t)=>v.useMemo(()=>e.map((o,a)=>{const u=o.periods.sort((r,f)=>r.start.valueOf()-f.start.valueOf()).map((r,f)=>Object.assign(Object.assign({},ut(r,l,n,t,f,o.periods,a)),{restProps:r==null?void 0:r.restProps,ref:r==null?void 0:r.ref})).sort(dt).map(ft).map(vt).filter(Qe);return{id:`tl-row-${a}`,label:o.label,headingTag:o.headingTag||"h3",icon:o.icon,periods:t==="left"?u:u.reverse(),restProps:o==null?void 0:o.restProps,ref:o==null?void 0:o.ref}}),[e,l,n,t]),mt=(e,l)=>l.start<e?l.start:e,bt=e=>e.flat().reduce(mt,new Date),yt=({startDate:e,rows:l})=>v.useMemo(()=>e||bt(l),[e,l]),ht=(e,l)=>l.end>e?l.end:e,gt=e=>e.flat().reduce(ht,new Date(0)),ie=({endDate:e,rows:l})=>v.useMemo(()=>e||fe(gt(l),1),[e,l]),wt=e=>{const l=[];return e==null||e.forEach(n=>{var t,o,a,u,r,f,i,p,m,y,w,d;const g=[];if(c.isValidElement(n)&&(!((t=n==null?void 0:n.props)===null||t===void 0)&&t.children)){if(Array.isArray(n.props.children))for(let _=0;_<n.props.children.length;_++){const b=n.props.children[_];g.push({start:(o=b==null?void 0:b.props)===null||o===void 0?void 0:o.start,end:(a=b==null?void 0:b.props)===null||a===void 0?void 0:a.end,status:((u=b==null?void 0:b.props)===null||u===void 0?void 0:u.status)||"neutral",onSelectPeriod:(r=b.props)===null||r===void 0?void 0:r.onSelectPeriod,label:n.props.label,icon:b.props.icon,children:b.props.children,isActive:b.props.isActive,statusLabel:b.props.statusLabel,restProps:q(b.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:b==null?void 0:b.ref})}else g.push({start:n.props.children.props.start,end:n.props.children.props.end,status:((f=n.props.children.props)===null||f===void 0?void 0:f.status)||"neutral",onSelectPeriod:(i=n.props.children.props)===null||i===void 0?void 0:i.onSelectPeriod,label:n.props.label,icon:(p=n.props.children.props)===null||p===void 0?void 0:p.icon,children:(m=n.props.children.props)===null||m===void 0?void 0:m.children,statusLabel:(y=n.props.children.props)===null||y===void 0?void 0:y.statusLabel,restProps:q(n.props.children.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:(d=(w=n.props)===null||w===void 0?void 0:w.children)===null||d===void 0?void 0:d.ref});l.push({label:n.props.label,icon:n.props.icon,headingTag:n.props.headingTag,periods:g,restProps:q(n.props,["label","icon","headingTag"]),ref:n==null?void 0:n.ref})}}),l};var Ot=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const _t=v.forwardRef((e,l)=>{var{label:n,interval:t,count:o}=e,a=Ot(e,["label","interval","count"]);const{setStart:u,endDate:r,startDate:f,direction:i}=B();let p;t==="month"?p=i==="left"?Be(r,o):G(f,o):p=i==="left"?Ge(r,o):Z(f,o);const m=i==="left"?K(f,p):K(r,p);return c.createElement(de,{as:"li"},c.createElement("button",Object.assign({type:"button","aria-label":m?"Tilbakestill til initiell tidsperspektiv":`Zoom tidslinjen ${S(p,"dd.MM.yyyy")} til ${S(r,"dd.MM.yyyy")}`,ref:l},a,{className:"navds-timeline__zoom-button",onClick:()=>{u(p)},"aria-pressed":m}),n))});var xt=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const le=v.forwardRef((e,l)=>{var{className:n,children:t}=e,o=xt(e,["className","children"]);return c.createElement("ul",Object.assign({ref:l,className:L(n,"navds-timeline__zoom")},o),t)});le.Button=_t;le.componentType="zoom";var Et=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const V=v.forwardRef((e,l)=>{var{children:n,startDate:t,endDate:o,direction:a="left",axisLabelTemplates:u}=e,r=Et(e,["children","startDate","endDate","direction","axisLabelTemplates"]);const f=Array.isArray(n),i=v.useRef([]);f||(n=[n]);const p=c.Children.toArray(n).filter(s=>{var h;return((h=s==null?void 0:s.type)===null||h===void 0?void 0:h.componentType)==="row"}),m=c.Children.toArray(n).filter(s=>{var h;return((h=s==null?void 0:s.type)===null||h===void 0?void 0:h.componentType)==="pin"}).map(s=>()=>s),y=c.Children.toArray(n).find(s=>{var h;return((h=s==null?void 0:s.type)===null||h===void 0?void 0:h.componentType)==="zoom"}),w=v.useMemo(()=>wt(p),[p]),d=w.map(s=>s!=null&&s.periods?s.periods:[]),g=H(yt({startDate:t,rows:d})),[_,b]=v.useState(g),[M,F]=v.useState(null),[I,P]=v.useState(U(ie({endDate:o,rows:d}))),k=U(ie({endDate:o,rows:d})),C=pt(w,t??_,o??I,a),A=s=>{if(!(t||o))if(a==="left"){if(K(s,_)){b(g);return}b(s)}else{if(K(s,I)){P(k);return}P(s)}},D=s=>{var h,R,T,Y;if(M!==null&&s==="ArrowDown"){for(let x=M+1;x<C.length;x++)if(C[x].periods.find(j=>!!j.children||!!j.onSelectPeriod)){F(x),(R=(h=i.current.find(j=>j.id===x))===null||h===void 0?void 0:h.ref)===null||R===void 0||R.focus();break}return}if(M!==null&&s==="ArrowUp"){for(let x=M-1;x>=0;x--)if(C[x].periods.find(j=>!!j.children||!!j.onSelectPeriod)){F(x),(Y=(T=i.current.find(j=>j.id===x))===null||T===void 0?void 0:T.ref)===null||Y===void 0||Y.focus();break}return}},N=(s,h)=>{let R=i.current;R=R.filter(T=>T.id!==h),R.push({ref:s,id:h}),i.current=R};return c.createElement(De.Provider,{value:{startDate:t??_,endDate:o??I,direction:a,setStart:s=>A(s),setEndInclusive:s=>P(s),activeRow:M,setActiveRow:s=>D(s),initiate:s=>F(s),addFocusable:N}},c.createElement("div",Object.assign({},r,{ref:l}),c.createElement("div",{className:"navds-timeline"},c.createElement(lt,{templates:u}),m.map((s,h)=>c.createElement(s,{key:`pin-${h}`})),C.map((s,h)=>c.createElement(Ie.Provider,{key:`row-${s.id}`,value:{periods:s.periods,id:s.id,active:M===h,index:h}},c.createElement(oe,Object.assign({},s==null?void 0:s.restProps,{ref:s==null?void 0:s.ref,label:s.label,icon:s.icon,headingTag:s.headingTag}))))),y))});V.Row=oe;V.Period=ne;V.Pin=Re;V.Zoom=le;export{Rt as S,V as T,St as a,Dt as b};
