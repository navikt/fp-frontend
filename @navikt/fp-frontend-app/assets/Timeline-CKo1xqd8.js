import{r as p,R as i}from"./index-DjhIdADd.js";import{f as ee,aB as _,aC as Ye,aD as de,aE as ze,aF as Z,C as k,aG as Be,$ as ue,aH as K,aI as fe,aJ as me,aK as D,aL as He,aM as Q,aN as Ze,p as ve,a5 as pe,a7 as be,a9 as he,a8 as ge,aa as ye,a6 as we,ar as Oe,au as _e,as as xe,at as Ee,aO as Pe,aq as je,a2 as Re,aP as De,g as $,h as Ke,aQ as Ue,t as J,aR as qe,aS as U}from"./withPanelData-DVRBn_Vp.js";var Ve=function(e,a){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)a.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const Ft=p.forwardRef((e,a)=>{var{title:n,titleId:t}=e,o=Ve(e,["title","titleId"]);let l=ee();return l=n?t||"title-"+l:void 0,p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":l},o),n?p.createElement("title",{id:l},n):null,p.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .656.387l9.527 17.25A.75.75 0 0 1 21.526 21H2.474a.75.75 0 0 1-.657-1.113l9.527-17.25A.75.75 0 0 1 12 2.25m8.255 17.25L12 4.551 3.745 19.5zM12 8.75a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4a.75.75 0 0 1 .75-.75m0 6.75a1 1 0 1 0 0 2 1 1 0 0 0 0-2",clipRule:"evenodd"}))});var Xe=function(e,a){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)a.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const Ct=p.forwardRef((e,a)=>{var{title:n,titleId:t}=e,o=Xe(e,["title","titleId"]);let l=ee();return l=n?t||"title-"+l:void 0,p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":l},o),n?p.createElement("title",{id:l},n):null,p.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.75 12a.75.75 0 0 1 .75-.75h13a.75.75 0 1 1 0 1.5h-13a.75.75 0 0 1-.75-.75",clipRule:"evenodd"}))});var Ge=function(e,a){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)a.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const It=p.forwardRef((e,a)=>{var{title:n,titleId:t}=e,o=Ge(e,["title","titleId"]);let l=ee();return l=n?t||"title-"+l:void 0,p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":l},o),n?p.createElement("title",{id:l},n):null,p.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.97 10.085A3.25 3.25 0 1 1 9.1 8.478l1.456.822 6.506-1.952a1.75 1.75 0 0 1 .79-.05l2.771.462a.75.75 0 0 1 .234 1.4l-5.336 2.89 5.326 2.785a.75.75 0 0 1-.224 1.405l-2.77.462a1.75 1.75 0 0 1-.791-.05l-6.46-1.938-1.5.813q.146.462.148.973a3.25 3.25 0 1 1-1.28-2.585 3.25 3.25 0 0 0 0-3.83M4.25 7.5a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0m8.214 6.206 1.467-.795 4.24 2.217-.565.094a.25.25 0 0 1-.113-.007zM7.39 15.438l.018.023a1.75 1.75 0 1 1-.017-.023m2.493-2.04a4.8 4.8 0 0 0 .11-2.363l7.499-2.25a.25.25 0 0 1 .113-.007l.616.103z",clipRule:"evenodd"}))});function z(e,a){const n=_(e),t=_(a),o=n.getTime()-t.getTime();return o<0?-1:o>0?1:o}function Je(e,a){const n=_(e),t=_(a);return n.getFullYear()-t.getFullYear()}function Fe(e,a){const n=_(e),t=_(a),o=re(n,t),l=Math.abs(Ye(n,t));n.setDate(n.getDate()-o*l);const c=+(re(n,t)===-o),r=o*(l-c);return r===0?0:r}function re(e,a){const n=e.getFullYear()-a.getFullYear()||e.getMonth()-a.getMonth()||e.getDate()-a.getDate()||e.getHours()-a.getHours()||e.getMinutes()-a.getMinutes()||e.getSeconds()-a.getSeconds()||e.getMilliseconds()-a.getMilliseconds();return n<0?-1:n>0?1:n}function se(e,a){return+_(e)-+_(a)}function q(e){const a=_(e);return a.setHours(23,59,59,999),a}function Qe(e){const a=_(e);return+q(a)==+de(a)}function We(e,a){const n=_(e),t=_(a),o=z(n,t),l=Math.abs(ze(n,t));let c;if(l<1)c=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*l);let r=z(n,t)===-o;Qe(_(e))&&l===1&&z(e,t)===1&&(r=!1),c=o*(l-Number(r))}return c===0?0:c}function et(e,a){const n=_(e),t=_(a),o=z(n,t),l=Math.abs(Je(n,t));n.setFullYear(1584),t.setFullYear(1584);const c=z(n,t)===-o,r=o*(l-+c);return r===0?0:r}function tt(e){const a=_(e),n=a.getFullYear();return a.setFullYear(n+1,0,0),a.setHours(23,59,59,999),a}function nt(e,a){return Z(e,-a)}const Ce=p.createContext({startDate:new Date,endDate:new Date,direction:"left",setStart:()=>null,setEndInclusive:()=>null,activeRow:0,setActiveRow:()=>null,initiate:()=>null,addFocusable:()=>null}),B=()=>{const e=p.useContext(Ce);return e||console.warn("useTimelineContext must be used with TimelineContext (<Timeline />)"),e},ot=({horizontalPosition:e})=>e<=98&&e>=0,ie=(e,a)=>Fe(e,a)<=1,at=({horizontalPosition:e,width:a})=>e>=0&&e<=100&&a>0,W=(e,a,n)=>{const t=se(n,a);return se(e,a)/t*100},V=(e,a,n,t)=>{const o=W(e,n,t),l=W(a,n,t)-o;return{horizontalPosition:o,width:l}},lt=(e,a,n,t,o,l)=>{const c=Math.ceil(n/10),r=K(a);return new Array(n).fill(r).map((f,m)=>{if(m%c!==0)return null;const u=fe(f,m),{horizontalPosition:h,width:v}=V(u,me(u,1),e,a);return{direction:t,horizontalPosition:h,label:D(u,o,{locale:l}),date:u,width:v}}).filter(f=>f!==null)},rt=(e,a,n,t,o)=>{const l=He(e),c=de(a),r=We(c,l)+1;return new Array(r).fill(l).map((f,m)=>{const u=Q(f,m),{horizontalPosition:h,width:v}=V(u,Q(u,1),e,a);return{direction:n,horizontalPosition:h,label:D(u,t,{locale:o}),date:u,width:v}})},st=(e,a,n,t,o)=>{const l=Ze(e),c=tt(a),r=et(c,e)+1;return new Array(r).fill(l).map((f,m)=>{const u=Z(f,m),{horizontalPosition:h,width:v}=V(u,Z(u,1),e,a);return{direction:n,horizontalPosition:h,label:D(u,t,{locale:o}),date:u,width:v}})},it=(e,a,n,t,o)=>{const l=Fe(a,e);if(l<40){const r=o("dayFormat");return lt(e,a,l,n,r,t)}if(l<370){const r=o("monthFormat");return rt(e,a,n,r,t)}const c=o("yearFormat");return st(e,a,n,c,t)},ct=({templates:e})=>{const{endDate:a,startDate:n,direction:t}=B(),o=k("Timeline",{dayFormat:e==null?void 0:e.day,monthFormat:e==null?void 0:e.month,yearFormat:e==null?void 0:e.year}),l=Be(),c=it(n,a,t,l,o);return i.createElement("div",{className:"navds-timeline__axislabels","aria-hidden":"true"},c.filter(ot).map(r=>i.createElement(ue,{className:"navds-timeline__axislabels-label",as:"div",key:r.label,style:{justifyContent:t==="left"?"flex-start":"flex-end",[t]:`${r.horizontalPosition}%`,width:`${r.width}%`}},r.label)))};var dt=function(e,a){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)a.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const Ie=p.forwardRef((e,a)=>{var{date:n,children:t}=e,o=dt(e,["date","children"]);const{startDate:l,endDate:c,direction:r}=B(),[f,m]=p.useState(!1),u=p.useRef(null),h=k("Timeline"),O=!ve(!1),{context:y,placement:d,middlewareData:{arrow:{x:w,y:g}={}},refs:j,floatingStyles:S}=pe({placement:"top",open:f,onOpenChange:b=>m(b),whileElementsMounted:we,middleware:[be(O?16:8),he(),ge({padding:5,fallbackPlacements:["bottom","top"]}),ye({element:u,padding:5})]}),M=Oe(y,{handleClose:_e(),restMs:25,delay:{open:1e3},move:!1}),T=xe(y),H=Ee(y),F=Pe(y,{role:"dialog"}),{getFloatingProps:C,getReferenceProps:N}=je([M,T,H,F]),L=Re(j.setReference,a),s={top:"bottom",right:"left",bottom:"top",left:"right"}[d.split("-")[0]];return i.createElement(i.Fragment,null,i.createElement("div",{className:"navds-timeline__pin-wrapper",style:{[r]:`${W(n,l,c)}%`}},i.createElement("button",Object.assign({},o,{ref:L,className:"navds-timeline__pin-button","aria-label":h("Pin.pin",{date:D(n,h("dateFormat"))}),type:"button","aria-expanded":t?f:void 0},N({onKeyDown:b=>{var x;(x=o==null?void 0:o.onKeyDown)===null||x===void 0||x.call(o,b),b.key==="Enter"?m(I=>!I):b.key===" "&&m(!1)}})))),t&&f&&i.createElement(De,{context:y,modal:!1,initialFocus:-1,returnFocus:!1},i.createElement("div",Object.assign({className:"navds-timeline__popover","data-placement":d,ref:j.setFloating},C(),{tabIndex:void 0,style:S}),t,O&&i.createElement("div",{ref:u,style:Object.assign(Object.assign(Object.assign({},w!=null?{left:w}:{}),g!=null?{top:g}:{}),s?{[s]:"-0.5rem"}:{}),className:"navds-timeline__popover-arrow"}))))});Ie.componentType="pin";const Me=p.createContext({periodId:"",firstFocus:!1}),Se=()=>{const e=p.useContext(Me);return e||console.warn("usePeriodContext must be used with PeriodContext"),e},Te=p.createContext({periods:[],id:"",active:!1,index:0}),te=()=>{const e=p.useContext(Te);return e||console.warn("useRowContext must be used with RowContext"),e},Ae=(e,a,n)=>$(`navds-timeline__period navds-timeline__period--${n}`,{"navds-timeline__period--connected-both":e==="both","navds-timeline__period--connected-right":e==="right"&&a==="left"||e==="left"&&a==="right","navds-timeline__period--connected-left":e==="left"&&a==="left"||e==="right"&&a==="right"}),Ne=(e,a,n,t,o)=>{const l=o("dateFormat"),c=D(e,l),r=D(a,l);return o("Period.period",{status:t||o(`Period.${n}`),start:c,end:r})},ut=i.memo(({onSelectPeriod:e,start:a,end:n,status:t,cropped:o,direction:l,left:c,width:r,icon:f,children:m,isActive:u,statusLabel:h,restProps:v,periodRef:O})=>{const[y,d]=p.useState(!1),{index:w}=te(),{firstFocus:g}=Se(),{initiate:j,addFocusable:S}=B(),M=p.useRef(null),T=k("Timeline"),F=!ve(!1),{context:C,placement:N,middlewareData:{arrow:{x:L,y:s}={}},refs:b,floatingStyles:x}=pe({placement:"top",open:y,onOpenChange:P=>d(P),whileElementsMounted:we,middleware:[be(F?16:8),he(),ge({padding:5,fallbackPlacements:["bottom","top"]}),ye({element:M,padding:5})]}),I=Oe(C,{handleClose:_e(),restMs:25,delay:{open:1e3},move:!1}),Y=xe(C),E=Ee(C),G=Pe(C,{role:"dialog"}),{getFloatingProps:R,getReferenceProps:Le}=je([I,Y,E,G]),$e=Re(b.setReference,O),le={top:"bottom",right:"left",bottom:"top",left:"right"}[N.split("-")[0]];return i.createElement(i.Fragment,null,i.createElement("button",Object.assign({},v,{type:"button",ref:P=>{g&&S(P,w),$e(P)},"aria-label":Ne(a,n,t,h,T),className:$("navds-timeline__period--clickable",Ae(o,l,t),v==null?void 0:v.className,{"navds-timeline__period--selected":u}),"aria-expanded":m?y:void 0,"aria-current":u||void 0},Le({onFocus:()=>{j(w)},onKeyDown:P=>{var A;(A=v==null?void 0:v.onKeydown)===null||A===void 0||A.call(v,P),P.key==="Enter"&&d(ke=>!ke),P.key===" "&&(e==null||e(P),d(!1))},style:{width:`${r}%`,[l]:`${c}%`},onClick:P=>{var A;(A=v==null?void 0:v.onClick)===null||A===void 0||A.call(v,P),P.detail!==0&&(e==null||e(P))}})),i.createElement("span",{className:"navds-timeline__period--inner"},f)),m&&y&&i.createElement(De,{context:C,modal:!1,initialFocus:-1,returnFocus:!1},i.createElement("div",Object.assign({className:"navds-timeline__popover","data-placement":N,ref:b.setFloating},R(),{style:x}),m,F&&i.createElement("div",{ref:M,style:Object.assign(Object.assign(Object.assign({},L!=null?{left:L}:{}),s!=null?{top:s}:{}),le?{[le]:"-0.5rem"}:{}),className:"navds-timeline__popover-arrow"}))))}),ft=({start:e,end:a,status:n,cropped:t,direction:o,left:l,width:c,icon:r,statusLabel:f,restProps:m,periodRef:u})=>{const h=k("Timeline");return i.createElement("div",Object.assign({ref:u},m,{className:$(Ae(t,o,n),m==null?void 0:m.className),style:{width:`${c}%`,[o]:`${l}%`}}),i.createElement("span",{className:"navds-timeline__period--inner"},r,i.createElement("span",{className:"sr-only"},Ne(e,a,n,f,h))))},ne=p.forwardRef(({icon:e},a)=>{const{periods:n}=te(),{periodId:t,restProps:o}=Se(),l=n.find(g=>g.id===t);if(!l)return i.createElement(i.Fragment,null);const{start:c,endInclusive:r,width:f,horizontalPosition:m,status:u="neutral",onSelectPeriod:h,cropped:v,direction:O,children:y,isActive:d,statusLabel:w}=l;return h||y?i.createElement(ut,{periodRef:a,start:c,end:r,status:u,onSelectPeriod:h,cropped:v||"",direction:O,width:f,left:m,icon:e,isActive:d,statusLabel:w,restProps:o},y):i.createElement(ft,{periodRef:a,start:c,end:r,status:u,cropped:v||"",direction:O,width:f,left:m,icon:e,statusLabel:w,restProps:o})});ne.componentType="period";var mt=function(e,a){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)a.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const oe=p.forwardRef((e,a)=>{var{label:n,className:t,headingTag:o="h3",icon:l}=e,c=mt(e,["label","className","headingTag","icon"]);const{periods:r,id:f,active:m}=te(),{setActiveRow:u}=B(),h=k("Timeline"),v=r.reduce((d,w)=>d.end>w.end?d:w,{}),O=r.reduce((d,w)=>d.end<w.end?d:w,{}),y=r.find(d=>!!d.children||!!d.onSelectPeriod);return i.createElement(i.Fragment,null,n&&i.createElement(Ke,{as:o,id:`timeline-row-${f}`,className:"navds-timeline__row-label",size:"small"},l,n),i.createElement("div",{className:$("navds-timeline__row",{"navds-timeline__row--active":m})},i.createElement("ol",Object.assign({},c,{tabIndex:-1,ref:a,"aria-label":r.length===0?h("Row.noPeriods"):h("Row.period",{start:D(O.start,h("dateFormat")),end:D(v.end,h("dateFormat"))}),className:$("navds-timeline__row-periods",t),onKeyDown:d=>{(d.key==="ArrowDown"||d.key==="ArrowUp")&&(d.preventDefault(),u(d.key))}}),r==null?void 0:r.map(d=>i.createElement("li",{key:`period-${d.id}`},i.createElement(Me.Provider,{value:{periodId:d.id,firstFocus:(y==null?void 0:y.id)===d.id,restProps:d==null?void 0:d.restProps}},i.createElement(ne,{start:d.start,end:d.endInclusive,icon:d.icon,ref:d==null?void 0:d.ref})))))))});oe.componentType="row";const vt=(e,a)=>e.horizontalPosition-a.horizontalPosition,pt=(e,a,n,t="left",o,l,c)=>{const r=e.start,f=e.end,m=o<l.length-1&&!Ue(l[o+1].start,f),{horizontalPosition:u,width:h}=V(K(r),q(m?K(fe(l[o+1].start,1)):f),a,n);return{id:`r-${c}-p-${o}`,start:r,endInclusive:f,horizontalPosition:u,direction:t,width:h,end:f,status:e.status,onSelectPeriod:e.onSelectPeriod,icon:e.icon,children:e.children,isActive:e.isActive,statusLabel:e.statusLabel}},bt=(e,a,n)=>{const t=a>0&&ie(e.start,n[a-1].endInclusive),o=a<n.length-1&&ie(n[a+1].start,e.endInclusive);return t&&o?Object.assign(Object.assign({},e),{cropped:"both"}):t?Object.assign(Object.assign({},e),{cropped:"left"}):o?Object.assign(Object.assign({},e),{cropped:"right"}):e},ht=e=>{let{horizontalPosition:a,width:n,cropped:t}=e;return a+n>100&&(n=100-a,t=t==="left"||t==="both"?"both":"right"),a<0&&a+n>0&&(n=a+n,a=0,t=t==="right"||t==="both"?"both":"left"),Object.assign(Object.assign({},e),{width:n,horizontalPosition:a,cropped:t})},gt=(e,a,n,t)=>p.useMemo(()=>e.map((o,l)=>{const c=o.periods.sort((r,f)=>r.start.valueOf()-f.start.valueOf()).map((r,f)=>Object.assign(Object.assign({},pt(r,a,n,t,f,o.periods,l)),{restProps:r==null?void 0:r.restProps,ref:r==null?void 0:r.ref})).sort(vt).map(bt).map(ht).filter(at);return{id:`tl-row-${l}`,label:o.label,headingTag:o.headingTag||"h3",icon:o.icon,periods:t==="left"?c:c.reverse(),restProps:o==null?void 0:o.restProps,ref:o==null?void 0:o.ref}}),[e,a,n,t]),yt=({startDate:e,rows:a})=>p.useMemo(()=>{if(e)return e;const n=a.flat().filter(o=>o.start).map(o=>o.start);return n.length===0?new Date:n.reduce((o,l)=>l<o?l:o)},[e,a]),wt=(e,a)=>a.end>e?a.end:e,Ot=e=>e.flat().reduce(wt,new Date(0)),ce=({endDate:e,rows:a})=>p.useMemo(()=>e||me(Ot(a),1),[e,a]),_t=e=>{const a=[];return e==null||e.forEach(n=>{var t,o,l,c,r,f,m,u,h,v,O,y;const d=[];if(i.isValidElement(n)&&(!((t=n==null?void 0:n.props)===null||t===void 0)&&t.children)){if(Array.isArray(n.props.children))for(let w=0;w<n.props.children.length;w++){const g=n.props.children[w];d.push({start:(o=g==null?void 0:g.props)===null||o===void 0?void 0:o.start,end:(l=g==null?void 0:g.props)===null||l===void 0?void 0:l.end,status:((c=g==null?void 0:g.props)===null||c===void 0?void 0:c.status)||"neutral",onSelectPeriod:(r=g.props)===null||r===void 0?void 0:r.onSelectPeriod,label:n.props.label,icon:g.props.icon,children:g.props.children,isActive:g.props.isActive,statusLabel:g.props.statusLabel,restProps:J(g.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:g==null?void 0:g.ref})}else d.push({start:n.props.children.props.start,end:n.props.children.props.end,status:((f=n.props.children.props)===null||f===void 0?void 0:f.status)||"neutral",onSelectPeriod:(m=n.props.children.props)===null||m===void 0?void 0:m.onSelectPeriod,label:n.props.label,icon:(u=n.props.children.props)===null||u===void 0?void 0:u.icon,children:(h=n.props.children.props)===null||h===void 0?void 0:h.children,statusLabel:(v=n.props.children.props)===null||v===void 0?void 0:v.statusLabel,restProps:J(n.props.children.props,["start","end","status","onSelectPeriod","label","icon","children","isActive","statusLabel"]),ref:(y=(O=n.props)===null||O===void 0?void 0:O.children)===null||y===void 0?void 0:y.ref});a.push({label:n.props.label,icon:n.props.icon,headingTag:n.props.headingTag,periods:d,restProps:J(n.props,["label","icon","headingTag"]),ref:n==null?void 0:n.ref})}}),a};var xt=function(e,a){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)a.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const Et=p.forwardRef((e,a)=>{var{label:n,interval:t,count:o}=e,l=xt(e,["label","interval","count"]);const{setStart:c,endDate:r,startDate:f,direction:m}=B(),u=k("Timeline"),h=u("dateFormat");let v;t==="month"?v=m==="left"?qe(r,o):Q(f,o):v=m==="left"?nt(r,o):Z(f,o);const O=m==="left"?U(f,v):U(r,v);return i.createElement(ue,{as:"li"},i.createElement("button",Object.assign({type:"button","aria-label":O?u("Zoom.reset"):u("Zoom.zoom",{start:D(v,h),end:D(r,h)}),ref:a},l,{className:"navds-timeline__zoom-button",onClick:()=>{c(v)},"aria-pressed":O}),n))});var Pt=function(e,a){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)a.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const ae=p.forwardRef((e,a)=>{var{className:n,children:t}=e,o=Pt(e,["className","children"]);return i.createElement("ul",Object.assign({ref:a,className:$(n,"navds-timeline__zoom")},o),t)});ae.Button=Et;ae.componentType="zoom";var jt=function(e,a){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)a.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};const X=p.forwardRef((e,a)=>{var{children:n,startDate:t,endDate:o,direction:l="left",axisLabelTemplates:c}=e,r=jt(e,["children","startDate","endDate","direction","axisLabelTemplates"]);const f=Array.isArray(n),m=p.useRef([]);f||(n=[n]);const u=i.Children.toArray(n).filter(s=>{var b;return((b=s==null?void 0:s.type)===null||b===void 0?void 0:b.componentType)==="row"}),h=i.Children.toArray(n).filter(s=>{var b;return((b=s==null?void 0:s.type)===null||b===void 0?void 0:b.componentType)==="pin"}).map(s=>()=>s),v=i.Children.toArray(n).find(s=>{var b;return((b=s==null?void 0:s.type)===null||b===void 0?void 0:b.componentType)==="zoom"}),O=p.useMemo(()=>_t(u),[u]),y=O.map(s=>s!=null&&s.periods?s.periods:[]),d=K(yt({startDate:t,rows:y})),[w,g]=p.useState(d),[j,S]=p.useState(null),[M,T]=p.useState(q(ce({endDate:o,rows:y}))),H=q(ce({endDate:o,rows:y})),F=gt(O,t??w,o??M,l),C=s=>{if(!(t||o))if(l==="left"){if(U(s,w)){g(d);return}g(s)}else{if(U(s,M)){T(H);return}T(s)}},N=s=>{var b,x,I,Y;if(j!==null&&s==="ArrowDown"){for(let E=j+1;E<F.length;E++)if(F[E].periods.find(R=>!!R.children||!!R.onSelectPeriod)){S(E),(x=(b=m.current.find(R=>R.id===E))===null||b===void 0?void 0:b.ref)===null||x===void 0||x.focus();break}return}if(j!==null&&s==="ArrowUp"){for(let E=j-1;E>=0;E--)if(F[E].periods.find(R=>!!R.children||!!R.onSelectPeriod)){S(E),(Y=(I=m.current.find(R=>R.id===E))===null||I===void 0?void 0:I.ref)===null||Y===void 0||Y.focus();break}return}},L=(s,b)=>{let x=m.current;x=x.filter(I=>I.id!==b),x.push({ref:s,id:b}),m.current=x};return i.createElement(Ce.Provider,{value:{startDate:t??w,endDate:o??M,direction:l,setStart:s=>C(s),setEndInclusive:s=>T(s),activeRow:j,setActiveRow:s=>N(s),initiate:s=>S(s),addFocusable:L}},i.createElement("div",Object.assign({},r,{ref:a}),i.createElement("div",{className:"navds-timeline"},i.createElement(ct,{templates:c}),h.map((s,b)=>i.createElement(s,{key:`pin-${b}`})),F.map((s,b)=>i.createElement(Te.Provider,{key:`row-${s.id}`,value:{periods:s.periods,id:s.id,active:j===b,index:b}},i.createElement(oe,Object.assign({},s==null?void 0:s.restProps,{ref:s==null?void 0:s.ref,label:s.label,icon:s.icon,headingTag:s.headingTag}))))),v))});X.Row=oe;X.Period=ne;X.Pin=Ie;X.Zoom=ae;export{Ct as S,X as T,It as a,Ft as b};
