import{a as N,j as e,B as x,H,N as Ve,t as ae,P as re,D as he,L as W,G as je,p as be,h as De}from"./index.es-bAYtWfR3.js";import{r as g}from"./index-DogsOklH.js";import{B as ve}from"./BehandlingContainer-yqZdFZI7.js";import{t as xe,V as ie,W as _e,Y as Ne,$ as Pe,a0 as J,a1 as Fe,f as oe,K as Z,O as le,c as Q,a as F,d as X,T as ee,n as Te,H as D,P as de,B as _,w as Se,Z as Re,I as qe,k as Ee,a2 as Le,r as Me,a3 as ne}from"./AppIndex.stories-hqElHSC3.js";import{F as d,L as ue,x as me,H as v,S as Be,f as Oe,h as Ae,g as u,a as ke,M as pe,B as S,C as Ce,c as Ke,T as Ue,$ as we}from"./index.es-RGXi7VaD.js";import{a as ce,P as ge,b as ye}from"./OverstyringPanel-lXC7CdLf.js";import{P as fe,u as Ye}from"./ProsessDefaultInitPanel-RLfbdYmQ.js";import{x as T,H as $e}from"./index.es-tCBKjOwM.js";import{I as Ge}from"./IverksetterVedtakStatusModal-qycO4Xup.js";import"./index-MroJ3egt.js";import"./BehandlingHenlagtPanel-520iYYuc.js";import"./useGlobalStateRestApiData-r44WP_jM.js";import"./bind-QtGvNzfd.js";import"./index.es--jWGEmvJ.js";import"./extends-dGVwEr9R.js";import"./iframe-AI1R1kT6.js";import"../sb-preview/runtime.js";import"./SettPaVentReadOnlyModal-YUW3RV76.js";import"./nb_NO-gZ1VBSkh.js";const b={INNVILGET:"INNV",DELVISTINNVILGET:"DELV",AVVIST:"AVVIST"},R={INN:"INN",UT:"UT",NOTAT:"N"},He="_checkboxCol_jtrmq_1",ze="_linkCol_jtrmq_5",We="_imageInn_jtrmq_9",Je="_imageSend_jtrmq_16",Ze="_imageIntern_jtrmq_22",Qe="_noDocuments_jtrmq_29",Xe="_hidden_jtrmq_35",en="_table_jtrmq_39",V={checkboxCol:He,linkCol:ze,imageInn:We,imageSend:Je,imageIntern:Ze,noDocuments:Qe,hidden:Xe,table:en},nn=(n,s)=>n.kommunikasjonsretning===R.INN?e.jsx(_e,{title:s.formatMessage({id:"DocumentListInnsyn.Motta"}),className:V.imageInn}):n.kommunikasjonsretning===R.UT?e.jsx(Ne,{title:s.formatMessage({id:"DocumentListInnsyn.Send"}),className:V.imageSend}):e.jsx(Pe,{title:s.formatMessage({id:"DocumentListInnsyn.Intern"}),className:V.imageIntern}),tn=()=>e.jsx("span",{className:V.hidden,children:"-"}),q=({documents:n,saksNr:s,readOnly:t})=>{const a=N();if(n.length===0)return e.jsx(x,{size:"small",className:V.noDocuments,children:e.jsx(d,{id:"DocumentListInnsyn.NoDocuments"})});const i=t?["DocumentListInnsyn.DocumentType"]:["DocumentListInnsyn.CheckBox","DocumentListInnsyn.Direction","DocumentListInnsyn.DocumentType","DocumentListInnsyn.DateTime"];return e.jsxs(e.Fragment,{children:[e.jsx(H,{size:"small",className:V.noDocuments,children:e.jsx(d,{id:"DocumentListInnsyn.VelgInnsynsDok"})}),e.jsx(ue,{headerTextCodes:i,children:n.map(r=>{const o=nn(r,a),l=parseInt(r.dokumentId,10);return e.jsxs(me,{id:l,children:[e.jsx(v,{className:V.checkboxCol,children:e.jsx(xe,{label:tn(),name:`dokument_${l}`,disabled:t})}),e.jsx(v,{hidden:t,children:o}),e.jsx(v,{className:V.linkCol,children:e.jsx("a",{href:ie(s,r.journalpostId,r.dokumentId),className:"lenke lenke--frittstaende",target:"_blank",rel:"noopener noreferrer",children:r.tittel})}),e.jsx(v,{hidden:t,children:r.tidspunkt?e.jsx(Be,{dateTimeString:r.tidspunkt}):e.jsx(x,{size:"small",children:e.jsx(d,{id:"DocumentListInnsyn.IProduksjon"})})})]},l)})})]})};q.defaultProps={readOnly:!1};try{q.displayName="DocumentListInnsyn",q.__docgenInfo={description:`DocumentListInnsyn

Presentasjonskomponent. Viser dokumenter i en liste med Checkbox for å velge til innsyn. Tar også inn en callback-funksjon som blir
trigget når saksbehandler velger et dokument. Finnes ingen dokumenter blir det kun vist en label
som viser at ingen dokumenter finnes på fagsak.`,displayName:"DocumentListInnsyn",props:{saksNr:{defaultValue:null,description:"",name:"saksNr",required:!0,type:{name:"string"}},documents:{defaultValue:null,description:"",name:"documents",required:!0,type:{name:"Readonly<{ journalpostId: string; dokumentId: string; behandlingUuidList?: string[] | undefined; tittel?: string | undefined; tidspunkt?: string | undefined; kommunikasjonsretning: string; gjelderFor?: string | undefined; }>[]"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}}}}}catch{}const A=({vedtaksdokumenter:n,behandlingTypes:s})=>{const[t,a]=g.useState(!1),i=g.useCallback(r=>{a(!t),r.preventDefault()},[t]);return n.length===0?e.jsx(d,{id:"DocumentListInnsyn.Vedtaksdokumentasjon",values:{numberOfDocuments:0}}):e.jsxs(e.Fragment,{children:[e.jsxs(J,{href:"#",onClick:i,children:[e.jsx(d,{id:"DocumentListInnsyn.Vedtaksdokumentasjon",values:{numberOfDocuments:n.length}}),t?e.jsx(Oe,{}):e.jsx(Ae,{})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx(u,{fourPx:!0}),e.jsx(ke,{children:n.map(r=>{var o;return e.jsxs(pe,{children:[e.jsx(S,{children:e.jsx(Ce,{dateString:r.opprettetDato})}),e.jsx(S,{children:e.jsx(J,{href:Fe(r.behandlingUuid),target:"_blank",children:((o=s.find(l=>l.kode===r.tittel))==null?void 0:o.navn)||"-"})})]},r.behandlingUuid)})})]})]})};try{A.displayName="VedtakDocuments",A.__docgenInfo={description:"",displayName:"VedtakDocuments",props:{behandlingTypes:{defaultValue:null,description:"",name:"behandlingTypes",required:!0,type:{name:"Readonly<{ kode: string; navn: string; kodeverk: string; }>[]"}},vedtaksdokumenter:{defaultValue:null,description:"",name:"vedtaksdokumenter",required:!0,type:{name:"Readonly<{ behandlingUuid: string; tittel: string; opprettetDato: string; }>[]"}}}}}catch{}const sn=[],an=n=>n.reduce((s,t)=>({[`dokument_${t.dokumentId}`]:t.fikkInnsyn,...s}),{}),rn=(n,s,t,a,i)=>({mottattDato:n,innsynResultatType:s||void 0,fristDato:i||Te().add(3,"days").format(Ve),sattPaVent:a[0].status===ce.OPPRETTET?void 0:!!i,...ge.buildInitialValues(a),...an(t||[])}),on=(n,s)=>s.map(t=>({dokumentId:t.dokumentId,journalpostId:t.journalpostId,fikkInnsyn:!!n[`dokument_${t.dokumentId}`]})),ln=n=>Object.keys(n).filter(s=>!s.startsWith("dokument_")).reduce((s,t)=>({...s,[t]:n[t]}),{}),dn=(n,s)=>({kode:D.VURDER_INNSYN,innsynDokumenter:on(n,s),...ln(n)}),un=n=>{const s=n.filter(t=>t.kommunikasjonsretning===R.INN);return n.forEach(t=>!s.some(a=>a.dokumentId===t.dokumentId)&&s.push(t)),s},C=({readOnly:n,readOnlySubmitButton:s,innsynMottattDato:t,alleKodeverk:a,vedtaksdokumentasjon:i,innsynResultatType:r,fristBehandlingPåVent:o,innsynDokumenter:l,alleDokumenter:m=[],aksjonspunkter:k,submitCallback:h,saksNr:y,formData:E,setFormData:L})=>{const c=N(),M=g.useMemo(()=>rn(t,r,l,k,o),[t,r,o,l,k]),j=oe({defaultValues:E||M}),B=g.useMemo(()=>un(m),[m]),P=g.useMemo(()=>a[Z.INNSYN_RESULTAT_TYPE].filter(I=>I.kode!=="-").sort((I,Ie)=>I.navn.localeCompare(Ie.navn)).reverse(),[a]),f=k[0].status===ce.OPPRETTET,p=j.watch("innsynResultatType"),z=j.watch("sattPaVent");return e.jsxs(le,{formMethods:j,onSubmit:I=>h(dn(I,m)),setDataOnUnmount:L,children:[e.jsx(H,{size:"small",children:e.jsx(d,{id:"InnsynForm.Innsynsbehandling"})}),e.jsx(u,{twentyPx:!0}),e.jsx(Ke,{isAksjonspunktOpen:f,children:[e.jsx(d,{id:"InnsynForm.VurderKravetOmInnsyn"},"1")]}),e.jsx(u,{twentyPx:!0}),e.jsx(Q,{name:"mottattDato",label:c.formatMessage({id:"InnsynForm.DatoMottattKrav"}),isReadOnly:n,isEdited:!f,validate:[F,X]}),e.jsx(u,{sixteenPx:!0}),e.jsx(A,{vedtaksdokumenter:i||sn,behandlingTypes:a[Z.BEHANDLING_TYPE]}),e.jsx(u,{twentyPx:!0}),e.jsx(q,{saksNr:y,documents:B,readOnly:n}),e.jsx(ge,{readOnly:n}),e.jsx(u,{sixteenPx:!0}),e.jsx(ee,{name:"innsynResultatType",label:e.jsx(d,{id:"InnsynForm.Resultat"}),validate:[F],isReadOnly:n,isHorizontal:!0,isEdited:!f,radios:P.map(I=>({value:I.kode,label:I.navn}))}),(p===b.INNVILGET||p===b.DELVISTINNVILGET)&&e.jsxs(e.Fragment,{children:[e.jsx(u,{eightPx:!0}),e.jsxs(Ue,{alignOffset:p===b.INNVILGET?28:176,children:[e.jsx(ee,{name:"sattPaVent",label:e.jsx(d,{id:"InnsynForm.VelgVidereAksjon"}),validate:[F],isReadOnly:n,isEdited:!f,isHorizontal:!0,isTrueOrFalseSelection:!0,radios:[{value:"true",label:c.formatMessage({id:"InnsynForm.SettBehandlingPåVent"})},{value:"false",label:c.formatMessage({id:"InnsynForm.ForeslåOgFatteVedtak"})}]}),z&&e.jsxs(e.Fragment,{children:[e.jsx(u,{eightPx:!0}),e.jsx(Q,{name:"fristDato",label:c.formatMessage({id:"InnsynForm.FristDato"}),isReadOnly:n,isEdited:!f,validate:[F,X]})]})]})]}),e.jsx(u,{sixteenPx:!0}),e.jsx(ye,{isReadOnly:n,isSubmittable:!s,isSubmitting:j.formState.isSubmitting,isDirty:j.formState.isDirty,text:z?c.formatMessage({id:"SubmitButton.SettPåVent"}):void 0})]})};try{C.displayName="InnsynForm",C.__docgenInfo={description:`InnsynForm

Viser panelet som håndterer avklaring av innsyn.`,displayName:"InnsynForm",props:{saksNr:{defaultValue:null,description:"",name:"saksNr",required:!0,type:{name:"string"}},fristBehandlingPåVent:{defaultValue:null,description:"",name:"fristBehandlingPåVent",required:!1,type:{name:"string"}},innsynMottattDato:{defaultValue:null,description:"",name:"innsynMottattDato",required:!0,type:{name:"string"}},innsynDokumenter:{defaultValue:null,description:"",name:"innsynDokumenter",required:!0,type:{name:"Readonly<{ journalpostId: string; dokumentId: string; fikkInnsyn: boolean; }>[]"}},innsynResultatType:{defaultValue:null,description:"",name:"innsynResultatType",required:!0,type:{name:"string"}},vedtaksdokumentasjon:{defaultValue:null,description:"",name:"vedtaksdokumentasjon",required:!0,type:{name:"Readonly<{ behandlingUuid: string; tittel: string; opprettetDato: string; }>[]"}},alleDokumenter:{defaultValue:{value:"[]"},description:"",name:"alleDokumenter",required:!1,type:{name:"Readonly<{ journalpostId: string; dokumentId: string; behandlingUuidList?: string[]; tittel?: string; tidspunkt?: string | undefined; kommunikasjonsretning: string; gjelderFor?: string | undefined; }>[] | undefined"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(data: VurderInnsynAp) => Promise<void>"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"FormValues"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: FormValues) => void"}}}}}catch{}const mn={"InnsynForm.Innsynsbehandling":"Innsynsbehandling","InnsynForm.VurderKravetOmInnsyn":"Følg manuelle rutiner for innsynsbehandling","InnsynForm.DatoMottattKrav":"Dato for mottatt krav om innsyn","InnsynForm.Resultat":"Resultat","InnsynForm.SettBehandlingPåVent":"Sett behandling på vent i påvente av skanning","InnsynForm.ForeslåOgFatteVedtak":"Foreslå og fatte vedtak","InnsynForm.VelgVidereAksjon":"Velg videre aksjon","InnsynForm.FristDato":"Behandling blir satt på vent med frist","DocumentListInnsyn.Direction":"Inn/ut","DocumentListInnsyn.DocumentType":"Dokument","DocumentListInnsyn.DateTime":"Sendt/mottatt","DocumentListInnsyn.CheckBox":" ","DocumentListInnsyn.NoDocuments":"Det finnes ingen dokumenter på saken","DocumentListInnsyn.Motta":"Inn","DocumentListInnsyn.Send":"Ut","DocumentListInnsyn.Intern":"Intern","DocumentListInnsyn.IProduksjon":"I produksjon","DocumentListInnsyn.VelgInnsynsDok":"Velg innsynsdokumentasjon til søker","DocumentListInnsyn.Vedtaksdokumentasjon":"Vedtaksdokumentasjon på saken ({numberOfDocuments})","DocumentListInnsyn.Empty":" ","Malform.Beskrivelse":"Foretrukket språk","SubmitButton.SettPåVent":"Sett behandling på vent"},kn=ae(mn),K=({behandling:n,innsyn:s,alleDokumenter:t,saksnummer:a,aksjonspunkter:i,submitCallback:r,isReadOnly:o,readOnlySubmitButton:l,alleKodeverk:m,formData:k,setFormData:h})=>e.jsxs(re,{value:kn,children:[!s&&e.jsx(we,{}),s&&e.jsx(C,{saksNr:a,fristBehandlingPåVent:n.fristBehandlingPåVent,innsynMottattDato:s.innsynMottattDato,innsynDokumenter:s.dokumenter,innsynResultatType:s.innsynResultatType,vedtaksdokumentasjon:s.vedtaksdokumentasjon,alleDokumenter:t,aksjonspunkter:i,alleKodeverk:m,submitCallback:r,readOnly:o,readOnlySubmitButton:l,formData:k,setFormData:h})]});try{K.displayName="InnsynProsessIndex",K.__docgenInfo={description:"",displayName:"InnsynProsessIndex",props:{innsyn:{defaultValue:null,description:"",name:"innsyn",required:!1,type:{name:"Readonly<{ innsynMottattDato: string; innsynResultatType: string; vedtaksdokumentasjon: Readonly<{ behandlingUuid: string; tittel: string; opprettetDato: string; }>[]; dokumenter: Readonly<...>[]; }>"}},alleDokumenter:{defaultValue:null,description:"",name:"alleDokumenter",required:!1,type:{name:"Readonly<{ journalpostId: string; dokumentId: string; behandlingUuidList?: string[]; tittel?: string; tidspunkt?: string | undefined; kommunikasjonsretning: string; gjelderFor?: string | undefined; }>[] | undefined"}},saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},vilkar:{defaultValue:null,description:"",name:"vilkar",required:!0,type:{name:"Readonly<{ vilkarType: string; vilkarStatus: string; avslagKode?: string | undefined; lovReferanse?: string | undefined; overstyrbar: boolean; }>[]"}},isAksjonspunktOpen:{defaultValue:null,description:"",name:"isAksjonspunktOpen",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const pn=[D.VURDER_INNSYN],cn=n=>[{key:_.INNSYN_DOKUMENTER,params:{saksnummer:n}},{key:_.INNSYN}],U=({fagsak:n,...s})=>e.jsx(fe,{...s,panelEndepunkter:cn(n.saksnummer),aksjonspunktKoder:pn,prosessPanelKode:de.BEHANDLE_INNSYN,prosessPanelMenyTekst:N().formatMessage({id:"Behandlingspunkt.Innsyn"}),skalPanelVisesIMeny:()=>!0,renderPanel:t=>e.jsx(K,{saksnummer:n.saksnummer,alleDokumenter:t.innsynDokumenter,...t})});try{U.displayName="BehandleInnsynProsessStegInitPanel",U.__docgenInfo={description:"",displayName:"BehandleInnsynProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; }>"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const gn="_checkboxCol_vtbic_1",yn="_linkCol_vtbic_5",fn="_image_vtbic_9",In="_noDocuments_vtbic_15",Vn="_hidden_vtbic_19",hn="_table_vtbic_23",O={checkboxCol:gn,linkCol:yn,image:fn,noDocuments:In,hidden:Vn,table:hn},jn=["DocumentListVedtakInnsyn.Dokument"],w=({documents:n,saksNr:s})=>n.length===0?e.jsx(x,{size:"small",className:O.noDocuments,children:e.jsx(d,{id:"DocumentListVedtakInnsyn.NoDocuments"})}):e.jsxs(e.Fragment,{children:[e.jsx(he,{className:O.noDocuments,children:e.jsx(d,{id:"DocumentListVedtakInnsyn.InnsynsDok"})}),e.jsx(ue,{noHover:!0,headerTextCodes:jn,children:n.map(t=>{const a=parseInt(t.dokumentId,10);return e.jsx(me,{id:a,children:e.jsx(v,{className:O.linkCol,children:e.jsx("a",{href:ie(s,t.journalpostId,t.dokumentId),className:"lenke lenke--frittstaende",target:"_blank",rel:"noopener noreferrer",children:t.tittel})})},a)})})]});try{w.displayName="DocumentListVedtakInnsyn",w.__docgenInfo={description:`DocumentListVedtakInnsyn

Presentasjonskomponent. Viser dokumenter  som er valgt til innsyn i en liste . Finnes ingen dokumenter blir det kun vist en label
som viser at ingen dokumenter finnes på fagsak.`,displayName:"DocumentListVedtakInnsyn",props:{saksNr:{defaultValue:null,description:"",name:"saksNr",required:!0,type:{name:"string"}},documents:{defaultValue:null,description:"",name:"documents",required:!0,type:{name:"({ fikkInnsyn: boolean; } & Readonly<{ journalpostId: string; dokumentId: string; behandlingUuidList?: string[] | undefined; tittel?: string | undefined; tidspunkt?: string | undefined; kommunikasjonsretning: string; gjelderFor?: string | undefined; }>)[]"}}}}}catch{}const bn="_wordwrap_1hm28_1",Dn={wordwrap:bn},vn=qe(1500),xn=Ee(3),_n=(n,s)=>t=>{t.preventDefault();const a={fritekst:s||" ",mottaker:"",dokumentMal:Le.INNSYN_SVAR,gjelderVedtak:!0};n(a)},Nn=n=>{const s=n.filter(t=>t.kommunikasjonsretning===R.INN);return n.forEach(t=>!s.some(a=>a.dokumentId===t.dokumentId)&&s.push(t)),s},Pn=(n,s)=>n.filter(t=>s.find(a=>a.dokumentId===t.dokumentId)).map(t=>{var a;return{...t,fikkInnsyn:((a=s.find(i=>i.dokumentId===t.dokumentId))==null?void 0:a.fikkInnsyn)||!1}}),Fn=n=>n===b.AVVIST?"InnsynVedtakForm.Avslatt":n===b.DELVISTINNVILGET?"InnsynVedtakForm.Delvis":"InnsynVedtakForm.Innvilget",Tn=(n,s)=>{var t;return{mottattDato:n,begrunnelse:(t=s.find(a=>a.definisjon===D.FORESLA_VEDTAK))==null?void 0:t.begrunnelse}},Sn=n=>({kode:D.FORESLA_VEDTAK,...n}),Y=({readOnly:n,previewCallback:s,saksNr:t,innsynMottattDato:a,aksjonspunkter:i,submitCallback:r,innsynResultatType:o,innsynDokumenter:l,sprakkode:m,alleDokumenter:k,formData:h,setFormData:y})=>{var f;const E=N(),L=g.useMemo(()=>Tn(a,i),[a,i]),c=oe({defaultValues:h||L}),M=g.useMemo(()=>Pn(Nn(k),l),[k,l]),j=(f=i.find(p=>p.definisjon===D.VURDER_INNSYN))==null?void 0:f.begrunnelse,B=c.watch("begrunnelse"),P=_n(s,B);return e.jsxs(le,{formMethods:c,onSubmit:p=>r(Sn(p)),setDataOnUnmount:y,children:[e.jsx(H,{size:"small",children:e.jsx(d,{id:n?"InnsynVedtakForm.Vedtak":"InnsynVedtakForm.ForslagVedtak"})}),e.jsx(u,{eightPx:!0}),e.jsx(W,{size:"small",children:e.jsx(d,{id:"InnsynVedtakForm.Resultat"})}),e.jsx(x,{size:"small",children:e.jsx(d,{id:Fn(o)})}),e.jsx(u,{eightPx:!0}),e.jsx(W,{size:"small",children:e.jsx(d,{id:"InnsynVedtakForm.Vurdering"})}),e.jsx(x,{size:"small",className:Dn.wordwrap,children:je(j)}),e.jsx(u,{twentyPx:!0}),o!==b.INNVILGET&&e.jsx(Se,{name:"begrunnelse",label:E.formatMessage({id:"InnsynVedtakForm.Fritekst"}),validate:[xn,vn,Re],maxLength:1500,readOnly:n,badges:[{type:"info",titleText:be(m)}]}),e.jsx(u,{twentyPx:!0}),o!==b.AVVIST&&e.jsx(w,{saksNr:t,documents:M.filter(p=>p.fikkInnsyn===!0)}),e.jsx(u,{twentyPx:!0}),e.jsx(ke,{children:e.jsxs(pe,{children:[!n&&e.jsx(S,{children:e.jsx(ye,{isReadOnly:n,isSubmittable:!0,isSubmitting:c.formState.isSubmitting,isDirty:c.formState.isDirty,hasEmptyRequiredFields:!1})}),e.jsx(S,{children:e.jsx("a",{onClick:P,onKeyDown:p=>p.key==="Enter"?P(p):null,className:"lenke lenke--frittstaende",target:"_blank",rel:"noopener noreferrer",role:"link",tabIndex:0,children:e.jsx(d,{id:n?"InnsynVedtakForm.VisVedtaksbrev":"InnsynVedtakForm.ForhåndsvisBrev"})})})]})})]})};try{Y.displayName="InnsynVedtakForm",Y.__docgenInfo={description:`InnsynVedtakForm

Presentasjonskomponent. Viser panelet som håndterer vedtaksforslag av innsyn.`,displayName:"InnsynVedtakForm",props:{sprakkode:{defaultValue:null,description:"",name:"sprakkode",required:!0,type:{name:"string"}},innsynDokumenter:{defaultValue:null,description:"",name:"innsynDokumenter",required:!0,type:{name:"Readonly<{ journalpostId: string; dokumentId: string; fikkInnsyn: boolean; }>[]"}},innsynMottattDato:{defaultValue:null,description:"",name:"innsynMottattDato",required:!0,type:{name:"string"}},innsynResultatType:{defaultValue:null,description:"",name:"innsynResultatType",required:!0,type:{name:"string"}},alleDokumenter:{defaultValue:null,description:"",name:"alleDokumenter",required:!0,type:{name:"Readonly<{ journalpostId: string; dokumentId: string; behandlingUuidList?: string[] | undefined; tittel?: string | undefined; tidspunkt?: string | undefined; kommunikasjonsretning: string; gjelderFor?: string | undefined; }>[]"}},saksNr:{defaultValue:null,description:"",name:"saksNr",required:!0,type:{name:"string"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(data: ForeslaVedtakAp) => Promise<void>"}},previewCallback:{defaultValue:null,description:"",name:"previewCallback",required:!0,type:{name:"(data: ForhandsvisData) => Promise<any>"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"FormValues"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: FormValues) => void"}}}}}catch{}const Rn={"InnsynVedtakForm.ForslagVedtak":"Forslag til vedtak","InnsynVedtakForm.Vedtak":"Vedtak","InnsynVedtakForm.Innvilget":"Krav om innsyn innvilget","InnsynVedtakForm.Delvis":"Krav om innsyn delvis innvilget","InnsynVedtakForm.Avslatt":"Krav om innsyn avslått","InnsynVedtakForm.Resultat":"Resultat","InnsynVedtakForm.Vurdering":"Vurdering","InnsynVedtakForm.Fritekst":"Fritekst i brev","InnsynVedtakForm.ForhåndsvisBrev":"Forhåndsvis brev","InnsynVedtakForm.VisVedtaksbrev":"Vis vedtaksbrev","DocumentListVedtakInnsyn.Dokument":"Dokument","DocumentListVedtakInnsyn.InnsynsDok":"Innsynsdokumentasjon til søker","DocumentListVedtakInnsyn.NoDocuments":"Det finnes ingen dokumenter på saken","Malform.Beskrivelse":"Foretrukket språk"},qn=ae(Rn),$=({behandling:n,innsyn:s,saksnummer:t,aksjonspunkter:a,alleDokumenter:i=[],submitCallback:r,previewCallback:o,isReadOnly:l,formData:m,setFormData:k})=>e.jsx(re,{value:qn,children:e.jsx(Y,{sprakkode:n.sprakkode,innsynDokumenter:s.dokumenter,innsynMottattDato:s.innsynMottattDato,innsynResultatType:s.innsynResultatType,alleDokumenter:i,saksNr:t,aksjonspunkter:a,submitCallback:r,previewCallback:o,readOnly:l,formData:m,setFormData:k})});try{$.displayName="VedtakInnsynProsessIndex",$.__docgenInfo={description:"",displayName:"VedtakInnsynProsessIndex",props:{innsyn:{defaultValue:null,description:"",name:"innsyn",required:!0,type:{name:"Readonly<{ innsynMottattDato: string; innsynResultatType: string; vedtaksdokumentasjon: Readonly<{ behandlingUuid: string; tittel: string; opprettetDato: string; }>[]; dokumenter: Readonly<{ ...; }>[]; }>"}},saksnummer:{defaultValue:null,description:"",name:"saksnummer",required:!0,type:{name:"string"}},alleDokumenter:{defaultValue:{value:"[]"},description:"",name:"alleDokumenter",required:!1,type:{name:"Readonly<{ journalpostId: string; dokumentId: string; behandlingUuidList?: string[]; tittel?: string; tidspunkt?: string | undefined; kommunikasjonsretning: string; gjelderFor?: string | undefined; }>[] | undefined"}},previewCallback:{defaultValue:null,description:"",name:"previewCallback",required:!0,type:{name:"(data: ForhandsvisData) => Promise<any>"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},alleKodeverk:{defaultValue:null,description:"",name:"alleKodeverk",required:!0,type:{name:"AlleKodeverk"}},alleMerknaderFraBeslutter:{defaultValue:null,description:"",name:"alleMerknaderFraBeslutter",required:!0,type:{name:"{ [key: string]: { notAccepted?: boolean | undefined; }; }"}},submitCallback:{defaultValue:null,description:"",name:"submitCallback",required:!0,type:{name:"(aksjonspunktData: any) => Promise<void>"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},isReadOnly:{defaultValue:null,description:"",name:"isReadOnly",required:!0,type:{name:"boolean"}},readOnlySubmitButton:{defaultValue:null,description:"",name:"readOnlySubmitButton",required:!0,type:{name:"boolean"}},aksjonspunkter:{defaultValue:null,description:"",name:"aksjonspunkter",required:!0,type:{name:"Readonly<{ definisjon: string; status: string; begrunnelse?: string | undefined; vilkarType?: string | undefined; toTrinnsBehandling?: boolean | undefined; toTrinnsBehandlingGodkjent?: boolean | undefined; ... 5 more ...; endretTidspunkt?: string | undefined; }>[]"}},vilkar:{defaultValue:null,description:"",name:"vilkar",required:!0,type:{name:"Readonly<{ vilkarType: string; vilkarStatus: string; avslagKode?: string | undefined; lovReferanse?: string | undefined; overstyrbar: boolean; }>[]"}},isAksjonspunktOpen:{defaultValue:null,description:"",name:"isAksjonspunktOpen",required:!0,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!1,type:{name:"any"}},setFormData:{defaultValue:null,description:"",name:"setFormData",required:!0,type:{name:"(data: any) => void"}}}}}catch{}const te=n=>{const{aksjonspunkt:s,behandlingsresultat:t}=n,a=s.some(i=>i.status===$e.OPPRETTET);return s.length===0||a?T.IKKE_VURDERT:(t==null?void 0:t.type)===ne.INNSYN_INNVILGET||(t==null?void 0:t.type)===ne.INNSYN_DELVIS_INNVILGET?T.OPPFYLT:T.IKKE_OPPFYLT},En=(n,s,t)=>a=>{const i={...a,behandlingUuid:t.uuid,fagsakYtelseType:s.fagsakYtelseType};return n(i).then(r=>De(r))},Ln=(n,s)=>()=>(s(!1),()=>{n(!0)}),Mn=[D.FORESLA_VEDTAK],Bn=n=>[{key:_.INNSYN},{key:_.INNSYN_DOKUMENTER,params:{saksnummer:n}}],G=({fagsak:n,opneSokeside:s,setSkalOppdatereEtterBekreftelseAvAp:t,...a})=>{const i=N(),[r,o]=g.useState(!1),l=Ln(o,t),m=Ye(),{startRequest:k}=Me.useRestApiRunner(_.PREVIEW_MESSAGE),h=g.useCallback(En(k,n,m.behandling),[m.behandling.versjon]);return e.jsx(fe,{...a,panelEndepunkter:Bn(n.saksnummer),aksjonspunktKoder:Mn,prosessPanelKode:de.VEDTAK,prosessPanelMenyTekst:i.formatMessage({id:"Behandlingspunkt.Vedtak"}),skalPanelVisesIMeny:()=>!0,hentOverstyrtStatus:()=>te(a.behandling),lagringSideEffekter:l,hentSkalMarkeresSomAktiv:()=>te(a.behandling)!==T.IKKE_VURDERT,renderPanel:y=>e.jsxs(e.Fragment,{children:[e.jsx(Ge,{visModal:r,lukkModal:()=>{o(!1),s()},behandlingsresultat:m.behandling.behandlingsresultat}),e.jsx($,{saksnummer:n.saksnummer,previewCallback:h,alleDokumenter:y==null?void 0:y.innsynDokumenter,...y})]})})};try{G.displayName="InnsynVedtakProsessStegInitPanel",G.__docgenInfo={description:"",displayName:"InnsynVedtakProsessStegInitPanel",props:{fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 10 more ...; notater: Saksnotat[]; }>"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!0,type:{name:"() => void"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!0,type:{name:"(skalHenteFagsak: boolean) => void"}},behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},registrerProsessPanel:{defaultValue:null,description:"",name:"registrerProsessPanel",required:!0,type:{name:"(data: ProsessPanelMenyData) => void"}}}}}catch{}const se=({behandling:n,fagsak:s,valgtProsessSteg:t,oppdaterProsessStegOgFaktaPanelIUrl:a,opneSokeside:i,setSkalOppdatereEtterBekreftelseAvAp:r})=>{const o=g.useCallback(l=>e.jsxs(e.Fragment,{children:[e.jsx(U,{...l,fagsak:s}),e.jsx(G,{...l,fagsak:s,opneSokeside:i,setSkalOppdatereEtterBekreftelseAvAp:r})]}),[s,i,r]);return e.jsx(ve,{behandling:n,valgtProsessSteg:t,oppdaterProsessStegOgFaktaPanelIUrl:a,hentProsessPaneler:o})};try{se.displayName="InnsynPaneler",se.__docgenInfo={description:"",displayName:"InnsynPaneler",props:{behandling:{defaultValue:null,description:"",name:"behandling",required:!0,type:{name:"Behandling"}},fagsak:{defaultValue:null,description:"",name:"fagsak",required:!0,type:{name:"Readonly<{ saksnummer: string; fagsakYtelseType: string; relasjonsRolleType: string; status: string; dekningsgrad: number; aktørId: string; harIkkeRegistrertAdresse: boolean; sakSkalTilInfotrygd: boolean; ... 10 more ...; notater: Saksnotat[]; }>"}},valgtProsessSteg:{defaultValue:null,description:"",name:"valgtProsessSteg",required:!1,type:{name:"string"}},oppdaterProsessStegOgFaktaPanelIUrl:{defaultValue:null,description:"",name:"oppdaterProsessStegOgFaktaPanelIUrl",required:!0,type:{name:"(punktnavn?: string | undefined, faktanavn?: string | undefined) => void"}},opneSokeside:{defaultValue:null,description:"",name:"opneSokeside",required:!0,type:{name:"() => void"}},setSkalOppdatereEtterBekreftelseAvAp:{defaultValue:null,description:"",name:"setSkalOppdatereEtterBekreftelseAvAp",required:!0,type:{name:"(skalHenteFagsak: boolean) => void"}}}}}catch{}export{se as default};
