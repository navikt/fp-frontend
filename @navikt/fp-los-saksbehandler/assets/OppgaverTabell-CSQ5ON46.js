import{j as s}from"./jsx-runtime-QvZ8i92b.js";import{r as o,R as u}from"./index-uubelm5h.js";import{u as N,c as S,L as P,f as J,H as pe,B as E,D as me,d as ve}from"./nb_NO-C4RkFlUy.js";import{T as fe}from"./useRestApiRunner-4HgzHe3f.js";import{c as z,R as ye,a as C,r as U}from"./fplosSaksbehandlerRestApi-ZC5gilpx.js";import{B as be}from"./BehandlingPollingTimoutModal-CapJIjrF.js";import{D as V,B as he}from"./index.es-Bk8hSli7.js";import{Z as ke}from"./index.es-UbZaQCW7.js";import"./aktivitetStatus-B1m96ipJ.js";import{K as je}from"./kodeverkTyper-CavWL6Ds.js";import{g as Oe}from"./kodeverkUtils-RGNAgZhp.js";import{P as xe,O as Te}from"./OppgaveHandlingerMenu-Bgo6LE-i.js";import{T as f}from"./Table-DEmoWMX5.js";import{H as Q,V as I}from"./VStack-Cn_RGqfq.js";import{B as W,u as Re,a as we,b as _e,c as Se,s as Ee,d as qe,e as Ie,o as Pe,f as Ce,g as Ae,h as Ne,i as Y}from"./Modal-BG2sORRw.js";import{u as Be,S as He}from"./Slot-CBut_XMV.js";import{u as De}from"./useControllableState-DfAzX_fN.js";import{c as ze}from"./composeEventHandlers-DeH74NdU.js";import{a as Ke,P as G}from"./index.es-DXmPf6Wl.js";import{u as Me,M as T}from"./Loader-CXblLYfE.js";import{S as $e}from"./ChevronRight-Dxl7riK3.js";var Fe=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)a.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t};const Le=o.forwardRef((n,a)=>{var{title:t,titleId:e}=n,r=Fe(n,["title","titleId"]);let i=N();return i=t?e||"title-"+i:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":i},r),t?o.createElement("title",{id:i},t):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.75 6c0-.69.56-1.25 1.25-1.25h12c.69 0 1.25.56 1.25 1.25v9c0 .69-.56 1.25-1.25 1.25H9a.75.75 0 0 0-.386.107L4.75 18.675zM6 3.25A2.75 2.75 0 0 0 3.25 6v14a.75.75 0 0 0 1.136.643l4.822-2.893H18A2.75 2.75 0 0 0 20.75 15V6A2.75 2.75 0 0 0 18 3.25zm3 6.5a.75.75 0 0 0 0 1.5h.01a.75.75 0 0 0 0-1.5zm2.25.75a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 0 1.5H12a.75.75 0 0 1-.75-.75M15 9.75a.75.75 0 0 0 0 1.5h.01a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))});var Ue=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)a.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t};const ee=o.forwardRef((n,a)=>{var{title:t,titleId:e}=n,r=Ue(n,["title","titleId"]);let i=N();return i=t?e||"title-"+i:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":i},r),t?o.createElement("title",{id:i},t):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.998 6.94a.75.75 0 0 1 .063 1.058l-8 9a.75.75 0 0 1-1.091.032l-5-5a.75.75 0 1 1 1.06-1.06l4.438 4.437 7.471-8.405A.75.75 0 0 1 19 6.939",clipRule:"evenodd"}))});var Ve=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)a.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t};const Ye=o.forwardRef((n,a)=>{var{title:t,titleId:e}=n,r=Ve(n,["title","titleId"]);let i=N();return i=t?e||"title-"+i:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":i},r),t?o.createElement("title",{id:i},t):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.53 5.97a.75.75 0 0 1 0 1.06L9.56 12l4.97 4.97a.75.75 0 1 1-1.06 1.06l-5.5-5.5a.75.75 0 0 1 0-1.06l5.5-5.5a.75.75 0 0 1 1.06 0",clipRule:"evenodd"}))});var Ge=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)a.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t};const ne=o.forwardRef((n,a)=>{var{title:t,titleId:e}=n,r=Ge(n,["title","titleId"]);let i=N();return i=t?e||"title-"+i:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":i},r),t?o.createElement("title",{id:i},t):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.25 3.5c0-.69.56-1.25 1.25-1.25H14a.75.75 0 0 1 .53.22l5 5c.141.14.22.331.22.53v8.5c0 .69-.56 1.25-1.25 1.25h-9c-.69 0-1.25-.56-1.25-1.25zm6.25 5.25c-.69 0-1.25-.56-1.25-1.25V3.75h-3.5v12.5h8.5v-7.5zm.25-3.94 2.44 2.44h-2.44zM6.502 7.75H5.75v12.5h8.5v-.748a.75.75 0 0 1 1.5 0v.998c0 .69-.56 1.25-1.25 1.25h-9c-.69 0-1.25-.56-1.25-1.25v-13c0-.69.56-1.25 1.25-1.25h1.002a.75.75 0 1 1 0 1.5",clipRule:"evenodd"}))});var Ze=function(n,a,t,e){function r(i){return i instanceof t?i:new t(function(p){p(i)})}return new(t||(t=Promise))(function(i,p){function v(l){try{g(e.next(l))}catch(m){p(m)}}function d(l){try{g(e.throw(l))}catch(m){p(m)}}function g(l){l.done?i(l.value):r(l.value).then(v,d)}g((e=e.apply(n,[])).next())})};function Xe(n){return Ze(this,void 0,void 0,function*(){try{yield navigator.clipboard.writeText(n)}catch{const e=`Kopier til utklippstavle: ${/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl"}+C, Enter`;window.prompt(e,n)}})}var Je=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)a.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t};const Qe=o.forwardRef((n,a)=>{var{className:t,copyText:e,text:r,activeText:i="Kopiert!",variant:p="neutral",size:v="medium",onActiveChange:d,icon:g,activeIcon:l,activeDuration:m=2e3,title:b="Kopier",activeTitle:y="Kopiert",iconPosition:j="left",onClick:O}=n,h=Je(n,["className","copyText","text","activeText","variant","size","onActiveChange","icon","activeIcon","activeDuration","title","activeTitle","iconPosition","onClick"]);const[k,c]=o.useState(!1),x=o.useRef();o.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]);const w=()=>{x.current&&clearTimeout(x.current),Xe(e),c(!0),d==null||d(!0),x.current=window.setTimeout(()=>{c(!1),d==null||d(!1)},m)},R=u.createElement("span",{className:"navds-copybutton__icon"},k?l??u.createElement(ee,{"aria-hidden":!!r,title:r?void 0:y}):g??u.createElement(ne,{"aria-hidden":!!r,title:r?void 0:b}));return u.createElement("button",Object.assign({ref:a,type:"button"},h,{"aria-live":"polite",className:S("navds-copybutton",t,`navds-copybutton--${v}`,`navds-copybutton--${p}`,{"navds-copybutton--icon-only":!r,"navds-copybutton--icon-right":j==="right","navds-copybutton--active":k}),onClick:ze(O,w)}),u.createElement("span",{className:"navds-copybutton__content"},j==="left"&&R,r&&(k?u.createElement(P,{as:"span",size:v==="medium"?"medium":"small","aria-live":"polite"},i):u.createElement(P,{as:"span",size:v==="medium"?"medium":"small","aria-live":"polite"},r)),j==="right"&&R))});var We=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)a.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t};const te=o.forwardRef((n,a)=>{var{children:t,as:e="button",selected:r=!1,className:i,page:p}=n,v=We(n,["children","as","selected","className","page"]);const d=Ke(!1);return u.createElement(W,Object.assign({as:e,variant:d?"tertiary-neutral":"tertiary","aria-current":r,"data-selected":r,ref:a,className:S("navds-pagination__item",i,{"navds-pagination__item--selected":r}),"data-page":p,page:p},e==="button"&&{type:"button"},v),t)});var en=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)a.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t};const nn=({page:n,count:a,boundaryCount:t=1,siblingCount:e=1})=>{var r,i;const p=(m,b)=>Array.from({length:b-m+1},(y,j)=>m+j);if(a<=(t+e)*2+3)return p(1,a);const v=p(1,t),d=p(a-t+1,a),g=Math.max(Math.min(n-e,a-t-e*2-1),t+2),l=g+e*2;return[...v,g-((r=v[v.length-1])!==null&&r!==void 0?r:0)===2?g-1:"ellipsis",...p(g,l),((i=d[0])!==null&&i!==void 0?i:a+1)-l===2?l+1:"ellipsis",...d]},re=o.forwardRef((n,a)=>{var{page:t,onPageChange:e,count:r,boundaryCount:i=1,siblingCount:p=1,className:v,size:d="medium",prevNextTexts:g=!1,srHeading:l,"aria-labelledby":m,renderItem:b=te}=n,y=en(n,["page","onPageChange","count","boundaryCount","siblingCount","className","size","prevNextTexts","srHeading","aria-labelledby","renderItem"]);const j=J(),O=Me("Pagination");return t<1?(console.error("page cannot be less than 1"),null):r<1?(console.error("count cannot be less than 1"),null):i<0?(console.error("boundaryCount cannot be less than 0"),null):p<0?(console.error("siblingCount cannot be less than 0"),null):u.createElement("nav",Object.assign({ref:a},y,{"aria-labelledby":l?S(j,m):m,className:S("navds-pagination",`navds-pagination--${d}`,v)}),l&&u.createElement(pe,{size:"xsmall",visuallyHidden:!0,as:l.tag,id:j},l.text),u.createElement("ul",{className:"navds-pagination__list"},u.createElement("li",null,u.createElement(b,{className:S("navds-pagination__prev-next",{"navds-pagination--invisible":t===1,"navds-pagination--prev-next--with-text":g}),disabled:t===1,onClick:()=>e==null?void 0:e(t-1),page:t-1,size:d,icon:u.createElement(Ye,Object.assign({},g?{"aria-hidden":!0}:{title:O("previous")}))},g&&O("previous"))),nn({page:t,count:r,siblingCount:p,boundaryCount:i}).map((h,k)=>{const c=Number(h);return Number.isNaN(c)?u.createElement("li",{className:"navds-pagination__ellipsis",key:`${h}${k}`},u.createElement(E,{size:d==="xsmall"?"small":d,as:"span"},"...")):u.createElement("li",{key:h},u.createElement(b,{onClick:()=>e==null?void 0:e(c),selected:t===c,page:c,size:d},c))}),u.createElement("li",null,u.createElement(b,{className:S("navds-pagination__prev-next",{"navds-pagination--invisible":t===r,"navds-pagination--prev-next--with-text":g}),disabled:t===r,onClick:()=>e==null?void 0:e(t+1),page:t+1,size:d,icon:u.createElement($e,Object.assign({},g?{"aria-hidden":!0}:{title:O("next")})),iconPosition:"right"},g&&O("next")))))});re.Item=te;var tn=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)a.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t};const rn=o.forwardRef((n,a)=>{var{children:t,className:e,arrow:r=!0,placement:i="top",open:p,defaultOpen:v=!1,onOpenChange:d,offset:g,content:l,delay:m=150,id:b,keys:y,maxChar:j=80,describesChild:O=!1}=n,h=tn(n,["children","className","arrow","placement","open","defaultOpen","onOpenChange","offset","content","delay","id","keys","maxChar","describesChild"]);const[k,c]=De({defaultValue:v,value:p,onChange:d}),x=o.useRef(null),w=Re(!1),R=w?w.ref.current:void 0,{x:q,y:B,strategy:se,context:H,placement:K,middlewareData:{arrow:{x:M,y:$}={},hide:{referenceHidden:ie}={}},refs:F}=we({placement:i,open:k,onOpenChange:_=>c(_),middleware:[Pe(g||(r?10:2)),Ce(),Ae({padding:5,fallbackPlacements:["bottom","top"]}),Ne({element:x,padding:5})],whileElementsMounted:w?(_,ge,ce)=>Y(_,ge,ce,{animationFrame:!0}):Y,strategy:w?"fixed":void 0}),{getReferenceProps:le,getFloatingProps:oe}=_e([Se(H,{handleClose:Ee(),restMs:m}),qe(H),Ie(H)]),L=J(b),ue=Be(a,F.setFloating);if(!t||(t==null?void 0:t.type)===u.Fragment||t===u.Fragment)return console.error("<Tooltip> children needs to be a single ReactElement and not: <React.Fragment/> | <></>"),null;(l==null?void 0:l.length)>j&&k&&console.warn(`Because of strict accessibility concers we encourage all Tooltips to have less than 80 characters. Can be overwritten with the maxChar-prop

Length:${l.length}
Tooltip-content: ${l}`);const de=O?k?{"aria-describedby":L}:{title:l}:{"aria-label":l};return u.createElement(u.Fragment,null,u.createElement(He,Object.assign({ref:F.setReference},le(),de,{"aria-keyshortcuts":y?y.join("+"):void 0}),t),u.createElement(xe,{rootElement:R,asChild:!0},k&&u.createElement("div",Object.assign({},oe(Object.assign(Object.assign({},h),{ref:ue,style:{position:se,top:B??0,left:q??0,visibility:ie?"hidden":"visible"},role:"tooltip",id:L,className:S("navds-tooltip","navds-detail navds-detail--small",e)})),{"data-side":K}),l,y&&u.createElement("span",{className:"navds-tooltip__keys","aria-hidden":!0},y.map(_=>u.createElement(me,{as:"kbd",key:_,className:"navds-tooltip__key"},_))),r&&u.createElement("div",{ref:_=>{x.current=_},className:"navds-tooltip__arrow",style:{left:M!=null?`${M}px`:"",top:$!=null?`${$}px`:"",right:"",bottom:"",[{top:"bottom",right:"left",bottom:"top",left:"right"}[K]]:"-3.5px"}}))))}),an="_isUnderBehandling_97n84_1",sn="_image_97n84_5",A={isUnderBehandling:an,image:sn},ln=n=>{const{flyttetReservasjon:a}=n;if(!a)return;const t=ke(a.tidspunkt);return s.jsxs(I,{gap:"2",children:[s.jsxs(I,{gap:"1",children:[s.jsx(P,{size:"small",children:s.jsx(T,{id:"OppgaverTabell.OverfortReservasjonHeader"})}),s.jsx(E,{size:"small",children:s.jsx(T,{id:"OppgaverTabell.OverfortReservasjonBody",values:{dato:t==null?void 0:t.date,tid:t==null?void 0:t.time,uid:a.uid,navn:a.navn}})})]}),s.jsxs(I,{gap:"1",children:[s.jsx(P,{size:"small",children:s.jsx(T,{id:"OppgaverTabell.OverfortReservasjonBegrunnelse"})}),s.jsx(E,{size:"small",children:a.begrunnelse})]})]})},on=({oppgave:n})=>{const a=o.useRef(null),[t,e]=o.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx(W,{ref:a,onClick:()=>e(!t),"aria-expanded":t,icon:s.jsx(Le,{className:A.image,"aria-hidden":!0}),variant:"tertiary-neutral"}),s.jsx(G,{open:t,onClose:()=>e(!1),anchorEl:a.current,children:s.jsx(G.Content,{children:ln(n.status)})})]})},ae=({oppgave:n,reserverOppgave:a,hentReserverteOppgaver:t})=>{const e=ve(),r=z.useGlobalStateRestApiData(ye.KODEVERK_LOS),[i,p]=o.useState(!0),v=o.useRef(null),d=o.useRef(null),g=o.useRef(null),l=(m,b)=>{var h,k,c;const y=(h=v.current)==null?void 0:h.contains(m.target),j=(k=d.current)==null?void 0:k.contains(m.target),O=(c=g.current)==null?void 0:c.contains(m.target);y||j||O||b&&a(b)};return s.jsxs(f.Row,{onMouseDown:i?m=>l(m,n):void 0,onKeyDown:i?m=>l(m,n):void 0,className:n.underBehandling?A.isUnderBehandling:void 0,children:[s.jsx(f.DataCell,{children:n.navn?`${n.navn} ${n.personnummer}`:"<navn>"}),s.jsx(f.DataCell,{children:s.jsxs(Q,{gap:"1",align:"center",ref:g,children:[s.jsx(E,{children:n.saksnummer}),s.jsx(rn,{content:e.formatMessage({id:"OppgaverTabell.Saksnr"}),children:s.jsx(Qe,{activeIcon:s.jsx(ee,{className:A.image,"aria-hidden":!0}),copyText:n.saksnummer.toString(),icon:s.jsx(ne,{"aria-hidden":!0,className:A.image})})})]})}),s.jsx(f.DataCell,{children:Oe(r,je.BEHANDLING_TYPE,n.behandlingstype)}),s.jsx(f.DataCell,{children:n.opprettetTidspunkt&&s.jsx(V,{dateString:n.opprettetTidspunkt})}),s.jsx(f.DataCell,{children:n.behandlingsfrist&&s.jsx(V,{dateString:n.behandlingsfrist})}),s.jsx(f.DataCell,{children:n.reservertTilTidspunkt&&s.jsx(he,{dateTimeString:n.reservertTilTidspunkt,separator:"kl"})}),s.jsx(f.DataCell,{children:n.status.flyttetReservasjon&&s.jsx("div",{ref:d,children:s.jsx(on,{oppgave:n})})}),s.jsx(f.DataCell,{children:n.underBehandling&&s.jsx("div",{ref:v,children:s.jsx(Te,{oppgave:n,hentReserverteOppgaver:t,setEnableTableEvents:p})})})]},n.id)};ae.__docgenInfo={description:"",methods:[],displayName:"OppgaveRad",props:{oppgave:{required:!0,tsType:{name:"intersection",raw:`Oppgave & {
  underBehandling: boolean;
  reservertTilTidspunkt: string | undefined;
}`,elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  id: number;
  status: OppgaveStatus;
  saksnummer: number;
  personnummer: string;
  navn: string;
  system: string;
  behandlingstype: string;
  behandlingStatus: string;
  opprettetTidspunkt: string;
  behandlingsfrist: string;
  fagsakYtelseType: string;
  erTilSaksbehandling: boolean;
  behandlingId: string;
}`,signature:{properties:[{key:"id",value:{name:"number",required:!0}},{key:"status",value:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  erReservert: boolean;
  reservertTilTidspunkt?: string;
  erReservertAvInnloggetBruker?: boolean;
  reservertAvUid?: string;
  reservertAvNavn?: string;
  flyttetReservasjon?: {
    tidspunkt: string;
    uid: string;
    navn: string;
    begrunnelse: string;
  };
}`,signature:{properties:[{key:"erReservert",value:{name:"boolean",required:!0}},{key:"reservertTilTidspunkt",value:{name:"string",required:!1}},{key:"erReservertAvInnloggetBruker",value:{name:"boolean",required:!1}},{key:"reservertAvUid",value:{name:"string",required:!1}},{key:"reservertAvNavn",value:{name:"string",required:!1}},{key:"flyttetReservasjon",value:{name:"signature",type:"object",raw:`{
  tidspunkt: string;
  uid: string;
  navn: string;
  begrunnelse: string;
}`,signature:{properties:[{key:"tidspunkt",value:{name:"string",required:!0}},{key:"uid",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"begrunnelse",value:{name:"string",required:!0}}]},required:!1}}]}}],raw:`Readonly<{
  erReservert: boolean;
  reservertTilTidspunkt?: string;
  erReservertAvInnloggetBruker?: boolean;
  reservertAvUid?: string;
  reservertAvNavn?: string;
  flyttetReservasjon?: {
    tidspunkt: string;
    uid: string;
    navn: string;
    begrunnelse: string;
  };
}>`,required:!0}},{key:"saksnummer",value:{name:"number",required:!0}},{key:"personnummer",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"system",value:{name:"string",required:!0}},{key:"behandlingstype",value:{name:"string",required:!0}},{key:"behandlingStatus",value:{name:"string",required:!0}},{key:"opprettetTidspunkt",value:{name:"string",required:!0}},{key:"behandlingsfrist",value:{name:"string",required:!0}},{key:"fagsakYtelseType",value:{name:"string",required:!0}},{key:"erTilSaksbehandling",value:{name:"boolean",required:!0}},{key:"behandlingId",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  id: number;
  status: OppgaveStatus;
  saksnummer: number;
  personnummer: string;
  navn: string;
  system: string;
  behandlingstype: string;
  behandlingStatus: string;
  opprettetTidspunkt: string;
  behandlingsfrist: string;
  fagsakYtelseType: string;
  erTilSaksbehandling: boolean;
  behandlingId: string;
}>`},{name:"signature",type:"object",raw:`{
  underBehandling: boolean;
  reservertTilTidspunkt: string | undefined;
}`,signature:{properties:[{key:"underBehandling",value:{name:"boolean",required:!0}},{key:"reservertTilTidspunkt",value:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}],required:!0}}]}}]},description:""},reserverOppgave:{required:!0,tsType:{name:"signature",type:"function",raw:"(oppgave: Oppgave) => void",signature:{arguments:[{type:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  id: number;
  status: OppgaveStatus;
  saksnummer: number;
  personnummer: string;
  navn: string;
  system: string;
  behandlingstype: string;
  behandlingStatus: string;
  opprettetTidspunkt: string;
  behandlingsfrist: string;
  fagsakYtelseType: string;
  erTilSaksbehandling: boolean;
  behandlingId: string;
}`,signature:{properties:[{key:"id",value:{name:"number",required:!0}},{key:"status",value:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  erReservert: boolean;
  reservertTilTidspunkt?: string;
  erReservertAvInnloggetBruker?: boolean;
  reservertAvUid?: string;
  reservertAvNavn?: string;
  flyttetReservasjon?: {
    tidspunkt: string;
    uid: string;
    navn: string;
    begrunnelse: string;
  };
}`,signature:{properties:[{key:"erReservert",value:{name:"boolean",required:!0}},{key:"reservertTilTidspunkt",value:{name:"string",required:!1}},{key:"erReservertAvInnloggetBruker",value:{name:"boolean",required:!1}},{key:"reservertAvUid",value:{name:"string",required:!1}},{key:"reservertAvNavn",value:{name:"string",required:!1}},{key:"flyttetReservasjon",value:{name:"signature",type:"object",raw:`{
  tidspunkt: string;
  uid: string;
  navn: string;
  begrunnelse: string;
}`,signature:{properties:[{key:"tidspunkt",value:{name:"string",required:!0}},{key:"uid",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"begrunnelse",value:{name:"string",required:!0}}]},required:!1}}]}}],raw:`Readonly<{
  erReservert: boolean;
  reservertTilTidspunkt?: string;
  erReservertAvInnloggetBruker?: boolean;
  reservertAvUid?: string;
  reservertAvNavn?: string;
  flyttetReservasjon?: {
    tidspunkt: string;
    uid: string;
    navn: string;
    begrunnelse: string;
  };
}>`,required:!0}},{key:"saksnummer",value:{name:"number",required:!0}},{key:"personnummer",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"system",value:{name:"string",required:!0}},{key:"behandlingstype",value:{name:"string",required:!0}},{key:"behandlingStatus",value:{name:"string",required:!0}},{key:"opprettetTidspunkt",value:{name:"string",required:!0}},{key:"behandlingsfrist",value:{name:"string",required:!0}},{key:"fagsakYtelseType",value:{name:"string",required:!0}},{key:"erTilSaksbehandling",value:{name:"boolean",required:!0}},{key:"behandlingId",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  id: number;
  status: OppgaveStatus;
  saksnummer: number;
  personnummer: string;
  navn: string;
  system: string;
  behandlingstype: string;
  behandlingStatus: string;
  opprettetTidspunkt: string;
  behandlingsfrist: string;
  fagsakYtelseType: string;
  erTilSaksbehandling: boolean;
  behandlingId: string;
}>`},name:"oppgave"}],return:{name:"void"}}},description:""},hentReserverteOppgaver:{required:!0,tsType:{name:"signature",type:"function",raw:"(params?: void, keepData?: boolean) => void",signature:{arguments:[{type:{name:"void"},name:"params"},{type:{name:"boolean"},name:"keepData"}],return:{name:"void"}}},description:""}}};const un="_grayout_kabbl_1",dn="_headerPadding_kabbl_5",gn="_tabell_kabbl_9",D={grayout:un,headerPadding:dn,tabell:gn},cn=!1,Z=[],X=(n,a,t)=>t==="reservertTilTidspunkt"&&n.underBehandling&&!a.underBehandling||!n.underBehandling&&a.underBehandling?1:a[t]===void 0||n[t]===void 0||a[t]<n[t]?-1:a[t]>n[t]?1:0,pn=n=>(a,t)=>n?n.direction==="ascending"?X(t,a,n.orderBy):X(a,t,n.orderBy):1,mn=(n,a)=>{const t=n.filter(r=>!a.some(i=>i.id===r.id)).map(r=>({...r,underBehandling:!0,reservertTilTidspunkt:r.status.reservertTilTidspunkt})),e=a.map(r=>({...r,underBehandling:!1,reservertTilTidspunkt:void 0}));return t.concat(e.slice(0,3))},vn=({reserverOppgave:n,antallOppgaver:a=0,valgtSakslisteId:t})=>{const[e,r]=o.useState(1),i=15,{startRequest:p,data:v=Z}=z.useRestApiRunner(C.RESERVERTE_OPPGAVER),{startRequest:d,data:g=Z,error:l}=z.useRestApiRunner(C.OPPGAVER_TIL_BEHANDLING),m=(c,x,w)=>{p(void 0,!0),d(w?{sakslisteId:x,oppgaveIder:w}:{sakslisteId:x},c).then(R=>!R||typeof R=="string"||cn?Promise.resolve():m(!0,x,R.map(q=>q.id).join(","))).catch(R=>console.log(R))};o.useEffect(()=>{U.cancelRequest(C.OPPGAVER_TIL_BEHANDLING.name),m(!1,t)},[t]),o.useEffect(()=>()=>{U.cancelRequest(C.OPPGAVER_TIL_BEHANDLING.name)},[]);const b=mn(v,g),[y,j]=o.useState({orderBy:"reservertTilTidspunkt",direction:"ascending"}),O=c=>{j(y&&c===y.orderBy&&y.direction==="descending"?void 0:{orderBy:c,direction:y&&c===y.orderBy&&y.direction==="ascending"?"descending":"ascending"})},h=b.slice().sort(pn(y)),k=h.length>i?h.slice((e-1)*i,e*i):h;return s.jsxs("div",{className:D.tabell,children:[l instanceof fe&&s.jsx(be,{}),s.jsxs(I,{gap:"2",className:D.headerPadding,children:[s.jsxs(Q,{gap:"2",children:[s.jsx(P,{size:"small",children:s.jsx(T,{id:"OppgaverTabell.DineNesteSaker"})}),s.jsx(E,{size:"small",className:D.grayout,children:s.jsx(T,{id:"OppgaverTabell.DineNesteSakerAntall",values:{totaltAntall:a,reservertAntall:v.length}})})]}),b.length===0&&s.jsx(E,{size:"small",children:s.jsx(T,{id:"OppgaverTabell.IngenOppgaver",values:{i:c=>s.jsx("i",{children:c})}})})]}),b.length>0&&s.jsxs(I,{gap:"4",children:[s.jsxs(f,{size:"small",sort:y,onSortChange:c=>O(c),children:[s.jsx(f.Header,{children:s.jsxs(f.Row,{children:[s.jsx(f.ColumnHeader,{sortKey:"navn",sortable:!0,children:s.jsx(T,{id:"OppgaverTabell.Soker"})}),s.jsx(f.ColumnHeader,{sortKey:"saksnummer",sortable:!0,children:s.jsx(T,{id:"OppgaverTabell.Sak"})}),s.jsx(f.ColumnHeader,{sortKey:"behandlingstype",sortable:!0,children:s.jsx(T,{id:"OppgaverTabell.Behandlingstype"})}),s.jsx(f.ColumnHeader,{sortKey:"opprettetTidspunkt",sortable:!0,children:s.jsx(T,{id:"OppgaverTabell.BehandlingOpprettet"})}),s.jsx(f.ColumnHeader,{sortKey:"behandlingsfrist",sortable:!0,children:s.jsx(T,{id:"OppgaverTabell.FristForBehandling"})}),s.jsx(f.ColumnHeader,{sortKey:"reservertTilTidspunkt",sortable:!0,children:s.jsx(T,{id:"OppgaverTabell.ReservertTilTidspunkt"})}),s.jsx(f.ColumnHeader,{}),s.jsx(f.ColumnHeader,{})]})}),s.jsx(f.Body,{children:k.map(c=>s.jsx(ae,{oppgave:c,hentReserverteOppgaver:p,reserverOppgave:n},c.id))})]}),h.length>i&&s.jsx(re,{page:e,onPageChange:r,count:Math.ceil(h.length/i),size:"small",prevNextTexts:!0})]})]})};vn.__docgenInfo={description:"",methods:[],displayName:"OppgaverTabell",props:{reserverOppgave:{required:!0,tsType:{name:"signature",type:"function",raw:"(oppgave: Oppgave) => void",signature:{arguments:[{type:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  id: number;
  status: OppgaveStatus;
  saksnummer: number;
  personnummer: string;
  navn: string;
  system: string;
  behandlingstype: string;
  behandlingStatus: string;
  opprettetTidspunkt: string;
  behandlingsfrist: string;
  fagsakYtelseType: string;
  erTilSaksbehandling: boolean;
  behandlingId: string;
}`,signature:{properties:[{key:"id",value:{name:"number",required:!0}},{key:"status",value:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  erReservert: boolean;
  reservertTilTidspunkt?: string;
  erReservertAvInnloggetBruker?: boolean;
  reservertAvUid?: string;
  reservertAvNavn?: string;
  flyttetReservasjon?: {
    tidspunkt: string;
    uid: string;
    navn: string;
    begrunnelse: string;
  };
}`,signature:{properties:[{key:"erReservert",value:{name:"boolean",required:!0}},{key:"reservertTilTidspunkt",value:{name:"string",required:!1}},{key:"erReservertAvInnloggetBruker",value:{name:"boolean",required:!1}},{key:"reservertAvUid",value:{name:"string",required:!1}},{key:"reservertAvNavn",value:{name:"string",required:!1}},{key:"flyttetReservasjon",value:{name:"signature",type:"object",raw:`{
  tidspunkt: string;
  uid: string;
  navn: string;
  begrunnelse: string;
}`,signature:{properties:[{key:"tidspunkt",value:{name:"string",required:!0}},{key:"uid",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"begrunnelse",value:{name:"string",required:!0}}]},required:!1}}]}}],raw:`Readonly<{
  erReservert: boolean;
  reservertTilTidspunkt?: string;
  erReservertAvInnloggetBruker?: boolean;
  reservertAvUid?: string;
  reservertAvNavn?: string;
  flyttetReservasjon?: {
    tidspunkt: string;
    uid: string;
    navn: string;
    begrunnelse: string;
  };
}>`,required:!0}},{key:"saksnummer",value:{name:"number",required:!0}},{key:"personnummer",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"system",value:{name:"string",required:!0}},{key:"behandlingstype",value:{name:"string",required:!0}},{key:"behandlingStatus",value:{name:"string",required:!0}},{key:"opprettetTidspunkt",value:{name:"string",required:!0}},{key:"behandlingsfrist",value:{name:"string",required:!0}},{key:"fagsakYtelseType",value:{name:"string",required:!0}},{key:"erTilSaksbehandling",value:{name:"boolean",required:!0}},{key:"behandlingId",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  id: number;
  status: OppgaveStatus;
  saksnummer: number;
  personnummer: string;
  navn: string;
  system: string;
  behandlingstype: string;
  behandlingStatus: string;
  opprettetTidspunkt: string;
  behandlingsfrist: string;
  fagsakYtelseType: string;
  erTilSaksbehandling: boolean;
  behandlingId: string;
}>`},name:"oppgave"}],return:{name:"void"}}},description:""},antallOppgaver:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""}}};export{vn as O};
