import{j as c}from"./jsx-runtime-QvZ8i92b.js";import{u as J,k as R,h as Q,j as g,l as U,n as Y,p as Z,L as D,B as A,o as ee,q as re,E as q,d as ae,e as te,$ as ne,w as le}from"./nb_NO-3Rkd6eZ_.js";import{c as z}from"./index.es-BNbbWCfQ.js";import{V as se,H as M}from"./VStack-XUoC8Lli.js";import{r as u,R as l}from"./index-uubelm5h.js";import{S as ie}from"./ExclamationmarkTriangleFill-B63PjGaY.js";var oe=function(r,n){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&n.indexOf(e)<0&&(t[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(r);a<e.length;a++)n.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(t[e[a]]=r[e[a]]);return t};const F=u.forwardRef((r,n)=>{var{title:t,titleId:e}=r,a=oe(r,["title","titleId"]);let s=J();return s=t?e||"title-"+s:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:n,"aria-labelledby":s},a),t?u.createElement("title",{id:s},t):null,u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.5 3.25a7.25 7.25 0 1 0 4.569 12.88l5.411 5.41a.75.75 0 1 0 1.06-1.06l-5.41-5.411A7.25 7.25 0 0 0 10.5 3.25M4.75 10.5a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0",clipRule:"evenodd"}))}),V=u.createContext(null);var de=function(r,n){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&n.indexOf(e)<0&&(t[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(r);a<e.length;a++)n.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(t[e[a]]=r[e[a]]);return t};const $=u.forwardRef((r,n)=>{var t,{className:e,children:a,disabled:s,onClick:m}=r,p=de(r,["className","children","disabled","onClick"]);const h=R("Search"),d=u.useContext(V);if(d===null)return console.warn("<Search.Button> has to be wrapped in <Search />"),null;const{size:f,variant:b,handleClick:i}=d;return l.createElement(Q,Object.assign({type:"submit"},p,{ref:n,size:f,variant:b==="secondary"?"secondary":"primary",className:g("navds-search__button-search",e),disabled:(t=d==null?void 0:d.disabled)!==null&&t!==void 0?t:s,onClick:U(m,i),icon:l.createElement(F,Object.assign({},a?{"aria-hidden":!0}:{title:h("search")}))}),a)});var ce=function(r,n){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&n.indexOf(e)<0&&(t[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(r);a<e.length;a++)n.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(t[e[a]]=r[e[a]]);return t};const I=u.forwardRef((r,n)=>{const{inputProps:t,size:e="medium",inputDescriptionId:a,errorId:s,showErrorMsg:m,hasError:p}=Y(r,"searchfield"),{className:h,hideLabel:d=!0,label:f,description:b,value:i,clearButtonLabel:L,onClear:_,clearButton:T=!0,children:N,variant:y="primary",defaultValue:S,onChange:k,onSearchClick:w,htmlSize:x}=r,W=ce(r,["className","hideLabel","label","description","value","clearButtonLabel","onClear","clearButton","children","variant","defaultValue","onChange","onSearchClick","htmlSize"]),O=u.useRef(null),H=Z(O,n),G=R("Search"),[E,K]=u.useState(S??""),B=o=>{i===void 0&&K(o),k==null||k(o)},P=o=>{var v,j;_==null||_(o),B(""),(j=(v=O.current)===null||v===void 0?void 0:v.focus)===null||j===void 0||j.call(v)},X=()=>{w==null||w(`${i??E}`)};return l.createElement("div",{onKeyDown:o=>{var v;o.key==="Escape"&&(!((v=O.current)===null||v===void 0)&&v.value&&o.preventDefault(),P({trigger:"Escape",event:o}))},className:g(h,"navds-form-field",`navds-form-field--${e}`,"navds-search",{"navds-search--error":p,"navds-search--disabled":t.disabled,"navds-search--with-size":x})},l.createElement(D,{htmlFor:t.id,size:e,className:g("navds-form-field__label",{"navds-sr-only":d})},f),!!b&&l.createElement(A,{className:g("navds-form-field__description",{"navds-sr-only":d}),id:a,size:e,as:"div"},b),l.createElement("div",{className:"navds-search__wrapper"},l.createElement("div",{className:"navds-search__wrapper-inner"},y==="simple"&&l.createElement(F,{"aria-hidden":!0,className:"navds-search__search-icon"}),l.createElement("input",Object.assign({ref:H},ee(W,["error","errorId","size","readOnly"]),t,{value:i??E,onChange:o=>B(o.target.value),type:"search",className:g(h,"navds-search__input",`navds-search__input--${y}`,"navds-text-field__input","navds-body-short",`navds-body-short--${e}`)},x?{size:Number(x)}:{})),(i??E)&&T&&l.createElement("button",{type:"button",onClick:o=>P({trigger:"Click",event:o}),className:"navds-search__button-clear"},l.createElement("span",{className:"navds-sr-only"},L||G("clear")),l.createElement(re,{"aria-hidden":!0}))),l.createElement(V.Provider,{value:{size:e,disabled:t.disabled,variant:y,handleClick:X}},N||y!=="simple"&&l.createElement($,null))),l.createElement("div",{className:"navds-form-field__error",id:s,"aria-relevant":"additions removals","aria-live":"polite"},m&&l.createElement(q,{size:e},r.error)))});I.Button=$;const ue="_searchWidth_108wd_1",me="_checkbox_108wd_5",ve="_advarselIcon_108wd_9",C={searchWidth:ue,checkbox:me,advarselIcon:ve},fe=({onSubmit:r,searchResultAccessDenied:n,searchStarted:t,resetSearch:e,kanSaksbehandle:a})=>{const s=ae(),m=te(),p=m.watch("searchString"),h=m.watch("skalReservere"),d=z(p);return c.jsx(ne,{formMethods:m,children:c.jsxs(se,{gap:"4",children:[c.jsxs(M,{gap:"4",align:"end",children:[c.jsx("div",{className:C.searchWidth,children:c.jsx(I,{label:s.formatMessage({id:"Search.Search"}),description:s.formatMessage({id:"Search.SaksnummerOrPersonId"}),hideLabel:!1,variant:"primary",onSearchClick:f=>{m.setValue("searchString",f),z(f)===null&&r({searchString:f,skalReservere:h})},children:c.jsx(I.Button,{type:"button",loading:!(n!=null&&n.feilmelding)&&t})})}),a&&c.jsx(le,{name:"skalReservere",label:s.formatMessage({id:"Search.ReserverBehandling"}),onClick:e,className:C.checkbox})]}),d&&c.jsx(q,{children:d}),(n==null?void 0:n.feilmelding)&&c.jsxs(M,{gap:"2",children:[c.jsx(ie,{className:C.advarselIcon}),n.feilmelding]})]})})};fe.__docgenInfo={description:`SøkForm

Definerer søkefelt og tilhørende søkeknapp.`,methods:[],displayName:"SøkForm",props:{onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(values: { searchString: string; skalReservere: boolean }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ searchString: string; skalReservere: boolean }",signature:{properties:[{key:"searchString",value:{name:"string",required:!0}},{key:"skalReservere",value:{name:"boolean",required:!0}}]}},name:"values"}],return:{name:"void"}}},description:""},searchStarted:{required:!0,tsType:{name:"boolean"},description:""},searchResultAccessDenied:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  feilmelding?: string;
}`,signature:{properties:[{key:"feilmelding",value:{name:"string",required:!1}}]}},description:""},resetSearch:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},kanSaksbehandle:{required:!0,tsType:{name:"boolean"},description:""}}};export{fe as S};
