{"version":3,"file":"SearchForm-4134fdaf.js","sources":["../../src/fagsakSearch/components/SearchForm.tsx"],"sourcesContent":["import React, { FunctionComponent } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useForm } from 'react-hook-form';\nimport { Heading, Button } from '@navikt/ds-react';\nimport { FlexColumn, FlexContainer, FlexRow, VerticalSpacer } from '@navikt/ft-ui-komponenter';\nimport { hasValidSaksnummerOrFodselsnummerFormat } from '@navikt/ft-form-validators';\nimport { Form, InputField, CheckboxField } from '@navikt/ft-form-hooks';\n\nimport { ExclamationmarkTriangleFillIcon } from '@navikt/aksel-icons';\nimport styles from './searchForm.module.css';\n\nconst isButtonDisabled = (\n  searchString: string,\n  searchStarted: boolean,\n  searchResultAccessDenied?: {\n    feilmelding?: string;\n  },\n) => (!searchResultAccessDenied?.feilmelding && searchStarted) || !searchString;\n\ntype FormValues = {\n  skalReservere: boolean;\n  searchString: string;\n};\n\ninterface OwnProps {\n  onSubmit: (values: { searchString: string; skalReservere: boolean }) => void;\n  searchStarted: boolean;\n  searchResultAccessDenied?: {\n    feilmelding?: string;\n  };\n  resetSearch: () => void;\n  kanSaksbehandle: boolean;\n}\n\n/**\n * SearchForm\n *\n * Presentasjonskomponent. Definerer søkefelt og tilhørende søkeknapp.\n */\nconst SearchForm: FunctionComponent<OwnProps> = ({\n  onSubmit,\n  searchResultAccessDenied,\n  searchStarted,\n  resetSearch,\n  kanSaksbehandle,\n}) => {\n  const intl = useIntl();\n  const formMethods = useForm<FormValues>();\n\n  const searchStringValue = formMethods.watch('searchString');\n\n  return (\n    <Form<FormValues> onSubmit={onSubmit} formMethods={formMethods}>\n      <div className={styles.container}>\n        <Heading size=\"small\">{intl.formatMessage({ id: 'Search.SearchFagsakOrPerson' })}</Heading>\n        {kanSaksbehandle && (\n          <>\n            <VerticalSpacer sixteenPx />\n            <CheckboxField\n              name=\"skalReservere\"\n              label={intl.formatMessage({ id: 'Search.ReserverBehandling' })}\n              onClick={resetSearch}\n            />\n          </>\n        )}\n        <VerticalSpacer eightPx />\n        <FlexContainer>\n          <FlexRow>\n            <FlexColumn>\n              <InputField\n                name=\"searchString\"\n                label={intl.formatMessage({ id: 'Search.SaksnummerOrPersonId' })}\n                validate={[hasValidSaksnummerOrFodselsnummerFormat]}\n                parse={(s = '') => s.toString().trim()}\n              />\n            </FlexColumn>\n            <FlexColumn className={styles.button}>\n              <Button\n                size=\"small\"\n                variant=\"secondary\"\n                loading={!searchResultAccessDenied?.feilmelding && searchStarted}\n                disabled={isButtonDisabled(searchStringValue, searchStarted, searchResultAccessDenied)}\n              >\n                <FormattedMessage id=\"Search.Search\" />\n              </Button>\n            </FlexColumn>\n          </FlexRow>\n          {searchResultAccessDenied?.feilmelding && (\n            <>\n              <VerticalSpacer eightPx />\n              <FlexRow>\n                <FlexColumn>\n                  <ExclamationmarkTriangleFillIcon className={styles.advarselIcon} />\n                </FlexColumn>\n                <FlexColumn>\n                  <FormattedMessage id={searchResultAccessDenied.feilmelding} />\n                </FlexColumn>\n              </FlexRow>\n            </>\n          )}\n        </FlexContainer>\n      </div>\n    </Form>\n  );\n};\n\nexport default SearchForm;\n"],"names":["isButtonDisabled","searchString","searchStarted","searchResultAccessDenied","SearchForm","onSubmit","resetSearch","kanSaksbehandle","intl","useIntl","formMethods","useForm","searchStringValue","jsx","Form","jsxs","styles","Heading","Fragment","VerticalSpacer","CheckboxField","FlexContainer","FlexRow","FlexColumn","InputField","hasValidSaksnummerOrFodselsnummerFormat","s","Button","FormattedMessage","ExclamationmarkTriangleFillIcon","SearchForm$1"],"mappings":"ibAWAA,EAAA,CAAAC,EAAAC,EAAAC,IAAA,EAAAA,GAAA,MAAAA,EAAA,cAAAD,GAAA,CAAAD,EA4BAG,EAAA,CAAA,CAAiD,SAAAC,EAC/C,yBAAAF,EACA,cAAAD,EACA,YAAAI,EACA,gBAAAC,CAEF,IAAA,CACE,MAAAC,EAAAC,IACAC,EAAAC,IAEAC,EAAAF,EAAA,MAAA,cAAA,EAEA,OAAAG,EAAAC,EAAA,CAAA,SAAAT,EAAA,YAAAK,EAAA,SAAAK,EAAA,MAAA,CAAA,UAAAC,EAAA,UAAA,SAAA,CAGMH,EAAAI,EAAA,CAAA,KAAA,QAAA,SAAAT,EAAA,cAAA,CAAA,GAAA,6BAAA,CAAA,CAAA,CAAA,EAAiFD,GAAAQ,EAAAG,EAAA,CAAA,SAAA,CAG7EL,EAAAM,EAAA,CAAA,UAAA,EAAA,CAAA,EAA0BN,EAC1BO,EAAC,CAAA,KAAA,gBACM,MAAAZ,EAAA,cAAA,CAAA,GAAA,2BAAA,CAAA,EACwD,QAAAF,CACpD,CAAA,CACX,EAAA,EACFO,EAAAM,EAAA,CAAA,QAAA,EAAA,CAAA,EAEsBJ,EAAAM,EAAA,CAAA,SAAA,CAEtBN,EAAAO,EAAA,CAAA,SAAA,CACET,EAAAU,EAAA,CAAA,SAAAV,EACEW,EAAC,CAAA,KAAA,eACM,MAAAhB,EAAA,cAAA,CAAA,GAAA,6BAAA,CAAA,EAC0D,SAAA,CAAAiB,CAAA,EACb,MAAA,CAAAC,EAAA,KAAAA,EAAA,SAAA,EAAA,KAAA,CACb,CAAA,EAAA,EAEzCb,EAAAU,EAAA,CAAA,UAAAP,EAAA,OAAA,SAAAH,EAEEc,EAAC,CAAA,KAAA,QACM,QAAA,YACG,QAAA,EAAAxB,GAAA,MAAAA,EAAA,cAAAD,EAC2C,SAAAF,EAAAY,EAAAV,EAAAC,CAAA,EACkC,SAAAU,EAAAe,EAAA,CAAA,GAAA,eAAA,CAAA,CAEhD,CAAA,EAAA,CAEzC,EAAA,GACFzB,GAAA,YAAAA,EAAA,cAAAY,EAAAG,EAAA,CAAA,SAAA,CAGIL,EAAAM,EAAA,CAAA,QAAA,EAAA,CAAA,EAAwBJ,EAAAO,EAAA,CAAA,SAAA,CAEtBT,EAAAU,EAAA,CAAA,SAAAV,EAAAgB,EAAA,CAAA,UAAAb,EAAA,YAAA,CAAA,EAAA,EAEAH,EAAAU,EAAA,CAAA,SAAAV,EAAAe,EAAA,CAAA,GAAAzB,EAAA,WAAA,CAAA,EAAA,CAGA,EAAA,CACF,EAAA,CACF,EAAA,CAEJ,CAAA,CAAA,CAAA,CAAA,CAIR,EAEA2B,EAAA1B;;"}