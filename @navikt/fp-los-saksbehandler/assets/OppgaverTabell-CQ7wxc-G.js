import{j as s}from"./jsx-runtime-QvZ8i92b.js";import{r as o,R as u}from"./index-uubelm5h.js";import{T as pe}from"./useRestApiRunner-PStp57wB.js";import{u as B,c as q,L as C,f as J,H as me,B as E,D as ve,d as fe}from"./nb_NO-wYRVVd4K.js";import{c as z,R as ye,a as A,r as L}from"./fplosSaksbehandlerRestApi-Boc9PVCn.js";import{B as be}from"./BehandlingPollingTimoutModal-CUT62D4t.js";import{K as he}from"./kodeverkTyper-CavWL6Ds.js";import{g as ke}from"./kodeverkUtils-RGNAgZhp.js";import{D as U,B as je}from"./index.es-CyZwGGZm.js";import{Z as Oe}from"./index.es-CFhBXnTn.js";import{P as xe,O as Te}from"./OppgaveHandlingerMenu-BVci_jUi.js";import{T as y}from"./Table-DOY-4ux1.js";import{H as Q,V as P}from"./VStack-CRVvH4Ua.js";import{B as W,u as Re,a as we,b as _e,c as Se,s as qe,d as Ee,e as Ie,o as Pe,f as Ce,g as Ae,h as Ne,i as V}from"./Modal-xSx0yUq6.js";import{u as Be,S as He}from"./Slot-CBut_XMV.js";import{u as ze}from"./useControllableState-BkxtGxz_.js";import{c as De}from"./composeEventHandlers-DeH74NdU.js";import{P as Y}from"./index.es-9g51vjF0.js";import{u as Ke,M as T}from"./Loader-Dh3casaz.js";import{S as Me}from"./ChevronRight-BaeGl9EW.js";var $e=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)a.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t};const Fe=o.forwardRef((n,a)=>{var{title:t,titleId:e}=n,r=$e(n,["title","titleId"]);let i=B();return i=t?e||"title-"+i:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":i},r),t?o.createElement("title",{id:i},t):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.75 6c0-.69.56-1.25 1.25-1.25h12c.69 0 1.25.56 1.25 1.25v9c0 .69-.56 1.25-1.25 1.25H9a.75.75 0 0 0-.386.107L4.75 18.675zM6 3.25A2.75 2.75 0 0 0 3.25 6v14a.75.75 0 0 0 1.136.643l4.822-2.893H18A2.75 2.75 0 0 0 20.75 15V6A2.75 2.75 0 0 0 18 3.25zm3 6.5a.75.75 0 0 0 0 1.5h.01a.75.75 0 0 0 0-1.5zm2.25.75a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 0 1.5H12a.75.75 0 0 1-.75-.75M15 9.75a.75.75 0 0 0 0 1.5h.01a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))});var Le=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)a.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t};const ee=o.forwardRef((n,a)=>{var{title:t,titleId:e}=n,r=Le(n,["title","titleId"]);let i=B();return i=t?e||"title-"+i:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":i},r),t?o.createElement("title",{id:i},t):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.998 6.94a.75.75 0 0 1 .063 1.058l-8 9a.75.75 0 0 1-1.091.032l-5-5a.75.75 0 1 1 1.06-1.06l4.438 4.437 7.471-8.405A.75.75 0 0 1 19 6.939",clipRule:"evenodd"}))});var Ue=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)a.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t};const Ve=o.forwardRef((n,a)=>{var{title:t,titleId:e}=n,r=Ue(n,["title","titleId"]);let i=B();return i=t?e||"title-"+i:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":i},r),t?o.createElement("title",{id:i},t):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.53 5.97a.75.75 0 0 1 0 1.06L9.56 12l4.97 4.97a.75.75 0 1 1-1.06 1.06l-5.5-5.5a.75.75 0 0 1 0-1.06l5.5-5.5a.75.75 0 0 1 1.06 0",clipRule:"evenodd"}))});var Ye=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)a.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t};const ne=o.forwardRef((n,a)=>{var{title:t,titleId:e}=n,r=Ye(n,["title","titleId"]);let i=B();return i=t?e||"title-"+i:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:a,"aria-labelledby":i},r),t?o.createElement("title",{id:i},t):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.25 3.5c0-.69.56-1.25 1.25-1.25H14a.75.75 0 0 1 .53.22l5 5c.141.14.22.331.22.53v8.5c0 .69-.56 1.25-1.25 1.25h-9c-.69 0-1.25-.56-1.25-1.25zm6.25 5.25c-.69 0-1.25-.56-1.25-1.25V3.75h-3.5v12.5h8.5v-7.5zm.25-3.94 2.44 2.44h-2.44zM6.502 7.75H5.75v12.5h8.5v-.748a.75.75 0 0 1 1.5 0v.998c0 .69-.56 1.25-1.25 1.25h-9c-.69 0-1.25-.56-1.25-1.25v-13c0-.69.56-1.25 1.25-1.25h1.002a.75.75 0 1 1 0 1.5",clipRule:"evenodd"}))});var Ge=function(n,a,t,e){function r(i){return i instanceof t?i:new t(function(d){d(i)})}return new(t||(t=Promise))(function(i,d){function m(l){try{g(e.next(l))}catch(p){d(p)}}function c(l){try{g(e.throw(l))}catch(p){d(p)}}function g(l){l.done?i(l.value):r(l.value).then(m,c)}g((e=e.apply(n,[])).next())})};function Ze(n){return Ge(this,void 0,void 0,function*(){try{yield navigator.clipboard.writeText(n)}catch{const e=`Kopier til utklippstavle: ${/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl"}+C, Enter`;window.prompt(e,n)}})}var Xe=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)a.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t};const Je=o.forwardRef((n,a)=>{var{className:t,copyText:e,text:r,activeText:i="Kopiert!",variant:d="neutral",size:m="medium",onActiveChange:c,icon:g,activeIcon:l,activeDuration:p=2e3,title:h="Kopier",activeTitle:k="Kopiert",iconPosition:v="left",onClick:O}=n,x=Xe(n,["className","copyText","text","activeText","variant","size","onActiveChange","icon","activeIcon","activeDuration","title","activeTitle","iconPosition","onClick"]);const[b,j]=o.useState(!1),f=o.useRef();o.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const R=()=>{f.current&&clearTimeout(f.current),Ze(e),j(!0),c==null||c(!0),f.current=window.setTimeout(()=>{j(!1),c==null||c(!1)},p)},S=u.createElement("span",{className:"navds-copybutton__icon"},b?l??u.createElement(ee,{"aria-hidden":!!r,title:r?void 0:k}):g??u.createElement(ne,{"aria-hidden":!!r,title:r?void 0:h}));return u.createElement("button",Object.assign({ref:a,type:"button"},x,{"aria-live":"polite",className:q("navds-copybutton",t,`navds-copybutton--${m}`,`navds-copybutton--${d}`,{"navds-copybutton--icon-only":!r,"navds-copybutton--icon-right":v==="right","navds-copybutton--active":b}),onClick:De(O,R)}),u.createElement("span",{className:"navds-copybutton__content"},v==="left"&&S,r&&(b?u.createElement(C,{as:"span",size:m==="medium"?"medium":"small","aria-live":"polite"},i):u.createElement(C,{as:"span",size:m==="medium"?"medium":"small","aria-live":"polite"},r)),v==="right"&&S))});var Qe=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)a.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t};const te=o.forwardRef((n,a)=>{var{children:t,as:e="button",selected:r=!1,className:i,page:d}=n,m=Qe(n,["children","as","selected","className","page"]);return u.createElement(W,Object.assign({as:e,variant:"tertiary","aria-current":r,ref:a,className:q("navds-pagination__item",i,{"navds-pagination__item--selected":r}),"data-page":d,page:d},e==="button"&&{type:"button"},m),t)});var We=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)a.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t};const en=({page:n,count:a,boundaryCount:t=1,siblingCount:e=1})=>{var r,i;const d=(p,h)=>Array.from({length:h-p+1},(k,v)=>p+v);if(a<=(t+e)*2+3)return d(1,a);const m=d(1,t),c=d(a-t+1,a),g=Math.max(Math.min(n-e,a-t-e*2-1),t+2),l=g+e*2;return[...m,g-((r=m[m.length-1])!==null&&r!==void 0?r:0)===2?g-1:"ellipsis",...d(g,l),((i=c[0])!==null&&i!==void 0?i:a+1)-l===2?l+1:"ellipsis",...c]},re=o.forwardRef((n,a)=>{var{page:t,onPageChange:e,count:r,boundaryCount:i=1,siblingCount:d=1,className:m,size:c="medium",prevNextTexts:g=!1,srHeading:l,"aria-labelledby":p,renderItem:h=te}=n,k=We(n,["page","onPageChange","count","boundaryCount","siblingCount","className","size","prevNextTexts","srHeading","aria-labelledby","renderItem"]);const v=J(),O=Ke("Pagination");return t<1?(console.error("page cannot be less than 1"),null):r<1?(console.error("count cannot be less than 1"),null):i<0?(console.error("boundaryCount cannot be less than 0"),null):d<0?(console.error("siblingCount cannot be less than 0"),null):u.createElement("nav",Object.assign({ref:a},k,{"aria-labelledby":l?q(v,p):p,className:q("navds-pagination",`navds-pagination--${c}`,m)}),l&&u.createElement(me,{size:"xsmall",visuallyHidden:!0,as:l.tag,id:v},l.text),u.createElement("ul",{className:"navds-pagination__list"},u.createElement("li",null,u.createElement(h,{className:q("navds-pagination__prev-next",{"navds-pagination--invisible":t===1,"navds-pagination--prev-next--with-text":g}),disabled:t===1,onClick:()=>e==null?void 0:e(t-1),page:t-1,size:c,icon:u.createElement(Ve,Object.assign({},g?{"aria-hidden":!0}:{title:O("previous")}))},g&&O("previous"))),en({page:t,count:r,siblingCount:d,boundaryCount:i}).map((x,b)=>{const j=Number(x);return Number.isNaN(j)?u.createElement("li",{className:"navds-pagination__ellipsis",key:`${x}${b}`},u.createElement(E,{size:c==="xsmall"?"small":c,as:"span"},"...")):u.createElement("li",{key:x},u.createElement(h,{onClick:()=>e==null?void 0:e(j),selected:t===j,page:j,size:c},j))}),u.createElement("li",null,u.createElement(h,{className:q("navds-pagination__prev-next",{"navds-pagination--invisible":t===r,"navds-pagination--prev-next--with-text":g}),disabled:t===r,onClick:()=>e==null?void 0:e(t+1),page:t+1,size:c,icon:u.createElement(Me,Object.assign({},g?{"aria-hidden":!0}:{title:O("next")})),iconPosition:"right"},g&&O("next")))))});re.Item=te;var nn=function(n,a){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&a.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)a.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(t[e[r]]=n[e[r]]);return t};const tn=o.forwardRef((n,a)=>{var{children:t,className:e,arrow:r=!0,placement:i="top",open:d,defaultOpen:m=!1,onOpenChange:c,offset:g,content:l,delay:p=150,id:h,keys:k,maxChar:v=80,describesChild:O=!1}=n,x=nn(n,["children","className","arrow","placement","open","defaultOpen","onOpenChange","offset","content","delay","id","keys","maxChar","describesChild"]);const[b,j]=ze({defaultValue:m,value:d,onChange:c}),f=o.useRef(null),R=Re(!1),S=R?R.ref.current:void 0,{x:w,y:I,strategy:se,context:H,placement:D,middlewareData:{arrow:{x:K,y:M}={},hide:{referenceHidden:ie}={}},refs:$}=we({placement:i,open:b,onOpenChange:_=>j(_),middleware:[Pe(g||(r?10:2)),Ce(),Ae({padding:5,fallbackPlacements:["bottom","top"]}),Ne({element:f,padding:5})],whileElementsMounted:R?(_,ge,ce)=>V(_,ge,ce,{animationFrame:!0}):V,strategy:R?"fixed":void 0}),{getReferenceProps:le,getFloatingProps:oe}=_e([Se(H,{handleClose:qe(),restMs:p}),Ee(H),Ie(H)]),F=J(h),ue=Be(a,$.setFloating);if(!t||(t==null?void 0:t.type)===u.Fragment||t===u.Fragment)return console.error("<Tooltip> children needs to be a single ReactElement and not: <React.Fragment/> | <></>"),null;(l==null?void 0:l.length)>v&&b&&console.warn(`Because of strict accessibility concers we encourage all Tooltips to have less than 80 characters. Can be overwritten with the maxChar-prop

Length:${l.length}
Tooltip-content: ${l}`);const de=O?b?{"aria-describedby":F}:{title:l}:{"aria-label":l};return u.createElement(u.Fragment,null,u.createElement(He,Object.assign({ref:$.setReference},le(),de,{"aria-keyshortcuts":k?k.join("+"):void 0}),t),u.createElement(xe,{rootElement:S,asChild:!0},b&&u.createElement("div",Object.assign({},oe(Object.assign(Object.assign({},x),{ref:ue,style:{position:se,top:I??0,left:w??0,visibility:ie?"hidden":"visible"},role:"tooltip",id:F,className:q("navds-tooltip","navds-detail navds-detail--small",e)})),{"data-side":D}),l,k&&u.createElement("span",{className:"navds-tooltip__keys","aria-hidden":!0},k.map(_=>u.createElement(ve,{as:"kbd",key:_,className:"navds-tooltip__key"},_))),r&&u.createElement("div",{ref:_=>{f.current=_},className:"navds-tooltip__arrow",style:{left:K!=null?`${K}px`:"",top:M!=null?`${M}px`:"",right:"",bottom:"",[{top:"bottom",right:"left",bottom:"top",left:"right"}[D]]:"-3.5px"}}))))}),rn="_isUnderBehandling_97n84_1",an="_image_97n84_5",N={isUnderBehandling:rn,image:an},sn=n=>{const{flyttetReservasjon:a}=n;if(!a)return;const t=Oe(a.tidspunkt);return s.jsxs(P,{gap:"2",children:[s.jsxs(P,{gap:"1",children:[s.jsx(C,{size:"small",children:s.jsx(T,{id:"OppgaverTabell.OverfortReservasjonHeader"})}),s.jsx(E,{size:"small",children:s.jsx(T,{id:"OppgaverTabell.OverfortReservasjonBody",values:{dato:t==null?void 0:t.date,tid:t==null?void 0:t.time,uid:a.uid,navn:a.navn}})})]}),s.jsxs(P,{gap:"1",children:[s.jsx(C,{size:"small",children:s.jsx(T,{id:"OppgaverTabell.OverfortReservasjonBegrunnelse"})}),s.jsx(E,{size:"small",children:a.begrunnelse})]})]})},ln=({oppgave:n})=>{const a=o.useRef(null),[t,e]=o.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx(W,{ref:a,onClick:()=>e(!t),"aria-expanded":t,icon:s.jsx(Fe,{className:N.image,"aria-hidden":!0}),variant:"tertiary-neutral"}),s.jsx(Y,{open:t,onClose:()=>e(!1),anchorEl:a.current,children:s.jsx(Y.Content,{children:sn(n.status)})})]})},ae=({oppgave:n,reserverOppgave:a,hentReserverteOppgaver:t})=>{const e=fe(),r=z.useGlobalStateRestApiData(ye.KODEVERK_LOS),[i,d]=o.useState(!0),m=o.useRef(null),c=o.useRef(null),g=o.useRef(null),l=(p,h)=>{var x,b,j;const k=(x=m.current)==null?void 0:x.contains(p.target),v=(b=c.current)==null?void 0:b.contains(p.target),O=(j=g.current)==null?void 0:j.contains(p.target);k||v||O||h&&a(h)};return s.jsxs(y.Row,{onMouseDown:i?p=>l(p,n):void 0,onKeyDown:i?p=>l(p,n):void 0,className:n.underBehandling?N.isUnderBehandling:void 0,children:[s.jsx(y.DataCell,{children:n.navn?`${n.navn} ${n.personnummer}`:"<navn>"}),s.jsx(y.DataCell,{children:s.jsxs(Q,{gap:"1",align:"center",ref:g,children:[s.jsx(E,{children:n.saksnummer}),s.jsx(tn,{content:e.formatMessage({id:"OppgaverTabell.Saksnr"}),children:s.jsx(Je,{activeIcon:s.jsx(ee,{className:N.image,"aria-hidden":!0}),copyText:n.saksnummer.toString(),icon:s.jsx(ne,{"aria-hidden":!0,className:N.image})})})]})}),s.jsx(y.DataCell,{children:ke(r,he.BEHANDLING_TYPE,n.behandlingstype)}),s.jsx(y.DataCell,{children:n.opprettetTidspunkt&&s.jsx(U,{dateString:n.opprettetTidspunkt})}),s.jsx(y.DataCell,{children:n.behandlingsfrist&&s.jsx(U,{dateString:n.behandlingsfrist})}),s.jsx(y.DataCell,{children:n.reservertTilTidspunkt&&s.jsx(je,{dateTimeString:n.reservertTilTidspunkt,separator:"kl"})}),s.jsx(y.DataCell,{children:n.status.flyttetReservasjon&&s.jsx("div",{ref:c,children:s.jsx(ln,{oppgave:n})})}),s.jsx(y.DataCell,{children:n.underBehandling&&s.jsx("div",{ref:m,children:s.jsx(Te,{oppgave:n,hentReserverteOppgaver:t,setEnableTableEvents:d})})})]},n.id)};ae.__docgenInfo={description:"",methods:[],displayName:"OppgaveRad",props:{oppgave:{required:!0,tsType:{name:"intersection",raw:`Oppgave & {
  underBehandling: boolean;
  reservertTilTidspunkt: string | undefined;
}`,elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  id: number;
  status: OppgaveStatus;
  saksnummer: number;
  personnummer: string;
  navn: string;
  system: string;
  behandlingstype: string;
  behandlingStatus: string;
  opprettetTidspunkt: string;
  behandlingsfrist: string;
  fagsakYtelseType: string;
  erTilSaksbehandling: boolean;
  behandlingId: string;
}`,signature:{properties:[{key:"id",value:{name:"number",required:!0}},{key:"status",value:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  erReservert: boolean;
  reservertTilTidspunkt?: string;
  erReservertAvInnloggetBruker?: boolean;
  reservertAvUid?: string;
  reservertAvNavn?: string;
  flyttetReservasjon?: {
    tidspunkt: string;
    uid: string;
    navn: string;
    begrunnelse: string;
  };
}`,signature:{properties:[{key:"erReservert",value:{name:"boolean",required:!0}},{key:"reservertTilTidspunkt",value:{name:"string",required:!1}},{key:"erReservertAvInnloggetBruker",value:{name:"boolean",required:!1}},{key:"reservertAvUid",value:{name:"string",required:!1}},{key:"reservertAvNavn",value:{name:"string",required:!1}},{key:"flyttetReservasjon",value:{name:"signature",type:"object",raw:`{
  tidspunkt: string;
  uid: string;
  navn: string;
  begrunnelse: string;
}`,signature:{properties:[{key:"tidspunkt",value:{name:"string",required:!0}},{key:"uid",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"begrunnelse",value:{name:"string",required:!0}}]},required:!1}}]}}],raw:`Readonly<{
  erReservert: boolean;
  reservertTilTidspunkt?: string;
  erReservertAvInnloggetBruker?: boolean;
  reservertAvUid?: string;
  reservertAvNavn?: string;
  flyttetReservasjon?: {
    tidspunkt: string;
    uid: string;
    navn: string;
    begrunnelse: string;
  };
}>`,required:!0}},{key:"saksnummer",value:{name:"number",required:!0}},{key:"personnummer",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"system",value:{name:"string",required:!0}},{key:"behandlingstype",value:{name:"string",required:!0}},{key:"behandlingStatus",value:{name:"string",required:!0}},{key:"opprettetTidspunkt",value:{name:"string",required:!0}},{key:"behandlingsfrist",value:{name:"string",required:!0}},{key:"fagsakYtelseType",value:{name:"string",required:!0}},{key:"erTilSaksbehandling",value:{name:"boolean",required:!0}},{key:"behandlingId",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  id: number;
  status: OppgaveStatus;
  saksnummer: number;
  personnummer: string;
  navn: string;
  system: string;
  behandlingstype: string;
  behandlingStatus: string;
  opprettetTidspunkt: string;
  behandlingsfrist: string;
  fagsakYtelseType: string;
  erTilSaksbehandling: boolean;
  behandlingId: string;
}>`},{name:"signature",type:"object",raw:`{
  underBehandling: boolean;
  reservertTilTidspunkt: string | undefined;
}`,signature:{properties:[{key:"underBehandling",value:{name:"boolean",required:!0}},{key:"reservertTilTidspunkt",value:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}],required:!0}}]}}]},description:""},reserverOppgave:{required:!0,tsType:{name:"signature",type:"function",raw:"(oppgave: Oppgave) => void",signature:{arguments:[{type:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  id: number;
  status: OppgaveStatus;
  saksnummer: number;
  personnummer: string;
  navn: string;
  system: string;
  behandlingstype: string;
  behandlingStatus: string;
  opprettetTidspunkt: string;
  behandlingsfrist: string;
  fagsakYtelseType: string;
  erTilSaksbehandling: boolean;
  behandlingId: string;
}`,signature:{properties:[{key:"id",value:{name:"number",required:!0}},{key:"status",value:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  erReservert: boolean;
  reservertTilTidspunkt?: string;
  erReservertAvInnloggetBruker?: boolean;
  reservertAvUid?: string;
  reservertAvNavn?: string;
  flyttetReservasjon?: {
    tidspunkt: string;
    uid: string;
    navn: string;
    begrunnelse: string;
  };
}`,signature:{properties:[{key:"erReservert",value:{name:"boolean",required:!0}},{key:"reservertTilTidspunkt",value:{name:"string",required:!1}},{key:"erReservertAvInnloggetBruker",value:{name:"boolean",required:!1}},{key:"reservertAvUid",value:{name:"string",required:!1}},{key:"reservertAvNavn",value:{name:"string",required:!1}},{key:"flyttetReservasjon",value:{name:"signature",type:"object",raw:`{
  tidspunkt: string;
  uid: string;
  navn: string;
  begrunnelse: string;
}`,signature:{properties:[{key:"tidspunkt",value:{name:"string",required:!0}},{key:"uid",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"begrunnelse",value:{name:"string",required:!0}}]},required:!1}}]}}],raw:`Readonly<{
  erReservert: boolean;
  reservertTilTidspunkt?: string;
  erReservertAvInnloggetBruker?: boolean;
  reservertAvUid?: string;
  reservertAvNavn?: string;
  flyttetReservasjon?: {
    tidspunkt: string;
    uid: string;
    navn: string;
    begrunnelse: string;
  };
}>`,required:!0}},{key:"saksnummer",value:{name:"number",required:!0}},{key:"personnummer",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"system",value:{name:"string",required:!0}},{key:"behandlingstype",value:{name:"string",required:!0}},{key:"behandlingStatus",value:{name:"string",required:!0}},{key:"opprettetTidspunkt",value:{name:"string",required:!0}},{key:"behandlingsfrist",value:{name:"string",required:!0}},{key:"fagsakYtelseType",value:{name:"string",required:!0}},{key:"erTilSaksbehandling",value:{name:"boolean",required:!0}},{key:"behandlingId",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  id: number;
  status: OppgaveStatus;
  saksnummer: number;
  personnummer: string;
  navn: string;
  system: string;
  behandlingstype: string;
  behandlingStatus: string;
  opprettetTidspunkt: string;
  behandlingsfrist: string;
  fagsakYtelseType: string;
  erTilSaksbehandling: boolean;
  behandlingId: string;
}>`},name:"oppgave"}],return:{name:"void"}}},description:""},hentReserverteOppgaver:{required:!0,tsType:{name:"signature",type:"function",raw:"(params?: void, keepData?: boolean) => void",signature:{arguments:[{type:{name:"void"},name:"params"},{type:{name:"boolean"},name:"keepData"}],return:{name:"void"}}},description:""}}};const on="_grayout_124tz_1",un="_headerPadding_124tz_5",G={grayout:on,headerPadding:un},Z=[],X=(n,a,t)=>t==="reservertTilTidspunkt"&&n.underBehandling&&!a.underBehandling||!n.underBehandling&&a.underBehandling?1:a[t]===void 0||n[t]===void 0||a[t]<n[t]?-1:a[t]>n[t]?1:0,dn=n=>(a,t)=>n?n.direction==="ascending"?X(t,a,n.orderBy):X(a,t,n.orderBy):1,gn=(n,a)=>{const t=n.filter(r=>!a.some(i=>i.id===r.id)).map(r=>({...r,underBehandling:!0,reservertTilTidspunkt:r.status.reservertTilTidspunkt})),e=a.map(r=>({...r,underBehandling:!1,reservertTilTidspunkt:void 0}));return t.concat(e.slice(0,3))},cn=({reserverOppgave:n,antallOppgaver:a=0,valgtSakslisteId:t,doPolling:e=!0})=>{const[r,i]=o.useState(1),d=15,{startRequest:m,data:c=Z}=z.useRestApiRunner(A.RESERVERTE_OPPGAVER),{startRequest:g,data:l=Z,error:p}=z.useRestApiRunner(A.OPPGAVER_TIL_BEHANDLING),h=(f,R,S)=>{m(void 0,!0),g(S?{sakslisteId:R,oppgaveIder:S}:{sakslisteId:R},f).then(w=>!w||typeof w=="string"||!e?Promise.resolve():h(!0,R,w.map(I=>I.id).join(","))).catch(w=>console.log(w))};o.useEffect(()=>{L.cancelRequest(A.OPPGAVER_TIL_BEHANDLING.name),h(!1,t)},[t]),o.useEffect(()=>()=>{L.cancelRequest(A.OPPGAVER_TIL_BEHANDLING.name)},[]);const k=gn(c,l),[v,O]=o.useState({orderBy:"reservertTilTidspunkt",direction:"ascending"}),x=f=>{O(v&&f===v.orderBy&&v.direction==="descending"?void 0:{orderBy:f,direction:v&&f===v.orderBy&&v.direction==="ascending"?"descending":"ascending"})},b=k.slice().sort(dn(v)),j=b.length>d?b.slice((r-1)*d,r*d):b;return s.jsxs(s.Fragment,{children:[p instanceof pe&&s.jsx(be,{}),s.jsxs(P,{gap:"2",className:G.headerPadding,children:[s.jsxs(Q,{gap:"2",children:[s.jsx(C,{size:"small",children:s.jsx(T,{id:"OppgaverTabell.DineNesteSaker"})}),s.jsx(E,{size:"small",className:G.grayout,children:s.jsx(T,{id:"OppgaverTabell.DineNesteSakerAntall",values:{totaltAntall:a,reservertAntall:c.length}})})]}),k.length===0&&s.jsx(E,{size:"small",children:s.jsx(T,{id:"OppgaverTabell.IngenOppgaver",values:{i:f=>s.jsx("i",{children:f})}})})]}),k.length>0&&s.jsxs(P,{gap:"4",children:[s.jsxs(y,{sort:v,onSortChange:f=>x(f),children:[s.jsx(y.Header,{children:s.jsxs(y.Row,{children:[s.jsx(y.ColumnHeader,{sortKey:"navn",sortable:!0,children:s.jsx(T,{id:"OppgaverTabell.Soker"})}),s.jsx(y.ColumnHeader,{sortKey:"saksnummer",sortable:!0,children:s.jsx(T,{id:"OppgaverTabell.Sak"})}),s.jsx(y.ColumnHeader,{sortKey:"behandlingstype",sortable:!0,children:s.jsx(T,{id:"OppgaverTabell.Behandlingstype"})}),s.jsx(y.ColumnHeader,{sortKey:"opprettetTidspunkt",sortable:!0,children:s.jsx(T,{id:"OppgaverTabell.BehandlingOpprettet"})}),s.jsx(y.ColumnHeader,{sortKey:"behandlingsfrist",sortable:!0,children:s.jsx(T,{id:"OppgaverTabell.FristForBehandling"})}),s.jsx(y.ColumnHeader,{sortKey:"reservertTilTidspunkt",sortable:!0,children:s.jsx(T,{id:"OppgaverTabell.ReservertTilTidspunkt"})}),s.jsx(y.ColumnHeader,{}),s.jsx(y.ColumnHeader,{})]})}),s.jsx(y.Body,{children:j.map(f=>s.jsx(ae,{oppgave:f,hentReserverteOppgaver:m,reserverOppgave:n},f.id))})]}),b.length>d&&s.jsx(re,{page:r,onPageChange:i,count:Math.ceil(b.length/d),size:"small",prevNextTexts:!0})]})]})};cn.__docgenInfo={description:"",methods:[],displayName:"OppgaverTabell",props:{reserverOppgave:{required:!0,tsType:{name:"signature",type:"function",raw:"(oppgave: Oppgave) => void",signature:{arguments:[{type:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  id: number;
  status: OppgaveStatus;
  saksnummer: number;
  personnummer: string;
  navn: string;
  system: string;
  behandlingstype: string;
  behandlingStatus: string;
  opprettetTidspunkt: string;
  behandlingsfrist: string;
  fagsakYtelseType: string;
  erTilSaksbehandling: boolean;
  behandlingId: string;
}`,signature:{properties:[{key:"id",value:{name:"number",required:!0}},{key:"status",value:{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  erReservert: boolean;
  reservertTilTidspunkt?: string;
  erReservertAvInnloggetBruker?: boolean;
  reservertAvUid?: string;
  reservertAvNavn?: string;
  flyttetReservasjon?: {
    tidspunkt: string;
    uid: string;
    navn: string;
    begrunnelse: string;
  };
}`,signature:{properties:[{key:"erReservert",value:{name:"boolean",required:!0}},{key:"reservertTilTidspunkt",value:{name:"string",required:!1}},{key:"erReservertAvInnloggetBruker",value:{name:"boolean",required:!1}},{key:"reservertAvUid",value:{name:"string",required:!1}},{key:"reservertAvNavn",value:{name:"string",required:!1}},{key:"flyttetReservasjon",value:{name:"signature",type:"object",raw:`{
  tidspunkt: string;
  uid: string;
  navn: string;
  begrunnelse: string;
}`,signature:{properties:[{key:"tidspunkt",value:{name:"string",required:!0}},{key:"uid",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"begrunnelse",value:{name:"string",required:!0}}]},required:!1}}]}}],raw:`Readonly<{
  erReservert: boolean;
  reservertTilTidspunkt?: string;
  erReservertAvInnloggetBruker?: boolean;
  reservertAvUid?: string;
  reservertAvNavn?: string;
  flyttetReservasjon?: {
    tidspunkt: string;
    uid: string;
    navn: string;
    begrunnelse: string;
  };
}>`,required:!0}},{key:"saksnummer",value:{name:"number",required:!0}},{key:"personnummer",value:{name:"string",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"system",value:{name:"string",required:!0}},{key:"behandlingstype",value:{name:"string",required:!0}},{key:"behandlingStatus",value:{name:"string",required:!0}},{key:"opprettetTidspunkt",value:{name:"string",required:!0}},{key:"behandlingsfrist",value:{name:"string",required:!0}},{key:"fagsakYtelseType",value:{name:"string",required:!0}},{key:"erTilSaksbehandling",value:{name:"boolean",required:!0}},{key:"behandlingId",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  id: number;
  status: OppgaveStatus;
  saksnummer: number;
  personnummer: string;
  navn: string;
  system: string;
  behandlingstype: string;
  behandlingStatus: string;
  opprettetTidspunkt: string;
  behandlingsfrist: string;
  fagsakYtelseType: string;
  erTilSaksbehandling: boolean;
  behandlingId: string;
}>`},name:"oppgave"}],return:{name:"void"}}},description:""},antallOppgaver:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},doPolling:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};export{cn as O};
