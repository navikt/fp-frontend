import{j as n,a as k,F as L}from"./jsx-runtime-CUEGZZF9.js";import{r as p}from"./index-DogsOklH.js";import{u as O,a as N,h as B,O as K,F as P,M,B as u,S as D,q as G,V as I,L as j,e as x,i as w,d as y,o as v}from"./nb_NO-ifoLtffX.js";import{K as E}from"./kodeverkTyper-IFcYcay-.js";import{g}from"./kodeverkUtils-d7epiQ_o.js";import{c as V,a as q,R as U}from"./fplosSaksbehandlerRestApi-wUaOZ4LW.js";var H=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(a[r[s]]=e[r[s]]);return a};const Y=p.forwardRef((e,t)=>{var{title:a,titleId:r}=e,s=H(e,["title","titleId"]);let i=O();return i=a?r||"title-"+i:void 0,p.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:t,"aria-labelledby":i},s),a?p.createElement("title",{id:i},a):null,p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 3.75a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5ZM3.75 7.5a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0ZM9 15.75A5.25 5.25 0 0 0 3.75 21a.75.75 0 0 1-1.5 0 6.75 6.75 0 0 1 13.5 0 .75.75 0 0 1-1.5 0A5.25 5.25 0 0 0 9 15.75Zm7.214-10.824a.75.75 0 1 0-.428 1.438A2.752 2.752 0 0 1 15 11.75a.75.75 0 0 0-.75.75v1a.75.75 0 0 0 .75.75 4.25 4.25 0 0 1 4.25 4.25.75.75 0 0 0 1.5 0 5.75 5.75 0 0 0-4.206-5.539 4.251 4.251 0 0 0-.33-8.035Z",fill:"currentColor"}))}),$=Y;var Z=(e=>(e.OPPRETT_BEHANDLING="OPPRBEH",e.BEHANDLINGSFRIST="BEHFRIST",e.BELOP="BELOP",e.FEILUTBETALINGSTART="FEILUTBETALINGSTART",e.FORSTE_STONADSDAG="FORSTONAD",e))(Z||{}),C=(e=>(e.TIL_BESLUTTER="TIL_BESLUTTER",e.REGISTRER_PAPIRSOKNAD="PAPIRSOKNAD",e.UTBETALING_TIL_BRUKER="UTBETALING_TIL_BRUKER",e))(C||{});const z="_navnInput_ij859_1",J="_marginFilters_ij859_5",Q="_saksbehandlerIkon_ij859_9",W="_personIcon_ij859_13",c={navnInput:z,marginFilters:J,saksbehandlerIkon:Q,personIcon:W},X=(e,t,a)=>{const r=t("sakslisteId");if(r){if(e.some(s=>`${s.sakslisteId}`===r))return parseInt(r,10);a("sakslisteId")}return e.length>0?e[0].sakslisteId:void 0},ee=(e,t,a)=>{if(e.length===0)return{sakslisteId:void 0};const r=X(e,t,a);return{sakslisteId:r?`${r}`:void 0}},h=(e,t)=>e.find(a=>t===`${a.sakslisteId}`),re=(e,t,a)=>a&&a.fagsakYtelseTyper.length>0?a.fagsakYtelseTyper.map(r=>g(t,E.FAGSAK_YTELSE,r)):[e.formatMessage({id:"SakslisteVelgerForm.Alle"})],te=(e,t,a)=>a&&a.behandlingTyper.length>0?a.behandlingTyper.map(r=>g(t,E.BEHANDLING_TYPE,r)):[e.formatMessage({id:"SakslisteVelgerForm.Alle"})],ae=(e,t,a)=>a&&a.andreKriterier.length>0?a.andreKriterier.map(r=>r.inkluder?g(t,"AndreKriterierType",r.andreKriterierType):e.formatMessage({id:"SakslisteVelgerForm.Uten"},{kriterie:g(t,"AndreKriterierType",r.andreKriterierType)})):[e.formatMessage({id:"SakslisteVelgerForm.Alle"})],A=(e,t)=>e.fomDato?e.tomDato?t.formatMessage({id:"SakslisteVelgerForm.Sorteringsinfo"},e):t.formatMessage({id:"SakslisteVelgerForm.SorteringsinfoFom"},e):t.formatMessage({id:"SakslisteVelgerForm.SorteringsinfoTom"},e),se=(e,t,a,r,s)=>{if(!r&&!s)return g(t,"KøSortering",a);const i={navn:g(t,"KøSortering",a),fomDato:r?y(r).format(v):void 0,tomDato:s?y(s).format(v):void 0,br:n("br",{})};return A(i,e)},ne=(e,t,a,r,s)=>{if(!r&&!s)return g(t,"KøSortering",a);const i={navn:g(t,"KøSortering",a),fomDato:r?y().add(r,"days").format(v):void 0,tomDato:s?y().add(s,"days").format(v):void 0,br:n("br",{})};return A(i,e)},ie=(e,t,a)=>{if(!a||!a.sortering)return"";const{erDynamiskPeriode:r,sorteringType:s,fra:i,til:o,fomDato:m,tomDato:f}=a.sortering;return r?ne(e,t,s,i,o):se(e,t,s,m,f)},oe=e=>{if(!(!e||e.length===0))return k("div",{children:[n(j,{size:"small",children:n(x,{id:"SakslisteVelgerForm.SaksbehandlerToolip"})}),e.map(t=>t.navn).sort((t,a)=>t.localeCompare(a)).map(t=>n(w,{size:"small",children:t},t))]})},F=({sakslister:e,setValgtSakslisteId:t,fetchAntallOppgaver:a,getValueFromLocalStorage:r,setValueInLocalStorage:s,removeValueFromLocalStorage:i})=>{const o=N(),m=[...e].sort((d,b)=>d.navn.localeCompare(b.navn)),{data:f,startRequest:_}=V.useRestApiRunner(q.SAKSLISTE_SAKSBEHANDLERE),S=V.useGlobalStateRestApiData(U.KODEVERK_LOS),R=p.useMemo(()=>oe(f),[f]),T=B({defaultValues:ee(m,r,i)}),l=T.watch("sakslisteId");return p.useEffect(()=>{if(l){s("sakslisteId",l);const d=parseInt(l,10);t(d),_({sakslisteId:d}),a({sakslisteId:d})}},[l]),n(K,{formMethods:T,children:n(P,{children:k(M,{children:[n(u,{className:c.navnInput,children:n(D,{name:"sakslisteId",label:o.formatMessage({id:"SakslisteVelgerForm.Saksliste"}),selectValues:m.map(d=>n("option",{value:`${d.sakslisteId}`,children:d.navn},d.sakslisteId))})}),l&&k(L,{children:[k(u,{children:[n("div",{className:c.saksbehandlerIkon}),n(G,{content:R,alignBottom:!0,children:n($,{className:c.personIcon})})]}),n(u,{className:c.marginFilters,children:n(I,{header:o.formatMessage({id:"SakslisteVelgerForm.Stonadstype"}),texts:re(o,S,h(m,l))})}),n(u,{className:c.marginFilters,children:n(I,{header:o.formatMessage({id:"SakslisteVelgerForm.Behandlingstype"}),texts:te(o,S,h(m,l))})}),n(u,{className:c.marginFilters,children:n(I,{header:o.formatMessage({id:"SakslisteVelgerForm.AndreKriterier"}),texts:ae(o,S,h(m,l))})}),n(u,{className:c.marginFilters,children:n(I,{header:o.formatMessage({id:"SakslisteVelgerForm.Sortering"}),texts:[ie(o,S,h(m,l))]})})]})]})})})},pe=F;try{F.displayName="SakslisteVelgerForm",F.__docgenInfo={description:"SakslisteVelgerForm",displayName:"SakslisteVelgerForm",props:{sakslister:{defaultValue:null,description:"",name:"sakslister",required:!0,type:{name:"Readonly<{ sakslisteId: number; navn: string; behandlingTyper: string[]; fagsakYtelseTyper: string[]; andreKriterier: Readonly<{ andreKriterierType: string; inkluder: boolean; }>[]; sortering?: { ...; } | undefined; }>[]"}},setValgtSakslisteId:{defaultValue:null,description:"",name:"setValgtSakslisteId",required:!0,type:{name:"(sakslisteId: number) => void"}},fetchAntallOppgaver:{defaultValue:null,description:"",name:"fetchAntallOppgaver",required:!0,type:{name:"(data: { sakslisteId: number; }) => void"}},getValueFromLocalStorage:{defaultValue:null,description:"",name:"getValueFromLocalStorage",required:!0,type:{name:"(key: string) => string | undefined"}},setValueInLocalStorage:{defaultValue:null,description:"",name:"setValueInLocalStorage",required:!0,type:{name:"(key: string, value: string) => void"}},removeValueFromLocalStorage:{defaultValue:null,description:"",name:"removeValueFromLocalStorage",required:!0,type:{name:"(key: string) => void"}}}}}catch{}export{C as A,Z as K,pe as S};
