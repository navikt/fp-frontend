import{j as a}from"./jsx-runtime-9c4ae004.js";import{r as p}from"./index-1b03fe98.js";import{u as _,a as b,i as R,O as L,F as O,M as N,b as u,S as B,q as P,V as I,L as M,e as D,h as K,d as k,n as y}from"./nb_NO-158985cd.js";import{l as g,J as E}from"./index.es-c5fcd9dd.js";import{a as v,R as G,b as w}from"./fplosSaksbehandlerRestApi-31142b17.js";var q=globalThis&&globalThis.__rest||function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const U=p.forwardRef((e,r)=>{var{title:s,titleId:t}=e,n=q(e,["title","titleId"]);let i=_();return i=s?t||"title-"+i:void 0,p.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:r,"aria-labelledby":i},n),s?p.createElement("title",{id:i},s):null,p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 3.75a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5ZM3.75 7.5a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0ZM9 15.75A5.25 5.25 0 0 0 3.75 21a.75.75 0 0 1-1.5 0 6.75 6.75 0 0 1 13.5 0 .75.75 0 0 1-1.5 0A5.25 5.25 0 0 0 9 15.75Zm7.214-10.824a.75.75 0 1 0-.428 1.438A2.752 2.752 0 0 1 15 11.75a.75.75 0 0 0-.75.75v1a.75.75 0 0 0 .75.75 4.25 4.25 0 0 1 4.25 4.25.75.75 0 0 0 1.5 0 5.75 5.75 0 0 0-4.206-5.539 4.251 4.251 0 0 0-.33-8.035Z",fill:"currentColor"}))}),H=U;var Y=(e=>(e.OPPRETT_BEHANDLING="OPPRBEH",e.BEHANDLINGSFRIST="BEHFRIST",e.BELOP="BELOP",e.FEILUTBETALINGSTART="FEILUTBETALINGSTART",e.FORSTE_STONADSDAG="FORSTONAD",e))(Y||{}),$=(e=>(e.TIL_BESLUTTER="TIL_BESLUTTER",e.REGISTRER_PAPIRSOKNAD="PAPIRSOKNAD",e.UTBETALING_TIL_BRUKER="UTBETALING_TIL_BRUKER",e))($||{});const Z="_navnInput_ij859_1",C="_marginFilters_ij859_5",z="_saksbehandlerIkon_ij859_9",J="_personIcon_ij859_13",c={navnInput:Z,marginFilters:C,saksbehandlerIkon:z,personIcon:J},Q=(e,r,s)=>{const t=r("sakslisteId");if(t){if(e.some(n=>`${n.sakslisteId}`===t))return parseInt(t,10);s("sakslisteId")}return e.length>0?e[0].sakslisteId:void 0},W=(e,r,s)=>{if(e.length===0)return{sakslisteId:void 0};const t=Q(e,r,s);return{sakslisteId:t?`${t}`:void 0}},h=(e,r)=>e.find(s=>r===`${s.sakslisteId}`),X=(e,r,s)=>s&&s.fagsakYtelseTyper.length>0?s.fagsakYtelseTyper.map(t=>g(r,E.FAGSAK_YTELSE,t)):[e.formatMessage({id:"SakslisteVelgerForm.Alle"})],ee=(e,r,s)=>s&&s.behandlingTyper.length>0?s.behandlingTyper.map(t=>g(r,E.BEHANDLING_TYPE,t)):[e.formatMessage({id:"SakslisteVelgerForm.Alle"})],te=(e,r,s)=>s&&s.andreKriterier.length>0?s.andreKriterier.map(t=>t.inkluder?g(r,"AndreKriterierType",t.andreKriterierType):e.formatMessage({id:"SakslisteVelgerForm.Uten"},{kriterie:g(r,"AndreKriterierType",t.andreKriterierType)})):[e.formatMessage({id:"SakslisteVelgerForm.Alle"})],V=(e,r)=>e.fomDato?e.tomDato?r.formatMessage({id:"SakslisteVelgerForm.Sorteringsinfo"},e):r.formatMessage({id:"SakslisteVelgerForm.SorteringsinfoFom"},e):r.formatMessage({id:"SakslisteVelgerForm.SorteringsinfoTom"},e),re=(e,r,s,t,n)=>{if(!t&&!n)return g(r,"KøSortering",s);const i={navn:g(r,"KøSortering",s),fomDato:t?k(t).format(y):void 0,tomDato:n?k(n).format(y):void 0,br:a.jsx("br",{})};return V(i,e)},se=(e,r,s,t,n)=>{if(!t&&!n)return g(r,"KøSortering",s);const i={navn:g(r,"KøSortering",s),fomDato:t?k().add(t,"days").format(y):void 0,tomDato:n?k().add(n,"days").format(y):void 0,br:a.jsx("br",{})};return V(i,e)},ae=(e,r,s)=>{if(!s||!s.sortering)return"";const{erDynamiskPeriode:t,sorteringType:n,fra:i,til:l,fomDato:m,tomDato:f}=s.sortering;return t?se(e,r,n,i,l):re(e,r,n,m,f)},ne=e=>{if(!(!e||e.length===0))return a.jsxs("div",{children:[a.jsx(M,{size:"small",children:a.jsx(D,{id:"SakslisteVelgerForm.SaksbehandlerToolip"})}),e.map(r=>r.navn).sort((r,s)=>r.localeCompare(s)).map(r=>a.jsx(K,{size:"small",children:r},r))]})},F=({sakslister:e,setValgtSakslisteId:r,fetchAntallOppgaver:s,getValueFromLocalStorage:t,setValueInLocalStorage:n,removeValueFromLocalStorage:i})=>{const l=b(),m=[...e].sort((d,A)=>d.navn.localeCompare(A.navn)),{data:f,startRequest:j}=v.useRestApiRunner(G.SAKSLISTE_SAKSBEHANDLERE),S=v.useGlobalStateRestApiData(w.KODEVERK_LOS),x=p.useMemo(()=>ne(f),[f]),T=R({defaultValues:W(m,t,i)}),o=T.watch("sakslisteId");return p.useEffect(()=>{if(o){n("sakslisteId",o);const d=parseInt(o,10);r(d),j({sakslisteId:d}),s({sakslisteId:d})}},[o]),a.jsx(L,{formMethods:T,children:a.jsx(O,{children:a.jsxs(N,{children:[a.jsx(u,{className:c.navnInput,children:a.jsx(B,{name:"sakslisteId",label:l.formatMessage({id:"SakslisteVelgerForm.Saksliste"}),selectValues:m.map(d=>a.jsx("option",{value:`${d.sakslisteId}`,children:d.navn},d.sakslisteId))})}),o&&a.jsxs(a.Fragment,{children:[a.jsxs(u,{children:[a.jsx("div",{className:c.saksbehandlerIkon}),a.jsx(P,{content:x,alignBottom:!0,children:a.jsx(H,{className:c.personIcon})})]}),a.jsx(u,{className:c.marginFilters,children:a.jsx(I,{header:l.formatMessage({id:"SakslisteVelgerForm.Stonadstype"}),texts:X(l,S,h(m,o))})}),a.jsx(u,{className:c.marginFilters,children:a.jsx(I,{header:l.formatMessage({id:"SakslisteVelgerForm.Behandlingstype"}),texts:ee(l,S,h(m,o))})}),a.jsx(u,{className:c.marginFilters,children:a.jsx(I,{header:l.formatMessage({id:"SakslisteVelgerForm.AndreKriterier"}),texts:te(l,S,h(m,o))})}),a.jsx(u,{className:c.marginFilters,children:a.jsx(I,{header:l.formatMessage({id:"SakslisteVelgerForm.Sortering"}),texts:[ae(l,S,h(m,o))]})})]})]})})})},ge=F;try{F.displayName="SakslisteVelgerForm",F.__docgenInfo={description:"SakslisteVelgerForm",displayName:"SakslisteVelgerForm",props:{sakslister:{defaultValue:null,description:"",name:"sakslister",required:!0,type:{name:"Readonly<{ sakslisteId: number; navn: string; behandlingTyper: string[]; fagsakYtelseTyper: string[]; andreKriterier: Readonly<{ andreKriterierType: string; inkluder: boolean; }>[]; sortering?: { ...; } | undefined; }>[]"}},setValgtSakslisteId:{defaultValue:null,description:"",name:"setValgtSakslisteId",required:!0,type:{name:"(sakslisteId: number) => void"}},fetchAntallOppgaver:{defaultValue:null,description:"",name:"fetchAntallOppgaver",required:!0,type:{name:"(data: { sakslisteId: number; }) => void"}},getValueFromLocalStorage:{defaultValue:null,description:"",name:"getValueFromLocalStorage",required:!0,type:{name:"(key: string) => string | undefined"}},setValueInLocalStorage:{defaultValue:null,description:"",name:"setValueInLocalStorage",required:!0,type:{name:"(key: string, value: string) => void"}},removeValueFromLocalStorage:{defaultValue:null,description:"",name:"removeValueFromLocalStorage",required:!0,type:{name:"(key: string) => void"}}}}}catch{}export{$ as A,Y as K,ge as S};
//# sourceMappingURL=SakslisteVelgerForm-97c1c393.js.map
