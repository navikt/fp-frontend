import{t as I,r as O,o as P,h as x,L as y,H as E}from"./fplosSaksbehandlerApi-B9TywFyl.js";import{r as l,j as t,P as S,a as A,w as B}from"./iframe-Bb7EaA3c.js";import{u as w}from"./useQuery-BEaFEnQX.js";import{u as f}from"./useMutation-iDJSpr5G.js";import{u as _,m as F}from"./nb_NO-Day4tSnv.js";import{H as T}from"./VStack-DE2AaRsN.js";import{B as c}from"./floating-ui.react-i3YnTFZQ.js";import{M as g}from"./Loader-B4nQOFQQ.js";import{T as U}from"./Tooltip-EhMg78jT.js";import"./preload-helper-D9Z9MdNV.js";import"./composeEventHandlers-lncVDnve.js";import"./index-57zqyBz9.js";import"./Portal-CP-wi8Yv.js";var z=function(r,i){var a={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&i.indexOf(e)<0&&(a[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,e=Object.getOwnPropertySymbols(r);s<e.length;s++)i.indexOf(e[s])<0&&Object.prototype.propertyIsEnumerable.call(r,e[s])&&(a[e[s]]=r[e[s]]);return a};const M=l.forwardRef((r,i)=>{var{title:a,titleId:e}=r,s=z(r,["title","titleId"]);let n=_();return n=a?e||"title-"+n:void 0,l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:i,"aria-labelledby":n},s),a?l.createElement("title",{id:n},a):null,l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.25 7a4.75 4.75 0 0 1 9.5 0v2.25H17c.966 0 1.75.784 1.75 1.75v9a.75.75 0 0 1-.75.75H6a.75.75 0 0 1-.75-.75v-9c0-.966.784-1.75 1.75-1.75h.25zm1.5 0a3.25 3.25 0 0 1 6.5 0v2.25h-6.5zM7 10.75a.25.25 0 0 0-.25.25v8.25h10.5V11a.25.25 0 0 0-.25-.25zm3.5 3.75a1.5 1.5 0 1 1 2.25 1.3V17a.75.75 0 0 1-1.5 0v-1.2a1.5 1.5 0 0 1-.75-1.3",clipRule:"evenodd"}))}),h=A(F),R=({saksnummer:r,behandlingUuid:i})=>{const[a,e]=l.useState(!1),{data:s=[],refetch:n}=w({...I([r]),refetchInterval:a?!1:3e4}),o=s.find(b=>b.behandlingId===i),d=o?.reservasjonStatus.erReservert;l.useEffect(()=>{e(d||!1)},[d]);const{mutate:j}=f({mutationFn:P,onSuccess:()=>{n()}}),{mutateAsync:k}=f({mutationFn:O,onSuccess:()=>{n()}});return t.jsx(S,{value:h,children:t.jsxs(T,{gap:"space-8",align:"center",children:[!d&&!!o&&t.jsx(c,{size:"small",onClick:()=>k(o.id),children:t.jsx(g,{id:"ReservasjonsstatusPanel.Reserver"})}),d&&o.reservasjonStatus.erReservertAvInnloggetBruker&&t.jsx(U,{content:h.formatMessage({id:"ReservasjonsstatusPanel.ErReservertPaDeg"}),children:t.jsx(c,{size:"small",variant:"primary-neutral",onClick:()=>j(o.id),children:t.jsx(g,{id:"ReservasjonsstatusPanel.OpphevReservasjon"})})}),d&&!o?.reservasjonStatus.erReservertAvInnloggetBruker&&t.jsx(c,{size:"small",variant:"primary-neutral",disabled:!0,icon:t.jsx(M,{"aria-hidden":!0}),children:t.jsx(g,{id:"ReservasjonsstatusPanel.Reservert",values:{navn:o.reservasjonStatus.reservertAvNavn}})})]})})};R.__docgenInfo={description:"",methods:[],displayName:"ReservasjonsstatusPanel",props:{saksnummer:{required:!0,tsType:{name:"string"},description:""},behandlingUuid:{required:!1,tsType:{name:"string"},description:""}}};const m=[{id:0,behandlingId:"012",reservasjonStatus:{erReservert:!1,erReservertAvInnloggetBruker:!1}},{id:1,behandlingId:"123",reservasjonStatus:{erReservert:!0,erReservertAvInnloggetBruker:!0,reservertAvBrukerIdent:"Z123456",reservertTidspunkt:"2024-01-01T12:00:00"}},{id:2,behandlingId:"456",reservasjonStatus:{erReservert:!0,erReservertAvInnloggetBruker:!1,reservertAvBrukerIdent:"Z123456",reservertTidspunkt:"2024-01-01T12:00:00",reservertAvNavn:"Ola Nordmann"}}],X={title:"ReservasjonsstatusPanel",component:R,decorators:[B],parameters:{msw:{handlers:[x.get(y.OPPGAVER_FOR_FAGSAKER,()=>E.json(m))]}}},u={args:{saksnummer:"12345",behandlingUuid:m[0].behandlingId}},v={args:{saksnummer:"12345",behandlingUuid:m[1].behandlingId}},p={args:{saksnummer:"12345",behandlingUuid:m[2].behandlingId}};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:`{
  args: {
    saksnummer: '12345',
    behandlingUuid: oppgaver[0].behandlingId
  }
}`,...u.parameters?.docs?.source}}};v.parameters={...v.parameters,docs:{...v.parameters?.docs,source:{originalSource:`{
  args: {
    saksnummer: '12345',
    behandlingUuid: oppgaver[1].behandlingId
  }
}`,...v.parameters?.docs?.source}}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  args: {
    saksnummer: '12345',
    behandlingUuid: oppgaver[2].behandlingId
  }
}`,...p.parameters?.docs?.source}}};const Y=["ErIkkeReservert","ErReservertP책InnloggetBruker","ErReservertP책AnnenBruker"];export{u as ErIkkeReservert,p as ErReservertP책AnnenBruker,v as ErReservertP책InnloggetBruker,Y as __namedExportsOrder,X as default};
