import{j as n,a as k,F as O}from"./jsx-runtime-86dfebf6.js";import{r as p}from"./index-1b03fe98.js";import{u as N,l as E,h as B,O as K,F as P,M,B as u,S as D,q as G,V as I,L as j,f as x,d as y,n as v}from"./nb_NO-31758bbb.js";import{K as A}from"./kodeverkTyper-3907affc.js";import{g}from"./kodeverkUtils-fd60f151.js";import{b as V,R as w,c as q}from"./fplosSaksbehandlerRestApi-84411765.js";var U=globalThis&&globalThis.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(a[r[s]]=e[r[s]]);return a};const H=p.forwardRef((e,t)=>{var{title:a,titleId:r}=e,s=U(e,["title","titleId"]);let o=N();return o=a?r||"title-"+o:void 0,p.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:t,"aria-labelledby":o},s),a?p.createElement("title",{id:o},a):null,p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 3.75a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5ZM3.75 7.5a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0ZM9 15.75A5.25 5.25 0 0 0 3.75 21a.75.75 0 0 1-1.5 0 6.75 6.75 0 0 1 13.5 0 .75.75 0 0 1-1.5 0A5.25 5.25 0 0 0 9 15.75Zm7.214-10.824a.75.75 0 1 0-.428 1.438A2.752 2.752 0 0 1 15 11.75a.75.75 0 0 0-.75.75v1a.75.75 0 0 0 .75.75 4.25 4.25 0 0 1 4.25 4.25.75.75 0 0 0 1.5 0 5.75 5.75 0 0 0-4.206-5.539 4.251 4.251 0 0 0-.33-8.035Z",fill:"currentColor"}))}),Y=H;var $=(e=>(e.OPPRETT_BEHANDLING="OPPRBEH",e.BEHANDLINGSFRIST="BEHFRIST",e.BELOP="BELOP",e.FEILUTBETALINGSTART="FEILUTBETALINGSTART",e.FORSTE_STONADSDAG="FORSTONAD",e))($||{}),Z=(e=>(e.TIL_BESLUTTER="TIL_BESLUTTER",e.REGISTRER_PAPIRSOKNAD="PAPIRSOKNAD",e.UTBETALING_TIL_BRUKER="UTBETALING_TIL_BRUKER",e))(Z||{});const C="_navnInput_ij859_1",z="_marginFilters_ij859_5",J="_saksbehandlerIkon_ij859_9",Q="_personIcon_ij859_13",c={navnInput:C,marginFilters:z,saksbehandlerIkon:J,personIcon:Q},W=(e,t,a)=>{const r=t("sakslisteId");if(r){if(e.some(s=>`${s.sakslisteId}`===r))return parseInt(r,10);a("sakslisteId")}return e.length>0?e[0].sakslisteId:void 0},X=(e,t,a)=>{if(e.length===0)return{sakslisteId:void 0};const r=W(e,t,a);return{sakslisteId:r?`${r}`:void 0}},h=(e,t)=>e.find(a=>t===`${a.sakslisteId}`),ee=(e,t,a)=>a&&a.fagsakYtelseTyper.length>0?a.fagsakYtelseTyper.map(r=>g(t,A.FAGSAK_YTELSE,r)):[e.formatMessage({id:"SakslisteVelgerForm.Alle"})],re=(e,t,a)=>a&&a.behandlingTyper.length>0?a.behandlingTyper.map(r=>g(t,A.BEHANDLING_TYPE,r)):[e.formatMessage({id:"SakslisteVelgerForm.Alle"})],te=(e,t,a)=>a&&a.andreKriterier.length>0?a.andreKriterier.map(r=>r.inkluder?g(t,"AndreKriterierType",r.andreKriterierType):e.formatMessage({id:"SakslisteVelgerForm.Uten"},{kriterie:g(t,"AndreKriterierType",r.andreKriterierType)})):[e.formatMessage({id:"SakslisteVelgerForm.Alle"})],_=(e,t)=>e.fomDato?e.tomDato?t.formatMessage({id:"SakslisteVelgerForm.Sorteringsinfo"},e):t.formatMessage({id:"SakslisteVelgerForm.SorteringsinfoFom"},e):t.formatMessage({id:"SakslisteVelgerForm.SorteringsinfoTom"},e),ae=(e,t,a,r,s)=>{if(!r&&!s)return g(t,"KøSortering",a);const o={navn:g(t,"KøSortering",a),fomDato:r?y(r).format(v):void 0,tomDato:s?y(s).format(v):void 0,br:n("br",{})};return _(o,e)},se=(e,t,a,r,s)=>{if(!r&&!s)return g(t,"KøSortering",a);const o={navn:g(t,"KøSortering",a),fomDato:r?y().add(r,"days").format(v):void 0,tomDato:s?y().add(s,"days").format(v):void 0,br:n("br",{})};return _(o,e)},ne=(e,t,a)=>{if(!a||!a.sortering)return"";const{erDynamiskPeriode:r,sorteringType:s,fra:o,til:i,fomDato:m,tomDato:f}=a.sortering;return r?se(e,t,s,o,i):ae(e,t,s,m,f)},oe=e=>{if(!(!e||e.length===0))return k("div",{children:[n(j,{size:"small",children:n(E.FormattedMessage,{id:"SakslisteVelgerForm.SaksbehandlerToolip"})}),e.map(t=>t.navn).sort((t,a)=>t.localeCompare(a)).map(t=>n(x,{size:"small",children:t},t))]})},F=({sakslister:e,setValgtSakslisteId:t,fetchAntallOppgaver:a,getValueFromLocalStorage:r,setValueInLocalStorage:s,removeValueFromLocalStorage:o})=>{const i=E.useIntl(),m=[...e].sort((d,L)=>d.navn.localeCompare(L.navn)),{data:f,startRequest:b}=V.useRestApiRunner(w.SAKSLISTE_SAKSBEHANDLERE),S=V.useGlobalStateRestApiData(q.KODEVERK_LOS),R=p.useMemo(()=>oe(f),[f]),T=B({defaultValues:X(m,r,o)}),l=T.watch("sakslisteId");return p.useEffect(()=>{if(l){s("sakslisteId",l);const d=parseInt(l,10);t(d),b({sakslisteId:d}),a({sakslisteId:d})}},[l]),n(K,{formMethods:T,children:n(P,{children:k(M,{children:[n(u,{className:c.navnInput,children:n(D,{name:"sakslisteId",label:i.formatMessage({id:"SakslisteVelgerForm.Saksliste"}),selectValues:m.map(d=>n("option",{value:`${d.sakslisteId}`,children:d.navn},d.sakslisteId))})}),l&&k(O,{children:[k(u,{children:[n("div",{className:c.saksbehandlerIkon}),n(G,{content:R,alignBottom:!0,children:n(Y,{className:c.personIcon})})]}),n(u,{className:c.marginFilters,children:n(I,{header:i.formatMessage({id:"SakslisteVelgerForm.Stonadstype"}),texts:ee(i,S,h(m,l))})}),n(u,{className:c.marginFilters,children:n(I,{header:i.formatMessage({id:"SakslisteVelgerForm.Behandlingstype"}),texts:re(i,S,h(m,l))})}),n(u,{className:c.marginFilters,children:n(I,{header:i.formatMessage({id:"SakslisteVelgerForm.AndreKriterier"}),texts:te(i,S,h(m,l))})}),n(u,{className:c.marginFilters,children:n(I,{header:i.formatMessage({id:"SakslisteVelgerForm.Sortering"}),texts:[ne(i,S,h(m,l))]})})]})]})})})},ue=F;try{F.displayName="SakslisteVelgerForm",F.__docgenInfo={description:"SakslisteVelgerForm",displayName:"SakslisteVelgerForm",props:{sakslister:{defaultValue:null,description:"",name:"sakslister",required:!0,type:{name:"Readonly<{ sakslisteId: number; navn: string; behandlingTyper: string[]; fagsakYtelseTyper: string[]; andreKriterier: Readonly<{ andreKriterierType: string; inkluder: boolean; }>[]; sortering?: { ...; } | undefined; }>[]"}},setValgtSakslisteId:{defaultValue:null,description:"",name:"setValgtSakslisteId",required:!0,type:{name:"(sakslisteId: number) => void"}},fetchAntallOppgaver:{defaultValue:null,description:"",name:"fetchAntallOppgaver",required:!0,type:{name:"(data: { sakslisteId: number; }) => void"}},getValueFromLocalStorage:{defaultValue:null,description:"",name:"getValueFromLocalStorage",required:!0,type:{name:"(key: string) => string | undefined"}},setValueInLocalStorage:{defaultValue:null,description:"",name:"setValueInLocalStorage",required:!0,type:{name:"(key: string, value: string) => void"}},removeValueFromLocalStorage:{defaultValue:null,description:"",name:"removeValueFromLocalStorage",required:!0,type:{name:"(key: string) => void"}}}}}catch{}export{Z as A,$ as K,ue as S};
//# sourceMappingURL=SakslisteVelgerForm-8020de99.js.map
