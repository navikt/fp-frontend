import{a4 as Bt,e as Wt,r as h,c as Ht,R as ye,a5 as bt}from"./iframe-CF8fhdT_.js";import{L as Vt}from"./Loader-De7v7hMf.js";import{o as jt,L as Kt}from"./nb_NO-B0MwT9px.js";import{c as Yt}from"./composeEventHandlers-Bl9pufit.js";import{r as Xt}from"./index-ugOsHta_.js";var Rt=Xt();const Fo=Bt(Rt),[_o,$o]=Wt({name:"ModalContext",errorMessage:"<Modal.Header> must be used within a <Modal>"}),zt=["top","right","bottom","left"],ue=Math.min,z=Math.max,Oe=Math.round,Ee=Math.floor,Z=e=>({x:e,y:e}),Ut={left:"right",right:"left",bottom:"top",top:"bottom"},qt={start:"end",end:"start"};function Xe(e,t,o){return z(e,ue(t,o))}function se(e,t){return typeof e=="function"?e(t):e}function ce(e){return e.split("-")[0]}function ve(e){return e.split("-")[1]}function Ge(e){return e==="x"?"y":"x"}function Je(e){return e==="y"?"height":"width"}const Gt=new Set(["top","bottom"]);function Q(e){return Gt.has(ce(e))?"y":"x"}function Qe(e){return Ge(Q(e))}function Jt(e,t,o){o===void 0&&(o=!1);const n=ve(e),r=Qe(e),s=Je(r);let i=r==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Se(i)),[i,Se(i)]}function Qt(e){const t=Se(e);return[ze(e),t,ze(t)]}function ze(e){return e.replace(/start|end/g,t=>qt[t])}const nt=["left","right"],ot=["right","left"],Zt=["top","bottom"],en=["bottom","top"];function tn(e,t,o){switch(e){case"top":case"bottom":return o?t?ot:nt:t?nt:ot;case"left":case"right":return t?Zt:en;default:return[]}}function nn(e,t,o,n){const r=ve(e);let s=tn(ce(e),o==="start",n);return r&&(s=s.map(i=>i+"-"+r),t&&(s=s.concat(s.map(ze)))),s}function Se(e){return e.replace(/left|right|bottom|top/g,t=>Ut[t])}function on(e){return{top:0,right:0,bottom:0,left:0,...e}}function Et(e){return typeof e!="number"?on(e):{top:e,right:e,bottom:e,left:e}}function Ae(e){const{x:t,y:o,width:n,height:r}=e;return{width:n,height:r,top:o,left:t,right:t+n,bottom:o+r,x:t,y:o}}function rt(e,t,o){let{reference:n,floating:r}=e;const s=Q(t),i=Qe(t),c=Je(i),a=ce(t),f=s==="y",u=n.x+n.width/2-r.width/2,d=n.y+n.height/2-r.height/2,p=n[c]/2-r[c]/2;let l;switch(a){case"top":l={x:u,y:n.y-r.height};break;case"bottom":l={x:u,y:n.y+n.height};break;case"right":l={x:n.x+n.width,y:d};break;case"left":l={x:n.x-r.width,y:d};break;default:l={x:n.x,y:n.y}}switch(ve(t)){case"start":l[i]-=p*(o&&f?-1:1);break;case"end":l[i]+=p*(o&&f?-1:1);break}return l}const rn=async(e,t,o)=>{const{placement:n="bottom",strategy:r="absolute",middleware:s=[],platform:i}=o,c=s.filter(Boolean),a=await(i.isRTL==null?void 0:i.isRTL(t));let f=await i.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:d}=rt(f,n,a),p=n,l={},m=0;for(let g=0;g<c.length;g++){const{name:y,fn:b}=c[g],{x:C,y:R,data:P,reset:S}=await b({x:u,y:d,initialPlacement:n,placement:p,strategy:r,middlewareData:l,rects:f,platform:i,elements:{reference:e,floating:t}});u=C??u,d=R??d,l={...l,[y]:{...l[y],...P}},S&&m<=50&&(m++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(f=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:r}):S.rects),{x:u,y:d}=rt(f,p,a)),g=-1)}return{x:u,y:d,placement:p,strategy:r,middlewareData:l}};async function xe(e,t){var o;t===void 0&&(t={});const{x:n,y:r,platform:s,rects:i,elements:c,strategy:a}=e,{boundary:f="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:l=0}=se(t,e),m=Et(l),y=c[p?d==="floating"?"reference":"floating":d],b=Ae(await s.getClippingRect({element:(o=await(s.isElement==null?void 0:s.isElement(y)))==null||o?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:f,rootBoundary:u,strategy:a})),C=d==="floating"?{x:n,y:r,width:i.floating.width,height:i.floating.height}:i.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),P=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},S=Ae(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:C,offsetParent:R,strategy:a}):C);return{top:(b.top-S.top+m.top)/P.y,bottom:(S.bottom-b.bottom+m.bottom)/P.y,left:(b.left-S.left+m.left)/P.x,right:(S.right-b.right+m.right)/P.x}}const sn=e=>({name:"arrow",options:e,async fn(t){const{x:o,y:n,placement:r,rects:s,platform:i,elements:c,middlewareData:a}=t,{element:f,padding:u=0}=se(e,t)||{};if(f==null)return{};const d=Et(u),p={x:o,y:n},l=Qe(r),m=Je(l),g=await i.getDimensions(f),y=l==="y",b=y?"top":"left",C=y?"bottom":"right",R=y?"clientHeight":"clientWidth",P=s.reference[m]+s.reference[l]-p[l]-s.floating[m],S=p[l]-s.reference[l],D=await(i.getOffsetParent==null?void 0:i.getOffsetParent(f));let k=D?D[R]:0;(!k||!await(i.isElement==null?void 0:i.isElement(D)))&&(k=c.floating[R]||s.floating[m]);const B=P/2-S/2,_=k/2-g[m]/2-1,F=ue(d[b],_),W=ue(d[C],_),I=F,L=k-g[m]-W,v=k/2-g[m]/2+B,O=Xe(I,v,L),T=!a.arrow&&ve(r)!=null&&v!==O&&s.reference[m]/2-(v<I?F:W)-g[m]/2<0,E=T?v<I?v-I:v-L:0;return{[l]:p[l]+E,data:{[l]:O,centerOffset:v-O-E,...T&&{alignmentOffset:E}},reset:T}}}),cn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var o,n;const{placement:r,middlewareData:s,rects:i,initialPlacement:c,platform:a,elements:f}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:l="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...y}=se(e,t);if((o=s.arrow)!=null&&o.alignmentOffset)return{};const b=ce(r),C=Q(c),R=ce(c)===c,P=await(a.isRTL==null?void 0:a.isRTL(f.floating)),S=p||(R||!g?[Se(c)]:Qt(c)),D=m!=="none";!p&&D&&S.push(...nn(c,g,m,P));const k=[c,...S],B=await xe(t,y),_=[];let F=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&_.push(B[b]),d){const v=Jt(r,i,P);_.push(B[v[0]],B[v[1]])}if(F=[...F,{placement:r,overflows:_}],!_.every(v=>v<=0)){var W,I;const v=(((W=s.flip)==null?void 0:W.index)||0)+1,O=k[v];if(O&&(!(d==="alignment"?C!==Q(O):!1)||F.every(x=>Q(x.placement)===C?x.overflows[0]>0:!0)))return{data:{index:v,overflows:F},reset:{placement:O}};let T=(I=F.filter(E=>E.overflows[0]<=0).sort((E,x)=>E.overflows[1]-x.overflows[1])[0])==null?void 0:I.placement;if(!T)switch(l){case"bestFit":{var L;const E=(L=F.filter(x=>{if(D){const w=Q(x.placement);return w===C||w==="y"}return!0}).map(x=>[x.placement,x.overflows.filter(w=>w>0).reduce((w,A)=>w+A,0)]).sort((x,w)=>x[1]-w[1])[0])==null?void 0:L[0];E&&(T=E);break}case"initialPlacement":T=c;break}if(r!==T)return{reset:{placement:T}}}return{}}}};function it(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function st(e){return zt.some(t=>e[t]>=0)}const ln=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:o}=t,{strategy:n="referenceHidden",...r}=se(e,t);switch(n){case"referenceHidden":{const s=await xe(t,{...r,elementContext:"reference"}),i=it(s,o.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:st(i)}}}case"escaped":{const s=await xe(t,{...r,altBoundary:!0}),i=it(s,o.floating);return{data:{escapedOffsets:i,escaped:st(i)}}}default:return{}}}}},Ct=new Set(["left","top"]);async function an(e,t){const{placement:o,platform:n,elements:r}=e,s=await(n.isRTL==null?void 0:n.isRTL(r.floating)),i=ce(o),c=ve(o),a=Q(o)==="y",f=Ct.has(i)?-1:1,u=s&&a?-1:1,d=se(t,e);let{mainAxis:p,crossAxis:l,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return c&&typeof m=="number"&&(l=c==="end"?m*-1:m),a?{x:l*u,y:p*f}:{x:p*f,y:l*u}}const fn=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var o,n;const{x:r,y:s,placement:i,middlewareData:c}=t,a=await an(t,e);return i===((o=c.offset)==null?void 0:o.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:r+a.x,y:s+a.y,data:{...a,placement:i}}}}},un=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:n,placement:r}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:c={fn:y=>{let{x:b,y:C}=y;return{x:b,y:C}}},...a}=se(e,t),f={x:o,y:n},u=await xe(t,a),d=Q(ce(r)),p=Ge(d);let l=f[p],m=f[d];if(s){const y=p==="y"?"top":"left",b=p==="y"?"bottom":"right",C=l+u[y],R=l-u[b];l=Xe(C,l,R)}if(i){const y=d==="y"?"top":"left",b=d==="y"?"bottom":"right",C=m+u[y],R=m-u[b];m=Xe(C,m,R)}const g=c.fn({...t,[p]:l,[d]:m});return{...g,data:{x:g.x-o,y:g.y-n,enabled:{[p]:s,[d]:i}}}}}},dn=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:o,y:n,placement:r,rects:s,middlewareData:i}=t,{offset:c=0,mainAxis:a=!0,crossAxis:f=!0}=se(e,t),u={x:o,y:n},d=Q(r),p=Ge(d);let l=u[p],m=u[d];const g=se(c,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(a){const R=p==="y"?"height":"width",P=s.reference[p]-s.floating[R]+y.mainAxis,S=s.reference[p]+s.reference[R]-y.mainAxis;l<P?l=P:l>S&&(l=S)}if(f){var b,C;const R=p==="y"?"width":"height",P=Ct.has(ce(r)),S=s.reference[d]-s.floating[R]+(P&&((b=i.offset)==null?void 0:b[d])||0)+(P?0:y.crossAxis),D=s.reference[d]+s.reference[R]+(P?0:((C=i.offset)==null?void 0:C[d])||0)-(P?y.crossAxis:0);m<S?m=S:m>D&&(m=D)}return{[p]:l,[d]:m}}}},mn=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var o,n;const{placement:r,rects:s,platform:i,elements:c}=t,{apply:a=()=>{},...f}=se(e,t),u=await xe(t,f),d=ce(r),p=ve(r),l=Q(r)==="y",{width:m,height:g}=s.floating;let y,b;d==="top"||d==="bottom"?(y=d,b=p===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(b=d,y=p==="end"?"top":"bottom");const C=g-u.top-u.bottom,R=m-u.left-u.right,P=ue(g-u[y],C),S=ue(m-u[b],R),D=!t.middlewareData.shift;let k=P,B=S;if((o=t.middlewareData.shift)!=null&&o.enabled.x&&(B=R),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=C),D&&!p){const F=z(u.left,0),W=z(u.right,0),I=z(u.top,0),L=z(u.bottom,0);l?B=m-2*(F!==0||W!==0?F+W:z(u.left,u.right)):k=g-2*(I!==0||L!==0?I+L:z(u.top,u.bottom))}await a({...t,availableWidth:B,availableHeight:k});const _=await i.getDimensions(c.floating);return m!==_.width||g!==_.height?{reset:{rects:!0}}:{}}}};function Me(){return typeof window<"u"}function we(e){return Pt(e)?(e.nodeName||"").toLowerCase():"#document"}function X(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ee(e){var t;return(t=(Pt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Pt(e){return Me()?e instanceof Node||e instanceof X(e).Node:!1}function $(e){return Me()?e instanceof Element||e instanceof X(e).Element:!1}function U(e){return Me()?e instanceof HTMLElement||e instanceof X(e).HTMLElement:!1}function Le(e){return!Me()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof X(e).ShadowRoot}const gn=new Set(["inline","contents"]);function Re(e){const{overflow:t,overflowX:o,overflowY:n,display:r}=G(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+o)&&!gn.has(r)}const pn=new Set(["table","td","th"]);function hn(e){return pn.has(we(e))}const vn=[":popover-open",":modal"];function De(e){return vn.some(t=>{try{return e.matches(t)}catch{return!1}})}const wn=["transform","translate","scale","rotate","perspective"],yn=["transform","translate","scale","rotate","perspective","filter"],xn=["paint","layout","strict","content"];function Ze(e){const t=ke(),o=$(e)?G(e):e;return wn.some(n=>o[n]?o[n]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!t&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!t&&(o.filter?o.filter!=="none":!1)||yn.some(n=>(o.willChange||"").includes(n))||xn.some(n=>(o.contain||"").includes(n))}function bn(e){let t=le(e);for(;U(t)&&!re(t);){if(Ze(t))return t;if(De(t))return null;t=le(t)}return null}function ke(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Rn=new Set(["html","body","#document"]);function re(e){return Rn.has(we(e))}function G(e){return X(e).getComputedStyle(e)}function Fe(e){return $(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function le(e){if(we(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Le(e)&&e.host||ee(e);return Le(t)?t.host:t}function Ot(e){const t=le(e);return re(t)?e.ownerDocument?e.ownerDocument.body:e.body:U(t)&&Re(t)?t:Ot(t)}function fe(e,t,o){var n;t===void 0&&(t=[]),o===void 0&&(o=!0);const r=Ot(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),i=X(r);if(s){const c=Ue(i);return t.concat(i,i.visualViewport||[],Re(r)?r:[],c&&o?fe(c):[])}return t.concat(r,fe(r,[],o))}function Ue(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function St(e){const t=G(e);let o=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const r=U(e),s=r?e.offsetWidth:o,i=r?e.offsetHeight:n,c=Oe(o)!==s||Oe(n)!==i;return c&&(o=s,n=i),{width:o,height:n,$:c}}function et(e){return $(e)?e:e.contextElement}function he(e){const t=et(e);if(!U(t))return Z(1);const o=t.getBoundingClientRect(),{width:n,height:r,$:s}=St(t);let i=(s?Oe(o.width):o.width)/n,c=(s?Oe(o.height):o.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const En=Z(0);function At(e){const t=X(e);return!ke()||!t.visualViewport?En:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Cn(e,t,o){return t===void 0&&(t=!1),!o||t&&o!==X(e)?!1:t}function ge(e,t,o,n){t===void 0&&(t=!1),o===void 0&&(o=!1);const r=e.getBoundingClientRect(),s=et(e);let i=Z(1);t&&(n?$(n)&&(i=he(n)):i=he(e));const c=Cn(s,o,n)?At(s):Z(0);let a=(r.left+c.x)/i.x,f=(r.top+c.y)/i.y,u=r.width/i.x,d=r.height/i.y;if(s){const p=X(s),l=n&&$(n)?X(n):n;let m=p,g=Ue(m);for(;g&&n&&l!==m;){const y=he(g),b=g.getBoundingClientRect(),C=G(g),R=b.left+(g.clientLeft+parseFloat(C.paddingLeft))*y.x,P=b.top+(g.clientTop+parseFloat(C.paddingTop))*y.y;a*=y.x,f*=y.y,u*=y.x,d*=y.y,a+=R,f+=P,m=X(g),g=Ue(m)}}return Ae({width:u,height:d,x:a,y:f})}function _e(e,t){const o=Fe(e).scrollLeft;return t?t.left+o:ge(ee(e)).left+o}function Lt(e,t){const o=e.getBoundingClientRect(),n=o.left+t.scrollLeft-_e(e,o),r=o.top+t.scrollTop;return{x:n,y:r}}function Pn(e){let{elements:t,rect:o,offsetParent:n,strategy:r}=e;const s=r==="fixed",i=ee(n),c=t?De(t.floating):!1;if(n===i||c&&s)return o;let a={scrollLeft:0,scrollTop:0},f=Z(1);const u=Z(0),d=U(n);if((d||!d&&!s)&&((we(n)!=="body"||Re(i))&&(a=Fe(n)),U(n))){const l=ge(n);f=he(n),u.x=l.x+n.clientLeft,u.y=l.y+n.clientTop}const p=i&&!d&&!s?Lt(i,a):Z(0);return{width:o.width*f.x,height:o.height*f.y,x:o.x*f.x-a.scrollLeft*f.x+u.x+p.x,y:o.y*f.y-a.scrollTop*f.y+u.y+p.y}}function On(e){return Array.from(e.getClientRects())}function Sn(e){const t=ee(e),o=Fe(e),n=e.ownerDocument.body,r=z(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=z(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-o.scrollLeft+_e(e);const c=-o.scrollTop;return G(n).direction==="rtl"&&(i+=z(t.clientWidth,n.clientWidth)-r),{width:r,height:s,x:i,y:c}}const ct=25;function An(e,t){const o=X(e),n=ee(e),r=o.visualViewport;let s=n.clientWidth,i=n.clientHeight,c=0,a=0;if(r){s=r.width,i=r.height;const u=ke();(!u||u&&t==="fixed")&&(c=r.offsetLeft,a=r.offsetTop)}const f=_e(n);if(f<=0){const u=n.ownerDocument,d=u.body,p=getComputedStyle(d),l=u.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,m=Math.abs(n.clientWidth-d.clientWidth-l);m<=ct&&(s-=m)}else f<=ct&&(s+=f);return{width:s,height:i,x:c,y:a}}const Ln=new Set(["absolute","fixed"]);function Tn(e,t){const o=ge(e,!0,t==="fixed"),n=o.top+e.clientTop,r=o.left+e.clientLeft,s=U(e)?he(e):Z(1),i=e.clientWidth*s.x,c=e.clientHeight*s.y,a=r*s.x,f=n*s.y;return{width:i,height:c,x:a,y:f}}function lt(e,t,o){let n;if(t==="viewport")n=An(e,o);else if(t==="document")n=Sn(ee(e));else if($(t))n=Tn(t,o);else{const r=At(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Ae(n)}function Tt(e,t){const o=le(e);return o===t||!$(o)||re(o)?!1:G(o).position==="fixed"||Tt(o,t)}function Mn(e,t){const o=t.get(e);if(o)return o;let n=fe(e,[],!1).filter(c=>$(c)&&we(c)!=="body"),r=null;const s=G(e).position==="fixed";let i=s?le(e):e;for(;$(i)&&!re(i);){const c=G(i),a=Ze(i);!a&&c.position==="fixed"&&(r=null),(s?!a&&!r:!a&&c.position==="static"&&!!r&&Ln.has(r.position)||Re(i)&&!a&&Tt(e,i))?n=n.filter(u=>u!==i):r=c,i=le(i)}return t.set(e,n),n}function Dn(e){let{element:t,boundary:o,rootBoundary:n,strategy:r}=e;const i=[...o==="clippingAncestors"?De(t)?[]:Mn(t,this._c):[].concat(o),n],c=i[0],a=i.reduce((f,u)=>{const d=lt(t,u,r);return f.top=z(d.top,f.top),f.right=ue(d.right,f.right),f.bottom=ue(d.bottom,f.bottom),f.left=z(d.left,f.left),f},lt(t,c,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function kn(e){const{width:t,height:o}=St(e);return{width:t,height:o}}function Fn(e,t,o){const n=U(t),r=ee(t),s=o==="fixed",i=ge(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const a=Z(0);function f(){a.x=_e(r)}if(n||!n&&!s)if((we(t)!=="body"||Re(r))&&(c=Fe(t)),n){const l=ge(t,!0,s,t);a.x=l.x+t.clientLeft,a.y=l.y+t.clientTop}else r&&f();s&&!n&&r&&f();const u=r&&!n&&!s?Lt(r,c):Z(0),d=i.left+c.scrollLeft-a.x-u.x,p=i.top+c.scrollTop-a.y-u.y;return{x:d,y:p,width:i.width,height:i.height}}function Ie(e){return G(e).position==="static"}function at(e,t){if(!U(e)||G(e).position==="fixed")return null;if(t)return t(e);let o=e.offsetParent;return ee(e)===o&&(o=o.ownerDocument.body),o}function Mt(e,t){const o=X(e);if(De(e))return o;if(!U(e)){let r=le(e);for(;r&&!re(r);){if($(r)&&!Ie(r))return r;r=le(r)}return o}let n=at(e,t);for(;n&&hn(n)&&Ie(n);)n=at(n,t);return n&&re(n)&&Ie(n)&&!Ze(n)?o:n||bn(e)||o}const _n=async function(e){const t=this.getOffsetParent||Mt,o=this.getDimensions,n=await o(e.floating);return{reference:Fn(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function $n(e){return G(e).direction==="rtl"}const In={convertOffsetParentRelativeRectToViewportRelativeRect:Pn,getDocumentElement:ee,getClippingRect:Dn,getOffsetParent:Mt,getElementRects:_n,getClientRects:On,getDimensions:kn,getScale:he,isElement:$,isRTL:$n};function Dt(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Nn(e,t){let o=null,n;const r=ee(e);function s(){var c;clearTimeout(n),(c=o)==null||c.disconnect(),o=null}function i(c,a){c===void 0&&(c=!1),a===void 0&&(a=1),s();const f=e.getBoundingClientRect(),{left:u,top:d,width:p,height:l}=f;if(c||t(),!p||!l)return;const m=Ee(d),g=Ee(r.clientWidth-(u+p)),y=Ee(r.clientHeight-(d+l)),b=Ee(u),R={rootMargin:-m+"px "+-g+"px "+-y+"px "+-b+"px",threshold:z(0,ue(1,a))||1};let P=!0;function S(D){const k=D[0].intersectionRatio;if(k!==a){if(!P)return i();k?i(!1,k):n=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!Dt(f,e.getBoundingClientRect())&&i(),P=!1}try{o=new IntersectionObserver(S,{...R,root:r.ownerDocument})}catch{o=new IntersectionObserver(S,R)}o.observe(e)}return i(!0),s}function Io(e,t,o,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:a=!1}=n,f=et(e),u=r||s?[...f?fe(f):[],...fe(t)]:[];u.forEach(b=>{r&&b.addEventListener("scroll",o,{passive:!0}),s&&b.addEventListener("resize",o)});const d=f&&c?Nn(f,o):null;let p=-1,l=null;i&&(l=new ResizeObserver(b=>{let[C]=b;C&&C.target===f&&l&&(l.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var R;(R=l)==null||R.observe(t)})),o()}),f&&!a&&l.observe(f),l.observe(t));let m,g=a?ge(e):null;a&&y();function y(){const b=ge(e);g&&!Dt(g,b)&&o(),g=b,m=requestAnimationFrame(y)}return o(),()=>{var b;u.forEach(C=>{r&&C.removeEventListener("scroll",o),s&&C.removeEventListener("resize",o)}),d?.(),(b=l)==null||b.disconnect(),l=null,a&&cancelAnimationFrame(m)}}const Bn=fn,Wn=un,Hn=cn,Vn=mn,jn=ln,ft=sn,Kn=dn,Yn=(e,t,o)=>{const n=new Map,r={platform:In,...o},s={...r.platform,_c:n};return rn(e,t,{...r,platform:s})};var Xn=typeof document<"u",zn=function(){},Pe=Xn?h.useLayoutEffect:zn;function Te(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let o,n,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(n=o;n--!==0;)if(!Te(e[n],t[n]))return!1;return!0}if(r=Object.keys(e),o=r.length,o!==Object.keys(t).length)return!1;for(n=o;n--!==0;)if(!{}.hasOwnProperty.call(t,r[n]))return!1;for(n=o;n--!==0;){const s=r[n];if(!(s==="_owner"&&e.$$typeof)&&!Te(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function kt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ut(e,t){const o=kt(e);return Math.round(t*o)/o}function Ne(e){const t=h.useRef(e);return Pe(()=>{t.current=e}),t}function Un(e){e===void 0&&(e={});const{placement:t="bottom",strategy:o="absolute",middleware:n=[],platform:r,elements:{reference:s,floating:i}={},transform:c=!0,whileElementsMounted:a,open:f}=e,[u,d]=h.useState({x:0,y:0,strategy:o,placement:t,middlewareData:{},isPositioned:!1}),[p,l]=h.useState(n);Te(p,n)||l(n);const[m,g]=h.useState(null),[y,b]=h.useState(null),C=h.useCallback(x=>{x!==D.current&&(D.current=x,g(x))},[]),R=h.useCallback(x=>{x!==k.current&&(k.current=x,b(x))},[]),P=s||m,S=i||y,D=h.useRef(null),k=h.useRef(null),B=h.useRef(u),_=a!=null,F=Ne(a),W=Ne(r),I=Ne(f),L=h.useCallback(()=>{if(!D.current||!k.current)return;const x={placement:t,strategy:o,middleware:p};W.current&&(x.platform=W.current),Yn(D.current,k.current,x).then(w=>{const A={...w,isPositioned:I.current!==!1};v.current&&!Te(B.current,A)&&(B.current=A,Rt.flushSync(()=>{d(A)}))})},[p,t,o,W,I]);Pe(()=>{f===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,d(x=>({...x,isPositioned:!1})))},[f]);const v=h.useRef(!1);Pe(()=>(v.current=!0,()=>{v.current=!1}),[]),Pe(()=>{if(P&&(D.current=P),S&&(k.current=S),P&&S){if(F.current)return F.current(P,S,L);L()}},[P,S,L,F,_]);const O=h.useMemo(()=>({reference:D,floating:k,setReference:C,setFloating:R}),[C,R]),T=h.useMemo(()=>({reference:P,floating:S}),[P,S]),E=h.useMemo(()=>{const x={position:o,left:0,top:0};if(!T.floating)return x;const w=ut(T.floating,u.x),A=ut(T.floating,u.y);return c?{...x,transform:"translate("+w+"px, "+A+"px)",...kt(T.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:w,top:A}},[o,c,T.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:L,refs:O,elements:T,floatingStyles:E}),[u,L,O,T,E])}const qn=e=>{function t(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){const{element:n,padding:r}=typeof e=="function"?e(o):e;return n&&t(n)?n.current!=null?ft({element:n.current,padding:r}).fn(o):{}:n?ft({element:n,padding:r}).fn(o):{}}}},No=(e,t)=>({...Bn(e),options:[e,t]}),Bo=(e,t)=>({...Wn(e),options:[e,t]}),Wo=(e,t)=>({...Kn(e),options:[e,t]}),Ho=(e,t)=>({...Hn(e),options:[e,t]}),Vo=(e,t)=>({...Vn(e),options:[e,t]}),jo=(e,t)=>({...jn(e),options:[e,t]}),Ko=(e,t)=>({...qn(e),options:[e,t]});var Gn=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const Yo=h.forwardRef((e,t)=>{var{as:o="button",variant:n="primary",className:r,children:s,size:i="medium",loading:c=!1,disabled:a,icon:f,iconPosition:u="left",onKeyUp:d,"data-color":p}=e,l=Gn(e,["as","variant","className","children","size","loading","disabled","icon","iconPosition","onKeyUp","data-color"]);const{cn:m}=Ht(),g=a||c?jt(l,["href"]):l,y=b=>{b.key===" "&&!a&&!c&&b.currentTarget.click()};return ye.createElement(o,Object.assign({},o!=="button"?{role:"button"}:{},{"data-color":p??Jn(n),"data-variant":Qn(n)},g,{ref:t,onKeyUp:Yt(d,y),className:m(r,"navds-button",`navds-button--${n}`,`navds-button--${i}`,{"navds-button--loading":c,"navds-button--icon-only":!!f&&!s,"navds-button--disabled":a??c}),disabled:a??c?!0:void 0}),f&&u==="left"&&ye.createElement("span",{className:m("navds-button__icon")},f),c&&ye.createElement(Vt,{size:i}),s&&ye.createElement(Kt,{as:"span",size:i==="medium"?"medium":"small"},s),f&&u==="right"&&ye.createElement("span",{className:m("navds-button__icon")},f))});function Jn(e){switch(e){case"primary-neutral":case"secondary-neutral":case"tertiary-neutral":return"neutral";case"danger":return"danger";default:return}}function Qn(e){switch(e){case"primary":case"primary-neutral":case"danger":return"primary";case"secondary":case"secondary-neutral":return"secondary";case"tertiary":case"tertiary-neutral":return"tertiary";default:return"primary"}}function Zn(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function eo(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:o,version:n}=t;return o+"/"+n}).join(" "):navigator.userAgent}function to(){return/apple/i.test(navigator.vendor)}function no(){return Zn().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function oo(){return eo().includes("jsdom/")}const ro="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function dt(e){let t=e.activeElement;for(;((o=t)==null||(o=o.shadowRoot)==null?void 0:o.activeElement)!=null;){var o;t=t.shadowRoot.activeElement}return t}function be(e,t){if(!e||!t)return!1;const o=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(o&&Le(o)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function pe(e){return"composedPath"in e?e.composedPath()[0]:e.target}function Be(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const o=e;return o.target!=null&&t.contains(o.target)}function io(e){return e.matches("html,body")}function me(e){return e?.ownerDocument||document}function so(e){return U(e)&&e.matches(ro)}function co(e){if(!e||oo())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function We(e,t,o){o===void 0&&(o=!0);let n=e.filter(s=>{var i;return s.parentId===t&&((i=s.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=o?e.filter(s=>{var i;return(i=r)==null?void 0:i.some(c=>{var a;return s.parentId===c.id&&((a=s.context)==null?void 0:a.open)})}):e,n=n.concat(r);return n}function lo(e){return"nativeEvent"in e}function qe(e,t){const o=["mouse","pen"];return o.push("",void 0),o.includes(e)}var ie=typeof document<"u"?h.useLayoutEffect:h.useEffect;const ao={...bt};function Ce(e){const t=h.useRef(e);return ie(()=>{t.current=e}),t}const fo=ao.useInsertionEffect,uo=fo||(e=>e());function oe(e){const t=h.useRef(()=>{});return uo(()=>{t.current=e}),h.useCallback(function(){for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t.current==null?void 0:t.current(...n)},[])}const mo="data-floating-ui-focusable",mt="active",gt="selected",go={...bt};let pt=!1,po=0;const ht=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+po++;function ho(){const[e,t]=h.useState(()=>pt?ht():void 0);return ie(()=>{e==null&&t(ht())},[]),h.useEffect(()=>{pt=!0},[]),e}const vo=go.useId,Ft=vo||ho;function wo(){const e=new Map;return{emit(t,o){var n;(n=e.get(t))==null||n.forEach(r=>r(o))},on(t,o){e.has(t)||e.set(t,new Set),e.get(t).add(o)},off(t,o){var n;(n=e.get(t))==null||n.delete(o)}}}const yo=h.createContext(null),xo=h.createContext(null),_t=()=>{var e;return((e=h.useContext(yo))==null?void 0:e.id)||null},tt=()=>h.useContext(xo);function $e(e){return"data-floating-ui-"+e}function q(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}const vt=$e("safe-polygon");function He(e,t,o){if(o&&!qe(o))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const n=e();return typeof n=="number"?n:n?.[t]}return e?.[t]}function Ve(e){return typeof e=="function"?e():e}function Xo(e,t){t===void 0&&(t={});const{open:o,onOpenChange:n,dataRef:r,events:s,elements:i}=e,{enabled:c=!0,delay:a=0,handleClose:f=null,mouseOnly:u=!1,restMs:d=0,move:p=!0}=t,l=tt(),m=_t(),g=Ce(f),y=Ce(a),b=Ce(o),C=Ce(d),R=h.useRef(),P=h.useRef(-1),S=h.useRef(),D=h.useRef(-1),k=h.useRef(!0),B=h.useRef(!1),_=h.useRef(()=>{}),F=h.useRef(!1),W=h.useCallback(()=>{var E;const x=(E=r.current.openEvent)==null?void 0:E.type;return x?.includes("mouse")&&x!=="mousedown"},[r]);h.useEffect(()=>{if(!c)return;function E(x){let{open:w}=x;w||(q(P),q(D),k.current=!0,F.current=!1)}return s.on("openchange",E),()=>{s.off("openchange",E)}},[c,s]),h.useEffect(()=>{if(!c||!g.current||!o)return;function E(w){W()&&n(!1,w,"hover")}const x=me(i.floating).documentElement;return x.addEventListener("mouseleave",E),()=>{x.removeEventListener("mouseleave",E)}},[i.floating,o,n,c,g,W]);const I=h.useCallback(function(E,x,w){x===void 0&&(x=!0),w===void 0&&(w="hover");const A=He(y.current,"close",R.current);A&&!S.current?(q(P),P.current=window.setTimeout(()=>n(!1,E,w),A)):x&&(q(P),n(!1,E,w))},[y,n]),L=oe(()=>{_.current(),S.current=void 0}),v=oe(()=>{if(B.current){const E=me(i.floating).body;E.style.pointerEvents="",E.removeAttribute(vt),B.current=!1}}),O=oe(()=>r.current.openEvent?["click","mousedown"].includes(r.current.openEvent.type):!1);h.useEffect(()=>{if(!c)return;function E(M){if(q(P),k.current=!1,u&&!qe(R.current)||Ve(C.current)>0&&!He(y.current,"open"))return;const V=He(y.current,"open",R.current);V?P.current=window.setTimeout(()=>{b.current||n(!0,M,"hover")},V):o||n(!0,M,"hover")}function x(M){if(O()){v();return}_.current();const V=me(i.floating);if(q(D),F.current=!1,g.current&&r.current.floatingContext){o||q(P),S.current=g.current({...r.current.floatingContext,tree:l,x:M.clientX,y:M.clientY,onClose(){v(),L(),O()||I(M,!0,"safe-polygon")}});const J=S.current;V.addEventListener("mousemove",J),_.current=()=>{V.removeEventListener("mousemove",J)};return}(R.current==="touch"?!be(i.floating,M.relatedTarget):!0)&&I(M)}function w(M){O()||r.current.floatingContext&&(g.current==null||g.current({...r.current.floatingContext,tree:l,x:M.clientX,y:M.clientY,onClose(){v(),L(),O()||I(M)}})(M))}function A(){q(P)}function H(M){O()||I(M,!1)}if($(i.domReference)){const M=i.domReference,V=i.floating;return o&&M.addEventListener("mouseleave",w),p&&M.addEventListener("mousemove",E,{once:!0}),M.addEventListener("mouseenter",E),M.addEventListener("mouseleave",x),V&&(V.addEventListener("mouseleave",w),V.addEventListener("mouseenter",A),V.addEventListener("mouseleave",H)),()=>{o&&M.removeEventListener("mouseleave",w),p&&M.removeEventListener("mousemove",E),M.removeEventListener("mouseenter",E),M.removeEventListener("mouseleave",x),V&&(V.removeEventListener("mouseleave",w),V.removeEventListener("mouseenter",A),V.removeEventListener("mouseleave",H))}}},[i,c,e,u,p,I,L,v,n,o,b,l,y,g,r,O,C]),ie(()=>{var E;if(c&&o&&(E=g.current)!=null&&E.__options.blockPointerEvents&&W()){B.current=!0;const w=i.floating;if($(i.domReference)&&w){var x;const A=me(i.floating).body;A.setAttribute(vt,"");const H=i.domReference,M=l==null||(x=l.nodesRef.current.find(V=>V.id===m))==null||(x=x.context)==null?void 0:x.elements.floating;return M&&(M.style.pointerEvents=""),A.style.pointerEvents="none",H.style.pointerEvents="auto",w.style.pointerEvents="auto",()=>{A.style.pointerEvents="",H.style.pointerEvents="",w.style.pointerEvents=""}}}},[c,o,m,i,l,g,W]),ie(()=>{o||(R.current=void 0,F.current=!1,L(),v())},[o,L,v]),h.useEffect(()=>()=>{L(),q(P),q(D),v()},[c,i.domReference,L,v]);const T=h.useMemo(()=>{function E(x){R.current=x.pointerType}return{onPointerDown:E,onPointerEnter:E,onMouseMove(x){const{nativeEvent:w}=x;function A(){!k.current&&!b.current&&n(!0,w,"hover")}u&&!qe(R.current)||o||Ve(C.current)===0||F.current&&x.movementX**2+x.movementY**2<2||(q(D),R.current==="touch"?A():(F.current=!0,D.current=window.setTimeout(A,Ve(C.current))))}}},[u,n,o,b,C]);return h.useMemo(()=>c?{reference:T}:{},[c,T])}function je(e,t){if(!e||!t)return!1;const o=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(o&&Le(o)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function bo(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Ro=h.createContext(null),wt=$e("portal");function zo(e){e===void 0&&(e={});const{id:t,root:o}=e,n=Ft(),r=Eo(),[s,i]=h.useState(null),c=h.useRef(null);return ie(()=>()=>{s?.remove(),queueMicrotask(()=>{c.current=null})},[s]),ie(()=>{if(!n||c.current)return;const a=t?document.getElementById(t):null;if(!a)return;const f=document.createElement("div");f.id=n,f.setAttribute(wt,""),a.appendChild(f),c.current=f,i(f)},[t,n]),ie(()=>{if(o===null||!n||c.current)return;let a=o||r?.portalNode;a&&!$(a)&&(a=a.current),a=a||document.body;let f=null;t&&(f=document.createElement("div"),f.id=t,a.appendChild(f));const u=document.createElement("div");u.id=n,u.setAttribute(wt,""),a=f||a,a.appendChild(u),c.current=u,i(u)},[t,o,n,r]),s}const Eo=()=>h.useContext(Ro),Co={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Po={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},yt=e=>{var t,o;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(o=e?.outsidePress)!=null?o:!0}};function Uo(e,t){t===void 0&&(t={});const{open:o,onOpenChange:n,elements:r,dataRef:s}=e,{enabled:i=!0,escapeKey:c=!0,outsidePress:a=!0,outsidePressEvent:f="pointerdown",referencePress:u=!1,referencePressEvent:d="pointerdown",ancestorScroll:p=!1,bubbles:l,capture:m}=t,g=tt(),y=oe(typeof a=="function"?a:()=>!1),b=typeof a=="function"?y:a,C=h.useRef(!1),R=h.useRef(!1),{escapeKey:P,outsidePress:S}=yt(l),{escapeKey:D,outsidePress:k}=yt(m),B=h.useRef(!1),_=oe(O=>{var T;if(!o||!i||!c||O.key!=="Escape"||B.current)return;const E=(T=s.current.floatingContext)==null?void 0:T.nodeId,x=g?We(g.nodesRef.current,E):[];if(!P&&(O.stopPropagation(),x.length>0)){let w=!0;if(x.forEach(A=>{var H;if((H=A.context)!=null&&H.open&&!A.context.dataRef.current.__escapeKeyBubbles){w=!1;return}}),!w)return}n(!1,lo(O)?O.nativeEvent:O,"escape-key")}),F=oe(O=>{var T;const E=()=>{var x;_(O),(x=pe(O))==null||x.removeEventListener("keydown",E)};(T=pe(O))==null||T.addEventListener("keydown",E)}),W=oe(O=>{var T;const E=C.current;C.current=!1;const x=R.current;if(R.current=!1,f==="click"&&x||E||typeof b=="function"&&!b(O))return;const w=pe(O),A="["+$e("inert")+"]",H=me(r.floating).querySelectorAll(A);let M=$(w)?w:null;for(;M&&!re(M);){const Y=le(M);if(re(Y)||!$(Y))break;M=Y}if(H.length&&$(w)&&!io(w)&&!be(w,r.floating)&&Array.from(H).every(Y=>!be(M,Y)))return;if(U(w)&&v){const Y=re(w),K=G(w),N=/auto|scroll/,j=Y||N.test(K.overflowX),te=Y||N.test(K.overflowY),ne=j&&w.clientWidth>0&&w.scrollWidth>w.clientWidth,ae=te&&w.clientHeight>0&&w.scrollHeight>w.clientHeight,$t=K.direction==="rtl",It=ae&&($t?O.offsetX<=w.offsetWidth-w.clientWidth:O.offsetX>w.clientWidth),Nt=ne&&O.offsetY>w.clientHeight;if(It||Nt)return}const V=(T=s.current.floatingContext)==null?void 0:T.nodeId,de=g&&We(g.nodesRef.current,V).some(Y=>{var K;return Be(O,(K=Y.context)==null?void 0:K.elements.floating)});if(Be(O,r.floating)||Be(O,r.domReference)||de)return;const J=g?We(g.nodesRef.current,V):[];if(J.length>0){let Y=!0;if(J.forEach(K=>{var N;if((N=K.context)!=null&&N.open&&!K.context.dataRef.current.__outsidePressBubbles){Y=!1;return}}),!Y)return}n(!1,O,"outside-press")}),I=oe(O=>{var T;const E=()=>{var x;W(O),(x=pe(O))==null||x.removeEventListener(f,E)};(T=pe(O))==null||T.addEventListener(f,E)});h.useEffect(()=>{if(!o||!i)return;s.current.__escapeKeyBubbles=P,s.current.__outsidePressBubbles=S;let O=-1;function T(H){n(!1,H,"ancestor-scroll")}function E(){window.clearTimeout(O),B.current=!0}function x(){O=window.setTimeout(()=>{B.current=!1},ke()?5:0)}const w=me(r.floating);c&&(w.addEventListener("keydown",D?F:_,D),w.addEventListener("compositionstart",E),w.addEventListener("compositionend",x)),b&&w.addEventListener(f,k?I:W,k);let A=[];return p&&($(r.domReference)&&(A=fe(r.domReference)),$(r.floating)&&(A=A.concat(fe(r.floating))),!$(r.reference)&&r.reference&&r.reference.contextElement&&(A=A.concat(fe(r.reference.contextElement)))),A=A.filter(H=>{var M;return H!==((M=w.defaultView)==null?void 0:M.visualViewport)}),A.forEach(H=>{H.addEventListener("scroll",T,{passive:!0})}),()=>{c&&(w.removeEventListener("keydown",D?F:_,D),w.removeEventListener("compositionstart",E),w.removeEventListener("compositionend",x)),b&&w.removeEventListener(f,k?I:W,k),A.forEach(H=>{H.removeEventListener("scroll",T)}),window.clearTimeout(O)}},[s,r,c,b,f,o,n,p,i,P,S,_,D,F,W,k,I]),h.useEffect(()=>{C.current=!1},[b,f]);const L=h.useMemo(()=>({onKeyDown:_,...u&&{[Co[d]]:O=>{n(!1,O.nativeEvent,"reference-press")},...d!=="click"&&{onClick(O){n(!1,O.nativeEvent,"reference-press")}}}}),[_,n,u,d]),v=h.useMemo(()=>({onKeyDown:_,onMouseDown(){R.current=!0},onMouseUp(){R.current=!0},[Po[f]]:()=>{C.current=!0}}),[_,f]);return h.useMemo(()=>i?{reference:L,floating:v}:{},[i,L,v])}function Oo(e){const{open:t=!1,onOpenChange:o,elements:n}=e,r=Ft(),s=h.useRef({}),[i]=h.useState(()=>wo()),c=_t()!=null,[a,f]=h.useState(n.reference),u=oe((l,m,g)=>{s.current.openEvent=l?m:void 0,i.emit("openchange",{open:l,event:m,reason:g,nested:c}),o?.(l,m,g)}),d=h.useMemo(()=>({setPositionReference:f}),[]),p=h.useMemo(()=>({reference:a||n.reference||null,floating:n.floating||null,domReference:n.reference}),[a,n.reference,n.floating]);return h.useMemo(()=>({dataRef:s,open:t,onOpenChange:u,elements:p,events:i,floatingId:r,refs:d}),[t,u,p,i,r,d])}function qo(e){e===void 0&&(e={});const{nodeId:t}=e,o=Oo({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||o,r=n.elements,[s,i]=h.useState(null),[c,a]=h.useState(null),u=r?.domReference||s,d=h.useRef(null),p=tt();ie(()=>{u&&(d.current=u)},[u]);const l=Un({...e,elements:{...r,...c&&{reference:c}}}),m=h.useCallback(R=>{const P=$(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),getClientRects:()=>R.getClientRects(),contextElement:R}:R;a(P),l.refs.setReference(P)},[l.refs]),g=h.useCallback(R=>{($(R)||R===null)&&(d.current=R,i(R)),($(l.refs.reference.current)||l.refs.reference.current===null||R!==null&&!$(R))&&l.refs.setReference(R)},[l.refs]),y=h.useMemo(()=>({...l.refs,setReference:g,setPositionReference:m,domReference:d}),[l.refs,g,m]),b=h.useMemo(()=>({...l.elements,domReference:u}),[l.elements,u]),C=h.useMemo(()=>({...l,...n,refs:y,elements:b,nodeId:t}),[l,y,b,t,n]);return ie(()=>{n.dataRef.current.floatingContext=C;const R=p?.nodesRef.current.find(P=>P.id===t);R&&(R.context=C)}),h.useMemo(()=>({...l,context:C,refs:y,elements:b}),[l,y,b,C])}function Ke(){return no()&&to()}function Go(e,t){t===void 0&&(t={});const{open:o,onOpenChange:n,events:r,dataRef:s,elements:i}=e,{enabled:c=!0,visibleOnly:a=!0}=t,f=h.useRef(!1),u=h.useRef(-1),d=h.useRef(!0);h.useEffect(()=>{if(!c)return;const l=X(i.domReference);function m(){!o&&U(i.domReference)&&i.domReference===dt(me(i.domReference))&&(f.current=!0)}function g(){d.current=!0}function y(){d.current=!1}return l.addEventListener("blur",m),Ke()&&(l.addEventListener("keydown",g,!0),l.addEventListener("pointerdown",y,!0)),()=>{l.removeEventListener("blur",m),Ke()&&(l.removeEventListener("keydown",g,!0),l.removeEventListener("pointerdown",y,!0))}},[i.domReference,o,c]),h.useEffect(()=>{if(!c)return;function l(m){let{reason:g}=m;(g==="reference-press"||g==="escape-key")&&(f.current=!0)}return r.on("openchange",l),()=>{r.off("openchange",l)}},[r,c]),h.useEffect(()=>()=>{q(u)},[]);const p=h.useMemo(()=>({onMouseLeave(){f.current=!1},onFocus(l){if(f.current)return;const m=pe(l.nativeEvent);if(a&&$(m)){if(Ke()&&!l.relatedTarget){if(!d.current&&!so(m))return}else if(!co(m))return}n(!0,l.nativeEvent,"focus")},onBlur(l){f.current=!1;const m=l.relatedTarget,g=l.nativeEvent,y=$(m)&&m.hasAttribute($e("focus-guard"))&&m.getAttribute("data-type")==="outside";u.current=window.setTimeout(()=>{var b;const C=dt(i.domReference?i.domReference.ownerDocument:document);!m&&C===i.domReference||be((b=s.current.floatingContext)==null?void 0:b.refs.floating.current,C)||be(i.domReference,C)||y||n(!1,g,"focus")})}}),[s,i.domReference,n,a]);return h.useMemo(()=>c?{reference:p}:{},[c,p])}function Ye(e,t,o){const n=new Map,r=o==="item";let s=e;if(r&&e){const{[mt]:i,[gt]:c,...a}=e;s=a}return{...o==="floating"&&{tabIndex:-1,[mo]:""},...s,...t.map(i=>{const c=i?i[o]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((i,c)=>(c&&Object.entries(c).forEach(a=>{let[f,u]=a;if(!(r&&[mt,gt].includes(f)))if(f.indexOf("on")===0){if(n.has(f)||n.set(f,[]),typeof u=="function"){var d;(d=n.get(f))==null||d.push(u),i[f]=function(){for(var p,l=arguments.length,m=new Array(l),g=0;g<l;g++)m[g]=arguments[g];return(p=n.get(f))==null?void 0:p.map(y=>y(...m)).find(y=>y!==void 0)}}}else i[f]=u}),i),{})}}function Jo(e){e===void 0&&(e=[]);const t=e.map(c=>c?.reference),o=e.map(c=>c?.floating),n=e.map(c=>c?.item),r=h.useCallback(c=>Ye(c,e,"reference"),t),s=h.useCallback(c=>Ye(c,e,"floating"),o),i=h.useCallback(c=>Ye(c,e,"item"),n);return h.useMemo(()=>({getReferenceProps:r,getFloatingProps:s,getItemProps:i}),[r,s,i])}function So(e,t,o){o===void 0&&(o=!0);let n=e.filter(s=>{var i;return s.parentId===t&&((i=s.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=o?e.filter(s=>{var i;return(i=r)==null?void 0:i.some(c=>{var a;return s.parentId===c.id&&((a=s.context)==null?void 0:a.open)})}):e,n=n.concat(r);return n}function xt(e,t){const[o,n]=e;let r=!1;const s=t.length;for(let i=0,c=s-1;i<s;c=i++){const[a,f]=t[i]||[0,0],[u,d]=t[c]||[0,0];f>=n!=d>=n&&o<=(u-a)*(n-f)/(d-f)+a&&(r=!r)}return r}function Ao(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function Qo(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:o=!1,requireIntent:n=!0}=e;let r,s=!1,i=null,c=null,a=performance.now();function f(d,p){const l=performance.now(),m=l-a;if(i===null||c===null||m===0)return i=d,c=p,a=l,null;const g=d-i,y=p-c,C=Math.sqrt(g*g+y*y)/m;return i=d,c=p,a=l,C}const u=d=>{let{x:p,y:l,placement:m,elements:g,onClose:y,nodeId:b,tree:C}=d;return function(P){function S(){clearTimeout(r),y()}if(clearTimeout(r),!g.domReference||!g.floating||m==null||p==null||l==null)return;const{clientX:D,clientY:k}=P,B=[D,k],_=bo(P),F=P.type==="mouseleave",W=je(g.floating,_),I=je(g.domReference,_),L=g.domReference.getBoundingClientRect(),v=g.floating.getBoundingClientRect(),O=m.split("-")[0],T=p>v.right-v.width/2,E=l>v.bottom-v.height/2,x=Ao(B,L),w=v.width>L.width,A=v.height>L.height,H=(w?L:v).left,M=(w?L:v).right,V=(A?L:v).top,de=(A?L:v).bottom;if(W&&(s=!0,!F))return;if(I&&(s=!1),I&&!F){s=!0;return}if(F&&$(P.relatedTarget)&&je(g.floating,P.relatedTarget)||C&&So(C.nodesRef.current,b).some(K=>{let{context:N}=K;return N?.open}))return;if(O==="top"&&l>=L.bottom-1||O==="bottom"&&l<=L.top+1||O==="left"&&p>=L.right-1||O==="right"&&p<=L.left+1)return S();let J=[];switch(O){case"top":J=[[H,L.top+1],[H,v.bottom-1],[M,v.bottom-1],[M,L.top+1]];break;case"bottom":J=[[H,v.top+1],[H,L.bottom-1],[M,L.bottom-1],[M,v.top+1]];break;case"left":J=[[v.right-1,de],[v.right-1,V],[L.left+1,V],[L.left+1,de]];break;case"right":J=[[L.right-1,de],[L.right-1,V],[v.left+1,V],[v.left+1,de]];break}function Y(K){let[N,j]=K;switch(O){case"top":{const te=[w?N+t/2:T?N+t*4:N-t*4,j+t+1],ne=[w?N-t/2:T?N+t*4:N-t*4,j+t+1],ae=[[v.left,T||w?v.bottom-t:v.top],[v.right,T?w?v.bottom-t:v.top:v.bottom-t]];return[te,ne,...ae]}case"bottom":{const te=[w?N+t/2:T?N+t*4:N-t*4,j-t],ne=[w?N-t/2:T?N+t*4:N-t*4,j-t],ae=[[v.left,T||w?v.top+t:v.bottom],[v.right,T?w?v.top+t:v.bottom:v.top+t]];return[te,ne,...ae]}case"left":{const te=[N+t+1,A?j+t/2:E?j+t*4:j-t*4],ne=[N+t+1,A?j-t/2:E?j+t*4:j-t*4];return[...[[E||A?v.right-t:v.left,v.top],[E?A?v.right-t:v.left:v.right-t,v.bottom]],te,ne]}case"right":{const te=[N-t,A?j+t/2:E?j+t*4:j-t*4],ne=[N-t,A?j-t/2:E?j+t*4:j-t*4],ae=[[E||A?v.left+t:v.right,v.top],[E?A?v.left+t:v.right:v.left+t,v.bottom]];return[te,ne,...ae]}}}if(!xt([D,k],J)){if(s&&!x)return S();if(!F&&n){const K=f(P.clientX,P.clientY);if(K!==null&&K<.1)return S()}xt([D,k],Y([p,l]))?!s&&n&&(r=window.setTimeout(S,40)):S()}}};return u.__options={blockPointerEvents:o},u}export{Yo as B,_o as M,Fo as R,Un as a,Vo as b,Ko as c,Io as d,qo as e,Ho as f,Jo as g,jo as h,Xo as i,Go as j,Uo as k,Wo as l,Qo as m,zo as n,No as o,Rt as r,Bo as s,$o as u};
