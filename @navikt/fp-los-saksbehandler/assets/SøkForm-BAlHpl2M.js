import{r as p,R as l,c as N,f as Q,b as U,u as W,j as u,p as Y}from"./iframe-DcWfvX4E.js";import{a as Z,b as A,C as ee,d as re}from"./index.es-CrSE2Vo3.js";import{V as ae,H as te}from"./VStack-qlvPq9uV.js";import{B as q}from"./floating-ui.react-BQhJV-NN.js";import{u as ne,L as le,B as se,o as oe,E as ie}from"./nb_NO-B5yokG7b.js";import{u as L,M as P}from"./Loader-BgAJ8TXJ.js";import{u as de,a as F}from"./Modal-CkgRguxl.js";import{c as ce}from"./composeEventHandlers-rXV8Rneo.js";import{S as ue}from"./ExclamationmarkTriangleFill-VQXYKzUw.js";var me=function(r,n){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&n.indexOf(e)<0&&(t[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(r);a<e.length;a++)n.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(t[e[a]]=r[e[a]]);return t};const T=p.forwardRef((r,n)=>{var{title:t,titleId:e}=r,a=me(r,["title","titleId"]);let s=ne();return s=t?e||"title-"+s:void 0,l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:n,"aria-labelledby":s},a),t?l.createElement("title",{id:s},t):null,l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.5 3.25a7.25 7.25 0 1 0 4.569 12.88l5.411 5.41a.75.75 0 1 0 1.06-1.06l-5.41-5.411A7.25 7.25 0 0 0 10.5 3.25M4.75 10.5a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0",clipRule:"evenodd"}))}),V=p.createContext(null);var ve=function(r,n){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&n.indexOf(e)<0&&(t[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(r);a<e.length;a++)n.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(t[e[a]]=r[e[a]]);return t};const $=p.forwardRef((r,n)=>{var t,{className:e,children:a,disabled:s,onClick:o}=r,c=ve(r,["className","children","disabled","onClick"]);const{cn:h}=N(),g=L("Search"),f=p.useContext(V);if(f===null)return console.warn("<Search.Button> has to be wrapped in <Search />"),null;const{size:b,variant:i,handleClick:S}=f;return l.createElement(q,Object.assign({type:"submit"},c,{ref:n,size:b,variant:i==="secondary"?"secondary":"primary",className:h("navds-search__button-search",e),disabled:(t=f?.disabled)!==null&&t!==void 0?t:s,onClick:ce(o,S),icon:l.createElement(T,Object.assign({},a?{"aria-hidden":!0}:{title:g("search")}))}),a)});var fe=function(r,n){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&n.indexOf(e)<0&&(t[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(r);a<e.length;a++)n.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(t[e[a]]=r[e[a]]);return t};const I=p.forwardRef((r,n)=>{const{inputProps:t,size:e="medium",inputDescriptionId:a,errorId:s,showErrorMsg:o,hasError:c}=de(r,"searchfield"),{className:h,hideLabel:g=!0,label:f,description:b,value:i,clearButtonLabel:S,onClear:_,clearButton:H=!0,children:B,variant:y="primary",defaultValue:C,onChange:E,onSearchClick:k,htmlSize:O,"data-color":z}=r,D=fe(r,["className","hideLabel","label","description","value","clearButtonLabel","onClear","clearButton","children","variant","defaultValue","onChange","onSearchClick","htmlSize","data-color"]),{cn:m}=N(),w=p.useRef(null),G=Q(w,n),[x,K]=p.useState(C??""),R=d=>{i===void 0&&K(d),E?.(d)},M=d=>{var v,j;_?.(d),R(""),(j=(v=w.current)===null||v===void 0?void 0:v.focus)===null||j===void 0||j.call(v)},X=()=>{k?.(`${i??x}`)},J=H&&!t.disabled&&(i??x);return l.createElement("div",{onKeyDown:d=>{var v;d.key==="Escape"&&(!((v=w.current)===null||v===void 0)&&v.value&&d.preventDefault(),M({trigger:"Escape",event:d}))},className:m(h,"navds-form-field",`navds-form-field--${e}`,"navds-search",{"navds-search--error":c,"navds-search--disabled":t.disabled,"navds-search--with-size":O}),"data-color":z},l.createElement(le,{htmlFor:t.id,size:e,className:m("navds-form-field__label",{"navds-sr-only":g})},f),!!b&&l.createElement(se,{className:m("navds-form-field__description",{"navds-sr-only":g}),id:a,size:e,as:"div"},b),l.createElement("div",{className:m("navds-search__wrapper")},l.createElement("div",{className:m("navds-search__wrapper-inner")},y==="simple"&&l.createElement(T,{"aria-hidden":!0,className:m("navds-search__search-icon")}),l.createElement("input",Object.assign({ref:G},oe(D,["error","errorId","size","readOnly"]),t,{value:i??x,onChange:d=>R(d.target.value),type:"search",className:m(h,"navds-search__input",`navds-search__input--${y}`,"navds-text-field__input","navds-body-short",`navds-body-short--${e}`)},O?{size:Number(O)}:{})),J&&l.createElement(pe,{handleClear:M,size:e,clearButtonLabel:S})),l.createElement(V.Provider,{value:{size:e,disabled:t.disabled,variant:y,handleClick:X}},B||y!=="simple"&&l.createElement($,{"data-color":z}))),l.createElement("div",{className:m("navds-form-field__error"),id:s,"aria-relevant":"additions removals","aria-live":"polite"},o&&l.createElement(ie,{size:e,showIcon:!0},r.error)))});function pe({size:r,clearButtonLabel:n,handleClear:t}){const{cn:e}=N(),a=U(!1),s=L("Search");return a?.isDarkside?l.createElement(q,{className:e("navds-search__button-clear"),variant:"tertiary","data-color":"neutral",size:r==="medium"?"small":"xsmall",icon:l.createElement(F,{"aria-hidden":!0}),title:n||s("clear"),onClick:o=>t({trigger:"Click",event:o}),type:"button"}):l.createElement("button",{type:"button",onClick:o=>t({trigger:"Click",event:o}),className:e("navds-search__button-clear")},l.createElement("span",{className:e("navds-sr-only")},n||s("clear")),l.createElement(F,{"aria-hidden":!0}))}I.Button=$;const he="_advarselIcon_1nx6h_1",ge={advarselIcon:he},be=({onSubmit:r,searchResultAccessDenied:n,searchStarted:t,resetSearch:e,kanSaksbehandle:a})=>{const s=W(),o=Z(),{field:c}=A({name:"searchString",control:o.control,rules:{validate:h=>Y(h.trim())||!0}});return u.jsx(ee,{onSubmit:r,formMethods:o,children:u.jsxs(ae,{gap:"space-8",children:[u.jsx(I,{label:u.jsx(P,{id:"Search.SearchHeader"}),description:u.jsx(P,{id:"Search.SaksnummerOrPersonId"}),variant:"primary",value:c.value,error:o.formState.errors.searchString?.message,onChange:c.onChange,hideLabel:!1,htmlSize:"30",clearButton:!0,onClear:()=>{c.onChange(""),e()},children:u.jsx(I.Button,{type:"submit",loading:!n?.feilmelding&&t,disabled:!n?.feilmelding&&t||!c.value||c.value===""})}),a&&u.jsx(re,{name:"skalReservere",control:o.control,label:s.formatMessage({id:"Search.ReserverBehandling"}),onClick:e}),n?.feilmelding&&u.jsxs(te,{gap:"space-8",children:[u.jsx(ue,{className:ge.advarselIcon}),n.feilmelding]})]})})};be.__docgenInfo={description:`SøkForm

Definerer søkefelt og tilhørende søkeknapp.`,methods:[],displayName:"SøkForm",props:{onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(values: SøkFormValues) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  skalReservere: boolean;
  searchString: string;
}`,signature:{properties:[{key:"skalReservere",value:{name:"boolean",required:!0}},{key:"searchString",value:{name:"string",required:!0}}]}},name:"values"}],return:{name:"void"}}},description:""},searchStarted:{required:!0,tsType:{name:"boolean"},description:""},searchResultAccessDenied:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  feilmelding?: string;
}`,signature:{properties:[{key:"feilmelding",value:{name:"string",required:!1}}]}},description:""},resetSearch:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},kanSaksbehandle:{required:!0,tsType:{name:"boolean"},description:""}}};export{be as S};
