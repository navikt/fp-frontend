import{j as c}from"./jsx-runtime-QvZ8i92b.js";import{u as J,c as g,L as Q,B as U,o as Y,E as R,d as Z}from"./nb_NO-YKX2BiU8.js";import{a as D,u as A,$ as ee,w as re}from"./index.es-BOVNU-pM.js";import{c as z}from"./index.es-CQiD8l-s.js";import{V as ae,H as M}from"./VStack-BGxRFqgw.js";import{r as u,R as l}from"./index-uubelm5h.js";import{u as te}from"./Slot-CBut_XMV.js";import{u as q}from"./Loader-jHrtJ_3u.js";import{B as ne,S as le}from"./Modal-BhT7G_bu.js";import{c as se}from"./composeEventHandlers-DeH74NdU.js";import{S as oe}from"./ExclamationmarkTriangleFill-D8-WOHQX.js";var ie=function(r,n){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&n.indexOf(e)<0&&(t[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(r);a<e.length;a++)n.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(t[e[a]]=r[e[a]]);return t};const F=u.forwardRef((r,n)=>{var{title:t,titleId:e}=r,a=ie(r,["title","titleId"]);let s=J();return s=t?e||"title-"+s:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:n,"aria-labelledby":s},a),t?u.createElement("title",{id:s},t):null,u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.5 3.25a7.25 7.25 0 1 0 4.569 12.88l5.411 5.41a.75.75 0 1 0 1.06-1.06l-5.41-5.411A7.25 7.25 0 0 0 10.5 3.25M4.75 10.5a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0",clipRule:"evenodd"}))}),V=u.createContext(null);var de=function(r,n){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&n.indexOf(e)<0&&(t[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(r);a<e.length;a++)n.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(t[e[a]]=r[e[a]]);return t};const $=u.forwardRef((r,n)=>{var t,{className:e,children:a,disabled:s,onClick:m}=r,h=de(r,["className","children","disabled","onClick"]);const p=q("Search"),d=u.useContext(V);if(d===null)return console.warn("<Search.Button> has to be wrapped in <Search />"),null;const{size:f,variant:b,handleClick:o}=d;return l.createElement(ne,Object.assign({type:"submit"},h,{ref:n,size:f,variant:b==="secondary"?"secondary":"primary",className:g("navds-search__button-search",e),disabled:(t=d==null?void 0:d.disabled)!==null&&t!==void 0?t:s,onClick:se(m,o),icon:l.createElement(F,Object.assign({},a?{"aria-hidden":!0}:{title:p("search")}))}),a)});var ce=function(r,n){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&n.indexOf(e)<0&&(t[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(r);a<e.length;a++)n.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(r,e[a])&&(t[e[a]]=r[e[a]]);return t};const I=u.forwardRef((r,n)=>{const{inputProps:t,size:e="medium",inputDescriptionId:a,errorId:s,showErrorMsg:m,hasError:h}=D(r,"searchfield"),{className:p,hideLabel:d=!0,label:f,description:b,value:o,clearButtonLabel:L,onClear:_,clearButton:T=!0,children:N,variant:y="primary",defaultValue:S,onChange:k,onSearchClick:w,htmlSize:x}=r,W=ce(r,["className","hideLabel","label","description","value","clearButtonLabel","onClear","clearButton","children","variant","defaultValue","onChange","onSearchClick","htmlSize"]),O=u.useRef(null),H=te(O,n),G=q("Search"),[E,K]=u.useState(S??""),B=i=>{o===void 0&&K(i),k==null||k(i)},P=i=>{var v,j;_==null||_(i),B(""),(j=(v=O.current)===null||v===void 0?void 0:v.focus)===null||j===void 0||j.call(v)},X=()=>{w==null||w(`${o??E}`)};return l.createElement("div",{onKeyDown:i=>{var v;i.key==="Escape"&&(!((v=O.current)===null||v===void 0)&&v.value&&i.preventDefault(),P({trigger:"Escape",event:i}))},className:g(p,"navds-form-field",`navds-form-field--${e}`,"navds-search",{"navds-search--error":h,"navds-search--disabled":t.disabled,"navds-search--with-size":x})},l.createElement(Q,{htmlFor:t.id,size:e,className:g("navds-form-field__label",{"navds-sr-only":d})},f),!!b&&l.createElement(U,{className:g("navds-form-field__description",{"navds-sr-only":d}),id:a,size:e,as:"div"},b),l.createElement("div",{className:"navds-search__wrapper"},l.createElement("div",{className:"navds-search__wrapper-inner"},y==="simple"&&l.createElement(F,{"aria-hidden":!0,className:"navds-search__search-icon"}),l.createElement("input",Object.assign({ref:H},Y(W,["error","errorId","size","readOnly"]),t,{value:o??E,onChange:i=>B(i.target.value),type:"search",className:g(p,"navds-search__input",`navds-search__input--${y}`,"navds-text-field__input","navds-body-short",`navds-body-short--${e}`)},x?{size:Number(x)}:{})),(o??E)&&T&&l.createElement("button",{type:"button",onClick:i=>P({trigger:"Click",event:i}),className:"navds-search__button-clear"},l.createElement("span",{className:"navds-sr-only"},L||G("clear")),l.createElement(le,{"aria-hidden":!0}))),l.createElement(V.Provider,{value:{size:e,disabled:t.disabled,variant:y,handleClick:X}},N||y!=="simple"&&l.createElement($,null))),l.createElement("div",{className:"navds-form-field__error",id:s,"aria-relevant":"additions removals","aria-live":"polite"},m&&l.createElement(R,{size:e},r.error)))});I.Button=$;const ue="_searchWidth_108wd_1",me="_checkbox_108wd_5",ve="_advarselIcon_108wd_9",C={searchWidth:ue,checkbox:me,advarselIcon:ve},fe=({onSubmit:r,searchResultAccessDenied:n,searchStarted:t,resetSearch:e,kanSaksbehandle:a})=>{const s=Z(),m=A(),h=m.watch("searchString"),p=m.watch("skalReservere"),d=z(h);return c.jsx(ee,{formMethods:m,children:c.jsxs(ae,{gap:"4",children:[c.jsxs(M,{gap:"4",align:"end",children:[c.jsx("div",{className:C.searchWidth,children:c.jsx(I,{label:s.formatMessage({id:"Search.Search"}),description:s.formatMessage({id:"Search.SaksnummerOrPersonId"}),hideLabel:!1,variant:"primary",onSearchClick:f=>{m.setValue("searchString",f),z(f)===null&&r({searchString:f,skalReservere:p})},children:c.jsx(I.Button,{type:"button",loading:!(n!=null&&n.feilmelding)&&t})})}),a&&c.jsx(re,{name:"skalReservere",label:s.formatMessage({id:"Search.ReserverBehandling"}),onClick:e,className:C.checkbox})]}),d&&c.jsx(R,{children:d}),(n==null?void 0:n.feilmelding)&&c.jsxs(M,{gap:"2",children:[c.jsx(oe,{className:C.advarselIcon}),n.feilmelding]})]})})};fe.__docgenInfo={description:`SøkForm

Definerer søkefelt og tilhørende søkeknapp.`,methods:[],displayName:"SøkForm",props:{onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(values: { searchString: string; skalReservere: boolean }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ searchString: string; skalReservere: boolean }",signature:{properties:[{key:"searchString",value:{name:"string",required:!0}},{key:"skalReservere",value:{name:"boolean",required:!0}}]}},name:"values"}],return:{name:"void"}}},description:""},searchStarted:{required:!0,tsType:{name:"boolean"},description:""},searchResultAccessDenied:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  feilmelding?: string;
}`,signature:{properties:[{key:"feilmelding",value:{name:"string",required:!1}}]}},description:""},resetSearch:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},kanSaksbehandle:{required:!0,tsType:{name:"boolean"},description:""}}};export{fe as S};
