import{j as t}from"./jsx-runtime-5926aa06.js";import{r as V}from"./index-ebeaab24.js";import{a as j,f as N,g as b,L as E,F as x,J as B,E as D,o as K,A as u,O as P,Z as M,s as f,h as O,d as h,l as k}from"./nb_NO-80ad4d83.js";import{J as m,t as y}from"./index.es-4cd68a77.js";import{b as v,R as U,a as G}from"./fplosSaksbehandlerRestApi-325d6556.js";var H=(e=>(e.OPPRETT_BEHANDLING="OPPRBEH",e.BEHANDLINGSFRIST="BEHFRIST",e.BELOP="BELOP",e.FEILUTBETALINGSTART="FEILUTBETALINGSTART",e.FORSTE_STONADSDAG="FORSTONAD",e))(H||{}),q=(e=>(e.TIL_BESLUTTER="TIL_BESLUTTER",e.REGISTRER_PAPIRSOKNAD="PAPIRSOKNAD",e.UTBETALING_TIL_BRUKER="UTBETALING_TIL_BRUKER",e))(q||{});const $=""+new URL("gruppe_hover-6179c58e.svg",import.meta.url).href,Y=""+new URL("gruppe-30542f17.svg",import.meta.url).href,w="_navnInput_16h4l_1",z="_marginFilters_16h4l_5",J="_saksbehandlerIkon_16h4l_9",c={navnInput:w,marginFilters:z,saksbehandlerIkon:J},C=(e,s,r)=>{const a=s("sakslisteId");if(a){if(e.some(n=>`${n.sakslisteId}`===a))return parseInt(a,10);r("sakslisteId")}return e.length>0?e[0].sakslisteId:void 0},Z=(e,s,r)=>{if(e.length===0)return{sakslisteId:void 0};const a=C(e,s,r);return{sakslisteId:a?`${a}`:void 0}},I=(e,s)=>e.find(r=>s===`${r.sakslisteId}`),Q=(e,s,r)=>r&&r.fagsakYtelseTyper.length>0?r.fagsakYtelseTyper.map(a=>m(s,y.FAGSAK_YTELSE,a)):[e.formatMessage({id:"SakslisteVelgerForm.Alle"})],W=(e,s,r)=>r&&r.behandlingTyper.length>0?r.behandlingTyper.map(a=>m(s,y.BEHANDLING_TYPE,a)):[e.formatMessage({id:"SakslisteVelgerForm.Alle"})],X=(e,s,r)=>r&&r.andreKriterier.length>0?r.andreKriterier.map(a=>a.inkluder?m(s,"AndreKriterierType",a.andreKriterierType):e.formatMessage({id:"SakslisteVelgerForm.Uten"},{kriterie:m(s,"AndreKriterierType",a.andreKriterierType)})):[e.formatMessage({id:"SakslisteVelgerForm.Alle"})],A=(e,s)=>e.fomDato?e.tomDato?s.formatMessage({id:"SakslisteVelgerForm.Sorteringsinfo"},e):s.formatMessage({id:"SakslisteVelgerForm.SorteringsinfoFom"},e):s.formatMessage({id:"SakslisteVelgerForm.SorteringsinfoTom"},e),ee=(e,s,r,a,n)=>{if(!a&&!n)return m(s,"KøSortering",r);const g={navn:m(s,"KøSortering",r),fomDato:a?h(a).format(k):void 0,tomDato:n?h(n).format(k):void 0,br:t.jsx("br",{})};return A(g,e)},se=(e,s,r,a,n)=>{if(!a&&!n)return m(s,"KøSortering",r);const g={navn:m(s,"KøSortering",r),fomDato:a?h().add(a,"days").format(k):void 0,tomDato:n?h().add(n,"days").format(k):void 0,br:t.jsx("br",{})};return A(g,e)},re=(e,s,r)=>{if(!r||!r.sortering)return"";const{erDynamiskPeriode:a,sorteringType:n,fra:g,til:i,fomDato:d,tomDato:p}=r.sortering;return a?se(e,s,n,g,i):ee(e,s,n,d,p)},te=e=>{if(!(!e||e.length===0))return t.jsxs("div",{children:[t.jsx(E,{size:"small",children:t.jsx(x,{id:"SakslisteVelgerForm.SaksbehandlerToolip"})}),e.map(s=>s.navn).sort((s,r)=>s.localeCompare(r)).map(s=>t.jsx(O,{size:"small",children:s},s))]})},F=({sakslister:e,setValgtSakslisteId:s,fetchAntallOppgaver:r,getValueFromLocalStorage:a,setValueInLocalStorage:n,removeValueFromLocalStorage:g})=>{const i=j(),d=[...e].sort((o,_)=>o.navn.localeCompare(_.navn)),{data:p,startRequest:R}=v.useRestApiRunner(U.SAKSLISTE_SAKSBEHANDLERE),S=v.useGlobalStateRestApiData(G.KODEVERK_LOS),L=V.useMemo(()=>te(p),[p]),T=N({defaultValues:Z(d,a,g)}),l=T.watch("sakslisteId");return V.useEffect(()=>{if(l){n("sakslisteId",l);const o=parseInt(l,10);s(o),R({sakslisteId:o}),r({sakslisteId:o})}},[l]),t.jsxs(b,{formMethods:T,children:[t.jsx(E,{size:"small",children:t.jsx(x,{id:"SakslisteVelgerForm.Utvalgskriterier"})}),t.jsx(B,{eightPx:!0}),t.jsx(D,{children:t.jsxs(K,{children:[t.jsx(u,{className:c.navnInput,children:t.jsx(P,{name:"sakslisteId",label:i.formatMessage({id:"SakslisteVelgerForm.Saksliste"}),selectValues:d.map(o=>t.jsx("option",{value:`${o.sakslisteId}`,children:o.navn},o.sakslisteId))})}),l&&t.jsxs(t.Fragment,{children:[t.jsxs(u,{children:[t.jsx("div",{className:c.saksbehandlerIkon}),t.jsx(M,{alt:i.formatMessage({id:"SakslisteVelgerForm.Saksbehandlere"}),src:Y,srcHover:$,tooltip:L})]}),t.jsx(u,{className:c.marginFilters,children:t.jsx(f,{header:i.formatMessage({id:"SakslisteVelgerForm.Stonadstype"}),texts:Q(i,S,I(d,l))})}),t.jsx(u,{className:c.marginFilters,children:t.jsx(f,{header:i.formatMessage({id:"SakslisteVelgerForm.Behandlingstype"}),texts:W(i,S,I(d,l))})}),t.jsx(u,{className:c.marginFilters,children:t.jsx(f,{header:i.formatMessage({id:"SakslisteVelgerForm.AndreKriterier"}),texts:X(i,S,I(d,l))})}),t.jsx(u,{className:c.marginFilters,children:t.jsx(f,{header:i.formatMessage({id:"SakslisteVelgerForm.Sortering"}),texts:[re(i,S,I(d,l))]})})]})]})})]})},de=F;try{F.displayName="SakslisteVelgerForm",F.__docgenInfo={description:"SakslisteVelgerForm",displayName:"SakslisteVelgerForm",props:{sakslister:{defaultValue:null,description:"",name:"sakslister",required:!0,type:{name:"Readonly<{ sakslisteId: number; navn: string; behandlingTyper: string[]; fagsakYtelseTyper: string[]; andreKriterier: Readonly<{ andreKriterierType: string; inkluder: boolean; }>[]; sortering?: { ...; } | undefined; }>[]"}},setValgtSakslisteId:{defaultValue:null,description:"",name:"setValgtSakslisteId",required:!0,type:{name:"(sakslisteId: number) => void"}},fetchAntallOppgaver:{defaultValue:null,description:"",name:"fetchAntallOppgaver",required:!0,type:{name:"(data: { sakslisteId: number; }) => void"}},getValueFromLocalStorage:{defaultValue:null,description:"",name:"getValueFromLocalStorage",required:!0,type:{name:"(key: string) => string | undefined"}},setValueInLocalStorage:{defaultValue:null,description:"",name:"setValueInLocalStorage",required:!0,type:{name:"(key: string, value: string) => void"}},removeValueFromLocalStorage:{defaultValue:null,description:"",name:"removeValueFromLocalStorage",required:!0,type:{name:"(key: string) => void"}}}}}catch{}export{q as A,H as K,de as S};
//# sourceMappingURL=SakslisteVelgerForm-2f8df57b.js.map
