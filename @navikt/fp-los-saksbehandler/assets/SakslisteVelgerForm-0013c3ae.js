import{j as a}from"./jsx-runtime-9c4ae004.js";import{r as p}from"./index-1b03fe98.js";import{u as _,a as b,g as R,O as L,U as O,Y as N,z as u,S as B,r as P,Q as I,L as D,F as M,f as K,d as k,i as y}from"./nb_NO-fac64f37.js";import{l as g,J as E}from"./index.es-c5fcd9dd.js";import{a as F,R as G,b as w}from"./fplosSaksbehandlerRestApi-e31cdd26.js";var U=globalThis&&globalThis.__rest||function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};const q=p.forwardRef((e,t)=>{var{title:s,titleId:r}=e,n=U(e,["title","titleId"]);let i=_();return i=s?r||"title-"+i:void 0,p.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:t,"aria-labelledby":i},n),s?p.createElement("title",{id:i},s):null,p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 3.75a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5ZM3.75 7.5a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0ZM9 15.75A5.25 5.25 0 0 0 3.75 21a.75.75 0 0 1-1.5 0 6.75 6.75 0 0 1 13.5 0 .75.75 0 0 1-1.5 0A5.25 5.25 0 0 0 9 15.75Zm7.214-10.824a.75.75 0 1 0-.428 1.438A2.752 2.752 0 0 1 15 11.75a.75.75 0 0 0-.75.75v1a.75.75 0 0 0 .75.75 4.25 4.25 0 0 1 4.25 4.25.75.75 0 0 0 1.5 0 5.75 5.75 0 0 0-4.206-5.539 4.251 4.251 0 0 0-.33-8.035Z",fill:"currentColor"}))}),H=q;var Y=(e=>(e.OPPRETT_BEHANDLING="OPPRBEH",e.BEHANDLINGSFRIST="BEHFRIST",e.BELOP="BELOP",e.FEILUTBETALINGSTART="FEILUTBETALINGSTART",e.FORSTE_STONADSDAG="FORSTONAD",e))(Y||{}),$=(e=>(e.TIL_BESLUTTER="TIL_BESLUTTER",e.REGISTRER_PAPIRSOKNAD="PAPIRSOKNAD",e.UTBETALING_TIL_BRUKER="UTBETALING_TIL_BRUKER",e))($||{});const z="_navnInput_ij859_1",Z="_marginFilters_ij859_5",C="_saksbehandlerIkon_ij859_9",Q="_personIcon_ij859_13",c={navnInput:z,marginFilters:Z,saksbehandlerIkon:C,personIcon:Q},J=(e,t,s)=>{const r=t("sakslisteId");if(r){if(e.some(n=>`${n.sakslisteId}`===r))return parseInt(r,10);s("sakslisteId")}return e.length>0?e[0].sakslisteId:void 0},W=(e,t,s)=>{if(e.length===0)return{sakslisteId:void 0};const r=J(e,t,s);return{sakslisteId:r?`${r}`:void 0}},h=(e,t)=>e.find(s=>t===`${s.sakslisteId}`),X=(e,t,s)=>s&&s.fagsakYtelseTyper.length>0?s.fagsakYtelseTyper.map(r=>g(t,E.FAGSAK_YTELSE,r)):[e.formatMessage({id:"SakslisteVelgerForm.Alle"})],ee=(e,t,s)=>s&&s.behandlingTyper.length>0?s.behandlingTyper.map(r=>g(t,E.BEHANDLING_TYPE,r)):[e.formatMessage({id:"SakslisteVelgerForm.Alle"})],re=(e,t,s)=>s&&s.andreKriterier.length>0?s.andreKriterier.map(r=>r.inkluder?g(t,"AndreKriterierType",r.andreKriterierType):e.formatMessage({id:"SakslisteVelgerForm.Uten"},{kriterie:g(t,"AndreKriterierType",r.andreKriterierType)})):[e.formatMessage({id:"SakslisteVelgerForm.Alle"})],j=(e,t)=>e.fomDato?e.tomDato?t.formatMessage({id:"SakslisteVelgerForm.Sorteringsinfo"},e):t.formatMessage({id:"SakslisteVelgerForm.SorteringsinfoFom"},e):t.formatMessage({id:"SakslisteVelgerForm.SorteringsinfoTom"},e),te=(e,t,s,r,n)=>{if(!r&&!n)return g(t,"KøSortering",s);const i={navn:g(t,"KøSortering",s),fomDato:r?k(r).format(y):void 0,tomDato:n?k(n).format(y):void 0,br:a.jsx("br",{})};return j(i,e)},se=(e,t,s,r,n)=>{if(!r&&!n)return g(t,"KøSortering",s);const i={navn:g(t,"KøSortering",s),fomDato:r?k().add(r,"days").format(y):void 0,tomDato:n?k().add(n,"days").format(y):void 0,br:a.jsx("br",{})};return j(i,e)},ae=(e,t,s)=>{if(!s||!s.sortering)return"";const{erDynamiskPeriode:r,sorteringType:n,fra:i,til:l,fomDato:m,tomDato:f}=s.sortering;return r?se(e,t,n,i,l):te(e,t,n,m,f)},ne=e=>{if(!(!e||e.length===0))return a.jsxs("div",{children:[a.jsx(D,{size:"small",children:a.jsx(M,{id:"SakslisteVelgerForm.SaksbehandlerToolip"})}),e.map(t=>t.navn).sort((t,s)=>t.localeCompare(s)).map(t=>a.jsx(K,{size:"small",children:t},t))]})},T=({sakslister:e,setValgtSakslisteId:t,fetchAntallOppgaver:s,getValueFromLocalStorage:r,setValueInLocalStorage:n,removeValueFromLocalStorage:i})=>{const l=b(),m=[...e].sort((d,V)=>d.navn.localeCompare(V.navn)),{data:f,startRequest:x}=F.useRestApiRunner(G.SAKSLISTE_SAKSBEHANDLERE),S=F.useGlobalStateRestApiData(w.KODEVERK_LOS),A=p.useMemo(()=>ne(f),[f]),v=R({defaultValues:W(m,r,i)}),o=v.watch("sakslisteId");return p.useEffect(()=>{if(o){n("sakslisteId",o);const d=parseInt(o,10);t(d),x({sakslisteId:d}),s({sakslisteId:d})}},[o]),a.jsx(L,{formMethods:v,children:a.jsx(O,{children:a.jsxs(N,{children:[a.jsx(u,{className:c.navnInput,children:a.jsx(B,{name:"sakslisteId",label:l.formatMessage({id:"SakslisteVelgerForm.Saksliste"}),selectValues:m.map(d=>a.jsx("option",{value:`${d.sakslisteId}`,children:d.navn},d.sakslisteId))})}),o&&a.jsxs(a.Fragment,{children:[a.jsxs(u,{children:[a.jsx("div",{className:c.saksbehandlerIkon}),a.jsx(P,{content:A,alignBottom:!0,children:a.jsx(H,{className:c.personIcon})})]}),a.jsx(u,{className:c.marginFilters,children:a.jsx(I,{header:l.formatMessage({id:"SakslisteVelgerForm.Stonadstype"}),texts:X(l,S,h(m,o))})}),a.jsx(u,{className:c.marginFilters,children:a.jsx(I,{header:l.formatMessage({id:"SakslisteVelgerForm.Behandlingstype"}),texts:ee(l,S,h(m,o))})}),a.jsx(u,{className:c.marginFilters,children:a.jsx(I,{header:l.formatMessage({id:"SakslisteVelgerForm.AndreKriterier"}),texts:re(l,S,h(m,o))})}),a.jsx(u,{className:c.marginFilters,children:a.jsx(I,{header:l.formatMessage({id:"SakslisteVelgerForm.Sortering"}),texts:[ae(l,S,h(m,o))]})})]})]})})})},ge=T;try{T.displayName="SakslisteVelgerForm",T.__docgenInfo={description:"SakslisteVelgerForm",displayName:"SakslisteVelgerForm",props:{sakslister:{defaultValue:null,description:"",name:"sakslister",required:!0,type:{name:"Readonly<{ sakslisteId: number; navn: string; behandlingTyper: string[]; fagsakYtelseTyper: string[]; andreKriterier: Readonly<{ andreKriterierType: string; inkluder: boolean; }>[]; sortering?: { ...; } | undefined; }>[]"}},setValgtSakslisteId:{defaultValue:null,description:"",name:"setValgtSakslisteId",required:!0,type:{name:"(sakslisteId: number) => void"}},fetchAntallOppgaver:{defaultValue:null,description:"",name:"fetchAntallOppgaver",required:!0,type:{name:"(data: { sakslisteId: number; }) => void"}},getValueFromLocalStorage:{defaultValue:null,description:"",name:"getValueFromLocalStorage",required:!0,type:{name:"(key: string) => string | undefined"}},setValueInLocalStorage:{defaultValue:null,description:"",name:"setValueInLocalStorage",required:!0,type:{name:"(key: string, value: string) => void"}},removeValueFromLocalStorage:{defaultValue:null,description:"",name:"removeValueFromLocalStorage",required:!0,type:{name:"(key: string) => void"}}}}}catch{}export{$ as A,Y as K,ge as S};
//# sourceMappingURL=SakslisteVelgerForm-0013c3ae.js.map
