import{j as a}from"./jsx-runtime-69eee039.js";import{r as V}from"./index-7c191284.js";import{a as L,f as _,g as j,E as N,o as b,A as u,O as B,Z as D,s as f,L as K,F as M,e as O,d as k,l as h}from"./nb_NO-20f8f251.js";import{J as m,t as v}from"./index.es-f5c23214.js";import{a as E,R as P,b as U}from"./fplosSaksbehandlerRestApi-ee3b9ec6.js";var G=(e=>(e.OPPRETT_BEHANDLING="OPPRBEH",e.BEHANDLINGSFRIST="BEHFRIST",e.BELOP="BELOP",e.FEILUTBETALINGSTART="FEILUTBETALINGSTART",e.FORSTE_STONADSDAG="FORSTONAD",e))(G||{}),H=(e=>(e.TIL_BESLUTTER="TIL_BESLUTTER",e.REGISTRER_PAPIRSOKNAD="PAPIRSOKNAD",e.UTBETALING_TIL_BRUKER="UTBETALING_TIL_BRUKER",e))(H||{});const q=""+new URL("gruppe_hover-6179c58e.svg",import.meta.url).href,Y=""+new URL("gruppe-30542f17.svg",import.meta.url).href,$="_navnInput_16h4l_1",w="_marginFilters_16h4l_5",z="_saksbehandlerIkon_16h4l_9",c={navnInput:$,marginFilters:w,saksbehandlerIkon:z},C=(e,r,s)=>{const t=r("sakslisteId");if(t){if(e.some(n=>`${n.sakslisteId}`===t))return parseInt(t,10);s("sakslisteId")}return e.length>0?e[0].sakslisteId:void 0},Z=(e,r,s)=>{if(e.length===0)return{sakslisteId:void 0};const t=C(e,r,s);return{sakslisteId:t?`${t}`:void 0}},I=(e,r)=>e.find(s=>r===`${s.sakslisteId}`),J=(e,r,s)=>s&&s.fagsakYtelseTyper.length>0?s.fagsakYtelseTyper.map(t=>m(r,v.FAGSAK_YTELSE,t)):[e.formatMessage({id:"SakslisteVelgerForm.Alle"})],Q=(e,r,s)=>s&&s.behandlingTyper.length>0?s.behandlingTyper.map(t=>m(r,v.BEHANDLING_TYPE,t)):[e.formatMessage({id:"SakslisteVelgerForm.Alle"})],W=(e,r,s)=>s&&s.andreKriterier.length>0?s.andreKriterier.map(t=>t.inkluder?m(r,"AndreKriterierType",t.andreKriterierType):e.formatMessage({id:"SakslisteVelgerForm.Uten"},{kriterie:m(r,"AndreKriterierType",t.andreKriterierType)})):[e.formatMessage({id:"SakslisteVelgerForm.Alle"})],y=(e,r)=>e.fomDato?e.tomDato?r.formatMessage({id:"SakslisteVelgerForm.Sorteringsinfo"},e):r.formatMessage({id:"SakslisteVelgerForm.SorteringsinfoFom"},e):r.formatMessage({id:"SakslisteVelgerForm.SorteringsinfoTom"},e),X=(e,r,s,t,n)=>{if(!t&&!n)return m(r,"KøSortering",s);const g={navn:m(r,"KøSortering",s),fomDato:t?k(t).format(h):void 0,tomDato:n?k(n).format(h):void 0,br:a.jsx("br",{})};return y(g,e)},ee=(e,r,s,t,n)=>{if(!t&&!n)return m(r,"KøSortering",s);const g={navn:m(r,"KøSortering",s),fomDato:t?k().add(t,"days").format(h):void 0,tomDato:n?k().add(n,"days").format(h):void 0,br:a.jsx("br",{})};return y(g,e)},re=(e,r,s)=>{if(!s||!s.sortering)return"";const{erDynamiskPeriode:t,sorteringType:n,fra:g,til:i,fomDato:d,tomDato:p}=s.sortering;return t?ee(e,r,n,g,i):X(e,r,n,d,p)},se=e=>{if(!(!e||e.length===0))return a.jsxs("div",{children:[a.jsx(K,{size:"small",children:a.jsx(M,{id:"SakslisteVelgerForm.SaksbehandlerToolip"})}),e.map(r=>r.navn).sort((r,s)=>r.localeCompare(s)).map(r=>a.jsx(O,{size:"small",children:r},r))]})},F=({sakslister:e,setValgtSakslisteId:r,fetchAntallOppgaver:s,getValueFromLocalStorage:t,setValueInLocalStorage:n,removeValueFromLocalStorage:g})=>{const i=L(),d=[...e].sort((l,x)=>l.navn.localeCompare(x.navn)),{data:p,startRequest:A}=E.useRestApiRunner(P.SAKSLISTE_SAKSBEHANDLERE),S=E.useGlobalStateRestApiData(U.KODEVERK_LOS),R=V.useMemo(()=>se(p),[p]),T=_({defaultValues:Z(d,t,g)}),o=T.watch("sakslisteId");return V.useEffect(()=>{if(o){n("sakslisteId",o);const l=parseInt(o,10);r(l),A({sakslisteId:l}),s({sakslisteId:l})}},[o]),a.jsx(j,{formMethods:T,children:a.jsx(N,{children:a.jsxs(b,{children:[a.jsx(u,{className:c.navnInput,children:a.jsx(B,{name:"sakslisteId",label:i.formatMessage({id:"SakslisteVelgerForm.Saksliste"}),selectValues:d.map(l=>a.jsx("option",{value:`${l.sakslisteId}`,children:l.navn},l.sakslisteId))})}),o&&a.jsxs(a.Fragment,{children:[a.jsxs(u,{children:[a.jsx("div",{className:c.saksbehandlerIkon}),a.jsx(D,{alt:i.formatMessage({id:"SakslisteVelgerForm.Saksbehandlere"}),src:Y,srcHover:q,tooltip:R})]}),a.jsx(u,{className:c.marginFilters,children:a.jsx(f,{header:i.formatMessage({id:"SakslisteVelgerForm.Stonadstype"}),texts:J(i,S,I(d,o))})}),a.jsx(u,{className:c.marginFilters,children:a.jsx(f,{header:i.formatMessage({id:"SakslisteVelgerForm.Behandlingstype"}),texts:Q(i,S,I(d,o))})}),a.jsx(u,{className:c.marginFilters,children:a.jsx(f,{header:i.formatMessage({id:"SakslisteVelgerForm.AndreKriterier"}),texts:W(i,S,I(d,o))})}),a.jsx(u,{className:c.marginFilters,children:a.jsx(f,{header:i.formatMessage({id:"SakslisteVelgerForm.Sortering"}),texts:[re(i,S,I(d,o))]})})]})]})})})},le=F;try{F.displayName="SakslisteVelgerForm",F.__docgenInfo={description:"SakslisteVelgerForm",displayName:"SakslisteVelgerForm",props:{sakslister:{defaultValue:null,description:"",name:"sakslister",required:!0,type:{name:"Readonly<{ sakslisteId: number; navn: string; behandlingTyper: string[]; fagsakYtelseTyper: string[]; andreKriterier: Readonly<{ andreKriterierType: string; inkluder: boolean; }>[]; sortering?: { ...; } | undefined; }>[]"}},setValgtSakslisteId:{defaultValue:null,description:"",name:"setValgtSakslisteId",required:!0,type:{name:"(sakslisteId: number) => void"}},fetchAntallOppgaver:{defaultValue:null,description:"",name:"fetchAntallOppgaver",required:!0,type:{name:"(data: { sakslisteId: number; }) => void"}},getValueFromLocalStorage:{defaultValue:null,description:"",name:"getValueFromLocalStorage",required:!0,type:{name:"(key: string) => string | undefined"}},setValueInLocalStorage:{defaultValue:null,description:"",name:"setValueInLocalStorage",required:!0,type:{name:"(key: string, value: string) => void"}},removeValueFromLocalStorage:{defaultValue:null,description:"",name:"removeValueFromLocalStorage",required:!0,type:{name:"(key: string) => void"}}}}}catch{}export{H as A,G as K,le as S};
//# sourceMappingURL=SakslisteVelgerForm-5b4e0c9b.js.map
