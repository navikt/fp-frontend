{"version":3,"file":"OpphevReservasjonModal-43ff3cfe.js","sources":["../../src/behandlingskoer/components/menu/OpphevReservasjonModal.tsx"],"sourcesContent":["import React, { FunctionComponent, useCallback } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useForm } from 'react-hook-form';\nimport { Button, Heading, Modal as NavModal } from '@navikt/ds-react';\nimport { hasValidText, maxLength, minLength, required } from '@navikt/ft-form-validators';\nimport { Form, TextAreaField } from '@navikt/ft-form-hooks';\nimport { Oppgave } from '@navikt/fp-los-felles';\n\nimport { restApiHooks, RestApiPathsKeys } from '../../../data/fplosSaksbehandlerRestApi';\n\nimport styles from './opphevReservasjonModal.module.css';\n\nconst minLength3 = minLength(3);\nconst maxLength500 = maxLength(500);\n\ntype FormValues = {\n  begrunnelse: string;\n};\n\ntype OwnProps = Readonly<{\n  showModal: boolean;\n  oppgave: Oppgave;\n  cancel: () => void;\n  toggleMenu: () => void;\n  hentReserverteOppgaver: (params: any, keepData: boolean) => void;\n}>;\n\n/**\n * OpphevReservasjonModal\n *\n * Presentasjonskomponent. Modal som lar en begrunne hvorfor en sak skal frigj√∏res.\n */\nconst OpphevReservasjonModal: FunctionComponent<OwnProps> = ({\n  showModal,\n  cancel,\n  oppgave,\n  toggleMenu,\n  hentReserverteOppgaver,\n}) => {\n  const intl = useIntl();\n  const { startRequest: opphevOppgavereservasjon } = restApiHooks.useRestApiRunner(\n    RestApiPathsKeys.OPPHEV_OPPGAVERESERVASJON,\n  );\n\n  const opphevReservasjonFn = useCallback(\n    (begrunnelse: string) =>\n      opphevOppgavereservasjon({ oppgaveId: oppgave.id, begrunnelse }).then(() => {\n        toggleMenu();\n        hentReserverteOppgaver({}, true);\n      }),\n    [oppgave.id],\n  );\n\n  const formMethods = useForm<FormValues>();\n\n  return (\n    <Form<FormValues> formMethods={formMethods} onSubmit={values => opphevReservasjonFn(values.begrunnelse)}>\n      <NavModal\n        width=\"small\"\n        open={showModal}\n        aria-label={intl.formatMessage({ id: 'OpphevReservasjonModal.Begrunnelse' })}\n        onClose={cancel}\n      >\n        <NavModal.Header>\n          <Heading size=\"small\">\n            <FormattedMessage id=\"OpphevReservasjonModal.Begrunnelse\" />\n          </Heading>\n        </NavModal.Header>\n        <NavModal.Body>\n          <TextAreaField\n            name=\"begrunnelse\"\n            label={intl.formatMessage({ id: 'OpphevReservasjonModal.Hjelpetekst' })}\n            validate={[required, maxLength500, minLength3, hasValidText]}\n            maxLength={500}\n          />\n        </NavModal.Body>\n        <NavModal.Footer>\n          <Button className={styles.submitButton} size=\"small\" variant=\"primary\" autoFocus>\n            <FormattedMessage id=\"OpphevReservasjonModal.Ok\" />\n          </Button>\n          <Button className={styles.cancelButton} size=\"small\" variant=\"secondary\" onClick={cancel} type=\"button\">\n            <FormattedMessage id=\"OpphevReservasjonModal.Avbryt\" />\n          </Button>\n        </NavModal.Footer>\n      </NavModal>\n    </Form>\n  );\n};\n\nexport default OpphevReservasjonModal;\n"],"names":["minLength3","minLength","maxLength500","maxLength","OpphevReservasjonModal","showModal","cancel","oppgave","toggleMenu","hentReserverteOppgaver","intl","useIntl","opphevOppgavereservasjon","restApiHooks","RestApiPathsKeys","opphevReservasjonFn","useCallback","begrunnelse","formMethods","useForm","jsx","Form","values","jsxs","NavModal","Heading","FormattedMessage","TextAreaField","required","hasValidText","Button","styles","OpphevReservasjonModal$1"],"mappings":"qdAYAA,EAAAC,EAAA,CAAA,EACAC,EAAAC,EAAA,GAAA,EAmBAC,EAAA,CAAA,CAA6D,UAAAC,EAC3D,OAAAC,EACA,QAAAC,EACA,WAAAC,EACA,uBAAAC,CAEF,IAAA,CACE,MAAAC,EAAAC,IACA,CAAA,aAAAC,CAAA,EAAAC,EAAA,iBAAgEC,EAAA,yBAC7C,EAGnBC,EAAAC,EAAA,YAA4BC,GAAAL,EAAA,CAAA,UAAAL,EAAA,GAAA,YAAAU,CAAA,CAAA,EAAA,KAAA,IAAA,CAGtBT,IACAC,EAAA,CAAA,EAAA,EAAA,CAA+B,CAAA,EAChC,CAAAF,EAAA,EAAA,CACQ,EAGbW,EAAAC,IAEA,OAAAC,MAAAC,EAAA,CAAA,YAAAH,EAAA,SAAAI,GAAAP,EAAAO,EAAA,WAAA,EAAA,SAAAC,EAAA,KAEIC,EAAC,CAAA,MAAA,QACO,KAAAnB,EACA,aAAAK,EAAA,cAAA,CAAA,GAAA,oCAAA,CAAA,EACqE,QAAAJ,EAClE,SAAA,CAETc,EAAA,IAAAI,EAAA,OAAA,CAAA,SAAAJ,EAAA,IAAAK,EAAA,CAAA,KAAA,QAAA,SAAAL,EAAA,IAAAM,EAAA,CAAA,GAAA,oCAAA,CAAA,CAAA,CAAA,EAAA,EAIAN,EAAAA,IAAAI,EAAA,KAAA,CAAA,SAAAJ,EAAA,IAEEO,EAAC,CAAA,KAAA,cACM,MAAAjB,EAAA,cAAA,CAAA,GAAA,oCAAA,CAAA,EACiE,SAAA,CAAAkB,EAAA1B,EAAAF,EAAA6B,CAAA,EACX,UAAA,GAChD,CAAA,EAAA,EAEfN,EAAAA,KAAAC,EAAA,OAAA,CAAA,SAAA,CAEEJ,MAAAU,EAAA,CAAA,UAAAC,EAAA,aAAA,KAAA,QAAA,QAAA,UAAA,UAAA,GAAA,SAAAX,MAAAM,EAAA,CAAA,GAAA,2BAAA,CAAA,EAAA,EAEAN,MAAAU,EAAA,CAAA,UAAAC,EAAA,aAAA,KAAA,QAAA,QAAA,YAAA,QAAAzB,EAAA,KAAA,SAAA,SAAAc,EAAA,IAAAM,EAAA,CAAA,GAAA,+BAAA,CAAA,EAAA,CAGA,EAAA,CACF,CAAA,CAAA,CAAA,CAAA,CAIR,EAEAM,EAAA5B;;"}