{"version":3,"file":"OpphevReservasjonModal-12424e2a.js","sources":["../../src/behandlingskoer/components/menu/OpphevReservasjonModal.tsx"],"sourcesContent":["import React, { FunctionComponent, useCallback } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useForm } from 'react-hook-form';\nimport { Button, Heading, Modal as NavModal } from '@navikt/ds-react';\nimport { hasValidText, maxLength, minLength, required } from '@navikt/ft-form-validators';\nimport { Form, TextAreaField } from '@navikt/ft-form-hooks';\nimport { FlexColumn, FlexContainer, FlexRow, VerticalSpacer } from '@navikt/ft-ui-komponenter';\nimport { Oppgave } from '@navikt/fp-los-felles';\n\nimport { restApiHooks, RestApiPathsKeys } from '../../../data/fplosSaksbehandlerRestApi';\n\nimport styles from './opphevReservasjonModal.module.css';\n\nconst minLength3 = minLength(3);\nconst maxLength500 = maxLength(500);\n\ntype FormValues = {\n  begrunnelse: string;\n};\n\ntype OwnProps = Readonly<{\n  showModal: boolean;\n  oppgave: Oppgave;\n  cancel: () => void;\n  toggleMenu: () => void;\n  hentReserverteOppgaver: (params: any, keepData: boolean) => void;\n}>;\n\n/**\n * OpphevReservasjonModal\n *\n * Presentasjonskomponent. Modal som lar en begrunne hvorfor en sak skal frigj√∏res.\n */\nconst OpphevReservasjonModal: FunctionComponent<OwnProps> = ({\n  showModal,\n  cancel,\n  oppgave,\n  toggleMenu,\n  hentReserverteOppgaver,\n}) => {\n  const intl = useIntl();\n  const { startRequest: opphevOppgavereservasjon } = restApiHooks.useRestApiRunner(\n    RestApiPathsKeys.OPPHEV_OPPGAVERESERVASJON,\n  );\n\n  const opphevReservasjonFn = useCallback(\n    (begrunnelse: string) =>\n      opphevOppgavereservasjon({ oppgaveId: oppgave.id, begrunnelse }).then(() => {\n        toggleMenu();\n        hentReserverteOppgaver({}, true);\n      }),\n    [oppgave.id],\n  );\n\n  const formMethods = useForm<FormValues>();\n\n  return (\n    <NavModal\n      className={styles.modal}\n      open={showModal}\n      closeButton={false}\n      aria-label={intl.formatMessage({ id: 'OpphevReservasjonModal.Begrunnelse' })}\n      onClose={cancel}\n    >\n      <NavModal.Content>\n        <Form<FormValues> formMethods={formMethods} onSubmit={values => opphevReservasjonFn(values.begrunnelse)}>\n          <Heading size=\"small\">\n            <FormattedMessage id=\"OpphevReservasjonModal.Begrunnelse\" />\n          </Heading>\n          <TextAreaField\n            name=\"begrunnelse\"\n            label={intl.formatMessage({ id: 'OpphevReservasjonModal.Hjelpetekst' })}\n            validate={[required, maxLength500, minLength3, hasValidText]}\n            maxLength={500}\n          />\n          <VerticalSpacer sixteenPx />\n          <FlexContainer>\n            <FlexRow>\n              <FlexColumn>\n                <Button className={styles.submitButton} size=\"small\" variant=\"primary\" autoFocus>\n                  <FormattedMessage id=\"OpphevReservasjonModal.Ok\" />\n                </Button>\n              </FlexColumn>\n              <FlexColumn>\n                <Button className={styles.cancelButton} size=\"small\" variant=\"secondary\" onClick={cancel} type=\"button\">\n                  <FormattedMessage id=\"OpphevReservasjonModal.Avbryt\" />\n                </Button>\n              </FlexColumn>\n            </FlexRow>\n          </FlexContainer>\n        </Form>\n      </NavModal.Content>\n    </NavModal>\n  );\n};\n\nexport default OpphevReservasjonModal;\n"],"names":["minLength3","minLength","maxLength500","maxLength","OpphevReservasjonModal","showModal","cancel","oppgave","toggleMenu","hentReserverteOppgaver","intl","useIntl","opphevOppgavereservasjon","restApiHooks","RestApiPathsKeys","opphevReservasjonFn","useCallback","begrunnelse","formMethods","useForm","jsx","NavModal","styles","jsxs","Form","values","Heading","FormattedMessage","TextAreaField","required","hasValidText","VerticalSpacer","FlexContainer","FlexRow","FlexColumn","Button","OpphevReservasjonModal$1"],"mappings":"6gBAaAA,EAAAC,EAAA,CAAA,EACAC,EAAAC,EAAA,GAAA,EAmBAC,EAAA,CAAA,CAA6D,UAAAC,EAC3D,OAAAC,EACA,QAAAC,EACA,WAAAC,EACA,uBAAAC,CAEF,IAAA,CACE,MAAAC,EAAAC,IACA,CAAA,aAAAC,CAAA,EAAAC,EAAA,iBAAgEC,EAAA,yBAC7C,EAGnBC,EAAAC,EAAA,YAA4BC,GAAAL,EAAA,CAAA,UAAAL,EAAA,GAAA,YAAAU,CAAA,CAAA,EAAA,KAAA,IAAA,CAGtBT,IACAC,EAAA,CAAA,EAAA,EAAA,CAA+B,CAAA,EAChC,CAAAF,EAAA,EAAA,CACQ,EAGbW,EAAAC,IAEA,OAAAC,EAAA,IACEC,EAAC,CAAA,UAAAC,EAAA,MACmB,KAAAjB,EACZ,YAAA,GACO,aAAAK,EAAA,cAAA,CAAA,GAAA,oCAAA,CAAA,EAC8D,QAAAJ,EAClE,SAAAc,EAAA,IAAAC,EAAA,QAAA,CAAA,SAAAE,EAAAA,KAAAC,EAAA,CAAA,YAAAN,EAAA,SAAAO,GAAAV,EAAAU,EAAA,WAAA,EAAA,SAAA,CAILL,EAAAA,IAAAM,EAAA,CAAA,KAAA,QAAA,SAAAN,MAAAO,EAAA,CAAA,GAAA,oCAAA,CAAA,CAAA,CAAA,EAEAP,EAAA,IACAQ,EAAC,CAAA,KAAA,cACM,MAAAlB,EAAA,cAAA,CAAA,GAAA,oCAAA,CAAA,EACiE,SAAA,CAAAmB,EAAA3B,EAAAF,EAAA8B,CAAA,EACX,UAAA,GAChD,CAAA,EACbV,EAAAA,IAAAW,EAAA,CAAA,UAAA,EAAA,CAAA,EAC0BX,EAAA,IAAAY,EAAA,CAAA,SAAAT,EAAAA,KAAAU,EAAA,CAAA,SAAA,CAGtBb,EAAAA,IAAAc,EAAA,CAAA,SAAAd,MAAAe,EAAA,CAAA,UAAAb,EAAA,aAAA,KAAA,QAAA,QAAA,UAAA,UAAA,GAAA,SAAAF,EAAA,IAAAO,EAAA,CAAA,GAAA,4BAAA,CAAA,CAAA,CAAA,CAAA,EAIAP,EAAAA,IAAAc,EAAA,CAAA,SAAAd,EAAA,IAAAe,EAAA,CAAA,UAAAb,EAAA,aAAA,KAAA,QAAA,QAAA,YAAA,QAAAhB,EAAA,KAAA,SAAA,SAAAc,EAAAA,IAAAO,EAAA,CAAA,GAAA,gCAAA,CAAA,CAAA,CAAA,CAAA,CAKA,CAAA,CAAA,CAAA,CAAA,CAEJ,CAAA,CAAA,CAAA,CAAA,CAEJ,CAAA,CAGN,EAEAS,EAAAhC;;"}