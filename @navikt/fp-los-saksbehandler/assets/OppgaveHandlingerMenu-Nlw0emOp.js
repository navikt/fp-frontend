import{j as s,a as O,F as U}from"./jsx-runtime-CUEGZZF9.js";import{R as Y,r}from"./index-DogsOklH.js";import{D as Z,e as i,Z as G,j as W}from"./nb_NO-ipgnHic7.js";import{O as z,F as Q}from"./FlyttReservasjonModal-zDS1_DOP.js";import{c as v,a as p}from"./fplosSaksbehandlerRestApi-0x2sV2N8.js";import{O as X}from"./OpphevReservasjonModal-4KLFtxA_.js";import{O as ee}from"./OppgaveReservasjonForlengetModal-F6EYwhHq.js";const ne="_button_1qa10_1",te={button:ne},d=Y.forwardRef(({onClick:e,children:a},n)=>s("button",{ref:n,className:te.button,onClick:e,type:"button",children:s(Z,{children:a})}));try{d.displayName="MenuButton",d.__docgenInfo={description:`MenuButton

Presentasjonskomponent. Lager lenker i behandlingsmeny`,displayName:"MenuButton",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"any"}}}}}catch{}const se="_containerMenu_1kbxh_1",re={containerMenu:se},ae=e=>window.innerWidth>e.left+250?{left:`${42+e.left}px`,top:`${e.top-20}px`}:{left:`${e.left-200}px`,top:`${e.top+38}px`},o=(e,a)=>{e?(document.addEventListener("click",a,!1),document.addEventListener("mousedown",a,!1),document.addEventListener("keydown",a,!1)):(document.removeEventListener("click",a,!1),document.removeEventListener("mousedown",a,!1),document.removeEventListener("keydown",a,!1))},m=({toggleMenu:e,offset:a,oppgave:n,imageNode:R,forlengOppgaveReservasjon:g,hentReserverteOppgaver:c})=>{const[b,y]=r.useState(!1),[M,k]=r.useState(!1),[h,S]=r.useState(!1),[j,E]=r.useState(!1),u=r.useRef(),f=r.useRef(null),t=l=>{const K=f.current&&f.current.contains(l.target),J=R&&R.contains(l.target);K||J||e(n)};r.useEffect(()=>(o(!0,t),u&&u.current&&u.current.focus(),()=>{o(!1,t)}),[]);const T=r.useCallback(()=>{o(!1,t),y(!0)},[t]),w=r.useCallback(()=>{e(n),o(!1,t),y(!1)},[e,n,t]),A=r.useCallback(()=>{o(!1,t),E(!0)},[t]),F=r.useCallback(()=>{e(n),o(!1,t),E(!1)},[e,n,t]),N=r.useCallback(l=>{e(n),t(l)},[e,n,t]),q=r.useCallback(()=>{g(n.id).then(()=>{o(!1,t),k(!0)})},[g,n,t]),C=r.useCallback(l=>{e(n),t(l)},[e,n,t]),D=r.useCallback(()=>{o(!1,t),S(!0)},[t]),H=r.useCallback(()=>{o(!1,t),k(!0)},[t]),_=r.useCallback(()=>{e(n)},[e,n]),{startRequest:L}=v.useRestApiRunner(p.ENDRE_OPPGAVERESERVASJON),{startRequest:V}=v.useRestApiRunner(p.FLYTT_RESERVASJON),{startRequest:x,state:B,data:I,resetRequestData:P}=v.useRestApiRunner(p.FLYTT_RESERVASJON_SAKSBEHANDLER_SOK),$=r.useCallback((...l)=>s("b",{children:l}),[]);return O(U,{children:[O("div",{className:re.containerMenu,style:ae(a),ref:f,children:[n.status.reservertTilTidspunkt&&s(i,{id:"OppgaveHandlingerMenu.ReservertTil",values:{...G(n.status.reservertTilTidspunkt),b:$}}),s(W,{eightPx:!0}),s(d,{onClick:T,ref:u,children:s(i,{id:"OppgaveHandlingerMenu.LeggTilbake",values:{br:s("br",{})}})}),s(d,{onClick:q,children:s(i,{id:"OppgaveHandlingerMenu.ForlengReservasjon",values:{br:s("br",{})}})}),s(d,{onClick:D,children:s(i,{id:"OppgaveHandlingerMenu.EndreReservasjon"})}),s(d,{onClick:A,children:s(i,{id:"OppgaveHandlingerMenu.FlyttReservasjon",values:{br:s("br",{})}})})]}),b&&s(X,{oppgave:n,showModal:b,cancel:w,toggleMenu:_,hentReserverteOppgaver:c}),h&&s(z,{showModal:h,closeModal:C,reserverTilDefault:n.status.reservertTilTidspunkt,oppgaveId:n.id,hentReserverteOppgaver:c,endreReserverasjonState:H,endreOppgavereservasjon:L}),M&&s(ee,{oppgave:n,showModal:M,closeModal:N}),j&&s(Q,{oppgaveId:n.id,showModal:j,closeModal:F,toggleMenu:_,hentReserverteOppgaver:c,flyttOppgavereservasjon:V,hentSaksbehandler:x,hentSaksbehandlerState:B,saksbehandler:I,resetHentSaksbehandler:P})]})},ve=m;try{m.displayName="OppgaveHandlingerMenu",m.__docgenInfo={description:"",displayName:"OppgaveHandlingerMenu",props:{toggleMenu:{defaultValue:null,description:"",name:"toggleMenu",required:!0,type:{name:"(valgtOppgave: Readonly<{ id: number; status: Readonly<{ erReservert: boolean; reservertTilTidspunkt?: string | undefined; erReservertAvInnloggetBruker?: boolean | undefined; reservertAvUid?: string | undefined; reservertAvNavn?: string | undefined; flyttetReservasjon?: { ...; } | undefined; }>; ... 10 more ...; beh..."}},offset:{defaultValue:null,description:"",name:"offset",required:!0,type:{name:"Offset"}},oppgave:{defaultValue:null,description:"",name:"oppgave",required:!0,type:{name:"Readonly<{ id: number; status: Readonly<{ erReservert: boolean; reservertTilTidspunkt?: string | undefined; erReservertAvInnloggetBruker?: boolean | undefined; reservertAvUid?: string | undefined; reservertAvNavn?: string | undefined; flyttetReservasjon?: { ...; } | undefined; }>; ... 10 more ...; behandlingId: stri..."}},imageNode:{defaultValue:null,description:"",name:"imageNode",required:!0,type:{name:"HTMLDivElement | null"}},forlengOppgaveReservasjon:{defaultValue:null,description:"",name:"forlengOppgaveReservasjon",required:!0,type:{name:"(oppgaveId: number) => Promise<string>"}},hentReserverteOppgaver:{defaultValue:null,description:"",name:"hentReserverteOppgaver",required:!0,type:{name:"(params: any, keepData: boolean) => void"}}}}}catch{}export{ve as O};
