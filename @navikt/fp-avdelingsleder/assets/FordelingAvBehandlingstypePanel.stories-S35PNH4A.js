import{u as S,B as t,j as e,w as L}from"./iframe-D3PxWvP5.js";import{Q as V}from"./index.es-CHu98N7D.js";import{u as F}from"./useQuery-B3paI3lB.js";import{V as j,H as G,z as I,h as T,L as k,b as E,l as K}from"./fplosAvdelingslederApi-Do8_INkO.js";import{L as w,M as A,g as O,m as Y}from"./nb_NO-C296xVLb.js";import{u as B,a as _}from"./useLosKodeverk-QE0bHWfR.js";import{a as P,N as D,M as q,R as u}from"./index.es-yB5XN5fm.js";import{S as M}from"./StoreValuesInLocalStorage-eCfl2wa2.js";import{R as U}from"./FlyttReservasjonModal-DkTQNCeJ.js";import"./preload-helper-PPVm8Dsz.js";import"./Modal-Rkv0i3pM.js";import"./index--G7i_jAE.js";import"./BasePrimitive-BxwpxBIt.js";const h=[t.TILBAKEKREVING_REVURDERING,t.TILBAKEKREVING,t.DOKUMENTINNSYN,t.KLAGE,t.REVURDERING,t.FORSTEGANGSSOKNAD],x=({height:s,oppgaverForAvdeling:l,behandlingTyper:a})=>{const n=S(),r=n.formatMessage({id:"FordelingAvBehandlingstypeGraf.TilBehandling"}),o=n.formatMessage({id:"FordelingAvBehandlingstypeGraf.TilBeslutter"}),g=h.map(i=>{const p=a.find(N=>N.kode===i);return p?p.navn:""}),y=b(l.filter(i=>i.tilBehandling)),d=b(l.filter(i=>!i.tilBehandling));return e.jsx(U,{height:s,option:{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{feature:{saveAsImage:{title:"Lagre ",name:"Antall_åpne_behandlinger"}}},legend:{data:[r,o],top:"top"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:g},series:[{name:r,type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},data:y},{name:o,type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},data:d}],color:["#337c9b","#38a161"]}})},b=s=>{const l=s.reduce((a,n)=>{const r=h.findIndex(o=>o===n.behandlingType)+1;return{...a,[r]:a[r]?a[r]+n.antall:n.antall}},{});return h.map((a,n)=>l[n+1])};x.__docgenInfo={description:"",methods:[],displayName:"FordelingAvBehandlingstypeGraf",props:{height:{required:!0,tsType:{name:"number"},description:""},behandlingTyper:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}`,signature:{properties:[{key:"kode",value:{name:"unknown",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"kodeverk",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}>`}],raw:"LosKodeverkMedNavn<'BehandlingType'>[]"},description:""},oppgaverForAvdeling:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  fagsakYtelseType: string;
  behandlingType: string;
  tilBehandling: boolean;
  antall: number;
}`,signature:{properties:[{key:"fagsakYtelseType",value:{name:"string",required:!0}},{key:"behandlingType",value:{name:"string",required:!0}},{key:"tilBehandling",value:{name:"boolean",required:!0}},{key:"antall",value:{name:"number",required:!0}}]}}],raw:`Readonly<{
  fagsakYtelseType: string;
  behandlingType: string;
  tilBehandling: boolean;
  antall: number;
}>`}],raw:"OppgaverForAvdeling[]"},description:""}}};const c=(s,l)=>{const a=s.find(n=>n.kode===l);return a?a.navn:""},v="ALLE",R="fordelingAvBehandlingstype",z={valgtYtelseType:v},f=({height:s,valgtAvdelingEnhet:l,getValueFromLocalStorage:a})=>{const{data:n}=F(I(l)),r=B("FagsakYtelseType"),o=B("BehandlingType"),g=a(R),y=g?JSON.parse(g):void 0,d=P({defaultValues:y??z}),i=d.watch();return e.jsxs(D,{formMethods:d,children:[e.jsx(M,{stateKey:R,values:i}),e.jsxs(j,{gap:"space-8",children:[e.jsx(w,{size:"small",children:e.jsx(A,{id:"FordelingAvBehandlingstypePanel.Fordeling"})}),e.jsx(q,{name:"valgtYtelseType",control:d.control,children:e.jsxs(G,{gap:"space-16",children:[e.jsx(u,{value:"FP",size:"small",children:c(r,"FP")}),e.jsx(u,{value:"ES",size:"small",children:c(r,"ES")}),e.jsx(u,{value:"SVP",size:"small",children:c(r,"SVP")}),e.jsx(u,{value:v,size:"small",children:e.jsx(A,{id:"FordelingAvBehandlingstypePanel.Alle"})})]})}),e.jsx(x,{height:s,behandlingTyper:o,oppgaverForAvdeling:n?n.filter(p=>i.valgtYtelseType===v?!0:i.valgtYtelseType===p.fagsakYtelseType):[]})]})]})};f.__docgenInfo={description:"",methods:[],displayName:"FordelingAvBehandlingstypePanel",props:{height:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},getValueFromLocalStorage:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: string) => string | undefined",signature:{arguments:[{type:{name:"string"},name:"key"}],return:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}}},description:""}}};const H=O(Y),Q=[{fagsakYtelseType:"FP",behandlingType:t.FORSTEGANGSSOKNAD,tilBehandling:!0,antall:10},{fagsakYtelseType:"ES",behandlingType:t.KLAGE,tilBehandling:!0,antall:4},{fagsakYtelseType:"ES",behandlingType:t.REVURDERING,tilBehandling:!0,antall:14},{fagsakYtelseType:"ES",behandlingType:t.REVURDERING,tilBehandling:!1,antall:4},{fagsakYtelseType:"FP",behandlingType:t.TILBAKEKREVING,tilBehandling:!1,antall:6}],ie={title:"los/avdelingsleder/nokkeltall/FordelingAvBehandlingstypePanel",component:f,decorators:[H,L],parameters:{msw:{handlers:[T.get(k.KODEVERK_LOS,()=>E.json(_)),T.get(k.HENT_OPPGAVER_FOR_AVDELING.replace("ø","%C3%B8"),()=>E.json(Q))]}},args:{height:300,valgtAvdelingEnhet:"1",getValueFromLocalStorage:()=>""},render:s=>F(K()).data?e.jsx(f,{...s}):e.jsx(V,{})},m={};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:"{}",...m.parameters?.docs?.source}}};const oe=["Default"];export{m as Default,oe as __namedExportsOrder,ie as default};
