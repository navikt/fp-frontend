import{u as L,B as a,j as e,w as N}from"./iframe-CtrrFWRU.js";import{Q as V}from"./index.es-CkGQzUlv.js";import{u as F}from"./useQuery-qADNWDeF.js";import{V as j,H as G,z as I,h as T,L as k,b as E,l as K}from"./fplosAvdelingslederApi-BmbthQ-h.js";import{L as w,M as A,g as O,m as Y}from"./nb_NO-C6P8dZz9.js";import{u as B,a as _}from"./useLosKodeverk-BeNFewvR.js";import{a as P,C as D,S as q,R as u}from"./index.es-DuVAtgSN.js";import{S as M}from"./StoreValuesInLocalStorage-KUxWC3jI.js";import{R as U}from"./FlyttReservasjonModal-CgjLQ_x6.js";import"./preload-helper-PPVm8Dsz.js";import"./Modal-BNS7JQXn.js";import"./index-C2pEpu2d.js";import"./BasePrimitive-BGYaH850.js";const h=[a.TILBAKEKREVING_REVURDERING,a.TILBAKEKREVING,a.DOKUMENTINNSYN,a.KLAGE,a.REVURDERING,a.FORSTEGANGSSOKNAD],S=({height:r,oppgaverForAvdeling:s,behandlingTyper:t})=>{const n=L(),l=n.formatMessage({id:"FordelingAvBehandlingstypeGraf.TilBehandling"}),o=n.formatMessage({id:"FordelingAvBehandlingstypeGraf.TilBeslutter"}),d=h.map(i=>{const p=t.find(x=>x.kode===i);return p?p.navn:""}),c=b(s.filter(i=>i.tilBehandling)),g=b(s.filter(i=>!i.tilBehandling));return e.jsx(U,{height:r,option:{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{feature:{saveAsImage:{title:"Lagre ",name:"Antall_åpne_behandlinger"}}},legend:{data:[l,o],top:"top"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:d},series:[{name:l,type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},data:c},{name:o,type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},data:g}],color:["#337c9b","#38a161"]}})},b=r=>{const s=r.reduce((t,n)=>{const l=h.findIndex(d=>d===n.behandlingType)+1,o=t[l]??0;return{...t,[l]:o+n.antall}},{});return h.map((t,n)=>s[n+1])};S.__docgenInfo={description:"",methods:[],displayName:"FordelingAvBehandlingstypeGraf",props:{height:{required:!0,tsType:{name:"number"},description:""},behandlingTyper:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}`,signature:{properties:[{key:"kode",value:{name:"unknown",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"kodeverk",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}>`}],raw:"LosKodeverkMedNavn<'BehandlingType'>[]"},description:""},oppgaverForAvdeling:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  fagsakYtelseType: string;
  behandlingType: string;
  tilBehandling: boolean;
  antall: number;
}`,signature:{properties:[{key:"fagsakYtelseType",value:{name:"string",required:!0}},{key:"behandlingType",value:{name:"string",required:!0}},{key:"tilBehandling",value:{name:"boolean",required:!0}},{key:"antall",value:{name:"number",required:!0}}]}}],raw:`Readonly<{
  fagsakYtelseType: string;
  behandlingType: string;
  tilBehandling: boolean;
  antall: number;
}>`}],raw:"OppgaverForAvdeling[]"},description:""}}};const y=(r,s)=>{const t=r.find(n=>n.kode===s);return t?t.navn:""},v="ALLE",R="fordelingAvBehandlingstype",z={valgtYtelseType:v},f=({height:r,valgtAvdelingEnhet:s,getValueFromLocalStorage:t})=>{const{data:n}=F(I(s)),l=B("FagsakYtelseType"),o=B("BehandlingType"),d=t(R),c=d?JSON.parse(d):void 0,g=P({defaultValues:c??z}),i=g.watch();return e.jsxs(D,{formMethods:g,children:[e.jsx(M,{stateKey:R,values:i}),e.jsxs(j,{gap:"space-8",children:[e.jsx(w,{size:"small",children:e.jsx(A,{id:"FordelingAvBehandlingstypePanel.Fordeling"})}),e.jsx(q,{name:"valgtYtelseType",control:g.control,children:e.jsxs(G,{gap:"space-16",children:[e.jsx(u,{value:"FP",size:"small",children:y(l,"FP")}),e.jsx(u,{value:"ES",size:"small",children:y(l,"ES")}),e.jsx(u,{value:"SVP",size:"small",children:y(l,"SVP")}),e.jsx(u,{value:v,size:"small",children:e.jsx(A,{id:"FordelingAvBehandlingstypePanel.Alle"})})]})}),e.jsx(S,{height:r,behandlingTyper:o,oppgaverForAvdeling:n.filter(p=>i.valgtYtelseType===v?!0:i.valgtYtelseType===p.fagsakYtelseType)})]})]})};f.__docgenInfo={description:"",methods:[],displayName:"FordelingAvBehandlingstypePanel",props:{height:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},getValueFromLocalStorage:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: string) => string | undefined",signature:{arguments:[{type:{name:"string"},name:"key"}],return:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}}},description:""}}};const C=O(Y),H=[{fagsakYtelseType:"FP",behandlingType:a.FORSTEGANGSSOKNAD,tilBehandling:!0,antall:10},{fagsakYtelseType:"ES",behandlingType:a.KLAGE,tilBehandling:!0,antall:4},{fagsakYtelseType:"ES",behandlingType:a.REVURDERING,tilBehandling:!0,antall:14},{fagsakYtelseType:"ES",behandlingType:a.REVURDERING,tilBehandling:!1,antall:4},{fagsakYtelseType:"FP",behandlingType:a.TILBAKEKREVING,tilBehandling:!1,antall:6}],ie={title:"los/avdelingsleder/nokkeltall/FordelingAvBehandlingstypePanel",component:f,decorators:[C,N],parameters:{msw:{handlers:[T.get(k.KODEVERK_LOS,()=>E.json(_)),T.get(k.HENT_OPPGAVER_FOR_AVDELING.replace("ø","%C3%B8"),()=>E.json(H))]}},args:{height:300,valgtAvdelingEnhet:"1",getValueFromLocalStorage:()=>""},render:r=>F(K()).data?e.jsx(f,{...r}):e.jsx(V,{})},m={};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:"{}",...m.parameters?.docs?.source}}};const oe=["Default"];export{m as Default,oe as __namedExportsOrder,ie as default};
