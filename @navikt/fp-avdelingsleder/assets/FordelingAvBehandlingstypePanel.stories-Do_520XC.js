import{u as S,j as e,w as L}from"./iframe-DMjtgZjT.js";import{Z as w}from"./index.es-BM3fTx9X.js";import{u as F}from"./useQuery-Bpju6m-y.js";import{V as Y,H as P,z as _,h as v,L as B,b as f,l as R}from"./fplosAvdelingslederApi-DcKFhy3p.js";import{L as V,M as k,g as O,m as q}from"./nb_NO-BLF3jDJ7.js";import{u as b,a as I}from"./useLosKodeverk-DxiU9ZRp.js";import{a as N,C as D,S as G,R as p}from"./index.es-BWBYwbdY.js";import{S as K}from"./StoreValuesInLocalStorage-CLzQy9OZ.js";import{R as z}from"./FlyttReservasjonModal-D_90C38b.js";import"./preload-helper-PPVm8Dsz.js";import"./Modal-DI2d_rM0.js";import"./index-BLO6pvlr.js";import"./BasePrimitive-BY5DQE7f.js";const y=["BT-009","BT-007","BT-006","BT-003","BT-004","BT-002"],E=({height:t,oppgaverForAvdeling:r,behandlingTyper:a})=>{const n=S(),s=n.formatMessage({id:"FordelingAvBehandlingstypeGraf.TilBehandling"}),i=n.formatMessage({id:"FordelingAvBehandlingstypeGraf.TilBeslutter"}),o=y.map(l=>{const g=a.find(j=>j.kode===l);return g?g.navn:""}),u=A(r.filter(l=>l.tilBehandling)),d=A(r.filter(l=>!l.tilBehandling));return e.jsx(z,{height:t,option:{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{feature:{saveAsImage:{title:"Lagre ",name:"Antall_åpne_behandlinger"}}},legend:{data:[s,i],top:"top"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:o},series:[{name:s,type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},data:u},{name:i,type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},data:d}],color:["#337c9b","#38a161"]}})},A=t=>{const r=t.reduce((a,n)=>{const s=y.findIndex(o=>o===n.behandlingType)+1,i=a[s]??0;return{...a,[s]:i+n.antall}},{});return y.map((a,n)=>r[n+1]||0)};E.__docgenInfo={description:"",methods:[],displayName:"FordelingAvBehandlingstypeGraf",props:{height:{required:!0,tsType:{name:"number"},description:""},behandlingTyper:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}`,signature:{properties:[{key:"kode",value:{name:"unknown",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"kodeverk",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}>`}],raw:"LosKodeverkMedNavn<'BehandlingType'>[]"},description:""},oppgaverForAvdeling:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  fagsakYtelseType: string;
  behandlingType: BehandlingType;
  tilBehandling: boolean;
  antall: number;
}`,signature:{properties:[{key:"fagsakYtelseType",value:{name:"string",required:!0}},{key:"behandlingType",value:{name:"union",raw:`| 'BT-002'
| 'BT-003'
| 'BT-004'
| 'BT-008'
| 'BT-006'
| 'BT-007'
| 'BT-009'
| '-'`,elements:[{name:"literal",value:"'BT-002'"},{name:"literal",value:"'BT-003'"},{name:"literal",value:"'BT-004'"},{name:"literal",value:"'BT-008'"},{name:"literal",value:"'BT-006'"},{name:"literal",value:"'BT-007'"},{name:"literal",value:"'BT-009'"},{name:"literal",value:"'-'"}],required:!0}},{key:"tilBehandling",value:{name:"boolean",required:!0}},{key:"antall",value:{name:"number",required:!0}}]}}],raw:`Readonly<{
  fagsakYtelseType: string;
  behandlingType: BehandlingType;
  tilBehandling: boolean;
  antall: number;
}>`}],raw:"OppgaverForAvdeling[]"},description:""}}};const c=(t,r)=>{const a=t.find(n=>n.kode===r);return a?a.navn:""},h="ALLE",x="fordelingAvBehandlingstype",M={valgtYtelseType:h},T=({height:t,valgtAvdelingEnhet:r,getValueFromLocalStorage:a})=>{const{data:n}=F(_(r)),s=b("FagsakYtelseType"),i=b("BehandlingType"),o=a(x),u=o?JSON.parse(o):void 0,d=N({defaultValues:u??M}),l=d.watch();return e.jsxs(D,{formMethods:d,children:[e.jsx(K,{stateKey:x,values:l}),e.jsxs(Y,{gap:"space-8",children:[e.jsx(V,{size:"small",children:e.jsx(k,{id:"FordelingAvBehandlingstypePanel.Fordeling"})}),e.jsx(G,{name:"valgtYtelseType",control:d.control,children:e.jsxs(P,{gap:"space-16",children:[e.jsx(p,{value:"FP",size:"small",children:c(s,"FP")}),e.jsx(p,{value:"ES",size:"small",children:c(s,"ES")}),e.jsx(p,{value:"SVP",size:"small",children:c(s,"SVP")}),e.jsx(p,{value:h,size:"small",children:e.jsx(k,{id:"FordelingAvBehandlingstypePanel.Alle"})})]})}),e.jsx(E,{height:t,behandlingTyper:i,oppgaverForAvdeling:n.filter(g=>l.valgtYtelseType===h?!0:l.valgtYtelseType===g.fagsakYtelseType)})]})]})};T.__docgenInfo={description:"",methods:[],displayName:"FordelingAvBehandlingstypePanel",props:{height:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},getValueFromLocalStorage:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: string) => string | undefined",signature:{arguments:[{type:{name:"string"},name:"key"}],return:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}}},description:""}}};const C=O(q),H=[{fagsakYtelseType:"FP",behandlingType:"BT-002",tilBehandling:!0,antall:10},{fagsakYtelseType:"ES",behandlingType:"BT-003",tilBehandling:!0,antall:4},{fagsakYtelseType:"ES",behandlingType:"BT-004",tilBehandling:!0,antall:14},{fagsakYtelseType:"ES",behandlingType:"BT-004",tilBehandling:!1,antall:4},{fagsakYtelseType:"FP",behandlingType:"BT-007",tilBehandling:!1,antall:6}],le={title:"los/avdelingsleder/nokkeltall/FordelingAvBehandlingstypePanel",component:T,decorators:[C,L],parameters:{msw:{handlers:[v.get(B.KODEVERK_LOS,()=>f.json(I)),v.get(B.HENT_OPPGAVER_FOR_AVDELING.replace("ø","%C3%B8"),()=>f.json(H))]}},args:{height:300,valgtAvdelingEnhet:"1",getValueFromLocalStorage:()=>""},render:t=>F(R()).data?e.jsx(T,{...t}):e.jsx(w,{})},m={};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:"{}",...m.parameters?.docs?.source}}};const ie=["Default"];export{m as Default,ie as __namedExportsOrder,le as default};
