import{j as t,d as s,i as E,w as L}from"./iframe-C5MiiFGG.js";import{Q as F}from"./index.es-B6BecDhV.js";import{n as P,P as g}from"./index.es-DWjp6MuS.js";import{u as b}from"./useQuery-8D1YQakY.js";import{V as _,H as h,C as Y,h as x,L as v,b as S,l as A}from"./fplosAvdelingslederApi-DhjTSEd9.js";import{L as O,M as k,g as N,m as R}from"./nb_NO-BHyDhga3.js";import{u as w,a as D}from"./useLosKodeverk-C1dfmBoz.js";import{a as U}from"./index-DhuMM0n2.js";import{N as I,M as K,R as m}from"./index.es-pfXiA5HI.js";import{S as q}from"./StoreValuesInLocalStorage-DWcWJgqw.js";import{R as M}from"./FlyttReservasjonModal-CqZWrY5V.js";import"./preload-helper-D9Z9MdNV.js";import"./Modal-DC8aCGhM.js";import"./index-NoJYJMfq.js";import"./BasePrimitive-DyD0Wl37.js";s.extend(E);const j=({height:a,behandlingerPaVent:r})=>{const l=B(r),o=z(l);return t.jsx(M,{height:a,option:{tooltip:{trigger:"axis",axisPointer:{snap:!0,label:{formatter:e=>e.axisDimension==="y"?parseInt(e.value,10).toString():s(e.value).format(P)}}},toolbox:{feature:{saveAsImage:{title:"Lagre ",name:"Antall_forstegangsbehandlinger_der_frist_utloper"}}},xAxis:{type:"time",axisLabel:{formatter:"{dd}.{MM}.{yyyy}"}},yAxis:{type:"value"},series:[{data:o,type:"line",areaStyle:{}}],color:["#337c9b"]}})},B=a=>a.map(r=>({x:s(r.behandlingFrist).startOf("day").toDate().getTime(),y:r.antall})),z=a=>{const r=[],l=a.map(e=>s(e.x)).reduce((e,n)=>e.isSameOrBefore(n)?e:n,s().startOf("day")).toDate(),o=a.map(e=>s(e.x)).reduce((e,n)=>e.isSameOrAfter(n)?e:n,s().startOf("day")).toDate();for(let e=s(l);e.isSameOrBefore(o);e=e.add(1,"days")){const n=a.filter(i=>s(i.x).isSame(e)).map(i=>i.y).reduce((i,d)=>i+d,0);r.push([e.toDate(),n])}return r};j.__docgenInfo={description:"",methods:[],displayName:"VentefristUtløperGraf",props:{height:{required:!0,tsType:{name:"number"},description:""},behandlingerPaVent:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  fagsakYtelseType: string;
  behandlingFrist: string;
  antall: number;
}`,signature:{properties:[{key:"fagsakYtelseType",value:{name:"string",required:!0}},{key:"behandlingFrist",value:{name:"string",required:!0}},{key:"antall",value:{name:"number",required:!0}}]}}],raw:`Readonly<{
  fagsakYtelseType: string;
  behandlingFrist: string;
  antall: number;
}>`}],raw:"BehandlingVentefrist[]"},description:""}}};const c=(a,r)=>{const l=a.find(o=>o.kode===r);return l?l.navn:""},f="ALLE",V="ventefristUtløperForm",H={valgtYtelsetype:f},y=({height:a,valgtAvdelingEnhet:r,getValueFromLocalStorage:l})=>{const{data:o}=b(Y(r)),e=w("FagsakYtelseType"),n=l(V),i=n?JSON.parse(n):void 0,d=U({defaultValues:i??H}),u=d.watch();return t.jsxs(I,{formMethods:d,children:[t.jsx(q,{stateKey:V,values:u}),t.jsxs(_,{gap:"space-16",children:[t.jsx(O,{size:"small",children:t.jsx(k,{id:"VentefristUtløperPanel.SattPaVent"})}),t.jsx(h,{gap:"space-16",children:t.jsx(K,{name:"valgtYtelsetype",control:d.control,children:t.jsxs(h,{gap:"space-16",children:[t.jsx(m,{value:"FP",size:"small",children:c(e,"FP")}),t.jsx(m,{value:"ES",size:"small",children:c(e,"ES")}),t.jsx(m,{value:"SVP",size:"small",children:c(e,"SVP")}),t.jsx(m,{value:f,size:"small",children:t.jsx(k,{id:"VentefristUtløperPanel.Alle"})})]})})}),t.jsx(j,{height:a,behandlingerPaVent:o.filter(T=>u.valgtYtelsetype===f?!0:u.valgtYtelsetype===T.fagsakYtelseType)})]})]})};y.__docgenInfo={description:"",methods:[],displayName:"VentefristUtløperPanel",props:{height:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},getValueFromLocalStorage:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: string) => string | undefined",signature:{arguments:[{type:{name:"string"},name:"key"}],return:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}}},description:""}}};const G=N(R),C=[{fagsakYtelseType:"FP",behandlingFrist:s().format(g),antall:10},{fagsakYtelseType:"ES",behandlingFrist:s().add(5,"d").format(g),antall:4},{fagsakYtelseType:"ES",behandlingFrist:s().add(5,"w").format(g),antall:14}],de={title:"los/avdelingsleder/nokkeltall/VentefristUtløperPanel",component:y,decorators:[G,L],parameters:{msw:{handlers:[x.get(v.KODEVERK_LOS,()=>S.json(D)),x.get(v.HENT_BEHANDLINGER_FRISTUTLOP.replaceAll("ø","%C3%B8"),()=>S.json(C))]}},args:{height:300,valgtAvdelingEnhet:"1",getValueFromLocalStorage:()=>""},render:a=>b(A()).data?t.jsx(y,{...a}):t.jsx(F,{})},p={};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:"{}",...p.parameters?.docs?.source}}};const me=["Default"];export{p as Default,me as __namedExportsOrder,de as default};
