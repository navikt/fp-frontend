import{c as ie,j as r,v as $,g as Me,u as je,e as ne,O as ce,P as Pe}from"./iframe-CwP781QY.js";import{u as de,k as H,T as me,b as Ne,S as Fe,R as qe}from"./index.es-55Ti0nEf.js";import{u as G}from"./useMutation-CZ1r-Nr7.js";import{m as De,L as D,H as ye,n as Ye,p as we,V as oe,q as Ee}from"./fplosAvdelingslederApi-BtUF5fBG.js";import{u as be}from"./useLosKodeverk-Rdi5rBw1.js";import{H as xe,G as fe}from"./index.es-DZ_1ZLkn.js";import{u as Z}from"./useDebounce-BnRiFWfk.js";import{D as _,M as F}from"./nb_NO-B5g6Br2u.js";const ke="_dager_1u55p_1",Ke="_dagerMedBindestrek_1u55p_5",Ge="_dato_1u55p_19",Oe="_arrowBoxWidth_1u55p_24",M={dager:ke,dagerMedBindestrek:Ke,beløp:"_beløp_1u55p_10",dato:Ge,arrowBoxWidth:Oe},Se=({valgtSakslisteId:s,valgtAvdelingEnhet:c})=>{const h=ie(),{watch:u,trigger:d,control:m}=de(),f=u("fra"),y=u("til"),{mutate:g}=G({mutationFn:p=>De(s,p.fra,p.til,c),onSuccess:()=>{h.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,s,c]}),h.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),h.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),x=p=>g({fra:p,til:y}),a=p=>g({fra:f,til:p}),l=Z("fra",x,d),q=Z("til",a,d);return r.jsxs(xe,{children:[r.jsx(_,{children:r.jsx(F,{id:"SorteringVelger.FiltrerPaHeltall"})}),r.jsxs(ye,{gap:"space-16",children:[r.jsx(H,{name:"fra",control:m,className:M.dato,validate:[$],onChange:p=>l(p)}),r.jsx(_,{className:M.beløp,children:r.jsx(F,{id:"SorteringVelger.Valuta"})}),r.jsx(H,{name:"til",control:m,className:M.dato,validate:[$],onChange:p=>q(p)}),r.jsx(_,{className:M.beløp,children:r.jsx(F,{id:"SorteringVelger.Valuta"})})]})]})};Se.__docgenInfo={description:"",methods:[],displayName:"BelopSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""}}};var R={exports:{}},Be=R.exports,ge;function Qe(){return ge||(ge=1,(function(s,c){(function(h,u){s.exports=u()})(Be,(function(){var h={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},u=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,d=/\d/,m=/\d\d/,f=/\d\d?/,y=/\d*[^-_:/,()\s\d]+/,g={},x=function(e){return(e=+e)+(e>68?1900:2e3)},a=function(e){return function(t){this[e]=+t}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=(function(t){if(!t||t==="Z")return 0;var o=t.match(/([+-]|\d\d)/g),i=60*o[1]+(+o[2]||0);return i===0?0:o[0]==="+"?-i:i})(e)}],q=function(e){var t=g[e];return t&&(t.indexOf?t:t.s.concat(t.f))},p=function(e,t){var o,i=g.meridiem;if(i){for(var n=1;n<=24;n+=1)if(e.indexOf(i(n,0,t))>-1){o=n>12;break}}else o=e===(t?"pm":"PM");return o},z={A:[y,function(e){this.afternoon=p(e,!1)}],a:[y,function(e){this.afternoon=p(e,!0)}],Q:[d,function(e){this.month=3*(e-1)+1}],S:[d,function(e){this.milliseconds=100*+e}],SS:[m,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[f,a("seconds")],ss:[f,a("seconds")],m:[f,a("minutes")],mm:[f,a("minutes")],H:[f,a("hours")],h:[f,a("hours")],HH:[f,a("hours")],hh:[f,a("hours")],D:[f,a("day")],DD:[m,a("day")],Do:[y,function(e){var t=g.ordinal,o=e.match(/\d+/);if(this.day=o[0],t)for(var i=1;i<=31;i+=1)t(i).replace(/\[|\]/g,"")===e&&(this.day=i)}],w:[f,a("week")],ww:[m,a("week")],M:[f,a("month")],MM:[m,a("month")],MMM:[y,function(e){var t=q("months"),o=(q("monthsShort")||t.map((function(i){return i.slice(0,3)}))).indexOf(e)+1;if(o<1)throw new Error;this.month=o%12||o}],MMMM:[y,function(e){var t=q("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,a("year")],YY:[m,function(e){this.year=x(e)}],YYYY:[/\d{4}/,a("year")],Z:l,ZZ:l};function U(e){var t,o;t=e,o=g&&g.formats;for(var i=(e=t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(w,j,v){var L=v&&v.toUpperCase();return j||o[v]||h[v]||o[L].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(P,N,E){return N||E.slice(1)}))}))).match(u),n=i.length,V=0;V<n;V+=1){var K=i[V],Y=z[K],T=Y&&Y[0],A=Y&&Y[1];i[V]=A?{regex:T,parser:A}:K.replace(/^\[|\]$/g,"")}return function(w){for(var j={},v=0,L=0;v<n;v+=1){var P=i[v];if(typeof P=="string")L+=P.length;else{var N=P.regex,E=P.parser,O=w.slice(L),k=N.exec(O)[0];E.call(j,k),w=w.replace(k,"")}}return(function(b){var B=b.afternoon;if(B!==void 0){var S=b.hours;B?S<12&&(b.hours+=12):S===12&&(b.hours=0),delete b.afternoon}})(j),j}}return function(e,t,o){o.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(x=e.parseTwoDigitYear);var i=t.prototype,n=i.parse;i.parse=function(V){var K=V.date,Y=V.utc,T=V.args;this.$u=Y;var A=T[1];if(typeof A=="string"){var w=T[2]===!0,j=T[3]===!0,v=w||j,L=T[2];j&&(L=T[2]),g=this.$locale(),!w&&L&&(g=o.Ls[L]),this.$d=(function(O,k,b,B){try{if(["x","X"].indexOf(k)>-1)return new Date((k==="X"?1e3:1)*O);var S=U(k)(O),W=S.year,Q=S.month,ve=S.day,Ve=S.hours,Te=S.minutes,Ae=S.seconds,_e=S.milliseconds,le=S.zone,ue=S.week,X=new Date,J=ve||(W||Q?1:X.getDate()),ee=W||X.getFullYear(),C=0;W&&!Q||(C=Q>0?Q-1:X.getMonth());var I,re=Ve||0,te=Te||0,ae=Ae||0,se=_e||0;return le?new Date(Date.UTC(ee,C,J,re,te,ae,se+60*le.offset*1e3)):b?new Date(Date.UTC(ee,C,J,re,te,ae,se)):(I=new Date(ee,C,J,re,te,ae,se),ue&&(I=B(I).week(ue).toDate()),I)}catch{return new Date("")}})(K,A,Y,o),this.init(),L&&L!==!0&&(this.$L=this.locale(L).$L),v&&K!=this.format(A)&&(this.$d=new Date("")),g={}}else if(A instanceof Array)for(var P=A.length,N=1;N<=P;N+=1){T[1]=A[N-1];var E=o.apply(this,T);if(E.isValid()){this.$d=E.$d,this.$L=E.$L,this.init();break}N===P&&(this.$d=new Date(""))}else n.call(this,V)}}}))})(R)),R.exports}var Ce=Qe();const Ie=Me(Ce);ne.extend(Ie);const Le=({valgtSakslisteId:s,valgtAvdelingEnhet:c,erDynamiskPeriode:h})=>{const u=ie(),d=je(),{mutate:m}=G({mutationFn:n=>De(s,n.fra,n.til,c),onSuccess:()=>{u.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,s,c]}),u.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),u.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{mutate:f}=G({mutationFn:()=>Ye(s,c),onSuccess:()=>{u.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,s,c]}),u.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),u.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{mutate:y}=G({mutationFn:n=>we(s,c,n.fomDato,n.tomDato),onSuccess:()=>{u.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,s,c]}),u.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),u.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{watch:g,control:x}=de(),a=g("fra"),l=g("til"),q=g("fomDato"),p=g("tomDato"),z=n=>m({fra:n,til:l}),U=n=>m({fra:a,til:n}),e=pe(y,!0,p),t=pe(y,!1,q),o=Z("fomDato",e),i=Z("tomDato",t);return r.jsx("div",{className:M.arrowBoxWidth,children:r.jsx(xe,{children:r.jsxs(oe,{gap:"space-8",children:[r.jsx(_,{children:r.jsx(F,{id:"SorteringVelger.FiltrerPaTidsintervall"})}),h&&r.jsxs(ye,{gap:"space-16",children:[r.jsxs("div",{children:[r.jsx(H,{name:"fra",control:x,className:M.dato,label:d.formatMessage({id:"SorteringVelger.Fom"}),validate:[$],onBlur:n=>z(n)}),(a||a==="0")&&r.jsx(_,{children:r.jsx(fe,{dateString:he(a)})})]}),r.jsx(_,{className:M.dager,children:r.jsx(F,{id:"SorteringVelger.DagerMedBindestrek"})}),r.jsxs("div",{children:[r.jsx(H,{name:"til",control:x,className:M.dato,label:d.formatMessage({id:"SorteringVelger.Tom"}),validate:[$],onBlur:n=>U(n)}),(l||l==="0")&&r.jsx(_,{children:r.jsx(fe,{dateString:he(l)})})]}),r.jsx(_,{className:M.dagerMedBindestrek,children:r.jsx(F,{id:"SorteringVelger.Dager"})})]}),!h&&r.jsxs(oe,{gap:"space-16",children:[r.jsx(me,{name:"fomDato",control:x,label:d.formatMessage({id:"SorteringVelger.Fom"}),validate:[ce],onChange:o}),r.jsx(_,{children:r.jsx(F,{id:"SorteringVelger.Bindestrek"})}),r.jsx(me,{name:"tomDato",control:x,label:d.formatMessage({id:"SorteringVelger.Tom"}),validate:[ce],onChange:i})]}),r.jsx(Ne,{name:"erDynamiskPeriode",control:x,label:d.formatMessage({id:"SorteringVelger.DynamiskPeriode"}),onChange:()=>f()})]})})})},he=s=>ne().add(Number(s),"d").format(),pe=(s,c,h)=>u=>{let d;if(u&&(d=ne(u)),!d||d.isValid()){const m=d&&d.format(Pe);return s(c?{fomDato:m,tomDato:h}:{fomDato:h,tomDato:m})}};Le.__docgenInfo={description:"",methods:[],displayName:"DatoSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};const Re=s=>s&&s.some(c=>c==="BT-007"||c==="BT-009")&&!s.some(c=>c!=="BT-007"&&c!=="BT-009"),$e=({valgtSakslisteId:s,valgteBehandlingtyper:c,valgtAvdelingEnhet:h,erDynamiskPeriode:u})=>{const d=ie(),{resetField:m,control:f,watch:y}=de(),{mutate:g}=G({mutationFn:l=>Ee(s,l.sorteringType,h),onSuccess:()=>{d.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,s,h]}),d.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),d.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),x=be("KøSortering"),a=y("sortering");return r.jsx(Fe,{name:"sortering",control:f,label:r.jsx(F,{id:"SorteringVelger.Sortering"}),onChange:l=>(m("fra",{defaultValue:""}),m("til",{defaultValue:""}),m("fomDato",{defaultValue:""}),m("tomDato",{defaultValue:""}),m("erDynamiskPeriode",{defaultValue:!1}),g({sorteringType:String(l)})),children:x.filter(l=>l.feltkategori!=="TILBAKEKREVING"||Re(c)).map(l=>r.jsxs(oe,{gap:"space-2",children:[r.jsx(qe,{value:l.kode,size:"small",children:l.navn}),a===l.kode&&r.jsxs(r.Fragment,{children:[l.felttype==="DATO"&&r.jsx(Le,{valgtSakslisteId:s,valgtAvdelingEnhet:h,erDynamiskPeriode:u}),l.felttype==="HELTALL"&&r.jsx(Se,{valgtSakslisteId:s,valgtAvdelingEnhet:h})]})]},l.kode))})};$e.__docgenInfo={description:"",methods:[],displayName:"SorteringVelger",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgteBehandlingtyper:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};export{$e as S};
