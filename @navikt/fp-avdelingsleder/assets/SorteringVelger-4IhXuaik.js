import{c as ne,j as r,v as $,g as Ne,u as Me,e as de,O as me,P as je,B as C}from"./iframe-BOmlqHOP.js";import{u as le,k as U,T as fe,b as Pe,S as Fe,R as Ge}from"./index.es-Dl9X4Dwz.js";import{u as w}from"./useMutation-CquSeUls.js";import{m as Le,L as D,H as ye,n as Ie,p as Re,V as ie,q as Oe}from"./fplosAvdelingslederApi-BPchPfUZ.js";import{u as qe}from"./useLosKodeverk-CS-E9MwC.js";import{H as Te,G as ge}from"./index.es-B9otWhqo.js";import{u as Z}from"./useDebounce-DwNC467F.js";import{D as E,M as P}from"./nb_NO-B9Pe-53G.js";var Ye=(t=>(t.OPPRETT_BEHANDLING="OPPRBEH",t.BEHANDLINGSFRIST="BEHFRIST",t.BELOP="BELOP",t.FEILUTBETALINGSTART="FEILUTBETALINGSTART",t.FORSTE_STONADSDAG="FORSTONAD",t))(Ye||{});const we="_dager_1u55p_1",Ke="_dagerMedBindestrek_1u55p_5",Be="_dato_1u55p_19",be="_arrowBoxWidth_1u55p_24",_={dager:we,dagerMedBindestrek:Ke,beløp:"_beløp_1u55p_10",dato:Be,arrowBoxWidth:be},xe=({valgtSakslisteId:t,valgtAvdelingEnhet:c})=>{const h=ne(),{watch:u,trigger:d,control:m}=le(),f=u("fra"),L=u("til"),{mutate:g}=w({mutationFn:p=>Le(t,p.fra,p.til,c),onSuccess:()=>{h.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,t,c]}),h.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),h.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),y=p=>g({fra:p,til:L}),s=p=>g({fra:f,til:p}),l=Z("fra",y,d),F=Z("til",s,d);return r.jsxs(Te,{children:[r.jsx(E,{children:r.jsx(P,{id:"SorteringVelger.FiltrerPaHeltall"})}),r.jsxs(ye,{gap:"space-16",children:[r.jsx(U,{name:"fra",control:m,className:_.dato,validate:[$],onChange:p=>l(p)}),r.jsx(E,{className:_.beløp,children:r.jsx(P,{id:"SorteringVelger.Valuta"})}),r.jsx(U,{name:"til",control:m,className:_.dato,validate:[$],onChange:p=>F(p)}),r.jsx(E,{className:_.beløp,children:r.jsx(P,{id:"SorteringVelger.Valuta"})})]})]})};xe.__docgenInfo={description:"",methods:[],displayName:"BelopSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""}}};var H={exports:{}},ke=H.exports,he;function Qe(){return he||(he=1,(function(t,c){(function(h,u){t.exports=u()})(ke,(function(){var h={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},u=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,d=/\d/,m=/\d\d/,f=/\d\d?/,L=/\d*[^-_:/,()\s\d]+/,g={},y=function(e){return(e=+e)+(e>68?1900:2e3)},s=function(e){return function(a){this[e]=+a}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=(function(a){if(!a||a==="Z")return 0;var o=a.match(/([+-]|\d\d)/g),i=60*o[1]+(+o[2]||0);return i===0?0:o[0]==="+"?-i:i})(e)}],F=function(e){var a=g[e];return a&&(a.indexOf?a:a.s.concat(a.f))},p=function(e,a){var o,i=g.meridiem;if(i){for(var n=1;n<=24;n+=1)if(e.indexOf(i(n,0,a))>-1){o=n>12;break}}else o=e===(a?"pm":"PM");return o},z={A:[L,function(e){this.afternoon=p(e,!1)}],a:[L,function(e){this.afternoon=p(e,!0)}],Q:[d,function(e){this.month=3*(e-1)+1}],S:[d,function(e){this.milliseconds=100*+e}],SS:[m,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[f,s("seconds")],ss:[f,s("seconds")],m:[f,s("minutes")],mm:[f,s("minutes")],H:[f,s("hours")],h:[f,s("hours")],HH:[f,s("hours")],hh:[f,s("hours")],D:[f,s("day")],DD:[m,s("day")],Do:[L,function(e){var a=g.ordinal,o=e.match(/\d+/);if(this.day=o[0],a)for(var i=1;i<=31;i+=1)a(i).replace(/\[|\]/g,"")===e&&(this.day=i)}],w:[f,s("week")],ww:[m,s("week")],M:[f,s("month")],MM:[m,s("month")],MMM:[L,function(e){var a=F("months"),o=(F("monthsShort")||a.map((function(i){return i.slice(0,3)}))).indexOf(e)+1;if(o<1)throw new Error;this.month=o%12||o}],MMMM:[L,function(e){var a=F("months").indexOf(e)+1;if(a<1)throw new Error;this.month=a%12||a}],Y:[/[+-]?\d+/,s("year")],YY:[m,function(e){this.year=y(e)}],YYYY:[/\d{4}/,s("year")],Z:l,ZZ:l};function W(e){var a,o;a=e,o=g&&g.formats;for(var i=(e=a.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(I,N,S){var x=S&&S.toUpperCase();return N||o[S]||h[S]||o[x].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(M,j,R){return j||R.slice(1)}))}))).match(u),n=i.length,V=0;V<n;V+=1){var Y=i[V],G=z[Y],A=G&&G[0],v=G&&G[1];i[V]=v?{regex:A,parser:v}:Y.replace(/^\[|\]$/g,"")}return function(I){for(var N={},S=0,x=0;S<n;S+=1){var M=i[S];if(typeof M=="string")x+=M.length;else{var j=M.regex,R=M.parser,K=I.slice(x),q=j.exec(K)[0];R.call(N,q),I=I.replace(q,"")}}return(function(O){var B=O.afternoon;if(B!==void 0){var T=O.hours;B?T<12&&(O.hours+=12):T===12&&(O.hours=0),delete O.afternoon}})(N),N}}return function(e,a,o){o.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(y=e.parseTwoDigitYear);var i=a.prototype,n=i.parse;i.parse=function(V){var Y=V.date,G=V.utc,A=V.args;this.$u=G;var v=A[1];if(typeof v=="string"){var I=A[2]===!0,N=A[3]===!0,S=I||N,x=A[2];N&&(x=A[2]),g=this.$locale(),!I&&x&&(g=o.Ls[x]),this.$d=(function(K,q,O,B){try{if(["x","X"].indexOf(q)>-1)return new Date((q==="X"?1e3:1)*K);var T=W(q)(K),X=T.year,b=T.month,Ve=T.day,Ae=T.hours,ve=T.minutes,Ee=T.seconds,_e=T.milliseconds,ue=T.zone,ce=T.week,J=new Date,ee=Ve||(X||b?1:J.getDate()),re=X||J.getFullYear(),k=0;X&&!b||(k=b>0?b-1:J.getMonth());var Q,te=Ae||0,ae=ve||0,se=Ee||0,oe=_e||0;return ue?new Date(Date.UTC(re,k,ee,te,ae,se,oe+60*ue.offset*1e3)):O?new Date(Date.UTC(re,k,ee,te,ae,se,oe)):(Q=new Date(re,k,ee,te,ae,se,oe),ce&&(Q=B(Q).week(ce).toDate()),Q)}catch{return new Date("")}})(Y,v,G,o),this.init(),x&&x!==!0&&(this.$L=this.locale(x).$L),S&&Y!=this.format(v)&&(this.$d=new Date("")),g={}}else if(v instanceof Array)for(var M=v.length,j=1;j<=M;j+=1){A[1]=v[j-1];var R=o.apply(this,A);if(R.isValid()){this.$d=R.$d,this.$L=R.$L,this.init();break}j===M&&(this.$d=new Date(""))}else n.call(this,V)}}}))})(H)),H.exports}var Ce=Qe();const He=Ne(Ce);de.extend(He);const Se=({valgtSakslisteId:t,valgtAvdelingEnhet:c,erDynamiskPeriode:h})=>{const u=ne(),d=Me(),{mutate:m}=w({mutationFn:n=>Le(t,n.fra,n.til,c),onSuccess:()=>{u.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,t,c]}),u.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),u.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{mutate:f}=w({mutationFn:()=>Ie(t,c),onSuccess:()=>{u.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,t,c]}),u.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),u.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{mutate:L}=w({mutationFn:n=>Re(t,c,n.fomDato,n.tomDato),onSuccess:()=>{u.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,t,c]}),u.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),u.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{watch:g,control:y}=le(),s=g("fra"),l=g("til"),F=g("fomDato"),p=g("tomDato"),z=n=>m({fra:n,til:l}),W=n=>m({fra:s,til:n}),e=De(L,!0,p),a=De(L,!1,F),o=Z("fomDato",e),i=Z("tomDato",a);return r.jsx("div",{className:_.arrowBoxWidth,children:r.jsx(Te,{children:r.jsxs(ie,{gap:"space-8",children:[r.jsx(E,{children:r.jsx(P,{id:"SorteringVelger.FiltrerPaTidsintervall"})}),h&&r.jsxs(ye,{gap:"space-16",children:[r.jsxs("div",{children:[r.jsx(U,{name:"fra",control:y,className:_.dato,label:d.formatMessage({id:"SorteringVelger.Fom"}),validate:[$],onBlur:n=>z(n)}),(s||s==="0")&&r.jsx(E,{children:r.jsx(ge,{dateString:pe(s)})})]}),r.jsx(E,{className:_.dager,children:r.jsx(P,{id:"SorteringVelger.DagerMedBindestrek"})}),r.jsxs("div",{children:[r.jsx(U,{name:"til",control:y,className:_.dato,label:d.formatMessage({id:"SorteringVelger.Tom"}),validate:[$],onBlur:n=>W(n)}),(l||l==="0")&&r.jsx(E,{children:r.jsx(ge,{dateString:pe(l)})})]}),r.jsx(E,{className:_.dagerMedBindestrek,children:r.jsx(P,{id:"SorteringVelger.Dager"})})]}),!h&&r.jsxs(ie,{gap:"space-16",children:[r.jsx(fe,{name:"fomDato",control:y,label:d.formatMessage({id:"SorteringVelger.Fom"}),validate:[me],onChange:o}),r.jsx(E,{children:r.jsx(P,{id:"SorteringVelger.Bindestrek"})}),r.jsx(fe,{name:"tomDato",control:y,label:d.formatMessage({id:"SorteringVelger.Tom"}),validate:[me],onChange:i})]}),r.jsx(Pe,{name:"erDynamiskPeriode",control:y,label:d.formatMessage({id:"SorteringVelger.DynamiskPeriode"}),onChange:()=>f()})]})})})},pe=t=>de().add(Number(t),"d").format(),De=(t,c,h)=>u=>{let d;if(u&&(d=de(u)),!d||d.isValid()){const m=d&&d.format(je);return t(c?{fomDato:m,tomDato:h}:{fomDato:h,tomDato:m})}};Se.__docgenInfo={description:"",methods:[],displayName:"DatoSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};const $e=t=>t&&t.some(c=>c===C.TILBAKEKREVING||c===C.TILBAKEKREVING_REVURDERING)&&!t.some(c=>c!==C.TILBAKEKREVING&&c!==C.TILBAKEKREVING_REVURDERING),Ue=({valgtSakslisteId:t,valgteBehandlingtyper:c,valgtAvdelingEnhet:h,erDynamiskPeriode:u})=>{const d=ne(),{resetField:m,control:f,watch:L}=le(),{mutate:g}=w({mutationFn:l=>Oe(t,l.sorteringType,h),onSuccess:()=>{d.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,t,h]}),d.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),d.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),y=qe("KøSortering"),s=L("sortering");return r.jsx(Fe,{name:"sortering",control:f,label:r.jsx(P,{id:"SorteringVelger.Sortering"}),onChange:l=>(m("fra",{defaultValue:""}),m("til",{defaultValue:""}),m("fomDato",{defaultValue:""}),m("tomDato",{defaultValue:""}),m("erDynamiskPeriode",{defaultValue:!1}),g({sorteringType:String(l)})),children:y.filter(l=>l.feltkategori!=="TILBAKEKREVING"||$e(c)).map(l=>r.jsxs(ie,{gap:"space-2",children:[r.jsx(Ge,{value:l.kode,size:"small",children:l.navn}),s===l.kode&&r.jsxs(r.Fragment,{children:[l.felttype==="DATO"&&r.jsx(Se,{valgtSakslisteId:t,valgtAvdelingEnhet:h,erDynamiskPeriode:u}),l.felttype==="HELTALL"&&r.jsx(xe,{valgtSakslisteId:t,valgtAvdelingEnhet:h})]})]},l.kode))})};Ue.__docgenInfo={description:"",methods:[],displayName:"SorteringVelger",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgteBehandlingtyper:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};export{Ye as K,Ue as S};
