import{c as ie,j as r,v as H,g as Me,u as je,e as ne,O as ce,P as Pe}from"./iframe-55PEk90g.js";import{u as de,k as $,T as me,b as Ne,S as Ee,R as Fe}from"./index.es-C3kNu2Ah.js";import{u as k}from"./useMutation-1T5dGigW.js";import{m as De,L as D,H as ye,n as Oe,p as qe,V as oe,q as Ye}from"./fplosAvdelingslederApi-Bt8bHvbk.js";import{u as we}from"./useLosKodeverk-C3Ly0BHb.js";import{H as Le,G as fe}from"./index.es-C44hVVmF.js";import{u as Z}from"./useDebounce-DQxTeXCs.js";import{D as _,M as E}from"./nb_NO-CnqV6mPc.js";var Ge=(t=>(t.OPPRETT_BEHANDLING="OPPRBEH",t.BEHANDLINGSFRIST="BEHFRIST",t.BELOP="BELOP",t.FEILUTBETALINGSTART="FEILUTBETALINGSTART",t.FORSTE_STONADSDAG="FORSTONAD",t))(Ge||{});const be="_dager_1u55p_1",ke="_dagerMedBindestrek_1u55p_5",Be="_dato_1u55p_19",Ie="_arrowBoxWidth_1u55p_24",M={dager:be,dagerMedBindestrek:ke,beløp:"_beløp_1u55p_10",dato:Be,arrowBoxWidth:Ie},xe=({valgtSakslisteId:t,valgtAvdelingEnhet:c})=>{const h=ie(),{watch:u,trigger:d,control:m}=de(),f=u("fra"),y=u("til"),{mutate:g}=k({mutationFn:p=>De(t,p.fra,p.til,c),onSuccess:()=>{h.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,t,c]}),h.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),h.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),L=p=>g({fra:p,til:y}),s=p=>g({fra:f,til:p}),l=Z("fra",L,d),F=Z("til",s,d);return r.jsxs(Le,{children:[r.jsx(_,{children:r.jsx(E,{id:"SorteringVelger.FiltrerPaHeltall"})}),r.jsxs(ye,{gap:"space-16",children:[r.jsx($,{name:"fra",control:m,className:M.dato,validate:[H],onChange:p=>l(p)}),r.jsx(_,{className:M.beløp,children:r.jsx(E,{id:"SorteringVelger.Valuta"})}),r.jsx($,{name:"til",control:m,className:M.dato,validate:[H],onChange:p=>F(p)}),r.jsx(_,{className:M.beløp,children:r.jsx(E,{id:"SorteringVelger.Valuta"})})]})]})};xe.__docgenInfo={description:"",methods:[],displayName:"BelopSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""}}};var C={exports:{}},Re=C.exports,ge;function Ke(){return ge||(ge=1,(function(t,c){(function(h,u){t.exports=u()})(Re,(function(){var h={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},u=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,d=/\d/,m=/\d\d/,f=/\d\d?/,y=/\d*[^-_:/,()\s\d]+/,g={},L=function(e){return(e=+e)+(e>68?1900:2e3)},s=function(e){return function(a){this[e]=+a}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=(function(a){if(!a||a==="Z")return 0;var o=a.match(/([+-]|\d\d)/g),i=60*o[1]+(+o[2]||0);return i===0?0:o[0]==="+"?-i:i})(e)}],F=function(e){var a=g[e];return a&&(a.indexOf?a:a.s.concat(a.f))},p=function(e,a){var o,i=g.meridiem;if(i){for(var n=1;n<=24;n+=1)if(e.indexOf(i(n,0,a))>-1){o=n>12;break}}else o=e===(a?"pm":"PM");return o},z={A:[y,function(e){this.afternoon=p(e,!1)}],a:[y,function(e){this.afternoon=p(e,!0)}],Q:[d,function(e){this.month=3*(e-1)+1}],S:[d,function(e){this.milliseconds=100*+e}],SS:[m,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[f,s("seconds")],ss:[f,s("seconds")],m:[f,s("minutes")],mm:[f,s("minutes")],H:[f,s("hours")],h:[f,s("hours")],HH:[f,s("hours")],hh:[f,s("hours")],D:[f,s("day")],DD:[m,s("day")],Do:[y,function(e){var a=g.ordinal,o=e.match(/\d+/);if(this.day=o[0],a)for(var i=1;i<=31;i+=1)a(i).replace(/\[|\]/g,"")===e&&(this.day=i)}],w:[f,s("week")],ww:[m,s("week")],M:[f,s("month")],MM:[m,s("month")],MMM:[y,function(e){var a=F("months"),o=(F("monthsShort")||a.map((function(i){return i.slice(0,3)}))).indexOf(e)+1;if(o<1)throw new Error;this.month=o%12||o}],MMMM:[y,function(e){var a=F("months").indexOf(e)+1;if(a<1)throw new Error;this.month=a%12||a}],Y:[/[+-]?\d+/,s("year")],YY:[m,function(e){this.year=L(e)}],YYYY:[/\d{4}/,s("year")],Z:l,ZZ:l};function U(e){var a,o;a=e,o=g&&g.formats;for(var i=(e=a.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(q,j,T){var S=T&&T.toUpperCase();return j||o[T]||h[T]||o[S].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(P,N,Y){return N||Y.slice(1)}))}))).match(u),n=i.length,v=0;v<n;v+=1){var b=i[v],O=z[b],A=O&&O[0],V=O&&O[1];i[v]=V?{regex:A,parser:V}:b.replace(/^\[|\]$/g,"")}return function(q){for(var j={},T=0,S=0;T<n;T+=1){var P=i[T];if(typeof P=="string")S+=P.length;else{var N=P.regex,Y=P.parser,B=q.slice(S),G=N.exec(B)[0];Y.call(j,G),q=q.replace(G,"")}}return(function(w){var I=w.afternoon;if(I!==void 0){var x=w.hours;I?x<12&&(w.hours+=12):x===12&&(w.hours=0),delete w.afternoon}})(j),j}}return function(e,a,o){o.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(L=e.parseTwoDigitYear);var i=a.prototype,n=i.parse;i.parse=function(v){var b=v.date,O=v.utc,A=v.args;this.$u=O;var V=A[1];if(typeof V=="string"){var q=A[2]===!0,j=A[3]===!0,T=q||j,S=A[2];j&&(S=A[2]),g=this.$locale(),!q&&S&&(g=o.Ls[S]),this.$d=(function(B,G,w,I){try{if(["x","X"].indexOf(G)>-1)return new Date((G==="X"?1e3:1)*B);var x=U(G)(B),W=x.year,R=x.month,Te=x.day,ve=x.hours,Ae=x.minutes,Ve=x.seconds,_e=x.milliseconds,le=x.zone,ue=x.week,X=new Date,J=Te||(W||R?1:X.getDate()),ee=W||X.getFullYear(),K=0;W&&!R||(K=R>0?R-1:X.getMonth());var Q,re=ve||0,te=Ae||0,ae=Ve||0,se=_e||0;return le?new Date(Date.UTC(ee,K,J,re,te,ae,se+60*le.offset*1e3)):w?new Date(Date.UTC(ee,K,J,re,te,ae,se)):(Q=new Date(ee,K,J,re,te,ae,se),ue&&(Q=I(Q).week(ue).toDate()),Q)}catch{return new Date("")}})(b,V,O,o),this.init(),S&&S!==!0&&(this.$L=this.locale(S).$L),T&&b!=this.format(V)&&(this.$d=new Date("")),g={}}else if(V instanceof Array)for(var P=V.length,N=1;N<=P;N+=1){A[1]=V[N-1];var Y=o.apply(this,A);if(Y.isValid()){this.$d=Y.$d,this.$L=Y.$L,this.init();break}N===P&&(this.$d=new Date(""))}else n.call(this,v)}}}))})(C)),C.exports}var Qe=Ke();const Ce=Me(Qe);ne.extend(Ce);const Se=({valgtSakslisteId:t,valgtAvdelingEnhet:c,erDynamiskPeriode:h})=>{const u=ie(),d=je(),{mutate:m}=k({mutationFn:n=>De(t,n.fra,n.til,c),onSuccess:()=>{u.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,t,c]}),u.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),u.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{mutate:f}=k({mutationFn:()=>Oe(t,c),onSuccess:()=>{u.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,t,c]}),u.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),u.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{mutate:y}=k({mutationFn:n=>qe(t,c,n.fomDato,n.tomDato),onSuccess:()=>{u.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,t,c]}),u.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),u.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{watch:g,control:L}=de(),s=g("fra"),l=g("til"),F=g("fomDato"),p=g("tomDato"),z=n=>m({fra:n,til:l}),U=n=>m({fra:s,til:n}),e=pe(y,!0,p),a=pe(y,!1,F),o=Z("fomDato",e),i=Z("tomDato",a);return r.jsx("div",{className:M.arrowBoxWidth,children:r.jsx(Le,{children:r.jsxs(oe,{gap:"space-8",children:[r.jsx(_,{children:r.jsx(E,{id:"SorteringVelger.FiltrerPaTidsintervall"})}),h&&r.jsxs(ye,{gap:"space-16",children:[r.jsxs("div",{children:[r.jsx($,{name:"fra",control:L,className:M.dato,label:d.formatMessage({id:"SorteringVelger.Fom"}),validate:[H],onBlur:n=>z(n)}),(s||s==="0")&&r.jsx(_,{children:r.jsx(fe,{dateString:he(s)})})]}),r.jsx(_,{className:M.dager,children:r.jsx(E,{id:"SorteringVelger.DagerMedBindestrek"})}),r.jsxs("div",{children:[r.jsx($,{name:"til",control:L,className:M.dato,label:d.formatMessage({id:"SorteringVelger.Tom"}),validate:[H],onBlur:n=>U(n)}),(l||l==="0")&&r.jsx(_,{children:r.jsx(fe,{dateString:he(l)})})]}),r.jsx(_,{className:M.dagerMedBindestrek,children:r.jsx(E,{id:"SorteringVelger.Dager"})})]}),!h&&r.jsxs(oe,{gap:"space-16",children:[r.jsx(me,{name:"fomDato",control:L,label:d.formatMessage({id:"SorteringVelger.Fom"}),validate:[ce],onChange:o}),r.jsx(_,{children:r.jsx(E,{id:"SorteringVelger.Bindestrek"})}),r.jsx(me,{name:"tomDato",control:L,label:d.formatMessage({id:"SorteringVelger.Tom"}),validate:[ce],onChange:i})]}),r.jsx(Ne,{name:"erDynamiskPeriode",control:L,label:d.formatMessage({id:"SorteringVelger.DynamiskPeriode"}),onChange:()=>f()})]})})})},he=t=>ne().add(Number(t),"d").format(),pe=(t,c,h)=>u=>{let d;if(u&&(d=ne(u)),!d||d.isValid()){const m=d&&d.format(Pe);return t(c?{fomDato:m,tomDato:h}:{fomDato:h,tomDato:m})}};Se.__docgenInfo={description:"",methods:[],displayName:"DatoSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};const He=t=>t&&t.some(c=>c==="BT-007"||c==="BT-009")&&!t.some(c=>c!=="BT-007"&&c!=="BT-009"),$e=({valgtSakslisteId:t,valgteBehandlingtyper:c,valgtAvdelingEnhet:h,erDynamiskPeriode:u})=>{const d=ie(),{resetField:m,control:f,watch:y}=de(),{mutate:g}=k({mutationFn:l=>Ye(t,l.sorteringType,h),onSuccess:()=>{d.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,t,h]}),d.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),d.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),L=we("KøSortering"),s=y("sortering");return r.jsx(Ee,{name:"sortering",control:f,label:r.jsx(E,{id:"SorteringVelger.Sortering"}),onChange:l=>(m("fra",{defaultValue:""}),m("til",{defaultValue:""}),m("fomDato",{defaultValue:""}),m("tomDato",{defaultValue:""}),m("erDynamiskPeriode",{defaultValue:!1}),g({sorteringType:String(l)})),children:L.filter(l=>l.feltkategori!=="TILBAKEKREVING"||He(c)).map(l=>r.jsxs(oe,{gap:"space-2",children:[r.jsx(Fe,{value:l.kode,size:"small",children:l.navn}),s===l.kode&&r.jsxs(r.Fragment,{children:[l.felttype==="DATO"&&r.jsx(Se,{valgtSakslisteId:t,valgtAvdelingEnhet:h,erDynamiskPeriode:u}),l.felttype==="HELTALL"&&r.jsx(xe,{valgtSakslisteId:t,valgtAvdelingEnhet:h})]})]},l.kode))})};$e.__docgenInfo={description:"",methods:[],displayName:"SorteringVelger",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgteBehandlingtyper:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};export{Ge as K,$e as S};
