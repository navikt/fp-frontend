import{r as E,R as g,a as h,b as D,c as x,j as a,u as O}from"./iframe-DMjtgZjT.js";import{u as K}from"./useQuery-Bpju6m-y.js";import{u as L}from"./useMutation-C0idWrv9.js";import{V as B,H as G,c as w,L as P,d as U}from"./fplosAvdelingslederApi-DcKFhy3p.js";import{u as A}from"./useLosKodeverk-DxiU9ZRp.js";import{S as F}from"./SletteSakslisteModal-BF6MztGF.js";import{L as V,M as u,B as f,D as q}from"./nb_NO-BLF3jDJ7.js";import{T as o}from"./Table-BKLXUP6D.js";import{u as M,S as C,L as H}from"./Modal-DI2d_rM0.js";var Y=function(n,r){var l={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r.indexOf(e)<0&&(l[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(n);t<e.length;t++)r.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(n,e[t])&&(l[e[t]]=n[e[t]]);return l};const z=E.forwardRef((n,r)=>{var{title:l,titleId:e}=n,t=Y(n,["title","titleId"]);let s=M();return s=l?e||"title-"+s:void 0,g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:r,"aria-labelledby":s},t),l?g.createElement("title",{id:s},l):null,g.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.75 12a8.25 8.25 0 1 1 16.5 0 8.25 8.25 0 0 1-16.5 0M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25m0 4.5a.75.75 0 0 1 .75.75v3.75h3.75a.75.75 0 0 1 0 1.5h-3.75v3.75a.75.75 0 0 1-1.5 0v-3.75H7.5a.75.75 0 0 1 0-1.5h3.75V7.5a.75.75 0 0 1 .75-.75",clipRule:"evenodd"}))});var J=function(n,r){var l={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r.indexOf(e)<0&&(l[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(n);t<e.length;t++)r.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(n,e[t])&&(l[e[t]]=n[e[t]]);return l};const Q=E.forwardRef((n,r)=>{var{as:l="a",className:e,underline:t=!0,variant:s,inlineText:R=!1,"data-color":c}=n,S=J(n,["as","className","underline","variant","inlineText","data-color"]);const m=h(!1),{cn:T}=D();let d;return m?.isDarkside?d=s:d=s??"action",g.createElement(l,Object.assign({"data-color":c??$(d),"data-variant":d},S,{ref:r,className:T("navds-link",e,{[`navds-link--${d}`]:d,"navds-link--remove-underline":!t,"navds-link--inline-text":R})}))});function $(n){switch(n){case"action":return"accent";case"neutral":return"neutral";case"subtle":return"neutral";default:return}}const X="_isSelected_1ll69_1",W="_imageText_1ll69_6",Z="_grayBox_1ll69_12",ee="_removeImage_1ll69_26",v={isSelected:X,imageText:W,grayBox:Z,removeImage:ee},ne=["GjeldendeSakslisterTabell.Listenavn","GjeldendeSakslisterTabell.Stonadstype","GjeldendeSakslisterTabell.Behandlingtype","GjeldendeSakslisterTabell.AntallSaksbehandlere","GjeldendeSakslisterTabell.AntallBehandlinger"],ae=(n,r)=>!r||r.length===0?a.jsx(u,{id:"GjeldendeSakslisterTabell.Alle"}):r.map(l=>{const e=n.find(t=>t.kode===l);return e?e.navn:""}).sort((l,e)=>l.localeCompare(e)).join(", "),re=(n,r)=>!r||r.length===0||r.length===n.length?a.jsx(u,{id:"GjeldendeSakslisterTabell.Alle"}):r.map(l=>{const e=n.find(t=>t.kode===l);return e?e.navn:""}).sort((l,e)=>l.localeCompare(e)).join(", "),le=n=>new Promise(r=>{setTimeout(r,n)}),te=({sakslister:n,valgtAvdelingEnhet:r,setValgtSakslisteId:l,valgtSakslisteId:e,oppgaverForAvdelingAntall:t,lagNySaksliste:s,resetValgtSakslisteId:R,children:c})=>{const S=x(),[m,T]=E.useState(),d=E.useRef([]),I=A("BehandlingType"),_=A("FagsakYtelseType"),{mutate:b}=L({mutationFn:i=>w(i.sakslisteId,r),onSuccess:()=>{R(),S.invalidateQueries({queryKey:[P.SAKSLISTER_FOR_AVDELING]})}});E.useEffect(()=>{d.current=d.current.slice(0,n.length)},[n]);const k=async(i,p)=>{await le(100),p&&l(i?p:void 0)},j=i=>{i.keyCode===13&&s()},N=i=>{T(void 0),b({sakslisteId:i.sakslisteId})};return a.jsxs(B,{gap:"space-16",children:[a.jsxs(G,{justify:"space-between",children:[a.jsx(V,{size:"small",children:a.jsx(u,{id:"GjeldendeSakslisterTabell.GjeldendeLister"})}),a.jsxs("div",{className:v.grayBox,children:[a.jsx(f,{size:"small",children:a.jsx(u,{id:"GjeldendeSakslisterTabell.OppgaverForAvdeling"})}),a.jsx(f,{size:"large",children:t??"0"})]})]}),n.length===0&&a.jsx(f,{size:"small",children:a.jsx(u,{id:"GjeldendeSakslisterTabell.IngenLister"})}),n.length>0&&a.jsxs(o,{size:"small",children:[a.jsx(o.Header,{children:a.jsxs(o.Row,{children:[a.jsx(o.HeaderCell,{scope:"col"}),ne.map(i=>a.jsx(o.HeaderCell,{scope:"col",children:a.jsx(u,{id:i})},i)),a.jsx(o.HeaderCell,{scope:"col"})]})}),a.jsx(o.Body,{children:n.map((i,p)=>a.jsxs(o.ExpandableRow,{className:i.sakslisteId===e?v.isSelected:void 0,onOpenChange:y=>k(y,i.sakslisteId),content:i.sakslisteId===e?c:void 0,open:i.sakslisteId===e,expandOnRowClick:!0,children:[a.jsx(o.DataCell,{children:i.navn}),a.jsx(o.DataCell,{children:ae(_,i.fagsakYtelseTyper)}),a.jsx(o.DataCell,{children:re(I,i.behandlingTyper)}),a.jsx(o.DataCell,{children:i.saksbehandlerIdenter.length>0?i.saksbehandlerIdenter.length:""}),a.jsx(o.DataCell,{children:a.jsx(ie,{valgtAvdelingEnhet:r,sakslisteId:i.sakslisteId})}),a.jsx(o.DataCell,{children:a.jsx("div",{ref:y=>{d.current[p]=y},children:a.jsx(C,{className:v.removeImage,onMouseDown:()=>T(i),onKeyDown:()=>T(i)})})})]},i.sakslisteId))})]}),a.jsxs(Q,{onClick:s,onKeyDown:j,children:[a.jsx(q,{className:v.imageText,children:a.jsx(u,{id:"GjeldendeSakslisterTabell.LeggTilListe"})}),a.jsx(z,{})]}),m&&a.jsx(F,{valgtSaksliste:m,cancel:()=>T(void 0),submit:N})]})},ie=({valgtAvdelingEnhet:n,sakslisteId:r})=>{const l=O(),{data:e,isFetching:t,isError:s}=K(U(r,n));return s?a.jsx(u,{id:"AntallOppgaverForSaksliste.HentingAvAntallOppgaverFeilet"}):t?a.jsx(H,{size:"small",title:l.formatMessage({id:"AntallOppgaverForSaksliste.HentingAvAntallOppgaverHentes"})}):e};te.__docgenInfo={description:"",methods:[],displayName:"GjeldendeSakslisterTabell",props:{sakslister:{required:!0,tsType:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  sakslisteId: number;
  navn?: string;
  behandlingTyper?: BehandlingType[];
  fagsakYtelseTyper?: string[];
  sortering?: {
    sorteringType: KøSortering;
    fra?: number;
    til?: number;
    fomDato?: string;
    tomDato?: string;
    erDynamiskPeriode: boolean;
  };
  andreKriterier?: AnnetKriterie[];
  saksbehandlerIdenter: string[];
}`,signature:{properties:[{key:"sakslisteId",value:{name:"number",required:!0}},{key:"navn",value:{name:"string",required:!1}},{key:"behandlingTyper",value:{name:"Array",elements:[{name:"union",raw:`| 'BT-002'
| 'BT-003'
| 'BT-004'
| 'BT-008'
| 'BT-006'
| 'BT-007'
| 'BT-009'
| '-'`,elements:[{name:"literal",value:"'BT-002'"},{name:"literal",value:"'BT-003'"},{name:"literal",value:"'BT-004'"},{name:"literal",value:"'BT-008'"},{name:"literal",value:"'BT-006'"},{name:"literal",value:"'BT-007'"},{name:"literal",value:"'BT-009'"},{name:"literal",value:"'-'"}]}],raw:"BehandlingType[]",required:!1}},{key:"fagsakYtelseTyper",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"sortering",value:{name:"signature",type:"object",raw:`{
  sorteringType: KøSortering;
  fra?: number;
  til?: number;
  fomDato?: string;
  tomDato?: string;
  erDynamiskPeriode: boolean;
}`,signature:{properties:[{key:"sorteringType",value:{name:"union",raw:"'OPPRBEH' | 'BEHFRIST' | 'BELOP' | 'FEILUTBETALINGSTART' | 'FORSTONAD'",elements:[{name:"literal",value:"'OPPRBEH'"},{name:"literal",value:"'BEHFRIST'"},{name:"literal",value:"'BELOP'"},{name:"literal",value:"'FEILUTBETALINGSTART'"},{name:"literal",value:"'FORSTONAD'"}],required:!0}},{key:"fra",value:{name:"number",required:!1}},{key:"til",value:{name:"number",required:!1}},{key:"fomDato",value:{name:"string",required:!1}},{key:"tomDato",value:{name:"string",required:!1}},{key:"erDynamiskPeriode",value:{name:"boolean",required:!0}}]},required:!1}},{key:"andreKriterier",value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  andreKriterierType: AndreKriterierType;
  inkluder: boolean;
}`,signature:{properties:[{key:"andreKriterierType",value:{name:"union",raw:`| 'TIL_BESLUTTER'
| 'PAPIRSOKNAD'
| 'UTBETALING_TIL_BRUKER'
| 'ENDRINGSSOKNAD'
| 'REVURDERING_INNTEKTSMELDING'
| 'KLAGE_PÅ_TILBAKEBETALING'
| 'BERØRT_BEHANDLING'
| 'PLEIEPENGER'
| 'UTSATT_START'
| 'ARBEID_INNTEKT'
| 'BARE_FAR_RETT'
| 'UTLANDSSAK'
| 'DØD'
| 'EØS_SAK'
| 'MOR_UKJENT_UTLAND'
| 'KODE7_SAK'
| 'NYTT_VEDTAK'
| 'PRAKSIS_UTSETTELSE'
| 'RETURNERT_FRA_BESLUTTER'
| 'SAMMENSATT_KONTROLL'
| 'NÆRING'
| 'TERMINBEKREFTELSE'
| 'VURDER_EØS_OPPTJENING'
| 'VURDER_FARESIGNALER'
| 'VURDER_SYKDOM'
| 'VURDER_FORMKRAV'
| 'IKKE_VARSLET'
| 'OVER_FIRE_RETTSGEBYR'`,elements:[{name:"literal",value:"'TIL_BESLUTTER'"},{name:"literal",value:"'PAPIRSOKNAD'"},{name:"literal",value:"'UTBETALING_TIL_BRUKER'"},{name:"literal",value:"'ENDRINGSSOKNAD'"},{name:"literal",value:"'REVURDERING_INNTEKTSMELDING'"},{name:"literal",value:"'KLAGE_PÅ_TILBAKEBETALING'"},{name:"literal",value:"'BERØRT_BEHANDLING'"},{name:"literal",value:"'PLEIEPENGER'"},{name:"literal",value:"'UTSATT_START'"},{name:"literal",value:"'ARBEID_INNTEKT'"},{name:"literal",value:"'BARE_FAR_RETT'"},{name:"literal",value:"'UTLANDSSAK'"},{name:"literal",value:"'DØD'"},{name:"literal",value:"'EØS_SAK'"},{name:"literal",value:"'MOR_UKJENT_UTLAND'"},{name:"literal",value:"'KODE7_SAK'"},{name:"literal",value:"'NYTT_VEDTAK'"},{name:"literal",value:"'PRAKSIS_UTSETTELSE'"},{name:"literal",value:"'RETURNERT_FRA_BESLUTTER'"},{name:"literal",value:"'SAMMENSATT_KONTROLL'"},{name:"literal",value:"'NÆRING'"},{name:"literal",value:"'TERMINBEKREFTELSE'"},{name:"literal",value:"'VURDER_EØS_OPPTJENING'"},{name:"literal",value:"'VURDER_FARESIGNALER'"},{name:"literal",value:"'VURDER_SYKDOM'"},{name:"literal",value:"'VURDER_FORMKRAV'"},{name:"literal",value:"'IKKE_VARSLET'"},{name:"literal",value:"'OVER_FIRE_RETTSGEBYR'"}],required:!0}},{key:"inkluder",value:{name:"boolean",required:!0}}]}}],raw:`Readonly<{
  andreKriterierType: AndreKriterierType;
  inkluder: boolean;
}>`}],raw:"AnnetKriterie[]",required:!1}},{key:"saksbehandlerIdenter",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}}],raw:`Readonly<{
  sakslisteId: number;
  navn?: string;
  behandlingTyper?: BehandlingType[];
  fagsakYtelseTyper?: string[];
  sortering?: {
    sorteringType: KøSortering;
    fra?: number;
    til?: number;
    fomDato?: string;
    tomDato?: string;
    erDynamiskPeriode: boolean;
  };
  andreKriterier?: AnnetKriterie[];
  saksbehandlerIdenter: string[];
}>`}],raw:"SakslisteAvdeling[]"},description:""},setValgtSakslisteId:{required:!0,tsType:{name:"signature",type:"function",raw:"(sakslisteId?: number) => void",signature:{arguments:[{type:{name:"number"},name:"sakslisteId"}],return:{name:"void"}}},description:""},valgtSakslisteId:{required:!1,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},oppgaverForAvdelingAntall:{required:!1,tsType:{name:"number"},description:""},lagNySaksliste:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},resetValgtSakslisteId:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},children:{required:!0,tsType:{name:"ReactElement"},description:""}}};export{te as G};
