import{c as ie,j as r,v as $,g as Ne,u as je,e as le,O as me,P as ve,B as C}from"./iframe-D3PxWvP5.js";import{u as de,P as U,O as fe,w as Pe,M as Fe,R as Ge}from"./index.es-yB5XN5fm.js";import{u as Y}from"./useMutation-Bliytf7i.js";import{m as Le,L as D,H as ye,n as Ie,p as Oe,V as oe,q as Re}from"./fplosAvdelingslederApi-Do8_INkO.js";import{u as we}from"./useLosKodeverk-QE0bHWfR.js";import{H as xe,G as ge}from"./index.es-CHu98N7D.js";import{u as Z}from"./useDebounce-z7yOU-qZ.js";import{D as _,M as P}from"./nb_NO-C296xVLb.js";var qe=(t=>(t.OPPRETT_BEHANDLING="OPPRBEH",t.BEHANDLINGSFRIST="BEHFRIST",t.BELOP="BELOP",t.FEILUTBETALINGSTART="FEILUTBETALINGSTART",t.FORSTE_STONADSDAG="FORSTONAD",t))(qe||{});const Ye="_dager_1u55p_1",Ke="_dagerMedBindestrek_1u55p_5",Be="_dato_1u55p_19",be="_arrowBoxWidth_1u55p_24",M={dager:Ye,dagerMedBindestrek:Ke,beløp:"_beløp_1u55p_10",dato:Be,arrowBoxWidth:be},Te=({valgtSakslisteId:t,valgtAvdelingEnhet:c})=>{const h=ie(),{watch:u,trigger:l,control:m}=de(),f=u("fra"),L=u("til"),{mutate:g}=Y({mutationFn:p=>Le(t,p.fra,p.til,c),onSuccess:()=>{h.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,t,c]}),h.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),h.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),y=p=>g({fra:p,til:L}),s=p=>g({fra:f,til:p}),d=Z("fra",y,l),F=Z("til",s,l);return r.jsxs(xe,{children:[r.jsx(_,{children:r.jsx(P,{id:"SorteringVelger.FiltrerPaHeltall"})}),r.jsxs(ye,{gap:"space-16",children:[r.jsx(U,{name:"fra",control:m,className:M.dato,validate:[$],onChange:p=>d(p)}),r.jsx(_,{className:M.beløp,children:r.jsx(P,{id:"SorteringVelger.Valuta"})}),r.jsx(U,{name:"til",control:m,className:M.dato,validate:[$],onChange:p=>F(p)}),r.jsx(_,{className:M.beløp,children:r.jsx(P,{id:"SorteringVelger.Valuta"})})]})]})};Te.__docgenInfo={description:"",methods:[],displayName:"BelopSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""}}};var H={exports:{}},ke=H.exports,he;function Qe(){return he||(he=1,(function(t,c){(function(h,u){t.exports=u()})(ke,(function(){var h={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},u=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d/,m=/\d\d/,f=/\d\d?/,L=/\d*[^-_:/,()\s\d]+/,g={},y=function(e){return(e=+e)+(e>68?1900:2e3)},s=function(e){return function(a){this[e]=+a}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=(function(a){if(!a||a==="Z")return 0;var n=a.match(/([+-]|\d\d)/g),o=60*n[1]+(+n[2]||0);return o===0?0:n[0]==="+"?-o:o})(e)}],F=function(e){var a=g[e];return a&&(a.indexOf?a:a.s.concat(a.f))},p=function(e,a){var n,o=g.meridiem;if(o){for(var i=1;i<=24;i+=1)if(e.indexOf(o(i,0,a))>-1){n=i>12;break}}else n=e===(a?"pm":"PM");return n},z={A:[L,function(e){this.afternoon=p(e,!1)}],a:[L,function(e){this.afternoon=p(e,!0)}],Q:[l,function(e){this.month=3*(e-1)+1}],S:[l,function(e){this.milliseconds=100*+e}],SS:[m,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[f,s("seconds")],ss:[f,s("seconds")],m:[f,s("minutes")],mm:[f,s("minutes")],H:[f,s("hours")],h:[f,s("hours")],HH:[f,s("hours")],hh:[f,s("hours")],D:[f,s("day")],DD:[m,s("day")],Do:[L,function(e){var a=g.ordinal,n=e.match(/\d+/);if(this.day=n[0],a)for(var o=1;o<=31;o+=1)a(o).replace(/\[|\]/g,"")===e&&(this.day=o)}],w:[f,s("week")],ww:[m,s("week")],M:[f,s("month")],MM:[m,s("month")],MMM:[L,function(e){var a=F("months"),n=(F("monthsShort")||a.map((function(o){return o.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[L,function(e){var a=F("months").indexOf(e)+1;if(a<1)throw new Error;this.month=a%12||a}],Y:[/[+-]?\d+/,s("year")],YY:[m,function(e){this.year=y(e)}],YYYY:[/\d{4}/,s("year")],Z:d,ZZ:d};function W(e){var a,n;a=e,n=g&&g.formats;for(var o=(e=a.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(I,N,S){var T=S&&S.toUpperCase();return N||n[S]||h[S]||n[T].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(j,v,O){return v||O.slice(1)}))}))).match(u),i=o.length,V=0;V<i;V+=1){var q=o[V],G=z[q],A=G&&G[0],E=G&&G[1];o[V]=E?{regex:A,parser:E}:q.replace(/^\[|\]$/g,"")}return function(I){for(var N={},S=0,T=0;S<i;S+=1){var j=o[S];if(typeof j=="string")T+=j.length;else{var v=j.regex,O=j.parser,K=I.slice(T),w=v.exec(K)[0];O.call(N,w),I=I.replace(w,"")}}return(function(R){var B=R.afternoon;if(B!==void 0){var x=R.hours;B?x<12&&(R.hours+=12):x===12&&(R.hours=0),delete R.afternoon}})(N),N}}return function(e,a,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(y=e.parseTwoDigitYear);var o=a.prototype,i=o.parse;o.parse=function(V){var q=V.date,G=V.utc,A=V.args;this.$u=G;var E=A[1];if(typeof E=="string"){var I=A[2]===!0,N=A[3]===!0,S=I||N,T=A[2];N&&(T=A[2]),g=this.$locale(),!I&&T&&(g=n.Ls[T]),this.$d=(function(K,w,R,B){try{if(["x","X"].indexOf(w)>-1)return new Date((w==="X"?1e3:1)*K);var x=W(w)(K),X=x.year,b=x.month,Ve=x.day,Ae=x.hours,Ee=x.minutes,_e=x.seconds,Me=x.milliseconds,ue=x.zone,ce=x.week,J=new Date,ee=Ve||(X||b?1:J.getDate()),re=X||J.getFullYear(),k=0;X&&!b||(k=b>0?b-1:J.getMonth());var Q,te=Ae||0,ae=Ee||0,se=_e||0,ne=Me||0;return ue?new Date(Date.UTC(re,k,ee,te,ae,se,ne+60*ue.offset*1e3)):R?new Date(Date.UTC(re,k,ee,te,ae,se,ne)):(Q=new Date(re,k,ee,te,ae,se,ne),ce&&(Q=B(Q).week(ce).toDate()),Q)}catch{return new Date("")}})(q,E,G,n),this.init(),T&&T!==!0&&(this.$L=this.locale(T).$L),S&&q!=this.format(E)&&(this.$d=new Date("")),g={}}else if(E instanceof Array)for(var j=E.length,v=1;v<=j;v+=1){A[1]=E[v-1];var O=n.apply(this,A);if(O.isValid()){this.$d=O.$d,this.$L=O.$L,this.init();break}v===j&&(this.$d=new Date(""))}else i.call(this,V)}}}))})(H)),H.exports}var Ce=Qe();const He=Ne(Ce);le.extend(He);const Se=({valgtSakslisteId:t,valgtAvdelingEnhet:c,erDynamiskPeriode:h})=>{const u=ie(),l=je(),{mutate:m}=Y({mutationFn:i=>Le(t,i.fra,i.til,c),onSuccess:()=>{u.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,t,c]}),u.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),u.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{mutate:f}=Y({mutationFn:()=>Ie(t,c),onSuccess:()=>{u.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,t,c]}),u.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),u.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{mutate:L}=Y({mutationFn:i=>Oe(t,c,i.fomDato,i.tomDato),onSuccess:()=>{u.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,t,c]}),u.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),u.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),{watch:g,control:y}=de(),s=g("fra"),d=g("til"),F=g("fomDato"),p=g("tomDato"),z=i=>m({fra:i,til:d}),W=i=>m({fra:s,til:i}),e=De(L,!0,p),a=De(L,!1,F),n=Z("fomDato",e),o=Z("tomDato",a);return r.jsx("div",{className:M.arrowBoxWidth,children:r.jsx(xe,{children:r.jsxs(oe,{gap:"space-8",children:[r.jsx(_,{children:r.jsx(P,{id:"SorteringVelger.FiltrerPaTidsintervall"})}),h&&r.jsxs(ye,{gap:"space-16",children:[r.jsxs("div",{children:[r.jsx(U,{name:"fra",control:y,className:M.dato,label:l.formatMessage({id:"SorteringVelger.Fom"}),validate:[$],onBlur:i=>z(i)}),(s||s===0)&&r.jsx(_,{children:r.jsx(ge,{dateString:pe(s)})})]}),r.jsx(_,{className:M.dager,children:r.jsx(P,{id:"SorteringVelger.DagerMedBindestrek"})}),r.jsxs("div",{children:[r.jsx(U,{name:"til",control:y,className:M.dato,label:l.formatMessage({id:"SorteringVelger.Tom"}),validate:[$],onBlur:i=>W(i)}),(d||d===0)&&r.jsx(_,{children:r.jsx(ge,{dateString:pe(d)})})]}),r.jsx(_,{className:M.dagerMedBindestrek,children:r.jsx(P,{id:"SorteringVelger.Dager"})})]}),!h&&r.jsxs(oe,{gap:"space-16",children:[r.jsx(fe,{name:"fomDato",control:y,label:l.formatMessage({id:"SorteringVelger.Fom"}),validate:[me],onChange:n}),r.jsx(_,{children:r.jsx(P,{id:"SorteringVelger.Bindestrek"})}),r.jsx(fe,{name:"tomDato",control:y,label:l.formatMessage({id:"SorteringVelger.Tom"}),validate:[me],onChange:o})]}),r.jsx(Pe,{name:"erDynamiskPeriode",control:y,label:l.formatMessage({id:"SorteringVelger.DynamiskPeriode"}),onChange:()=>f()})]})})})},pe=t=>le().add(t,"d").format(),De=(t,c,h)=>u=>{let l;if(u&&(l=le(u)),!l||l.isValid()){const m=l&&l.format(ve);return t(c?{fomDato:m,tomDato:h}:{fomDato:h,tomDato:m})}};Se.__docgenInfo={description:"",methods:[],displayName:"DatoSorteringValg",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};const $e=t=>t&&t.some(c=>c===C.TILBAKEKREVING||c===C.TILBAKEKREVING_REVURDERING)&&!t.some(c=>c!==C.TILBAKEKREVING&&c!==C.TILBAKEKREVING_REVURDERING),Ue=({valgtSakslisteId:t,valgteBehandlingtyper:c,valgtAvdelingEnhet:h,erDynamiskPeriode:u})=>{const l=ie(),{resetField:m,control:f,watch:L}=de(),{mutate:g}=Y({mutationFn:d=>Re(t,d.sorteringType,h),onSuccess:()=>{l.invalidateQueries({queryKey:[D.OPPGAVE_ANTALL,t,h]}),l.invalidateQueries({queryKey:[D.OPPGAVE_AVDELING_ANTALL]}),l.invalidateQueries({queryKey:[D.SAKSLISTER_FOR_AVDELING]})}}),y=we("KøSortering"),s=L("sortering");return r.jsx(Fe,{name:"sortering",control:f,label:r.jsx(P,{id:"SorteringVelger.Sortering"}),onChange:d=>(m("fra",{defaultValue:""}),m("til",{defaultValue:""}),m("fomDato",{defaultValue:""}),m("tomDato",{defaultValue:""}),m("erDynamiskPeriode",{defaultValue:""}),g({sorteringType:String(d)})),children:y.filter(d=>d.feltkategori!=="TILBAKEKREVING"||$e(c)).map(d=>r.jsxs(oe,{gap:"space-2",children:[r.jsx(Ge,{value:d.kode,size:"small",children:d.navn}),s===d.kode&&r.jsxs(r.Fragment,{children:[d.felttype==="DATO"&&r.jsx(Se,{valgtSakslisteId:t,valgtAvdelingEnhet:h,erDynamiskPeriode:u}),d.felttype==="HELTALL"&&r.jsx(Te,{valgtSakslisteId:t,valgtAvdelingEnhet:h})]})]},d.kode))})};Ue.__docgenInfo={description:"",methods:[],displayName:"SorteringVelger",props:{valgtSakslisteId:{required:!0,tsType:{name:"number"},description:""},valgteBehandlingtyper:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},valgtAvdelingEnhet:{required:!0,tsType:{name:"string"},description:""},erDynamiskPeriode:{required:!0,tsType:{name:"boolean"},description:""}}};export{qe as K,Ue as S};
