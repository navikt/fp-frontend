import{P as We,e as Ze,l as M,t as N,q as fe,C as ce,N as oe,S as ve,bs as jl,j as P,ba as Pl,aa as Xe,r as V,bo as Bl,A as F,bb as Wr,a0 as Z,aL as Ee,Z as qe,aR as Sl,bC as he,aO as Zr,$ as Xr,J as Qr,be as pr,V as xl,aS as el,aT as yl,br as rl,h as Fr,I as Nl,m as ll}from"./iframe-B4DxnBM6.js";import{K as vr,e as Er,u as ne,t as gr,J as Kl,Z as Ve,B as al,A as Qe,s as Ir,U as ge}from"./index.es-C60ZLeKF.js";import{u as te,a as Ol}from"./fagsakApi-DxeWZtvh.js";import{u as Ge}from"./FagsakIndex-DmyBW1XD.js";import{u as Vl,F as Gl,a as Dl,V as Ul}from"./VergeFaktaInitPanel-jyeHkoGM.js";import{B as Ml}from"./BehandlingPaVent-BIWU5wvZ.js";import{u as cr,P as br,a as wl}from"./useStandardProsessPanelProps-CGw0exgs.js";import{u as Fe,P as Ie,j as nl,O as se,a as ee,c as $l,w as Ye,A as Rr,f as tl,i as er,l as rr,S as ie,R as H,T as Je,d as hr,b as sr,Y as Cl}from"./index.es-tty0uG0n.js";import{V as I,H as x,L as C,D as J,B as S,b as y,a as de,c as il,M as W,g as Hl,E as zl}from"./VStack-DMjf_s89.js";import{M as d}from"./message-D3aAnOjD.js";import{T as h}from"./Table-C1FetVaI.js";import{u as lr,c as ol,e as ql}from"./behandlingApi-BQGIPHdG.js";import{S as Ke}from"./Spacer-A9gU-yNT.js";import{T as Re,a as sl,S as dl,b as ml}from"./Timeline-C5f3knsM.js";import{c as ul,d as kl}from"./index.es-D04_Up0R.js";import{S as Tl}from"./FigureCombination-DQjdanvU.js";import{a as pl}from"./FagsakProfileIndex-xz-8F1bA.js";import{S as vl}from"./TotrinnskontrollIndex-ySbdrjjV.js";import{S as Yl}from"./ExclamationmarkTriangleFill-BKQ0lCZH.js";import{e as Jl}from"./aksjonspunktUtils-Bp6ewLMR.js";import{L as Wl}from"./Link-DpP3kLkL.js";import{E as Me}from"./RisikoklassifiseringIndex-BCo3Fhy7.js";import{S as Zl}from"./PlusCircle-CqH-bLez.js";import{F as Xl}from"./FatterVedtakStatusModal-B45IjEI9.js";import{Å as Ql}from"./ÅpenRevurderingModal-DKUcLbrJ.js";import"./preload-helper-PPVm8Dsz.js";import"./CheckmarkCircleFill-DmekZBke.js";import"./index-q9Ltb7D7.js";import"./ErrorBoundary-Ci5cJ1YM.js";import"./IngenBehandlingValgtPanel-Dn9NxcLb.js";import"./VisittkortSakIndex-CLzPt31W.js";import"./index-BPMU_CJ5.js";import"./useTrackRouteParam-CB6ZTlcc.js";import"./paths-BRBfc9Nl.js";import"./useBehandlingPollingOperasjoner-CnxyegHQ.js";import"./apiPollingStatus-nT-xUZgL.js";import"./BehandlingSupportIndex-DH9KF2Y_.js";import"./DokumentIndex-BbvB5CO4.js";import"./FaktaKort-5QMSajkJ.js";import"./eksterneLenker-CZTrovcW.js";import"./Checkbox-C913kAQu.js";import"./StarFill-CVWraA1E.js";import"./SupportHeader-DUn29Ajf.js";import"./HistorikkIndex-CA2HD0xH.js";import"./PersonHeadset-DFN2jmiD.js";import"./MeldingIndex-BvhZ0INW.js";import"./UkjentAdresseMeldingIndex-CYOmxjzX.js";import"./useKodeverk-CnaPYR85.js";import"./SettPaVentReadOnlyModal-Dwl2d1Tf.js";import"./UtvidEllerMinskKnapp-DPQ3JPwd.js";import"./Popover-DWn_y8G0.js";import"./DocPencil-C_Qc9RC7.js";import"./BehandlingMenuIndex-CxxD2mMJ.js";import"./bind-Ct5vT_23.js";import"./Kjonnkode-DjBoP8-t.js";import"./SettPaVentModalIndex-T5BG1MuS.js";import"./FagsakData-BhpsHlBf.js";import"./tilbakekrevingUtils-B4wJRSdP.js";import"./Dropdown-DAZErdAU.js";import"./BehandlingHenlagtPanel-NK1CuexX.js";import"./index-knHBW6IZ.js";import"./Checkmark-B-MLmhg6.js";var ar=(e=>(e.AVKLAR_FAKTA_FOR_FEILUTBETALING="7003",e))(ar||{}),Ar={exports:{}},Be={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _r;function ea(){if(_r)return Be;_r=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(n,t,i){var o=null;if(i!==void 0&&(o=""+i),t.key!==void 0&&(o=""+t.key),"key"in t){i={};for(var u in t)u!=="key"&&(i[u]=t[u])}else i=t;return t=i.ref,{$$typeof:e,type:n,key:o,ref:t!==void 0?t:null,props:i}}return Be.Fragment=a,Be.jsx=r,Be.jsxs=r,Be}var Lr;function ra(){return Lr||(Lr=1,Ar.exports=ea()),Ar.exports}var p=ra();const pe="perioder",la=(e,a)=>{const r=e.find(n=>n.hendelseType===a);return r?.hendelseUndertyper&&r.hendelseUndertyper.length>0?r.hendelseUndertyper:void 0},aa=({perioder:e,årsaker:a,readOnly:r,behandlePerioderSamlet:n,kodeverkSamlingFpTilbake:t})=>{const{control:i,watch:o,setValue:u,getValues:v}=ee(),{fields:g}=$l({control:i,name:pe}),k=(s,E,c)=>{n&&g.forEach((f,b)=>{E!==b&&(c?v(`${pe}.${b}.årsak`)===c&&u(`${pe}.${b}.${c}.underÅrsak`,s):u(`${pe}.${b}.årsak`,s))})};return p.jsxs(h,{children:[p.jsx(h.Header,{children:p.jsxs(h.Row,{children:[p.jsx(h.HeaderCell,{scope:"col",children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Period"})}),p.jsx(h.HeaderCell,{scope:"col",children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Hendelse"})}),p.jsx(h.HeaderCell,{scope:"col",children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Beløp"})})]})}),p.jsx(h.Body,{children:g.map((s,E)=>{const c=o(`${pe}.${E}.årsak`),f=la(a,c);return p.jsxs(h.Row,{children:[p.jsx(h.DataCell,{children:p.jsx(Er,{dateStringFom:s.fom,dateStringTom:s.tom})}),p.jsxs(h.DataCell,{children:[p.jsx(Ye,{name:`${pe}.${E}.årsak`,control:i,selectValues:a.map(b=>p.jsx("option",{value:b.hendelseType,children:t.HendelseType.find(R=>R.kode===b.hendelseType)?.navn},b.hendelseType)),validate:[N],disabled:r,onChange:b=>k(b.target.value,E),label:""}),f&&p.jsx(Ye,{name:`${pe}.${E}.${c}.underÅrsak`,control:i,selectValues:f.map(b=>p.jsx("option",{value:b,children:t.HendelseUnderType.find(R=>R.kode===b)?.navn},b)),validate:[N],disabled:r,onChange:b=>k(b.target.value,E,c),label:""})]}),p.jsx(h.DataCell,{align:"right",children:e?p.jsx(ne,{rød:!0,beløp:e[E].belop}):null})]},s.id)})})]})},na="_textarea_1pt2d_1",ta={textarea:na},ia=fe(3),El=4e3,oa=ce(El),gl=e=>e.behandlingFakta.perioder?[...e.behandlingFakta.perioder].sort(jl):[],sa=e=>{const{behandlingFakta:{begrunnelse:a}}=e;return{begrunnelse:ve(a),perioder:gl(e).map(r=>{const{fom:n,tom:t,feilutbetalingÅrsakDto:i}=r,o={fom:n,tom:t};if(!i)return o;const{hendelseType:u,hendelseUndertype:v}=i;return{...o,årsak:u,[u]:{underÅrsak:v||null}}})}},da=(e,a)=>{const r=e.perioder.map(n=>{const t=a.find(o=>o.hendelseType===n.årsak),i=t?.hendelseUndertyper?t.hendelseUndertyper.find(o=>o===n[n.årsak]?.underÅrsak):void 0;return{fom:n.fom,tom:n.tom,årsak:{hendelseType:t?.hendelseType,hendelseUndertype:i}}});return{kode:ar.AVKLAR_FAKTA_FOR_FEILUTBETALING,begrunnelse:e.begrunnelse,feilutbetalingFakta:r}},ma=(e,a)=>{const{hendelseTyper:r}=e;return r.sort((n,t)=>{const i=a.HendelseType.find(s=>s.kode===n.hendelseType)?.navn||"",o=a.HendelseType.find(s=>s.kode===t.hendelseType)?.navn||"",u=i.startsWith("§"),v=o.startsWith("§"),g=u?i.replace(/\D/g,""):i,k=v?o.replace(/\D/g,""):o;return u&&v?g-k:g.localeCompare(k)})},ua=({hasOpenAksjonspunkter:e,feilutbetalingAarsak:a,feilutbetalingFakta:r,readOnly:n,alleMerknaderFraBeslutter:t,kodeverkSamlingFpTilbake:i,kodeverkSamlingFpsak:o,formData:u,setFormData:v,submitCallback:g})=>{const k=M(),s=r.behandlingFakta,E=sa(r),c=Fe({defaultValues:u||E}),f=c.watch("behandlePerioderSamlet")||!1,b=ma(a,i);return p.jsxs(I,{gap:"space-16",children:[e&&p.jsx(vr,{children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Aksjonspunkt"})}),p.jsx(Ie,{formMethods:c,onSubmit:R=>g(da(R,b)),setDataOnUnmount:v,children:p.jsxs(I,{gap:"space-16",children:[p.jsxs(x,{gap:"space-40",wrap:!0,children:[p.jsxs(I,{gap:"space-16",children:[p.jsx(C,{size:"small",children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Feilutbetaling"})}),p.jsxs(x,{justify:"space-between",children:[p.jsxs(I,{gap:"space-4",children:[p.jsx(J,{children:p.jsx(d,{id:"FeilutbetalingInfoPanel.PeriodeMedFeilutbetaling"})}),p.jsx(S,{size:"small",children:p.jsx(Er,{dateStringFom:s.totalPeriodeFom,dateStringTom:s.totalPeriodeTom})})]}),p.jsxs(I,{gap:"space-4",children:[p.jsx(J,{children:p.jsx(d,{id:"FeilutbetalingInfoPanel.FeilutbetaltBeløp"})}),p.jsx(S,{size:"small",children:p.jsx(ne,{rød:!0,beløp:s.aktuellFeilUtbetaltBeløp})})]}),p.jsxs(I,{gap:"space-4",children:[p.jsx(J,{children:p.jsx(d,{id:"FeilutbetalingInfoPanel.TidligereVarseltBeløp"})}),p.jsx(S,{size:"small",children:s.tidligereVarseltBeløp?p.jsx(ne,{beløp:s.tidligereVarseltBeløp}):p.jsx(d,{id:"FeilutbetalingInfoPanel.IkkeVarslet"})})]})]}),p.jsx(nl,{name:"behandlePerioderSamlet",control:c.control,label:k.formatMessage({id:"FeilutbetalingInfoPanel.BehandlePerioderSamlet"}),readOnly:n}),p.jsx(gr,{merknaderFraBeslutter:t[ar.AVKLAR_FAKTA_FOR_FEILUTBETALING],withoutBorder:!0,children:p.jsx(aa,{perioder:gl(r),behandlePerioderSamlet:f,årsaker:b,readOnly:n,kodeverkSamlingFpTilbake:i})})]}),p.jsxs(I,{gap:"space-16",children:[p.jsx(C,{size:"small",children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Revurdering"})}),p.jsxs(x,{gap:"space-16",children:[p.jsxs(I,{gap:"space-4",children:[p.jsx(J,{children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Årsaker"})}),s.behandlingÅrsaker&&p.jsx(S,{size:"small",children:s.behandlingÅrsaker.map(R=>o.BehandlingÅrsakType.find(L=>L.kode===R.behandlingArsakType)?.navn).join(", ")})]}),s.datoForRevurderingsvedtak&&p.jsxs(I,{gap:"space-4",children:[p.jsx(J,{children:p.jsx(d,{id:"FeilutbetalingInfoPanel.DatoForRevurdering"})}),p.jsx(S,{size:"small",children:p.jsx(Kl,{dateString:s.datoForRevurderingsvedtak})})]})]}),p.jsxs(I,{gap:"space-4",children:[p.jsx(J,{children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Resultat"})}),s.behandlingsresultat&&p.jsx(S,{size:"small",children:o.BehandlingResultatType.find(R=>R.kode===s.behandlingsresultat?.type)?.navn})]}),p.jsxs(I,{gap:"space-4",children:[p.jsx(J,{children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Konsekvens"})}),s.behandlingsresultat&&p.jsx(S,{size:"small",children:s.behandlingsresultat.konsekvenserForYtelsen.map(R=>o.KonsekvensForYtelsen.find(L=>L.kode===R)?.navn).join(", ")})]}),p.jsxs(I,{gap:"space-4",children:[p.jsx(J,{children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Tilbakekrevingsvalg"})}),s.tilbakekrevingValg&&p.jsx(S,{size:"small",children:i.VidereBehandling.find(R=>R.kode===s.tilbakekrevingValg?.videreBehandling)?.navn})]})]})]}),p.jsx("div",{className:ta.textarea,children:p.jsx(se,{name:"begrunnelse",control:c.control,label:k.formatMessage({id:"FeilutbetalingInfoPanel.Begrunnelse"}),validate:[N,ia,oa,oe],maxLength:El,readOnly:n})}),p.jsx("div",{children:p.jsx(y,{variant:"primary",size:"small",disabled:n||!c.formState.isDirty||c.formState.isSubmitting,loading:c.formState.isSubmitting,children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Confirm"})})})]})})]})},ka={"FeilutbetalingInfoPanel.Revurdering":"Revurdering","FeilutbetalingInfoPanel.Feilutbetaling":"Feilutbetaling","FeilutbetalingInfoPanel.Årsaker":"Årsak(er) til revurdering","FeilutbetalingInfoPanel.DatoForRevurdering":"Dato for revurderingsvedtak","FeilutbetalingInfoPanel.Konsekvens":"Konsekvens","FeilutbetalingInfoPanel.Tilbakekrevingsvalg":"Tilbakekrevingsvalg","FeilutbetalingInfoPanel.PeriodeMedFeilutbetaling":"Periode med feilutbetaling","FeilutbetalingInfoPanel.FeilutbetaltBeløp":"Feilutbetalt beløp totalt","FeilutbetalingInfoPanel.TidligereVarseltBeløp":"Tidligere varslet beløp","FeilutbetalingInfoPanel.Period":"Period","FeilutbetalingInfoPanel.Hendelse":"Hendelse","FeilutbetalingInfoPanel.Beløp":"Feilutbetalt beløp","FeilutbetalingInfoPanel.Resultat":"Resultat","FeilutbetalingInfoPanel.Begrunnelse":"Forklar årsaken(e) til feilutbetalingen","FeilutbetalingInfoPanel.Aksjonspunkt":"Kontroller at korrekt hendelse er satt","FeilutbetalingInfoPanel.Confirm":"Bekreft og fortsett","FeilutbetalingInfoPanel.IkkeVarslet":"Ikke varslet","FeilutbetalingInfoPanel.BehandlePerioderSamlet":"Behandle alle perioder samlet"},Ta=Ze(ka),pa=({feilutbetalingFakta:e,feilutbetalingAarsak:a,fagsakYtelseTypeKode:r,isAksjonspunktOpen:n,isReadOnly:t,kodeverkSamlingFpsak:i,kodeverkSamlingFpTilbake:o,alleMerknaderFraBeslutter:u,submitCallback:v,formData:g,setFormData:k})=>{const s=a.find(E=>E.ytelseType===r);if(!s)throw Error(`Mangler feilutbetalingsårsak for ytelsetype ${r}`);return p.jsx(We,{value:Ta,children:p.jsx(ua,{feilutbetalingFakta:e,feilutbetalingAarsak:s,alleMerknaderFraBeslutter:u,kodeverkSamlingFpTilbake:o,kodeverkSamlingFpsak:i,submitCallback:v,readOnly:t,hasOpenAksjonspunkter:n,formData:g,setFormData:k})})},va=[ar.AVKLAR_FAKTA_FOR_FEILUTBETALING],cl=({tilbakekrevingKodeverk:e})=>{const a=M(),r=Vl(va),{behandling:n,fagsak:t}=Ge(),i=lr(n),{data:o}=te(i.tilbakekreving.feilutbetalingFaktaOptions(n)),{data:u}=te(i.tilbakekreving.feilutbetalingÅrsakOptions(n));return P.jsx(Gl,{standardPanelProps:r,faktaPanelKode:Pl.FEILUTBETALING,faktaPanelMenyTekst:a.formatMessage({id:"TilbakekrevingFakta.FaktaFeilutbetaling"}),skalPanelVisesIMeny:ol(n,"FEILUTBETALING_FAKTA"),children:o&&u?P.jsx(Ea,{feilutbetalingFakta:o,feilutbetalingAarsak:u,fagsakYtelseTypeKode:t.fagsakYtelseType,kodeverkSamlingFpTilbake:e,kodeverkSamlingFpsak:r.alleKodeverk,isAksjonspunktOpen:r.harÅpentAksjonspunkt,...r,submitCallback:r.submitCallback}):P.jsx(Ve,{})})},Ea=e=>{const{mellomlagretFormData:a,setMellomlagretFormData:r}=Xe();return P.jsx(pa,{...e,formData:a,setFormData:r})};cl.__docgenInfo={description:"",methods:[],displayName:"FeilutbetalingFaktaInitPanel",props:{tilbakekrevingKodeverk:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  [K in TilbakekrevingKodeverkType]: KodeverkMedNavnTilbakekreving<
    K extends TilbakekrevingKodeverkType ? K : unknown
  >[];
}`,signature:{properties:[{key:{name:"signature",type:"object",raw:`{
  BehandlingType: BehandlingType;
  BehandlingÅrsakType: BehandlingÅrsakTypeFpTilbake;
  BehandlingResultatType: BehandlingResultatTypeFpTilbake;
  HistorikkAktør: HistorikkAktor;
  SkjermlenkeType: SkjermlenkeTypeTilbakekreving;
  Venteårsak: VenteÅrsakTypeFpTilbake;
  VurderÅrsak: VurderÅrsak;
  VergeType: VergeType;
  Aktsomhet: Aktsomhet;
  VedtakResultatType: VedtakResultatType;
  HendelseType: HendelseType;
  SærligGrunn: SærligGrunn;
  VilkårResultat: VilkårResultat;
  HendelseUnderType: HendelseUnderType;
  VidereBehandling: TilbakekrevingVidereBehandling;
  ForeldelseVurderingType: ForeldelseVurderingType;
}`,signature:{properties:[{key:"BehandlingType",value:{name:"union",raw:`| 'BT-002'
| 'BT-003'
| 'BT-004'
| 'BT-008'
| 'BT-006'
| 'BT-007'
| 'BT-009'
| '-'`,elements:[{name:"literal",value:"'BT-002'"},{name:"literal",value:"'BT-003'"},{name:"literal",value:"'BT-004'"},{name:"literal",value:"'BT-008'"},{name:"literal",value:"'BT-006'"},{name:"literal",value:"'BT-007'"},{name:"literal",value:"'BT-009'"},{name:"literal",value:"'-'"}],required:!0}},{key:"BehandlingÅrsakType",value:{name:"union",raw:`| 'RE_KLAGE_KA'
| 'RE_KLAGE_NFP'
| 'RE_FEILUTBETALT_BELØP_REDUSERT'
| 'RE_VILKÅR'
| 'RE_FORELDELSE'`,elements:[{name:"literal",value:"'RE_KLAGE_KA'"},{name:"literal",value:"'RE_KLAGE_NFP'"},{name:"literal",value:"'RE_FEILUTBETALT_BELØP_REDUSERT'"},{name:"literal",value:"'RE_VILKÅR'"},{name:"literal",value:"'RE_FORELDELSE'"}],required:!0}},{key:"BehandlingResultatType",value:{name:"union",raw:`| 'INGEN_TILBAKEBETALING'
| 'DELVIS_TILBAKEBETALING'
| 'FULL_TILBAKEBETALING'
| 'HENLAGT_FEILOPPRETTET'
| 'HENLAGT_FEILOPPRETTET_MED_BREV'
| 'HENLAGT_FEILOPPRETTET_UTEN_BREV'`,elements:[{name:"literal",value:"'INGEN_TILBAKEBETALING'"},{name:"literal",value:"'DELVIS_TILBAKEBETALING'"},{name:"literal",value:"'FULL_TILBAKEBETALING'"},{name:"literal",value:"'HENLAGT_FEILOPPRETTET'"},{name:"literal",value:"'HENLAGT_FEILOPPRETTET_MED_BREV'"},{name:"literal",value:"'HENLAGT_FEILOPPRETTET_UTEN_BREV'"}],required:!0}},{key:"HistorikkAktør",value:{name:"union",raw:`| 'BESL'
| 'SBH'
| 'SOKER'
| 'ARBEIDSGIVER'
| 'VL'
| '-'`,elements:[{name:"literal",value:"'BESL'"},{name:"literal",value:"'SBH'"},{name:"literal",value:"'SOKER'"},{name:"literal",value:"'ARBEIDSGIVER'"},{name:"literal",value:"'VL'"},{name:"literal",value:"'-'"}],required:!0}},{key:"SkjermlenkeType",value:{name:"union",raw:`| 'FAKTA_OM_FEILUTBETALING'
| 'TILBAKEKREVING'
| 'VEDTAK'
| 'FORELDELSE'
| 'FAKTA_OM_VERGE'`,elements:[{name:"literal",value:"'FAKTA_OM_FEILUTBETALING'"},{name:"literal",value:"'TILBAKEKREVING'"},{name:"literal",value:"'VEDTAK'"},{name:"literal",value:"'FORELDELSE'"},{name:"literal",value:"'FAKTA_OM_VERGE'"}],required:!0}},{key:"Venteårsak",value:{name:"union",raw:`| 'UTV_TIL_FRIST'
| 'ENDRE_TILKJENT_YTELSE'
| 'VENT_PÅ_MULIG_MOTREGNING'
| 'VENT_PÅ_BRUKERTILBAKEMELDING'
| 'VENT_PÅ_TILBAKEKREVINGSGRUNNLAG'`,elements:[{name:"literal",value:"'UTV_TIL_FRIST'"},{name:"literal",value:"'ENDRE_TILKJENT_YTELSE'"},{name:"literal",value:"'VENT_PÅ_MULIG_MOTREGNING'"},{name:"literal",value:"'VENT_PÅ_BRUKERTILBAKEMELDING'"},{name:"literal",value:"'VENT_PÅ_TILBAKEKREVINGSGRUNNLAG'"}],required:!0}},{key:"VurderÅrsak",value:{name:"union",raw:`| 'FEIL_FAKTA'
| 'FEIL_LOV'
| 'SKJØNN'
| 'UTREDNING'
| 'SAKSFLYT'
| 'BEGRUNNELSE'
| '-'
| 'ANNET'
| 'FEIL_REGEL'`,elements:[{name:"literal",value:"'FEIL_FAKTA'"},{name:"literal",value:"'FEIL_LOV'"},{name:"literal",value:"'SKJØNN'"},{name:"literal",value:"'UTREDNING'"},{name:"literal",value:"'SAKSFLYT'"},{name:"literal",value:"'BEGRUNNELSE'"},{name:"literal",value:"'-'"},{name:"literal",value:"'ANNET'"},{name:"literal",value:"'FEIL_REGEL'"}],required:!0}},{key:"VergeType",value:{name:"union",raw:`| 'BARN'
| 'FBARN'
| 'VOKSEN'
| 'ADVOKAT'
| 'ANNEN_F'`,elements:[{name:"literal",value:"'BARN'"},{name:"literal",value:"'FBARN'"},{name:"literal",value:"'VOKSEN'"},{name:"literal",value:"'ADVOKAT'"},{name:"literal",value:"'ANNEN_F'"}],required:!0}},{key:"Aktsomhet",value:{name:"union",raw:"'FORSETT' | 'GROVT_UAKTSOM' | 'SIMPEL_UAKTSOM'",elements:[{name:"literal",value:"'FORSETT'"},{name:"literal",value:"'GROVT_UAKTSOM'"},{name:"literal",value:"'SIMPEL_UAKTSOM'"}],required:!0}},{key:"VedtakResultatType",value:{name:"union",raw:"'INGEN_TILBAKEBETALING' | 'DELVIS_TILBAKEBETALING'",elements:[{name:"literal",value:"'INGEN_TILBAKEBETALING'"},{name:"literal",value:"'DELVIS_TILBAKEBETALING'"}],required:!0}},{key:"HendelseType",value:{name:"union",raw:"'MEDLEMSKAP' | 'OKONOMI_FEIL' | 'BEREGNING_TYPE'",elements:[{name:"literal",value:"'MEDLEMSKAP'"},{name:"literal",value:"'OKONOMI_FEIL'"},{name:"literal",value:"'BEREGNING_TYPE'"}],required:!0}},{key:"SærligGrunn",value:{name:"union",raw:`| 'GRAD_AV_UAKTSOMHET'
| 'HELT_ELLER_DELVIS_NAVS_FEIL'
| 'STOERRELSE_BELOEP'
| 'TID_FRA_UTBETALING'
| 'ANNET'`,elements:[{name:"literal",value:"'GRAD_AV_UAKTSOMHET'"},{name:"literal",value:"'HELT_ELLER_DELVIS_NAVS_FEIL'"},{name:"literal",value:"'STOERRELSE_BELOEP'"},{name:"literal",value:"'TID_FRA_UTBETALING'"},{name:"literal",value:"'ANNET'"}],required:!0}},{key:"VilkårResultat",value:{name:"union",raw:"'FORSTO_BURDE_FORSTAATT' | 'FEIL_OPPLYSNINGER' | 'MANGELFULL_OPPLYSNING' | 'GOD_TRO'",elements:[{name:"literal",value:"'FORSTO_BURDE_FORSTAATT'"},{name:"literal",value:"'FEIL_OPPLYSNINGER'"},{name:"literal",value:"'MANGELFULL_OPPLYSNING'"},{name:"literal",value:"'GOD_TRO'"}],required:!0}},{key:"HendelseUnderType",value:{name:"union",raw:"'IKKE_INNTEKT' | 'IKKE_YRKESAKTIV' | 'OKONOMI_FEIL_TREKK' | 'IKKE_BOSATT'",elements:[{name:"literal",value:"'IKKE_INNTEKT'"},{name:"literal",value:"'IKKE_YRKESAKTIV'"},{name:"literal",value:"'OKONOMI_FEIL_TREKK'"},{name:"literal",value:"'IKKE_BOSATT'"}],required:!0}},{key:"VidereBehandling",value:{name:"union",raw:`| '-'
| 'TILBAKEKR_OPPRETT'
| 'TILBAKEKR_IGNORER'
| 'TILBAKEKR_INNTREKK'
| 'TILBAKEKR_OPPDATER'`,elements:[{name:"literal",value:"'-'"},{name:"literal",value:"'TILBAKEKR_OPPRETT'"},{name:"literal",value:"'TILBAKEKR_IGNORER'"},{name:"literal",value:"'TILBAKEKR_INNTREKK'"},{name:"literal",value:"'TILBAKEKR_OPPDATER'"}],required:!0}},{key:"ForeldelseVurderingType",value:{name:"union",raw:"'IKKE_VURDERT' | 'FORELDET' | 'IKKE_FORELDET' | 'TILLEGGSFRIST' | 'UDEFINERT'",elements:[{name:"literal",value:"'IKKE_VURDERT'"},{name:"literal",value:"'FORELDET'"},{name:"literal",value:"'IKKE_FORELDET'"},{name:"literal",value:"'TILLEGGSFRIST'"},{name:"literal",value:"'UDEFINERT'"}],required:!0}}]},required:!0},value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}`,signature:{properties:[{key:"kode",value:{name:"unknown",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"kodeverk",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}>`}],raw:`KodeverkMedNavnTilbakekreving<
  K extends TilbakekrevingKodeverkType ? K : unknown
>[]`}}]}},description:""}}};var nr=(e=>(e.VURDER_FORELDELSE="5003",e))(nr||{}),jr={exports:{}},Se={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pr;function ga(){if(Pr)return Se;Pr=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(n,t,i){var o=null;if(i!==void 0&&(o=""+i),t.key!==void 0&&(o=""+t.key),"key"in t){i={};for(var u in t)u!=="key"&&(i[u]=t[u])}else i=t;return t=i.ref,{$$typeof:e,type:n,key:o,ref:t!==void 0?t:null,props:i}}return Se.Fragment=a,Se.jsx=r,Se.jsxs=r,Se}var Br;function ca(){return Br||(Br=1,jr.exports=ga()),jr.exports}var m=ca(),Q=(e=>(e.IKKE_VURDERT="IKKE_VURDERT",e.FORELDET="FORELDET",e.IKKE_FORELDET="IKKE_FORELDET",e.TILLEGGSFRIST="TILLEGGSFRIST",e.UDEFINERT="-",e))(Q||{});const ba=fe(3),Ra=ce(1500),ha=e=>e!==Q.UDEFINERT?e:void 0,fa=e=>e.foreldet?e.foreldet:ha(e.foreldelseVurderingType),Fa=e=>({...e,foreldet:fa(e)}),Ia=({skjulPeriode:e,readOnly:a,periode:r,oppdaterPeriode:n,kodeverkSamlingFpTilbake:t})=>{const i=M(),o=Fe({defaultValues:Fa(r)}),u=o.watch("foreldet"),v=u&&u===Q.FORELDET,g=u&&u===Q.TILLEGGSFRIST,k=t.ForeldelseVurderingType.filter(s=>s.kode!==Q.IKKE_VURDERT&&s.kode!==Q.UDEFINERT);return m.jsx(Ie,{formMethods:o,onSubmit:s=>n(s),children:m.jsxs(I,{gap:"space-16",children:[m.jsx(se,{name:"begrunnelse",control:o.control,label:i.formatMessage({id:"ForeldelsePeriodeForm.Vurdering"}),validate:[N,ba,Ra,oe],maxLength:1500,readOnly:a}),m.jsxs(x,{gap:"space-40",children:[m.jsx(ie,{name:"foreldet",control:o.control,legend:m.jsx(d,{id:"ForeldelsePeriodeForm.RadioGroup.Foreldet"}),validate:[N],readOnly:a,children:k.map(s=>m.jsx(H,{value:s.kode,size:"small",children:s.navn},s.kode))}),m.jsxs(I,{gap:"space-20",children:[(v||g)&&m.jsx(Je,{name:"foreldelsesfrist",control:o.control,label:i.formatMessage({id:"ForeldelsePeriodeForm.Foreldelsesfrist"}),validate:[N,qe],readOnly:a}),g&&m.jsx(Je,{name:"oppdagelsesDato",control:o.control,label:i.formatMessage({id:"ForeldelsePeriodeForm.OppdagelsesDato"}),validate:[N,qe,Sl],readOnly:a,fromDate:F("1970-01-01").toDate(),toDate:F().toDate()})]})]}),m.jsxs(x,{gap:"space-16",children:[m.jsx(y,{size:"small",variant:"primary",disabled:!o.formState.isDirty||o.formState.isSubmitting||a,loading:o.formState.isSubmitting,children:m.jsx(d,{id:"ForeldelsePeriodeForm.Oppdater"})}),m.jsx(y,{size:"small",variant:"secondary",onClick:e,type:"button",children:m.jsx(d,{id:"ForeldelsePeriodeForm.Avbryt"})})]})]})})},Aa="_button_8q57x_1",_a="_cancelButton_8q57x_5",Sr={button:Aa,cancelButton:_a},La=(e,a)=>r=>r&&(Zr(r)(F(e.tom.toString()).subtract(1,"day"))||Xr(r)(e.fom))?a.formatMessage({id:"DelOppPeriodeModalImpl.DatoUtenforPeriode"}):null,ja=(e,a)=>{const r=F(e.forstePeriodeTomDato).add(1,"days"),n={fom:a.fom,tom:e.forstePeriodeTomDato},t={fom:r.format(Qr),tom:a.tom};return{forstePeriode:n,andrePeriode:t}},Pa=({periodeData:e,showModal:a,cancelEvent:r,finnesBelopMed0Verdi:n,splitPeriod:t})=>{const i=M(),o=Fe();return m.jsx(Ie,{formMethods:o,onSubmit:u=>t(ja(u,e)),children:m.jsxs(W,{width:"medium",open:a,"aria-label":i.formatMessage({id:"DelOppPeriodeModalImpl.ModalDescription"}),onClose:r,children:[m.jsx(W.Header,{children:m.jsx(de,{size:"small",level:"2",children:m.jsx(d,{id:"DelOppPeriodeModalImpl.DelOppPerioden"})})}),m.jsx(W.Body,{children:m.jsxs(I,{gap:"space-16",children:[m.jsxs("div",{children:[m.jsx(C,{size:"small",children:m.jsx(d,{id:"DelOppPeriodeModalImpl.Periode"})}),m.jsx(S,{size:"small",children:`${F(e.fom.toString()).format(Z)} - ${F(e.tom.toString()).format(Z)}`})]}),m.jsx(Je,{name:"forstePeriodeTomDato",control:o.control,label:m.jsx(d,{id:"DelOppPeriodeModalImpl.AngiTomDato"}),validate:[N,qe,La(e,i)],fromDate:F(e.fom).toDate(),toDate:F(e.tom).toDate()}),n&&m.jsx(Qe,{variant:"error",children:m.jsx(d,{id:"DelOppPeriodeModalImpl.BelopEr0"})})]})}),m.jsxs(W.Footer,{children:[m.jsx(y,{size:"small",variant:"primary",className:Sr.button,disabled:!o.formState.isDirty,children:m.jsx(d,{id:"DelOppPeriodeModalImpl.Ok"})}),m.jsx(y,{size:"small",variant:"secondary",onClick:r,className:Sr.cancelButton,type:"button",children:m.jsx(d,{id:"DelOppPeriodeModalImpl.Avbryt"})})]})]})})},Ba="_margin_1dkor_37",ir={margin:Ba},Sa=!1,xa=({valgtPeriode:e,beregnBelop:a,behandlingUuid:r,oppdaterSplittedePerioder:n,setNestePeriode:t,setForrigePeriode:i,readOnly:o,lukkPeriode:u})=>{const v=M(),[g,k]=V.useState(!1),[s,E]=V.useState(!1),c=R=>{k(!0),R.preventDefault()},f=()=>{k(!1)},b=R=>{E(!1);const L={belop:e.feilutbetaling,fom:R.forstePeriode.fom,tom:R.forstePeriode.tom,begrunnelse:e.begrunnelse?e.begrunnelse:" "},A={belop:e.feilutbetaling,fom:R.andrePeriode.fom,tom:R.andrePeriode.tom,begrunnelse:e.begrunnelse?e.begrunnelse:" "};a({behandlingUuid:r,perioder:[L,A]}).then(w=>{const{perioder:_}=w;if(_.some(D=>D.belop===0))E(!0);else{const D={fom:L.fom,tom:L.tom,feilutbetaling:_[0].belop},re={fom:A.fom,tom:A.tom,feilutbetaling:_[1].belop};f(),n([D,re])}})};return m.jsxs(x,{children:[m.jsxs(C,{size:"small",children:[m.jsx(d,{id:"PeriodeController.Detaljer"}),Sa]}),!o&&m.jsxs(m.Fragment,{children:[m.jsx(Ke,{}),m.jsx(y,{className:ir.margin,size:"xsmall",icon:m.jsx(dl,{"aria-hidden":!0}),onClick:c,variant:"tertiary-neutral",type:"button",title:v.formatMessage({id:"PeriodeController.DelOppPerioden"}),children:m.jsx(d,{id:"PeriodeController.DelOppPerioden"})})]}),g&&m.jsx(Pa,{cancelEvent:f,showModal:g,periodeData:e,splitPeriod:b,finnesBelopMed0Verdi:s}),m.jsx(Ke,{}),m.jsx(y,{className:ir.margin,size:"xsmall",icon:m.jsx(er,{"aria-hidden":!0}),onClick:i,variant:"secondary-neutral",type:"button",title:v.formatMessage({id:"PeriodeController.prevPeriod"}),children:m.jsx(d,{id:"PeriodeController.prevPeriodShort"})}),m.jsx(y,{className:ir.margin,size:"xsmall",icon:m.jsx(rr,{"aria-hidden":!0}),onClick:t,variant:"secondary-neutral",type:"button",title:v.formatMessage({id:"PeriodeController.nextPeriod"}),iconPosition:"right",children:m.jsx(d,{id:"PeriodeController.nextPeriodShort"})}),m.jsx(y,{size:"xsmall",icon:m.jsx(il,{"aria-hidden":!0}),onClick:u,variant:"tertiary-neutral",type:"button",title:v.formatMessage({id:"PeriodeController.LukkPeriode"})})]})},ya="_infoSummary_112tw_1",Na="_positivNumber_112tw_7",Ka="_redNumber_112tw_11",Oa="_resultName_112tw_16",we={infoSummary:ya,positivNumber:Na,redNumber:Ka,resultName:Oa},Va=({fom:e,tom:a,feilutbetaling:r})=>{const n=Wr(e,a);return m.jsxs(I,{gap:"space-8",className:we.infoSummary,children:[m.jsxs(x,{children:[m.jsx(C,{size:"small",children:`${F(e).format(Z)} - ${F(a).format(Z)}`}),m.jsx(Ke,{}),m.jsx(S,{size:"small",children:n.formattedString})]}),m.jsx(x,{gap:"space-16",children:m.jsxs(S,{size:"small",className:we.resultName,children:[m.jsx(d,{id:"PeriodeInformasjon.Feilutbetaling"}),":",m.jsx("span",{className:r?we.redNumber:we.positivNumber,children:Ee(r)})]})})]})};var ze=(e=>(e.MOR="MORA",e.FAR="FARA",e.MEDMOR="MMOR",e.DELTAKER="DELTAKER",e.EKTE="EKTE",e.BARN="BARN",e.REPA="REPA",e.ANPA="ANPA",e.UDEFINERT="-",e))(ze||{});const Ga="_margin_1wl4t_1",$e={margin:Ga},Da=e=>{const a=e.isGodkjent?"success":"danger";return e.isAksjonspunktOpen?"warning":a},Ua=(e=[])=>e.map(a=>({id:a.id,fom:a.fom,tom:a.tom,status:Da(a)})),Ma=e=>e===ze.MOR||e===ze.MEDMOR?m.jsx(ul,{width:20,height:20,color:"var(--ax-danger-500)"}):e===ze.FAR?m.jsx(kl,{width:20,height:20,color:"var(--ax-accent-700)"}):m.jsx(Tl,{width:20,height:20}),wa={danger:m.jsx(vl,{}),success:m.jsx(pl,{}),warning:m.jsx(ml,{})},$a=({perioder:e,setPeriode:a,valgtPeriode:r,relasjonsRolleType:n,relasjonsRolleTypeKodeverk:t})=>{const i=M(),o=Ua(e),u=A=>{const w=e.find(_=>_.id===A);w&&a(w)},v=F(o[0].fom),g=F(o[o.length-1].tom),[k,s]=V.useState(v),[E,c]=V.useState(g),f=()=>{k.subtract(1,"month").isBefore(v)||(s(k.subtract(1,"month")),c(E.subtract(1,"month")))},b=()=>{E.add(1,"month").isAfter(g)||(s(k.add(1,"month")),c(E.add(1,"month")))},R=()=>{k.add(3,"month").isAfter(E)||(s(k.add(1,"month")),c(E.subtract(1,"month")))},L=()=>{E.add(1,"month").diff(k.subtract(1,"month"),"months")<36&&(s(k.subtract(1,"month")),c(E.add(1,"month")))};return m.jsxs(I,{gap:"space-16",children:[m.jsx(Re,{startDate:k.toDate(),endDate:E.add(1,"days").toDate(),children:m.jsx(Re.Row,{label:t.find(A=>A.kode===n)?.navn||"-",icon:Ma(n),children:o.map(A=>m.jsx(Re.Period,{start:F(A.fom).toDate(),end:F(A.tom).toDate(),status:A.status,onSelectPeriod:()=>u(A.id),isActive:r?.id===A.id,icon:wa[A.status],"aria-controls":"panel-tilbakekreving-foreldelse",id:A.id.toString()},A.id))})}),m.jsxs(x,{justify:"end",children:[m.jsx(y,{className:$e.margin,size:"small",icon:m.jsx(tl,{"aria-hidden":!0}),onClick:R,variant:"primary-neutral",type:"button",title:i.formatMessage({id:"TilbakekrevingTimeline.ZoomInn"})}),m.jsx(y,{className:$e.margin,size:"small",icon:m.jsx(sl,{"aria-hidden":!0}),onClick:L,variant:"primary-neutral",type:"button",title:i.formatMessage({id:"TilbakekrevingTimeline.ZoomUt"})}),m.jsx(y,{className:$e.margin,size:"small",icon:m.jsx(er,{"aria-hidden":!0}),onClick:f,variant:"primary-neutral",type:"button",title:i.formatMessage({id:"TilbakekrevingTimeline.ScrollTilVenstre"})}),m.jsx(y,{className:$e.margin,size:"small",icon:m.jsx(rr,{"aria-hidden":!0}),onClick:b,variant:"primary-neutral",type:"button",title:i.formatMessage({id:"TilbakekrevingTimeline.ScrollTilHogre"})})]})]})},xr=(e,a)=>F(e.fom).diff(F(a.fom)),Ca=()=>F().subtract(30,"months").format(Z),Ha=e=>e?[m.jsx(d,{id:`ForeldelseForm.AksjonspunktHelpText.${e.definisjon}`,values:{dato:Ca()}},"vurderForeldelse")]:[],dr=e=>(!e.foreldelseVurderingType||e.foreldelseVurderingType===Q.UDEFINERT)&&(!e.begrunnelse||!!e.erSplittet),za=(e=[])=>e.map((a,r)=>({fom:a.fom,tom:a.tom,isAksjonspunktOpen:dr(a),isGodkjent:Q.FORELDET!==a.foreldet&&Q.UDEFINERT!==a.foreldet,id:r})),qa=e=>({foreldelsePerioder:e.map(a=>({fraDato:a.fom,tilDato:a.tom,begrunnelse:a.begrunnelse,foreldelseVurderingType:a.foreldet,foreldelsesfrist:a.foreldelsesfrist,oppdagelsesDato:a.oppdagelsesDato})),kode:nr.VURDER_FORELDELSE}),Ya=(e,a)=>e.fom<a.fom?-1:e.fom>a.fom?1:0,Ja=e=>[...e].sort(Ya).map(a=>({...a,feilutbetaling:a.belop,foreldet:a.foreldelseVurderingType===Q.UDEFINERT?void 0:a.foreldelseVurderingType,begrunnelse:ve(a.begrunnelse)})),Wa=({submitCallback:e,relasjonsRolleType:a,relasjonsRolleTypeKodeverk:r,aksjonspunkt:n,alleMerknaderFraBeslutter:t,perioderForeldelse:i,readOnly:o,kodeverkSamlingFpTilbake:u,beregnBelop:v,behandlingUuid:g,formData:k,setFormData:s})=>{const E=Ja(i.perioder),[c,f]=V.useState(k||E),[b,R]=V.useState(c?.find(dr)),[L,A]=V.useState(!1),[w,_]=V.useState(!!k),D=j=>{const G=j?c.find(K=>K.fom===j.fom&&K.tom===j.tom):void 0;R(G)},re=()=>{const j=c.findIndex(K=>K.fom===b?.fom&&K.tom===b?.tom),G=j===c.length-1?j:j+1;D(c[G])},Ae=()=>{const j=c.findIndex(K=>K.fom===b?.fom&&K.tom===b?.tom),G=j===0?j:j-1;D(c[G])},X=()=>{D(void 0)},_e=j=>{const G=he(j,"erSplittet"),K=c.filter(U=>U.fom!==G.fom&&U.tom!==G.tom).concat(G).sort(xr);f(K),s(K),_(!0),X();const q=K.find(dr);q&&D(q)},me=j=>{const G=c.find(U=>U.fom===b?.fom&&U.tom===b?.tom);if(G===void 0)throw new TypeError(`Periode skal alltid finnes. Fom: ${b?.fom} Tom: ${b?.tom}`);const K=j.map(U=>({...G,...U,erSplittet:!0})),q=c.filter(U=>U.fom!==b?.fom&&U.tom!==b?.tom).concat(K).sort(xr);f(q),s(q),_(!0),X(),D(K[0])},Le=()=>{A(!0),e(qa(c))},je=t[nr.VURDER_FORELDELSE],ue=za(c),le=Bl(n),B=ue.every(j=>!j.isAksjonspunktOpen),z=b?ue.find(j=>j.fom===b.fom&&j.tom===b.tom):void 0;return m.jsx(gr,{merknaderFraBeslutter:je,withoutBorder:!0,children:m.jsxs(I,{gap:"space-16",children:[m.jsx(de,{size:"small",level:"2",children:m.jsx(d,{id:"ForeldelseForm.Foreldelse"})}),!n&&m.jsxs(m.Fragment,{children:[m.jsx(S,{children:m.jsx(d,{id:"ForeldelseForm.Foreldelsesloven"})}),m.jsx(S,{children:m.jsx(d,{id:"ForeldelseForm.AutomatiskVurdert"})})]}),c&&n&&m.jsxs(I,{gap:"space-16",children:[le&&m.jsx(vr,{children:Ha(n)}),m.jsx($a,{perioder:ue,valgtPeriode:z,setPeriode:D,relasjonsRolleType:a,relasjonsRolleTypeKodeverk:r}),b&&m.jsx("div",{id:"panel-tilbakekreving-foreldelse","aria-controls":z?.id.toString(),children:m.jsx(al.New,{borderWidth:"1",padding:"4",children:m.jsxs(I,{gap:"space-16",children:[m.jsx(xa,{setNestePeriode:re,setForrigePeriode:Ae,valgtPeriode:b,readOnly:o,oppdaterSplittedePerioder:me,behandlingUuid:g,beregnBelop:v,lukkPeriode:X}),m.jsx(Va,{feilutbetaling:b.feilutbetaling,fom:b.fom,tom:b.tom}),m.jsx(Ia,{periode:b,oppdaterPeriode:_e,skjulPeriode:X,readOnly:o,kodeverkSamlingFpTilbake:u},b.fom)]})})}),m.jsx(x,{children:m.jsx(Rr,{isReadOnly:o,isDirty:w,isSubmittable:!b&&B,onClick:Le,isSubmitting:L})})]})]})})},Za={"ForeldelsePeriodeForm.Vurdering":"Vurdering","ForeldelsePeriodeForm.RadioGroup.Foreldet":"Vurder om perioden er foreldet","ForeldelsePeriodeForm.Oppdater":"Oppdater","ForeldelsePeriodeForm.Avbryt":"Avbryt","ForeldelsePeriodeForm.Foreldelsesfrist":"Foreldelsesfrist","ForeldelsePeriodeForm.OppdagelsesDato":"Dato for når feilutbetaling ble oppdaget","ForeldelseForm.Foreldelsesloven":"Foreldelsesloven §§ 2 og 3","ForeldelseForm.AutomatiskVurdert":"Automatisk vurdert","ForeldelseForm.AksjonspunktHelpText.5003":"Perioden før {dato} kan være foreldet. Del opp perioden ved behov og fastsett foreldelse","ForeldelseForm.Foreldelse":"Foreldelse","PeriodeController.Detaljer":"Detaljer for valgt periode","PeriodeController.DelOppPerioden":"Del opp perioden","PeriodeController.ForrigePeriode":"Forrige periode","PeriodeController.NestePeriode":"Neste periode","PeriodeInformasjon.Feilutbetaling":"Feilutbetaling","SubmitButton.ConfirmInformation":"Bekreft og fortsett","DelOppPeriodeModalImpl.Periode":"Periode","DelOppPeriodeModalImpl.AngiTomDato":"Angi t.o.m. dato for første periode","DelOppPeriodeModalImpl.ModalDescription":"Periode er splittet","DelOppPeriodeModalImpl.DelOppPerioden":"Del opp perioden","DelOppPeriodeModalImpl.Ok":"Ok","DelOppPeriodeModalImpl.Avbryt":"Avbryt","DelOppPeriodeModalImpl.DatoUtenforPeriode":"Dato må være innenfor perioden","DelOppPeriodeModalImpl.BelopEr0":"Periode har 0 virkedager","TilbakekrevingTimeline.ImageText":"Personinformasjon","TilbakekrevingTimeline.Woman":"Kvinne","TilbakekrevingTimeline.Man":"Mann","TilbakekrevingTimeline.ZoomInn":"Zoom inn","TilbakekrevingTimeline.ZoomUt":"Zoom ut","TilbakekrevingTimeline.ScrollTilVenstre":"Scroll til venstre","TilbakekrevingTimeline.ScrollTilHogre":"Scroll til høyre","PeriodeController.nextPeriod":"Neste periode","PeriodeController.nextPeriodShort":"Neste","PeriodeController.prevPeriod":"Forrige periode","PeriodeController.prevPeriodShort":"Forrige","PeriodeController.LukkPeriode":"Lukk periode","UttakInfoPanel.IngenPerioder":"Det må være minst én periode i uttaket.","UttakInfoPanel.PeriodenSlettes":"Perioden {fom} - {tom} {uttakPeriodeType} slettes","UttakInfoPanel.Frilans":"Frilanser","UttakInfoPanel.Selvstendignæringsdrivende":"Selvstendig næringsdrivende","Malform.Beskrivelse":"Foretrukket språk","Timeline.scrollLeft":"Scrolle venstre","Timeline.scrollRight":"Scrolle høyre","Timeline.zoomIn":"Zoom inn","Timeline.zoomOut":"Zoom ut","Timeline.openData":"Åpne info om første periode","Timeline.closeData":"Lukke info om periode","Timeline.nextPeriod":"Scroll til høyre","Timeline.prevPeriod":"Scroll til venstre","Timeline.tooltip.dagsats":"Dagsats: {dagsats}kr","Timeline.tooltip.start":"Start","Timeline.tooltip.slutt":"Slutt","Timeline.tooltip.periodetype":"Periodetype","Timeline.tooltip.utsettelsePeriode":"Utsettelse","Timeline.TidspunktFamiliehendelse":"Tidspunkt for familiehendelse","Timeline.OppfyltPeriode":"Oppfylt periode","Timeline.IkkeOppfyltPeriode":"Ikke oppfylt periode","Timeline.TidspunktMotakSoknad":"Tidspunkt for mottatt søknad","Timeline.BelopTilbakereves":"Beløp tilbakekreves","Timeline.IngenTilbakekreving":"Ingen tilbakekreving","Timeline.IkkeAvklartPeriode":"Uavklart periode","Timeline.TidspunktRevurdering":"Startpunkt for revurdering","Timeline.GradertPeriode":"Gradert periode","Timeline.ManueltAvklart":"Manuelt avklart periode"},Xa=Ze(Za),Qa=({perioderForeldelse:e,relasjonsRolleType:a,beregnBelop:r,behandlingUuid:n,aksjonspunkter:t,isReadOnly:i,kodeverkSamlingFpTilbake:o,submitCallback:u,alleMerknaderFraBeslutter:v,formData:g,setFormData:k,relasjonsRolleTypeKodeverk:s})=>m.jsx(We,{value:Xa,children:m.jsx(Wa,{behandlingUuid:n,perioderForeldelse:e,submitCallback:u,readOnly:i,aksjonspunkt:t[0],relasjonsRolleType:a,relasjonsRolleTypeKodeverk:s,alleMerknaderFraBeslutter:v,kodeverkSamlingFpTilbake:o,beregnBelop:r,formData:g,setFormData:k})}),en=[nr.VURDER_FORELDELSE],bl=({tilbakekrevingKodeverk:e})=>{const a=M(),r=cr(en),{behandling:n,fagsak:t}=Ge(),i=lr(n),{data:o}=te(i.tilbakekreving.perioderForeldelseOptions(n)),{mutateAsync:u}=hr({mutationFn:v=>i.tilbakekreving.beregneBeløp(v)});return P.jsx(br,{standardPanelProps:r,prosessPanelKode:pr.FORELDELSE,prosessPanelMenyTekst:a.formatMessage({id:"Behandlingspunkt.Foreldelse"}),skalPanelVisesIMeny:!0,overstyrtStatus:ol(n,"PERIODER_FORELDELSE")?"OPPFYLT":"IKKE_VURDERT",children:o?P.jsx(rn,{perioderForeldelse:o,kodeverkSamlingFpTilbake:e,beregnBelop:v=>u(v),relasjonsRolleType:t.relasjonsRolleType,relasjonsRolleTypeKodeverk:r.alleKodeverk.RelasjonsRolleType,...r,aksjonspunkter:r.aksjonspunkterForPanel,behandlingUuid:n.uuid}):P.jsx(Ve,{})})},rn=e=>{const{mellomlagretFormData:a,setMellomlagretFormData:r}=Xe();return P.jsx(Qa,{...e,formData:a,setFormData:r})};bl.__docgenInfo={description:"",methods:[],displayName:"ForeldelseProsessInitPanel",props:{tilbakekrevingKodeverk:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  [K in TilbakekrevingKodeverkType]: KodeverkMedNavnTilbakekreving<
    K extends TilbakekrevingKodeverkType ? K : unknown
  >[];
}`,signature:{properties:[{key:{name:"signature",type:"object",raw:`{
  BehandlingType: BehandlingType;
  BehandlingÅrsakType: BehandlingÅrsakTypeFpTilbake;
  BehandlingResultatType: BehandlingResultatTypeFpTilbake;
  HistorikkAktør: HistorikkAktor;
  SkjermlenkeType: SkjermlenkeTypeTilbakekreving;
  Venteårsak: VenteÅrsakTypeFpTilbake;
  VurderÅrsak: VurderÅrsak;
  VergeType: VergeType;
  Aktsomhet: Aktsomhet;
  VedtakResultatType: VedtakResultatType;
  HendelseType: HendelseType;
  SærligGrunn: SærligGrunn;
  VilkårResultat: VilkårResultat;
  HendelseUnderType: HendelseUnderType;
  VidereBehandling: TilbakekrevingVidereBehandling;
  ForeldelseVurderingType: ForeldelseVurderingType;
}`,signature:{properties:[{key:"BehandlingType",value:{name:"union",raw:`| 'BT-002'
| 'BT-003'
| 'BT-004'
| 'BT-008'
| 'BT-006'
| 'BT-007'
| 'BT-009'
| '-'`,elements:[{name:"literal",value:"'BT-002'"},{name:"literal",value:"'BT-003'"},{name:"literal",value:"'BT-004'"},{name:"literal",value:"'BT-008'"},{name:"literal",value:"'BT-006'"},{name:"literal",value:"'BT-007'"},{name:"literal",value:"'BT-009'"},{name:"literal",value:"'-'"}],required:!0}},{key:"BehandlingÅrsakType",value:{name:"union",raw:`| 'RE_KLAGE_KA'
| 'RE_KLAGE_NFP'
| 'RE_FEILUTBETALT_BELØP_REDUSERT'
| 'RE_VILKÅR'
| 'RE_FORELDELSE'`,elements:[{name:"literal",value:"'RE_KLAGE_KA'"},{name:"literal",value:"'RE_KLAGE_NFP'"},{name:"literal",value:"'RE_FEILUTBETALT_BELØP_REDUSERT'"},{name:"literal",value:"'RE_VILKÅR'"},{name:"literal",value:"'RE_FORELDELSE'"}],required:!0}},{key:"BehandlingResultatType",value:{name:"union",raw:`| 'INGEN_TILBAKEBETALING'
| 'DELVIS_TILBAKEBETALING'
| 'FULL_TILBAKEBETALING'
| 'HENLAGT_FEILOPPRETTET'
| 'HENLAGT_FEILOPPRETTET_MED_BREV'
| 'HENLAGT_FEILOPPRETTET_UTEN_BREV'`,elements:[{name:"literal",value:"'INGEN_TILBAKEBETALING'"},{name:"literal",value:"'DELVIS_TILBAKEBETALING'"},{name:"literal",value:"'FULL_TILBAKEBETALING'"},{name:"literal",value:"'HENLAGT_FEILOPPRETTET'"},{name:"literal",value:"'HENLAGT_FEILOPPRETTET_MED_BREV'"},{name:"literal",value:"'HENLAGT_FEILOPPRETTET_UTEN_BREV'"}],required:!0}},{key:"HistorikkAktør",value:{name:"union",raw:`| 'BESL'
| 'SBH'
| 'SOKER'
| 'ARBEIDSGIVER'
| 'VL'
| '-'`,elements:[{name:"literal",value:"'BESL'"},{name:"literal",value:"'SBH'"},{name:"literal",value:"'SOKER'"},{name:"literal",value:"'ARBEIDSGIVER'"},{name:"literal",value:"'VL'"},{name:"literal",value:"'-'"}],required:!0}},{key:"SkjermlenkeType",value:{name:"union",raw:`| 'FAKTA_OM_FEILUTBETALING'
| 'TILBAKEKREVING'
| 'VEDTAK'
| 'FORELDELSE'
| 'FAKTA_OM_VERGE'`,elements:[{name:"literal",value:"'FAKTA_OM_FEILUTBETALING'"},{name:"literal",value:"'TILBAKEKREVING'"},{name:"literal",value:"'VEDTAK'"},{name:"literal",value:"'FORELDELSE'"},{name:"literal",value:"'FAKTA_OM_VERGE'"}],required:!0}},{key:"Venteårsak",value:{name:"union",raw:`| 'UTV_TIL_FRIST'
| 'ENDRE_TILKJENT_YTELSE'
| 'VENT_PÅ_MULIG_MOTREGNING'
| 'VENT_PÅ_BRUKERTILBAKEMELDING'
| 'VENT_PÅ_TILBAKEKREVINGSGRUNNLAG'`,elements:[{name:"literal",value:"'UTV_TIL_FRIST'"},{name:"literal",value:"'ENDRE_TILKJENT_YTELSE'"},{name:"literal",value:"'VENT_PÅ_MULIG_MOTREGNING'"},{name:"literal",value:"'VENT_PÅ_BRUKERTILBAKEMELDING'"},{name:"literal",value:"'VENT_PÅ_TILBAKEKREVINGSGRUNNLAG'"}],required:!0}},{key:"VurderÅrsak",value:{name:"union",raw:`| 'FEIL_FAKTA'
| 'FEIL_LOV'
| 'SKJØNN'
| 'UTREDNING'
| 'SAKSFLYT'
| 'BEGRUNNELSE'
| '-'
| 'ANNET'
| 'FEIL_REGEL'`,elements:[{name:"literal",value:"'FEIL_FAKTA'"},{name:"literal",value:"'FEIL_LOV'"},{name:"literal",value:"'SKJØNN'"},{name:"literal",value:"'UTREDNING'"},{name:"literal",value:"'SAKSFLYT'"},{name:"literal",value:"'BEGRUNNELSE'"},{name:"literal",value:"'-'"},{name:"literal",value:"'ANNET'"},{name:"literal",value:"'FEIL_REGEL'"}],required:!0}},{key:"VergeType",value:{name:"union",raw:`| 'BARN'
| 'FBARN'
| 'VOKSEN'
| 'ADVOKAT'
| 'ANNEN_F'`,elements:[{name:"literal",value:"'BARN'"},{name:"literal",value:"'FBARN'"},{name:"literal",value:"'VOKSEN'"},{name:"literal",value:"'ADVOKAT'"},{name:"literal",value:"'ANNEN_F'"}],required:!0}},{key:"Aktsomhet",value:{name:"union",raw:"'FORSETT' | 'GROVT_UAKTSOM' | 'SIMPEL_UAKTSOM'",elements:[{name:"literal",value:"'FORSETT'"},{name:"literal",value:"'GROVT_UAKTSOM'"},{name:"literal",value:"'SIMPEL_UAKTSOM'"}],required:!0}},{key:"VedtakResultatType",value:{name:"union",raw:"'INGEN_TILBAKEBETALING' | 'DELVIS_TILBAKEBETALING'",elements:[{name:"literal",value:"'INGEN_TILBAKEBETALING'"},{name:"literal",value:"'DELVIS_TILBAKEBETALING'"}],required:!0}},{key:"HendelseType",value:{name:"union",raw:"'MEDLEMSKAP' | 'OKONOMI_FEIL' | 'BEREGNING_TYPE'",elements:[{name:"literal",value:"'MEDLEMSKAP'"},{name:"literal",value:"'OKONOMI_FEIL'"},{name:"literal",value:"'BEREGNING_TYPE'"}],required:!0}},{key:"SærligGrunn",value:{name:"union",raw:`| 'GRAD_AV_UAKTSOMHET'
| 'HELT_ELLER_DELVIS_NAVS_FEIL'
| 'STOERRELSE_BELOEP'
| 'TID_FRA_UTBETALING'
| 'ANNET'`,elements:[{name:"literal",value:"'GRAD_AV_UAKTSOMHET'"},{name:"literal",value:"'HELT_ELLER_DELVIS_NAVS_FEIL'"},{name:"literal",value:"'STOERRELSE_BELOEP'"},{name:"literal",value:"'TID_FRA_UTBETALING'"},{name:"literal",value:"'ANNET'"}],required:!0}},{key:"VilkårResultat",value:{name:"union",raw:"'FORSTO_BURDE_FORSTAATT' | 'FEIL_OPPLYSNINGER' | 'MANGELFULL_OPPLYSNING' | 'GOD_TRO'",elements:[{name:"literal",value:"'FORSTO_BURDE_FORSTAATT'"},{name:"literal",value:"'FEIL_OPPLYSNINGER'"},{name:"literal",value:"'MANGELFULL_OPPLYSNING'"},{name:"literal",value:"'GOD_TRO'"}],required:!0}},{key:"HendelseUnderType",value:{name:"union",raw:"'IKKE_INNTEKT' | 'IKKE_YRKESAKTIV' | 'OKONOMI_FEIL_TREKK' | 'IKKE_BOSATT'",elements:[{name:"literal",value:"'IKKE_INNTEKT'"},{name:"literal",value:"'IKKE_YRKESAKTIV'"},{name:"literal",value:"'OKONOMI_FEIL_TREKK'"},{name:"literal",value:"'IKKE_BOSATT'"}],required:!0}},{key:"VidereBehandling",value:{name:"union",raw:`| '-'
| 'TILBAKEKR_OPPRETT'
| 'TILBAKEKR_IGNORER'
| 'TILBAKEKR_INNTREKK'
| 'TILBAKEKR_OPPDATER'`,elements:[{name:"literal",value:"'-'"},{name:"literal",value:"'TILBAKEKR_OPPRETT'"},{name:"literal",value:"'TILBAKEKR_IGNORER'"},{name:"literal",value:"'TILBAKEKR_INNTREKK'"},{name:"literal",value:"'TILBAKEKR_OPPDATER'"}],required:!0}},{key:"ForeldelseVurderingType",value:{name:"union",raw:"'IKKE_VURDERT' | 'FORELDET' | 'IKKE_FORELDET' | 'TILLEGGSFRIST' | 'UDEFINERT'",elements:[{name:"literal",value:"'IKKE_VURDERT'"},{name:"literal",value:"'FORELDET'"},{name:"literal",value:"'IKKE_FORELDET'"},{name:"literal",value:"'TILLEGGSFRIST'"},{name:"literal",value:"'UDEFINERT'"}],required:!0}}]},required:!0},value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}`,signature:{properties:[{key:"kode",value:{name:"unknown",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"kodeverk",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}>`}],raw:`KodeverkMedNavnTilbakekreving<
  K extends TilbakekrevingKodeverkType ? K : unknown
>[]`}}]}},description:""}}};var tr=(e=>(e.VURDER_TILBAKEKREVING="5002",e))(tr||{});function ln(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yr={exports:{}},xe={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nr;function an(){if(Nr)return xe;Nr=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(n,t,i){var o=null;if(i!==void 0&&(o=""+i),t.key!==void 0&&(o=""+t.key),"key"in t){i={};for(var u in t)u!=="key"&&(i[u]=t[u])}else i=t;return t=i.ref,{$$typeof:e,type:n,key:o,ref:t!==void 0?t:null,props:i}}return xe.Fragment=a,xe.jsx=r,xe.jsxs=r,xe}var Kr;function nn(){return Kr||(Kr=1,yr.exports=an()),yr.exports}var l=nn();const tn="_button_8q57x_1",on="_cancelButton_8q57x_5",Or={button:tn,cancelButton:on},sn=(e,a)=>r=>r&&(Zr(r)(F(e.tom.toString()).subtract(1,"day"))||Xr(r)(e.fom))?a.formatMessage({id:"DelOppPeriodeModalImpl.DatoUtenforPeriode"}):null,dn=(e,a)=>{const r=F(e.forstePeriodeTomDato).add(1,"days"),n={fom:a.fom,tom:e.forstePeriodeTomDato},t={fom:r.format(Qr),tom:a.tom};return{forstePeriode:n,andrePeriode:t}},mn=({periodeData:e,showModal:a,cancelEvent:r,finnesBelopMed0Verdi:n,splitPeriod:t})=>{const i=M(),o=Fe();return l.jsx(Ie,{formMethods:o,onSubmit:u=>t(dn(u,e)),children:l.jsxs(W,{open:a,"aria-label":i.formatMessage({id:"DelOppPeriodeModalImpl.ModalDescription"}),onClose:r,width:"medium",children:[l.jsx(W.Header,{children:l.jsx(de,{size:"small",level:"2",children:l.jsx(d,{id:"DelOppPeriodeModalImpl.DelOppPerioden"})})}),l.jsx(W.Body,{children:l.jsxs(I,{gap:"space-16",children:[l.jsxs("div",{children:[l.jsx(C,{size:"small",children:l.jsx(d,{id:"DelOppPeriodeModalImpl.Periode"})}),l.jsx(S,{size:"small",children:`${F(e.fom.toString()).format(Z)} - ${F(e.tom.toString()).format(Z)}`})]}),l.jsx(Je,{name:"forstePeriodeTomDato",control:o.control,label:l.jsx(d,{id:"DelOppPeriodeModalImpl.AngiTomDato"}),validate:[N,qe,sn(e,i)],fromDate:F(e.fom).toDate(),toDate:F(e.tom).toDate()}),n&&l.jsx(Qe,{variant:"error",children:l.jsx(d,{id:"DelOppPeriodeModalImpl.BelopEr0"})})]})}),l.jsxs(W.Footer,{children:[l.jsx(y,{size:"small",variant:"primary",className:Or.button,disabled:!o.formState.isDirty,children:l.jsx(d,{id:"DelOppPeriodeModalImpl.Ok"})}),l.jsx(y,{size:"small",variant:"secondary",onClick:r,className:Or.cancelButton,type:"button",children:l.jsx(d,{id:"DelOppPeriodeModalImpl.Avbryt"})})]})]})})},un="_margin_1dkor_37",or={margin:un},kn=!1,Tn=({setNestePeriode:e,setForrigePeriode:a,readOnly:r,lukkPeriode:n,periode:t,beregnBelop:i,behandlingUuid:o,oppdaterSplittedePerioder:u})=>{const v=M(),[g,k]=V.useState(!1),[s,E]=V.useState(!1),c=R=>{k(!0),R.preventDefault()},f=()=>{k(!1)},b=R=>{E(!1);const L={belop:t.feilutbetaling,fom:R.forstePeriode.fom,tom:R.forstePeriode.tom,begrunnelse:t.begrunnelse?t.begrunnelse:" "},A={belop:t.feilutbetaling,fom:R.andrePeriode.fom,tom:R.andrePeriode.tom,begrunnelse:t.begrunnelse?t.begrunnelse:" "};i({behandlingUuid:o,perioder:[L,A]}).then(w=>{const{perioder:_}=w;if(_.some(D=>D.belop===0))E(!0);else{const D={fom:L.fom,tom:L.tom,feilutbetaling:_[0].belop},re={fom:A.fom,tom:A.tom,feilutbetaling:_[1].belop};f(),u([D,re])}})};return l.jsxs(x,{children:[l.jsxs(C,{size:"small",children:[l.jsx(d,{id:"PeriodeController.Detaljer"}),kn]}),!r&&l.jsxs(l.Fragment,{children:[l.jsx(Ke,{}),l.jsx(y,{className:or.margin,size:"xsmall",icon:l.jsx(dl,{"aria-hidden":!0}),onClick:c,variant:"tertiary-neutral",type:"button",title:v.formatMessage({id:"PeriodeController.DelOppPerioden"}),children:l.jsx(d,{id:"PeriodeController.DelOppPerioden"})})]}),g&&l.jsx(mn,{cancelEvent:f,showModal:g,periodeData:t,splitPeriod:b,finnesBelopMed0Verdi:s}),l.jsx(Ke,{}),l.jsx(y,{className:or.margin,size:"xsmall",icon:l.jsx(er,{"aria-hidden":!0}),onClick:a,variant:"secondary-neutral",type:"button",title:v.formatMessage({id:"PeriodeController.prevPeriod"}),children:l.jsx(d,{id:"PeriodeController.prevPeriodShort"})}),l.jsx(y,{className:or.margin,size:"xsmall",icon:l.jsx(rr,{"aria-hidden":!0}),onClick:e,variant:"secondary-neutral",type:"button",title:v.formatMessage({id:"PeriodeController.nextPeriod"}),iconPosition:"right",children:l.jsx(d,{id:"PeriodeController.nextPeriodShort"})}),l.jsx(y,{size:"xsmall",icon:l.jsx(il,{"aria-hidden":!0}),onClick:n,variant:"tertiary-neutral",type:"button",title:v.formatMessage({id:"PeriodeController.LukkPeriode"})})]})};var mr={exports:{}},pn=mr.exports,Vr;function vn(){return Vr||(Vr=1,(function(e,a){(function(r,n){e.exports=n()})(pn,function(){return function(r,n){n.prototype.isSameOrBefore=function(t,i){return this.isSame(t,i)||this.isBefore(t,i)}}})})(mr)),mr.exports}var En=vn();const gn=ln(En);var Rl=(e=>(e.IKKE_VURDERT="IKKE_VURDERT",e.FORELDET="FORELDET",e.IKKE_FORELDET="IKKE_FORELDET",e.TILLEGGSFRIST="TILLEGGSFRIST",e.UDEFINERT="-",e))(Rl||{});const cn="_infoSummary_14z0n_1",bn="_positivNumber_14z0n_8",Rn="_redNumber_14z0n_12",hn="_resultName_14z0n_17",ye={infoSummary:cn,positivNumber:bn,redNumber:Rn,resultName:hn},fn=({fom:e,tom:a,feilutbetaling:r,arsakHendelseNavn:n})=>{const t=Wr(e,a);return l.jsxs(I,{gap:"space-8",className:ye.infoSummary,children:[l.jsxs(x,{justify:"space-between",children:[l.jsx(C,{size:"small",children:`${F(e).format(Z)} - ${F(a).format(Z)}`}),l.jsx(S,{size:"small",children:t.formattedString})]}),l.jsxs(x,{gap:"space-16",children:[l.jsxs(S,{size:"small",className:ye.resultName,children:[l.jsx(d,{id:"PeriodeInformasjon.Feilutbetaling"}),":",l.jsx("span",{className:r?ye.redNumber:ye.positivNumber,children:Ee(r)})]}),n&&l.jsx(S,{size:"small",className:ye.resultName,children:n})]})]})},hl=["SIMPEL_UAKTSOM","GROVT_UAKTSOM","FORSETT"],Fn=({name:e,readOnly:a,erValgtResultatTypeForstoBurdeForstaatt:r})=>{const n=ee(),t=`${e}.skalDetTilleggesRenter`;return V.useEffect(()=>{n.getValues(t)===void 0&&n.setValue(t,!1)},[]),l.jsxs(ge,{alignOffset:r?320:360,children:[r&&l.jsxs(I,{gap:"space-16",children:[l.jsx(C,{size:"small",children:l.jsx(d,{id:"AktsomhetGradForsettFormPanel.Andel"})}),l.jsx(S,{size:"small",children:"100 %"}),l.jsxs(ie,{name:`${e}.skalDetTilleggesRenter`,control:n.control,legend:l.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.SkalTilleggesRenter"}),validate:[N],readOnly:a,children:[l.jsx(H,{value:!0,size:"small",children:l.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.Ja"})}),l.jsx(H,{value:!1,size:"small",children:l.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.Nei"})})]})]}),!r&&l.jsxs(I,{gap:"space-8",children:[l.jsxs("div",{children:[l.jsx(J,{children:l.jsx(d,{id:"AktsomhetGradForsettFormPanel.Andel"})}),l.jsx(S,{size:"small",children:"100 %"})]}),l.jsx(S,{size:"small",children:l.jsx(d,{id:"AktsomhetGradForsettFormPanel.Renter"})})]})]})},Oe="Egendefinert",ur=["30","50","70",Oe],In="_suffix_cawxu_1",An="_suffixGrovText_cawxu_4",_n="_labelPadding_cawxu_8",Ln="_inputFelt_cawxu_12",be={suffix:In,suffixGrovText:An,labelPadding:_n,inputFelt:Ln},Gr=el(0),jn=yl(99.99),Pn=e=>{const a=e.toString().replace(/\s/g,""),r=parseInt(a,10);return Number.isNaN(r)?"":r},Bn=(e,a)=>r=>{if((typeof r=="string"?Number(r):r)>=a)return e.formatMessage({id:"TilbakekrevingPeriodeForm.BelopMaVereMindreEnnFeilutbetalingen"})},Sn=({name:e,harGrunnerTilReduksjon:a,readOnly:r,handletUaktsomhetGrad:n,harMerEnnEnYtelse:t,feilutbetalingBelop:i,andelSomTilbakekreves:o})=>{const u=M(),v=ee(),g=`${e}.skalDetTilleggesRenter`;return V.useEffect(()=>{v.getValues(g)===void 0&&v.setValue(g,!1)},[]),l.jsxs(I,{gap:"space-12",children:[l.jsx(ie,{name:`${e}.harGrunnerTilReduksjon`,control:v.control,legend:l.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.SkalSarligeGrunnerGiReduksjon"}),validate:[N],readOnly:r,children:l.jsxs(x,{gap:"space-20",children:[l.jsx(H,{value:!0,size:"small",children:l.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.Ja"})}),l.jsx(H,{value:!1,size:"small",children:l.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.Nei"})})]})}),a&&l.jsx(ge,{alignOffset:24,children:l.jsxs(x,{gap:"space-16",children:[!t&&o!==Oe&&l.jsxs(l.Fragment,{children:[l.jsx(C,{size:"small",children:l.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.AngiAndelSomTilbakekreves"})}),l.jsxs(x,{gap:"space-8",children:[l.jsx(Ye,{name:`${e}.andelSomTilbakekreves`,control:v.control,label:"",validate:[N],selectValues:ur.map(k=>l.jsx("option",{value:k,children:k},k))}),l.jsx("div",{className:be.suffix,children:"%"})]})]}),!t&&o===Oe&&l.jsxs(l.Fragment,{children:[l.jsx(C,{size:"small",children:l.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.AngiAndelSomTilbakekreves"})}),l.jsxs(x,{gap:"space-16",children:[l.jsx(sr,{name:`${e}.andelSomTilbakekrevesManuell`,control:v.control,className:be.inputFelt,readOnly:r,validate:[N,Gr,jn],normalizeOnBlur:k=>Number.isNaN(k)?k:parseFloat(k.toString()).toFixed(2),format:k=>k.toString().replace(".",","),parse:k=>k.toString().replace(",",".")}),l.jsx("div",{className:n==="GROVT_UAKTSOM"?be.suffixGrovText:be.suffix,children:"%"})]})]}),t&&l.jsx(sr,{name:`${e}.belopSomSkalTilbakekreves`,control:v.control,label:l.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.AngiBelopSomSkalTilbakekreves"}),validate:[N,Gr,Bn(u,i)],readOnly:r,format:Ee,parse:Pn}),n==="GROVT_UAKTSOM"&&l.jsxs("div",{children:[l.jsx(J,{children:l.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.SkalTilleggesRenter"})}),l.jsx(S,{size:"small",className:be.labelPadding,children:l.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.Nei"})})]})]})}),a===!1&&l.jsxs(ge,{alignOffset:90,children:[l.jsx(J,{children:l.jsx(d,{id:t?"AktsomhetReduksjonAvBelopFormPanel.BelopSomSkalTilbakekreves":"AktsomhetReduksjonAvBelopFormPanel.andelSomTilbakekreves"})}),l.jsxs(I,{gap:"space-16",children:[l.jsx(S,{size:"small",className:be.labelPadding,children:t?Ee(i):"100%"}),n==="GROVT_UAKTSOM"&&l.jsx(ie,{name:g,control:v.control,legend:l.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.SkalTilleggesRenter"}),validate:[N],readOnly:r,children:l.jsxs(x,{gap:"space-20",children:[l.jsx(H,{value:!0,size:"small",children:l.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.Ja"})}),l.jsx(H,{value:!1,size:"small",children:l.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.Nei"})})]})})]})]})]})},xn=fe(3),yn=ce(1500),Dr=({name:e,harGrunnerTilReduksjon:a,readOnly:r,handletUaktsomhetGrad:n,erSerligGrunnAnnetValgt:t,sarligGrunnTyper:i,harMerEnnEnYtelse:o,feilutbetalingBelop:u,andelSomTilbakekreves:v})=>{const g=M(),{watch:k,control:s}=ee(),E=!i.some(f=>!!k(`${e}.${f.kode}`)),c=Cl(e,E?g.formatMessage({id:"TilbakekrevingPeriodeForm.MaVelgeSarligGrunn"}):void 0);return l.jsxs(I,{gap:"space-16",children:[l.jsx(C,{size:"small",children:l.jsx(d,{id:"AktsomhetSarligeGrunnerFormPanel.GrunnerTilReduksjon"})}),l.jsx("div",{children:i.map(f=>l.jsx(nl,{name:`${e}.${f.kode}`,control:s,label:f.navn,readOnly:r},f.kode))}),t&&l.jsx(se,{name:`${e}.annetBegrunnelse`,control:s,label:"",validate:[N,xn,yn,oe],maxLength:1500,readOnly:r}),c&&l.jsx(zl,{children:c}),l.jsx(Sn,{name:e,harGrunnerTilReduksjon:a,readOnly:r,handletUaktsomhetGrad:n,harMerEnnEnYtelse:o,feilutbetalingBelop:u,andelSomTilbakekreves:v})]})},Nn="_explanationTextarea_1kabz_1",Kn="_panelWidth_1kabz_5",fl={explanationTextarea:Nn,panelWidth:Kn},On=fe(3),Vn=ce(1500),Ur=({name:e,readOnly:a})=>{const r=M(),{control:n}=ee();return l.jsxs(I,{gap:"space-16",children:[l.jsx(C,{size:"small",children:l.jsx(d,{id:"AktsomhetGradUaktsomhetFormPanel.SærligGrunner"})}),l.jsx(se,{name:`${e}.sarligGrunnerBegrunnelse`,control:n,label:r.formatMessage({id:"AktsomhetGradUaktsomhetFormPanel.VurderSærligGrunner"}),validate:[N,On,Vn,oe],maxLength:1500,readOnly:a,className:fl.explanationTextarea,description:r.formatMessage({id:"AktsomhetGradUaktsomhetFormPanel.VurderSærligGrunner.Hjelpetekst"})})]})},Gn=({harGrunnerTilReduksjon:e,readOnly:a,handletUaktsomhetGrad:r,erSerligGrunnAnnetValgt:n,sarligGrunnTyper:t,harMerEnnEnYtelse:i,feilutbetalingBelop:o,erTotalBelopUnder4Rettsgebyr:u,andelSomTilbakekreves:v,erValgtResultatTypeForstoBurdeForstaatt:g,name:k})=>{const{control:s,watch:E}=ee(),c=E(`${k}.tilbakekrevSelvOmBeloepErUnder4Rettsgebyr`),f=g?180:200;return l.jsx(ge,{alignOffset:r==="GROVT_UAKTSOM"?f:20,children:l.jsxs("div",{className:fl.panelWidth,children:[r==="SIMPEL_UAKTSOM"&&u&&l.jsxs(I,{gap:"space-12",children:[l.jsx(ie,{name:`${k}.tilbakekrevSelvOmBeloepErUnder4Rettsgebyr`,control:s,legend:l.jsx(d,{id:"AktsomhetGradUaktsomhetFormPanel.Tilbakekrev"}),validate:[N],readOnly:a,children:l.jsxs(x,{gap:"space-16",children:[l.jsx(H,{value:!0,size:"small",children:l.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.Ja"})}),l.jsx(H,{value:!1,size:"small",children:l.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.Nei"})})]})}),c&&l.jsxs(l.Fragment,{children:[l.jsx(Ur,{name:k,readOnly:a}),l.jsx(Dr,{name:k,harGrunnerTilReduksjon:e,erSerligGrunnAnnetValgt:n,sarligGrunnTyper:t,harMerEnnEnYtelse:i,feilutbetalingBelop:o,readOnly:a,handletUaktsomhetGrad:r,andelSomTilbakekreves:v})]}),c===!1&&l.jsx(ge,{alignOffset:55,children:l.jsx(d,{id:"AktsomhetGradUaktsomhetFormPanel.AllePerioderBehandlesLikt"})})]}),(r!=="SIMPEL_UAKTSOM"||!u)&&l.jsxs(l.Fragment,{children:[l.jsx(Ur,{name:k,readOnly:a}),l.jsx(Dr,{name:k,harGrunnerTilReduksjon:e,erSerligGrunnAnnetValgt:n,sarligGrunnTyper:t,harMerEnnEnYtelse:i,feilutbetalingBelop:o,readOnly:a,handletUaktsomhetGrad:r,andelSomTilbakekreves:v})]})]})})},Dn=({harGrunnerTilReduksjon:e,readOnly:a,handletUaktsomhetGrad:r,erSerligGrunnAnnetValgt:n,erValgtResultatTypeForstoBurdeForstaatt:t,sarligGrunnTyper:i,harMerEnnEnYtelse:o,feilutbetalingBelop:u,erTotalBelopUnder4Rettsgebyr:v,andelSomTilbakekreves:g,name:k})=>l.jsxs(l.Fragment,{children:[r==="FORSETT"&&l.jsx(Fn,{name:k,readOnly:a,erValgtResultatTypeForstoBurdeForstaatt:t}),r!=="FORSETT"&&l.jsx(Gn,{name:k,harGrunnerTilReduksjon:e,readOnly:a,handletUaktsomhetGrad:r,erSerligGrunnAnnetValgt:n,sarligGrunnTyper:i,harMerEnnEnYtelse:o,feilutbetalingBelop:u,erTotalBelopUnder4Rettsgebyr:v,andelSomTilbakekreves:g,erValgtResultatTypeForstoBurdeForstaatt:t})]}),Un={FORSETT:"AktsomhetFormPanel.AktsomhetTyperLabel.Forsett",GROVT_UAKTSOM:"AktsomhetFormPanel.AktsomhetTyperLabel.GrovtUaktsomt",SIMPEL_UAKTSOM:"AktsomhetFormPanel.AktsomhetTyperLabel.SimpelUaktsom"},De=({readOnly:e,resetFields:a,handletUaktsomhetGrad:r,harGrunnerTilReduksjon:n,erSerligGrunnAnnetValgt:t=!1,erValgtResultatTypeForstoBurdeForstaatt:i=!1,aktsomhetTyper:o,sarligGrunnTyper:u,antallYtelser:v,feilutbetalingBelop:g,erTotalBelopUnder4Rettsgebyr:k,andelSomTilbakekreves:s,name:E})=>{const{control:c}=ee();return l.jsxs(I,{gap:"space-12",children:[l.jsx(ie,{name:`${E}.handletUaktsomhetGrad`,control:c,legend:l.jsx(d,{id:"AktsomhetFormPanel.HandletUaktsomhetGrad"}),validate:[N],readOnly:e,onChange:a,children:l.jsx(x,{gap:"space-20",children:o.map(f=>l.jsx(H,{value:f.kode,size:"small",children:i?l.jsx(d,{id:Un[f.kode]}):f.navn},f.kode))})}),hl.some(f=>f===r)&&l.jsx(Dn,{name:`${E}.${r}`,harGrunnerTilReduksjon:n,readOnly:e,handletUaktsomhetGrad:r,erSerligGrunnAnnetValgt:t,erValgtResultatTypeForstoBurdeForstaatt:i,sarligGrunnTyper:u,harMerEnnEnYtelse:v>1,feilutbetalingBelop:g,erTotalBelopUnder4Rettsgebyr:k,andelSomTilbakekreves:s})]})},Mn=(e,a)=>{const r=parseInt(e,10);return!a||Number.isNaN(r)?{}:{andelTilbakekreves:r}},wn=(e,a)=>{const r=parseFloat(e);return!a||Number.isNaN(r)?{}:{andelTilbakekreves:r}},$n=(e,a)=>{if(e.tilbakekrevSelvOmBeloepErUnder4Rettsgebyr===!1)return{tilbakekrevSelvOmBeloepErUnder4Rettsgebyr:e.tilbakekrevSelvOmBeloepErUnder4Rettsgebyr};const r=a.reduce((i,o)=>e[o.kode]?i.concat(o.kode):i,[]),{harGrunnerTilReduksjon:n}=e,t=e.andelSomTilbakekreves===Oe?wn(e.andelSomTilbakekrevesManuell,n):Mn(e.andelSomTilbakekreves,n);return{harGrunnerTilReduksjon:n,ileggRenter:n?void 0:e.skalDetTilleggesRenter,sarligGrunner:r.length>0?r:void 0,tilbakekrevesBelop:e.harGrunnerTilReduksjon?rl(e.belopSomSkalTilbakekreves):void 0,annetBegrunnelse:e.annetBegrunnelse,sarligGrunnerBegrunnelse:e.sarligGrunnerBegrunnelse,tilbakekrevSelvOmBeloepErUnder4Rettsgebyr:e.tilbakekrevSelvOmBeloepErUnder4Rettsgebyr,...t}};De.transformValues=(e,a,r)=>{const n=e[e.handletUaktsomhetGrad];return{"@type":"annet",aktsomhet:e.handletUaktsomhetGrad,begrunnelse:r,aktsomhetInfo:n?$n(n,a):null}};const Cn=(e,a)=>({andelSomTilbakekreves:a===void 0||ur.includes(a)?a:Oe,andelSomTilbakekrevesManuell:a&&ur.includes(a)?void 0:e.andelTilbakekreves,harGrunnerTilReduksjon:e.harGrunnerTilReduksjon,skalDetTilleggesRenter:e.ileggRenter,belopSomSkalTilbakekreves:e.tilbakekrevesBelop,annetBegrunnelse:e.annetBegrunnelse,sarligGrunnerBegrunnelse:ve(e.sarligGrunnerBegrunnelse),tilbakekrevSelvOmBeloepErUnder4Rettsgebyr:e.tilbakekrevSelvOmBeloepErUnder4Rettsgebyr,...e.sarligGrunner?e.sarligGrunner.reduce((r,n)=>({...r,[n.kode??n]:!0}),{}):{}});De.buildInitalValues=e=>{const{aktsomhet:a,aktsomhetInfo:r}=e,n=r&&r.andelTilbakekreves!==void 0?`${r.andelTilbakekreves}`:void 0,t=r?{[a.kode&&"kode"in a?a.kode:a]:Cn(r,n)}:{};return{handletUaktsomhetGrad:a&&a.kode&&"kode"in a?a.kode:a,...t}};const Hn=()=>{const{control:e}=ee();return l.jsxs(x,{gap:"space-16",children:[l.jsx(se,{name:"foreldetBegrunnelse",control:e,label:l.jsx(d,{id:"ForeldetPanel.Vurdering"}),readOnly:!0}),l.jsx(ie,{name:"periodenErForeldet",control:e,legend:l.jsx(J,{children:l.jsx(d,{id:"ForeldetFormPanel.VurderOmPeriodenErForeldet"})}),children:l.jsx(H,{value:"true",size:"small",children:l.jsx(d,{id:"ForeldetFormPanel.PeriodenErForeldet"})})})]})},zn="_arrowbox_ych2z_1",qn="_tilbakekrevdBelopInput_ych2z_4",Mr={arrowbox:zn,tilbakekrevdBelopInput:qn},Yn=el(1),Jn=e=>{const a=e.toString().replace(/\s/g,""),r=parseInt(a,10);return Number.isNaN(r)?"":r},Wn=(e,a)=>r=>{if((typeof r=="string"?Number(r):r)>a)return e.formatMessage({id:"TilbakekrevingPeriodeForm.BelopKanIkkeVereStorreEnnFeilutbetalingen"})},Ue=({name:e,readOnly:a,erBelopetIBehold:r,feilutbetalingBelop:n})=>{const t=M(),{control:i}=ee();return l.jsxs(I,{gap:"space-12",children:[l.jsx(ie,{name:`${e}.erBelopetIBehold`,control:i,legend:l.jsx(d,{id:"BelopetMottattIGodTroFormPanel.BelopetIBehold"}),validate:[N],readOnly:a,children:l.jsxs(x,{gap:"space-20",children:[l.jsx(H,{value:!0,size:"small",children:l.jsx(d,{id:"BelopetMottattIGodTroFormPanel.Ja"})}),l.jsx(H,{value:!1,size:"small",children:l.jsx(d,{id:"BelopetMottattIGodTroFormPanel.Nei"})})]})}),l.jsxs("div",{className:Mr.arrowbox,children:[r===!0&&l.jsx(ge,{alignOffset:25,children:l.jsx(sr,{name:`${e}.tilbakekrevdBelop`,label:l.jsx(d,{id:"BelopetMottattIGodTroFormPanel.AngiBelop"}),validate:[N,Yn,Wn(t,n)],readOnly:a,className:Mr.tilbakekrevdBelopInput,format:Ee,parse:Jn})}),r===!1&&l.jsx(ge,{alignOffset:90,children:l.jsx(S,{size:"small",children:l.jsx(d,{id:"BelopetMottattIGodTroFormPanel.IngenTilbakekreving"})})})]})]})};Ue.transformValues=(e,a)=>({"@type":"godTro",begrunnelse:a,erBelopetIBehold:e.erBelopetIBehold,tilbakekrevesBelop:e.erBelopetIBehold?rl(e.tilbakekrevdBelop):void 0});Ue.buildIntialValues=e=>({erBelopetIBehold:e.erBelopetIBehold,tilbakekrevdBelop:e.tilbakekrevesBelop});const Zn="_feilutbetalingTable_1fsd2_1",Xn={feilutbetalingTable:Zn},Qn=({ytelser:e})=>{if(e.length===0)return null;let a=0;return l.jsxs(h,{className:Xn.feilutbetalingTable,children:[l.jsx(h.Header,{children:l.jsxs(h.Row,{children:[l.jsx(h.HeaderCell,{scope:"col",children:l.jsx(d,{id:"TilbakekrevingAktivitetTabell.Aktivitet"})}),l.jsx(h.HeaderCell,{scope:"col",children:l.jsx(d,{id:"TilbakekrevingAktivitetTabell.FeilutbetaltBelop"})})]})}),l.jsx(h.Body,{children:e.map(r=>(a+=1,l.jsxs(h.Row,{children:[l.jsx(h.DataCell,{children:l.jsx(S,{size:"small",children:r.aktivitet})}),l.jsx(h.DataCell,{children:l.jsx(S,{size:"small",children:Ee(r.belop)})})]},r.aktivitet+r.belop+a)))})]})},et=({showModal:e=!1,submit:a})=>l.jsxs(W,{open:e,onClose:a,"aria-label":"Advarsel",children:[l.jsx(W.Body,{children:l.jsxs(x,{gap:"space-16",wrap:!1,children:[l.jsx("div",{children:l.jsx(Yl,{height:35,width:35,color:"var(--ax-warning-700)"})}),l.jsx(Hl,{children:l.jsx(d,{id:"TilbakekrevingPeriodeForm.TotalbelopetUnder4Rettsgebyr"})})]})}),l.jsx(W.Footer,{children:l.jsx(y,{size:"small",variant:"primary",onClick:a,autoFocus:!0,type:"button",children:"OK"})})]}),rt="_explanationTextarea_1udkt_1",lt="_leftColumn_1udkt_5",at="_rightColumn_1udkt_9",nt="_selectWidth_1udkt_12",Ce={explanationTextarea:rt,leftColumn:lt,rightColumn:at,selectWidth:nt},wr=fe(3),$r=ce(1500),tt=({data:e,periode:a,skjulPeriode:r,readOnly:n,oppdaterPeriode:t,vilkarsVurdertePerioder:i,kodeverkSamlingFpTilbake:o,antallPerioderMedAksjonspunkt:u})=>{const v=M(),[g,k]=V.useState(!1),s=Fe({defaultValues:a}),E=s.watch("valgtVilkarResultatType"),c=s.watch(`${E}.handletUaktsomhetGrad`),f=s.watch(`${E}.${c}.harGrunnerTilReduksjon`),b=s.watch(`${E}.${c}.andelSomTilbakekreves`),R=s.watch(`${E}.${c}.tilbakekrevSelvOmBeloepErUnder4Rettsgebyr`),L=s.watch(`${E}.${c}.ANNET`),A=s.watch(`${E}.erBelopetIBehold`),w=Ir(E),_=Ir(c),D=e.redusertBeloper,re=o.SærligGrunn,Ae=o.VilkårResultat,X=hl.map(B=>o.Aktsomhet.find(z=>z.kode===B)),_e=(B,z)=>{const j=B.target.value.split("_"),G=z.find(ae=>ae.fom===j[0]&&ae.tom===j[1]),K=G?.valgtVilkarResultatType,q=G&&K?G[K]:void 0,U=JSON.parse(JSON.stringify(q));if(K!=="GOD_TRO"){const{handletUaktsomhetGrad:ae}=U;ae!=="FORSETT"&&a?.harMerEnnEnYtelse!==G?.harMerEnnEnYtelse&&(U[ae].andelSomTilbakekreves=null,U[ae].andelSomTilbakekrevesManuell=null,U[ae].belopSomSkalTilbakekreves=null)}s.setValue("valgtVilkarResultatType",K,{shouldDirty:!0}),s.setValue("begrunnelse",G?.begrunnelse,{shouldDirty:!0}),s.setValue("vurderingBegrunnelse",G?.vurderingBegrunnelse,{shouldDirty:!0}),K&&s.setValue(K,U,{shouldDirty:!0}),B.preventDefault()},me=()=>{k(!g),t(s.getValues())},Le=B=>{u>1&&e.erTotalBelopUnder4Rettsgebyr&&R===!1?k(!g):t(B)},je=()=>{w&&s.resetField(w)},ue=()=>{_&&s.resetField(`${E}.${_}`)},le=i.filter(B=>!B.erForeldet&&B.valgtVilkarResultatType!=null);return l.jsx(Ie,{formMethods:s,onSubmit:Le,children:l.jsxs(I,{gap:"space-16",children:[l.jsx(I,{gap:"space-8",children:D&&D.map(B=>l.jsx(S,{size:"small",children:l.jsx(d,{id:B.erTrekk?"TilbakekrevingPeriodeForm.FeilutbetaltBelopTrekk":"TilbakekrevingPeriodeForm.FeilutbetaltBelopEtterbetaling",values:{belop:Ee(B.belop),b:xl}})},B.belop))}),l.jsx(Qn,{ytelser:e.ytelser}),!n&&!e.erForeldet&&le.length>0&&l.jsx(Ye,{name:"perioderForKopi",control:s.control,selectValues:le.map(B=>{const z=`${B.fom}_${B.tom}`,j=`${F(B.fom).format(Z)} - ${F(B.tom).format(Z)}`;return l.jsx("option",{value:z,children:j},z)}),onChange:B=>_e(B,le),className:Ce.selectWidth,label:l.jsx(d,{id:"TilbakekrevingPeriodeForm.KopierVilkårsvurdering"})}),l.jsxs(x,{gap:"space-16",wrap:!0,children:[l.jsxs("div",{className:Ce.leftColumn,children:[e.erForeldet&&l.jsx(Hn,{}),!e.erForeldet&&l.jsxs(I,{gap:"space-8",children:[l.jsx(de,{size:"small",level:"3",children:l.jsx(d,{id:"TilbakekrevingPeriodeForm.VilkarForTilbakekreving"})}),l.jsx(se,{name:"begrunnelse",control:s.control,label:v.formatMessage({id:"TilbakekrevingPeriodeForm.Vurdering"}),validate:[N,wr,$r,oe],maxLength:1500,readOnly:n,className:Ce.explanationTextarea,description:v.formatMessage({id:"TilbakekrevingPeriodeForm.Vurdering.Hjelpetekst"})}),l.jsx(ie,{name:"valgtVilkarResultatType",control:s.control,legend:l.jsx(d,{id:"TilbakekrevingPeriodeForm.oppfylt"}),validate:[N],readOnly:n,onChange:je,children:Ae.map(B=>l.jsx(H,{value:B.kode,size:"small",children:B.navn},B.kode))})]})]}),l.jsx("div",{className:Ce.rightColumn,children:E&&l.jsxs(I,{gap:"space-8",children:[l.jsx(de,{size:"small",level:"3",children:l.jsx(d,{id:E==="GOD_TRO"?"TilbakekrevingPeriodeForm.BelopetMottattIGodTro":"TilbakekrevingPeriodeForm.Aktsomhet"})}),l.jsx(se,{name:"vurderingBegrunnelse",control:s.control,label:v.formatMessage({id:E==="GOD_TRO"?"TilbakekrevingPeriodeForm.VurderingMottattIGodTro":"TilbakekrevingPeriodeForm.VurderingAktsomhet"}),validate:[N,wr,$r,oe],maxLength:1500,readOnly:n}),E==="GOD_TRO"&&l.jsx(Ue,{name:E,readOnly:n,erBelopetIBehold:A,feilutbetalingBelop:e.feilutbetaling}),E!=="GOD_TRO"&&l.jsx(De,{name:E,harGrunnerTilReduksjon:f,readOnly:n,handletUaktsomhetGrad:c,resetFields:ue,erSerligGrunnAnnetValgt:L,erValgtResultatTypeForstoBurdeForstaatt:E==="FORSTO_BURDE_FORSTAATT",aktsomhetTyper:X,sarligGrunnTyper:re,antallYtelser:e.ytelser.length,feilutbetalingBelop:e.feilutbetaling,erTotalBelopUnder4Rettsgebyr:e.erTotalBelopUnder4Rettsgebyr,andelSomTilbakekreves:b},E)]})})]}),l.jsxs(x,{gap:"space-16",children:[l.jsx(y,{size:"small",variant:"primary",disabled:!s.formState.isDirty||n,children:l.jsx(d,{id:"TilbakekrevingPeriodeForm.Oppdater"})}),l.jsx(y,{size:"small",variant:"secondary",onClick:r,type:"button",children:l.jsx(d,{id:"TilbakekrevingPeriodeForm.Avbryt"})})]}),g&&l.jsx(et,{showModal:!0,submit:me})]})})},it="_margin_1wl4t_1",He={margin:it},ot={danger:l.jsx(vl,{}),success:l.jsx(pl,{}),warning:l.jsx(ml,{})},st=(e,a)=>e.fom<a.fom?-1:e.fom>a.fom?1:0,dt=e=>{const a=e.isGodkjent?"success":"danger";return e.isAksjonspunktOpen?"warning":a},mt=(e=[])=>[...e].sort(st).map(a=>({...a,status:dt(a)})),ut=e=>e==="MORA"||e==="MMOR"?l.jsx(ul,{width:20,height:20,color:"var(--ax-danger-500)"}):e==="FARA"?l.jsx(kl,{width:20,height:20,color:"var(--ax-accent-700)"}):l.jsx(Tl,{width:20,height:20}),kt=({perioder:e,valgtPeriode:a,setPeriode:r,relasjonsRolleType:n,relasjonsRolleTypeKodeverk:t})=>{const i=M(),o=mt(e),u=A=>{const w=e.find(_=>_.id===A);w&&r(w)},v=F(o[0].fom),g=F(o[o.length-1].tom),[k,s]=V.useState(v),[E,c]=V.useState(g),f=()=>{k.subtract(1,"month").isBefore(v)||(s(k.subtract(1,"month")),c(E.subtract(1,"month")))},b=()=>{E.add(1,"month").isAfter(g)||(s(k.add(1,"month")),c(E.add(1,"month")))},R=()=>{k.add(3,"month").isAfter(E)||(s(k.add(1,"month")),c(E.subtract(1,"month")))},L=()=>{E.add(1,"month").diff(k.subtract(1,"month"),"months")<36&&(s(k.subtract(1,"month")),c(E.add(1,"month")))};return l.jsxs(I,{gap:"space-16",children:[l.jsx(Re,{startDate:F(k).toDate(),endDate:F(E).add(1,"days").toDate(),children:l.jsx(Re.Row,{label:t.find(A=>A.kode===n)?.navn||"-",icon:ut(n),children:o.map(A=>l.jsx(Re.Period,{start:F(A.fom).toDate(),end:F(A.tom).toDate(),status:A.status,icon:ot[A.status],onSelectPeriod:()=>u(A.id),isActive:a?.id===A.id,"aria-controls":"panel-tilbakekreving",id:A.id.toString()},A.id))})}),l.jsxs(x,{justify:"end",children:[l.jsx(y,{className:He.margin,size:"small",icon:l.jsx(tl,{"aria-hidden":!0}),onClick:R,variant:"primary-neutral",type:"button",title:i.formatMessage({id:"TilbakekrevingTimeline.ZoomInn"})}),l.jsx(y,{className:He.margin,size:"small",icon:l.jsx(sl,{"aria-hidden":!0}),onClick:L,variant:"primary-neutral",type:"button",title:i.formatMessage({id:"TilbakekrevingTimeline.ZoomUt"})}),l.jsx(y,{className:He.margin,size:"small",icon:l.jsx(er,{"aria-hidden":!0}),onClick:f,variant:"primary-neutral",type:"button",title:i.formatMessage({id:"TilbakekrevingTimeline.ScrollTilVenstre"})}),l.jsx(y,{className:He.margin,size:"small",icon:l.jsx(rr,{"aria-hidden":!0}),onClick:b,variant:"primary-neutral",type:"button",title:i.formatMessage({id:"TilbakekrevingTimeline.ScrollTilHogre"})})]})]})};F.extend(gn);const kr=(e,a)=>F(e.fom).diff(F(a.fom)),Cr=e=>!e.erForeldet&&(e.begrunnelse===void 0||e.erSplittet),Tt=e=>{const a=e[e.valgtVilkarResultatType];if("tilbakekrevdBelop"in a)return{...e,[e.valgtVilkarResultatType]:{...he(a,"tilbakekrevdBelop")}};if("handletUaktsomhetGrad"in a){const r=a[a.handletUaktsomhetGrad];if(r&&r.belopSomSkalTilbakekreves)return{...e,[e.valgtVilkarResultatType]:{...a,[a.handletUaktsomhetGrad]:{...he(r,"belopSomSkalTilbakekreves")}}}}return e},pt=(e,a=[])=>a.map((r,n)=>{const t=e.find(u=>u.fom===r.fom&&u.tom===r.tom),i=t&&t[t.valgtVilkarResultatType]?t[t.valgtVilkarResultatType].erBelopetIBehold:void 0,o=t?!!t.erSplittet:!1;return{fom:r.fom,tom:r.tom,isAksjonspunktOpen:!r.erForeldet&&(t?.begrunnelse===void 0||o),isGodkjent:!(r.erForeldet||i===!1),id:n}}),Fl=(e,a)=>a.find(r=>!F(e.fom).isBefore(F(r.fom))&&!F(e.tom).isAfter(F(r.tom))),vt=(e,a)=>a.every(r=>!(F(e.fom).isSameOrBefore(F(r.tom))&&F(r.fom).isSameOrBefore(F(e.tom)))),Et=(e,a,r)=>{const n=e.reduce((i,o)=>i+o.feilutbetaling,0)<r*4,t=a.vilkarsVurdertePerioder.map(i=>{const o=Fl(i,e);return{...o,harMerEnnEnYtelse:o&&o.ytelser.length>1,...he(i,"feilutbetalingBelop"),feilutbetaling:i.feilutbetalingBelop,erTotalBelopUnder4Rettsgebyr:n}});return{perioder:e.filter(i=>vt(i,t)).map(i=>({...i,harMerEnnEnYtelse:i.ytelser.length>1,erTotalBelopUnder4Rettsgebyr:n})).concat(t)}},gt=(e,a)=>{if(!(!e||!a))return a.map(r=>{const n=Fl(r,e.perioder),t=n.foreldelseVurderingType?n.foreldelseVurderingType===Rl.FORELDET:n.foreldet;return{redusertBeloper:n.redusertBeloper,ytelser:n.ytelser,feilutbetaling:r.feilutbetaling?r.feilutbetaling:n.feilutbetaling,erTotalBelopUnder4Rettsgebyr:n.erTotalBelopUnder4Rettsgebyr,fom:r.fom,tom:r.tom,årsak:n.årsak,begrunnelse:n.begrunnelse,erForeldet:t||!1}})},ct=(e,a)=>{const{vilkarResultat:r,begrunnelse:n,vilkarResultatInfo:t}=e,i=r?.kode??r;let o;const u=e.erForeldet??e.foreldet;if(u){const s=a.perioder.find(E=>E.fom===e.fom&&E.tom===e.tom);o={erForeldet:u,periodenErForeldet:!0,foreldetBegrunnelse:s?ve(s.begrunnelse):void 0}}else o={erForeldet:!1,periodenErForeldet:void 0,foreldetBegrunnelse:void 0};const v={valgtVilkarResultatType:i,begrunnelse:ve(n),harMerEnnEnYtelse:e.ytelser.length>1,...o},g=i==="GOD_TRO"?Ue.buildIntialValues(t):{},k=i!==void 0&&i!=="GOD_TRO"?De.buildInitalValues(t):{};return{...v,vurderingBegrunnelse:t?ve(t.begrunnelse):void 0,[v.valgtVilkarResultatType]:{...g,...k}}},bt=(e,a)=>{const{valgtVilkarResultatType:r,begrunnelse:n,vurderingBegrunnelse:t}=e,i=e[r],o=r==="GOD_TRO"&&"erBelopetIBehold"in i?Ue.transformValues(i,t):{},u=r!=="GOD_TRO"&&"handletUaktsomhetGrad"in i?De.transformValues(i,a,t):{};return{begrunnelse:n,fom:e.fom,tom:e.tom,vilkarResultat:r,vilkarResultatInfo:{...o,...u}}},Rt=(e,a)=>e.perioder.map(r=>({...ct(r,a),fom:r.fom,tom:r.tom})).sort(kr),ht=(e,a)=>({kode:tr.VURDER_TILBAKEKREVING,vilkarsVurdertePerioder:e.filter(r=>!r.erForeldet).map(r=>bt(r,a))}),ft=e=>{if(!e||e.reduce((r,n)=>n.erForeldet?r:r+1,0)<2)return;const a=e.reduce((r,n)=>{const{valgtVilkarResultatType:t}=n,i=n[t];if("handletUaktsomhetGrad"in i){const{handletUaktsomhetGrad:o}=i,u=i[o];if(u)return u.tilbakekrevSelvOmBeloepErUnder4Rettsgebyr===!1?r+1:r}return r},0);if(a>0&&a!==e.length)return"TilbakekrevingPeriodeForm.TotalbelopetUnder4Rettsgebyr"},Ft=({perioderForeldelse:e,kodeverkSamlingFpTilbake:a,vilkarvurderingsperioder:r,submitCallback:n,isReadOnly:t,alleMerknaderFraBeslutter:i,vilkarvurdering:o,relasjonsRolleType:u,relasjonsRolleTypeKodeverk:v,beregnBelop:g,behandlingUuid:k,formData:s,setFormData:E})=>{const c=r.perioder,f=r.rettsgebyr,b=Et(c,o,f),[R,L]=V.useState(s||Rt(b,e)),[A,w]=V.useState(!!s),[_,D]=V.useState(R?.find(Cr)),[re,Ae]=V.useState(!1),[X,_e]=V.useState();V.useEffect(()=>{_e(ft(R))},[R]);const me=gt(b,R),Le=R.reduce((O,$)=>$.erForeldet?O:O+1,0),je=i[tr.VURDER_TILBAKEKREVING],ue=()=>{Ae(!0),n(ht(R,a.SærligGrunn))},le=pt(R,me),B=le.some(O=>O.isAksjonspunktOpen),z=_?le.find(O=>O.fom===_.fom&&O.tom===_.tom):void 0,j=O=>{const $=O?R.find(Y=>Y.fom===O.fom&&Y.tom===O.tom):void 0;D($)},G=()=>{const O=R.findIndex($=>$.fom===_?.fom&&$.tom===_?.tom);j(R[O+1])},K=()=>{const O=R.findIndex($=>$.fom===_?.fom&&$.tom===_?.tom);j(R[O-1])},q=()=>{j(void 0)},U=O=>{const $=he(O,"erSplittet"),Y=R.filter(Te=>Te.fom!==$.fom&&Te.tom!==$.tom).concat($).sort(kr);L(Y),E(Y),w(!0),q();const Pe=Y.find(Cr);Pe&&j(Pe)},ae=O=>{const $=R.find(Y=>Y.fom===_?.fom&&Y.tom===_?.tom);if($){const Y=O.map(Te=>({...Tt($),...Te,erSplittet:!0})),Pe=R.filter(Te=>Te.fom!==_?.fom&&Te.tom!==_?.tom).concat(Y).sort(kr);q(),w(!0),L(Pe),E(Pe),j(Y[0])}},ke=me?me.find(O=>O.fom===_?.fom&&O.tom===_?.tom):void 0;return l.jsx(gr,{merknaderFraBeslutter:je,withoutBorder:!0,children:l.jsxs(I,{gap:"space-16",children:[l.jsx(de,{size:"small",level:"2",children:l.jsx(d,{id:"Behandlingspunkt.Tilbakekreving"})}),B&&l.jsx(vr,{children:l.jsx(d,{id:"TilbakekrevingForm.AksjonspunktHjelpetekst"})}),R&&l.jsxs(l.Fragment,{children:[l.jsx(kt,{perioder:le,valgtPeriode:z,setPeriode:j,relasjonsRolleType:u,relasjonsRolleTypeKodeverk:v}),_&&ke&&l.jsx("div",{id:"panel-tilbakekreving","aria-controls":z?.id.toString(),children:l.jsx(al.New,{borderWidth:"1",padding:"4",children:l.jsxs(I,{gap:"space-16",children:[l.jsx(Tn,{setNestePeriode:G,setForrigePeriode:K,periode:ke,readOnly:t,oppdaterSplittedePerioder:ae,behandlingUuid:k,beregnBelop:g,lukkPeriode:q}),l.jsx(fn,{feilutbetaling:ke.feilutbetaling,fom:ke.fom,tom:ke.tom,arsakHendelseNavn:a.HendelseType.find(O=>O.kode===ke.årsak?.hendelseType)?.navn}),l.jsx(tt,{periode:_,data:ke,antallPerioderMedAksjonspunkt:Le,readOnly:t||_?.erForeldet===!0,skjulPeriode:q,oppdaterPeriode:U,kodeverkSamlingFpTilbake:a,vilkarsVurdertePerioder:R},z?.id)]})})})]}),X&&l.jsx(Qe,{variant:"error",children:l.jsx(d,{id:X})}),l.jsx("div",{children:l.jsx(Rr,{isReadOnly:t||_?.erForeldet===!0,isDirty:A,isSubmittable:!B&&!_&&!X,onClick:ue,isSubmitting:re})})]})})},It={"Behandlingspunkt.Tilbakekreving":"Tilbakekreving","TilbakekrevingAktivitetTabell.Aktivitet":"Aktivitet","TilbakekrevingAktivitetTabell.FeilutbetaltBelop":"Feilutbetalt beløp","TilbakekrevingForm.AksjonspunktHjelpetekst":"Fastsett tilbakekreving etter §22-15. Del opp perioden ved behov for ulik vurdering","TilbakekrevingPeriodeForm.VilkarForTilbakekreving":"Vilkårene for tilbakekreving","TilbakekrevingPeriodeForm.oppfylt":"Er vilkårene for tilbakekreving oppfylt?","TilbakekrevingPeriodeForm.TotalbelopetUnder4Rettsgebyr":"Totalbeløpet er under 4 rettsgebyr. Dersom 6.ledd skal anvendes for å frafalle tilbakekrevingen, må denne anvendes likt på alle periodene.","TilbakekrevingPeriodeForm.Oppdater":"Oppdater","TilbakekrevingPeriodeForm.Avbryt":"Avbryt","TilbakekrevingPeriodeForm.Vurdering":"Vurder hvilken hjemmel i § 22-15 1. ledd som skal benyttes","TilbakekrevingPeriodeForm.Vurdering.Hjelpetekst":"Hvilke hendelser har ført til feilutbetalingen og vurder valg av hjemmel","TilbakekrevingPeriodeForm.MaVelgeSarligGrunn":"Du må velge minst en Særlig grunn","TilbakekrevingPeriodeForm.BelopKanIkkeVereStorreEnnFeilutbetalingen":"Beløp kan ikke være større enn feilutbetalingen","TilbakekrevingPeriodeForm.BelopMaVereMindreEnnFeilutbetalingen":"Beløp må være mindre enn feilutbetalingen","TilbakekrevingPeriodeForm.FeilutbetaltBelopEtterbetaling":"Feilutbetalt beløp er redusert med <b>kr. {belop},-</b> på grunn av etterbetaling innen samme periode.","TilbakekrevingPeriodeForm.FeilutbetaltBelopTrekk":"Feilutbetalt beløp er redusert med <b>kr. {belop},-</b> på grunn av trekk.","TilbakekrevingPeriodeForm.Aktsomhet":"Aktsomhet","TilbakekrevingPeriodeForm.VurderingAktsomhet":"Vurder hvorfor mottaker burde forstått, må ha forstått eller forsto at utbetalingen skyldtes en feil","TilbakekrevingPeriodeForm.BelopetMottattIGodTro":"Beløpet mottatt i god tro","TilbakekrevingPeriodeForm.VurderingMottattIGodTro":"Begrunn hvorfor mottaker er i god tro","TilbakekrevingPeriodeForm.KopierVilkårsvurdering":"Kopier vilkårsvurdering fra","AktsomhetGradForsettFormPanel.Andel":"Andel som skal tilbakekreves","AktsomhetGradForsettFormPanel.Renter":"Det legges til 10 % renter","TilbakekrevingTimeline.ZoomInn":"Zoom inn","TilbakekrevingTimeline.ZoomUt":"Zoom ut","TilbakekrevingTimeline.ScrollTilVenstre":"Scroll til venstre","TilbakekrevingTimeline.ScrollTilHogre":"Scroll til høyre","PeriodeController.nextPeriod":"Neste periode","PeriodeController.nextPeriodShort":"Neste","PeriodeController.prevPeriod":"Forrige periode","PeriodeController.prevPeriodShort":"Forrige","PeriodeController.LukkPeriode":"Lukk periode","AktsomhetReduksjonAvBelopFormPanel.AngiAndelSomTilbakekreves":"Angi andel som skal tilbakekreves","AktsomhetReduksjonAvBelopFormPanel.andelSomTilbakekreves":"Andel som skal tilbakekreves","AktsomhetReduksjonAvBelopFormPanel.SkalTilleggesRenter":"Skal det tillegges renter?","AktsomhetReduksjonAvBelopFormPanel.BelopSomSkalTilbakekreves":"Beløp som skal tilbakekreves","AktsomhetReduksjonAvBelopFormPanel.AngiBelopSomSkalTilbakekreves":"Angi beløp som skal tilbakekreves","AktsomhetReduksjonAvBelopFormPanel.SkalSarligeGrunnerGiReduksjon":"Skal særlige grunner gi reduksjon av beløpet?","AktsomhetReduksjonAvBelopFormPanel.Nei":"Nei","AktsomhetReduksjonAvBelopFormPanel.Ja":"Ja","AktsomhetFormPanel.HandletUaktsomhetGrad":"I hvilken grad burde mottaker forstått at utbetalingen skyldtes en feil","AktsomhetFormPanel.AktsomhetTyperLabel.SimpelUaktsom":"Burde ha forstått","AktsomhetFormPanel.AktsomhetTyperLabel.GrovtUaktsomt":"Må ha forstått","AktsomhetFormPanel.AktsomhetTyperLabel.Forsett":"Forsto","AktsomhetGradUaktsomhetFormPanel.AllePerioderBehandlesLikt":"Når 6. ledd anvendes må alle perioder behandles likt","AktsomhetGradUaktsomhetFormPanel.Nei":"Nei","AktsomhetGradUaktsomhetFormPanel.Ja":"Ja","AktsomhetGradUaktsomhetFormPanel.Tilbakekrev":"Totalbeløpet er under 4 rettsgebyr (6. ledd). Skal det tilbakekreves?","AktsomhetGradUaktsomhetFormPanel.SærligGrunner":"Særlige grunner 4. ledd","AktsomhetGradUaktsomhetFormPanel.VurderSærligGrunner":"Vurder særlige grunner du har vektlagt for resultatet","AktsomhetGradUaktsomhetFormPanel.VurderSærligGrunner.Hjelpetekst":"Begrunn om det foreligger/ ikke foreligger særlige grunner for reduksjon av beløpet som kreves tilbake. Kryss av hvilke særlige grunner som er vektlagt for resultatet","AktsomhetSarligeGrunnerFormPanel.GrunnerTilReduksjon":"Særlige grunner som er vektlagt (4.ledd)","PeriodeController.Detaljer":"Detaljer for valgt periode","PeriodeController.DelOppPerioden":"Del opp perioden","PeriodeController.ForrigePeriode":"Forrige periode","PeriodeController.NestePeriode":"Neste periode","PeriodeInformasjon.Feilutbetaling":"Feilutbetaling","DelOppPeriodeModalImpl.Periode":"Periode","DelOppPeriodeModalImpl.AngiTomDato":"Angi t.o.m. dato for første periode","DelOppPeriodeModalImpl.ModalDescription":"Periode er splittet","DelOppPeriodeModalImpl.DelOppPerioden":"Del opp perioden","DelOppPeriodeModalImpl.Ok":"Ok","DelOppPeriodeModalImpl.Avbryt":"Avbryt","DelOppPeriodeModalImpl.DatoUtenforPeriode":"Dato må være innenfor perioden","DelOppPeriodeModalImpl.BelopEr0":"Periode har 0 virkedager","BelopetMottattIGodTroFormPanel.Vurdering":"Vurdering","BelopetMottattIGodTroFormPanel.BelopetIBehold":"Er beløpet i behold?","BelopetMottattIGodTroFormPanel.Ja":"Ja","BelopetMottattIGodTroFormPanel.Nei":"Nei","BelopetMottattIGodTroFormPanel.AngiBelop":"Angi beløp som skal tilbakekreves","BelopetMottattIGodTroFormPanel.IngenTilbakekreving":"Ingen tilbakekreving","SubmitButton.ConfirmInformation":"Bekreft og fortsett","TilbakekrevingTimeline.ImageText":"Personinformasjon","TilbakekrevingTimeline.Woman":"Kvinne","TilbakekrevingTimeline.Man":"Mann","UttakInfoPanel.IngenPerioder":"Det må være minst én periode i uttaket.","UttakInfoPanel.PeriodenSlettes":"Perioden {fom} - {tom} {uttakPeriodeType} slettes","UttakInfoPanel.Frilans":"Frilanser","UttakInfoPanel.Selvstendignæringsdrivende":"Selvstendig næringsdrivende","Malform.Beskrivelse":"Foretrukket språk","Timeline.scrollLeft":"Scrolle venstre","Timeline.scrollRight":"Scrolle høyre","Timeline.zoomIn":"Zoom inn","Timeline.zoomOut":"Zoom ut","Timeline.openData":"Åpne info om første periode","Timeline.closeData":"Lukke info om periode","Timeline.nextPeriod":"Scroll til høyre","Timeline.prevPeriod":"Scroll til venstre","Timeline.tooltip.dagsats":"Dagsats: {dagsats}kr","Timeline.tooltip.start":"Start","Timeline.tooltip.slutt":"Slutt","Timeline.tooltip.periodetype":"Periodetype","Timeline.tooltip.utsettelsePeriode":"Utsettelse","Timeline.TidspunktFamiliehendelse":"Tidspunkt for familiehendelse","Timeline.OppfyltPeriode":"Oppfylt periode","Timeline.IkkeOppfyltPeriode":"Ikke oppfylt periode","Timeline.TidspunktMotakSoknad":"Tidspunkt for mottatt søknad","Timeline.BelopTilbakereves":"Beløp tilbakekreves","Timeline.IngenTilbakekreving":"Ingen tilbakekreving","Timeline.IkkeAvklartPeriode":"Uavklart periode","Timeline.TidspunktRevurdering":"Startpunkt for revurdering","Timeline.GradertPeriode":"Gradert periode","Timeline.ManueltAvklart":"Manuelt avklart periode","ForeldetFormPanel.VurderOmPeriodenErForeldet":"Vurder om perioden er foreldet","ForeldetFormPanel.PeriodenErForeldet":"Perioden er foreldet"},At=Ze(It),_t=e=>l.jsx(We,{value:At,children:l.jsx(Ft,{...e})}),Lt=[tr.VURDER_TILBAKEKREVING],Il=({tilbakekrevingKodeverk:e})=>{const a=M(),{behandling:r,fagsak:n}=Ge(),t=cr(Lt),i=lr(r),{data:o}=te(i.tilbakekreving.perioderForeldelseOptions(r)),{data:u}=te(i.tilbakekreving.vilkårsvurderingsperioderOptions(r)),{data:v}=te(i.tilbakekreving.vilkårsvurderingOptions(r)),{mutateAsync:g}=hr({mutationFn:k=>i.tilbakekreving.beregneBeløp(k)});return P.jsx(br,{standardPanelProps:t,prosessPanelKode:pr.TILBAKEKREVING,prosessPanelMenyTekst:a.formatMessage({id:"Behandlingspunkt.Tilbakekreving"}),skalPanelVisesIMeny:!0,overstyrtStatus:Pt(t.aksjonspunkterForPanel),children:o&&u&&v?P.jsx(jt,{perioderForeldelse:o,vilkarvurderingsperioder:u,vilkarvurdering:v,kodeverkSamlingFpTilbake:e,beregnBelop:k=>g(k),relasjonsRolleType:n.relasjonsRolleType,relasjonsRolleTypeKodeverk:t.alleKodeverk.RelasjonsRolleType,...t,behandlingUuid:r.uuid}):P.jsx(Ve,{})})},jt=e=>{const{mellomlagretFormData:a,setMellomlagretFormData:r}=Xe();return P.jsx(_t,{...e,formData:a,setFormData:r})},Pt=e=>e.length>0?e.some(Jl)?"IKKE_VURDERT":"OPPFYLT":"IKKE_VURDERT";Il.__docgenInfo={description:"",methods:[],displayName:"TilbakekrevingProsessInitPanel",props:{tilbakekrevingKodeverk:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  [K in TilbakekrevingKodeverkType]: KodeverkMedNavnTilbakekreving<
    K extends TilbakekrevingKodeverkType ? K : unknown
  >[];
}`,signature:{properties:[{key:{name:"signature",type:"object",raw:`{
  BehandlingType: BehandlingType;
  BehandlingÅrsakType: BehandlingÅrsakTypeFpTilbake;
  BehandlingResultatType: BehandlingResultatTypeFpTilbake;
  HistorikkAktør: HistorikkAktor;
  SkjermlenkeType: SkjermlenkeTypeTilbakekreving;
  Venteårsak: VenteÅrsakTypeFpTilbake;
  VurderÅrsak: VurderÅrsak;
  VergeType: VergeType;
  Aktsomhet: Aktsomhet;
  VedtakResultatType: VedtakResultatType;
  HendelseType: HendelseType;
  SærligGrunn: SærligGrunn;
  VilkårResultat: VilkårResultat;
  HendelseUnderType: HendelseUnderType;
  VidereBehandling: TilbakekrevingVidereBehandling;
  ForeldelseVurderingType: ForeldelseVurderingType;
}`,signature:{properties:[{key:"BehandlingType",value:{name:"union",raw:`| 'BT-002'
| 'BT-003'
| 'BT-004'
| 'BT-008'
| 'BT-006'
| 'BT-007'
| 'BT-009'
| '-'`,elements:[{name:"literal",value:"'BT-002'"},{name:"literal",value:"'BT-003'"},{name:"literal",value:"'BT-004'"},{name:"literal",value:"'BT-008'"},{name:"literal",value:"'BT-006'"},{name:"literal",value:"'BT-007'"},{name:"literal",value:"'BT-009'"},{name:"literal",value:"'-'"}],required:!0}},{key:"BehandlingÅrsakType",value:{name:"union",raw:`| 'RE_KLAGE_KA'
| 'RE_KLAGE_NFP'
| 'RE_FEILUTBETALT_BELØP_REDUSERT'
| 'RE_VILKÅR'
| 'RE_FORELDELSE'`,elements:[{name:"literal",value:"'RE_KLAGE_KA'"},{name:"literal",value:"'RE_KLAGE_NFP'"},{name:"literal",value:"'RE_FEILUTBETALT_BELØP_REDUSERT'"},{name:"literal",value:"'RE_VILKÅR'"},{name:"literal",value:"'RE_FORELDELSE'"}],required:!0}},{key:"BehandlingResultatType",value:{name:"union",raw:`| 'INGEN_TILBAKEBETALING'
| 'DELVIS_TILBAKEBETALING'
| 'FULL_TILBAKEBETALING'
| 'HENLAGT_FEILOPPRETTET'
| 'HENLAGT_FEILOPPRETTET_MED_BREV'
| 'HENLAGT_FEILOPPRETTET_UTEN_BREV'`,elements:[{name:"literal",value:"'INGEN_TILBAKEBETALING'"},{name:"literal",value:"'DELVIS_TILBAKEBETALING'"},{name:"literal",value:"'FULL_TILBAKEBETALING'"},{name:"literal",value:"'HENLAGT_FEILOPPRETTET'"},{name:"literal",value:"'HENLAGT_FEILOPPRETTET_MED_BREV'"},{name:"literal",value:"'HENLAGT_FEILOPPRETTET_UTEN_BREV'"}],required:!0}},{key:"HistorikkAktør",value:{name:"union",raw:`| 'BESL'
| 'SBH'
| 'SOKER'
| 'ARBEIDSGIVER'
| 'VL'
| '-'`,elements:[{name:"literal",value:"'BESL'"},{name:"literal",value:"'SBH'"},{name:"literal",value:"'SOKER'"},{name:"literal",value:"'ARBEIDSGIVER'"},{name:"literal",value:"'VL'"},{name:"literal",value:"'-'"}],required:!0}},{key:"SkjermlenkeType",value:{name:"union",raw:`| 'FAKTA_OM_FEILUTBETALING'
| 'TILBAKEKREVING'
| 'VEDTAK'
| 'FORELDELSE'
| 'FAKTA_OM_VERGE'`,elements:[{name:"literal",value:"'FAKTA_OM_FEILUTBETALING'"},{name:"literal",value:"'TILBAKEKREVING'"},{name:"literal",value:"'VEDTAK'"},{name:"literal",value:"'FORELDELSE'"},{name:"literal",value:"'FAKTA_OM_VERGE'"}],required:!0}},{key:"Venteårsak",value:{name:"union",raw:`| 'UTV_TIL_FRIST'
| 'ENDRE_TILKJENT_YTELSE'
| 'VENT_PÅ_MULIG_MOTREGNING'
| 'VENT_PÅ_BRUKERTILBAKEMELDING'
| 'VENT_PÅ_TILBAKEKREVINGSGRUNNLAG'`,elements:[{name:"literal",value:"'UTV_TIL_FRIST'"},{name:"literal",value:"'ENDRE_TILKJENT_YTELSE'"},{name:"literal",value:"'VENT_PÅ_MULIG_MOTREGNING'"},{name:"literal",value:"'VENT_PÅ_BRUKERTILBAKEMELDING'"},{name:"literal",value:"'VENT_PÅ_TILBAKEKREVINGSGRUNNLAG'"}],required:!0}},{key:"VurderÅrsak",value:{name:"union",raw:`| 'FEIL_FAKTA'
| 'FEIL_LOV'
| 'SKJØNN'
| 'UTREDNING'
| 'SAKSFLYT'
| 'BEGRUNNELSE'
| '-'
| 'ANNET'
| 'FEIL_REGEL'`,elements:[{name:"literal",value:"'FEIL_FAKTA'"},{name:"literal",value:"'FEIL_LOV'"},{name:"literal",value:"'SKJØNN'"},{name:"literal",value:"'UTREDNING'"},{name:"literal",value:"'SAKSFLYT'"},{name:"literal",value:"'BEGRUNNELSE'"},{name:"literal",value:"'-'"},{name:"literal",value:"'ANNET'"},{name:"literal",value:"'FEIL_REGEL'"}],required:!0}},{key:"VergeType",value:{name:"union",raw:`| 'BARN'
| 'FBARN'
| 'VOKSEN'
| 'ADVOKAT'
| 'ANNEN_F'`,elements:[{name:"literal",value:"'BARN'"},{name:"literal",value:"'FBARN'"},{name:"literal",value:"'VOKSEN'"},{name:"literal",value:"'ADVOKAT'"},{name:"literal",value:"'ANNEN_F'"}],required:!0}},{key:"Aktsomhet",value:{name:"union",raw:"'FORSETT' | 'GROVT_UAKTSOM' | 'SIMPEL_UAKTSOM'",elements:[{name:"literal",value:"'FORSETT'"},{name:"literal",value:"'GROVT_UAKTSOM'"},{name:"literal",value:"'SIMPEL_UAKTSOM'"}],required:!0}},{key:"VedtakResultatType",value:{name:"union",raw:"'INGEN_TILBAKEBETALING' | 'DELVIS_TILBAKEBETALING'",elements:[{name:"literal",value:"'INGEN_TILBAKEBETALING'"},{name:"literal",value:"'DELVIS_TILBAKEBETALING'"}],required:!0}},{key:"HendelseType",value:{name:"union",raw:"'MEDLEMSKAP' | 'OKONOMI_FEIL' | 'BEREGNING_TYPE'",elements:[{name:"literal",value:"'MEDLEMSKAP'"},{name:"literal",value:"'OKONOMI_FEIL'"},{name:"literal",value:"'BEREGNING_TYPE'"}],required:!0}},{key:"SærligGrunn",value:{name:"union",raw:`| 'GRAD_AV_UAKTSOMHET'
| 'HELT_ELLER_DELVIS_NAVS_FEIL'
| 'STOERRELSE_BELOEP'
| 'TID_FRA_UTBETALING'
| 'ANNET'`,elements:[{name:"literal",value:"'GRAD_AV_UAKTSOMHET'"},{name:"literal",value:"'HELT_ELLER_DELVIS_NAVS_FEIL'"},{name:"literal",value:"'STOERRELSE_BELOEP'"},{name:"literal",value:"'TID_FRA_UTBETALING'"},{name:"literal",value:"'ANNET'"}],required:!0}},{key:"VilkårResultat",value:{name:"union",raw:"'FORSTO_BURDE_FORSTAATT' | 'FEIL_OPPLYSNINGER' | 'MANGELFULL_OPPLYSNING' | 'GOD_TRO'",elements:[{name:"literal",value:"'FORSTO_BURDE_FORSTAATT'"},{name:"literal",value:"'FEIL_OPPLYSNINGER'"},{name:"literal",value:"'MANGELFULL_OPPLYSNING'"},{name:"literal",value:"'GOD_TRO'"}],required:!0}},{key:"HendelseUnderType",value:{name:"union",raw:"'IKKE_INNTEKT' | 'IKKE_YRKESAKTIV' | 'OKONOMI_FEIL_TREKK' | 'IKKE_BOSATT'",elements:[{name:"literal",value:"'IKKE_INNTEKT'"},{name:"literal",value:"'IKKE_YRKESAKTIV'"},{name:"literal",value:"'OKONOMI_FEIL_TREKK'"},{name:"literal",value:"'IKKE_BOSATT'"}],required:!0}},{key:"VidereBehandling",value:{name:"union",raw:`| '-'
| 'TILBAKEKR_OPPRETT'
| 'TILBAKEKR_IGNORER'
| 'TILBAKEKR_INNTREKK'
| 'TILBAKEKR_OPPDATER'`,elements:[{name:"literal",value:"'-'"},{name:"literal",value:"'TILBAKEKR_OPPRETT'"},{name:"literal",value:"'TILBAKEKR_IGNORER'"},{name:"literal",value:"'TILBAKEKR_INNTREKK'"},{name:"literal",value:"'TILBAKEKR_OPPDATER'"}],required:!0}},{key:"ForeldelseVurderingType",value:{name:"union",raw:"'IKKE_VURDERT' | 'FORELDET' | 'IKKE_FORELDET' | 'TILLEGGSFRIST' | 'UDEFINERT'",elements:[{name:"literal",value:"'IKKE_VURDERT'"},{name:"literal",value:"'FORELDET'"},{name:"literal",value:"'IKKE_FORELDET'"},{name:"literal",value:"'TILLEGGSFRIST'"},{name:"literal",value:"'UDEFINERT'"}],required:!0}}]},required:!0},value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}`,signature:{properties:[{key:"kode",value:{name:"unknown",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"kodeverk",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}>`}],raw:`KodeverkMedNavnTilbakekreving<
  K extends TilbakekrevingKodeverkType ? K : unknown
>[]`}}]}},description:""}}};var fr=(e=>(e.FORESLA_VEDTAK="5004",e))(fr||{}),Hr={exports:{}},Ne={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zr;function Bt(){if(zr)return Ne;zr=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(n,t,i){var o=null;if(i!==void 0&&(o=""+i),t.key!==void 0&&(o=""+t.key),"key"in t){i={};for(var u in t)u!=="key"&&(i[u]=t[u])}else i=t;return t=i.ref,{$$typeof:e,type:n,key:o,ref:t!==void 0?t:null,props:i}}return Ne.Fragment=a,Ne.jsx=r,Ne.jsxs=r,Ne}var qr;function St(){return qr||(qr=1,Hr.exports=Bt()),Hr.exports}var T=St();const xt="_addPeriodeButton_zdgvo_2",yt={addPeriodeButton:xt},Al=fe(3),Nt=ce(4e3),Kt=[Al,oe],Ot=[N,Al,oe],Vt=({name:e,readOnly:a,fritekstPakrevet:r,maximumLength:n})=>{const{watch:t,control:i}=ee(),o=t(e)===void 0,[u,v]=V.useState(o&&!r),g=r?Ot:Kt;g.push(n?ce(n):Nt);const k=s=>{s.preventDefault(),v(!1)};return T.jsxs(T.Fragment,{children:[u&&!a&&T.jsx("div",{children:T.jsx(y,{icon:T.jsx(Zl,{"aria-hidden":!0}),variant:"tertiary",type:"button",size:"xsmall",onClick:k,className:yt.addPeriodeButton,children:T.jsx(d,{id:"TilbakekrevingVedtakUtdypendeTekstPanel.LeggTilUtdypendeTekst"})})}),!u&&T.jsx(se,{name:e,control:i,label:T.jsx(d,{id:"TilbakekrevingVedtakUtdypendeTekstPanel.UtdypendeTekst"}),validate:g,maxLength:n||4e3,readOnly:a})]})},Gt="_gulmarkering_xswfh_1",Dt="_paddingTop_xswfh_6",Yr={gulmarkering:Gt,paddingTop:Dt},Tr=({intl:e,vedtaksbrevAvsnitt:a,readOnly:r,perioderSomIkkeHarUtfyltObligatoriskVerdi:n,fritekstOppsummeringPakrevdMenIkkeUtfylt:t=!1,erRevurderingTilbakekrevingFeilBeløpBortfalt:i})=>T.jsxs(I,{gap:"space-16",children:[T.jsx(de,{size:"small",level:"2",children:T.jsx(d,{id:"TilbakekrevingVedtak.Vedtaksbrev"})}),a.map(o=>{const u=o.underavsnittsliste,v=`${o.fom}_${o.tom}`,g=n.some(s=>s===v),k=o.avsnittstype==="OPPSUMMERING"&&t;return T.jsx(Fr.Fragment,{children:T.jsxs(Me,{size:"small","aria-label":v,defaultOpen:g||k,className:g||k?Yr.gulmarkering:"",children:[T.jsx(Me.Header,{children:T.jsx(Me.Title,{size:"small",children:o.overskrift?o.overskrift:e.formatMessage({id:"TilbakekrevingEditerVedtaksbrevPanel.LovhjemlerOgKlagerettOverskrift"})})}),T.jsx(Me.Content,{children:T.jsx(I,{gap:"space-8",children:u.map(s=>T.jsxs(Fr.Fragment,{children:[s.overskrift&&T.jsx(C,{className:Yr.paddingTop,children:s.overskrift}),s.brødtekst&&T.jsx(S,{children:s.brødtekst}),s.fritekstTillatt&&T.jsx(Vt,{name:s.underavsnittstype?`${v}.${s.underavsnittstype}`:o.avsnittstype,readOnly:r,fritekstPakrevet:s.fritekstPåkrevet,maximumLength:i?1e4:void 0})]},(s.underavsnittstype??"")+s.overskrift+s.brødtekst))})})]})},o.avsnittstype+o.fom)})]});Tr.buildInitialValues=e=>e.filter(a=>a.underavsnittsliste.some(r=>r.fritekst)).reduce((a,r)=>{const n=r.underavsnittsliste.filter(i=>i.fritekst).reduce((i,o)=>({...i,[o.underavsnittstype?o.underavsnittstype:r.avsnittstype]:ve(o.fritekst)}),{}),t=r.fom?{[`${r.fom}_${r.tom}`]:n}:n;return{...a,...t}},{});const _l=e=>({oppsummeringstekst:e.OPPSUMMERING,perioderMedTekst:Object.entries(he(e,"OPPSUMMERING")).map(([a,r])=>({fom:a.split("_")[0],tom:a.split("_")[1],faktaAvsnitt:r.FAKTA,foreldelseAvsnitt:r.FORELDELSE,vilkaarAvsnitt:r.VILKÅR,saerligeGrunnerAvsnitt:r.SÆRLIGEGRUNNER,saerligeGrunnerAnnetAvsnitt:r.SÆRLIGEGRUNNER_ANNET}))}),Ut=(e,a)=>e.some(r=>r.avsnittstype==="OPPSUMMERING"&&r.underavsnittsliste.some(n=>n.fritekstPåkrevet)&&!a.OPPSUMMERING),Mt=e=>({kode:fr.FORESLA_VEDTAK,..._l(e)}),wt=(e,a)=>e.reduce((r,n)=>{const t=`${n.fom}_${n.tom}`,i=a[t];return n.underavsnittsliste.some(o=>o.fritekstPåkrevet&&o.underavsnittstype==="FAKTA")&&!i?.FAKTA||n.underavsnittsliste.some(o=>o.fritekstPåkrevet&&o.underavsnittstype==="SÆRLIGEGRUNNER_ANNET")&&!i?.SÆRLIGEGRUNNER_ANNET?r.concat(t):r},[]),Jr=(e,a,r)=>n=>{e({uuid:a,..._l(r)}),n.preventDefault()},$t=({submitCallback:e,readOnly:a,fetchPreviewVedtaksbrev:r,avsnittsliste:n,behandlingUuid:t,erRevurderingTilbakekrevingKlage:i,erRevurderingTilbakekrevingFeilBeløpBortfalt:o,formData:u,setFormData:v})=>{const g=n,k=u||Tr.buildInitialValues(g),s=M(),E=Fe({defaultValues:k}),c=E.watch(),f=Ut(g,c),b=wt(g,c),R=f||b.length>0;return T.jsx(Ie,{formMethods:E,onSubmit:L=>e(Mt(L)),setDataOnUnmount:v,children:T.jsxs(I,{gap:"space-16",children:[T.jsx(Tr,{intl:s,vedtaksbrevAvsnitt:g,readOnly:a,perioderSomIkkeHarUtfyltObligatoriskVerdi:b,fritekstOppsummeringPakrevdMenIkkeUtfylt:f,erRevurderingTilbakekrevingFeilBeløpBortfalt:o}),T.jsxs(x,{gap:"space-16",align:"center",children:[T.jsx(Rr,{text:s.formatMessage({id:"TilbakekrevingVedtakForm.TilGodkjenning"}),isReadOnly:a,isSubmittable:b.length===0&&!f,isSubmitting:E.formState.isSubmitting,hasErrors:R}),b.length===0&&T.jsx(Wl,{href:"",onClick:Jr(r,t,c),onKeyDown:L=>L.key==="Enter"?Jr(r,t,c)(L):null,children:T.jsx(d,{id:"TilbakekrevingVedtakForm.ForhandvisBrev"})})]}),i&&T.jsx(Qe,{inline:!0,variant:"warning",contentMaxWidth:!1,children:T.jsx(d,{id:"TilbakekrevingVedtakForm.Infotekst.Klage"})})]})})},Ct=({perioder:e,kodeverkSamlingFpTilbake:a})=>T.jsxs(h,{children:[T.jsx(h.Header,{children:T.jsxs(h.Row,{children:[T.jsx(h.HeaderCell,{scope:"col",children:T.jsx(d,{id:"TilbakekrevingVedtakPeriodeTabell.Periode"})}),T.jsx(h.HeaderCell,{scope:"col",align:"right",children:T.jsx(d,{id:"TilbakekrevingVedtakPeriodeTabell.FeilutbetaltBelop"})}),T.jsx(h.HeaderCell,{scope:"col",children:T.jsx(d,{id:"TilbakekrevingVedtakPeriodeTabell.Vurdering"})}),T.jsx(h.HeaderCell,{scope:"col",align:"right",children:T.jsx(d,{id:"TilbakekrevingVedtakPeriodeTabell.AndelAvBelop"})}),T.jsx(h.HeaderCell,{scope:"col",align:"right",children:T.jsx(d,{id:"TilbakekrevingVedtakPeriodeTabell.Renter"})}),T.jsx(h.HeaderCell,{scope:"col",align:"right",children:T.jsx(d,{id:"TilbakekrevingVedtakPeriodeTabell.ForSkatt"})}),T.jsx(h.HeaderCell,{scope:"col",align:"right",children:T.jsx(d,{id:"TilbakekrevingVedtakPeriodeTabell.BelopSomTilbakekreves"})})]})}),T.jsxs(h.Body,{children:[e.map(r=>T.jsxs(h.Row,{children:[T.jsx(h.DataCell,{children:T.jsx(Er,{dateStringFom:r.periode.fom,dateStringTom:r.periode.tom})}),T.jsx(h.DataCell,{align:"right",children:T.jsx(ne,{beløp:r.feilutbetaltBeløp})}),T.jsx(h.DataCell,{children:a.Aktsomhet.find(n=>n.kode===r.vurdering)?.navn}),T.jsx(h.DataCell,{align:"right",children:r.andelAvBeløp!==void 0&&r.andelAvBeløp!==null?`${r.andelAvBeløp}%`:""}),T.jsx(h.DataCell,{align:"right",children:r.renterProsent?`${r.renterProsent}%`:""}),T.jsx(h.DataCell,{align:"right",children:T.jsx(ne,{beløp:r.tilbakekrevingBeløp})}),T.jsx(h.DataCell,{align:"right",children:T.jsx(ne,{beløp:r.tilbakekrevingBeløpEtterSkatt})})]},r.periode.fom)),T.jsxs(h.Row,{children:[T.jsx(h.HeaderCell,{children:T.jsx(d,{id:"TilbakekrevingVedtakPeriodeTabell.Sum"})}),T.jsx(h.HeaderCell,{align:"right",children:T.jsx(ne,{beløp:e.reduce((r,n)=>r+n.feilutbetaltBeløp,0)})}),T.jsx(h.DataCell,{}),T.jsx(h.DataCell,{}),T.jsx(h.DataCell,{}),T.jsx(h.HeaderCell,{align:"right",children:T.jsx(ne,{beløp:e.reduce((r,n)=>r+n.tilbakekrevingBeløp,0)})}),T.jsx(h.HeaderCell,{align:"right",children:T.jsx(ne,{beløp:e.reduce((r,n)=>r+n.tilbakekrevingBeløpEtterSkatt,0)})})]},"sum")]})]}),Ht=({submitCallback:e,readOnly:a,resultat:r,perioder:n,kodeverkSamlingFpTilbake:t,behandlingUuid:i,avsnittsliste:o,fetchPreviewVedtaksbrev:u,erRevurderingTilbakekrevingKlage:v,erRevurderingTilbakekrevingFeilBeløpBortfalt:g,formData:k,setFormData:s})=>T.jsxs(I,{gap:"space-24",maxWidth:"1200px",children:[T.jsx(de,{size:"small",level:"2",children:T.jsx(d,{id:"TilbakekrevingVedtak.Vedtak"})}),T.jsxs("div",{children:[T.jsx(C,{children:T.jsx(d,{id:"TilbakekrevingVedtak.Resultat"})}),T.jsx(S,{children:t.VedtakResultatType.find(E=>E.kode===r)?.navn})]}),T.jsx(Ct,{perioder:n,kodeverkSamlingFpTilbake:t}),T.jsx($t,{submitCallback:e,readOnly:a,behandlingUuid:i,avsnittsliste:o,fetchPreviewVedtaksbrev:u,erRevurderingTilbakekrevingKlage:v,erRevurderingTilbakekrevingFeilBeløpBortfalt:g,formData:k,setFormData:s})]}),zt={"TilbakekrevingVedtak.Resultat":"Resultat","TilbakekrevingVedtak.Vedtaksbrev":"Vedtaksbrev","TilbakekrevingVedtak.Vedtak":"Vedtak","TilbakekrevingVedtakUtdypendeTekstPanel.LeggTilUtdypendeTekst":"Legg til utdypende tekst","TilbakekrevingVedtakUtdypendeTekstPanel.UtdypendeTekst":"Utdypende tekst","TilbakekrevingVedtakPeriodeTabell.Periode":"Periode","TilbakekrevingVedtakPeriodeTabell.FeilutbetaltBelop":"Feilutbetalt beløp","TilbakekrevingVedtakPeriodeTabell.Vurdering":"Vurdering","TilbakekrevingVedtakPeriodeTabell.AndelAvBelop":"Andel av beløp","TilbakekrevingVedtakPeriodeTabell.Renter":"Renter","TilbakekrevingVedtakPeriodeTabell.ForSkatt":"Beløp før skatt","TilbakekrevingVedtakPeriodeTabell.BelopSomTilbakekreves":"Beløp etter skatt","TilbakekrevingVedtakPeriodeTabell.Sum":"Sum","TilbakekrevingEditerVedtaksbrevPanel.LovhjemlerOgKlagerettOverskrift":"Lovhjemler og klagerett","TilbakekrevingVedtakForm.TilGodkjenning":"Til godkjenning","TilbakekrevingVedtakForm.ForhandvisBrev":"Forhåndsvis brev","TilbakekrevingVedtakForm.Infotekst.Klage":"Vedtaksbrev sendes ikke ut fra denne behandlingen, men må sendes av saksbehandler fra klagebehandlingen"},qt=Ze(zt),Yt=({behandlingUuid:e,beregningsresultat:a,isReadOnly:r,submitCallback:n,kodeverkSamlingFpTilbake:t,formData:i,setFormData:o,vedtaksbrev:u,fetchPreviewVedtaksbrev:v,erRevurderingTilbakekrevingKlage:g,erRevurderingTilbakekrevingFeilBeløpBortfalt:k})=>T.jsx(We,{value:qt,children:T.jsx(Ht,{behandlingUuid:e,perioder:a.beregningResultatPerioder,resultat:a.vedtakResultatType,avsnittsliste:u.avsnittsliste,submitCallback:n,readOnly:r,kodeverkSamlingFpTilbake:t,fetchPreviewVedtaksbrev:v,erRevurderingTilbakekrevingKlage:g,erRevurderingTilbakekrevingFeilBeløpBortfalt:k,formData:i,setFormData:o})}),Jt=[fr.FORESLA_VEDTAK],Wt=["RE_KLAGE_KA","RE_KLAGE_NFP"],Ll=({tilbakekrevingKodeverk:e})=>{const a=M(),{behandling:r,alleBehandlinger:n}=Ge(),i=n.filter(L=>!L.behandlingHenlagt).some(L=>L.type==="BT-004"&&L.status!=="AVSLU"),[o,u]=V.useState(!1),v=ei(u),g=cr(Jt,[],v),k=r.førsteÅrsak&&Xt(r.førsteÅrsak.behandlingArsakType),s=r.førsteÅrsak&&r.førsteÅrsak.behandlingArsakType==="RE_FEILUTBETALT_BELØP_REDUSERT",E=lr(r),{data:c}=te(E.tilbakekreving.beregningsresultatOptions(r)),{data:f}=te(E.tilbakekreving.vedtaksbrevOptions(r)),{mutateAsync:b}=hr({mutationFn:L=>ql(L),onSuccess:Nl}),R=ll();return P.jsxs(P.Fragment,{children:[P.jsx(Xl,{visModal:o,lukkModal:()=>{u(!1),R("/")},tekst:a.formatMessage({id:"FatterTilbakekrevingVedtakStatusModal.Sendt"})}),P.jsx(Ql,{harÅpenRevurdering:i}),P.jsx(br,{standardPanelProps:g,prosessPanelKode:pr.VEDTAK,prosessPanelMenyTekst:a.formatMessage({id:"Behandlingspunkt.Vedtak"}),skalPanelVisesIMeny:!0,overstyrtStatus:Qt(r.behandlingsresultat),children:c&&f?P.jsx(Zt,{beregningsresultat:c,vedtaksbrev:f,kodeverkSamlingFpTilbake:e,fetchPreviewVedtaksbrev:b,erRevurderingTilbakekrevingKlage:k??!1,erRevurderingTilbakekrevingFeilBeløpBortfalt:s??!1,...g,behandlingUuid:r.uuid}):P.jsx(Ve,{})})]})},Zt=e=>{const{mellomlagretFormData:a,setMellomlagretFormData:r}=Xe();return P.jsx(Yt,{...e,formData:a,setFormData:r})},Xt=e=>Wt.some(a=>a===e),Qt=e=>{if(!e)return"IKKE_VURDERT";const{type:a}=e;return a==="INGEN_TILBAKEBETALING"?"IKKE_OPPFYLT":a==="DELVIS_TILBAKEBETALING"||a==="FULL_TILBAKEBETALING"?"OPPFYLT":"IKKE_VURDERT"},ei=e=>()=>(()=>{e(!0)});Ll.__docgenInfo={description:"",methods:[],displayName:"VedtakTilbakekrevingProsessInitPanel",props:{tilbakekrevingKodeverk:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  [K in TilbakekrevingKodeverkType]: KodeverkMedNavnTilbakekreving<
    K extends TilbakekrevingKodeverkType ? K : unknown
  >[];
}`,signature:{properties:[{key:{name:"signature",type:"object",raw:`{
  BehandlingType: BehandlingType;
  BehandlingÅrsakType: BehandlingÅrsakTypeFpTilbake;
  BehandlingResultatType: BehandlingResultatTypeFpTilbake;
  HistorikkAktør: HistorikkAktor;
  SkjermlenkeType: SkjermlenkeTypeTilbakekreving;
  Venteårsak: VenteÅrsakTypeFpTilbake;
  VurderÅrsak: VurderÅrsak;
  VergeType: VergeType;
  Aktsomhet: Aktsomhet;
  VedtakResultatType: VedtakResultatType;
  HendelseType: HendelseType;
  SærligGrunn: SærligGrunn;
  VilkårResultat: VilkårResultat;
  HendelseUnderType: HendelseUnderType;
  VidereBehandling: TilbakekrevingVidereBehandling;
  ForeldelseVurderingType: ForeldelseVurderingType;
}`,signature:{properties:[{key:"BehandlingType",value:{name:"union",raw:`| 'BT-002'
| 'BT-003'
| 'BT-004'
| 'BT-008'
| 'BT-006'
| 'BT-007'
| 'BT-009'
| '-'`,elements:[{name:"literal",value:"'BT-002'"},{name:"literal",value:"'BT-003'"},{name:"literal",value:"'BT-004'"},{name:"literal",value:"'BT-008'"},{name:"literal",value:"'BT-006'"},{name:"literal",value:"'BT-007'"},{name:"literal",value:"'BT-009'"},{name:"literal",value:"'-'"}],required:!0}},{key:"BehandlingÅrsakType",value:{name:"union",raw:`| 'RE_KLAGE_KA'
| 'RE_KLAGE_NFP'
| 'RE_FEILUTBETALT_BELØP_REDUSERT'
| 'RE_VILKÅR'
| 'RE_FORELDELSE'`,elements:[{name:"literal",value:"'RE_KLAGE_KA'"},{name:"literal",value:"'RE_KLAGE_NFP'"},{name:"literal",value:"'RE_FEILUTBETALT_BELØP_REDUSERT'"},{name:"literal",value:"'RE_VILKÅR'"},{name:"literal",value:"'RE_FORELDELSE'"}],required:!0}},{key:"BehandlingResultatType",value:{name:"union",raw:`| 'INGEN_TILBAKEBETALING'
| 'DELVIS_TILBAKEBETALING'
| 'FULL_TILBAKEBETALING'
| 'HENLAGT_FEILOPPRETTET'
| 'HENLAGT_FEILOPPRETTET_MED_BREV'
| 'HENLAGT_FEILOPPRETTET_UTEN_BREV'`,elements:[{name:"literal",value:"'INGEN_TILBAKEBETALING'"},{name:"literal",value:"'DELVIS_TILBAKEBETALING'"},{name:"literal",value:"'FULL_TILBAKEBETALING'"},{name:"literal",value:"'HENLAGT_FEILOPPRETTET'"},{name:"literal",value:"'HENLAGT_FEILOPPRETTET_MED_BREV'"},{name:"literal",value:"'HENLAGT_FEILOPPRETTET_UTEN_BREV'"}],required:!0}},{key:"HistorikkAktør",value:{name:"union",raw:`| 'BESL'
| 'SBH'
| 'SOKER'
| 'ARBEIDSGIVER'
| 'VL'
| '-'`,elements:[{name:"literal",value:"'BESL'"},{name:"literal",value:"'SBH'"},{name:"literal",value:"'SOKER'"},{name:"literal",value:"'ARBEIDSGIVER'"},{name:"literal",value:"'VL'"},{name:"literal",value:"'-'"}],required:!0}},{key:"SkjermlenkeType",value:{name:"union",raw:`| 'FAKTA_OM_FEILUTBETALING'
| 'TILBAKEKREVING'
| 'VEDTAK'
| 'FORELDELSE'
| 'FAKTA_OM_VERGE'`,elements:[{name:"literal",value:"'FAKTA_OM_FEILUTBETALING'"},{name:"literal",value:"'TILBAKEKREVING'"},{name:"literal",value:"'VEDTAK'"},{name:"literal",value:"'FORELDELSE'"},{name:"literal",value:"'FAKTA_OM_VERGE'"}],required:!0}},{key:"Venteårsak",value:{name:"union",raw:`| 'UTV_TIL_FRIST'
| 'ENDRE_TILKJENT_YTELSE'
| 'VENT_PÅ_MULIG_MOTREGNING'
| 'VENT_PÅ_BRUKERTILBAKEMELDING'
| 'VENT_PÅ_TILBAKEKREVINGSGRUNNLAG'`,elements:[{name:"literal",value:"'UTV_TIL_FRIST'"},{name:"literal",value:"'ENDRE_TILKJENT_YTELSE'"},{name:"literal",value:"'VENT_PÅ_MULIG_MOTREGNING'"},{name:"literal",value:"'VENT_PÅ_BRUKERTILBAKEMELDING'"},{name:"literal",value:"'VENT_PÅ_TILBAKEKREVINGSGRUNNLAG'"}],required:!0}},{key:"VurderÅrsak",value:{name:"union",raw:`| 'FEIL_FAKTA'
| 'FEIL_LOV'
| 'SKJØNN'
| 'UTREDNING'
| 'SAKSFLYT'
| 'BEGRUNNELSE'
| '-'
| 'ANNET'
| 'FEIL_REGEL'`,elements:[{name:"literal",value:"'FEIL_FAKTA'"},{name:"literal",value:"'FEIL_LOV'"},{name:"literal",value:"'SKJØNN'"},{name:"literal",value:"'UTREDNING'"},{name:"literal",value:"'SAKSFLYT'"},{name:"literal",value:"'BEGRUNNELSE'"},{name:"literal",value:"'-'"},{name:"literal",value:"'ANNET'"},{name:"literal",value:"'FEIL_REGEL'"}],required:!0}},{key:"VergeType",value:{name:"union",raw:`| 'BARN'
| 'FBARN'
| 'VOKSEN'
| 'ADVOKAT'
| 'ANNEN_F'`,elements:[{name:"literal",value:"'BARN'"},{name:"literal",value:"'FBARN'"},{name:"literal",value:"'VOKSEN'"},{name:"literal",value:"'ADVOKAT'"},{name:"literal",value:"'ANNEN_F'"}],required:!0}},{key:"Aktsomhet",value:{name:"union",raw:"'FORSETT' | 'GROVT_UAKTSOM' | 'SIMPEL_UAKTSOM'",elements:[{name:"literal",value:"'FORSETT'"},{name:"literal",value:"'GROVT_UAKTSOM'"},{name:"literal",value:"'SIMPEL_UAKTSOM'"}],required:!0}},{key:"VedtakResultatType",value:{name:"union",raw:"'INGEN_TILBAKEBETALING' | 'DELVIS_TILBAKEBETALING'",elements:[{name:"literal",value:"'INGEN_TILBAKEBETALING'"},{name:"literal",value:"'DELVIS_TILBAKEBETALING'"}],required:!0}},{key:"HendelseType",value:{name:"union",raw:"'MEDLEMSKAP' | 'OKONOMI_FEIL' | 'BEREGNING_TYPE'",elements:[{name:"literal",value:"'MEDLEMSKAP'"},{name:"literal",value:"'OKONOMI_FEIL'"},{name:"literal",value:"'BEREGNING_TYPE'"}],required:!0}},{key:"SærligGrunn",value:{name:"union",raw:`| 'GRAD_AV_UAKTSOMHET'
| 'HELT_ELLER_DELVIS_NAVS_FEIL'
| 'STOERRELSE_BELOEP'
| 'TID_FRA_UTBETALING'
| 'ANNET'`,elements:[{name:"literal",value:"'GRAD_AV_UAKTSOMHET'"},{name:"literal",value:"'HELT_ELLER_DELVIS_NAVS_FEIL'"},{name:"literal",value:"'STOERRELSE_BELOEP'"},{name:"literal",value:"'TID_FRA_UTBETALING'"},{name:"literal",value:"'ANNET'"}],required:!0}},{key:"VilkårResultat",value:{name:"union",raw:"'FORSTO_BURDE_FORSTAATT' | 'FEIL_OPPLYSNINGER' | 'MANGELFULL_OPPLYSNING' | 'GOD_TRO'",elements:[{name:"literal",value:"'FORSTO_BURDE_FORSTAATT'"},{name:"literal",value:"'FEIL_OPPLYSNINGER'"},{name:"literal",value:"'MANGELFULL_OPPLYSNING'"},{name:"literal",value:"'GOD_TRO'"}],required:!0}},{key:"HendelseUnderType",value:{name:"union",raw:"'IKKE_INNTEKT' | 'IKKE_YRKESAKTIV' | 'OKONOMI_FEIL_TREKK' | 'IKKE_BOSATT'",elements:[{name:"literal",value:"'IKKE_INNTEKT'"},{name:"literal",value:"'IKKE_YRKESAKTIV'"},{name:"literal",value:"'OKONOMI_FEIL_TREKK'"},{name:"literal",value:"'IKKE_BOSATT'"}],required:!0}},{key:"VidereBehandling",value:{name:"union",raw:`| '-'
| 'TILBAKEKR_OPPRETT'
| 'TILBAKEKR_IGNORER'
| 'TILBAKEKR_INNTREKK'
| 'TILBAKEKR_OPPDATER'`,elements:[{name:"literal",value:"'-'"},{name:"literal",value:"'TILBAKEKR_OPPRETT'"},{name:"literal",value:"'TILBAKEKR_IGNORER'"},{name:"literal",value:"'TILBAKEKR_INNTREKK'"},{name:"literal",value:"'TILBAKEKR_OPPDATER'"}],required:!0}},{key:"ForeldelseVurderingType",value:{name:"union",raw:"'IKKE_VURDERT' | 'FORELDET' | 'IKKE_FORELDET' | 'TILLEGGSFRIST' | 'UDEFINERT'",elements:[{name:"literal",value:"'IKKE_VURDERT'"},{name:"literal",value:"'FORELDET'"},{name:"literal",value:"'IKKE_FORELDET'"},{name:"literal",value:"'TILLEGGSFRIST'"},{name:"literal",value:"'UDEFINERT'"}],required:!0}}]},required:!0},value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}`,signature:{properties:[{key:"kode",value:{name:"unknown",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"kodeverk",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}>`}],raw:`KodeverkMedNavnTilbakekreving<
  K extends TilbakekrevingKodeverkType ? K : unknown
>[]`}}]}},description:""}}};const ri=({valgtProsessSteg:e,valgtFaktaSteg:a})=>{const{behandling:r}=Ge(),n=Ol(),{data:t}=te(n.fptilbake.kodeverkOptions()),i=ll();return t?P.jsxs(P.Fragment,{children:[P.jsx(Ml,{behandling:r,opneSokeside:()=>void i("/"),kodeverk:t,erTilbakekreving:!0},r.versjon),P.jsxs(wl,{valgtProsessSteg:e,valgtFaktaSteg:a,children:[P.jsx(bl,{tilbakekrevingKodeverk:t}),P.jsx(Il,{tilbakekrevingKodeverk:t}),P.jsx(Ll,{tilbakekrevingKodeverk:t})]}),P.jsxs(Dl,{valgtFaktaSteg:a,valgtProsessSteg:e,children:[P.jsx(cl,{tilbakekrevingKodeverk:t}),P.jsx(Ul,{})]})]}):P.jsx(Ve,{})};ri.__docgenInfo={description:"",methods:[],displayName:"TilbakekrevingPaneler",props:{valgtProsessSteg:{required:!1,tsType:{name:"string"},description:""},valgtFaktaSteg:{required:!1,tsType:{name:"string"},description:""}}};export{ri as default};
