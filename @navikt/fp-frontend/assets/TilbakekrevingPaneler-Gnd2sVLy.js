import{P as Qe,b as el,o as U,x as D,z as Pe,G as he,A as me,p as Re,bx as Or,r as B,j as N,bf as Lr,af as ll,bt as Dr,E as f,bg as er,a5 as Q,aO as ce,a2 as We,aW as _r,bH as Fe,aT as lr,a4 as rr,V as ar,bj as Rl,X as Kr,aX as nr,aY as Vr,bw as tr,l as Al,U as Gr,q as ir}from"./iframe-Bi6mcpW9.js";import{W as cl,r as bl,f as ie,n as hl,G as Mr,Q as Me,B as sr,A as rl,i as yl,H as be}from"./index.es-BEu-da46.js";import{u as oe,a as Ur}from"./fagsakApi-DR2mcDTG.js";import{B as Ue}from"./FagsakIndex-CJf6sfPH.js";import{u as Hr,F as $r,a as wr,V as Cr}from"./VergeFaktaInitPanel-3fe_SBqP.js";import{B as zr}from"./BehandlingPaVent-DiLO0v9A.js";import{u as Sl,P as fl,a as Yr}from"./useStandardProsessPanelProps-UW9m-GJc.js";import{u as je,C as Ae,e as or,O as ue,a as re,b as qr,w as Ze,A as Fl,f as dr,i as al,l as nl,S as de,R as C,T as Xe,c as Pl,k as kl,M as Jr}from"./index.es-CrVP4_UL.js";import{V as F,H as O,L as w,D as W,B as x,b as L,a as ke,c as mr,M as X,g as Wr,E as Zr}from"./VStack-BAxRV9hT.js";import{M as d}from"./message-kKNzudLU.js";import{T as h}from"./Table-Da4C8slu.js";import{u as tl,c as ur,e as Xr}from"./behandlingApi-D-BAjjYw.js";import{S as Ve}from"./Spacer-DnjxUW8P.js";import{T as fe,a as kr,S as Tr,b as pr}from"./Timeline-BZJf3Zyl.js";import{c as vr,e as Er}from"./index.es-C8TQlJ-i.js";import{S as gr}from"./FigureCombination-DbdJ9mag.js";import{a as Rr}from"./FagsakProfileIndex-CxFcb0zt.js";import{S as cr}from"./TotrinnskontrollIndex-o8CZrDT2.js";import{V as se}from"./vilkarUtfallType-vN0hVpa7.js";import{S as Qr}from"./ExclamationmarkTriangleFill-DNO7kqE6.js";import{e as ea}from"./aksjonspunktUtils-Bp6ewLMR.js";import{L as la}from"./Link-CTJl8yAH.js";import{E as we}from"./RisikoklassifiseringIndex-DyfR8gdN.js";import{S as ra}from"./PlusCircle-D8fnf_Na.js";import{j as dl}from"./BehandlingMenuIndex-DksaajpZ.js";import{F as aa}from"./FatterVedtakStatusModal-BUXurJ8k.js";import{Å as na}from"./ÅpenRevurderingModal-Q6FtNslI.js";import"./preload-helper-PPVm8Dsz.js";import"./CheckmarkCircleFill-CnGG0ji5.js";import"./index-PgzdEw57.js";import"./VisittkortSakIndex-B0iEVZtq.js";import"./index-CDzQigev.js";import"./ErrorBoundary-DbOKS5SG.js";import"./eksterneLenker-CZTrovcW.js";import"./IngenBehandlingValgtPanel-gxb1i1dP.js";import"./errorType-CR8mmZf7.js";import"./useTrackRouteParam-B14Bde_o.js";import"./paths-ByC-F2CS.js";import"./useBehandlingPollingOperasjoner-Bd9dS__V.js";import"./apiPollingStatus-nT-xUZgL.js";import"./BehandlingSupportIndex-Bxyb7lh_.js";import"./DokumentIndex-0huLYEfp.js";import"./Checkbox-CJtvu_AA.js";import"./StarFill-Cmve2yPv.js";import"./SupportHeader-CnxukEyV.js";import"./HistorikkIndex-DVj5ZX2z.js";import"./PersonHeadset-DmNh6Z5g.js";import"./MeldingIndex-Bm1k4b4I.js";import"./venteArsakType-BJdSFL9e.js";import"./UkjentAdresseMeldingIndex-rKbfF2PH.js";import"./useKodeverk-Blikp1Dk.js";import"./SettPaVentReadOnlyModal-Djwg_iDw.js";import"./UtvidEllerMinskKnapp-DIHDXydA.js";import"./Popover-BzelVTnb.js";import"./DocPencil-B32rPXYr.js";import"./FagsakData-EcIUMWsc.js";import"./SettPaVentModalIndex-Dfcfm_Hv.js";import"./BehandlingHenlagtPanel-CQcIOdAK.js";import"./bind-PbKtvKuQ.js";import"./index-vot4iPvv.js";import"./Checkmark-DqgGwDF5.js";import"./Kjonnkode-DjBoP8-t.js";import"./Dropdown-D1oTrKyj.js";var il=(e=>(e.AVKLAR_FAKTA_FOR_FEILUTBETALING="7003",e))(il||{}),Nl={exports:{}},Oe={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Il;function ta(){if(Il)return Oe;Il=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(n,t,i){var s=null;if(i!==void 0&&(s=""+i),t.key!==void 0&&(s=""+t.key),"key"in t){i={};for(var u in t)u!=="key"&&(i[u]=t[u])}else i=t;return t=i.ref,{$$typeof:e,type:n,key:s,ref:t!==void 0?t:null,props:i}}return Oe.Fragment=a,Oe.jsx=l,Oe.jsxs=l,Oe}var xl;function ia(){return xl||(xl=1,Nl.exports=ta()),Nl.exports}var p=ia();const ge="perioder",sa=(e,a)=>{const l=e.find(n=>n.hendelseType===a);return l?.hendelseUndertyper&&l.hendelseUndertyper.length>0?l.hendelseUndertyper:void 0},oa=({perioder:e,årsaker:a,readOnly:l,behandlePerioderSamlet:n,kodeverkSamlingFpTilbake:t})=>{const{control:i,watch:s,setValue:u,getValues:v}=re(),{fields:g}=qr({control:i,name:ge}),k=(o,E,R)=>{n&&g.forEach((S,c)=>{E!==c&&(R?v(`${ge}.${c}.årsak`)===R&&u(`${ge}.${c}.${R}.underÅrsak`,o):u(`${ge}.${c}.årsak`,o))})};return p.jsxs(h,{children:[p.jsx(h.Header,{children:p.jsxs(h.Row,{children:[p.jsx(h.HeaderCell,{scope:"col",children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Period"})}),p.jsx(h.HeaderCell,{scope:"col",children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Hendelse"})}),p.jsx(h.HeaderCell,{scope:"col",children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Beløp"})})]})}),p.jsx(h.Body,{children:g.map((o,E)=>{const R=s(`${ge}.${E}.årsak`),S=sa(a,R);return p.jsxs(h.Row,{children:[p.jsx(h.DataCell,{children:p.jsx(bl,{dateStringFom:o.fom,dateStringTom:o.tom})}),p.jsxs(h.DataCell,{children:[p.jsx(Ze,{name:`${ge}.${E}.årsak`,control:i,selectValues:a.map(c=>p.jsx("option",{value:c.hendelseType,children:t.HendelseType.find(b=>b.kode===c.hendelseType)?.navn},c.hendelseType)),validate:[D],disabled:l,onChange:c=>k(c.target.value,E),label:""}),S&&p.jsx(Ze,{name:`${ge}.${E}.${R}.underÅrsak`,control:i,selectValues:S.map(c=>p.jsx("option",{value:c,children:t.HendelseUnderType.find(b=>b.kode===c)?.navn},c)),validate:[D],disabled:l,onChange:c=>k(c.target.value,E,R),label:""})]}),p.jsx(h.DataCell,{align:"right",children:e?p.jsx(ie,{rød:!0,beløp:e[E].belop}):null})]},o.id)})})]})},da="_textarea_1pt2d_1",ma={textarea:da},ua=Pe(3),br=4e3,ka=he(br),hr=e=>e.behandlingFakta.perioder?[...e.behandlingFakta.perioder].sort(Or):[],Ta=e=>{const{behandlingFakta:{begrunnelse:a}}=e;return{begrunnelse:Re(a),perioder:hr(e).map(l=>{const{fom:n,tom:t,feilutbetalingÅrsakDto:i}=l,s={fom:n,tom:t};if(!i)return s;const{hendelseType:u,hendelseUndertype:v}=i;return{...s,årsak:u,[u]:{underÅrsak:v||null}}})}},pa=(e,a)=>{const l=e.perioder.map(n=>{const t=a.find(s=>s.hendelseType===n.årsak),i=t?.hendelseUndertyper?t.hendelseUndertyper.find(s=>s===n[n.årsak]?.underÅrsak):void 0;return{fom:n.fom,tom:n.tom,årsak:{hendelseType:t?.hendelseType,hendelseUndertype:i}}});return{kode:il.AVKLAR_FAKTA_FOR_FEILUTBETALING,begrunnelse:e.begrunnelse,feilutbetalingFakta:l}},va=(e,a)=>{const{hendelseTyper:l}=e;return l.sort((n,t)=>{const i=a.HendelseType.find(o=>o.kode===n.hendelseType)?.navn||"",s=a.HendelseType.find(o=>o.kode===t.hendelseType)?.navn||"",u=i.startsWith("§"),v=s.startsWith("§"),g=u?i.replace(/\D/g,""):i,k=v?s.replace(/\D/g,""):s;return u&&v?g-k:g.localeCompare(k)})},Ea=({hasOpenAksjonspunkter:e,feilutbetalingAarsak:a,feilutbetalingFakta:l,readOnly:n,alleMerknaderFraBeslutter:t,kodeverkSamlingFpTilbake:i,kodeverkSamlingFpsak:s,formData:u,setFormData:v,submitCallback:g})=>{const k=U(),o=l.behandlingFakta,E=Ta(l),R=je({defaultValues:u||E}),S=R.watch("behandlePerioderSamlet")||!1,c=va(a,i);return p.jsxs(F,{gap:"space-16",children:[e&&p.jsx(cl,{children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Aksjonspunkt"})}),p.jsx(Ae,{formMethods:R,onSubmit:b=>g(pa(b,c)),setDataOnUnmount:v,children:p.jsxs(F,{gap:"space-16",children:[p.jsxs(O,{gap:"space-40",wrap:!0,children:[p.jsxs(F,{gap:"space-16",children:[p.jsx(w,{size:"small",children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Feilutbetaling"})}),p.jsxs(O,{justify:"space-between",children:[p.jsxs(F,{gap:"space-4",children:[p.jsx(W,{children:p.jsx(d,{id:"FeilutbetalingInfoPanel.PeriodeMedFeilutbetaling"})}),p.jsx(x,{size:"small",children:p.jsx(bl,{dateStringFom:o.totalPeriodeFom,dateStringTom:o.totalPeriodeTom})})]}),p.jsxs(F,{gap:"space-4",children:[p.jsx(W,{children:p.jsx(d,{id:"FeilutbetalingInfoPanel.FeilutbetaltBeløp"})}),p.jsx(x,{size:"small",children:p.jsx(ie,{rød:!0,beløp:o.aktuellFeilUtbetaltBeløp})})]}),p.jsxs(F,{gap:"space-4",children:[p.jsx(W,{children:p.jsx(d,{id:"FeilutbetalingInfoPanel.TidligereVarseltBeløp"})}),p.jsx(x,{size:"small",children:o.tidligereVarseltBeløp?p.jsx(ie,{beløp:o.tidligereVarseltBeløp}):p.jsx(d,{id:"FeilutbetalingInfoPanel.IkkeVarslet"})})]})]}),p.jsx(or,{name:"behandlePerioderSamlet",control:R.control,label:k.formatMessage({id:"FeilutbetalingInfoPanel.BehandlePerioderSamlet"}),readOnly:n}),p.jsx(hl,{merknaderFraBeslutter:t[il.AVKLAR_FAKTA_FOR_FEILUTBETALING],withoutBorder:!0,children:p.jsx(oa,{perioder:hr(l),behandlePerioderSamlet:S,årsaker:c,readOnly:n,kodeverkSamlingFpTilbake:i})})]}),p.jsxs(F,{gap:"space-16",children:[p.jsx(w,{size:"small",children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Revurdering"})}),p.jsxs(O,{gap:"space-16",children:[p.jsxs(F,{gap:"space-4",children:[p.jsx(W,{children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Årsaker"})}),o.behandlingÅrsaker&&p.jsx(x,{size:"small",children:o.behandlingÅrsaker.map(b=>s.BehandlingÅrsakType.find(A=>A.kode===b.behandlingArsakType)?.navn).join(", ")})]}),o.datoForRevurderingsvedtak&&p.jsxs(F,{gap:"space-4",children:[p.jsx(W,{children:p.jsx(d,{id:"FeilutbetalingInfoPanel.DatoForRevurdering"})}),p.jsx(x,{size:"small",children:p.jsx(Mr,{dateString:o.datoForRevurderingsvedtak})})]})]}),p.jsxs(F,{gap:"space-4",children:[p.jsx(W,{children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Resultat"})}),o.behandlingsresultat&&p.jsx(x,{size:"small",children:s.BehandlingResultatType.find(b=>b.kode===o.behandlingsresultat?.type)?.navn})]}),p.jsxs(F,{gap:"space-4",children:[p.jsx(W,{children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Konsekvens"})}),o.behandlingsresultat&&p.jsx(x,{size:"small",children:o.behandlingsresultat.konsekvenserForYtelsen.map(b=>s.KonsekvensForYtelsen.find(A=>A.kode===b)?.navn).join(", ")})]}),p.jsxs(F,{gap:"space-4",children:[p.jsx(W,{children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Tilbakekrevingsvalg"})}),o.tilbakekrevingValg&&p.jsx(x,{size:"small",children:i.VidereBehandling.find(b=>b.kode===o.tilbakekrevingValg?.videreBehandling)?.navn})]})]})]}),p.jsx("div",{className:ma.textarea,children:p.jsx(ue,{name:"begrunnelse",control:R.control,label:k.formatMessage({id:"FeilutbetalingInfoPanel.Begrunnelse"}),validate:[D,ua,ka,me],maxLength:br,readOnly:n})}),p.jsx("div",{children:p.jsx(L,{variant:"primary",size:"small",disabled:n||!R.formState.isDirty||R.formState.isSubmitting,loading:R.formState.isSubmitting,children:p.jsx(d,{id:"FeilutbetalingInfoPanel.Confirm"})})})]})})]})},ga={"FeilutbetalingInfoPanel.Revurdering":"Revurdering","FeilutbetalingInfoPanel.Feilutbetaling":"Feilutbetaling","FeilutbetalingInfoPanel.Årsaker":"Årsak(er) til revurdering","FeilutbetalingInfoPanel.DatoForRevurdering":"Dato for revurderingsvedtak","FeilutbetalingInfoPanel.Konsekvens":"Konsekvens","FeilutbetalingInfoPanel.Tilbakekrevingsvalg":"Tilbakekrevingsvalg","FeilutbetalingInfoPanel.PeriodeMedFeilutbetaling":"Periode med feilutbetaling","FeilutbetalingInfoPanel.FeilutbetaltBeløp":"Feilutbetalt beløp totalt","FeilutbetalingInfoPanel.TidligereVarseltBeløp":"Tidligere varslet beløp","FeilutbetalingInfoPanel.Period":"Period","FeilutbetalingInfoPanel.Hendelse":"Hendelse","FeilutbetalingInfoPanel.Beløp":"Feilutbetalt beløp","FeilutbetalingInfoPanel.Resultat":"Resultat","FeilutbetalingInfoPanel.Begrunnelse":"Forklar årsaken(e) til feilutbetalingen","FeilutbetalingInfoPanel.Aksjonspunkt":"Kontroller at korrekt hendelse er satt","FeilutbetalingInfoPanel.Confirm":"Bekreft og fortsett","FeilutbetalingInfoPanel.IkkeVarslet":"Ikke varslet","FeilutbetalingInfoPanel.BehandlePerioderSamlet":"Behandle alle perioder samlet"},Ra=el(ga),ca=({feilutbetalingFakta:e,feilutbetalingAarsak:a,fagsakYtelseTypeKode:l,isAksjonspunktOpen:n,isReadOnly:t,kodeverkSamlingFpsak:i,kodeverkSamlingFpTilbake:s,alleMerknaderFraBeslutter:u,submitCallback:v,formData:g,setFormData:k})=>{const o=a.find(E=>E.ytelseType===l);if(!o)throw Error(`Mangler feilutbetalingsårsak for ytelsetype ${l}`);return p.jsx(Qe,{value:Ra,children:p.jsx(Ea,{feilutbetalingFakta:e,feilutbetalingAarsak:o,alleMerknaderFraBeslutter:u,kodeverkSamlingFpTilbake:s,kodeverkSamlingFpsak:i,submitCallback:v,readOnly:t,hasOpenAksjonspunkter:n,formData:g,setFormData:k})})},ba=[il.AVKLAR_FAKTA_FOR_FEILUTBETALING],Sr=({tilbakekrevingKodeverk:e})=>{const a=U(),l=Hr(ba),{behandling:n,fagsak:t}=B.use(Ue),i=tl(n),{data:s}=oe(i.tilbakekreving.feilutbetalingFaktaOptions(n)),{data:u}=oe(i.tilbakekreving.feilutbetalingÅrsakOptions(n));return N.jsx($r,{standardPanelProps:l,faktaPanelKode:Lr.FEILUTBETALING,faktaPanelMenyTekst:a.formatMessage({id:"TilbakekrevingFakta.FaktaFeilutbetaling"}),skalPanelVisesIMeny:ur(n,"FEILUTBETALING_FAKTA"),children:s&&u?N.jsx(ha,{feilutbetalingFakta:s,feilutbetalingAarsak:u,fagsakYtelseTypeKode:t.fagsakYtelseType,kodeverkSamlingFpTilbake:e,kodeverkSamlingFpsak:l.alleKodeverk,isAksjonspunktOpen:l.harÅpentAksjonspunkt,...l,submitCallback:l.submitCallback}):N.jsx(Me,{})})},ha=e=>{const{mellomlagretFormData:a,setMellomlagretFormData:l}=ll();return N.jsx(ca,{...e,formData:a,setFormData:l})};Sr.__docgenInfo={description:"",methods:[],displayName:"FeilutbetalingFaktaInitPanel",props:{tilbakekrevingKodeverk:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  [K in TilbakekrevingKodeverkType]: KodeverkMedNavnTilbakekreving<
    K extends TilbakekrevingKodeverkType ? K : unknown
  >[];
}`,signature:{properties:[{key:{name:"signature",type:"object",raw:`{
  BehandlingType: BehandlingType;
  BehandlingÅrsakType: BehandlingArsakType;
  BehandlingResultatType: BehandlingResultatTypeTilbakekreving;
  HistorikkAktør: HistorikkAktor;
  SkjermlenkeType: SkjermlenkeTypeTilbakekreving;
  Venteårsak: VenteArsakType;
  VurderÅrsak: VurderÅrsak;
  VergeType: VergeType;
  Aktsomhet: Aktsomhet;
  VedtakResultatType: VedtakResultatType;
  HendelseType: HendelseType;
  SærligGrunn: SærligGrunn;
  ForeldelseVurderingType: ForeldelseVurderingType;
  VilkårResultat: VilkårResultat;
  HendelseUnderType: HendelseUnderType;
  VidereBehandling: TilbakekrevingVidereBehandling;
}`,signature:{properties:[{key:"BehandlingType",value:{name:"union",raw:`| 'BT-002'
| 'BT-003'
| 'BT-004'
| 'BT-008'
| 'BT-006'
| 'BT-007'
| 'BT-009'
| '-'`,elements:[{name:"literal",value:"'BT-002'"},{name:"literal",value:"'BT-003'"},{name:"literal",value:"'BT-004'"},{name:"literal",value:"'BT-008'"},{name:"literal",value:"'BT-006'"},{name:"literal",value:"'BT-007'"},{name:"literal",value:"'BT-009'"},{name:"literal",value:"'-'"}],required:!0}},{key:"BehandlingÅrsakType",value:{name:"union",raw:`| 'RE-LOV'
| 'RE-RGLF'
| 'RE-FEFAKTA'
| 'RE-PRSSL'
| 'RE-ANNET'
| 'RE-MDL'
| 'RE-OPTJ'
| 'RE-FRDLING'
| 'RE-INNTK'
| 'RE-FØDSEL'
| 'RE-DØD'
| 'RE-SRTB'
| 'RE-FRIST'
| 'RE-BER-GRUN'
| 'RE-KLAG-U-INNTK'
| 'RE-KLAG-M-INNTK'
| 'ETTER_KLAGE'
| 'RE-MF'
| 'RE-MFIP'
| 'RE-AVAB'
| 'RE-END-FRA-BRUKER'
| 'RE-END-INNTEKTSMELD'
| 'BERØRT-BEHANDLING'
| 'REBEREGN-FERIEPENGER'
| 'RE-UTSATT-START'
| 'RE-SATS-REGULERING'
| 'ENDRE-DEKNINGSGRAD'
| 'INFOBREV_BEHANDLING'
| 'INFOBREV_OPPHOLD'
| 'INFOBREV_PÅMINNELSE'
| 'OPPHØR-NYTT-BARN'
| 'RE-HENDELSE-FØDSEL'
| 'RE-HENDELSE-DØD-F'
| 'RE-HENDELSE-DØD-B'
| 'RE-HENDELSE-DØDFØD'
| 'RE-HENDELSE-UTFLYTTING'
| 'RE-VEDTAK-PSB'
| 'FEIL_PRAKSIS_UTSETTELSE'
| 'FEIL_PRAKSIS_IVERKS_UTSET'
| 'FEIL_PRAKSIS_BG_AAP_KOMBI'
| 'KLAGE_TILBAKE'
| 'RE-YTELSE'
| 'RE-REGISTEROPPL'
| 'KØET-BEHANDLING'
| 'RE-TILST-YT-INNVIL'
| 'RE-TILST-YT-OPPH'
| '-'`,elements:[{name:"literal",value:"'RE-LOV'"},{name:"literal",value:"'RE-RGLF'"},{name:"literal",value:"'RE-FEFAKTA'"},{name:"literal",value:"'RE-PRSSL'"},{name:"literal",value:"'RE-ANNET'"},{name:"literal",value:"'RE-MDL'"},{name:"literal",value:"'RE-OPTJ'"},{name:"literal",value:"'RE-FRDLING'"},{name:"literal",value:"'RE-INNTK'"},{name:"literal",value:"'RE-FØDSEL'"},{name:"literal",value:"'RE-DØD'"},{name:"literal",value:"'RE-SRTB'"},{name:"literal",value:"'RE-FRIST'"},{name:"literal",value:"'RE-BER-GRUN'"},{name:"literal",value:"'RE-KLAG-U-INNTK'"},{name:"literal",value:"'RE-KLAG-M-INNTK'"},{name:"literal",value:"'ETTER_KLAGE'"},{name:"literal",value:"'RE-MF'"},{name:"literal",value:"'RE-MFIP'"},{name:"literal",value:"'RE-AVAB'"},{name:"literal",value:"'RE-END-FRA-BRUKER'"},{name:"literal",value:"'RE-END-INNTEKTSMELD'"},{name:"literal",value:"'BERØRT-BEHANDLING'"},{name:"literal",value:"'REBEREGN-FERIEPENGER'"},{name:"literal",value:"'RE-UTSATT-START'"},{name:"literal",value:"'RE-SATS-REGULERING'"},{name:"literal",value:"'ENDRE-DEKNINGSGRAD'"},{name:"literal",value:"'INFOBREV_BEHANDLING'"},{name:"literal",value:"'INFOBREV_OPPHOLD'"},{name:"literal",value:"'INFOBREV_PÅMINNELSE'"},{name:"literal",value:"'OPPHØR-NYTT-BARN'"},{name:"literal",value:"'RE-HENDELSE-FØDSEL'"},{name:"literal",value:"'RE-HENDELSE-DØD-F'"},{name:"literal",value:"'RE-HENDELSE-DØD-B'"},{name:"literal",value:"'RE-HENDELSE-DØDFØD'"},{name:"literal",value:"'RE-HENDELSE-UTFLYTTING'"},{name:"literal",value:"'RE-VEDTAK-PSB'"},{name:"literal",value:"'FEIL_PRAKSIS_UTSETTELSE'"},{name:"literal",value:"'FEIL_PRAKSIS_IVERKS_UTSET'"},{name:"literal",value:"'FEIL_PRAKSIS_BG_AAP_KOMBI'"},{name:"literal",value:"'KLAGE_TILBAKE'"},{name:"literal",value:"'RE-YTELSE'"},{name:"literal",value:"'RE-REGISTEROPPL'"},{name:"literal",value:"'KØET-BEHANDLING'"},{name:"literal",value:"'RE-TILST-YT-INNVIL'"},{name:"literal",value:"'RE-TILST-YT-OPPH'"},{name:"literal",value:"'-'"}],required:!0}},{key:"BehandlingResultatType",value:{name:"BehandlingResultatTypeTilbakekreving",required:!0}},{key:"HistorikkAktør",value:{name:"union",raw:`| 'BESL'
| 'SBH'
| 'SOKER'
| 'ARBEIDSGIVER'
| 'VL'
| '-'`,elements:[{name:"literal",value:"'BESL'"},{name:"literal",value:"'SBH'"},{name:"literal",value:"'SOKER'"},{name:"literal",value:"'ARBEIDSGIVER'"},{name:"literal",value:"'VL'"},{name:"literal",value:"'-'"}],required:!0}},{key:"SkjermlenkeType",value:{name:"SkjermlenkeTypeTilbakekreving",required:!0}},{key:"Venteårsak",value:{name:"VenteArsakType",required:!0}},{key:"VurderÅrsak",value:{name:"VurderÅrsak",required:!0}},{key:"VergeType",value:{name:"union",raw:`| 'BARN'
| 'FBARN'
| 'VOKSEN'
| 'ADVOKAT'
| 'ANNEN_F'`,elements:[{name:"literal",value:"'BARN'"},{name:"literal",value:"'FBARN'"},{name:"literal",value:"'VOKSEN'"},{name:"literal",value:"'ADVOKAT'"},{name:"literal",value:"'ANNEN_F'"}],required:!0}},{key:"Aktsomhet",value:{name:"union",raw:"'FORSETT' | 'GROVT_UAKTSOM' | 'SIMPEL_UAKTSOM'",elements:[{name:"literal",value:"'FORSETT'"},{name:"literal",value:"'GROVT_UAKTSOM'"},{name:"literal",value:"'SIMPEL_UAKTSOM'"}],required:!0}},{key:"VedtakResultatType",value:{name:"VedtakResultatType",required:!0}},{key:"HendelseType",value:{name:"union",raw:"'MEDLEMSKAP' | 'OKONOMI_FEIL' | 'BEREGNING_TYPE'",elements:[{name:"literal",value:"'MEDLEMSKAP'"},{name:"literal",value:"'OKONOMI_FEIL'"},{name:"literal",value:"'BEREGNING_TYPE'"}],required:!0}},{key:"SærligGrunn",value:{name:"union",raw:`| 'GRAD_AV_UAKTSOMHET'
| 'HELT_ELLER_DELVIS_NAVS_FEIL'
| 'STOERRELSE_BELOEP'
| 'TID_FRA_UTBETALING'
| 'ANNET'`,elements:[{name:"literal",value:"'GRAD_AV_UAKTSOMHET'"},{name:"literal",value:"'HELT_ELLER_DELVIS_NAVS_FEIL'"},{name:"literal",value:"'STOERRELSE_BELOEP'"},{name:"literal",value:"'TID_FRA_UTBETALING'"},{name:"literal",value:"'ANNET'"}],required:!0}},{key:"ForeldelseVurderingType",value:{name:"ForeldelseVurderingType",required:!0}},{key:"VilkårResultat",value:{name:"union",raw:"'FORSTO_BURDE_FORSTAATT' | 'FEIL_OPPLYSNINGER' | 'MANGELFULL_OPPLYSNING' | 'GOD_TRO'",elements:[{name:"literal",value:"'FORSTO_BURDE_FORSTAATT'"},{name:"literal",value:"'FEIL_OPPLYSNINGER'"},{name:"literal",value:"'MANGELFULL_OPPLYSNING'"},{name:"literal",value:"'GOD_TRO'"}],required:!0}},{key:"HendelseUnderType",value:{name:"union",raw:"'IKKE_INNTEKT' | 'IKKE_YRKESAKTIV' | 'OKONOMI_FEIL_TREKK' | 'IKKE_BOSATT'",elements:[{name:"literal",value:"'IKKE_INNTEKT'"},{name:"literal",value:"'IKKE_YRKESAKTIV'"},{name:"literal",value:"'OKONOMI_FEIL_TREKK'"},{name:"literal",value:"'IKKE_BOSATT'"}],required:!0}},{key:"VidereBehandling",value:{name:"TilbakekrevingVidereBehandling",required:!0}}]},required:!0},value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}`,signature:{properties:[{key:"kode",value:{name:"unknown",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"kodeverk",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}>`}],raw:`KodeverkMedNavnTilbakekreving<
  K extends TilbakekrevingKodeverkType ? K : unknown
>[]`}}]}},description:""}}};var sl=(e=>(e.VURDER_FORELDELSE="5003",e))(sl||{}),Bl={exports:{}},Le={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ol;function Sa(){if(Ol)return Le;Ol=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(n,t,i){var s=null;if(i!==void 0&&(s=""+i),t.key!==void 0&&(s=""+t.key),"key"in t){i={};for(var u in t)u!=="key"&&(i[u]=t[u])}else i=t;return t=i.ref,{$$typeof:e,type:n,key:s,ref:t!==void 0?t:null,props:i}}return Le.Fragment=a,Le.jsx=l,Le.jsxs=l,Le}var Ll;function fa(){return Ll||(Ll=1,Bl.exports=Sa()),Bl.exports}var m=fa(),le=(e=>(e.IKKE_VURDERT="IKKE_VURDERT",e.FORELDET="FORELDET",e.IKKE_FORELDET="IKKE_FORELDET",e.TILLEGGSFRIST="TILLEGGSFRIST",e.UDEFINERT="-",e))(le||{});const Fa=Pe(3),Pa=he(1500),ja=e=>e!==le.UDEFINERT?e:void 0,Aa=e=>e.foreldet?e.foreldet:ja(e.foreldelseVurderingType),ya=e=>({...e,foreldet:Aa(e)}),Na=({skjulPeriode:e,readOnly:a,periode:l,oppdaterPeriode:n,kodeverkSamlingFpTilbake:t})=>{const i=U(),s=je({defaultValues:ya(l)}),u=s.watch("foreldet"),v=u&&u===le.FORELDET,g=u&&u===le.TILLEGGSFRIST,k=t.ForeldelseVurderingType.filter(o=>o.kode!==le.IKKE_VURDERT&&o.kode!==le.UDEFINERT);return m.jsx(Ae,{formMethods:s,onSubmit:o=>n(o),children:m.jsxs(F,{gap:"space-16",children:[m.jsx(ue,{name:"begrunnelse",control:s.control,label:i.formatMessage({id:"ForeldelsePeriodeForm.Vurdering"}),validate:[D,Fa,Pa,me],maxLength:1500,readOnly:a}),m.jsxs(O,{gap:"space-40",children:[m.jsx(de,{name:"foreldet",control:s.control,label:m.jsx(d,{id:"ForeldelsePeriodeForm.RadioGroup.Foreldet"}),validate:[D],isReadOnly:a,children:k.map(o=>m.jsx(C,{value:o.kode,size:"small",children:o.navn},o.kode))}),m.jsxs(F,{gap:"space-20",children:[(v||g)&&m.jsx(Xe,{name:"foreldelsesfrist",control:s.control,label:i.formatMessage({id:"ForeldelsePeriodeForm.Foreldelsesfrist"}),validate:[D,We],isReadOnly:a}),g&&m.jsx(Xe,{name:"oppdagelsesDato",control:s.control,label:i.formatMessage({id:"ForeldelsePeriodeForm.OppdagelsesDato"}),validate:[D,We,_r],isReadOnly:a,fromDate:f("1970-01-01").toDate(),toDate:f().toDate()})]})]}),m.jsxs(O,{gap:"space-16",children:[m.jsx(L,{size:"small",variant:"primary",disabled:!s.formState.isDirty||s.formState.isSubmitting||a,loading:s.formState.isSubmitting,children:m.jsx(d,{id:"ForeldelsePeriodeForm.Oppdater"})}),m.jsx(L,{size:"small",variant:"secondary",onClick:e,type:"button",children:m.jsx(d,{id:"ForeldelsePeriodeForm.Avbryt"})})]})]})})},Ia="_button_8q57x_1",xa="_cancelButton_8q57x_5",Dl={button:Ia,cancelButton:xa},Ba=(e,a)=>l=>l&&(lr(l)(f(e.tom.toString()).subtract(1,"day"))||rr(l)(e.fom))?a.formatMessage({id:"DelOppPeriodeModalImpl.DatoUtenforPeriode"}):null,Oa=(e,a)=>{const l=f(e.forstePeriodeTomDato).add(1,"days"),n={fom:a.fom,tom:e.forstePeriodeTomDato},t={fom:l.format(ar),tom:a.tom};return{forstePeriode:n,andrePeriode:t}},La=({periodeData:e,showModal:a,cancelEvent:l,finnesBelopMed0Verdi:n,splitPeriod:t})=>{const i=U(),s=je();return m.jsx(Ae,{formMethods:s,onSubmit:u=>t(Oa(u,e)),children:m.jsxs(X,{width:"medium",open:a,"aria-label":i.formatMessage({id:"DelOppPeriodeModalImpl.ModalDescription"}),onClose:l,children:[m.jsx(X.Header,{children:m.jsx(ke,{size:"small",level:"2",children:m.jsx(d,{id:"DelOppPeriodeModalImpl.DelOppPerioden"})})}),m.jsx(X.Body,{children:m.jsxs(F,{gap:"space-16",children:[m.jsxs("div",{children:[m.jsx(w,{size:"small",children:m.jsx(d,{id:"DelOppPeriodeModalImpl.Periode"})}),m.jsx(x,{size:"small",children:`${f(e.fom.toString()).format(Q)} - ${f(e.tom.toString()).format(Q)}`})]}),m.jsx(Xe,{name:"forstePeriodeTomDato",control:s.control,label:m.jsx(d,{id:"DelOppPeriodeModalImpl.AngiTomDato"}),validate:[D,We,Ba(e,i)],fromDate:f(e.fom).toDate(),toDate:f(e.tom).toDate()}),n&&m.jsx(rl,{variant:"error",children:m.jsx(d,{id:"DelOppPeriodeModalImpl.BelopEr0"})})]})}),m.jsxs(X.Footer,{children:[m.jsx(L,{size:"small",variant:"primary",className:Dl.button,disabled:!s.formState.isDirty,children:m.jsx(d,{id:"DelOppPeriodeModalImpl.Ok"})}),m.jsx(L,{size:"small",variant:"secondary",onClick:l,className:Dl.cancelButton,type:"button",children:m.jsx(d,{id:"DelOppPeriodeModalImpl.Avbryt"})})]})]})})},Da="_margin_1dkor_37",ml={margin:Da},_a=!1,Ka=({valgtPeriode:e,beregnBelop:a,behandlingUuid:l,oppdaterSplittedePerioder:n,setNestePeriode:t,setForrigePeriode:i,readOnly:s,lukkPeriode:u})=>{const v=U(),[g,k]=B.useState(!1),[o,E]=B.useState(!1),R=b=>{k(!0),b.preventDefault()},S=()=>{k(!1)},c=b=>{E(!1);const A={belop:e.feilutbetaling,fom:b.forstePeriode.fom,tom:b.forstePeriode.tom,begrunnelse:e.begrunnelse?e.begrunnelse:" "},P={belop:e.feilutbetaling,fom:b.andrePeriode.fom,tom:b.andrePeriode.tom,begrunnelse:e.begrunnelse?e.begrunnelse:" "};a({behandlingUuid:l,perioder:[A,P]}).then(H=>{const{perioder:j}=H;if(j.some(G=>G.belop===0))E(!0);else{const G={fom:A.fom,tom:A.tom,feilutbetaling:j[0].belop},ae={fom:P.fom,tom:P.tom,feilutbetaling:j[1].belop};S(),n([G,ae])}})};return m.jsxs(O,{children:[m.jsxs(w,{size:"small",children:[m.jsx(d,{id:"PeriodeController.Detaljer"}),_a]}),!s&&m.jsxs(m.Fragment,{children:[m.jsx(Ve,{}),m.jsx(L,{className:ml.margin,size:"xsmall",icon:m.jsx(Tr,{"aria-hidden":!0}),onClick:R,variant:"tertiary-neutral",type:"button",title:v.formatMessage({id:"PeriodeController.DelOppPerioden"}),children:m.jsx(d,{id:"PeriodeController.DelOppPerioden"})})]}),g&&m.jsx(La,{cancelEvent:S,showModal:g,periodeData:e,splitPeriod:c,finnesBelopMed0Verdi:o}),m.jsx(Ve,{}),m.jsx(L,{className:ml.margin,size:"xsmall",icon:m.jsx(al,{"aria-hidden":!0}),onClick:i,variant:"secondary-neutral",type:"button",title:v.formatMessage({id:"PeriodeController.prevPeriod"}),children:m.jsx(d,{id:"PeriodeController.prevPeriodShort"})}),m.jsx(L,{className:ml.margin,size:"xsmall",icon:m.jsx(nl,{"aria-hidden":!0}),onClick:t,variant:"secondary-neutral",type:"button",title:v.formatMessage({id:"PeriodeController.nextPeriod"}),iconPosition:"right",children:m.jsx(d,{id:"PeriodeController.nextPeriodShort"})}),m.jsx(L,{size:"xsmall",icon:m.jsx(mr,{"aria-hidden":!0}),onClick:u,variant:"tertiary-neutral",type:"button",title:v.formatMessage({id:"PeriodeController.LukkPeriode"})})]})},Va="_infoSummary_112tw_1",Ga="_positivNumber_112tw_7",Ma="_redNumber_112tw_11",Ua="_resultName_112tw_16",Ce={infoSummary:Va,positivNumber:Ga,redNumber:Ma,resultName:Ua},Ha=({fom:e,tom:a,feilutbetaling:l})=>{const n=er(e,a);return m.jsxs(F,{gap:"space-8",className:Ce.infoSummary,children:[m.jsxs(O,{children:[m.jsx(w,{size:"small",children:`${f(e).format(Q)} - ${f(a).format(Q)}`}),m.jsx(Ve,{}),m.jsx(x,{size:"small",children:n.formattedString})]}),m.jsx(O,{gap:"space-16",children:m.jsxs(x,{size:"small",className:Ce.resultName,children:[m.jsx(d,{id:"PeriodeInformasjon.Feilutbetaling"}),":",m.jsx("span",{className:l?Ce.redNumber:Ce.positivNumber,children:ce(l)})]})})]})};var Je=(e=>(e.MOR="MORA",e.FAR="FARA",e.MEDMOR="MMOR",e.EKTE="EKTE",e.BARN="BARN",e.REPA="REPA",e.ANPA="ANPA",e.UDEFINERT="-",e))(Je||{});const $a="_margin_1wl4t_1",ze={margin:$a},wa=e=>{const a=e.isGodkjent?"success":"danger";return e.isAksjonspunktOpen?"warning":a},Ca=(e=[])=>e.map(a=>({id:a.id,fom:a.fom,tom:a.tom,status:wa(a)})),za=e=>e===Je.MOR||e===Je.MEDMOR?m.jsx(vr,{width:20,height:20,color:"var(--ax-danger-500)"}):e===Je.FAR?m.jsx(Er,{width:20,height:20,color:"var(--ax-accent-700)"}):m.jsx(gr,{width:20,height:20}),Ya={danger:m.jsx(cr,{}),success:m.jsx(Rr,{}),warning:m.jsx(pr,{})},qa=({perioder:e,setPeriode:a,valgtPeriode:l,relasjonsRolleType:n,relasjonsRolleTypeKodeverk:t})=>{const i=U(),s=Ca(e),u=P=>{const H=e.find(j=>j.id===P);H&&a(H)},v=f(s[0].fom),g=f(s[s.length-1].tom),[k,o]=B.useState(v),[E,R]=B.useState(g),S=()=>{k.subtract(1,"month").isBefore(v)||(o(k.subtract(1,"month")),R(E.subtract(1,"month")))},c=()=>{E.add(1,"month").isAfter(g)||(o(k.add(1,"month")),R(E.add(1,"month")))},b=()=>{k.add(3,"month").isAfter(E)||(o(k.add(1,"month")),R(E.subtract(1,"month")))},A=()=>{E.add(1,"month").diff(k.subtract(1,"month"),"months")<36&&(o(k.subtract(1,"month")),R(E.add(1,"month")))};return m.jsxs(F,{gap:"space-16",children:[m.jsx(fe,{startDate:k.toDate(),endDate:E.add(1,"days").toDate(),children:m.jsx(fe.Row,{label:t.find(P=>P.kode===n)?.navn||"-",icon:za(n),children:s.map(P=>m.jsx(fe.Period,{start:f(P.fom).toDate(),end:f(P.tom).toDate(),status:P.status,onSelectPeriod:()=>u(P.id),isActive:l?.id===P.id,icon:Ya[P.status],"aria-controls":"panel-tilbakekreving-foreldelse",id:P.id.toString()},P.id))})}),m.jsxs(O,{justify:"end",children:[m.jsx(L,{className:ze.margin,size:"small",icon:m.jsx(dr,{"aria-hidden":!0}),onClick:b,variant:"primary-neutral",type:"button",title:i.formatMessage({id:"TilbakekrevingTimeline.ZoomInn"})}),m.jsx(L,{className:ze.margin,size:"small",icon:m.jsx(kr,{"aria-hidden":!0}),onClick:A,variant:"primary-neutral",type:"button",title:i.formatMessage({id:"TilbakekrevingTimeline.ZoomUt"})}),m.jsx(L,{className:ze.margin,size:"small",icon:m.jsx(al,{"aria-hidden":!0}),onClick:S,variant:"primary-neutral",type:"button",title:i.formatMessage({id:"TilbakekrevingTimeline.ScrollTilVenstre"})}),m.jsx(L,{className:ze.margin,size:"small",icon:m.jsx(nl,{"aria-hidden":!0}),onClick:c,variant:"primary-neutral",type:"button",title:i.formatMessage({id:"TilbakekrevingTimeline.ScrollTilHogre"})})]})]})},_l=(e,a)=>f(e.fom).diff(f(a.fom)),Ja=()=>f().subtract(30,"months").format(Q),Wa=e=>e?[m.jsx(d,{id:`ForeldelseForm.AksjonspunktHelpText.${e.definisjon}`,values:{dato:Ja()}},"vurderForeldelse")]:[],Tl=e=>(!e.foreldelseVurderingType||e.foreldelseVurderingType===le.UDEFINERT)&&(!e.begrunnelse||!!e.erSplittet),Za=(e=[])=>e.map((a,l)=>({fom:a.fom,tom:a.tom,isAksjonspunktOpen:Tl(a),isGodkjent:le.FORELDET!==a.foreldet&&le.UDEFINERT!==a.foreldet,id:l})),Xa=e=>({foreldelsePerioder:e.map(a=>({fraDato:a.fom,tilDato:a.tom,begrunnelse:a.begrunnelse,foreldelseVurderingType:a.foreldet,foreldelsesfrist:a.foreldelsesfrist,oppdagelsesDato:a.oppdagelsesDato})),kode:sl.VURDER_FORELDELSE}),Qa=(e,a)=>e.fom<a.fom?-1:e.fom>a.fom?1:0,en=e=>[...e].sort(Qa).map(a=>({...a,feilutbetaling:a.belop,foreldet:a.foreldelseVurderingType===le.UDEFINERT?void 0:a.foreldelseVurderingType,begrunnelse:Re(a.begrunnelse)})),ln=({submitCallback:e,relasjonsRolleType:a,relasjonsRolleTypeKodeverk:l,aksjonspunkt:n,alleMerknaderFraBeslutter:t,perioderForeldelse:i,readOnly:s,kodeverkSamlingFpTilbake:u,beregnBelop:v,behandlingUuid:g,formData:k,setFormData:o})=>{const E=en(i.perioder),[R,S]=B.useState(k||E),[c,b]=B.useState(R?.find(Tl)),[A,P]=B.useState(!1),[H,j]=B.useState(!!k),G=y=>{const V=y?R.find(_=>_.fom===y.fom&&_.tom===y.tom):void 0;b(V)},ae=()=>{const y=R.findIndex(_=>_.fom===c?.fom&&_.tom===c?.tom),V=y===R.length-1?y:y+1;G(R[V])},ye=()=>{const y=R.findIndex(_=>_.fom===c?.fom&&_.tom===c?.tom),V=y===0?y:y-1;G(R[V])},ee=()=>{G(void 0)},Ne=y=>{const V=Fe(y,"erSplittet"),_=R.filter(M=>M.fom!==V.fom&&M.tom!==V.tom).concat(V).sort(_l);S(_),o(_),j(!0),ee();const q=_.find(Tl);q&&G(q)},Te=y=>{const V=R.find(M=>M.fom===c?.fom&&M.tom===c?.tom);if(V===void 0)throw new TypeError(`Periode skal alltid finnes. Fom: ${c?.fom} Tom: ${c?.tom}`);const _=y.map(M=>({...V,...M,erSplittet:!0})),q=R.filter(M=>M.fom!==c?.fom&&M.tom!==c?.tom).concat(_).sort(_l);S(q),o(q),j(!0),ee(),G(_[0])},Ie=()=>{P(!0),e(Xa(R))},xe=t[sl.VURDER_FORELDELSE],pe=Za(R),ne=Dr(n),I=pe.every(y=>!y.isAksjonspunktOpen),z=c?pe.find(y=>y.fom===c.fom&&y.tom===c.tom):void 0;return m.jsx(hl,{merknaderFraBeslutter:xe,withoutBorder:!0,children:m.jsxs(F,{gap:"space-16",children:[m.jsx(ke,{size:"small",level:"2",children:m.jsx(d,{id:"ForeldelseForm.Foreldelse"})}),!n&&m.jsxs(m.Fragment,{children:[m.jsx(x,{children:m.jsx(d,{id:"ForeldelseForm.Foreldelsesloven"})}),m.jsx(x,{children:m.jsx(d,{id:"ForeldelseForm.AutomatiskVurdert"})})]}),R&&n&&m.jsxs(F,{gap:"space-16",children:[ne&&m.jsx(cl,{children:Wa(n)}),m.jsx(qa,{perioder:pe,valgtPeriode:z,setPeriode:G,relasjonsRolleType:a,relasjonsRolleTypeKodeverk:l}),c&&m.jsx("div",{id:"panel-tilbakekreving-foreldelse","aria-controls":z?.id.toString(),children:m.jsx(sr.New,{borderWidth:"1",padding:"4",children:m.jsxs(F,{gap:"space-16",children:[m.jsx(Ka,{setNestePeriode:ae,setForrigePeriode:ye,valgtPeriode:c,readOnly:s,oppdaterSplittedePerioder:Te,behandlingUuid:g,beregnBelop:v,lukkPeriode:ee}),m.jsx(Ha,{feilutbetaling:c.feilutbetaling,fom:c.fom,tom:c.tom}),m.jsx(Na,{periode:c,oppdaterPeriode:Ne,skjulPeriode:ee,readOnly:s,kodeverkSamlingFpTilbake:u},c.fom)]})})}),m.jsx(O,{children:m.jsx(Fl,{isReadOnly:s,isDirty:H,isSubmittable:!c&&I,onClick:Ie,isSubmitting:A})})]})]})})},rn={"ForeldelsePeriodeForm.Vurdering":"Vurdering","ForeldelsePeriodeForm.RadioGroup.Foreldet":"Vurder om perioden er foreldet","ForeldelsePeriodeForm.Oppdater":"Oppdater","ForeldelsePeriodeForm.Avbryt":"Avbryt","ForeldelsePeriodeForm.Foreldelsesfrist":"Foreldelsesfrist","ForeldelsePeriodeForm.OppdagelsesDato":"Dato for når feilutbetaling ble oppdaget","ForeldelseForm.Foreldelsesloven":"Foreldelsesloven §§ 2 og 3","ForeldelseForm.AutomatiskVurdert":"Automatisk vurdert","ForeldelseForm.AksjonspunktHelpText.5003":"Perioden før {dato} kan være foreldet. Del opp perioden ved behov og fastsett foreldelse","ForeldelseForm.Foreldelse":"Foreldelse","PeriodeController.Detaljer":"Detaljer for valgt periode","PeriodeController.DelOppPerioden":"Del opp perioden","PeriodeController.ForrigePeriode":"Forrige periode","PeriodeController.NestePeriode":"Neste periode","PeriodeInformasjon.Feilutbetaling":"Feilutbetaling","SubmitButton.ConfirmInformation":"Bekreft og fortsett","DelOppPeriodeModalImpl.Periode":"Periode","DelOppPeriodeModalImpl.AngiTomDato":"Angi t.o.m. dato for første periode","DelOppPeriodeModalImpl.ModalDescription":"Periode er splittet","DelOppPeriodeModalImpl.DelOppPerioden":"Del opp perioden","DelOppPeriodeModalImpl.Ok":"Ok","DelOppPeriodeModalImpl.Avbryt":"Avbryt","DelOppPeriodeModalImpl.DatoUtenforPeriode":"Dato må være innenfor perioden","DelOppPeriodeModalImpl.BelopEr0":"Periode har 0 virkedager","TilbakekrevingTimeline.ImageText":"Personinformasjon","TilbakekrevingTimeline.Woman":"Kvinne","TilbakekrevingTimeline.Man":"Mann","TilbakekrevingTimeline.ZoomInn":"Zoom inn","TilbakekrevingTimeline.ZoomUt":"Zoom ut","TilbakekrevingTimeline.ScrollTilVenstre":"Scroll til venstre","TilbakekrevingTimeline.ScrollTilHogre":"Scroll til høyre","PeriodeController.nextPeriod":"Neste periode","PeriodeController.nextPeriodShort":"Neste","PeriodeController.prevPeriod":"Forrige periode","PeriodeController.prevPeriodShort":"Forrige","PeriodeController.LukkPeriode":"Lukk periode","UttakInfoPanel.IngenPerioder":"Det må være minst én periode i uttaket.","UttakInfoPanel.PeriodenSlettes":"Perioden {fom} - {tom} {uttakPeriodeType} slettes","UttakInfoPanel.Frilans":"Frilanser","UttakInfoPanel.Selvstendignæringsdrivende":"Selvstendig næringsdrivende","Malform.Beskrivelse":"Foretrukket språk","Timeline.scrollLeft":"Scrolle venstre","Timeline.scrollRight":"Scrolle høyre","Timeline.zoomIn":"Zoom inn","Timeline.zoomOut":"Zoom ut","Timeline.openData":"Åpne info om første periode","Timeline.closeData":"Lukke info om periode","Timeline.nextPeriod":"Scroll til høyre","Timeline.prevPeriod":"Scroll til venstre","Timeline.tooltip.dagsats":"Dagsats: {dagsats}kr","Timeline.tooltip.start":"Start","Timeline.tooltip.slutt":"Slutt","Timeline.tooltip.periodetype":"Periodetype","Timeline.tooltip.utsettelsePeriode":"Utsettelse","Timeline.TidspunktFamiliehendelse":"Tidspunkt for familiehendelse","Timeline.OppfyltPeriode":"Oppfylt periode","Timeline.IkkeOppfyltPeriode":"Ikke oppfylt periode","Timeline.TidspunktMotakSoknad":"Tidspunkt for mottatt søknad","Timeline.BelopTilbakereves":"Beløp tilbakekreves","Timeline.IngenTilbakekreving":"Ingen tilbakekreving","Timeline.IkkeAvklartPeriode":"Uavklart periode","Timeline.TidspunktRevurdering":"Startpunkt for revurdering","Timeline.GradertPeriode":"Gradert periode","Timeline.ManueltAvklart":"Manuelt avklart periode"},an=el(rn),nn=({perioderForeldelse:e,relasjonsRolleType:a,beregnBelop:l,behandlingUuid:n,aksjonspunkter:t,isReadOnly:i,kodeverkSamlingFpTilbake:s,submitCallback:u,alleMerknaderFraBeslutter:v,formData:g,setFormData:k,relasjonsRolleTypeKodeverk:o})=>m.jsx(Qe,{value:an,children:m.jsx(ln,{behandlingUuid:n,perioderForeldelse:e,submitCallback:u,readOnly:i,aksjonspunkt:t[0],relasjonsRolleType:a,relasjonsRolleTypeKodeverk:o,alleMerknaderFraBeslutter:v,kodeverkSamlingFpTilbake:s,beregnBelop:l,formData:g,setFormData:k})}),tn=[sl.VURDER_FORELDELSE],fr=({tilbakekrevingKodeverk:e})=>{const a=U(),l=Sl(tn),{behandling:n,fagsak:t}=B.use(Ue),i=tl(n),{data:s}=oe(i.tilbakekreving.perioderForeldelseOptions(n)),{mutateAsync:u}=Pl({mutationFn:v=>i.tilbakekreving.beregneBeløp(v)});return N.jsx(fl,{standardPanelProps:l,prosessPanelKode:Rl.FORELDELSE,prosessPanelMenyTekst:a.formatMessage({id:"Behandlingspunkt.Foreldelse"}),skalPanelVisesIMeny:!0,overstyrtStatus:ur(n,"PERIODER_FORELDELSE")?se.OPPFYLT:se.IKKE_VURDERT,children:s?N.jsx(sn,{perioderForeldelse:s,kodeverkSamlingFpTilbake:e,beregnBelop:v=>u(v),relasjonsRolleType:t.relasjonsRolleType,relasjonsRolleTypeKodeverk:l.alleKodeverk.RelasjonsRolleType,...l,behandlingUuid:n.uuid}):N.jsx(Me,{})})},sn=e=>{const{mellomlagretFormData:a,setMellomlagretFormData:l}=ll();return N.jsx(nn,{...e,formData:a,setFormData:l})};fr.__docgenInfo={description:"",methods:[],displayName:"ForeldelseProsessInitPanel",props:{tilbakekrevingKodeverk:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  [K in TilbakekrevingKodeverkType]: KodeverkMedNavnTilbakekreving<
    K extends TilbakekrevingKodeverkType ? K : unknown
  >[];
}`,signature:{properties:[{key:{name:"signature",type:"object",raw:`{
  BehandlingType: BehandlingType;
  BehandlingÅrsakType: BehandlingArsakType;
  BehandlingResultatType: BehandlingResultatTypeTilbakekreving;
  HistorikkAktør: HistorikkAktor;
  SkjermlenkeType: SkjermlenkeTypeTilbakekreving;
  Venteårsak: VenteArsakType;
  VurderÅrsak: VurderÅrsak;
  VergeType: VergeType;
  Aktsomhet: Aktsomhet;
  VedtakResultatType: VedtakResultatType;
  HendelseType: HendelseType;
  SærligGrunn: SærligGrunn;
  ForeldelseVurderingType: ForeldelseVurderingType;
  VilkårResultat: VilkårResultat;
  HendelseUnderType: HendelseUnderType;
  VidereBehandling: TilbakekrevingVidereBehandling;
}`,signature:{properties:[{key:"BehandlingType",value:{name:"union",raw:`| 'BT-002'
| 'BT-003'
| 'BT-004'
| 'BT-008'
| 'BT-006'
| 'BT-007'
| 'BT-009'
| '-'`,elements:[{name:"literal",value:"'BT-002'"},{name:"literal",value:"'BT-003'"},{name:"literal",value:"'BT-004'"},{name:"literal",value:"'BT-008'"},{name:"literal",value:"'BT-006'"},{name:"literal",value:"'BT-007'"},{name:"literal",value:"'BT-009'"},{name:"literal",value:"'-'"}],required:!0}},{key:"BehandlingÅrsakType",value:{name:"union",raw:`| 'RE-LOV'
| 'RE-RGLF'
| 'RE-FEFAKTA'
| 'RE-PRSSL'
| 'RE-ANNET'
| 'RE-MDL'
| 'RE-OPTJ'
| 'RE-FRDLING'
| 'RE-INNTK'
| 'RE-FØDSEL'
| 'RE-DØD'
| 'RE-SRTB'
| 'RE-FRIST'
| 'RE-BER-GRUN'
| 'RE-KLAG-U-INNTK'
| 'RE-KLAG-M-INNTK'
| 'ETTER_KLAGE'
| 'RE-MF'
| 'RE-MFIP'
| 'RE-AVAB'
| 'RE-END-FRA-BRUKER'
| 'RE-END-INNTEKTSMELD'
| 'BERØRT-BEHANDLING'
| 'REBEREGN-FERIEPENGER'
| 'RE-UTSATT-START'
| 'RE-SATS-REGULERING'
| 'ENDRE-DEKNINGSGRAD'
| 'INFOBREV_BEHANDLING'
| 'INFOBREV_OPPHOLD'
| 'INFOBREV_PÅMINNELSE'
| 'OPPHØR-NYTT-BARN'
| 'RE-HENDELSE-FØDSEL'
| 'RE-HENDELSE-DØD-F'
| 'RE-HENDELSE-DØD-B'
| 'RE-HENDELSE-DØDFØD'
| 'RE-HENDELSE-UTFLYTTING'
| 'RE-VEDTAK-PSB'
| 'FEIL_PRAKSIS_UTSETTELSE'
| 'FEIL_PRAKSIS_IVERKS_UTSET'
| 'FEIL_PRAKSIS_BG_AAP_KOMBI'
| 'KLAGE_TILBAKE'
| 'RE-YTELSE'
| 'RE-REGISTEROPPL'
| 'KØET-BEHANDLING'
| 'RE-TILST-YT-INNVIL'
| 'RE-TILST-YT-OPPH'
| '-'`,elements:[{name:"literal",value:"'RE-LOV'"},{name:"literal",value:"'RE-RGLF'"},{name:"literal",value:"'RE-FEFAKTA'"},{name:"literal",value:"'RE-PRSSL'"},{name:"literal",value:"'RE-ANNET'"},{name:"literal",value:"'RE-MDL'"},{name:"literal",value:"'RE-OPTJ'"},{name:"literal",value:"'RE-FRDLING'"},{name:"literal",value:"'RE-INNTK'"},{name:"literal",value:"'RE-FØDSEL'"},{name:"literal",value:"'RE-DØD'"},{name:"literal",value:"'RE-SRTB'"},{name:"literal",value:"'RE-FRIST'"},{name:"literal",value:"'RE-BER-GRUN'"},{name:"literal",value:"'RE-KLAG-U-INNTK'"},{name:"literal",value:"'RE-KLAG-M-INNTK'"},{name:"literal",value:"'ETTER_KLAGE'"},{name:"literal",value:"'RE-MF'"},{name:"literal",value:"'RE-MFIP'"},{name:"literal",value:"'RE-AVAB'"},{name:"literal",value:"'RE-END-FRA-BRUKER'"},{name:"literal",value:"'RE-END-INNTEKTSMELD'"},{name:"literal",value:"'BERØRT-BEHANDLING'"},{name:"literal",value:"'REBEREGN-FERIEPENGER'"},{name:"literal",value:"'RE-UTSATT-START'"},{name:"literal",value:"'RE-SATS-REGULERING'"},{name:"literal",value:"'ENDRE-DEKNINGSGRAD'"},{name:"literal",value:"'INFOBREV_BEHANDLING'"},{name:"literal",value:"'INFOBREV_OPPHOLD'"},{name:"literal",value:"'INFOBREV_PÅMINNELSE'"},{name:"literal",value:"'OPPHØR-NYTT-BARN'"},{name:"literal",value:"'RE-HENDELSE-FØDSEL'"},{name:"literal",value:"'RE-HENDELSE-DØD-F'"},{name:"literal",value:"'RE-HENDELSE-DØD-B'"},{name:"literal",value:"'RE-HENDELSE-DØDFØD'"},{name:"literal",value:"'RE-HENDELSE-UTFLYTTING'"},{name:"literal",value:"'RE-VEDTAK-PSB'"},{name:"literal",value:"'FEIL_PRAKSIS_UTSETTELSE'"},{name:"literal",value:"'FEIL_PRAKSIS_IVERKS_UTSET'"},{name:"literal",value:"'FEIL_PRAKSIS_BG_AAP_KOMBI'"},{name:"literal",value:"'KLAGE_TILBAKE'"},{name:"literal",value:"'RE-YTELSE'"},{name:"literal",value:"'RE-REGISTEROPPL'"},{name:"literal",value:"'KØET-BEHANDLING'"},{name:"literal",value:"'RE-TILST-YT-INNVIL'"},{name:"literal",value:"'RE-TILST-YT-OPPH'"},{name:"literal",value:"'-'"}],required:!0}},{key:"BehandlingResultatType",value:{name:"BehandlingResultatTypeTilbakekreving",required:!0}},{key:"HistorikkAktør",value:{name:"union",raw:`| 'BESL'
| 'SBH'
| 'SOKER'
| 'ARBEIDSGIVER'
| 'VL'
| '-'`,elements:[{name:"literal",value:"'BESL'"},{name:"literal",value:"'SBH'"},{name:"literal",value:"'SOKER'"},{name:"literal",value:"'ARBEIDSGIVER'"},{name:"literal",value:"'VL'"},{name:"literal",value:"'-'"}],required:!0}},{key:"SkjermlenkeType",value:{name:"SkjermlenkeTypeTilbakekreving",required:!0}},{key:"Venteårsak",value:{name:"VenteArsakType",required:!0}},{key:"VurderÅrsak",value:{name:"VurderÅrsak",required:!0}},{key:"VergeType",value:{name:"union",raw:`| 'BARN'
| 'FBARN'
| 'VOKSEN'
| 'ADVOKAT'
| 'ANNEN_F'`,elements:[{name:"literal",value:"'BARN'"},{name:"literal",value:"'FBARN'"},{name:"literal",value:"'VOKSEN'"},{name:"literal",value:"'ADVOKAT'"},{name:"literal",value:"'ANNEN_F'"}],required:!0}},{key:"Aktsomhet",value:{name:"union",raw:"'FORSETT' | 'GROVT_UAKTSOM' | 'SIMPEL_UAKTSOM'",elements:[{name:"literal",value:"'FORSETT'"},{name:"literal",value:"'GROVT_UAKTSOM'"},{name:"literal",value:"'SIMPEL_UAKTSOM'"}],required:!0}},{key:"VedtakResultatType",value:{name:"VedtakResultatType",required:!0}},{key:"HendelseType",value:{name:"union",raw:"'MEDLEMSKAP' | 'OKONOMI_FEIL' | 'BEREGNING_TYPE'",elements:[{name:"literal",value:"'MEDLEMSKAP'"},{name:"literal",value:"'OKONOMI_FEIL'"},{name:"literal",value:"'BEREGNING_TYPE'"}],required:!0}},{key:"SærligGrunn",value:{name:"union",raw:`| 'GRAD_AV_UAKTSOMHET'
| 'HELT_ELLER_DELVIS_NAVS_FEIL'
| 'STOERRELSE_BELOEP'
| 'TID_FRA_UTBETALING'
| 'ANNET'`,elements:[{name:"literal",value:"'GRAD_AV_UAKTSOMHET'"},{name:"literal",value:"'HELT_ELLER_DELVIS_NAVS_FEIL'"},{name:"literal",value:"'STOERRELSE_BELOEP'"},{name:"literal",value:"'TID_FRA_UTBETALING'"},{name:"literal",value:"'ANNET'"}],required:!0}},{key:"ForeldelseVurderingType",value:{name:"ForeldelseVurderingType",required:!0}},{key:"VilkårResultat",value:{name:"union",raw:"'FORSTO_BURDE_FORSTAATT' | 'FEIL_OPPLYSNINGER' | 'MANGELFULL_OPPLYSNING' | 'GOD_TRO'",elements:[{name:"literal",value:"'FORSTO_BURDE_FORSTAATT'"},{name:"literal",value:"'FEIL_OPPLYSNINGER'"},{name:"literal",value:"'MANGELFULL_OPPLYSNING'"},{name:"literal",value:"'GOD_TRO'"}],required:!0}},{key:"HendelseUnderType",value:{name:"union",raw:"'IKKE_INNTEKT' | 'IKKE_YRKESAKTIV' | 'OKONOMI_FEIL_TREKK' | 'IKKE_BOSATT'",elements:[{name:"literal",value:"'IKKE_INNTEKT'"},{name:"literal",value:"'IKKE_YRKESAKTIV'"},{name:"literal",value:"'OKONOMI_FEIL_TREKK'"},{name:"literal",value:"'IKKE_BOSATT'"}],required:!0}},{key:"VidereBehandling",value:{name:"TilbakekrevingVidereBehandling",required:!0}}]},required:!0},value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}`,signature:{properties:[{key:"kode",value:{name:"unknown",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"kodeverk",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}>`}],raw:`KodeverkMedNavnTilbakekreving<
  K extends TilbakekrevingKodeverkType ? K : unknown
>[]`}}]}},description:""}}};var ol=(e=>(e.VURDER_TILBAKEKREVING="5002",e))(ol||{});function on(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kl={exports:{}},De={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vl;function dn(){if(Vl)return De;Vl=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(n,t,i){var s=null;if(i!==void 0&&(s=""+i),t.key!==void 0&&(s=""+t.key),"key"in t){i={};for(var u in t)u!=="key"&&(i[u]=t[u])}else i=t;return t=i.ref,{$$typeof:e,type:n,key:s,ref:t!==void 0?t:null,props:i}}return De.Fragment=a,De.jsx=l,De.jsxs=l,De}var Gl;function mn(){return Gl||(Gl=1,Kl.exports=dn()),Kl.exports}var r=mn();const un="_button_8q57x_1",kn="_cancelButton_8q57x_5",Ml={button:un,cancelButton:kn},Tn=(e,a)=>l=>l&&(lr(l)(f(e.tom.toString()).subtract(1,"day"))||rr(l)(e.fom))?a.formatMessage({id:"DelOppPeriodeModalImpl.DatoUtenforPeriode"}):null,pn=(e,a)=>{const l=f(e.forstePeriodeTomDato).add(1,"days"),n={fom:a.fom,tom:e.forstePeriodeTomDato},t={fom:l.format(ar),tom:a.tom};return{forstePeriode:n,andrePeriode:t}},vn=({periodeData:e,showModal:a,cancelEvent:l,finnesBelopMed0Verdi:n,splitPeriod:t})=>{const i=U(),s=je();return r.jsx(Ae,{formMethods:s,onSubmit:u=>t(pn(u,e)),children:r.jsxs(X,{open:a,"aria-label":i.formatMessage({id:"DelOppPeriodeModalImpl.ModalDescription"}),onClose:l,width:"medium",children:[r.jsx(X.Header,{children:r.jsx(ke,{size:"small",level:"2",children:r.jsx(d,{id:"DelOppPeriodeModalImpl.DelOppPerioden"})})}),r.jsx(X.Body,{children:r.jsxs(F,{gap:"space-16",children:[r.jsxs("div",{children:[r.jsx(w,{size:"small",children:r.jsx(d,{id:"DelOppPeriodeModalImpl.Periode"})}),r.jsx(x,{size:"small",children:`${f(e.fom.toString()).format(Q)} - ${f(e.tom.toString()).format(Q)}`})]}),r.jsx(Xe,{name:"forstePeriodeTomDato",control:s.control,label:r.jsx(d,{id:"DelOppPeriodeModalImpl.AngiTomDato"}),validate:[D,We,Tn(e,i)],fromDate:f(e.fom).toDate(),toDate:f(e.tom).toDate()}),n&&r.jsx(rl,{variant:"error",children:r.jsx(d,{id:"DelOppPeriodeModalImpl.BelopEr0"})})]})}),r.jsxs(X.Footer,{children:[r.jsx(L,{size:"small",variant:"primary",className:Ml.button,disabled:!s.formState.isDirty,children:r.jsx(d,{id:"DelOppPeriodeModalImpl.Ok"})}),r.jsx(L,{size:"small",variant:"secondary",onClick:l,className:Ml.cancelButton,type:"button",children:r.jsx(d,{id:"DelOppPeriodeModalImpl.Avbryt"})})]})]})})},En="_margin_1dkor_37",ul={margin:En},gn=!1,Rn=({setNestePeriode:e,setForrigePeriode:a,readOnly:l,lukkPeriode:n,periode:t,beregnBelop:i,behandlingUuid:s,oppdaterSplittedePerioder:u})=>{const v=U(),[g,k]=B.useState(!1),[o,E]=B.useState(!1),R=b=>{k(!0),b.preventDefault()},S=()=>{k(!1)},c=b=>{E(!1);const A={belop:t.feilutbetaling,fom:b.forstePeriode.fom,tom:b.forstePeriode.tom,begrunnelse:t.begrunnelse?t.begrunnelse:" "},P={belop:t.feilutbetaling,fom:b.andrePeriode.fom,tom:b.andrePeriode.tom,begrunnelse:t.begrunnelse?t.begrunnelse:" "};i({behandlingUuid:s,perioder:[A,P]}).then(H=>{const{perioder:j}=H;if(j.some(G=>G.belop===0))E(!0);else{const G={fom:A.fom,tom:A.tom,feilutbetaling:j[0].belop},ae={fom:P.fom,tom:P.tom,feilutbetaling:j[1].belop};S(),u([G,ae])}})};return r.jsxs(O,{children:[r.jsxs(w,{size:"small",children:[r.jsx(d,{id:"PeriodeController.Detaljer"}),gn]}),!l&&r.jsxs(r.Fragment,{children:[r.jsx(Ve,{}),r.jsx(L,{className:ul.margin,size:"xsmall",icon:r.jsx(Tr,{"aria-hidden":!0}),onClick:R,variant:"tertiary-neutral",type:"button",title:v.formatMessage({id:"PeriodeController.DelOppPerioden"}),children:r.jsx(d,{id:"PeriodeController.DelOppPerioden"})})]}),g&&r.jsx(vn,{cancelEvent:S,showModal:g,periodeData:t,splitPeriod:c,finnesBelopMed0Verdi:o}),r.jsx(Ve,{}),r.jsx(L,{className:ul.margin,size:"xsmall",icon:r.jsx(al,{"aria-hidden":!0}),onClick:a,variant:"secondary-neutral",type:"button",title:v.formatMessage({id:"PeriodeController.prevPeriod"}),children:r.jsx(d,{id:"PeriodeController.prevPeriodShort"})}),r.jsx(L,{className:ul.margin,size:"xsmall",icon:r.jsx(nl,{"aria-hidden":!0}),onClick:e,variant:"secondary-neutral",type:"button",title:v.formatMessage({id:"PeriodeController.nextPeriod"}),iconPosition:"right",children:r.jsx(d,{id:"PeriodeController.nextPeriodShort"})}),r.jsx(L,{size:"xsmall",icon:r.jsx(mr,{"aria-hidden":!0}),onClick:n,variant:"tertiary-neutral",type:"button",title:v.formatMessage({id:"PeriodeController.LukkPeriode"})})]})};var pl={exports:{}},cn=pl.exports,Ul;function bn(){return Ul||(Ul=1,(function(e,a){(function(l,n){e.exports=n()})(cn,function(){return function(l,n){n.prototype.isSameOrBefore=function(t,i){return this.isSame(t,i)||this.isBefore(t,i)}}})})(pl)),pl.exports}var hn=bn();const Sn=on(hn);var Fr=(e=>(e.IKKE_VURDERT="IKKE_VURDERT",e.FORELDET="FORELDET",e.IKKE_FORELDET="IKKE_FORELDET",e.TILLEGGSFRIST="TILLEGGSFRIST",e.UDEFINERT="-",e))(Fr||{}),Z=(e=>(e.FORSTO_BURDE_FORSTAATT="FORSTO_BURDE_FORSTAATT",e.FEIL_OPPLYSNINGER="FEIL_OPPLYSNINGER",e.MANGELFULL_OPPLYSNING="MANGELFULL_OPPLYSNING",e.GOD_TRO="GOD_TRO",e))(Z||{});const fn="_infoSummary_14z0n_1",Fn="_positivNumber_14z0n_8",Pn="_redNumber_14z0n_12",jn="_resultName_14z0n_17",_e={infoSummary:fn,positivNumber:Fn,redNumber:Pn,resultName:jn},An=({fom:e,tom:a,feilutbetaling:l,arsakHendelseNavn:n})=>{const t=er(e,a);return r.jsxs(F,{gap:"space-8",className:_e.infoSummary,children:[r.jsxs(O,{justify:"space-between",children:[r.jsx(w,{size:"small",children:`${f(e).format(Q)} - ${f(a).format(Q)}`}),r.jsx(x,{size:"small",children:t.formattedString})]}),r.jsxs(O,{gap:"space-16",children:[r.jsxs(x,{size:"small",className:_e.resultName,children:[r.jsx(d,{id:"PeriodeInformasjon.Feilutbetaling"}),":",r.jsx("span",{className:l?_e.redNumber:_e.positivNumber,children:ce(l)})]}),n&&r.jsx(x,{size:"small",className:_e.resultName,children:n})]})]})};var Y=(e=>(e.FORSETT="FORSETT",e.GROVT_UAKTSOM="GROVT_UAKTSOM",e.SIMPEL_UAKTSOM="SIMPEL_UAKTSOM",e))(Y||{});const Pr=["SIMPEL_UAKTSOM","GROVT_UAKTSOM","FORSETT"];var jr=(e=>(e.GRAD_AV_UAKTSOMHET="GRAD_AV_UAKTSOMHET",e.HELT_ELLER_DELVIS_NAVS_FEIL="HELT_ELLER_DELVIS_NAVS_FEIL",e.STOERRELSE_BELOEP="STOERRELSE_BELOEP",e.TID_FRA_UTBETALING="TID_FRA_UTBETALING",e.ANNET="ANNET",e))(jr||{});const yn=({name:e,readOnly:a,erValgtResultatTypeForstoBurdeForstaatt:l})=>{const n=re(),t=`${e}.skalDetTilleggesRenter`;return B.useEffect(()=>{n.getValues(t)===void 0&&n.setValue(t,!1)},[]),r.jsxs(be,{alignOffset:l?320:360,children:[l&&r.jsxs(F,{gap:"space-16",children:[r.jsx(w,{size:"small",children:r.jsx(d,{id:"AktsomhetGradForsettFormPanel.Andel"})}),r.jsx(x,{size:"small",children:"100 %"}),r.jsxs(de,{name:`${e}.skalDetTilleggesRenter`,control:n.control,label:r.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.SkalTilleggesRenter"}),validate:[D],isReadOnly:a,children:[r.jsx(C,{value:!0,size:"small",children:r.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.Ja"})}),r.jsx(C,{value:!1,size:"small",children:r.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.Nei"})})]})]}),!l&&r.jsxs(F,{gap:"space-8",children:[r.jsxs("div",{children:[r.jsx(W,{children:r.jsx(d,{id:"AktsomhetGradForsettFormPanel.Andel"})}),r.jsx(x,{size:"small",children:"100 %"})]}),r.jsx(x,{size:"small",children:r.jsx(d,{id:"AktsomhetGradForsettFormPanel.Renter"})})]})]})},Ge="Egendefinert",vl=["30","50","70",Ge],Nn="_suffix_cawxu_1",In="_suffixGrovText_cawxu_4",xn="_labelPadding_cawxu_8",Bn="_inputFelt_cawxu_12",Se={suffix:Nn,suffixGrovText:In,labelPadding:xn,inputFelt:Bn},Hl=nr(0),On=Vr(99.99),Ln=e=>{const a=e.toString().replace(/\s/g,""),l=parseInt(a,10);return Number.isNaN(l)?"":l},Dn=(e,a)=>l=>{if((typeof l=="string"?Number(l):l)>=a)return e.formatMessage({id:"TilbakekrevingPeriodeForm.BelopMaVereMindreEnnFeilutbetalingen"})},_n=({name:e,harGrunnerTilReduksjon:a,readOnly:l,handletUaktsomhetGrad:n,harMerEnnEnYtelse:t,feilutbetalingBelop:i,andelSomTilbakekreves:s})=>{const u=U(),v=re(),g=`${e}.skalDetTilleggesRenter`;return B.useEffect(()=>{v.getValues(g)===void 0&&v.setValue(g,!1)},[]),r.jsxs(F,{gap:"space-12",children:[r.jsx(de,{name:`${e}.harGrunnerTilReduksjon`,control:v.control,label:r.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.SkalSarligeGrunnerGiReduksjon"}),validate:[D],isReadOnly:l,children:r.jsxs(O,{gap:"space-20",children:[r.jsx(C,{value:!0,size:"small",children:r.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.Ja"})}),r.jsx(C,{value:!1,size:"small",children:r.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.Nei"})})]})}),a&&r.jsx(be,{alignOffset:24,children:r.jsxs(O,{gap:"space-16",children:[!t&&s!==Ge&&r.jsxs(r.Fragment,{children:[r.jsx(w,{size:"small",children:r.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.AngiAndelSomTilbakekreves"})}),r.jsxs(O,{gap:"space-8",children:[r.jsx(Ze,{name:`${e}.andelSomTilbakekreves`,control:v.control,label:"",validate:[D],selectValues:vl.map(k=>r.jsx("option",{value:k,children:k},k))}),r.jsx("div",{className:Se.suffix,children:"%"})]})]}),!t&&s===Ge&&r.jsxs(r.Fragment,{children:[r.jsx(w,{size:"small",children:r.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.AngiAndelSomTilbakekreves"})}),r.jsxs(O,{gap:"space-16",children:[r.jsx(kl,{name:`${e}.andelSomTilbakekrevesManuell`,control:v.control,className:Se.inputFelt,readOnly:l,validate:[D,Hl,On],normalizeOnBlur:k=>Number.isNaN(k)?k:parseFloat(k.toString()).toFixed(2),format:k=>k.toString().replace(".",","),parse:k=>k.toString().replace(",",".")}),r.jsx("div",{className:n===Y.GROVT_UAKTSOM?Se.suffixGrovText:Se.suffix,children:"%"})]})]}),t&&r.jsx(kl,{name:`${e}.belopSomSkalTilbakekreves`,control:v.control,label:r.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.AngiBelopSomSkalTilbakekreves"}),validate:[D,Hl,Dn(u,i)],readOnly:l,format:ce,parse:Ln}),n===Y.GROVT_UAKTSOM&&r.jsxs("div",{children:[r.jsx(W,{children:r.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.SkalTilleggesRenter"})}),r.jsx(x,{size:"small",className:Se.labelPadding,children:r.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.Nei"})})]})]})}),a===!1&&r.jsxs(be,{alignOffset:90,children:[r.jsx(W,{children:r.jsx(d,{id:t?"AktsomhetReduksjonAvBelopFormPanel.BelopSomSkalTilbakekreves":"AktsomhetReduksjonAvBelopFormPanel.andelSomTilbakekreves"})}),r.jsxs(F,{gap:"space-16",children:[r.jsx(x,{size:"small",className:Se.labelPadding,children:t?ce(i):"100%"}),n===Y.GROVT_UAKTSOM&&r.jsx(de,{name:g,control:v.control,label:r.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.SkalTilleggesRenter"}),validate:[D],isReadOnly:l,children:r.jsxs(O,{gap:"space-20",children:[r.jsx(C,{value:!0,size:"small",children:r.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.Ja"})}),r.jsx(C,{value:!1,size:"small",children:r.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.Nei"})})]})})]})]})]})},Kn=Pe(3),Vn=he(1500),$l=({name:e,harGrunnerTilReduksjon:a,readOnly:l,handletUaktsomhetGrad:n,erSerligGrunnAnnetValgt:t,sarligGrunnTyper:i,harMerEnnEnYtelse:s,feilutbetalingBelop:u,andelSomTilbakekreves:v})=>{const g=U(),{watch:k,control:o}=re(),E=!i.some(S=>!!k(`${e}.${S.kode}`)),R=Jr(e,E?g.formatMessage({id:"TilbakekrevingPeriodeForm.MaVelgeSarligGrunn"}):void 0);return r.jsxs(F,{gap:"space-16",children:[r.jsx(w,{size:"small",children:r.jsx(d,{id:"AktsomhetSarligeGrunnerFormPanel.GrunnerTilReduksjon"})}),r.jsx("div",{children:i.map(S=>r.jsx(or,{name:`${e}.${S.kode}`,control:o,label:S.navn,readOnly:l},S.kode))}),t&&r.jsx(ue,{name:`${e}.annetBegrunnelse`,control:o,label:"",validate:[D,Kn,Vn,me],maxLength:1500,readOnly:l}),R&&r.jsx(Zr,{children:R}),r.jsx(_n,{name:e,harGrunnerTilReduksjon:a,readOnly:l,handletUaktsomhetGrad:n,harMerEnnEnYtelse:s,feilutbetalingBelop:u,andelSomTilbakekreves:v})]})},Gn="_explanationTextarea_1kabz_1",Mn="_panelWidth_1kabz_5",Ar={explanationTextarea:Gn,panelWidth:Mn},Un=Pe(3),Hn=he(1500),wl=({name:e,readOnly:a})=>{const l=U(),{control:n}=re();return r.jsxs(F,{gap:"space-16",children:[r.jsx(w,{size:"small",children:r.jsx(d,{id:"AktsomhetGradUaktsomhetFormPanel.SærligGrunner"})}),r.jsx(ue,{name:`${e}.sarligGrunnerBegrunnelse`,control:n,label:l.formatMessage({id:"AktsomhetGradUaktsomhetFormPanel.VurderSærligGrunner"}),validate:[D,Un,Hn,me],maxLength:1500,readOnly:a,className:Ar.explanationTextarea,description:l.formatMessage({id:"AktsomhetGradUaktsomhetFormPanel.VurderSærligGrunner.Hjelpetekst"})})]})},$n=({harGrunnerTilReduksjon:e,readOnly:a,handletUaktsomhetGrad:l,erSerligGrunnAnnetValgt:n,sarligGrunnTyper:t,harMerEnnEnYtelse:i,feilutbetalingBelop:s,erTotalBelopUnder4Rettsgebyr:u,andelSomTilbakekreves:v,erValgtResultatTypeForstoBurdeForstaatt:g,name:k})=>{const{control:o,watch:E}=re(),R=E(`${k}.tilbakekrevSelvOmBeloepErUnder4Rettsgebyr`),S=g?180:200;return r.jsx(be,{alignOffset:l===Y.GROVT_UAKTSOM?S:20,children:r.jsxs("div",{className:Ar.panelWidth,children:[l===Y.SIMPEL_UAKTSOM&&u&&r.jsxs(F,{gap:"space-12",children:[r.jsx(de,{name:`${k}.tilbakekrevSelvOmBeloepErUnder4Rettsgebyr`,control:o,label:r.jsx(d,{id:"AktsomhetGradUaktsomhetFormPanel.Tilbakekrev"}),validate:[D],isReadOnly:a,children:r.jsxs(O,{gap:"space-16",children:[r.jsx(C,{value:!0,size:"small",children:r.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.Ja"})}),r.jsx(C,{value:!1,size:"small",children:r.jsx(d,{id:"AktsomhetReduksjonAvBelopFormPanel.Nei"})})]})}),R&&r.jsxs(r.Fragment,{children:[r.jsx(wl,{name:k,readOnly:a}),r.jsx($l,{name:k,harGrunnerTilReduksjon:e,erSerligGrunnAnnetValgt:n,sarligGrunnTyper:t,harMerEnnEnYtelse:i,feilutbetalingBelop:s,readOnly:a,handletUaktsomhetGrad:l,andelSomTilbakekreves:v})]}),R===!1&&r.jsx(be,{alignOffset:55,children:r.jsx(d,{id:"AktsomhetGradUaktsomhetFormPanel.AllePerioderBehandlesLikt"})})]}),(l!==Y.SIMPEL_UAKTSOM||!u)&&r.jsxs(r.Fragment,{children:[r.jsx(wl,{name:k,readOnly:a}),r.jsx($l,{name:k,harGrunnerTilReduksjon:e,erSerligGrunnAnnetValgt:n,sarligGrunnTyper:t,harMerEnnEnYtelse:i,feilutbetalingBelop:s,readOnly:a,handletUaktsomhetGrad:l,andelSomTilbakekreves:v})]})]})})},wn=({harGrunnerTilReduksjon:e,readOnly:a,handletUaktsomhetGrad:l,erSerligGrunnAnnetValgt:n,erValgtResultatTypeForstoBurdeForstaatt:t,sarligGrunnTyper:i,harMerEnnEnYtelse:s,feilutbetalingBelop:u,erTotalBelopUnder4Rettsgebyr:v,andelSomTilbakekreves:g,name:k})=>r.jsxs(r.Fragment,{children:[l===Y.FORSETT&&r.jsx(yn,{name:k,readOnly:a,erValgtResultatTypeForstoBurdeForstaatt:t}),l!==Y.FORSETT&&r.jsx($n,{name:k,harGrunnerTilReduksjon:e,readOnly:a,handletUaktsomhetGrad:l,erSerligGrunnAnnetValgt:n,sarligGrunnTyper:i,harMerEnnEnYtelse:s,feilutbetalingBelop:u,erTotalBelopUnder4Rettsgebyr:v,andelSomTilbakekreves:g,erValgtResultatTypeForstoBurdeForstaatt:t})]}),Cn={[Y.FORSETT]:"AktsomhetFormPanel.AktsomhetTyperLabel.Forsett",[Y.GROVT_UAKTSOM]:"AktsomhetFormPanel.AktsomhetTyperLabel.GrovtUaktsomt",[Y.SIMPEL_UAKTSOM]:"AktsomhetFormPanel.AktsomhetTyperLabel.SimpelUaktsom"},He=({readOnly:e,resetFields:a,handletUaktsomhetGrad:l,harGrunnerTilReduksjon:n,erSerligGrunnAnnetValgt:t=!1,erValgtResultatTypeForstoBurdeForstaatt:i=!1,aktsomhetTyper:s,sarligGrunnTyper:u,antallYtelser:v,feilutbetalingBelop:g,erTotalBelopUnder4Rettsgebyr:k,andelSomTilbakekreves:o,name:E})=>{const{control:R}=re();return r.jsxs(F,{gap:"space-12",children:[r.jsx(de,{name:`${E}.handletUaktsomhetGrad`,control:R,label:r.jsx(d,{id:"AktsomhetFormPanel.HandletUaktsomhetGrad"}),validate:[D],isReadOnly:e,onChange:a,children:r.jsx(O,{gap:"space-20",children:s.map(S=>r.jsx(C,{value:S.kode,size:"small",children:i?r.jsx(d,{id:Cn[S.kode]}):S.navn},S.kode))})}),Pr.some(S=>S===l)&&r.jsx(wn,{name:`${E}.${l}`,harGrunnerTilReduksjon:n,readOnly:e,handletUaktsomhetGrad:l,erSerligGrunnAnnetValgt:t,erValgtResultatTypeForstoBurdeForstaatt:i,sarligGrunnTyper:u,harMerEnnEnYtelse:v>1,feilutbetalingBelop:g,erTotalBelopUnder4Rettsgebyr:k,andelSomTilbakekreves:o})]})},zn=(e,a)=>{const l=parseInt(e,10);return!a||Number.isNaN(l)?{}:{andelTilbakekreves:l}},Yn=(e,a)=>{const l=parseFloat(e);return!a||Number.isNaN(l)?{}:{andelTilbakekreves:l}},qn=(e,a)=>{if(e.tilbakekrevSelvOmBeloepErUnder4Rettsgebyr===!1)return{tilbakekrevSelvOmBeloepErUnder4Rettsgebyr:e.tilbakekrevSelvOmBeloepErUnder4Rettsgebyr};const l=a.reduce((i,s)=>e[s.kode]?i.concat(s.kode):i,[]),{harGrunnerTilReduksjon:n}=e,t=e.andelSomTilbakekreves===Ge?Yn(e.andelSomTilbakekrevesManuell,n):zn(e.andelSomTilbakekreves,n);return{harGrunnerTilReduksjon:n,ileggRenter:n?void 0:e.skalDetTilleggesRenter,sarligGrunner:l.length>0?l:void 0,tilbakekrevesBelop:e.harGrunnerTilReduksjon?tr(e.belopSomSkalTilbakekreves):void 0,annetBegrunnelse:e.annetBegrunnelse,sarligGrunnerBegrunnelse:e.sarligGrunnerBegrunnelse,tilbakekrevSelvOmBeloepErUnder4Rettsgebyr:e.tilbakekrevSelvOmBeloepErUnder4Rettsgebyr,...t}};He.transformValues=(e,a,l)=>{const n=e[e.handletUaktsomhetGrad];return{"@type":"annet",aktsomhet:e.handletUaktsomhetGrad,begrunnelse:l,aktsomhetInfo:n?qn(n,a):null}};const Jn=(e,a)=>({andelSomTilbakekreves:a===void 0||vl.includes(a)?a:Ge,andelSomTilbakekrevesManuell:a&&vl.includes(a)?void 0:e.andelTilbakekreves,harGrunnerTilReduksjon:e.harGrunnerTilReduksjon,skalDetTilleggesRenter:e.ileggRenter,belopSomSkalTilbakekreves:e.tilbakekrevesBelop,annetBegrunnelse:e.annetBegrunnelse,sarligGrunnerBegrunnelse:Re(e.sarligGrunnerBegrunnelse),tilbakekrevSelvOmBeloepErUnder4Rettsgebyr:e.tilbakekrevSelvOmBeloepErUnder4Rettsgebyr,...e.sarligGrunner?e.sarligGrunner.reduce((l,n)=>({...l,[n.kode??n]:!0}),{}):{}});He.buildInitalValues=e=>{const{aktsomhet:a,aktsomhetInfo:l}=e,n=l&&l.andelTilbakekreves!==void 0?`${l.andelTilbakekreves}`:void 0,t=l?{[a.kode&&"kode"in a?a.kode:a]:Jn(l,n)}:{};return{handletUaktsomhetGrad:a&&a.kode&&"kode"in a?a.kode:a,...t}};const Wn=()=>{const{control:e}=re();return r.jsxs(O,{gap:"space-16",children:[r.jsx(ue,{name:"foreldetBegrunnelse",control:e,label:r.jsx(d,{id:"ForeldetPanel.Vurdering"}),readOnly:!0}),r.jsx(de,{name:"periodenErForeldet",control:e,label:r.jsx(W,{children:r.jsx(d,{id:"ForeldetFormPanel.VurderOmPeriodenErForeldet"})}),children:r.jsx(C,{value:"true",size:"small",children:r.jsx(d,{id:"ForeldetFormPanel.PeriodenErForeldet"})})})]})},Zn="_arrowbox_ych2z_1",Xn="_tilbakekrevdBelopInput_ych2z_4",Cl={arrowbox:Zn,tilbakekrevdBelopInput:Xn},Qn=nr(1),et=e=>{const a=e.toString().replace(/\s/g,""),l=parseInt(a,10);return Number.isNaN(l)?"":l},lt=(e,a)=>l=>{if((typeof l=="string"?Number(l):l)>a)return e.formatMessage({id:"TilbakekrevingPeriodeForm.BelopKanIkkeVereStorreEnnFeilutbetalingen"})},$e=({name:e,readOnly:a,erBelopetIBehold:l,feilutbetalingBelop:n})=>{const t=U(),{control:i}=re();return r.jsxs(F,{gap:"space-12",children:[r.jsx(de,{name:`${e}.erBelopetIBehold`,control:i,label:r.jsx(d,{id:"BelopetMottattIGodTroFormPanel.BelopetIBehold"}),validate:[D],isReadOnly:a,children:r.jsxs(O,{gap:"space-20",children:[r.jsx(C,{value:!0,size:"small",children:r.jsx(d,{id:"BelopetMottattIGodTroFormPanel.Ja"})}),r.jsx(C,{value:!1,size:"small",children:r.jsx(d,{id:"BelopetMottattIGodTroFormPanel.Nei"})})]})}),r.jsxs("div",{className:Cl.arrowbox,children:[l===!0&&r.jsx(be,{alignOffset:25,children:r.jsx(kl,{name:`${e}.tilbakekrevdBelop`,label:r.jsx(d,{id:"BelopetMottattIGodTroFormPanel.AngiBelop"}),validate:[D,Qn,lt(t,n)],readOnly:a,className:Cl.tilbakekrevdBelopInput,format:ce,parse:et})}),l===!1&&r.jsx(be,{alignOffset:90,children:r.jsx(x,{size:"small",children:r.jsx(d,{id:"BelopetMottattIGodTroFormPanel.IngenTilbakekreving"})})})]})]})};$e.transformValues=(e,a)=>({"@type":"godTro",begrunnelse:a,erBelopetIBehold:e.erBelopetIBehold,tilbakekrevesBelop:e.erBelopetIBehold?tr(e.tilbakekrevdBelop):void 0});$e.buildIntialValues=e=>({erBelopetIBehold:e.erBelopetIBehold,tilbakekrevdBelop:e.tilbakekrevesBelop});const rt="_feilutbetalingTable_1fsd2_1",at={feilutbetalingTable:rt},nt=({ytelser:e})=>{if(e.length===0)return null;let a=0;return r.jsxs(h,{className:at.feilutbetalingTable,children:[r.jsx(h.Header,{children:r.jsxs(h.Row,{children:[r.jsx(h.HeaderCell,{scope:"col",children:r.jsx(d,{id:"TilbakekrevingAktivitetTabell.Aktivitet"})}),r.jsx(h.HeaderCell,{scope:"col",children:r.jsx(d,{id:"TilbakekrevingAktivitetTabell.FeilutbetaltBelop"})})]})}),r.jsx(h.Body,{children:e.map(l=>(a+=1,r.jsxs(h.Row,{children:[r.jsx(h.DataCell,{children:r.jsx(x,{size:"small",children:l.aktivitet})}),r.jsx(h.DataCell,{children:r.jsx(x,{size:"small",children:ce(l.belop)})})]},l.aktivitet+l.belop+a)))})]})},tt=({showModal:e=!1,submit:a})=>r.jsxs(X,{open:e,onClose:a,"aria-label":"Advarsel",children:[r.jsx(X.Body,{children:r.jsxs(O,{gap:"space-16",wrap:!1,children:[r.jsx("div",{children:r.jsx(Qr,{height:35,width:35,color:"var(--ax-warning-700)"})}),r.jsx(Wr,{children:r.jsx(d,{id:"TilbakekrevingPeriodeForm.TotalbelopetUnder4Rettsgebyr"})})]})}),r.jsx(X.Footer,{children:r.jsx(L,{size:"small",variant:"primary",onClick:a,autoFocus:!0,type:"button",children:"OK"})})]}),it="_explanationTextarea_1udkt_1",st="_leftColumn_1udkt_5",ot="_rightColumn_1udkt_9",dt="_selectWidth_1udkt_12",Ye={explanationTextarea:it,leftColumn:st,rightColumn:ot,selectWidth:dt},zl=Pe(3),Yl=he(1500),mt=({data:e,periode:a,skjulPeriode:l,readOnly:n,oppdaterPeriode:t,vilkarsVurdertePerioder:i,kodeverkSamlingFpTilbake:s,antallPerioderMedAksjonspunkt:u})=>{const v=U(),[g,k]=B.useState(!1),o=je({defaultValues:a}),E=o.watch("valgtVilkarResultatType"),R=o.watch(`${E}.handletUaktsomhetGrad`),S=o.watch(`${E}.${R}.harGrunnerTilReduksjon`),c=o.watch(`${E}.${R}.andelSomTilbakekreves`),b=o.watch(`${E}.${R}.tilbakekrevSelvOmBeloepErUnder4Rettsgebyr`),A=o.watch(`${E}.${R}.${jr.ANNET}`),P=o.watch(`${E}.erBelopetIBehold`),H=yl(E),j=yl(R),G=e.redusertBeloper,ae=s.SærligGrunn,ye=s.VilkårResultat,ee=Pr.map(I=>s.Aktsomhet.find(z=>z.kode===I)),Ne=(I,z)=>{const y=I.target.value.split("_"),V=z.find(te=>te.fom===y[0]&&te.tom===y[1]),_=V?.valgtVilkarResultatType,q=V&&_?V[_]:void 0,M=JSON.parse(JSON.stringify(q));if(_!==Z.GOD_TRO){const{handletUaktsomhetGrad:te}=M;te!==Y.FORSETT&&a?.harMerEnnEnYtelse!==V?.harMerEnnEnYtelse&&(M[te].andelSomTilbakekreves=null,M[te].andelSomTilbakekrevesManuell=null,M[te].belopSomSkalTilbakekreves=null)}o.setValue("valgtVilkarResultatType",_,{shouldDirty:!0}),o.setValue("begrunnelse",V?.begrunnelse,{shouldDirty:!0}),o.setValue("vurderingBegrunnelse",V?.vurderingBegrunnelse,{shouldDirty:!0}),_&&o.setValue(_,M,{shouldDirty:!0}),I.preventDefault()},Te=()=>{k(!g),t(o.getValues())},Ie=I=>{u>1&&e.erTotalBelopUnder4Rettsgebyr&&b===!1?k(!g):t(I)},xe=()=>{H&&o.resetField(H)},pe=()=>{j&&o.resetField(`${E}.${j}`)},ne=i.filter(I=>!I.erForeldet&&I.valgtVilkarResultatType!=null);return r.jsx(Ae,{formMethods:o,onSubmit:Ie,children:r.jsxs(F,{gap:"space-16",children:[r.jsx(F,{gap:"space-8",children:G&&G.map(I=>r.jsx(x,{size:"small",children:r.jsx(d,{id:I.erTrekk?"TilbakekrevingPeriodeForm.FeilutbetaltBelopTrekk":"TilbakekrevingPeriodeForm.FeilutbetaltBelopEtterbetaling",values:{belop:ce(I.belop),b:Kr}})},I.belop))}),r.jsx(nt,{ytelser:e.ytelser}),!n&&!e.erForeldet&&ne.length>0&&r.jsx(Ze,{name:"perioderForKopi",control:o.control,selectValues:ne.map(I=>{const z=`${I.fom}_${I.tom}`,y=`${f(I.fom).format(Q)} - ${f(I.tom).format(Q)}`;return r.jsx("option",{value:z,children:y},z)}),onChange:I=>Ne(I,ne),className:Ye.selectWidth,label:r.jsx(d,{id:"TilbakekrevingPeriodeForm.KopierVilkårsvurdering"})}),r.jsxs(O,{gap:"space-16",wrap:!0,children:[r.jsxs("div",{className:Ye.leftColumn,children:[e.erForeldet&&r.jsx(Wn,{}),!e.erForeldet&&r.jsxs(F,{gap:"space-8",children:[r.jsx(ke,{size:"small",level:"3",children:r.jsx(d,{id:"TilbakekrevingPeriodeForm.VilkarForTilbakekreving"})}),r.jsx(ue,{name:"begrunnelse",control:o.control,label:v.formatMessage({id:"TilbakekrevingPeriodeForm.Vurdering"}),validate:[D,zl,Yl,me],maxLength:1500,readOnly:n,className:Ye.explanationTextarea,description:v.formatMessage({id:"TilbakekrevingPeriodeForm.Vurdering.Hjelpetekst"})}),r.jsx(de,{name:"valgtVilkarResultatType",control:o.control,label:r.jsx(d,{id:"TilbakekrevingPeriodeForm.oppfylt"}),validate:[D],isReadOnly:n,onChange:xe,children:ye.map(I=>r.jsx(C,{value:I.kode,size:"small",children:I.navn},I.kode))})]})]}),r.jsx("div",{className:Ye.rightColumn,children:E&&r.jsxs(F,{gap:"space-8",children:[r.jsx(ke,{size:"small",level:"3",children:r.jsx(d,{id:E===Z.GOD_TRO?"TilbakekrevingPeriodeForm.BelopetMottattIGodTro":"TilbakekrevingPeriodeForm.Aktsomhet"})}),r.jsx(ue,{name:"vurderingBegrunnelse",control:o.control,label:v.formatMessage({id:E===Z.GOD_TRO?"TilbakekrevingPeriodeForm.VurderingMottattIGodTro":"TilbakekrevingPeriodeForm.VurderingAktsomhet"}),validate:[D,zl,Yl,me],maxLength:1500,readOnly:n}),E===Z.GOD_TRO&&r.jsx($e,{name:E,readOnly:n,erBelopetIBehold:P,feilutbetalingBelop:e.feilutbetaling}),E!==Z.GOD_TRO&&r.jsx(He,{name:E,harGrunnerTilReduksjon:S,readOnly:n,handletUaktsomhetGrad:R,resetFields:pe,erSerligGrunnAnnetValgt:A,erValgtResultatTypeForstoBurdeForstaatt:E===Z.FORSTO_BURDE_FORSTAATT,aktsomhetTyper:ee,sarligGrunnTyper:ae,antallYtelser:e.ytelser.length,feilutbetalingBelop:e.feilutbetaling,erTotalBelopUnder4Rettsgebyr:e.erTotalBelopUnder4Rettsgebyr,andelSomTilbakekreves:c},E)]})})]}),r.jsxs(O,{gap:"space-16",children:[r.jsx(L,{size:"small",variant:"primary",disabled:!o.formState.isDirty||n,children:r.jsx(d,{id:"TilbakekrevingPeriodeForm.Oppdater"})}),r.jsx(L,{size:"small",variant:"secondary",onClick:l,type:"button",children:r.jsx(d,{id:"TilbakekrevingPeriodeForm.Avbryt"})})]}),g&&r.jsx(tt,{showModal:!0,submit:Te})]})})},ut="_margin_1wl4t_1",qe={margin:ut},kt={danger:r.jsx(cr,{}),success:r.jsx(Rr,{}),warning:r.jsx(pr,{})},Tt=(e,a)=>e.fom<a.fom?-1:e.fom>a.fom?1:0,pt=e=>{const a=e.isGodkjent?"success":"danger";return e.isAksjonspunktOpen?"warning":a},vt=(e=[])=>[...e].sort(Tt).map(a=>({...a,status:pt(a)})),Et=e=>e==="MORA"||e==="MMOR"?r.jsx(vr,{width:20,height:20,color:"var(--ax-danger-500)"}):e==="FARA"?r.jsx(Er,{width:20,height:20,color:"var(--ax-accent-700)"}):r.jsx(gr,{width:20,height:20}),gt=({perioder:e,valgtPeriode:a,setPeriode:l,relasjonsRolleType:n,relasjonsRolleTypeKodeverk:t})=>{const i=U(),s=vt(e),u=P=>{const H=e.find(j=>j.id===P);H&&l(H)},v=f(s[0].fom),g=f(s[s.length-1].tom),[k,o]=B.useState(v),[E,R]=B.useState(g),S=()=>{k.subtract(1,"month").isBefore(v)||(o(k.subtract(1,"month")),R(E.subtract(1,"month")))},c=()=>{E.add(1,"month").isAfter(g)||(o(k.add(1,"month")),R(E.add(1,"month")))},b=()=>{k.add(3,"month").isAfter(E)||(o(k.add(1,"month")),R(E.subtract(1,"month")))},A=()=>{E.add(1,"month").diff(k.subtract(1,"month"),"months")<36&&(o(k.subtract(1,"month")),R(E.add(1,"month")))};return r.jsxs(F,{gap:"space-16",children:[r.jsx(fe,{startDate:f(k).toDate(),endDate:f(E).add(1,"days").toDate(),children:r.jsx(fe.Row,{label:t.find(P=>P.kode===n)?.navn||"-",icon:Et(n),children:s.map(P=>r.jsx(fe.Period,{start:f(P.fom).toDate(),end:f(P.tom).toDate(),status:P.status,icon:kt[P.status],onSelectPeriod:()=>u(P.id),isActive:a?.id===P.id,"aria-controls":"panel-tilbakekreving",id:P.id.toString()},P.id))})}),r.jsxs(O,{justify:"end",children:[r.jsx(L,{className:qe.margin,size:"small",icon:r.jsx(dr,{"aria-hidden":!0}),onClick:b,variant:"primary-neutral",type:"button",title:i.formatMessage({id:"TilbakekrevingTimeline.ZoomInn"})}),r.jsx(L,{className:qe.margin,size:"small",icon:r.jsx(kr,{"aria-hidden":!0}),onClick:A,variant:"primary-neutral",type:"button",title:i.formatMessage({id:"TilbakekrevingTimeline.ZoomUt"})}),r.jsx(L,{className:qe.margin,size:"small",icon:r.jsx(al,{"aria-hidden":!0}),onClick:S,variant:"primary-neutral",type:"button",title:i.formatMessage({id:"TilbakekrevingTimeline.ScrollTilVenstre"})}),r.jsx(L,{className:qe.margin,size:"small",icon:r.jsx(nl,{"aria-hidden":!0}),onClick:c,variant:"primary-neutral",type:"button",title:i.formatMessage({id:"TilbakekrevingTimeline.ScrollTilHogre"})})]})]})};f.extend(Sn);const El=(e,a)=>f(e.fom).diff(f(a.fom)),ql=e=>!e.erForeldet&&(e.begrunnelse===void 0||e.erSplittet),Rt=e=>{const a=e[e.valgtVilkarResultatType],l=a[a.handletUaktsomhetGrad];return a.tilbakekrevdBelop?{...e,[e.valgtVilkarResultatType]:{...Fe(a,"tilbakekrevdBelop")}}:l&&l.belopSomSkalTilbakekreves?{...e,[e.valgtVilkarResultatType]:{...a,[a.handletUaktsomhetGrad]:{...Fe(l,"belopSomSkalTilbakekreves")}}}:e},ct=(e,a=[])=>a.map((l,n)=>{const t=e.find(u=>u.fom===l.fom&&u.tom===l.tom),i=t&&t[t.valgtVilkarResultatType]?t[t.valgtVilkarResultatType].erBelopetIBehold:void 0,s=t?!!t.erSplittet:!1;return{fom:l.fom,tom:l.tom,isAksjonspunktOpen:!l.erForeldet&&(t?.begrunnelse===void 0||s),isGodkjent:!(l.erForeldet||i===!1),id:n}}),yr=(e,a)=>a.find(l=>!f(e.fom).isBefore(f(l.fom))&&!f(e.tom).isAfter(f(l.tom))),bt=(e,a)=>a.every(l=>!(f(e.fom).isSameOrBefore(f(l.tom))&&f(l.fom).isSameOrBefore(f(e.tom)))),ht=(e,a,l)=>{const n=e.reduce((i,s)=>i+s.feilutbetaling,0)<l*4,t=a.vilkarsVurdertePerioder.map(i=>{const s=yr(i,e);return{...s,harMerEnnEnYtelse:s&&s.ytelser.length>1,...Fe(i,"feilutbetalingBelop"),feilutbetaling:i.feilutbetalingBelop,erTotalBelopUnder4Rettsgebyr:n}});return{perioder:e.filter(i=>bt(i,t)).map(i=>({...i,harMerEnnEnYtelse:i.ytelser.length>1,erTotalBelopUnder4Rettsgebyr:n})).concat(t)}},St=(e,a)=>{if(!(!e||!a))return a.map(l=>{const n=yr(l,e.perioder),t=n.foreldelseVurderingType?n.foreldelseVurderingType===Fr.FORELDET:n.foreldet;return{redusertBeloper:n.redusertBeloper,ytelser:n.ytelser,feilutbetaling:l.feilutbetaling?l.feilutbetaling:n.feilutbetaling,erTotalBelopUnder4Rettsgebyr:n.erTotalBelopUnder4Rettsgebyr,fom:l.fom,tom:l.tom,årsak:n.årsak,begrunnelse:n.begrunnelse,erForeldet:t||!1}})},ft=(e,a)=>{const{vilkarResultat:l,begrunnelse:n,vilkarResultatInfo:t}=e,i=l?.kode??l;let s;const u=e.erForeldet??e.foreldet;if(u){const o=a.perioder.find(E=>E.fom===e.fom&&E.tom===e.tom);s={erForeldet:u,periodenErForeldet:!0,foreldetBegrunnelse:o?Re(o.begrunnelse):void 0}}else s={erForeldet:!1,periodenErForeldet:void 0,foreldetBegrunnelse:void 0};const v={valgtVilkarResultatType:i,begrunnelse:Re(n),harMerEnnEnYtelse:e.ytelser.length>1,...s},g=i===Z.GOD_TRO?$e.buildIntialValues(t):{},k=i!==void 0&&i!==Z.GOD_TRO?He.buildInitalValues(t):{};return{...v,vurderingBegrunnelse:t?Re(t.begrunnelse):void 0,[v.valgtVilkarResultatType]:{...g,...k}}},Ft=(e,a)=>{const{valgtVilkarResultatType:l,begrunnelse:n,vurderingBegrunnelse:t}=e,i=e[l],s=l===Z.GOD_TRO?$e.transformValues(i,t):{},u=l!==Z.GOD_TRO?He.transformValues(i,a,t):{};return{begrunnelse:n,fom:e.fom,tom:e.tom,vilkarResultat:l,vilkarResultatInfo:{...s,...u}}},Pt=(e,a)=>e.perioder.map(l=>({...ft(l,a),fom:l.fom,tom:l.tom})).sort(El),jt=(e,a)=>({kode:ol.VURDER_TILBAKEKREVING,vilkarsVurdertePerioder:e.filter(l=>!l.erForeldet).map(l=>Ft(l,a))}),At=e=>{if(!e||e.reduce((l,n)=>n.erForeldet?l:l+1,0)<2)return;const a=e.reduce((l,n)=>{const{valgtVilkarResultatType:t}=n,i=n[t],{handletUaktsomhetGrad:s}=i,u=i[s];return u&&u.tilbakekrevSelvOmBeloepErUnder4Rettsgebyr===!1?l+1:l},0);if(a>0&&a!==e.length)return"TilbakekrevingPeriodeForm.TotalbelopetUnder4Rettsgebyr"},yt=({perioderForeldelse:e,kodeverkSamlingFpTilbake:a,vilkarvurderingsperioder:l,submitCallback:n,isReadOnly:t,alleMerknaderFraBeslutter:i,vilkarvurdering:s,relasjonsRolleType:u,relasjonsRolleTypeKodeverk:v,beregnBelop:g,behandlingUuid:k,formData:o,setFormData:E})=>{const R=l.perioder,S=l.rettsgebyr,c=ht(R,s,S),[b,A]=B.useState(o||Pt(c,e)),[P,H]=B.useState(!!o),[j,G]=B.useState(b?.find(ql)),[ae,ye]=B.useState(!1),[ee,Ne]=B.useState();B.useEffect(()=>{Ne(At(b))},[b]);const Te=St(c,b),Ie=b.reduce((K,$)=>$.erForeldet?K:K+1,0),xe=i[ol.VURDER_TILBAKEKREVING],pe=()=>{ye(!0),n(jt(b,a.SærligGrunn))},ne=ct(b,Te),I=ne.some(K=>K.isAksjonspunktOpen),z=j?ne.find(K=>K.fom===j.fom&&K.tom===j.tom):void 0,y=K=>{const $=K?b.find(J=>J.fom===K.fom&&J.tom===K.tom):void 0;G($)},V=()=>{const K=b.findIndex($=>$.fom===j?.fom&&$.tom===j?.tom);y(b[K+1])},_=()=>{const K=b.findIndex($=>$.fom===j?.fom&&$.tom===j?.tom);y(b[K-1])},q=()=>{y(void 0)},M=K=>{const $=Fe(K,"erSplittet"),J=b.filter(Ee=>Ee.fom!==$.fom&&Ee.tom!==$.tom).concat($).sort(El);A(J),E(J),H(!0),q();const Be=J.find(ql);Be&&y(Be)},te=K=>{const $=b.find(J=>J.fom===j?.fom&&J.tom===j?.tom);if($){const J=K.map(Ee=>({...Rt($),...Ee,erSplittet:!0})),Be=b.filter(Ee=>Ee.fom!==j?.fom&&Ee.tom!==j?.tom).concat(J).sort(El);q(),H(!0),A(Be),E(Be),y(J[0])}},ve=Te?Te.find(K=>K.fom===j?.fom&&K.tom===j?.tom):void 0;return r.jsx(hl,{merknaderFraBeslutter:xe,withoutBorder:!0,children:r.jsxs(F,{gap:"space-16",children:[r.jsx(ke,{size:"small",level:"2",children:r.jsx(d,{id:"Behandlingspunkt.Tilbakekreving"})}),I&&r.jsx(cl,{children:r.jsx(d,{id:"TilbakekrevingForm.AksjonspunktHjelpetekst"})}),b&&r.jsxs(r.Fragment,{children:[r.jsx(gt,{perioder:ne,valgtPeriode:z,setPeriode:y,relasjonsRolleType:u,relasjonsRolleTypeKodeverk:v}),j&&ve&&r.jsx("div",{id:"panel-tilbakekreving","aria-controls":z?.id.toString(),children:r.jsx(sr.New,{borderWidth:"1",padding:"4",children:r.jsxs(F,{gap:"space-16",children:[r.jsx(Rn,{setNestePeriode:V,setForrigePeriode:_,periode:ve,readOnly:t,oppdaterSplittedePerioder:te,behandlingUuid:k,beregnBelop:g,lukkPeriode:q}),r.jsx(An,{feilutbetaling:ve.feilutbetaling,fom:ve.fom,tom:ve.tom,arsakHendelseNavn:a.HendelseType.find(K=>K.kode===ve.årsak?.hendelseType)?.navn}),r.jsx(mt,{periode:j,data:ve,antallPerioderMedAksjonspunkt:Ie,readOnly:t||j?.erForeldet===!0,skjulPeriode:q,oppdaterPeriode:M,kodeverkSamlingFpTilbake:a,vilkarsVurdertePerioder:b},z?.id)]})})})]}),ee&&r.jsx(rl,{variant:"error",children:r.jsx(d,{id:ee})}),r.jsx("div",{children:r.jsx(Fl,{isReadOnly:t||j?.erForeldet===!0,isDirty:P,isSubmittable:!I&&!j&&!ee,onClick:pe,isSubmitting:ae})})]})})},Nt={"Behandlingspunkt.Tilbakekreving":"Tilbakekreving","TilbakekrevingAktivitetTabell.Aktivitet":"Aktivitet","TilbakekrevingAktivitetTabell.FeilutbetaltBelop":"Feilutbetalt beløp","TilbakekrevingForm.AksjonspunktHjelpetekst":"Fastsett tilbakekreving etter §22-15. Del opp perioden ved behov for ulik vurdering","TilbakekrevingPeriodeForm.VilkarForTilbakekreving":"Vilkårene for tilbakekreving","TilbakekrevingPeriodeForm.oppfylt":"Er vilkårene for tilbakekreving oppfylt?","TilbakekrevingPeriodeForm.TotalbelopetUnder4Rettsgebyr":"Totalbeløpet er under 4 rettsgebyr. Dersom 6.ledd skal anvendes for å frafalle tilbakekrevingen, må denne anvendes likt på alle periodene.","TilbakekrevingPeriodeForm.Oppdater":"Oppdater","TilbakekrevingPeriodeForm.Avbryt":"Avbryt","TilbakekrevingPeriodeForm.Vurdering":"Vurder hvilken hjemmel i § 22-15 1. ledd som skal benyttes","TilbakekrevingPeriodeForm.Vurdering.Hjelpetekst":"Hvilke hendelser har ført til feilutbetalingen og vurder valg av hjemmel","TilbakekrevingPeriodeForm.MaVelgeSarligGrunn":"Du må velge minst en Særlig grunn","TilbakekrevingPeriodeForm.BelopKanIkkeVereStorreEnnFeilutbetalingen":"Beløp kan ikke være større enn feilutbetalingen","TilbakekrevingPeriodeForm.BelopMaVereMindreEnnFeilutbetalingen":"Beløp må være mindre enn feilutbetalingen","TilbakekrevingPeriodeForm.FeilutbetaltBelopEtterbetaling":"Feilutbetalt beløp er redusert med <b>kr. {belop},-</b> på grunn av etterbetaling innen samme periode.","TilbakekrevingPeriodeForm.FeilutbetaltBelopTrekk":"Feilutbetalt beløp er redusert med <b>kr. {belop},-</b> på grunn av trekk.","TilbakekrevingPeriodeForm.Aktsomhet":"Aktsomhet","TilbakekrevingPeriodeForm.VurderingAktsomhet":"Vurder hvorfor mottaker burde forstått, må ha forstått eller forsto at utbetalingen skyldtes en feil","TilbakekrevingPeriodeForm.BelopetMottattIGodTro":"Beløpet mottatt i god tro","TilbakekrevingPeriodeForm.VurderingMottattIGodTro":"Begrunn hvorfor mottaker er i god tro","TilbakekrevingPeriodeForm.KopierVilkårsvurdering":"Kopier vilkårsvurdering fra","AktsomhetGradForsettFormPanel.Andel":"Andel som skal tilbakekreves","AktsomhetGradForsettFormPanel.Renter":"Det legges til 10 % renter","TilbakekrevingTimeline.ZoomInn":"Zoom inn","TilbakekrevingTimeline.ZoomUt":"Zoom ut","TilbakekrevingTimeline.ScrollTilVenstre":"Scroll til venstre","TilbakekrevingTimeline.ScrollTilHogre":"Scroll til høyre","PeriodeController.nextPeriod":"Neste periode","PeriodeController.nextPeriodShort":"Neste","PeriodeController.prevPeriod":"Forrige periode","PeriodeController.prevPeriodShort":"Forrige","PeriodeController.LukkPeriode":"Lukk periode","AktsomhetReduksjonAvBelopFormPanel.AngiAndelSomTilbakekreves":"Angi andel som skal tilbakekreves","AktsomhetReduksjonAvBelopFormPanel.andelSomTilbakekreves":"Andel som skal tilbakekreves","AktsomhetReduksjonAvBelopFormPanel.SkalTilleggesRenter":"Skal det tillegges renter?","AktsomhetReduksjonAvBelopFormPanel.BelopSomSkalTilbakekreves":"Beløp som skal tilbakekreves","AktsomhetReduksjonAvBelopFormPanel.AngiBelopSomSkalTilbakekreves":"Angi beløp som skal tilbakekreves","AktsomhetReduksjonAvBelopFormPanel.SkalSarligeGrunnerGiReduksjon":"Skal særlige grunner gi reduksjon av beløpet?","AktsomhetReduksjonAvBelopFormPanel.Nei":"Nei","AktsomhetReduksjonAvBelopFormPanel.Ja":"Ja","AktsomhetFormPanel.HandletUaktsomhetGrad":"I hvilken grad burde mottaker forstått at utbetalingen skyldtes en feil","AktsomhetFormPanel.AktsomhetTyperLabel.SimpelUaktsom":"Burde ha forstått","AktsomhetFormPanel.AktsomhetTyperLabel.GrovtUaktsomt":"Må ha forstått","AktsomhetFormPanel.AktsomhetTyperLabel.Forsett":"Forsto","AktsomhetGradUaktsomhetFormPanel.AllePerioderBehandlesLikt":"Når 6. ledd anvendes må alle perioder behandles likt","AktsomhetGradUaktsomhetFormPanel.Nei":"Nei","AktsomhetGradUaktsomhetFormPanel.Ja":"Ja","AktsomhetGradUaktsomhetFormPanel.Tilbakekrev":"Totalbeløpet er under 4 rettsgebyr (6. ledd). Skal det tilbakekreves?","AktsomhetGradUaktsomhetFormPanel.SærligGrunner":"Særlige grunner 4. ledd","AktsomhetGradUaktsomhetFormPanel.VurderSærligGrunner":"Vurder særlige grunner du har vektlagt for resultatet","AktsomhetGradUaktsomhetFormPanel.VurderSærligGrunner.Hjelpetekst":"Begrunn om det foreligger/ ikke foreligger særlige grunner for reduksjon av beløpet som kreves tilbake. Kryss av hvilke særlige grunner som er vektlagt for resultatet","AktsomhetSarligeGrunnerFormPanel.GrunnerTilReduksjon":"Særlige grunner som er vektlagt (4.ledd)","PeriodeController.Detaljer":"Detaljer for valgt periode","PeriodeController.DelOppPerioden":"Del opp perioden","PeriodeController.ForrigePeriode":"Forrige periode","PeriodeController.NestePeriode":"Neste periode","PeriodeInformasjon.Feilutbetaling":"Feilutbetaling","DelOppPeriodeModalImpl.Periode":"Periode","DelOppPeriodeModalImpl.AngiTomDato":"Angi t.o.m. dato for første periode","DelOppPeriodeModalImpl.ModalDescription":"Periode er splittet","DelOppPeriodeModalImpl.DelOppPerioden":"Del opp perioden","DelOppPeriodeModalImpl.Ok":"Ok","DelOppPeriodeModalImpl.Avbryt":"Avbryt","DelOppPeriodeModalImpl.DatoUtenforPeriode":"Dato må være innenfor perioden","DelOppPeriodeModalImpl.BelopEr0":"Periode har 0 virkedager","BelopetMottattIGodTroFormPanel.Vurdering":"Vurdering","BelopetMottattIGodTroFormPanel.BelopetIBehold":"Er beløpet i behold?","BelopetMottattIGodTroFormPanel.Ja":"Ja","BelopetMottattIGodTroFormPanel.Nei":"Nei","BelopetMottattIGodTroFormPanel.AngiBelop":"Angi beløp som skal tilbakekreves","BelopetMottattIGodTroFormPanel.IngenTilbakekreving":"Ingen tilbakekreving","SubmitButton.ConfirmInformation":"Bekreft og fortsett","TilbakekrevingTimeline.ImageText":"Personinformasjon","TilbakekrevingTimeline.Woman":"Kvinne","TilbakekrevingTimeline.Man":"Mann","UttakInfoPanel.IngenPerioder":"Det må være minst én periode i uttaket.","UttakInfoPanel.PeriodenSlettes":"Perioden {fom} - {tom} {uttakPeriodeType} slettes","UttakInfoPanel.Frilans":"Frilanser","UttakInfoPanel.Selvstendignæringsdrivende":"Selvstendig næringsdrivende","Malform.Beskrivelse":"Foretrukket språk","Timeline.scrollLeft":"Scrolle venstre","Timeline.scrollRight":"Scrolle høyre","Timeline.zoomIn":"Zoom inn","Timeline.zoomOut":"Zoom ut","Timeline.openData":"Åpne info om første periode","Timeline.closeData":"Lukke info om periode","Timeline.nextPeriod":"Scroll til høyre","Timeline.prevPeriod":"Scroll til venstre","Timeline.tooltip.dagsats":"Dagsats: {dagsats}kr","Timeline.tooltip.start":"Start","Timeline.tooltip.slutt":"Slutt","Timeline.tooltip.periodetype":"Periodetype","Timeline.tooltip.utsettelsePeriode":"Utsettelse","Timeline.TidspunktFamiliehendelse":"Tidspunkt for familiehendelse","Timeline.OppfyltPeriode":"Oppfylt periode","Timeline.IkkeOppfyltPeriode":"Ikke oppfylt periode","Timeline.TidspunktMotakSoknad":"Tidspunkt for mottatt søknad","Timeline.BelopTilbakereves":"Beløp tilbakekreves","Timeline.IngenTilbakekreving":"Ingen tilbakekreving","Timeline.IkkeAvklartPeriode":"Uavklart periode","Timeline.TidspunktRevurdering":"Startpunkt for revurdering","Timeline.GradertPeriode":"Gradert periode","Timeline.ManueltAvklart":"Manuelt avklart periode","ForeldetFormPanel.VurderOmPeriodenErForeldet":"Vurder om perioden er foreldet","ForeldetFormPanel.PeriodenErForeldet":"Perioden er foreldet"},It=el(Nt),xt=e=>r.jsx(Qe,{value:It,children:r.jsx(yt,{...e})}),Bt=[ol.VURDER_TILBAKEKREVING],Nr=({tilbakekrevingKodeverk:e})=>{const a=U(),{behandling:l,fagsak:n}=B.use(Ue),t=Sl(Bt),i=tl(l),{data:s}=oe(i.tilbakekreving.perioderForeldelseOptions(l)),{data:u}=oe(i.tilbakekreving.vilkårsvurderingsperioderOptions(l)),{data:v}=oe(i.tilbakekreving.vilkårsvurderingOptions(l)),{mutateAsync:g}=Pl({mutationFn:k=>i.tilbakekreving.beregneBeløp(k)});return N.jsx(fl,{standardPanelProps:t,prosessPanelKode:Rl.TILBAKEKREVING,prosessPanelMenyTekst:a.formatMessage({id:"Behandlingspunkt.Tilbakekreving"}),skalPanelVisesIMeny:!0,overstyrtStatus:Lt(t.aksjonspunkterForPanel),children:s&&u&&v?N.jsx(Ot,{perioderForeldelse:s,vilkarvurderingsperioder:u,vilkarvurdering:v,kodeverkSamlingFpTilbake:e,beregnBelop:k=>g(k),relasjonsRolleType:n.relasjonsRolleType,relasjonsRolleTypeKodeverk:t.alleKodeverk.RelasjonsRolleType,...t,behandlingUuid:l.uuid}):N.jsx(Me,{})})},Ot=e=>{const{mellomlagretFormData:a,setMellomlagretFormData:l}=ll();return N.jsx(xt,{...e,formData:a,setFormData:l})},Lt=e=>e.length>0?e.some(ea)?se.IKKE_VURDERT:se.OPPFYLT:se.IKKE_VURDERT;Nr.__docgenInfo={description:"",methods:[],displayName:"TilbakekrevingProsessInitPanel",props:{tilbakekrevingKodeverk:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  [K in TilbakekrevingKodeverkType]: KodeverkMedNavnTilbakekreving<
    K extends TilbakekrevingKodeverkType ? K : unknown
  >[];
}`,signature:{properties:[{key:{name:"signature",type:"object",raw:`{
  BehandlingType: BehandlingType;
  BehandlingÅrsakType: BehandlingArsakType;
  BehandlingResultatType: BehandlingResultatTypeTilbakekreving;
  HistorikkAktør: HistorikkAktor;
  SkjermlenkeType: SkjermlenkeTypeTilbakekreving;
  Venteårsak: VenteArsakType;
  VurderÅrsak: VurderÅrsak;
  VergeType: VergeType;
  Aktsomhet: Aktsomhet;
  VedtakResultatType: VedtakResultatType;
  HendelseType: HendelseType;
  SærligGrunn: SærligGrunn;
  ForeldelseVurderingType: ForeldelseVurderingType;
  VilkårResultat: VilkårResultat;
  HendelseUnderType: HendelseUnderType;
  VidereBehandling: TilbakekrevingVidereBehandling;
}`,signature:{properties:[{key:"BehandlingType",value:{name:"union",raw:`| 'BT-002'
| 'BT-003'
| 'BT-004'
| 'BT-008'
| 'BT-006'
| 'BT-007'
| 'BT-009'
| '-'`,elements:[{name:"literal",value:"'BT-002'"},{name:"literal",value:"'BT-003'"},{name:"literal",value:"'BT-004'"},{name:"literal",value:"'BT-008'"},{name:"literal",value:"'BT-006'"},{name:"literal",value:"'BT-007'"},{name:"literal",value:"'BT-009'"},{name:"literal",value:"'-'"}],required:!0}},{key:"BehandlingÅrsakType",value:{name:"union",raw:`| 'RE-LOV'
| 'RE-RGLF'
| 'RE-FEFAKTA'
| 'RE-PRSSL'
| 'RE-ANNET'
| 'RE-MDL'
| 'RE-OPTJ'
| 'RE-FRDLING'
| 'RE-INNTK'
| 'RE-FØDSEL'
| 'RE-DØD'
| 'RE-SRTB'
| 'RE-FRIST'
| 'RE-BER-GRUN'
| 'RE-KLAG-U-INNTK'
| 'RE-KLAG-M-INNTK'
| 'ETTER_KLAGE'
| 'RE-MF'
| 'RE-MFIP'
| 'RE-AVAB'
| 'RE-END-FRA-BRUKER'
| 'RE-END-INNTEKTSMELD'
| 'BERØRT-BEHANDLING'
| 'REBEREGN-FERIEPENGER'
| 'RE-UTSATT-START'
| 'RE-SATS-REGULERING'
| 'ENDRE-DEKNINGSGRAD'
| 'INFOBREV_BEHANDLING'
| 'INFOBREV_OPPHOLD'
| 'INFOBREV_PÅMINNELSE'
| 'OPPHØR-NYTT-BARN'
| 'RE-HENDELSE-FØDSEL'
| 'RE-HENDELSE-DØD-F'
| 'RE-HENDELSE-DØD-B'
| 'RE-HENDELSE-DØDFØD'
| 'RE-HENDELSE-UTFLYTTING'
| 'RE-VEDTAK-PSB'
| 'FEIL_PRAKSIS_UTSETTELSE'
| 'FEIL_PRAKSIS_IVERKS_UTSET'
| 'FEIL_PRAKSIS_BG_AAP_KOMBI'
| 'KLAGE_TILBAKE'
| 'RE-YTELSE'
| 'RE-REGISTEROPPL'
| 'KØET-BEHANDLING'
| 'RE-TILST-YT-INNVIL'
| 'RE-TILST-YT-OPPH'
| '-'`,elements:[{name:"literal",value:"'RE-LOV'"},{name:"literal",value:"'RE-RGLF'"},{name:"literal",value:"'RE-FEFAKTA'"},{name:"literal",value:"'RE-PRSSL'"},{name:"literal",value:"'RE-ANNET'"},{name:"literal",value:"'RE-MDL'"},{name:"literal",value:"'RE-OPTJ'"},{name:"literal",value:"'RE-FRDLING'"},{name:"literal",value:"'RE-INNTK'"},{name:"literal",value:"'RE-FØDSEL'"},{name:"literal",value:"'RE-DØD'"},{name:"literal",value:"'RE-SRTB'"},{name:"literal",value:"'RE-FRIST'"},{name:"literal",value:"'RE-BER-GRUN'"},{name:"literal",value:"'RE-KLAG-U-INNTK'"},{name:"literal",value:"'RE-KLAG-M-INNTK'"},{name:"literal",value:"'ETTER_KLAGE'"},{name:"literal",value:"'RE-MF'"},{name:"literal",value:"'RE-MFIP'"},{name:"literal",value:"'RE-AVAB'"},{name:"literal",value:"'RE-END-FRA-BRUKER'"},{name:"literal",value:"'RE-END-INNTEKTSMELD'"},{name:"literal",value:"'BERØRT-BEHANDLING'"},{name:"literal",value:"'REBEREGN-FERIEPENGER'"},{name:"literal",value:"'RE-UTSATT-START'"},{name:"literal",value:"'RE-SATS-REGULERING'"},{name:"literal",value:"'ENDRE-DEKNINGSGRAD'"},{name:"literal",value:"'INFOBREV_BEHANDLING'"},{name:"literal",value:"'INFOBREV_OPPHOLD'"},{name:"literal",value:"'INFOBREV_PÅMINNELSE'"},{name:"literal",value:"'OPPHØR-NYTT-BARN'"},{name:"literal",value:"'RE-HENDELSE-FØDSEL'"},{name:"literal",value:"'RE-HENDELSE-DØD-F'"},{name:"literal",value:"'RE-HENDELSE-DØD-B'"},{name:"literal",value:"'RE-HENDELSE-DØDFØD'"},{name:"literal",value:"'RE-HENDELSE-UTFLYTTING'"},{name:"literal",value:"'RE-VEDTAK-PSB'"},{name:"literal",value:"'FEIL_PRAKSIS_UTSETTELSE'"},{name:"literal",value:"'FEIL_PRAKSIS_IVERKS_UTSET'"},{name:"literal",value:"'FEIL_PRAKSIS_BG_AAP_KOMBI'"},{name:"literal",value:"'KLAGE_TILBAKE'"},{name:"literal",value:"'RE-YTELSE'"},{name:"literal",value:"'RE-REGISTEROPPL'"},{name:"literal",value:"'KØET-BEHANDLING'"},{name:"literal",value:"'RE-TILST-YT-INNVIL'"},{name:"literal",value:"'RE-TILST-YT-OPPH'"},{name:"literal",value:"'-'"}],required:!0}},{key:"BehandlingResultatType",value:{name:"BehandlingResultatTypeTilbakekreving",required:!0}},{key:"HistorikkAktør",value:{name:"union",raw:`| 'BESL'
| 'SBH'
| 'SOKER'
| 'ARBEIDSGIVER'
| 'VL'
| '-'`,elements:[{name:"literal",value:"'BESL'"},{name:"literal",value:"'SBH'"},{name:"literal",value:"'SOKER'"},{name:"literal",value:"'ARBEIDSGIVER'"},{name:"literal",value:"'VL'"},{name:"literal",value:"'-'"}],required:!0}},{key:"SkjermlenkeType",value:{name:"SkjermlenkeTypeTilbakekreving",required:!0}},{key:"Venteårsak",value:{name:"VenteArsakType",required:!0}},{key:"VurderÅrsak",value:{name:"VurderÅrsak",required:!0}},{key:"VergeType",value:{name:"union",raw:`| 'BARN'
| 'FBARN'
| 'VOKSEN'
| 'ADVOKAT'
| 'ANNEN_F'`,elements:[{name:"literal",value:"'BARN'"},{name:"literal",value:"'FBARN'"},{name:"literal",value:"'VOKSEN'"},{name:"literal",value:"'ADVOKAT'"},{name:"literal",value:"'ANNEN_F'"}],required:!0}},{key:"Aktsomhet",value:{name:"union",raw:"'FORSETT' | 'GROVT_UAKTSOM' | 'SIMPEL_UAKTSOM'",elements:[{name:"literal",value:"'FORSETT'"},{name:"literal",value:"'GROVT_UAKTSOM'"},{name:"literal",value:"'SIMPEL_UAKTSOM'"}],required:!0}},{key:"VedtakResultatType",value:{name:"VedtakResultatType",required:!0}},{key:"HendelseType",value:{name:"union",raw:"'MEDLEMSKAP' | 'OKONOMI_FEIL' | 'BEREGNING_TYPE'",elements:[{name:"literal",value:"'MEDLEMSKAP'"},{name:"literal",value:"'OKONOMI_FEIL'"},{name:"literal",value:"'BEREGNING_TYPE'"}],required:!0}},{key:"SærligGrunn",value:{name:"union",raw:`| 'GRAD_AV_UAKTSOMHET'
| 'HELT_ELLER_DELVIS_NAVS_FEIL'
| 'STOERRELSE_BELOEP'
| 'TID_FRA_UTBETALING'
| 'ANNET'`,elements:[{name:"literal",value:"'GRAD_AV_UAKTSOMHET'"},{name:"literal",value:"'HELT_ELLER_DELVIS_NAVS_FEIL'"},{name:"literal",value:"'STOERRELSE_BELOEP'"},{name:"literal",value:"'TID_FRA_UTBETALING'"},{name:"literal",value:"'ANNET'"}],required:!0}},{key:"ForeldelseVurderingType",value:{name:"ForeldelseVurderingType",required:!0}},{key:"VilkårResultat",value:{name:"union",raw:"'FORSTO_BURDE_FORSTAATT' | 'FEIL_OPPLYSNINGER' | 'MANGELFULL_OPPLYSNING' | 'GOD_TRO'",elements:[{name:"literal",value:"'FORSTO_BURDE_FORSTAATT'"},{name:"literal",value:"'FEIL_OPPLYSNINGER'"},{name:"literal",value:"'MANGELFULL_OPPLYSNING'"},{name:"literal",value:"'GOD_TRO'"}],required:!0}},{key:"HendelseUnderType",value:{name:"union",raw:"'IKKE_INNTEKT' | 'IKKE_YRKESAKTIV' | 'OKONOMI_FEIL_TREKK' | 'IKKE_BOSATT'",elements:[{name:"literal",value:"'IKKE_INNTEKT'"},{name:"literal",value:"'IKKE_YRKESAKTIV'"},{name:"literal",value:"'OKONOMI_FEIL_TREKK'"},{name:"literal",value:"'IKKE_BOSATT'"}],required:!0}},{key:"VidereBehandling",value:{name:"TilbakekrevingVidereBehandling",required:!0}}]},required:!0},value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}`,signature:{properties:[{key:"kode",value:{name:"unknown",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"kodeverk",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}>`}],raw:`KodeverkMedNavnTilbakekreving<
  K extends TilbakekrevingKodeverkType ? K : unknown
>[]`}}]}},description:""}}};var jl=(e=>(e.FORESLA_VEDTAK="5004",e))(jl||{}),Jl={exports:{}},Ke={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wl;function Dt(){if(Wl)return Ke;Wl=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(n,t,i){var s=null;if(i!==void 0&&(s=""+i),t.key!==void 0&&(s=""+t.key),"key"in t){i={};for(var u in t)u!=="key"&&(i[u]=t[u])}else i=t;return t=i.ref,{$$typeof:e,type:n,key:s,ref:t!==void 0?t:null,props:i}}return Ke.Fragment=a,Ke.jsx=l,Ke.jsxs=l,Ke}var Zl;function _t(){return Zl||(Zl=1,Jl.exports=Dt()),Jl.exports}var T=_t();const Kt="_addPeriodeButton_zdgvo_2",Vt={addPeriodeButton:Kt},Ir=Pe(3),Gt=he(4e3),Mt=[Ir,me],Ut=[D,Ir,me],Ht=({name:e,readOnly:a,fritekstPakrevet:l,maximumLength:n})=>{const{watch:t,control:i}=re(),s=t(e)===void 0,[u,v]=B.useState(s&&!l),g=l?Ut:Mt;g.push(n?he(n):Gt);const k=o=>{o.preventDefault(),v(!1)};return T.jsxs(T.Fragment,{children:[u&&!a&&T.jsx("div",{children:T.jsx(L,{icon:T.jsx(ra,{"aria-hidden":!0}),variant:"tertiary",type:"button",size:"xsmall",onClick:k,className:Vt.addPeriodeButton,children:T.jsx(d,{id:"TilbakekrevingVedtakUtdypendeTekstPanel.LeggTilUtdypendeTekst"})})}),!u&&T.jsx(ue,{name:e,control:i,label:T.jsx(d,{id:"TilbakekrevingVedtakUtdypendeTekstPanel.UtdypendeTekst"}),validate:g,maxLength:n||4e3,readOnly:a})]})},$t="_gulmarkering_xswfh_1",wt="_paddingTop_xswfh_6",Xl={gulmarkering:$t,paddingTop:wt},gl=({intl:e,vedtaksbrevAvsnitt:a,readOnly:l,perioderSomIkkeHarUtfyltObligatoriskVerdi:n,fritekstOppsummeringPakrevdMenIkkeUtfylt:t=!1,erRevurderingTilbakekrevingFeilBeløpBortfalt:i})=>T.jsxs(F,{gap:"space-16",children:[T.jsx(ke,{size:"small",level:"2",children:T.jsx(d,{id:"TilbakekrevingVedtak.Vedtaksbrev"})}),a.map(s=>{const u=s.underavsnittsliste,v=`${s.fom}_${s.tom}`,g=n.some(o=>o===v),k=s.avsnittstype==="OPPSUMMERING"&&t;return T.jsx(Al.Fragment,{children:T.jsxs(we,{size:"small","aria-label":v,defaultOpen:g||k,className:g||k?Xl.gulmarkering:"",children:[T.jsx(we.Header,{children:T.jsx(we.Title,{size:"small",children:s.overskrift?s.overskrift:e.formatMessage({id:"TilbakekrevingEditerVedtaksbrevPanel.LovhjemlerOgKlagerettOverskrift"})})}),T.jsx(we.Content,{children:T.jsx(F,{gap:"space-8",children:u.map(o=>T.jsxs(Al.Fragment,{children:[o.overskrift&&T.jsx(w,{className:Xl.paddingTop,children:o.overskrift}),o.brødtekst&&T.jsx(x,{children:o.brødtekst}),o.fritekstTillatt&&T.jsx(Ht,{name:o.underavsnittstype?`${v}.${o.underavsnittstype}`:s.avsnittstype,readOnly:l,fritekstPakrevet:o.fritekstPåkrevet,maximumLength:i?1e4:void 0})]},(o.underavsnittstype??"")+o.overskrift+o.brødtekst))})})]})},s.avsnittstype+s.fom)})]});gl.buildInitialValues=e=>e.filter(a=>a.underavsnittsliste.some(l=>l.fritekst)).reduce((a,l)=>{const n=l.underavsnittsliste.filter(i=>i.fritekst).reduce((i,s)=>({...i,[s.underavsnittstype?s.underavsnittstype:l.avsnittstype]:Re(s.fritekst)}),{}),t=l.fom?{[`${l.fom}_${l.tom}`]:n}:n;return{...a,...t}},{});const xr=e=>({oppsummeringstekst:e.OPPSUMMERING,perioderMedTekst:Object.entries(Fe(e,"OPPSUMMERING")).map(([a,l])=>({fom:a.split("_")[0],tom:a.split("_")[1],faktaAvsnitt:l.FAKTA,foreldelseAvsnitt:l.FORELDELSE,vilkaarAvsnitt:l.VILKÅR,saerligeGrunnerAvsnitt:l.SÆRLIGEGRUNNER,saerligeGrunnerAnnetAvsnitt:l.SÆRLIGEGRUNNER_ANNET}))}),Ct=(e,a)=>e.some(l=>l.avsnittstype==="OPPSUMMERING"&&l.underavsnittsliste.some(n=>n.fritekstPåkrevet)&&!a.OPPSUMMERING),zt=e=>({kode:jl.FORESLA_VEDTAK,...xr(e)}),Yt=(e,a)=>e.reduce((l,n)=>{const t=`${n.fom}_${n.tom}`,i=a[t];return n.underavsnittsliste.some(s=>s.fritekstPåkrevet&&s.underavsnittstype==="FAKTA")&&!i?.FAKTA||n.underavsnittsliste.some(s=>s.fritekstPåkrevet&&s.underavsnittstype==="SÆRLIGEGRUNNER_ANNET")&&!i?.SÆRLIGEGRUNNER_ANNET?l.concat(t):l},[]),Ql=(e,a,l)=>n=>{e({uuid:a,...xr(l)}),n.preventDefault()},qt=({submitCallback:e,readOnly:a,fetchPreviewVedtaksbrev:l,avsnittsliste:n,behandlingUuid:t,erRevurderingTilbakekrevingKlage:i,erRevurderingTilbakekrevingFeilBeløpBortfalt:s,formData:u,setFormData:v})=>{const g=n,k=u||gl.buildInitialValues(g),o=U(),E=je({defaultValues:k}),R=E.watch(),S=Ct(g,R),c=Yt(g,R),b=S||c.length>0;return T.jsx(Ae,{formMethods:E,onSubmit:A=>e(zt(A)),setDataOnUnmount:v,children:T.jsxs(F,{gap:"space-16",children:[T.jsx(gl,{intl:o,vedtaksbrevAvsnitt:g,readOnly:a,perioderSomIkkeHarUtfyltObligatoriskVerdi:c,fritekstOppsummeringPakrevdMenIkkeUtfylt:S,erRevurderingTilbakekrevingFeilBeløpBortfalt:s}),T.jsxs(O,{gap:"space-16",align:"center",children:[T.jsx(Fl,{text:o.formatMessage({id:"TilbakekrevingVedtakForm.TilGodkjenning"}),isReadOnly:a,isSubmittable:c.length===0&&!S,isSubmitting:E.formState.isSubmitting,hasErrors:b}),c.length===0&&T.jsx(la,{href:"",onClick:Ql(l,t,R),onKeyDown:A=>A.key==="Enter"?Ql(l,t,R)(A):null,children:T.jsx(d,{id:"TilbakekrevingVedtakForm.ForhandvisBrev"})})]}),i&&T.jsx(rl,{inline:!0,variant:"warning",contentMaxWidth:!1,children:T.jsx(d,{id:"TilbakekrevingVedtakForm.Infotekst.Klage"})})]})})},Jt=({perioder:e,kodeverkSamlingFpTilbake:a})=>T.jsxs(h,{children:[T.jsx(h.Header,{children:T.jsxs(h.Row,{children:[T.jsx(h.HeaderCell,{scope:"col",children:T.jsx(d,{id:"TilbakekrevingVedtakPeriodeTabell.Periode"})}),T.jsx(h.HeaderCell,{scope:"col",align:"right",children:T.jsx(d,{id:"TilbakekrevingVedtakPeriodeTabell.FeilutbetaltBelop"})}),T.jsx(h.HeaderCell,{scope:"col",children:T.jsx(d,{id:"TilbakekrevingVedtakPeriodeTabell.Vurdering"})}),T.jsx(h.HeaderCell,{scope:"col",align:"right",children:T.jsx(d,{id:"TilbakekrevingVedtakPeriodeTabell.AndelAvBelop"})}),T.jsx(h.HeaderCell,{scope:"col",align:"right",children:T.jsx(d,{id:"TilbakekrevingVedtakPeriodeTabell.Renter"})}),T.jsx(h.HeaderCell,{scope:"col",align:"right",children:T.jsx(d,{id:"TilbakekrevingVedtakPeriodeTabell.ForSkatt"})}),T.jsx(h.HeaderCell,{scope:"col",align:"right",children:T.jsx(d,{id:"TilbakekrevingVedtakPeriodeTabell.BelopSomTilbakekreves"})})]})}),T.jsxs(h.Body,{children:[e.map(l=>T.jsxs(h.Row,{children:[T.jsx(h.DataCell,{children:T.jsx(bl,{dateStringFom:l.periode.fom,dateStringTom:l.periode.tom})}),T.jsx(h.DataCell,{align:"right",children:T.jsx(ie,{beløp:l.feilutbetaltBeløp})}),T.jsx(h.DataCell,{children:a.Aktsomhet.find(n=>n.kode===l.vurdering)?.navn}),T.jsx(h.DataCell,{align:"right",children:l.andelAvBeløp!==void 0&&l.andelAvBeløp!==null?`${l.andelAvBeløp}%`:""}),T.jsx(h.DataCell,{align:"right",children:l.renterProsent?`${l.renterProsent}%`:""}),T.jsx(h.DataCell,{align:"right",children:T.jsx(ie,{beløp:l.tilbakekrevingBeløp})}),T.jsx(h.DataCell,{align:"right",children:T.jsx(ie,{beløp:l.tilbakekrevingBeløpEtterSkatt})})]},l.periode.fom)),T.jsxs(h.Row,{children:[T.jsx(h.HeaderCell,{children:T.jsx(d,{id:"TilbakekrevingVedtakPeriodeTabell.Sum"})}),T.jsx(h.HeaderCell,{align:"right",children:T.jsx(ie,{beløp:e.reduce((l,n)=>l+n.feilutbetaltBeløp,0)})}),T.jsx(h.DataCell,{}),T.jsx(h.DataCell,{}),T.jsx(h.DataCell,{}),T.jsx(h.HeaderCell,{align:"right",children:T.jsx(ie,{beløp:e.reduce((l,n)=>l+n.tilbakekrevingBeløp,0)})}),T.jsx(h.HeaderCell,{align:"right",children:T.jsx(ie,{beløp:e.reduce((l,n)=>l+n.tilbakekrevingBeløpEtterSkatt,0)})})]},"sum")]})]}),Wt=({submitCallback:e,readOnly:a,resultat:l,perioder:n,kodeverkSamlingFpTilbake:t,behandlingUuid:i,avsnittsliste:s,fetchPreviewVedtaksbrev:u,erRevurderingTilbakekrevingKlage:v,erRevurderingTilbakekrevingFeilBeløpBortfalt:g,formData:k,setFormData:o})=>T.jsxs(F,{gap:"space-24",maxWidth:"1200px",children:[T.jsx(ke,{size:"small",level:"2",children:T.jsx(d,{id:"TilbakekrevingVedtak.Vedtak"})}),T.jsxs("div",{children:[T.jsx(w,{children:T.jsx(d,{id:"TilbakekrevingVedtak.Resultat"})}),T.jsx(x,{children:t.VedtakResultatType.find(E=>E.kode===l)?.navn})]}),T.jsx(Jt,{perioder:n,kodeverkSamlingFpTilbake:t}),T.jsx(qt,{submitCallback:e,readOnly:a,behandlingUuid:i,avsnittsliste:s,fetchPreviewVedtaksbrev:u,erRevurderingTilbakekrevingKlage:v,erRevurderingTilbakekrevingFeilBeløpBortfalt:g,formData:k,setFormData:o})]}),Zt={"TilbakekrevingVedtak.Resultat":"Resultat","TilbakekrevingVedtak.Vedtaksbrev":"Vedtaksbrev","TilbakekrevingVedtak.Vedtak":"Vedtak","TilbakekrevingVedtakUtdypendeTekstPanel.LeggTilUtdypendeTekst":"Legg til utdypende tekst","TilbakekrevingVedtakUtdypendeTekstPanel.UtdypendeTekst":"Utdypende tekst","TilbakekrevingVedtakPeriodeTabell.Periode":"Periode","TilbakekrevingVedtakPeriodeTabell.FeilutbetaltBelop":"Feilutbetalt beløp","TilbakekrevingVedtakPeriodeTabell.Vurdering":"Vurdering","TilbakekrevingVedtakPeriodeTabell.AndelAvBelop":"Andel av beløp","TilbakekrevingVedtakPeriodeTabell.Renter":"Renter","TilbakekrevingVedtakPeriodeTabell.ForSkatt":"Beløp før skatt","TilbakekrevingVedtakPeriodeTabell.BelopSomTilbakekreves":"Beløp etter skatt","TilbakekrevingVedtakPeriodeTabell.Sum":"Sum","TilbakekrevingEditerVedtaksbrevPanel.LovhjemlerOgKlagerettOverskrift":"Lovhjemler og klagerett","TilbakekrevingVedtakForm.TilGodkjenning":"Til godkjenning","TilbakekrevingVedtakForm.ForhandvisBrev":"Forhåndsvis brev","TilbakekrevingVedtakForm.Infotekst.Klage":"Vedtaksbrev sendes ikke ut fra denne behandlingen, men må sendes av saksbehandler fra klagebehandlingen"},Xt=el(Zt),Qt=({behandlingUuid:e,beregningsresultat:a,isReadOnly:l,submitCallback:n,kodeverkSamlingFpTilbake:t,formData:i,setFormData:s,vedtaksbrev:u,fetchPreviewVedtaksbrev:v,erRevurderingTilbakekrevingKlage:g,erRevurderingTilbakekrevingFeilBeløpBortfalt:k})=>T.jsx(Qe,{value:Xt,children:T.jsx(Wt,{behandlingUuid:e,perioder:a.beregningResultatPerioder,resultat:a.vedtakResultatType,avsnittsliste:u.avsnittsliste,submitCallback:n,readOnly:l,kodeverkSamlingFpTilbake:t,fetchPreviewVedtaksbrev:v,erRevurderingTilbakekrevingKlage:g,erRevurderingTilbakekrevingFeilBeløpBortfalt:k,formData:i,setFormData:s})}),ei=[jl.FORESLA_VEDTAK],li=["RE-KLAGE-KA","RE-KLAGE-NFP"],Br=({tilbakekrevingKodeverk:e})=>{const a=U(),{behandling:l,alleBehandlinger:n}=B.use(Ue),i=n.filter(A=>!A.behandlingHenlagt).some(A=>A.type==="BT-004"&&A.status!=="AVSLU"),[s,u]=B.useState(!1),v=ti(u),g=Sl(ei,[],v),k=l.førsteÅrsak&&ai(l.førsteÅrsak.behandlingArsakType),o=l.førsteÅrsak&&l.førsteÅrsak.behandlingArsakType==="RE_FEILUTBETALT_BELØP_REDUSERT",E=tl(l),{data:R}=oe(E.tilbakekreving.beregningsresultatOptions(l)),{data:S}=oe(E.tilbakekreving.vedtaksbrevOptions(l)),{mutateAsync:c}=Pl({mutationFn:A=>Xr(A),onSuccess:Gr}),b=ir();return N.jsxs(N.Fragment,{children:[N.jsx(aa,{visModal:s,lukkModal:()=>{u(!1),b("/")},tekst:a.formatMessage({id:"FatterTilbakekrevingVedtakStatusModal.Sendt"})}),N.jsx(na,{harÅpenRevurdering:i}),N.jsx(fl,{standardPanelProps:g,prosessPanelKode:Rl.VEDTAK,prosessPanelMenyTekst:a.formatMessage({id:"Behandlingspunkt.Vedtak"}),skalPanelVisesIMeny:!0,overstyrtStatus:ni(l.behandlingsresultat),children:R&&S?N.jsx(ri,{beregningsresultat:R,vedtaksbrev:S,kodeverkSamlingFpTilbake:e,fetchPreviewVedtaksbrev:c,erRevurderingTilbakekrevingKlage:k??!1,erRevurderingTilbakekrevingFeilBeløpBortfalt:o??!1,...g,behandlingUuid:l.uuid}):N.jsx(Me,{})})]})},ri=e=>{const{mellomlagretFormData:a,setMellomlagretFormData:l}=ll();return N.jsx(Qt,{...e,formData:a,setFormData:l})},ai=e=>li.some(a=>a===e),ni=e=>{if(!e)return se.IKKE_VURDERT;const{type:a}=e;return a===dl.INGEN_TILBAKEBETALING?se.IKKE_OPPFYLT:a===dl.DELVIS_TILBAKEBETALING||a===dl.FULL_TILBAKEBETALING?se.OPPFYLT:se.IKKE_VURDERT},ti=e=>()=>(()=>{e(!0)});Br.__docgenInfo={description:"",methods:[],displayName:"VedtakTilbakekrevingProsessInitPanel",props:{tilbakekrevingKodeverk:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  [K in TilbakekrevingKodeverkType]: KodeverkMedNavnTilbakekreving<
    K extends TilbakekrevingKodeverkType ? K : unknown
  >[];
}`,signature:{properties:[{key:{name:"signature",type:"object",raw:`{
  BehandlingType: BehandlingType;
  BehandlingÅrsakType: BehandlingArsakType;
  BehandlingResultatType: BehandlingResultatTypeTilbakekreving;
  HistorikkAktør: HistorikkAktor;
  SkjermlenkeType: SkjermlenkeTypeTilbakekreving;
  Venteårsak: VenteArsakType;
  VurderÅrsak: VurderÅrsak;
  VergeType: VergeType;
  Aktsomhet: Aktsomhet;
  VedtakResultatType: VedtakResultatType;
  HendelseType: HendelseType;
  SærligGrunn: SærligGrunn;
  ForeldelseVurderingType: ForeldelseVurderingType;
  VilkårResultat: VilkårResultat;
  HendelseUnderType: HendelseUnderType;
  VidereBehandling: TilbakekrevingVidereBehandling;
}`,signature:{properties:[{key:"BehandlingType",value:{name:"union",raw:`| 'BT-002'
| 'BT-003'
| 'BT-004'
| 'BT-008'
| 'BT-006'
| 'BT-007'
| 'BT-009'
| '-'`,elements:[{name:"literal",value:"'BT-002'"},{name:"literal",value:"'BT-003'"},{name:"literal",value:"'BT-004'"},{name:"literal",value:"'BT-008'"},{name:"literal",value:"'BT-006'"},{name:"literal",value:"'BT-007'"},{name:"literal",value:"'BT-009'"},{name:"literal",value:"'-'"}],required:!0}},{key:"BehandlingÅrsakType",value:{name:"union",raw:`| 'RE-LOV'
| 'RE-RGLF'
| 'RE-FEFAKTA'
| 'RE-PRSSL'
| 'RE-ANNET'
| 'RE-MDL'
| 'RE-OPTJ'
| 'RE-FRDLING'
| 'RE-INNTK'
| 'RE-FØDSEL'
| 'RE-DØD'
| 'RE-SRTB'
| 'RE-FRIST'
| 'RE-BER-GRUN'
| 'RE-KLAG-U-INNTK'
| 'RE-KLAG-M-INNTK'
| 'ETTER_KLAGE'
| 'RE-MF'
| 'RE-MFIP'
| 'RE-AVAB'
| 'RE-END-FRA-BRUKER'
| 'RE-END-INNTEKTSMELD'
| 'BERØRT-BEHANDLING'
| 'REBEREGN-FERIEPENGER'
| 'RE-UTSATT-START'
| 'RE-SATS-REGULERING'
| 'ENDRE-DEKNINGSGRAD'
| 'INFOBREV_BEHANDLING'
| 'INFOBREV_OPPHOLD'
| 'INFOBREV_PÅMINNELSE'
| 'OPPHØR-NYTT-BARN'
| 'RE-HENDELSE-FØDSEL'
| 'RE-HENDELSE-DØD-F'
| 'RE-HENDELSE-DØD-B'
| 'RE-HENDELSE-DØDFØD'
| 'RE-HENDELSE-UTFLYTTING'
| 'RE-VEDTAK-PSB'
| 'FEIL_PRAKSIS_UTSETTELSE'
| 'FEIL_PRAKSIS_IVERKS_UTSET'
| 'FEIL_PRAKSIS_BG_AAP_KOMBI'
| 'KLAGE_TILBAKE'
| 'RE-YTELSE'
| 'RE-REGISTEROPPL'
| 'KØET-BEHANDLING'
| 'RE-TILST-YT-INNVIL'
| 'RE-TILST-YT-OPPH'
| '-'`,elements:[{name:"literal",value:"'RE-LOV'"},{name:"literal",value:"'RE-RGLF'"},{name:"literal",value:"'RE-FEFAKTA'"},{name:"literal",value:"'RE-PRSSL'"},{name:"literal",value:"'RE-ANNET'"},{name:"literal",value:"'RE-MDL'"},{name:"literal",value:"'RE-OPTJ'"},{name:"literal",value:"'RE-FRDLING'"},{name:"literal",value:"'RE-INNTK'"},{name:"literal",value:"'RE-FØDSEL'"},{name:"literal",value:"'RE-DØD'"},{name:"literal",value:"'RE-SRTB'"},{name:"literal",value:"'RE-FRIST'"},{name:"literal",value:"'RE-BER-GRUN'"},{name:"literal",value:"'RE-KLAG-U-INNTK'"},{name:"literal",value:"'RE-KLAG-M-INNTK'"},{name:"literal",value:"'ETTER_KLAGE'"},{name:"literal",value:"'RE-MF'"},{name:"literal",value:"'RE-MFIP'"},{name:"literal",value:"'RE-AVAB'"},{name:"literal",value:"'RE-END-FRA-BRUKER'"},{name:"literal",value:"'RE-END-INNTEKTSMELD'"},{name:"literal",value:"'BERØRT-BEHANDLING'"},{name:"literal",value:"'REBEREGN-FERIEPENGER'"},{name:"literal",value:"'RE-UTSATT-START'"},{name:"literal",value:"'RE-SATS-REGULERING'"},{name:"literal",value:"'ENDRE-DEKNINGSGRAD'"},{name:"literal",value:"'INFOBREV_BEHANDLING'"},{name:"literal",value:"'INFOBREV_OPPHOLD'"},{name:"literal",value:"'INFOBREV_PÅMINNELSE'"},{name:"literal",value:"'OPPHØR-NYTT-BARN'"},{name:"literal",value:"'RE-HENDELSE-FØDSEL'"},{name:"literal",value:"'RE-HENDELSE-DØD-F'"},{name:"literal",value:"'RE-HENDELSE-DØD-B'"},{name:"literal",value:"'RE-HENDELSE-DØDFØD'"},{name:"literal",value:"'RE-HENDELSE-UTFLYTTING'"},{name:"literal",value:"'RE-VEDTAK-PSB'"},{name:"literal",value:"'FEIL_PRAKSIS_UTSETTELSE'"},{name:"literal",value:"'FEIL_PRAKSIS_IVERKS_UTSET'"},{name:"literal",value:"'FEIL_PRAKSIS_BG_AAP_KOMBI'"},{name:"literal",value:"'KLAGE_TILBAKE'"},{name:"literal",value:"'RE-YTELSE'"},{name:"literal",value:"'RE-REGISTEROPPL'"},{name:"literal",value:"'KØET-BEHANDLING'"},{name:"literal",value:"'RE-TILST-YT-INNVIL'"},{name:"literal",value:"'RE-TILST-YT-OPPH'"},{name:"literal",value:"'-'"}],required:!0}},{key:"BehandlingResultatType",value:{name:"BehandlingResultatTypeTilbakekreving",required:!0}},{key:"HistorikkAktør",value:{name:"union",raw:`| 'BESL'
| 'SBH'
| 'SOKER'
| 'ARBEIDSGIVER'
| 'VL'
| '-'`,elements:[{name:"literal",value:"'BESL'"},{name:"literal",value:"'SBH'"},{name:"literal",value:"'SOKER'"},{name:"literal",value:"'ARBEIDSGIVER'"},{name:"literal",value:"'VL'"},{name:"literal",value:"'-'"}],required:!0}},{key:"SkjermlenkeType",value:{name:"SkjermlenkeTypeTilbakekreving",required:!0}},{key:"Venteårsak",value:{name:"VenteArsakType",required:!0}},{key:"VurderÅrsak",value:{name:"VurderÅrsak",required:!0}},{key:"VergeType",value:{name:"union",raw:`| 'BARN'
| 'FBARN'
| 'VOKSEN'
| 'ADVOKAT'
| 'ANNEN_F'`,elements:[{name:"literal",value:"'BARN'"},{name:"literal",value:"'FBARN'"},{name:"literal",value:"'VOKSEN'"},{name:"literal",value:"'ADVOKAT'"},{name:"literal",value:"'ANNEN_F'"}],required:!0}},{key:"Aktsomhet",value:{name:"union",raw:"'FORSETT' | 'GROVT_UAKTSOM' | 'SIMPEL_UAKTSOM'",elements:[{name:"literal",value:"'FORSETT'"},{name:"literal",value:"'GROVT_UAKTSOM'"},{name:"literal",value:"'SIMPEL_UAKTSOM'"}],required:!0}},{key:"VedtakResultatType",value:{name:"VedtakResultatType",required:!0}},{key:"HendelseType",value:{name:"union",raw:"'MEDLEMSKAP' | 'OKONOMI_FEIL' | 'BEREGNING_TYPE'",elements:[{name:"literal",value:"'MEDLEMSKAP'"},{name:"literal",value:"'OKONOMI_FEIL'"},{name:"literal",value:"'BEREGNING_TYPE'"}],required:!0}},{key:"SærligGrunn",value:{name:"union",raw:`| 'GRAD_AV_UAKTSOMHET'
| 'HELT_ELLER_DELVIS_NAVS_FEIL'
| 'STOERRELSE_BELOEP'
| 'TID_FRA_UTBETALING'
| 'ANNET'`,elements:[{name:"literal",value:"'GRAD_AV_UAKTSOMHET'"},{name:"literal",value:"'HELT_ELLER_DELVIS_NAVS_FEIL'"},{name:"literal",value:"'STOERRELSE_BELOEP'"},{name:"literal",value:"'TID_FRA_UTBETALING'"},{name:"literal",value:"'ANNET'"}],required:!0}},{key:"ForeldelseVurderingType",value:{name:"ForeldelseVurderingType",required:!0}},{key:"VilkårResultat",value:{name:"union",raw:"'FORSTO_BURDE_FORSTAATT' | 'FEIL_OPPLYSNINGER' | 'MANGELFULL_OPPLYSNING' | 'GOD_TRO'",elements:[{name:"literal",value:"'FORSTO_BURDE_FORSTAATT'"},{name:"literal",value:"'FEIL_OPPLYSNINGER'"},{name:"literal",value:"'MANGELFULL_OPPLYSNING'"},{name:"literal",value:"'GOD_TRO'"}],required:!0}},{key:"HendelseUnderType",value:{name:"union",raw:"'IKKE_INNTEKT' | 'IKKE_YRKESAKTIV' | 'OKONOMI_FEIL_TREKK' | 'IKKE_BOSATT'",elements:[{name:"literal",value:"'IKKE_INNTEKT'"},{name:"literal",value:"'IKKE_YRKESAKTIV'"},{name:"literal",value:"'OKONOMI_FEIL_TREKK'"},{name:"literal",value:"'IKKE_BOSATT'"}],required:!0}},{key:"VidereBehandling",value:{name:"TilbakekrevingVidereBehandling",required:!0}}]},required:!0},value:{name:"Array",elements:[{name:"Readonly",elements:[{name:"signature",type:"object",raw:`{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}`,signature:{properties:[{key:"kode",value:{name:"unknown",required:!0}},{key:"navn",value:{name:"string",required:!0}},{key:"kodeverk",value:{name:"string",required:!0}}]}}],raw:`Readonly<{
  kode: EnumOrUnknown<T>;
  navn: string;
  kodeverk: string;
}>`}],raw:`KodeverkMedNavnTilbakekreving<
  K extends TilbakekrevingKodeverkType ? K : unknown
>[]`}}]}},description:""}}};const ii=({valgtProsessSteg:e,valgtFaktaSteg:a})=>{const{behandling:l}=B.use(Ue),n=Ur(),{data:t}=oe(n.fptilbake.kodeverkOptions()),i=ir();return t?N.jsxs(N.Fragment,{children:[N.jsx(zr,{behandling:l,opneSokeside:()=>void i("/"),kodeverk:t,erTilbakekreving:!0},l.versjon),N.jsxs(Yr,{valgtProsessSteg:e,valgtFaktaSteg:a,children:[N.jsx(fr,{tilbakekrevingKodeverk:t}),N.jsx(Nr,{tilbakekrevingKodeverk:t}),N.jsx(Br,{tilbakekrevingKodeverk:t})]}),N.jsxs(wr,{valgtFaktaSteg:a,valgtProsessSteg:e,children:[N.jsx(Sr,{tilbakekrevingKodeverk:t}),N.jsx(Cr,{})]})]}):N.jsx(Me,{})};ii.__docgenInfo={description:"",methods:[],displayName:"TilbakekrevingPaneler",props:{valgtProsessSteg:{required:!1,tsType:{name:"string"},description:""},valgtFaktaSteg:{required:!1,tsType:{name:"string"},description:""}}};export{ii as default};
