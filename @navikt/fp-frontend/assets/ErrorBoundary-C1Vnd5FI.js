import{r as d,j as o}from"./iframe-DZkjYhtA.js";import{E as Y}from"./IngenBehandlingValgtPanel-CuUwca0f.js";import{E as j}from"./VStack-BWJvbKuX.js";const E={errors:[]},w=d.createContext(E),U=d.createContext(void 0),H=({children:t,initialState:e})=>{const[r,n]=d.useReducer((s,i)=>{switch(i.type){case"add":return{errors:s.errors.concat(i.data)};case"remove":return E;default:throw new Error("Action type doesn't exist")}},e||E);return o.jsx(w.Provider,{value:r,children:o.jsx(U.Provider,{value:n,children:t})})},Se=()=>{const t=d.useContext(U);return{addErrorMessage:n=>{t&&t({type:"add",data:n})},removeErrorMessages:()=>{t&&t({type:"remove"})}}},Re=()=>d.useContext(w).errors;H.__docgenInfo={description:"Tilbyr kontekst for lagring av feilmeldinger.",methods:[],displayName:"RestApiErrorProvider",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},initialState:{required:!1,tsType:{name:"signature",type:"object",raw:"{ errors: FpError[] }",signature:{properties:[{key:"errors",value:{name:"Array",elements:[{name:"union",raw:`| GeneralError
| PollingTimeoutError
| RequestForbiddenError
| RequestUnauthorizedError
| RequestGatewayTimeoutOrNotFoundError
| PollingHaltedError
| PollingDelayedError`,elements:[{name:"signature",type:"object",raw:`{
  type: ErrorType.GENERAL_ERROR;
  message: string;
}`,signature:{properties:[{key:"type",value:{name:"ErrorType.GENERAL_ERROR",required:!0}},{key:"message",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  type: ErrorType.POLLING_TIMEOUT;
  message: string;
  location: string;
}`,signature:{properties:[{key:"type",value:{name:"ErrorType.POLLING_TIMEOUT",required:!0}},{key:"message",value:{name:"string",required:!0}},{key:"location",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  type: ErrorType.REQUEST_FORBIDDEN;
  message: string;
}`,signature:{properties:[{key:"type",value:{name:"ErrorType.REQUEST_FORBIDDEN",required:!0}},{key:"message",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  type: ErrorType.REQUEST_UNAUTHORIZED;
  message: string;
}`,signature:{properties:[{key:"type",value:{name:"ErrorType.REQUEST_UNAUTHORIZED",required:!0}},{key:"message",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  type: ErrorType.REQUEST_GATEWAY_TIMEOUT_OR_NOT_FOUND;
  location: string;
}`,signature:{properties:[{key:"type",value:{name:"ErrorType.REQUEST_GATEWAY_TIMEOUT_OR_NOT_FOUND",required:!0}},{key:"location",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  type: ErrorType.POLLING_HALTED_OR_DELAYED;
  status: 'HALTED';
  message: string;
}`,signature:{properties:[{key:"type",value:{name:"ErrorType.POLLING_HALTED_OR_DELAYED",required:!0}},{key:"status",value:{name:"literal",value:"'HALTED'",required:!0}},{key:"message",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  type: ErrorType.POLLING_HALTED_OR_DELAYED;
  status: 'DELAYED';
  message: string;
  eta: string;
}`,signature:{properties:[{key:"type",value:{name:"ErrorType.POLLING_HALTED_OR_DELAYED",required:!0}},{key:"status",value:{name:"literal",value:"'DELAYED'",required:!0}},{key:"message",value:{name:"string",required:!0}},{key:"eta",value:{name:"string",required:!0}}]}}]}],raw:"FpError[]",required:!0}}]}},description:""}}};var P=(t=>(t.GENERAL_ERROR="GENERAL_ERROR",t.POLLING_TIMEOUT="POLLING_TIMEOUT",t.POLLING_HALTED_OR_DELAYED="POLLING_HALTED_OR_DELAYED",t.REQUEST_GATEWAY_TIMEOUT_OR_NOT_FOUND="REQUEST_GATEWAY_TIMEOUT_OR_NOT_FOUND",t.REQUEST_FORBIDDEN="REQUEST_FORBIDDEN",t.REQUEST_UNAUTHORIZED="REQUEST_UNAUTHORIZED",t))(P||{});const p=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,a=globalThis,l="10.19.0";function f(){return y(a),a}function y(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||l,e[l]=e[l]||{}}function T(t,e,r=a){const n=r.__SENTRY__=r.__SENTRY__||{},s=n[l]=n[l]||{};return s[t]||(s[t]=e())}const B="Sentry Logger ",O={};function Q(t){if(!("console"in a))return t();const e=a.console,r={},n=Object.keys(O);n.forEach(s=>{const i=O[s];r[s]=e[s],e[s]=i});try{return t()}finally{n.forEach(s=>{e[s]=r[s]})}}function $(){R().enabled=!0}function W(){R().enabled=!1}function q(){return R().enabled}function Z(...t){S("log",...t)}function V(...t){S("warn",...t)}function z(...t){S("error",...t)}function S(t,...e){p&&q()&&Q(()=>{a.console[t](`${B}[${t}]:`,...e)})}function R(){return p?T("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const h={enable:$,disable:W,isEnabled:q,log:Z,warn:V,error:z},K=Object.prototype.toString;function X(t,e){return K.call(t)===`[object ${e}]`}function J(t){return X(t,"Object")}function ee(t){return!!(t?.then&&typeof t.then=="function")}function te(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function re(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{p&&h.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function ne(){const t=a;return t.crypto||t.msCrypto}function g(t=ne()){let e=()=>Math.random()*16;try{if(t?.randomUUID)return t.randomUUID().replace(/-/g,"");t?.getRandomValues&&(e=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(e()&15)>>r/4).toString(16))}const C=1e3;function M(){return Date.now()/C}function se(){const{performance:t}=a;if(!t?.now||!t.timeOrigin)return M;const e=t.timeOrigin;return()=>(e+t.now())/C}let A;function ie(){return(A??(A=se()))()}function ae(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||ie(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:g()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function x(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&Object.keys(e).length===0)return t;const n={...t};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=x(n[s],e[s],r-1));return n}function b(){return g()}const m="_sentrySpan";function N(t,e){e?re(t,m,e):delete t[m]}function I(t){return t[m]}const oe=100;class u{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:b(),sampleRand:Math.random()}}clone(){const e=new u;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,N(e,I(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ae(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const r=typeof e=="function"?e(this):e,n=r instanceof u?r.getScopeData():J(r)?e:void 0,{tags:s,extra:i,user:c,contexts:F,level:L,fingerprint:v=[],propagationContext:D}=n||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...i},this._contexts={...this._contexts,...F},c&&Object.keys(c).length&&(this._user=c),L&&(this._level=L),v.length&&(this._fingerprint=v),D&&(this._propagationContext=D),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,N(this,void 0),this._attachments=[],this.setPropagationContext({traceId:b(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){const n=typeof r=="number"?r:oe;if(n<=0)return this;const s={timestamp:M(),...e,message:e.message?te(e.message,2048):e.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:I(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=x(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,r){const n=r?.event_id||g();if(!this._client)return p&&h.warn("No client configured on scope - will not capture exception!"),n;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...r,event_id:n},this),n}captureMessage(e,r,n){const s=n?.event_id||g();if(!this._client)return p&&h.warn("No client configured on scope - will not capture message!"),s;const i=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:i,...n,event_id:s},this),s}captureEvent(e,r){const n=r?.event_id||g();return this._client?(this._client.captureEvent(e,{...r,event_id:n},this),n):(p&&h.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function ue(){return T("defaultCurrentScope",()=>new u)}function ce(){return T("defaultIsolationScope",()=>new u)}class pe{constructor(e,r){let n;e?n=e:n=new u;let s;r?s=r:s=new u,this._stack=[{scope:n}],this._isolationScope=s}withScope(e){const r=this._pushScope();let n;try{n=e(r)}catch(s){throw this._popScope(),s}return ee(n)?n.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function _(){const t=f(),e=y(t);return e.stack=e.stack||new pe(ue(),ce())}function _e(t){return _().withScope(t)}function de(t,e){const r=_();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}function k(t){return _().withScope(()=>t(_().getIsolationScope()))}function le(){return{withIsolationScope:k,withScope:_e,withSetScope:de,withSetIsolationScope:(t,e)=>k(e),getCurrentScope:()=>_().getScope(),getIsolationScope:()=>_().getIsolationScope()}}function G(t){const e=y(t);return e.acs?e.acs:le()}function ge(){const t=f();return G(t).getCurrentScope()}function he(...t){const e=f(),r=G(e);if(t.length===2){const[n,s]=t;return n?r.withSetScope(n,s):r.withScope(s)}return r.withScope(t[0])}function Ee(t,e){return ge().captureException(t,void 0)}class me extends d.Component{static defaultProps={showChild:!1};constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,r){const{errorMessageCallback:n}=this.props;he(i=>{for(const c of Object.entries(r))i.setExtra(c[0],c[1]),Ee(e)});const s=r.componentStack?[e.toString(),r.componentStack.split(`
`).map(i=>i.trim()).find(i=>!!i)].join(" "):e.toString();n({type:P.GENERAL_ERROR,message:s}),console.error(e)}render(){const{children:e,showChild:r,errorMessage:n}=this.props,{hasError:s}=this.state;return s?n?o.jsx(j,{size:"small",style:{margin:"20px"},children:n}):o.jsxs(o.Fragment,{children:[r&&o.jsx("div",{style:{marginTop:"150px"},children:e}),o.jsx(Y,{})]}):e}}me.__docgenInfo={description:"",methods:[],displayName:"ErrorBoundary",props:{errorMessageCallback:{required:!0,tsType:{name:"signature",type:"function",raw:"(error: FpError) => void",signature:{arguments:[{type:{name:"union",raw:`| GeneralError
| PollingTimeoutError
| RequestForbiddenError
| RequestUnauthorizedError
| RequestGatewayTimeoutOrNotFoundError
| PollingHaltedError
| PollingDelayedError`,elements:[{name:"signature",type:"object",raw:`{
  type: ErrorType.GENERAL_ERROR;
  message: string;
}`,signature:{properties:[{key:"type",value:{name:"ErrorType.GENERAL_ERROR",required:!0}},{key:"message",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  type: ErrorType.POLLING_TIMEOUT;
  message: string;
  location: string;
}`,signature:{properties:[{key:"type",value:{name:"ErrorType.POLLING_TIMEOUT",required:!0}},{key:"message",value:{name:"string",required:!0}},{key:"location",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  type: ErrorType.REQUEST_FORBIDDEN;
  message: string;
}`,signature:{properties:[{key:"type",value:{name:"ErrorType.REQUEST_FORBIDDEN",required:!0}},{key:"message",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  type: ErrorType.REQUEST_UNAUTHORIZED;
  message: string;
}`,signature:{properties:[{key:"type",value:{name:"ErrorType.REQUEST_UNAUTHORIZED",required:!0}},{key:"message",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  type: ErrorType.REQUEST_GATEWAY_TIMEOUT_OR_NOT_FOUND;
  location: string;
}`,signature:{properties:[{key:"type",value:{name:"ErrorType.REQUEST_GATEWAY_TIMEOUT_OR_NOT_FOUND",required:!0}},{key:"location",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  type: ErrorType.POLLING_HALTED_OR_DELAYED;
  status: 'HALTED';
  message: string;
}`,signature:{properties:[{key:"type",value:{name:"ErrorType.POLLING_HALTED_OR_DELAYED",required:!0}},{key:"status",value:{name:"literal",value:"'HALTED'",required:!0}},{key:"message",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  type: ErrorType.POLLING_HALTED_OR_DELAYED;
  status: 'DELAYED';
  message: string;
  eta: string;
}`,signature:{properties:[{key:"type",value:{name:"ErrorType.POLLING_HALTED_OR_DELAYED",required:!0}},{key:"status",value:{name:"literal",value:"'DELAYED'",required:!0}},{key:"message",value:{name:"string",required:!0}},{key:"eta",value:{name:"string",required:!0}}]}}]},name:"error"}],return:{name:"void"}}},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""},errorMessage:{required:!1,tsType:{name:"string"},description:""},showChild:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{P as E,H as R,Re as a,me as b,Se as u};
