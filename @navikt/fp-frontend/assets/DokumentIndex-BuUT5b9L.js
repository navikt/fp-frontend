import{r as j,h as c,l as D,j as e,P as q,e as N}from"./iframe-CATwZ9H1.js";import{G as S,Z as O}from"./index.es-DbVcImu2.js";import{a as C,u as A}from"./fagsakApi-BbPOB7xa.js";import{å as B,D as R}from"./FaktaKort-BXj2m514.js";import{u as L,B as b,b as F}from"./VStack-BlQMLbO0.js";import{M as d}from"./message-BQdAxR27.js";import{T as l}from"./Table-DeYkzbw4.js";import{a as I}from"./Checkbox-CykzUAVB.js";import{S as U,a as z}from"./StarFill-JCG7Yrsa.js";import{S as E}from"./SupportHeader-D_WDjTOg.js";var M=function(n,s){var a={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&s.indexOf(r)<0&&(a[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)s.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(a[r[i]]=n[r[i]]);return a};const P=j.forwardRef((n,s)=>{var{title:a,titleId:r}=n,i=M(n,["title","titleId"]);let o=L();return o=a?r||"title-"+o:void 0,c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":o},i),a?c.createElement("title",{id:o},a):null,c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25m1.53 6.78a.75.75 0 0 0-1.06-1.06l-3.5 3.5a.75.75 0 0 0 0 1.06l3.5 3.5a.75.75 0 1 0 1.06-1.06L10.56 12z",clipRule:"evenodd"}))});var H=function(n,s){var a={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&s.indexOf(r)<0&&(a[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)s.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(a[r[i]]=n[r[i]]);return a};const V=j.forwardRef((n,s)=>{var{title:a,titleId:r}=n,i=H(n,["title","titleId"]);let o=L();return o=a?r||"title-"+o:void 0,c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":o},i),a?c.createElement("title",{id:o},a):null,c.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.293 8.707a.25.25 0 0 0 0-.353l-2.646-2.647a.25.25 0 0 0-.354 0l-3.626 3.626a1 1 0 0 0-.242.391l-1.267 3.802a.25.25 0 0 0 .316.316l3.802-1.267a1 1 0 0 0 .39-.242zm1.06-1.414a.25.25 0 0 0 .354 0L20.5 6.5a2.121 2.121 0 0 0-3-3l-.793.793a.25.25 0 0 0 0 .353zm-4.151-3.616a.25.25 0 0 0-.177-.427H5A1.75 1.75 0 0 0 3.25 5v14c0 .966.784 1.75 1.75 1.75h14A1.75 1.75 0 0 0 20.75 19V8.975a.25.25 0 0 0-.427-.177l-4.595 4.596a2.5 2.5 0 0 1-.978.604l-3.801 1.267c-1.368.456-2.67-.846-2.214-2.214l1.267-3.801a2.5 2.5 0 0 1 .604-.978z",clipRule:"evenodd"}))}),K="_image_1szuw_1",G="_noDocuments_1szuw_6",Z="_kommunikasjonsretning_1szuw_9",Q="_openDocumentButton_1szuw_18",g={image:K,noDocuments:G,kommunikasjonsretning:Z,openDocumentButton:Q},$=({kommunikasjonsretning:n})=>{const s=D();return n==="INN"?e.jsxs("span",{className:g.kommunikasjonsretning,children:[e.jsx(z,{color:"var(--ax-meta-purple-900)",width:25,height:25,title:s.formatMessage({id:"DocumentList.Motta"})}),e.jsx(d,{id:"DocumentList.Motta"})]}):n==="UT"?e.jsxs("span",{className:g.kommunikasjonsretning,children:[e.jsx(P,{color:"var(--ax-meta-purple-500)",width:25,height:25,title:s.formatMessage({id:"DocumentList.Send"})}),e.jsx(d,{id:"DocumentList.Send"})]}):e.jsxs("span",{className:g.kommunikasjonsretning,children:[e.jsx(V,{color:"var(--ax-neutral-800)",width:25,height:25,title:s.formatMessage({id:"DocumentList.Intern"})}),e.jsx(d,{id:"DocumentList.Intern"})]})},w=({documents:n,behandlingUuid:s,saksnummer:a})=>{const r=D(),[i,o]=j.useState([]),h=t=>o(m=>m.includes(t)?m.filter(f=>f!==t):[...m,t]),[u,p]=j.useState({orderBy:"tidspunkt",direction:"descending"}),_=t=>{p(u&&t===u.orderBy&&u.direction==="descending"?void 0:{orderBy:t,direction:u&&t===u.orderBy&&u.direction==="ascending"?"descending":"ascending"})},x=(t,m,f)=>{const y=t[f],v=m[f];return!y||!v||v<y?-1:v>y?1:0},k=n.slice().sort((t,m)=>u?u.direction==="ascending"?x(m,t,u.orderBy):x(t,m,u.orderBy):1);return n.length===0?e.jsx(b,{size:"small",className:g.noDocuments,children:e.jsx(d,{id:"DocumentList.NoDocuments"})}):e.jsxs(e.Fragment,{children:[i.length>0&&e.jsx(F,{onClick:()=>n.filter(t=>i.includes(t.dokumentId)).forEach(t=>{B(a,t.journalpostId,t.dokumentId,t.tittel??void 0)}),className:g.openDocumentButton,size:"small",variant:"primary",children:e.jsx(d,{id:"DocumentList.LastNedKnapp",values:{antall:i.length}})}),e.jsxs(l,{size:"small",sort:u,onSortChange:t=>_(t),children:[e.jsx(l.Header,{children:e.jsxs(l.Row,{children:[e.jsx(l.HeaderCell,{children:e.jsx(I,{checked:i.length===k.length,indeterminate:i.length>0&&i.length!==k.length,onChange:()=>i.length>0?o([]):o(k.map(({dokumentId:t})=>t)),hideLabel:!0,children:"Velg alle rader"})}),e.jsx(l.ColumnHeader,{sortKey:"kommunikasjonsretning",sortable:!0,children:e.jsx(d,{id:"DocumentList.Direction"})}),e.jsx(l.ColumnHeader,{sortKey:"tittel",sortable:!0,children:e.jsx(d,{id:"DocumentList.DocumentType"})}),e.jsx(l.ColumnHeader,{sortKey:"gjelderFor",sortable:!0,children:e.jsx(d,{id:"DocumentList.Gjelder"})}),e.jsx(l.ColumnHeader,{sortKey:"tidspunkt",sortable:!0,children:e.jsx(d,{id:"DocumentList.DateTime"})})]})}),e.jsx(l.Body,{children:k.map(t=>e.jsxs(l.Row,{children:[e.jsx(l.DataCell,{children:e.jsx(I,{hideLabel:!0,checked:i.includes(t.dokumentId),onChange:()=>h(t.dokumentId),"aria-labelledby":t.tittel??void 0,children:" "})}),e.jsx(l.DataCell,{children:e.jsx($,{kommunikasjonsretning:t.kommunikasjonsretning})}),e.jsxs(l.DataCell,{scope:"row",children:[t.behandlingUuidList&&s&&t.behandlingUuidList.includes(s)&&e.jsx(U,{className:g.image,title:r.formatMessage({id:"DocumentList.IBruk"})}),e.jsx(R,{saksnummer:a,journalpostId:t.journalpostId,dokumentId:t.dokumentId,dokumentTittel:t.tittel??void 0})]}),e.jsx(l.DataCell,{children:t.gjelderFor}),e.jsx(l.DataCell,{children:t.tidspunkt?e.jsx(S,{dateTimeString:t.tidspunkt}):e.jsx(b,{size:"small",children:e.jsx(d,{id:"DocumentList.IProduksjon"})})})]},t.dokumentId))})]})]})};w.__docgenInfo={description:`DocumentList

Presentasjonskomponent. Viser dokumenter i en liste. Tar også inn en callback-funksjon som blir
trigget når saksbehandler velger et dokument. Finnes ingen dokumenter blir det kun vist en label
som viser at ingen dokumenter finnes på fagsak.`,methods:[],displayName:"DocumentList",props:{documents:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  arbeidsgiverReferanse?: string;
  behandlingUuidList?: Array<string>;
  behandlinger?: Array<number>;
  dokumentId: string;
  gjelderFor?: string;
  journalpostId: string;
  kommunikasjonsretning: foreldrepenger_dokumentarkiv_Kommunikasjonsretning;
  tidspunkt?: string;
  tittel?: string;
}`,signature:{properties:[{key:"arbeidsgiverReferanse",value:{name:"string",required:!1}},{key:"behandlingUuidList",value:{name:"Array",elements:[{name:"string"}],raw:"Array<string>",required:!1}},{key:"behandlinger",value:{name:"Array",elements:[{name:"number"}],raw:"Array<number>",required:!1}},{key:"dokumentId",value:{name:"string",required:!0}},{key:"gjelderFor",value:{name:"string",required:!1}},{key:"journalpostId",value:{name:"string",required:!0}},{key:"kommunikasjonsretning",value:{name:"union",raw:"'INN' | 'UT' | 'NOTAT'",elements:[{name:"literal",value:"'INN'"},{name:"literal",value:"'UT'"},{name:"literal",value:"'NOTAT'"}],required:!0}},{key:"tidspunkt",value:{name:"string",required:!1}},{key:"tittel",value:{name:"string",required:!1}}]}}],raw:"Dokument[]"},description:""},behandlingUuid:{required:!1,tsType:{name:"string"},description:""},saksnummer:{required:!0,tsType:{name:"string"},description:""}}};const J={"DocumentList.Direction":"Inn/ut","DocumentList.DocumentType":"Dokument","DocumentList.Gjelder":"Gjelder","DocumentList.DateTime":"Dato","DocumentList.NoDocuments":"Det finnes ingen dokumenter på saken","DocumentList.Motta":"Inn","DocumentList.Send":"Ut","DocumentList.Intern":"Intern","DocumentList.IProduksjon":"I bestilling","DocumentList.IBruk":"Brukes i behandlingen","DocumentList.LastNedKnapp":"{antall, plural, one {Åpne # valgt dokument} other {Åpne # valgte dokumenter}}"},W=N(J),T=n=>e.jsx(q,{value:W,children:e.jsx(w,{...n})});T.__docgenInfo={description:"",methods:[],displayName:"DokumenterSakIndex",props:{documents:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  arbeidsgiverReferanse?: string;
  behandlingUuidList?: Array<string>;
  behandlinger?: Array<number>;
  dokumentId: string;
  gjelderFor?: string;
  journalpostId: string;
  kommunikasjonsretning: foreldrepenger_dokumentarkiv_Kommunikasjonsretning;
  tidspunkt?: string;
  tittel?: string;
}`,signature:{properties:[{key:"arbeidsgiverReferanse",value:{name:"string",required:!1}},{key:"behandlingUuidList",value:{name:"Array",elements:[{name:"string"}],raw:"Array<string>",required:!1}},{key:"behandlinger",value:{name:"Array",elements:[{name:"number"}],raw:"Array<number>",required:!1}},{key:"dokumentId",value:{name:"string",required:!0}},{key:"gjelderFor",value:{name:"string",required:!1}},{key:"journalpostId",value:{name:"string",required:!0}},{key:"kommunikasjonsretning",value:{name:"union",raw:"'INN' | 'UT' | 'NOTAT'",elements:[{name:"literal",value:"'INN'"},{name:"literal",value:"'UT'"},{name:"literal",value:"'NOTAT'"}],required:!0}},{key:"tidspunkt",value:{name:"string",required:!1}},{key:"tittel",value:{name:"string",required:!1}}]}}],raw:"Dokument[]"},description:""},saksnummer:{required:!0,tsType:{name:"string"},description:""},behandlingUuid:{required:!1,tsType:{name:"string"},description:""}}};const X=(n,s)=>n.tidspunkt?s.tidspunkt?s.tidspunkt.localeCompare(n.tidspunkt):-1:1,Y=({behandlingUuid:n,behandlingVersjon:s,saksnummer:a,toggleVisUtvidetBehandlingDetaljerKnapp:r})=>{const i=C(),o=D(),{data:h=[],status:u}=A(i.hentDokumenter(a,n,s));if(u==="pending")return e.jsx(O,{});const p=h.toSorted(X);return e.jsx(E,{tekst:o.formatMessage({id:"DokumentIndex.Dokumenter"}),antall:p.length,toggleVisUtvidetBehandlingDetaljerKnapp:r,children:e.jsx(T,{documents:p,saksnummer:a,behandlingUuid:n})})};Y.__docgenInfo={description:`DokumentIndex

 Har ansvar for å hente sakens dokumenter fra state og rendre det i en liste.`,methods:[],displayName:"DokumentIndex",props:{saksnummer:{required:!0,tsType:{name:"string"},description:""},behandlingUuid:{required:!1,tsType:{name:"string"},description:""},behandlingVersjon:{required:!1,tsType:{name:"number"},description:""},toggleVisUtvidetBehandlingDetaljerKnapp:{required:!0,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:""}}};export{Y as D};
